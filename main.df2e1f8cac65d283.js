(self.webpackChunkapp=self.webpackChunkapp||[]).push([[792],{52191:(We,j,_)=>{var y=_(40573);const b="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,P=()=>b.now(),w=S=>S===1/0||(S=>S&&S===Math.floor(S)&&S>0&&isFinite(S))(S);class O{constructor({max:B=1/0,ttl:N,updateAgeOnGet:U=!1,checkAgeOnGet:A=!1,noUpdateTTL:G=!1,dispose:L,noDisposeOnSet:z=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==N&&!w(N))throw new TypeError("ttl must be positive integer or Infinity if set");if(!w(B))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=N,this.max=B,this.updateAgeOnGet=!!U,this.checkAgeOnGet=!!A,this.noUpdateTTL=!!G,this.noDisposeOnSet=!!z,void 0!==L){if("function"!=typeof L)throw new TypeError("dispose must be function if set");this.dispose=L}this.timer=void 0,this.timerExpiration=void 0}setTimer(B,N){if(this.timerExpiration<B)return;this.timer&&clearTimeout(this.timer);const U=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const A in this.expirations){this.setTimer(A,A-P());break}},N);U.unref&&U.unref(),this.timerExpiration=B,this.timer=U}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return y.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const B=this.dispose!==O.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[N,U]of B)this.dispose(U,N,"delete")}setTTL(B,N=this.ttl){const U=this.expirationMap.get(B);if(void 0!==U){const A=this.expirations[U];!A||A.length<=1?delete this.expirations[U]:this.expirations[U]=A.filter(G=>G!==B)}if(N!==1/0){const A=Math.floor(P()+N);this.expirationMap.set(B,A),this.expirations[A]||(this.expirations[A]=[],this.setTimer(A,N)),this.expirations[A].push(B)}else this.expirationMap.set(B,1/0)}set(B,N,{ttl:U=this.ttl,noUpdateTTL:A=this.noUpdateTTL,noDisposeOnSet:G=this.noDisposeOnSet}={}){if(!w(U))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(B)){A||this.setTTL(B,U);const L=this.data.get(B);L!==N&&(this.data.set(B,N),G||this.dispose(L,B,"set"))}else this.setTTL(B,U),this.data.set(B,N);for(;this.size>this.max;)this.purgeToCapacity();return this}has(B){return this.data.has(B)}getRemainingTTL(B){const N=this.expirationMap.get(B);return N===1/0?N:void 0!==N?Math.max(0,Math.ceil(N-P())):0}get(B,{updateAgeOnGet:N=this.updateAgeOnGet,ttl:U=this.ttl,checkAgeOnGet:A=this.checkAgeOnGet}={}){const G=this.data.get(B);if(!A||0!==this.getRemainingTTL(B))return N&&this.setTTL(B,U),G;this.delete(B)}dispose(B,N){}delete(B){const N=this.expirationMap.get(B);if(void 0!==N){const U=this.data.get(B);this.data.delete(B),this.expirationMap.delete(B);const A=this.expirations[N];return A&&(A.length<=1?delete this.expirations[N]:this.expirations[N]=A.filter(G=>G!==B)),this.dispose(U,B,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const B in this.expirations){const N=this.expirations[B];if(!(this.size-N.length>=this.max)){const U=this.size-this.max,A=[];for(const G of N.splice(0,U))A.push([G,this.data.get(G)]),this.data.delete(G),this.expirationMap.delete(G);for(const[G,L]of A)this.dispose(L,G,"evict");return}{delete this.expirations[B];const U=[];for(const A of N)U.push([A,this.data.get(A)]),this.data.delete(A),this.expirationMap.delete(A);for(const[A,G]of U)this.dispose(G,A,"evict")}}}get size(){return this.data.size}purgeStale(){const B=Math.ceil(P());for(const N in this.expirations){if("Infinity"===N||N>B)return;const U=[...this.expirations[N]||[]],A=[];delete this.expirations[N];for(const G of U)A.push([G,this.data.get(G)]),this.data.delete(G),this.expirationMap.delete(G);for(const[G,L]of A)this.dispose(L,G,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const B in this.expirations)for(const N of this.expirations[B])yield[N,this.data.get(N)]}*keys(){for(const B in this.expirations)for(const N of this.expirations[B])yield N}*values(){for(const B in this.expirations)for(const N of this.expirations[B])yield this.data.get(N)}[Symbol.iterator](){return this.entries()}}We.exports=O},33065:(We,j,_)=>{"use strict";_.r(j),_.d(j,{RestoreComponent:()=>ee});var y=_(10467),b=_(93953),P=_(89417),H=_(88834),w=_(25596),O=_(99213),S=_(99631),B=_(5951),N=_(82798),U=_(67402),A=_(96049),G=_(55777),L=_(53719);function z(q,Z){1&q&&(b.j41(0,"mat-error"),b.EFF(1,"Recovery phrase is "),b.j41(2,"strong"),b.EFF(3,"required"),b.k0s()())}let ee=(()=>{class q{constructor(){this.fb=(0,b.WQX)(P.ok),this.crypto=(0,b.WQX)(A.j),this.app=(0,b.WQX)(G.d),this.identity=(0,b.WQX)(U.K),this.addressForm=this.fb.group({recoveryPhrase:[null,P.k0.required]})}onSubmit(){var J=this;return(0,y.A)(function*(){console.log(J.addressForm.controls.recoveryPhrase.value),J.addressForm.disable(),J.app.loading.set(!0);let se=yield J.crypto.createPassword();const ce={did:"",recoveryPhrase:J.addressForm.controls.recoveryPhrase.value,password:se,passwordHash:""};se="123";const ae=yield J.identity.restore(se,J.addressForm.controls.recoveryPhrase.value);if(console.log("RESTORE Result: ",ae),!ae)return alert("Failed to restore account."),void J.addressForm.enable();ce.did=ae.did,J.app.addAccount(ce),J.app.initialized.set(!0),J.app.loading.set(!1)})()}static#e=this.\u0275fac=function(se){return new(se||q)};static#t=this.\u0275cmp=b.VBU({type:q,selectors:[["app-restore"]],standalone:!0,features:[b.aNF],decls:20,vars:3,consts:[["recoveryPhrase",""],["novalidate","",3,"ngSubmit","formGroup"],[1,"shipping-card"],[1,"full-width"],["matInput","","placeholder","Secret Recovery Phrase","formControlName","recoveryPhrase"],["align","end"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(se,ce){if(1&se){const ae=b.RV6();b.j41(0,"h1"),b.EFF(1,"Restore your account"),b.k0s(),b.j41(2,"form",1),b.bIt("ngSubmit",function(){return b.eBV(ae),b.Njj(ce.onSubmit())}),b.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),b.EFF(6,"Secret Recovery Phrase"),b.k0s(),b.j41(7,"mat-card-subtitle"),b.EFF(8,"Enter your 12 words backup"),b.k0s()(),b.j41(9,"mat-card-content"),b.nrm(10,"br"),b.j41(11,"mat-form-field",3)(12,"mat-label"),b.EFF(13,"Secret Recovery Phrase"),b.k0s(),b.nrm(14,"textarea",4,0),b.DNE(16,z,4,0,"mat-error"),b.k0s()(),b.j41(17,"mat-card-actions",5)(18,"button",6),b.EFF(19,"Restore"),b.k0s()()()()}2&se&&(b.R7$(2),b.Y8G("formGroup",ce.addressForm),b.R7$(14),b.vxM(ce.addressForm.controls.recoveryPhrase.hasError("required")?16:-1),b.R7$(2),b.Y8G("disabled",ce.app.loading()))},dependencies:[S.fS,S.fg,L.rl,L.nJ,L.TL,H.Hl,H.$z,N.Ve,O.m_,B.Wk,w.Hu,w.RN,w.YY,w.m2,w.MM,w.Lc,w.dh,P.X1,P.qT,P.me,P.BC,P.cb,P.j4,P.JD],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.link-input[_ngcontent-%COMP%]{display:flex;align-items:baseline}.link-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.4em}"]})}return q})()},55777:(We,j,_)=>{"use strict";_.d(j,{d:()=>B});var y=_(10467),b=_(93953),P=_(43794),H=_(96049),w=_(67402),S=_.t(JSON.parse('{"name":"ariton","version":"0.0.1","scripts":{"ng":"ng","start":"ng serve","build":"ng build","watch":"ng build --watch --configuration development","test":"ng test","deploy":"ng deploy app","i18n":"ng extract-i18n --format=json --output-path src/locale"},"repository":{"type":"git","url":"git+https://github.com/block-core/ariton.git"},"private":true,"dependencies":{"@angular-builders/custom-webpack":"^18.0.0","@angular/animations":"^18.0.6","@angular/cdk":"^18.0.6","@angular/common":"^18.0.6","@angular/compiler":"^18.0.6","@angular/core":"^18.0.6","@angular/forms":"^18.0.6","@angular/material":"^18.0.6","@angular/platform-browser":"^18.0.6","@angular/platform-browser-dynamic":"^18.0.6","@angular/router":"^18.0.6","@angular/service-worker":"^18.0.6","@scure/bip39":"^1.3.0","@web5/api":"^0.9.4","@web5/credentials":"^1.0.3","@web5/crypto":"^1.0.1","@web5/dids":"^1.1.1","@web5/identity-agent":"^0.3.8","crypto-browserify":"^3.12.0","process":"^0.11.10","rxjs":"~7.8.1","stream":"^0.0.3","stream-browserify":"^3.0.0","tslib":"^2.6.3","zone.js":"~0.14.7"},"devDependencies":{"@angular-devkit/build-angular":"^18.0.7","@angular/cli":"^18.0.7","@angular/compiler-cli":"^18.0.6","@angular/localize":"^18.0.6","@types/jasmine":"~5.1.4","angular-cli-ghpages":"^2.0.1","jasmine-core":"~5.1.2","karma":"~6.4.3","karma-chrome-launcher":"~3.2.0","karma-coverage":"~2.2.1","karma-jasmine":"~5.1.0","karma-jasmine-html-reporter":"~2.1.0","typescript":"~5.4.5"}}'),2);let B=(()=>{class N{constructor(){this.initialized=(0,b.vPA)(!1),this.loading=(0,b.vPA)(!1),this.storage=(0,b.WQX)(P.n),this.crypto=(0,b.WQX)(H.j),this.identity=(0,b.WQX)(w.K),this.state=(0,b.vPA)({selectedAccount:""}),this.account=(0,b.vPA)({did:"",recoveryPhrase:"",password:"",passwordHash:""}),this.accounts=(0,b.vPA)([]),this.firstTime=(0,b.vPA)(!1),this.params=(0,b.vPA)({}),this.package=S,console.log(`Ariton v${this.package.version} initialized.`),this.dependencies=Object.entries(this.package.dependencies).map(([A,G])=>({name:A,version:G}))}saveAccounts(){this.storage.save("accounts",this.accounts())}saveState(){this.storage.save("state",this.state())}hasStateBeenSet(){return!!this.storage.read("state")}addAccount(A){this.accounts().push(A),this.saveAccounts(),this.state().selectedAccount=A.did,this.saveState()}initialize(){var A=this;return(0,y.A)(function*(){A.loading.set(!0),console.log("Initializing Ariton...");let G=A.storage.read("state");console.log("STATE IS WHAT:",G),G||(G={selectedAccount:""},A.firstTime.set(!0));let z,L=A.storage.read("accounts");if(console.log("Accounts: ",L),L){const ee=L.find(q=>q.did===G.selectedAccount);if(A.accounts.set(L),A.account?.set(ee),console.log("Account found: ",ee),ee.password){if(z=yield A.identity.connect(ee.did,ee.password),!z)return void A.loading.set(!1)}else A.identity.locked.set(!0)}else{console.log("No accounts found");const ee=yield A.crypto.createPassword();if(z=yield A.identity.initialConnect(ee),!z)return void A.loading.set(!1);L=[{did:z.did,recoveryPhrase:z.recoveryPhrase,password:ee}],A.storage.save("accounts",L),G.selectedAccount=z.did,A.accounts.set(L),A.account?.set(L[0]),A.storage.save("state",G)}A.state.set(G),A.initialized.set(!0),A.loading.set(!1)})()}static#e=this.\u0275fac=function(G){return new(G||N)};static#t=this.\u0275prov=b.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}return N})()},96049:(We,j,_)=>{"use strict";_.d(j,{j:()=>Ca});var y=_(10467);_(37475);const G="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Wt(Ut){return function Q(Ut=32){if(G&&"function"==typeof G.getRandomValues)return G.getRandomValues(new Uint8Array(Ut));throw new Error("crypto.getRandomValues must be defined")}(Ut)}new Uint8Array(new Uint32Array([287454020]).buffer),_(94256),_(91006),_(40499),_(86295),_(91879);class di{static deriveKey(Lt){return function(Ut,Lt,At,Tt){return new(At||(At=Promise))(function(yn,On){function lr(Qn){try{Sr(Tt.next(Qn))}catch(dr){On(dr)}}function Ar(Qn){try{Sr(Tt.throw(Qn))}catch(dr){On(dr)}}function Sr(Qn){Qn.done?yn(Qn.value):function fn(yn){return yn instanceof At?yn:new At(function(On){On(yn)})}(Qn.value).then(lr,Ar)}Sr((Tt=Tt.apply(Ut,Lt||[])).next())})}(this,arguments,void 0,function*({hash:At,password:Tt,salt:fn,iterations:yn,length:On}){const lr=yield G.subtle.importKey("raw",Tt,{name:"PBKDF2"},!1,["deriveBits"]),Ar=yield G.subtle.deriveBits({name:"PBKDF2",hash:At,salt:fn,iterations:yn},lr,On);return new Uint8Array(Ar)})}}function Ro(Ut,...Lt){if(!function wo(Ut){return Ut instanceof Uint8Array||null!=Ut&&"object"==typeof Ut&&"Uint8Array"===Ut.constructor.name}(Ut))throw new Error("Uint8Array expected");if(Lt.length>0&&!Lt.includes(Ut.length))throw new Error(`Uint8Array expected of length ${Lt}, not of length=${Ut.length}`)}function Vi(Ut,Lt=!0){if(Ut.destroyed)throw new Error("Hash instance has been destroyed");if(Lt&&Ut.finished)throw new Error("Hash#digest() has already been called")}_(94730);const xn="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Fn=Ut=>new DataView(Ut.buffer,Ut.byteOffset,Ut.byteLength),Gr=(Ut,Lt)=>Ut<<32-Lt|Ut>>>Lt;function aa(Ut){return"string"==typeof Ut&&(Ut=function ic(Ut){if("string"!=typeof Ut)throw new Error("utf8ToBytes expected string, got "+typeof Ut);return new Uint8Array((new TextEncoder).encode(Ut))}(Ut)),Ro(Ut),Ut}new Uint8Array(new Uint32Array([287454020]).buffer);class Ji{clone(){return this._cloneInto()}}function Ia(Ut){const Lt=Tt=>Ut().update(aa(Tt)).digest(),At=Ut();return Lt.outputLen=At.outputLen,Lt.blockLen=At.blockLen,Lt.create=()=>Ut(),Lt}const es=(Ut,Lt,At)=>Ut&Lt^~Ut&At,Gc=(Ut,Lt,At)=>Ut&Lt^Ut&At^Lt&At;class Xo extends Ji{constructor(Lt,At,Tt,fn){super(),this.blockLen=Lt,this.outputLen=At,this.padOffset=Tt,this.isLE=fn,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(Lt),this.view=Fn(this.buffer)}update(Lt){Vi(this);const{view:At,buffer:Tt,blockLen:fn}=this,yn=(Lt=aa(Lt)).length;for(let On=0;On<yn;){const lr=Math.min(fn-this.pos,yn-On);if(lr!==fn)Tt.set(Lt.subarray(On,On+lr),this.pos),this.pos+=lr,On+=lr,this.pos===fn&&(this.process(At,0),this.pos=0);else{const Ar=Fn(Lt);for(;fn<=yn-On;On+=fn)this.process(Ar,On)}}return this.length+=Lt.length,this.roundClean(),this}digestInto(Lt){Vi(this),function ji(Ut,Lt){Ro(Ut);const At=Lt.outputLen;if(Ut.length<At)throw new Error(`digestInto() expects output buffer of length at least ${At}`)}(Lt,this),this.finished=!0;const{buffer:At,view:Tt,blockLen:fn,isLE:yn}=this;let{pos:On}=this;At[On++]=128,this.buffer.subarray(On).fill(0),this.padOffset>fn-On&&(this.process(Tt,0),On=0);for(let dr=On;dr<fn;dr++)At[dr]=0;(function Eu(Ut,Lt,At,Tt){if("function"==typeof Ut.setBigUint64)return Ut.setBigUint64(Lt,At,Tt);const fn=BigInt(32),yn=BigInt(4294967295),On=Number(At>>fn&yn),lr=Number(At&yn),Sr=Tt?0:4;Ut.setUint32(Lt+(Tt?4:0),On,Tt),Ut.setUint32(Lt+Sr,lr,Tt)})(Tt,fn-8,BigInt(8*this.length),yn),this.process(Tt,0);const lr=Fn(Lt),Ar=this.outputLen;if(Ar%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Sr=Ar/4,Qn=this.get();if(Sr>Qn.length)throw new Error("_sha2: outputLen bigger than state");for(let dr=0;dr<Sr;dr++)lr.setUint32(4*dr,Qn[dr],yn)}digest(){const{buffer:Lt,outputLen:At}=this;this.digestInto(Lt);const Tt=Lt.slice(0,At);return this.destroy(),Tt}_cloneInto(Lt){Lt||(Lt=new this.constructor),Lt.set(...this.get());const{blockLen:At,buffer:Tt,length:fn,finished:yn,destroyed:On,pos:lr}=this;return Lt.length=fn,Lt.pos=lr,Lt.finished=yn,Lt.destroyed=On,fn%At&&Lt.buffer.set(Tt),Lt}}const kr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Do=new Uint32Array(64);class Za extends Xo{constructor(){super(64,32,8,!1),this.A=0|Vs[0],this.B=0|Vs[1],this.C=0|Vs[2],this.D=0|Vs[3],this.E=0|Vs[4],this.F=0|Vs[5],this.G=0|Vs[6],this.H=0|Vs[7]}get(){const{A:Lt,B:At,C:Tt,D:fn,E:yn,F:On,G:lr,H:Ar}=this;return[Lt,At,Tt,fn,yn,On,lr,Ar]}set(Lt,At,Tt,fn,yn,On,lr,Ar){this.A=0|Lt,this.B=0|At,this.C=0|Tt,this.D=0|fn,this.E=0|yn,this.F=0|On,this.G=0|lr,this.H=0|Ar}process(Lt,At){for(let dr=0;dr<16;dr++,At+=4)Do[dr]=Lt.getUint32(At,!1);for(let dr=16;dr<64;dr++){const us=Do[dr-15],da=Do[dr-2],ac=Gr(us,7)^Gr(us,18)^us>>>3,Ls=Gr(da,17)^Gr(da,19)^da>>>10;Do[dr]=Ls+Do[dr-7]+ac+Do[dr-16]|0}let{A:Tt,B:fn,C:yn,D:On,E:lr,F:Ar,G:Sr,H:Qn}=this;for(let dr=0;dr<64;dr++){const da=Qn+(Gr(lr,6)^Gr(lr,11)^Gr(lr,25))+es(lr,Ar,Sr)+kr[dr]+Do[dr]|0,Ls=(Gr(Tt,2)^Gr(Tt,13)^Gr(Tt,22))+Gc(Tt,fn,yn)|0;Qn=Sr,Sr=Ar,Ar=lr,lr=On+da|0,On=yn,yn=fn,fn=Tt,Tt=da+Ls|0}Tt=Tt+this.A|0,fn=fn+this.B|0,yn=yn+this.C|0,On=On+this.D|0,lr=lr+this.E|0,Ar=Ar+this.F|0,Sr=Sr+this.G|0,Qn=Qn+this.H|0,this.set(Tt,fn,yn,On,lr,Ar,Sr,Qn)}roundClean(){Do.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ls=Ia(()=>new Za);var co=_(53813);function ko(Ut,Lt=128){if(function li(Ut){if(!Number.isSafeInteger(Ut)||Ut<0)throw new Error(`positive integer expected, not ${Ut}`)}(Lt),Lt%32!=0||Lt>256)throw new TypeError("Invalid entropy");return function ud(Ut,Lt){return function sc(Ut){Ro(Ut,16,20,24,28,32)}(Ut),function Hs(Ut){if(!Array.isArray(Ut)||2048!==Ut.length||"string"!=typeof Ut[0])throw new Error("Wordlist: expected array of 2048 strings");return Ut.forEach(Lt=>{if("string"!=typeof Lt)throw new Error(`Wordlist: non-string element: ${Lt}`)}),co.Wp.chain(co.Wp.checksum(1,Lc),co.Wp.radix2(11,!0),co.Wp.alphabet(Ut))}(Lt).encode(Ut).join((Ut=>"\u3042\u3044\u3053\u304f\u3057\u3093"===Ut[0])(Lt)?"\u3000":" ")}(function Wc(Ut=32){if(xn&&"function"==typeof xn.getRandomValues)return xn.getRandomValues(new Uint8Array(Ut));throw new Error("crypto.getRandomValues must be defined")}(Lt/8),Ut)}const Lc=Ut=>{const Lt=8-Ut.length/4;return new Uint8Array([ls(Ut)[0]>>Lt<<Lt])};const xc="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var _a=_(93953);let Ca=(()=>{class Ut{constructor(){}createPassword(At=6,Tt=128){return(0,y.A)(function*(){try{const fn=ko(xc,Tt).split(" "),yn=[];for(let On=0;On<At;On++){const lr=Math.floor(Math.random()*fn.length);yn.push(fn[lr])}return yn.join(" ")}catch(fn){throw console.error(fn),fn}})()}encrypt(At,Tt){return this.deriveKey(Tt),At}encryptData(At,Tt){return(0,y.A)(function*(){})()}deriveKey(At){return(0,y.A)(function*(){return yield di.deriveKey({hash:"SHA-256",password:(new TextEncoder).encode(At),salt:Wt(16),iterations:1e3,length:256})})()}static#e=this.\u0275fac=function(Tt){return new(Tt||Ut)};static#t=this.\u0275prov=_a.jDH({token:Ut,factory:Ut.\u0275fac,providedIn:"root"})}return Ut})()},67402:(We,j,_)=>{"use strict";_.d(j,{K:()=>Ci});var y=_(10467),b=_(93953),P=_(8332),H=function(rt){return rt.authentication="authentication",rt.assertionMethod="assertionMethod",rt.keyAgreement="keyAgreement",rt.capabilityInvocation="capabilityInvocation",rt.capabilityDelegation="capabilityDelegation",rt}(H||{});const w={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class O{constructor({method:Ce,id:be,path:xe,query:ot,fragment:st,params:Mt}){this.uri=`did:${Ce}:${be}`,this.method=Ce,this.id=be,this.path=xe,this.query=ot,this.fragment=st,this.params=Mt}static parse(Ce){if(!Ce)return null;const be=O.DID_URI_PATTERN.exec(Ce);if(!be||!be.groups)return null;const{method:xe,id:ot,path:st,query:Mt,fragment:Qt}=be.groups,In={uri:`did:${xe}:${ot}`,method:xe,id:ot};if(st&&(In.path=st),Mt&&(In.query=Mt.slice(1)),Qt&&(In.fragment=Qt.slice(1)),Mt){const Ie={},ie=Mt.slice(1).split("&");for(const oe of ie){const[ye,Je]=oe.split("=");Ie[ye]=Je}In.params=Ie}return In}}O.METHOD_PATTERN="([a-z0-9]+)",O.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",O.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${O.PCT_ENCODED_PATTERN})`,O.METHOD_ID_PATTERN=`((?:${O.ID_CHAR_PATTERN}*:)*(${O.ID_CHAR_PATTERN}+))`,O.PATH_PATTERN="(/[^#?]*)?",O.QUERY_PATTERN="([?][^#]*)?",O.FRAGMENT_PATTERN="(#.*)?",O.DID_URI_PATTERN=new RegExp(`^did:(?<method>${O.METHOD_PATTERN}):(?<id>${O.METHOD_ID_PATTERN})(?<path>${O.PATH_PATTERN})(?<query>${O.QUERY_PATTERN})(?<fragment>${O.FRAGMENT_PATTERN})$`);class S extends Error{constructor(Ce,be){super(`${Ce}: ${be}`),this.code=Ce,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S)}}var B=function(rt){return rt.InvalidDid="invalidDid",rt.MethodNotSupported="methodNotSupported",rt.InternalError="internalError",rt.InvalidDidDocument="invalidDidDocument",rt.InvalidDidDocumentLength="invalidDidDocumentLength",rt.InvalidDidUrl="invalidDidUrl",rt.InvalidPreviousDidProof="invalidPreviousDidProof",rt.InvalidPublicKey="invalidPublicKey",rt.InvalidPublicKeyLength="invalidPublicKeyLength",rt.InvalidPublicKeyType="invalidPublicKeyType",rt.InvalidSignature="invalidSignature",rt.NotFound="notFound",rt.RepresentationNotSupported="representationNotSupported",rt.UnsupportedPublicKeyType="unsupportedPublicKeyType",rt}(B||{}),N=_(37475),U=_(47565);class G{static digest({data:Ce}){return function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})}(this,void 0,void 0,function*(){return(0,U.s)(Ce)})}}class L{}var q=_(94256),Z=_(91006);const ce="urn:jwk:";function ae({jwk:rt}){return function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})}(this,void 0,void 0,function*(){const Ce=rt.kty;let be;if("EC"===Ce)be={crv:rt.crv,kty:rt.kty,x:rt.x,y:rt.y};else if("oct"===Ce)be={k:rt.k,kty:rt.kty};else if("OKP"===Ce)be={crv:rt.crv,kty:rt.kty,x:rt.x};else{if("RSA"!==Ce)throw new Error(`Unsupported key type: ${Ce}`);be={e:rt.e,kty:rt.kty,n:rt.n}}(0,N.E8)(be);const xe=function J(rt){const Ce=xe=>{if(null!==xe&&"object"==typeof xe&&!Array.isArray(xe)){const ot=Object.keys(xe).sort(),st={};for(const Mt of ot)st[Mt]=Ce(xe[Mt]);return st}return xe},be=Ce(rt);return JSON.stringify(be)}(be),ot=N.U$.string(xe).toUint8Array(),st=yield G.digest({data:ot});return N.U$.uint8Array(st).toBase64Url()})}function fe(rt){return!(!rt||"object"!=typeof rt||!("kty"in rt&&"crv"in rt&&"x"in rt&&"d"in rt)||"EC"!==rt.kty||"string"!=typeof rt.d||"string"!=typeof rt.x)}function he(rt){return!(!rt||"object"!=typeof rt||!("kty"in rt&&"crv"in rt&&"x"in rt)||"d"in rt||"EC"!==rt.kty||"string"!=typeof rt.x)}function Me(rt){return!(!rt||"object"!=typeof rt||!("kty"in rt&&"crv"in rt&&"x"in rt&&"d"in rt)||"OKP"!==rt.kty||"string"!=typeof rt.d||"string"!=typeof rt.x)}function Pe(rt){return!(!rt||"object"!=typeof rt||"d"in rt||!("kty"in rt&&"crv"in rt&&"x"in rt)||"OKP"!==rt.kty||"string"!=typeof rt.x)}var d=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class p{static adjustSignatureToLowS({signature:Ce}){return d(this,void 0,void 0,function*(){const be=q.bI.Signature.fromCompact(Ce);return be.hasHighS()?be.normalizeS().toCompactRawBytes():Ce})}static bytesToPrivateKey({privateKeyBytes:Ce}){return d(this,void 0,void 0,function*(){const be=yield p.getCurvePoint({keyBytes:Ce}),xe={kty:"EC",crv:"secp256k1",d:N.U$.uint8Array(Ce).toBase64Url(),x:N.U$.uint8Array(be.x).toBase64Url(),y:N.U$.uint8Array(be.y).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Ce}){return d(this,void 0,void 0,function*(){const be=yield p.getCurvePoint({keyBytes:Ce}),xe={kty:"EC",crv:"secp256k1",x:N.U$.uint8Array(be.x).toBase64Url(),y:N.U$.uint8Array(be.y).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static compressPublicKey({publicKeyBytes:Ce}){return d(this,void 0,void 0,function*(){return q.bI.ProjectivePoint.fromHex(Ce).toRawBytes(!0)})}static computePublicKey({key:Ce}){return d(this,void 0,void 0,function*(){const be=yield p.privateKeyToBytes({privateKey:Ce}),xe=yield p.getCurvePoint({keyBytes:be}),ot={kty:"EC",crv:"secp256k1",x:N.U$.uint8Array(xe.x).toBase64Url(),y:N.U$.uint8Array(xe.y).toBase64Url()};return ot.kid=yield ae({jwk:ot}),ot})}static convertDerToCompactSignature({derSignature:Ce}){return d(this,void 0,void 0,function*(){return q.bI.Signature.fromDER(Ce).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Ce}){return d(this,void 0,void 0,function*(){return q.bI.ProjectivePoint.fromHex(Ce).toRawBytes(!1)})}static generateKey(){return d(this,void 0,void 0,function*(){const Ce=q.bI.utils.randomPrivateKey(),be=yield p.bytesToPrivateKey({privateKeyBytes:Ce});return be.kid=yield ae({jwk:be}),be})}static getPublicKey({key:Ce}){var be;return d(this,void 0,void 0,function*(){if(!fe(Ce)||"secp256k1"!==Ce.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let ot=function(rt,Ce){var be={};for(var xe in rt)Object.prototype.hasOwnProperty.call(rt,xe)&&Ce.indexOf(xe)<0&&(be[xe]=rt[xe]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(xe=Object.getOwnPropertySymbols(rt);ot<xe.length;ot++)Ce.indexOf(xe[ot])<0&&Object.prototype.propertyIsEnumerable.call(rt,xe[ot])&&(be[xe[ot]]=rt[xe[ot]])}return be}(Ce,["d"]);return null!==(be=ot.kid)&&void 0!==be||(ot.kid=yield ae({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Ce}){return d(this,void 0,void 0,function*(){if(!fe(Ce))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return N.U$.base64Url(Ce.d).toUint8Array()})}static publicKeyToBytes({publicKey:Ce}){return d(this,void 0,void 0,function*(){if(!he(Ce)||!Ce.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const be=new Uint8Array([4]),xe=N.U$.base64Url(Ce.x).toUint8Array(),ot=N.U$.base64Url(Ce.y).toUint8Array();return new Uint8Array([...be,...xe,...ot])})}static sharedSecret({privateKeyA:Ce,publicKeyB:be}){return d(this,void 0,void 0,function*(){if("x"in Ce&&"x"in be&&Ce.x===be.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield p.privateKeyToBytes({privateKey:Ce}),ot=yield p.publicKeyToBytes({publicKey:be});return q.bI.getSharedSecret(xe,ot,!0).slice(1)})}static sign({data:Ce,key:be}){return d(this,void 0,void 0,function*(){const xe=yield p.privateKeyToBytes({privateKey:be}),ot=(0,U.s)(Ce);return q.bI.sign(ot,xe).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Ce}){return d(this,void 0,void 0,function*(){return q.bI.utils.isValidPrivateKey(Ce)})}static validatePublicKey({publicKeyBytes:Ce}){return d(this,void 0,void 0,function*(){try{q.bI.ProjectivePoint.fromHex(Ce).assertValidity()}catch{return!1}return!0})}static verify({key:Ce,signature:be,data:xe}){return d(this,void 0,void 0,function*(){const ot=yield p.publicKeyToBytes({publicKey:Ce}),st=(0,U.s)(xe);return q.bI.verify(be,st,ot,{lowS:!1})})}static getCurvePoint({keyBytes:Ce}){return d(this,void 0,void 0,function*(){32===Ce.byteLength&&(Ce=q.bI.getPublicKey(Ce));const be=q.bI.ProjectivePoint.fromHex(Ce);return{x:(0,Z.lq)(be.x,32),y:(0,Z.lq)(be.y,32)}})}}var E=_(40499),D=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class x{static adjustSignatureToLowS({signature:Ce}){return D(this,void 0,void 0,function*(){const be=E.Ag.Signature.fromCompact(Ce);return be.hasHighS()?be.normalizeS().toCompactRawBytes():Ce})}static bytesToPrivateKey({privateKeyBytes:Ce}){return D(this,void 0,void 0,function*(){const be=yield x.getCurvePoint({keyBytes:Ce}),xe={kty:"EC",crv:"P-256",d:N.U$.uint8Array(Ce).toBase64Url(),x:N.U$.uint8Array(be.x).toBase64Url(),y:N.U$.uint8Array(be.y).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Ce}){return D(this,void 0,void 0,function*(){const be=yield x.getCurvePoint({keyBytes:Ce}),xe={kty:"EC",crv:"P-256",x:N.U$.uint8Array(be.x).toBase64Url(),y:N.U$.uint8Array(be.y).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static compressPublicKey({publicKeyBytes:Ce}){return D(this,void 0,void 0,function*(){return E.Ag.ProjectivePoint.fromHex(Ce).toRawBytes(!0)})}static computePublicKey({key:Ce}){return D(this,void 0,void 0,function*(){const be=yield x.privateKeyToBytes({privateKey:Ce}),xe=yield x.getCurvePoint({keyBytes:be}),ot={kty:"EC",crv:"P-256",x:N.U$.uint8Array(xe.x).toBase64Url(),y:N.U$.uint8Array(xe.y).toBase64Url()};return ot.kid=yield ae({jwk:ot}),ot})}static convertDerToCompactSignature({derSignature:Ce}){return D(this,void 0,void 0,function*(){return E.Ag.Signature.fromDER(Ce).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Ce}){return D(this,void 0,void 0,function*(){return E.Ag.ProjectivePoint.fromHex(Ce).toRawBytes(!1)})}static generateKey(){return D(this,void 0,void 0,function*(){const Ce=E.Ag.utils.randomPrivateKey(),be=yield x.bytesToPrivateKey({privateKeyBytes:Ce});return be.kid=yield ae({jwk:be}),be})}static getPublicKey({key:Ce}){var be;return D(this,void 0,void 0,function*(){if(!fe(Ce)||"P-256"!==Ce.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let ot=function(rt,Ce){var be={};for(var xe in rt)Object.prototype.hasOwnProperty.call(rt,xe)&&Ce.indexOf(xe)<0&&(be[xe]=rt[xe]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(xe=Object.getOwnPropertySymbols(rt);ot<xe.length;ot++)Ce.indexOf(xe[ot])<0&&Object.prototype.propertyIsEnumerable.call(rt,xe[ot])&&(be[xe[ot]]=rt[xe[ot]])}return be}(Ce,["d"]);return null!==(be=ot.kid)&&void 0!==be||(ot.kid=yield ae({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Ce}){return D(this,void 0,void 0,function*(){if(!fe(Ce))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return N.U$.base64Url(Ce.d).toUint8Array()})}static publicKeyToBytes({publicKey:Ce}){return D(this,void 0,void 0,function*(){if(!he(Ce)||!Ce.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const be=new Uint8Array([4]),xe=N.U$.base64Url(Ce.x).toUint8Array(),ot=N.U$.base64Url(Ce.y).toUint8Array();return new Uint8Array([...be,...xe,...ot])})}static sharedSecret({privateKeyA:Ce,publicKeyB:be}){return D(this,void 0,void 0,function*(){if("x"in Ce&&"x"in be&&Ce.x===be.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield x.privateKeyToBytes({privateKey:Ce}),ot=yield x.publicKeyToBytes({publicKey:be});return E.Ag.getSharedSecret(xe,ot,!0).slice(1)})}static sign({data:Ce,key:be}){return D(this,void 0,void 0,function*(){const xe=yield x.privateKeyToBytes({privateKey:be}),ot=(0,U.s)(Ce);return E.Ag.sign(ot,xe).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Ce}){return D(this,void 0,void 0,function*(){return E.Ag.utils.isValidPrivateKey(Ce)})}static validatePublicKey({publicKeyBytes:Ce}){return D(this,void 0,void 0,function*(){try{E.Ag.ProjectivePoint.fromHex(Ce).assertValidity()}catch{return!1}return!0})}static verify({key:Ce,signature:be,data:xe}){return D(this,void 0,void 0,function*(){const ot=yield x.publicKeyToBytes({publicKey:Ce}),st=(0,U.s)(xe);return E.Ag.verify(be,st,ot,{lowS:!1})})}static getCurvePoint({keyBytes:Ce}){return D(this,void 0,void 0,function*(){32===Ce.byteLength&&(Ce=E.Ag.getPublicKey(Ce));const be=E.Ag.ProjectivePoint.fromHex(Ce);return{x:(0,Z.lq)(be.x,32),y:(0,Z.lq)(be.y,32)}})}}var s=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class v extends L{computePublicKey({key:Ce}){return s(this,void 0,void 0,function*(){if(!fe(Ce))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Ce.crv){case"secp256k1":{const be=yield p.computePublicKey({key:Ce});return be.alg="ES256K",be}case"P-256":{const be=yield x.computePublicKey({key:Ce});return be.alg="ES256",be}default:throw new Error(`Unsupported curve: ${Ce.crv}`)}})}generateKey({algorithm:Ce}){return s(this,void 0,void 0,function*(){switch(Ce){case"ES256K":case"secp256k1":{const be=yield p.generateKey();return be.alg="ES256K",be}case"ES256":case"secp256r1":{const be=yield x.generateKey();return be.alg="ES256",be}}})}getPublicKey({key:Ce}){return s(this,void 0,void 0,function*(){if(!fe(Ce))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Ce.crv){case"secp256k1":{const be=yield p.getPublicKey({key:Ce});return be.alg="ES256K",be}case"P-256":{const be=yield x.getPublicKey({key:Ce});return be.alg="ES256",be}default:throw new Error(`Unsupported curve: ${Ce.crv}`)}})}sign({key:Ce,data:be}){return s(this,void 0,void 0,function*(){if(!fe(Ce))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Ce.crv){case"secp256k1":return yield p.sign({key:Ce,data:be});case"P-256":return yield x.sign({key:Ce,data:be});default:throw new Error(`Unsupported curve: ${Ce.crv}`)}})}verify({key:Ce,signature:be,data:xe}){return s(this,void 0,void 0,function*(){if(!he(Ce))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Ce.crv){case"secp256k1":return yield p.verify({key:Ce,signature:be,data:xe});case"P-256":return yield x.verify({key:Ce,signature:be,data:xe});default:throw new Error(`Unsupported curve: ${Ce.crv}`)}})}}var $=_(86295),F=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class de{static bytesToPrivateKey({privateKeyBytes:Ce}){return F(this,void 0,void 0,function*(){const be=$.ev.getPublicKey(Ce),xe={crv:"Ed25519",d:N.U$.uint8Array(Ce).toBase64Url(),kty:"OKP",x:N.U$.uint8Array(be).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Ce}){return F(this,void 0,void 0,function*(){const be={kty:"OKP",crv:"Ed25519",x:N.U$.uint8Array(Ce).toBase64Url()};return be.kid=yield ae({jwk:be}),be})}static computePublicKey({key:Ce}){return F(this,void 0,void 0,function*(){const be=yield de.privateKeyToBytes({privateKey:Ce}),xe=$.ev.getPublicKey(be),ot={kty:"OKP",crv:"Ed25519",x:N.U$.uint8Array(xe).toBase64Url()};return ot.kid=yield ae({jwk:ot}),ot})}static convertPrivateKeyToX25519({privateKey:Ce}){return F(this,void 0,void 0,function*(){const be=yield de.privateKeyToBytes({privateKey:Ce}),xe=(0,$.OA)(be),ot=$.TU.getPublicKey(xe),st={kty:"OKP",crv:"X25519",d:N.U$.uint8Array(xe).toBase64Url(),x:N.U$.uint8Array(ot).toBase64Url()};return st.kid=yield ae({jwk:st}),st})}static convertPublicKeyToX25519({publicKey:Ce}){return F(this,void 0,void 0,function*(){const be=yield de.publicKeyToBytes({publicKey:Ce});if(!(yield de.validatePublicKey({publicKeyBytes:be})))throw new Error("Ed25519: Invalid public key.");const ot=(0,$.GU)(be),st={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(ot).toBase64Url()};return st.kid=yield ae({jwk:st}),st})}static generateKey(){return F(this,void 0,void 0,function*(){const Ce=$.ev.utils.randomPrivateKey(),be=yield de.bytesToPrivateKey({privateKeyBytes:Ce});return be.kid=yield ae({jwk:be}),be})}static getPublicKey({key:Ce}){var be;return F(this,void 0,void 0,function*(){if(!Me(Ce)||"Ed25519"!==Ce.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let ot=function(rt,Ce){var be={};for(var xe in rt)Object.prototype.hasOwnProperty.call(rt,xe)&&Ce.indexOf(xe)<0&&(be[xe]=rt[xe]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(xe=Object.getOwnPropertySymbols(rt);ot<xe.length;ot++)Ce.indexOf(xe[ot])<0&&Object.prototype.propertyIsEnumerable.call(rt,xe[ot])&&(be[xe[ot]]=rt[xe[ot]])}return be}(Ce,["d"]);return null!==(be=ot.kid)&&void 0!==be||(ot.kid=yield ae({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Ce}){return F(this,void 0,void 0,function*(){if(!Me(Ce))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return N.U$.base64Url(Ce.d).toUint8Array()})}static publicKeyToBytes({publicKey:Ce}){return F(this,void 0,void 0,function*(){if(!Pe(Ce))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return N.U$.base64Url(Ce.x).toUint8Array()})}static sign({key:Ce,data:be}){return F(this,void 0,void 0,function*(){const xe=yield de.privateKeyToBytes({privateKey:Ce});return $.ev.sign(be,xe)})}static validatePublicKey({publicKeyBytes:Ce}){return F(this,void 0,void 0,function*(){try{$.ev.ExtendedPoint.fromHex(Ce).assertValidity()}catch{return!1}return!0})}static verify({key:Ce,signature:be,data:xe}){return F(this,void 0,void 0,function*(){const ot=yield de.publicKeyToBytes({publicKey:Ce});return $.ev.verify(be,xe,ot)})}}var De=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})},Ve=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};const Ee={Ed25519:{implementation:class Re extends L{computePublicKey({key:Ce}){return De(this,void 0,void 0,function*(){if(!Me(Ce))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Ce.crv){const be=yield de.computePublicKey({key:Ce});return be.alg="EdDSA",be}throw new Error(`Unsupported curve: ${Ce.crv}`)})}generateKey({algorithm:Ce}){return De(this,void 0,void 0,function*(){if("Ed25519"===Ce){const be=yield de.generateKey();return be.alg="EdDSA",be}})}getPublicKey({key:Ce}){return De(this,void 0,void 0,function*(){if(!Me(Ce))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Ce.crv){const be=yield de.getPublicKey({key:Ce});return be.alg="EdDSA",be}throw new Error(`Unsupported curve: ${Ce.crv}`)})}sign({key:Ce,data:be}){return De(this,void 0,void 0,function*(){if(!Me(Ce))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Ce.crv)return yield de.sign({key:Ce,data:be});throw new Error(`Unsupported curve: ${Ce.crv}`)})}verify({key:Ce,signature:be,data:xe}){return De(this,void 0,void 0,function*(){if(!Pe(Ce))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Ce.crv)return yield de.verify({key:Ce,signature:be,data:xe});throw new Error(`Unsupported curve: ${Ce.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:v,names:["ES256K","secp256k1"]},secp256r1:{implementation:v,names:["ES256","secp256r1"]},"SHA-256":{implementation:class ee extends L{digest({algorithm:Ce,data:be}){return function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Ce)return yield G.digest({data:be})})}},names:["SHA-256"]}};class _e{constructor(Ce){var be;this._algorithmInstances=new Map,this._keyStore=null!==(be=Ce?.keyStore)&&void 0!==be?be:new N.ny}digest({algorithm:Ce,data:be}){return Ve(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Ce}).digest({algorithm:Ce,data:be})})}exportKey({keyUri:Ce}){return Ve(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Ce})})}generateKey({algorithm:Ce}){return Ve(this,void 0,void 0,function*(){const xe=yield this.getAlgorithm({algorithm:Ce}).generateKey({algorithm:Ce});if(void 0===xe?.kid)throw new Error("Generated key is missing a required property: kid");const ot=`${ce}${xe.kid}`;return yield this._keyStore.set(ot,xe),ot})}getKeyUri({key:Ce}){return Ve(this,void 0,void 0,function*(){const be=yield ae({jwk:Ce});return`${ce}${be}`})}getPublicKey({keyUri:Ce}){return Ve(this,void 0,void 0,function*(){const be=yield this.getPrivateKey({keyUri:Ce}),xe=this.getAlgorithmName({key:be});return yield this.getAlgorithm({algorithm:xe}).getPublicKey({key:be})})}importKey({key:Ce}){var be;return Ve(this,void 0,void 0,function*(){if(!function C(rt){if(!rt||"object"!=typeof rt)return!1;switch(rt.kty){case"EC":case"OKP":case"RSA":return"d"in rt;case"oct":return"k"in rt;default:return!1}}(Ce))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const xe=structuredClone(Ce);null!==(be=xe.kid)&&void 0!==be||(xe.kid=yield ae({jwk:xe}));const ot=yield this.getKeyUri({key:xe});return yield this._keyStore.set(ot,xe),ot})}sign({keyUri:Ce,data:be}){return Ve(this,void 0,void 0,function*(){const xe=yield this.getPrivateKey({keyUri:Ce}),ot=this.getAlgorithmName({key:xe});return this.getAlgorithm({algorithm:ot}).sign({data:be,key:xe})})}verify({key:Ce,signature:be,data:xe}){return Ve(this,void 0,void 0,function*(){const ot=this.getAlgorithmName({key:Ce});return this.getAlgorithm({algorithm:ot}).verify({key:Ce,signature:be,data:xe})})}getAlgorithm({algorithm:Ce}){var be;const xe=null===(be=Ee[Ce])||void 0===be?void 0:be.implementation;if(!xe)throw new Error(`Algorithm not supported: ${Ce}`);return this._algorithmInstances.has(xe)||this._algorithmInstances.set(xe,new xe),this._algorithmInstances.get(xe)}getAlgorithmName({key:Ce}){const be=Ce.alg,xe=Ce.crv;for(const ot in Ee){const st=Ee[ot];if(be&&st.names.includes(be))return ot;if(xe&&st.names.includes(xe))return ot}throw new Error(`Unable to determine algorithm based on provided input: alg=${be}, crv=${xe}`)}getPrivateKey({keyUri:Ce}){return Ve(this,void 0,void 0,function*(){const be=yield this._keyStore.get(Ce);if(!be)throw new Error(`Key not found: ${Ce}`);return be})}}function me(rt){const Ce={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(rt.alg&&Object.values(Ce).includes(rt.alg))return rt.alg;if(rt.crv&&Object.keys(Ce).includes(rt.crv))return Ce[rt.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${rt.alg}, crv=${rt.crv}. Supported 'alg' values: ${Object.values(Ce).join(", ")}. Supported 'crv' values: ${Object.keys(Ce).join(", ")}.`)}_(86703),_(62953),_(91879);var ln=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class Cn{static bytesToPrivateKey({privateKeyBytes:Ce}){return ln(this,void 0,void 0,function*(){const be=$.TU.getPublicKey(Ce),xe={kty:"OKP",crv:"X25519",d:N.U$.uint8Array(Ce).toBase64Url(),x:N.U$.uint8Array(be).toBase64Url()};return xe.kid=yield ae({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Ce}){return ln(this,void 0,void 0,function*(){const be={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(Ce).toBase64Url()};return be.kid=yield ae({jwk:be}),be})}static computePublicKey({key:Ce}){return ln(this,void 0,void 0,function*(){const be=yield Cn.privateKeyToBytes({privateKey:Ce}),xe=$.TU.getPublicKey(be),ot={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(xe).toBase64Url()};return ot.kid=yield ae({jwk:ot}),ot})}static generateKey(){return ln(this,void 0,void 0,function*(){const Ce=$.TU.utils.randomPrivateKey(),be=yield Cn.bytesToPrivateKey({privateKeyBytes:Ce});return be.kid=yield ae({jwk:be}),be})}static getPublicKey({key:Ce}){var be;return ln(this,void 0,void 0,function*(){if(!Me(Ce)||"X25519"!==Ce.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let ot=function(rt,Ce){var be={};for(var xe in rt)Object.prototype.hasOwnProperty.call(rt,xe)&&Ce.indexOf(xe)<0&&(be[xe]=rt[xe]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(xe=Object.getOwnPropertySymbols(rt);ot<xe.length;ot++)Ce.indexOf(xe[ot])<0&&Object.prototype.propertyIsEnumerable.call(rt,xe[ot])&&(be[xe[ot]]=rt[xe[ot]])}return be}(Ce,["d"]);return null!==(be=ot.kid)&&void 0!==be||(ot.kid=yield ae({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Ce}){return ln(this,void 0,void 0,function*(){if(!Me(Ce))throw new Error("X25519: The provided key is not a valid OKP private key.");return N.U$.base64Url(Ce.d).toUint8Array()})}static publicKeyToBytes({publicKey:Ce}){return ln(this,void 0,void 0,function*(){if(!Pe(Ce))throw new Error("X25519: The provided key is not a valid OKP public key.");return N.U$.base64Url(Ce.x).toUint8Array()})}static sharedSecret({privateKeyA:Ce,publicKeyB:be}){return ln(this,void 0,void 0,function*(){if("x"in Ce&&"x"in be&&Ce.x===be.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield Cn.privateKeyToBytes({privateKey:Ce}),ot=yield Cn.publicKeyToBytes({publicKey:be});return $.TU.getSharedSecret(xe,ot)})}}function wt(rt){if("string"==typeof rt&&0!==rt.length)return rt.split("#").pop()}function bn(rt){return!(!rt||"object"!=typeof rt||null===rt||!("id"in rt&&"type"in rt&&"controller"in rt)||"string"!=typeof rt.id||"string"!=typeof rt.type||"string"!=typeof rt.controller)}_(94730);var or=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class Nn{constructor({uri:Ce,document:be,metadata:xe,keyManager:ot}){this.uri=Ce,this.document=be,this.metadata=xe,this.keyManager=ot}export(){return or(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Ce={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const be=[];for(let xe of this.document.verificationMethod){if(!xe.publicKeyJwk)throw new Error(`Verification method '${xe.id}' does not contain a public key in JWK format`);const ot=yield this.keyManager.getKeyUri({key:xe.publicKeyJwk}),st=yield this.keyManager.exportKey({keyUri:ot});be.push(Object.assign({},st))}Ce.privateKeys=be}return Ce})}getSigner(Ce){return or(this,void 0,void 0,function*(){var be;const xe=null===(be=this.document.verificationMethod)||void 0===be?void 0:be.find(In=>{var Ie,ie;return wt(In.id)===(null!==(Ie=wt(Ce?.methodId))&&void 0!==Ie?Ie:wt(null===(ie=this.document.assertionMethod)||void 0===ie?void 0:ie[0]))});if(!xe||!xe.publicKeyJwk)throw new S(B.InternalError,"A verification method intended for signing could not be determined from the DID Document");const ot=yield this.keyManager.getKeyUri({key:xe.publicKeyJwk}),st=yield this.keyManager.getPublicKey({keyUri:ot}),Mt=this.keyManager;return{algorithm:me(st),keyId:xe.id,sign(In){return or(this,arguments,void 0,function*({data:Ie}){return yield Mt.sign({data:Ie,keyUri:ot})})},verify(In){return or(this,arguments,void 0,function*({data:Ie,signature:ie}){return yield Mt.verify({data:Ie,key:st,signature:ie})})}}})}static import(Ce){return or(this,arguments,void 0,function*({portableDid:be,keyManager:xe=new _e}){var ot;const st=function et({didDocument:rt}){var Ce,be;if(!rt)throw new TypeError("Required parameter missing: 'didDocument'");const xe=[];return xe.push(...null!==(be=null===(Ce=rt.verificationMethod)||void 0===Ce?void 0:Ce.filter(bn))&&void 0!==be?be:[]),Object.keys(H).forEach(ot=>{var st,Mt;xe.push(...null!==(Mt=null===(st=rt[ot])||void 0===st?void 0:st.filter(bn))&&void 0!==Mt?Mt:[])}),xe}({didDocument:be.document});if(0===st.length)throw new S(B.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let Qt of null!==(ot=be.privateKeys)&&void 0!==ot?ot:[])yield xe.importKey({key:Qt});for(let Qt of st){if(!Qt.publicKeyJwk)throw new Error(`Verification method '${Qt.id}' does not contain a public key in JWK format`);const In=yield xe.getKeyUri({key:Qt.publicKeyJwk});yield xe.getPublicKey({keyUri:In})}return new Nn({uri:be.uri,document:be.document,metadata:be.metadata,keyManager:xe})})}}var Ln=_(2198),at=_(49402),He=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class ct{static getSigningMethod(Ce){return He(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Ce,be){return He(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Yt=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})},En=function(rt,Ce){var be={};for(var xe in rt)Object.prototype.hasOwnProperty.call(rt,xe)&&Ce.indexOf(xe)<0&&(be[xe]=rt[xe]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(xe=Object.getOwnPropertySymbols(rt);ot<xe.length;ot++)Ce.indexOf(xe[ot])<0&&Object.prototype.propertyIsEnumerable.call(rt,xe[ot])&&(be[xe[ot]]=rt[xe[ot]])}return be};const zn="https://diddht.tbddev.org",mr=7200,Pr=",";var Kr=function(rt){return rt[rt.Discoverable=0]="Discoverable",rt[rt.Organization=1]="Organization",rt[rt.Government=2]="Government",rt[rt.Corporation=3]="Corporation",rt[rt.LocalBusiness=4]="LocalBusiness",rt[rt.SoftwarePackage=5]="SoftwarePackage",rt[rt.WebApp=6]="WebApp",rt[rt.FinancialInstitution=7]="FinancialInstitution",rt}(Kr||{}),Fr=function(rt){return rt[rt.Ed25519=0]="Ed25519",rt[rt.secp256k1=1]="secp256k1",rt[rt.secp256r1=2]="secp256r1",rt[rt.X25519=3]="X25519",rt}(Fr||{}),di=function(rt){return rt.authentication="auth",rt.assertionMethod="asm",rt.capabilityDelegation="del",rt.capabilityInvocation="inv",rt.keyAgreement="agm",rt}(di||{});const on={Ed25519:Fr.Ed25519,ES256K:Fr.secp256k1,ES256:Fr.secp256r1,"P-256":Fr.secp256r1,secp256k1:Fr.secp256k1,secp256r1:Fr.secp256r1,X25519:Fr.X25519},wn={[Fr.Ed25519]:"EdDSA",[Fr.secp256k1]:"ES256K",[Fr.secp256r1]:"ES256",[Fr.X25519]:"ECDH-ES+A256KW"};let Tn=(()=>{class rt extends ct{static create(){return Yt(this,arguments,void 0,function*({keyManager:be=new _e,options:xe={}}={}){var ot,st,Mt,Qt,In,Ie,ie,oe,ye,Je,Ze;if(null!==(ot=xe.verificationMethods)&&void 0!==ot&&ot.some(ur=>!(ur.algorithm in on)))throw new Error("One or more verification method algorithms are not supported");const ht=null===(st=xe.verificationMethods)||void 0===st?void 0:st.filter(ur=>"id"in ur).map(ur=>ur.id);if(ht&&ht.length!==new Set(ht).size)throw new Error("One or more verification method IDs are not unique");if(null!==(Mt=xe.services)&&void 0!==Mt&&Mt.some(ur=>!ur.id||!ur.type||!ur.serviceEndpoint))throw new Error("One or more services are missing required properties");const Vt=yield be.generateKey({algorithm:"Ed25519"}),vn=yield be.getPublicKey({keyUri:Vt}),zt=yield Gn.identityKeyToIdentifier({identityKey:vn}),dt=Object.assign(Object.assign({id:zt},xe.alsoKnownAs&&{alsoKnownAs:xe.alsoKnownAs}),xe.controllers&&{controller:xe.controllers}),tn=[...null!==(Qt=xe.verificationMethods)&&void 0!==Qt?Qt:[]];tn?.some(ur=>{var Vr;return"0"===(null===(Vr=ur.id)||void 0===Vr?void 0:Vr.split("#").pop())})||tn.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const ur of tn){const Vr=ur.id&&"0"===ur.id.split("#").pop()?Vt:yield be.generateKey({algorithm:ur.algorithm}),ai=yield be.getPublicKey({keyUri:Vr});let pi=null!==(Ie=null!==(In=ur.id)&&void 0!==In?In:ai.kid)&&void 0!==Ie?Ie:yield ae({jwk:ai});pi=`${zt}#${wt(pi)}`,null!==(ie=dt.verificationMethod)&&void 0!==ie||(dt.verificationMethod=[]),dt.verificationMethod.push({id:pi,type:"JsonWebKey",controller:null!==(oe=ur.controller)&&void 0!==oe?oe:zt,publicKeyJwk:ai});for(const Oi of null!==(ye=ur.purposes)&&void 0!==ye?ye:[])dt[Oi]||(dt[Oi]=[]),dt[Oi].push(pi)}null===(Je=xe.services)||void 0===Je||Je.forEach(ur=>{var Vr;null!==(Vr=dt.service)&&void 0!==Vr||(dt.service=[]),ur.id=`${zt}#${ur.id.split("#").pop()}`,dt.service.push(ur)});const pr=new Nn({uri:zt,document:dt,metadata:Object.assign({published:!1},xe.types&&{types:xe.types}),keyManager:be});if(null===(Ze=xe.publish)||void 0===Ze||Ze){const ur=yield rt.publish({did:pr,gatewayUri:xe.gatewayUri});pr.metadata=ur.didDocumentMetadata}return pr})}static import(be){return Yt(this,arguments,void 0,function*({portableDid:xe,keyManager:ot=new _e}){var st;const Mt=O.parse(xe.uri);if(Mt?.method!==rt.methodName)throw new S(B.MethodNotSupported,"Method not supported");const Qt=yield Nn.import({portableDid:xe,keyManager:ot});if(null===(st=Qt.document.verificationMethod)||void 0===st||!st.some(In=>{var Ie;return"0"===(null===(Ie=In.id)||void 0===Ie?void 0:Ie.split("#").pop())}))throw new S(B.InvalidDidDocument,"DID document must contain an Identity Key");return Qt})}static getSigningMethod(be){return Yt(this,arguments,void 0,function*({didDocument:xe,methodId:ot="#0"}){var st;const Mt=O.parse(xe.id);if(Mt&&Mt.method!==this.methodName)throw new S(B.MethodNotSupported,`Method not supported: ${Mt.method}`);const Qt=null===(st=xe.verificationMethod)||void 0===st?void 0:st.find(In=>{var Ie,ie;return wt(In.id)===(null!==(Ie=wt(ot))&&void 0!==Ie?Ie:wt(null===(ie=xe.assertionMethod)||void 0===ie?void 0:ie[0]))});if(!Qt||!Qt.publicKeyJwk)throw new S(B.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Qt})}static publish(be){return Yt(this,arguments,void 0,function*({did:xe,gatewayUri:ot=zn}){return yield Hn.put({did:xe,gatewayUri:ot})})}static resolve(be){return Yt(this,arguments,void 0,function*(xe,ot={}){var st;const Mt=null!==(st=ot?.gatewayUri)&&void 0!==st?st:zn;try{yield Gn.identifierToIdentityKey({didUri:xe});const{didDocument:Qt,didDocumentMetadata:In}=yield Hn.get({didUri:xe,gatewayUri:Mt});return Object.assign(Object.assign({},w),{didDocument:Qt,didDocumentMetadata:In})}catch(Qt){if(!(Qt instanceof S))throw new Error(Qt);return Object.assign(Object.assign({},w),{didResolutionMetadata:Object.assign({error:Qt.code},Qt.message&&{errorMessage:Qt.message})})}})}}return rt.methodName="dht",rt})();class Hn{static get(Ce){return Yt(this,arguments,void 0,function*({didUri:be,gatewayUri:xe}){const ot=Gn.identifierToIdentityKeyBytes({didUri:be}),st=yield Hn.pkarrGet({gatewayUri:xe,publicKeyBytes:ot}),Mt=yield Gn.parseBep44GetMessage({bep44Message:st}),Qt=yield Hn.fromDnsPacket({didUri:be,dnsPacket:Mt});return Qt.didDocumentMetadata.versionId=st.seq.toString(),Qt})}static put(Ce){return Yt(this,arguments,void 0,function*({did:be,gatewayUri:xe}){const ot=yield Hn.toDnsPacket({didDocument:be.document,didMetadata:be.metadata,authoritativeGatewayUris:[xe]}),st=yield Gn.createBep44PutMessage({dnsPacket:ot,publicKeyBytes:Gn.identifierToIdentityKeyBytes({didUri:be.uri}),signer:yield be.getSigner({methodId:"0"})}),Mt=yield Hn.pkarrPut({gatewayUri:xe,bep44Message:st});return{didDocument:be.document,didDocumentMetadata:Object.assign(Object.assign({},be.metadata),{published:Mt,versionId:st.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Ce){return Yt(this,arguments,void 0,function*({gatewayUri:be,publicKeyBytes:xe}){const ot=N.U$.uint8Array(xe).toBase32Z(),st=new URL(ot,be).href;let Mt;try{if(Mt=yield fetch(st,{method:"GET"}),!Mt.ok)throw new S(B.NotFound,`Pkarr record not found for: ${ot}`)}catch(Ie){throw Ie instanceof S?Ie:new S(B.InternalError,`Failed to fetch Pkarr record: ${Ie.message}`)}const Qt=yield Mt.arrayBuffer();if(!Qt)throw new S(B.NotFound,`Pkarr record not found for: ${ot}`);if(Qt.byteLength<72)throw new S(B.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${Qt.byteLength}`);if(Qt.byteLength>1072)throw new S(B.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${Qt.byteLength}`);return{k:xe,seq:Number(new DataView(Qt).getBigUint64(64)),sig:new Uint8Array(Qt,0,64),v:new Uint8Array(Qt,72)}})}static pkarrPut(Ce){return Yt(this,arguments,void 0,function*({gatewayUri:be,bep44Message:xe}){const ot=N.U$.uint8Array(xe.k).toBase32Z(),st=new URL(ot,be).href,Mt=new Uint8Array(xe.v.length+72);let Qt;Mt.set(xe.sig,0),new DataView(Mt.buffer).setBigUint64(xe.sig.length,BigInt(xe.seq)),Mt.set(xe.v,xe.sig.length+8);try{Qt=yield fetch(st,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:Mt})}catch(In){throw new S(B.InternalError,`Failed to put Pkarr record for identifier ${ot}: ${In.message}`)}return Qt.ok})}static fromDnsPacket(Ce){return Yt(this,arguments,void 0,function*({didUri:be,dnsPacket:xe}){var ot,st,Mt;const Qt={id:be},In={published:!0},Ie=new Map;for(const ie of null!==(ot=xe?.answers)&&void 0!==ot?ot:[]){if("TXT"!==ie.type)continue;const oe=ie.name.split(".")[0].substring(1);switch(!0){case oe.startsWith("aka"):{const ye=Gn.parseTxtDataToString(ie.data);Qt.alsoKnownAs=ye.split(Pr);break}case oe.startsWith("cnt"):{const ye=Gn.parseTxtDataToString(ie.data);Qt.controller=ye.includes(Pr)?ye.split(Pr):ye;break}case oe.startsWith("k"):{const{id:ye,t:Je,k:Ze,c:ht,a:Vt}=Gn.parseTxtDataToObject(ie.data),vn=N.U$.base64Url(Ze).toUint8Array(),zt=Fr[Number(Je)];let dt=yield Gn.keyConverter(zt).bytesToPublicKey({publicKeyBytes:vn});dt.alg=Vt||wn[Number(Je)];const tn="k0"===oe?"0":void 0!==ye?ye:yield ae({jwk:dt});null!==(st=Qt.verificationMethod)&&void 0!==st||(Qt.verificationMethod=[]);const pr=`${be}#${tn}`;Qt.verificationMethod.push({id:pr,type:"JsonWebKey",controller:ht??be,publicKeyJwk:dt}),Ie.set(oe,pr);break}case oe.startsWith("s"):{const ye=Gn.parseTxtDataToObject(ie.data),{id:Je,t:Ze,se:ht}=ye,Vt=En(ye,["id","t","se"]),vn=ht.includes(Pr)?ht.split(Pr):[ht],zt=Object.fromEntries(Object.entries(Vt).map(([dt,tn])=>[dt,tn.includes(Pr)?tn.split(Pr):tn]));null!==(Mt=Qt.service)&&void 0!==Mt||(Qt.service=[]),Qt.service.push(Object.assign(Object.assign({},zt),{id:`${be}#${Je}`,type:Ze,serviceEndpoint:vn}));break}case oe.startsWith("typ"):{const{id:ye}=Gn.parseTxtDataToObject(ie.data);In.types=ye.split(Pr).map(Je=>Number(Je));break}case oe.startsWith("did"):{const ye=zt=>zt.split(Pr).map(dt=>Ie.get(dt)).filter(dt=>"string"==typeof dt),{auth:Je,asm:Ze,del:ht,inv:Vt,agm:vn}=Gn.parseTxtDataToObject(ie.data);Je&&(Qt.authentication=ye(Je)),Ze&&(Qt.assertionMethod=ye(Ze)),ht&&(Qt.capabilityDelegation=ye(ht)),Vt&&(Qt.capabilityInvocation=ye(Vt)),vn&&(Qt.keyAgreement=ye(vn));break}}}return{didDocument:Qt,didDocumentMetadata:In,didResolutionMetadata:{}}})}static toDnsPacket(Ce){return Yt(this,arguments,void 0,function*({didDocument:be,didMetadata:xe,authoritativeGatewayUris:ot,previousDidProof:st}){var Mt,Qt,In,Ie,ie;const oe=[],ye=[],Je=new Map,Ze=[],ht=[];if(void 0!==st){const{signature:zt,previousDid:dt}=st;yield Gn.validatePreviousDidProof({newDid:be.id,previousDidProof:st}),oe.push({type:"TXT",name:"_prv._did.",ttl:mr,data:`id=${dt};s=${zt}`})}if(be.alsoKnownAs&&oe.push({type:"TXT",name:"_aka._did.",ttl:mr,data:be.alsoKnownAs.join(Pr)}),be.controller){const zt=Array.isArray(be.controller)?be.controller.join(Pr):be.controller;oe.push({type:"TXT",name:"_cnt._did.",ttl:mr,data:zt})}for(const[zt,dt]of null!==(Qt=null===(Mt=be.verificationMethod)||void 0===Mt?void 0:Mt.entries())&&void 0!==Qt?Qt:[]){const tn=`k${zt}`;ht.push(tn);let pr=dt.id.split("#").pop();Je.set(pr,tn);const ur=dt.publicKeyJwk;if(!ur?.crv||!(ur.crv in on))throw new S(B.InvalidPublicKeyType,`Verification method '${dt.id}' contains an unsupported key type: ${null!==(In=ur?.crv)&&void 0!==In?In:"undefined"}`);const Vr=Fr[ur.crv],ai=yield Gn.keyConverter(ur.crv).publicKeyToBytes({publicKey:ur}),Oi=[`t=${Vr}`,`k=${N.U$.uint8Array(ai).toBase64Url()}`];"0"!==pr&&(yield ae({jwk:ur}))!==pr&&Oi.unshift(`id=${pr}`),ur.alg!==wn[Vr]&&Oi.push(`a=${ur.alg}`),dt.controller!==be.id&&Oi.push(`c=${dt.controller}`),oe.push({type:"TXT",name:`_${tn}._did.`,ttl:mr,data:Oi.join(";")})}null===(Ie=be.service)||void 0===Ie||Ie.forEach((zt,dt)=>{const tn=`s${dt}`;Ze.push(tn);let{id:pr,type:ur,serviceEndpoint:Vr}=zt,ai=En(zt,["id","type","serviceEndpoint"]);pr=wt(pr),Vr=Array.isArray(Vr)?Vr.join(","):Vr;const Oi=Object.entries(Object.assign({id:pr,t:ur,se:Vr},ai)).map(([ni,Ei])=>`${ni}=${Ei}`).join(";"),Xr=Gn.chunkDataIfNeeded(Oi);oe.push({type:"TXT",name:`_${tn}._did.`,ttl:mr,data:Xr})});const Vt=["v=0"];if(ht.length&&Vt.push(`vm=${ht.join(Pr)}`),Object.keys(H).forEach(zt=>{var dt;const tn=null===(dt=be[zt])||void 0===dt?void 0:dt.map(pr=>Je.get(pr.split("#").pop()));tn&&Vt.push(`${di[zt]}=${tn.join(Pr)}`)}),Ze.length&&Vt.push(`svc=${Ze.join(Pr)}`),null!==(ie=xe.types)&&void 0!==ie&&ie.length){const dt=xe.types.map(tn=>"string"==typeof tn?Kr[tn]:tn);oe.push({type:"TXT",name:"_typ._did.",ttl:mr,data:`id=${dt.join(Pr)}`})}oe.push({type:"TXT",name:"_did."+Hn.getUniqueDidSuffix(be.id)+".",ttl:mr,data:Vt.join(";")});for(const zt of ot||[])ye.push({type:"NS",name:"_did."+Hn.getUniqueDidSuffix(be.id)+".",ttl:mr,data:zt+"."});return{id:0,type:"response",flags:at.hB,answers:[...oe,...ye]}})}static getUniqueDidSuffix(Ce){return Ce.split(":")[2]}}class Gn{static createBep44PutMessage(Ce){return Yt(this,arguments,void 0,function*({dnsPacket:be,publicKeyBytes:xe,signer:ot}){const st=Math.ceil(Date.now()/1e3),Mt=(0,at.lF)(be),Qt=Ln.A.encode({seq:st,v:Mt}).subarray(1,-1);if(Qt.length>1e3)throw new S(B.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${Qt.length} bytes`);return{k:xe,seq:st,sig:yield ot.sign({data:Qt}),v:Mt}})}static identifierToIdentityKey(Ce){return Yt(this,arguments,void 0,function*({didUri:be}){let xe=Gn.identifierToIdentityKeyBytes({didUri:be});return yield de.bytesToPublicKey({publicKeyBytes:xe})})}static identifierToIdentityKeyBytes({didUri:Ce}){const be=O.parse(Ce);if(!be)throw new S(B.InvalidDid,`Invalid DID URI: ${Ce}`);if(be.method!==Tn.methodName)throw new S(B.MethodNotSupported,`Method not supported: ${be.method}`);let xe;try{xe=N.U$.base32Z(be.id).toUint8Array()}catch{throw new S(B.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==xe.length)throw new S(B.InvalidPublicKeyLength,`Invalid public key length: ${xe.length}`);return xe}static identityKeyToIdentifier(Ce){return Yt(this,arguments,void 0,function*({identityKey:be}){const xe=yield de.publicKeyToBytes({publicKey:be}),ot=N.U$.uint8Array(xe).toBase32Z();return`did:${Tn.methodName}:${ot}`})}static keyConverter(Ce){const xe={Ed25519:de,"P-256":{publicKeyToBytes:ot=>Yt(this,[ot],void 0,function*({publicKey:st}){const Mt=yield x.publicKeyToBytes({publicKey:st});return yield x.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:x.bytesToPublicKey,privateKeyToBytes:x.privateKeyToBytes,bytesToPrivateKey:x.bytesToPrivateKey},secp256k1:{publicKeyToBytes:ot=>Yt(this,[ot],void 0,function*({publicKey:st}){const Mt=yield p.publicKeyToBytes({publicKey:st});return yield p.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:p.bytesToPublicKey,privateKeyToBytes:p.privateKeyToBytes,bytesToPrivateKey:p.bytesToPrivateKey},X25519:Cn}[Ce];if(!xe)throw new S(B.InvalidPublicKeyType,`Unsupported curve: ${Ce}`);return xe}static parseBep44GetMessage(Ce){return Yt(this,arguments,void 0,function*({bep44Message:be}){const xe=yield de.bytesToPublicKey({publicKeyBytes:be.k}),ot=Ln.A.encode({seq:be.seq,v:be.v}).subarray(1,-1);if(!(yield de.verify({key:xe,signature:be.sig,data:ot})))throw new S(B.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,at.D4)(be.v)})}static parseTxtDataToObject(Ce){return this.parseTxtDataToString(Ce).split(";").reduce((be,xe)=>{const[ot,st]=xe.split("=");return be[ot]=st,be},{})}static parseTxtDataToString(Ce){if("string"==typeof Ce)return Ce;if(Ce instanceof Uint8Array)return N.U$.uint8Array(Ce).toString();if(Array.isArray(Ce))return Ce.map(be=>this.parseTxtDataToString(be)).join("");throw new S(B.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Ce){return Yt(this,arguments,void 0,function*({newDid:be,previousDidProof:xe}){const ot=yield Gn.identifierToIdentityKey({didUri:xe.previousDid}),st=Gn.identifierToIdentityKeyBytes({didUri:be}),Mt=N.U$.base64Url(xe.signature).toUint8Array();if(!(yield de.verify({key:ot,data:st,signature:Mt})))throw new S(B.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Ce){if(Ce.length<=255)return Ce;const be=[];for(let xe=0;xe<Ce.length;xe+=255)be.push(Ce.slice(xe,xe+255));return be}}_(52039),_(62108),_(37477);var Ya=function(rt){return rt.authentication="authentication",rt.assertionMethod="assertionMethod",rt.keyAgreement="keyAgreement",rt.capabilityInvocation="capabilityInvocation",rt.capabilityDelegation="capabilityDelegation",rt}(Ya||{});const ao={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Lo{constructor({method:Ce,id:be,path:xe,query:ot,fragment:st,params:Mt}){this.uri=`did:${Ce}:${be}`,this.method=Ce,this.id=be,this.path=xe,this.query=ot,this.fragment=st,this.params=Mt}static parse(Ce){if(!Ce)return null;const be=Lo.DID_URI_PATTERN.exec(Ce);if(!be||!be.groups)return null;const{method:xe,id:ot,path:st,query:Mt,fragment:Qt}=be.groups,In={uri:`did:${xe}:${ot}`,method:xe,id:ot};if(st&&(In.path=st),Mt&&(In.query=Mt.slice(1)),Qt&&(In.fragment=Qt.slice(1)),Mt){const Ie={},ie=Mt.slice(1).split("&");for(const oe of ie){const[ye,Je]=oe.split("=");Ie[ye]=Je}In.params=Ie}return In}}Lo.METHOD_PATTERN="([a-z0-9]+)",Lo.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Lo.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Lo.PCT_ENCODED_PATTERN})`,Lo.METHOD_ID_PATTERN=`((?:${Lo.ID_CHAR_PATTERN}*:)*(${Lo.ID_CHAR_PATTERN}+))`,Lo.PATH_PATTERN="(/[^#?]*)?",Lo.QUERY_PATTERN="([?][^#]*)?",Lo.FRAGMENT_PATTERN="(#.*)?",Lo.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Lo.METHOD_PATTERN}):(?<id>${Lo.METHOD_ID_PATTERN})(?<path>${Lo.PATH_PATTERN})(?<query>${Lo.QUERY_PATTERN})(?<fragment>${Lo.FRAGMENT_PATTERN})$`);class Co extends Error{constructor(Ce,be){super(`${Ce}: ${be}`),this.code=Ce,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co)}}var _o=function(rt){return rt.InvalidDid="invalidDid",rt.MethodNotSupported="methodNotSupported",rt.InternalError="internalError",rt.InvalidDidDocument="invalidDidDocument",rt.InvalidDidDocumentLength="invalidDidDocumentLength",rt.InvalidDidUrl="invalidDidUrl",rt.InvalidPreviousDidProof="invalidPreviousDidProof",rt.InvalidPublicKey="invalidPublicKey",rt.InvalidPublicKeyLength="invalidPublicKeyLength",rt.InvalidPublicKeyType="invalidPublicKeyType",rt.InvalidSignature="invalidSignature",rt.NotFound="notFound",rt.RepresentationNotSupported="representationNotSupported",rt.UnsupportedPublicKeyType="unsupportedPublicKeyType",rt}(_o||{});class Ul{static digest({data:Ce}){return function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})}(this,void 0,void 0,function*(){return(0,U.s)(Ce)})}}class dd{}const oc="urn:jwk:";function Ji({jwk:rt}){return function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})}(this,void 0,void 0,function*(){const Ce=rt.kty;let be;if("EC"===Ce)be={crv:rt.crv,kty:rt.kty,x:rt.x,y:rt.y};else if("oct"===Ce)be={k:rt.k,kty:rt.kty};else if("OKP"===Ce)be={crv:rt.crv,kty:rt.kty,x:rt.x};else{if("RSA"!==Ce)throw new Error(`Unsupported key type: ${Ce}`);be={e:rt.e,kty:rt.kty,n:rt.n}}(0,N.E8)(be);const xe=function ic(rt){const Ce=xe=>{if(null!==xe&&"object"==typeof xe&&!Array.isArray(xe)){const ot=Object.keys(xe).sort(),st={};for(const Mt of ot)st[Mt]=Ce(xe[Mt]);return st}return xe},be=Ce(rt);return JSON.stringify(be)}(be),ot=N.U$.string(xe).toUint8Array(),st=yield Ul.digest({data:ot});return N.U$.uint8Array(st).toBase64Url()})}function ca(rt){return!(!rt||"object"!=typeof rt||!("kty"in rt&&"crv"in rt&&"x"in rt&&"d"in rt)||"EC"!==rt.kty||"string"!=typeof rt.d||"string"!=typeof rt.x)}function Uc(rt){return!(!rt||"object"!=typeof rt||!("kty"in rt&&"crv"in rt&&"x"in rt)||"d"in rt||"EC"!==rt.kty||"string"!=typeof rt.x)}function Ko(rt){return!(!rt||"object"!=typeof rt||!("kty"in rt&&"crv"in rt&&"x"in rt&&"d"in rt)||"OKP"!==rt.kty||"string"!=typeof rt.d||"string"!=typeof rt.x)}function Ld(rt){return!(!rt||"object"!=typeof rt||"d"in rt||!("kty"in rt&&"crv"in rt&&"x"in rt)||"OKP"!==rt.kty||"string"!=typeof rt.x)}var es=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class Xo{static adjustSignatureToLowS({signature:Ce}){return es(this,void 0,void 0,function*(){const be=q.bI.Signature.fromCompact(Ce);return be.hasHighS()?be.normalizeS().toCompactRawBytes():Ce})}static bytesToPrivateKey({privateKeyBytes:Ce}){return es(this,void 0,void 0,function*(){const be=yield Xo.getCurvePoint({keyBytes:Ce}),xe={kty:"EC",crv:"secp256k1",d:N.U$.uint8Array(Ce).toBase64Url(),x:N.U$.uint8Array(be.x).toBase64Url(),y:N.U$.uint8Array(be.y).toBase64Url()};return xe.kid=yield Ji({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Ce}){return es(this,void 0,void 0,function*(){const be=yield Xo.getCurvePoint({keyBytes:Ce}),xe={kty:"EC",crv:"secp256k1",x:N.U$.uint8Array(be.x).toBase64Url(),y:N.U$.uint8Array(be.y).toBase64Url()};return xe.kid=yield Ji({jwk:xe}),xe})}static compressPublicKey({publicKeyBytes:Ce}){return es(this,void 0,void 0,function*(){return q.bI.ProjectivePoint.fromHex(Ce).toRawBytes(!0)})}static computePublicKey({key:Ce}){return es(this,void 0,void 0,function*(){const be=yield Xo.privateKeyToBytes({privateKey:Ce}),xe=yield Xo.getCurvePoint({keyBytes:be}),ot={kty:"EC",crv:"secp256k1",x:N.U$.uint8Array(xe.x).toBase64Url(),y:N.U$.uint8Array(xe.y).toBase64Url()};return ot.kid=yield Ji({jwk:ot}),ot})}static convertDerToCompactSignature({derSignature:Ce}){return es(this,void 0,void 0,function*(){return q.bI.Signature.fromDER(Ce).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Ce}){return es(this,void 0,void 0,function*(){return q.bI.ProjectivePoint.fromHex(Ce).toRawBytes(!1)})}static generateKey(){return es(this,void 0,void 0,function*(){const Ce=q.bI.utils.randomPrivateKey(),be=yield Xo.bytesToPrivateKey({privateKeyBytes:Ce});return be.kid=yield Ji({jwk:be}),be})}static getPublicKey({key:Ce}){var be;return es(this,void 0,void 0,function*(){if(!ca(Ce)||"secp256k1"!==Ce.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let ot=function(rt,Ce){var be={};for(var xe in rt)Object.prototype.hasOwnProperty.call(rt,xe)&&Ce.indexOf(xe)<0&&(be[xe]=rt[xe]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(xe=Object.getOwnPropertySymbols(rt);ot<xe.length;ot++)Ce.indexOf(xe[ot])<0&&Object.prototype.propertyIsEnumerable.call(rt,xe[ot])&&(be[xe[ot]]=rt[xe[ot]])}return be}(Ce,["d"]);return null!==(be=ot.kid)&&void 0!==be||(ot.kid=yield Ji({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Ce}){return es(this,void 0,void 0,function*(){if(!ca(Ce))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return N.U$.base64Url(Ce.d).toUint8Array()})}static publicKeyToBytes({publicKey:Ce}){return es(this,void 0,void 0,function*(){if(!Uc(Ce)||!Ce.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const be=new Uint8Array([4]),xe=N.U$.base64Url(Ce.x).toUint8Array(),ot=N.U$.base64Url(Ce.y).toUint8Array();return new Uint8Array([...be,...xe,...ot])})}static sharedSecret({privateKeyA:Ce,publicKeyB:be}){return es(this,void 0,void 0,function*(){if("x"in Ce&&"x"in be&&Ce.x===be.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield Xo.privateKeyToBytes({privateKey:Ce}),ot=yield Xo.publicKeyToBytes({publicKey:be});return q.bI.getSharedSecret(xe,ot,!0).slice(1)})}static sign({data:Ce,key:be}){return es(this,void 0,void 0,function*(){const xe=yield Xo.privateKeyToBytes({privateKey:be}),ot=(0,U.s)(Ce);return q.bI.sign(ot,xe).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Ce}){return es(this,void 0,void 0,function*(){return q.bI.utils.isValidPrivateKey(Ce)})}static validatePublicKey({publicKeyBytes:Ce}){return es(this,void 0,void 0,function*(){try{q.bI.ProjectivePoint.fromHex(Ce).assertValidity()}catch{return!1}return!0})}static verify({key:Ce,signature:be,data:xe}){return es(this,void 0,void 0,function*(){const ot=yield Xo.publicKeyToBytes({publicKey:Ce}),st=(0,U.s)(xe);return q.bI.verify(be,st,ot,{lowS:!1})})}static getCurvePoint({keyBytes:Ce}){return es(this,void 0,void 0,function*(){32===Ce.byteLength&&(Ce=q.bI.getPublicKey(Ce));const be=q.bI.ProjectivePoint.fromHex(Ce);return{x:(0,Z.lq)(be.x,32),y:(0,Z.lq)(be.y,32)}})}}var kr=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class Do{static adjustSignatureToLowS({signature:Ce}){return kr(this,void 0,void 0,function*(){const be=E.Ag.Signature.fromCompact(Ce);return be.hasHighS()?be.normalizeS().toCompactRawBytes():Ce})}static bytesToPrivateKey({privateKeyBytes:Ce}){return kr(this,void 0,void 0,function*(){const be=yield Do.getCurvePoint({keyBytes:Ce}),xe={kty:"EC",crv:"P-256",d:N.U$.uint8Array(Ce).toBase64Url(),x:N.U$.uint8Array(be.x).toBase64Url(),y:N.U$.uint8Array(be.y).toBase64Url()};return xe.kid=yield Ji({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Ce}){return kr(this,void 0,void 0,function*(){const be=yield Do.getCurvePoint({keyBytes:Ce}),xe={kty:"EC",crv:"P-256",x:N.U$.uint8Array(be.x).toBase64Url(),y:N.U$.uint8Array(be.y).toBase64Url()};return xe.kid=yield Ji({jwk:xe}),xe})}static compressPublicKey({publicKeyBytes:Ce}){return kr(this,void 0,void 0,function*(){return E.Ag.ProjectivePoint.fromHex(Ce).toRawBytes(!0)})}static computePublicKey({key:Ce}){return kr(this,void 0,void 0,function*(){const be=yield Do.privateKeyToBytes({privateKey:Ce}),xe=yield Do.getCurvePoint({keyBytes:be}),ot={kty:"EC",crv:"P-256",x:N.U$.uint8Array(xe.x).toBase64Url(),y:N.U$.uint8Array(xe.y).toBase64Url()};return ot.kid=yield Ji({jwk:ot}),ot})}static convertDerToCompactSignature({derSignature:Ce}){return kr(this,void 0,void 0,function*(){return E.Ag.Signature.fromDER(Ce).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:Ce}){return kr(this,void 0,void 0,function*(){return E.Ag.ProjectivePoint.fromHex(Ce).toRawBytes(!1)})}static generateKey(){return kr(this,void 0,void 0,function*(){const Ce=E.Ag.utils.randomPrivateKey(),be=yield Do.bytesToPrivateKey({privateKeyBytes:Ce});return be.kid=yield Ji({jwk:be}),be})}static getPublicKey({key:Ce}){var be;return kr(this,void 0,void 0,function*(){if(!ca(Ce)||"P-256"!==Ce.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let ot=function(rt,Ce){var be={};for(var xe in rt)Object.prototype.hasOwnProperty.call(rt,xe)&&Ce.indexOf(xe)<0&&(be[xe]=rt[xe]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(xe=Object.getOwnPropertySymbols(rt);ot<xe.length;ot++)Ce.indexOf(xe[ot])<0&&Object.prototype.propertyIsEnumerable.call(rt,xe[ot])&&(be[xe[ot]]=rt[xe[ot]])}return be}(Ce,["d"]);return null!==(be=ot.kid)&&void 0!==be||(ot.kid=yield Ji({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Ce}){return kr(this,void 0,void 0,function*(){if(!ca(Ce))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return N.U$.base64Url(Ce.d).toUint8Array()})}static publicKeyToBytes({publicKey:Ce}){return kr(this,void 0,void 0,function*(){if(!Uc(Ce)||!Ce.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const be=new Uint8Array([4]),xe=N.U$.base64Url(Ce.x).toUint8Array(),ot=N.U$.base64Url(Ce.y).toUint8Array();return new Uint8Array([...be,...xe,...ot])})}static sharedSecret({privateKeyA:Ce,publicKeyB:be}){return kr(this,void 0,void 0,function*(){if("x"in Ce&&"x"in be&&Ce.x===be.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield Do.privateKeyToBytes({privateKey:Ce}),ot=yield Do.publicKeyToBytes({publicKey:be});return E.Ag.getSharedSecret(xe,ot,!0).slice(1)})}static sign({data:Ce,key:be}){return kr(this,void 0,void 0,function*(){const xe=yield Do.privateKeyToBytes({privateKey:be}),ot=(0,U.s)(Ce);return E.Ag.sign(ot,xe).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:Ce}){return kr(this,void 0,void 0,function*(){return E.Ag.utils.isValidPrivateKey(Ce)})}static validatePublicKey({publicKeyBytes:Ce}){return kr(this,void 0,void 0,function*(){try{E.Ag.ProjectivePoint.fromHex(Ce).assertValidity()}catch{return!1}return!0})}static verify({key:Ce,signature:be,data:xe}){return kr(this,void 0,void 0,function*(){const ot=yield Do.publicKeyToBytes({publicKey:Ce}),st=(0,U.s)(xe);return E.Ag.verify(be,st,ot,{lowS:!1})})}static getCurvePoint({keyBytes:Ce}){return kr(this,void 0,void 0,function*(){32===Ce.byteLength&&(Ce=E.Ag.getPublicKey(Ce));const be=E.Ag.ProjectivePoint.fromHex(Ce);return{x:(0,Z.lq)(be.x,32),y:(0,Z.lq)(be.y,32)}})}}var Za=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class Cs extends dd{computePublicKey({key:Ce}){return Za(this,void 0,void 0,function*(){if(!ca(Ce))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Ce.crv){case"secp256k1":{const be=yield Xo.computePublicKey({key:Ce});return be.alg="ES256K",be}case"P-256":{const be=yield Do.computePublicKey({key:Ce});return be.alg="ES256",be}default:throw new Error(`Unsupported curve: ${Ce.crv}`)}})}generateKey({algorithm:Ce}){return Za(this,void 0,void 0,function*(){switch(Ce){case"ES256K":case"secp256k1":{const be=yield Xo.generateKey();return be.alg="ES256K",be}case"ES256":case"secp256r1":{const be=yield Do.generateKey();return be.alg="ES256",be}}})}getPublicKey({key:Ce}){return Za(this,void 0,void 0,function*(){if(!ca(Ce))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Ce.crv){case"secp256k1":{const be=yield Xo.getPublicKey({key:Ce});return be.alg="ES256K",be}case"P-256":{const be=yield Do.getPublicKey({key:Ce});return be.alg="ES256",be}default:throw new Error(`Unsupported curve: ${Ce.crv}`)}})}sign({key:Ce,data:be}){return Za(this,void 0,void 0,function*(){if(!ca(Ce))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(Ce.crv){case"secp256k1":return yield Xo.sign({key:Ce,data:be});case"P-256":return yield Do.sign({key:Ce,data:be});default:throw new Error(`Unsupported curve: ${Ce.crv}`)}})}verify({key:Ce,signature:be,data:xe}){return Za(this,void 0,void 0,function*(){if(!Uc(Ce))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(Ce.crv){case"secp256k1":return yield Xo.verify({key:Ce,signature:be,data:xe});case"P-256":return yield Do.verify({key:Ce,signature:be,data:xe});default:throw new Error(`Unsupported curve: ${Ce.crv}`)}})}}var ls=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class co{static bytesToPrivateKey({privateKeyBytes:Ce}){return ls(this,void 0,void 0,function*(){const be=$.ev.getPublicKey(Ce),xe={crv:"Ed25519",d:N.U$.uint8Array(Ce).toBase64Url(),kty:"OKP",x:N.U$.uint8Array(be).toBase64Url()};return xe.kid=yield Ji({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Ce}){return ls(this,void 0,void 0,function*(){const be={kty:"OKP",crv:"Ed25519",x:N.U$.uint8Array(Ce).toBase64Url()};return be.kid=yield Ji({jwk:be}),be})}static computePublicKey({key:Ce}){return ls(this,void 0,void 0,function*(){const be=yield co.privateKeyToBytes({privateKey:Ce}),xe=$.ev.getPublicKey(be),ot={kty:"OKP",crv:"Ed25519",x:N.U$.uint8Array(xe).toBase64Url()};return ot.kid=yield Ji({jwk:ot}),ot})}static convertPrivateKeyToX25519({privateKey:Ce}){return ls(this,void 0,void 0,function*(){const be=yield co.privateKeyToBytes({privateKey:Ce}),xe=(0,$.OA)(be),ot=$.TU.getPublicKey(xe),st={kty:"OKP",crv:"X25519",d:N.U$.uint8Array(xe).toBase64Url(),x:N.U$.uint8Array(ot).toBase64Url()};return st.kid=yield Ji({jwk:st}),st})}static convertPublicKeyToX25519({publicKey:Ce}){return ls(this,void 0,void 0,function*(){const be=yield co.publicKeyToBytes({publicKey:Ce});if(!(yield co.validatePublicKey({publicKeyBytes:be})))throw new Error("Ed25519: Invalid public key.");const ot=(0,$.GU)(be),st={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(ot).toBase64Url()};return st.kid=yield Ji({jwk:st}),st})}static generateKey(){return ls(this,void 0,void 0,function*(){const Ce=$.ev.utils.randomPrivateKey(),be=yield co.bytesToPrivateKey({privateKeyBytes:Ce});return be.kid=yield Ji({jwk:be}),be})}static getPublicKey({key:Ce}){var be;return ls(this,void 0,void 0,function*(){if(!Ko(Ce)||"Ed25519"!==Ce.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let ot=function(rt,Ce){var be={};for(var xe in rt)Object.prototype.hasOwnProperty.call(rt,xe)&&Ce.indexOf(xe)<0&&(be[xe]=rt[xe]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(xe=Object.getOwnPropertySymbols(rt);ot<xe.length;ot++)Ce.indexOf(xe[ot])<0&&Object.prototype.propertyIsEnumerable.call(rt,xe[ot])&&(be[xe[ot]]=rt[xe[ot]])}return be}(Ce,["d"]);return null!==(be=ot.kid)&&void 0!==be||(ot.kid=yield Ji({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Ce}){return ls(this,void 0,void 0,function*(){if(!Ko(Ce))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return N.U$.base64Url(Ce.d).toUint8Array()})}static publicKeyToBytes({publicKey:Ce}){return ls(this,void 0,void 0,function*(){if(!Ld(Ce))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return N.U$.base64Url(Ce.x).toUint8Array()})}static sign({key:Ce,data:be}){return ls(this,void 0,void 0,function*(){const xe=yield co.privateKeyToBytes({privateKey:Ce});return $.ev.sign(be,xe)})}static validatePublicKey({publicKeyBytes:Ce}){return ls(this,void 0,void 0,function*(){try{$.ev.ExtendedPoint.fromHex(Ce).assertValidity()}catch{return!1}return!0})}static verify({key:Ce,signature:be,data:xe}){return ls(this,void 0,void 0,function*(){const ot=yield co.publicKeyToBytes({publicKey:Ce});return $.ev.verify(be,xe,ot)})}}var So=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})},qs=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};const sc={Ed25519:{implementation:class zs extends dd{computePublicKey({key:Ce}){return So(this,void 0,void 0,function*(){if(!Ko(Ce))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Ce.crv){const be=yield co.computePublicKey({key:Ce});return be.alg="EdDSA",be}throw new Error(`Unsupported curve: ${Ce.crv}`)})}generateKey({algorithm:Ce}){return So(this,void 0,void 0,function*(){if("Ed25519"===Ce){const be=yield co.generateKey();return be.alg="EdDSA",be}})}getPublicKey({key:Ce}){return So(this,void 0,void 0,function*(){if(!Ko(Ce))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Ce.crv){const be=yield co.getPublicKey({key:Ce});return be.alg="EdDSA",be}throw new Error(`Unsupported curve: ${Ce.crv}`)})}sign({key:Ce,data:be}){return So(this,void 0,void 0,function*(){if(!Ko(Ce))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===Ce.crv)return yield co.sign({key:Ce,data:be});throw new Error(`Unsupported curve: ${Ce.crv}`)})}verify({key:Ce,signature:be,data:xe}){return So(this,void 0,void 0,function*(){if(!Ld(Ce))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===Ce.crv)return yield co.verify({key:Ce,signature:be,data:xe});throw new Error(`Unsupported curve: ${Ce.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:Cs,names:["ES256K","secp256k1"]},secp256r1:{implementation:Cs,names:["ES256","secp256r1"]},"SHA-256":{implementation:class Hc extends dd{digest({algorithm:Ce,data:be}){return function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===Ce)return yield Ul.digest({data:be})})}},names:["SHA-256"]}};class ko{constructor(Ce){var be;this._algorithmInstances=new Map,this._keyStore=null!==(be=Ce?.keyStore)&&void 0!==be?be:new N.ny}digest({algorithm:Ce,data:be}){return qs(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:Ce}).digest({algorithm:Ce,data:be})})}exportKey({keyUri:Ce}){return qs(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:Ce})})}generateKey({algorithm:Ce}){return qs(this,void 0,void 0,function*(){const xe=yield this.getAlgorithm({algorithm:Ce}).generateKey({algorithm:Ce});if(void 0===xe?.kid)throw new Error("Generated key is missing a required property: kid");const ot=`${oc}${xe.kid}`;return yield this._keyStore.set(ot,xe),ot})}getKeyUri({key:Ce}){return qs(this,void 0,void 0,function*(){const be=yield Ji({jwk:Ce});return`${oc}${be}`})}getPublicKey({keyUri:Ce}){return qs(this,void 0,void 0,function*(){const be=yield this.getPrivateKey({keyUri:Ce}),xe=this.getAlgorithmName({key:be});return yield this.getAlgorithm({algorithm:xe}).getPublicKey({key:be})})}importKey({key:Ce}){var be;return qs(this,void 0,void 0,function*(){if(!function Wc(rt){if(!rt||"object"!=typeof rt)return!1;switch(rt.kty){case"EC":case"OKP":case"RSA":return"d"in rt;case"oct":return"k"in rt;default:return!1}}(Ce))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const xe=structuredClone(Ce);null!==(be=xe.kid)&&void 0!==be||(xe.kid=yield Ji({jwk:xe}));const ot=yield this.getKeyUri({key:xe});return yield this._keyStore.set(ot,xe),ot})}sign({keyUri:Ce,data:be}){return qs(this,void 0,void 0,function*(){const xe=yield this.getPrivateKey({keyUri:Ce}),ot=this.getAlgorithmName({key:xe});return this.getAlgorithm({algorithm:ot}).sign({data:be,key:xe})})}verify({key:Ce,signature:be,data:xe}){return qs(this,void 0,void 0,function*(){const ot=this.getAlgorithmName({key:Ce});return this.getAlgorithm({algorithm:ot}).verify({key:Ce,signature:be,data:xe})})}getAlgorithm({algorithm:Ce}){var be;const xe=null===(be=sc[Ce])||void 0===be?void 0:be.implementation;if(!xe)throw new Error(`Algorithm not supported: ${Ce}`);return this._algorithmInstances.has(xe)||this._algorithmInstances.set(xe,new xe),this._algorithmInstances.get(xe)}getAlgorithmName({key:Ce}){const be=Ce.alg,xe=Ce.crv;for(const ot in sc){const st=sc[ot];if(be&&st.names.includes(be))return ot;if(xe&&st.names.includes(xe))return ot}throw new Error(`Unable to determine algorithm based on provided input: alg=${be}, crv=${xe}`)}getPrivateKey({keyUri:Ce}){return qs(this,void 0,void 0,function*(){const be=yield this._keyStore.get(Ce);if(!be)throw new Error(`Key not found: ${Ce}`);return be})}}function no(rt){const Ce={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(rt.alg&&Object.values(Ce).includes(rt.alg))return rt.alg;if(rt.crv&&Object.keys(Ce).includes(rt.crv))return Ce[rt.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${rt.alg}, crv=${rt.crv}. Supported 'alg' values: ${Object.values(Ce).join(", ")}. Supported 'crv' values: ${Object.keys(Ce).join(", ")}.`)}var Ls=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class Ot{static bytesToPrivateKey({privateKeyBytes:Ce}){return Ls(this,void 0,void 0,function*(){const be=$.TU.getPublicKey(Ce),xe={kty:"OKP",crv:"X25519",d:N.U$.uint8Array(Ce).toBase64Url(),x:N.U$.uint8Array(be).toBase64Url()};return xe.kid=yield Ji({jwk:xe}),xe})}static bytesToPublicKey({publicKeyBytes:Ce}){return Ls(this,void 0,void 0,function*(){const be={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(Ce).toBase64Url()};return be.kid=yield Ji({jwk:be}),be})}static computePublicKey({key:Ce}){return Ls(this,void 0,void 0,function*(){const be=yield Ot.privateKeyToBytes({privateKey:Ce}),xe=$.TU.getPublicKey(be),ot={kty:"OKP",crv:"X25519",x:N.U$.uint8Array(xe).toBase64Url()};return ot.kid=yield Ji({jwk:ot}),ot})}static generateKey(){return Ls(this,void 0,void 0,function*(){const Ce=$.TU.utils.randomPrivateKey(),be=yield Ot.bytesToPrivateKey({privateKeyBytes:Ce});return be.kid=yield Ji({jwk:be}),be})}static getPublicKey({key:Ce}){var be;return Ls(this,void 0,void 0,function*(){if(!Ko(Ce)||"X25519"!==Ce.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let ot=function(rt,Ce){var be={};for(var xe in rt)Object.prototype.hasOwnProperty.call(rt,xe)&&Ce.indexOf(xe)<0&&(be[xe]=rt[xe]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(xe=Object.getOwnPropertySymbols(rt);ot<xe.length;ot++)Ce.indexOf(xe[ot])<0&&Object.prototype.propertyIsEnumerable.call(rt,xe[ot])&&(be[xe[ot]]=rt[xe[ot]])}return be}(Ce,["d"]);return null!==(be=ot.kid)&&void 0!==be||(ot.kid=yield Ji({jwk:ot})),ot})}static privateKeyToBytes({privateKey:Ce}){return Ls(this,void 0,void 0,function*(){if(!Ko(Ce))throw new Error("X25519: The provided key is not a valid OKP private key.");return N.U$.base64Url(Ce.d).toUint8Array()})}static publicKeyToBytes({publicKey:Ce}){return Ls(this,void 0,void 0,function*(){if(!Ld(Ce))throw new Error("X25519: The provided key is not a valid OKP public key.");return N.U$.base64Url(Ce.x).toUint8Array()})}static sharedSecret({privateKeyA:Ce,publicKeyB:be}){return Ls(this,void 0,void 0,function*(){if("x"in Ce&&"x"in be&&Ce.x===be.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const xe=yield Ot.privateKeyToBytes({privateKey:Ce}),ot=yield Ot.publicKeyToBytes({publicKey:be});return $.TU.getSharedSecret(xe,ot)})}}function la(rt){if("string"==typeof rt&&0!==rt.length)return rt.split("#").pop()}function bs(rt){return!(!rt||"object"!=typeof rt||null===rt||!("id"in rt&&"type"in rt&&"controller"in rt)||"string"!=typeof rt.id||"string"!=typeof rt.type||"string"!=typeof rt.controller)}var bl=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class qa{constructor({uri:Ce,document:be,metadata:xe,keyManager:ot}){this.uri=Ce,this.document=be,this.metadata=xe,this.keyManager=ot}export(){return bl(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let Ce={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const be=[];for(let xe of this.document.verificationMethod){if(!xe.publicKeyJwk)throw new Error(`Verification method '${xe.id}' does not contain a public key in JWK format`);const ot=yield this.keyManager.getKeyUri({key:xe.publicKeyJwk}),st=yield this.keyManager.exportKey({keyUri:ot});be.push(Object.assign({},st))}Ce.privateKeys=be}return Ce})}getSigner(Ce){return bl(this,void 0,void 0,function*(){var be;const xe=null===(be=this.document.verificationMethod)||void 0===be?void 0:be.find(In=>{var Ie,ie;return la(In.id)===(null!==(Ie=la(Ce?.methodId))&&void 0!==Ie?Ie:la(null===(ie=this.document.assertionMethod)||void 0===ie?void 0:ie[0]))});if(!xe||!xe.publicKeyJwk)throw new Co(_o.InternalError,"A verification method intended for signing could not be determined from the DID Document");const ot=yield this.keyManager.getKeyUri({key:xe.publicKeyJwk}),st=yield this.keyManager.getPublicKey({keyUri:ot}),Mt=this.keyManager;return{algorithm:no(st),keyId:xe.id,sign(In){return bl(this,arguments,void 0,function*({data:Ie}){return yield Mt.sign({data:Ie,keyUri:ot})})},verify(In){return bl(this,arguments,void 0,function*({data:Ie,signature:ie}){return yield Mt.verify({data:Ie,key:st,signature:ie})})}}})}static import(Ce){return bl(this,arguments,void 0,function*({portableDid:be,keyManager:xe=new ko}){var ot;const st=function Zl({didDocument:rt}){var Ce,be;if(!rt)throw new TypeError("Required parameter missing: 'didDocument'");const xe=[];return xe.push(...null!==(be=null===(Ce=rt.verificationMethod)||void 0===Ce?void 0:Ce.filter(bs))&&void 0!==be?be:[]),Object.keys(Ya).forEach(ot=>{var st,Mt;xe.push(...null!==(Mt=null===(st=rt[ot])||void 0===st?void 0:st.filter(bs))&&void 0!==Mt?Mt:[])}),xe}({didDocument:be.document});if(0===st.length)throw new Co(_o.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let Qt of null!==(ot=be.privateKeys)&&void 0!==ot?ot:[])yield xe.importKey({key:Qt});for(let Qt of st){if(!Qt.publicKeyJwk)throw new Error(`Verification method '${Qt.id}' does not contain a public key in JWK format`);const In=yield xe.getKeyUri({key:Qt.publicKeyJwk});yield xe.getPublicKey({keyUri:In})}return new qa({uri:be.uri,document:be.document,metadata:be.metadata,keyManager:xe})})}}var Su=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class Wf{static getSigningMethod(Ce){return Su(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(Ce,be){return Su(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var ks=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})},wl=function(rt,Ce){var be={};for(var xe in rt)Object.prototype.hasOwnProperty.call(rt,xe)&&Ce.indexOf(xe)<0&&(be[xe]=rt[xe]);if(null!=rt&&"function"==typeof Object.getOwnPropertySymbols){var ot=0;for(xe=Object.getOwnPropertySymbols(rt);ot<xe.length;ot++)Ce.indexOf(xe[ot])<0&&Object.prototype.propertyIsEnumerable.call(rt,xe[ot])&&(be[xe[ot]]=rt[xe[ot]])}return be};const Qu="https://diddht.tbddev.org",ql=7200,is=",";var Tu=function(rt){return rt[rt.Discoverable=0]="Discoverable",rt[rt.Organization=1]="Organization",rt[rt.Government=2]="Government",rt[rt.Corporation=3]="Corporation",rt[rt.LocalBusiness=4]="LocalBusiness",rt[rt.SoftwarePackage=5]="SoftwarePackage",rt[rt.WebApp=6]="WebApp",rt[rt.FinancialInstitution=7]="FinancialInstitution",rt}(Tu||{}),Ha=function(rt){return rt[rt.Ed25519=0]="Ed25519",rt[rt.secp256k1=1]="secp256k1",rt[rt.secp256r1=2]="secp256r1",rt[rt.X25519=3]="X25519",rt}(Ha||{}),Xi=function(rt){return rt.authentication="auth",rt.assertionMethod="asm",rt.capabilityDelegation="del",rt.capabilityInvocation="inv",rt.keyAgreement="agm",rt}(Xi||{});const cc={Ed25519:Ha.Ed25519,ES256K:Ha.secp256k1,ES256:Ha.secp256r1,"P-256":Ha.secp256r1,secp256k1:Ha.secp256k1,secp256r1:Ha.secp256r1,X25519:Ha.X25519},Qr={[Ha.Ed25519]:"Ed25519",[Ha.secp256k1]:"ES256K",[Ha.secp256r1]:"ES256",[Ha.X25519]:"ECDH-ES+A256KW"};let Qa=(()=>{class rt extends Wf{static create(){return ks(this,arguments,void 0,function*({keyManager:be=new ko,options:xe={}}={}){var ot,st,Mt,Qt,In,Ie,ie,oe,ye,Je,Ze;if(null!==(ot=xe.verificationMethods)&&void 0!==ot&&ot.some(ur=>!(ur.algorithm in cc)))throw new Error("One or more verification method algorithms are not supported");const ht=null===(st=xe.verificationMethods)||void 0===st?void 0:st.filter(ur=>"id"in ur).map(ur=>ur.id);if(ht&&ht.length!==new Set(ht).size)throw new Error("One or more verification method IDs are not unique");if(null!==(Mt=xe.services)&&void 0!==Mt&&Mt.some(ur=>!ur.id||!ur.type||!ur.serviceEndpoint))throw new Error("One or more services are missing required properties");const Vt=yield be.generateKey({algorithm:"Ed25519"}),vn=yield be.getPublicKey({keyUri:Vt}),zt=yield xi.identityKeyToIdentifier({identityKey:vn}),dt=Object.assign(Object.assign({id:zt},xe.alsoKnownAs&&{alsoKnownAs:xe.alsoKnownAs}),xe.controllers&&{controller:xe.controllers}),tn=[...null!==(Qt=xe.verificationMethods)&&void 0!==Qt?Qt:[]];tn?.some(ur=>{var Vr;return"0"===(null===(Vr=ur.id)||void 0===Vr?void 0:Vr.split("#").pop())})||tn.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const ur of tn){const Vr=ur.id&&"0"===ur.id.split("#").pop()?Vt:yield be.generateKey({algorithm:ur.algorithm}),ai=yield be.getPublicKey({keyUri:Vr});let pi=null!==(Ie=null!==(In=ur.id)&&void 0!==In?In:ai.kid)&&void 0!==Ie?Ie:yield Ji({jwk:ai});pi=`${zt}#${la(pi)}`,null!==(ie=dt.verificationMethod)&&void 0!==ie||(dt.verificationMethod=[]),dt.verificationMethod.push({id:pi,type:"JsonWebKey",controller:null!==(oe=ur.controller)&&void 0!==oe?oe:zt,publicKeyJwk:ai});for(const Oi of null!==(ye=ur.purposes)&&void 0!==ye?ye:[])dt[Oi]||(dt[Oi]=[]),dt[Oi].push(pi)}null===(Je=xe.services)||void 0===Je||Je.forEach(ur=>{var Vr;null!==(Vr=dt.service)&&void 0!==Vr||(dt.service=[]),ur.id=`${zt}#${ur.id.split("#").pop()}`,dt.service.push(ur)});const pr=new qa({uri:zt,document:dt,metadata:Object.assign({published:!1},xe.types&&{types:xe.types}),keyManager:be});if(null===(Ze=xe.publish)||void 0===Ze||Ze){const ur=yield rt.publish({did:pr,gatewayUri:xe.gatewayUri});pr.metadata=ur.didDocumentMetadata}return pr})}static import(be){return ks(this,arguments,void 0,function*({portableDid:xe,keyManager:ot=new ko}){var st;const Mt=Lo.parse(xe.uri);if(Mt?.method!==rt.methodName)throw new Co(_o.MethodNotSupported,"Method not supported");const Qt=yield qa.import({portableDid:xe,keyManager:ot});if(null===(st=Qt.document.verificationMethod)||void 0===st||!st.some(In=>{var Ie;return"0"===(null===(Ie=In.id)||void 0===Ie?void 0:Ie.split("#").pop())}))throw new Co(_o.InvalidDidDocument,"DID document must contain an Identity Key");return Qt})}static getSigningMethod(be){return ks(this,arguments,void 0,function*({didDocument:xe,methodId:ot="#0"}){var st;const Mt=Lo.parse(xe.id);if(Mt&&Mt.method!==this.methodName)throw new Co(_o.MethodNotSupported,`Method not supported: ${Mt.method}`);const Qt=null===(st=xe.verificationMethod)||void 0===st?void 0:st.find(In=>{var Ie,ie;return la(In.id)===(null!==(Ie=la(ot))&&void 0!==Ie?Ie:la(null===(ie=xe.assertionMethod)||void 0===ie?void 0:ie[0]))});if(!Qt||!Qt.publicKeyJwk)throw new Co(_o.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Qt})}static publish(be){return ks(this,arguments,void 0,function*({did:xe,gatewayUri:ot=Qu}){return yield Zr.put({did:xe,gatewayUri:ot})})}static resolve(be){return ks(this,arguments,void 0,function*(xe,ot={}){var st;const Mt=null!==(st=ot?.gatewayUri)&&void 0!==st?st:Qu;try{yield xi.identifierToIdentityKey({didUri:xe});const{didDocument:Qt,didDocumentMetadata:In}=yield Zr.get({didUri:xe,gatewayUri:Mt});return Object.assign(Object.assign({},ao),{didDocument:Qt,didDocumentMetadata:In})}catch(Qt){if(!(Qt instanceof Co))throw new Error(Qt);return Object.assign(Object.assign({},ao),{didResolutionMetadata:Object.assign({error:Qt.code},Qt.message&&{errorMessage:Qt.message})})}})}}return rt.methodName="dht",rt})();class Zr{static get(Ce){return ks(this,arguments,void 0,function*({didUri:be,gatewayUri:xe}){const ot=xi.identifierToIdentityKeyBytes({didUri:be}),st=yield Zr.pkarrGet({gatewayUri:xe,publicKeyBytes:ot}),Mt=yield xi.parseBep44GetMessage({bep44Message:st}),Qt=yield Zr.fromDnsPacket({didUri:be,dnsPacket:Mt});return Qt.didDocumentMetadata.versionId=st.seq.toString(),Qt})}static put(Ce){return ks(this,arguments,void 0,function*({did:be,gatewayUri:xe}){const ot=yield Zr.toDnsPacket({didDocument:be.document,didMetadata:be.metadata,authoritativeGatewayUris:[xe]}),st=yield xi.createBep44PutMessage({dnsPacket:ot,publicKeyBytes:xi.identifierToIdentityKeyBytes({didUri:be.uri}),signer:yield be.getSigner({methodId:"0"})}),Mt=yield Zr.pkarrPut({gatewayUri:xe,bep44Message:st});return{didDocument:be.document,didDocumentMetadata:Object.assign(Object.assign({},be.metadata),{published:Mt,versionId:st.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(Ce){return ks(this,arguments,void 0,function*({gatewayUri:be,publicKeyBytes:xe}){const ot=N.U$.uint8Array(xe).toBase32Z(),st=new URL(ot,be).href;let Mt;try{if(Mt=yield fetch(st,{method:"GET"}),!Mt.ok)throw new Co(_o.NotFound,`Pkarr record not found for: ${ot}`)}catch(Ie){throw Ie instanceof Co?Ie:new Co(_o.InternalError,`Failed to fetch Pkarr record: ${Ie.message}`)}const Qt=yield Mt.arrayBuffer();if(!Qt)throw new Co(_o.NotFound,`Pkarr record not found for: ${ot}`);if(Qt.byteLength<72)throw new Co(_o.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${Qt.byteLength}`);if(Qt.byteLength>1072)throw new Co(_o.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${Qt.byteLength}`);return{k:xe,seq:Number(new DataView(Qt).getBigUint64(64)),sig:new Uint8Array(Qt,0,64),v:new Uint8Array(Qt,72)}})}static pkarrPut(Ce){return ks(this,arguments,void 0,function*({gatewayUri:be,bep44Message:xe}){const ot=N.U$.uint8Array(xe.k).toBase32Z(),st=new URL(ot,be).href,Mt=new Uint8Array(xe.v.length+72);let Qt;Mt.set(xe.sig,0),new DataView(Mt.buffer).setBigUint64(xe.sig.length,BigInt(xe.seq)),Mt.set(xe.v,xe.sig.length+8);try{Qt=yield fetch(st,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:Mt})}catch(In){throw new Co(_o.InternalError,`Failed to put Pkarr record for identifier ${ot}: ${In.message}`)}return Qt.ok})}static fromDnsPacket(Ce){return ks(this,arguments,void 0,function*({didUri:be,dnsPacket:xe}){var ot,st,Mt;const Qt={id:be},In={published:!0},Ie=new Map;for(const ie of null!==(ot=xe?.answers)&&void 0!==ot?ot:[]){if("TXT"!==ie.type)continue;const oe=ie.name.split(".")[0].substring(1);switch(!0){case oe.startsWith("aka"):{const ye=xi.parseTxtDataToString(ie.data);Qt.alsoKnownAs=ye.split(is);break}case oe.startsWith("cnt"):{const ye=xi.parseTxtDataToString(ie.data);Qt.controller=ye.includes(is)?ye.split(is):ye;break}case oe.startsWith("k"):{const{id:ye,t:Je,k:Ze,c:ht,a:Vt}=xi.parseTxtDataToObject(ie.data),vn=N.U$.base64Url(Ze).toUint8Array(),zt=Ha[Number(Je)];let dt=yield xi.keyConverter(zt).bytesToPublicKey({publicKeyBytes:vn});dt.alg=Vt||Qr[Number(Je)];const tn="k0"===oe?"0":void 0!==ye?ye:yield Ji({jwk:dt});null!==(st=Qt.verificationMethod)&&void 0!==st||(Qt.verificationMethod=[]);const pr=`${be}#${tn}`;Qt.verificationMethod.push({id:pr,type:"JsonWebKey",controller:ht??be,publicKeyJwk:dt}),Ie.set(oe,pr);break}case oe.startsWith("s"):{const ye=xi.parseTxtDataToObject(ie.data),{id:Je,t:Ze,se:ht}=ye,Vt=wl(ye,["id","t","se"]),vn=ht.includes(is)?ht.split(is):[ht],zt=Object.fromEntries(Object.entries(Vt).map(([dt,tn])=>[dt,tn.includes(is)?tn.split(is):tn]));null!==(Mt=Qt.service)&&void 0!==Mt||(Qt.service=[]),Qt.service.push(Object.assign(Object.assign({},zt),{id:`${be}#${Je}`,type:Ze,serviceEndpoint:vn}));break}case oe.startsWith("typ"):{const{id:ye}=xi.parseTxtDataToObject(ie.data);In.types=ye.split(is).map(Je=>Number(Je));break}case oe.startsWith("did"):{const ye=zt=>zt.split(is).map(dt=>Ie.get(dt)).filter(dt=>"string"==typeof dt),{auth:Je,asm:Ze,del:ht,inv:Vt,agm:vn}=xi.parseTxtDataToObject(ie.data);Je&&(Qt.authentication=ye(Je)),Ze&&(Qt.assertionMethod=ye(Ze)),ht&&(Qt.capabilityDelegation=ye(ht)),Vt&&(Qt.capabilityInvocation=ye(Vt)),vn&&(Qt.keyAgreement=ye(vn));break}}}return{didDocument:Qt,didDocumentMetadata:In,didResolutionMetadata:{}}})}static toDnsPacket(Ce){return ks(this,arguments,void 0,function*({didDocument:be,didMetadata:xe,authoritativeGatewayUris:ot,previousDidProof:st}){var Mt,Qt,In,Ie,ie;const oe=[],ye=[],Je=new Map,Ze=[],ht=[];if(void 0!==st){const{signature:zt,previousDid:dt}=st;yield xi.validatePreviousDidProof({newDid:be.id,previousDidProof:st}),oe.push({type:"TXT",name:"_prv._did.",ttl:ql,data:`id=${dt};s=${zt}`})}if(be.alsoKnownAs&&oe.push({type:"TXT",name:"_aka._did.",ttl:ql,data:be.alsoKnownAs.join(is)}),be.controller){const zt=Array.isArray(be.controller)?be.controller.join(is):be.controller;oe.push({type:"TXT",name:"_cnt._did.",ttl:ql,data:zt})}for(const[zt,dt]of null!==(Qt=null===(Mt=be.verificationMethod)||void 0===Mt?void 0:Mt.entries())&&void 0!==Qt?Qt:[]){const tn=`k${zt}`;ht.push(tn);let pr=dt.id.split("#").pop();Je.set(pr,tn);const ur=dt.publicKeyJwk;if(!ur?.crv||!(ur.crv in cc))throw new Co(_o.InvalidPublicKeyType,`Verification method '${dt.id}' contains an unsupported key type: ${null!==(In=ur?.crv)&&void 0!==In?In:"undefined"}`);const Vr=Ha[ur.crv],ai=yield xi.keyConverter(ur.crv).publicKeyToBytes({publicKey:ur}),Oi=[`t=${Vr}`,`k=${N.U$.uint8Array(ai).toBase64Url()}`];"0"!==pr&&(yield Ji({jwk:ur}))!==pr&&Oi.unshift(`id=${pr}`),ur.alg!==Qr[Vr]&&Oi.push(`a=${ur.alg}`),dt.controller!==be.id&&Oi.push(`c=${dt.controller}`),oe.push({type:"TXT",name:`_${tn}._did.`,ttl:ql,data:Oi.join(";")})}null===(Ie=be.service)||void 0===Ie||Ie.forEach((zt,dt)=>{const tn=`s${dt}`;Ze.push(tn);let{id:pr,type:ur,serviceEndpoint:Vr}=zt,ai=wl(zt,["id","type","serviceEndpoint"]);pr=la(pr),Vr=Array.isArray(Vr)?Vr.join(","):Vr;const Oi=Object.entries(Object.assign({id:pr,t:ur,se:Vr},ai)).map(([ni,Ei])=>`${ni}=${Ei}`).join(";"),Xr=xi.chunkDataIfNeeded(Oi);oe.push({type:"TXT",name:`_${tn}._did.`,ttl:ql,data:Xr})});const Vt=["v=0"];if(ht.length&&Vt.push(`vm=${ht.join(is)}`),Object.keys(Ya).forEach(zt=>{var dt;const tn=null===(dt=be[zt])||void 0===dt?void 0:dt.map(pr=>Je.get(pr.split("#").pop()));tn&&Vt.push(`${Xi[zt]}=${tn.join(is)}`)}),Ze.length&&Vt.push(`svc=${Ze.join(is)}`),null!==(ie=xe.types)&&void 0!==ie&&ie.length){const dt=xe.types.map(tn=>"string"==typeof tn?Tu[tn]:tn);oe.push({type:"TXT",name:"_typ._did.",ttl:ql,data:`id=${dt.join(is)}`})}oe.push({type:"TXT",name:"_did."+Zr.getUniqueDidSuffix(be.id)+".",ttl:ql,data:Vt.join(";")});for(const zt of ot||[])ye.push({type:"NS",name:"_did."+Zr.getUniqueDidSuffix(be.id)+".",ttl:ql,data:zt+"."});return{id:0,type:"response",flags:at.hB,answers:[...oe,...ye]}})}static getUniqueDidSuffix(Ce){return Ce.split(":")[2]}}class xi{static createBep44PutMessage(Ce){return ks(this,arguments,void 0,function*({dnsPacket:be,publicKeyBytes:xe,signer:ot}){const st=Math.ceil(Date.now()/1e3),Mt=(0,at.lF)(be),Qt=Ln.A.encode({seq:st,v:Mt}).subarray(1,-1);if(Qt.length>1e3)throw new Co(_o.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${Qt.length} bytes`);return{k:xe,seq:st,sig:yield ot.sign({data:Qt}),v:Mt}})}static identifierToIdentityKey(Ce){return ks(this,arguments,void 0,function*({didUri:be}){let xe=xi.identifierToIdentityKeyBytes({didUri:be});return yield co.bytesToPublicKey({publicKeyBytes:xe})})}static identifierToIdentityKeyBytes({didUri:Ce}){const be=Lo.parse(Ce);if(!be)throw new Co(_o.InvalidDid,`Invalid DID URI: ${Ce}`);if(be.method!==Qa.methodName)throw new Co(_o.MethodNotSupported,`Method not supported: ${be.method}`);let xe;try{xe=N.U$.base32Z(be.id).toUint8Array()}catch{throw new Co(_o.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==xe.length)throw new Co(_o.InvalidPublicKeyLength,`Invalid public key length: ${xe.length}`);return xe}static identityKeyToIdentifier(Ce){return ks(this,arguments,void 0,function*({identityKey:be}){const xe=yield co.publicKeyToBytes({publicKey:be}),ot=N.U$.uint8Array(xe).toBase32Z();return`did:${Qa.methodName}:${ot}`})}static keyConverter(Ce){const xe={Ed25519:co,"P-256":{publicKeyToBytes:ot=>ks(this,[ot],void 0,function*({publicKey:st}){const Mt=yield Do.publicKeyToBytes({publicKey:st});return yield Do.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:Do.bytesToPublicKey,privateKeyToBytes:Do.privateKeyToBytes,bytesToPrivateKey:Do.bytesToPrivateKey},secp256k1:{publicKeyToBytes:ot=>ks(this,[ot],void 0,function*({publicKey:st}){const Mt=yield Xo.publicKeyToBytes({publicKey:st});return yield Xo.compressPublicKey({publicKeyBytes:Mt})}),bytesToPublicKey:Xo.bytesToPublicKey,privateKeyToBytes:Xo.privateKeyToBytes,bytesToPrivateKey:Xo.bytesToPrivateKey},X25519:Ot}[Ce];if(!xe)throw new Co(_o.InvalidPublicKeyType,`Unsupported curve: ${Ce}`);return xe}static parseBep44GetMessage(Ce){return ks(this,arguments,void 0,function*({bep44Message:be}){const xe=yield co.bytesToPublicKey({publicKeyBytes:be.k}),ot=Ln.A.encode({seq:be.seq,v:be.v}).subarray(1,-1);if(!(yield co.verify({key:xe,signature:be.sig,data:ot})))throw new Co(_o.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,at.D4)(be.v)})}static parseTxtDataToObject(Ce){return this.parseTxtDataToString(Ce).split(";").reduce((be,xe)=>{const[ot,st]=xe.split("=");return be[ot]=st,be},{})}static parseTxtDataToString(Ce){if("string"==typeof Ce)return Ce;if(Ce instanceof Uint8Array)return N.U$.uint8Array(Ce).toString();if(Array.isArray(Ce))return Ce.map(be=>this.parseTxtDataToString(be)).join("");throw new Co(_o.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(Ce){return ks(this,arguments,void 0,function*({newDid:be,previousDidProof:xe}){const ot=yield xi.identifierToIdentityKey({didUri:xe.previousDid}),st=xi.identifierToIdentityKeyBytes({didUri:be}),Mt=N.U$.base64Url(xe.signature).toUint8Array();if(!(yield co.verify({key:ot,data:st,signature:Mt})))throw new Co(_o.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(Ce){if(Ce.length<=255)return Ce;const be=[];for(let xe=0;xe<Ce.length;xe+=255)be.push(Ce.slice(xe,xe+255));return be}}var lo=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};let nl=(()=>{class rt extends Wf{static create(){return lo(this,arguments,void 0,function*({keyManager:be=new ko,options:xe={}}={}){var ot,st,Mt,Qt;if(xe.algorithm&&xe.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(xe.verificationMethods&&1!==xe.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const In=null!==(Qt=null!==(ot=xe.algorithm)&&void 0!==ot?ot:null===(Mt=null===(st=xe.verificationMethods)||void 0===st?void 0:st[0])||void 0===Mt?void 0:Mt.algorithm)&&void 0!==Qt?Qt:"Ed25519",Ie=yield be.generateKey({algorithm:In}),ie=yield be.getPublicKey({keyUri:Ie}),oe=N.U$.object(ie).toBase64Url(),ye=`did:${rt.methodName}:${oe}`,Ze=(yield rt.resolve(ye)).didDocument;return new qa({uri:ye,document:Ze,metadata:{},keyManager:be})})}static getSigningMethod(be){return lo(this,arguments,void 0,function*({didDocument:xe}){var ot;const st=Lo.parse(xe.id);if(st&&st.method!==this.methodName)throw new Co(_o.MethodNotSupported,`Method not supported: ${st.method}`);const[Mt]=null!==(ot=xe.verificationMethod)&&void 0!==ot?ot:[];if(!Mt||!Mt.publicKeyJwk)throw new Co(_o.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Mt})}static import(be){return lo(this,arguments,void 0,function*({portableDid:xe,keyManager:ot=new ko}){const st=Lo.parse(xe.uri);if(st?.method!==rt.methodName)throw new Co(_o.MethodNotSupported,"Method not supported");const Mt=yield qa.import({portableDid:xe,keyManager:ot});if(1!==Mt.document.verificationMethod.length)throw new Co(_o.InvalidDidDocument,"DID document must contain exactly one verification method");return Mt})}static resolve(be,xe){return lo(this,void 0,void 0,function*(){const ot=Lo.parse(be);let st;try{st=N.U$.base64Url(ot.id).toObject()}catch{}if(!ot||!st)return Object.assign(Object.assign({},ao),{didResolutionMetadata:{error:"invalidDid"}});if(ot.method!==rt.methodName)return Object.assign(Object.assign({},ao),{didResolutionMetadata:{error:"methodNotSupported"}});const Mt={"@context":["https://www.w3.org/ns/did/v1"],id:ot.uri},Qt=`${Mt.id}#0`;switch(Mt.verificationMethod=[{id:Qt,type:"JsonWebKey",controller:Mt.id,publicKeyJwk:st}],Mt.authentication=[Qt],Mt.assertionMethod=[Qt],Mt.capabilityInvocation=[Qt],Mt.capabilityDelegation=[Qt],Mt.keyAgreement=[Qt],st.use){case"sig":delete Mt.keyAgreement;break;case"enc":delete Mt.authentication,delete Mt.assertionMethod,delete Mt.capabilityInvocation,delete Mt.capabilityDelegation}return Object.assign(Object.assign({},ao),{didDocument:Mt})})}}return rt.methodName="jwk",rt})();var Jt=_(64284),St=_(13138);class An{constructor({db:Ce,location:be="DATA/DID_RESOLVERCACHE",ttl:xe="15m"}={}){this.cache=Ce??new St.Level(be),this.ttl=Jt(xe)}get(Ce){return function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})}(this,void 0,void 0,function*(){try{const be=yield this.cache.get(Ce),xe=JSON.parse(be);return Date.now()>=xe.ttlMillis?void this.cache.nextTick(()=>this.cache.del(Ce)):xe.value}catch(be){if(be.notFound)return;throw be}})}set(Ce,be){const xe={ttlMillis:Date.now()+this.ttl,value:be},ot=JSON.stringify(xe);return this.cache.put(Ce,ot)}delete(Ce){return this.cache.del(Ce)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var Eo=_(848),ii=function(rt,Ce,be,xe){return new(be||(be=Promise))(function(st,Mt){function Qt(ie){try{Ie(xe.next(ie))}catch(oe){Mt(oe)}}function In(ie){try{Ie(xe.throw(ie))}catch(oe){Mt(oe)}}function Ie(ie){ie.done?st(ie.value):function ot(st){return st instanceof be?st:new be(function(Mt){Mt(st)})}(ie.value).then(Qt,In)}Ie((xe=xe.apply(rt,Ce||[])).next())})};class ts{constructor(Ce){this._agentDid=Ce.agentDid,this.crypto=Ce.cryptoApi,this.did=Ce.didApi,this.dwn=Ce.dwnApi,this.identity=Ce.identityApi,this.keyManager=Ce.keyManager,this.rpc=Ce.rpcClient,this.sync=Ce.syncApi,this.vault=Ce.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(Ce){this._agentDid=Ce}static create({dataPath:Ce="DATA/AGENT",agentDid:be,agentVault:xe,cryptoApi:ot,didApi:st,dwnApi:Mt,identityApi:Qt,keyManager:In,rpcClient:Ie,syncApi:ie}={}){return ii(this,void 0,void 0,function*(){return xe??(xe=new Eo.TX({keyDerivationWorkFactor:21e4,store:new N.cG({location:`${Ce}/VAULT_STORE`})})),ot??(ot=new Eo.DP),st??(st=new Eo.Bq({didMethods:[Qa,nl],resolverCache:new An({location:`${Ce}/DID_RESOLVERCACHE`}),store:new Eo.QZ})),Mt??(Mt=new Eo.rr({dwn:yield Eo.rr.createDwn({dataPath:Ce,didResolver:st})})),Qt??(Qt=new Eo.yc({store:new Eo.dk})),In??(In=new Eo.eP({keyStore:new Eo.cW})),Ie??(Ie=new Eo.oN),ie??(ie=new Eo.rM({syncEngine:new Eo.qB({dataPath:Ce})})),new ts({agentDid:be,agentVault:xe,cryptoApi:ot,didApi:st,dwnApi:Mt,keyManager:In,identityApi:Qt,rpcClient:Ie,syncApi:ie})})}firstLaunch(){return ii(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:Ce,recoveryPhrase:be}){return ii(this,void 0,void 0,function*(){return be=yield this.vault.initialize({password:Ce,recoveryPhrase:be})})}processDidRequest(Ce){return ii(this,void 0,void 0,function*(){return this.did.processRequest(Ce)})}processDwnRequest(Ce){return ii(this,void 0,void 0,function*(){return this.dwn.processRequest(Ce)})}processVcRequest(Ce){return ii(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(Ce){return ii(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(Ce){return ii(this,void 0,void 0,function*(){return this.dwn.sendRequest(Ce)})}sendVcRequest(Ce){return ii(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:Ce}){return ii(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:Ce})),this.agentDid=yield this.vault.getDid()})}}var Cr=_(96049);let Ci=(()=>{class rt{constructor(be){this.cryptoService=be,this.syncInterval="10s",this.agents=(0,b.vPA)([]),this.initialized=(0,b.vPA)(!1),this.locked=(0,b.vPA)(!1)}initialConnect(be){var xe=this;return(0,y.A)(function*(){try{const ot=yield P.uW.connect({password:be,sync:xe.syncInterval});return xe.web5=ot.web5,xe.did=ot.did,console.log("Web5 Connected.",xe.did),xe.initialized.set(!0),ot}catch{alert("Failed to initialize Web5")}})()}connect(be,xe){var ot=this;return(0,y.A)(function*(){try{const st=yield P.uW.connect({connectedDid:be,password:xe,sync:ot.syncInterval});return ot.web5=st.web5,ot.did=st.did,console.log("Web5 Connected."),ot.initialized.set(!0),st}catch{alert("Failed to initialize Web5")}})()}restore(be,xe){var ot=this;return(0,y.A)(function*(){try{const st=yield P.uW.connect({recoveryPhrase:xe,password:be,sync:ot.syncInterval});return ot.web5=st.web5,ot.did=st.did,console.log("Web5 Connected."),ot.initialized.set(!0),st}catch{alert("Failed to initialize Web5")}})()}activeAgent(){return this.web5.agent}changePassword(be,xe){var ot=this;return(0,y.A)(function*(){yield ot.web5.agent.vault.changePassword({oldPassword:be,newPassword:xe})})()}lock(){var be=this;return(0,y.A)(function*(){console.log("Locking account..."),yield be.web5.agent.vault.lock(),console.log("Vault locked"),be.locked.set(!0)})()}unlock(be){var xe=this;return(0,y.A)(function*(){console.log("Connecting to Web5...");try{const{did:ot,web5:st}=yield P.uW.connect({sync:"5s",password:be});return xe.did=ot,xe.web5=st,xe.initialized.set(!0),xe.locked.set(!1),!0}catch(ot){return console.error(ot),console.log("Show unlock screen!"),xe.locked.set(!0),!1}})()}initialize(be,xe,ot){var st=this;return(0,y.A)(function*(){const Mt=yield ts.create({dataPath:ot});(yield Mt.firstLaunch())&&(xe=yield Mt.initialize({password:be,recoveryPhrase:xe})),st.agents.update(Qt=>[...Qt,Mt])})()}create(){return(0,y.A)(function*(){return yield Tn.create({options:{publish:!1}})})()}static#e=this.\u0275fac=function(xe){return new(xe||rt)(b.KVO(Cr.j))};static#t=this.\u0275prov=b.jDH({token:rt,factory:rt.\u0275fac,providedIn:"root"})}return rt})()},36815:(We,j,_)=>{"use strict";_.d(j,{Y:()=>b});var y=_(93953);let b=(()=>{class P{constructor(){this.scrolling=(0,y.vPA)(!0),this.navigation=(0,y.vPA)(!1),(0,y.QZP)(()=>{const w=document.querySelector(".sidenav-scroll-wrapper");w&&(w.style.overflow=this.scrolling()?"auto":"hidden");const O=document.querySelector(".sidenav-content");O&&(O.style.overflow=this.scrolling()?"auto":"hidden")})}enableScrolling(){this.scrolling.set(!0)}disableScrolling(){this.scrolling.set(!1)}enableNavigation(){this.navigation.set(!0)}disableNavigation(){this.navigation.set(!1)}static#e=this.\u0275fac=function(O){return new(O||P)};static#t=this.\u0275prov=y.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},43794:(We,j,_)=>{"use strict";_.d(j,{n:()=>b});var y=_(93953);let b=(()=>{class P{constructor(){this.prefix="ariton-"}save(w,O){localStorage.setItem(this.prefix+w,JSON.stringify(O))}read(w){const O=localStorage.getItem(this.prefix+w);return O?JSON.parse(O):null}remove(w){localStorage.removeItem(this.prefix+w)}clear(){Object.keys(localStorage).forEach(w=>{w.startsWith(this.prefix)&&localStorage.removeItem(w)})}static#e=this.\u0275fac=function(O){return new(O||P)};static#t=this.\u0275prov=y.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},13159:(We,j,_)=>{"use strict";var y=_(345),b=_(93953),P=_(18498);const H=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"introduction",loadComponent:()=>_.e(630).then(_.bind(_,64630)).then(xn=>xn.IntroductionComponent),title:"Introduction",data:{icon:"lightbulb"}},{path:"dashboard",loadComponent:()=>Promise.all([_.e(195),_.e(320)]).then(_.bind(_,62320)).then(xn=>xn.DashboardComponent),title:"Dashboard",data:{icon:"dashboard"}},{path:"communities",loadComponent:()=>Promise.all([_.e(516),_.e(571),_.e(450),_.e(702)]).then(_.bind(_,6702)).then(xn=>xn.CommunitiesComponent),title:"Communities",data:{icon:"diversity_2"}},{path:"marketplace",loadComponent:()=>_.e(392).then(_.bind(_,94392)).then(xn=>xn.MarketplaceComponent),title:"Marketplace",data:{icon:"storefront"}},{path:"apps",loadComponent:()=>Promise.all([_.e(516),_.e(571),_.e(450),_.e(195),_.e(487)]).then(_.bind(_,8487)).then(xn=>xn.AppsComponent),title:"Apps",data:{icon:"apps"}},{path:"app/chat",loadComponent:()=>Promise.all([_.e(571),_.e(951)]).then(_.bind(_,71951)).then(xn=>xn.ChatComponent),title:"Chat",data:{icon:"chat"}},{path:"registries",loadComponent:()=>Promise.all([_.e(516),_.e(466)]).then(_.bind(_,69466)).then(xn=>xn.RegistriesComponent),title:"Registries",data:{icon:"folder_shared"}},{path:"registries/:id",loadComponent:()=>Promise.all([_.e(516),_.e(76),_.e(26)]).then(_.bind(_,65026)).then(xn=>xn.RegistryComponent),title:"Registry",data:{hide:!0,icon:"folder_shared"}},{path:"data/view/:id",loadComponent:()=>Promise.all([_.e(850),_.e(474)]).then(_.bind(_,53474)).then(xn=>xn.DataViewComponent),title:"Data View",data:{hide:!0,icon:"folder_shared"}},{path:"data",loadComponent:()=>Promise.all([_.e(850),_.e(358),_.e(843)]).then(_.bind(_,2843)).then(xn=>xn.DataComponent),title:"Data",data:{icon:"source"}},{path:"data/:source/:id",loadComponent:()=>Promise.all([_.e(76),_.e(533)]).then(_.bind(_,29533)).then(xn=>xn.DataEntryComponent),title:"Data Entry",data:{hide:!0,icon:"source"}},{path:"profile/:id",loadComponent:()=>Promise.all([_.e(850),_.e(753)]).then(_.bind(_,78753)).then(xn=>xn.ProfileComponent),title:"Profile",data:{hide:!0,icon:"account_circle"}},{path:"profile/:id/edit",loadComponent:()=>_.e(380).then(_.bind(_,37380)).then(xn=>xn.ProfileEditComponent),title:"Edit Profile",data:{hide:!0,icon:"account_circle"}},{path:"notifications",loadComponent:()=>_.e(228).then(_.bind(_,92228)).then(xn=>xn.NotificationsComponent),title:"Notifications",data:{hide:!1,icon:"notifications"}},{path:"accounts",loadComponent:()=>Promise.all([_.e(850),_.e(193)]).then(_.bind(_,85193)).then(xn=>xn.AccountsComponent),title:"Accounts",data:{hide:!0,icon:"account_circle"}},{path:"account/password",loadComponent:()=>_.e(12).then(_.bind(_,88012)).then(xn=>xn.PasswordComponent),title:"Password",data:{hide:!0,icon:"account_circle"}},{path:"account/backup",loadComponent:()=>_.e(962).then(_.bind(_,75962)).then(xn=>xn.BackupComponent),title:"Backup",data:{hide:!0,icon:"account_circle"}},{path:"account/create",loadComponent:()=>_.e(806).then(_.bind(_,75806)).then(xn=>xn.CreateComponent),title:"Create Account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/new",loadComponent:()=>_.e(613).then(_.bind(_,29613)).then(xn=>xn.NewComponent),title:"Create new account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/restore",loadComponent:()=>Promise.resolve().then(_.bind(_,33065)).then(xn=>xn.RestoreComponent),title:"Restore existing account",data:{hide:!0,icon:"account_circle"}},{path:"account/:id",loadComponent:()=>_.e(880).then(_.bind(_,17880)).then(xn=>xn.AccountComponent),title:"Account",data:{hide:!0,icon:"account_circle"}},{path:"identity",loadComponent:()=>_.e(854).then(_.bind(_,85854)).then(xn=>xn.IdentityComponent),title:"Identity",data:{icon:"account_circle"}},{path:"settings",loadComponent:()=>_.e(959).then(_.bind(_,60959)).then(xn=>xn.SettingsComponent),title:"Settings",data:{hide:!0,icon:"settings"}},{path:"settings/about",loadComponent:()=>_.e(216).then(_.bind(_,85216)).then(xn=>xn.AboutComponent),title:"About",data:{hide:!0,icon:"settings"}},{path:"settings/licenses",loadComponent:()=>_.e(727).then(_.bind(_,19727)).then(xn=>xn.LicensesComponent),title:"Licenses",data:{hide:!0,icon:"settings"}},{path:"settings/privacy",loadComponent:()=>_.e(128).then(_.bind(_,99128)).then(xn=>xn.PrivacyComponent),title:"Privacy",data:{hide:!0,icon:"settings"}},{path:"settings/handler",loadComponent:()=>_.e(552).then(_.bind(_,18552)).then(xn=>xn.HandlerComponent),title:"Protocol Handler",data:{hide:!0,icon:"search"}},{path:"table",loadComponent:()=>Promise.all([_.e(516),_.e(603)]).then(_.bind(_,79603)).then(xn=>xn.TableComponent),title:"Table",data:{hide:!0,icon:"folder"}},{path:"tree",loadComponent:()=>Promise.all([_.e(358),_.e(238)]).then(_.bind(_,9238)).then(xn=>xn.TreeComponent),title:"Tree",data:{hide:!0,icon:"folder"}},{path:"drag-drop",loadComponent:()=>_.e(212).then(_.bind(_,90212)).then(xn=>xn.DragDropComponent),title:"Drag-Drop",data:{hide:!1,icon:"folder"}},{path:"help",loadComponent:()=>_.e(492).then(_.bind(_,12492)).then(xn=>xn.HelpComponent),title:"Help",data:{hide:!0,icon:"help"}}];var w=_(60177);let S=(()=>{class xn{constructor(dn,Un,Fn,Gr,ri){this.doc=dn,this.delegate=Un,this.zone=Fn,this.animationType=Gr,this.moduleImpl=ri,this._rendererFactoryPromise=null,this.scheduler=(0,b.WQX)(b.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??_.e(8).then(_.bind(_,68008)).then(Un=>Un)).catch(Un=>{throw new b.wOt(5300,!1)}).then(({\u0275createEngine:Un,\u0275AnimationRendererFactory:Fn})=>{this._engine=Un(this.animationType,this.doc);const Gr=new Fn(this.delegate,this._engine,this.zone);return this.delegate=Gr,Gr})}createRenderer(dn,Un){const Fn=this.delegate.createRenderer(dn,Un);if(0===Fn.\u0275type)return Fn;"boolean"==typeof Fn.throwOnSyntheticProps&&(Fn.throwOnSyntheticProps=!1);const Gr=new B(Fn);return Un?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(ri=>{const vs=ri.createRenderer(dn,Un);Gr.use(vs),this.scheduler?.notify(9)}).catch(ri=>{Gr.use(Fn)}),Gr}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(Un){b.QTQ()};static#t=this.\u0275prov=b.jDH({token:xn,factory:xn.\u0275fac})}return xn})();class B{constructor(wr){this.delegate=wr,this.replay=[],this.\u0275type=1}use(wr){if(this.delegate=wr,null!==this.replay){for(const dn of this.replay)dn(wr);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(wr,dn){return this.delegate.createElement(wr,dn)}createComment(wr){return this.delegate.createComment(wr)}createText(wr){return this.delegate.createText(wr)}get destroyNode(){return this.delegate.destroyNode}appendChild(wr,dn){this.delegate.appendChild(wr,dn)}insertBefore(wr,dn,Un,Fn){this.delegate.insertBefore(wr,dn,Un,Fn)}removeChild(wr,dn,Un){this.delegate.removeChild(wr,dn,Un)}selectRootElement(wr,dn){return this.delegate.selectRootElement(wr,dn)}parentNode(wr){return this.delegate.parentNode(wr)}nextSibling(wr){return this.delegate.nextSibling(wr)}setAttribute(wr,dn,Un,Fn){this.delegate.setAttribute(wr,dn,Un,Fn)}removeAttribute(wr,dn,Un){this.delegate.removeAttribute(wr,dn,Un)}addClass(wr,dn){this.delegate.addClass(wr,dn)}removeClass(wr,dn){this.delegate.removeClass(wr,dn)}setStyle(wr,dn,Un,Fn){this.delegate.setStyle(wr,dn,Un,Fn)}removeStyle(wr,dn,Un){this.delegate.removeStyle(wr,dn,Un)}setProperty(wr,dn,Un){this.shouldReplay(dn)&&this.replay.push(Fn=>Fn.setProperty(wr,dn,Un)),this.delegate.setProperty(wr,dn,Un)}setValue(wr,dn){this.delegate.setValue(wr,dn)}listen(wr,dn,Un){return this.shouldReplay(dn)&&this.replay.push(Fn=>Fn.listen(wr,dn,Un)),this.delegate.listen(wr,dn,Un)}shouldReplay(wr){return null!==this.replay&&wr.startsWith("@")}}var U=_(59030),A=_(18810),G=_(33726),L=_(7673),z=_(28793),ee=_(21413),q=_(71985),Z=_(85343);const J=new q.c(Z.l);var ce=_(57786),ae=_(96354),fe=_(5964),he=_(25558),we=_(30017),Me=_(98071),Pe=_(58750),C=_(39974);const d={connector:()=>new ee.B};function m(xn,wr=d){const{connector:dn}=wr;return(0,C.N)((Un,Fn)=>{const Gr=dn();(0,Pe.Tg)(xn(function a(xn){return new q.c(wr=>xn.subscribe(wr))}(Gr))).subscribe(Fn),Fn.add(Un.subscribe(Gr))})}var D=_(96697),R=_(88141),x=_(91986);const s="Service workers are disabled or not supported by this browser";class ${constructor(wr){if(this.serviceWorker=wr,wr){const Un=(0,G.R)(wr,"controllerchange").pipe((0,ae.T)(()=>wr.controller)),Fn=(0,U.v)(()=>(0,L.of)(wr.controller)),Gr=(0,z.x)(Fn,Un);this.worker=Gr.pipe((0,fe.p)(ao=>!!ao)),this.registration=this.worker.pipe((0,he.n)(()=>wr.getRegistration()));const Ya=(0,G.R)(wr,"message").pipe((0,ae.T)(ao=>ao.data)).pipe((0,fe.p)(ao=>ao&&ao.type)).pipe(function E(xn){return xn?wr=>m(xn)(wr):wr=>function p(xn,wr){const dn=(0,Me.T)(xn)?xn:()=>xn;return(0,Me.T)(wr)?m(wr,{connector:dn}):Un=>new we.G(Un,dn)}(new ee.B)(wr)}());Ya.connect(),this.events=Ya}else this.worker=this.events=this.registration=function v(xn){return(0,U.v)(()=>(0,A.$)(new Error(xn)))}(s)}postMessage(wr,dn){return this.worker.pipe((0,D.s)(1),(0,R.M)(Un=>{Un.postMessage({action:wr,...dn})})).toPromise().then(()=>{})}postMessageWithOperation(wr,dn,Un){const Fn=this.waitForOperationCompleted(Un),Gr=this.postMessage(wr,dn);return Promise.all([Gr,Fn]).then(([,ri])=>ri)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(wr){let dn;return dn="string"==typeof wr?Un=>Un.type===wr:Un=>wr.includes(Un.type),this.events.pipe((0,fe.p)(dn))}nextEventOfType(wr){return this.eventsOfType(wr).pipe((0,D.s)(1))}waitForOperationCompleted(wr){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,fe.p)(dn=>dn.nonce===wr),(0,D.s)(1),(0,ae.T)(dn=>{if(void 0!==dn.result)return dn.result;throw new Error(dn.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let F=(()=>{class xn{get isEnabled(){return this.sw.isEnabled}constructor(dn){if(this.sw=dn,this.pushManager=null,this.subscriptionChanges=new ee.B,!dn.isEnabled)return this.messages=J,this.notificationClicks=J,void(this.subscription=J);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ae.T)(Fn=>Fn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ae.T)(Fn=>Fn.data)),this.pushManager=this.sw.registration.pipe((0,ae.T)(Fn=>Fn.pushManager));const Un=this.pushManager.pipe((0,he.n)(Fn=>Fn.getSubscription()));this.subscription=(0,ce.h)(Un,this.subscriptionChanges)}requestSubscription(dn){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(s));const Un={userVisibleOnly:!0};let Fn=this.decodeBase64(dn.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Gr=new Uint8Array(new ArrayBuffer(Fn.length));for(let ri=0;ri<Fn.length;ri++)Gr[ri]=Fn.charCodeAt(ri);return Un.applicationServerKey=Gr,this.pushManager.pipe((0,he.n)(ri=>ri.subscribe(Un)),(0,D.s)(1)).toPromise().then(ri=>(this.subscriptionChanges.next(ri),ri))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,D.s)(1),(0,he.n)(Un=>{if(null===Un)throw new Error("Not subscribed to push notifications.");return Un.unsubscribe().then(Fn=>{if(!Fn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(s))}decodeBase64(dn){return atob(dn)}static#e=this.\u0275fac=function(Un){return new(Un||xn)(b.KVO($))};static#t=this.\u0275prov=b.jDH({token:xn,factory:xn.\u0275fac})}return xn})(),Q=(()=>{class xn{get isEnabled(){return this.sw.isEnabled}constructor(dn){if(this.sw=dn,!dn.isEnabled)return this.versionUpdates=J,void(this.unrecoverable=J);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(s));const dn=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:dn},dn)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(s));const dn=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:dn},dn)}static#e=this.\u0275fac=function(Un){return new(Un||xn)(b.KVO($))};static#t=this.\u0275prov=b.jDH({token:xn,factory:xn.\u0275fac})}return xn})();const de=new b.nKC("");function De(xn,wr,dn,Un){return()=>{if(!(0,w.UE)(Un)||!("serviceWorker"in navigator)||!1===dn.enabled)return;const Fn=xn.get(b.SKi),Gr=xn.get(b.o8S);let ri;if(Fn.runOutsideAngular(()=>{const vs=navigator.serviceWorker,as=()=>vs.controller?.postMessage({action:"INITIALIZE"});vs.addEventListener("controllerchange",as),Gr.onDestroy(()=>{vs.removeEventListener("controllerchange",as)})}),"function"==typeof dn.registrationStrategy)ri=dn.registrationStrategy();else{const[vs,...as]=(dn.registrationStrategy||"registerWhenStable:30000").split(":");switch(vs){case"registerImmediately":ri=(0,L.of)(null);break;case"registerWithDelay":ri=Re(+as[0]||0);break;case"registerWhenStable":ri=as[0]?(0,ce.h)(Ve(xn),Re(+as[0])):Ve(xn);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${dn.registrationStrategy}`)}}Fn.runOutsideAngular(()=>ri.pipe((0,D.s)(1)).subscribe(()=>navigator.serviceWorker.register(wr,{scope:dn.scope}).catch(vs=>console.error("Service worker registration failed with:",vs))))}}function Re(xn){return(0,L.of)(null).pipe((0,x.c)(xn))}function Ve(xn){return xn.get(b.o8S).isStable.pipe((0,fe.p)(dn=>dn))}function Ee(xn,wr){return new $((0,w.UE)(wr)&&!1!==xn.enabled?navigator.serviceWorker:void 0)}class _e{}const Te={providers:[(0,b.Jn2)({eventCoalescing:!0}),(0,P.lh)(H,(0,P.Sn)(P.Kp)),function N(xn="animations"){return(0,b.ngT)("NgAsyncAnimations"),(0,b.EmA)([{provide:b._9s,useFactory:(wr,dn,Un)=>new S(wr,dn,Un,xn),deps:[w.qQ,y.B7,b.SKi]},{provide:b.bc$,useValue:"noop"===xn?"NoopAnimations":"BrowserAnimations"}])}(),function Fe(xn,wr={}){return(0,b.EmA)([F,Q,{provide:de,useValue:xn},{provide:_e,useValue:wr},{provide:$,useFactory:Ee,deps:[_e,b.Agw]},{provide:b.hnV,useFactory:De,deps:[b.zZn,de,_e,b.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,b.naY)(),registrationStrategy:"registerWhenStable:30000"})]};var ge=_(10467),me=_(99327),te=_(55911),ne=_(88834),le=_(67333),Ae=_(86600),Be=_(18617),qe=_(28203),ze=_(14085),Dt=_(67336),Xe=_(36860),Ue=_(73703),mt=_(56977),K=_(23294),T=_(99172),M=_(70152),Y=_(49969);const pe=["*"],ke=["content"],Ne=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],lt=["mat-drawer","mat-drawer-content","*"];function en(xn,wr){if(1&xn){const dn=b.RV6();b.j41(0,"div",1),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG();return b.Njj(Fn._onBackdropClicked())}),b.k0s()}if(2&xn){const dn=b.XpG();b.AVh("mat-drawer-shown",dn._isShowingBackdrop())}}function It(xn,wr){1&xn&&(b.j41(0,"mat-drawer-content"),b.SdG(1,2),b.k0s())}const Kt=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],rn=["mat-sidenav","mat-sidenav-content","*"];function gn(xn,wr){if(1&xn){const dn=b.RV6();b.j41(0,"div",1),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG();return b.Njj(Fn._onBackdropClicked())}),b.k0s()}if(2&xn){const dn=b.XpG();b.AVh("mat-drawer-shown",dn._isShowingBackdrop())}}function ln(xn,wr){1&xn&&(b.j41(0,"mat-sidenav-content"),b.SdG(1,2),b.k0s())}const Cn={transformDrawer:(0,Y.hZ)("transform",[(0,Y.wk)("open, open-instant",(0,Y.iF)({transform:"none",visibility:"visible"})),(0,Y.wk)("void",(0,Y.iF)({"box-shadow":"none",visibility:"hidden"})),(0,Y.kY)("void => open-instant",(0,Y.i0)("0ms")),(0,Y.kY)("void <=> open, open-instant => void",(0,Y.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Zt=new b.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ut(){return!1}}),vt=new b.nKC("MAT_DRAWER_CONTAINER");let Gt=(()=>{class xn extends le.uv{constructor(dn,Un,Fn,Gr,ri){super(Fn,Gr,ri),this._changeDetectorRef=dn,this._container=Un}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(Un){return new(Un||xn)(b.rXU(b.gRc),b.rXU((0,b.Rfq)(()=>pn)),b.rXU(b.aKT),b.rXU(le.R),b.rXU(b.SKi))};static#t=this.\u0275cmp=b.VBU({type:xn,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(Un,Fn){2&Un&&b.xc7("margin-left",Fn._container._contentMargins.left,"px")("margin-right",Fn._container._contentMargins.right,"px")},standalone:!0,features:[b.Jv_([{provide:le.uv,useExisting:xn}]),b.Vt3,b.aNF],ngContentSelectors:pe,decls:1,vars:0,template:function(Un,Fn){1&Un&&(b.NAR(),b.SdG(0))},encapsulation:2,changeDetection:0})}return xn})(),nn=(()=>{class xn{get position(){return this._position}set position(dn){(dn="end"===dn?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(dn),this._position=dn,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(dn){this._mode=dn,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(dn){this._disableClose=(0,ze.he)(dn)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(dn){("true"===dn||"false"===dn||null==dn)&&(dn=(0,ze.he)(dn)),this._autoFocus=dn}get opened(){return this._opened}set opened(dn){this.toggle((0,ze.he)(dn))}constructor(dn,Un,Fn,Gr,ri,vs,as,Ya){this._elementRef=dn,this._focusTrapFactory=Un,this._focusMonitor=Fn,this._platform=Gr,this._ngZone=ri,this._interactivityChecker=vs,this._doc=as,this._container=Ya,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ee.B,this._animationEnd=new ee.B,this._animationState="void",this.openedChange=new b.bkB(!0),this._openedStream=this.openedChange.pipe((0,fe.p)(ao=>ao),(0,ae.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,fe.p)(ao=>ao.fromState!==ao.toState&&0===ao.toState.indexOf("open")),(0,Ue.u)(void 0)),this._closedStream=this.openedChange.pipe((0,fe.p)(ao=>!ao),(0,ae.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,fe.p)(ao=>ao.fromState!==ao.toState&&"void"===ao.toState),(0,Ue.u)(void 0)),this._destroyed=new ee.B,this.onPositionChanged=new b.bkB,this._modeChanged=new ee.B,this._injector=(0,b.WQX)(b.zZn),this._changeDetectorRef=(0,b.WQX)(b.gRc),this.openedChange.pipe((0,mt.Q)(this._destroyed)).subscribe(ao=>{ao?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,G.R)(this._elementRef.nativeElement,"keydown").pipe((0,fe.p)(ao=>ao.keyCode===Dt._f&&!this.disableClose&&!(0,Dt.rp)(ao)),(0,mt.Q)(this._destroyed)).subscribe(ao=>this._ngZone.run(()=>{this.close(),ao.stopPropagation(),ao.preventDefault()}))}),this._animationEnd.pipe((0,K.F)((ao,Lo)=>ao.fromState===Lo.fromState&&ao.toState===Lo.toState)).subscribe(ao=>{const{fromState:Lo,toState:Co}=ao;(0===Co.indexOf("open")&&"void"===Lo||"void"===Co&&0===Lo.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(dn,Un){this._interactivityChecker.isFocusable(dn)||(dn.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const Fn=()=>{dn.removeEventListener("blur",Fn),dn.removeEventListener("mousedown",Fn),dn.removeAttribute("tabindex")};dn.addEventListener("blur",Fn),dn.addEventListener("mousedown",Fn)})),dn.focus(Un)}_focusByCssSelector(dn,Un){let Fn=this._elementRef.nativeElement.querySelector(dn);Fn&&this._forceFocus(Fn,Un)}_takeFocus(){if(!this._focusTrap)return;const dn=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,b.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof dn.focus&&dn.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(dn){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,dn):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const dn=this._doc.activeElement;return!!dn&&this._elementRef.nativeElement.contains(dn)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(dn){return this.toggle(!0,dn)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(dn=!this.opened,Un){dn&&Un&&(this._openedVia=Un);const Fn=this._setOpen(dn,!dn&&this._isFocusWithinDrawer(),this._openedVia||"program");return dn||(this._openedVia=null),Fn}_setOpen(dn,Un,Fn){return this._opened=dn,dn?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",Un&&this._restoreFocus(Fn)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(Gr=>{this.openedChange.pipe((0,D.s)(1)).subscribe(ri=>Gr(ri?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(dn){if(!this._platform.isBrowser)return;const Un=this._elementRef.nativeElement,Fn=Un.parentNode;"end"===dn?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),Fn.insertBefore(this._anchor,Un)),Fn.appendChild(Un)):this._anchor&&this._anchor.parentNode.insertBefore(Un,this._anchor)}static#e=this.\u0275fac=function(Un){return new(Un||xn)(b.rXU(b.aKT),b.rXU(Be.GX),b.rXU(Be.FN),b.rXU(Xe.OD),b.rXU(b.SKi),b.rXU(Be.Z7),b.rXU(w.qQ,8),b.rXU(vt,8))};static#t=this.\u0275cmp=b.VBU({type:xn,selectors:[["mat-drawer"]],viewQuery:function(Un,Fn){if(1&Un&&b.GBs(ke,5),2&Un){let Gr;b.mGM(Gr=b.lsd())&&(Fn._content=Gr.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(Un,Fn){1&Un&&b.Kam("@transform.start",function(ri){return Fn._animationStarted.next(ri)})("@transform.done",function(ri){return Fn._animationEnd.next(ri)}),2&Un&&(b.zvX("@transform",Fn._animationState),b.BMQ("align",null),b.AVh("mat-drawer-end","end"===Fn.position)("mat-drawer-over","over"===Fn.mode)("mat-drawer-push","push"===Fn.mode)("mat-drawer-side","side"===Fn.mode)("mat-drawer-opened",Fn.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[b.aNF],ngContentSelectors:pe,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(Un,Fn){1&Un&&(b.NAR(),b.j41(0,"div",1,0),b.SdG(2),b.k0s())},dependencies:[le.uv],encapsulation:2,data:{animation:[Cn.transformDrawer]},changeDetection:0})}return xn})(),pn=(()=>{class xn{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(dn){this._autosize=(0,ze.he)(dn)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(dn){this._backdropOverride=null==dn?null:(0,ze.he)(dn)}get scrollable(){return this._userContent||this._content}constructor(dn,Un,Fn,Gr,ri,vs=!1,as){this._dir=dn,this._element=Un,this._ngZone=Fn,this._changeDetectorRef=Gr,this._animationMode=as,this._drawers=new b.rOR,this.backdropClick=new b.bkB,this._destroyed=new ee.B,this._doCheckSubject=new ee.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ee.B,this._injector=(0,b.WQX)(b.zZn),dn&&dn.change.pipe((0,mt.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),ri.change().pipe((0,mt.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=vs}ngAfterContentInit(){this._allDrawers.changes.pipe((0,T.Z)(this._allDrawers),(0,mt.Q)(this._destroyed)).subscribe(dn=>{this._drawers.reset(dn.filter(Un=>!Un._container||Un._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,T.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(dn=>{this._watchDrawerToggle(dn),this._watchDrawerPosition(dn),this._watchDrawerMode(dn)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,M.B)(10),(0,mt.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(dn=>dn.open())}close(){this._drawers.forEach(dn=>dn.close())}updateContentMargins(){let dn=0,Un=0;if(this._left&&this._left.opened)if("side"==this._left.mode)dn+=this._left._getWidth();else if("push"==this._left.mode){const Fn=this._left._getWidth();dn+=Fn,Un-=Fn}if(this._right&&this._right.opened)if("side"==this._right.mode)Un+=this._right._getWidth();else if("push"==this._right.mode){const Fn=this._right._getWidth();Un+=Fn,dn-=Fn}dn=dn||null,Un=Un||null,(dn!==this._contentMargins.left||Un!==this._contentMargins.right)&&(this._contentMargins={left:dn,right:Un},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(dn){dn._animationStarted.pipe((0,fe.p)(Un=>Un.fromState!==Un.toState),(0,mt.Q)(this._drawers.changes)).subscribe(Un=>{"open-instant"!==Un.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==dn.mode&&dn.openedChange.pipe((0,mt.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(dn.opened))}_watchDrawerPosition(dn){dn&&dn.onPositionChanged.pipe((0,mt.Q)(this._drawers.changes)).subscribe(()=>{(0,b.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:b.wjH.Read})})}_watchDrawerMode(dn){dn&&dn._modeChanged.pipe((0,mt.Q)((0,ce.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(dn){const Un=this._element.nativeElement.classList,Fn="mat-drawer-container-has-open";dn?Un.add(Fn):Un.remove(Fn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(dn=>{"end"==dn.position?this._end=dn:this._start=dn}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(dn=>dn&&!dn.disableClose&&this._drawerHasBackdrop(dn)).forEach(dn=>dn._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(dn){return null!=dn&&dn.opened}_drawerHasBackdrop(dn){return null==this._backdropOverride?!!dn&&"side"!==dn.mode:this._backdropOverride}static#e=this.\u0275fac=function(Un){return new(Un||xn)(b.rXU(qe.dS,8),b.rXU(b.aKT),b.rXU(b.SKi),b.rXU(b.gRc),b.rXU(le.Xj),b.rXU(Zt),b.rXU(b.bc$,8))};static#t=this.\u0275cmp=b.VBU({type:xn,selectors:[["mat-drawer-container"]],contentQueries:function(Un,Fn,Gr){if(1&Un&&(b.wni(Gr,Gt,5),b.wni(Gr,nn,5)),2&Un){let ri;b.mGM(ri=b.lsd())&&(Fn._content=ri.first),b.mGM(ri=b.lsd())&&(Fn._allDrawers=ri)}},viewQuery:function(Un,Fn){if(1&Un&&b.GBs(Gt,5),2&Un){let Gr;b.mGM(Gr=b.lsd())&&(Fn._userContent=Gr.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(Un,Fn){2&Un&&b.AVh("mat-drawer-container-explicit-backdrop",Fn._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[b.Jv_([{provide:vt,useExisting:xn}]),b.aNF],ngContentSelectors:lt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(Un,Fn){1&Un&&(b.NAR(Ne),b.DNE(0,en,1,2,"div",0),b.SdG(1),b.SdG(2,1),b.DNE(3,It,2,0,"mat-drawer-content")),2&Un&&(b.vxM(Fn.hasBackdrop?0:-1),b.R7$(3),b.vxM(Fn._content?-1:3))},dependencies:[Gt],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return xn})(),fr=(()=>{class xn extends Gt{constructor(dn,Un,Fn,Gr,ri){super(dn,Un,Fn,Gr,ri)}static#e=this.\u0275fac=function(Un){return new(Un||xn)(b.rXU(b.gRc),b.rXU((0,b.Rfq)(()=>wt)),b.rXU(b.aKT),b.rXU(le.R),b.rXU(b.SKi))};static#t=this.\u0275cmp=b.VBU({type:xn,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(Un,Fn){2&Un&&b.xc7("margin-left",Fn._container._contentMargins.left,"px")("margin-right",Fn._container._contentMargins.right,"px")},standalone:!0,features:[b.Jv_([{provide:le.uv,useExisting:xn}]),b.Vt3,b.aNF],ngContentSelectors:pe,decls:1,vars:0,template:function(Un,Fn){1&Un&&(b.NAR(),b.SdG(0))},encapsulation:2,changeDetection:0})}return xn})(),yt=(()=>{class xn extends nn{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(dn){this._fixedInViewport=(0,ze.he)(dn)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(dn){this._fixedTopGap=(0,ze.OE)(dn)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(dn){this._fixedBottomGap=(0,ze.OE)(dn)}static#e=this.\u0275fac=(()=>{let dn;return function(Fn){return(dn||(dn=b.xGo(xn)))(Fn||xn)}})();static#t=this.\u0275cmp=b.VBU({type:xn,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(Un,Fn){2&Un&&(b.BMQ("align",null),b.xc7("top",Fn.fixedInViewport?Fn.fixedTopGap:null,"px")("bottom",Fn.fixedInViewport?Fn.fixedBottomGap:null,"px"),b.AVh("mat-drawer-end","end"===Fn.position)("mat-drawer-over","over"===Fn.mode)("mat-drawer-push","push"===Fn.mode)("mat-drawer-side","side"===Fn.mode)("mat-drawer-opened",Fn.opened)("mat-sidenav-fixed",Fn.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[b.Vt3,b.aNF],ngContentSelectors:pe,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(Un,Fn){1&Un&&(b.NAR(),b.j41(0,"div",1,0),b.SdG(2),b.k0s())},dependencies:[le.uv],encapsulation:2,data:{animation:[Cn.transformDrawer]},changeDetection:0})}return xn})(),wt=(()=>{class xn extends pn{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let dn;return function(Fn){return(dn||(dn=b.xGo(xn)))(Fn||xn)}})();static#t=this.\u0275cmp=b.VBU({type:xn,selectors:[["mat-sidenav-container"]],contentQueries:function(Un,Fn,Gr){if(1&Un&&(b.wni(Gr,fr,5),b.wni(Gr,yt,5)),2&Un){let ri;b.mGM(ri=b.lsd())&&(Fn._content=ri.first),b.mGM(ri=b.lsd())&&(Fn._allDrawers=ri)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(Un,Fn){2&Un&&b.AVh("mat-drawer-container-explicit-backdrop",Fn._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[b.Jv_([{provide:vt,useExisting:xn}]),b.Vt3,b.aNF],ngContentSelectors:rn,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(Un,Fn){1&Un&&(b.NAR(Kt),b.DNE(0,gn,1,2,"div",0),b.SdG(1),b.SdG(2,1),b.DNE(3,ln,2,0,"mat-sidenav-content")),2&Un&&(b.vxM(Fn.hasBackdrop?0:-1),b.R7$(3),b.vxM(Fn._content?-1:3))},dependencies:[fr],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return xn})(),Et=(()=>{class xn{static#e=this.\u0275fac=function(Un){return new(Un||xn)};static#t=this.\u0275mod=b.$C({type:xn});static#n=this.\u0275inj=b.G2t({imports:[Ae.yE,le.Gj,le.Gj,Ae.yE]})}return xn})();var Ye=_(3902),et=_(99213),Wt=_(44668),Ft=_(36815),mn=_(59115),Vn=_(43794),bn=_(67402),Mn=_(40605);let br=(()=>{class xn{constructor(dn,Un){this.swUpdate=dn,this.zone=Un,this.isNewVersionAvailable=!1,this.intervalSource=(0,Mn.Y)(9e5),this.checkForUpdateOnInterval(),this.checkForUpdateOnLoad()}applyUpdate(){this.swUpdate.activateUpdate().then(()=>document.location.reload()).catch(dn=>console.error("Failed to apply updates:",dn))}checkForUpdateOnInterval(){var dn=this;this.intervalSubscription?.unsubscribe(),this.swUpdate.isEnabled&&this.zone.runOutsideAngular(()=>{this.intervalSubscription=this.intervalSource.subscribe((0,ge.A)(function*(){if(dn.isNewVersionAvailable)yield dn.swUpdate.checkForUpdate();else try{dn.isNewVersionAvailable=yield dn.swUpdate.checkForUpdate(),console.log(dn.isNewVersionAvailable?"A new version is available.":"Already on the latest version.")}catch(Un){console.error("Failed to check for updates:",Un)}}))})}checkForUpdateOnLoad(){this.newVersionSubscription?.unsubscribe(),this.swUpdate.isEnabled?(this.newVersionSubscription=this.swUpdate.versionUpdates.subscribe(dn=>{switch(console.log("New version update event:"),console.log(dn),dn.type){case"VERSION_DETECTED":console.log(`Downloading new app version: ${dn.version.hash}`);break;case"VERSION_READY":console.log(`Current app version: ${dn.currentVersion.hash}`),console.log(`New app version ready for use: ${dn.latestVersion.hash}`),this.isNewVersionAvailable=!0;break;case"VERSION_INSTALLATION_FAILED":console.log(`Failed to install app version '${dn.version.hash}': ${dn.error}`)}}),console.log("Subscribed to new version updates.")):console.log("Service worker updates are disabled for this app.")}static#e=this.\u0275fac=function(Un){return new(Un||xn)(b.KVO(Q),b.KVO(b.SKi))};static#t=this.\u0275prov=b.jDH({token:xn,factory:xn.\u0275fac,providedIn:"root"})}return xn})();var or=_(14823);let Nn=(()=>{class xn{constructor(dn,Un){this.router=dn,this.location=Un,this.history=[],this.router.events.subscribe(Fn=>{Fn instanceof P.wF&&this.history.push(Fn.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(Un){return new(Un||xn)(b.KVO(P.Ix),b.KVO(w.aZ))};static#t=this.\u0275prov=b.jDH({token:xn,factory:xn.\u0275fac,providedIn:"root"})}return xn})();var Ln=_(71997);const at=["*"],He=()=>["/settings"],ct=()=>["/profile","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],Yt=()=>["/help"],En=()=>["/accounts"],zn=()=>["/account","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],er=()=>["/account/create"];function mr(xn,wr){if(1&xn&&(b.j41(0,"a",13,6)(2,"mat-icon",30),b.EFF(3),b.k0s(),b.EFF(4),b.k0s()),2&xn){const dn=wr.$implicit,Un=b.sdS(1);b.Y8G("routerLink",dn.path)("activated",Un.isActive),b.R7$(3),b.JRh(dn.data.icon),b.R7$(),b.SpI(" ",dn.title," ")}}function Lr(xn,wr){if(1&xn){const dn=b.RV6();b.j41(0,"button",31),b.bIt("click",function(){b.eBV(dn),b.XpG();const Fn=b.sdS(2);return b.Njj(Fn.toggle())}),b.j41(1,"mat-icon",32),b.EFF(2,"menu"),b.k0s()()}}function Pr(xn,wr){if(1&xn){const dn=b.RV6();b.j41(0,"button",33),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG();return b.Njj(Fn.navigateBack())}),b.j41(1,"mat-icon"),b.EFF(2,"arrow_back"),b.k0s()()}}function Kr(xn,wr){if(1&xn){const dn=b.RV6();b.j41(0,"button",34),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG();return b.Njj(Fn.applyUpdate())}),b.j41(1,"mat-icon"),b.EFF(2,"get_app"),b.k0s()()}}let Fr=(()=>{class xn{constructor(){this.breakpointObserver=(0,b.WQX)(me.QP),this.storage=(0,b.WQX)(Vn.n),this.identity=(0,b.WQX)(bn.K),this.updateService=(0,b.WQX)(br),this.layout=(0,b.WQX)(Ft.Y),this.navigation=(0,b.WQX)(Nn),this.rootRoutes=H.filter(dn=>dn.path).filter(dn=>dn.data&&1!=dn.data.hide),this.isHandset$=this.breakpointObserver.observe("(max-width: 700px)").pipe((0,ae.T)(dn=>dn.matches),(0,Wt.t)())}wipe(){var dn=this;return(0,ge.A)(function*(){dn.storage.clear(),console.log("Local storage data has been wiped!"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DID_RESOLVERCACHE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_DATASTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_EVENTLOG"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGEINDEX"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGESTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/VAULT_STORE"),console.log("Data has been wiped!"),window.location.reload()})()}applyUpdate(){this.updateService.applyUpdate()}lock(){this.identity.lock()}navigateBack(){this.navigation.back()}static#e=this.\u0275fac=function(Un){return new(Un||xn)};static#t=this.\u0275cmp=b.VBU({type:xn,selectors:[["app-layout"]],standalone:!0,features:[b.aNF],ngContentSelectors:at,decls:151,vars:37,consts:[["drawer",""],["menuDebug","matMenu"],["menuNotifications","matMenu"],["menu","matMenu"],["menuAccounts","matMenu"],["menuLanguages","matMenu"],["link","routerLinkActive"],[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["src","ariton-icon-dark.svg",1,"toolbar-logo"],[1,"toolbar-text"],["srcset","ariton-text-light.svg","media","(prefers-color-scheme: dark)"],["src","ariton-text-dark.svg"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],["color","primary"],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],["mat-icon-button",""],[1,"toolbar-spacer"],[1,"toolbar-items"],["matTooltip","Update available. Click to update now.","mat-icon-button",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item",""],[1,"account-menu-profile"],["src","https://ariton.app/assets/sondre.png",1,"account-menu-profile-icon"],["mat-menu-item","",1,"account-menu-item",3,"routerLink"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"sidenav-scroll-wrapper"],[1,"sidenav-content"],["matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-icon-button","",3,"click"],["matTooltip","Update available. Click to update now.","mat-icon-button","",3,"click"]],template:function(Un,Fn){if(1&Un){const Gr=b.RV6();b.NAR(),b.j41(0,"mat-sidenav-container",7)(1,"mat-sidenav",8,0),b.nI1(3,"async"),b.nI1(4,"async"),b.nI1(5,"async"),b.j41(6,"mat-toolbar"),b.nrm(7,"img",9),b.j41(8,"picture",10),b.nrm(9,"source",11)(10,"img",12),b.k0s()(),b.j41(11,"mat-nav-list"),b.Z7z(12,mr,5,4,"a",13,b.Vm6),b.k0s()(),b.j41(14,"mat-sidenav-content")(15,"mat-toolbar",14),b.DNE(16,Lr,3,0,"button",15),b.nI1(17,"async"),b.DNE(18,Pr,3,0,"button",16),b.nrm(19,"span",17),b.j41(20,"span",18),b.DNE(21,Kr,3,0,"button",19),b.j41(22,"button",20)(23,"mat-icon"),b.EFF(24,"warning"),b.k0s()(),b.j41(25,"mat-menu",null,1)(27,"button",21),b.bIt("click",function(){return b.eBV(Gr),b.Njj(Fn.wipe())}),b.j41(28,"mat-icon"),b.EFF(29,"settings"),b.k0s(),b.j41(30,"span"),b.EFF(31,"Reset All Data (Wipe)"),b.k0s()()(),b.j41(32,"button",20)(33,"mat-icon"),b.EFF(34,"notifications"),b.k0s()(),b.j41(35,"mat-menu",null,2)(37,"button",22)(38,"mat-icon"),b.EFF(39,"settings"),b.k0s(),b.j41(40,"span"),b.EFF(41,"Notification Settings"),b.k0s()(),b.nrm(42,"mat-divider"),b.j41(43,"button",23)(44,"mat-icon"),b.EFF(45,"forum"),b.k0s(),b.j41(46,"span"),b.EFF(47,"Knitting Community posted new pattern"),b.k0s()(),b.j41(48,"button",23)(49,"mat-icon"),b.EFF(50,"face"),b.k0s(),b.j41(51,"span"),b.EFF(52,"Joe sent you a message"),b.k0s()(),b.j41(53,"button",23)(54,"mat-icon"),b.EFF(55,"key"),b.k0s(),b.j41(56,"span"),b.EFF(57,"New security request"),b.k0s()(),b.j41(58,"button",23)(59,"mat-icon"),b.EFF(60,"verified_user"),b.k0s(),b.j41(61,"span"),b.EFF(62,"Social account recovery request"),b.k0s()()(),b.j41(63,"button",20)(64,"mat-icon"),b.EFF(65,"account_circle"),b.k0s()(),b.j41(66,"mat-menu",null,3)(68,"div",24),b.nrm(69,"img",25),b.j41(70,"div")(71,"h2"),b.EFF(72,"SondreB"),b.k0s(),b.EFF(73," @sondreb"),b.nrm(74,"br"),b.EFF(75," did:dht:umj7a...dns1o"),b.nrm(76,"br"),b.k0s()(),b.j41(77,"button",26)(78,"mat-icon"),b.EFF(79,"account_circle"),b.k0s(),b.j41(80,"span"),b.EFF(81,"View Profile"),b.k0s()(),b.nrm(82,"mat-divider"),b.j41(83,"button",27)(84,"mat-icon"),b.EFF(85,"switch_account"),b.k0s(),b.j41(86,"span"),b.EFF(87,"Accounts"),b.k0s()(),b.j41(88,"button",21),b.bIt("click",function(){return b.eBV(Gr),b.Njj(Fn.lock())}),b.j41(89,"mat-icon"),b.EFF(90,"lock"),b.k0s(),b.j41(91,"span"),b.EFF(92,"Lock account"),b.k0s()(),b.nrm(93,"mat-divider"),b.j41(94,"button",27)(95,"mat-icon"),b.EFF(96,"translate"),b.k0s(),b.j41(97,"span"),b.EFF(98,"Language: English"),b.k0s()(),b.nrm(99,"mat-divider"),b.j41(100,"button",22)(101,"mat-icon"),b.EFF(102,"settings"),b.k0s(),b.j41(103,"span"),b.EFF(104,"Settings"),b.k0s()(),b.nrm(105,"mat-divider"),b.j41(106,"button",22)(107,"mat-icon"),b.EFF(108,"help"),b.k0s(),b.j41(109,"span"),b.EFF(110,"Help"),b.k0s()()(),b.j41(111,"mat-menu",null,4)(113,"button",22)(114,"mat-icon"),b.EFF(115,"manage_accounts"),b.k0s(),b.j41(116,"span"),b.EFF(117,"Manage Accounts"),b.k0s()(),b.nrm(118,"mat-divider"),b.j41(119,"button",22)(120,"mat-icon"),b.EFF(121,"account_circle"),b.k0s(),b.j41(122,"span"),b.EFF(123,"Account 1"),b.k0s()(),b.j41(124,"button",22)(125,"mat-icon"),b.EFF(126,"account_circle"),b.k0s(),b.j41(127,"span"),b.EFF(128,"Account 2"),b.k0s()(),b.j41(129,"button",22)(130,"mat-icon"),b.EFF(131,"account_circle"),b.k0s(),b.j41(132,"span"),b.EFF(133,"Account 3"),b.k0s()(),b.nrm(134,"mat-divider"),b.j41(135,"button",22)(136,"mat-icon"),b.EFF(137,"person_add"),b.k0s(),b.j41(138,"span"),b.EFF(139,"Add account"),b.k0s()()(),b.j41(140,"mat-menu",null,5)(142,"button",23)(143,"span"),b.EFF(144,"English"),b.k0s()(),b.j41(145,"button",23)(146,"span"),b.EFF(147,"Norwegian"),b.k0s()()()()(),b.j41(148,"div",28)(149,"div",29),b.SdG(150),b.k0s()()()()}if(2&Un){const Gr=b.sdS(26),ri=b.sdS(36),vs=b.sdS(67),as=b.sdS(112),Ya=b.sdS(141);b.R7$(),b.Y8G("mode",b.bMT(3,20,Fn.isHandset$)?"over":"side")("opened",!1===b.bMT(4,22,Fn.isHandset$)),b.BMQ("role",b.bMT(5,24,Fn.isHandset$)?"dialog":"navigation"),b.R7$(11),b.Dyx(Fn.rootRoutes),b.R7$(4),b.vxM(b.bMT(17,26,Fn.isHandset$)?16:-1),b.R7$(2),b.vxM(Fn.layout.navigation()?18:-1),b.R7$(3),b.vxM(Fn.updateService.isNewVersionAvailable?21:-1),b.R7$(),b.Y8G("matMenuTriggerFor",Gr),b.R7$(10),b.Y8G("matMenuTriggerFor",ri),b.R7$(5),b.Y8G("routerLink",b.lJ4(28,He)),b.R7$(26),b.Y8G("matMenuTriggerFor",vs),b.R7$(14),b.Y8G("routerLink",b.lJ4(29,ct)),b.R7$(6),b.Y8G("matMenuTriggerFor",as),b.R7$(11),b.Y8G("matMenuTriggerFor",Ya),b.R7$(6),b.Y8G("routerLink",b.lJ4(30,He)),b.R7$(6),b.Y8G("routerLink",b.lJ4(31,Yt)),b.R7$(7),b.Y8G("routerLink",b.lJ4(32,En)),b.R7$(6),b.Y8G("routerLink",b.lJ4(33,zn)),b.R7$(5),b.Y8G("routerLink",b.lJ4(34,zn)),b.R7$(5),b.Y8G("routerLink",b.lJ4(35,zn)),b.R7$(6),b.Y8G("routerLink",b.lJ4(36,er))}},dependencies:[te.s5,te.KQ,ne.Hl,ne.iY,Et,yt,wt,fr,Ye.Fg,Ye._L,Ye.YE,Ye.ZV,Ln.q,et.m_,et.An,mn.Cn,mn.kk,mn.fb,mn.Cp,w.Jj,P.Wk,P.wQ,or.uc,or.oV],styles:[".toolbar-logo[_ngcontent-%COMP%]{max-height:54px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.account-menu-profile[_ngcontent-%COMP%]{color:var(--mat-menu-item-label-text-color);display:flex;gap:8px;margin:8px;align-items:center}.account-menu-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}.account-menu-profile-icon[_ngcontent-%COMP%]{width:64px;border-radius:50%}.account-menu-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:2}.toolbar-text[_ngcontent-%COMP%]{margin-left:.3em;margin-top:.5em;width:100px;height:32px}.sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:240px;padding:0 8px;box-sizing:border-box}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}mat-sidenav-content[_ngcontent-%COMP%]{padding-right:16px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 80px);overflow:auto;border-radius:16px;box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding:16px;box-sizing:border-box}@media (pointer: fine){.sidenav-content[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:transparent;width:8px}.sidenav-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}}.column-content[_ngcontent-%COMP%]{overflow-y:scroll;box-sizing:border-box}@media (pointer: fine){.column-content[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:transparent;width:8px}.column-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:4px}}@media (max-width: 959.98px){mat-sidenav-content[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 64px)}}"]})}return xn})();var di=_(89417),on=_(53719),wn=_(99631),Tn=_(9183);function Hn(xn,wr){1&xn&&b.nrm(0,"mat-spinner",4)}function Gn(xn,wr){1&xn&&(b.j41(0,"span"),b.EFF(1,"Unlock"),b.k0s())}function _r(xn,wr){1&xn&&(b.j41(0,"mat-error"),b.EFF(1,"Password is "),b.j41(2,"strong"),b.EFF(3,"invalid"),b.k0s()())}let Mr=(()=>{class xn{constructor(dn){this.identityService=dn,this.passwordInput=new di.MJ("",di.k0.required),this.unlocking=(0,b.vPA)(!1),this.invalidPassword=(0,b.vPA)(!1)}onSubmit(){var dn=this;return(0,ge.A)(function*(){dn.unlocking.set(!0),(yield dn.identityService.unlock(dn.passwordInput.value))?(console.log("Vault unlocked"),dn.invalidPassword.set(!1)):(console.log("Failed to unlock vault"),dn.invalidPassword.set(!0)),dn.unlocking.set(!1)})()}static#e=this.\u0275fac=function(Un){return new(Un||xn)(b.rXU(bn.K))};static#t=this.\u0275cmp=b.VBU({type:xn,selectors:[["app-unlock"]],standalone:!0,features:[b.aNF],decls:18,vars:4,consts:[["src","ariton-icon-dark.svg",1,"unlock-logo"],[3,"ngSubmit"],["matInput","","type","password",3,"formControl"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["diameter","20"]],template:function(Un,Fn){1&Un&&(b.nrm(0,"img",0),b.j41(1,"h1"),b.EFF(2,"Unlock your account"),b.k0s(),b.j41(3,"p"),b.EFF(4,"You have configured your Ariton account with a secure personal password."),b.nrm(5,"br"),b.EFF(6,"Enter password to unlock your account."),b.k0s(),b.j41(7,"form",1),b.bIt("ngSubmit",function(){return Fn.onSubmit()}),b.j41(8,"mat-form-field")(9,"mat-label"),b.EFF(10,"Enter your password"),b.k0s(),b.nrm(11,"input",2),b.k0s(),b.EFF(12," \xa0 "),b.j41(13,"button",3),b.DNE(14,Hn,1,0,"mat-spinner",4)(15,Gn,2,0,"span"),b.k0s(),b.j41(16,"p"),b.DNE(17,_r,4,0,"mat-error"),b.k0s()()),2&Un&&(b.R7$(11),b.Y8G("formControl",Fn.passwordInput),b.R7$(2),b.Y8G("disabled",!(Fn.passwordInput.valid&&!Fn.unlocking())),b.R7$(),b.vxM(Fn.unlocking()?14:15),b.R7$(3),b.vxM(Fn.invalidPassword()?17:-1))},dependencies:[di.YN,di.qT,di.me,di.BC,di.cb,di.cV,Tn.D6,Tn.LG,di.X1,di.l_,on.RG,on.rl,on.nJ,on.TL,wn.fS,wn.fg,ne.Hl,ne.$z,et.m_],styles:["button[_ngcontent-%COMP%]{width:100px}.unlock-logo[_ngcontent-%COMP%]{max-width:200px}"]})}return xn})();var $r=_(55777),jr=_(33065);function Ii(xn,wr){1&xn&&(b.j41(0,"div",0),b.nrm(1,"app-unlock"),b.k0s())}function Mo(xn,wr){1&xn&&(b.j41(0,"div"),b.EFF(1,"Creating your account... please wait..."),b.k0s())}function li(xn,wr){1&xn&&(b.j41(0,"div"),b.EFF(1,"Loading your account... please wait..."),b.k0s())}function go(xn,wr){if(1&xn&&b.DNE(0,Mo,2,0,"div")(1,li,2,0,"div"),2&xn){const dn=b.XpG(2);b.vxM(dn.appService.firstTime()?0:1)}}function wo(xn,wr){if(1&xn){const dn=b.RV6();b.j41(0,"button",6),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG(3);return b.Njj(Fn.back())}),b.EFF(1,"Back"),b.k0s()}if(2&xn){const dn=b.XpG(3);b.Y8G("disabled",dn.appService.loading())}}function Ro(xn,wr){if(1&xn){const dn=b.RV6();b.j41(0,"button",7),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG(3);return b.Njj(Fn.createAccount())}),b.EFF(1,"Create a new account"),b.k0s(),b.j41(2,"button",6),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG(3);return b.Njj(Fn.restoreAccount())}),b.EFF(3,"Restore existing account"),b.k0s()}if(2&xn){const dn=b.XpG(3);b.Y8G("disabled",dn.appService.loading()),b.R7$(2),b.Y8G("disabled",dn.appService.loading())}}function vi(xn,wr){1&xn&&b.nrm(0,"app-restore")}function Vi(xn,wr){if(1&xn&&(b.j41(0,"div",3),b.DNE(1,wo,2,1,"button",5)(2,Ro,4,2)(3,vi,1,0,"app-restore"),b.k0s()),2&xn){const dn=b.XpG(2);b.R7$(),b.vxM(dn.restore()?1:2),b.R7$(2),b.vxM(dn.restore()?3:-1)}}function ji(xn,wr){1&xn&&b.nrm(0,"mat-spinner")}function za(xn,wr){if(1&xn){const dn=b.RV6();b.j41(0,"div",1),b.nrm(1,"img",2),b.DNE(2,go,2,1)(3,Vi,4,2,"div",3)(4,ji,1,0,"mat-spinner"),b.j41(5,"p"),b.EFF(6,"Issues? "),b.j41(7,"button",4),b.bIt("click",function(){b.eBV(dn);const Fn=b.XpG();return b.Njj(Fn.forceClose())}),b.EFF(8,"Close loading sceen"),b.k0s()()()}if(2&xn){const dn=b.XpG();b.R7$(2),b.vxM(dn.appService.hasStateBeenSet()?2:3),b.R7$(2),b.vxM(dn.appService.loading()?4:-1)}}(0,y.B8)((()=>{class xn{countChar(dn,Un){return Un.split(dn).length-1}constructor(dn,Un,Fn){this.router=dn,this.layout=Un,this.identityService=Fn,this.title="app",this.appService=(0,b.WQX)($r.d),this.restore=(0,b.vPA)(!1);const Gr=globalThis.location.search;if(Gr){const ri=Object.fromEntries(new URLSearchParams(Gr));this.appService.params=ri}console.log(Gr),console.log(this.appService.params),this.router.events.subscribe(ri=>{ri instanceof P.Z?this.layout.enableScrolling():ri instanceof P.wF&&(this.countChar("/",ri.url)>1?this.layout.enableNavigation():this.layout.disableNavigation())}),(0,b.QZP)(()=>{this.appService.initialized()&&console.log("App has been initialized!!!!")})}forceClose(){this.appService.initialized.set(!0)}restoreAccount(){var dn=this;return(0,ge.A)(function*(){dn.restore.set(!0)})()}back(){this.restore.set(!1)}createAccount(){var dn=this;return(0,ge.A)(function*(){yield dn.appService.initialize(),console.log("App initialized!",dn.appService.firstTime()),dn.appService.firstTime()&&(console.log("First time setup, redirect to introduction!"),dn.router.navigate(["/introduction"]))})()}ngOnInit(){var dn=this;return(0,ge.A)(function*(){dn.appService.hasStateBeenSet()?(yield dn.appService.initialize(),console.log("App initialized!",dn.appService.firstTime()),dn.appService.firstTime()&&(console.log("First time setup, redirect to introduction!"),dn.router.navigate(["/introduction"]))):console.log("No state has been set, redirect to introduction!")})()}static#e=this.\u0275fac=function(Un){return new(Un||xn)(b.rXU(P.Ix),b.rXU(Ft.Y),b.rXU(bn.K))};static#t=this.\u0275cmp=b.VBU({type:xn,selectors:[["app-root"]],standalone:!0,features:[b.Jv_([{provide:on.U$,useValue:{appearance:"outline"}}]),b.aNF],decls:4,vars:2,consts:[[1,"unlock-container"],[1,"loading-container"],["src","ariton-icon-dark.svg",1,"loading-logo"],[1,"new-user-actions"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],["mat-button","",3,"click","disabled"],["mat-flat-button","",3,"click","disabled"]],template:function(Un,Fn){1&Un&&(b.DNE(0,Ii,2,0,"div",0)(1,za,9,2,"div",1),b.j41(2,"app-layout"),b.nrm(3,"router-outlet"),b.k0s()),2&Un&&(b.vxM(Fn.identityService.locked()?0:-1),b.R7$(),b.vxM(Fn.appService.initialized()?-1:1))},dependencies:[jr.RestoreComponent,ne.Hl,ne.$z,Tn.D6,Tn.LG,P.n3,Fr,Mr],styles:[".unlock-container[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1000;display:flex;justify-content:center;align-items:center;align-content:center;text-align:center}.loading-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1001;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-logo[_ngcontent-%COMP%]{max-width:128px;position:absolute;right:1em;bottom:1em}mat-spinner[_ngcontent-%COMP%]{margin:2em}.new-user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}"]})}return xn})(),Te).catch(xn=>console.error(xn))},4521:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.createCurve=j.getHash=void 0;const y=_(44882),b=_(96492),P=_(73040);function H(O){return{hash:O,hmac:(S,...B)=>(0,y.hmac)(O,S,(0,b.concatBytes)(...B)),randomBytes:b.randomBytes}}j.getHash=H,j.createCurve=function w(O,S){const B=N=>(0,P.weierstrass)({...O,...H(N)});return Object.freeze({...B(S),create:B})}},25299:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateBasic=j.wNAF=void 0;const y=_(63834),b=_(84097),P=BigInt(0),H=BigInt(1);j.wNAF=function w(S,B){const N=(A,G)=>{const L=G.negate();return A?L:G},U=A=>({windows:Math.ceil(B/A)+1,windowSize:2**(A-1)});return{constTimeNegate:N,unsafeLadder(A,G){let L=S.ZERO,z=A;for(;G>P;)G&H&&(L=L.add(z)),z=z.double(),G>>=H;return L},precomputeWindow(A,G){const{windows:L,windowSize:z}=U(G),ee=[];let q=A,Z=q;for(let J=0;J<L;J++){Z=q,ee.push(Z);for(let se=1;se<z;se++)Z=Z.add(q),ee.push(Z);q=Z.double()}return ee},wNAF(A,G,L){const{windows:z,windowSize:ee}=U(A);let q=S.ZERO,Z=S.BASE;const J=BigInt(2**A-1),se=2**A,ce=BigInt(A);for(let ae=0;ae<z;ae++){const fe=ae*ee;let he=Number(L&J);L>>=ce,he>ee&&(he-=se,L+=H);const we=fe,Me=fe+Math.abs(he)-1,C=he<0;0===he?Z=Z.add(N(ae%2!=0,G[we])):q=q.add(N(C,G[Me]))}return{p:q,f:Z}},wNAFCached(A,G,L,z){const ee=A._WINDOW_SIZE||1;let q=G.get(A);return q||(q=this.precomputeWindow(A,ee),1!==ee&&G.set(A,z(q))),this.wNAF(ee,q,L)}}},j.validateBasic=function O(S){return(0,y.validateField)(S.Fp),(0,b.validateObject)(S,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,y.nLength)(S.n,S.nBitLength),...S,p:S.Fp.ORDER})}},45068:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.twistedEdwards=void 0;const y=_(63834),b=_(84097),P=_(84097),H=_(25299),w=BigInt(0),O=BigInt(1),S=BigInt(2),B=BigInt(8),N={zip215:!0};j.twistedEdwards=function A(G){const L=function U(G){const L=(0,H.validateBasic)(G);return b.validateObject(G,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...L})}(G),{Fp:z,n:ee,prehash:q,hash:Z,randomBytes:J,nByteLength:se,h:ce}=L,ae=S<<BigInt(8*se)-O,fe=z.create,he=L.uvRatio||((_e,Fe)=>{try{return{isValid:!0,value:z.sqrt(_e*z.inv(Fe))}}catch{return{isValid:!1,value:w}}}),we=L.adjustScalarBytes||(_e=>_e),Me=L.domain||((_e,Fe,ve)=>{if(Fe.length||ve)throw new Error("Contexts/pre-hash are not supported");return _e}),Pe=_e=>"bigint"==typeof _e&&w<_e,C=(_e,Fe)=>Pe(_e)&&Pe(Fe)&&_e<Fe,a=_e=>_e===w||C(_e,ae);function d(_e,Fe){if(C(_e,Fe))return _e;throw new Error(`Expected valid scalar < ${Fe}, got ${typeof _e} ${_e}`)}function m(_e){return _e===w?_e:d(_e,ee)}const p=new Map;function E(_e){if(!(_e instanceof D))throw new Error("ExtendedPoint expected")}class D{constructor(Fe,ve,Te,ge){if(this.ex=Fe,this.ey=ve,this.ez=Te,this.et=ge,!a(Fe))throw new Error("x required");if(!a(ve))throw new Error("y required");if(!a(Te))throw new Error("z required");if(!a(ge))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Fe){if(Fe instanceof D)throw new Error("extended point not allowed");const{x:ve,y:Te}=Fe||{};if(!a(ve)||!a(Te))throw new Error("invalid affine point");return new D(ve,Te,O,fe(ve*Te))}static normalizeZ(Fe){const ve=z.invertBatch(Fe.map(Te=>Te.ez));return Fe.map((Te,ge)=>Te.toAffine(ve[ge])).map(D.fromAffine)}_setWindowSize(Fe){this._WINDOW_SIZE=Fe,p.delete(this)}assertValidity(){const{a:Fe,d:ve}=L;if(this.is0())throw new Error("bad point: ZERO");const{ex:Te,ey:ge,ez:me,et:te}=this,ne=fe(Te*Te),le=fe(ge*ge),Ae=fe(me*me),Be=fe(Ae*Ae),qe=fe(ne*Fe);if(fe(Ae*fe(qe+le))!==fe(Be+fe(ve*fe(ne*le))))throw new Error("bad point: equation left != right (1)");if(fe(Te*ge)!==fe(me*te))throw new Error("bad point: equation left != right (2)")}equals(Fe){E(Fe);const{ex:ve,ey:Te,ez:ge}=this,{ex:me,ey:te,ez:ne}=Fe,le=fe(ve*ne),Ae=fe(me*ge),Be=fe(Te*ne),qe=fe(te*ge);return le===Ae&&Be===qe}is0(){return this.equals(D.ZERO)}negate(){return new D(fe(-this.ex),this.ey,this.ez,fe(-this.et))}double(){const{a:Fe}=L,{ex:ve,ey:Te,ez:ge}=this,me=fe(ve*ve),te=fe(Te*Te),ne=fe(S*fe(ge*ge)),le=fe(Fe*me),Ae=ve+Te,Be=fe(fe(Ae*Ae)-me-te),qe=le+te,ze=qe-ne,Dt=le-te,Xe=fe(Be*ze),Ue=fe(qe*Dt),mt=fe(Be*Dt),K=fe(ze*qe);return new D(Xe,Ue,K,mt)}add(Fe){E(Fe);const{a:ve,d:Te}=L,{ex:ge,ey:me,ez:te,et:ne}=this,{ex:le,ey:Ae,ez:Be,et:qe}=Fe;if(ve===BigInt(-1)){const lt=fe((me-ge)*(Ae+le)),en=fe((me+ge)*(Ae-le)),It=fe(en-lt);if(It===w)return this.double();const Kt=fe(te*S*qe),rn=fe(ne*S*Be),gn=rn+Kt,ln=en+lt,ar=rn-Kt,Cn=fe(gn*It),cn=fe(ln*ar),Zt=fe(gn*ar),vt=fe(It*ln);return new D(Cn,cn,vt,Zt)}const ze=fe(ge*le),Dt=fe(me*Ae),Xe=fe(ne*Te*qe),Ue=fe(te*Be),mt=fe((ge+me)*(le+Ae)-ze-Dt),K=Ue-Xe,T=Ue+Xe,M=fe(Dt-ve*ze),Y=fe(mt*K),pe=fe(T*M),ke=fe(mt*M),Ne=fe(K*T);return new D(Y,pe,Ne,ke)}subtract(Fe){return this.add(Fe.negate())}wNAF(Fe){return s.wNAFCached(this,p,Fe,D.normalizeZ)}multiply(Fe){const{p:ve,f:Te}=this.wNAF(d(Fe,ee));return D.normalizeZ([ve,Te])[0]}multiplyUnsafe(Fe){let ve=m(Fe);return ve===w?x:this.equals(x)||ve===O?this:this.equals(R)?this.wNAF(ve).p:s.unsafeLadder(this,ve)}isSmallOrder(){return this.multiplyUnsafe(ce).is0()}isTorsionFree(){return s.unsafeLadder(this,ee).is0()}toAffine(Fe){const{ex:ve,ey:Te,ez:ge}=this,me=this.is0();null==Fe&&(Fe=me?B:z.inv(ge));const te=fe(ve*Fe),ne=fe(Te*Fe),le=fe(ge*Fe);if(me)return{x:w,y:O};if(le!==O)throw new Error("invZ was invalid");return{x:te,y:ne}}clearCofactor(){const{h:Fe}=L;return Fe===O?this:this.multiplyUnsafe(Fe)}static fromHex(Fe,ve=!1){const{d:Te,a:ge}=L,me=z.BYTES,te=(Fe=(0,P.ensureBytes)("pointHex",Fe,me)).slice(),ne=Fe[me-1];te[me-1]=-129&ne;const le=b.bytesToNumberLE(te);le===w||d(le,ve?ae:z.ORDER);const Ae=fe(le*le),Be=fe(Ae-O),qe=fe(Te*Ae-ge);let{isValid:ze,value:Dt}=he(Be,qe);if(!ze)throw new Error("Point.fromHex: invalid y coordinate");const Xe=(Dt&O)===O,Ue=!!(128&ne);if(!ve&&Dt===w&&Ue)throw new Error("Point.fromHex: x=0 and x_0=1");return Ue!==Xe&&(Dt=fe(-Dt)),D.fromAffine({x:Dt,y:le})}static fromPrivateKey(Fe){return F(Fe).point}toRawBytes(){const{x:Fe,y:ve}=this.toAffine(),Te=b.numberToBytesLE(ve,z.BYTES);return Te[Te.length-1]|=Fe&O?128:0,Te}toHex(){return b.bytesToHex(this.toRawBytes())}}D.BASE=new D(L.Gx,L.Gy,O,fe(L.Gx*L.Gy)),D.ZERO=new D(w,O,O,w);const{BASE:R,ZERO:x}=D,s=(0,H.wNAF)(D,8*se);function v(_e){return(0,y.mod)(_e,ee)}function $(_e){return v(b.bytesToNumberLE(_e))}function F(_e){const Fe=se;_e=(0,P.ensureBytes)("private key",_e,Fe);const ve=(0,P.ensureBytes)("hashed private key",Z(_e),2*Fe),Te=we(ve.slice(0,Fe)),ge=ve.slice(Fe,2*Fe),me=$(Te),te=R.multiply(me),ne=te.toRawBytes();return{head:Te,prefix:ge,scalar:me,point:te,pointBytes:ne}}function de(_e=new Uint8Array,...Fe){const ve=b.concatBytes(...Fe);return $(Z(Me(ve,(0,P.ensureBytes)("context",_e),!!q)))}const Re=N;return R._setWindowSize(8),{CURVE:L,getPublicKey:function Q(_e){return F(_e).pointBytes},sign:function De(_e,Fe,ve={}){_e=(0,P.ensureBytes)("message",_e),q&&(_e=q(_e));const{prefix:Te,scalar:ge,pointBytes:me}=F(Fe),te=de(ve.context,Te,_e),ne=R.multiply(te).toRawBytes(),Ae=v(te+de(ve.context,ne,me,_e)*ge);m(Ae);const Be=b.concatBytes(ne,b.numberToBytesLE(Ae,z.BYTES));return(0,P.ensureBytes)("result",Be,2*se)},verify:function Ve(_e,Fe,ve,Te=Re){const{context:ge,zip215:me}=Te,te=z.BYTES;_e=(0,P.ensureBytes)("signature",_e,2*te),Fe=(0,P.ensureBytes)("message",Fe),q&&(Fe=q(Fe));const ne=b.bytesToNumberLE(_e.slice(te,2*te));let le,Ae,Be;try{le=D.fromHex(ve,me),Ae=D.fromHex(_e.slice(0,te),me),Be=R.multiplyUnsafe(ne)}catch{return!1}if(!me&&le.isSmallOrder())return!1;const qe=de(ge,Ae.toRawBytes(),le.toRawBytes(),Fe);return Ae.add(le.multiplyUnsafe(qe)).subtract(Be).clearCofactor().equals(D.ZERO)},ExtendedPoint:D,utils:{getExtendedPublicKey:F,randomPrivateKey:()=>J(z.BYTES),precompute:(_e=8,Fe=D.BASE)=>(Fe._setWindowSize(_e),Fe.multiply(BigInt(3)),Fe)}}}},75752:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.createHasher=j.isogenyMap=j.hash_to_field=j.expand_message_xof=j.expand_message_xmd=void 0;const y=_(63834),b=_(84097),H=b.bytesToNumberBE;function w(z,ee){if(z<0||z>=1<<8*ee)throw new Error(`bad I2OSP call: value=${z} length=${ee}`);const q=Array.from({length:ee}).fill(0);for(let Z=ee-1;Z>=0;Z--)q[Z]=255&z,z>>>=8;return new Uint8Array(q)}function O(z,ee){const q=new Uint8Array(z.length);for(let Z=0;Z<z.length;Z++)q[Z]=z[Z]^ee[Z];return q}function S(z){if(!(0,b.isBytes)(z))throw new Error("Uint8Array expected")}function B(z){if(!Number.isSafeInteger(z))throw new Error("number expected")}function N(z,ee,q,Z){S(z),S(ee),B(q),ee.length>255&&(ee=Z((0,b.concatBytes)((0,b.utf8ToBytes)("H2C-OVERSIZE-DST-"),ee)));const{outputLen:J,blockLen:se}=Z,ce=Math.ceil(q/J);if(ce>255)throw new Error("Invalid xmd length");const ae=(0,b.concatBytes)(ee,w(ee.length,1)),fe=w(0,se),he=w(q,2),we=new Array(ce),Me=Z((0,b.concatBytes)(fe,z,he,w(0,1),ae));we[0]=Z((0,b.concatBytes)(Me,w(1,1),ae));for(let C=1;C<=ce;C++){const a=[O(Me,we[C-1]),w(C+1,1),ae];we[C]=Z((0,b.concatBytes)(...a))}return(0,b.concatBytes)(...we).slice(0,q)}function U(z,ee,q,Z,J){if(S(z),S(ee),B(q),ee.length>255){const se=Math.ceil(2*Z/8);ee=J.create({dkLen:se}).update((0,b.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(ee).digest()}if(q>65535||ee.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return J.create({dkLen:q}).update(z).update(w(q,2)).update(ee).update(w(ee.length,1)).digest()}function A(z,ee,q){(0,b.validateObject)(q,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:Z,k:J,m:se,hash:ce,expand:ae,DST:fe}=q;S(z),B(ee);const he=function P(z){if((0,b.isBytes)(z))return z;if("string"==typeof z)return(0,b.utf8ToBytes)(z);throw new Error("DST must be Uint8Array or string")}(fe),we=Z.toString(2).length,Me=Math.ceil((we+J)/8),Pe=ee*se*Me;let C;if("xmd"===ae)C=N(z,he,Pe,ce);else if("xof"===ae)C=U(z,he,Pe,J,ce);else{if("_internal_pass"!==ae)throw new Error('expand must be "xmd" or "xof"');C=z}const a=new Array(ee);for(let d=0;d<ee;d++){const m=new Array(se);for(let p=0;p<se;p++){const E=Me*(p+d*se),D=C.subarray(E,E+Me);m[p]=(0,y.mod)(H(D),Z)}a[d]=m}return a}j.expand_message_xmd=N,j.expand_message_xof=U,j.hash_to_field=A,j.isogenyMap=function G(z,ee){const q=ee.map(Z=>Array.from(Z).reverse());return(Z,J)=>{const[se,ce,ae,fe]=q.map(he=>he.reduce((we,Me)=>z.add(z.mul(we,Z),Me)));return Z=z.div(se,ce),J=z.mul(J,z.div(ae,fe)),{x:Z,y:J}}},j.createHasher=function L(z,ee,q){if("function"!=typeof ee)throw new Error("mapToCurve() must be defined");return{hashToCurve(Z,J){const se=A(Z,2,{...q,DST:q.DST,...J}),ce=z.fromAffine(ee(se[0])),ae=z.fromAffine(ee(se[1])),fe=ce.add(ae).clearCofactor();return fe.assertValidity(),fe},encodeToCurve(Z,J){const se=A(Z,1,{...q,DST:q.encodeDST,...J}),ce=z.fromAffine(ee(se[0])).clearCofactor();return ce.assertValidity(),ce}}}},63834:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.mapHashToField=j.getMinHashLength=j.getFieldBytesLength=j.hashToPrivateScalar=j.FpSqrtEven=j.FpSqrtOdd=j.Field=j.nLength=j.FpIsSquare=j.FpDiv=j.FpInvertBatch=j.FpPow=j.validateField=j.isNegativeLE=j.FpSqrt=j.tonelliShanks=j.invert=j.pow2=j.pow=j.mod=void 0;const y=_(84097),b=BigInt(0),P=BigInt(1),H=BigInt(2),w=BigInt(3),O=BigInt(4),S=BigInt(5),B=BigInt(8);function A(E,D){const R=E%D;return R>=b?R:D+R}function G(E,D,R){if(R<=b||D<b)throw new Error("Expected power/modulo > 0");if(R===P)return b;let x=P;for(;D>b;)D&P&&(x=x*E%R),E=E*E%R,D>>=P;return x}function z(E,D){if(E===b||D<=b)throw new Error(`invert: expected positive integers, got n=${E} mod=${D}`);let R=A(E,D),x=D,s=b,v=P,$=P,F=b;for(;R!==b;){const de=x/R,De=x%R,Re=s-$*de,Ve=v-F*de;x=R,R=De,s=$,v=F,$=Re,F=Ve}if(x!==P)throw new Error("invert: does not exist");return A(s,D)}function ee(E){const D=(E-P)/H;let R,x,s;for(R=E-P,x=0;R%H===b;R/=H,x++);for(s=H;s<E&&G(s,D,E)!==E-P;s++);if(1===x){const $=(E+P)/O;return function(Q,de){const De=Q.pow(de,$);if(!Q.eql(Q.sqr(De),de))throw new Error("Cannot find square root");return De}}const v=(R+P)/H;return function(F,Q){if(F.pow(Q,D)===F.neg(F.ONE))throw new Error("Cannot find square root");let de=x,De=F.pow(F.mul(F.ONE,s),R),Re=F.pow(Q,v),Ve=F.pow(Q,R);for(;!F.eql(Ve,F.ONE);){if(F.eql(Ve,F.ZERO))return F.ZERO;let Ee=1;for(let Fe=F.sqr(Ve);Ee<de&&!F.eql(Fe,F.ONE);Ee++)Fe=F.sqr(Fe);const _e=F.pow(De,P<<BigInt(de-Ee-1));De=F.sqr(_e),Re=F.mul(Re,_e),Ve=F.mul(Ve,De),de=Ee}return Re}}function q(E){if(E%O===w){const D=(E+P)/O;return function(x,s){const v=x.pow(s,D);if(!x.eql(x.sqr(v),s))throw new Error("Cannot find square root");return v}}if(E%B===S){const D=(E-S)/B;return function(x,s){const v=x.mul(s,H),$=x.pow(v,D),F=x.mul(s,$),Q=x.mul(x.mul(F,H),$),de=x.mul(F,x.sub(Q,x.ONE));if(!x.eql(x.sqr(de),s))throw new Error("Cannot find square root");return de}}return ee(E)}BigInt(9),BigInt(16),j.mod=A,j.pow=G,j.pow2=function L(E,D,R){let x=E;for(;D-- >b;)x*=x,x%=R;return x},j.invert=z,j.tonelliShanks=ee,j.FpSqrt=q,j.isNegativeLE=(E,D)=>(A(E,D)&P)===P;const J=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ce(E,D,R){if(R<b)throw new Error("Expected power > 0");if(R===b)return E.ONE;if(R===P)return D;let x=E.ONE,s=D;for(;R>b;)R&P&&(x=E.mul(x,s)),s=E.sqr(s),R>>=P;return x}function ae(E,D){const R=new Array(D.length),x=D.reduce((v,$,F)=>E.is0($)?v:(R[F]=v,E.mul(v,$)),E.ONE),s=E.inv(x);return D.reduceRight((v,$,F)=>E.is0($)?v:(R[F]=E.mul(v,R[F]),E.mul(v,$)),s),R}function we(E,D){const R=void 0!==D?D:E.toString(2).length;return{nBitLength:R,nByteLength:Math.ceil(R/8)}}function d(E){if("bigint"!=typeof E)throw new Error("field order must be bigint");const D=E.toString(2).length;return Math.ceil(D/8)}function m(E){const D=d(E);return D+Math.ceil(D/2)}j.validateField=function se(E){const R=J.reduce((x,s)=>(x[s]="function",x),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,y.validateObject)(E,R)},j.FpPow=ce,j.FpInvertBatch=ae,j.FpDiv=function fe(E,D,R){return E.mul(D,"bigint"==typeof R?z(R,E.ORDER):E.inv(R))},j.FpIsSquare=function he(E){const D=(E.ORDER-P)/H;return R=>{const x=E.pow(R,D);return E.eql(x,E.ZERO)||E.eql(x,E.ONE)}},j.nLength=we,j.Field=function Me(E,D,R=!1,x={}){if(E<=b)throw new Error(`Expected Field ORDER > 0, got ${E}`);const{nBitLength:s,nByteLength:v}=we(E,D);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const $=q(E),F=Object.freeze({ORDER:E,BITS:s,BYTES:v,MASK:(0,y.bitMask)(s),ZERO:b,ONE:P,create:Q=>A(Q,E),isValid:Q=>{if("bigint"!=typeof Q)throw new Error("Invalid field element: expected bigint, got "+typeof Q);return b<=Q&&Q<E},is0:Q=>Q===b,isOdd:Q=>(Q&P)===P,neg:Q=>A(-Q,E),eql:(Q,de)=>Q===de,sqr:Q=>A(Q*Q,E),add:(Q,de)=>A(Q+de,E),sub:(Q,de)=>A(Q-de,E),mul:(Q,de)=>A(Q*de,E),pow:(Q,de)=>ce(F,Q,de),div:(Q,de)=>A(Q*z(de,E),E),sqrN:Q=>Q*Q,addN:(Q,de)=>Q+de,subN:(Q,de)=>Q-de,mulN:(Q,de)=>Q*de,inv:Q=>z(Q,E),sqrt:x.sqrt||(Q=>$(F,Q)),invertBatch:Q=>ae(F,Q),cmov:(Q,de,De)=>De?de:Q,toBytes:Q=>R?(0,y.numberToBytesLE)(Q,v):(0,y.numberToBytesBE)(Q,v),fromBytes:Q=>{if(Q.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${Q.length}`);return R?(0,y.bytesToNumberLE)(Q):(0,y.bytesToNumberBE)(Q)}});return Object.freeze(F)},j.FpSqrtOdd=function Pe(E,D){if(!E.isOdd)throw new Error("Field doesn't have isOdd");const R=E.sqrt(D);return E.isOdd(R)?R:E.neg(R)},j.FpSqrtEven=function C(E,D){if(!E.isOdd)throw new Error("Field doesn't have isOdd");const R=E.sqrt(D);return E.isOdd(R)?E.neg(R):R},j.hashToPrivateScalar=function a(E,D,R=!1){const x=(E=(0,y.ensureBytes)("privateHash",E)).length,s=we(D).nByteLength+8;if(s<24||x<s||x>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${x}`);return A(R?(0,y.bytesToNumberLE)(E):(0,y.bytesToNumberBE)(E),D-P)+P},j.getFieldBytesLength=d,j.getMinHashLength=m,j.mapHashToField=function p(E,D,R=!1){const x=E.length,s=d(D),v=m(D);if(x<16||x<v||x>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${x}`);const F=A(R?(0,y.bytesToNumberBE)(E):(0,y.bytesToNumberLE)(E),D-P)+P;return R?(0,y.numberToBytesLE)(F,s):(0,y.numberToBytesBE)(F,s)}},27661:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.montgomery=void 0;const y=_(63834),b=_(84097),P=BigInt(0),H=BigInt(1);j.montgomery=function O(S){const B=function w(S){return(0,b.validateObject)(S,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...S})}(S),{P:N}=B,U=Pe=>(0,y.mod)(Pe,N),A=B.montgomeryBits,G=Math.ceil(A/8),L=B.nByteLength,z=B.adjustScalarBytes||(Pe=>Pe),ee=B.powPminus2||(Pe=>(0,y.pow)(Pe,N-BigInt(2),N));function q(Pe,C,a){const d=U(Pe*(C-a));return[C=U(C-d),a=U(a+d)]}function Z(Pe){if("bigint"==typeof Pe&&P<=Pe&&Pe<N)return Pe;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const J=(B.a-BigInt(2))/BigInt(4);function ce(Pe){return(0,b.numberToBytesLE)(U(Pe),G)}function he(Pe,C){const a=function ae(Pe){const C=(0,b.ensureBytes)("u coordinate",Pe,G);return 32===L&&(C[31]&=127),(0,b.bytesToNumberLE)(C)}(C),d=function fe(Pe){const C=(0,b.ensureBytes)("scalar",Pe),a=C.length;if(a!==G&&a!==L)throw new Error(`Expected ${G} or ${L} bytes, got ${a}`);return(0,b.bytesToNumberLE)(z(C))}(Pe),m=function se(Pe,C){const a=Z(Pe),d=Z(C),m=a;let s,p=H,E=P,D=a,R=H,x=P;for(let $=BigInt(A-1);$>=P;$--){const F=d>>$&H;x^=F,s=q(x,p,D),p=s[0],D=s[1],s=q(x,E,R),E=s[0],R=s[1],x=F;const Q=p+E,de=U(Q*Q),De=p-E,Re=U(De*De),Ve=de-Re,Ee=D+R,Fe=U((D-R)*Q),ve=U(Ee*De),Te=Fe+ve,ge=Fe-ve;D=U(Te*Te),R=U(m*U(ge*ge)),p=U(de*Re),E=U(Ve*(de+U(J*Ve)))}s=q(x,p,D),p=s[0],D=s[1],s=q(x,E,R),E=s[0],R=s[1];const v=ee(E);return U(p*v)}(a,d);if(m===P)throw new Error("Invalid private or public key received");return ce(m)}const we=ce(B.Gu);function Me(Pe){return he(Pe,we)}return{scalarMult:he,scalarMultBase:Me,getSharedSecret:(Pe,C)=>he(Pe,C),getPublicKey:Pe=>Me(Pe),utils:{randomPrivateKey:()=>B.randomBytes(B.nByteLength)},GuBytes:we}}},84097:(We,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateObject=j.createHmacDrbg=j.bitMask=j.bitSet=j.bitGet=j.bitLen=j.utf8ToBytes=j.equalBytes=j.concatBytes=j.ensureBytes=j.numberToVarBytesBE=j.numberToBytesLE=j.numberToBytesBE=j.bytesToNumberLE=j.bytesToNumberBE=j.hexToBytes=j.hexToNumber=j.numberToHexUnpadded=j.bytesToHex=j.isBytes=void 0;const _=BigInt(0),y=BigInt(1),b=BigInt(2);function P(d){return d instanceof Uint8Array||null!=d&&"object"==typeof d&&"Uint8Array"===d.constructor.name}j.isBytes=P;const H=Array.from({length:256},(d,m)=>m.toString(16).padStart(2,"0"));function w(d){if(!P(d))throw new Error("Uint8Array expected");let m="";for(let p=0;p<d.length;p++)m+=H[d[p]];return m}function O(d){const m=d.toString(16);return 1&m.length?`0${m}`:m}function S(d){if("string"!=typeof d)throw new Error("hex string expected, got "+typeof d);return BigInt(""===d?"0":`0x${d}`)}j.bytesToHex=w,j.numberToHexUnpadded=O,j.hexToNumber=S;const B={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function N(d){return d>=B._0&&d<=B._9?d-B._0:d>=B._A&&d<=B._F?d-(B._A-10):d>=B._a&&d<=B._f?d-(B._a-10):void 0}function U(d){if("string"!=typeof d)throw new Error("hex string expected, got "+typeof d);const m=d.length,p=m/2;if(m%2)throw new Error("padded hex string expected, got unpadded hex of length "+m);const E=new Uint8Array(p);for(let D=0,R=0;D<p;D++,R+=2){const x=N(d.charCodeAt(R)),s=N(d.charCodeAt(R+1));if(void 0===x||void 0===s)throw new Error('hex string expected, got non-hex character "'+(d[R]+d[R+1])+'" at index '+R);E[D]=16*x+s}return E}function L(d,m){return U(d.toString(16).padStart(2*m,"0"))}function Z(...d){let m=0;for(let D=0;D<d.length;D++){const R=d[D];if(!P(R))throw new Error("Uint8Array expected");m+=R.length}let p=new Uint8Array(m),E=0;for(let D=0;D<d.length;D++){const R=d[D];p.set(R,E),E+=R.length}return p}j.hexToBytes=U,j.bytesToNumberBE=function A(d){return S(w(d))},j.bytesToNumberLE=function G(d){if(!P(d))throw new Error("Uint8Array expected");return S(w(Uint8Array.from(d).reverse()))},j.numberToBytesBE=L,j.numberToBytesLE=function z(d,m){return L(d,m).reverse()},j.numberToVarBytesBE=function ee(d){return U(O(d))},j.ensureBytes=function q(d,m,p){let E;if("string"==typeof m)try{E=U(m)}catch(R){throw new Error(`${d} must be valid hex string, got "${m}". Cause: ${R}`)}else{if(!P(m))throw new Error(`${d} must be hex string or Uint8Array`);E=Uint8Array.from(m)}const D=E.length;if("number"==typeof p&&D!==p)throw new Error(`${d} expected ${p} bytes, got ${D}`);return E},j.concatBytes=Z,j.equalBytes=function J(d,m){if(d.length!==m.length)return!1;let p=0;for(let E=0;E<d.length;E++)p|=d[E]^m[E];return 0===p},j.utf8ToBytes=function se(d){if("string"!=typeof d)throw new Error("utf8ToBytes expected string, got "+typeof d);return new Uint8Array((new TextEncoder).encode(d))},j.bitLen=function ce(d){let m;for(m=0;d>_;d>>=y,m+=1);return m},j.bitGet=function ae(d,m){return d>>BigInt(m)&y},j.bitSet=(d,m,p)=>d|(p?y:_)<<BigInt(m),j.bitMask=d=>(b<<BigInt(d-1))-y;const we=d=>new Uint8Array(d),Me=d=>Uint8Array.from(d);j.createHmacDrbg=function Pe(d,m,p){if("number"!=typeof d||d<2)throw new Error("hashLen must be a number");if("number"!=typeof m||m<2)throw new Error("qByteLen must be a number");if("function"!=typeof p)throw new Error("hmacFn must be a function");let E=we(d),D=we(d),R=0;const x=()=>{E.fill(1),D.fill(0),R=0},s=(...Q)=>p(D,E,...Q),v=(Q=we())=>{D=s(Me([0]),Q),E=s(),0!==Q.length&&(D=s(Me([1]),Q),E=s())},$=()=>{if(R++>=1e3)throw new Error("drbg: tried 1000 values");let Q=0;const de=[];for(;Q<m;){E=s();const De=E.slice();de.push(De),Q+=E.length}return Z(...de)};return(Q,de)=>{let De;for(x(),v(Q);!(De=de($()));)v();return x(),De}};const C={bigint:d=>"bigint"==typeof d,function:d=>"function"==typeof d,boolean:d=>"boolean"==typeof d,string:d=>"string"==typeof d,stringOrUint8Array:d=>"string"==typeof d||P(d),isSafeInteger:d=>Number.isSafeInteger(d),array:d=>Array.isArray(d),field:(d,m)=>m.Fp.isValid(d),hash:d=>"function"==typeof d&&Number.isSafeInteger(d.outputLen)};j.validateObject=function a(d,m,p={}){const E=(D,R,x)=>{const s=C[R];if("function"!=typeof s)throw new Error(`Invalid validator "${R}", expected function`);const v=d[D];if(!(x&&void 0===v||s(v,d)))throw new Error(`Invalid param ${String(D)}=${v} (${typeof v}), expected ${R}`)};for(const[D,R]of Object.entries(m))E(D,R,!1);for(const[D,R]of Object.entries(p))E(D,R,!0);return d}},73040:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.mapToCurveSimpleSWU=j.SWUFpSqrtRatio=j.weierstrass=j.weierstrassPoints=j.DER=void 0;const y=_(63834),b=_(84097),P=_(84097),H=_(25299),{bytesToNumberBE:O,hexToBytes:S}=b;j.DER={Err:class extends Error{constructor(se=""){super(se)}},_parseInt(J){const{Err:se}=j.DER;if(J.length<2||2!==J[0])throw new se("Invalid signature integer tag");const ce=J[1],ae=J.subarray(2,ce+2);if(!ce||ae.length!==ce)throw new se("Invalid signature integer: wrong length");if(128&ae[0])throw new se("Invalid signature integer: negative");if(0===ae[0]&&!(128&ae[1]))throw new se("Invalid signature integer: unnecessary leading zero");return{d:O(ae),l:J.subarray(ce+2)}},toSig(J){const{Err:se}=j.DER,ce="string"==typeof J?S(J):J;if(!b.isBytes(ce))throw new Error("ui8a expected");let ae=ce.length;if(ae<2||48!=ce[0])throw new se("Invalid signature tag");if(ce[1]!==ae-2)throw new se("Invalid signature: incorrect length");const{d:fe,l:he}=j.DER._parseInt(ce.subarray(2)),{d:we,l:Me}=j.DER._parseInt(he);if(Me.length)throw new se("Invalid signature: left bytes after parsing");return{r:fe,s:we}},hexFromSig(J){const se=C=>8&Number.parseInt(C[0],16)?"00"+C:C,ce=C=>{const a=C.toString(16);return 1&a.length?`0${a}`:a},ae=se(ce(J.s)),fe=se(ce(J.r)),he=ae.length/2,we=fe.length/2,Me=ce(he),Pe=ce(we);return`30${ce(we+he+4)}02${Pe}${fe}02${Me}${ae}`}};const B=BigInt(0),N=BigInt(1),U=BigInt(2),A=BigInt(3),G=BigInt(4);function L(J){const se=function w(J){const se=(0,H.validateBasic)(J);b.validateObject(se,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ce,Fp:ae,a:fe}=se;if(ce){if(!ae.eql(fe,ae.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof ce||"bigint"!=typeof ce.beta||"function"!=typeof ce.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...se})}(J),{Fp:ce}=se,ae=se.toBytes||((E,D,R)=>{const x=D.toAffine();return b.concatBytes(Uint8Array.from([4]),ce.toBytes(x.x),ce.toBytes(x.y))}),fe=se.fromBytes||(E=>{const D=E.subarray(1);return{x:ce.fromBytes(D.subarray(0,ce.BYTES)),y:ce.fromBytes(D.subarray(ce.BYTES,2*ce.BYTES))}});function he(E){const{a:D,b:R}=se,x=ce.sqr(E),s=ce.mul(x,E);return ce.add(ce.add(s,ce.mul(E,D)),R)}if(!ce.eql(ce.sqr(se.Gy),he(se.Gx)))throw new Error("bad generator point: equation left != right");function we(E){return"bigint"==typeof E&&B<E&&E<se.n}function Me(E){if(!we(E))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function Pe(E){const{allowedPrivateKeyLengths:D,nByteLength:R,wrapPrivateKey:x,n:s}=se;if(D&&"bigint"!=typeof E){if(b.isBytes(E)&&(E=b.bytesToHex(E)),"string"!=typeof E||!D.includes(E.length))throw new Error("Invalid key");E=E.padStart(2*R,"0")}let v;try{v="bigint"==typeof E?E:b.bytesToNumberBE((0,P.ensureBytes)("private key",E,R))}catch{throw new Error(`private key must be ${R} bytes, hex or bigint, not ${typeof E}`)}return x&&(v=y.mod(v,s)),Me(v),v}const C=new Map;function a(E){if(!(E instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(D,R,x){if(this.px=D,this.py=R,this.pz=x,null==D||!ce.isValid(D))throw new Error("x required");if(null==R||!ce.isValid(R))throw new Error("y required");if(null==x||!ce.isValid(x))throw new Error("z required")}static fromAffine(D){const{x:R,y:x}=D||{};if(!D||!ce.isValid(R)||!ce.isValid(x))throw new Error("invalid affine point");if(D instanceof d)throw new Error("projective point not allowed");const s=v=>ce.eql(v,ce.ZERO);return s(R)&&s(x)?d.ZERO:new d(R,x,ce.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(D){const R=ce.invertBatch(D.map(x=>x.pz));return D.map((x,s)=>x.toAffine(R[s])).map(d.fromAffine)}static fromHex(D){const R=d.fromAffine(fe((0,P.ensureBytes)("pointHex",D)));return R.assertValidity(),R}static fromPrivateKey(D){return d.BASE.multiply(Pe(D))}_setWindowSize(D){this._WINDOW_SIZE=D,C.delete(this)}assertValidity(){if(this.is0()){if(se.allowInfinityPoint&&!ce.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:D,y:R}=this.toAffine();if(!ce.isValid(D)||!ce.isValid(R))throw new Error("bad point: x or y not FE");const x=ce.sqr(R),s=he(D);if(!ce.eql(x,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:D}=this.toAffine();if(ce.isOdd)return!ce.isOdd(D);throw new Error("Field doesn't support isOdd")}equals(D){a(D);const{px:R,py:x,pz:s}=this,{px:v,py:$,pz:F}=D,Q=ce.eql(ce.mul(R,F),ce.mul(v,s)),de=ce.eql(ce.mul(x,F),ce.mul($,s));return Q&&de}negate(){return new d(this.px,ce.neg(this.py),this.pz)}double(){const{a:D,b:R}=se,x=ce.mul(R,A),{px:s,py:v,pz:$}=this;let F=ce.ZERO,Q=ce.ZERO,de=ce.ZERO,De=ce.mul(s,s),Re=ce.mul(v,v),Ve=ce.mul($,$),Ee=ce.mul(s,v);return Ee=ce.add(Ee,Ee),de=ce.mul(s,$),de=ce.add(de,de),F=ce.mul(D,de),Q=ce.mul(x,Ve),Q=ce.add(F,Q),F=ce.sub(Re,Q),Q=ce.add(Re,Q),Q=ce.mul(F,Q),F=ce.mul(Ee,F),de=ce.mul(x,de),Ve=ce.mul(D,Ve),Ee=ce.sub(De,Ve),Ee=ce.mul(D,Ee),Ee=ce.add(Ee,de),de=ce.add(De,De),De=ce.add(de,De),De=ce.add(De,Ve),De=ce.mul(De,Ee),Q=ce.add(Q,De),Ve=ce.mul(v,$),Ve=ce.add(Ve,Ve),De=ce.mul(Ve,Ee),F=ce.sub(F,De),de=ce.mul(Ve,Re),de=ce.add(de,de),de=ce.add(de,de),new d(F,Q,de)}add(D){a(D);const{px:R,py:x,pz:s}=this,{px:v,py:$,pz:F}=D;let Q=ce.ZERO,de=ce.ZERO,De=ce.ZERO;const Re=se.a,Ve=ce.mul(se.b,A);let Ee=ce.mul(R,v),_e=ce.mul(x,$),Fe=ce.mul(s,F),ve=ce.add(R,x),Te=ce.add(v,$);ve=ce.mul(ve,Te),Te=ce.add(Ee,_e),ve=ce.sub(ve,Te),Te=ce.add(R,s);let ge=ce.add(v,F);return Te=ce.mul(Te,ge),ge=ce.add(Ee,Fe),Te=ce.sub(Te,ge),ge=ce.add(x,s),Q=ce.add($,F),ge=ce.mul(ge,Q),Q=ce.add(_e,Fe),ge=ce.sub(ge,Q),De=ce.mul(Re,Te),Q=ce.mul(Ve,Fe),De=ce.add(Q,De),Q=ce.sub(_e,De),De=ce.add(_e,De),de=ce.mul(Q,De),_e=ce.add(Ee,Ee),_e=ce.add(_e,Ee),Fe=ce.mul(Re,Fe),Te=ce.mul(Ve,Te),_e=ce.add(_e,Fe),Fe=ce.sub(Ee,Fe),Fe=ce.mul(Re,Fe),Te=ce.add(Te,Fe),Ee=ce.mul(_e,Te),de=ce.add(de,Ee),Ee=ce.mul(ge,Te),Q=ce.mul(ve,Q),Q=ce.sub(Q,Ee),Ee=ce.mul(ve,_e),De=ce.mul(ge,De),De=ce.add(De,Ee),new d(Q,de,De)}subtract(D){return this.add(D.negate())}is0(){return this.equals(d.ZERO)}wNAF(D){return p.wNAFCached(this,C,D,R=>{const x=ce.invertBatch(R.map(s=>s.pz));return R.map((s,v)=>s.toAffine(x[v])).map(d.fromAffine)})}multiplyUnsafe(D){const R=d.ZERO;if(D===B)return R;if(Me(D),D===N)return this;const{endo:x}=se;if(!x)return p.unsafeLadder(this,D);let{k1neg:s,k1:v,k2neg:$,k2:F}=x.splitScalar(D),Q=R,de=R,De=this;for(;v>B||F>B;)v&N&&(Q=Q.add(De)),F&N&&(de=de.add(De)),De=De.double(),v>>=N,F>>=N;return s&&(Q=Q.negate()),$&&(de=de.negate()),de=new d(ce.mul(de.px,x.beta),de.py,de.pz),Q.add(de)}multiply(D){Me(D);let x,s,R=D;const{endo:v}=se;if(v){const{k1neg:$,k1:F,k2neg:Q,k2:de}=v.splitScalar(R);let{p:De,f:Re}=this.wNAF(F),{p:Ve,f:Ee}=this.wNAF(de);De=p.constTimeNegate($,De),Ve=p.constTimeNegate(Q,Ve),Ve=new d(ce.mul(Ve.px,v.beta),Ve.py,Ve.pz),x=De.add(Ve),s=Re.add(Ee)}else{const{p:$,f:F}=this.wNAF(R);x=$,s=F}return d.normalizeZ([x,s])[0]}multiplyAndAddUnsafe(D,R,x){const s=d.BASE,v=(F,Q)=>Q!==B&&Q!==N&&F.equals(s)?F.multiply(Q):F.multiplyUnsafe(Q),$=v(this,R).add(v(D,x));return $.is0()?void 0:$}toAffine(D){const{px:R,py:x,pz:s}=this,v=this.is0();null==D&&(D=v?ce.ONE:ce.inv(s));const $=ce.mul(R,D),F=ce.mul(x,D),Q=ce.mul(s,D);if(v)return{x:ce.ZERO,y:ce.ZERO};if(!ce.eql(Q,ce.ONE))throw new Error("invZ was invalid");return{x:$,y:F}}isTorsionFree(){const{h:D,isTorsionFree:R}=se;if(D===N)return!0;if(R)return R(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:D,clearCofactor:R}=se;return D===N?this:R?R(d,this):this.multiplyUnsafe(se.h)}toRawBytes(D=!0){return this.assertValidity(),ae(d,this,D)}toHex(D=!0){return b.bytesToHex(this.toRawBytes(D))}}d.BASE=new d(se.Gx,se.Gy,ce.ONE),d.ZERO=new d(ce.ZERO,ce.ONE,ce.ZERO);const m=se.nBitLength,p=(0,H.wNAF)(d,se.endo?Math.ceil(m/2):m);return{CURVE:se,ProjectivePoint:d,normPrivateKeyToScalar:Pe,weierstrassEquation:he,isWithinCurveOrder:we}}function q(J,se){const ce=J.ORDER;let ae=B;for(let E=ce-N;E%U===B;E/=U)ae+=N;const fe=ae,he=U<<fe-N-N,we=he*U,Me=(ce-N)/we,Pe=(Me-N)/U,C=we-N,a=he,d=J.pow(se,Me),m=J.pow(se,(Me+N)/U);let p=(E,D)=>{let R=d,x=J.pow(D,C),s=J.sqr(x);s=J.mul(s,D);let v=J.mul(E,s);v=J.pow(v,Pe),v=J.mul(v,x),x=J.mul(v,D),s=J.mul(v,E);let $=J.mul(s,x);v=J.pow($,a);let F=J.eql(v,J.ONE);x=J.mul(s,m),v=J.mul($,R),s=J.cmov(x,s,F),$=J.cmov(v,$,F);for(let Q=fe;Q>N;Q--){let de=Q-U;de=U<<de-N;let De=J.pow($,de);const Re=J.eql(De,J.ONE);x=J.mul(s,R),R=J.mul(R,R),De=J.mul($,R),s=J.cmov(x,s,Re),$=J.cmov(De,$,Re)}return{isValid:F,value:s}};if(J.ORDER%G===A){const E=(J.ORDER-A)/G,D=J.sqrt(J.neg(se));p=(R,x)=>{let s=J.sqr(x);const v=J.mul(R,x);s=J.mul(s,v);let $=J.pow(s,E);$=J.mul($,v);const F=J.mul($,D),Q=J.mul(J.sqr($),x),de=J.eql(Q,R);return{isValid:de,value:J.cmov(F,$,de)}}}return p}j.weierstrassPoints=L,j.weierstrass=function ee(J){const se=function z(J){const se=(0,H.validateBasic)(J);return b.validateObject(se,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...se})}(J),{Fp:ce,n:ae}=se,fe=ce.BYTES+1,he=2*ce.BYTES+1;function Me(Te){return y.mod(Te,ae)}function Pe(Te){return y.invert(Te,ae)}const{ProjectivePoint:C,normPrivateKeyToScalar:a,weierstrassEquation:d,isWithinCurveOrder:m}=L({...se,toBytes(Te,ge,me){const te=ge.toAffine(),ne=ce.toBytes(te.x),le=b.concatBytes;return me?le(Uint8Array.from([ge.hasEvenY()?2:3]),ne):le(Uint8Array.from([4]),ne,ce.toBytes(te.y))},fromBytes(Te){const ge=Te.length,me=Te[0],te=Te.subarray(1);if(ge!==fe||2!==me&&3!==me){if(ge===he&&4===me)return{x:ce.fromBytes(te.subarray(0,ce.BYTES)),y:ce.fromBytes(te.subarray(ce.BYTES,2*ce.BYTES))};throw new Error(`Point of length ${ge} was invalid. Expected ${fe} compressed bytes or ${he} uncompressed bytes`)}{const ne=b.bytesToNumberBE(te);if(!function we(Te){return B<Te&&Te<ce.ORDER}(ne))throw new Error("Point is not on curve");const le=d(ne);let Ae=ce.sqrt(le);return!(1&~me)!=((Ae&N)===N)&&(Ae=ce.neg(Ae)),{x:ne,y:Ae}}}}),p=Te=>b.bytesToHex(b.numberToBytesBE(Te,se.nByteLength));function E(Te){return Te>ae>>N}const R=(Te,ge,me)=>b.bytesToNumberBE(Te.slice(ge,me));class x{constructor(ge,me,te){this.r=ge,this.s=me,this.recovery=te,this.assertValidity()}static fromCompact(ge){const me=se.nByteLength;return ge=(0,P.ensureBytes)("compactSignature",ge,2*me),new x(R(ge,0,me),R(ge,me,2*me))}static fromDER(ge){const{r:me,s:te}=j.DER.toSig((0,P.ensureBytes)("DER",ge));return new x(me,te)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(ge){return new x(this.r,this.s,ge)}recoverPublicKey(ge){const{r:me,s:te,recovery:ne}=this,le=de((0,P.ensureBytes)("msgHash",ge));if(null==ne||![0,1,2,3].includes(ne))throw new Error("recovery id invalid");const Ae=2===ne||3===ne?me+se.n:me;if(Ae>=ce.ORDER)throw new Error("recovery id 2 or 3 invalid");const qe=C.fromHex((1&ne?"03":"02")+p(Ae)),ze=Pe(Ae),Dt=Me(-le*ze),Xe=Me(te*ze),Ue=C.BASE.multiplyAndAddUnsafe(qe,Dt,Xe);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return E(this.s)}normalizeS(){return this.hasHighS()?new x(this.r,Me(-this.s),this.recovery):this}toDERRawBytes(){return b.hexToBytes(this.toDERHex())}toDERHex(){return j.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return b.hexToBytes(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const s={isValidPrivateKey(Te){try{return a(Te),!0}catch{return!1}},normPrivateKeyToScalar:a,randomPrivateKey:()=>{const Te=y.getMinHashLength(se.n);return y.mapHashToField(se.randomBytes(Te),se.n)},precompute:(Te=8,ge=C.BASE)=>(ge._setWindowSize(Te),ge.multiply(BigInt(3)),ge)};function $(Te){const ge=b.isBytes(Te),me="string"==typeof Te,te=(ge||me)&&Te.length;return ge?te===fe||te===he:me?te===2*fe||te===2*he:Te instanceof C}const Q=se.bits2int||function(Te){const ge=b.bytesToNumberBE(Te),me=8*Te.length-se.nBitLength;return me>0?ge>>BigInt(me):ge},de=se.bits2int_modN||function(Te){return Me(Q(Te))},De=b.bitMask(se.nBitLength);function Re(Te){if("bigint"!=typeof Te)throw new Error("bigint expected");if(!(B<=Te&&Te<De))throw new Error(`bigint expected < 2^${se.nBitLength}`);return b.numberToBytesBE(Te,se.nByteLength)}const Ee={lowS:se.lowS,prehash:!1},_e={lowS:se.lowS,prehash:!1};return C.BASE._setWindowSize(8),{CURVE:se,getPublicKey:function v(Te,ge=!0){return C.fromPrivateKey(Te).toRawBytes(ge)},getSharedSecret:function F(Te,ge,me=!0){if($(Te))throw new Error("first arg must be private key");if(!$(ge))throw new Error("second arg must be public key");return C.fromHex(ge).multiply(a(Te)).toRawBytes(me)},sign:function Fe(Te,ge,me=Ee){const{seed:te,k2sig:ne}=function Ve(Te,ge,me=Ee){if(["recovered","canonical"].some(K=>K in me))throw new Error("sign() legacy options not supported");const{hash:te,randomBytes:ne}=se;let{lowS:le,prehash:Ae,extraEntropy:Be}=me;null==le&&(le=!0),Te=(0,P.ensureBytes)("msgHash",Te),Ae&&(Te=(0,P.ensureBytes)("prehashed msgHash",te(Te)));const qe=de(Te),ze=a(ge),Dt=[Re(ze),Re(qe)];if(null!=Be){const K=!0===Be?ne(ce.BYTES):Be;Dt.push((0,P.ensureBytes)("extraEntropy",K))}const Xe=b.concatBytes(...Dt),Ue=qe;return{seed:Xe,k2sig:function mt(K){const T=Q(K);if(!m(T))return;const M=Pe(T),Y=C.BASE.multiply(T).toAffine(),pe=Me(Y.x);if(pe===B)return;const ke=Me(M*Me(Ue+pe*ze));if(ke===B)return;let Ne=(Y.x===pe?0:2)|Number(Y.y&N),lt=ke;return le&&E(ke)&&(lt=function D(Te){return E(Te)?Me(-Te):Te}(ke),Ne^=1),new x(pe,lt,Ne)}}}(Te,ge,me);return b.createHmacDrbg(se.hash.outputLen,se.nByteLength,se.hmac)(te,ne)},verify:function ve(Te,ge,me,te=_e){const ne=Te;if(ge=(0,P.ensureBytes)("msgHash",ge),me=(0,P.ensureBytes)("publicKey",me),"strict"in te)throw new Error("options.strict was renamed to lowS");const{lowS:le,prehash:Ae}=te;let Be,qe;try{if("string"==typeof ne||b.isBytes(ne))try{Be=x.fromDER(ne)}catch(Y){if(!(Y instanceof j.DER.Err))throw Y;Be=x.fromCompact(ne)}else{if("object"!=typeof ne||"bigint"!=typeof ne.r||"bigint"!=typeof ne.s)throw new Error("PARSE");{const{r:Y,s:pe}=ne;Be=new x(Y,pe)}}qe=C.fromHex(me)}catch(Y){if("PARSE"===Y.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(le&&Be.hasHighS())return!1;Ae&&(ge=se.hash(ge));const{r:ze,s:Dt}=Be,Xe=de(ge),Ue=Pe(Dt),mt=Me(Xe*Ue),K=Me(ze*Ue),T=C.BASE.multiplyAndAddUnsafe(qe,mt,K)?.toAffine();return!!T&&Me(T.x)===ze},ProjectivePoint:C,Signature:x,utils:s}},j.SWUFpSqrtRatio=q,j.mapToCurveSimpleSWU=function Z(J,se){if(y.validateField(J),!J.isValid(se.A)||!J.isValid(se.B)||!J.isValid(se.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const ce=q(J,se.Z);if(!J.isOdd)throw new Error("Fp.isOdd is not implemented!");return ae=>{let fe,he,we,Me,Pe,C,a,d;fe=J.sqr(ae),fe=J.mul(fe,se.Z),he=J.sqr(fe),he=J.add(he,fe),we=J.add(he,J.ONE),we=J.mul(we,se.B),Me=J.cmov(se.Z,J.neg(he),!J.eql(he,J.ZERO)),Me=J.mul(Me,se.A),he=J.sqr(we),C=J.sqr(Me),Pe=J.mul(C,se.A),he=J.add(he,Pe),he=J.mul(he,we),C=J.mul(C,Me),Pe=J.mul(C,se.B),he=J.add(he,Pe),a=J.mul(fe,we);const{isValid:m,value:p}=ce(he,C);d=J.mul(fe,ae),d=J.mul(d,p),a=J.cmov(a,we,m),d=J.cmov(d,p,m);const E=J.isOdd(ae)===J.isOdd(d);return d=J.cmov(J.neg(d),d,E),a=J.div(a,Me),{x:a,y:d}}}},57340:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hash_to_ristretto255=j.hashToRistretto255=j.RistrettoPoint=j.encodeToCurve=j.hashToCurve=j.edwardsToMontgomeryPriv=j.edwardsToMontgomery=j.edwardsToMontgomeryPub=j.x25519=j.ed25519ph=j.ed25519ctx=j.ed25519=j.ED25519_TORSION_SUBGROUP=void 0;const y=_(44207),b=_(96492),P=_(45068),H=_(27661),w=_(63834),O=_(84097),S=_(75752),B=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),N=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),U=BigInt(0),A=BigInt(1),G=BigInt(2),L=BigInt(5),z=BigInt(10),ee=BigInt(20),q=BigInt(40),Z=BigInt(80);function J(Fe){const ve=B,ge=Fe*Fe%ve*Fe%ve,me=(0,w.pow2)(ge,G,ve)*ge%ve,te=(0,w.pow2)(me,A,ve)*Fe%ve,ne=(0,w.pow2)(te,L,ve)*te%ve,le=(0,w.pow2)(ne,z,ve)*ne%ve,Ae=(0,w.pow2)(le,ee,ve)*le%ve,Be=(0,w.pow2)(Ae,q,ve)*Ae%ve,qe=(0,w.pow2)(Be,Z,ve)*Be%ve,ze=(0,w.pow2)(qe,Z,ve)*Be%ve,Dt=(0,w.pow2)(ze,z,ve)*ne%ve;return{pow_p_5_8:(0,w.pow2)(Dt,G,ve)*Fe%ve,b2:ge}}function se(Fe){return Fe[0]&=248,Fe[31]&=127,Fe[31]|=64,Fe}function ce(Fe,ve){const Te=B,ge=(0,w.mod)(ve*ve*ve,Te),te=J(Fe*(0,w.mod)(ge*ge*ve,Te)).pow_p_5_8;let ne=(0,w.mod)(Fe*ge*te,Te);const le=(0,w.mod)(ve*ne*ne,Te),Ae=ne,Be=(0,w.mod)(ne*N,Te),qe=le===Fe,ze=le===(0,w.mod)(-Fe,Te),Dt=le===(0,w.mod)(-Fe*N,Te);return qe&&(ne=Ae),(ze||Dt)&&(ne=Be),(0,w.isNegativeLE)(ne,Te)&&(ne=(0,w.mod)(-ne,Te)),{isValid:qe||ze,value:ne}}j.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const ae=(0,w.Field)(B,void 0,!0),fe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ae,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:y.sha512,randomBytes:b.randomBytes,adjustScalarBytes:se,uvRatio:ce};function he(Fe,ve,Te){if(ve.length>255)throw new Error("Context is too big");return(0,b.concatBytes)((0,b.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Te?1:0,ve.length]),ve,Fe)}function we(Fe){const{y:ve}=j.ed25519.ExtendedPoint.fromHex(Fe),Te=BigInt(1);return ae.toBytes(ae.create((Te+ve)*ae.inv(Te-ve)))}j.ed25519=(0,P.twistedEdwards)(fe),j.ed25519ctx=(0,P.twistedEdwards)({...fe,domain:he}),j.ed25519ph=(0,P.twistedEdwards)({...fe,domain:he,prehash:y.sha512}),j.x25519=(0,H.montgomery)({P:B,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Fe=>{const ve=B,{pow_p_5_8:Te,b2:ge}=J(Fe);return(0,w.mod)((0,w.pow2)(Te,BigInt(3),ve)*ge,ve)},adjustScalarBytes:se,randomBytes:b.randomBytes}),j.edwardsToMontgomeryPub=we,j.edwardsToMontgomery=we,j.edwardsToMontgomeryPriv=function Me(Fe){const ve=fe.hash(Fe.subarray(0,32));return fe.adjustScalarBytes(ve).subarray(0,32)};const Pe=(ae.ORDER+BigInt(3))/BigInt(8),C=ae.pow(G,Pe),a=ae.sqrt(ae.neg(ae.ONE)),d=(ae.ORDER-BigInt(5))/BigInt(8),m=BigInt(486662),E=(0,w.FpSqrtEven)(ae,ae.neg(BigInt(486664)));const R=(0,S.createHasher)(j.ed25519.ExtendedPoint,Fe=>function D(Fe){const{xMn:ve,xMd:Te,yMn:ge,yMd:me}=function p(Fe){let ve=ae.sqr(Fe);ve=ae.mul(ve,G);let Te=ae.add(ve,ae.ONE),ge=ae.neg(m),me=ae.sqr(Te),te=ae.mul(me,Te),ne=ae.mul(ve,m);ne=ae.mul(ne,ge),ne=ae.add(ne,me),ne=ae.mul(ne,ge);let le=ae.sqr(te);me=ae.sqr(le),le=ae.mul(le,te),le=ae.mul(le,ne),me=ae.mul(me,le);let Ae=ae.pow(me,d);Ae=ae.mul(Ae,le);let Be=ae.mul(Ae,a);me=ae.sqr(Ae),me=ae.mul(me,te);let qe=ae.eql(me,ne),ze=ae.cmov(Be,Ae,qe),Dt=ae.mul(ge,ve),Xe=ae.mul(Ae,Fe);Xe=ae.mul(Xe,C);let Ue=ae.mul(Xe,a),mt=ae.mul(ne,ve);me=ae.sqr(Xe),me=ae.mul(me,te);let K=ae.eql(me,mt),T=ae.cmov(Ue,Xe,K);me=ae.sqr(ze),me=ae.mul(me,te);let M=ae.eql(me,ne),Y=ae.cmov(Dt,ge,M),pe=ae.cmov(T,ze,M),ke=ae.isOdd(pe);return pe=ae.cmov(pe,ae.neg(pe),M!==ke),{xMn:Y,xMd:Te,yMn:pe,yMd:A}}(Fe);let te=ae.mul(ve,me);te=ae.mul(te,E);let ne=ae.mul(Te,ge),le=ae.sub(ve,Te),Ae=ae.add(ve,Te),Be=ae.mul(ne,Ae),qe=ae.eql(Be,ae.ZERO);te=ae.cmov(te,ae.ZERO,qe),ne=ae.cmov(ne,ae.ONE,qe),le=ae.cmov(le,ae.ONE,qe),Ae=ae.cmov(Ae,ae.ONE,qe);const ze=ae.invertBatch([ne,Ae]);return{x:ae.mul(te,ze[0]),y:ae.mul(le,ze[1])}}(Fe[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:ae.ORDER,m:1,k:128,expand:"xmd",hash:y.sha512});function x(Fe){if(!(Fe instanceof Ee))throw new Error("RistrettoPoint expected")}j.hashToCurve=R.hashToCurve,j.encodeToCurve=R.encodeToCurve;const s=N,v=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),$=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),F=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Q=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),de=Fe=>ce(A,Fe),De=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Re=Fe=>j.ed25519.CURVE.Fp.create((0,O.bytesToNumberLE)(Fe)&De);function Ve(Fe){const{d:ve}=j.ed25519.CURVE,Te=j.ed25519.CURVE.Fp.ORDER,ge=j.ed25519.CURVE.Fp.create,me=ge(s*Fe*Fe),te=ge((me+A)*F);let ne=BigInt(-1);const le=ge((ne-ve*me)*ge(me+ve));let{isValid:Ae,value:Be}=ce(te,le),qe=ge(Be*Fe);(0,w.isNegativeLE)(qe,Te)||(qe=ge(-qe)),Ae||(Be=qe),Ae||(ne=me);const ze=ge(ne*(me-A)*Q-le),Dt=Be*Be,Xe=ge((Be+Be)*le),Ue=ge(ze*v),mt=ge(A-Dt),K=ge(A+Dt);return new j.ed25519.ExtendedPoint(ge(Xe*K),ge(mt*Ue),ge(Ue*K),ge(Xe*mt))}class Ee{constructor(ve){this.ep=ve}static fromAffine(ve){return new Ee(j.ed25519.ExtendedPoint.fromAffine(ve))}static hashToCurve(ve){ve=(0,O.ensureBytes)("ristrettoHash",ve,64);const ge=Ve(Re(ve.slice(0,32))),te=Ve(Re(ve.slice(32,64)));return new Ee(ge.add(te))}static fromHex(ve){ve=(0,O.ensureBytes)("ristrettoHex",ve,32);const{a:Te,d:ge}=j.ed25519.CURVE,me=j.ed25519.CURVE.Fp.ORDER,te=j.ed25519.CURVE.Fp.create,ne="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",le=Re(ve);if(!(0,O.equalBytes)((0,O.numberToBytesLE)(le,32),ve)||(0,w.isNegativeLE)(le,me))throw new Error(ne);const Ae=te(le*le),Be=te(A+Te*Ae),qe=te(A-Te*Ae),ze=te(Be*Be),Dt=te(qe*qe),Xe=te(Te*ge*ze-Dt),{isValid:Ue,value:mt}=de(te(Xe*Dt)),K=te(mt*qe),T=te(mt*K*Xe);let M=te((le+le)*K);(0,w.isNegativeLE)(M,me)&&(M=te(-M));const Y=te(Be*T),pe=te(M*Y);if(!Ue||(0,w.isNegativeLE)(pe,me)||Y===U)throw new Error(ne);return new Ee(new j.ed25519.ExtendedPoint(M,Y,A,pe))}toRawBytes(){let{ex:ve,ey:Te,ez:ge,et:me}=this.ep;const te=j.ed25519.CURVE.Fp.ORDER,ne=j.ed25519.CURVE.Fp.create,le=ne(ne(ge+Te)*ne(ge-Te)),Ae=ne(ve*Te),Be=ne(Ae*Ae),{value:qe}=de(ne(le*Be)),ze=ne(qe*le),Dt=ne(qe*Ae),Xe=ne(ze*Dt*me);let Ue;if((0,w.isNegativeLE)(me*Xe,te)){let K=ne(Te*s),T=ne(ve*s);ve=K,Te=T,Ue=ne(ze*$)}else Ue=Dt;(0,w.isNegativeLE)(ve*Xe,te)&&(Te=ne(-Te));let mt=ne((ge-Te)*Ue);return(0,w.isNegativeLE)(mt,te)&&(mt=ne(-mt)),(0,O.numberToBytesLE)(mt,32)}toHex(){return(0,O.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(ve){x(ve);const{ex:Te,ey:ge}=this.ep,{ex:me,ey:te}=ve.ep,ne=j.ed25519.CURVE.Fp.create,le=ne(Te*te)===ne(ge*me),Ae=ne(ge*te)===ne(Te*me);return le||Ae}add(ve){return x(ve),new Ee(this.ep.add(ve.ep))}subtract(ve){return x(ve),new Ee(this.ep.subtract(ve.ep))}multiply(ve){return new Ee(this.ep.multiply(ve))}multiplyUnsafe(ve){return new Ee(this.ep.multiplyUnsafe(ve))}double(){return new Ee(this.ep.double())}negate(){return new Ee(this.ep.negate())}}j.RistrettoPoint=(Ee.BASE||(Ee.BASE=new Ee(j.ed25519.ExtendedPoint.BASE)),Ee.ZERO||(Ee.ZERO=new Ee(j.ed25519.ExtendedPoint.ZERO)),Ee),j.hashToRistretto255=(Fe,ve)=>{const Te=ve.DST,ge="string"==typeof Te?(0,b.utf8ToBytes)(Te):Te,me=(0,S.expand_message_xmd)(Fe,ge,64,y.sha512);return Ee.hashToCurve(me)},j.hash_to_ristretto255=j.hashToRistretto255},91717:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.encodeToCurve=j.hashToCurve=j.schnorr=j.secp256k1=void 0;const y=_(1806),b=_(96492),P=_(63834),H=_(73040),w=_(84097),O=_(75752),S=_(4521),B=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),U=BigInt(1),A=BigInt(2),G=(x,s)=>(x+s/A)/s;function L(x){const s=B,v=BigInt(3),$=BigInt(6),F=BigInt(11),Q=BigInt(22),de=BigInt(23),De=BigInt(44),Re=BigInt(88),Ve=x*x*x%s,Ee=Ve*Ve*x%s,_e=(0,P.pow2)(Ee,v,s)*Ee%s,Fe=(0,P.pow2)(_e,v,s)*Ee%s,ve=(0,P.pow2)(Fe,A,s)*Ve%s,Te=(0,P.pow2)(ve,F,s)*ve%s,ge=(0,P.pow2)(Te,Q,s)*Te%s,me=(0,P.pow2)(ge,De,s)*ge%s,te=(0,P.pow2)(me,Re,s)*me%s,ne=(0,P.pow2)(te,De,s)*ge%s,le=(0,P.pow2)(ne,v,s)*Ee%s,Ae=(0,P.pow2)(le,de,s)*Te%s,Be=(0,P.pow2)(Ae,$,s)*Ve%s,qe=(0,P.pow2)(Be,A,s);if(!z.eql(z.sqr(qe),x))throw new Error("Cannot find square root");return qe}const z=(0,P.Field)(B,void 0,void 0,{sqrt:L});j.secp256k1=(0,S.createCurve)({a:BigInt(0),b:BigInt(7),Fp:z,n:N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:x=>{const s=N,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),$=-U*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),F=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Q=v,de=BigInt("0x100000000000000000000000000000000"),De=G(Q*x,s),Re=G(-$*x,s);let Ve=(0,P.mod)(x-De*v-Re*F,s),Ee=(0,P.mod)(-De*$-Re*Q,s);const _e=Ve>de,Fe=Ee>de;if(_e&&(Ve=s-Ve),Fe&&(Ee=s-Ee),Ve>de||Ee>de)throw new Error("splitScalar: Endomorphism failed, k="+x);return{k1neg:_e,k1:Ve,k2neg:Fe,k2:Ee}}}},y.sha256);const ee=BigInt(0),q=x=>"bigint"==typeof x&&ee<x&&x<B,J={};function se(x,...s){let v=J[x];if(void 0===v){const $=(0,y.sha256)(Uint8Array.from(x,F=>F.charCodeAt(0)));v=(0,w.concatBytes)($,$),J[x]=v}return(0,y.sha256)((0,w.concatBytes)(v,...s))}const ce=x=>x.toRawBytes(!0).slice(1),ae=x=>(0,w.numberToBytesBE)(x,32),fe=x=>(0,P.mod)(x,B),he=x=>(0,P.mod)(x,N),we=j.secp256k1.ProjectivePoint;function Pe(x){let s=j.secp256k1.utils.normPrivateKeyToScalar(x),v=we.fromPrivateKey(s);return{scalar:v.hasEvenY()?s:he(-s),bytes:ce(v)}}function C(x){if(!q(x))throw new Error("bad x: need 0 < x < p");const s=fe(x*x);let $=L(fe(s*x+BigInt(7)));$%A!==ee&&($=fe(-$));const F=new we(x,$,U);return F.assertValidity(),F}function a(...x){return he((0,w.bytesToNumberBE)(se("BIP0340/challenge",...x)))}function p(x,s,v){const $=(0,w.ensureBytes)("signature",x,64),F=(0,w.ensureBytes)("message",s),Q=(0,w.ensureBytes)("publicKey",v,32);try{const de=C((0,w.bytesToNumberBE)(Q)),De=(0,w.bytesToNumberBE)($.subarray(0,32));if(!q(De))return!1;const Re=(0,w.bytesToNumberBE)($.subarray(32,64));if(!(x=>"bigint"==typeof x&&ee<x&&x<N)(Re))return!1;const Ve=a(ae(De),ce(de),F),Ee=((x,s,v)=>we.BASE.multiplyAndAddUnsafe(x,s,v))(de,Re,he(-Ve));return!(!Ee||!Ee.hasEvenY()||Ee.toAffine().x!==De)}catch{return!1}}j.schnorr={getPublicKey:function d(x){return Pe(x).bytes},sign:function m(x,s,v=(0,b.randomBytes)(32)){const $=(0,w.ensureBytes)("message",x),{bytes:F,scalar:Q}=Pe(s),de=(0,w.ensureBytes)("auxRand",v,32),De=ae(Q^(0,w.bytesToNumberBE)(se("BIP0340/aux",de))),Re=se("BIP0340/nonce",De,F,$),Ve=he((0,w.bytesToNumberBE)(Re));if(Ve===ee)throw new Error("sign failed: k is zero");const{bytes:Ee,scalar:_e}=Pe(Ve),Fe=a(Ee,F,$),ve=new Uint8Array(64);if(ve.set(Ee,0),ve.set(ae(he(_e+Fe*Q)),32),!p(ve,$,F))throw new Error("sign: Invalid signature produced");return ve},verify:p,utils:{randomPrivateKey:j.secp256k1.utils.randomPrivateKey,lift_x:C,pointToBytes:ce,numberToBytesBE:w.numberToBytesBE,bytesToNumberBE:w.bytesToNumberBE,taggedHash:se,mod:P.mod}};const E=(0,O.isogenyMap)(z,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(x=>x.map(s=>BigInt(s)))),D=(0,H.mapToCurveSimpleSWU)(z,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:z.create(BigInt("-11"))}),R=(0,O.createHasher)(j.secp256k1.ProjectivePoint,x=>{const{x:s,y:v}=D(z.create(x[0]));return E(s,v)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:z.ORDER,m:1,k:128,expand:"xmd",hash:y.sha256});j.hashToCurve=R.hashToCurve,j.encodeToCurve=R.encodeToCurve},68578:(We,j)=>{"use strict";function _(B){if(!Number.isSafeInteger(B)||B<0)throw new Error(`Wrong positive integer: ${B}`)}function y(B){if("boolean"!=typeof B)throw new Error(`Expected boolean, not ${B}`)}function P(B,...N){if(!function b(B){return B instanceof Uint8Array||null!=B&&"object"==typeof B&&"Uint8Array"===B.constructor.name}(B))throw new Error("Expected Uint8Array");if(N.length>0&&!N.includes(B.length))throw new Error(`Expected Uint8Array of length ${N}, not of length=${B.length}`)}function H(B){if("function"!=typeof B||"function"!=typeof B.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");_(B.outputLen),_(B.blockLen)}function w(B,N=!0){if(B.destroyed)throw new Error("Hash instance has been destroyed");if(N&&B.finished)throw new Error("Hash#digest() has already been called")}function O(B,N){P(B);const U=N.outputLen;if(B.length<U)throw new Error(`digestInto() expects output buffer of length at least ${U}`)}Object.defineProperty(j,"__esModule",{value:!0}),j.output=j.exists=j.hash=j.bytes=j.bool=j.number=void 0,j.number=_,j.bool=y,j.bytes=P,j.hash=H,j.exists=w,j.output=O,j.default={number:_,bool:y,bytes:P,hash:H,exists:w,output:O}},25724:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.SHA2=void 0;const y=_(68578),b=_(96492);j.SHA2=class H extends b.Hash{constructor(O,S,B,N){super(),this.blockLen=O,this.outputLen=S,this.padOffset=B,this.isLE=N,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(O),this.view=(0,b.createView)(this.buffer)}update(O){(0,y.exists)(this);const{view:S,buffer:B,blockLen:N}=this,U=(O=(0,b.toBytes)(O)).length;for(let A=0;A<U;){const G=Math.min(N-this.pos,U-A);if(G!==N)B.set(O.subarray(A,A+G),this.pos),this.pos+=G,A+=G,this.pos===N&&(this.process(S,0),this.pos=0);else{const L=(0,b.createView)(O);for(;N<=U-A;A+=N)this.process(L,A)}}return this.length+=O.length,this.roundClean(),this}digestInto(O){(0,y.exists)(this),(0,y.output)(O,this),this.finished=!0;const{buffer:S,view:B,blockLen:N,isLE:U}=this;let{pos:A}=this;S[A++]=128,this.buffer.subarray(A).fill(0),this.padOffset>N-A&&(this.process(B,0),A=0);for(let q=A;q<N;q++)S[q]=0;(function P(w,O,S,B){if("function"==typeof w.setBigUint64)return w.setBigUint64(O,S,B);const N=BigInt(32),U=BigInt(4294967295),A=Number(S>>N&U),G=Number(S&U),z=B?0:4;w.setUint32(O+(B?4:0),A,B),w.setUint32(O+z,G,B)})(B,N-8,BigInt(8*this.length),U),this.process(B,0);const G=(0,b.createView)(O),L=this.outputLen;if(L%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const z=L/4,ee=this.get();if(z>ee.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<z;q++)G.setUint32(4*q,ee[q],U)}digest(){const{buffer:O,outputLen:S}=this;this.digestInto(O);const B=O.slice(0,S);return this.destroy(),B}_cloneInto(O){O||(O=new this.constructor),O.set(...this.get());const{blockLen:S,buffer:B,length:N,finished:U,destroyed:A,pos:G}=this;return O.length=N,O.pos=G,O.finished=U,O.destroyed=A,N%S&&O.buffer.set(B),O}}},35059:(We,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.add5L=j.add5H=j.add4H=j.add4L=j.add3H=j.add3L=j.add=j.rotlBL=j.rotlBH=j.rotlSL=j.rotlSH=j.rotr32L=j.rotr32H=j.rotrBL=j.rotrBH=j.rotrSL=j.rotrSH=j.shrSL=j.shrSH=j.toBig=j.split=j.fromBig=void 0;const _=BigInt(2**32-1),y=BigInt(32);function b(Me,Pe=!1){return Pe?{h:Number(Me&_),l:Number(Me>>y&_)}:{h:0|Number(Me>>y&_),l:0|Number(Me&_)}}function P(Me,Pe=!1){let C=new Uint32Array(Me.length),a=new Uint32Array(Me.length);for(let d=0;d<Me.length;d++){const{h:m,l:p}=b(Me[d],Pe);[C[d],a[d]]=[m,p]}return[C,a]}j.fromBig=b,j.split=P;const H=(Me,Pe)=>BigInt(Me>>>0)<<y|BigInt(Pe>>>0);j.toBig=H;const w=(Me,Pe,C)=>Me>>>C;j.shrSH=w;const O=(Me,Pe,C)=>Me<<32-C|Pe>>>C;j.shrSL=O;const S=(Me,Pe,C)=>Me>>>C|Pe<<32-C;j.rotrSH=S;const B=(Me,Pe,C)=>Me<<32-C|Pe>>>C;j.rotrSL=B;const N=(Me,Pe,C)=>Me<<64-C|Pe>>>C-32;j.rotrBH=N;const U=(Me,Pe,C)=>Me>>>C-32|Pe<<64-C;j.rotrBL=U;const A=(Me,Pe)=>Pe;j.rotr32H=A;const G=(Me,Pe)=>Me;j.rotr32L=G;const L=(Me,Pe,C)=>Me<<C|Pe>>>32-C;j.rotlSH=L;const z=(Me,Pe,C)=>Pe<<C|Me>>>32-C;j.rotlSL=z;const ee=(Me,Pe,C)=>Pe<<C-32|Me>>>64-C;j.rotlBH=ee;const q=(Me,Pe,C)=>Me<<C-32|Pe>>>64-C;function Z(Me,Pe,C,a){const d=(Pe>>>0)+(a>>>0);return{h:Me+C+(d/2**32|0)|0,l:0|d}}j.rotlBL=q,j.add=Z;const J=(Me,Pe,C)=>(Me>>>0)+(Pe>>>0)+(C>>>0);j.add3L=J;const se=(Me,Pe,C,a)=>Pe+C+a+(Me/2**32|0)|0;j.add3H=se;const ce=(Me,Pe,C,a)=>(Me>>>0)+(Pe>>>0)+(C>>>0)+(a>>>0);j.add4L=ce;const ae=(Me,Pe,C,a,d)=>Pe+C+a+d+(Me/2**32|0)|0;j.add4H=ae;const fe=(Me,Pe,C,a,d)=>(Me>>>0)+(Pe>>>0)+(C>>>0)+(a>>>0)+(d>>>0);j.add5L=fe;const he=(Me,Pe,C,a,d,m)=>Pe+C+a+d+m+(Me/2**32|0)|0;j.add5H=he,j.default={fromBig:b,split:P,toBig:H,shrSH:w,shrSL:O,rotrSH:S,rotrSL:B,rotrBH:N,rotrBL:U,rotr32H:A,rotr32L:G,rotlSH:L,rotlSL:z,rotlBH:ee,rotlBL:q,add:Z,add3L:J,add3H:se,add4L:ce,add4H:ae,add5H:he,add5L:fe}},89948:(We,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.crypto=void 0,j.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hkdf=j.expand=j.extract=void 0;const y=_(68578),b=_(96492),P=_(44882);function H(N,U,A){return(0,y.hash)(N),void 0===A&&(A=new Uint8Array(N.outputLen)),(0,P.hmac)(N,(0,b.toBytes)(A),(0,b.toBytes)(U))}j.extract=H;const w=new Uint8Array([0]),O=new Uint8Array;function S(N,U,A,G=32){if((0,y.hash)(N),(0,y.number)(G),G>255*N.outputLen)throw new Error("Length should be <= 255*HashLen");const L=Math.ceil(G/N.outputLen);void 0===A&&(A=O);const z=new Uint8Array(L*N.outputLen),ee=P.hmac.create(N,U),q=ee._cloneInto(),Z=new Uint8Array(ee.outputLen);for(let J=0;J<L;J++)w[0]=J+1,q.update(0===J?O:Z).update(A).update(w).digestInto(Z),z.set(Z,N.outputLen*J),ee._cloneInto(q);return ee.destroy(),q.destroy(),Z.fill(0),w.fill(0),z.slice(0,G)}j.expand=S,j.hkdf=(N,U,A,G,L)=>S(N,H(N,U,A),G,L)},44882:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hmac=j.HMAC=void 0;const y=_(68578),b=_(96492);class P extends b.Hash{constructor(O,S){super(),this.finished=!1,this.destroyed=!1,(0,y.hash)(O);const B=(0,b.toBytes)(S);if(this.iHash=O.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const N=this.blockLen,U=new Uint8Array(N);U.set(B.length>N?O.create().update(B).digest():B);for(let A=0;A<U.length;A++)U[A]^=54;this.iHash.update(U),this.oHash=O.create();for(let A=0;A<U.length;A++)U[A]^=106;this.oHash.update(U),U.fill(0)}update(O){return(0,y.exists)(this),this.iHash.update(O),this}digestInto(O){(0,y.exists)(this),(0,y.bytes)(O,this.outputLen),this.finished=!0,this.iHash.digestInto(O),this.oHash.update(O),this.oHash.digestInto(O),this.destroy()}digest(){const O=new Uint8Array(this.oHash.outputLen);return this.digestInto(O),O}_cloneInto(O){O||(O=Object.create(Object.getPrototypeOf(this),{}));const{oHash:S,iHash:B,finished:N,destroyed:U,blockLen:A,outputLen:G}=this;return O.finished=N,O.destroyed=U,O.blockLen=A,O.outputLen=G,O.oHash=S._cloneInto(O.oHash),O.iHash=B._cloneInto(O.iHash),O}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}j.HMAC=P,j.hmac=(w,O,S)=>new P(w,O).update(S).digest(),j.hmac.create=(w,O)=>new P(w,O)},1806:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.sha224=j.sha256=void 0;const y=_(25724),b=_(96492),P=(U,A,G)=>U&A^~U&G,H=(U,A,G)=>U&A^U&G^A&G,w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),S=new Uint32Array(64);class B extends y.SHA2{constructor(){super(64,32,8,!1),this.A=0|O[0],this.B=0|O[1],this.C=0|O[2],this.D=0|O[3],this.E=0|O[4],this.F=0|O[5],this.G=0|O[6],this.H=0|O[7]}get(){const{A,B:G,C:L,D:z,E:ee,F:q,G:Z,H:J}=this;return[A,G,L,z,ee,q,Z,J]}set(A,G,L,z,ee,q,Z,J){this.A=0|A,this.B=0|G,this.C=0|L,this.D=0|z,this.E=0|ee,this.F=0|q,this.G=0|Z,this.H=0|J}process(A,G){for(let ae=0;ae<16;ae++,G+=4)S[ae]=A.getUint32(G,!1);for(let ae=16;ae<64;ae++){const fe=S[ae-15],he=S[ae-2],we=(0,b.rotr)(fe,7)^(0,b.rotr)(fe,18)^fe>>>3,Me=(0,b.rotr)(he,17)^(0,b.rotr)(he,19)^he>>>10;S[ae]=Me+S[ae-7]+we+S[ae-16]|0}let{A:L,B:z,C:ee,D:q,E:Z,F:J,G:se,H:ce}=this;for(let ae=0;ae<64;ae++){const he=ce+((0,b.rotr)(Z,6)^(0,b.rotr)(Z,11)^(0,b.rotr)(Z,25))+P(Z,J,se)+w[ae]+S[ae]|0,Me=((0,b.rotr)(L,2)^(0,b.rotr)(L,13)^(0,b.rotr)(L,22))+H(L,z,ee)|0;ce=se,se=J,J=Z,Z=q+he|0,q=ee,ee=z,z=L,L=he+Me|0}L=L+this.A|0,z=z+this.B|0,ee=ee+this.C|0,q=q+this.D|0,Z=Z+this.E|0,J=J+this.F|0,se=se+this.G|0,ce=ce+this.H|0,this.set(L,z,ee,q,Z,J,se,ce)}roundClean(){S.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class N extends B{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}j.sha256=(0,b.wrapConstructor)(()=>new B),j.sha224=(0,b.wrapConstructor)(()=>new N)},44207:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.sha384=j.sha512_256=j.sha512_224=j.sha512=j.SHA512=void 0;const y=_(25724),b=_(35059),P=_(96492),[H,w]=b.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(G=>BigInt(G))),O=new Uint32Array(80),S=new Uint32Array(80);class B extends y.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:L,Al:z,Bh:ee,Bl:q,Ch:Z,Cl:J,Dh:se,Dl:ce,Eh:ae,El:fe,Fh:he,Fl:we,Gh:Me,Gl:Pe,Hh:C,Hl:a}=this;return[L,z,ee,q,Z,J,se,ce,ae,fe,he,we,Me,Pe,C,a]}set(L,z,ee,q,Z,J,se,ce,ae,fe,he,we,Me,Pe,C,a){this.Ah=0|L,this.Al=0|z,this.Bh=0|ee,this.Bl=0|q,this.Ch=0|Z,this.Cl=0|J,this.Dh=0|se,this.Dl=0|ce,this.Eh=0|ae,this.El=0|fe,this.Fh=0|he,this.Fl=0|we,this.Gh=0|Me,this.Gl=0|Pe,this.Hh=0|C,this.Hl=0|a}process(L,z){for(let p=0;p<16;p++,z+=4)O[p]=L.getUint32(z),S[p]=L.getUint32(z+=4);for(let p=16;p<80;p++){const E=0|O[p-15],D=0|S[p-15],R=b.default.rotrSH(E,D,1)^b.default.rotrSH(E,D,8)^b.default.shrSH(E,D,7),x=b.default.rotrSL(E,D,1)^b.default.rotrSL(E,D,8)^b.default.shrSL(E,D,7),s=0|O[p-2],v=0|S[p-2],$=b.default.rotrSH(s,v,19)^b.default.rotrBH(s,v,61)^b.default.shrSH(s,v,6),F=b.default.rotrSL(s,v,19)^b.default.rotrBL(s,v,61)^b.default.shrSL(s,v,6),Q=b.default.add4L(x,F,S[p-7],S[p-16]),de=b.default.add4H(Q,R,$,O[p-7],O[p-16]);O[p]=0|de,S[p]=0|Q}let{Ah:ee,Al:q,Bh:Z,Bl:J,Ch:se,Cl:ce,Dh:ae,Dl:fe,Eh:he,El:we,Fh:Me,Fl:Pe,Gh:C,Gl:a,Hh:d,Hl:m}=this;for(let p=0;p<80;p++){const E=b.default.rotrSH(he,we,14)^b.default.rotrSH(he,we,18)^b.default.rotrBH(he,we,41),D=b.default.rotrSL(he,we,14)^b.default.rotrSL(he,we,18)^b.default.rotrBL(he,we,41),R=he&Me^~he&C,s=b.default.add5L(m,D,we&Pe^~we&a,w[p],S[p]),v=b.default.add5H(s,d,E,R,H[p],O[p]),$=0|s,F=b.default.rotrSH(ee,q,28)^b.default.rotrBH(ee,q,34)^b.default.rotrBH(ee,q,39),Q=b.default.rotrSL(ee,q,28)^b.default.rotrBL(ee,q,34)^b.default.rotrBL(ee,q,39),de=ee&Z^ee&se^Z&se,De=q&J^q&ce^J&ce;d=0|C,m=0|a,C=0|Me,a=0|Pe,Me=0|he,Pe=0|we,({h:he,l:we}=b.default.add(0|ae,0|fe,0|v,0|$)),ae=0|se,fe=0|ce,se=0|Z,ce=0|J,Z=0|ee,J=0|q;const Re=b.default.add3L($,Q,De);ee=b.default.add3H(Re,v,F,de),q=0|Re}({h:ee,l:q}=b.default.add(0|this.Ah,0|this.Al,0|ee,0|q)),({h:Z,l:J}=b.default.add(0|this.Bh,0|this.Bl,0|Z,0|J)),({h:se,l:ce}=b.default.add(0|this.Ch,0|this.Cl,0|se,0|ce)),({h:ae,l:fe}=b.default.add(0|this.Dh,0|this.Dl,0|ae,0|fe)),({h:he,l:we}=b.default.add(0|this.Eh,0|this.El,0|he,0|we)),({h:Me,l:Pe}=b.default.add(0|this.Fh,0|this.Fl,0|Me,0|Pe)),({h:C,l:a}=b.default.add(0|this.Gh,0|this.Gl,0|C,0|a)),({h:d,l:m}=b.default.add(0|this.Hh,0|this.Hl,0|d,0|m)),this.set(ee,q,Z,J,se,ce,ae,fe,he,we,Me,Pe,C,a,d,m)}roundClean(){O.fill(0),S.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}j.SHA512=B;class N extends B{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class U extends B{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class A extends B{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}j.sha512=(0,P.wrapConstructor)(()=>new B),j.sha512_224=(0,P.wrapConstructor)(()=>new N),j.sha512_256=(0,P.wrapConstructor)(()=>new U),j.sha384=(0,P.wrapConstructor)(()=>new A)},96492:(We,j,_)=>{"use strict";var y=_(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.randomBytes=j.wrapXOFConstructorWithOpts=j.wrapConstructorWithOpts=j.wrapConstructor=j.checkOpts=j.Hash=j.concatBytes=j.toBytes=j.utf8ToBytes=j.asyncLoop=j.nextTick=j.hexToBytes=j.bytesToHex=j.isLE=j.rotr=j.createView=j.u32=j.u8=void 0;const b=_(89948);function w(Pe){return Pe instanceof Uint8Array||null!=Pe&&"object"==typeof Pe&&"Uint8Array"===Pe.constructor.name}if(j.u8=Pe=>new Uint8Array(Pe.buffer,Pe.byteOffset,Pe.byteLength),j.u32=Pe=>new Uint32Array(Pe.buffer,Pe.byteOffset,Math.floor(Pe.byteLength/4)),j.createView=Pe=>new DataView(Pe.buffer,Pe.byteOffset,Pe.byteLength),j.rotr=(Pe,C)=>Pe<<32-C|Pe>>>C,j.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!j.isLE)throw new Error("Non little-endian hardware is not supported");const B=Array.from({length:256},(Pe,C)=>C.toString(16).padStart(2,"0"));j.bytesToHex=function N(Pe){if(!w(Pe))throw new Error("Uint8Array expected");let C="";for(let a=0;a<Pe.length;a++)C+=B[Pe[a]];return C};const U__0=48,U__9=57,U__A=65,U__F=70,U__a=97,U__f=102;function A(Pe){return Pe>=U__0&&Pe<=U__9?Pe-U__0:Pe>=U__A&&Pe<=U__F?Pe-(U__A-10):Pe>=U__a&&Pe<=U__f?Pe-(U__a-10):void 0}function ee(){return(ee=y(function*(Pe,C,a){let d=Date.now();for(let m=0;m<Pe;m++){a(m);const p=Date.now()-d;p>=0&&p<C||(yield(0,j.nextTick)(),d+=p)}})).apply(this,arguments)}function q(Pe){if("string"!=typeof Pe)throw new Error("utf8ToBytes expected string, got "+typeof Pe);return new Uint8Array((new TextEncoder).encode(Pe))}function Z(Pe){if("string"==typeof Pe&&(Pe=q(Pe)),!w(Pe))throw new Error("expected Uint8Array, got "+typeof Pe);return Pe}j.hexToBytes=function G(Pe){if("string"!=typeof Pe)throw new Error("hex string expected, got "+typeof Pe);const C=Pe.length,a=C/2;if(C%2)throw new Error("padded hex string expected, got unpadded hex of length "+C);const d=new Uint8Array(a);for(let m=0,p=0;m<a;m++,p+=2){const E=A(Pe.charCodeAt(p)),D=A(Pe.charCodeAt(p+1));if(void 0===E||void 0===D)throw new Error('hex string expected, got non-hex character "'+(Pe[p]+Pe[p+1])+'" at index '+p);d[m]=16*E+D}return d},j.nextTick=function(){var Pe=y(function*(){});return function(){return Pe.apply(this,arguments)}}(),j.asyncLoop=function z(Pe,C,a){return ee.apply(this,arguments)},j.utf8ToBytes=q,j.toBytes=Z,j.concatBytes=function J(...Pe){let C=0;for(let d=0;d<Pe.length;d++){const m=Pe[d];if(!w(m))throw new Error("Uint8Array expected");C+=m.length}const a=new Uint8Array(C);for(let d=0,m=0;d<Pe.length;d++){const p=Pe[d];a.set(p,m),m+=p.length}return a},j.Hash=class se{clone(){return this._cloneInto()}};const ce={}.toString;j.checkOpts=function ae(Pe,C){if(void 0!==C&&"[object Object]"!==ce.call(C))throw new Error("Options should be object or undefined");return Object.assign(Pe,C)},j.wrapConstructor=function fe(Pe){const C=d=>Pe().update(Z(d)).digest(),a=Pe();return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=()=>Pe(),C},j.wrapConstructorWithOpts=function he(Pe){const C=(d,m)=>Pe(m).update(Z(d)).digest(),a=Pe({});return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=d=>Pe(d),C},j.wrapXOFConstructorWithOpts=function we(Pe){const C=(d,m)=>Pe(m).update(Z(d)).digest(),a=Pe({});return C.outputLen=a.outputLen,C.blockLen=a.blockLen,C.create=d=>Pe(d),C},j.randomBytes=function Me(Pe=32){if(b.crypto&&"function"==typeof b.crypto.getRandomValues)return b.crypto.getRandomValues(new Uint8Array(Pe));throw new Error("crypto.getRandomValues must be defined")}},42064:(We,j,_)=>{j.Level=_(23963).BrowserLevel},20844:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.MissingRefError=j.ValidationError=j.CodeGen=j.Name=j.nil=j.stringify=j.str=j._=j.KeywordCxt=void 0;const y=_(35419),b=_(98496),P=_(86980),H=_(87577),w="https://json-schema.org/draft/2020-12/schema";class O extends y.default{constructor(G={}){super({...G,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),b.default.forEach(G=>this.addVocabulary(G)),this.opts.discriminator&&this.addKeyword(P.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:G,meta:L}=this.opts;L&&(H.default.call(this,G),this.refs["http://json-schema.org/schema"]=w)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(w)?w:void 0)}}We.exports=j=O,Object.defineProperty(j,"__esModule",{value:!0}),j.default=O;var S=_(40339);Object.defineProperty(j,"KeywordCxt",{enumerable:!0,get:function(){return S.KeywordCxt}});var B=_(1038);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return B._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return B.str}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return B.stringify}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return B.nil}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return B.Name}}),Object.defineProperty(j,"CodeGen",{enumerable:!0,get:function(){return B.CodeGen}});var N=_(42467);Object.defineProperty(j,"ValidationError",{enumerable:!0,get:function(){return N.default}});var U=_(26288);Object.defineProperty(j,"MissingRefError",{enumerable:!0,get:function(){return U.default}})},33337:(We,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.regexpCode=j.getEsmExportName=j.getProperty=j.safeStringify=j.stringify=j.strConcat=j.addCodeArg=j.str=j._=j.nil=j._Code=j.Name=j.IDENTIFIER=j._CodeOrName=void 0;class _{}j._CodeOrName=_,j.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class y extends _{constructor(Z){if(super(),!j.IDENTIFIER.test(Z))throw new Error("CodeGen: name must be a valid identifier");this.str=Z}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}j.Name=y;class b extends _{constructor(Z){super(),this._items="string"==typeof Z?[Z]:Z}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const Z=this._items[0];return""===Z||'""'===Z}get str(){var Z;return null!==(Z=this._str)&&void 0!==Z?Z:this._str=this._items.reduce((J,se)=>`${J}${se}`,"")}get names(){var Z;return null!==(Z=this._names)&&void 0!==Z?Z:this._names=this._items.reduce((J,se)=>(se instanceof y&&(J[se.str]=(J[se.str]||0)+1),J),{})}}function P(q,...Z){const J=[q[0]];let se=0;for(;se<Z.length;)O(J,Z[se]),J.push(q[++se]);return new b(J)}j._Code=b,j.nil=new b(""),j._=P;const H=new b("+");function w(q,...Z){const J=[G(q[0])];let se=0;for(;se<Z.length;)J.push(H),O(J,Z[se]),J.push(H,G(q[++se]));return function S(q){let Z=1;for(;Z<q.length-1;){if(q[Z]===H){const J=B(q[Z-1],q[Z+1]);if(void 0!==J){q.splice(Z-1,3,J);continue}q[Z++]="+"}Z++}}(J),new b(J)}function O(q,Z){Z instanceof b?q.push(...Z._items):q.push(Z instanceof y?Z:function U(q){return"number"==typeof q||"boolean"==typeof q||null===q?q:G(Array.isArray(q)?q.join(","):q)}(Z))}function B(q,Z){return'""'===Z?q:'""'===q?Z:"string"==typeof q?Z instanceof y||'"'!==q[q.length-1]?void 0:"string"!=typeof Z?`${q.slice(0,-1)}${Z}"`:'"'===Z[0]?q.slice(0,-1)+Z.slice(1):void 0:"string"!=typeof Z||'"'!==Z[0]||q instanceof y?void 0:`"${q}${Z.slice(1)}`}function G(q){return JSON.stringify(q).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}j.str=w,j.addCodeArg=O,j.strConcat=function N(q,Z){return Z.emptyStr()?q:q.emptyStr()?Z:w`${q}${Z}`},j.stringify=function A(q){return new b(G(q))},j.safeStringify=G,j.getProperty=function L(q){return"string"==typeof q&&j.IDENTIFIER.test(q)?new b(`.${q}`):P`[${q}]`},j.getEsmExportName=function z(q){if("string"==typeof q&&j.IDENTIFIER.test(q))return new b(`${q}`);throw new Error(`CodeGen: invalid export name: ${q}, use explicit $id name mapping`)},j.regexpCode=function ee(q){return new b(q.toString())}},1038:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.or=j.and=j.not=j.CodeGen=j.operators=j.varKinds=j.ValueScopeName=j.ValueScope=j.Scope=j.Name=j.regexpCode=j.stringify=j.getProperty=j.nil=j.strConcat=j.str=j._=void 0;const y=_(33337),b=_(85934);var P=_(33337);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return P._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return P.str}}),Object.defineProperty(j,"strConcat",{enumerable:!0,get:function(){return P.strConcat}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return P.nil}}),Object.defineProperty(j,"getProperty",{enumerable:!0,get:function(){return P.getProperty}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return P.stringify}}),Object.defineProperty(j,"regexpCode",{enumerable:!0,get:function(){return P.regexpCode}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return P.Name}});var H=_(85934);Object.defineProperty(j,"Scope",{enumerable:!0,get:function(){return H.Scope}}),Object.defineProperty(j,"ValueScope",{enumerable:!0,get:function(){return H.ValueScope}}),Object.defineProperty(j,"ValueScopeName",{enumerable:!0,get:function(){return H.ValueScopeName}}),Object.defineProperty(j,"varKinds",{enumerable:!0,get:function(){return H.varKinds}}),j.operators={GT:new y._Code(">"),GTE:new y._Code(">="),LT:new y._Code("<"),LTE:new y._Code("<="),EQ:new y._Code("==="),NEQ:new y._Code("!=="),NOT:new y._Code("!"),OR:new y._Code("||"),AND:new y._Code("&&"),ADD:new y._Code("+")};class w{optimizeNodes(){return this}optimizeNames(Q,de){return this}}class O extends w{constructor(Q,de,De){super(),this.varKind=Q,this.name=de,this.rhs=De}render({es5:Q,_n:de}){return`${Q?b.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+de}optimizeNames(Q,de){if(Q[this.name.str])return this.rhs&&(this.rhs=m(this.rhs,Q,de)),this}get names(){return this.rhs instanceof y._CodeOrName?this.rhs.names:{}}}class S extends w{constructor(Q,de,De){super(),this.lhs=Q,this.rhs=de,this.sideEffects=De}render({_n:Q}){return`${this.lhs} = ${this.rhs};`+Q}optimizeNames(Q,de){if(!(this.lhs instanceof y.Name)||Q[this.lhs.str]||this.sideEffects)return this.rhs=m(this.rhs,Q,de),this}get names(){return d(this.lhs instanceof y.Name?{}:{...this.lhs.names},this.rhs)}}class B extends S{constructor(Q,de,De,Re){super(Q,De,Re),this.op=de}render({_n:Q}){return`${this.lhs} ${this.op}= ${this.rhs};`+Q}}class N extends w{constructor(Q){super(),this.label=Q,this.names={}}render({_n:Q}){return`${this.label}:`+Q}}class U extends w{constructor(Q){super(),this.label=Q,this.names={}}render({_n:Q}){return`break${this.label?` ${this.label}`:""};`+Q}}class A extends w{constructor(Q){super(),this.error=Q}render({_n:Q}){return`throw ${this.error};`+Q}get names(){return this.error.names}}class G extends w{constructor(Q){super(),this.code=Q}render({_n:Q}){return`${this.code};`+Q}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Q,de){return this.code=m(this.code,Q,de),this}get names(){return this.code instanceof y._CodeOrName?this.code.names:{}}}class L extends w{constructor(Q=[]){super(),this.nodes=Q}render(Q){return this.nodes.reduce((de,De)=>de+De.render(Q),"")}optimizeNodes(){const{nodes:Q}=this;let de=Q.length;for(;de--;){const De=Q[de].optimizeNodes();Array.isArray(De)?Q.splice(de,1,...De):De?Q[de]=De:Q.splice(de,1)}return Q.length>0?this:void 0}optimizeNames(Q,de){const{nodes:De}=this;let Re=De.length;for(;Re--;){const Ve=De[Re];Ve.optimizeNames(Q,de)||(p(Q,Ve.names),De.splice(Re,1))}return De.length>0?this:void 0}get names(){return this.nodes.reduce((Q,de)=>a(Q,de.names),{})}}class z extends L{render(Q){return"{"+Q._n+super.render(Q)+"}"+Q._n}}class ee extends L{}let q=(()=>{class F extends z{}return F.kind="else",F})(),Z=(()=>{class F extends z{constructor(de,De){super(De),this.condition=de}render(de){let De=`if(${this.condition})`+super.render(de);return this.else&&(De+="else "+this.else.render(de)),De}optimizeNodes(){super.optimizeNodes();const de=this.condition;if(!0===de)return this.nodes;let De=this.else;if(De){const Re=De.optimizeNodes();De=this.else=Array.isArray(Re)?new q(Re):Re}return De?!1===de?De instanceof F?De:De.nodes:this.nodes.length?this:new F(E(de),De instanceof F?[De]:De.nodes):!1!==de&&this.nodes.length?this:void 0}optimizeNames(de,De){var Re;if(this.else=null===(Re=this.else)||void 0===Re?void 0:Re.optimizeNames(de,De),super.optimizeNames(de,De)||this.else)return this.condition=m(this.condition,de,De),this}get names(){const de=super.names;return d(de,this.condition),this.else&&a(de,this.else.names),de}}return F.kind="if",F})(),J=(()=>{class F extends z{}return F.kind="for",F})();class se extends J{constructor(Q){super(),this.iteration=Q}render(Q){return`for(${this.iteration})`+super.render(Q)}optimizeNames(Q,de){if(super.optimizeNames(Q,de))return this.iteration=m(this.iteration,Q,de),this}get names(){return a(super.names,this.iteration.names)}}class ce extends J{constructor(Q,de,De,Re){super(),this.varKind=Q,this.name=de,this.from=De,this.to=Re}render(Q){const de=Q.es5?b.varKinds.var:this.varKind,{name:De,from:Re,to:Ve}=this;return`for(${de} ${De}=${Re}; ${De}<${Ve}; ${De}++)`+super.render(Q)}get names(){const Q=d(super.names,this.from);return d(Q,this.to)}}class ae extends J{constructor(Q,de,De,Re){super(),this.loop=Q,this.varKind=de,this.name=De,this.iterable=Re}render(Q){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Q)}optimizeNames(Q,de){if(super.optimizeNames(Q,de))return this.iterable=m(this.iterable,Q,de),this}get names(){return a(super.names,this.iterable.names)}}let fe=(()=>{class F extends z{constructor(de,De,Re){super(),this.name=de,this.args=De,this.async=Re}render(de){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(de)}}return F.kind="func",F})(),he=(()=>{class F extends L{render(de){return"return "+super.render(de)}}return F.kind="return",F})();class we extends z{render(Q){let de="try"+super.render(Q);return this.catch&&(de+=this.catch.render(Q)),this.finally&&(de+=this.finally.render(Q)),de}optimizeNodes(){var Q,de;return super.optimizeNodes(),null===(Q=this.catch)||void 0===Q||Q.optimizeNodes(),null===(de=this.finally)||void 0===de||de.optimizeNodes(),this}optimizeNames(Q,de){var De,Re;return super.optimizeNames(Q,de),null===(De=this.catch)||void 0===De||De.optimizeNames(Q,de),null===(Re=this.finally)||void 0===Re||Re.optimizeNames(Q,de),this}get names(){const Q=super.names;return this.catch&&a(Q,this.catch.names),this.finally&&a(Q,this.finally.names),Q}}let Me=(()=>{class F extends z{constructor(de){super(),this.error=de}render(de){return`catch(${this.error})`+super.render(de)}}return F.kind="catch",F})(),Pe=(()=>{class F extends z{render(de){return"finally"+super.render(de)}}return F.kind="finally",F})();function a(F,Q){for(const de in Q)F[de]=(F[de]||0)+(Q[de]||0);return F}function d(F,Q){return Q instanceof y._CodeOrName?a(F,Q.names):F}function m(F,Q,de){return F instanceof y.Name?De(F):function Re(Ve){return Ve instanceof y._Code&&Ve._items.some(Ee=>Ee instanceof y.Name&&1===Q[Ee.str]&&void 0!==de[Ee.str])}(F)?new y._Code(F._items.reduce((Ve,Ee)=>(Ee instanceof y.Name&&(Ee=De(Ee)),Ee instanceof y._Code?Ve.push(...Ee._items):Ve.push(Ee),Ve),[])):F;function De(Ve){const Ee=de[Ve.str];return void 0===Ee||1!==Q[Ve.str]?Ve:(delete Q[Ve.str],Ee)}}function p(F,Q){for(const de in Q)F[de]=(F[de]||0)-(Q[de]||0)}function E(F){return"boolean"==typeof F||"number"==typeof F||null===F?!F:y._`!${$(F)}`}j.CodeGen=class C{constructor(Q,de={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...de,_n:de.lines?"\n":""},this._extScope=Q,this._scope=new b.Scope({parent:Q}),this._nodes=[new ee]}toString(){return this._root.render(this.opts)}name(Q){return this._scope.name(Q)}scopeName(Q){return this._extScope.name(Q)}scopeValue(Q,de){const De=this._extScope.value(Q,de);return(this._values[De.prefix]||(this._values[De.prefix]=new Set)).add(De),De}getScopeValue(Q,de){return this._extScope.getValue(Q,de)}scopeRefs(Q){return this._extScope.scopeRefs(Q,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Q,de,De,Re){const Ve=this._scope.toName(de);return void 0!==De&&Re&&(this._constants[Ve.str]=De),this._leafNode(new O(Q,Ve,De)),Ve}const(Q,de,De){return this._def(b.varKinds.const,Q,de,De)}let(Q,de,De){return this._def(b.varKinds.let,Q,de,De)}var(Q,de,De){return this._def(b.varKinds.var,Q,de,De)}assign(Q,de,De){return this._leafNode(new S(Q,de,De))}add(Q,de){return this._leafNode(new B(Q,j.operators.ADD,de))}code(Q){return"function"==typeof Q?Q():Q!==y.nil&&this._leafNode(new G(Q)),this}object(...Q){const de=["{"];for(const[De,Re]of Q)de.length>1&&de.push(","),de.push(De),(De!==Re||this.opts.es5)&&(de.push(":"),(0,y.addCodeArg)(de,Re));return de.push("}"),new y._Code(de)}if(Q,de,De){if(this._blockNode(new Z(Q)),de&&De)this.code(de).else().code(De).endIf();else if(de)this.code(de).endIf();else if(De)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(Q){return this._elseNode(new Z(Q))}else(){return this._elseNode(new q)}endIf(){return this._endBlockNode(Z,q)}_for(Q,de){return this._blockNode(Q),de&&this.code(de).endFor(),this}for(Q,de){return this._for(new se(Q),de)}forRange(Q,de,De,Re,Ve=(this.opts.es5?b.varKinds.var:b.varKinds.let)){const Ee=this._scope.toName(Q);return this._for(new ce(Ve,Ee,de,De),()=>Re(Ee))}forOf(Q,de,De,Re=b.varKinds.const){const Ve=this._scope.toName(Q);if(this.opts.es5){const Ee=de instanceof y.Name?de:this.var("_arr",de);return this.forRange("_i",0,y._`${Ee}.length`,_e=>{this.var(Ve,y._`${Ee}[${_e}]`),De(Ve)})}return this._for(new ae("of",Re,Ve,de),()=>De(Ve))}forIn(Q,de,De,Re=(this.opts.es5?b.varKinds.var:b.varKinds.const)){if(this.opts.ownProperties)return this.forOf(Q,y._`Object.keys(${de})`,De);const Ve=this._scope.toName(Q);return this._for(new ae("in",Re,Ve,de),()=>De(Ve))}endFor(){return this._endBlockNode(J)}label(Q){return this._leafNode(new N(Q))}break(Q){return this._leafNode(new U(Q))}return(Q){const de=new he;if(this._blockNode(de),this.code(Q),1!==de.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(he)}try(Q,de,De){if(!de&&!De)throw new Error('CodeGen: "try" without "catch" and "finally"');const Re=new we;if(this._blockNode(Re),this.code(Q),de){const Ve=this.name("e");this._currNode=Re.catch=new Me(Ve),de(Ve)}return De&&(this._currNode=Re.finally=new Pe,this.code(De)),this._endBlockNode(Me,Pe)}throw(Q){return this._leafNode(new A(Q))}block(Q,de){return this._blockStarts.push(this._nodes.length),Q&&this.code(Q).endBlock(de),this}endBlock(Q){const de=this._blockStarts.pop();if(void 0===de)throw new Error("CodeGen: not in self-balancing block");const De=this._nodes.length-de;if(De<0||void 0!==Q&&De!==Q)throw new Error(`CodeGen: wrong number of nodes: ${De} vs ${Q} expected`);return this._nodes.length=de,this}func(Q,de=y.nil,De,Re){return this._blockNode(new fe(Q,de,De)),Re&&this.code(Re).endFunc(),this}endFunc(){return this._endBlockNode(fe)}optimize(Q=1){for(;Q-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Q){return this._currNode.nodes.push(Q),this}_blockNode(Q){this._currNode.nodes.push(Q),this._nodes.push(Q)}_endBlockNode(Q,de){const De=this._currNode;if(De instanceof Q||de&&De instanceof de)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${de?`${Q.kind}/${de.kind}`:Q.kind}"`)}_elseNode(Q){const de=this._currNode;if(!(de instanceof Z))throw new Error('CodeGen: "else" without "if"');return this._currNode=de.else=Q,this}get _root(){return this._nodes[0]}get _currNode(){const Q=this._nodes;return Q[Q.length-1]}set _currNode(Q){const de=this._nodes;de[de.length-1]=Q}},j.not=E;const D=v(j.operators.AND);j.and=function R(...F){return F.reduce(D)};const x=v(j.operators.OR);function v(F){return(Q,de)=>Q===y.nil?de:de===y.nil?Q:y._`${$(Q)} ${F} ${$(de)}`}function $(F){return F instanceof y.Name?F:y._`(${F})`}j.or=function s(...F){return F.reduce(x)}},85934:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ValueScope=j.ValueScopeName=j.Scope=j.varKinds=j.UsedValueState=void 0;const y=_(33337);class b extends Error{constructor(N){super(`CodeGen: "code" for ${N} not defined`),this.value=N.value}}var P,B;(B=P=j.UsedValueState||(j.UsedValueState={}))[B.Started=0]="Started",B[B.Completed=1]="Completed",j.varKinds={const:new y.Name("const"),let:new y.Name("let"),var:new y.Name("var")};class H{constructor({prefixes:N,parent:U}={}){this._names={},this._prefixes=N,this._parent=U}toName(N){return N instanceof y.Name?N:this.name(N)}name(N){return new y.Name(this._newName(N))}_newName(N){return`${N}${(this._names[N]||this._nameGroup(N)).index++}`}_nameGroup(N){var U,A;if(null!==(A=null===(U=this._parent)||void 0===U?void 0:U._prefixes)&&void 0!==A&&A.has(N)||this._prefixes&&!this._prefixes.has(N))throw new Error(`CodeGen: prefix "${N}" is not allowed in this scope`);return this._names[N]={prefix:N,index:0}}}j.Scope=H;class w extends y.Name{constructor(N,U){super(U),this.prefix=N}setValue(N,{property:U,itemIndex:A}){this.value=N,this.scopePath=y._`.${new y.Name(U)}[${A}]`}}j.ValueScopeName=w;const O=y._`\n`;j.ValueScope=class S extends H{constructor(N){super(N),this._values={},this._scope=N.scope,this.opts={...N,_n:N.lines?O:y.nil}}get(){return this._scope}name(N){return new w(N,this._newName(N))}value(N,U){var A;if(void 0===U.ref)throw new Error("CodeGen: ref must be passed in value");const G=this.toName(N),{prefix:L}=G,z=null!==(A=U.key)&&void 0!==A?A:U.ref;let ee=this._values[L];if(ee){const J=ee.get(z);if(J)return J}else ee=this._values[L]=new Map;ee.set(z,G);const q=this._scope[L]||(this._scope[L]=[]),Z=q.length;return q[Z]=U.ref,G.setValue(U,{property:L,itemIndex:Z}),G}getValue(N,U){const A=this._values[N];if(A)return A.get(U)}scopeRefs(N,U=this._values){return this._reduceValues(U,A=>{if(void 0===A.scopePath)throw new Error(`CodeGen: name "${A}" has no value`);return y._`${N}${A.scopePath}`})}scopeCode(N=this._values,U,A){return this._reduceValues(N,G=>{if(void 0===G.value)throw new Error(`CodeGen: name "${G}" has no value`);return G.value.code},U,A)}_reduceValues(N,U,A={},G){let L=y.nil;for(const z in N){const ee=N[z];if(!ee)continue;const q=A[z]=A[z]||new Map;ee.forEach(Z=>{if(q.has(Z))return;q.set(Z,P.Started);let J=U(Z);if(J)L=y._`${L}${this.opts.es5?j.varKinds.var:j.varKinds.const} ${Z} = ${J};${this.opts._n}`;else{if(!(J=G?.(Z)))throw new b(Z);L=y._`${L}${J}${this.opts._n}`}q.set(Z,P.Completed)})}return L}}},53421:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.extendErrors=j.resetErrorsCount=j.reportExtraError=j.reportError=j.keyword$DataError=j.keywordError=void 0;const y=_(1038),b=_(27006),P=_(23432);function B(q,Z){const J=q.const("err",Z);q.if(y._`${P.default.vErrors} === null`,()=>q.assign(P.default.vErrors,y._`[${J}]`),y._`${P.default.vErrors}.push(${J})`),q.code(y._`${P.default.errors}++`)}function N(q,Z){const{gen:J,validateName:se,schemaEnv:ce}=q;ce.$async?J.throw(y._`new ${q.ValidationError}(${Z})`):(J.assign(y._`${se}.errors`,Z),J.return(!1))}j.keywordError={message:({keyword:q})=>y.str`must pass "${q}" keyword validation`},j.keyword$DataError={message:({keyword:q,schemaType:Z})=>Z?y.str`"${q}" keyword must be ${Z} ($data)`:y.str`"${q}" keyword is invalid ($data)`},j.reportError=function H(q,Z=j.keywordError,J,se){const{it:ce}=q,{gen:ae,compositeRule:fe,allErrors:he}=ce,we=A(q,Z,J);se??(fe||he)?B(ae,we):N(ce,y._`[${we}]`)},j.reportExtraError=function w(q,Z=j.keywordError,J){const{it:se}=q,{gen:ce,compositeRule:ae,allErrors:fe}=se;B(ce,A(q,Z,J)),ae||fe||N(se,P.default.vErrors)},j.resetErrorsCount=function O(q,Z){q.assign(P.default.errors,Z),q.if(y._`${P.default.vErrors} !== null`,()=>q.if(Z,()=>q.assign(y._`${P.default.vErrors}.length`,Z),()=>q.assign(P.default.vErrors,null)))},j.extendErrors=function S({gen:q,keyword:Z,schemaValue:J,data:se,errsCount:ce,it:ae}){if(void 0===ce)throw new Error("ajv implementation error");const fe=q.name("err");q.forRange("i",ce,P.default.errors,he=>{q.const(fe,y._`${P.default.vErrors}[${he}]`),q.if(y._`${fe}.instancePath === undefined`,()=>q.assign(y._`${fe}.instancePath`,(0,y.strConcat)(P.default.instancePath,ae.errorPath))),q.assign(y._`${fe}.schemaPath`,y.str`${ae.errSchemaPath}/${Z}`),ae.opts.verbose&&(q.assign(y._`${fe}.schema`,J),q.assign(y._`${fe}.data`,se))})};const U={keyword:new y.Name("keyword"),schemaPath:new y.Name("schemaPath"),params:new y.Name("params"),propertyName:new y.Name("propertyName"),message:new y.Name("message"),schema:new y.Name("schema"),parentSchema:new y.Name("parentSchema")};function A(q,Z,J){const{createErrors:se}=q.it;return!1===se?y._`{}`:function G(q,Z,J={}){const{gen:se,it:ce}=q,ae=[L(ce,J),z(q,J)];return function ee(q,{params:Z,message:J},se){const{keyword:ce,data:ae,schemaValue:fe,it:he}=q,{opts:we,propertyName:Me,topSchemaRef:Pe,schemaPath:C}=he;se.push([U.keyword,ce],[U.params,"function"==typeof Z?Z(q):Z||y._`{}`]),we.messages&&se.push([U.message,"function"==typeof J?J(q):J]),we.verbose&&se.push([U.schema,fe],[U.parentSchema,y._`${Pe}${C}`],[P.default.data,ae]),Me&&se.push([U.propertyName,Me])}(q,Z,ae),se.object(...ae)}(q,Z,J)}function L({errorPath:q},{instancePath:Z}){const J=Z?y.str`${q}${(0,b.getErrorPath)(Z,b.Type.Str)}`:q;return[P.default.instancePath,(0,y.strConcat)(P.default.instancePath,J)]}function z({keyword:q,it:{errSchemaPath:Z}},{schemaPath:J,parentSchema:se}){let ce=se?Z:y.str`${Z}/${q}`;return J&&(ce=y.str`${ce}${(0,b.getErrorPath)(J,b.Type.Str)}`),[U.schemaPath,ce]}},97692:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.resolveSchema=j.getCompilingSchema=j.resolveRef=j.compileSchema=j.SchemaEnv=void 0;const y=_(1038),b=_(42467),P=_(23432),H=_(77172),w=_(27006),O=_(40339);class S{constructor(J){var se;let ce;this.refs={},this.dynamicAnchors={},"object"==typeof J.schema&&(ce=J.schema),this.schema=J.schema,this.schemaId=J.schemaId,this.root=J.root||this,this.baseId=null!==(se=J.baseId)&&void 0!==se?se:(0,H.normalizeId)(ce?.[J.schemaId||"$id"]),this.schemaPath=J.schemaPath,this.localRefs=J.localRefs,this.meta=J.meta,this.$async=ce?.$async,this.refs={}}}function B(Z){const J=A.call(this,Z);if(J)return J;const se=(0,H.getFullPath)(this.opts.uriResolver,Z.root.baseId),{es5:ce,lines:ae}=this.opts.code,{ownProperties:fe}=this.opts,he=new y.CodeGen(this.scope,{es5:ce,lines:ae,ownProperties:fe});let we;Z.$async&&(we=he.scopeValue("Error",{ref:b.default,code:y._`require("ajv/dist/runtime/validation_error").default`}));const Me=he.scopeName("validate");Z.validateName=Me;const Pe={gen:he,allErrors:this.opts.allErrors,data:P.default.data,parentData:P.default.parentData,parentDataProperty:P.default.parentDataProperty,dataNames:[P.default.data],dataPathArr:[y.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:he.scopeValue("schema",!0===this.opts.code.source?{ref:Z.schema,code:(0,y.stringify)(Z.schema)}:{ref:Z.schema}),validateName:Me,ValidationError:we,schema:Z.schema,schemaEnv:Z,rootId:se,baseId:Z.baseId||se,schemaPath:y.nil,errSchemaPath:Z.schemaPath||(this.opts.jtd?"":"#"),errorPath:y._`""`,opts:this.opts,self:this};let C;try{this._compilations.add(Z),(0,O.validateFunctionCode)(Pe),he.optimize(this.opts.code.optimize);const a=he.toString();C=`${he.scopeRefs(P.default.scope)}return ${a}`,this.opts.code.process&&(C=this.opts.code.process(C,Z));const m=new Function(`${P.default.self}`,`${P.default.scope}`,C)(this,this.scope.get());if(this.scope.value(Me,{ref:m}),m.errors=null,m.schema=Z.schema,m.schemaEnv=Z,Z.$async&&(m.$async=!0),!0===this.opts.code.source&&(m.source={validateName:Me,validateCode:a,scopeValues:he._values}),this.opts.unevaluated){const{props:p,items:E}=Pe;m.evaluated={props:p instanceof y.Name?void 0:p,items:E instanceof y.Name?void 0:E,dynamicProps:p instanceof y.Name,dynamicItems:E instanceof y.Name},m.source&&(m.source.evaluated=(0,y.stringify)(m.evaluated))}return Z.validate=m,Z}catch(a){throw delete Z.validate,delete Z.validateName,C&&this.logger.error("Error compiling schema, function code:",C),a}finally{this._compilations.delete(Z)}}function U(Z){return(0,H.inlineRef)(Z.schema,this.opts.inlineRefs)?Z.schema:Z.validate?Z:B.call(this,Z)}function A(Z){for(const J of this._compilations)if(G(J,Z))return J}function G(Z,J){return Z.schema===J.schema&&Z.root===J.root&&Z.baseId===J.baseId}function L(Z,J){let se;for(;"string"==typeof(se=this.refs[J]);)J=se;return se||this.schemas[J]||z.call(this,Z,J)}function z(Z,J){const se=this.opts.uriResolver.parse(J),ce=(0,H._getFullPath)(this.opts.uriResolver,se);let ae=(0,H.getFullPath)(this.opts.uriResolver,Z.baseId,void 0);if(Object.keys(Z.schema).length>0&&ce===ae)return q.call(this,se,Z);const fe=(0,H.normalizeId)(ce),he=this.refs[fe]||this.schemas[fe];if("string"==typeof he){const we=z.call(this,Z,he);return"object"!=typeof we?.schema?void 0:q.call(this,se,we)}if("object"==typeof he?.schema){if(he.validate||B.call(this,he),fe===(0,H.normalizeId)(J)){const{schema:we}=he,{schemaId:Me}=this.opts,Pe=we[Me];return Pe&&(ae=(0,H.resolveUrl)(this.opts.uriResolver,ae,Pe)),new S({schema:we,schemaId:Me,root:Z,baseId:ae})}return q.call(this,se,he)}}j.SchemaEnv=S,j.compileSchema=B,j.resolveRef=function N(Z,J,se){var ce;se=(0,H.resolveUrl)(this.opts.uriResolver,J,se);const ae=Z.refs[se];if(ae)return ae;let fe=L.call(this,Z,se);if(void 0===fe){const he=null===(ce=Z.localRefs)||void 0===ce?void 0:ce[se],{schemaId:we}=this.opts;he&&(fe=new S({schema:he,schemaId:we,root:Z,baseId:J}))}return void 0!==fe?Z.refs[se]=U.call(this,fe):void 0},j.getCompilingSchema=A,j.resolveSchema=z;const ee=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function q(Z,{baseId:J,schema:se,root:ce}){var ae;if("/"!==(null===(ae=Z.fragment)||void 0===ae?void 0:ae[0]))return;for(const we of Z.fragment.slice(1).split("/")){if("boolean"==typeof se)return;const Me=se[(0,w.unescapeFragment)(we)];if(void 0===Me)return;const Pe="object"==typeof(se=Me)&&se[this.opts.schemaId];!ee.has(we)&&Pe&&(J=(0,H.resolveUrl)(this.opts.uriResolver,J,Pe))}let fe;if("boolean"!=typeof se&&se.$ref&&!(0,w.schemaHasRulesButRef)(se,this.RULES)){const we=(0,H.resolveUrl)(this.opts.uriResolver,J,se.$ref);fe=z.call(this,ce,we)}const{schemaId:he}=this.opts;return fe=fe||new S({schema:se,schemaId:he,root:ce,baseId:J}),fe.schema!==fe.root.schema?fe:void 0}},23432:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b={data:new y.Name("data"),valCxt:new y.Name("valCxt"),instancePath:new y.Name("instancePath"),parentData:new y.Name("parentData"),parentDataProperty:new y.Name("parentDataProperty"),rootData:new y.Name("rootData"),dynamicAnchors:new y.Name("dynamicAnchors"),vErrors:new y.Name("vErrors"),errors:new y.Name("errors"),this:new y.Name("this"),self:new y.Name("self"),scope:new y.Name("scope"),json:new y.Name("json"),jsonPos:new y.Name("jsonPos"),jsonLen:new y.Name("jsonLen"),jsonPart:new y.Name("jsonPart")};j.default=b},26288:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(77172);class b extends Error{constructor(H,w,O,S){super(S||`can't resolve reference ${O} from id ${w}`),this.missingRef=(0,y.resolveUrl)(H,w,O),this.missingSchema=(0,y.normalizeId)((0,y.getFullPath)(H,this.missingRef))}}j.default=b},77172:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getSchemaRefs=j.resolveUrl=j.normalizeId=j._getFullPath=j.getFullPath=j.inlineRef=void 0;const y=_(27006),b=_(40362),P=_(44331),H=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);j.inlineRef=function w(q,Z=!0){return"boolean"==typeof q||(!0===Z?!S(q):!!Z&&B(q)<=Z)};const O=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function S(q){for(const Z in q){if(O.has(Z))return!0;const J=q[Z];if(Array.isArray(J)&&J.some(S)||"object"==typeof J&&S(J))return!0}return!1}function B(q){let Z=0;for(const J in q){if("$ref"===J)return 1/0;if(Z++,!H.has(J)&&("object"==typeof q[J]&&(0,y.eachItem)(q[J],se=>Z+=B(se)),Z===1/0))return 1/0}return Z}function N(q,Z="",J){!1!==J&&(Z=G(Z));const se=q.parse(Z);return U(q,se)}function U(q,Z){return q.serialize(Z).split("#")[0]+"#"}j.getFullPath=N,j._getFullPath=U;const A=/#\/?$/;function G(q){return q?q.replace(A,""):""}j.normalizeId=G,j.resolveUrl=function L(q,Z,J){return J=G(J),q.resolve(Z,J)};const z=/^[a-z_][-a-z0-9._]*$/i;j.getSchemaRefs=function ee(q,Z){if("boolean"==typeof q)return{};const{schemaId:J,uriResolver:se}=this.opts,ce=G(q[J]||Z),ae={"":ce},fe=N(se,ce,!1),he={},we=new Set;return P(q,{allKeys:!0},(C,a,d,m)=>{if(void 0===m)return;const p=fe+a;let E=ae[m];function D(x){if(x=G(E?(0,this.opts.uriResolver.resolve)(E,x):x),we.has(x))throw Pe(x);we.add(x);let v=this.refs[x];return"string"==typeof v&&(v=this.refs[v]),"object"==typeof v?Me(C,v.schema,x):x!==G(p)&&("#"===x[0]?(Me(C,he[x],x),he[x]=C):this.refs[x]=p),x}function R(x){if("string"==typeof x){if(!z.test(x))throw new Error(`invalid anchor "${x}"`);D.call(this,`#${x}`)}}"string"==typeof C[J]&&(E=D.call(this,C[J])),R.call(this,C.$anchor),R.call(this,C.$dynamicAnchor),ae[a]=E}),he;function Me(C,a,d){if(void 0!==a&&!b(C,a))throw Pe(d)}function Pe(C){return new Error(`reference "${C}" resolves to more than one schema`)}}},32203:(We,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getRules=j.isJSONType=void 0;const y=new Set(["string","number","integer","boolean","null","object","array"]);j.isJSONType=function b(H){return"string"==typeof H&&y.has(H)},j.getRules=function P(){const H={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...H,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},H.number,H.string,H.array,H.object],post:{rules:[]},all:{},keywords:{}}}},27006:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.checkStrictMode=j.getErrorPath=j.Type=j.useFunc=j.setEvaluated=j.evaluatedPropsToName=j.mergeEvaluated=j.eachItem=j.unescapeJsonPointer=j.escapeJsonPointer=j.escapeFragment=j.unescapeFragment=j.schemaRefOrVal=j.schemaHasRulesButRef=j.schemaHasRules=j.checkUnknownRules=j.alwaysValidSchema=j.toHash=void 0;const y=_(1038),b=_(33337);function w(fe,he=fe.schema){const{opts:we,self:Me}=fe;if(!we.strictSchema||"boolean"==typeof he)return;const Pe=Me.RULES.keywords;for(const C in he)Pe[C]||ae(fe,`unknown keyword: "${C}"`)}function O(fe,he){if("boolean"==typeof fe)return!fe;for(const we in fe)if(he[we])return!0;return!1}function A(fe){return"number"==typeof fe?`${fe}`:fe.replace(/~/g,"~0").replace(/\//g,"~1")}function G(fe){return fe.replace(/~1/g,"/").replace(/~0/g,"~")}function z({mergeNames:fe,mergeToName:he,mergeValues:we,resultToName:Me}){return(Pe,C,a,d)=>{const m=void 0===a?C:a instanceof y.Name?(C instanceof y.Name?fe(Pe,C,a):he(Pe,C,a),a):C instanceof y.Name?(he(Pe,a,C),C):we(C,a);return d!==y.Name||m instanceof y.Name?m:Me(Pe,m)}}function ee(fe,he){if(!0===he)return fe.var("props",!0);const we=fe.var("props",y._`{}`);return void 0!==he&&q(fe,we,he),we}function q(fe,he,we){Object.keys(we).forEach(Me=>fe.assign(y._`${he}${(0,y.getProperty)(Me)}`,!0))}j.toHash=function P(fe){const he={};for(const we of fe)he[we]=!0;return he},j.alwaysValidSchema=function H(fe,he){return"boolean"==typeof he?he:0===Object.keys(he).length||(w(fe,he),!O(he,fe.self.RULES.all))},j.checkUnknownRules=w,j.schemaHasRules=O,j.schemaHasRulesButRef=function S(fe,he){if("boolean"==typeof fe)return!fe;for(const we in fe)if("$ref"!==we&&he.all[we])return!0;return!1},j.schemaRefOrVal=function B({topSchemaRef:fe,schemaPath:he},we,Me,Pe){if(!Pe){if("number"==typeof we||"boolean"==typeof we)return we;if("string"==typeof we)return y._`${we}`}return y._`${fe}${he}${(0,y.getProperty)(Me)}`},j.unescapeFragment=function N(fe){return G(decodeURIComponent(fe))},j.escapeFragment=function U(fe){return encodeURIComponent(A(fe))},j.escapeJsonPointer=A,j.unescapeJsonPointer=G,j.eachItem=function L(fe,he){if(Array.isArray(fe))for(const we of fe)he(we);else he(fe)},j.mergeEvaluated={props:z({mergeNames:(fe,he,we)=>fe.if(y._`${we} !== true && ${he} !== undefined`,()=>{fe.if(y._`${he} === true`,()=>fe.assign(we,!0),()=>fe.assign(we,y._`${we} || {}`).code(y._`Object.assign(${we}, ${he})`))}),mergeToName:(fe,he,we)=>fe.if(y._`${we} !== true`,()=>{!0===he?fe.assign(we,!0):(fe.assign(we,y._`${we} || {}`),q(fe,we,he))}),mergeValues:(fe,he)=>!0===fe||{...fe,...he},resultToName:ee}),items:z({mergeNames:(fe,he,we)=>fe.if(y._`${we} !== true && ${he} !== undefined`,()=>fe.assign(we,y._`${he} === true ? true : ${we} > ${he} ? ${we} : ${he}`)),mergeToName:(fe,he,we)=>fe.if(y._`${we} !== true`,()=>fe.assign(we,!0===he||y._`${we} > ${he} ? ${we} : ${he}`)),mergeValues:(fe,he)=>!0===fe||Math.max(fe,he),resultToName:(fe,he)=>fe.var("items",he)})},j.evaluatedPropsToName=ee,j.setEvaluated=q;const Z={};var se,fe;function ae(fe,he,we=fe.opts.strictSchema){if(we){if(he=`strict mode: ${he}`,!0===we)throw new Error(he);fe.self.logger.warn(he)}}j.useFunc=function J(fe,he){return fe.scopeValue("func",{ref:he,code:Z[he.code]||(Z[he.code]=new b._Code(he.code))})},(fe=se=j.Type||(j.Type={}))[fe.Num=0]="Num",fe[fe.Str=1]="Str",j.getErrorPath=function ce(fe,he,we){if(fe instanceof y.Name){const Me=he===se.Num;return we?Me?y._`"[" + ${fe} + "]"`:y._`"['" + ${fe} + "']"`:Me?y._`"/" + ${fe}`:y._`"/" + ${fe}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return we?(0,y.getProperty)(fe).toString():"/"+A(fe)},j.checkStrictMode=ae},22650:(We,j)=>{"use strict";function y(P,H){return H.rules.some(w=>b(P,w))}function b(P,H){var w;return void 0!==P[H.keyword]||(null===(w=H.definition.implements)||void 0===w?void 0:w.some(O=>void 0!==P[O]))}Object.defineProperty(j,"__esModule",{value:!0}),j.shouldUseRule=j.shouldUseGroup=j.schemaHasRulesForType=void 0,j.schemaHasRulesForType=function _({schema:P,self:H},w){const O=H.RULES.types[w];return O&&!0!==O&&y(P,O)},j.shouldUseGroup=y,j.shouldUseRule=b},37864:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.boolOrEmptySchema=j.topBoolOrEmptySchema=void 0;const y=_(53421),b=_(1038),P=_(23432),H={message:"boolean schema is false"};function S(B,N){const{gen:U,data:A}=B;(0,y.reportError)({gen:U,keyword:"false schema",data:A,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:B},H,void 0,N)}j.topBoolOrEmptySchema=function w(B){const{gen:N,schema:U,validateName:A}=B;!1===U?S(B,!1):"object"==typeof U&&!0===U.$async?N.return(P.default.data):(N.assign(b._`${A}.errors`,null),N.return(!0))},j.boolOrEmptySchema=function O(B,N){const{gen:U,schema:A}=B;!1===A?(U.var(N,!1),S(B)):U.var(N,!0)}},55999:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.reportTypeError=j.checkDataTypes=j.checkDataType=j.coerceAndCheckDataType=j.getJSONTypes=j.getSchemaTypes=j.DataType=void 0;const y=_(32203),b=_(22650),P=_(53421),H=_(1038),w=_(27006);var O,se;function B(se){const ce=Array.isArray(se)?se:se?[se]:[];if(ce.every(y.isJSONType))return ce;throw new Error("type must be JSONType or JSONType[]: "+ce.join(","))}(se=O=j.DataType||(j.DataType={}))[se.Correct=0]="Correct",se[se.Wrong=1]="Wrong",j.getSchemaTypes=function S(se){const ce=B(se.type);if(ce.includes("null")){if(!1===se.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!ce.length&&void 0!==se.nullable)throw new Error('"nullable" cannot be used without "type"');!0===se.nullable&&ce.push("null")}return ce},j.getJSONTypes=B,j.coerceAndCheckDataType=function N(se,ce){const{gen:ae,data:fe,opts:he}=se,we=function A(se,ce){return ce?se.filter(ae=>U.has(ae)||"array"===ce&&"array"===ae):[]}(ce,he.coerceTypes),Me=ce.length>0&&!(0===we.length&&1===ce.length&&(0,b.schemaHasRulesForType)(se,ce[0]));if(Me){const Pe=ee(ce,fe,he.strictNumbers,O.Wrong);ae.if(Pe,()=>{we.length?function G(se,ce,ae){const{gen:fe,data:he,opts:we}=se,Me=fe.let("dataType",H._`typeof ${he}`),Pe=fe.let("coerced",H._`undefined`);"array"===we.coerceTypes&&fe.if(H._`${Me} == 'object' && Array.isArray(${he}) && ${he}.length == 1`,()=>fe.assign(he,H._`${he}[0]`).assign(Me,H._`typeof ${he}`).if(ee(ce,he,we.strictNumbers),()=>fe.assign(Pe,he))),fe.if(H._`${Pe} !== undefined`);for(const a of ae)(U.has(a)||"array"===a&&"array"===we.coerceTypes)&&C(a);function C(a){switch(a){case"string":return void fe.elseIf(H._`${Me} == "number" || ${Me} == "boolean"`).assign(Pe,H._`"" + ${he}`).elseIf(H._`${he} === null`).assign(Pe,H._`""`);case"number":return void fe.elseIf(H._`${Me} == "boolean" || ${he} === null
              || (${Me} == "string" && ${he} && ${he} == +${he})`).assign(Pe,H._`+${he}`);case"integer":return void fe.elseIf(H._`${Me} === "boolean" || ${he} === null
              || (${Me} === "string" && ${he} && ${he} == +${he} && !(${he} % 1))`).assign(Pe,H._`+${he}`);case"boolean":return void fe.elseIf(H._`${he} === "false" || ${he} === 0 || ${he} === null`).assign(Pe,!1).elseIf(H._`${he} === "true" || ${he} === 1`).assign(Pe,!0);case"null":return fe.elseIf(H._`${he} === "" || ${he} === 0 || ${he} === false`),void fe.assign(Pe,null);case"array":fe.elseIf(H._`${Me} === "string" || ${Me} === "number"
              || ${Me} === "boolean" || ${he} === null`).assign(Pe,H._`[${he}]`)}}fe.else(),Z(se),fe.endIf(),fe.if(H._`${Pe} !== undefined`,()=>{fe.assign(he,Pe),function L({gen:se,parentData:ce,parentDataProperty:ae},fe){se.if(H._`${ce} !== undefined`,()=>se.assign(H._`${ce}[${ae}]`,fe))}(se,Pe)})}(se,ce,we):Z(se)})}return Me};const U=new Set(["string","number","integer","boolean","null"]);function z(se,ce,ae,fe=O.Correct){const he=fe===O.Correct?H.operators.EQ:H.operators.NEQ;let we;switch(se){case"null":return H._`${ce} ${he} null`;case"array":we=H._`Array.isArray(${ce})`;break;case"object":we=H._`${ce} && typeof ${ce} == "object" && !Array.isArray(${ce})`;break;case"integer":we=Me(H._`!(${ce} % 1) && !isNaN(${ce})`);break;case"number":we=Me();break;default:return H._`typeof ${ce} ${he} ${se}`}return fe===O.Correct?we:(0,H.not)(we);function Me(Pe=H.nil){return(0,H.and)(H._`typeof ${ce} == "number"`,Pe,ae?H._`isFinite(${ce})`:H.nil)}}function ee(se,ce,ae,fe){if(1===se.length)return z(se[0],ce,ae,fe);let he;const we=(0,w.toHash)(se);if(we.array&&we.object){const Me=H._`typeof ${ce} != "object"`;he=we.null?Me:H._`!${ce} || ${Me}`,delete we.null,delete we.array,delete we.object}else he=H.nil;we.number&&delete we.integer;for(const Me in we)he=(0,H.and)(he,z(Me,ce,ae,fe));return he}j.checkDataType=z,j.checkDataTypes=ee;const q={message:({schema:se})=>`must be ${se}`,params:({schema:se,schemaValue:ce})=>"string"==typeof se?H._`{type: ${se}}`:H._`{type: ${ce}}`};function Z(se){const ce=function J(se){const{gen:ce,data:ae,schema:fe}=se,he=(0,w.schemaRefOrVal)(se,fe,"type");return{gen:ce,keyword:"type",data:ae,schema:fe.type,schemaCode:he,schemaValue:he,parentSchema:fe,params:{},it:se}}(se);(0,P.reportError)(ce,q)}j.reportTypeError=Z},48733:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.assignDefaults=void 0;const y=_(1038),b=_(27006);function H(w,O,S){const{gen:B,compositeRule:N,data:U,opts:A}=w;if(void 0===S)return;const G=y._`${U}${(0,y.getProperty)(O)}`;if(N)return void(0,b.checkStrictMode)(w,`default is ignored for: ${G}`);let L=y._`${G} === undefined`;"empty"===A.useDefaults&&(L=y._`${L} || ${G} === null || ${G} === ""`),B.if(L,y._`${G} = ${(0,y.stringify)(S)}`)}j.assignDefaults=function P(w,O){const{properties:S,items:B}=w.schema;if("object"===O&&S)for(const N in S)H(w,N,S[N].default);else"array"===O&&Array.isArray(B)&&B.forEach((N,U)=>H(w,U,N.default))}},40339:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getData=j.KeywordCxt=j.validateFunctionCode=void 0;const y=_(37864),b=_(55999),P=_(22650),H=_(55999),w=_(48733),O=_(76800),S=_(16334),B=_(1038),N=_(23432),U=_(77172),A=_(27006),G=_(53421);function z({gen:ve,validateName:Te,schema:ge,schemaEnv:me,opts:te},ne){te.code.es5?ve.func(Te,B._`${N.default.data}, ${N.default.valCxt}`,me.$async,()=>{ve.code(B._`"use strict"; ${se(ge,te)}`),function q(ve,Te){ve.if(N.default.valCxt,()=>{ve.var(N.default.instancePath,B._`${N.default.valCxt}.${N.default.instancePath}`),ve.var(N.default.parentData,B._`${N.default.valCxt}.${N.default.parentData}`),ve.var(N.default.parentDataProperty,B._`${N.default.valCxt}.${N.default.parentDataProperty}`),ve.var(N.default.rootData,B._`${N.default.valCxt}.${N.default.rootData}`),Te.dynamicRef&&ve.var(N.default.dynamicAnchors,B._`${N.default.valCxt}.${N.default.dynamicAnchors}`)},()=>{ve.var(N.default.instancePath,B._`""`),ve.var(N.default.parentData,B._`undefined`),ve.var(N.default.parentDataProperty,B._`undefined`),ve.var(N.default.rootData,N.default.data),Te.dynamicRef&&ve.var(N.default.dynamicAnchors,B._`{}`)})}(ve,te),ve.code(ne)}):ve.func(Te,B._`${N.default.data}, ${function ee(ve){return B._`{${N.default.instancePath}="", ${N.default.parentData}, ${N.default.parentDataProperty}, ${N.default.rootData}=${N.default.data}${ve.dynamicRef?B._`, ${N.default.dynamicAnchors}={}`:B.nil}}={}`}(te)}`,me.$async,()=>ve.code(se(ge,te)).code(ne))}function se(ve,Te){const ge="object"==typeof ve&&ve[Te.schemaId];return ge&&(Te.code.source||Te.code.process)?B._`/*# sourceURL=${ge} */`:B.nil}function ae({schema:ve,self:Te}){if("boolean"==typeof ve)return!ve;for(const ge in ve)if(Te.RULES.all[ge])return!0;return!1}function fe(ve){return"boolean"!=typeof ve.schema}function we(ve){(0,A.checkUnknownRules)(ve),function Pe(ve){const{schema:Te,errSchemaPath:ge,opts:me,self:te}=ve;Te.$ref&&me.ignoreKeywordsWithRef&&(0,A.schemaHasRulesButRef)(Te,te.RULES)&&te.logger.warn(`$ref: keywords ignored in schema at path "${ge}"`)}(ve)}function Me(ve,Te){if(ve.opts.jtd)return D(ve,[],!1,Te);const ge=(0,b.getSchemaTypes)(ve.schema);D(ve,ge,!(0,b.coerceAndCheckDataType)(ve,ge),Te)}function m({gen:ve,schemaEnv:Te,schema:ge,errSchemaPath:me,opts:te}){const ne=ge.$comment;if(!0===te.$comment)ve.code(B._`${N.default.self}.logger.log(${ne})`);else if("function"==typeof te.$comment){const le=B.str`${me}/$comment`,Ae=ve.scopeValue("root",{ref:Te.root});ve.code(B._`${N.default.self}.opts.$comment(${ne}, ${le}, ${Ae}.schema)`)}}function D(ve,Te,ge,me){const{gen:te,schema:ne,data:le,allErrors:Ae,opts:Be,self:qe}=ve,{RULES:ze}=qe;function Dt(Xe){(0,P.shouldUseGroup)(ne,Xe)&&(Xe.type?(te.if((0,H.checkDataType)(Xe.type,le,Be.strictNumbers)),R(ve,Xe),1===Te.length&&Te[0]===Xe.type&&ge&&(te.else(),(0,H.reportTypeError)(ve)),te.endIf()):R(ve,Xe),Ae||te.if(B._`${N.default.errors} === ${me||0}`))}!ne.$ref||!Be.ignoreKeywordsWithRef&&(0,A.schemaHasRulesButRef)(ne,ze)?(Be.jtd||function x(ve,Te){ve.schemaEnv.meta||!ve.opts.strictTypes||(function s(ve,Te){if(Te.length){if(!ve.dataTypes.length)return void(ve.dataTypes=Te);Te.forEach(ge=>{Q(ve.dataTypes,ge)||De(ve,`type "${ge}" not allowed by context "${ve.dataTypes.join(",")}"`)}),function de(ve,Te){const ge=[];for(const me of ve.dataTypes)Q(Te,me)?ge.push(me):Te.includes("integer")&&"number"===me&&ge.push("integer");ve.dataTypes=ge}(ve,Te)}}(ve,Te),ve.opts.allowUnionTypes||function v(ve,Te){Te.length>1&&(2!==Te.length||!Te.includes("null"))&&De(ve,"use allowUnionTypes to allow union type keyword")}(ve,Te),function $(ve,Te){const ge=ve.self.RULES.all;for(const me in ge){const te=ge[me];if("object"==typeof te&&(0,P.shouldUseRule)(ve.schema,te)){const{type:ne}=te.definition;ne.length&&!ne.some(le=>F(Te,le))&&De(ve,`missing type "${ne.join(",")}" for keyword "${me}"`)}}}(ve,ve.dataTypes))}(ve,Te),te.block(()=>{for(const Xe of ze.rules)Dt(Xe);Dt(ze.post)})):te.block(()=>Ve(ve,"$ref",ze.all.$ref.definition))}function R(ve,Te){const{gen:ge,schema:me,opts:{useDefaults:te}}=ve;te&&(0,w.assignDefaults)(ve,Te.type),ge.block(()=>{for(const ne of Te.rules)(0,P.shouldUseRule)(me,ne)&&Ve(ve,ne.keyword,ne.definition,Te.type)})}function F(ve,Te){return ve.includes(Te)||"number"===Te&&ve.includes("integer")}function Q(ve,Te){return ve.includes(Te)||"integer"===Te&&ve.includes("number")}function De(ve,Te){(0,A.checkStrictMode)(ve,Te+=` at "${ve.schemaEnv.baseId+ve.errSchemaPath}" (strictTypes)`,ve.opts.strictTypes)}j.validateFunctionCode=function L(ve){fe(ve)&&(we(ve),ae(ve))?function Z(ve){const{schema:Te,opts:ge,gen:me}=ve;z(ve,()=>{ge.$comment&&Te.$comment&&m(ve),function C(ve){const{schema:Te,opts:ge}=ve;void 0!==Te.default&&ge.useDefaults&&ge.strictSchema&&(0,A.checkStrictMode)(ve,"default is ignored in the schema root")}(ve),me.let(N.default.vErrors,null),me.let(N.default.errors,0),ge.unevaluated&&function J(ve){const{gen:Te,validateName:ge}=ve;ve.evaluated=Te.const("evaluated",B._`${ge}.evaluated`),Te.if(B._`${ve.evaluated}.dynamicProps`,()=>Te.assign(B._`${ve.evaluated}.props`,B._`undefined`)),Te.if(B._`${ve.evaluated}.dynamicItems`,()=>Te.assign(B._`${ve.evaluated}.items`,B._`undefined`))}(ve),Me(ve),function p(ve){const{gen:Te,schemaEnv:ge,validateName:me,ValidationError:te,opts:ne}=ve;ge.$async?Te.if(B._`${N.default.errors} === 0`,()=>Te.return(N.default.data),()=>Te.throw(B._`new ${te}(${N.default.vErrors})`)):(Te.assign(B._`${me}.errors`,N.default.vErrors),ne.unevaluated&&function E({gen:ve,evaluated:Te,props:ge,items:me}){ge instanceof B.Name&&ve.assign(B._`${Te}.props`,ge),me instanceof B.Name&&ve.assign(B._`${Te}.items`,me)}(ve),Te.return(B._`${N.default.errors} === 0`))}(ve)})}(ve):z(ve,()=>(0,y.topBoolOrEmptySchema)(ve))};class Re{constructor(Te,ge,me){if((0,O.validateKeywordUsage)(Te,ge,me),this.gen=Te.gen,this.allErrors=Te.allErrors,this.keyword=me,this.data=Te.data,this.schema=Te.schema[me],this.$data=ge.$data&&Te.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,A.schemaRefOrVal)(Te,this.schema,me,this.$data),this.schemaType=ge.schemaType,this.parentSchema=Te.schema,this.params={},this.it=Te,this.def=ge,this.$data)this.schemaCode=Te.gen.const("vSchema",Fe(this.$data,Te));else if(this.schemaCode=this.schemaValue,!(0,O.validSchemaType)(this.schema,ge.schemaType,ge.allowUndefined))throw new Error(`${me} value must be ${JSON.stringify(ge.schemaType)}`);("code"in ge?ge.trackErrors:!1!==ge.errors)&&(this.errsCount=Te.gen.const("_errs",N.default.errors))}result(Te,ge,me){this.failResult((0,B.not)(Te),ge,me)}failResult(Te,ge,me){this.gen.if(Te),me?me():this.error(),ge?(this.gen.else(),ge(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Te,ge){this.failResult((0,B.not)(Te),void 0,ge)}fail(Te){if(void 0===Te)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Te),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Te){if(!this.$data)return this.fail(Te);const{schemaCode:ge}=this;this.fail(B._`${ge} !== undefined && (${(0,B.or)(this.invalid$data(),Te)})`)}error(Te,ge,me){if(ge)return this.setParams(ge),this._error(Te,me),void this.setParams({});this._error(Te,me)}_error(Te,ge){(Te?G.reportExtraError:G.reportError)(this,this.def.error,ge)}$dataError(){(0,G.reportError)(this,this.def.$dataError||G.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,G.resetErrorsCount)(this.gen,this.errsCount)}ok(Te){this.allErrors||this.gen.if(Te)}setParams(Te,ge){ge?Object.assign(this.params,Te):this.params=Te}block$data(Te,ge,me=B.nil){this.gen.block(()=>{this.check$data(Te,me),ge()})}check$data(Te=B.nil,ge=B.nil){if(!this.$data)return;const{gen:me,schemaCode:te,schemaType:ne,def:le}=this;me.if((0,B.or)(B._`${te} === undefined`,ge)),Te!==B.nil&&me.assign(Te,!0),(ne.length||le.validateSchema)&&(me.elseIf(this.invalid$data()),this.$dataError(),Te!==B.nil&&me.assign(Te,!1)),me.else()}invalid$data(){const{gen:Te,schemaCode:ge,schemaType:me,def:te,it:ne}=this;return(0,B.or)(function le(){if(me.length){if(!(ge instanceof B.Name))throw new Error("ajv implementation error");const Be=Array.isArray(me)?me:[me];return B._`${(0,H.checkDataTypes)(Be,ge,ne.opts.strictNumbers,H.DataType.Wrong)}`}return B.nil}(),function Ae(){if(te.validateSchema){const Be=Te.scopeValue("validate$data",{ref:te.validateSchema});return B._`!${Be}(${ge})`}return B.nil}())}subschema(Te,ge){const me=(0,S.getSubschema)(this.it,Te);(0,S.extendSubschemaData)(me,this.it,Te),(0,S.extendSubschemaMode)(me,Te);const te={...this.it,...me,items:void 0,props:void 0};return function ce(ve,Te){fe(ve)&&(we(ve),ae(ve))?function he(ve,Te){const{schema:ge,gen:me,opts:te}=ve;te.$comment&&ge.$comment&&m(ve),function a(ve){const Te=ve.schema[ve.opts.schemaId];Te&&(ve.baseId=(0,U.resolveUrl)(ve.opts.uriResolver,ve.baseId,Te))}(ve),function d(ve){if(ve.schema.$async&&!ve.schemaEnv.$async)throw new Error("async schema in sync schema")}(ve);const ne=me.const("_errs",N.default.errors);Me(ve,ne),me.var(Te,B._`${ne} === ${N.default.errors}`)}(ve,Te):(0,y.boolOrEmptySchema)(ve,Te)}(te,ge),te}mergeEvaluated(Te,ge){const{it:me,gen:te}=this;me.opts.unevaluated&&(!0!==me.props&&void 0!==Te.props&&(me.props=A.mergeEvaluated.props(te,Te.props,me.props,ge)),!0!==me.items&&void 0!==Te.items&&(me.items=A.mergeEvaluated.items(te,Te.items,me.items,ge)))}mergeValidEvaluated(Te,ge){const{it:me,gen:te}=this;if(me.opts.unevaluated&&(!0!==me.props||!0!==me.items))return te.if(ge,()=>this.mergeEvaluated(Te,B.Name)),!0}}function Ve(ve,Te,ge,me){const te=new Re(ve,ge,Te);"code"in ge?ge.code(te,me):te.$data&&ge.validate?(0,O.funcKeywordCode)(te,ge):"macro"in ge?(0,O.macroKeywordCode)(te,ge):(ge.compile||ge.validate)&&(0,O.funcKeywordCode)(te,ge)}j.KeywordCxt=Re;const Ee=/^\/(?:[^~]|~0|~1)*$/,_e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Fe(ve,{dataLevel:Te,dataNames:ge,dataPathArr:me}){let te,ne;if(""===ve)return N.default.rootData;if("/"===ve[0]){if(!Ee.test(ve))throw new Error(`Invalid JSON-pointer: ${ve}`);te=ve,ne=N.default.rootData}else{const qe=_e.exec(ve);if(!qe)throw new Error(`Invalid JSON-pointer: ${ve}`);const ze=+qe[1];if(te=qe[2],"#"===te){if(ze>=Te)throw new Error(Be("property/index",ze));return me[Te-ze]}if(ze>Te)throw new Error(Be("data",ze));if(ne=ge[Te-ze],!te)return ne}let le=ne;const Ae=te.split("/");for(const qe of Ae)qe&&(ne=B._`${ne}${(0,B.getProperty)((0,A.unescapeJsonPointer)(qe))}`,le=B._`${le} && ${ne}`);return le;function Be(qe,ze){return`Cannot access ${qe} ${ze} levels up, current level is ${Te}`}}j.getData=Fe},76800:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateKeywordUsage=j.validSchemaType=j.funcKeywordCode=j.macroKeywordCode=void 0;const y=_(1038),b=_(23432),P=_(42406),H=_(53421);function S(L){const{gen:z,data:ee,it:q}=L;z.if(q.parentData,()=>z.assign(ee,y._`${q.parentData}[${q.parentDataProperty}]`))}function U(L,z,ee){if(void 0===ee)throw new Error(`keyword "${z}" failed to compile`);return L.scopeValue("keyword","function"==typeof ee?{ref:ee}:{ref:ee,code:(0,y.stringify)(ee)})}j.macroKeywordCode=function w(L,z){const{gen:ee,keyword:q,schema:Z,parentSchema:J,it:se}=L,ce=z.macro.call(se.self,Z,J,se),ae=U(ee,q,ce);!1!==se.opts.validateSchema&&se.self.validateSchema(ce,!0);const fe=ee.name("valid");L.subschema({schema:ce,schemaPath:y.nil,errSchemaPath:`${se.errSchemaPath}/${q}`,topSchemaRef:ae,compositeRule:!0},fe),L.pass(fe,()=>L.error(!0))},j.funcKeywordCode=function O(L,z){var ee;const{gen:q,keyword:Z,schema:J,parentSchema:se,$data:ce,it:ae}=L;!function N({schemaEnv:L},z){if(z.async&&!L.$async)throw new Error("async keyword in sync schema")}(ae,z);const fe=!ce&&z.compile?z.compile.call(ae.self,J,se,ae):z.validate,he=U(q,Z,fe),we=q.let("valid");function a(m=(z.async?y._`await `:y.nil)){q.assign(we,y._`${m}${(0,P.callValidateCode)(L,he,ae.opts.passContext?b.default.this:b.default.self,!("compile"in z&&!ce||!1===z.schema))}`,z.modifying)}function d(m){var p;q.if((0,y.not)(null!==(p=z.valid)&&void 0!==p?p:we),m)}L.block$data(we,function Me(){if(!1===z.errors)a(),z.modifying&&S(L),d(()=>L.error());else{const m=z.async?function Pe(){const m=q.let("ruleErrs",null);return q.try(()=>a(y._`await `),p=>q.assign(we,!1).if(y._`${p} instanceof ${ae.ValidationError}`,()=>q.assign(m,y._`${p}.errors`),()=>q.throw(p))),m}():function C(){const m=y._`${he}.errors`;return q.assign(m,null),a(y.nil),m}();z.modifying&&S(L),d(()=>function B(L,z){const{gen:ee}=L;ee.if(y._`Array.isArray(${z})`,()=>{ee.assign(b.default.vErrors,y._`${b.default.vErrors} === null ? ${z} : ${b.default.vErrors}.concat(${z})`).assign(b.default.errors,y._`${b.default.vErrors}.length`),(0,H.extendErrors)(L)},()=>L.error())}(L,m))}}),L.ok(null!==(ee=z.valid)&&void 0!==ee?ee:we)},j.validSchemaType=function A(L,z,ee=!1){return!z.length||z.some(q=>"array"===q?Array.isArray(L):"object"===q?L&&"object"==typeof L&&!Array.isArray(L):typeof L==q||ee&&typeof L>"u")},j.validateKeywordUsage=function G({schema:L,opts:z,self:ee,errSchemaPath:q},Z,J){if(Array.isArray(Z.keyword)?!Z.keyword.includes(J):Z.keyword!==J)throw new Error("ajv implementation error");const se=Z.dependencies;if(se?.some(ce=>!Object.prototype.hasOwnProperty.call(L,ce)))throw new Error(`parent schema must have dependencies of ${J}: ${se.join(",")}`);if(Z.validateSchema&&!Z.validateSchema(L[J])){const ae=`keyword "${J}" value is invalid at path "${q}": `+ee.errorsText(Z.validateSchema.errors);if("log"!==z.validateSchema)throw new Error(ae);ee.logger.error(ae)}}},16334:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.extendSubschemaMode=j.extendSubschemaData=j.getSubschema=void 0;const y=_(1038),b=_(27006);j.getSubschema=function P(O,{keyword:S,schemaProp:B,schema:N,schemaPath:U,errSchemaPath:A,topSchemaRef:G}){if(void 0!==S&&void 0!==N)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==S){const L=O.schema[S];return void 0===B?{schema:L,schemaPath:y._`${O.schemaPath}${(0,y.getProperty)(S)}`,errSchemaPath:`${O.errSchemaPath}/${S}`}:{schema:L[B],schemaPath:y._`${O.schemaPath}${(0,y.getProperty)(S)}${(0,y.getProperty)(B)}`,errSchemaPath:`${O.errSchemaPath}/${S}/${(0,b.escapeFragment)(B)}`}}if(void 0!==N){if(void 0===U||void 0===A||void 0===G)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:N,schemaPath:U,topSchemaRef:G,errSchemaPath:A}}throw new Error('either "keyword" or "schema" must be passed')},j.extendSubschemaData=function H(O,S,{dataProp:B,dataPropType:N,data:U,dataTypes:A,propertyName:G}){if(void 0!==U&&void 0!==B)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:L}=S;if(void 0!==B){const{errorPath:ee,dataPathArr:q,opts:Z}=S;z(L.let("data",y._`${S.data}${(0,y.getProperty)(B)}`,!0)),O.errorPath=y.str`${ee}${(0,b.getErrorPath)(B,N,Z.jsPropertySyntax)}`,O.parentDataProperty=y._`${B}`,O.dataPathArr=[...q,O.parentDataProperty]}function z(ee){O.data=ee,O.dataLevel=S.dataLevel+1,O.dataTypes=[],S.definedProperties=new Set,O.parentData=S.data,O.dataNames=[...S.dataNames,ee]}void 0!==U&&(z(U instanceof y.Name?U:L.let("data",U,!0)),void 0!==G&&(O.propertyName=G)),A&&(O.dataTypes=A)},j.extendSubschemaMode=function w(O,{jtdDiscriminator:S,jtdMetadata:B,compositeRule:N,createErrors:U,allErrors:A}){void 0!==N&&(O.compositeRule=N),void 0!==U&&(O.createErrors=U),void 0!==A&&(O.allErrors=A),O.jtdDiscriminator=S,O.jtdMetadata=B}},35419:(We,j,_)=>{"use strict";var y=_(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.CodeGen=j.Name=j.nil=j.stringify=j.str=j._=j.KeywordCxt=void 0;var b=_(40339);Object.defineProperty(j,"KeywordCxt",{enumerable:!0,get:function(){return b.KeywordCxt}});var P=_(1038);Object.defineProperty(j,"_",{enumerable:!0,get:function(){return P._}}),Object.defineProperty(j,"str",{enumerable:!0,get:function(){return P.str}}),Object.defineProperty(j,"stringify",{enumerable:!0,get:function(){return P.stringify}}),Object.defineProperty(j,"nil",{enumerable:!0,get:function(){return P.nil}}),Object.defineProperty(j,"Name",{enumerable:!0,get:function(){return P.Name}}),Object.defineProperty(j,"CodeGen",{enumerable:!0,get:function(){return P.CodeGen}});const H=_(42467),w=_(26288),O=_(32203),S=_(97692),B=_(1038),N=_(77172),U=_(55999),A=_(27006),G=_(83813),L=_(13203),z=(v,$)=>new RegExp(v,$);z.code="new RegExp";const ee=["removeAdditional","useDefaults","coerceTypes"],q=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Z={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},J={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function ce(v){var $,F,Q,de,De,Re,Ve,Ee,_e,Fe,ve,Te,ge,me,te,ne,le,Ae,Be,qe,ze,Dt,Xe,Ue,mt;const K=v.strict,T=null===($=v.code)||void 0===$?void 0:$.optimize,M=!0===T||void 0===T?1:T||0,Y=null!==(Q=null===(F=v.code)||void 0===F?void 0:F.regExp)&&void 0!==Q?Q:z,pe=null!==(de=v.uriResolver)&&void 0!==de?de:L.default;return{strictSchema:null===(Re=null!==(De=v.strictSchema)&&void 0!==De?De:K)||void 0===Re||Re,strictNumbers:null===(Ee=null!==(Ve=v.strictNumbers)&&void 0!==Ve?Ve:K)||void 0===Ee||Ee,strictTypes:null!==(Fe=null!==(_e=v.strictTypes)&&void 0!==_e?_e:K)&&void 0!==Fe?Fe:"log",strictTuples:null!==(Te=null!==(ve=v.strictTuples)&&void 0!==ve?ve:K)&&void 0!==Te?Te:"log",strictRequired:null!==(me=null!==(ge=v.strictRequired)&&void 0!==ge?ge:K)&&void 0!==me&&me,code:v.code?{...v.code,optimize:M,regExp:Y}:{optimize:M,regExp:Y},loopRequired:null!==(te=v.loopRequired)&&void 0!==te?te:200,loopEnum:null!==(ne=v.loopEnum)&&void 0!==ne?ne:200,meta:null===(le=v.meta)||void 0===le||le,messages:null===(Ae=v.messages)||void 0===Ae||Ae,inlineRefs:null===(Be=v.inlineRefs)||void 0===Be||Be,schemaId:null!==(qe=v.schemaId)&&void 0!==qe?qe:"$id",addUsedSchema:null===(ze=v.addUsedSchema)||void 0===ze||ze,validateSchema:null===(Dt=v.validateSchema)||void 0===Dt||Dt,validateFormats:null===(Xe=v.validateFormats)||void 0===Xe||Xe,unicodeRegExp:null===(Ue=v.unicodeRegExp)||void 0===Ue||Ue,int32range:null===(mt=v.int32range)||void 0===mt||mt,uriResolver:pe}}class ae{constructor($={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,$=this.opts={...$,...ce($)};const{es5:F,lines:Q}=this.opts.code;this.scope=new B.ValueScope({scope:{},prefixes:q,es5:F,lines:Q}),this.logger=function d(v){if(!1===v)return a;if(void 0===v)return console;if(v.log&&v.warn&&v.error)return v;throw new Error("logger must implement log, warn and error methods")}($.logger);const de=$.validateFormats;$.validateFormats=!1,this.RULES=(0,O.getRules)(),fe.call(this,Z,$,"NOT SUPPORTED"),fe.call(this,J,$,"DEPRECATED","warn"),this._metaOpts=C.call(this),$.formats&&Me.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),$.keywords&&Pe.call(this,$.keywords),"object"==typeof $.meta&&this.addMetaSchema($.meta),we.call(this),$.validateFormats=de}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:$,meta:F,schemaId:Q}=this.opts;let de=G;"id"===Q&&(de={...G},de.id=de.$id,delete de.$id),F&&$&&this.addMetaSchema(de,de[Q],!1)}defaultMeta(){const{meta:$,schemaId:F}=this.opts;return this.opts.defaultMeta="object"==typeof $?$[F]||$:void 0}validate($,F){let Q;if("string"==typeof $){if(Q=this.getSchema($),!Q)throw new Error(`no schema with key or ref "${$}"`)}else Q=this.compile($);const de=Q(F);return"$async"in Q||(this.errors=Q.errors),de}compile($,F){const Q=this._addSchema($,F);return Q.validate||this._compileSchemaEnv(Q)}compileAsync($,F){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:Q}=this.opts;return de.call(this,$,F);function de(te,ne){return De.apply(this,arguments)}function De(){return(De=y(function*(te,ne){yield Re.call(this,te.$schema);const le=this._addSchema(te,ne);return le.validate||Ee.call(this,le)})).apply(this,arguments)}function Re(te){return Ve.apply(this,arguments)}function Ve(){return(Ve=y(function*(te){te&&!this.getSchema(te)&&(yield de.call(this,{$ref:te},!0))})).apply(this,arguments)}function Ee(te){return _e.apply(this,arguments)}function _e(){return(_e=y(function*(te){try{return this._compileSchemaEnv(te)}catch(ne){if(!(ne instanceof w.default))throw ne;return Fe.call(this,ne),yield ve.call(this,ne.missingSchema),Ee.call(this,te)}})).apply(this,arguments)}function Fe({missingSchema:te,missingRef:ne}){if(this.refs[te])throw new Error(`AnySchema ${te} is loaded but ${ne} cannot be resolved`)}function ve(te){return Te.apply(this,arguments)}function Te(){return(Te=y(function*(te){const ne=yield ge.call(this,te);this.refs[te]||(yield Re.call(this,ne.$schema)),this.refs[te]||this.addSchema(ne,te,F)})).apply(this,arguments)}function ge(te){return me.apply(this,arguments)}function me(){return(me=y(function*(te){const ne=this._loading[te];if(ne)return ne;try{return yield this._loading[te]=Q(te)}finally{delete this._loading[te]}})).apply(this,arguments)}}addSchema($,F,Q,de=this.opts.validateSchema){if(Array.isArray($)){for(const Re of $)this.addSchema(Re,void 0,Q,de);return this}let De;if("object"==typeof $){const{schemaId:Re}=this.opts;if(De=$[Re],void 0!==De&&"string"!=typeof De)throw new Error(`schema ${Re} must be string`)}return F=(0,N.normalizeId)(F||De),this._checkUnique(F),this.schemas[F]=this._addSchema($,Q,F,de,!0),this}addMetaSchema($,F,Q=this.opts.validateSchema){return this.addSchema($,F,!0,Q),this}validateSchema($,F){if("boolean"==typeof $)return!0;let Q;if(Q=$.$schema,void 0!==Q&&"string"!=typeof Q)throw new Error("$schema must be a string");if(Q=Q||this.opts.defaultMeta||this.defaultMeta(),!Q)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const de=this.validate(Q,$);if(!de&&F){const De="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(De);this.logger.error(De)}return de}getSchema($){let F;for(;"string"==typeof(F=he.call(this,$));)$=F;if(void 0===F){const{schemaId:Q}=this.opts,de=new S.SchemaEnv({schema:{},schemaId:Q});if(F=S.resolveSchema.call(this,de,$),!F)return;this.refs[$]=F}return F.validate||this._compileSchemaEnv(F)}removeSchema($){if($ instanceof RegExp)return this._removeAllSchemas(this.schemas,$),this._removeAllSchemas(this.refs,$),this;switch(typeof $){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const F=he.call(this,$);return"object"==typeof F&&this._cache.delete(F.schema),delete this.schemas[$],delete this.refs[$],this}case"object":{this._cache.delete($);let Q=$[this.opts.schemaId];return Q&&(Q=(0,N.normalizeId)(Q),delete this.schemas[Q],delete this.refs[Q]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary($){for(const F of $)this.addKeyword(F);return this}addKeyword($,F){let Q;if("string"==typeof $)Q=$,"object"==typeof F&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),F.keyword=Q);else{if("object"!=typeof $||void 0!==F)throw new Error("invalid addKeywords parameters");if(Q=(F=$).keyword,Array.isArray(Q)&&!Q.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(p.call(this,Q,F),!F)return(0,A.eachItem)(Q,De=>E.call(this,De)),this;R.call(this,F);const de={...F,type:(0,U.getJSONTypes)(F.type),schemaType:(0,U.getJSONTypes)(F.schemaType)};return(0,A.eachItem)(Q,0===de.type.length?De=>E.call(this,De,de):De=>de.type.forEach(Re=>E.call(this,De,de,Re))),this}getKeyword($){const F=this.RULES.all[$];return"object"==typeof F?F.definition:!!F}removeKeyword($){const{RULES:F}=this;delete F.keywords[$],delete F.all[$];for(const Q of F.rules){const de=Q.rules.findIndex(De=>De.keyword===$);de>=0&&Q.rules.splice(de,1)}return this}addFormat($,F){return"string"==typeof F&&(F=new RegExp(F)),this.formats[$]=F,this}errorsText($=this.errors,{separator:F=", ",dataVar:Q="data"}={}){return $&&0!==$.length?$.map(de=>`${Q}${de.instancePath} ${de.message}`).reduce((de,De)=>de+F+De):"No errors"}$dataMetaSchema($,F){const Q=this.RULES.all;$=JSON.parse(JSON.stringify($));for(const de of F){const De=de.split("/").slice(1);let Re=$;for(const Ve of De)Re=Re[Ve];for(const Ve in Q){const Ee=Q[Ve];if("object"!=typeof Ee)continue;const{$data:_e}=Ee.definition,Fe=Re[Ve];_e&&Fe&&(Re[Ve]=s(Fe))}}return $}_removeAllSchemas($,F){for(const Q in $){const de=$[Q];(!F||F.test(Q))&&("string"==typeof de?delete $[Q]:de&&!de.meta&&(this._cache.delete(de.schema),delete $[Q]))}}_addSchema($,F,Q,de=this.opts.validateSchema,De=this.opts.addUsedSchema){let Re;const{schemaId:Ve}=this.opts;if("object"==typeof $)Re=$[Ve];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof $)throw new Error("schema must be object or boolean")}let Ee=this._cache.get($);if(void 0!==Ee)return Ee;Q=(0,N.normalizeId)(Re||Q);const _e=N.getSchemaRefs.call(this,$,Q);return Ee=new S.SchemaEnv({schema:$,schemaId:Ve,meta:F,baseId:Q,localRefs:_e}),this._cache.set(Ee.schema,Ee),De&&!Q.startsWith("#")&&(Q&&this._checkUnique(Q),this.refs[Q]=Ee),de&&this.validateSchema($,!0),Ee}_checkUnique($){if(this.schemas[$]||this.refs[$])throw new Error(`schema with key or id "${$}" already exists`)}_compileSchemaEnv($){if($.meta?this._compileMetaSchema($):S.compileSchema.call(this,$),!$.validate)throw new Error("ajv implementation error");return $.validate}_compileMetaSchema($){const F=this.opts;this.opts=this._metaOpts;try{S.compileSchema.call(this,$)}finally{this.opts=F}}}function fe(v,$,F,Q="error"){for(const de in v)de in $&&this.logger[Q](`${F}: option ${de}. ${v[de]}`)}function he(v){return v=(0,N.normalizeId)(v),this.schemas[v]||this.refs[v]}function we(){const v=this.opts.schemas;if(v)if(Array.isArray(v))this.addSchema(v);else for(const $ in v)this.addSchema(v[$],$)}function Me(){for(const v in this.opts.formats){const $=this.opts.formats[v];$&&this.addFormat(v,$)}}function Pe(v){if(Array.isArray(v))this.addVocabulary(v);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const $ in v){const F=v[$];F.keyword||(F.keyword=$),this.addKeyword(F)}}}function C(){const v={...this.opts};for(const $ of ee)delete v[$];return v}j.default=ae,ae.ValidationError=H.default,ae.MissingRefError=w.default;const a={log(){},warn(){},error(){}},m=/^[a-z_$][a-z0-9_$:-]*$/i;function p(v,$){const{RULES:F}=this;if((0,A.eachItem)(v,Q=>{if(F.keywords[Q])throw new Error(`Keyword ${Q} is already defined`);if(!m.test(Q))throw new Error(`Keyword ${Q} has invalid name`)}),$&&$.$data&&!("code"in $)&&!("validate"in $))throw new Error('$data keyword must have "code" or "validate" function')}function E(v,$,F){var Q;const de=$?.post;if(F&&de)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:De}=this;let Re=de?De.post:De.rules.find(({type:Ee})=>Ee===F);if(Re||(Re={type:F,rules:[]},De.rules.push(Re)),De.keywords[v]=!0,!$)return;const Ve={keyword:v,definition:{...$,type:(0,U.getJSONTypes)($.type),schemaType:(0,U.getJSONTypes)($.schemaType)}};$.before?D.call(this,Re,Ve,$.before):Re.rules.push(Ve),De.all[v]=Ve,null===(Q=$.implements)||void 0===Q||Q.forEach(Ee=>this.addKeyword(Ee))}function D(v,$,F){const Q=v.rules.findIndex(de=>de.keyword===F);Q>=0?v.rules.splice(Q,0,$):(v.rules.push($),this.logger.warn(`rule ${F} is not defined`))}function R(v){let{metaSchema:$}=v;void 0!==$&&(v.$data&&this.opts.$data&&($=s($)),v.validateSchema=this.compile($,!0))}const x={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function s(v){return{anyOf:[v,x]}}},87577:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(6438),b=_(59608),P=_(8307),H=_(11082),w=_(93406),O=_(14516),S=_(3059),B=_(18738),N=["/properties"];j.default=function U(A){return[y,b,P,H,w,G(this,O),S,G(this,B)].forEach(L=>this.addMetaSchema(L,void 0,!1)),this;function G(L,z){return A?L.$dataMetaSchema(z,N):z}}},92281:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(40362);y.code='require("ajv/dist/runtime/equal").default',j.default=y},26488:(We,j)=>{"use strict";function _(y){const b=y.length;let w,P=0,H=0;for(;H<b;)P++,w=y.charCodeAt(H++),w>=55296&&w<=56319&&H<b&&(w=y.charCodeAt(H),56320==(64512&w)&&H++);return P}Object.defineProperty(j,"__esModule",{value:!0}),j.default=_,_.code='require("ajv/dist/runtime/ucs2length").default'},13203:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(95568);y.code='require("ajv/dist/runtime/uri").default',j.default=y},42467:(We,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});class _ extends Error{constructor(b){super("validation failed"),this.errors=b,this.ajv=this.validation=!0}}j.default=_},46934:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateAdditionalItems=void 0;const y=_(1038),b=_(27006),H={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:O}})=>y.str`must NOT have more than ${O} items`,params:({params:{len:O}})=>y._`{limit: ${O}}`},code(O){const{parentSchema:S,it:B}=O,{items:N}=S;Array.isArray(N)?w(O,N):(0,b.checkStrictMode)(B,'"additionalItems" is ignored when "items" is not an array of schemas')}};function w(O,S){const{gen:B,schema:N,data:U,keyword:A,it:G}=O;G.items=!0;const L=B.const("len",y._`${U}.length`);if(!1===N)O.setParams({len:S.length}),O.pass(y._`${L} <= ${S.length}`);else if("object"==typeof N&&!(0,b.alwaysValidSchema)(G,N)){const ee=B.var("valid",y._`${L} <= ${S.length}`);B.if((0,y.not)(ee),()=>function z(ee){B.forRange("i",S.length,L,q=>{O.subschema({keyword:A,dataProp:q,dataPropType:b.Type.Num},ee),G.allErrors||B.if((0,y.not)(ee),()=>B.break())})}(ee)),O.ok(ee)}}j.validateAdditionalItems=w,j.default=H},18445:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(42406),b=_(1038),P=_(23432),H=_(27006);j.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:S})=>b._`{additionalProperty: ${S.additionalProperty}}`},code(S){const{gen:B,schema:N,parentSchema:U,data:A,errsCount:G,it:L}=S;if(!G)throw new Error("ajv implementation error");const{allErrors:z,opts:ee}=L;if(L.props=!0,"all"!==ee.removeAdditional&&(0,H.alwaysValidSchema)(L,N))return;const q=(0,y.allSchemaProperties)(U.properties),Z=(0,y.allSchemaProperties)(U.patternProperties);function ce(he){B.code(b._`delete ${A}[${he}]`)}function ae(he){if("all"===ee.removeAdditional||ee.removeAdditional&&!1===N)ce(he);else{if(!1===N)return S.setParams({additionalProperty:he}),S.error(),void(z||B.break());if("object"==typeof N&&!(0,H.alwaysValidSchema)(L,N)){const we=B.name("valid");"failing"===ee.removeAdditional?(fe(he,we,!1),B.if((0,b.not)(we),()=>{S.reset(),ce(he)})):(fe(he,we),z||B.if((0,b.not)(we),()=>B.break()))}}}function fe(he,we,Me){const Pe={keyword:"additionalProperties",dataProp:he,dataPropType:H.Type.Str};!1===Me&&Object.assign(Pe,{compositeRule:!0,createErrors:!1,allErrors:!1}),S.subschema(Pe,we)}(function J(){B.forIn("key",A,he=>{q.length||Z.length?B.if(function se(he){let we;if(q.length>8){const Me=(0,H.schemaRefOrVal)(L,U.properties,"properties");we=(0,y.isOwnProperty)(B,Me,he)}else we=q.length?(0,b.or)(...q.map(Me=>b._`${he} === ${Me}`)):b.nil;return Z.length&&(we=(0,b.or)(we,...Z.map(Me=>b._`${(0,y.usePattern)(S,Me)}.test(${he})`))),(0,b.not)(we)}(he),()=>ae(he)):ae(he)})})(),S.ok(b._`${G} === ${P.default.errors}`)}}},77783:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(27006);j.default={keyword:"allOf",schemaType:"array",code(P){const{gen:H,schema:w,it:O}=P;if(!Array.isArray(w))throw new Error("ajv implementation error");const S=H.name("valid");w.forEach((B,N)=>{if((0,y.alwaysValidSchema)(O,B))return;const U=P.subschema({keyword:"allOf",schemaProp:N},S);P.ok(S),P.mergeEvaluated(U)})}}},60922:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const b={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_(42406).validateUnion,error:{message:"must match a schema in anyOf"}};j.default=b},57568:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006);j.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:w,max:O}})=>void 0===O?y.str`must contain at least ${w} valid item(s)`:y.str`must contain at least ${w} and no more than ${O} valid item(s)`,params:({params:{min:w,max:O}})=>void 0===O?y._`{minContains: ${w}}`:y._`{minContains: ${w}, maxContains: ${O}}`},code(w){const{gen:O,schema:S,parentSchema:B,data:N,it:U}=w;let A,G;const{minContains:L,maxContains:z}=B;U.opts.next?(A=void 0===L?1:L,G=z):A=1;const ee=O.const("len",y._`${N}.length`);if(w.setParams({min:A,max:G}),void 0===G&&0===A)return void(0,b.checkStrictMode)(U,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==G&&A>G)return(0,b.checkStrictMode)(U,'"minContains" > "maxContains" is always invalid'),void w.fail();if((0,b.alwaysValidSchema)(U,S)){let ce=y._`${ee} >= ${A}`;return void 0!==G&&(ce=y._`${ce} && ${ee} <= ${G}`),void w.pass(ce)}U.items=!0;const q=O.name("valid");function Z(){const ce=O.name("_valid"),ae=O.let("count",0);J(ce,()=>O.if(ce,()=>function se(ce){O.code(y._`${ce}++`),void 0===G?O.if(y._`${ce} >= ${A}`,()=>O.assign(q,!0).break()):(O.if(y._`${ce} > ${G}`,()=>O.assign(q,!1).break()),1===A?O.assign(q,!0):O.if(y._`${ce} >= ${A}`,()=>O.assign(q,!0)))}(ae)))}function J(ce,ae){O.forRange("i",0,ee,fe=>{w.subschema({keyword:"contains",dataProp:fe,dataPropType:b.Type.Num,compositeRule:!0},ce),ae()})}void 0===G&&1===A?J(q,()=>O.if(q,()=>O.break())):0===A?(O.let(q,!0),void 0!==G&&O.if(y._`${N}.length > 0`,Z)):(O.let(q,!1),Z()),w.result(q,()=>w.reset())}}},68032:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateSchemaDeps=j.validatePropertyDeps=j.error=void 0;const y=_(1038),b=_(27006),P=_(42406);j.error={message:({params:{property:B,depsCount:N,deps:U}})=>y.str`must have ${1===N?"property":"properties"} ${U} when property ${B} is present`,params:({params:{property:B,depsCount:N,deps:U,missingProperty:A}})=>y._`{property: ${B},
    missingProperty: ${A},
    depsCount: ${N},
    deps: ${U}}`};const H={keyword:"dependencies",type:"object",schemaType:"object",error:j.error,code(B){const[N,U]=function w({schema:B}){const N={},U={};for(const A in B)"__proto__"!==A&&((Array.isArray(B[A])?N:U)[A]=B[A]);return[N,U]}(B);O(B,N),S(B,U)}};function O(B,N=B.schema){const{gen:U,data:A,it:G}=B;if(0===Object.keys(N).length)return;const L=U.let("missing");for(const z in N){const ee=N[z];if(0===ee.length)continue;const q=(0,P.propertyInData)(U,A,z,G.opts.ownProperties);B.setParams({property:z,depsCount:ee.length,deps:ee.join(", ")}),G.allErrors?U.if(q,()=>{for(const Z of ee)(0,P.checkReportMissingProp)(B,Z)}):(U.if(y._`${q} && (${(0,P.checkMissingProp)(B,ee,L)})`),(0,P.reportMissingProp)(B,L),U.else())}}function S(B,N=B.schema){const{gen:U,data:A,keyword:G,it:L}=B,z=U.name("valid");for(const ee in N)(0,b.alwaysValidSchema)(L,N[ee])||(U.if((0,P.propertyInData)(U,A,ee,L.opts.ownProperties),()=>{const q=B.subschema({keyword:G,schemaProp:ee},z);B.mergeValidEvaluated(q,z)},()=>U.var(z,!0)),B.ok(z))}j.validatePropertyDeps=O,j.validateSchemaDeps=S,j.default=H},85164:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(68032);j.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:P=>(0,y.validateSchemaDeps)(P)}},45226:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006);function w(O,S){const B=O.schema[S];return void 0!==B&&!(0,b.alwaysValidSchema)(O,B)}j.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:O})=>y.str`must match "${O.ifClause}" schema`,params:({params:O})=>y._`{failingKeyword: ${O.ifClause}}`},code(O){const{gen:S,parentSchema:B,it:N}=O;void 0===B.then&&void 0===B.else&&(0,b.checkStrictMode)(N,'"if" without "then" and "else" is ignored');const U=w(N,"then"),A=w(N,"else");if(!U&&!A)return;const G=S.let("valid",!0),L=S.name("_valid");if(function z(){const q=O.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},L);O.mergeEvaluated(q)}(),O.reset(),U&&A){const q=S.let("ifClause");O.setParams({ifClause:q}),S.if(L,ee("then",q),ee("else",q))}else U?S.if(L,ee("then")):S.if((0,y.not)(L),ee("else"));function ee(q,Z){return()=>{const J=O.subschema({keyword:q},L);S.assign(G,L),O.mergeValidEvaluated(J,G),Z?S.assign(Z,y._`${q}`):O.setParams({ifClause:q})}}O.pass(G,()=>O.error(!0))}}},68261:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(46934),b=_(96537),P=_(2941),H=_(5261),w=_(57568),O=_(68032),S=_(36474),B=_(18445),N=_(34032),U=_(17330),A=_(3408),G=_(60922),L=_(88388),z=_(77783),ee=_(45226),q=_(98779);j.default=function Z(J=!1){const se=[A.default,G.default,L.default,z.default,ee.default,q.default,S.default,B.default,O.default,N.default,U.default];return J?se.push(b.default,H.default):se.push(y.default,P.default),se.push(w.default),se}},2941:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateTuple=void 0;const y=_(1038),b=_(27006),P=_(42406),H={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(O){const{schema:S,it:B}=O;if(Array.isArray(S))return w(O,"additionalItems",S);B.items=!0,!(0,b.alwaysValidSchema)(B,S)&&O.ok((0,P.validateArray)(O))}};function w(O,S,B=O.schema){const{gen:N,parentSchema:U,data:A,keyword:G,it:L}=O;(function q(Z){const{opts:J,errSchemaPath:se}=L,ce=B.length;J.strictTuples&&!(ce===Z.minItems&&(ce===Z.maxItems||!1===Z[S]))&&(0,b.checkStrictMode)(L,`"${G}" is ${ce}-tuple, but minItems or maxItems/${S} are not specified or different at path "${se}"`,J.strictTuples)})(U),L.opts.unevaluated&&B.length&&!0!==L.items&&(L.items=b.mergeEvaluated.items(N,B.length,L.items));const z=N.name("valid"),ee=N.const("len",y._`${A}.length`);B.forEach((Z,J)=>{(0,b.alwaysValidSchema)(L,Z)||(N.if(y._`${ee} > ${J}`,()=>O.subschema({keyword:G,schemaProp:J,dataProp:J},z)),O.ok(z))})}j.validateTuple=w,j.default=H},5261:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006),P=_(42406),H=_(46934);j.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:S}})=>y.str`must NOT have more than ${S} items`,params:({params:{len:S}})=>y._`{limit: ${S}}`},code(S){const{schema:B,parentSchema:N,it:U}=S,{prefixItems:A}=N;U.items=!0,!(0,b.alwaysValidSchema)(U,B)&&(A?(0,H.validateAdditionalItems)(S,A):S.ok((0,P.validateArray)(S)))}}},3408:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(27006);j.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(P){const{gen:H,schema:w,it:O}=P;if((0,y.alwaysValidSchema)(O,w))return void P.fail();const S=H.name("valid");P.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},S),P.failResult(S,()=>P.reset(),()=>P.error())},error:{message:"must NOT be valid"}}},88388:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006);j.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:w})=>y._`{passingSchemas: ${w.passing}}`},code(w){const{gen:O,schema:S,parentSchema:B,it:N}=w;if(!Array.isArray(S))throw new Error("ajv implementation error");if(N.opts.discriminator&&B.discriminator)return;const U=S,A=O.let("valid",!1),G=O.let("passing",null),L=O.name("_valid");w.setParams({passing:G}),O.block(function z(){U.forEach((ee,q)=>{let Z;(0,b.alwaysValidSchema)(N,ee)?O.var(L,!0):Z=w.subschema({keyword:"oneOf",schemaProp:q,compositeRule:!0},L),q>0&&O.if(y._`${L} && ${A}`).assign(A,!1).assign(G,y._`[${G}, ${q}]`).else(),O.if(L,()=>{O.assign(A,!0),O.assign(G,q),Z&&w.mergeEvaluated(Z,y.Name)})})}),w.result(A,()=>w.reset(),()=>w.error(!0))}}},17330:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(42406),b=_(1038),P=_(27006),H=_(27006);j.default={keyword:"patternProperties",type:"object",schemaType:"object",code(O){const{gen:S,schema:B,data:N,parentSchema:U,it:A}=O,{opts:G}=A,L=(0,y.allSchemaProperties)(B),z=L.filter(ae=>(0,P.alwaysValidSchema)(A,B[ae]));if(0===L.length||z.length===L.length&&(!A.opts.unevaluated||!0===A.props))return;const ee=G.strictSchema&&!G.allowMatchingProperties&&U.properties,q=S.name("valid");!0!==A.props&&!(A.props instanceof b.Name)&&(A.props=(0,H.evaluatedPropsToName)(S,A.props));const{props:Z}=A;function se(ae){for(const fe in ee)new RegExp(ae).test(fe)&&(0,P.checkStrictMode)(A,`property ${fe} matches pattern ${ae} (use allowMatchingProperties)`)}function ce(ae){S.forIn("key",N,fe=>{S.if(b._`${(0,y.usePattern)(O,ae)}.test(${fe})`,()=>{const he=z.includes(ae);he||O.subschema({keyword:"patternProperties",schemaProp:ae,dataProp:fe,dataPropType:H.Type.Str},q),A.opts.unevaluated&&!0!==Z?S.assign(b._`${Z}[${fe}]`,!0):!he&&!A.allErrors&&S.if((0,b.not)(q),()=>S.break())})})}!function J(){for(const ae of L)ee&&se(ae),A.allErrors?ce(ae):(S.var(q,!0),ce(ae),S.if(q))}()}}},96537:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(2941);j.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:P=>(0,y.validateTuple)(P,"items")}},34032:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(40339),b=_(42406),P=_(27006),H=_(18445);j.default={keyword:"properties",type:"object",schemaType:"object",code(O){const{gen:S,schema:B,parentSchema:N,data:U,it:A}=O;"all"===A.opts.removeAdditional&&void 0===N.additionalProperties&&H.default.code(new y.KeywordCxt(A,H.default,"additionalProperties"));const G=(0,b.allSchemaProperties)(B);for(const Z of G)A.definedProperties.add(Z);A.opts.unevaluated&&G.length&&!0!==A.props&&(A.props=P.mergeEvaluated.props(S,(0,P.toHash)(G),A.props));const L=G.filter(Z=>!(0,P.alwaysValidSchema)(A,B[Z]));if(0===L.length)return;const z=S.name("valid");for(const Z of L)ee(Z)?q(Z):(S.if((0,b.propertyInData)(S,U,Z,A.opts.ownProperties)),q(Z),A.allErrors||S.else().var(z,!0),S.endIf()),O.it.definedProperties.add(Z),O.ok(z);function ee(Z){return A.opts.useDefaults&&!A.compositeRule&&void 0!==B[Z].default}function q(Z){O.subschema({keyword:"properties",schemaProp:Z,dataProp:Z},z)}}}},36474:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006);j.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:w})=>y._`{propertyName: ${w.propertyName}}`},code(w){const{gen:O,schema:S,data:B,it:N}=w;if((0,b.alwaysValidSchema)(N,S))return;const U=O.name("valid");O.forIn("key",B,A=>{w.setParams({propertyName:A}),w.subschema({keyword:"propertyNames",data:A,dataTypes:["string"],propertyName:A,compositeRule:!0},U),O.if((0,y.not)(U),()=>{w.error(!0),N.allErrors||O.break()})}),w.ok(U)}}},98779:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(27006);j.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:P,parentSchema:H,it:w}){void 0===H.if&&(0,y.checkStrictMode)(w,`"${P}" without "if" is ignored`)}}},42406:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.validateUnion=j.validateArray=j.usePattern=j.callValidateCode=j.schemaProperties=j.allSchemaProperties=j.noPropertyInData=j.propertyInData=j.isOwnProperty=j.hasPropFunc=j.reportMissingProp=j.checkMissingProp=j.checkReportMissingProp=void 0;const y=_(1038),b=_(27006),P=_(23432),H=_(27006);function B(se){return se.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:y._`Object.prototype.hasOwnProperty`})}function N(se,ce,ae){return y._`${B(se)}.call(${ce}, ${ae})`}function A(se,ce,ae,fe){const he=y._`${ce}${(0,y.getProperty)(ae)} === undefined`;return fe?(0,y.or)(he,(0,y.not)(N(se,ce,ae))):he}function G(se){return se?Object.keys(se).filter(ce=>"__proto__"!==ce):[]}j.checkReportMissingProp=function w(se,ce){const{gen:ae,data:fe,it:he}=se;ae.if(A(ae,fe,ce,he.opts.ownProperties),()=>{se.setParams({missingProperty:y._`${ce}`},!0),se.error()})},j.checkMissingProp=function O({gen:se,data:ce,it:{opts:ae}},fe,he){return(0,y.or)(...fe.map(we=>(0,y.and)(A(se,ce,we,ae.ownProperties),y._`${he} = ${we}`)))},j.reportMissingProp=function S(se,ce){se.setParams({missingProperty:ce},!0),se.error()},j.hasPropFunc=B,j.isOwnProperty=N,j.propertyInData=function U(se,ce,ae,fe){const he=y._`${ce}${(0,y.getProperty)(ae)} !== undefined`;return fe?y._`${he} && ${N(se,ce,ae)}`:he},j.noPropertyInData=A,j.allSchemaProperties=G,j.schemaProperties=function L(se,ce){return G(ce).filter(ae=>!(0,b.alwaysValidSchema)(se,ce[ae]))},j.callValidateCode=function z({schemaCode:se,data:ce,it:{gen:ae,topSchemaRef:fe,schemaPath:he,errorPath:we},it:Me},Pe,C,a){const d=a?y._`${se}, ${ce}, ${fe}${he}`:ce,m=[[P.default.instancePath,(0,y.strConcat)(P.default.instancePath,we)],[P.default.parentData,Me.parentData],[P.default.parentDataProperty,Me.parentDataProperty],[P.default.rootData,P.default.rootData]];Me.opts.dynamicRef&&m.push([P.default.dynamicAnchors,P.default.dynamicAnchors]);const p=y._`${d}, ${ae.object(...m)}`;return C!==y.nil?y._`${Pe}.call(${C}, ${p})`:y._`${Pe}(${p})`};const ee=y._`new RegExp`;j.usePattern=function q({gen:se,it:{opts:ce}},ae){const fe=ce.unicodeRegExp?"u":"",{regExp:he}=ce.code,we=he(ae,fe);return se.scopeValue("pattern",{key:we.toString(),ref:we,code:y._`${"new RegExp"===he.code?ee:(0,H.useFunc)(se,he)}(${ae}, ${fe})`})},j.validateArray=function Z(se){const{gen:ce,data:ae,keyword:fe,it:he}=se,we=ce.name("valid");if(he.allErrors){const Pe=ce.let("valid",!0);return Me(()=>ce.assign(Pe,!1)),Pe}return ce.var(we,!0),Me(()=>ce.break()),we;function Me(Pe){const C=ce.const("len",y._`${ae}.length`);ce.forRange("i",0,C,a=>{se.subschema({keyword:fe,dataProp:a,dataPropType:b.Type.Num},we),ce.if((0,y.not)(we),Pe)})}},j.validateUnion=function J(se){const{gen:ce,schema:ae,keyword:fe,it:he}=se;if(!Array.isArray(ae))throw new Error("ajv implementation error");if(ae.some(C=>(0,b.alwaysValidSchema)(he,C))&&!he.opts.unevaluated)return;const Me=ce.let("valid",!1),Pe=ce.name("_valid");ce.block(()=>ae.forEach((C,a)=>{const d=se.subschema({keyword:fe,schemaProp:a,compositeRule:!0},Pe);ce.assign(Me,y._`${Me} || ${Pe}`),se.mergeValidEvaluated(d,Pe)||ce.if((0,y.not)(Me))})),se.result(Me,()=>se.reset(),()=>se.error(!0))}},36846:(We,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(36846),b=_(84862);j.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",y.default,b.default]},84862:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.callRef=j.getValidate=void 0;const y=_(26288),b=_(42406),P=_(1038),H=_(23432),w=_(97692),O=_(27006),S={keyword:"$ref",schemaType:"string",code(U){const{gen:A,schema:G,it:L}=U,{baseId:z,schemaEnv:ee,validateName:q,opts:Z,self:J}=L,{root:se}=ee;if(("#"===G||"#/"===G)&&z===se.baseId)return function ae(){if(ee===se)return N(U,q,ee,ee.$async);const we=A.scopeValue("root",{ref:se});return N(U,P._`${we}.validate`,se,se.$async)}();const ce=w.resolveRef.call(J,se,z,G);if(void 0===ce)throw new y.default(L.opts.uriResolver,z,G);return ce instanceof w.SchemaEnv?function fe(we){const Me=B(U,we);N(U,Me,we,we.$async)}(ce):function he(we){const Me=A.scopeValue("schema",!0===Z.code.source?{ref:we,code:(0,P.stringify)(we)}:{ref:we}),Pe=A.name("valid"),C=U.subschema({schema:we,dataTypes:[],schemaPath:P.nil,topSchemaRef:Me,errSchemaPath:G},Pe);U.mergeEvaluated(C),U.ok(Pe)}(ce)}};function B(U,A){const{gen:G}=U;return A.validate?G.scopeValue("validate",{ref:A.validate}):P._`${G.scopeValue("wrapper",{ref:A})}.validate`}function N(U,A,G,L){const{gen:z,it:ee}=U,{allErrors:q,schemaEnv:Z,opts:J}=ee,se=J.passContext?H.default.this:P.nil;function fe(we){const Me=P._`${we}.errors`;z.assign(H.default.vErrors,P._`${H.default.vErrors} === null ? ${Me} : ${H.default.vErrors}.concat(${Me})`),z.assign(H.default.errors,P._`${H.default.vErrors}.length`)}function he(we){var Me;if(!ee.opts.unevaluated)return;const Pe=null===(Me=G?.validate)||void 0===Me?void 0:Me.evaluated;if(!0!==ee.props)if(Pe&&!Pe.dynamicProps)void 0!==Pe.props&&(ee.props=O.mergeEvaluated.props(z,Pe.props,ee.props));else{const C=z.var("props",P._`${we}.evaluated.props`);ee.props=O.mergeEvaluated.props(z,C,ee.props,P.Name)}if(!0!==ee.items)if(Pe&&!Pe.dynamicItems)void 0!==Pe.items&&(ee.items=O.mergeEvaluated.items(z,Pe.items,ee.items));else{const C=z.var("items",P._`${we}.evaluated.items`);ee.items=O.mergeEvaluated.items(z,C,ee.items,P.Name)}}L?function ce(){if(!Z.$async)throw new Error("async schema referenced by sync schema");const we=z.let("valid");z.try(()=>{z.code(P._`await ${(0,b.callValidateCode)(U,A,se)}`),he(A),q||z.assign(we,!0)},Me=>{z.if(P._`!(${Me} instanceof ${ee.ValidationError})`,()=>z.throw(Me)),fe(Me),q||z.assign(we,!1)}),U.ok(we)}():function ae(){U.result((0,b.callValidateCode)(U,A,se),()=>he(A),()=>fe(A))}()}j.getValidate=B,j.callRef=N,j.default=S},86980:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(22145),P=_(97692),H=_(27006);j.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:S,tagName:B}})=>S===b.DiscrError.Tag?`tag "${B}" must be string`:`value of tag "${B}" must be in oneOf`,params:({params:{discrError:S,tag:B,tagName:N}})=>y._`{error: ${S}, tag: ${N}, tagValue: ${B}}`},code(S){const{gen:B,data:N,schema:U,parentSchema:A,it:G}=S,{oneOf:L}=A;if(!G.opts.discriminator)throw new Error("discriminator: requires discriminator option");const z=U.propertyName;if("string"!=typeof z)throw new Error("discriminator: requires propertyName");if(U.mapping)throw new Error("discriminator: mapping is not supported");if(!L)throw new Error("discriminator: requires oneOf keyword");const ee=B.let("valid",!1),q=B.const("tag",y._`${N}${(0,y.getProperty)(z)}`);function J(ce){const ae=B.name("valid"),fe=S.subschema({keyword:"oneOf",schemaProp:ce},ae);return S.mergeEvaluated(fe,y.Name),ae}B.if(y._`typeof ${q} == "string"`,()=>function Z(){const ce=function se(){var ce;const ae={},fe=we(A);let he=!0;for(let C=0;C<L.length;C++){let a=L[C];a?.$ref&&!(0,H.schemaHasRulesButRef)(a,G.self.RULES)&&(a=P.resolveRef.call(G.self,G.schemaEnv.root,G.baseId,a?.$ref),a instanceof P.SchemaEnv&&(a=a.schema));const d=null===(ce=a?.properties)||void 0===ce?void 0:ce[z];if("object"!=typeof d)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${z}"`);he=he&&(fe||we(a)),Me(d,C)}if(!he)throw new Error(`discriminator: "${z}" must be required`);return ae;function we({required:C}){return Array.isArray(C)&&C.includes(z)}function Me(C,a){if(C.const)Pe(C.const,a);else{if(!C.enum)throw new Error(`discriminator: "properties/${z}" must have "const" or "enum"`);for(const d of C.enum)Pe(d,a)}}function Pe(C,a){if("string"!=typeof C||C in ae)throw new Error(`discriminator: "${z}" values must be unique strings`);ae[C]=a}}();B.if(!1);for(const ae in ce)B.elseIf(y._`${q} === ${ae}`),B.assign(ee,J(ce[ae]));B.else(),S.error(!1,{discrError:b.DiscrError.Mapping,tag:q,tagName:z}),B.endIf()}(),()=>S.error(!1,{discrError:b.DiscrError.Tag,tag:q,tagName:z})),S.ok(ee)}}},22145:(We,j)=>{"use strict";var y;Object.defineProperty(j,"__esModule",{value:!0}),j.DiscrError=void 0,(y=j.DiscrError||(j.DiscrError={})).Tag="tag",y.Mapping="mapping"},98496:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(11867),b=_(64023),P=_(68261),H=_(79745),w=_(54458),O=_(77616),S=_(23463),B=_(3462),N=[H.default,y.default,b.default,(0,P.default)(!0),S.default,B.metadataVocabulary,B.contentVocabulary,w.default,O.default];j.default=N},61281:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.dynamicAnchor=void 0;const y=_(1038),b=_(23432),P=_(97692),H=_(84862),w={keyword:"$dynamicAnchor",schemaType:"string",code:B=>O(B,B.schema)};function O(B,N){const{gen:U,it:A}=B;A.schemaEnv.root.dynamicAnchors[N]=!0;const G=y._`${b.default.dynamicAnchors}${(0,y.getProperty)(N)}`,L="#"===A.errSchemaPath?A.validateName:function S(B){const{schemaEnv:N,schema:U,self:A}=B.it,{root:G,baseId:L,localRefs:z,meta:ee}=N.root,{schemaId:q}=A.opts,Z=new P.SchemaEnv({schema:U,schemaId:q,root:G,baseId:L,localRefs:z,meta:ee});return P.compileSchema.call(A,Z),(0,H.getValidate)(B,Z)}(B);U.if(y._`!${G}`,()=>U.assign(G,L))}j.dynamicAnchor=O,j.default=w},35207:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.dynamicRef=void 0;const y=_(1038),b=_(23432),P=_(84862),H={keyword:"$dynamicRef",schemaType:"string",code:O=>w(O,O.schema)};function w(O,S){const{gen:B,keyword:N,it:U}=O;if("#"!==S[0])throw new Error(`"${N}" only supports hash fragment reference`);const A=S.slice(1);if(U.allErrors)G();else{const z=B.let("valid",!1);G(z),O.ok(z)}function G(z){if(U.schemaEnv.root.dynamicAnchors[A]){const ee=B.let("_v",y._`${b.default.dynamicAnchors}${(0,y.getProperty)(A)}`);B.if(ee,L(ee,z),L(U.validateName,z))}else L(U.validateName,z)()}function L(z,ee){return ee?()=>B.block(()=>{(0,P.callRef)(O,z),B.let(ee,!0)}):()=>(0,P.callRef)(O,z)}}j.dynamicRef=w,j.default=H},79745:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(61281),b=_(35207),P=_(34028),H=_(65684);j.default=[y.default,b.default,P.default,H.default]},34028:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(61281),b=_(27006);j.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(H){H.schema?(0,y.dynamicAnchor)(H,""):(0,b.checkStrictMode)(H.it,"$recursiveAnchor: false is ignored")}}},65684:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(35207);j.default={keyword:"$recursiveRef",schemaType:"string",code:P=>(0,y.dynamicRef)(P,P.schema)}},98140:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038);j.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:H})=>y.str`must match format "${H}"`,params:({schemaCode:H})=>y._`{format: ${H}}`},code(H,w){const{gen:O,data:S,$data:B,schema:N,schemaCode:U,it:A}=H,{opts:G,errSchemaPath:L,schemaEnv:z,self:ee}=A;G.validateFormats&&(B?function q(){const J=O.scopeValue("formats",{ref:ee.formats,code:G.code.formats}),se=O.const("fDef",y._`${J}[${U}]`),ce=O.let("fType"),ae=O.let("format");O.if(y._`typeof ${se} == "object" && !(${se} instanceof RegExp)`,()=>O.assign(ce,y._`${se}.type || "string"`).assign(ae,y._`${se}.validate`),()=>O.assign(ce,y._`"string"`).assign(ae,se)),H.fail$data((0,y.or)(function fe(){return!1===G.strictSchema?y.nil:y._`${U} && !${ae}`}(),function he(){const we=z.$async?y._`(${se}.async ? await ${ae}(${S}) : ${ae}(${S}))`:y._`${ae}(${S})`,Me=y._`(typeof ${ae} == "function" ? ${we} : ${ae}.test(${S}))`;return y._`${ae} && ${ae} !== true && ${ce} === ${w} && !${Me}`}()))}():function Z(){const J=ee.formats[N];if(!J)return void function fe(){if(!1!==G.strictSchema)throw new Error(Me());function Me(){return`unknown format "${N}" ignored in schema at path "${L}"`}ee.logger.warn(Me())}();if(!0===J)return;const[se,ce,ae]=function he(Me){const Pe=Me instanceof RegExp?(0,y.regexpCode)(Me):G.code.formats?y._`${G.code.formats}${(0,y.getProperty)(N)}`:void 0,C=O.scopeValue("formats",{key:N,ref:Me,code:Pe});return"object"!=typeof Me||Me instanceof RegExp?["string",Me,C]:[Me.type||"string",Me.validate,y._`${C}.validate`]}(J);se===w&&H.pass(function we(){if("object"==typeof J&&!(J instanceof RegExp)&&J.async){if(!z.$async)throw new Error("async format in sync schema");return y._`await ${ae}(${S})`}return"function"==typeof ce?y._`${ae}(${S})`:y._`${ae}.test(${S})`}())}())}}},23463:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const b=[_(98140).default];j.default=b},3462:(We,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.contentVocabulary=j.metadataVocabulary=void 0,j.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],j.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(53037),b=_(85164),P=_(22705);j.default=[y.default,b.default,P.default]},77616:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(40425),b=_(89826);j.default=[y.default,b.default]},89826:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006);j.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:w}})=>y.str`must NOT have more than ${w} items`,params:({params:{len:w}})=>y._`{limit: ${w}}`},code(w){const{gen:O,schema:S,data:B,it:N}=w,U=N.items||0;if(!0===U)return;const A=O.const("len",y._`${B}.length`);if(!1===S)w.setParams({len:U}),w.fail(y._`${A} > ${U}`);else if("object"==typeof S&&!(0,b.alwaysValidSchema)(N,S)){const L=O.var("valid",y._`${A} <= ${U}`);O.if((0,y.not)(L),()=>function G(L,z){O.forRange("i",z,A,ee=>{w.subschema({keyword:"unevaluatedItems",dataProp:ee,dataPropType:b.Type.Num},L),N.allErrors||O.if((0,y.not)(L),()=>O.break())})}(L,U)),w.ok(L)}N.items=!0}}},40425:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006),P=_(23432);j.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:O})=>y._`{unevaluatedProperty: ${O.unevaluatedProperty}}`},code(O){const{gen:S,schema:B,data:N,errsCount:U,it:A}=O;if(!U)throw new Error("ajv implementation error");const{allErrors:G,props:L}=A;function z(Z){if(!1===B)return O.setParams({unevaluatedProperty:Z}),O.error(),void(G||S.break());if(!(0,b.alwaysValidSchema)(A,B)){const J=S.name("valid");O.subschema({keyword:"unevaluatedProperties",dataProp:Z,dataPropType:b.Type.Str},J),G||S.if((0,y.not)(J),()=>S.break())}}L instanceof y.Name?S.if(y._`${L} !== true`,()=>S.forIn("key",N,Z=>S.if(function ee(Z,J){return y._`!${Z} || !${Z}[${J}]`}(L,Z),()=>z(Z)))):!0!==L&&S.forIn("key",N,Z=>void 0===L?z(Z):S.if(function q(Z,J){const se=[];for(const ce in Z)!0===Z[ce]&&se.push(y._`${J} !== ${ce}`);return(0,y.and)(...se)}(L,Z),()=>z(Z))),A.props=!0,O.ok(y._`${U} === ${P.default.errors}`)}}},90796:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006),P=_(92281);j.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:O})=>y._`{allowedValue: ${O}}`},code(O){const{gen:S,data:B,$data:N,schemaCode:U,schema:A}=O;N||A&&"object"==typeof A?O.fail$data(y._`!${(0,b.useFunc)(S,P.default)}(${B}, ${U})`):O.fail(y._`${A} !== ${B}`)}}},53037:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(68032);j.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:y.error,code:P=>(0,y.validatePropertyDeps)(P)}},65266:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006),P=_(92281);j.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:O})=>y._`{allowedValues: ${O}}`},code(O){const{gen:S,data:B,$data:N,schema:U,schemaCode:A,it:G}=O;if(!N&&0===U.length)throw new Error("enum must have non-empty array");let z;const ee=()=>z??(z=(0,b.useFunc)(S,P.default));let q;if(U.length>=G.opts.loopEnum||N)q=S.let("valid"),O.block$data(q,function Z(){S.assign(q,!1),S.forOf("v",A,se=>S.if(y._`${ee()}(${B}, ${se})`,()=>S.assign(q,!0).break()))});else{if(!Array.isArray(U))throw new Error("ajv implementation error");const se=S.const("vSchema",A);q=(0,y.or)(...U.map((ce,ae)=>function J(se,ce){const ae=U[ce];return"object"==typeof ae&&null!==ae?y._`${ee()}(${B}, ${se}[${ce}])`:y._`${B} === ${ae}`}(se,ae)))}O.pass(q)}}},64023:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(78665),b=_(30554),P=_(13972),H=_(68753),w=_(99169),O=_(56454),S=_(85962),B=_(16598),N=_(90796),U=_(65266);j.default=[y.default,b.default,P.default,H.default,w.default,O.default,S.default,B.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},N.default,U.default]},22705:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(27006);j.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:P,parentSchema:H,it:w}){void 0===H.contains&&(0,y.checkStrictMode)(w,`"${P}" without "contains" is ignored`)}}},85962:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038);j.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:w})=>y.str`must NOT have ${"maxItems"===H?"more":"fewer"} than ${w} items`,params:({schemaCode:H})=>y._`{limit: ${H}}`},code(H){const{keyword:w,data:O,schemaCode:S}=H;H.fail$data(y._`${O}.length ${"maxItems"===w?y.operators.GT:y.operators.LT} ${S}`)}}},13972:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=_(27006),P=_(26488);j.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:O,schemaCode:S})=>y.str`must NOT have ${"maxLength"===O?"more":"fewer"} than ${S} characters`,params:({schemaCode:O})=>y._`{limit: ${O}}`},code(O){const{keyword:S,data:B,schemaCode:N,it:U}=O,A="maxLength"===S?y.operators.GT:y.operators.LT,G=!1===U.opts.unicode?y._`${B}.length`:y._`${(0,b.useFunc)(O.gen,P.default)}(${B})`;O.fail$data(y._`${G} ${A} ${N}`)}}},78665:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038),b=y.operators,P={maximum:{okStr:"<=",ok:b.LTE,fail:b.GT},minimum:{okStr:">=",ok:b.GTE,fail:b.LT},exclusiveMaximum:{okStr:"<",ok:b.LT,fail:b.GTE},exclusiveMinimum:{okStr:">",ok:b.GT,fail:b.LTE}},H={message:({keyword:O,schemaCode:S})=>y.str`must be ${P[O].okStr} ${S}`,params:({keyword:O,schemaCode:S})=>y._`{comparison: ${P[O].okStr}, limit: ${S}}`},w={keyword:Object.keys(P),type:"number",schemaType:"number",$data:!0,error:H,code(O){const{keyword:S,data:B,schemaCode:N}=O;O.fail$data(y._`${B} ${P[S].fail} ${N} || isNaN(${B})`)}};j.default=w},99169:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038);j.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:H,schemaCode:w})=>y.str`must NOT have ${"maxProperties"===H?"more":"fewer"} than ${w} properties`,params:({schemaCode:H})=>y._`{limit: ${H}}`},code(H){const{keyword:w,data:O,schemaCode:S}=H;H.fail$data(y._`Object.keys(${O}).length ${"maxProperties"===w?y.operators.GT:y.operators.LT} ${S}`)}}},30554:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(1038);j.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:H})=>y.str`must be multiple of ${H}`,params:({schemaCode:H})=>y._`{multipleOf: ${H}}`},code(H){const{gen:w,data:O,schemaCode:S,it:B}=H,N=B.opts.multipleOfPrecision,U=w.let("res"),A=N?y._`Math.abs(Math.round(${U}) - ${U}) > 1e-${N}`:y._`${U} !== parseInt(${U})`;H.fail$data(y._`(${S} === 0 || (${U} = ${O}/${S}, ${A}))`)}}},68753:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(42406),b=_(1038);j.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:w})=>b.str`must match pattern "${w}"`,params:({schemaCode:w})=>b._`{pattern: ${w}}`},code(w){const{data:O,$data:S,schema:B,schemaCode:N,it:U}=w,G=S?b._`(new RegExp(${N}, ${U.opts.unicodeRegExp?"u":""}))`:(0,y.usePattern)(w,B);w.fail$data(b._`!${G}.test(${O})`)}}},56454:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(42406),b=_(1038),P=_(27006);j.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:O}})=>b.str`must have required property '${O}'`,params:({params:{missingProperty:O}})=>b._`{missingProperty: ${O}}`},code(O){const{gen:S,schema:B,schemaCode:N,data:U,$data:A,it:G}=O,{opts:L}=G;if(!A&&0===B.length)return;const z=B.length>=L.loopRequired;if(G.allErrors?function ee(){if(z||A)O.block$data(b.nil,Z);else for(const se of B)(0,y.checkReportMissingProp)(O,se)}():function q(){const se=S.let("missing");if(z||A){const ce=S.let("valid",!0);O.block$data(ce,()=>function J(se,ce){O.setParams({missingProperty:se}),S.forOf(se,N,()=>{S.assign(ce,(0,y.propertyInData)(S,U,se,L.ownProperties)),S.if((0,b.not)(ce),()=>{O.error(),S.break()})},b.nil)}(se,ce)),O.ok(ce)}else S.if((0,y.checkMissingProp)(O,B,se)),(0,y.reportMissingProp)(O,se),S.else()}(),L.strictRequired){const se=O.parentSchema.properties,{definedProperties:ce}=O.it;for(const ae of B)void 0!==se?.[ae]||ce.has(ae)||(0,P.checkStrictMode)(G,`required property "${ae}" is not defined at "${G.schemaEnv.baseId+G.errSchemaPath}" (strictRequired)`,G.opts.strictRequired)}function Z(){S.forOf("prop",N,se=>{O.setParams({missingProperty:se}),S.if((0,y.noPropertyInData)(S,U,se,L.ownProperties),()=>O.error())})}}}},16598:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const y=_(55999),b=_(1038),P=_(27006),H=_(92281);j.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:S,j:B}})=>b.str`must NOT have duplicate items (items ## ${B} and ${S} are identical)`,params:({params:{i:S,j:B}})=>b._`{i: ${S}, j: ${B}}`},code(S){const{gen:B,data:N,$data:U,schema:A,parentSchema:G,schemaCode:L,it:z}=S;if(!U&&!A)return;const ee=B.let("valid"),q=G.items?(0,y.getSchemaTypes)(G.items):[];function se(ae,fe){const he=B.name("item"),we=(0,y.checkDataTypes)(q,he,z.opts.strictNumbers,y.DataType.Wrong),Me=B.const("indices",b._`{}`);B.for(b._`;${ae}--;`,()=>{B.let(he,b._`${N}[${ae}]`),B.if(we,b._`continue`),q.length>1&&B.if(b._`typeof ${he} == "string"`,b._`${he} += "_"`),B.if(b._`typeof ${Me}[${he}] == "number"`,()=>{B.assign(fe,b._`${Me}[${he}]`),S.error(),B.assign(ee,!1).break()}).code(b._`${Me}[${he}] = ${ae}`)})}function ce(ae,fe){const he=(0,P.useFunc)(B,H.default),we=B.name("outer");B.label(we).for(b._`;${ae}--;`,()=>B.for(b._`${fe} = ${ae}; ${fe}--;`,()=>B.if(b._`${he}(${N}[${ae}], ${N}[${fe}])`,()=>{S.error(),B.assign(ee,!1).break(we)})))}S.block$data(ee,function Z(){const ae=B.let("i",b._`${N}.length`),fe=B.let("j");S.setParams({i:ae,j:fe}),B.assign(ee,!0),B.if(b._`${ae} > 1`,()=>(function J(){return q.length>0&&!q.some(ae=>"object"===ae||"array"===ae)}()?se:ce)(ae,fe))},b._`${L} === false`),S.ok(ee)}}},68316:(We,j,_)=>{"use strict";const y=_(13981),b=_(22020),P="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function J(K){return+K!=K&&(K=0),S.alloc(+K)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function O(K){if(K>H)throw new RangeError('The value "'+K+'" is invalid for option "size"');const T=new Uint8Array(K);return Object.setPrototypeOf(T,S.prototype),T}function S(K,T,M){if("number"==typeof K){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return A(K)}return B(K,T,M)}function B(K,T,M){if("string"==typeof K)return function G(K,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!S.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const M=0|se(K,T);let Y=O(M);const pe=Y.write(K,T);return pe!==M&&(Y=Y.slice(0,pe)),Y}(K,T);if(ArrayBuffer.isView(K))return function z(K){if(ze(K,Uint8Array)){const T=new Uint8Array(K);return ee(T.buffer,T.byteOffset,T.byteLength)}return L(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(ze(K,ArrayBuffer)||K&&ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(K,SharedArrayBuffer)||K&&ze(K.buffer,SharedArrayBuffer)))return ee(K,T,M);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=K.valueOf&&K.valueOf();if(null!=Y&&Y!==K)return S.from(Y,T,M);const pe=function q(K){if(S.isBuffer(K)){const T=0|Z(K.length),M=O(T);return 0===M.length||K.copy(M,0,0,T),M}return void 0!==K.length?"number"!=typeof K.length||Dt(K.length)?O(0):L(K):"Buffer"===K.type&&Array.isArray(K.data)?L(K.data):void 0}(K);if(pe)return pe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return S.from(K[Symbol.toPrimitive]("string"),T,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function N(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function A(K){return N(K),O(K<0?0:0|Z(K))}function L(K){const T=K.length<0?0:0|Z(K.length),M=O(T);for(let Y=0;Y<T;Y+=1)M[Y]=255&K[Y];return M}function ee(K,T,M){if(T<0||K.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<T+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return Y=void 0===T&&void 0===M?new Uint8Array(K):void 0===M?new Uint8Array(K,T):new Uint8Array(K,T,M),Object.setPrototypeOf(Y,S.prototype),Y}function Z(K){if(K>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|K}function se(K,T){if(S.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const M=K.length,Y=arguments.length>2&&!0===arguments[2];if(!Y&&0===M)return 0;let pe=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ne(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Be(K).length;default:if(pe)return Y?-1:ne(K).length;T=(""+T).toLowerCase(),pe=!0}}function ce(K,T,M){let Y=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(T>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return x(this,T,M);case"utf8":case"utf-8":return m(this,T,M);case"ascii":return D(this,T,M);case"latin1":case"binary":return R(this,T,M);case"base64":return d(this,T,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,T,M);default:if(Y)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Y=!0}}function ae(K,T,M){const Y=K[T];K[T]=K[M],K[M]=Y}function fe(K,T,M,Y,pe){if(0===K.length)return-1;if("string"==typeof M?(Y=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=pe?0:K.length-1),M<0&&(M=K.length+M),M>=K.length){if(pe)return-1;M=K.length-1}else if(M<0){if(!pe)return-1;M=0}if("string"==typeof T&&(T=S.from(T,Y)),S.isBuffer(T))return 0===T.length?-1:he(K,T,M,Y,pe);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?pe?Uint8Array.prototype.indexOf.call(K,T,M):Uint8Array.prototype.lastIndexOf.call(K,T,M):he(K,[T],M,Y,pe);throw new TypeError("val must be string, number or Buffer")}function he(K,T,M,Y,pe){let It,ke=1,Ne=K.length,lt=T.length;if(void 0!==Y&&("ucs2"===(Y=String(Y).toLowerCase())||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(K.length<2||T.length<2)return-1;ke=2,Ne/=2,lt/=2,M/=2}function en(Kt,rn){return 1===ke?Kt[rn]:Kt.readUInt16BE(rn*ke)}if(pe){let Kt=-1;for(It=M;It<Ne;It++)if(en(K,It)===en(T,-1===Kt?0:It-Kt)){if(-1===Kt&&(Kt=It),It-Kt+1===lt)return Kt*ke}else-1!==Kt&&(It-=It-Kt),Kt=-1}else for(M+lt>Ne&&(M=Ne-lt),It=M;It>=0;It--){let Kt=!0;for(let rn=0;rn<lt;rn++)if(en(K,It+rn)!==en(T,rn)){Kt=!1;break}if(Kt)return It}return-1}function we(K,T,M,Y){M=Number(M)||0;const pe=K.length-M;Y?(Y=Number(Y))>pe&&(Y=pe):Y=pe;const ke=T.length;let Ne;for(Y>ke/2&&(Y=ke/2),Ne=0;Ne<Y;++Ne){const lt=parseInt(T.substr(2*Ne,2),16);if(Dt(lt))return Ne;K[M+Ne]=lt}return Ne}function Me(K,T,M,Y){return qe(ne(T,K.length-M),K,M,Y)}function Pe(K,T,M,Y){return qe(function le(K){const T=[];for(let M=0;M<K.length;++M)T.push(255&K.charCodeAt(M));return T}(T),K,M,Y)}function C(K,T,M,Y){return qe(Be(T),K,M,Y)}function a(K,T,M,Y){return qe(function Ae(K,T){let M,Y,pe;const ke=[];for(let Ne=0;Ne<K.length&&!((T-=2)<0);++Ne)M=K.charCodeAt(Ne),Y=M>>8,pe=M%256,ke.push(pe),ke.push(Y);return ke}(T,K.length-M),K,M,Y)}function d(K,T,M){return y.fromByteArray(0===T&&M===K.length?K:K.slice(T,M))}function m(K,T,M){M=Math.min(K.length,M);const Y=[];let pe=T;for(;pe<M;){const ke=K[pe];let Ne=null,lt=ke>239?4:ke>223?3:ke>191?2:1;if(pe+lt<=M){let en,It,Kt,rn;switch(lt){case 1:ke<128&&(Ne=ke);break;case 2:en=K[pe+1],128==(192&en)&&(rn=(31&ke)<<6|63&en,rn>127&&(Ne=rn));break;case 3:en=K[pe+1],It=K[pe+2],128==(192&en)&&128==(192&It)&&(rn=(15&ke)<<12|(63&en)<<6|63&It,rn>2047&&(rn<55296||rn>57343)&&(Ne=rn));break;case 4:en=K[pe+1],It=K[pe+2],Kt=K[pe+3],128==(192&en)&&128==(192&It)&&128==(192&Kt)&&(rn=(15&ke)<<18|(63&en)<<12|(63&It)<<6|63&Kt,rn>65535&&rn<1114112&&(Ne=rn))}}null===Ne?(Ne=65533,lt=1):Ne>65535&&(Ne-=65536,Y.push(Ne>>>10&1023|55296),Ne=56320|1023&Ne),Y.push(Ne),pe+=lt}return function E(K){const T=K.length;if(T<=p)return String.fromCharCode.apply(String,K);let M="",Y=0;for(;Y<T;)M+=String.fromCharCode.apply(String,K.slice(Y,Y+=p));return M}(Y)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function w(){try{const K=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(K,T),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(K,T,M){return B(K,T,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(K,T,M){return function U(K,T,M){return N(K),K<=0?O(K):void 0!==T?"string"==typeof M?O(K).fill(T,M):O(K).fill(T):O(K)}(K,T,M)},S.allocUnsafe=function(K){return A(K)},S.allocUnsafeSlow=function(K){return A(K)},S.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==S.prototype},S.compare=function(T,M){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),ze(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(T)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===M)return 0;let Y=T.length,pe=M.length;for(let ke=0,Ne=Math.min(Y,pe);ke<Ne;++ke)if(T[ke]!==M[ke]){Y=T[ke],pe=M[ke];break}return Y<pe?-1:pe<Y?1:0},S.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(T,M){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return S.alloc(0);let Y;if(void 0===M)for(M=0,Y=0;Y<T.length;++Y)M+=T[Y].length;const pe=S.allocUnsafe(M);let ke=0;for(Y=0;Y<T.length;++Y){let Ne=T[Y];if(ze(Ne,Uint8Array))ke+Ne.length>pe.length?(S.isBuffer(Ne)||(Ne=S.from(Ne)),Ne.copy(pe,ke)):Uint8Array.prototype.set.call(pe,Ne,ke);else{if(!S.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(pe,ke)}ke+=Ne.length}return pe},S.byteLength=se,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<T;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<T;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<T;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ce.apply(this,arguments)},S.prototype.equals=function(T){if(!S.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===S.compare(this,T)},S.prototype.inspect=function(){let T="";const M=j.INSPECT_MAX_BYTES;return T=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(T+=" ... "),"<Buffer "+T+">"},P&&(S.prototype[P]=S.prototype.inspect),S.prototype.compare=function(T,M,Y,pe,ke){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),!S.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===M&&(M=0),void 0===Y&&(Y=T?T.length:0),void 0===pe&&(pe=0),void 0===ke&&(ke=this.length),M<0||Y>T.length||pe<0||ke>this.length)throw new RangeError("out of range index");if(pe>=ke&&M>=Y)return 0;if(pe>=ke)return-1;if(M>=Y)return 1;if(this===T)return 0;let Ne=(ke>>>=0)-(pe>>>=0),lt=(Y>>>=0)-(M>>>=0);const en=Math.min(Ne,lt),It=this.slice(pe,ke),Kt=T.slice(M,Y);for(let rn=0;rn<en;++rn)if(It[rn]!==Kt[rn]){Ne=It[rn],lt=Kt[rn];break}return Ne<lt?-1:lt<Ne?1:0},S.prototype.includes=function(T,M,Y){return-1!==this.indexOf(T,M,Y)},S.prototype.indexOf=function(T,M,Y){return fe(this,T,M,Y,!0)},S.prototype.lastIndexOf=function(T,M,Y){return fe(this,T,M,Y,!1)},S.prototype.write=function(T,M,Y,pe){if(void 0===M)pe="utf8",Y=this.length,M=0;else if(void 0===Y&&"string"==typeof M)pe=M,Y=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(Y)?(Y>>>=0,void 0===pe&&(pe="utf8")):(pe=Y,Y=void 0)}const ke=this.length-M;if((void 0===Y||Y>ke)&&(Y=ke),T.length>0&&(Y<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let Ne=!1;for(;;)switch(pe){case"hex":return we(this,T,M,Y);case"utf8":case"utf-8":return Me(this,T,M,Y);case"ascii":case"latin1":case"binary":return Pe(this,T,M,Y);case"base64":return C(this,T,M,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,T,M,Y);default:if(Ne)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Ne=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(127&K[pe]);return Y}function R(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(K[pe]);return Y}function x(K,T,M){const Y=K.length;(!T||T<0)&&(T=0),(!M||M<0||M>Y)&&(M=Y);let pe="";for(let ke=T;ke<M;++ke)pe+=Xe[K[ke]];return pe}function s(K,T,M){const Y=K.slice(T,M);let pe="";for(let ke=0;ke<Y.length-1;ke+=2)pe+=String.fromCharCode(Y[ke]+256*Y[ke+1]);return pe}function v(K,T,M){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+T>M)throw new RangeError("Trying to access beyond buffer length")}function $(K,T,M,Y,pe,ke){if(!S.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>pe||T<ke)throw new RangeError('"value" argument is out of bounds');if(M+Y>K.length)throw new RangeError("Index out of range")}function F(K,T,M,Y,pe){ve(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,M}function Q(K,T,M,Y,pe){ve(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M+7]=ke,ke>>=8,K[M+6]=ke,ke>>=8,K[M+5]=ke,ke>>=8,K[M+4]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M+3]=Ne,Ne>>=8,K[M+2]=Ne,Ne>>=8,K[M+1]=Ne,Ne>>=8,K[M]=Ne,M+8}function de(K,T,M,Y,pe,ke){if(M+Y>K.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function De(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,4),b.write(K,T,M,Y,23,4),M+4}function Re(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,8),b.write(K,T,M,Y,52,8),M+8}S.prototype.slice=function(T,M){const Y=this.length;(T=~~T)<0?(T+=Y)<0&&(T=0):T>Y&&(T=Y),(M=void 0===M?Y:~~M)<0?(M+=Y)<0&&(M=0):M>Y&&(M=Y),M<T&&(M=T);const pe=this.subarray(T,M);return Object.setPrototypeOf(pe,S.prototype),pe},S.prototype.readUintLE=S.prototype.readUIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return pe},S.prototype.readUintBE=S.prototype.readUIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T+--M],ke=1;for(;M>0&&(ke*=256);)pe+=this[T+--M]*ke;return pe},S.prototype.readUint8=S.prototype.readUInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),this[T]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]|this[T+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]<<8|this[T+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},S.prototype.readBigUInt64LE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M+256*this[++T]+65536*this[++T]+this[++T]*2**24,ke=this[++T]+256*this[++T]+65536*this[++T]+Y*2**24;return BigInt(pe)+(BigInt(ke)<<BigInt(32))}),S.prototype.readBigUInt64BE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M*2**24+65536*this[++T]+256*this[++T]+this[++T],ke=this[++T]*2**24+65536*this[++T]+256*this[++T]+Y;return(BigInt(pe)<<BigInt(32))+BigInt(ke)}),S.prototype.readIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return ke*=128,pe>=ke&&(pe-=Math.pow(2,8*M)),pe},S.prototype.readIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=M,ke=1,Ne=this[T+--pe];for(;pe>0&&(ke*=256);)Ne+=this[T+--pe]*ke;return ke*=128,Ne>=ke&&(Ne-=Math.pow(2,8*M)),Ne},S.prototype.readInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},S.prototype.readInt16LE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T]|this[T+1]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt16BE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T+1]|this[T]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},S.prototype.readInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},S.prototype.readBigInt64LE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];return(void 0===M||void 0===Y)&&ge(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Y<<24))<<BigInt(32))+BigInt(M+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),S.prototype.readBigInt64BE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=(M<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(pe)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Y)}),S.prototype.readFloatLE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!0,23,4)},S.prototype.readFloatBE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!1,23,4)},S.prototype.readDoubleLE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!0,52,8)},S.prototype.readDoubleBE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=1,Ne=0;for(this[M]=255&T;++Ne<Y&&(ke*=256);)this[M+Ne]=T/ke&255;return M+Y},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=Y-1,Ne=1;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)this[M+ke]=T/Ne&255;return M+Y},S.prototype.writeUint8=S.prototype.writeUInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,255,0),this[M]=255&T,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M+3]=T>>>24,this[M+2]=T>>>16,this[M+1]=T>>>8,this[M]=255&T,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigUInt64LE=Ue(function(T,M=0){return F(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=Ue(function(T,M=0){return Q(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=0,Ne=1,lt=0;for(this[M]=255&T;++ke<Y&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke-1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeIntBE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=Y-1,Ne=1,lt=0;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke+1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,127,-128),T<0&&(T=255+T+1),this[M]=255&T,M+1},S.prototype.writeInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),this[M]=255&T,this[M+1]=T>>>8,this[M+2]=T>>>16,this[M+3]=T>>>24,M+4},S.prototype.writeInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigInt64LE=Ue(function(T,M=0){return F(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=Ue(function(T,M=0){return Q(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(T,M,Y){return De(this,T,M,!0,Y)},S.prototype.writeFloatBE=function(T,M,Y){return De(this,T,M,!1,Y)},S.prototype.writeDoubleLE=function(T,M,Y){return Re(this,T,M,!0,Y)},S.prototype.writeDoubleBE=function(T,M,Y){return Re(this,T,M,!1,Y)},S.prototype.copy=function(T,M,Y,pe){if(!S.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!pe&&0!==pe&&(pe=this.length),M>=T.length&&(M=T.length),M||(M=0),pe>0&&pe<Y&&(pe=Y),pe===Y||0===T.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),T.length-M<pe-Y&&(pe=T.length-M+Y);const ke=pe-Y;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,Y,pe):Uint8Array.prototype.set.call(T,this.subarray(Y,pe),M),ke},S.prototype.fill=function(T,M,Y,pe){if("string"==typeof T){if("string"==typeof M?(pe=M,M=0,Y=this.length):"string"==typeof Y&&(pe=Y,Y=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!S.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(1===T.length){const Ne=T.charCodeAt(0);("utf8"===pe&&Ne<128||"latin1"===pe)&&(T=Ne)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(M<0||this.length<M||this.length<Y)throw new RangeError("Out of range index");if(Y<=M)return this;let ke;if(M>>>=0,Y=void 0===Y?this.length:Y>>>0,T||(T=0),"number"==typeof T)for(ke=M;ke<Y;++ke)this[ke]=T;else{const Ne=S.isBuffer(T)?T:S.from(T,pe),lt=Ne.length;if(0===lt)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ke=0;ke<Y-M;++ke)this[ke+M]=Ne[ke%lt]}return this};const Ve={};function Ee(K,T,M){Ve[K]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function _e(K){let T="",M=K.length;const Y="-"===K[0]?1:0;for(;M>=Y+4;M-=3)T=`_${K.slice(M-3,M)}${T}`;return`${K.slice(0,M)}${T}`}function ve(K,T,M,Y,pe,ke){if(K>M||K<T){const Ne="bigint"==typeof T?"n":"";let lt;throw lt=ke>3?0===T||T===BigInt(0)?`>= 0${Ne} and < 2${Ne} ** ${8*(ke+1)}${Ne}`:`>= -(2${Ne} ** ${8*(ke+1)-1}${Ne}) and < 2 ** ${8*(ke+1)-1}${Ne}`:`>= ${T}${Ne} and <= ${M}${Ne}`,new Ve.ERR_OUT_OF_RANGE("value",lt,K)}!function Fe(K,T,M){Te(T,"offset"),(void 0===K[T]||void 0===K[T+M])&&ge(T,K.length-(M+1))}(Y,pe,ke)}function Te(K,T){if("number"!=typeof K)throw new Ve.ERR_INVALID_ARG_TYPE(T,"number",K)}function ge(K,T,M){throw Math.floor(K)!==K?(Te(K,M),new Ve.ERR_OUT_OF_RANGE(M||"offset","an integer",K)):T<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${T}`,K)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(K,T){return`The "${K}" argument must be of type number. Received type ${typeof T}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(K,T,M){let Y=`The value of "${K}" is out of range.`,pe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?pe=_e(String(M)):"bigint"==typeof M&&(pe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(pe=_e(pe)),pe+="n"),Y+=` It must be ${T}. Received ${pe}`,Y},RangeError);const me=/[^+/0-9A-Za-z-_]/g;function ne(K,T){let M;T=T||1/0;const Y=K.length;let pe=null;const ke=[];for(let Ne=0;Ne<Y;++Ne){if(M=K.charCodeAt(Ne),M>55295&&M<57344){if(!pe){if(M>56319){(T-=3)>-1&&ke.push(239,191,189);continue}if(Ne+1===Y){(T-=3)>-1&&ke.push(239,191,189);continue}pe=M;continue}if(M<56320){(T-=3)>-1&&ke.push(239,191,189),pe=M;continue}M=65536+(pe-55296<<10|M-56320)}else pe&&(T-=3)>-1&&ke.push(239,191,189);if(pe=null,M<128){if((T-=1)<0)break;ke.push(M)}else if(M<2048){if((T-=2)<0)break;ke.push(M>>6|192,63&M|128)}else if(M<65536){if((T-=3)<0)break;ke.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;ke.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return ke}function Be(K){return y.toByteArray(function te(K){if((K=(K=K.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function qe(K,T,M,Y){let pe;for(pe=0;pe<Y&&!(pe+M>=T.length||pe>=K.length);++pe)T[pe+M]=K[pe];return pe}function ze(K,T){return K instanceof T||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===T.name}function Dt(K){return K!=K}const Xe=function(){const K="0123456789abcdef",T=new Array(256);for(let M=0;M<16;++M){const Y=16*M;for(let pe=0;pe<16;++pe)T[Y+pe]=K[M]+K[pe]}return T}();function Ue(K){return typeof BigInt>"u"?mt:K}function mt(){throw new Error("BigInt not supported")}},14078:We=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}We.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},57062:(We,j,_)=>{"use strict";const{SymbolDispose:y}=_(56389),{AbortError:b,codes:P}=_(68154),{isNodeStream:H,isWebStream:w,kControllerErrorFunction:O}=_(32924),S=_(46017),{ERR_INVALID_ARG_TYPE:B}=P;let N;We.exports.addAbortSignal=function(G,L){if(((A,G)=>{if("object"!=typeof A||!("aborted"in A))throw new B("signal","AbortSignal",A)})(G),!H(L)&&!w(L))throw new B("stream",["ReadableStream","WritableStream","Stream"],L);return We.exports.addAbortSignalNoValidate(G,L)},We.exports.addAbortSignalNoValidate=function(A,G){if("object"!=typeof A||!("aborted"in A))return G;const L=H(G)?()=>{G.destroy(new b(void 0,{cause:A.reason}))}:()=>{G[O](new b(void 0,{cause:A.reason}))};if(A.aborted)L();else{N=N||_(13509).addAbortListener;const z=N(A,L);S(G,z[y])}return G}},16630:(We,j,_)=>{"use strict";const{StringPrototypeSlice:y,SymbolIterator:b,TypedArrayPrototypeSet:P,Uint8Array:H}=_(56389),{Buffer:w}=_(68316),{inspect:O}=_(13509);We.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(B){const N={data:B,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length}unshift(B){const N={data:B,next:this.head};0===this.length&&(this.tail=N),this.head=N,++this.length}shift(){if(0===this.length)return;const B=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,B}clear(){this.head=this.tail=null,this.length=0}join(B){if(0===this.length)return"";let N=this.head,U=""+N.data;for(;null!==(N=N.next);)U+=B+N.data;return U}concat(B){if(0===this.length)return w.alloc(0);const N=w.allocUnsafe(B>>>0);let U=this.head,A=0;for(;U;)P(N,U.data,A),A+=U.data.length,U=U.next;return N}consume(B,N){const U=this.head.data;if(B<U.length){const A=U.slice(0,B);return this.head.data=U.slice(B),A}return B===U.length?this.shift():N?this._getString(B):this._getBuffer(B)}first(){return this.head.data}*[b](){for(let B=this.head;B;B=B.next)yield B.data}_getString(B){let N="",U=this.head,A=0;do{const G=U.data;if(!(B>G.length)){B===G.length?(N+=G,++A,this.head=U.next?U.next:this.tail=null):(N+=y(G,0,B),this.head=U,U.data=y(G,B));break}N+=G,B-=G.length,++A}while(null!==(U=U.next));return this.length-=A,N}_getBuffer(B){const N=w.allocUnsafe(B),U=B;let A=this.head,G=0;do{const L=A.data;if(!(B>L.length)){B===L.length?(P(N,L,U-B),++G,this.head=A.next?A.next:this.tail=null):(P(N,new H(L.buffer,L.byteOffset,B),U-B),this.head=A,A.data=L.slice(B));break}P(N,L,U-B),B-=L.length,++G}while(null!==(A=A.next));return this.length-=G,N}[Symbol.for("nodejs.util.inspect.custom")](B,N){return O(this,{...N,depth:0,customInspect:!1})}}},373:(We,j,_)=>{"use strict";var y=_(29293).default;const{pipeline:b}=_(67843),P=_(13323),{destroyer:H}=_(96507),{isNodeStream:w,isReadable:O,isWritable:S,isWebStream:B,isTransformStream:N,isWritableStream:U,isReadableStream:A}=_(32924),{AbortError:G,codes:{ERR_INVALID_ARG_VALUE:L,ERR_MISSING_ARGS:z}}=_(68154),ee=_(46017);We.exports=function(...Z){if(0===Z.length)throw new z("streams");if(1===Z.length)return P.from(Z[0]);const J=[...Z];if("function"==typeof Z[0]&&(Z[0]=P.from(Z[0])),"function"==typeof Z[Z.length-1]){const d=Z.length-1;Z[d]=P.from(Z[d])}for(let d=0;d<Z.length;++d)if(w(Z[d])||B(Z[d])){if(d<Z.length-1&&!(O(Z[d])||A(Z[d])||N(Z[d])))throw new L(`streams[${d}]`,J[d],"must be readable");if(d>0&&!(S(Z[d])||U(Z[d])||N(Z[d])))throw new L(`streams[${d}]`,J[d],"must be writable")}let se,ce,ae,fe,he;const Me=Z[0],Pe=b(Z,function we(d){const m=fe;fe=null,m?m(d):d?he.destroy(d):!a&&!C&&he.destroy()}),C=!!(S(Me)||U(Me)||N(Me)),a=!!(O(Pe)||A(Pe)||N(Pe));if(he=new P({writableObjectMode:!(null==Me||!Me.writableObjectMode),readableObjectMode:!(null==Pe||!Pe.readableObjectMode),writable:C,readable:a}),C){if(w(Me))he._write=function(m,p,E){Me.write(m,p)?E():se=E},he._final=function(m){Me.end(),ce=m},Me.on("drain",function(){if(se){const m=se;se=null,m()}});else if(B(Me)){const p=(N(Me)?Me.writable:Me).getWriter();he._write=function(){var E=y(function*(D,R,x){try{yield p.ready,p.write(D).catch(()=>{}),x()}catch(s){x(s)}});return function(D,R,x){return E.apply(this,arguments)}}(),he._final=function(){var E=y(function*(D){try{yield p.ready,p.close().catch(()=>{}),ce=D}catch(R){D(R)}});return function(D){return E.apply(this,arguments)}}()}const d=N(Pe)?Pe.readable:Pe;ee(d,()=>{if(ce){const m=ce;ce=null,m()}})}if(a)if(w(Pe))Pe.on("readable",function(){if(ae){const d=ae;ae=null,d()}}),Pe.on("end",function(){he.push(null)}),he._read=function(){for(;;){const d=Pe.read();if(null===d)return void(ae=he._read);if(!he.push(d))return}};else if(B(Pe)){const m=(N(Pe)?Pe.readable:Pe).getReader();he._read=y(function*(){for(;;)try{const{value:p,done:E}=yield m.read();if(!he.push(p))return;if(E)return void he.push(null)}catch{return}})}return he._destroy=function(d,m){!d&&null!==fe&&(d=new G),ae=null,se=null,ce=null,null===fe?m(d):(fe=m,w(Pe)&&H(Pe,d))},he}},96507:(We,j,_)=>{"use strict";const y=_(40573),{aggregateTwoErrors:b,codes:{ERR_MULTIPLE_CALLBACK:P},AbortError:H}=_(68154),{Symbol:w}=_(56389),{kIsDestroyed:O,isDestroyed:S,isFinished:B,isServerRequest:N}=_(32924),U=w("kDestroy"),A=w("kConstruct");function G(C,a,d){C&&(a&&!a.errored&&(a.errored=C),d&&!d.errored&&(d.errored=C))}function z(C,a,d){let m=!1;function p(E){if(m)return;m=!0;const D=C._readableState,R=C._writableState;G(E,R,D),R&&(R.closed=!0),D&&(D.closed=!0),"function"==typeof d&&d(E),E?y.nextTick(ee,C,E):y.nextTick(q,C)}try{C._destroy(a||null,p)}catch(E){p(E)}}function ee(C,a){Z(C,a),q(C)}function q(C){const a=C._readableState,d=C._writableState;d&&(d.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=d&&d.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function Z(C,a){const d=C._readableState,m=C._writableState;null!=m&&m.errorEmitted||null!=d&&d.errorEmitted||(m&&(m.errorEmitted=!0),d&&(d.errorEmitted=!0),C.emit("error",a))}function se(C,a,d){const m=C._readableState,p=C._writableState;if(null!=p&&p.destroyed||null!=m&&m.destroyed)return this;null!=m&&m.autoDestroy||null!=p&&p.autoDestroy?C.destroy(a):a&&(p&&!p.errored&&(p.errored=a),m&&!m.errored&&(m.errored=a),d?y.nextTick(Z,C,a):Z(C,a))}function ae(C){let a=!1;function d(m){if(a)return void se(C,m??new P);a=!0;const p=C._readableState,E=C._writableState,D=E||p;p&&(p.constructed=!0),E&&(E.constructed=!0),D.destroyed?C.emit(U,m):m?se(C,m,!0):y.nextTick(fe,C)}try{C._construct(m=>{y.nextTick(d,m)})}catch(m){y.nextTick(d,m)}}function fe(C){C.emit(A)}function he(C){return C?.setHeader&&"function"==typeof C.abort}function we(C){C.emit("close")}function Me(C,a){C.emit("error",a),y.nextTick(we,C)}We.exports={construct:function ce(C,a){if("function"!=typeof C._construct)return;const d=C._readableState,m=C._writableState;d&&(d.constructed=!1),m&&(m.constructed=!1),C.once(A,a),!(C.listenerCount(A)>1)&&y.nextTick(ae,C)},destroyer:function Pe(C,a){!C||S(C)||(!a&&!B(C)&&(a=new H),N(C)?(C.socket=null,C.destroy(a)):he(C)?C.abort():he(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?y.nextTick(Me,C,a):y.nextTick(we,C),C.destroyed||(C[O]=!0))},destroy:function L(C,a){const d=this._readableState,m=this._writableState,p=m||d;return null!=m&&m.destroyed||null!=d&&d.destroyed?("function"==typeof a&&a(),this):(G(C,m,d),m&&(m.destroyed=!0),d&&(d.destroyed=!0),p.constructed?z(this,C,a):this.once(U,function(E){z(this,b(E,C),a)}),this)},undestroy:function J(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:se}},13323:(We,j,_)=>{"use strict";const{ObjectDefineProperties:y,ObjectGetOwnPropertyDescriptor:b,ObjectKeys:P,ObjectSetPrototypeOf:H}=_(56389);We.exports=S;const w=_(84553),O=_(30009);H(S.prototype,w.prototype),H(S,w);{const A=P(O.prototype);for(let G=0;G<A.length;G++){const L=A[G];S.prototype[L]||(S.prototype[L]=O.prototype[L])}}function S(A){if(!(this instanceof S))return new S(A);w.call(this,A),O.call(this,A),A?(this.allowHalfOpen=!1!==A.allowHalfOpen,!1===A.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===A.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let B,U;function N(){return void 0===B&&(B={}),B}y(S.prototype,{writable:{__proto__:null,...b(O.prototype,"writable")},writableHighWaterMark:{__proto__:null,...b(O.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...b(O.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...b(O.prototype,"writableBuffer")},writableLength:{__proto__:null,...b(O.prototype,"writableLength")},writableFinished:{__proto__:null,...b(O.prototype,"writableFinished")},writableCorked:{__proto__:null,...b(O.prototype,"writableCorked")},writableEnded:{__proto__:null,...b(O.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...b(O.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(A){this._readableState&&this._writableState&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}}}),S.fromWeb=function(A,G){return N().newStreamDuplexFromReadableWritablePair(A,G)},S.toWeb=function(A){return N().newReadableWritablePairFromDuplex(A)},S.from=function(A){return U||(U=_(44425)),U(A,"body")}},44425:(We,j,_)=>{var y=_(29293).default,b=_(53344).default,P=_(42958).default;const H=_(40573),w=_(68316),{isReadable:O,isWritable:S,isIterable:B,isNodeStream:N,isReadableNodeStream:U,isWritableNodeStream:A,isDuplexNodeStream:G,isReadableStream:L,isWritableStream:z}=_(32924),ee=_(46017),{AbortError:q,codes:{ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_RETURN_VALUE:J}}=_(68154),{destroyer:se}=_(96507),ce=_(13323),ae=_(84553),fe=_(30009),{createDeferredPromise:he}=_(13509),we=_(45737),Me=globalThis.Blob||w.Blob,Pe=typeof Me<"u"?function(D){return D instanceof Me}:function(D){return!1},C=globalThis.AbortController||_(9465).AbortController,{FunctionPrototypeCall:a}=_(56389);class d extends ce{constructor(D){super(D),!1===D?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function p(E){const D=E.readable&&"function"!=typeof E.readable.read?ae.wrap(E.readable):E.readable,R=E.writable;let v,$,F,Q,de,x=!!O(D),s=!!S(R);function De(Re){const Ve=Q;Q=null,Ve?Ve(Re):Re&&de.destroy(Re)}return de=new d({readableObjectMode:!(null==D||!D.readableObjectMode),writableObjectMode:!(null==R||!R.writableObjectMode),readable:x,writable:s}),s&&(ee(R,Re=>{s=!1,Re&&se(D,Re),De(Re)}),de._write=function(Re,Ve,Ee){R.write(Re,Ve)?Ee():v=Ee},de._final=function(Re){R.end(),$=Re},R.on("drain",function(){if(v){const Re=v;v=null,Re()}}),R.on("finish",function(){if($){const Re=$;$=null,Re()}})),x&&(ee(D,Re=>{x=!1,Re&&se(D,Re),De(Re)}),D.on("readable",function(){if(F){const Re=F;F=null,Re()}}),D.on("end",function(){de.push(null)}),de._read=function(){for(;;){const Re=D.read();if(null===Re)return void(F=de._read);if(!de.push(Re))return}}),de._destroy=function(Re,Ve){!Re&&null!==Q&&(Re=new q),F=null,v=null,$=null,null===Q?Ve(Re):(Q=Ve,se(R,Re),se(D,Re))},de}We.exports=function E(D,R){if(G(D))return D;if(U(D))return p({readable:D});if(A(D))return p({writable:D});if(N(D))return p({writable:!1,readable:!1});if(L(D))return p({readable:ae.fromWeb(D)});if(z(D))return p({writable:fe.fromWeb(D)});if("function"==typeof D){const{value:s,write:v,final:$,destroy:F}=function m(E){let{promise:D,resolve:R}=he();const x=new C,s=x.signal;return{value:E(P(function*(){for(;;){const $=D;D=null;const{chunk:F,done:Q,cb:de}=yield b($);if(H.nextTick(de),Q)return;if(s.aborted)throw new q(void 0,{cause:s.reason});({promise:D,resolve:R}=he()),yield F}})(),{signal:s}),write($,F,Q){const de=R;R=null,de({chunk:$,done:!1,cb:Q})},final($){const F=R;R=null,F({done:!0,cb:$})},destroy($,F){x.abort(),F($)}}}(D);if(B(s))return we(d,s,{objectMode:!0,write:v,final:$,destroy:F});const Q=s?.then;if("function"==typeof Q){let de;const De=a(Q,s,Re=>{if(null!=Re)throw new J("nully","body",Re)},Re=>{se(de,Re)});return de=new d({objectMode:!0,readable:!1,write:v,final(Re){$(y(function*(){try{yield De,H.nextTick(Re,null)}catch(Ve){H.nextTick(Re,Ve)}}))},destroy:F})}throw new J("Iterable, AsyncIterable or AsyncFunction",R,s)}if(Pe(D))return E(D.arrayBuffer());if(B(D))return we(d,D,{objectMode:!0,writable:!1});if(L(D?.readable)&&z(D?.writable))return d.fromWeb(D);if("object"==typeof D?.writable||"object"==typeof D?.readable)return p({readable:null!=D&&D.readable?U(D?.readable)?D?.readable:E(D.readable):void 0,writable:null!=D&&D.writable?A(D?.writable)?D?.writable:E(D.writable):void 0});const x=D?.then;if("function"==typeof x){let s;return a(x,D,v=>{null!=v&&s.push(v),s.push(null)},v=>{se(s,v)}),s=new d({objectMode:!0,writable:!1,read(){}})}throw new Z(R,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],D)}},46017:(We,j,_)=>{const y=_(40573),{AbortError:b,codes:P}=_(68154),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:w}=P,{kEmptyObject:O,once:S}=_(13509),{validateAbortSignal:B,validateFunction:N,validateObject:U,validateBoolean:A}=_(99852),{Promise:G,PromisePrototypeThen:L,SymbolDispose:z}=_(56389),{isClosed:ee,isReadable:q,isReadableNodeStream:Z,isReadableStream:J,isReadableFinished:se,isReadableErrored:ce,isWritable:ae,isWritableNodeStream:fe,isWritableStream:he,isWritableFinished:we,isWritableErrored:Me,isNodeStream:Pe,willEmitClose:C,kIsClosedPromise:a}=_(32924);let d;const p=()=>{};function E(x,s,v){var $,F;if(2===arguments.length?(v=s,s=O):null==s?s=O:U(s,"options"),N(v,"callback"),B(s.signal,"options.signal"),v=S(v),J(x)||he(x))return function D(x,s,v){let $=!1,F=p;if(s.signal)if(F=()=>{$=!0,v.call(x,new b(void 0,{cause:s.signal.reason}))},s.signal.aborted)y.nextTick(F);else{d=d||_(13509).addAbortListener;const de=d(s.signal,F),De=v;v=S((...Re)=>{de[z](),De.apply(x,Re)})}const Q=(...de)=>{$||y.nextTick(()=>v.apply(x,de))};return L(x[a].promise,Q,Q),p}(x,s,v);if(!Pe(x))throw new H("stream",["ReadableStream","WritableStream","Stream"],x);const Q=null!==($=s.readable)&&void 0!==$?$:Z(x),de=null!==(F=s.writable)&&void 0!==F?F:fe(x),De=x._writableState,Re=x._readableState,Ve=()=>{x.writable||Fe()};let Ee=C(x)&&Z(x)===Q&&fe(x)===de,_e=we(x,!1);const Fe=()=>{_e=!0,x.destroyed&&(Ee=!1),(!Ee||x.readable&&!Q)&&(!Q||ve)&&v.call(x)};let ve=se(x,!1);const Te=()=>{ve=!0,x.destroyed&&(Ee=!1),(!Ee||x.writable&&!de)&&(!de||_e)&&v.call(x)},ge=Be=>{v.call(x,Be)};let me=ee(x);const te=()=>{me=!0;const Be=Me(x)||ce(x);return Be&&"boolean"!=typeof Be?v.call(x,Be):Q&&!ve&&Z(x,!0)&&!se(x,!1)?v.call(x,new w):!de||_e||we(x,!1)?void v.call(x):v.call(x,new w)},ne=()=>{me=!0;const Be=Me(x)||ce(x);if(Be&&"boolean"!=typeof Be)return v.call(x,Be);v.call(x)},le=()=>{x.req.on("finish",Fe)};!function m(x){return x.setHeader&&"function"==typeof x.abort}(x)?de&&!De&&(x.on("end",Ve),x.on("close",Ve)):(x.on("complete",Fe),Ee||x.on("abort",te),x.req?le():x.on("request",le)),!Ee&&"boolean"==typeof x.aborted&&x.on("aborted",te),x.on("end",Te),x.on("finish",Fe),!1!==s.error&&x.on("error",ge),x.on("close",te),me?y.nextTick(te):null!=De&&De.errorEmitted||null!=Re&&Re.errorEmitted?Ee||y.nextTick(ne):(!Q&&(!Ee||q(x))&&(_e||!1===ae(x))||!de&&(!Ee||ae(x))&&(ve||!1===q(x))||Re&&x.req&&x.aborted)&&y.nextTick(ne);const Ae=()=>{v=p,x.removeListener("aborted",te),x.removeListener("complete",Fe),x.removeListener("abort",te),x.removeListener("request",le),x.req&&x.req.removeListener("finish",Fe),x.removeListener("end",Ve),x.removeListener("close",Ve),x.removeListener("finish",Fe),x.removeListener("end",Te),x.removeListener("error",ge),x.removeListener("close",te)};if(s.signal&&!me){const Be=()=>{const qe=v;Ae(),qe.call(x,new b(void 0,{cause:s.signal.reason}))};if(s.signal.aborted)y.nextTick(Be);else{d=d||_(13509).addAbortListener;const qe=d(s.signal,Be),ze=v;v=S((...Dt)=>{qe[z](),ze.apply(x,Dt)})}}return Ae}We.exports=E,We.exports.finished=function R(x,s){var v;let $=!1;return null===s&&(s=O),null!==(v=s)&&void 0!==v&&v.cleanup&&(A(s.cleanup,"cleanup"),$=s.cleanup),new G((F,Q)=>{const de=E(x,s,De=>{$&&de(),De?Q(De):F()})})}},45737:(We,j,_)=>{"use strict";var y=_(29293).default;const b=_(40573),{PromisePrototypeThen:P,SymbolAsyncIterator:H,SymbolIterator:w}=_(56389),{Buffer:O}=_(68316),{ERR_INVALID_ARG_TYPE:S,ERR_STREAM_NULL_VALUES:B}=_(68154).codes;We.exports=function N(U,A,G){let L,z;if("string"==typeof A||A instanceof O)return new U({objectMode:!0,...G,read(){this.push(A),this.push(null)}});if(A&&A[H])z=!0,L=A[H]();else{if(!A||!A[w])throw new S("iterable",["Iterable"],A);z=!1,L=A[w]()}const ee=new U({objectMode:!0,highWaterMark:1,...G});let q=!1;function J(){return(J=y(function*(ae){if(null!=ae&&"function"==typeof L.throw){const{value:we,done:Me}=yield L.throw(ae);if(yield we,Me)return}if("function"==typeof L.return){const{value:we}=yield L.return();yield we}})).apply(this,arguments)}function ce(){return(ce=y(function*(){for(;;){try{const{value:ae,done:fe}=z?yield L.next():L.next();if(fe)ee.push(null);else{const he=ae&&"function"==typeof ae.then?yield ae:ae;if(null===he)throw q=!1,new B;if(ee.push(he))continue;q=!1}}catch(ae){ee.destroy(ae)}break}})).apply(this,arguments)}return ee._read=function(){q||(q=!0,function se(){ce.apply(this,arguments)}())},ee._destroy=function(ae,fe){P(function Z(ae){return J.apply(this,arguments)}(ae),()=>b.nextTick(fe,ae),he=>b.nextTick(fe,he||ae))},ee}},91242:(We,j,_)=>{"use strict";const{ArrayIsArray:y,ObjectSetPrototypeOf:b}=_(56389),{EventEmitter:P}=_(44356);function H(O){P.call(this,O)}function w(O,S,B){if("function"==typeof O.prependListener)return O.prependListener(S,B);O._events&&O._events[S]?y(O._events[S])?O._events[S].unshift(B):O._events[S]=[B,O._events[S]]:O.on(S,B)}b(H.prototype,P.prototype),b(H,P),H.prototype.pipe=function(O,S){const B=this;function N(q){O.writable&&!1===O.write(q)&&B.pause&&B.pause()}function U(){B.readable&&B.resume&&B.resume()}B.on("data",N),O.on("drain",U),!O._isStdio&&(!S||!1!==S.end)&&(B.on("end",G),B.on("close",L));let A=!1;function G(){A||(A=!0,O.end())}function L(){A||(A=!0,"function"==typeof O.destroy&&O.destroy())}function z(q){ee(),0===P.listenerCount(this,"error")&&this.emit("error",q)}function ee(){B.removeListener("data",N),O.removeListener("drain",U),B.removeListener("end",G),B.removeListener("close",L),B.removeListener("error",z),O.removeListener("error",z),B.removeListener("end",ee),B.removeListener("close",ee),O.removeListener("close",ee)}return w(B,"error",z),w(O,"error",z),B.on("end",ee),B.on("close",ee),O.on("close",ee),O.emit("pipe",B),O},We.exports={Stream:H,prependListener:w}},21840:(We,j,_)=>{"use strict";var y=_(29293).default,b=_(93513).default,P=_(82881).default,H=_(53344).default,w=_(42958).default;const O=globalThis.AbortController||_(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:S,ERR_INVALID_ARG_TYPE:B,ERR_MISSING_ARGS:N,ERR_OUT_OF_RANGE:U},AbortError:A}=_(68154),{validateAbortSignal:G,validateInteger:L,validateObject:z}=_(99852),ee=_(56389).Symbol("kWeak"),q=_(56389).Symbol("kResistStopPropagation"),{finished:Z}=_(46017),J=_(373),{addAbortSignalNoValidate:se}=_(57062),{isWritable:ce,isNodeStream:ae}=_(32924),{deprecate:fe}=_(13509),{ArrayPrototypePush:he,Boolean:we,MathFloor:Me,Number:Pe,NumberIsNaN:C,Promise:a,PromiseReject:d,PromiseResolve:m,PromisePrototypeThen:p,Symbol:E}=_(56389),D=E("kEmpty"),R=E("kEof");function s(Be,qe){if("function"!=typeof Be)throw new B("fn",["Function","AsyncFunction"],Be);null!=qe&&z(qe,"options"),null!=qe?.signal&&G(qe.signal,"options.signal");let ze=1;null!=qe?.concurrency&&(ze=Me(qe.concurrency));let Dt=ze-1;return null!=qe?.highWaterMark&&(Dt=Me(qe.highWaterMark)),L(ze,"options.concurrency",1),L(Dt,"options.highWaterMark",0),Dt+=ze,function(){var Xe=w(function*(){const mt=_(13509).AbortSignalAny([qe?.signal].filter(we)),K=this,T=[],M={signal:mt};let Y,pe,ke=!1,Ne=0;function lt(){ke=!0,en()}function en(){Ne-=1,It()}function It(){pe&&!ke&&Ne<ze&&T.length<Dt&&(pe(),pe=null)}function rn(){return(rn=y(function*(){try{var ar,gn=!1,ln=!1;try{for(var cn,Cn=P(K);gn=!(cn=yield Cn.next()).done;gn=!1){let Zt=cn.value;if(ke)return;if(mt.aborted)throw new A;try{if(Zt=Be(Zt,M),Zt===D)continue;Zt=m(Zt)}catch(vt){Zt=d(vt)}Ne+=1,p(Zt,en,lt),T.push(Zt),Y&&(Y(),Y=null),!ke&&(T.length>=Dt||Ne>=ze)&&(yield new a(vt=>{pe=vt}))}}catch(Zt){ln=!0,ar=Zt}finally{try{gn&&null!=Cn.return&&(yield Cn.return())}finally{if(ln)throw ar}}T.push(R)}catch(Zt){const vt=d(Zt);p(vt,en,lt),T.push(vt)}finally{ke=!0,Y&&(Y(),Y=null)}})).apply(this,arguments)}!function Kt(){rn.apply(this,arguments)}();try{for(;;){for(;T.length>0;){const gn=yield H(T[0]);if(gn===R)return;if(mt.aborted)throw new A;gn!==D&&(yield gn),T.shift(),It()}yield H(new a(gn=>{Y=gn}))}}finally{ke=!0,pe&&(pe(),pe=null)}});return function Ue(){return Xe.apply(this,arguments)}}().call(this)}function $(Be){return F.apply(this,arguments)}function F(){return(F=y(function*(Be,qe=void 0){var Xe,ze=!1,Dt=!1;try{for(var Ue=P(_e.call(this,Be,qe));ze=!(yield Ue.next()).done;ze=!1)return!0}catch(K){Dt=!0,Xe=K}finally{try{ze&&null!=Ue.return&&(yield Ue.return())}finally{if(Dt)throw Xe}}return!1})).apply(this,arguments)}function de(){return(de=y(function*(Be,qe=void 0){if("function"!=typeof Be)throw new B("fn",["Function","AsyncFunction"],Be);return!(yield $.call(this,y(function*(...ze){return!(yield Be(...ze))}),qe))})).apply(this,arguments)}function Re(){return(Re=y(function*(Be,qe){var Xe,ze=!1,Dt=!1;try{for(var mt,Ue=P(_e.call(this,Be,qe));ze=!(mt=yield Ue.next()).done;ze=!1)return mt.value}catch(K){Dt=!0,Xe=K}finally{try{ze&&null!=Ue.return&&(yield Ue.return())}finally{if(Dt)throw Xe}}})).apply(this,arguments)}function Ee(){return Ee=y(function*(Be,qe){if("function"!=typeof Be)throw new B("fn",["Function","AsyncFunction"],Be);function Dt(){return(Dt=y(function*(M,Y){return yield Be(M,Y),D})).apply(this,arguments)}var mt,Xe=!1,Ue=!1;try{for(var K=P(s.call(this,function ze(M,Y){return Dt.apply(this,arguments)},qe));Xe=!(yield K.next()).done;Xe=!1);}catch(M){Ue=!0,mt=M}finally{try{Xe&&null!=K.return&&(yield K.return())}finally{if(Ue)throw mt}}}),Ee.apply(this,arguments)}function _e(Be,qe){if("function"!=typeof Be)throw new B("fn",["Function","AsyncFunction"],Be);function Dt(){return(Dt=y(function*(Xe,Ue){return(yield Be(Xe,Ue))?Xe:D})).apply(this,arguments)}return s.call(this,function ze(Xe,Ue){return Dt.apply(this,arguments)},qe)}class Fe extends N{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Te(){return Te=y(function*(Be,qe,ze){var Dt;if("function"!=typeof Be)throw new B("reducer",["Function","AsyncFunction"],Be);null!=ze&&z(ze,"options"),null!=ze?.signal&&G(ze.signal,"options.signal");let Xe=arguments.length>1;if(null!=ze&&null!==(Dt=ze.signal)&&void 0!==Dt&&Dt.aborted){const lt=new A(void 0,{cause:ze.signal.reason});throw this.once("error",()=>{}),yield Z(this.destroy(lt)),lt}const Ue=new O,mt=Ue.signal;null!=ze&&ze.signal&&ze.signal.addEventListener("abort",()=>Ue.abort(),{once:!0,[ee]:this,[q]:!0});let K=!1;try{var Y,T=!1,M=!1;try{for(var ke,pe=P(this);T=!(ke=yield pe.next()).done;T=!1){const lt=ke.value;var Ne;if(K=!0,null!=ze&&null!==(Ne=ze.signal)&&void 0!==Ne&&Ne.aborted)throw new A;Xe?qe=yield Be(qe,lt,{signal:mt}):(qe=lt,Xe=!0)}}catch(lt){M=!0,Y=lt}finally{try{T&&null!=pe.return&&(yield pe.return())}finally{if(M)throw Y}}if(!K&&!Xe)throw new Fe}finally{Ue.abort()}return qe}),Te.apply(this,arguments)}function me(){return(me=y(function*(Be){null!=Be&&z(Be,"options"),null!=Be?.signal&&G(Be.signal,"options.signal");const qe=[];var Xe,ze=!1,Dt=!1;try{for(var mt,Ue=P(this);ze=!(mt=yield Ue.next()).done;ze=!1){const T=mt.value;var K;if(null!=Be&&null!==(K=Be.signal)&&void 0!==K&&K.aborted)throw new A(void 0,{cause:Be.signal.reason});he(qe,T)}}catch(T){Dt=!0,Xe=T}finally{try{ze&&null!=Ue.return&&(yield Ue.return())}finally{if(Dt)throw Xe}}return qe})).apply(this,arguments)}function ne(Be){if(Be=Pe(Be),C(Be))return 0;if(Be<0)throw new U("number",">= 0",Be);return Be}We.exports.streamReturningOperators={asIndexedPairs:fe(function v(Be=void 0){return null!=Be&&z(Be,"options"),null!=Be?.signal&&G(Be.signal,"options.signal"),function(){var qe=w(function*(){let Dt=0;var mt,Xe=!1,Ue=!1;try{for(var T,K=P(this);Xe=!(T=yield H(K.next())).done;Xe=!1){const Y=T.value;var M;if(null!=Be&&null!==(M=Be.signal)&&void 0!==M&&M.aborted)throw new A({cause:Be.signal.reason});yield[Dt++,Y]}}catch(Y){Ue=!0,mt=Y}finally{try{Xe&&null!=K.return&&(yield H(K.return()))}finally{if(Ue)throw mt}}});return function ze(){return qe.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function le(Be,qe=void 0){return null!=qe&&z(qe,"options"),null!=qe?.signal&&G(qe.signal,"options.signal"),Be=ne(Be),function(){var ze=w(function*(){var Xe;if(null!=qe&&null!==(Xe=qe.signal)&&void 0!==Xe&&Xe.aborted)throw new A;var K,Ue=!1,mt=!1;try{for(var M,T=P(this);Ue=!(M=yield H(T.next())).done;Ue=!1){const pe=M.value;var Y;if(null!=qe&&null!==(Y=qe.signal)&&void 0!==Y&&Y.aborted)throw new A;Be--<=0&&(yield pe)}}catch(pe){mt=!0,K=pe}finally{try{Ue&&null!=T.return&&(yield H(T.return()))}finally{if(mt)throw K}}});return function Dt(){return ze.apply(this,arguments)}}().call(this)},filter:_e,flatMap:function te(Be,qe){const ze=s.call(this,Be,qe);return function(){var Dt=w(function*(){var K,Ue=!1,mt=!1;try{for(var M,T=P(ze);Ue=!(M=yield H(T.next())).done;Ue=!1){const Y=M.value;yield*b(P(Y),H)}}catch(Y){mt=!0,K=Y}finally{try{Ue&&null!=T.return&&(yield H(T.return()))}finally{if(mt)throw K}}});return function Xe(){return Dt.apply(this,arguments)}}().call(this)},map:s,take:function Ae(Be,qe=void 0){return null!=qe&&z(qe,"options"),null!=qe?.signal&&G(qe.signal,"options.signal"),Be=ne(Be),function(){var ze=w(function*(){var Xe;if(null!=qe&&null!==(Xe=qe.signal)&&void 0!==Xe&&Xe.aborted)throw new A;var K,Ue=!1,mt=!1;try{for(var M,T=P(this);Ue=!(M=yield H(T.next())).done;Ue=!1){const pe=M.value;var Y;if(null!=qe&&null!==(Y=qe.signal)&&void 0!==Y&&Y.aborted)throw new A;if(Be-- >0&&(yield pe),Be<=0)return}}catch(pe){mt=!0,K=pe}finally{try{Ue&&null!=T.return&&(yield H(T.return()))}finally{if(mt)throw K}}});return function Dt(){return ze.apply(this,arguments)}}().call(this)},compose:function x(Be,qe){if(null!=qe&&z(qe,"options"),null!=qe?.signal&&G(qe.signal,"options.signal"),ae(Be)&&!ce(Be))throw new S("stream",Be,"must be writable");const ze=J(this,Be);return null!=qe&&qe.signal&&se(qe.signal,ze),ze}},We.exports.promiseReturningOperators={every:function Q(Be){return de.apply(this,arguments)},forEach:function Ve(Be,qe){return Ee.apply(this,arguments)},reduce:function ve(Be,qe,ze){return Te.apply(this,arguments)},toArray:function ge(Be){return me.apply(this,arguments)},some:$,find:function De(Be,qe){return Re.apply(this,arguments)}}},59447:(We,j,_)=>{"use strict";const{ObjectSetPrototypeOf:y}=_(56389);We.exports=P;const b=_(71981);function P(H){if(!(this instanceof P))return new P(H);b.call(this,H)}y(P.prototype,b.prototype),y(P,b),P.prototype._transform=function(H,w,O){O(null,H)}},67843:(We,j,_)=>{var y=_(29293).default,b=_(42958).default,P=_(53344).default,H=_(93513).default,w=_(82881).default;const O=_(40573),{ArrayIsArray:S,Promise:B,SymbolAsyncIterator:N,SymbolDispose:U}=_(56389),A=_(46017),{once:G}=_(13509),L=_(96507),z=_(13323),{aggregateTwoErrors:ee,codes:{ERR_INVALID_ARG_TYPE:q,ERR_INVALID_RETURN_VALUE:Z,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:se,ERR_STREAM_PREMATURE_CLOSE:ce},AbortError:ae}=_(68154),{validateFunction:fe,validateAbortSignal:he}=_(99852),{isIterable:we,isReadable:Me,isReadableNodeStream:Pe,isNodeStream:C,isTransformStream:a,isWebStream:d,isReadableStream:m,isReadableFinished:p}=_(32924),E=globalThis.AbortController||_(9465).AbortController;let D,R,x;function s(ve,Te,ge){let me=!1;return ve.on("close",()=>{me=!0}),{destroy:ne=>{me||(me=!0,L.destroyer(ve,ne||new se("pipe")))},cleanup:A(ve,{readable:Te,writable:ge},ne=>{me=!ne})}}function $(ve){if(we(ve))return ve;if(Pe(ve))return function F(ve){return Q.apply(this,arguments)}(ve);throw new q("val",["Readable","Iterable","AsyncIterable"],ve)}function Q(){return(Q=b(function*(ve){R||(R=_(84553)),yield*H(w(R.prototype[N].call(ve)),P)})).apply(this,arguments)}function de(ve,Te,ge,me){return De.apply(this,arguments)}function De(){return(De=y(function*(ve,Te,ge,{end:me}){let te,ne=null;const le=mt=>{if(mt&&(te=mt),ne){const K=ne;ne=null,K()}},Ae=()=>new B((mt,K)=>{te?K(te):ne=()=>{te?K(te):mt()}});Te.on("drain",le);const Be=A(Te,{readable:!1},le);try{Te.writableNeedDrain&&(yield Ae());var Dt,qe=!1,ze=!1;try{for(var Ue,Xe=w(ve);qe=!(Ue=yield Xe.next()).done;qe=!1)Te.write(Ue.value)||(yield Ae())}catch(mt){ze=!0,Dt=mt}finally{try{qe&&null!=Xe.return&&(yield Xe.return())}finally{if(ze)throw Dt}}me&&(Te.end(),yield Ae()),ge()}catch(mt){ge(te!==mt?ee(te,mt):mt)}finally{Be(),Te.off("drain",le)}})).apply(this,arguments)}function Re(ve,Te,ge,me){return Ve.apply(this,arguments)}function Ve(){return(Ve=y(function*(ve,Te,ge,{end:me}){a(Te)&&(Te=Te.writable);const te=Te.getWriter();try{var Ae,ne=!1,le=!1;try{for(var qe,Be=w(ve);ne=!(qe=yield Be.next()).done;ne=!1){const ze=qe.value;yield te.ready,te.write(ze).catch(()=>{})}}catch(ze){le=!0,Ae=ze}finally{try{ne&&null!=Be.return&&(yield Be.return())}finally{if(le)throw Ae}}yield te.ready,me&&(yield te.close()),ge()}catch(ze){try{yield te.abort(ze),ge(ze)}catch(Dt){ge(Dt)}}})).apply(this,arguments)}function _e(ve,Te,ge){if(1===ve.length&&S(ve[0])&&(ve=ve[0]),ve.length<2)throw new J("streams");const me=new E,te=me.signal,ne=ge?.signal,le=[];function Ae(){mt(new ae)}let Be,qe,ze;he(ne,"options.signal"),x=x||_(13509).addAbortListener,ne&&(Be=x(ne,Ae));const Dt=[];let K,Xe=0;function Ue(pe){mt(pe,0==--Xe)}function mt(pe,ke){var Ne;if(pe&&(!qe||"ERR_STREAM_PREMATURE_CLOSE"===qe.code)&&(qe=pe),qe||ke){for(;Dt.length;)Dt.shift()(qe);null===(Ne=Be)||void 0===Ne||Ne[U](),me.abort(),ke&&(qe||le.forEach(lt=>lt()),O.nextTick(Te,qe,ze))}}for(let pe=0;pe<ve.length;pe++){const ke=ve[pe],Ne=pe<ve.length-1,lt=pe>0,en=Ne||!1!==ge?.end,It=pe===ve.length-1;if(C(ke)){let Kt=function(rn){rn&&"AbortError"!==rn.name&&"ERR_STREAM_PREMATURE_CLOSE"!==rn.code&&Ue(rn)};if(en){const{destroy:rn,cleanup:gn}=s(ke,Ne,lt);Dt.push(rn),Me(ke)&&It&&le.push(gn)}ke.on("error",Kt),Me(ke)&&It&&le.push(()=>{ke.removeListener("error",Kt)})}if(0===pe)if("function"==typeof ke){if(K=ke({signal:te}),!we(K))throw new Z("Iterable, AsyncIterable or Stream","source",K)}else K=we(ke)||Pe(ke)||a(ke)?ke:z.from(ke);else if("function"==typeof ke){var T;if(K=a(K)?$(null===(T=K)||void 0===T?void 0:T.readable):$(K),K=ke(K,{signal:te}),Ne){if(!we(K,!0))throw new Z("AsyncIterable",`transform[${pe-1}]`,K)}else{var M;D||(D=_(59447));const Kt=new D({objectMode:!0}),rn=null===(M=K)||void 0===M?void 0:M.then;if("function"==typeof rn)Xe++,rn.call(K,ar=>{ze=ar,null!=ar&&Kt.write(ar),en&&Kt.end(),O.nextTick(Ue)},ar=>{Kt.destroy(ar),O.nextTick(Ue,ar)});else if(we(K,!0))Xe++,de(K,Kt,Ue,{end:en});else{if(!m(K)&&!a(K))throw new Z("AsyncIterable or Promise","destination",K);Xe++,de(K.readable||K,Kt,Ue,{end:en})}K=Kt;const{destroy:gn,cleanup:ln}=s(K,!1,!0);Dt.push(gn),It&&le.push(ln)}}else if(C(ke)){if(Pe(K)){Xe+=2;const Kt=Fe(K,ke,Ue,{end:en});Me(ke)&&It&&le.push(Kt)}else if(a(K)||m(K))Xe++,de(K.readable||K,ke,Ue,{end:en});else{if(!we(K))throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],K);Xe++,de(K,ke,Ue,{end:en})}K=ke}else if(d(ke)){if(Pe(K))Xe++,Re($(K),ke,Ue,{end:en});else if(m(K)||we(K))Xe++,Re(K,ke,Ue,{end:en});else{if(!a(K))throw new q("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],K);Xe++,Re(K.readable,ke,Ue,{end:en})}K=ke}else K=z.from(ke)}return(null!=te&&te.aborted||null!=ne&&ne.aborted)&&O.nextTick(Ae),K}function Fe(ve,Te,ge,{end:me}){let te=!1;if(Te.on("close",()=>{te||ge(new ce)}),ve.pipe(Te,{end:!1}),me){let le=function(){te=!0,Te.end()};p(ve)?O.nextTick(le):ve.once("end",le)}else ge();return A(ve,{readable:!0,writable:!1},le=>{const Ae=ve._readableState;le&&"ERR_STREAM_PREMATURE_CLOSE"===le.code&&Ae&&Ae.ended&&!Ae.errored&&!Ae.errorEmitted?ve.once("end",ge).once("error",ge):ge(le)}),A(Te,{readable:!1,writable:!0},ge)}We.exports={pipelineImpl:_e,pipeline:function Ee(...ve){return _e(ve,G(function v(ve){return fe(ve[ve.length-1],"streams[stream.length - 1]"),ve.pop()}(ve)))}}},84553:(We,j,_)=>{var y=_(53344).default,b=_(42958).default;const P=_(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:w,NumberIsNaN:O,NumberParseInt:S,ObjectDefineProperties:B,ObjectKeys:N,ObjectSetPrototypeOf:U,Promise:A,SafeSet:G,SymbolAsyncDispose:L,SymbolAsyncIterator:z,Symbol:ee}=_(56389);We.exports=Ue,Ue.ReadableState=Xe;const{EventEmitter:q}=_(44356),{Stream:Z,prependListener:J}=_(91242),{Buffer:se}=_(68316),{addAbortSignal:ce}=_(57062),ae=_(46017);let fe=_(13509).debuglog("stream",yt=>{fe=yt});const he=_(16630),we=_(96507),{getHighWaterMark:Me,getDefaultHighWaterMark:Pe}=_(18212),{aggregateTwoErrors:C,codes:{ERR_INVALID_ARG_TYPE:a,ERR_METHOD_NOT_IMPLEMENTED:d,ERR_OUT_OF_RANGE:m,ERR_STREAM_PUSH_AFTER_EOF:p,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:E},AbortError:D}=_(68154),{validateObject:R}=_(99852),x=ee("kPaused"),{StringDecoder:s}=_(78454),v=_(45737);U(Ue.prototype,Z.prototype),U(Ue,Z);const $=()=>{},{errorOrDestroy:F}=we,Q=1,Ve=16,Ee=32,_e=64,me=2048,te=4096,Be=65536;function Dt(yt){return{enumerable:!1,get(){return!!(this.state&yt)},set(wt){wt?this.state|=yt:this.state&=~yt}}}function Xe(yt,wt,Et){"boolean"!=typeof Et&&(Et=wt instanceof _(13323)),this.state=me|te|Ve|Ee,yt&&yt.objectMode&&(this.state|=Q),Et&&yt&&yt.readableObjectMode&&(this.state|=Q),this.highWaterMark=yt?Me(this,yt,"readableHighWaterMark",Et):Pe(!1),this.buffer=new he,this.length=0,this.pipes=[],this.flowing=null,this[x]=null,yt&&!1===yt.emitClose&&(this.state&=~me),yt&&!1===yt.autoDestroy&&(this.state&=~te),this.errored=null,this.defaultEncoding=yt&&yt.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,yt&&yt.encoding&&(this.decoder=new s(yt.encoding),this.encoding=yt.encoding)}function Ue(yt){if(!(this instanceof Ue))return new Ue(yt);const wt=this instanceof _(13323);this._readableState=new Xe(yt,this,wt),yt&&("function"==typeof yt.read&&(this._read=yt.read),"function"==typeof yt.destroy&&(this._destroy=yt.destroy),"function"==typeof yt.construct&&(this._construct=yt.construct),yt.signal&&!wt&&ce(yt.signal,this)),Z.call(this,yt),we.construct(this,()=>{this._readableState.needReadable&&lt(this,this._readableState)})}function mt(yt,wt,Et,Ye){fe("readableAddChunk",wt);const et=yt._readableState;let Wt;if(et.state&Q||("string"==typeof wt?et.encoding!==(Et=Et||et.defaultEncoding)&&(Ye&&et.encoding?wt=se.from(wt,Et).toString(et.encoding):(wt=se.from(wt,Et),Et="")):wt instanceof se?Et="":Z._isUint8Array(wt)?(wt=Z._uint8ArrayToBuffer(wt),Et=""):null!=wt&&(Wt=new a("chunk",["string","Buffer","Uint8Array"],wt))),Wt)F(yt,Wt);else if(null===wt)et.state&=-9,function pe(yt,wt){if(fe("onEofChunk"),!wt.ended){if(wt.decoder){const Et=wt.decoder.end();Et&&Et.length&&(wt.buffer.push(Et),wt.length+=wt.objectMode?1:Et.length)}wt.ended=!0,wt.sync?ke(yt):(wt.needReadable=!1,wt.emittedReadable=!0,Ne(yt))}}(yt,et);else if(et.state&Q||wt&&wt.length>0)if(Ye)if(4&et.state)F(yt,new E);else{if(et.destroyed||et.errored)return!1;K(yt,et,wt,!0)}else if(et.ended)F(yt,new p);else{if(et.destroyed||et.errored)return!1;et.state&=-9,et.decoder&&!Et?(wt=et.decoder.write(wt),et.objectMode||0!==wt.length?K(yt,et,wt,!1):lt(yt,et)):K(yt,et,wt,!1)}else Ye||(et.state&=-9,lt(yt,et));return!et.ended&&(et.length<et.highWaterMark||0===et.length)}function K(yt,wt,Et,Ye){wt.flowing&&0===wt.length&&!wt.sync&&yt.listenerCount("data")>0?(wt.state&Be?wt.awaitDrainWriters.clear():wt.awaitDrainWriters=null,wt.dataEmitted=!0,yt.emit("data",Et)):(wt.length+=wt.objectMode?1:Et.length,Ye?wt.buffer.unshift(Et):wt.buffer.push(Et),wt.state&_e&&ke(yt)),lt(yt,wt)}function Y(yt,wt){return yt<=0||0===wt.length&&wt.ended?0:wt.state&Q?1:O(yt)?wt.flowing&&wt.length?wt.buffer.first().length:wt.length:yt<=wt.length?yt:wt.ended?wt.length:0}function ke(yt){const wt=yt._readableState;fe("emitReadable",wt.needReadable,wt.emittedReadable),wt.needReadable=!1,wt.emittedReadable||(fe("emitReadable",wt.flowing),wt.emittedReadable=!0,P.nextTick(Ne,yt))}function Ne(yt){const wt=yt._readableState;fe("emitReadable_",wt.destroyed,wt.length,wt.ended),!wt.destroyed&&!wt.errored&&(wt.length||wt.ended)&&(yt.emit("readable"),wt.emittedReadable=!1),wt.needReadable=!wt.flowing&&!wt.ended&&wt.length<=wt.highWaterMark,ar(yt)}function lt(yt,wt){!wt.readingMore&&wt.constructed&&(wt.readingMore=!0,P.nextTick(en,yt,wt))}function en(yt,wt){for(;!wt.reading&&!wt.ended&&(wt.length<wt.highWaterMark||wt.flowing&&0===wt.length);){const Et=wt.length;if(fe("maybeReadMore read 0"),yt.read(0),Et===wt.length)break}wt.readingMore=!1}function Kt(yt){const wt=yt._readableState;wt.readableListening=yt.listenerCount("readable")>0,wt.resumeScheduled&&!1===wt[x]?wt.flowing=!0:yt.listenerCount("data")>0?yt.resume():wt.readableListening||(wt.flowing=null)}function rn(yt){fe("readable nexttick read 0"),yt.read(0)}function ln(yt,wt){fe("resume",wt.reading),wt.reading||yt.read(0),wt.resumeScheduled=!1,yt.emit("resume"),ar(yt),wt.flowing&&!wt.reading&&yt.read(0)}function ar(yt){const wt=yt._readableState;for(fe("flow",wt.flowing);wt.flowing&&null!==yt.read(););}function Cn(yt,wt){"function"!=typeof yt.read&&(yt=Ue.wrap(yt,{objectMode:!0}));const Et=function cn(yt,wt){return Zt.apply(this,arguments)}(yt,wt);return Et.stream=yt,Et}function Zt(){return(Zt=b(function*(yt,wt){let et,Et=$;function Ye(Ft){this===yt?(Et(),Et=$):Et=Ft}yt.on("readable",Ye);const Wt=ae(yt,{writable:!1},Ft=>{et=Ft?C(et,Ft):null,Et(),Et=$});try{for(;;){const Ft=yt.destroyed?null:yt.read();if(null!==Ft)yield Ft;else{if(et)throw et;if(null===et)return;yield y(new A(Ye))}}}catch(Ft){throw et=C(et,Ft),et}finally{!et&&!1===wt?.destroyOnReturn||void 0!==et&&!yt._readableState.autoDestroy?(yt.off("readable",Ye),Wt()):we.destroyer(yt,null)}})).apply(this,arguments)}function vt(yt,wt){if(0===wt.length)return null;let Et;return wt.objectMode?Et=wt.buffer.shift():!yt||yt>=wt.length?(Et=wt.decoder?wt.buffer.join(""):1===wt.buffer.length?wt.buffer.first():wt.buffer.concat(wt.length),wt.buffer.clear()):Et=wt.buffer.consume(yt,wt.decoder),Et}function ut(yt){const wt=yt._readableState;fe("endReadable",wt.endEmitted),wt.endEmitted||(wt.ended=!0,P.nextTick(Gt,wt,yt))}function Gt(yt,wt){if(fe("endReadableNT",yt.endEmitted,yt.length),!yt.errored&&!yt.closeEmitted&&!yt.endEmitted&&0===yt.length)if(yt.endEmitted=!0,wt.emit("end"),wt.writable&&!1===wt.allowHalfOpen)P.nextTick(nn,wt);else if(yt.autoDestroy){const Et=wt._writableState;(!Et||Et.autoDestroy&&(Et.finished||!1===Et.writable))&&wt.destroy()}}function nn(yt){yt.writable&&!yt.writableEnded&&!yt.destroyed&&yt.end()}let pn;function fr(){return void 0===pn&&(pn={}),pn}B(Xe.prototype,{objectMode:Dt(Q),ended:Dt(2),endEmitted:Dt(4),reading:Dt(8),constructed:Dt(Ve),sync:Dt(Ee),needReadable:Dt(_e),emittedReadable:Dt(128),readableListening:Dt(256),resumeScheduled:Dt(512),errorEmitted:Dt(1024),emitClose:Dt(me),autoDestroy:Dt(te),destroyed:Dt(8192),closed:Dt(16384),closeEmitted:Dt(32768),multiAwaitDrain:Dt(Be),readingMore:Dt(1<<17),dataEmitted:Dt(1<<18)}),Ue.prototype.destroy=we.destroy,Ue.prototype._undestroy=we.undestroy,Ue.prototype._destroy=function(yt,wt){wt(yt)},Ue.prototype[q.captureRejectionSymbol]=function(yt){this.destroy(yt)},Ue.prototype[L]=function(){let yt;return this.destroyed||(yt=this.readableEnded?null:new D,this.destroy(yt)),new A((wt,Et)=>ae(this,Ye=>Ye&&Ye!==yt?Et(Ye):wt(null)))},Ue.prototype.push=function(yt,wt){return mt(this,yt,wt,!1)},Ue.prototype.unshift=function(yt,wt){return mt(this,yt,wt,!0)},Ue.prototype.isPaused=function(){const yt=this._readableState;return!0===yt[x]||!1===yt.flowing},Ue.prototype.setEncoding=function(yt){const wt=new s(yt);this._readableState.decoder=wt,this._readableState.encoding=this._readableState.decoder.encoding;const Et=this._readableState.buffer;let Ye="";for(const et of Et)Ye+=wt.write(et);return Et.clear(),""!==Ye&&Et.push(Ye),this._readableState.length=Ye.length,this},Ue.prototype.read=function(yt){fe("read",yt),void 0===yt?yt=NaN:w(yt)||(yt=S(yt,10));const wt=this._readableState,Et=yt;if(yt>wt.highWaterMark&&(wt.highWaterMark=function M(yt){if(yt>1073741824)throw new m("size","<= 1GiB",yt);return yt--,yt|=yt>>>1,yt|=yt>>>2,yt|=yt>>>4,yt|=yt>>>8,yt|=yt>>>16,++yt}(yt)),0!==yt&&(wt.state&=-129),0===yt&&wt.needReadable&&((0!==wt.highWaterMark?wt.length>=wt.highWaterMark:wt.length>0)||wt.ended))return fe("read: emitReadable",wt.length,wt.ended),0===wt.length&&wt.ended?ut(this):ke(this),null;if(0===(yt=Y(yt,wt))&&wt.ended)return 0===wt.length&&ut(this),null;let et,Ye=!!(wt.state&_e);if(fe("need readable",Ye),(0===wt.length||wt.length-yt<wt.highWaterMark)&&(Ye=!0,fe("length less than watermark",Ye)),wt.ended||wt.reading||wt.destroyed||wt.errored||!wt.constructed)Ye=!1,fe("reading, ended or constructing",Ye);else if(Ye){fe("do read"),wt.state|=8|Ee,0===wt.length&&(wt.state|=_e);try{this._read(wt.highWaterMark)}catch(Wt){F(this,Wt)}wt.state&=~Ee,wt.reading||(yt=Y(Et,wt))}return et=yt>0?vt(yt,wt):null,null===et?(wt.needReadable=wt.length<=wt.highWaterMark,yt=0):(wt.length-=yt,wt.multiAwaitDrain?wt.awaitDrainWriters.clear():wt.awaitDrainWriters=null),0===wt.length&&(wt.ended||(wt.needReadable=!0),Et!==yt&&wt.ended&&ut(this)),null!==et&&!wt.errorEmitted&&!wt.closeEmitted&&(wt.dataEmitted=!0,this.emit("data",et)),et},Ue.prototype._read=function(yt){throw new d("_read()")},Ue.prototype.pipe=function(yt,wt){const Et=this,Ye=this._readableState;1===Ye.pipes.length&&(Ye.multiAwaitDrain||(Ye.multiAwaitDrain=!0,Ye.awaitDrainWriters=new G(Ye.awaitDrainWriters?[Ye.awaitDrainWriters]:[]))),Ye.pipes.push(yt),fe("pipe count=%d opts=%j",Ye.pipes.length,wt);const Wt=wt&&!1===wt.end||yt===P.stdout||yt===P.stderr?He:mn;function mn(){fe("onend"),yt.end()}Ye.endEmitted?P.nextTick(Wt):Et.once("end",Wt),yt.on("unpipe",function Ft(ct,Yt){fe("onunpipe"),ct===Et&&Yt&&!1===Yt.hasUnpiped&&(Yt.hasUnpiped=!0,function Mn(){fe("cleanup"),yt.removeListener("close",Ln),yt.removeListener("finish",at),Vn&&yt.removeListener("drain",Vn),yt.removeListener("error",Nn),yt.removeListener("unpipe",Ft),Et.removeListener("end",mn),Et.removeListener("end",He),Et.removeListener("data",or),bn=!0,Vn&&Ye.awaitDrainWriters&&(!yt._writableState||yt._writableState.needDrain)&&Vn()}())});let Vn,bn=!1;function br(){bn||(1===Ye.pipes.length&&Ye.pipes[0]===yt?(fe("false write response, pause",0),Ye.awaitDrainWriters=yt,Ye.multiAwaitDrain=!1):Ye.pipes.length>1&&Ye.pipes.includes(yt)&&(fe("false write response, pause",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.add(yt)),Et.pause()),Vn||(Vn=function It(yt,wt){return function(){const Ye=yt._readableState;Ye.awaitDrainWriters===wt?(fe("pipeOnDrain",1),Ye.awaitDrainWriters=null):Ye.multiAwaitDrain&&(fe("pipeOnDrain",Ye.awaitDrainWriters.size),Ye.awaitDrainWriters.delete(wt)),(!Ye.awaitDrainWriters||0===Ye.awaitDrainWriters.size)&&yt.listenerCount("data")&&yt.resume()}}(Et,yt),yt.on("drain",Vn))}function or(ct){fe("ondata");const Yt=yt.write(ct);fe("dest.write",Yt),!1===Yt&&br()}function Nn(ct){if(fe("onerror",ct),He(),yt.removeListener("error",Nn),0===yt.listenerCount("error")){const Yt=yt._writableState||yt._readableState;Yt&&!Yt.errorEmitted?F(yt,ct):yt.emit("error",ct)}}function Ln(){yt.removeListener("finish",at),He()}function at(){fe("onfinish"),yt.removeListener("close",Ln),He()}function He(){fe("unpipe"),Et.unpipe(yt)}return Et.on("data",or),J(yt,"error",Nn),yt.once("close",Ln),yt.once("finish",at),yt.emit("pipe",Et),!0===yt.writableNeedDrain?br():Ye.flowing||(fe("pipe resume"),Et.resume()),yt},Ue.prototype.unpipe=function(yt){const wt=this._readableState;if(0===wt.pipes.length)return this;if(!yt){const et=wt.pipes;wt.pipes=[],this.pause();for(let Wt=0;Wt<et.length;Wt++)et[Wt].emit("unpipe",this,{hasUnpiped:!1});return this}const Ye=H(wt.pipes,yt);return-1===Ye||(wt.pipes.splice(Ye,1),0===wt.pipes.length&&this.pause(),yt.emit("unpipe",this,{hasUnpiped:!1})),this},Ue.prototype.addListener=Ue.prototype.on=function(yt,wt){const Et=Z.prototype.on.call(this,yt,wt),Ye=this._readableState;return"data"===yt?(Ye.readableListening=this.listenerCount("readable")>0,!1!==Ye.flowing&&this.resume()):"readable"===yt&&!Ye.endEmitted&&!Ye.readableListening&&(Ye.readableListening=Ye.needReadable=!0,Ye.flowing=!1,Ye.emittedReadable=!1,fe("on readable",Ye.length,Ye.reading),Ye.length?ke(this):Ye.reading||P.nextTick(rn,this)),Et},Ue.prototype.off=Ue.prototype.removeListener=function(yt,wt){const Et=Z.prototype.removeListener.call(this,yt,wt);return"readable"===yt&&P.nextTick(Kt,this),Et},Ue.prototype.removeAllListeners=function(yt){const wt=Z.prototype.removeAllListeners.apply(this,arguments);return("readable"===yt||void 0===yt)&&P.nextTick(Kt,this),wt},Ue.prototype.resume=function(){const yt=this._readableState;return yt.flowing||(fe("resume"),yt.flowing=!yt.readableListening,function gn(yt,wt){wt.resumeScheduled||(wt.resumeScheduled=!0,P.nextTick(ln,yt,wt))}(this,yt)),yt[x]=!1,this},Ue.prototype.pause=function(){return fe("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(fe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[x]=!0,this},Ue.prototype.wrap=function(yt){let wt=!1;yt.on("data",Ye=>{!this.push(Ye)&&yt.pause&&(wt=!0,yt.pause())}),yt.on("end",()=>{this.push(null)}),yt.on("error",Ye=>{F(this,Ye)}),yt.on("close",()=>{this.destroy()}),yt.on("destroy",()=>{this.destroy()}),this._read=()=>{wt&&yt.resume&&(wt=!1,yt.resume())};const Et=N(yt);for(let Ye=1;Ye<Et.length;Ye++){const et=Et[Ye];void 0===this[et]&&"function"==typeof yt[et]&&(this[et]=yt[et].bind(yt))}return this},Ue.prototype[z]=function(){return Cn(this)},Ue.prototype.iterator=function(yt){return void 0!==yt&&R(yt,"options"),Cn(this,yt)},B(Ue.prototype,{readable:{__proto__:null,get(){const yt=this._readableState;return!(!yt||!1===yt.readable||yt.destroyed||yt.errorEmitted||yt.endEmitted)},set(yt){this._readableState&&(this._readableState.readable=!!yt)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(yt){this._readableState&&(this._readableState.flowing=yt)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(yt){this._readableState&&(this._readableState.destroyed=yt)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),B(Xe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[x]},set(yt){this[x]=!!yt}}}),Ue._fromList=vt,Ue.from=function(yt,wt){return v(Ue,yt,wt)},Ue.fromWeb=function(yt,wt){return fr().newStreamReadableFromReadableStream(yt,wt)},Ue.toWeb=function(yt,wt){return fr().newReadableStreamFromStreamReadable(yt,wt)},Ue.wrap=function(yt,wt){var Et,Ye;return new Ue({objectMode:null===(Et=null!==(Ye=yt.readableObjectMode)&&void 0!==Ye?Ye:yt.objectMode)||void 0===Et||Et,...wt,destroy(et,Wt){we.destroyer(yt,et),Wt(et)}}).wrap(yt)}},18212:(We,j,_)=>{"use strict";const{MathFloor:y,NumberIsInteger:b}=_(56389),{validateInteger:P}=_(99852),{ERR_INVALID_ARG_VALUE:H}=_(68154).codes;let w=16384,O=16;function B(A){return A?O:w}We.exports={getHighWaterMark:function U(A,G,L,z){const ee=function S(A,G,L){return null!=A.highWaterMark?A.highWaterMark:G?A[L]:null}(G,z,L);if(null!=ee){if(!b(ee)||ee<0)throw new H(z?`options.${L}`:"options.highWaterMark",ee);return y(ee)}return B(A.objectMode)},getDefaultHighWaterMark:B,setDefaultHighWaterMark:function N(A,G){P(G,"value",0),A?O=G:w=G}}},71981:(We,j,_)=>{"use strict";const{ObjectSetPrototypeOf:y,Symbol:b}=_(56389);We.exports=S;const{ERR_METHOD_NOT_IMPLEMENTED:P}=_(68154).codes,H=_(13323),{getHighWaterMark:w}=_(18212);y(S.prototype,H.prototype),y(S,H);const O=b("kCallback");function S(U){if(!(this instanceof S))return new S(U);const A=U?w(this,U,"readableHighWaterMark",!0):null;0===A&&(U={...U,highWaterMark:null,readableHighWaterMark:A,writableHighWaterMark:U.writableHighWaterMark||0}),H.call(this,U),this._readableState.sync=!1,this[O]=null,U&&("function"==typeof U.transform&&(this._transform=U.transform),"function"==typeof U.flush&&(this._flush=U.flush)),this.on("prefinish",N)}function B(U){"function"!=typeof this._flush||this.destroyed?(this.push(null),U&&U()):this._flush((A,G)=>{A?U?U(A):this.destroy(A):(null!=G&&this.push(G),this.push(null),U&&U())})}function N(){this._final!==B&&B.call(this)}S.prototype._final=B,S.prototype._transform=function(U,A,G){throw new P("_transform()")},S.prototype._write=function(U,A,G){const L=this._readableState,z=this._writableState,ee=L.length;this._transform(U,A,(q,Z)=>{q?G(q):(null!=Z&&this.push(Z),z.ended||ee===L.length||L.length<L.highWaterMark?G():this[O]=G)})},S.prototype._read=function(){if(this[O]){const U=this[O];this[O]=null,U()}}},32924:(We,j,_)=>{"use strict";const{SymbolAsyncIterator:y,SymbolIterator:b,SymbolFor:P}=_(56389),H=P("nodejs.stream.destroyed"),w=P("nodejs.stream.errored"),O=P("nodejs.stream.readable"),S=P("nodejs.stream.writable"),B=P("nodejs.stream.disturbed"),N=P("nodejs.webstream.isClosedPromise"),U=P("nodejs.webstream.controllerErrorFunction");function A(v,$=!1){var F;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||$&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(F=v._readableState)||void 0===F?void 0:F.readable)||v._writableState&&!v._readableState)}function G(v){var $;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===($=v._writableState)||void 0===$?void 0:$.writable))}function z(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function ee(v){return!(!v||z(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function q(v){return!(!v||z(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function Z(v){return!(!v||z(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ce(v){if(!z(v))return null;const Q=v._writableState||v._readableState;return!!(v.destroyed||v[H]||null!=Q&&Q.destroyed)}function ae(v){if(!G(v))return null;if(!0===v.writableEnded)return!0;const $=v._writableState;return(null==$||!$.errored)&&("boolean"!=typeof $?.ended?null:$.ended)}function we(v,$){if(!A(v))return null;const F=v._readableState;return(null==F||!F.errored)&&("boolean"!=typeof F?.endEmitted?null:!!(F.endEmitted||!1===$&&!0===F.ended&&0===F.length))}function Me(v){return v&&null!=v[O]?v[O]:"boolean"!=typeof v?.readable?null:!ce(v)&&A(v)&&v.readable&&!we(v)}function Pe(v){return v&&null!=v[S]?v[S]:"boolean"!=typeof v?.writable?null:!ce(v)&&G(v)&&v.writable&&!ae(v)}function p(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function E(v){return"boolean"==typeof v._sent100&&p(v)}We.exports={isDestroyed:ce,kIsDestroyed:H,isDisturbed:function x(v){var $;return!(!v||!(null!==($=v[B])&&void 0!==$?$:v.readableDidRead||v.readableAborted))},kIsDisturbed:B,isErrored:function s(v){var $,F,Q,de,De,Re,Ve,Ee,_e,Fe;return!(!v||!(null!==($=null!==(F=null!==(Q=null!==(de=null!==(De=null!==(Re=v[w])&&void 0!==Re?Re:v.readableErrored)&&void 0!==De?De:v.writableErrored)&&void 0!==de?de:null===(Ve=v._readableState)||void 0===Ve?void 0:Ve.errorEmitted)&&void 0!==Q?Q:null===(Ee=v._writableState)||void 0===Ee?void 0:Ee.errorEmitted)&&void 0!==F?F:null===(_e=v._readableState)||void 0===_e?void 0:_e.errored)&&void 0!==$?$:null!==(Fe=v._writableState)&&void 0!==Fe&&Fe.errored))},kIsErrored:w,isReadable:Me,kIsReadable:O,kIsClosedPromise:N,kControllerErrorFunction:U,kIsWritable:S,isClosed:function m(v){if(!z(v))return null;if("boolean"==typeof v.closed)return v.closed;const $=v._writableState,F=v._readableState;return"boolean"==typeof $?.closed||"boolean"==typeof F?.closed?$?.closed||F?.closed:"boolean"==typeof v._closed&&p(v)?v._closed:null},isDuplexNodeStream:function L(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,$){return z(v)?!!ce(v)||!(!1!==$?.readable&&Me(v)||!1!==$?.writable&&Pe(v)):null},isIterable:function se(v,$){return null!=v&&(!0===$?"function"==typeof v[y]:!1===$?"function"==typeof v[b]:"function"==typeof v[y]||"function"==typeof v[b])},isReadableNodeStream:A,isReadableStream:ee,isReadableEnded:function he(v){if(!A(v))return null;if(!0===v.readableEnded)return!0;const $=v._readableState;return!(!$||$.errored)&&("boolean"!=typeof $?.ended?null:$.ended)},isReadableFinished:we,isReadableErrored:function d(v){var $,F;return z(v)?v.readableErrored?v.readableErrored:null!==($=null===(F=v._readableState)||void 0===F?void 0:F.errored)&&void 0!==$?$:null:null},isNodeStream:z,isWebStream:function J(v){return ee(v)||q(v)||Z(v)},isWritable:Pe,isWritableNodeStream:G,isWritableStream:q,isWritableEnded:ae,isWritableFinished:function fe(v,$){if(!G(v))return null;if(!0===v.writableFinished)return!0;const F=v._writableState;return(null==F||!F.errored)&&("boolean"!=typeof F?.finished?null:!!(F.finished||!1===$&&!0===F.ended&&0===F.length))},isWritableErrored:function a(v){var $,F;return z(v)?v.writableErrored?v.writableErrored:null!==($=null===(F=v._writableState)||void 0===F?void 0:F.errored)&&void 0!==$?$:null:null},isServerRequest:function D(v){var $;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===($=v.req)||void 0===$?void 0:$.upgradeOrConnect)},isServerResponse:E,willEmitClose:function R(v){if(!z(v))return null;const Q=v._writableState||v._readableState;return!Q&&E(v)||!!(Q&&Q.autoDestroy&&Q.emitClose&&!1===Q.closed)},isTransformStream:Z}},30009:(We,j,_)=>{const y=_(40573),{ArrayPrototypeSlice:b,Error:P,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:w,ObjectDefineProperties:O,ObjectSetPrototypeOf:S,StringPrototypeToLowerCase:B,Symbol:N,SymbolHasInstance:U}=_(56389);We.exports=E,E.WritableState=m;const{EventEmitter:A}=_(44356),G=_(91242).Stream,{Buffer:L}=_(68316),z=_(96507),{addAbortSignal:ee}=_(57062),{getHighWaterMark:q,getDefaultHighWaterMark:Z}=_(18212),{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:se,ERR_MULTIPLE_CALLBACK:ce,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:fe,ERR_STREAM_ALREADY_FINISHED:he,ERR_STREAM_NULL_VALUES:we,ERR_STREAM_WRITE_AFTER_END:Me,ERR_UNKNOWN_ENCODING:Pe}=_(68154).codes,{errorOrDestroy:C}=z;function a(){}S(E.prototype,G.prototype),S(E,G);const d=N("kOnFinished");function m(ge,me,te){"boolean"!=typeof te&&(te=me instanceof _(13323)),this.objectMode=!(!ge||!ge.objectMode),te&&(this.objectMode=this.objectMode||!(!ge||!ge.writableObjectMode)),this.highWaterMark=ge?q(this,ge,"writableHighWaterMark",te):Z(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(ge&&!1===ge.decodeStrings),this.defaultEncoding=ge&&ge.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,me),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,p(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ge||!1!==ge.emitClose,this.autoDestroy=!ge||!1!==ge.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[d]=[]}function p(ge){ge.buffered=[],ge.bufferedIndex=0,ge.allBuffers=!0,ge.allNoop=!0}function E(ge){const me=this instanceof _(13323);if(!me&&!H(E,this))return new E(ge);this._writableState=new m(ge,this,me),ge&&("function"==typeof ge.write&&(this._write=ge.write),"function"==typeof ge.writev&&(this._writev=ge.writev),"function"==typeof ge.destroy&&(this._destroy=ge.destroy),"function"==typeof ge.final&&(this._final=ge.final),"function"==typeof ge.construct&&(this._construct=ge.construct),ge.signal&&ee(ge.signal,this)),G.call(this,ge),z.construct(this,()=>{const te=this._writableState;te.writing||de(this,te),Ee(this,te)})}function D(ge,me,te,ne){const le=ge._writableState;if("function"==typeof te)ne=te,te=le.defaultEncoding;else{if(te){if("buffer"!==te&&!L.isEncoding(te))throw new Pe(te)}else te=le.defaultEncoding;"function"!=typeof ne&&(ne=a)}if(null===me)throw new we;if(!le.objectMode)if("string"==typeof me)!1!==le.decodeStrings&&(me=L.from(me,te),te="buffer");else if(me instanceof L)te="buffer";else{if(!G._isUint8Array(me))throw new J("chunk",["string","Buffer","Uint8Array"],me);me=G._uint8ArrayToBuffer(me),te="buffer"}let Ae;return le.ending?Ae=new Me:le.destroyed&&(Ae=new fe("write")),Ae?(y.nextTick(ne,Ae),C(ge,Ae,!0),Ae):(le.pendingcb++,function R(ge,me,te,ne,le){const Ae=me.objectMode?1:te.length;me.length+=Ae;const Be=me.length<me.highWaterMark;return Be||(me.needDrain=!0),me.writing||me.corked||me.errored||!me.constructed?(me.buffered.push({chunk:te,encoding:ne,callback:le}),me.allBuffers&&"buffer"!==ne&&(me.allBuffers=!1),me.allNoop&&le!==a&&(me.allNoop=!1)):(me.writelen=Ae,me.writecb=le,me.writing=!0,me.sync=!0,ge._write(te,ne,me.onwrite),me.sync=!1),Be&&!me.errored&&!me.destroyed}(ge,le,me,te,ne))}function x(ge,me,te,ne,le,Ae,Be){me.writelen=ne,me.writecb=Be,me.writing=!0,me.sync=!0,me.destroyed?me.onwrite(new fe("write")):te?ge._writev(le,me.onwrite):ge._write(le,Ae,me.onwrite),me.sync=!1}function s(ge,me,te,ne){--me.pendingcb,ne(te),Q(me),C(ge,te)}function v(ge,me){const te=ge._writableState,ne=te.sync,le=te.writecb;"function"==typeof le?(te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0,me?(te.errored||(te.errored=me),ge._readableState&&!ge._readableState.errored&&(ge._readableState.errored=me),ne?y.nextTick(s,ge,te,me,le):s(ge,te,me,le)):(te.buffered.length>te.bufferedIndex&&de(ge,te),ne?null!==te.afterWriteTickInfo&&te.afterWriteTickInfo.cb===le?te.afterWriteTickInfo.count++:(te.afterWriteTickInfo={count:1,cb:le,stream:ge,state:te},y.nextTick($,te.afterWriteTickInfo)):F(ge,te,1,le))):C(ge,new ce)}function $({stream:ge,state:me,count:te,cb:ne}){return me.afterWriteTickInfo=null,F(ge,me,te,ne)}function F(ge,me,te,ne){for(!me.ending&&!ge.destroyed&&0===me.length&&me.needDrain&&(me.needDrain=!1,ge.emit("drain"));te-- >0;)me.pendingcb--,ne();me.destroyed&&Q(me),Ee(ge,me)}function Q(ge){if(ge.writing)return;for(let le=ge.bufferedIndex;le<ge.buffered.length;++le){var me;const{chunk:Ae,callback:Be}=ge.buffered[le];ge.length-=ge.objectMode?1:Ae.length,Be(null!==(me=ge.errored)&&void 0!==me?me:new fe("write"))}const te=ge[d].splice(0);for(let le=0;le<te.length;le++){var ne;te[le](null!==(ne=ge.errored)&&void 0!==ne?ne:new fe("end"))}p(ge)}function de(ge,me){if(me.corked||me.bufferProcessing||me.destroyed||!me.constructed)return;const{buffered:te,bufferedIndex:ne,objectMode:le}=me,Ae=te.length-ne;if(!Ae)return;let Be=ne;if(me.bufferProcessing=!0,Ae>1&&ge._writev){me.pendingcb-=Ae-1;const qe=me.allNoop?a:Dt=>{for(let Xe=Be;Xe<te.length;++Xe)te[Xe].callback(Dt)},ze=me.allNoop&&0===Be?te:b(te,Be);ze.allBuffers=me.allBuffers,x(ge,me,!0,me.length,ze,"",qe),p(me)}else{do{const{chunk:qe,encoding:ze,callback:Dt}=te[Be];te[Be++]=null,x(ge,me,!1,le?1:qe.length,qe,ze,Dt)}while(Be<te.length&&!me.writing);Be===te.length?p(me):Be>256?(te.splice(0,Be),me.bufferedIndex=0):me.bufferedIndex=Be}me.bufferProcessing=!1}function De(ge){return ge.ending&&!ge.destroyed&&ge.constructed&&0===ge.length&&!ge.errored&&0===ge.buffered.length&&!ge.finished&&!ge.writing&&!ge.errorEmitted&&!ge.closeEmitted}function Ee(ge,me,te){De(me)&&(function Ve(ge,me){!me.prefinished&&!me.finalCalled&&("function"!=typeof ge._final||me.destroyed?(me.prefinished=!0,ge.emit("prefinish")):(me.finalCalled=!0,function Re(ge,me){let te=!1;function ne(le){if(te)C(ge,le??ce());else if(te=!0,me.pendingcb--,le){const Ae=me[d].splice(0);for(let Be=0;Be<Ae.length;Be++)Ae[Be](le);C(ge,le,me.sync)}else De(me)&&(me.prefinished=!0,ge.emit("prefinish"),me.pendingcb++,y.nextTick(_e,ge,me))}me.sync=!0,me.pendingcb++;try{ge._final(ne)}catch(le){ne(le)}me.sync=!1}(ge,me)))}(ge,me),0===me.pendingcb&&(te?(me.pendingcb++,y.nextTick((ne,le)=>{De(le)?_e(ne,le):le.pendingcb--},ge,me)):De(me)&&(me.pendingcb++,_e(ge,me))))}function _e(ge,me){me.pendingcb--,me.finished=!0;const te=me[d].splice(0);for(let ne=0;ne<te.length;ne++)te[ne]();if(ge.emit("finish"),me.autoDestroy){const ne=ge._readableState;(!ne||ne.autoDestroy&&(ne.endEmitted||!1===ne.readable))&&ge.destroy()}}m.prototype.getBuffer=function(){return b(this.buffered,this.bufferedIndex)},w(m.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),w(E,U,{__proto__:null,value:function(ge){return!!H(this,ge)||this===E&&ge&&ge._writableState instanceof m}}),E.prototype.pipe=function(){C(this,new ae)},E.prototype.write=function(ge,me,te){return!0===D(this,ge,me,te)},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){const ge=this._writableState;ge.corked&&(ge.corked--,ge.writing||de(this,ge))},E.prototype.setDefaultEncoding=function(me){if("string"==typeof me&&(me=B(me)),!L.isEncoding(me))throw new Pe(me);return this._writableState.defaultEncoding=me,this},E.prototype._write=function(ge,me,te){if(!this._writev)throw new se("_write()");this._writev([{chunk:ge,encoding:me}],te)},E.prototype._writev=null,E.prototype.end=function(ge,me,te){const ne=this._writableState;let le;if("function"==typeof ge?(te=ge,ge=null,me=null):"function"==typeof me&&(te=me,me=null),null!=ge){const Ae=D(this,ge,me);Ae instanceof P&&(le=Ae)}return ne.corked&&(ne.corked=1,this.uncork()),le||(ne.errored||ne.ending?ne.finished?le=new he("end"):ne.destroyed&&(le=new fe("end")):(ne.ending=!0,Ee(this,ne,!0),ne.ended=!0)),"function"==typeof te&&(le||ne.finished?y.nextTick(te,le):ne[d].push(te)),this},O(E.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(ge){this._writableState&&(this._writableState.destroyed=ge)}},writable:{__proto__:null,get(){const ge=this._writableState;return!(!ge||!1===ge.writable||ge.destroyed||ge.errored||ge.ending||ge.ended)},set(ge){this._writableState&&(this._writableState.writable=!!ge)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const ge=this._writableState;return!!ge&&!ge.destroyed&&!ge.ending&&ge.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Fe=z.destroy;let ve;function Te(){return void 0===ve&&(ve={}),ve}E.prototype.destroy=function(ge,me){const te=this._writableState;return!te.destroyed&&(te.bufferedIndex<te.buffered.length||te[d].length)&&y.nextTick(Q,te),Fe.call(this,ge,me),this},E.prototype._undestroy=z.undestroy,E.prototype._destroy=function(ge,me){me(ge)},E.prototype[A.captureRejectionSymbol]=function(ge){this.destroy(ge)},E.fromWeb=function(ge,me){return Te().newStreamWritableFromWritableStream(ge,me)},E.toWeb=function(ge){return Te().newWritableStreamFromStreamWritable(ge)}},99852:(We,j,_)=>{"use strict";const{ArrayIsArray:y,ArrayPrototypeIncludes:b,ArrayPrototypeJoin:P,ArrayPrototypeMap:H,NumberIsInteger:w,NumberIsNaN:O,NumberMAX_SAFE_INTEGER:S,NumberMIN_SAFE_INTEGER:B,NumberParseInt:N,ObjectPrototypeHasOwnProperty:U,RegExpPrototypeExec:A,String:G,StringPrototypeToUpperCase:L,StringPrototypeTrim:z}=_(56389),{hideStackFrames:ee,codes:{ERR_SOCKET_BAD_PORT:q,ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_ARG_VALUE:J,ERR_OUT_OF_RANGE:se,ERR_UNKNOWN_SIGNAL:ce}}=_(68154),{normalizeEncoding:ae}=_(13509),{isAsyncFunction:fe,isArrayBufferView:he}=_(13509).types,we={},C=/^[0-7]+$/,m=ee((Be,qe,ze=B,Dt=S)=>{if("number"!=typeof Be)throw new Z(qe,"number",Be);if(!w(Be))throw new se(qe,"an integer",Be);if(Be<ze||Be>Dt)throw new se(qe,`>= ${ze} && <= ${Dt}`,Be)}),p=ee((Be,qe,ze=-2147483648,Dt=2147483647)=>{if("number"!=typeof Be)throw new Z(qe,"number",Be);if(!w(Be))throw new se(qe,"an integer",Be);if(Be<ze||Be>Dt)throw new se(qe,`>= ${ze} && <= ${Dt}`,Be)}),E=ee((Be,qe,ze=!1)=>{if("number"!=typeof Be)throw new Z(qe,"number",Be);if(!w(Be))throw new se(qe,"an integer",Be);const Dt=ze?1:0,Xe=4294967295;if(Be<Dt||Be>Xe)throw new se(qe,`>= ${Dt} && <= ${Xe}`,Be)});function D(Be,qe){if("string"!=typeof Be)throw new Z(qe,"string",Be)}const x=ee((Be,qe,ze)=>{if(!b(ze,Be)){const Xe="must be one of: "+P(H(ze,Ue=>"string"==typeof Ue?`'${Ue}'`:G(Ue)),", ");throw new J(qe,Be,Xe)}});function s(Be,qe){if("boolean"!=typeof Be)throw new Z(qe,"boolean",Be)}function v(Be,qe,ze){return null!=Be&&U(Be,qe)?Be[qe]:ze}const $=ee((Be,qe,ze=null)=>{const Dt=v(ze,"allowArray",!1),Xe=v(ze,"allowFunction",!1);if(!v(ze,"nullable",!1)&&null===Be||!Dt&&y(Be)||"object"!=typeof Be&&(!Xe||"function"!=typeof Be))throw new Z(qe,"Object",Be)}),F=ee((Be,qe)=>{if(null!=Be&&"object"!=typeof Be&&"function"!=typeof Be)throw new Z(qe,"a dictionary",Be)}),Q=ee((Be,qe,ze=0)=>{if(!y(Be))throw new Z(qe,"Array",Be);if(Be.length<ze)throw new J(qe,Be,`must be longer than ${ze}`)}),Ee=ee((Be,qe="buffer")=>{if(!he(Be))throw new Z(qe,["Buffer","TypedArray","DataView"],Be)}),ve=ee((Be,qe)=>{if(void 0!==Be&&(null===Be||"object"!=typeof Be||!("aborted"in Be)))throw new Z(qe,"AbortSignal",Be)}),Te=ee((Be,qe)=>{if("function"!=typeof Be)throw new Z(qe,"Function",Be)}),ge=ee((Be,qe)=>{if("function"!=typeof Be||fe(Be))throw new Z(qe,"Function",Be)}),me=ee((Be,qe)=>{if(void 0!==Be)throw new Z(qe,"undefined",Be)}),ne=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function le(Be,qe){if(typeof Be>"u"||!A(ne,Be))throw new J(qe,Be,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}We.exports={isInt32:function Me(Be){return Be===(0|Be)},isUint32:function Pe(Be){return Be===Be>>>0},parseFileMode:function d(Be,qe,ze){if(typeof Be>"u"&&(Be=ze),"string"==typeof Be){if(null===A(C,Be))throw new J(qe,Be,"must be a 32-bit unsigned integer or an octal string");Be=N(Be,8)}return E(Be,qe),Be},validateArray:Q,validateStringArray:function de(Be,qe){Q(Be,qe);for(let ze=0;ze<Be.length;ze++)D(Be[ze],`${qe}[${ze}]`)},validateBooleanArray:function De(Be,qe){Q(Be,qe);for(let ze=0;ze<Be.length;ze++)s(Be[ze],`${qe}[${ze}]`)},validateAbortSignalArray:function Re(Be,qe){Q(Be,qe);for(let ze=0;ze<Be.length;ze++){const Dt=Be[ze],Xe=`${qe}[${ze}]`;if(null==Dt)throw new Z(Xe,"AbortSignal",Dt);ve(Dt,Xe)}},validateBoolean:s,validateBuffer:Ee,validateDictionary:F,validateEncoding:function _e(Be,qe){const ze=ae(qe),Dt=Be.length;if("hex"===ze&&Dt%2!=0)throw new J("encoding",qe,`is invalid for data of length ${Dt}`)},validateFunction:Te,validateInt32:p,validateInteger:m,validateNumber:function R(Be,qe,ze=void 0,Dt){if("number"!=typeof Be)throw new Z(qe,"number",Be);if(null!=ze&&Be<ze||null!=Dt&&Be>Dt||(null!=ze||null!=Dt)&&O(Be))throw new se(qe,`${null!=ze?`>= ${ze}`:""}${null!=ze&&null!=Dt?" && ":""}${null!=Dt?`<= ${Dt}`:""}`,Be)},validateObject:$,validateOneOf:x,validatePlainFunction:ge,validatePort:function Fe(Be,qe="Port",ze=!0){if("number"!=typeof Be&&"string"!=typeof Be||"string"==typeof Be&&0===z(Be).length||+Be!=+Be>>>0||Be>65535||0===Be&&!ze)throw new q(qe,Be,ze);return 0|Be},validateSignalName:function Ve(Be,qe="signal"){if(D(Be,qe),void 0===we[Be])throw void 0!==we[L(Be)]?new ce(Be+" (signals must use all capital letters)"):new ce(Be)},validateString:D,validateUint32:E,validateUndefined:me,validateUnion:function te(Be,qe,ze){if(!b(ze,Be))throw new Z(qe,`('${P(ze,"|")}')`,Be)},validateAbortSignal:ve,validateLinkHeaderValue:function Ae(Be){if("string"==typeof Be)return le(Be,"hints"),Be;if(y(Be)){const qe=Be.length;let ze="";if(0===qe)return ze;for(let Dt=0;Dt<qe;Dt++){const Xe=Be[Dt];le(Xe,"hints"),ze+=Xe,Dt!==qe-1&&(ze+=", ")}return ze}throw new J("hints",Be,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:(We,j,_)=>{"use strict";const y=_(33885),b=_(74870),P=y.Readable.destroy;We.exports=y.Readable,We.exports._uint8ArrayToBuffer=y._uint8ArrayToBuffer,We.exports._isUint8Array=y._isUint8Array,We.exports.isDisturbed=y.isDisturbed,We.exports.isErrored=y.isErrored,We.exports.isReadable=y.isReadable,We.exports.Readable=y.Readable,We.exports.Writable=y.Writable,We.exports.Duplex=y.Duplex,We.exports.Transform=y.Transform,We.exports.PassThrough=y.PassThrough,We.exports.addAbortSignal=y.addAbortSignal,We.exports.finished=y.finished,We.exports.destroy=y.destroy,We.exports.destroy=P,We.exports.pipeline=y.pipeline,We.exports.compose=y.compose,Object.defineProperty(y,"promises",{configurable:!0,enumerable:!0,get:()=>b}),We.exports.Stream=y.Stream,We.exports.default=We.exports},68154:(We,j,_)=>{"use strict";const{format:y,inspect:b,AggregateError:P}=_(13509),H=globalThis.AggregateError||P,w=Symbol("kIsNodeError"),O=["string","function","number","object","Function","Object","boolean","bigint","symbol"],S=/^([A-Z][a-z0-9]*)+$/,N={};function U(Z,J){if(!Z)throw new N.ERR_INTERNAL_ASSERTION(J)}function A(Z){let J="",se=Z.length;const ce="-"===Z[0]?1:0;for(;se>=ce+4;se-=3)J=`_${Z.slice(se-3,se)}${J}`;return`${Z.slice(0,se)}${J}`}function L(Z,J,se){se||(se=Error);class ce extends se{constructor(...fe){super(function G(Z,J,se){if("function"==typeof J)return U(J.length<=se.length,`Code: ${Z}; The provided arguments length (${se.length}) does not match the required ones (${J.length}).`),J(...se);const ce=(J.match(/%[dfijoOs]/g)||[]).length;return U(ce===se.length,`Code: ${Z}; The provided arguments length (${se.length}) does not match the required ones (${ce}).`),0===se.length?J:y(J,...se)}(Z,J,fe))}toString(){return`${this.name} [${Z}]: ${this.message}`}}Object.defineProperties(ce.prototype,{name:{value:se.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Z}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ce.prototype.code=Z,ce.prototype[w]=!0,N[Z]=ce}function z(Z){return Object.defineProperty(Z,"name",{value:"__node_internal_"+Z.name}),Z}class q extends Error{constructor(J="The operation was aborted",se=void 0){if(void 0!==se&&"object"!=typeof se)throw new N.ERR_INVALID_ARG_TYPE("options","Object",se);super(J,se),this.code="ABORT_ERR",this.name="AbortError"}}L("ERR_ASSERTION","%s",Error),L("ERR_INVALID_ARG_TYPE",(Z,J,se)=>{U("string"==typeof Z,"'name' must be a string"),Array.isArray(J)||(J=[J]);let ce="The ";Z.endsWith(" argument")?ce+=`${Z} `:ce+=`"${Z}" ${Z.includes(".")?"property":"argument"} `,ce+="must be ";const ae=[],fe=[],he=[];for(const Me of J)U("string"==typeof Me,"All expected entries have to be of type string"),O.includes(Me)?ae.push(Me.toLowerCase()):S.test(Me)?fe.push(Me):(U("object"!==Me,'The value "object" should be written as "Object"'),he.push(Me));if(fe.length>0){const Me=ae.indexOf("object");-1!==Me&&(ae.splice(ae,Me,1),fe.push("Object"))}if(ae.length>0){switch(ae.length){case 1:ce+=`of type ${ae[0]}`;break;case 2:ce+=`one of type ${ae[0]} or ${ae[1]}`;break;default:{const Me=ae.pop();ce+=`one of type ${ae.join(", ")}, or ${Me}`}}(fe.length>0||he.length>0)&&(ce+=" or ")}if(fe.length>0){switch(fe.length){case 1:ce+=`an instance of ${fe[0]}`;break;case 2:ce+=`an instance of ${fe[0]} or ${fe[1]}`;break;default:{const Me=fe.pop();ce+=`an instance of ${fe.join(", ")}, or ${Me}`}}he.length>0&&(ce+=" or ")}switch(he.length){case 0:break;case 1:he[0].toLowerCase()!==he[0]&&(ce+="an "),ce+=`${he[0]}`;break;case 2:ce+=`one of ${he[0]} or ${he[1]}`;break;default:{const Me=he.pop();ce+=`one of ${he.join(", ")}, or ${Me}`}}if(null==se)ce+=`. Received ${se}`;else if("function"==typeof se&&se.name)ce+=`. Received function ${se.name}`;else if("object"==typeof se){var we;null!==(we=se.constructor)&&void 0!==we&&we.name?ce+=`. Received an instance of ${se.constructor.name}`:ce+=`. Received ${b(se,{depth:-1})}`}else{let Me=b(se,{colors:!1});Me.length>25&&(Me=`${Me.slice(0,25)}...`),ce+=`. Received type ${typeof se} (${Me})`}return ce},TypeError),L("ERR_INVALID_ARG_VALUE",(Z,J,se="is invalid")=>{let ce=b(J);return ce.length>128&&(ce=ce.slice(0,128)+"..."),`The ${Z.includes(".")?"property":"argument"} '${Z}' ${se}. Received ${ce}`},TypeError),L("ERR_INVALID_RETURN_VALUE",(Z,J,se)=>{var ce;return`Expected ${Z} to be returned from the "${J}" function but got ${null!=se&&null!==(ce=se.constructor)&&void 0!==ce&&ce.name?`instance of ${se.constructor.name}`:"type "+typeof se}.`},TypeError),L("ERR_MISSING_ARGS",(...Z)=>{let J;U(Z.length>0,"At least one arg needs to be specified");const se=Z.length;switch(Z=(Array.isArray(Z)?Z:[Z]).map(ce=>`"${ce}"`).join(" or "),se){case 1:J+=`The ${Z[0]} argument`;break;case 2:J+=`The ${Z[0]} and ${Z[1]} arguments`;break;default:{const ce=Z.pop();J+=`The ${Z.join(", ")}, and ${ce} arguments`}}return`${J} must be specified`},TypeError),L("ERR_OUT_OF_RANGE",(Z,J,se)=>{let ce;return U(J,'Missing "range" argument'),Number.isInteger(se)&&Math.abs(se)>2**32?ce=A(String(se)):"bigint"==typeof se?(ce=String(se),(se>2n**32n||se<-(2n**32n))&&(ce=A(ce)),ce+="n"):ce=b(se),`The value of "${Z}" is out of range. It must be ${J}. Received ${ce}`},RangeError),L("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),L("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),L("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),L("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),L("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),L("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),L("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),L("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),L("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),L("ERR_STREAM_WRITE_AFTER_END","write after end",Error),L("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),We.exports={AbortError:q,aggregateTwoErrors:z(function ee(Z,J){if(Z&&J&&Z!==J){if(Array.isArray(J.errors))return J.errors.push(Z),J;const se=new H([J,Z],J.message);return se.code=J.code,se}return Z||J}),hideStackFrames:z,codes:N}},56389:We=>{"use strict";We.exports={ArrayIsArray:j=>Array.isArray(j),ArrayPrototypeIncludes:(j,_)=>j.includes(_),ArrayPrototypeIndexOf:(j,_)=>j.indexOf(_),ArrayPrototypeJoin:(j,_)=>j.join(_),ArrayPrototypeMap:(j,_)=>j.map(_),ArrayPrototypePop:(j,_)=>j.pop(_),ArrayPrototypePush:(j,_)=>j.push(_),ArrayPrototypeSlice:(j,_,y)=>j.slice(_,y),Error,FunctionPrototypeCall:(j,_,...y)=>j.call(_,...y),FunctionPrototypeSymbolHasInstance:(j,_)=>Function.prototype[Symbol.hasInstance].call(j,_),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(j,_)=>Object.defineProperties(j,_),ObjectDefineProperty:(j,_,y)=>Object.defineProperty(j,_,y),ObjectGetOwnPropertyDescriptor:(j,_)=>Object.getOwnPropertyDescriptor(j,_),ObjectKeys:j=>Object.keys(j),ObjectSetPrototypeOf:(j,_)=>Object.setPrototypeOf(j,_),Promise,PromisePrototypeCatch:(j,_)=>j.catch(_),PromisePrototypeThen:(j,_,y)=>j.then(_,y),PromiseReject:j=>Promise.reject(j),PromiseResolve:j=>Promise.resolve(j),ReflectApply:Reflect.apply,RegExpPrototypeTest:(j,_)=>j.test(_),SafeSet:Set,String,StringPrototypeSlice:(j,_,y)=>j.slice(_,y),StringPrototypeToLowerCase:j=>j.toLowerCase(),StringPrototypeToUpperCase:j=>j.toUpperCase(),StringPrototypeTrim:j=>j.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(j,_,y)=>j.set(_,y),Boolean,Uint8Array}},13509:(We,j,_)=>{"use strict";var y=_(29293).default;const b=_(68316),{kResistStopPropagation:P,SymbolDispose:H}=_(56389),w=globalThis.AbortSignal||_(9465).AbortSignal,O=globalThis.AbortController||_(9465).AbortController,S=Object.getPrototypeOf(y(function*(){})).constructor,B=globalThis.Blob||b.Blob,N=typeof B<"u"?function(z){return z instanceof B}:function(z){return!1},U=(L,z)=>{if(void 0!==L&&(null===L||"object"!=typeof L||!("aborted"in L)))throw new ERR_INVALID_ARG_TYPE(z,"AbortSignal",L)};class G extends Error{constructor(z){if(!Array.isArray(z))throw new TypeError("Expected input to be an Array, got "+typeof z);let ee="";for(let q=0;q<z.length;q++)ee+=`    ${z[q].stack}\n`;super(ee),this.name="AggregateError",this.errors=z}}We.exports={AggregateError:G,kEmptyObject:Object.freeze({}),once(L){let z=!1;return function(...ee){z||(z=!0,L.apply(this,ee))}},createDeferredPromise:function(){let L,z;return{promise:new Promise((q,Z)=>{L=q,z=Z}),resolve:L,reject:z}},promisify:L=>new Promise((z,ee)=>{L((q,...Z)=>q?ee(q):z(...Z))}),debuglog:()=>function(){},format:(L,...z)=>L.replace(/%([sdifj])/g,function(...[ee,q]){const Z=z.shift();return"f"===q?Z.toFixed(6):"j"===q?JSON.stringify(Z):"s"===q&&"object"==typeof Z?`${Z.constructor!==Object?Z.constructor.name:""} {}`.trim():Z.toString()}),inspect(L){switch(typeof L){case"string":if(L.includes("'")){if(!L.includes('"'))return`"${L}"`;if(!L.includes("`")&&!L.includes("${"))return`\`${L}\``}return`'${L}'`;case"number":return isNaN(L)?"NaN":Object.is(L,-0)?String(L):L;case"bigint":return`${String(L)}n`;case"boolean":case"undefined":return String(L);case"object":return"{}"}},types:{isAsyncFunction:L=>L instanceof S,isArrayBufferView:L=>ArrayBuffer.isView(L)},isBlob:N,deprecate:(L,z)=>L,addAbortListener:_(44356).addAbortListener||function(z,ee){if(void 0===z)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",z);let q;return U(z,"signal"),((L,z)=>{if("function"!=typeof L)throw new ERR_INVALID_ARG_TYPE("listener","Function",L)})(ee),z.aborted?queueMicrotask(()=>ee()):(z.addEventListener("abort",ee,{__proto__:null,once:!0,[P]:!0}),q=()=>{z.removeEventListener("abort",ee)}),{__proto__:null,[H](){var Z;null===(Z=q)||void 0===Z||Z()}}},AbortSignalAny:w.any||function(z){if(1===z.length)return z[0];const ee=new O,q=()=>ee.abort();return z.forEach(Z=>{U(Z,"signals"),Z.addEventListener("abort",q,{once:!0})}),ee.signal.addEventListener("abort",()=>{z.forEach(Z=>Z.removeEventListener("abort",q))},{once:!0}),ee.signal}},We.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:(We,j,_)=>{const{Buffer:y}=_(68316),{ObjectDefineProperty:b,ObjectKeys:P,ReflectApply:H}=_(56389),{promisify:{custom:w}}=_(13509),{streamReturningOperators:O,promiseReturningOperators:S}=_(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:B}}=_(68154),N=_(373),{setDefaultHighWaterMark:U,getDefaultHighWaterMark:A}=_(18212),{pipeline:G}=_(67843),{destroyer:L}=_(96507),z=_(46017),q=_(74870),Z=_(32924),J=We.exports=_(91242).Stream;J.isDestroyed=Z.isDestroyed,J.isDisturbed=Z.isDisturbed,J.isErrored=Z.isErrored,J.isReadable=Z.isReadable,J.isWritable=Z.isWritable,J.Readable=_(84553);for(const ae of P(O)){let he=function(...we){if(new.target)throw B();return J.Readable.from(H(fe,this,we))};const fe=O[ae];b(he,"name",{__proto__:null,value:fe.name}),b(he,"length",{__proto__:null,value:fe.length}),b(J.Readable.prototype,ae,{__proto__:null,value:he,enumerable:!1,configurable:!0,writable:!0})}for(const ae of P(S)){let he=function(...Me){if(new.target)throw B();return H(fe,this,Me)};const fe=S[ae];b(he,"name",{__proto__:null,value:fe.name}),b(he,"length",{__proto__:null,value:fe.length}),b(J.Readable.prototype,ae,{__proto__:null,value:he,enumerable:!1,configurable:!0,writable:!0})}J.Writable=_(30009),J.Duplex=_(13323),J.Transform=_(71981),J.PassThrough=_(59447),J.pipeline=G;const{addAbortSignal:se}=_(57062);J.addAbortSignal=se,J.finished=z,J.destroy=L,J.compose=N,J.setDefaultHighWaterMark=U,J.getDefaultHighWaterMark=A,b(J,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>q}),b(G,w,{__proto__:null,enumerable:!0,get:()=>q.pipeline}),b(z,w,{__proto__:null,enumerable:!0,get:()=>q.finished}),J.Stream=J,J._isUint8Array=function(fe){return fe instanceof Uint8Array},J._uint8ArrayToBuffer=function(fe){return y.from(fe.buffer,fe.byteOffset,fe.byteLength)}},74870:(We,j,_)=>{"use strict";const{ArrayPrototypePop:y,Promise:b}=_(56389),{isIterable:P,isNodeStream:H,isWebStream:w}=_(32924),{pipelineImpl:O}=_(67843),{finished:S}=_(46017);_(33885),We.exports={finished:S,pipeline:function B(...N){return new b((U,A)=>{let G,L;const z=N[N.length-1];if(z&&"object"==typeof z&&!H(z)&&!P(z)&&!w(z)){const ee=y(N);G=ee.signal,L=ee.end}O(N,(ee,q)=>{ee?A(ee):U(q)},{signal:G,end:L})})}}},94787:(We,j,_)=>{j.Level=_(23963).BrowserLevel},81447:We=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}We.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},1424:(We,j,_)=>{_(23963)},44514:We=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}We.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},89565:(We,j,_)=>{"use strict";const y=_(13981),b=_(22020),P="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function J(K){return+K!=K&&(K=0),S.alloc(+K)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function O(K){if(K>H)throw new RangeError('The value "'+K+'" is invalid for option "size"');const T=new Uint8Array(K);return Object.setPrototypeOf(T,S.prototype),T}function S(K,T,M){if("number"==typeof K){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return A(K)}return B(K,T,M)}function B(K,T,M){if("string"==typeof K)return function G(K,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!S.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const M=0|se(K,T);let Y=O(M);const pe=Y.write(K,T);return pe!==M&&(Y=Y.slice(0,pe)),Y}(K,T);if(ArrayBuffer.isView(K))return function z(K){if(ze(K,Uint8Array)){const T=new Uint8Array(K);return ee(T.buffer,T.byteOffset,T.byteLength)}return L(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(ze(K,ArrayBuffer)||K&&ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(K,SharedArrayBuffer)||K&&ze(K.buffer,SharedArrayBuffer)))return ee(K,T,M);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=K.valueOf&&K.valueOf();if(null!=Y&&Y!==K)return S.from(Y,T,M);const pe=function q(K){if(S.isBuffer(K)){const T=0|Z(K.length),M=O(T);return 0===M.length||K.copy(M,0,0,T),M}return void 0!==K.length?"number"!=typeof K.length||Dt(K.length)?O(0):L(K):"Buffer"===K.type&&Array.isArray(K.data)?L(K.data):void 0}(K);if(pe)return pe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return S.from(K[Symbol.toPrimitive]("string"),T,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function N(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function A(K){return N(K),O(K<0?0:0|Z(K))}function L(K){const T=K.length<0?0:0|Z(K.length),M=O(T);for(let Y=0;Y<T;Y+=1)M[Y]=255&K[Y];return M}function ee(K,T,M){if(T<0||K.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<T+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return Y=void 0===T&&void 0===M?new Uint8Array(K):void 0===M?new Uint8Array(K,T):new Uint8Array(K,T,M),Object.setPrototypeOf(Y,S.prototype),Y}function Z(K){if(K>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|K}function se(K,T){if(S.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const M=K.length,Y=arguments.length>2&&!0===arguments[2];if(!Y&&0===M)return 0;let pe=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ne(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Be(K).length;default:if(pe)return Y?-1:ne(K).length;T=(""+T).toLowerCase(),pe=!0}}function ce(K,T,M){let Y=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(T>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return x(this,T,M);case"utf8":case"utf-8":return m(this,T,M);case"ascii":return D(this,T,M);case"latin1":case"binary":return R(this,T,M);case"base64":return d(this,T,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,T,M);default:if(Y)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Y=!0}}function ae(K,T,M){const Y=K[T];K[T]=K[M],K[M]=Y}function fe(K,T,M,Y,pe){if(0===K.length)return-1;if("string"==typeof M?(Y=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=pe?0:K.length-1),M<0&&(M=K.length+M),M>=K.length){if(pe)return-1;M=K.length-1}else if(M<0){if(!pe)return-1;M=0}if("string"==typeof T&&(T=S.from(T,Y)),S.isBuffer(T))return 0===T.length?-1:he(K,T,M,Y,pe);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?pe?Uint8Array.prototype.indexOf.call(K,T,M):Uint8Array.prototype.lastIndexOf.call(K,T,M):he(K,[T],M,Y,pe);throw new TypeError("val must be string, number or Buffer")}function he(K,T,M,Y,pe){let It,ke=1,Ne=K.length,lt=T.length;if(void 0!==Y&&("ucs2"===(Y=String(Y).toLowerCase())||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(K.length<2||T.length<2)return-1;ke=2,Ne/=2,lt/=2,M/=2}function en(Kt,rn){return 1===ke?Kt[rn]:Kt.readUInt16BE(rn*ke)}if(pe){let Kt=-1;for(It=M;It<Ne;It++)if(en(K,It)===en(T,-1===Kt?0:It-Kt)){if(-1===Kt&&(Kt=It),It-Kt+1===lt)return Kt*ke}else-1!==Kt&&(It-=It-Kt),Kt=-1}else for(M+lt>Ne&&(M=Ne-lt),It=M;It>=0;It--){let Kt=!0;for(let rn=0;rn<lt;rn++)if(en(K,It+rn)!==en(T,rn)){Kt=!1;break}if(Kt)return It}return-1}function we(K,T,M,Y){M=Number(M)||0;const pe=K.length-M;Y?(Y=Number(Y))>pe&&(Y=pe):Y=pe;const ke=T.length;let Ne;for(Y>ke/2&&(Y=ke/2),Ne=0;Ne<Y;++Ne){const lt=parseInt(T.substr(2*Ne,2),16);if(Dt(lt))return Ne;K[M+Ne]=lt}return Ne}function Me(K,T,M,Y){return qe(ne(T,K.length-M),K,M,Y)}function Pe(K,T,M,Y){return qe(function le(K){const T=[];for(let M=0;M<K.length;++M)T.push(255&K.charCodeAt(M));return T}(T),K,M,Y)}function C(K,T,M,Y){return qe(Be(T),K,M,Y)}function a(K,T,M,Y){return qe(function Ae(K,T){let M,Y,pe;const ke=[];for(let Ne=0;Ne<K.length&&!((T-=2)<0);++Ne)M=K.charCodeAt(Ne),Y=M>>8,pe=M%256,ke.push(pe),ke.push(Y);return ke}(T,K.length-M),K,M,Y)}function d(K,T,M){return y.fromByteArray(0===T&&M===K.length?K:K.slice(T,M))}function m(K,T,M){M=Math.min(K.length,M);const Y=[];let pe=T;for(;pe<M;){const ke=K[pe];let Ne=null,lt=ke>239?4:ke>223?3:ke>191?2:1;if(pe+lt<=M){let en,It,Kt,rn;switch(lt){case 1:ke<128&&(Ne=ke);break;case 2:en=K[pe+1],128==(192&en)&&(rn=(31&ke)<<6|63&en,rn>127&&(Ne=rn));break;case 3:en=K[pe+1],It=K[pe+2],128==(192&en)&&128==(192&It)&&(rn=(15&ke)<<12|(63&en)<<6|63&It,rn>2047&&(rn<55296||rn>57343)&&(Ne=rn));break;case 4:en=K[pe+1],It=K[pe+2],Kt=K[pe+3],128==(192&en)&&128==(192&It)&&128==(192&Kt)&&(rn=(15&ke)<<18|(63&en)<<12|(63&It)<<6|63&Kt,rn>65535&&rn<1114112&&(Ne=rn))}}null===Ne?(Ne=65533,lt=1):Ne>65535&&(Ne-=65536,Y.push(Ne>>>10&1023|55296),Ne=56320|1023&Ne),Y.push(Ne),pe+=lt}return function E(K){const T=K.length;if(T<=p)return String.fromCharCode.apply(String,K);let M="",Y=0;for(;Y<T;)M+=String.fromCharCode.apply(String,K.slice(Y,Y+=p));return M}(Y)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function w(){try{const K=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(K,T),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(K,T,M){return B(K,T,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(K,T,M){return function U(K,T,M){return N(K),K<=0?O(K):void 0!==T?"string"==typeof M?O(K).fill(T,M):O(K).fill(T):O(K)}(K,T,M)},S.allocUnsafe=function(K){return A(K)},S.allocUnsafeSlow=function(K){return A(K)},S.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==S.prototype},S.compare=function(T,M){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),ze(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(T)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===M)return 0;let Y=T.length,pe=M.length;for(let ke=0,Ne=Math.min(Y,pe);ke<Ne;++ke)if(T[ke]!==M[ke]){Y=T[ke],pe=M[ke];break}return Y<pe?-1:pe<Y?1:0},S.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(T,M){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return S.alloc(0);let Y;if(void 0===M)for(M=0,Y=0;Y<T.length;++Y)M+=T[Y].length;const pe=S.allocUnsafe(M);let ke=0;for(Y=0;Y<T.length;++Y){let Ne=T[Y];if(ze(Ne,Uint8Array))ke+Ne.length>pe.length?(S.isBuffer(Ne)||(Ne=S.from(Ne)),Ne.copy(pe,ke)):Uint8Array.prototype.set.call(pe,Ne,ke);else{if(!S.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(pe,ke)}ke+=Ne.length}return pe},S.byteLength=se,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<T;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<T;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<T;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ce.apply(this,arguments)},S.prototype.equals=function(T){if(!S.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===S.compare(this,T)},S.prototype.inspect=function(){let T="";const M=j.INSPECT_MAX_BYTES;return T=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(T+=" ... "),"<Buffer "+T+">"},P&&(S.prototype[P]=S.prototype.inspect),S.prototype.compare=function(T,M,Y,pe,ke){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),!S.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===M&&(M=0),void 0===Y&&(Y=T?T.length:0),void 0===pe&&(pe=0),void 0===ke&&(ke=this.length),M<0||Y>T.length||pe<0||ke>this.length)throw new RangeError("out of range index");if(pe>=ke&&M>=Y)return 0;if(pe>=ke)return-1;if(M>=Y)return 1;if(this===T)return 0;let Ne=(ke>>>=0)-(pe>>>=0),lt=(Y>>>=0)-(M>>>=0);const en=Math.min(Ne,lt),It=this.slice(pe,ke),Kt=T.slice(M,Y);for(let rn=0;rn<en;++rn)if(It[rn]!==Kt[rn]){Ne=It[rn],lt=Kt[rn];break}return Ne<lt?-1:lt<Ne?1:0},S.prototype.includes=function(T,M,Y){return-1!==this.indexOf(T,M,Y)},S.prototype.indexOf=function(T,M,Y){return fe(this,T,M,Y,!0)},S.prototype.lastIndexOf=function(T,M,Y){return fe(this,T,M,Y,!1)},S.prototype.write=function(T,M,Y,pe){if(void 0===M)pe="utf8",Y=this.length,M=0;else if(void 0===Y&&"string"==typeof M)pe=M,Y=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(Y)?(Y>>>=0,void 0===pe&&(pe="utf8")):(pe=Y,Y=void 0)}const ke=this.length-M;if((void 0===Y||Y>ke)&&(Y=ke),T.length>0&&(Y<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let Ne=!1;for(;;)switch(pe){case"hex":return we(this,T,M,Y);case"utf8":case"utf-8":return Me(this,T,M,Y);case"ascii":case"latin1":case"binary":return Pe(this,T,M,Y);case"base64":return C(this,T,M,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,T,M,Y);default:if(Ne)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Ne=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(127&K[pe]);return Y}function R(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(K[pe]);return Y}function x(K,T,M){const Y=K.length;(!T||T<0)&&(T=0),(!M||M<0||M>Y)&&(M=Y);let pe="";for(let ke=T;ke<M;++ke)pe+=Xe[K[ke]];return pe}function s(K,T,M){const Y=K.slice(T,M);let pe="";for(let ke=0;ke<Y.length-1;ke+=2)pe+=String.fromCharCode(Y[ke]+256*Y[ke+1]);return pe}function v(K,T,M){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+T>M)throw new RangeError("Trying to access beyond buffer length")}function $(K,T,M,Y,pe,ke){if(!S.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>pe||T<ke)throw new RangeError('"value" argument is out of bounds');if(M+Y>K.length)throw new RangeError("Index out of range")}function F(K,T,M,Y,pe){ve(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,M}function Q(K,T,M,Y,pe){ve(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M+7]=ke,ke>>=8,K[M+6]=ke,ke>>=8,K[M+5]=ke,ke>>=8,K[M+4]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M+3]=Ne,Ne>>=8,K[M+2]=Ne,Ne>>=8,K[M+1]=Ne,Ne>>=8,K[M]=Ne,M+8}function de(K,T,M,Y,pe,ke){if(M+Y>K.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function De(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,4),b.write(K,T,M,Y,23,4),M+4}function Re(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,8),b.write(K,T,M,Y,52,8),M+8}S.prototype.slice=function(T,M){const Y=this.length;(T=~~T)<0?(T+=Y)<0&&(T=0):T>Y&&(T=Y),(M=void 0===M?Y:~~M)<0?(M+=Y)<0&&(M=0):M>Y&&(M=Y),M<T&&(M=T);const pe=this.subarray(T,M);return Object.setPrototypeOf(pe,S.prototype),pe},S.prototype.readUintLE=S.prototype.readUIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return pe},S.prototype.readUintBE=S.prototype.readUIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T+--M],ke=1;for(;M>0&&(ke*=256);)pe+=this[T+--M]*ke;return pe},S.prototype.readUint8=S.prototype.readUInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),this[T]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]|this[T+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]<<8|this[T+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},S.prototype.readBigUInt64LE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M+256*this[++T]+65536*this[++T]+this[++T]*2**24,ke=this[++T]+256*this[++T]+65536*this[++T]+Y*2**24;return BigInt(pe)+(BigInt(ke)<<BigInt(32))}),S.prototype.readBigUInt64BE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M*2**24+65536*this[++T]+256*this[++T]+this[++T],ke=this[++T]*2**24+65536*this[++T]+256*this[++T]+Y;return(BigInt(pe)<<BigInt(32))+BigInt(ke)}),S.prototype.readIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return ke*=128,pe>=ke&&(pe-=Math.pow(2,8*M)),pe},S.prototype.readIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=M,ke=1,Ne=this[T+--pe];for(;pe>0&&(ke*=256);)Ne+=this[T+--pe]*ke;return ke*=128,Ne>=ke&&(Ne-=Math.pow(2,8*M)),Ne},S.prototype.readInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},S.prototype.readInt16LE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T]|this[T+1]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt16BE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T+1]|this[T]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},S.prototype.readInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},S.prototype.readBigInt64LE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];return(void 0===M||void 0===Y)&&ge(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Y<<24))<<BigInt(32))+BigInt(M+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),S.prototype.readBigInt64BE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=(M<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(pe)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Y)}),S.prototype.readFloatLE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!0,23,4)},S.prototype.readFloatBE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!1,23,4)},S.prototype.readDoubleLE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!0,52,8)},S.prototype.readDoubleBE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=1,Ne=0;for(this[M]=255&T;++Ne<Y&&(ke*=256);)this[M+Ne]=T/ke&255;return M+Y},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=Y-1,Ne=1;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)this[M+ke]=T/Ne&255;return M+Y},S.prototype.writeUint8=S.prototype.writeUInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,255,0),this[M]=255&T,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M+3]=T>>>24,this[M+2]=T>>>16,this[M+1]=T>>>8,this[M]=255&T,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigUInt64LE=Ue(function(T,M=0){return F(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=Ue(function(T,M=0){return Q(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=0,Ne=1,lt=0;for(this[M]=255&T;++ke<Y&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke-1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeIntBE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=Y-1,Ne=1,lt=0;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke+1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,127,-128),T<0&&(T=255+T+1),this[M]=255&T,M+1},S.prototype.writeInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),this[M]=255&T,this[M+1]=T>>>8,this[M+2]=T>>>16,this[M+3]=T>>>24,M+4},S.prototype.writeInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigInt64LE=Ue(function(T,M=0){return F(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=Ue(function(T,M=0){return Q(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(T,M,Y){return De(this,T,M,!0,Y)},S.prototype.writeFloatBE=function(T,M,Y){return De(this,T,M,!1,Y)},S.prototype.writeDoubleLE=function(T,M,Y){return Re(this,T,M,!0,Y)},S.prototype.writeDoubleBE=function(T,M,Y){return Re(this,T,M,!1,Y)},S.prototype.copy=function(T,M,Y,pe){if(!S.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!pe&&0!==pe&&(pe=this.length),M>=T.length&&(M=T.length),M||(M=0),pe>0&&pe<Y&&(pe=Y),pe===Y||0===T.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),T.length-M<pe-Y&&(pe=T.length-M+Y);const ke=pe-Y;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,Y,pe):Uint8Array.prototype.set.call(T,this.subarray(Y,pe),M),ke},S.prototype.fill=function(T,M,Y,pe){if("string"==typeof T){if("string"==typeof M?(pe=M,M=0,Y=this.length):"string"==typeof Y&&(pe=Y,Y=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!S.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(1===T.length){const Ne=T.charCodeAt(0);("utf8"===pe&&Ne<128||"latin1"===pe)&&(T=Ne)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(M<0||this.length<M||this.length<Y)throw new RangeError("Out of range index");if(Y<=M)return this;let ke;if(M>>>=0,Y=void 0===Y?this.length:Y>>>0,T||(T=0),"number"==typeof T)for(ke=M;ke<Y;++ke)this[ke]=T;else{const Ne=S.isBuffer(T)?T:S.from(T,pe),lt=Ne.length;if(0===lt)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ke=0;ke<Y-M;++ke)this[ke+M]=Ne[ke%lt]}return this};const Ve={};function Ee(K,T,M){Ve[K]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function _e(K){let T="",M=K.length;const Y="-"===K[0]?1:0;for(;M>=Y+4;M-=3)T=`_${K.slice(M-3,M)}${T}`;return`${K.slice(0,M)}${T}`}function ve(K,T,M,Y,pe,ke){if(K>M||K<T){const Ne="bigint"==typeof T?"n":"";let lt;throw lt=ke>3?0===T||T===BigInt(0)?`>= 0${Ne} and < 2${Ne} ** ${8*(ke+1)}${Ne}`:`>= -(2${Ne} ** ${8*(ke+1)-1}${Ne}) and < 2 ** ${8*(ke+1)-1}${Ne}`:`>= ${T}${Ne} and <= ${M}${Ne}`,new Ve.ERR_OUT_OF_RANGE("value",lt,K)}!function Fe(K,T,M){Te(T,"offset"),(void 0===K[T]||void 0===K[T+M])&&ge(T,K.length-(M+1))}(Y,pe,ke)}function Te(K,T){if("number"!=typeof K)throw new Ve.ERR_INVALID_ARG_TYPE(T,"number",K)}function ge(K,T,M){throw Math.floor(K)!==K?(Te(K,M),new Ve.ERR_OUT_OF_RANGE(M||"offset","an integer",K)):T<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${T}`,K)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(K,T){return`The "${K}" argument must be of type number. Received type ${typeof T}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(K,T,M){let Y=`The value of "${K}" is out of range.`,pe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?pe=_e(String(M)):"bigint"==typeof M&&(pe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(pe=_e(pe)),pe+="n"),Y+=` It must be ${T}. Received ${pe}`,Y},RangeError);const me=/[^+/0-9A-Za-z-_]/g;function ne(K,T){let M;T=T||1/0;const Y=K.length;let pe=null;const ke=[];for(let Ne=0;Ne<Y;++Ne){if(M=K.charCodeAt(Ne),M>55295&&M<57344){if(!pe){if(M>56319){(T-=3)>-1&&ke.push(239,191,189);continue}if(Ne+1===Y){(T-=3)>-1&&ke.push(239,191,189);continue}pe=M;continue}if(M<56320){(T-=3)>-1&&ke.push(239,191,189),pe=M;continue}M=65536+(pe-55296<<10|M-56320)}else pe&&(T-=3)>-1&&ke.push(239,191,189);if(pe=null,M<128){if((T-=1)<0)break;ke.push(M)}else if(M<2048){if((T-=2)<0)break;ke.push(M>>6|192,63&M|128)}else if(M<65536){if((T-=3)<0)break;ke.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;ke.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return ke}function Be(K){return y.toByteArray(function te(K){if((K=(K=K.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function qe(K,T,M,Y){let pe;for(pe=0;pe<Y&&!(pe+M>=T.length||pe>=K.length);++pe)T[pe+M]=K[pe];return pe}function ze(K,T){return K instanceof T||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===T.name}function Dt(K){return K!=K}const Xe=function(){const K="0123456789abcdef",T=new Array(256);for(let M=0;M<16;++M){const Y=16*M;for(let pe=0;pe<16;++pe)T[Y+pe]=K[M]+K[pe]}return T}();function Ue(K){return typeof BigInt>"u"?mt:K}function mt(){throw new Error("BigInt not supported")}},24785:(We,j,_)=>{"use strict";const{AbortError:y,codes:b}=_(65109),{isNodeStream:P,isWebStream:H,kControllerErrorFunction:w}=_(51233),O=_(44268),{ERR_INVALID_ARG_TYPE:S}=b;We.exports.addAbortSignal=function(U,A){if(((N,U)=>{if("object"!=typeof N||!("aborted"in N))throw new S("signal","AbortSignal",N)})(U),!P(A)&&!H(A))throw new S("stream",["ReadableStream","WritableStream","Stream"],A);return We.exports.addAbortSignalNoValidate(U,A)},We.exports.addAbortSignalNoValidate=function(N,U){if("object"!=typeof N||!("aborted"in N))return U;const A=P(U)?()=>{U.destroy(new y(void 0,{cause:N.reason}))}:()=>{U[w](new y(void 0,{cause:N.reason}))};return N.aborted?A():(N.addEventListener("abort",A),O(U,()=>N.removeEventListener("abort",A))),U}},58579:(We,j,_)=>{"use strict";const{StringPrototypeSlice:y,SymbolIterator:b,TypedArrayPrototypeSet:P,Uint8Array:H}=_(43856),{Buffer:w}=_(89565),{inspect:O}=_(55830);We.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(B){const N={data:B,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length}unshift(B){const N={data:B,next:this.head};0===this.length&&(this.tail=N),this.head=N,++this.length}shift(){if(0===this.length)return;const B=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,B}clear(){this.head=this.tail=null,this.length=0}join(B){if(0===this.length)return"";let N=this.head,U=""+N.data;for(;null!==(N=N.next);)U+=B+N.data;return U}concat(B){if(0===this.length)return w.alloc(0);const N=w.allocUnsafe(B>>>0);let U=this.head,A=0;for(;U;)P(N,U.data,A),A+=U.data.length,U=U.next;return N}consume(B,N){const U=this.head.data;if(B<U.length){const A=U.slice(0,B);return this.head.data=U.slice(B),A}return B===U.length?this.shift():N?this._getString(B):this._getBuffer(B)}first(){return this.head.data}*[b](){for(let B=this.head;B;B=B.next)yield B.data}_getString(B){let N="",U=this.head,A=0;do{const G=U.data;if(!(B>G.length)){B===G.length?(N+=G,++A,this.head=U.next?U.next:this.tail=null):(N+=y(G,0,B),this.head=U,U.data=y(G,B));break}N+=G,B-=G.length,++A}while(null!==(U=U.next));return this.length-=A,N}_getBuffer(B){const N=w.allocUnsafe(B),U=B;let A=this.head,G=0;do{const L=A.data;if(!(B>L.length)){B===L.length?(P(N,L,U-B),++G,this.head=A.next?A.next:this.tail=null):(P(N,new H(L.buffer,L.byteOffset,B),U-B),this.head=A,A.data=L.slice(B));break}P(N,L,U-B),B-=L.length,++G}while(null!==(A=A.next));return this.length-=G,N}[Symbol.for("nodejs.util.inspect.custom")](B,N){return O(this,{...N,depth:0,customInspect:!1})}}},5464:(We,j,_)=>{"use strict";var y=_(29293).default;const{pipeline:b}=_(96208),P=_(97464),{destroyer:H}=_(45078),{isNodeStream:w,isReadable:O,isWritable:S,isWebStream:B,isTransformStream:N,isWritableStream:U,isReadableStream:A}=_(51233),{AbortError:G,codes:{ERR_INVALID_ARG_VALUE:L,ERR_MISSING_ARGS:z}}=_(65109),ee=_(44268);We.exports=function(...Z){if(0===Z.length)throw new z("streams");if(1===Z.length)return P.from(Z[0]);const J=[...Z];if("function"==typeof Z[0]&&(Z[0]=P.from(Z[0])),"function"==typeof Z[Z.length-1]){const d=Z.length-1;Z[d]=P.from(Z[d])}for(let d=0;d<Z.length;++d)if(w(Z[d])||B(Z[d])){if(d<Z.length-1&&!(O(Z[d])||A(Z[d])||N(Z[d])))throw new L(`streams[${d}]`,J[d],"must be readable");if(d>0&&!(S(Z[d])||U(Z[d])||N(Z[d])))throw new L(`streams[${d}]`,J[d],"must be writable")}let se,ce,ae,fe,he;const Me=Z[0],Pe=b(Z,function we(d){const m=fe;fe=null,m?m(d):d?he.destroy(d):!a&&!C&&he.destroy()}),C=!!(S(Me)||U(Me)||N(Me)),a=!!(O(Pe)||A(Pe)||N(Pe));if(he=new P({writableObjectMode:!(null==Me||!Me.writableObjectMode),readableObjectMode:!(null==Pe||!Pe.writableObjectMode),writable:C,readable:a}),C){if(w(Me))he._write=function(m,p,E){Me.write(m,p)?E():se=E},he._final=function(m){Me.end(),ce=m},Me.on("drain",function(){if(se){const m=se;se=null,m()}});else if(B(Me)){const p=(N(Me)?Me.writable:Me).getWriter();he._write=function(){var E=y(function*(D,R,x){try{yield p.ready,p.write(D).catch(()=>{}),x()}catch(s){x(s)}});return function(D,R,x){return E.apply(this,arguments)}}(),he._final=function(){var E=y(function*(D){try{yield p.ready,p.close().catch(()=>{}),ce=D}catch(R){D(R)}});return function(D){return E.apply(this,arguments)}}()}const d=N(Pe)?Pe.readable:Pe;ee(d,()=>{if(ce){const m=ce;ce=null,m()}})}if(a)if(w(Pe))Pe.on("readable",function(){if(ae){const d=ae;ae=null,d()}}),Pe.on("end",function(){he.push(null)}),he._read=function(){for(;;){const d=Pe.read();if(null===d)return void(ae=he._read);if(!he.push(d))return}};else if(B(Pe)){const m=(N(Pe)?Pe.readable:Pe).getReader();he._read=y(function*(){for(;;)try{const{value:p,done:E}=yield m.read();if(!he.push(p))return;if(E)return void he.push(null)}catch{return}})}return he._destroy=function(d,m){!d&&null!==fe&&(d=new G),ae=null,se=null,ce=null,null===fe?m(d):(fe=m,w(Pe)&&H(Pe,d))},he}},45078:(We,j,_)=>{"use strict";const y=_(40573),{aggregateTwoErrors:b,codes:{ERR_MULTIPLE_CALLBACK:P},AbortError:H}=_(65109),{Symbol:w}=_(43856),{kDestroyed:O,isDestroyed:S,isFinished:B,isServerRequest:N}=_(51233),U=w("kDestroy"),A=w("kConstruct");function G(C,a,d){C&&(a&&!a.errored&&(a.errored=C),d&&!d.errored&&(d.errored=C))}function z(C,a,d){let m=!1;function p(E){if(m)return;m=!0;const D=C._readableState,R=C._writableState;G(E,R,D),R&&(R.closed=!0),D&&(D.closed=!0),"function"==typeof d&&d(E),E?y.nextTick(ee,C,E):y.nextTick(q,C)}try{C._destroy(a||null,p)}catch(E){p(E)}}function ee(C,a){Z(C,a),q(C)}function q(C){const a=C._readableState,d=C._writableState;d&&(d.closeEmitted=!0),a&&(a.closeEmitted=!0),(null!=d&&d.emitClose||null!=a&&a.emitClose)&&C.emit("close")}function Z(C,a){const d=C._readableState,m=C._writableState;null!=m&&m.errorEmitted||null!=d&&d.errorEmitted||(m&&(m.errorEmitted=!0),d&&(d.errorEmitted=!0),C.emit("error",a))}function se(C,a,d){const m=C._readableState,p=C._writableState;if(null!=p&&p.destroyed||null!=m&&m.destroyed)return this;null!=m&&m.autoDestroy||null!=p&&p.autoDestroy?C.destroy(a):a&&(p&&!p.errored&&(p.errored=a),m&&!m.errored&&(m.errored=a),d?y.nextTick(Z,C,a):Z(C,a))}function ae(C){let a=!1;function d(m){if(a)return void se(C,m??new P);a=!0;const p=C._readableState,E=C._writableState,D=E||p;p&&(p.constructed=!0),E&&(E.constructed=!0),D.destroyed?C.emit(U,m):m?se(C,m,!0):y.nextTick(fe,C)}try{C._construct(m=>{y.nextTick(d,m)})}catch(m){y.nextTick(d,m)}}function fe(C){C.emit(A)}function he(C){return C?.setHeader&&"function"==typeof C.abort}function we(C){C.emit("close")}function Me(C,a){C.emit("error",a),y.nextTick(we,C)}We.exports={construct:function ce(C,a){if("function"!=typeof C._construct)return;const d=C._readableState,m=C._writableState;d&&(d.constructed=!1),m&&(m.constructed=!1),C.once(A,a),!(C.listenerCount(A)>1)&&y.nextTick(ae,C)},destroyer:function Pe(C,a){!C||S(C)||(!a&&!B(C)&&(a=new H),N(C)?(C.socket=null,C.destroy(a)):he(C)?C.abort():he(C.req)?C.req.abort():"function"==typeof C.destroy?C.destroy(a):"function"==typeof C.close?C.close():a?y.nextTick(Me,C,a):y.nextTick(we,C),C.destroyed||(C[O]=!0))},destroy:function L(C,a){const d=this._readableState,m=this._writableState,p=m||d;return null!=m&&m.destroyed||null!=d&&d.destroyed?("function"==typeof a&&a(),this):(G(C,m,d),m&&(m.destroyed=!0),d&&(d.destroyed=!0),p.constructed?z(this,C,a):this.once(U,function(E){z(this,b(E,C),a)}),this)},undestroy:function J(){const C=this._readableState,a=this._writableState;C&&(C.constructed=!0,C.closed=!1,C.closeEmitted=!1,C.destroyed=!1,C.errored=null,C.errorEmitted=!1,C.reading=!1,C.ended=!1===C.readable,C.endEmitted=!1===C.readable),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=!1===a.writable,a.ending=!1===a.writable,a.finished=!1===a.writable)},errorOrDestroy:se}},97464:(We,j,_)=>{"use strict";const{ObjectDefineProperties:y,ObjectGetOwnPropertyDescriptor:b,ObjectKeys:P,ObjectSetPrototypeOf:H}=_(43856);We.exports=S;const w=_(29710),O=_(40258);H(S.prototype,w.prototype),H(S,w);{const A=P(O.prototype);for(let G=0;G<A.length;G++){const L=A[G];S.prototype[L]||(S.prototype[L]=O.prototype[L])}}function S(A){if(!(this instanceof S))return new S(A);w.call(this,A),O.call(this,A),A?(this.allowHalfOpen=!1!==A.allowHalfOpen,!1===A.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===A.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let B,U;function N(){return void 0===B&&(B={}),B}y(S.prototype,{writable:{__proto__:null,...b(O.prototype,"writable")},writableHighWaterMark:{__proto__:null,...b(O.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...b(O.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...b(O.prototype,"writableBuffer")},writableLength:{__proto__:null,...b(O.prototype,"writableLength")},writableFinished:{__proto__:null,...b(O.prototype,"writableFinished")},writableCorked:{__proto__:null,...b(O.prototype,"writableCorked")},writableEnded:{__proto__:null,...b(O.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...b(O.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(A){this._readableState&&this._writableState&&(this._readableState.destroyed=A,this._writableState.destroyed=A)}}}),S.fromWeb=function(A,G){return N().newStreamDuplexFromReadableWritablePair(A,G)},S.toWeb=function(A){return N().newReadableWritablePairFromDuplex(A)},S.from=function(A){return U||(U=_(56840)),U(A,"body")}},56840:(We,j,_)=>{var y=_(29293).default,b=_(53344).default,P=_(42958).default;const H=_(40573),w=_(89565),{isReadable:O,isWritable:S,isIterable:B,isNodeStream:N,isReadableNodeStream:U,isWritableNodeStream:A,isDuplexNodeStream:G}=_(51233),L=_(44268),{AbortError:z,codes:{ERR_INVALID_ARG_TYPE:ee,ERR_INVALID_RETURN_VALUE:q}}=_(65109),{destroyer:Z}=_(45078),J=_(97464),se=_(29710),{createDeferredPromise:ce}=_(55830),ae=_(24246),fe=globalThis.Blob||w.Blob,he=typeof fe<"u"?function(m){return m instanceof fe}:function(m){return!1},we=globalThis.AbortController||_(9465).AbortController,{FunctionPrototypeCall:Me}=_(43856);class Pe extends J{constructor(m){super(m),!1===m?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===m?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function a(d){const m=d.readable&&"function"!=typeof d.readable.read?se.wrap(d.readable):d.readable,p=d.writable;let R,x,s,v,$,E=!!O(m),D=!!S(p);function F(Q){const de=v;v=null,de?de(Q):Q&&$.destroy(Q)}return $=new Pe({readableObjectMode:!(null==m||!m.readableObjectMode),writableObjectMode:!(null==p||!p.writableObjectMode),readable:E,writable:D}),D&&(L(p,Q=>{D=!1,Q&&Z(m,Q),F(Q)}),$._write=function(Q,de,De){p.write(Q,de)?De():R=De},$._final=function(Q){p.end(),x=Q},p.on("drain",function(){if(R){const Q=R;R=null,Q()}}),p.on("finish",function(){if(x){const Q=x;x=null,Q()}})),E&&(L(m,Q=>{E=!1,Q&&Z(m,Q),F(Q)}),m.on("readable",function(){if(s){const Q=s;s=null,Q()}}),m.on("end",function(){$.push(null)}),$._read=function(){for(;;){const Q=m.read();if(null===Q)return void(s=$._read);if(!$.push(Q))return}}),$._destroy=function(Q,de){!Q&&null!==v&&(Q=new z),s=null,R=null,x=null,null===v?de(Q):(v=de,Z(p,Q),Z(m,Q))},$}We.exports=function d(m,p){if(G(m))return m;if(U(m))return a({readable:m});if(A(m))return a({writable:m});if(N(m))return a({writable:!1,readable:!1});if("function"==typeof m){const{value:D,write:R,final:x,destroy:s}=function C(d){let{promise:m,resolve:p}=ce();const E=new we,D=E.signal;return{value:d(P(function*(){for(;;){const x=m;m=null;const{chunk:s,done:v,cb:$}=yield b(x);if(H.nextTick($),v)return;if(D.aborted)throw new z(void 0,{cause:D.reason});({promise:m,resolve:p}=ce()),yield s}})(),{signal:D}),write(x,s,v){const $=p;p=null,$({chunk:x,done:!1,cb:v})},final(x){const s=p;p=null,s({done:!0,cb:x})},destroy(x,s){E.abort(),s(x)}}}(m);if(B(D))return ae(Pe,D,{objectMode:!0,write:R,final:x,destroy:s});const v=D?.then;if("function"==typeof v){let $;const F=Me(v,D,Q=>{if(null!=Q)throw new q("nully","body",Q)},Q=>{Z($,Q)});return $=new Pe({objectMode:!0,readable:!1,write:R,final(Q){x(y(function*(){try{yield F,H.nextTick(Q,null)}catch(de){H.nextTick(Q,de)}}))},destroy:s})}throw new q("Iterable, AsyncIterable or AsyncFunction",p,D)}if(he(m))return d(m.arrayBuffer());if(B(m))return ae(Pe,m,{objectMode:!0,writable:!1});if("object"==typeof m?.writable||"object"==typeof m?.readable)return a({readable:null!=m&&m.readable?U(m?.readable)?m?.readable:d(m.readable):void 0,writable:null!=m&&m.writable?A(m?.writable)?m?.writable:d(m.writable):void 0});const E=m?.then;if("function"==typeof E){let D;return Me(E,m,R=>{null!=R&&D.push(R),D.push(null)},R=>{Z(D,R)}),D=new Pe({objectMode:!0,writable:!1,read(){}})}throw new ee(p,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],m)}},44268:(We,j,_)=>{const y=_(40573),{AbortError:b,codes:P}=_(65109),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:w}=P,{kEmptyObject:O,once:S}=_(55830),{validateAbortSignal:B,validateFunction:N,validateObject:U,validateBoolean:A}=_(44323),{Promise:G,PromisePrototypeThen:L}=_(43856),{isClosed:z,isReadable:ee,isReadableNodeStream:q,isReadableStream:Z,isReadableFinished:J,isReadableErrored:se,isWritable:ce,isWritableNodeStream:ae,isWritableStream:fe,isWritableFinished:he,isWritableErrored:we,isNodeStream:Me,willEmitClose:Pe,kIsClosedPromise:C}=_(51233),d=()=>{};function m(D,R,x){var s,v;if(2===arguments.length?(x=R,R=O):null==R?R=O:U(R,"options"),N(x,"callback"),B(R.signal,"options.signal"),x=S(x),Z(D)||fe(D))return function p(D,R,x){let s=!1,v=d;if(R.signal)if(v=()=>{s=!0,x.call(D,new b(void 0,{cause:R.signal.reason}))},R.signal.aborted)y.nextTick(v);else{const F=x;x=S((...Q)=>{R.signal.removeEventListener("abort",v),F.apply(D,Q)}),R.signal.addEventListener("abort",v)}const $=(...F)=>{s||y.nextTick(()=>x.apply(D,F))};return L(D[C].promise,$,$),d}(D,R,x);if(!Me(D))throw new H("stream",["ReadableStream","WritableStream","Stream"],D);const $=null!==(s=R.readable)&&void 0!==s?s:q(D),F=null!==(v=R.writable)&&void 0!==v?v:ae(D),Q=D._writableState,de=D._readableState,De=()=>{D.writable||Ee()};let Re=Pe(D)&&q(D)===$&&ae(D)===F,Ve=he(D,!1);const Ee=()=>{Ve=!0,D.destroyed&&(Re=!1),(!Re||D.readable&&!$)&&(!$||_e)&&x.call(D)};let _e=J(D,!1);const Fe=()=>{_e=!0,D.destroyed&&(Re=!1),(!Re||D.writable&&!F)&&(!F||Ve)&&x.call(D)},ve=le=>{x.call(D,le)};let Te=z(D);const ge=()=>{Te=!0;const le=we(D)||se(D);return le&&"boolean"!=typeof le?x.call(D,le):$&&!_e&&q(D,!0)&&!J(D,!1)?x.call(D,new w):!F||Ve||he(D,!1)?void x.call(D):x.call(D,new w)},me=()=>{Te=!0;const le=we(D)||se(D);if(le&&"boolean"!=typeof le)return x.call(D,le);x.call(D)},te=()=>{D.req.on("finish",Ee)};!function a(D){return D.setHeader&&"function"==typeof D.abort}(D)?F&&!Q&&(D.on("end",De),D.on("close",De)):(D.on("complete",Ee),Re||D.on("abort",ge),D.req?te():D.on("request",te)),!Re&&"boolean"==typeof D.aborted&&D.on("aborted",ge),D.on("end",Fe),D.on("finish",Ee),!1!==R.error&&D.on("error",ve),D.on("close",ge),Te?y.nextTick(ge):null!=Q&&Q.errorEmitted||null!=de&&de.errorEmitted?Re||y.nextTick(me):(!$&&(!Re||ee(D))&&(Ve||!1===ce(D))||!F&&(!Re||ce(D))&&(_e||!1===ee(D))||de&&D.req&&D.aborted)&&y.nextTick(me);const ne=()=>{x=d,D.removeListener("aborted",ge),D.removeListener("complete",Ee),D.removeListener("abort",ge),D.removeListener("request",te),D.req&&D.req.removeListener("finish",Ee),D.removeListener("end",De),D.removeListener("close",De),D.removeListener("finish",Ee),D.removeListener("end",Fe),D.removeListener("error",ve),D.removeListener("close",ge)};if(R.signal&&!Te){const le=()=>{const Ae=x;ne(),Ae.call(D,new b(void 0,{cause:R.signal.reason}))};if(R.signal.aborted)y.nextTick(le);else{const Ae=x;x=S((...Be)=>{R.signal.removeEventListener("abort",le),Ae.apply(D,Be)}),R.signal.addEventListener("abort",le)}}return ne}We.exports=m,We.exports.finished=function E(D,R){var x;let s=!1;return null===R&&(R=O),null!==(x=R)&&void 0!==x&&x.cleanup&&(A(R.cleanup,"cleanup"),s=R.cleanup),new G((v,$)=>{const F=m(D,R,Q=>{s&&F(),Q?$(Q):v()})})}},24246:(We,j,_)=>{"use strict";var y=_(29293).default;const b=_(40573),{PromisePrototypeThen:P,SymbolAsyncIterator:H,SymbolIterator:w}=_(43856),{Buffer:O}=_(89565),{ERR_INVALID_ARG_TYPE:S,ERR_STREAM_NULL_VALUES:B}=_(65109).codes;We.exports=function N(U,A,G){let L,z;if("string"==typeof A||A instanceof O)return new U({objectMode:!0,...G,read(){this.push(A),this.push(null)}});if(A&&A[H])z=!0,L=A[H]();else{if(!A||!A[w])throw new S("iterable",["Iterable"],A);z=!1,L=A[w]()}const ee=new U({objectMode:!0,highWaterMark:1,...G});let q=!1;function J(){return(J=y(function*(ae){if(null!=ae&&"function"==typeof L.throw){const{value:we,done:Me}=yield L.throw(ae);if(yield we,Me)return}if("function"==typeof L.return){const{value:we}=yield L.return();yield we}})).apply(this,arguments)}function ce(){return(ce=y(function*(){for(;;){try{const{value:ae,done:fe}=z?yield L.next():L.next();if(fe)ee.push(null);else{const he=ae&&"function"==typeof ae.then?yield ae:ae;if(null===he)throw q=!1,new B;if(ee.push(he))continue;q=!1}}catch(ae){ee.destroy(ae)}break}})).apply(this,arguments)}return ee._read=function(){q||(q=!0,function se(){ce.apply(this,arguments)}())},ee._destroy=function(ae,fe){P(function Z(ae){return J.apply(this,arguments)}(ae),()=>b.nextTick(fe,ae),he=>b.nextTick(fe,he||ae))},ee}},2649:(We,j,_)=>{"use strict";const{ArrayIsArray:y,ObjectSetPrototypeOf:b}=_(43856),{EventEmitter:P}=_(44356);function H(O){P.call(this,O)}function w(O,S,B){if("function"==typeof O.prependListener)return O.prependListener(S,B);O._events&&O._events[S]?y(O._events[S])?O._events[S].unshift(B):O._events[S]=[B,O._events[S]]:O.on(S,B)}b(H.prototype,P.prototype),b(H,P),H.prototype.pipe=function(O,S){const B=this;function N(q){O.writable&&!1===O.write(q)&&B.pause&&B.pause()}function U(){B.readable&&B.resume&&B.resume()}B.on("data",N),O.on("drain",U),!O._isStdio&&(!S||!1!==S.end)&&(B.on("end",G),B.on("close",L));let A=!1;function G(){A||(A=!0,O.end())}function L(){A||(A=!0,"function"==typeof O.destroy&&O.destroy())}function z(q){ee(),0===P.listenerCount(this,"error")&&this.emit("error",q)}function ee(){B.removeListener("data",N),O.removeListener("drain",U),B.removeListener("end",G),B.removeListener("close",L),B.removeListener("error",z),O.removeListener("error",z),B.removeListener("end",ee),B.removeListener("close",ee),O.removeListener("close",ee)}return w(B,"error",z),w(O,"error",z),B.on("end",ee),B.on("close",ee),O.on("close",ee),O.emit("pipe",B),O},We.exports={Stream:H,prependListener:w}},37325:(We,j,_)=>{"use strict";var y=_(29293).default,b=_(93513).default,P=_(82881).default,H=_(53344).default,w=_(42958).default;const O=globalThis.AbortController||_(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:S,ERR_INVALID_ARG_TYPE:B,ERR_MISSING_ARGS:N,ERR_OUT_OF_RANGE:U},AbortError:A}=_(65109),{validateAbortSignal:G,validateInteger:L,validateObject:z}=_(44323),ee=_(43856).Symbol("kWeak"),{finished:q}=_(44268),Z=_(5464),{addAbortSignalNoValidate:J}=_(24785),{isWritable:se,isNodeStream:ce}=_(51233),{ArrayPrototypePush:ae,MathFloor:fe,Number:he,NumberIsNaN:we,Promise:Me,PromiseReject:Pe,PromisePrototypeThen:C,Symbol:a}=_(43856),d=a("kEmpty"),m=a("kEof");function E(te,ne){if("function"!=typeof te)throw new B("fn",["Function","AsyncFunction"],te);null!=ne&&z(ne,"options"),null!=ne?.signal&&G(ne.signal,"options.signal");let le=1;return null!=ne?.concurrency&&(le=fe(ne.concurrency)),L(le,"concurrency",1),function(){var Ae=w(function*(){var qe,ze;const Dt=new O,Xe=this,Ue=[],mt=Dt.signal,K={signal:mt},T=()=>Dt.abort();null!=ne&&null!==(qe=ne.signal)&&void 0!==qe&&qe.aborted&&T(),null==ne||null===(ze=ne.signal)||void 0===ze||ze.addEventListener("abort",T);let M,Y,pe=!1;function ke(){pe=!0}function lt(){return(lt=y(function*(){try{var Kt,en=!1,It=!1;try{for(var gn,rn=P(Xe);en=!(gn=yield rn.next()).done;en=!1){let Cn=gn.value;var ln;if(pe)return;if(mt.aborted)throw new A;try{Cn=te(Cn,K)}catch(cn){Cn=Pe(cn)}Cn!==d&&("function"==typeof(null===(ln=Cn)||void 0===ln?void 0:ln.catch)&&Cn.catch(ke),Ue.push(Cn),M&&(M(),M=null),!pe&&Ue.length&&Ue.length>=le&&(yield new Me(cn=>{Y=cn})))}}catch(Cn){It=!0,Kt=Cn}finally{try{en&&null!=rn.return&&(yield rn.return())}finally{if(It)throw Kt}}Ue.push(m)}catch(Cn){const cn=Pe(Cn);C(cn,void 0,ke),Ue.push(cn)}finally{var ar;pe=!0,M&&(M(),M=null),null==ne||null===(ar=ne.signal)||void 0===ar||ar.removeEventListener("abort",T)}})).apply(this,arguments)}!function Ne(){lt.apply(this,arguments)}();try{for(;;){for(;Ue.length>0;){const en=yield H(Ue[0]);if(en===m)return;if(mt.aborted)throw new A;en!==d&&(yield en),Ue.shift(),Y&&(Y(),Y=null)}yield H(new Me(en=>{M=en}))}}finally{Dt.abort(),pe=!0,Y&&(Y(),Y=null)}});return function Be(){return Ae.apply(this,arguments)}}().call(this)}function R(te){return x.apply(this,arguments)}function x(){return(x=y(function*(te,ne=void 0){var Be,le=!1,Ae=!1;try{for(var qe=P(De.call(this,te,ne));le=!(yield qe.next()).done;le=!1)return!0}catch(Dt){Ae=!0,Be=Dt}finally{try{le&&null!=qe.return&&(yield qe.return())}finally{if(Ae)throw Be}}return!1})).apply(this,arguments)}function v(){return(v=y(function*(te,ne=void 0){if("function"!=typeof te)throw new B("fn",["Function","AsyncFunction"],te);return!(yield R.call(this,y(function*(...le){return!(yield te(...le))}),ne))})).apply(this,arguments)}function F(){return(F=y(function*(te,ne){var Be,le=!1,Ae=!1;try{for(var ze,qe=P(De.call(this,te,ne));le=!(ze=yield qe.next()).done;le=!1)return ze.value}catch(Dt){Ae=!0,Be=Dt}finally{try{le&&null!=qe.return&&(yield qe.return())}finally{if(Ae)throw Be}}})).apply(this,arguments)}function de(){return de=y(function*(te,ne){if("function"!=typeof te)throw new B("fn",["Function","AsyncFunction"],te);function Ae(){return(Ae=y(function*(Ue,mt){return yield te(Ue,mt),d})).apply(this,arguments)}var ze,Be=!1,qe=!1;try{for(var Dt=P(E.call(this,function le(Ue,mt){return Ae.apply(this,arguments)},ne));Be=!(yield Dt.next()).done;Be=!1);}catch(Ue){qe=!0,ze=Ue}finally{try{Be&&null!=Dt.return&&(yield Dt.return())}finally{if(qe)throw ze}}}),de.apply(this,arguments)}function De(te,ne){if("function"!=typeof te)throw new B("fn",["Function","AsyncFunction"],te);function Ae(){return(Ae=y(function*(Be,qe){return(yield te(Be,qe))?Be:d})).apply(this,arguments)}return E.call(this,function le(Be,qe){return Ae.apply(this,arguments)},ne)}class Re extends N{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Ee(){return Ee=y(function*(te,ne,le){var Ae;if("function"!=typeof te)throw new B("reducer",["Function","AsyncFunction"],te);null!=le&&z(le,"options"),null!=le?.signal&&G(le.signal,"options.signal");let Be=arguments.length>1;if(null!=le&&null!==(Ae=le.signal)&&void 0!==Ae&&Ae.aborted){const Y=new A(void 0,{cause:le.signal.reason});throw this.once("error",()=>{}),yield q(this.destroy(Y)),Y}const qe=new O,ze=qe.signal;null!=le&&le.signal&&le.signal.addEventListener("abort",()=>qe.abort(),{once:!0,[ee]:this});let Dt=!1;try{var mt,Xe=!1,Ue=!1;try{for(var T,K=P(this);Xe=!(T=yield K.next()).done;Xe=!1){const Y=T.value;var M;if(Dt=!0,null!=le&&null!==(M=le.signal)&&void 0!==M&&M.aborted)throw new A;Be?ne=yield te(ne,Y,{signal:ze}):(ne=Y,Be=!0)}}catch(Y){Ue=!0,mt=Y}finally{try{Xe&&null!=K.return&&(yield K.return())}finally{if(Ue)throw mt}}if(!Dt&&!Be)throw new Re}finally{qe.abort()}return ne}),Ee.apply(this,arguments)}function Fe(){return(Fe=y(function*(te){null!=te&&z(te,"options"),null!=te?.signal&&G(te.signal,"options.signal");const ne=[];var Be,le=!1,Ae=!1;try{for(var ze,qe=P(this);le=!(ze=yield qe.next()).done;le=!1){const Xe=ze.value;var Dt;if(null!=te&&null!==(Dt=te.signal)&&void 0!==Dt&&Dt.aborted)throw new A(void 0,{cause:te.signal.reason});ae(ne,Xe)}}catch(Xe){Ae=!0,Be=Xe}finally{try{le&&null!=qe.return&&(yield qe.return())}finally{if(Ae)throw Be}}return ne})).apply(this,arguments)}function Te(te){if(te=he(te),we(te))return 0;if(te<0)throw new U("number",">= 0",te);return te}We.exports.streamReturningOperators={asIndexedPairs:function D(te=void 0){return null!=te&&z(te,"options"),null!=te?.signal&&G(te.signal,"options.signal"),function(){var ne=w(function*(){let Ae=0;var ze,Be=!1,qe=!1;try{for(var Xe,Dt=P(this);Be=!(Xe=yield H(Dt.next())).done;Be=!1){const mt=Xe.value;var Ue;if(null!=te&&null!==(Ue=te.signal)&&void 0!==Ue&&Ue.aborted)throw new A({cause:te.signal.reason});yield[Ae++,mt]}}catch(mt){qe=!0,ze=mt}finally{try{Be&&null!=Dt.return&&(yield H(Dt.return()))}finally{if(qe)throw ze}}});return function le(){return ne.apply(this,arguments)}}().call(this)},drop:function ge(te,ne=void 0){return null!=ne&&z(ne,"options"),null!=ne?.signal&&G(ne.signal,"options.signal"),te=Te(te),function(){var le=w(function*(){var Be;if(null!=ne&&null!==(Be=ne.signal)&&void 0!==Be&&Be.aborted)throw new A;var Dt,qe=!1,ze=!1;try{for(var Ue,Xe=P(this);qe=!(Ue=yield H(Xe.next())).done;qe=!1){const K=Ue.value;var mt;if(null!=ne&&null!==(mt=ne.signal)&&void 0!==mt&&mt.aborted)throw new A;te--<=0&&(yield K)}}catch(K){ze=!0,Dt=K}finally{try{qe&&null!=Xe.return&&(yield H(Xe.return()))}finally{if(ze)throw Dt}}});return function Ae(){return le.apply(this,arguments)}}().call(this)},filter:De,flatMap:function ve(te,ne){const le=E.call(this,te,ne);return function(){var Ae=w(function*(){var Dt,qe=!1,ze=!1;try{for(var Ue,Xe=P(le);qe=!(Ue=yield H(Xe.next())).done;qe=!1){const mt=Ue.value;yield*b(P(mt),H)}}catch(mt){ze=!0,Dt=mt}finally{try{qe&&null!=Xe.return&&(yield H(Xe.return()))}finally{if(ze)throw Dt}}});return function Be(){return Ae.apply(this,arguments)}}().call(this)},map:E,take:function me(te,ne=void 0){return null!=ne&&z(ne,"options"),null!=ne?.signal&&G(ne.signal,"options.signal"),te=Te(te),function(){var le=w(function*(){var Be;if(null!=ne&&null!==(Be=ne.signal)&&void 0!==Be&&Be.aborted)throw new A;var Dt,qe=!1,ze=!1;try{for(var Ue,Xe=P(this);qe=!(Ue=yield H(Xe.next())).done;qe=!1){const K=Ue.value;var mt;if(null!=ne&&null!==(mt=ne.signal)&&void 0!==mt&&mt.aborted)throw new A;if(!(te-- >0))return;yield K}}catch(K){ze=!0,Dt=K}finally{try{qe&&null!=Xe.return&&(yield H(Xe.return()))}finally{if(ze)throw Dt}}});return function Ae(){return le.apply(this,arguments)}}().call(this)},compose:function p(te,ne){if(null!=ne&&z(ne,"options"),null!=ne?.signal&&G(ne.signal,"options.signal"),ce(te)&&!se(te))throw new S("stream",te,"must be writable");const le=Z(this,te);return null!=ne&&ne.signal&&J(ne.signal,le),le}},We.exports.promiseReturningOperators={every:function s(te){return v.apply(this,arguments)},forEach:function Q(te,ne){return de.apply(this,arguments)},reduce:function Ve(te,ne,le){return Ee.apply(this,arguments)},toArray:function _e(te){return Fe.apply(this,arguments)},some:R,find:function $(te,ne){return F.apply(this,arguments)}}},70874:(We,j,_)=>{"use strict";const{ObjectSetPrototypeOf:y}=_(43856);We.exports=P;const b=_(66344);function P(H){if(!(this instanceof P))return new P(H);b.call(this,H)}y(P.prototype,b.prototype),y(P,b),P.prototype._transform=function(H,w,O){O(null,H)}},96208:(We,j,_)=>{var y=_(29293).default,b=_(42958).default,P=_(53344).default,H=_(93513).default,w=_(82881).default;const O=_(40573),{ArrayIsArray:S,Promise:B,SymbolAsyncIterator:N}=_(43856),U=_(44268),{once:A}=_(55830),G=_(45078),L=_(97464),{aggregateTwoErrors:z,codes:{ERR_INVALID_ARG_TYPE:ee,ERR_INVALID_RETURN_VALUE:q,ERR_MISSING_ARGS:Z,ERR_STREAM_DESTROYED:J,ERR_STREAM_PREMATURE_CLOSE:se},AbortError:ce}=_(65109),{validateFunction:ae,validateAbortSignal:fe}=_(44323),{isIterable:he,isReadable:we,isReadableNodeStream:Me,isNodeStream:Pe,isTransformStream:C,isWebStream:a,isReadableStream:d,isReadableEnded:m}=_(51233),p=globalThis.AbortController||_(9465).AbortController;let E,D;function R(_e,Fe,ve){let Te=!1;return _e.on("close",()=>{Te=!0}),{destroy:me=>{Te||(Te=!0,G.destroyer(_e,me||new J("pipe")))},cleanup:U(_e,{readable:Fe,writable:ve},me=>{Te=!me})}}function s(_e){if(he(_e))return _e;if(Me(_e))return function v(_e){return $.apply(this,arguments)}(_e);throw new ee("val",["Readable","Iterable","AsyncIterable"],_e)}function $(){return($=b(function*(_e){D||(D=_(29710)),yield*H(w(D.prototype[N].call(_e)),P)})).apply(this,arguments)}function F(_e,Fe,ve,Te){return Q.apply(this,arguments)}function Q(){return(Q=y(function*(_e,Fe,ve,{end:Te}){let ge,me=null;const te=Xe=>{if(Xe&&(ge=Xe),me){const Ue=me;me=null,Ue()}},ne=()=>new B((Xe,Ue)=>{ge?Ue(ge):me=()=>{ge?Ue(ge):Xe()}});Fe.on("drain",te);const le=U(Fe,{readable:!1},te);try{Fe.writableNeedDrain&&(yield ne());var qe,Ae=!1,Be=!1;try{for(var Dt,ze=w(_e);Ae=!(Dt=yield ze.next()).done;Ae=!1)Fe.write(Dt.value)||(yield ne())}catch(Xe){Be=!0,qe=Xe}finally{try{Ae&&null!=ze.return&&(yield ze.return())}finally{if(Be)throw qe}}Te&&Fe.end(),yield ne(),ve()}catch(Xe){ve(ge!==Xe?z(ge,Xe):Xe)}finally{le(),Fe.off("drain",te)}})).apply(this,arguments)}function de(_e,Fe,ve,Te){return De.apply(this,arguments)}function De(){return(De=y(function*(_e,Fe,ve,{end:Te}){C(Fe)&&(Fe=Fe.writable);const ge=Fe.getWriter();try{var ne,me=!1,te=!1;try{for(var Ae,le=w(_e);me=!(Ae=yield le.next()).done;me=!1){const Be=Ae.value;yield ge.ready,ge.write(Be).catch(()=>{})}}catch(Be){te=!0,ne=Be}finally{try{me&&null!=le.return&&(yield le.return())}finally{if(te)throw ne}}yield ge.ready,Te&&(yield ge.close()),ve()}catch(Be){try{yield ge.abort(Be),ve(Be)}catch(qe){ve(qe)}}})).apply(this,arguments)}function Ve(_e,Fe,ve){if(1===_e.length&&S(_e[0])&&(_e=_e[0]),_e.length<2)throw new Z("streams");const Te=new p,ge=Te.signal,me=ve?.signal,te=[];function ne(){Dt(new ce)}let le,Ae;fe(me,"options.signal"),me?.addEventListener("abort",ne);const Be=[];let Xe,qe=0;function ze(T){Dt(T,0==--qe)}function Dt(T,M){if(T&&(!le||"ERR_STREAM_PREMATURE_CLOSE"===le.code)&&(le=T),le||M){for(;Be.length;)Be.shift()(le);me?.removeEventListener("abort",ne),Te.abort(),M&&(le||te.forEach(Y=>Y()),O.nextTick(Fe,le,Ae))}}for(let T=0;T<_e.length;T++){const M=_e[T],Y=T<_e.length-1,pe=T>0,ke=Y||!1!==ve?.end,Ne=T===_e.length-1;if(Pe(M)){let lt=function(en){en&&"AbortError"!==en.name&&"ERR_STREAM_PREMATURE_CLOSE"!==en.code&&ze(en)};if(ke){const{destroy:en,cleanup:It}=R(M,Y,pe);Be.push(en),we(M)&&Ne&&te.push(It)}M.on("error",lt),we(M)&&Ne&&te.push(()=>{M.removeListener("error",lt)})}if(0===T)if("function"==typeof M){if(Xe=M({signal:ge}),!he(Xe))throw new q("Iterable, AsyncIterable or Stream","source",Xe)}else Xe=he(M)||Me(M)||C(M)?M:L.from(M);else if("function"==typeof M){var Ue;if(Xe=C(Xe)?s(null===(Ue=Xe)||void 0===Ue?void 0:Ue.readable):s(Xe),Xe=M(Xe,{signal:ge}),Y){if(!he(Xe,!0))throw new q("AsyncIterable",`transform[${T-1}]`,Xe)}else{var mt;E||(E=_(70874));const lt=new E({objectMode:!0}),en=null===(mt=Xe)||void 0===mt?void 0:mt.then;if("function"==typeof en)qe++,en.call(Xe,rn=>{Ae=rn,null!=rn&&lt.write(rn),ke&&lt.end(),O.nextTick(ze)},rn=>{lt.destroy(rn),O.nextTick(ze,rn)});else if(he(Xe,!0))qe++,F(Xe,lt,ze,{end:ke});else{if(!d(Xe)&&!C(Xe))throw new q("AsyncIterable or Promise","destination",Xe);qe++,F(Xe.readable||Xe,lt,ze,{end:ke})}Xe=lt;const{destroy:It,cleanup:Kt}=R(Xe,!1,!0);Be.push(It),Ne&&te.push(Kt)}}else if(Pe(M)){if(Me(Xe)){qe+=2;const lt=Ee(Xe,M,ze,{end:ke});we(M)&&Ne&&te.push(lt)}else if(C(Xe)||d(Xe))qe++,F(Xe.readable||Xe,M,ze,{end:ke});else{if(!he(Xe))throw new ee("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Xe);qe++,F(Xe,M,ze,{end:ke})}Xe=M}else if(a(M)){if(Me(Xe))qe++,de(s(Xe),M,ze,{end:ke});else if(d(Xe)||he(Xe))qe++,de(Xe,M,ze,{end:ke});else{if(!C(Xe))throw new ee("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Xe);qe++,de(Xe.readable,M,ze,{end:ke})}Xe=M}else Xe=L.from(M)}return(null!=ge&&ge.aborted||null!=me&&me.aborted)&&O.nextTick(ne),Xe}function Ee(_e,Fe,ve,{end:Te}){let ge=!1;if(Fe.on("close",()=>{ge||ve(new se)}),_e.pipe(Fe,{end:!1}),Te){let te=function(){ge=!0,Fe.end()};m(_e)?O.nextTick(te):_e.once("end",te)}else ve();return U(_e,{readable:!0,writable:!1},te=>{const ne=_e._readableState;te&&"ERR_STREAM_PREMATURE_CLOSE"===te.code&&ne&&ne.ended&&!ne.errored&&!ne.errorEmitted?_e.once("end",ve).once("error",ve):ve(te)}),U(Fe,{readable:!1,writable:!0},ve)}We.exports={pipelineImpl:Ve,pipeline:function Re(..._e){return Ve(_e,A(function x(_e){return ae(_e[_e.length-1],"streams[stream.length - 1]"),_e.pop()}(_e)))}}},29710:(We,j,_)=>{var y=_(53344).default,b=_(42958).default;const P=_(40573),{ArrayPrototypeIndexOf:H,NumberIsInteger:w,NumberIsNaN:O,NumberParseInt:S,ObjectDefineProperties:B,ObjectKeys:N,ObjectSetPrototypeOf:U,Promise:A,SafeSet:G,SymbolAsyncIterator:L,Symbol:z}=_(43856);We.exports=F,F.ReadableState=$;const{EventEmitter:ee}=_(44356),{Stream:q,prependListener:Z}=_(2649),{Buffer:J}=_(89565),{addAbortSignal:se}=_(24785),ce=_(44268);let ae=_(55830).debuglog("stream",M=>{ae=M});const fe=_(58579),he=_(45078),{getHighWaterMark:we,getDefaultHighWaterMark:Me}=_(31081),{aggregateTwoErrors:Pe,codes:{ERR_INVALID_ARG_TYPE:C,ERR_METHOD_NOT_IMPLEMENTED:a,ERR_OUT_OF_RANGE:d,ERR_STREAM_PUSH_AFTER_EOF:m,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:p}}=_(65109),{validateObject:E}=_(44323),D=z("kPaused"),{StringDecoder:R}=_(78454),x=_(24246);U(F.prototype,q.prototype),U(F,q);const s=()=>{},{errorOrDestroy:v}=he;function $(M,Y,pe){"boolean"!=typeof pe&&(pe=Y instanceof _(97464)),this.objectMode=!(!M||!M.objectMode),pe&&(this.objectMode=this.objectMode||!(!M||!M.readableObjectMode)),this.highWaterMark=M?we(this,M,"readableHighWaterMark",pe):Me(!1),this.buffer=new fe,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[D]=null,this.errorEmitted=!1,this.emitClose=!M||!1!==M.emitClose,this.autoDestroy=!M||!1!==M.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,M&&M.encoding&&(this.decoder=new R(M.encoding),this.encoding=M.encoding)}function F(M){if(!(this instanceof F))return new F(M);const Y=this instanceof _(97464);this._readableState=new $(M,this,Y),M&&("function"==typeof M.read&&(this._read=M.read),"function"==typeof M.destroy&&(this._destroy=M.destroy),"function"==typeof M.construct&&(this._construct=M.construct),M.signal&&!Y&&se(M.signal,this)),q.call(this,M),he.construct(this,()=>{this._readableState.needReadable&&ve(this,this._readableState)})}function Q(M,Y,pe,ke){ae("readableAddChunk",Y);const Ne=M._readableState;let lt;if(Ne.objectMode||("string"==typeof Y?Ne.encoding!==(pe=pe||Ne.defaultEncoding)&&(ke&&Ne.encoding?Y=J.from(Y,pe).toString(Ne.encoding):(Y=J.from(Y,pe),pe="")):Y instanceof J?pe="":q._isUint8Array(Y)?(Y=q._uint8ArrayToBuffer(Y),pe=""):null!=Y&&(lt=new C("chunk",["string","Buffer","Uint8Array"],Y))),lt)v(M,lt);else if(null===Y)Ne.reading=!1,function Ee(M,Y){if(ae("onEofChunk"),!Y.ended){if(Y.decoder){const pe=Y.decoder.end();pe&&pe.length&&(Y.buffer.push(pe),Y.length+=Y.objectMode?1:pe.length)}Y.ended=!0,Y.sync?_e(M):(Y.needReadable=!1,Y.emittedReadable=!0,Fe(M))}}(M,Ne);else if(Ne.objectMode||Y&&Y.length>0)if(ke)if(Ne.endEmitted)v(M,new p);else{if(Ne.destroyed||Ne.errored)return!1;de(M,Ne,Y,!0)}else if(Ne.ended)v(M,new m);else{if(Ne.destroyed||Ne.errored)return!1;Ne.reading=!1,Ne.decoder&&!pe?(Y=Ne.decoder.write(Y),Ne.objectMode||0!==Y.length?de(M,Ne,Y,!1):ve(M,Ne)):de(M,Ne,Y,!1)}else ke||(Ne.reading=!1,ve(M,Ne));return!Ne.ended&&(Ne.length<Ne.highWaterMark||0===Ne.length)}function de(M,Y,pe,ke){Y.flowing&&0===Y.length&&!Y.sync&&M.listenerCount("data")>0?(Y.multiAwaitDrain?Y.awaitDrainWriters.clear():Y.awaitDrainWriters=null,Y.dataEmitted=!0,M.emit("data",pe)):(Y.length+=Y.objectMode?1:pe.length,ke?Y.buffer.unshift(pe):Y.buffer.push(pe),Y.needReadable&&_e(M)),ve(M,Y)}function Ve(M,Y){return M<=0||0===Y.length&&Y.ended?0:Y.objectMode?1:O(M)?Y.flowing&&Y.length?Y.buffer.first().length:Y.length:M<=Y.length?M:Y.ended?Y.length:0}function _e(M){const Y=M._readableState;ae("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,Y.emittedReadable||(ae("emitReadable",Y.flowing),Y.emittedReadable=!0,P.nextTick(Fe,M))}function Fe(M){const Y=M._readableState;ae("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&!Y.errored&&(Y.length||Y.ended)&&(M.emit("readable"),Y.emittedReadable=!1),Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,Ae(M)}function ve(M,Y){!Y.readingMore&&Y.constructed&&(Y.readingMore=!0,P.nextTick(Te,M,Y))}function Te(M,Y){for(;!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&0===Y.length);){const pe=Y.length;if(ae("maybeReadMore read 0"),M.read(0),pe===Y.length)break}Y.readingMore=!1}function me(M){const Y=M._readableState;Y.readableListening=M.listenerCount("readable")>0,Y.resumeScheduled&&!1===Y[D]?Y.flowing=!0:M.listenerCount("data")>0?M.resume():Y.readableListening||(Y.flowing=null)}function te(M){ae("readable nexttick read 0"),M.read(0)}function le(M,Y){ae("resume",Y.reading),Y.reading||M.read(0),Y.resumeScheduled=!1,M.emit("resume"),Ae(M),Y.flowing&&!Y.reading&&M.read(0)}function Ae(M){const Y=M._readableState;for(ae("flow",Y.flowing);Y.flowing&&null!==M.read(););}function Be(M,Y){"function"!=typeof M.read&&(M=F.wrap(M,{objectMode:!0}));const pe=function qe(M,Y){return ze.apply(this,arguments)}(M,Y);return pe.stream=M,pe}function ze(){return(ze=b(function*(M,Y){let Ne,pe=s;function ke(en){this===M?(pe(),pe=s):pe=en}M.on("readable",ke);const lt=ce(M,{writable:!1},en=>{Ne=en?Pe(Ne,en):null,pe(),pe=s});try{for(;;){const en=M.destroyed?null:M.read();if(null!==en)yield en;else{if(Ne)throw Ne;if(null===Ne)return;yield y(new A(ke))}}}catch(en){throw Ne=Pe(Ne,en),Ne}finally{!Ne&&!1===Y?.destroyOnReturn||void 0!==Ne&&!M._readableState.autoDestroy?(M.off("readable",ke),lt()):he.destroyer(M,null)}})).apply(this,arguments)}function Dt(M,Y){if(0===Y.length)return null;let pe;return Y.objectMode?pe=Y.buffer.shift():!M||M>=Y.length?(pe=Y.decoder?Y.buffer.join(""):1===Y.buffer.length?Y.buffer.first():Y.buffer.concat(Y.length),Y.buffer.clear()):pe=Y.buffer.consume(M,Y.decoder),pe}function Xe(M){const Y=M._readableState;ae("endReadable",Y.endEmitted),Y.endEmitted||(Y.ended=!0,P.nextTick(Ue,Y,M))}function Ue(M,Y){if(ae("endReadableNT",M.endEmitted,M.length),!M.errored&&!M.closeEmitted&&!M.endEmitted&&0===M.length)if(M.endEmitted=!0,Y.emit("end"),Y.writable&&!1===Y.allowHalfOpen)P.nextTick(mt,Y);else if(M.autoDestroy){const pe=Y._writableState;(!pe||pe.autoDestroy&&(pe.finished||!1===pe.writable))&&Y.destroy()}}function mt(M){M.writable&&!M.writableEnded&&!M.destroyed&&M.end()}let K;function T(){return void 0===K&&(K={}),K}F.prototype.destroy=he.destroy,F.prototype._undestroy=he.undestroy,F.prototype._destroy=function(M,Y){Y(M)},F.prototype[ee.captureRejectionSymbol]=function(M){this.destroy(M)},F.prototype.push=function(M,Y){return Q(this,M,Y,!1)},F.prototype.unshift=function(M,Y){return Q(this,M,Y,!0)},F.prototype.isPaused=function(){const M=this._readableState;return!0===M[D]||!1===M.flowing},F.prototype.setEncoding=function(M){const Y=new R(M);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;const pe=this._readableState.buffer;let ke="";for(const Ne of pe)ke+=Y.write(Ne);return pe.clear(),""!==ke&&pe.push(ke),this._readableState.length=ke.length,this},F.prototype.read=function(M){ae("read",M),void 0===M?M=NaN:w(M)||(M=S(M,10));const Y=this._readableState,pe=M;if(M>Y.highWaterMark&&(Y.highWaterMark=function Re(M){if(M>1073741824)throw new d("size","<= 1GiB",M);return M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,++M}(M)),0!==M&&(Y.emittedReadable=!1),0===M&&Y.needReadable&&((0!==Y.highWaterMark?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended))return ae("read: emitReadable",Y.length,Y.ended),0===Y.length&&Y.ended?Xe(this):_e(this),null;if(0===(M=Ve(M,Y))&&Y.ended)return 0===Y.length&&Xe(this),null;let Ne,ke=Y.needReadable;if(ae("need readable",ke),(0===Y.length||Y.length-M<Y.highWaterMark)&&(ke=!0,ae("length less than watermark",ke)),Y.ended||Y.reading||Y.destroyed||Y.errored||!Y.constructed)ke=!1,ae("reading, ended or constructing",ke);else if(ke){ae("do read"),Y.reading=!0,Y.sync=!0,0===Y.length&&(Y.needReadable=!0);try{this._read(Y.highWaterMark)}catch(lt){v(this,lt)}Y.sync=!1,Y.reading||(M=Ve(pe,Y))}return Ne=M>0?Dt(M,Y):null,null===Ne?(Y.needReadable=Y.length<=Y.highWaterMark,M=0):(Y.length-=M,Y.multiAwaitDrain?Y.awaitDrainWriters.clear():Y.awaitDrainWriters=null),0===Y.length&&(Y.ended||(Y.needReadable=!0),pe!==M&&Y.ended&&Xe(this)),null!==Ne&&!Y.errorEmitted&&!Y.closeEmitted&&(Y.dataEmitted=!0,this.emit("data",Ne)),Ne},F.prototype._read=function(M){throw new a("_read()")},F.prototype.pipe=function(M,Y){const pe=this,ke=this._readableState;1===ke.pipes.length&&(ke.multiAwaitDrain||(ke.multiAwaitDrain=!0,ke.awaitDrainWriters=new G(ke.awaitDrainWriters?[ke.awaitDrainWriters]:[]))),ke.pipes.push(M),ae("pipe count=%d opts=%j",ke.pipes.length,Y);const lt=Y&&!1===Y.end||M===P.stdout||M===P.stderr?vt:It;function It(){ae("onend"),M.end()}ke.endEmitted?P.nextTick(lt):pe.once("end",lt),M.on("unpipe",function en(ut,Gt){ae("onunpipe"),ut===pe&&Gt&&!1===Gt.hasUnpiped&&(Gt.hasUnpiped=!0,function gn(){ae("cleanup"),M.removeListener("close",cn),M.removeListener("finish",Zt),Kt&&M.removeListener("drain",Kt),M.removeListener("error",Cn),M.removeListener("unpipe",en),pe.removeListener("end",It),pe.removeListener("end",vt),pe.removeListener("data",ar),rn=!0,Kt&&ke.awaitDrainWriters&&(!M._writableState||M._writableState.needDrain)&&Kt()}())});let Kt,rn=!1;function ln(){rn||(1===ke.pipes.length&&ke.pipes[0]===M?(ae("false write response, pause",0),ke.awaitDrainWriters=M,ke.multiAwaitDrain=!1):ke.pipes.length>1&&ke.pipes.includes(M)&&(ae("false write response, pause",ke.awaitDrainWriters.size),ke.awaitDrainWriters.add(M)),pe.pause()),Kt||(Kt=function ge(M,Y){return function(){const ke=M._readableState;ke.awaitDrainWriters===Y?(ae("pipeOnDrain",1),ke.awaitDrainWriters=null):ke.multiAwaitDrain&&(ae("pipeOnDrain",ke.awaitDrainWriters.size),ke.awaitDrainWriters.delete(Y)),(!ke.awaitDrainWriters||0===ke.awaitDrainWriters.size)&&M.listenerCount("data")&&M.resume()}}(pe,M),M.on("drain",Kt))}function ar(ut){ae("ondata");const Gt=M.write(ut);ae("dest.write",Gt),!1===Gt&&ln()}function Cn(ut){if(ae("onerror",ut),vt(),M.removeListener("error",Cn),0===M.listenerCount("error")){const Gt=M._writableState||M._readableState;Gt&&!Gt.errorEmitted?v(M,ut):M.emit("error",ut)}}function cn(){M.removeListener("finish",Zt),vt()}function Zt(){ae("onfinish"),M.removeListener("close",cn),vt()}function vt(){ae("unpipe"),pe.unpipe(M)}return pe.on("data",ar),Z(M,"error",Cn),M.once("close",cn),M.once("finish",Zt),M.emit("pipe",pe),!0===M.writableNeedDrain?ke.flowing&&ln():ke.flowing||(ae("pipe resume"),pe.resume()),M},F.prototype.unpipe=function(M){const Y=this._readableState;if(0===Y.pipes.length)return this;if(!M){const Ne=Y.pipes;Y.pipes=[],this.pause();for(let lt=0;lt<Ne.length;lt++)Ne[lt].emit("unpipe",this,{hasUnpiped:!1});return this}const ke=H(Y.pipes,M);return-1===ke||(Y.pipes.splice(ke,1),0===Y.pipes.length&&this.pause(),M.emit("unpipe",this,{hasUnpiped:!1})),this},F.prototype.addListener=F.prototype.on=function(M,Y){const pe=q.prototype.on.call(this,M,Y),ke=this._readableState;return"data"===M?(ke.readableListening=this.listenerCount("readable")>0,!1!==ke.flowing&&this.resume()):"readable"===M&&!ke.endEmitted&&!ke.readableListening&&(ke.readableListening=ke.needReadable=!0,ke.flowing=!1,ke.emittedReadable=!1,ae("on readable",ke.length,ke.reading),ke.length?_e(this):ke.reading||P.nextTick(te,this)),pe},F.prototype.off=F.prototype.removeListener=function(M,Y){const pe=q.prototype.removeListener.call(this,M,Y);return"readable"===M&&P.nextTick(me,this),pe},F.prototype.removeAllListeners=function(M){const Y=q.prototype.removeAllListeners.apply(this,arguments);return("readable"===M||void 0===M)&&P.nextTick(me,this),Y},F.prototype.resume=function(){const M=this._readableState;return M.flowing||(ae("resume"),M.flowing=!M.readableListening,function ne(M,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,P.nextTick(le,M,Y))}(this,M)),M[D]=!1,this},F.prototype.pause=function(){return ae("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ae("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},F.prototype.wrap=function(M){let Y=!1;M.on("data",ke=>{!this.push(ke)&&M.pause&&(Y=!0,M.pause())}),M.on("end",()=>{this.push(null)}),M.on("error",ke=>{v(this,ke)}),M.on("close",()=>{this.destroy()}),M.on("destroy",()=>{this.destroy()}),this._read=()=>{Y&&M.resume&&(Y=!1,M.resume())};const pe=N(M);for(let ke=1;ke<pe.length;ke++){const Ne=pe[ke];void 0===this[Ne]&&"function"==typeof M[Ne]&&(this[Ne]=M[Ne].bind(M))}return this},F.prototype[L]=function(){return Be(this)},F.prototype.iterator=function(M){return void 0!==M&&E(M,"options"),Be(this,M)},B(F.prototype,{readable:{__proto__:null,get(){const M=this._readableState;return!(!M||!1===M.readable||M.destroyed||M.errorEmitted||M.endEmitted)},set(M){this._readableState&&(this._readableState.readable=!!M)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(M){this._readableState&&(this._readableState.destroyed=M)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),B($.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(M){this[D]=!!M}}}),F._fromList=Dt,F.from=function(M,Y){return x(F,M,Y)},F.fromWeb=function(M,Y){return T().newStreamReadableFromReadableStream(M,Y)},F.toWeb=function(M,Y){return T().newReadableStreamFromStreamReadable(M,Y)},F.wrap=function(M,Y){var pe,ke;return new F({objectMode:null===(pe=null!==(ke=M.readableObjectMode)&&void 0!==ke?ke:M.objectMode)||void 0===pe||pe,...Y,destroy(Ne,lt){he.destroyer(M,Ne),lt(Ne)}}).wrap(M)}},31081:(We,j,_)=>{"use strict";const{MathFloor:y,NumberIsInteger:b}=_(43856),{ERR_INVALID_ARG_VALUE:P}=_(65109).codes;function w(S){return S?16:16384}We.exports={getHighWaterMark:function O(S,B,N,U){const A=function H(S,B,N){return null!=S.highWaterMark?S.highWaterMark:B?S[N]:null}(B,U,N);if(null!=A){if(!b(A)||A<0)throw new P(U?`options.${N}`:"options.highWaterMark",A);return y(A)}return w(S.objectMode)},getDefaultHighWaterMark:w}},66344:(We,j,_)=>{"use strict";const{ObjectSetPrototypeOf:y,Symbol:b}=_(43856);We.exports=S;const{ERR_METHOD_NOT_IMPLEMENTED:P}=_(65109).codes,H=_(97464),{getHighWaterMark:w}=_(31081);y(S.prototype,H.prototype),y(S,H);const O=b("kCallback");function S(U){if(!(this instanceof S))return new S(U);const A=U?w(this,U,"readableHighWaterMark",!0):null;0===A&&(U={...U,highWaterMark:null,readableHighWaterMark:A,writableHighWaterMark:U.writableHighWaterMark||0}),H.call(this,U),this._readableState.sync=!1,this[O]=null,U&&("function"==typeof U.transform&&(this._transform=U.transform),"function"==typeof U.flush&&(this._flush=U.flush)),this.on("prefinish",N)}function B(U){"function"!=typeof this._flush||this.destroyed?(this.push(null),U&&U()):this._flush((A,G)=>{A?U?U(A):this.destroy(A):(null!=G&&this.push(G),this.push(null),U&&U())})}function N(){this._final!==B&&B.call(this)}S.prototype._final=B,S.prototype._transform=function(U,A,G){throw new P("_transform()")},S.prototype._write=function(U,A,G){const L=this._readableState,z=this._writableState,ee=L.length;this._transform(U,A,(q,Z)=>{q?G(q):(null!=Z&&this.push(Z),z.ended||ee===L.length||L.length<L.highWaterMark?G():this[O]=G)})},S.prototype._read=function(){if(this[O]){const U=this[O];this[O]=null,U()}}},51233:(We,j,_)=>{"use strict";const{Symbol:y,SymbolAsyncIterator:b,SymbolIterator:P,SymbolFor:H}=_(43856),w=y("kDestroyed"),O=y("kIsErrored"),S=y("kIsReadable"),B=y("kIsDisturbed"),N=H("nodejs.webstream.isClosedPromise"),U=H("nodejs.webstream.controllerErrorFunction");function A(v,$=!1){var F;return!(!v||"function"!=typeof v.pipe||"function"!=typeof v.on||$&&("function"!=typeof v.pause||"function"!=typeof v.resume)||v._writableState&&!1===(null===(F=v._readableState)||void 0===F?void 0:F.readable)||v._writableState&&!v._readableState)}function G(v){var $;return!(!v||"function"!=typeof v.write||"function"!=typeof v.on||v._readableState&&!1===(null===($=v._writableState)||void 0===$?void 0:$.writable))}function z(v){return v&&(v._readableState||v._writableState||"function"==typeof v.write&&"function"==typeof v.on||"function"==typeof v.pipe&&"function"==typeof v.on)}function ee(v){return!(!v||z(v)||"function"!=typeof v.pipeThrough||"function"!=typeof v.getReader||"function"!=typeof v.cancel)}function q(v){return!(!v||z(v)||"function"!=typeof v.getWriter||"function"!=typeof v.abort)}function Z(v){return!(!v||z(v)||"object"!=typeof v.readable||"object"!=typeof v.writable)}function ce(v){if(!z(v))return null;const Q=v._writableState||v._readableState;return!!(v.destroyed||v[w]||null!=Q&&Q.destroyed)}function ae(v){if(!G(v))return null;if(!0===v.writableEnded)return!0;const $=v._writableState;return(null==$||!$.errored)&&("boolean"!=typeof $?.ended?null:$.ended)}function we(v,$){if(!A(v))return null;const F=v._readableState;return(null==F||!F.errored)&&("boolean"!=typeof F?.endEmitted?null:!!(F.endEmitted||!1===$&&!0===F.ended&&0===F.length))}function Me(v){return v&&null!=v[S]?v[S]:"boolean"!=typeof v?.readable?null:!ce(v)&&A(v)&&v.readable&&!we(v)}function Pe(v){return"boolean"!=typeof v?.writable?null:!ce(v)&&G(v)&&v.writable&&!ae(v)}function p(v){return"boolean"==typeof v._closed&&"boolean"==typeof v._defaultKeepAlive&&"boolean"==typeof v._removedConnection&&"boolean"==typeof v._removedContLen}function E(v){return"boolean"==typeof v._sent100&&p(v)}We.exports={kDestroyed:w,isDisturbed:function x(v){var $;return!(!v||!(null!==($=v[B])&&void 0!==$?$:v.readableDidRead||v.readableAborted))},kIsDisturbed:B,isErrored:function s(v){var $,F,Q,de,De,Re,Ve,Ee,_e,Fe;return!(!v||!(null!==($=null!==(F=null!==(Q=null!==(de=null!==(De=null!==(Re=v[O])&&void 0!==Re?Re:v.readableErrored)&&void 0!==De?De:v.writableErrored)&&void 0!==de?de:null===(Ve=v._readableState)||void 0===Ve?void 0:Ve.errorEmitted)&&void 0!==Q?Q:null===(Ee=v._writableState)||void 0===Ee?void 0:Ee.errorEmitted)&&void 0!==F?F:null===(_e=v._readableState)||void 0===_e?void 0:_e.errored)&&void 0!==$?$:null!==(Fe=v._writableState)&&void 0!==Fe&&Fe.errored))},kIsErrored:O,isReadable:Me,kIsReadable:S,kIsClosedPromise:N,kControllerErrorFunction:U,isClosed:function m(v){if(!z(v))return null;if("boolean"==typeof v.closed)return v.closed;const $=v._writableState,F=v._readableState;return"boolean"==typeof $?.closed||"boolean"==typeof F?.closed?$?.closed||F?.closed:"boolean"==typeof v._closed&&p(v)?v._closed:null},isDestroyed:ce,isDuplexNodeStream:function L(v){return!(!v||"function"!=typeof v.pipe||!v._readableState||"function"!=typeof v.on||"function"!=typeof v.write)},isFinished:function C(v,$){return z(v)?!!ce(v)||!(!1!==$?.readable&&Me(v)||!1!==$?.writable&&Pe(v)):null},isIterable:function se(v,$){return null!=v&&(!0===$?"function"==typeof v[b]:!1===$?"function"==typeof v[P]:"function"==typeof v[b]||"function"==typeof v[P])},isReadableNodeStream:A,isReadableStream:ee,isReadableEnded:function he(v){if(!A(v))return null;if(!0===v.readableEnded)return!0;const $=v._readableState;return!(!$||$.errored)&&("boolean"!=typeof $?.ended?null:$.ended)},isReadableFinished:we,isReadableErrored:function d(v){var $,F;return z(v)?v.readableErrored?v.readableErrored:null!==($=null===(F=v._readableState)||void 0===F?void 0:F.errored)&&void 0!==$?$:null:null},isNodeStream:z,isWebStream:function J(v){return ee(v)||q(v)||Z(v)},isWritable:Pe,isWritableNodeStream:G,isWritableStream:q,isWritableEnded:ae,isWritableFinished:function fe(v,$){if(!G(v))return null;if(!0===v.writableFinished)return!0;const F=v._writableState;return(null==F||!F.errored)&&("boolean"!=typeof F?.finished?null:!!(F.finished||!1===$&&!0===F.ended&&0===F.length))},isWritableErrored:function a(v){var $,F;return z(v)?v.writableErrored?v.writableErrored:null!==($=null===(F=v._writableState)||void 0===F?void 0:F.errored)&&void 0!==$?$:null:null},isServerRequest:function D(v){var $;return"boolean"==typeof v._consuming&&"boolean"==typeof v._dumped&&void 0===(null===($=v.req)||void 0===$?void 0:$.upgradeOrConnect)},isServerResponse:E,willEmitClose:function R(v){if(!z(v))return null;const Q=v._writableState||v._readableState;return!Q&&E(v)||!!(Q&&Q.autoDestroy&&Q.emitClose&&!1===Q.closed)},isTransformStream:Z}},40258:(We,j,_)=>{const y=_(40573),{ArrayPrototypeSlice:b,Error:P,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:w,ObjectDefineProperties:O,ObjectSetPrototypeOf:S,StringPrototypeToLowerCase:B,Symbol:N,SymbolHasInstance:U}=_(43856);We.exports=E,E.WritableState=m;const{EventEmitter:A}=_(44356),G=_(2649).Stream,{Buffer:L}=_(89565),z=_(45078),{addAbortSignal:ee}=_(24785),{getHighWaterMark:q,getDefaultHighWaterMark:Z}=_(31081),{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:se,ERR_MULTIPLE_CALLBACK:ce,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:fe,ERR_STREAM_ALREADY_FINISHED:he,ERR_STREAM_NULL_VALUES:we,ERR_STREAM_WRITE_AFTER_END:Me,ERR_UNKNOWN_ENCODING:Pe}=_(65109).codes,{errorOrDestroy:C}=z;function a(){}S(E.prototype,G.prototype),S(E,G);const d=N("kOnFinished");function m(ge,me,te){"boolean"!=typeof te&&(te=me instanceof _(97464)),this.objectMode=!(!ge||!ge.objectMode),te&&(this.objectMode=this.objectMode||!(!ge||!ge.writableObjectMode)),this.highWaterMark=ge?q(this,ge,"writableHighWaterMark",te):Z(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(ge&&!1===ge.decodeStrings),this.defaultEncoding=ge&&ge.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=v.bind(void 0,me),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,p(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!ge||!1!==ge.emitClose,this.autoDestroy=!ge||!1!==ge.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[d]=[]}function p(ge){ge.buffered=[],ge.bufferedIndex=0,ge.allBuffers=!0,ge.allNoop=!0}function E(ge){const me=this instanceof _(97464);if(!me&&!H(E,this))return new E(ge);this._writableState=new m(ge,this,me),ge&&("function"==typeof ge.write&&(this._write=ge.write),"function"==typeof ge.writev&&(this._writev=ge.writev),"function"==typeof ge.destroy&&(this._destroy=ge.destroy),"function"==typeof ge.final&&(this._final=ge.final),"function"==typeof ge.construct&&(this._construct=ge.construct),ge.signal&&ee(ge.signal,this)),G.call(this,ge),z.construct(this,()=>{const te=this._writableState;te.writing||de(this,te),Ee(this,te)})}function D(ge,me,te,ne){const le=ge._writableState;if("function"==typeof te)ne=te,te=le.defaultEncoding;else{if(te){if("buffer"!==te&&!L.isEncoding(te))throw new Pe(te)}else te=le.defaultEncoding;"function"!=typeof ne&&(ne=a)}if(null===me)throw new we;if(!le.objectMode)if("string"==typeof me)!1!==le.decodeStrings&&(me=L.from(me,te),te="buffer");else if(me instanceof L)te="buffer";else{if(!G._isUint8Array(me))throw new J("chunk",["string","Buffer","Uint8Array"],me);me=G._uint8ArrayToBuffer(me),te="buffer"}let Ae;return le.ending?Ae=new Me:le.destroyed&&(Ae=new fe("write")),Ae?(y.nextTick(ne,Ae),C(ge,Ae,!0),Ae):(le.pendingcb++,function R(ge,me,te,ne,le){const Ae=me.objectMode?1:te.length;me.length+=Ae;const Be=me.length<me.highWaterMark;return Be||(me.needDrain=!0),me.writing||me.corked||me.errored||!me.constructed?(me.buffered.push({chunk:te,encoding:ne,callback:le}),me.allBuffers&&"buffer"!==ne&&(me.allBuffers=!1),me.allNoop&&le!==a&&(me.allNoop=!1)):(me.writelen=Ae,me.writecb=le,me.writing=!0,me.sync=!0,ge._write(te,ne,me.onwrite),me.sync=!1),Be&&!me.errored&&!me.destroyed}(ge,le,me,te,ne))}function x(ge,me,te,ne,le,Ae,Be){me.writelen=ne,me.writecb=Be,me.writing=!0,me.sync=!0,me.destroyed?me.onwrite(new fe("write")):te?ge._writev(le,me.onwrite):ge._write(le,Ae,me.onwrite),me.sync=!1}function s(ge,me,te,ne){--me.pendingcb,ne(te),Q(me),C(ge,te)}function v(ge,me){const te=ge._writableState,ne=te.sync,le=te.writecb;"function"==typeof le?(te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0,me?(te.errored||(te.errored=me),ge._readableState&&!ge._readableState.errored&&(ge._readableState.errored=me),ne?y.nextTick(s,ge,te,me,le):s(ge,te,me,le)):(te.buffered.length>te.bufferedIndex&&de(ge,te),ne?null!==te.afterWriteTickInfo&&te.afterWriteTickInfo.cb===le?te.afterWriteTickInfo.count++:(te.afterWriteTickInfo={count:1,cb:le,stream:ge,state:te},y.nextTick($,te.afterWriteTickInfo)):F(ge,te,1,le))):C(ge,new ce)}function $({stream:ge,state:me,count:te,cb:ne}){return me.afterWriteTickInfo=null,F(ge,me,te,ne)}function F(ge,me,te,ne){for(!me.ending&&!ge.destroyed&&0===me.length&&me.needDrain&&(me.needDrain=!1,ge.emit("drain"));te-- >0;)me.pendingcb--,ne();me.destroyed&&Q(me),Ee(ge,me)}function Q(ge){if(ge.writing)return;for(let le=ge.bufferedIndex;le<ge.buffered.length;++le){var me;const{chunk:Ae,callback:Be}=ge.buffered[le];ge.length-=ge.objectMode?1:Ae.length,Be(null!==(me=ge.errored)&&void 0!==me?me:new fe("write"))}const te=ge[d].splice(0);for(let le=0;le<te.length;le++){var ne;te[le](null!==(ne=ge.errored)&&void 0!==ne?ne:new fe("end"))}p(ge)}function de(ge,me){if(me.corked||me.bufferProcessing||me.destroyed||!me.constructed)return;const{buffered:te,bufferedIndex:ne,objectMode:le}=me,Ae=te.length-ne;if(!Ae)return;let Be=ne;if(me.bufferProcessing=!0,Ae>1&&ge._writev){me.pendingcb-=Ae-1;const qe=me.allNoop?a:Dt=>{for(let Xe=Be;Xe<te.length;++Xe)te[Xe].callback(Dt)},ze=me.allNoop&&0===Be?te:b(te,Be);ze.allBuffers=me.allBuffers,x(ge,me,!0,me.length,ze,"",qe),p(me)}else{do{const{chunk:qe,encoding:ze,callback:Dt}=te[Be];te[Be++]=null,x(ge,me,!1,le?1:qe.length,qe,ze,Dt)}while(Be<te.length&&!me.writing);Be===te.length?p(me):Be>256?(te.splice(0,Be),me.bufferedIndex=0):me.bufferedIndex=Be}me.bufferProcessing=!1}function De(ge){return ge.ending&&!ge.destroyed&&ge.constructed&&0===ge.length&&!ge.errored&&0===ge.buffered.length&&!ge.finished&&!ge.writing&&!ge.errorEmitted&&!ge.closeEmitted}function Ee(ge,me,te){De(me)&&(function Ve(ge,me){!me.prefinished&&!me.finalCalled&&("function"!=typeof ge._final||me.destroyed?(me.prefinished=!0,ge.emit("prefinish")):(me.finalCalled=!0,function Re(ge,me){let te=!1;function ne(le){if(te)C(ge,le??ce());else if(te=!0,me.pendingcb--,le){const Ae=me[d].splice(0);for(let Be=0;Be<Ae.length;Be++)Ae[Be](le);C(ge,le,me.sync)}else De(me)&&(me.prefinished=!0,ge.emit("prefinish"),me.pendingcb++,y.nextTick(_e,ge,me))}me.sync=!0,me.pendingcb++;try{ge._final(ne)}catch(le){ne(le)}me.sync=!1}(ge,me)))}(ge,me),0===me.pendingcb&&(te?(me.pendingcb++,y.nextTick((ne,le)=>{De(le)?_e(ne,le):le.pendingcb--},ge,me)):De(me)&&(me.pendingcb++,_e(ge,me))))}function _e(ge,me){me.pendingcb--,me.finished=!0;const te=me[d].splice(0);for(let ne=0;ne<te.length;ne++)te[ne]();if(ge.emit("finish"),me.autoDestroy){const ne=ge._readableState;(!ne||ne.autoDestroy&&(ne.endEmitted||!1===ne.readable))&&ge.destroy()}}m.prototype.getBuffer=function(){return b(this.buffered,this.bufferedIndex)},w(m.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),w(E,U,{__proto__:null,value:function(ge){return!!H(this,ge)||this===E&&ge&&ge._writableState instanceof m}}),E.prototype.pipe=function(){C(this,new ae)},E.prototype.write=function(ge,me,te){return!0===D(this,ge,me,te)},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){const ge=this._writableState;ge.corked&&(ge.corked--,ge.writing||de(this,ge))},E.prototype.setDefaultEncoding=function(me){if("string"==typeof me&&(me=B(me)),!L.isEncoding(me))throw new Pe(me);return this._writableState.defaultEncoding=me,this},E.prototype._write=function(ge,me,te){if(!this._writev)throw new se("_write()");this._writev([{chunk:ge,encoding:me}],te)},E.prototype._writev=null,E.prototype.end=function(ge,me,te){const ne=this._writableState;let le;if("function"==typeof ge?(te=ge,ge=null,me=null):"function"==typeof me&&(te=me,me=null),null!=ge){const Ae=D(this,ge,me);Ae instanceof P&&(le=Ae)}return ne.corked&&(ne.corked=1,this.uncork()),le||(ne.errored||ne.ending?ne.finished?le=new he("end"):ne.destroyed&&(le=new fe("end")):(ne.ending=!0,Ee(this,ne,!0),ne.ended=!0)),"function"==typeof te&&(le||ne.finished?y.nextTick(te,le):ne[d].push(te)),this},O(E.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(ge){this._writableState&&(this._writableState.destroyed=ge)}},writable:{__proto__:null,get(){const ge=this._writableState;return!(!ge||!1===ge.writable||ge.destroyed||ge.errored||ge.ending||ge.ended)},set(ge){this._writableState&&(this._writableState.writable=!!ge)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const ge=this._writableState;return!!ge&&!ge.destroyed&&!ge.ending&&ge.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Fe=z.destroy;let ve;function Te(){return void 0===ve&&(ve={}),ve}E.prototype.destroy=function(ge,me){const te=this._writableState;return!te.destroyed&&(te.bufferedIndex<te.buffered.length||te[d].length)&&y.nextTick(Q,te),Fe.call(this,ge,me),this},E.prototype._undestroy=z.undestroy,E.prototype._destroy=function(ge,me){me(ge)},E.prototype[A.captureRejectionSymbol]=function(ge){this.destroy(ge)},E.fromWeb=function(ge,me){return Te().newStreamWritableFromWritableStream(ge,me)},E.toWeb=function(ge){return Te().newWritableStreamFromStreamWritable(ge)}},44323:(We,j,_)=>{"use strict";const{ArrayIsArray:y,ArrayPrototypeIncludes:b,ArrayPrototypeJoin:P,ArrayPrototypeMap:H,NumberIsInteger:w,NumberIsNaN:O,NumberMAX_SAFE_INTEGER:S,NumberMIN_SAFE_INTEGER:B,NumberParseInt:N,ObjectPrototypeHasOwnProperty:U,RegExpPrototypeExec:A,String:G,StringPrototypeToUpperCase:L,StringPrototypeTrim:z}=_(43856),{hideStackFrames:ee,codes:{ERR_SOCKET_BAD_PORT:q,ERR_INVALID_ARG_TYPE:Z,ERR_INVALID_ARG_VALUE:J,ERR_OUT_OF_RANGE:se,ERR_UNKNOWN_SIGNAL:ce}}=_(65109),{normalizeEncoding:ae}=_(55830),{isAsyncFunction:fe,isArrayBufferView:he}=_(55830).types,we={},C=/^[0-7]+$/,m=ee((Ae,Be,qe=B,ze=S)=>{if("number"!=typeof Ae)throw new Z(Be,"number",Ae);if(!w(Ae))throw new se(Be,"an integer",Ae);if(Ae<qe||Ae>ze)throw new se(Be,`>= ${qe} && <= ${ze}`,Ae)}),p=ee((Ae,Be,qe=-2147483648,ze=2147483647)=>{if("number"!=typeof Ae)throw new Z(Be,"number",Ae);if(!w(Ae))throw new se(Be,"an integer",Ae);if(Ae<qe||Ae>ze)throw new se(Be,`>= ${qe} && <= ${ze}`,Ae)}),E=ee((Ae,Be,qe=!1)=>{if("number"!=typeof Ae)throw new Z(Be,"number",Ae);if(!w(Ae))throw new se(Be,"an integer",Ae);const ze=qe?1:0,Dt=4294967295;if(Ae<ze||Ae>Dt)throw new se(Be,`>= ${ze} && <= ${Dt}`,Ae)});function D(Ae,Be){if("string"!=typeof Ae)throw new Z(Be,"string",Ae)}const x=ee((Ae,Be,qe)=>{if(!b(qe,Ae)){const Dt="must be one of: "+P(H(qe,Xe=>"string"==typeof Xe?`'${Xe}'`:G(Xe)),", ");throw new J(Be,Ae,Dt)}});function s(Ae,Be){if("boolean"!=typeof Ae)throw new Z(Be,"boolean",Ae)}function v(Ae,Be,qe){return null!=Ae&&U(Ae,Be)?Ae[Be]:qe}const $=ee((Ae,Be,qe=null)=>{const ze=v(qe,"allowArray",!1),Dt=v(qe,"allowFunction",!1);if(!v(qe,"nullable",!1)&&null===Ae||!ze&&y(Ae)||"object"!=typeof Ae&&(!Dt||"function"!=typeof Ae))throw new Z(Be,"Object",Ae)}),F=ee((Ae,Be)=>{if(null!=Ae&&"object"!=typeof Ae&&"function"!=typeof Ae)throw new Z(Be,"a dictionary",Ae)}),Q=ee((Ae,Be,qe=0)=>{if(!y(Ae))throw new Z(Be,"Array",Ae);if(Ae.length<qe)throw new J(Be,Ae,`must be longer than ${qe}`)}),Ve=ee((Ae,Be="buffer")=>{if(!he(Ae))throw new Z(Be,["Buffer","TypedArray","DataView"],Ae)}),Fe=ee((Ae,Be)=>{if(void 0!==Ae&&(null===Ae||"object"!=typeof Ae||!("aborted"in Ae)))throw new Z(Be,"AbortSignal",Ae)}),ve=ee((Ae,Be)=>{if("function"!=typeof Ae)throw new Z(Be,"Function",Ae)}),Te=ee((Ae,Be)=>{if("function"!=typeof Ae||fe(Ae))throw new Z(Be,"Function",Ae)}),ge=ee((Ae,Be)=>{if(void 0!==Ae)throw new Z(Be,"undefined",Ae)}),te=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ne(Ae,Be){if(typeof Ae>"u"||!A(te,Ae))throw new J(Be,Ae,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}We.exports={isInt32:function Me(Ae){return Ae===(0|Ae)},isUint32:function Pe(Ae){return Ae===Ae>>>0},parseFileMode:function d(Ae,Be,qe){if(typeof Ae>"u"&&(Ae=qe),"string"==typeof Ae){if(null===A(C,Ae))throw new J(Be,Ae,"must be a 32-bit unsigned integer or an octal string");Ae=N(Ae,8)}return E(Ae,Be),Ae},validateArray:Q,validateStringArray:function de(Ae,Be){Q(Ae,Be);for(let qe=0;qe<Ae.length;qe++)D(Ae[qe],`${Be}[${qe}]`)},validateBooleanArray:function De(Ae,Be){Q(Ae,Be);for(let qe=0;qe<Ae.length;qe++)s(Ae[qe],`${Be}[${qe}]`)},validateBoolean:s,validateBuffer:Ve,validateDictionary:F,validateEncoding:function Ee(Ae,Be){const qe=ae(Be),ze=Ae.length;if("hex"===qe&&ze%2!=0)throw new J("encoding",Be,`is invalid for data of length ${ze}`)},validateFunction:ve,validateInt32:p,validateInteger:m,validateNumber:function R(Ae,Be,qe=void 0,ze){if("number"!=typeof Ae)throw new Z(Be,"number",Ae);if(null!=qe&&Ae<qe||null!=ze&&Ae>ze||(null!=qe||null!=ze)&&O(Ae))throw new se(Be,`${null!=qe?`>= ${qe}`:""}${null!=qe&&null!=ze?" && ":""}${null!=ze?`<= ${ze}`:""}`,Ae)},validateObject:$,validateOneOf:x,validatePlainFunction:Te,validatePort:function _e(Ae,Be="Port",qe=!0){if("number"!=typeof Ae&&"string"!=typeof Ae||"string"==typeof Ae&&0===z(Ae).length||+Ae!=+Ae>>>0||Ae>65535||0===Ae&&!qe)throw new q(Be,Ae,qe);return 0|Ae},validateSignalName:function Re(Ae,Be="signal"){if(D(Ae,Be),void 0===we[Ae])throw void 0!==we[L(Ae)]?new ce(Ae+" (signals must use all capital letters)"):new ce(Ae)},validateString:D,validateUint32:E,validateUndefined:ge,validateUnion:function me(Ae,Be,qe){if(!b(qe,Ae))throw new Z(Be,`('${P(qe,"|")}')`,Ae)},validateAbortSignal:Fe,validateLinkHeaderValue:function le(Ae){if("string"==typeof Ae)return ne(Ae,"hints"),Ae;if(y(Ae)){const Be=Ae.length;let qe="";if(0===Be)return qe;for(let ze=0;ze<Be;ze++){const Dt=Ae[ze];ne(Dt,"hints"),qe+=Dt,ze!==Be-1&&(qe+=", ")}return qe}throw new J("hints",Ae,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:(We,j,_)=>{"use strict";const y=_(3052),b=_(19905),P=y.Readable.destroy;We.exports=y.Readable,We.exports._uint8ArrayToBuffer=y._uint8ArrayToBuffer,We.exports._isUint8Array=y._isUint8Array,We.exports.isDisturbed=y.isDisturbed,We.exports.isErrored=y.isErrored,We.exports.isReadable=y.isReadable,We.exports.Readable=y.Readable,We.exports.Writable=y.Writable,We.exports.Duplex=y.Duplex,We.exports.Transform=y.Transform,We.exports.PassThrough=y.PassThrough,We.exports.addAbortSignal=y.addAbortSignal,We.exports.finished=y.finished,We.exports.destroy=y.destroy,We.exports.destroy=P,We.exports.pipeline=y.pipeline,We.exports.compose=y.compose,Object.defineProperty(y,"promises",{configurable:!0,enumerable:!0,get:()=>b}),We.exports.Stream=y.Stream,We.exports.default=We.exports},65109:(We,j,_)=>{"use strict";const{format:y,inspect:b,AggregateError:P}=_(55830),H=globalThis.AggregateError||P,w=Symbol("kIsNodeError"),O=["string","function","number","object","Function","Object","boolean","bigint","symbol"],S=/^([A-Z][a-z0-9]*)+$/,N={};function U(Z,J){if(!Z)throw new N.ERR_INTERNAL_ASSERTION(J)}function A(Z){let J="",se=Z.length;const ce="-"===Z[0]?1:0;for(;se>=ce+4;se-=3)J=`_${Z.slice(se-3,se)}${J}`;return`${Z.slice(0,se)}${J}`}function L(Z,J,se){se||(se=Error);class ce extends se{constructor(...fe){super(function G(Z,J,se){if("function"==typeof J)return U(J.length<=se.length,`Code: ${Z}; The provided arguments length (${se.length}) does not match the required ones (${J.length}).`),J(...se);const ce=(J.match(/%[dfijoOs]/g)||[]).length;return U(ce===se.length,`Code: ${Z}; The provided arguments length (${se.length}) does not match the required ones (${ce}).`),0===se.length?J:y(J,...se)}(Z,J,fe))}toString(){return`${this.name} [${Z}]: ${this.message}`}}Object.defineProperties(ce.prototype,{name:{value:se.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Z}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ce.prototype.code=Z,ce.prototype[w]=!0,N[Z]=ce}function z(Z){return Object.defineProperty(Z,"name",{value:"__node_internal_"+Z.name}),Z}class q extends Error{constructor(J="The operation was aborted",se=void 0){if(void 0!==se&&"object"!=typeof se)throw new N.ERR_INVALID_ARG_TYPE("options","Object",se);super(J,se),this.code="ABORT_ERR",this.name="AbortError"}}L("ERR_ASSERTION","%s",Error),L("ERR_INVALID_ARG_TYPE",(Z,J,se)=>{U("string"==typeof Z,"'name' must be a string"),Array.isArray(J)||(J=[J]);let ce="The ";Z.endsWith(" argument")?ce+=`${Z} `:ce+=`"${Z}" ${Z.includes(".")?"property":"argument"} `,ce+="must be ";const ae=[],fe=[],he=[];for(const Me of J)U("string"==typeof Me,"All expected entries have to be of type string"),O.includes(Me)?ae.push(Me.toLowerCase()):S.test(Me)?fe.push(Me):(U("object"!==Me,'The value "object" should be written as "Object"'),he.push(Me));if(fe.length>0){const Me=ae.indexOf("object");-1!==Me&&(ae.splice(ae,Me,1),fe.push("Object"))}if(ae.length>0){switch(ae.length){case 1:ce+=`of type ${ae[0]}`;break;case 2:ce+=`one of type ${ae[0]} or ${ae[1]}`;break;default:{const Me=ae.pop();ce+=`one of type ${ae.join(", ")}, or ${Me}`}}(fe.length>0||he.length>0)&&(ce+=" or ")}if(fe.length>0){switch(fe.length){case 1:ce+=`an instance of ${fe[0]}`;break;case 2:ce+=`an instance of ${fe[0]} or ${fe[1]}`;break;default:{const Me=fe.pop();ce+=`an instance of ${fe.join(", ")}, or ${Me}`}}he.length>0&&(ce+=" or ")}switch(he.length){case 0:break;case 1:he[0].toLowerCase()!==he[0]&&(ce+="an "),ce+=`${he[0]}`;break;case 2:ce+=`one of ${he[0]} or ${he[1]}`;break;default:{const Me=he.pop();ce+=`one of ${he.join(", ")}, or ${Me}`}}if(null==se)ce+=`. Received ${se}`;else if("function"==typeof se&&se.name)ce+=`. Received function ${se.name}`;else if("object"==typeof se){var we;null!==(we=se.constructor)&&void 0!==we&&we.name?ce+=`. Received an instance of ${se.constructor.name}`:ce+=`. Received ${b(se,{depth:-1})}`}else{let Me=b(se,{colors:!1});Me.length>25&&(Me=`${Me.slice(0,25)}...`),ce+=`. Received type ${typeof se} (${Me})`}return ce},TypeError),L("ERR_INVALID_ARG_VALUE",(Z,J,se="is invalid")=>{let ce=b(J);return ce.length>128&&(ce=ce.slice(0,128)+"..."),`The ${Z.includes(".")?"property":"argument"} '${Z}' ${se}. Received ${ce}`},TypeError),L("ERR_INVALID_RETURN_VALUE",(Z,J,se)=>{var ce;return`Expected ${Z} to be returned from the "${J}" function but got ${null!=se&&null!==(ce=se.constructor)&&void 0!==ce&&ce.name?`instance of ${se.constructor.name}`:"type "+typeof se}.`},TypeError),L("ERR_MISSING_ARGS",(...Z)=>{let J;U(Z.length>0,"At least one arg needs to be specified");const se=Z.length;switch(Z=(Array.isArray(Z)?Z:[Z]).map(ce=>`"${ce}"`).join(" or "),se){case 1:J+=`The ${Z[0]} argument`;break;case 2:J+=`The ${Z[0]} and ${Z[1]} arguments`;break;default:{const ce=Z.pop();J+=`The ${Z.join(", ")}, and ${ce} arguments`}}return`${J} must be specified`},TypeError),L("ERR_OUT_OF_RANGE",(Z,J,se)=>{let ce;return U(J,'Missing "range" argument'),Number.isInteger(se)&&Math.abs(se)>2**32?ce=A(String(se)):"bigint"==typeof se?(ce=String(se),(se>2n**32n||se<-(2n**32n))&&(ce=A(ce)),ce+="n"):ce=b(se),`The value of "${Z}" is out of range. It must be ${J}. Received ${ce}`},RangeError),L("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),L("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),L("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),L("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),L("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),L("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),L("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),L("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),L("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),L("ERR_STREAM_WRITE_AFTER_END","write after end",Error),L("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),We.exports={AbortError:q,aggregateTwoErrors:z(function ee(Z,J){if(Z&&J&&Z!==J){if(Array.isArray(J.errors))return J.errors.push(Z),J;const se=new H([J,Z],J.message);return se.code=J.code,se}return Z||J}),hideStackFrames:z,codes:N}},43856:We=>{"use strict";We.exports={ArrayIsArray:j=>Array.isArray(j),ArrayPrototypeIncludes:(j,_)=>j.includes(_),ArrayPrototypeIndexOf:(j,_)=>j.indexOf(_),ArrayPrototypeJoin:(j,_)=>j.join(_),ArrayPrototypeMap:(j,_)=>j.map(_),ArrayPrototypePop:(j,_)=>j.pop(_),ArrayPrototypePush:(j,_)=>j.push(_),ArrayPrototypeSlice:(j,_,y)=>j.slice(_,y),Error,FunctionPrototypeCall:(j,_,...y)=>j.call(_,...y),FunctionPrototypeSymbolHasInstance:(j,_)=>Function.prototype[Symbol.hasInstance].call(j,_),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(j,_)=>Object.defineProperties(j,_),ObjectDefineProperty:(j,_,y)=>Object.defineProperty(j,_,y),ObjectGetOwnPropertyDescriptor:(j,_)=>Object.getOwnPropertyDescriptor(j,_),ObjectKeys:j=>Object.keys(j),ObjectSetPrototypeOf:(j,_)=>Object.setPrototypeOf(j,_),Promise,PromisePrototypeCatch:(j,_)=>j.catch(_),PromisePrototypeThen:(j,_,y)=>j.then(_,y),PromiseReject:j=>Promise.reject(j),ReflectApply:Reflect.apply,RegExpPrototypeTest:(j,_)=>j.test(_),SafeSet:Set,String,StringPrototypeSlice:(j,_,y)=>j.slice(_,y),StringPrototypeToLowerCase:j=>j.toLowerCase(),StringPrototypeToUpperCase:j=>j.toUpperCase(),StringPrototypeTrim:j=>j.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(j,_,y)=>j.set(_,y),Uint8Array}},55830:(We,j,_)=>{"use strict";var y=_(29293).default;const b=_(89565),P=Object.getPrototypeOf(y(function*(){})).constructor,H=globalThis.Blob||b.Blob,w=typeof H<"u"?function(B){return B instanceof H}:function(B){return!1};class O extends Error{constructor(B){if(!Array.isArray(B))throw new TypeError("Expected input to be an Array, got "+typeof B);let N="";for(let U=0;U<B.length;U++)N+=`    ${B[U].stack}\n`;super(N),this.name="AggregateError",this.errors=B}}We.exports={AggregateError:O,kEmptyObject:Object.freeze({}),once(S){let B=!1;return function(...N){B||(B=!0,S.apply(this,N))}},createDeferredPromise:function(){let S,B;return{promise:new Promise((U,A)=>{S=U,B=A}),resolve:S,reject:B}},promisify:S=>new Promise((B,N)=>{S((U,...A)=>U?N(U):B(...A))}),debuglog:()=>function(){},format:(S,...B)=>S.replace(/%([sdifj])/g,function(...[N,U]){const A=B.shift();return"f"===U?A.toFixed(6):"j"===U?JSON.stringify(A):"s"===U&&"object"==typeof A?`${A.constructor!==Object?A.constructor.name:""} {}`.trim():A.toString()}),inspect(S){switch(typeof S){case"string":if(S.includes("'")){if(!S.includes('"'))return`"${S}"`;if(!S.includes("`")&&!S.includes("${"))return`\`${S}\``}return`'${S}'`;case"number":return isNaN(S)?"NaN":Object.is(S,-0)?String(S):S;case"bigint":return`${String(S)}n`;case"boolean":case"undefined":return String(S);case"object":return"{}"}},types:{isAsyncFunction:S=>S instanceof P,isArrayBufferView:S=>ArrayBuffer.isView(S)},isBlob:w},We.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:(We,j,_)=>{const{Buffer:y}=_(89565),{ObjectDefineProperty:b,ObjectKeys:P,ReflectApply:H}=_(43856),{promisify:{custom:w}}=_(55830),{streamReturningOperators:O,promiseReturningOperators:S}=_(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:B}}=_(65109),N=_(5464),{pipeline:U}=_(96208),{destroyer:A}=_(45078),G=_(44268),z=_(19905),ee=_(51233),q=We.exports=_(2649).Stream;q.isDisturbed=ee.isDisturbed,q.isErrored=ee.isErrored,q.isReadable=ee.isReadable,q.Readable=_(29710);for(const se of P(O)){let ae=function(...fe){if(new.target)throw B();return q.Readable.from(H(ce,this,fe))};const ce=O[se];b(ae,"name",{__proto__:null,value:ce.name}),b(ae,"length",{__proto__:null,value:ce.length}),b(q.Readable.prototype,se,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}for(const se of P(S)){let ae=function(...he){if(new.target)throw B();return H(ce,this,he)};const ce=S[se];b(ae,"name",{__proto__:null,value:ce.name}),b(ae,"length",{__proto__:null,value:ce.length}),b(q.Readable.prototype,se,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}q.Writable=_(40258),q.Duplex=_(97464),q.Transform=_(66344),q.PassThrough=_(70874),q.pipeline=U;const{addAbortSignal:Z}=_(24785);q.addAbortSignal=Z,q.finished=G,q.destroy=A,q.compose=N,b(q,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>z}),b(U,w,{__proto__:null,enumerable:!0,get:()=>z.pipeline}),b(G,w,{__proto__:null,enumerable:!0,get:()=>z.finished}),q.Stream=q,q._isUint8Array=function(ce){return ce instanceof Uint8Array},q._uint8ArrayToBuffer=function(ce){return y.from(ce.buffer,ce.byteOffset,ce.byteLength)}},19905:(We,j,_)=>{"use strict";const{ArrayPrototypePop:y,Promise:b}=_(43856),{isIterable:P,isNodeStream:H,isWebStream:w}=_(51233),{pipelineImpl:O}=_(96208),{finished:S}=_(44268);_(3052),We.exports={finished:S,pipeline:function B(...N){return new b((U,A)=>{let G,L;const z=N[N.length-1];if(z&&"object"==typeof z&&!H(z)&&!P(z)&&!w(z)){const ee=y(N);G=ee.signal,L=ee.end}O(N,(ee,q)=>{ee?A(ee):U(q)},{signal:G,end:L})})}}},37477:(We,j,_)=>{_(23963)},62108:We=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}We.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},13138:(We,j,_)=>{j.Level=_(23963).BrowserLevel},64284:We=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}We.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},67449:(We,j,_)=>{j.Level=_(23963).BrowserLevel},97829:We=>{var j=1e3,_=60*j,y=60*_,b=24*y,P=7*b;function B(N,U,A,G){var L=U>=1.5*A;return Math.round(N/A)+" "+G+(L?"s":"")}We.exports=function(N,U){U=U||{};var A=typeof N;if("string"===A&&N.length>0)return function w(N){if(!((N=String(N)).length>100)){var U=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(N);if(U){var A=parseFloat(U[1]);switch((U[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*P;case"days":case"day":case"d":return A*b;case"hours":case"hour":case"hrs":case"hr":case"h":return A*y;case"minutes":case"minute":case"mins":case"min":case"m":return A*_;case"seconds":case"second":case"secs":case"sec":case"s":return A*j;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(N);if("number"===A&&isFinite(N))return U.long?function S(N){var U=Math.abs(N);return U>=b?B(N,U,b,"day"):U>=y?B(N,U,y,"hour"):U>=_?B(N,U,_,"minute"):U>=j?B(N,U,j,"second"):N+" ms"}(N):function O(N){var U=Math.abs(N);return U>=b?Math.round(N/b)+"d":U>=y?Math.round(N/y)+"h":U>=_?Math.round(N/_)+"m":U>=j?Math.round(N/j)+"s":N+"ms"}(N);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(N))}},9465:We=>{"use strict";const{AbortController:j,AbortSignal:_}=typeof self<"u"?self:typeof window<"u"?window:void 0;We.exports=j,We.exports.AbortSignal=_,We.exports.default=j},91463:(We,j,_)=>{"use strict";const{fromCallback:y}=_(42381),b=_(61747),{getCallback:P,getOptions:H}=_(10475),w=Symbol("promise"),O=Symbol("status"),S=Symbol("operations"),B=Symbol("finishClose"),N=Symbol("closeCallbacks");j.AbstractChainedBatch=class U{constructor(G){if("object"!=typeof G||null===G)throw new TypeError("The first argument must be an abstract-level database, received "+(null===G?"null":typeof G));this[S]=[],this[N]=[],this[O]="open",this[B]=this[B].bind(this),this.db=G,this.db.attachResource(this),this.nextTick=G.nextTick}get length(){return this[S].length}put(G,L,z){if("open"!==this[O])throw new b("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const ee=this.db._checkKey(G)||this.db._checkValue(L);if(ee)throw ee;const q=z&&null!=z.sublevel?z.sublevel:this.db,Z=z,J=q.keyEncoding(z&&z.keyEncoding),se=q.valueEncoding(z&&z.valueEncoding),ce=J.format;z={...z,keyEncoding:ce,valueEncoding:se.format},q!==this.db&&(z.sublevel=null);const ae=q.prefixKey(J.encode(G),ce),fe=se.encode(L);return this._put(ae,fe,z),this[S].push({...Z,type:"put",key:G,value:L}),this}_put(G,L,z){}del(G,L){if("open"!==this[O])throw new b("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const z=this.db._checkKey(G);if(z)throw z;const ee=L&&null!=L.sublevel?L.sublevel:this.db,q=L,Z=ee.keyEncoding(L&&L.keyEncoding),J=Z.format;return L={...L,keyEncoding:J},ee!==this.db&&(L.sublevel=null),this._del(ee.prefixKey(Z.encode(G),J),L),this[S].push({...q,type:"del",key:G}),this}_del(G,L){}clear(){if("open"!==this[O])throw new b("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[S]=[],this}_clear(){}write(G,L){return L=P(G,L),L=y(L,w),G=H(G),"open"!==this[O]?this.nextTick(L,new b("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(L):(this[O]="writing",this._write(G,z=>{this[O]="closing",this[N].push(()=>L(z)),z||this.db.emit("batch",this[S]),this._close(this[B])})),L[w]}_write(G,L){}close(G){return G=y(G,w),"closing"===this[O]?this[N].push(G):"closed"===this[O]?this.nextTick(G):(this[N].push(G),"writing"!==this[O]&&(this[O]="closing",this._close(this[B]))),G[w]}_close(G){this.nextTick(G)}[B](){this[O]="closed",this.db.detachResource(this);const G=this[N];this[N]=[];for(const L of G)L()}}},63294:(We,j,_)=>{"use strict";var y=_(53344).default,b=_(42958).default;const{fromCallback:P}=_(42381),H=_(61747),{getOptions:w,getCallback:O}=_(10475),S=Symbol("promise"),B=Symbol("callback"),N=Symbol("working"),U=Symbol("handleOne"),A=Symbol("handleMany"),G=Symbol("autoClose"),L=Symbol("finishWork"),z=Symbol("returnMany"),ee=Symbol("closing"),q=Symbol("handleClose"),Z=Symbol("closed"),J=Symbol("closeCallbacks"),se=Symbol("keyEncoding"),ce=Symbol("valueEncoding"),ae=Symbol("abortOnClose"),fe=Symbol("legacy"),he=Symbol("keys"),we=Symbol("values"),Me=Symbol("limit"),Pe=Symbol("count"),C=Object.freeze({}),a=()=>{};let d=!1;class m{constructor(s,v,$){if("object"!=typeof s||null===s)throw new TypeError("The first argument must be an abstract-level database, received "+(null===s?"null":typeof s));if("object"!=typeof v||null===v)throw new TypeError("The second argument must be an options object");this[Z]=!1,this[J]=[],this[N]=!1,this[ee]=!1,this[G]=!1,this[B]=null,this[U]=this[U].bind(this),this[A]=this[A].bind(this),this[q]=this[q].bind(this),this[se]=v[se],this[ce]=v[ce],this[fe]=$,this[Me]=Number.isInteger(v.limit)&&v.limit>=0?v.limit:1/0,this[Pe]=0,this[ae]=!!v.abortOnClose,this.db=s,this.db.attachResource(this),this.nextTick=s.nextTick}get count(){return this[Pe]}get limit(){return this[Me]}next(s){let v;if(void 0===s)v=new Promise(($,F)=>{s=(Q,de,De)=>{Q?F(Q):this[fe]?void 0===de&&void 0===De?$():$([de,De]):$(de)}});else if("function"!=typeof s)throw new TypeError("Callback must be a function");return this[ee]?this.nextTick(s,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[N]?this.nextTick(s,new H("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[N]=!0,this[B]=s,this[Pe]>=this[Me]?this.nextTick(this[U],null):this._next(this[U])),v}_next(s){this.nextTick(s)}nextv(s,v,$){return $=O(v,$),$=P($,S),v=w(v,C),Number.isInteger(s)?(this[ee]?this.nextTick($,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[N]?this.nextTick($,new H("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(s<1&&(s=1),this[Me]<1/0&&(s=Math.min(s,this[Me]-this[Pe])),this[N]=!0,this[B]=$,s<=0?this.nextTick(this[A],null,[]):this._nextv(s,v,this[A])),$[S]):(this.nextTick($,new TypeError("The first argument 'size' must be an integer")),$[S])}_nextv(s,v,$){const F=[],Q=(de,De,Re)=>de?$(de):(this[fe]?void 0===De&&void 0===Re:void 0===De)?$(null,F):(F.push(this[fe]?[De,Re]:De),void(F.length===s?$(null,F):this._next(Q)));this._next(Q)}all(s,v){return v=O(s,v),v=P(v,S),s=w(s,C),this[ee]?this.nextTick(v,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[N]?this.nextTick(v,new H("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[N]=!0,this[B]=v,this[G]=!0,this[Pe]>=this[Me]?this.nextTick(this[A],null,[]):this._all(s,this[A])),v[S]}_all(s,v){let $=this[Pe];const F=[],Q=()=>{const De=this[Me]<1/0?Math.min(1e3,this[Me]-$):1e3;De<=0?this.nextTick(v,null,F):this._nextv(De,C,de)},de=(De,Re)=>{De?v(De):0===Re.length?v(null,F):(F.push.apply(F,Re),$+=Re.length,Q())};Q()}[L](){const s=this[B];return this[ae]&&null===s?a:(this[N]=!1,this[B]=null,this[ee]&&this._close(this[q]),s)}[z](s,v,$){this[G]?this.close(s.bind(null,v,$)):s(v,$)}seek(s,v){if(v=w(v,C),!this[ee]){if(this[N])throw new H("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const $=this.db.keyEncoding(v.keyEncoding||this[se]),F=$.format;v.keyEncoding!==F&&(v={...v,keyEncoding:F});const Q=this.db.prefixKey($.encode(s),F);this._seek(Q,v)}}}_seek(s,v){throw new H("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(s){return s=P(s,S),this[Z]?this.nextTick(s):this[ee]?this[J].push(s):(this[ee]=!0,this[J].push(s),this[N]?this[ae]&&this[L]()(new H("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[q])),s[S]}_close(s){this.nextTick(s)}[q](){this[Z]=!0,this.db.detachResource(this);const s=this[J];this[J]=[];for(const v of s)v()}[Symbol.asyncIterator](){var s=this;return b(function*(){try{let v;for(;void 0!==(v=yield y(s.next()));)yield v}finally{s[Z]||(yield y(s.close()))}})()}}class p extends m{constructor(s,v){super(s,v,!0),this[he]=!1!==v.keys,this[we]=!1!==v.values}[U](s,v,$){const F=this[L]();if(s)return F(s);try{v=this[he]&&void 0!==v?this[se].decode(v):void 0,$=this[we]&&void 0!==$?this[ce].decode($):void 0}catch(Q){return F(new R("entry",Q))}void 0===v&&void 0===$||this[Pe]++,F(null,v,$)}[A](s,v){const $=this[L]();if(s)return this[z]($,s);try{for(const F of v){const Q=F[0],de=F[1];F[0]=this[he]&&void 0!==Q?this[se].decode(Q):void 0,F[1]=this[we]&&void 0!==de?this[ce].decode(de):void 0}}catch(F){return this[z]($,new R("entries",F))}this[Pe]+=v.length,this[z]($,null,v)}end(s){return!d&&typeof console<"u"&&(d=!0,console.warn(new H("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(s)}}class R extends H{constructor(s,v){super(`Iterator could not decode ${s}`,{code:"LEVEL_DECODE_ERROR",cause:v})}}for(const x of["_ended property","_nexting property","_end method"])Object.defineProperty(p.prototype,x.split(" ")[0],{get(){throw new H(`The ${x} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new H(`The ${x} has been removed`,{code:"LEVEL_LEGACY"})}});p.keyEncoding=se,p.valueEncoding=ce,j.AbstractIterator=p,j.AbstractKeyIterator=class E extends m{constructor(s,v){super(s,v,!1)}[U](s,v){const $=this[L]();if(s)return $(s);try{v=void 0!==v?this[se].decode(v):void 0}catch(F){return $(new R("key",F))}void 0!==v&&this[Pe]++,$(null,v)}[A](s,v){const $=this[L]();if(s)return this[z]($,s);try{for(let F=0;F<v.length;F++){const Q=v[F];v[F]=void 0!==Q?this[se].decode(Q):void 0}}catch(F){return this[z]($,new R("keys",F))}this[Pe]+=v.length,this[z]($,null,v)}},j.AbstractValueIterator=class D extends m{constructor(s,v){super(s,v,!1)}[U](s,v){const $=this[L]();if(s)return $(s);try{v=void 0!==v?this[ce].decode(v):void 0}catch(F){return $(new R("value",F))}void 0!==v&&this[Pe]++,$(null,v)}[A](s,v){const $=this[L]();if(s)return this[z]($,s);try{for(let F=0;F<v.length;F++){const Q=v[F];v[F]=void 0!==Q?this[ce].decode(Q):void 0}}catch(F){return this[z]($,new R("values",F))}this[Pe]+=v.length,this[z]($,null,v)}}},83764:(We,j,_)=>{"use strict";const{supports:y}=_(89061),{Transcoder:b}=_(25006),{EventEmitter:P}=_(44356),{fromCallback:H}=_(42381),w=_(61747),{AbstractIterator:O}=_(63294),{DefaultKeyIterator:S,DefaultValueIterator:B}=_(48335),{DeferredIterator:N,DeferredKeyIterator:U,DeferredValueIterator:A}=_(92745),{DefaultChainedBatch:G}=_(45776),{getCallback:L,getOptions:z}=_(10475),ee=_(4287),q=Symbol("promise"),Z=Symbol("landed"),J=Symbol("resources"),se=Symbol("closeResources"),ce=Symbol("operations"),ae=Symbol("undefer"),fe=Symbol("deferOpen"),he=Symbol("options"),we=Symbol("status"),Me=Symbol("defaultOptions"),Pe=Symbol("transcoder"),C=Symbol("keyEncoding"),a=Symbol("valueEncoding"),d=()=>{};class m extends P{constructor(x,s){if(super(),"object"!=typeof x||null===x)throw new TypeError("The first argument 'manifest' must be an object");s=z(s);const{keyEncoding:v,valueEncoding:$,passive:F,...Q}=s;this[J]=new Set,this[ce]=[],this[fe]=!0,this[he]=Q,this[we]="opening",this.supports=y(x,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==x.snapshots,permanence:!1!==x.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:x.encodings||{},events:Object.assign({},x.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Pe]=new b(D(this)),this[C]=this[Pe].encoding(v||"utf8"),this[a]=this[Pe].encoding($||"utf8");for(const de of this[Pe].encodings())this.supports.encodings[de.commonName]||(this.supports.encodings[de.commonName]=!0);this[Me]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[C].commonName,valueEncoding:this[a].commonName}),key:Object.freeze({keyEncoding:this[C].commonName})},this.nextTick(()=>{this[fe]&&this.open({passive:!1},d)})}get status(){return this[we]}keyEncoding(x){return this[Pe].encoding(x??this[C])}valueEncoding(x){return this[Pe].encoding(x??this[a])}open(x,s){s=L(x,s),s=H(s,q),(x={...this[he],...z(x)}).createIfMissing=!1!==x.createIfMissing,x.errorIfExists=!!x.errorIfExists;const v=$=>{"closing"===this[we]||"opening"===this[we]?this.once(Z,$?()=>v($):v):"open"!==this[we]?s(new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:$})):s()};return x.passive?"opening"===this[we]?this.once(Z,v):this.nextTick(v):"closed"===this[we]||this[fe]?(this[fe]=!1,this[we]="opening",this.emit("opening"),this._open(x,$=>{if($)return this[we]="closed",this[se](()=>{this.emit(Z),v($)}),void this[ae]();this[we]="open",this[ae](),this.emit(Z),"open"===this[we]&&this.emit("open"),"open"===this[we]&&this.emit("ready"),v()})):"open"===this[we]?this.nextTick(v):this.once(Z,()=>this.open(x,s)),s[q]}_open(x,s){this.nextTick(s)}close(x){x=H(x,q);const s=v=>{"opening"===this[we]||"closing"===this[we]?this.once(Z,v?s(v):s):"closed"!==this[we]?x(new w("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:v})):x()};if("open"===this[we]){this[we]="closing",this.emit("closing");const v=$=>{this[we]="open",this[ae](),this.emit(Z),s($)};this[se](()=>{this._close($=>{if($)return v($);this[we]="closed",this[ae](),this.emit(Z),"closed"===this[we]&&this.emit("closed"),s()})})}else"closed"===this[we]?this.nextTick(s):this.once(Z,()=>this.close(x));return x[q]}[se](x){if(0===this[J].size)return this.nextTick(x);let s=this[J].size,v=!0;const $=()=>{0==--s&&(v?this.nextTick(x):x())};for(const F of this[J])F.close($);v=!1,this[J].clear()}_close(x){this.nextTick(x)}get(x,s,v){if(v=L(s,v),v=H(v,q),s=z(s,this[Me].entry),"opening"===this[we])return this.defer(()=>this.get(x,s,v)),v[q];if(E(this,v))return v[q];const $=this._checkKey(x);if($)return this.nextTick(v,$),v[q];const F=this.keyEncoding(s.keyEncoding),Q=this.valueEncoding(s.valueEncoding),de=F.format,De=Q.format;return(s.keyEncoding!==de||s.valueEncoding!==De)&&(s=Object.assign({},s,{keyEncoding:de,valueEncoding:De})),this._get(this.prefixKey(F.encode(x),de),s,(Re,Ve)=>{if(Re)return("LEVEL_NOT_FOUND"===Re.code||Re.notFound||/NotFound/i.test(Re))&&(Re.code||(Re.code="LEVEL_NOT_FOUND"),Re.notFound||(Re.notFound=!0),Re.status||(Re.status=404)),v(Re);try{Ve=Q.decode(Ve)}catch(Ee){return v(new w("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:Ee}))}v(null,Ve)}),v[q]}_get(x,s,v){this.nextTick(v,new Error("NotFound"))}getMany(x,s,v){if(v=L(s,v),v=H(v,q),s=z(s,this[Me].entry),"opening"===this[we])return this.defer(()=>this.getMany(x,s,v)),v[q];if(E(this,v))return v[q];if(!Array.isArray(x))return this.nextTick(v,new TypeError("The first argument 'keys' must be an array")),v[q];if(0===x.length)return this.nextTick(v,null,[]),v[q];const $=this.keyEncoding(s.keyEncoding),F=this.valueEncoding(s.valueEncoding),Q=$.format,de=F.format;(s.keyEncoding!==Q||s.valueEncoding!==de)&&(s=Object.assign({},s,{keyEncoding:Q,valueEncoding:de}));const De=new Array(x.length);for(let Re=0;Re<x.length;Re++){const Ve=x[Re],Ee=this._checkKey(Ve);if(Ee)return this.nextTick(v,Ee),v[q];De[Re]=this.prefixKey($.encode(Ve),Q)}return this._getMany(De,s,(Re,Ve)=>{if(Re)return v(Re);try{for(let Ee=0;Ee<Ve.length;Ee++)void 0!==Ve[Ee]&&(Ve[Ee]=F.decode(Ve[Ee]))}catch(Ee){return v(new w(`Could not decode one or more of ${Ve.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:Ee}))}v(null,Ve)}),v[q]}_getMany(x,s,v){this.nextTick(v,null,new Array(x.length).fill(void 0))}put(x,s,v,$){if($=L(v,$),$=H($,q),v=z(v,this[Me].entry),"opening"===this[we])return this.defer(()=>this.put(x,s,v,$)),$[q];if(E(this,$))return $[q];const F=this._checkKey(x)||this._checkValue(s);if(F)return this.nextTick($,F),$[q];const Q=this.keyEncoding(v.keyEncoding),de=this.valueEncoding(v.valueEncoding),De=Q.format,Re=de.format;(v.keyEncoding!==De||v.valueEncoding!==Re)&&(v=Object.assign({},v,{keyEncoding:De,valueEncoding:Re}));const Ve=this.prefixKey(Q.encode(x),De),Ee=de.encode(s);return this._put(Ve,Ee,v,_e=>{if(_e)return $(_e);this.emit("put",x,s),$()}),$[q]}_put(x,s,v,$){this.nextTick($)}del(x,s,v){if(v=L(s,v),v=H(v,q),s=z(s,this[Me].key),"opening"===this[we])return this.defer(()=>this.del(x,s,v)),v[q];if(E(this,v))return v[q];const $=this._checkKey(x);if($)return this.nextTick(v,$),v[q];const F=this.keyEncoding(s.keyEncoding),Q=F.format;return s.keyEncoding!==Q&&(s=Object.assign({},s,{keyEncoding:Q})),this._del(this.prefixKey(F.encode(x),Q),s,de=>{if(de)return v(de);this.emit("del",x),v()}),v[q]}_del(x,s,v){this.nextTick(v)}batch(x,s,v){if(!arguments.length){if("opening"===this[we])return new G(this);if("open"!==this[we])throw new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(v="function"==typeof x?x:L(s,v),v=H(v,q),s=z(s,this[Me].empty),"opening"===this[we])return this.defer(()=>this.batch(x,s,v)),v[q];if(E(this,v))return v[q];if(!Array.isArray(x))return this.nextTick(v,new TypeError("The first argument 'operations' must be an array")),v[q];if(0===x.length)return this.nextTick(v),v[q];const $=new Array(x.length),{keyEncoding:F,valueEncoding:Q,...de}=s;for(let De=0;De<x.length;De++){if("object"!=typeof x[De]||null===x[De])return this.nextTick(v,new TypeError("A batch operation must be an object")),v[q];const Re=Object.assign({},x[De]);if("put"!==Re.type&&"del"!==Re.type)return this.nextTick(v,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),v[q];const Ve=this._checkKey(Re.key);if(Ve)return this.nextTick(v,Ve),v[q];const Ee=null!=Re.sublevel?Re.sublevel:this,_e=Ee.keyEncoding(Re.keyEncoding||F),Fe=_e.format;if(Re.key=Ee.prefixKey(_e.encode(Re.key),Fe),Re.keyEncoding=Fe,"put"===Re.type){const ve=this._checkValue(Re.value);if(ve)return this.nextTick(v,ve),v[q];const Te=Ee.valueEncoding(Re.valueEncoding||Q);Re.value=Te.encode(Re.value),Re.valueEncoding=Te.format}Ee!==this&&(Re.sublevel=null),$[De]=Re}return this._batch($,de,De=>{if(De)return v(De);this.emit("batch",x),v()}),v[q]}_batch(x,s,v){this.nextTick(v)}sublevel(x,s){return this._sublevel(x,p.defaults(s))}_sublevel(x,s){return new p(this,x,s)}prefixKey(x,s){return x}clear(x,s){if(s=L(x,s),s=H(s,q),x=z(x,this[Me].empty),"opening"===this[we])return this.defer(()=>this.clear(x,s)),s[q];if(E(this,s))return s[q];const v=x,$=this.keyEncoding(x.keyEncoding);return(x=ee(x,$)).keyEncoding=$.format,0===x.limit?this.nextTick(s):this._clear(x,F=>{if(F)return s(F);this.emit("clear",v),s()}),s[q]}_clear(x,s){this.nextTick(s)}iterator(x){const s=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=ee(x,s)).keys=!1!==x.keys,x.values=!1!==x.values,x[O.keyEncoding]=s,x[O.valueEncoding]=v,x.keyEncoding=s.format,x.valueEncoding=v.format,"opening"===this[we])return new N(this,x);if("open"!==this[we])throw new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(x)}_iterator(x){return new O(this,x)}keys(x){const s=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=ee(x,s))[O.keyEncoding]=s,x[O.valueEncoding]=v,x.keyEncoding=s.format,x.valueEncoding=v.format,"opening"===this[we])return new U(this,x);if("open"!==this[we])throw new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(x)}_keys(x){return new S(this,x)}values(x){const s=this.keyEncoding(x&&x.keyEncoding),v=this.valueEncoding(x&&x.valueEncoding);if((x=ee(x,s))[O.keyEncoding]=s,x[O.valueEncoding]=v,x.keyEncoding=s.format,x.valueEncoding=v.format,"opening"===this[we])return new A(this,x);if("open"!==this[we])throw new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(x)}_values(x){return new B(this,x)}defer(x){if("function"!=typeof x)throw new TypeError("The first argument must be a function");this[ce].push(x)}[ae](){if(0===this[ce].length)return;const x=this[ce];this[ce]=[];for(const s of x)s()}attachResource(x){if("object"!=typeof x||null===x||"function"!=typeof x.close)throw new TypeError("The first argument must be a resource object");this[J].add(x)}detachResource(x){this[J].delete(x)}_chainedBatch(){return new G(this)}_checkKey(x){if(null==x)return new w("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(x){if(null==x)return new w("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}m.prototype.nextTick=_(24585);const{AbstractSublevel:p}=_(25416)({AbstractLevel:m});j.AbstractLevel=m,j.AbstractSublevel=p;const E=function(R,x){return"open"!==R[we]&&(R.nextTick(x,new w("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},D=function(R){return Object.keys(R.supports.encodings).filter(x=>!!R.supports.encodings[x])}},75929:(We,j,_)=>{"use strict";j.AbstractLevel=_(83764).AbstractLevel,j.AbstractSublevel=_(83764).AbstractSublevel,j.AbstractIterator=_(63294).AbstractIterator,j.AbstractKeyIterator=_(63294).AbstractKeyIterator,j.AbstractValueIterator=_(63294).AbstractValueIterator,j.AbstractChainedBatch=_(91463).AbstractChainedBatch},47519:(We,j,_)=>{"use strict";const{AbstractIterator:y,AbstractKeyIterator:b,AbstractValueIterator:P}=_(63294),H=Symbol("unfix"),w=Symbol("iterator"),O=Symbol("handleOne"),S=Symbol("handleMany"),B=Symbol("callback");class N extends y{constructor(L,z,ee,q){super(L,z),this[w]=ee,this[H]=q,this[O]=this[O].bind(this),this[S]=this[S].bind(this),this[B]=null}[O](L,z,ee){const q=this[B];if(L)return q(L);void 0!==z&&(z=this[H](z)),q(L,z,ee)}[S](L,z){const ee=this[B];if(L)return ee(L);for(const q of z){const Z=q[0];void 0!==Z&&(q[0]=this[H](Z))}ee(L,z)}}class U extends b{constructor(L,z,ee,q){super(L,z),this[w]=ee,this[H]=q,this[O]=this[O].bind(this),this[S]=this[S].bind(this),this[B]=null}[O](L,z){const ee=this[B];if(L)return ee(L);void 0!==z&&(z=this[H](z)),ee(L,z)}[S](L,z){const ee=this[B];if(L)return ee(L);for(let q=0;q<z.length;q++){const Z=z[q];void 0!==Z&&(z[q]=this[H](Z))}ee(L,z)}}class A extends P{constructor(L,z,ee){super(L,z),this[w]=ee}}for(const G of[N,U])G.prototype._next=function(L){this[B]=L,this[w].next(this[O])},G.prototype._nextv=function(L,z,ee){this[B]=ee,this[w].nextv(L,z,this[S])},G.prototype._all=function(L,z){this[B]=z,this[w].all(L,this[S])};for(const G of[A])G.prototype._next=function(L){this[w].next(L)},G.prototype._nextv=function(L,z,ee){this[w].nextv(L,z,ee)},G.prototype._all=function(L,z){this[w].all(L,z)};for(const G of[N,U,A])G.prototype._seek=function(L,z){this[w].seek(L,z)},G.prototype._close=function(L){this[w].close(L)};j.AbstractSublevelIterator=N,j.AbstractSublevelKeyIterator=U,j.AbstractSublevelValueIterator=A},25416:(We,j,_)=>{"use strict";const y=_(61747),{Buffer:b}=_(1067)||{},{AbstractSublevelIterator:P,AbstractSublevelKeyIterator:H,AbstractSublevelValueIterator:w}=_(47519),O=Symbol("prefix"),S=Symbol("upperBound"),B=Symbol("prefixRange"),N=Symbol("parent"),U=Symbol("unfix"),A=new TextEncoder,G={separator:"!"};We.exports=function({AbstractLevel:J}){class se extends J{static defaults(ae){if("string"==typeof ae)throw new y("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(ae&&ae.open)throw new y("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==ae?G:ae.separator?ae:{...ae,separator:"!"}}constructor(ae,fe,he){const{separator:we,manifest:Me,...Pe}=se.defaults(he);fe=Z(fe,we);const C=we.charCodeAt(0)+1,a=ae[N]||ae;if(!A.encode(fe).every(p=>p>C&&p<127))throw new y(`Prefix must use bytes > ${C} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(L(a,Me),Pe);const d=(ae.prefix||"")+we+fe+we,m=d.slice(0,-1)+String.fromCharCode(C);this[N]=a,this[O]=new ee(d),this[S]=new ee(m),this[U]=new q,this.nextTick=a.nextTick}prefixKey(ae,fe){if("utf8"===fe)return this[O].utf8+ae;if(0===ae.byteLength)return this[O][fe];if("view"===fe){const he=this[O].view,we=new Uint8Array(he.byteLength+ae.byteLength);return we.set(he,0),we.set(ae,he.byteLength),we}{const he=this[O].buffer;return b.concat([he,ae],he.byteLength+ae.byteLength)}}[B](ae,fe){void 0!==ae.gte?ae.gte=this.prefixKey(ae.gte,fe):void 0!==ae.gt?ae.gt=this.prefixKey(ae.gt,fe):ae.gte=this[O][fe],void 0!==ae.lte?ae.lte=this.prefixKey(ae.lte,fe):void 0!==ae.lt?ae.lt=this.prefixKey(ae.lt,fe):ae.lte=this[S][fe]}get prefix(){return this[O].utf8}get db(){return this[N]}_open(ae,fe){this[N].open({passive:!0},fe)}_put(ae,fe,he,we){this[N].put(ae,fe,he,we)}_get(ae,fe,he){this[N].get(ae,fe,he)}_getMany(ae,fe,he){this[N].getMany(ae,fe,he)}_del(ae,fe,he){this[N].del(ae,fe,he)}_batch(ae,fe,he){this[N].batch(ae,fe,he)}_clear(ae,fe){this[B](ae,ae.keyEncoding),this[N].clear(ae,fe)}_iterator(ae){this[B](ae,ae.keyEncoding);const fe=this[N].iterator(ae),he=this[U].get(this[O].utf8.length,ae.keyEncoding);return new P(this,ae,fe,he)}_keys(ae){this[B](ae,ae.keyEncoding);const fe=this[N].keys(ae),he=this[U].get(this[O].utf8.length,ae.keyEncoding);return new H(this,ae,fe,he)}_values(ae){this[B](ae,ae.keyEncoding);const fe=this[N].values(ae);return new w(this,ae,fe)}}return{AbstractSublevel:se}};const L=function(J,se){return{...J.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...se,encodings:{utf8:z(J,"utf8"),buffer:z(J,"buffer"),view:z(J,"view")}}},z=function(J,se){return!!J.supports.encodings[se]&&J.keyEncoding(se).name===se};class ee{constructor(se){this.utf8=se,this.view=A.encode(se),this.buffer=b?b.from(this.view.buffer,0,this.view.byteLength):{}}}class q{constructor(){this.cache=new Map}get(se,ce){let ae=this.cache.get(ce);return void 0===ae&&(ae="view"===ce?function(fe,he){return he.subarray(fe)}.bind(null,se):function(fe,he){return he.slice(fe)}.bind(null,se),this.cache.set(ce,ae)),ae}}const Z=function(J,se){let ce=0,ae=J.length;for(;ce<ae&&J[ce]===se;)ce++;for(;ae>ce&&J[ae-1]===se;)ae--;return J.slice(ce,ae)}},10475:(We,j)=>{"use strict";j.getCallback=function(_,y){return"function"==typeof _?_:y},j.getOptions=function(_,y){return"object"==typeof _&&null!==_?_:void 0!==y?y:{}}},45776:(We,j,_)=>{"use strict";const{AbstractChainedBatch:y}=_(91463),b=_(61747),P=Symbol("encoded");j.DefaultChainedBatch=class H extends y{constructor(O){super(O),this[P]=[]}_put(O,S,B){this[P].push({...B,type:"put",key:O,value:S})}_del(O,S){this[P].push({...S,type:"del",key:O})}_clear(){this[P]=[]}_write(O,S){"opening"===this.db.status?this.db.defer(()=>this._write(O,S)):"open"===this.db.status?0===this[P].length?this.nextTick(S):this.db._batch(this[P],O,S):this.nextTick(S,new b("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:(We,j,_)=>{"use strict";const{AbstractKeyIterator:y,AbstractValueIterator:b}=_(63294),P=Symbol("iterator"),H=Symbol("callback"),w=Symbol("handleOne"),O=Symbol("handleMany");class S extends y{constructor(U,A){super(U,A),this[P]=U.iterator({...A,keys:!0,values:!1}),this[w]=this[w].bind(this),this[O]=this[O].bind(this)}}class B extends b{constructor(U,A){super(U,A),this[P]=U.iterator({...A,keys:!1,values:!0}),this[w]=this[w].bind(this),this[O]=this[O].bind(this)}}for(const N of[S,B]){const U=N===S,A=U?G=>G[0]:G=>G[1];N.prototype._next=function(G){this[H]=G,this[P].next(this[w])},N.prototype[w]=function(G,L,z){const ee=this[H];G?ee(G):ee(null,U?L:z)},N.prototype._nextv=function(G,L,z){this[H]=z,this[P].nextv(G,L,this[O])},N.prototype._all=function(G,L){this[H]=L,this[P].all(G,this[O])},N.prototype[O]=function(G,L){const z=this[H];G?z(G):z(null,L.map(A))},N.prototype._seek=function(G,L){this[P].seek(G,L)},N.prototype._close=function(G){this[P].close(G)}}j.DefaultKeyIterator=S,j.DefaultValueIterator=B},92745:(We,j,_)=>{"use strict";const{AbstractIterator:y,AbstractKeyIterator:b,AbstractValueIterator:P}=_(63294),H=_(61747),w=Symbol("nut"),O=Symbol("undefer"),S=Symbol("factory");class B extends y{constructor(G,L){super(G,L),this[w]=null,this[S]=()=>G.iterator(L),this.db.defer(()=>this[O]())}}class N extends b{constructor(G,L){super(G,L),this[w]=null,this[S]=()=>G.keys(L),this.db.defer(()=>this[O]())}}class U extends P{constructor(G,L){super(G,L),this[w]=null,this[S]=()=>G.values(L),this.db.defer(()=>this[O]())}}for(const A of[B,N,U])A.prototype[O]=function(){"open"===this.db.status&&(this[w]=this[S]())},A.prototype._next=function(G){null!==this[w]?this[w].next(G):"opening"===this.db.status?this.db.defer(()=>this._next(G)):this.nextTick(G,new H("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._nextv=function(G,L,z){null!==this[w]?this[w].nextv(G,L,z):"opening"===this.db.status?this.db.defer(()=>this._nextv(G,L,z)):this.nextTick(z,new H("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._all=function(G,L){null!==this[w]?this[w].all(L):"opening"===this.db.status?this.db.defer(()=>this._all(G,L)):this.nextTick(L,new H("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},A.prototype._seek=function(G,L){null!==this[w]?this[w]._seek(G,L):"opening"===this.db.status&&this.db.defer(()=>this._seek(G,L))},A.prototype._close=function(G){null!==this[w]?this[w].close(G):"opening"===this.db.status?this.db.defer(()=>this._close(G)):this.nextTick(G)};j.DeferredIterator=B,j.DeferredKeyIterator=N,j.DeferredValueIterator=U},24585:(We,j,_)=>{"use strict";const y=_(24515);We.exports=function(b,...P){y(0===P.length?b:()=>b(...P))}},4287:(We,j,_)=>{"use strict";const y=_(61747),b=Object.prototype.hasOwnProperty,P=new Set(["lt","lte","gt","gte"]);We.exports=function(H,w){const O={};for(const S in H)if(b.call(H,S)&&"keyEncoding"!==S&&"valueEncoding"!==S){if("start"===S||"end"===S)throw new y(`The legacy range option '${S}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===S)throw new y("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});O[S]=P.has(S)?w.encode(H[S]):H[S]}return O.reverse=!!O.reverse,O.limit=Number.isInteger(O.limit)&&O.limit>=0?O.limit:-1,O}},1067:(We,j,_)=>{"use strict";const y=_(13981),b=_(22020),P="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function J(K){return+K!=K&&(K=0),S.alloc(+K)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function O(K){if(K>H)throw new RangeError('The value "'+K+'" is invalid for option "size"');const T=new Uint8Array(K);return Object.setPrototypeOf(T,S.prototype),T}function S(K,T,M){if("number"==typeof K){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return A(K)}return B(K,T,M)}function B(K,T,M){if("string"==typeof K)return function G(K,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!S.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const M=0|se(K,T);let Y=O(M);const pe=Y.write(K,T);return pe!==M&&(Y=Y.slice(0,pe)),Y}(K,T);if(ArrayBuffer.isView(K))return function z(K){if(ze(K,Uint8Array)){const T=new Uint8Array(K);return ee(T.buffer,T.byteOffset,T.byteLength)}return L(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(ze(K,ArrayBuffer)||K&&ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(K,SharedArrayBuffer)||K&&ze(K.buffer,SharedArrayBuffer)))return ee(K,T,M);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=K.valueOf&&K.valueOf();if(null!=Y&&Y!==K)return S.from(Y,T,M);const pe=function q(K){if(S.isBuffer(K)){const T=0|Z(K.length),M=O(T);return 0===M.length||K.copy(M,0,0,T),M}return void 0!==K.length?"number"!=typeof K.length||Dt(K.length)?O(0):L(K):"Buffer"===K.type&&Array.isArray(K.data)?L(K.data):void 0}(K);if(pe)return pe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return S.from(K[Symbol.toPrimitive]("string"),T,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function N(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function A(K){return N(K),O(K<0?0:0|Z(K))}function L(K){const T=K.length<0?0:0|Z(K.length),M=O(T);for(let Y=0;Y<T;Y+=1)M[Y]=255&K[Y];return M}function ee(K,T,M){if(T<0||K.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<T+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return Y=void 0===T&&void 0===M?new Uint8Array(K):void 0===M?new Uint8Array(K,T):new Uint8Array(K,T,M),Object.setPrototypeOf(Y,S.prototype),Y}function Z(K){if(K>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|K}function se(K,T){if(S.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const M=K.length,Y=arguments.length>2&&!0===arguments[2];if(!Y&&0===M)return 0;let pe=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ne(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Be(K).length;default:if(pe)return Y?-1:ne(K).length;T=(""+T).toLowerCase(),pe=!0}}function ce(K,T,M){let Y=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(T>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return x(this,T,M);case"utf8":case"utf-8":return m(this,T,M);case"ascii":return D(this,T,M);case"latin1":case"binary":return R(this,T,M);case"base64":return d(this,T,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,T,M);default:if(Y)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Y=!0}}function ae(K,T,M){const Y=K[T];K[T]=K[M],K[M]=Y}function fe(K,T,M,Y,pe){if(0===K.length)return-1;if("string"==typeof M?(Y=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=pe?0:K.length-1),M<0&&(M=K.length+M),M>=K.length){if(pe)return-1;M=K.length-1}else if(M<0){if(!pe)return-1;M=0}if("string"==typeof T&&(T=S.from(T,Y)),S.isBuffer(T))return 0===T.length?-1:he(K,T,M,Y,pe);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?pe?Uint8Array.prototype.indexOf.call(K,T,M):Uint8Array.prototype.lastIndexOf.call(K,T,M):he(K,[T],M,Y,pe);throw new TypeError("val must be string, number or Buffer")}function he(K,T,M,Y,pe){let It,ke=1,Ne=K.length,lt=T.length;if(void 0!==Y&&("ucs2"===(Y=String(Y).toLowerCase())||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(K.length<2||T.length<2)return-1;ke=2,Ne/=2,lt/=2,M/=2}function en(Kt,rn){return 1===ke?Kt[rn]:Kt.readUInt16BE(rn*ke)}if(pe){let Kt=-1;for(It=M;It<Ne;It++)if(en(K,It)===en(T,-1===Kt?0:It-Kt)){if(-1===Kt&&(Kt=It),It-Kt+1===lt)return Kt*ke}else-1!==Kt&&(It-=It-Kt),Kt=-1}else for(M+lt>Ne&&(M=Ne-lt),It=M;It>=0;It--){let Kt=!0;for(let rn=0;rn<lt;rn++)if(en(K,It+rn)!==en(T,rn)){Kt=!1;break}if(Kt)return It}return-1}function we(K,T,M,Y){M=Number(M)||0;const pe=K.length-M;Y?(Y=Number(Y))>pe&&(Y=pe):Y=pe;const ke=T.length;let Ne;for(Y>ke/2&&(Y=ke/2),Ne=0;Ne<Y;++Ne){const lt=parseInt(T.substr(2*Ne,2),16);if(Dt(lt))return Ne;K[M+Ne]=lt}return Ne}function Me(K,T,M,Y){return qe(ne(T,K.length-M),K,M,Y)}function Pe(K,T,M,Y){return qe(function le(K){const T=[];for(let M=0;M<K.length;++M)T.push(255&K.charCodeAt(M));return T}(T),K,M,Y)}function C(K,T,M,Y){return qe(Be(T),K,M,Y)}function a(K,T,M,Y){return qe(function Ae(K,T){let M,Y,pe;const ke=[];for(let Ne=0;Ne<K.length&&!((T-=2)<0);++Ne)M=K.charCodeAt(Ne),Y=M>>8,pe=M%256,ke.push(pe),ke.push(Y);return ke}(T,K.length-M),K,M,Y)}function d(K,T,M){return y.fromByteArray(0===T&&M===K.length?K:K.slice(T,M))}function m(K,T,M){M=Math.min(K.length,M);const Y=[];let pe=T;for(;pe<M;){const ke=K[pe];let Ne=null,lt=ke>239?4:ke>223?3:ke>191?2:1;if(pe+lt<=M){let en,It,Kt,rn;switch(lt){case 1:ke<128&&(Ne=ke);break;case 2:en=K[pe+1],128==(192&en)&&(rn=(31&ke)<<6|63&en,rn>127&&(Ne=rn));break;case 3:en=K[pe+1],It=K[pe+2],128==(192&en)&&128==(192&It)&&(rn=(15&ke)<<12|(63&en)<<6|63&It,rn>2047&&(rn<55296||rn>57343)&&(Ne=rn));break;case 4:en=K[pe+1],It=K[pe+2],Kt=K[pe+3],128==(192&en)&&128==(192&It)&&128==(192&Kt)&&(rn=(15&ke)<<18|(63&en)<<12|(63&It)<<6|63&Kt,rn>65535&&rn<1114112&&(Ne=rn))}}null===Ne?(Ne=65533,lt=1):Ne>65535&&(Ne-=65536,Y.push(Ne>>>10&1023|55296),Ne=56320|1023&Ne),Y.push(Ne),pe+=lt}return function E(K){const T=K.length;if(T<=p)return String.fromCharCode.apply(String,K);let M="",Y=0;for(;Y<T;)M+=String.fromCharCode.apply(String,K.slice(Y,Y+=p));return M}(Y)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function w(){try{const K=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(K,T),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(K,T,M){return B(K,T,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(K,T,M){return function U(K,T,M){return N(K),K<=0?O(K):void 0!==T?"string"==typeof M?O(K).fill(T,M):O(K).fill(T):O(K)}(K,T,M)},S.allocUnsafe=function(K){return A(K)},S.allocUnsafeSlow=function(K){return A(K)},S.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==S.prototype},S.compare=function(T,M){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),ze(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(T)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===M)return 0;let Y=T.length,pe=M.length;for(let ke=0,Ne=Math.min(Y,pe);ke<Ne;++ke)if(T[ke]!==M[ke]){Y=T[ke],pe=M[ke];break}return Y<pe?-1:pe<Y?1:0},S.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(T,M){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return S.alloc(0);let Y;if(void 0===M)for(M=0,Y=0;Y<T.length;++Y)M+=T[Y].length;const pe=S.allocUnsafe(M);let ke=0;for(Y=0;Y<T.length;++Y){let Ne=T[Y];if(ze(Ne,Uint8Array))ke+Ne.length>pe.length?(S.isBuffer(Ne)||(Ne=S.from(Ne)),Ne.copy(pe,ke)):Uint8Array.prototype.set.call(pe,Ne,ke);else{if(!S.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(pe,ke)}ke+=Ne.length}return pe},S.byteLength=se,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<T;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<T;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<T;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ce.apply(this,arguments)},S.prototype.equals=function(T){if(!S.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===S.compare(this,T)},S.prototype.inspect=function(){let T="";const M=j.INSPECT_MAX_BYTES;return T=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(T+=" ... "),"<Buffer "+T+">"},P&&(S.prototype[P]=S.prototype.inspect),S.prototype.compare=function(T,M,Y,pe,ke){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),!S.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===M&&(M=0),void 0===Y&&(Y=T?T.length:0),void 0===pe&&(pe=0),void 0===ke&&(ke=this.length),M<0||Y>T.length||pe<0||ke>this.length)throw new RangeError("out of range index");if(pe>=ke&&M>=Y)return 0;if(pe>=ke)return-1;if(M>=Y)return 1;if(this===T)return 0;let Ne=(ke>>>=0)-(pe>>>=0),lt=(Y>>>=0)-(M>>>=0);const en=Math.min(Ne,lt),It=this.slice(pe,ke),Kt=T.slice(M,Y);for(let rn=0;rn<en;++rn)if(It[rn]!==Kt[rn]){Ne=It[rn],lt=Kt[rn];break}return Ne<lt?-1:lt<Ne?1:0},S.prototype.includes=function(T,M,Y){return-1!==this.indexOf(T,M,Y)},S.prototype.indexOf=function(T,M,Y){return fe(this,T,M,Y,!0)},S.prototype.lastIndexOf=function(T,M,Y){return fe(this,T,M,Y,!1)},S.prototype.write=function(T,M,Y,pe){if(void 0===M)pe="utf8",Y=this.length,M=0;else if(void 0===Y&&"string"==typeof M)pe=M,Y=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(Y)?(Y>>>=0,void 0===pe&&(pe="utf8")):(pe=Y,Y=void 0)}const ke=this.length-M;if((void 0===Y||Y>ke)&&(Y=ke),T.length>0&&(Y<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let Ne=!1;for(;;)switch(pe){case"hex":return we(this,T,M,Y);case"utf8":case"utf-8":return Me(this,T,M,Y);case"ascii":case"latin1":case"binary":return Pe(this,T,M,Y);case"base64":return C(this,T,M,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,T,M,Y);default:if(Ne)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Ne=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(127&K[pe]);return Y}function R(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(K[pe]);return Y}function x(K,T,M){const Y=K.length;(!T||T<0)&&(T=0),(!M||M<0||M>Y)&&(M=Y);let pe="";for(let ke=T;ke<M;++ke)pe+=Xe[K[ke]];return pe}function s(K,T,M){const Y=K.slice(T,M);let pe="";for(let ke=0;ke<Y.length-1;ke+=2)pe+=String.fromCharCode(Y[ke]+256*Y[ke+1]);return pe}function v(K,T,M){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+T>M)throw new RangeError("Trying to access beyond buffer length")}function $(K,T,M,Y,pe,ke){if(!S.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>pe||T<ke)throw new RangeError('"value" argument is out of bounds');if(M+Y>K.length)throw new RangeError("Index out of range")}function F(K,T,M,Y,pe){ve(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,M}function Q(K,T,M,Y,pe){ve(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M+7]=ke,ke>>=8,K[M+6]=ke,ke>>=8,K[M+5]=ke,ke>>=8,K[M+4]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M+3]=Ne,Ne>>=8,K[M+2]=Ne,Ne>>=8,K[M+1]=Ne,Ne>>=8,K[M]=Ne,M+8}function de(K,T,M,Y,pe,ke){if(M+Y>K.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function De(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,4),b.write(K,T,M,Y,23,4),M+4}function Re(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,8),b.write(K,T,M,Y,52,8),M+8}S.prototype.slice=function(T,M){const Y=this.length;(T=~~T)<0?(T+=Y)<0&&(T=0):T>Y&&(T=Y),(M=void 0===M?Y:~~M)<0?(M+=Y)<0&&(M=0):M>Y&&(M=Y),M<T&&(M=T);const pe=this.subarray(T,M);return Object.setPrototypeOf(pe,S.prototype),pe},S.prototype.readUintLE=S.prototype.readUIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return pe},S.prototype.readUintBE=S.prototype.readUIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T+--M],ke=1;for(;M>0&&(ke*=256);)pe+=this[T+--M]*ke;return pe},S.prototype.readUint8=S.prototype.readUInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),this[T]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]|this[T+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]<<8|this[T+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},S.prototype.readBigUInt64LE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M+256*this[++T]+65536*this[++T]+this[++T]*2**24,ke=this[++T]+256*this[++T]+65536*this[++T]+Y*2**24;return BigInt(pe)+(BigInt(ke)<<BigInt(32))}),S.prototype.readBigUInt64BE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M*2**24+65536*this[++T]+256*this[++T]+this[++T],ke=this[++T]*2**24+65536*this[++T]+256*this[++T]+Y;return(BigInt(pe)<<BigInt(32))+BigInt(ke)}),S.prototype.readIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return ke*=128,pe>=ke&&(pe-=Math.pow(2,8*M)),pe},S.prototype.readIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=M,ke=1,Ne=this[T+--pe];for(;pe>0&&(ke*=256);)Ne+=this[T+--pe]*ke;return ke*=128,Ne>=ke&&(Ne-=Math.pow(2,8*M)),Ne},S.prototype.readInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},S.prototype.readInt16LE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T]|this[T+1]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt16BE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T+1]|this[T]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},S.prototype.readInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},S.prototype.readBigInt64LE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];return(void 0===M||void 0===Y)&&ge(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Y<<24))<<BigInt(32))+BigInt(M+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),S.prototype.readBigInt64BE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=(M<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(pe)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Y)}),S.prototype.readFloatLE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!0,23,4)},S.prototype.readFloatBE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!1,23,4)},S.prototype.readDoubleLE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!0,52,8)},S.prototype.readDoubleBE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=1,Ne=0;for(this[M]=255&T;++Ne<Y&&(ke*=256);)this[M+Ne]=T/ke&255;return M+Y},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=Y-1,Ne=1;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)this[M+ke]=T/Ne&255;return M+Y},S.prototype.writeUint8=S.prototype.writeUInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,255,0),this[M]=255&T,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M+3]=T>>>24,this[M+2]=T>>>16,this[M+1]=T>>>8,this[M]=255&T,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigUInt64LE=Ue(function(T,M=0){return F(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=Ue(function(T,M=0){return Q(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=0,Ne=1,lt=0;for(this[M]=255&T;++ke<Y&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke-1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeIntBE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=Y-1,Ne=1,lt=0;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke+1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,127,-128),T<0&&(T=255+T+1),this[M]=255&T,M+1},S.prototype.writeInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),this[M]=255&T,this[M+1]=T>>>8,this[M+2]=T>>>16,this[M+3]=T>>>24,M+4},S.prototype.writeInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigInt64LE=Ue(function(T,M=0){return F(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=Ue(function(T,M=0){return Q(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(T,M,Y){return De(this,T,M,!0,Y)},S.prototype.writeFloatBE=function(T,M,Y){return De(this,T,M,!1,Y)},S.prototype.writeDoubleLE=function(T,M,Y){return Re(this,T,M,!0,Y)},S.prototype.writeDoubleBE=function(T,M,Y){return Re(this,T,M,!1,Y)},S.prototype.copy=function(T,M,Y,pe){if(!S.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!pe&&0!==pe&&(pe=this.length),M>=T.length&&(M=T.length),M||(M=0),pe>0&&pe<Y&&(pe=Y),pe===Y||0===T.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),T.length-M<pe-Y&&(pe=T.length-M+Y);const ke=pe-Y;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,Y,pe):Uint8Array.prototype.set.call(T,this.subarray(Y,pe),M),ke},S.prototype.fill=function(T,M,Y,pe){if("string"==typeof T){if("string"==typeof M?(pe=M,M=0,Y=this.length):"string"==typeof Y&&(pe=Y,Y=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!S.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(1===T.length){const Ne=T.charCodeAt(0);("utf8"===pe&&Ne<128||"latin1"===pe)&&(T=Ne)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(M<0||this.length<M||this.length<Y)throw new RangeError("Out of range index");if(Y<=M)return this;let ke;if(M>>>=0,Y=void 0===Y?this.length:Y>>>0,T||(T=0),"number"==typeof T)for(ke=M;ke<Y;++ke)this[ke]=T;else{const Ne=S.isBuffer(T)?T:S.from(T,pe),lt=Ne.length;if(0===lt)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ke=0;ke<Y-M;++ke)this[ke+M]=Ne[ke%lt]}return this};const Ve={};function Ee(K,T,M){Ve[K]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function _e(K){let T="",M=K.length;const Y="-"===K[0]?1:0;for(;M>=Y+4;M-=3)T=`_${K.slice(M-3,M)}${T}`;return`${K.slice(0,M)}${T}`}function ve(K,T,M,Y,pe,ke){if(K>M||K<T){const Ne="bigint"==typeof T?"n":"";let lt;throw lt=ke>3?0===T||T===BigInt(0)?`>= 0${Ne} and < 2${Ne} ** ${8*(ke+1)}${Ne}`:`>= -(2${Ne} ** ${8*(ke+1)-1}${Ne}) and < 2 ** ${8*(ke+1)-1}${Ne}`:`>= ${T}${Ne} and <= ${M}${Ne}`,new Ve.ERR_OUT_OF_RANGE("value",lt,K)}!function Fe(K,T,M){Te(T,"offset"),(void 0===K[T]||void 0===K[T+M])&&ge(T,K.length-(M+1))}(Y,pe,ke)}function Te(K,T){if("number"!=typeof K)throw new Ve.ERR_INVALID_ARG_TYPE(T,"number",K)}function ge(K,T,M){throw Math.floor(K)!==K?(Te(K,M),new Ve.ERR_OUT_OF_RANGE(M||"offset","an integer",K)):T<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${T}`,K)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(K,T){return`The "${K}" argument must be of type number. Received type ${typeof T}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(K,T,M){let Y=`The value of "${K}" is out of range.`,pe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?pe=_e(String(M)):"bigint"==typeof M&&(pe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(pe=_e(pe)),pe+="n"),Y+=` It must be ${T}. Received ${pe}`,Y},RangeError);const me=/[^+/0-9A-Za-z-_]/g;function ne(K,T){let M;T=T||1/0;const Y=K.length;let pe=null;const ke=[];for(let Ne=0;Ne<Y;++Ne){if(M=K.charCodeAt(Ne),M>55295&&M<57344){if(!pe){if(M>56319){(T-=3)>-1&&ke.push(239,191,189);continue}if(Ne+1===Y){(T-=3)>-1&&ke.push(239,191,189);continue}pe=M;continue}if(M<56320){(T-=3)>-1&&ke.push(239,191,189),pe=M;continue}M=65536+(pe-55296<<10|M-56320)}else pe&&(T-=3)>-1&&ke.push(239,191,189);if(pe=null,M<128){if((T-=1)<0)break;ke.push(M)}else if(M<2048){if((T-=2)<0)break;ke.push(M>>6|192,63&M|128)}else if(M<65536){if((T-=3)<0)break;ke.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;ke.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return ke}function Be(K){return y.toByteArray(function te(K){if((K=(K=K.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function qe(K,T,M,Y){let pe;for(pe=0;pe<Y&&!(pe+M>=T.length||pe>=K.length);++pe)T[pe+M]=K[pe];return pe}function ze(K,T){return K instanceof T||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===T.name}function Dt(K){return K!=K}const Xe=function(){const K="0123456789abcdef",T=new Array(256);for(let M=0;M<16;++M){const Y=16*M;for(let pe=0;pe<16;++pe)T[Y+pe]=K[M]+K[pe]}return T}();function Ue(K){return typeof BigInt>"u"?mt:K}function mt(){throw new Error("BigInt not supported")}},49609:(We,j,_)=>{var y=j;y.bignum=_(96867),y.define=_(16626).define,y.base=_(15066),y.constants=_(47740),y.decoders=_(91558),y.encoders=_(22714)},16626:(We,j,_)=>{var y=_(49609),b=_(71993);function H(w,O){this.name=w,this.body=O,this.decoders={},this.encoders={}}j.define=function(O,S){return new H(O,S)},H.prototype._createNamed=function(O){var S;try{S=Object(function(){var N=new Error("Cannot find module 'vm'");throw N.code="MODULE_NOT_FOUND",N}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{S=function(N){this._initNamed(N)}}return b(S,O),S.prototype._initNamed=function(N){O.call(this,N)},new S(this)},H.prototype._getDecoder=function(O){return this.decoders.hasOwnProperty(O=O||"der")||(this.decoders[O]=this._createNamed(y.decoders[O])),this.decoders[O]},H.prototype.decode=function(O,S,B){return this._getDecoder(S).decode(O,B)},H.prototype._getEncoder=function(O){return this.encoders.hasOwnProperty(O=O||"der")||(this.encoders[O]=this._createNamed(y.encoders[O])),this.encoders[O]},H.prototype.encode=function(O,S,B){return this._getEncoder(S).encode(O,B)}},97290:(We,j,_)=>{var y=_(71993),b=_(15066).Reporter,P=_(83838).Buffer;function H(O,S){b.call(this,S),P.isBuffer(O)?(this.base=O,this.offset=0,this.length=O.length):this.error("Input not Buffer")}function w(O,S){if(Array.isArray(O))this.length=0,this.value=O.map(function(B){return B instanceof w||(B=new w(B,S)),this.length+=B.length,B},this);else if("number"==typeof O){if(!(0<=O&&O<=255))return S.error("non-byte EncoderBuffer value");this.value=O,this.length=1}else if("string"==typeof O)this.value=O,this.length=P.byteLength(O);else{if(!P.isBuffer(O))return S.error("Unsupported type: "+typeof O);this.value=O,this.length=O.length}}y(H,b),j.t=H,H.prototype.save=function(){return{offset:this.offset,reporter:b.prototype.save.call(this)}},H.prototype.restore=function(S){var B=new H(this.base);return B.offset=S.offset,B.length=this.offset,this.offset=S.offset,b.prototype.restore.call(this,S.reporter),B},H.prototype.isEmpty=function(){return this.offset===this.length},H.prototype.readUInt8=function(S){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(S||"DecoderBuffer overrun")},H.prototype.skip=function(S,B){if(!(this.offset+S<=this.length))return this.error(B||"DecoderBuffer overrun");var N=new H(this.base);return N._reporterState=this._reporterState,N.offset=this.offset,N.length=this.offset+S,this.offset+=S,N},H.prototype.raw=function(S){return this.base.slice(S?S.offset:this.offset,this.length)},j.d=w,w.prototype.join=function(S,B){return S||(S=new P(this.length)),B||(B=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function(N){N.join(S,B),B+=N.length}):("number"==typeof this.value?S[B]=this.value:"string"==typeof this.value?S.write(this.value,B):P.isBuffer(this.value)&&this.value.copy(S,B),B+=this.length)),S}},15066:(We,j,_)=>{var y=j;y.Reporter=_(85697).a,y.DecoderBuffer=_(97290).t,y.EncoderBuffer=_(97290).d,y.Node=_(34320)},34320:(We,j,_)=>{var y=_(15066).Reporter,b=_(15066).EncoderBuffer,P=_(15066).DecoderBuffer,H=_(39210),w=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],O=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(w);function B(U,A){var G={};this._baseState=G,G.enc=U,G.parent=A||null,G.children=null,G.tag=null,G.args=null,G.reverseArgs=null,G.choice=null,G.optional=!1,G.any=!1,G.obj=!1,G.use=null,G.useDecoder=null,G.key=null,G.default=null,G.explicit=null,G.implicit=null,G.contains=null,G.parent||(G.children=[],this._wrap())}We.exports=B;var N=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];B.prototype.clone=function(){var A=this._baseState,G={};N.forEach(function(z){G[z]=A[z]});var L=new this.constructor(G.parent);return L._baseState=G,L},B.prototype._wrap=function(){var A=this._baseState;O.forEach(function(G){this[G]=function(){var z=new this.constructor(this);return A.children.push(z),z[G].apply(z,arguments)}},this)},B.prototype._init=function(A){var G=this._baseState;H(null===G.parent),A.call(this),G.children=G.children.filter(function(L){return L._baseState.parent===this},this),H.equal(G.children.length,1,"Root node can have only one child")},B.prototype._useArgs=function(A){var G=this._baseState,L=A.filter(function(z){return z instanceof this.constructor},this);A=A.filter(function(z){return!(z instanceof this.constructor)},this),0!==L.length&&(H(null===G.children),G.children=L,L.forEach(function(z){z._baseState.parent=this},this)),0!==A.length&&(H(null===G.args),G.args=A,G.reverseArgs=A.map(function(z){if("object"!=typeof z||z.constructor!==Object)return z;var ee={};return Object.keys(z).forEach(function(q){q==(0|q)&&(q|=0),ee[z[q]]=q}),ee}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(U){B.prototype[U]=function(){throw new Error(U+" not implemented for encoding: "+this._baseState.enc)}}),w.forEach(function(U){B.prototype[U]=function(){var G=this._baseState,L=Array.prototype.slice.call(arguments);return H(null===G.tag),G.tag=U,this._useArgs(L),this}}),B.prototype.use=function(A){H(A);var G=this._baseState;return H(null===G.use),G.use=A,this},B.prototype.optional=function(){return this._baseState.optional=!0,this},B.prototype.def=function(A){var G=this._baseState;return H(null===G.default),G.default=A,G.optional=!0,this},B.prototype.explicit=function(A){var G=this._baseState;return H(null===G.explicit&&null===G.implicit),G.explicit=A,this},B.prototype.implicit=function(A){var G=this._baseState;return H(null===G.explicit&&null===G.implicit),G.implicit=A,this},B.prototype.obj=function(){var A=this._baseState,G=Array.prototype.slice.call(arguments);return A.obj=!0,0!==G.length&&this._useArgs(G),this},B.prototype.key=function(A){var G=this._baseState;return H(null===G.key),G.key=A,this},B.prototype.any=function(){return this._baseState.any=!0,this},B.prototype.choice=function(A){var G=this._baseState;return H(null===G.choice),G.choice=A,this._useArgs(Object.keys(A).map(function(L){return A[L]})),this},B.prototype.contains=function(A){var G=this._baseState;return H(null===G.use),G.contains=A,this},B.prototype._decode=function(A,G){var L=this._baseState;if(null===L.parent)return A.wrapResult(L.children[0]._decode(A,G));var se,z=L.default,ee=!0,q=null;if(null!==L.key&&(q=A.enterKey(L.key)),L.optional){var Z=null;if(null!==L.explicit?Z=L.explicit:null!==L.implicit?Z=L.implicit:null!==L.tag&&(Z=L.tag),null!==Z||L.any){if(ee=this._peekTag(A,Z,L.any),A.isError(ee))return ee}else{var J=A.save();try{null===L.choice?this._decodeGeneric(L.tag,A,G):this._decodeChoice(A,G),ee=!0}catch{ee=!1}A.restore(J)}}if(L.obj&&ee&&(se=A.enterObject()),ee){if(null!==L.explicit){var ce=this._decodeTag(A,L.explicit);if(A.isError(ce))return ce;A=ce}var ae=A.offset;if(null===L.use&&null===L.choice){L.any&&(J=A.save());var fe=this._decodeTag(A,null!==L.implicit?L.implicit:L.tag,L.any);if(A.isError(fe))return fe;L.any?z=A.raw(J):A=fe}if(G&&G.track&&null!==L.tag&&G.track(A.path(),ae,A.length,"tagged"),G&&G.track&&null!==L.tag&&G.track(A.path(),A.offset,A.length,"content"),L.any||(z=null===L.choice?this._decodeGeneric(L.tag,A,G):this._decodeChoice(A,G)),A.isError(z))return z;if(!L.any&&null===L.choice&&null!==L.children&&L.children.forEach(function(Me){Me._decode(A,G)}),L.contains&&("octstr"===L.tag||"bitstr"===L.tag)){var he=new P(z);z=this._getUse(L.contains,A._reporterState.obj)._decode(he,G)}}return L.obj&&ee&&(z=A.leaveObject(se)),null===L.key||null===z&&!0!==ee?null!==q&&A.exitKey(q):A.leaveKey(q,L.key,z),z},B.prototype._decodeGeneric=function(A,G,L){var z=this._baseState;return"seq"===A||"set"===A?null:"seqof"===A||"setof"===A?this._decodeList(G,A,z.args[0],L):/str$/.test(A)?this._decodeStr(G,A,L):"objid"===A&&z.args?this._decodeObjid(G,z.args[0],z.args[1],L):"objid"===A?this._decodeObjid(G,null,null,L):"gentime"===A||"utctime"===A?this._decodeTime(G,A,L):"null_"===A?this._decodeNull(G,L):"bool"===A?this._decodeBool(G,L):"objDesc"===A?this._decodeStr(G,A,L):"int"===A||"enum"===A?this._decodeInt(G,z.args&&z.args[0],L):null!==z.use?this._getUse(z.use,G._reporterState.obj)._decode(G,L):G.error("unknown tag: "+A)},B.prototype._getUse=function(A,G){var L=this._baseState;return L.useDecoder=this._use(A,G),H(null===L.useDecoder._baseState.parent),L.useDecoder=L.useDecoder._baseState.children[0],L.implicit!==L.useDecoder._baseState.implicit&&(L.useDecoder=L.useDecoder.clone(),L.useDecoder._baseState.implicit=L.implicit),L.useDecoder},B.prototype._decodeChoice=function(A,G){var L=this._baseState,z=null,ee=!1;return Object.keys(L.choice).some(function(q){var Z=A.save(),J=L.choice[q];try{var se=J._decode(A,G);if(A.isError(se))return!1;z={type:q,value:se},ee=!0}catch{return A.restore(Z),!1}return!0},this),ee?z:A.error("Choice not matched")},B.prototype._createEncoderBuffer=function(A){return new b(A,this.reporter)},B.prototype._encode=function(A,G,L){var z=this._baseState;if(null===z.default||z.default!==A){var ee=this._encodeValue(A,G,L);if(void 0!==ee&&!this._skipDefault(ee,G,L))return ee}},B.prototype._encodeValue=function(A,G,L){var z=this._baseState;if(null===z.parent)return z.children[0]._encode(A,G||new y);var J=null;if(this.reporter=G,z.optional&&void 0===A){if(null===z.default)return;A=z.default}var ee=null,q=!1;if(z.any)J=this._createEncoderBuffer(A);else if(z.choice)J=this._encodeChoice(A,G);else if(z.contains)ee=this._getUse(z.contains,L)._encode(A,G),q=!0;else if(z.children)ee=z.children.map(function(ae){if("null_"===ae._baseState.tag)return ae._encode(null,G,A);if(null===ae._baseState.key)return G.error("Child should have a key");var fe=G.enterKey(ae._baseState.key);if("object"!=typeof A)return G.error("Child expected, but input is not object");var he=ae._encode(A[ae._baseState.key],G,A);return G.leaveKey(fe),he},this).filter(function(ae){return ae}),ee=this._createEncoderBuffer(ee);else if("seqof"===z.tag||"setof"===z.tag){if(!z.args||1!==z.args.length)return G.error("Too many args for : "+z.tag);if(!Array.isArray(A))return G.error("seqof/setof, but data is not Array");var Z=this.clone();Z._baseState.implicit=null,ee=this._createEncoderBuffer(A.map(function(ae){return this._getUse(this._baseState.args[0],A)._encode(ae,G)},Z))}else null!==z.use?J=this._getUse(z.use,L)._encode(A,G):(ee=this._encodePrimitive(z.tag,A),q=!0);if(!z.any&&null===z.choice){var se=null!==z.implicit?z.implicit:z.tag,ce=null===z.implicit?"universal":"context";null===se?null===z.use&&G.error("Tag could be omitted only for .use()"):null===z.use&&(J=this._encodeComposite(se,q,ce,ee))}return null!==z.explicit&&(J=this._encodeComposite(z.explicit,!1,"context",J)),J},B.prototype._encodeChoice=function(A,G){var L=this._baseState,z=L.choice[A.type];return z||H(!1,A.type+" not found in "+JSON.stringify(Object.keys(L.choice))),z._encode(A.value,G)},B.prototype._encodePrimitive=function(A,G){var L=this._baseState;if(/str$/.test(A))return this._encodeStr(G,A);if("objid"===A&&L.args)return this._encodeObjid(G,L.reverseArgs[0],L.args[1]);if("objid"===A)return this._encodeObjid(G,null,null);if("gentime"===A||"utctime"===A)return this._encodeTime(G,A);if("null_"===A)return this._encodeNull();if("int"===A||"enum"===A)return this._encodeInt(G,L.args&&L.reverseArgs[0]);if("bool"===A)return this._encodeBool(G);if("objDesc"===A)return this._encodeStr(G,A);throw new Error("Unsupported tag: "+A)},B.prototype._isNumstr=function(A){return/^[0-9 ]*$/.test(A)},B.prototype._isPrintstr=function(A){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(A)}},85697:(We,j,_)=>{var y=_(71993);function b(H){this._reporterState={obj:null,path:[],options:H||{},errors:[]}}function P(H,w){this.path=H,this.rethrow(w)}j.a=b,b.prototype.isError=function(w){return w instanceof P},b.prototype.save=function(){var w=this._reporterState;return{obj:w.obj,pathLen:w.path.length}},b.prototype.restore=function(w){var O=this._reporterState;O.obj=w.obj,O.path=O.path.slice(0,w.pathLen)},b.prototype.enterKey=function(w){return this._reporterState.path.push(w)},b.prototype.exitKey=function(w){var O=this._reporterState;O.path=O.path.slice(0,w-1)},b.prototype.leaveKey=function(w,O,S){var B=this._reporterState;this.exitKey(w),null!==B.obj&&(B.obj[O]=S)},b.prototype.path=function(){return this._reporterState.path.join("/")},b.prototype.enterObject=function(){var w=this._reporterState,O=w.obj;return w.obj={},O},b.prototype.leaveObject=function(w){var O=this._reporterState,S=O.obj;return O.obj=w,S},b.prototype.error=function(w){var O,S=this._reporterState,B=w instanceof P;if(O=B?w:new P(S.path.map(function(N){return"["+JSON.stringify(N)+"]"}).join(""),w.message||w,w.stack),!S.options.partial)throw O;return B||S.errors.push(O),O},b.prototype.wrapResult=function(w){var O=this._reporterState;return O.options.partial?{result:this.isError(w)?null:w,errors:O.errors}:w},y(P,Error),P.prototype.rethrow=function(w){if(this.message=w+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,P),!this.stack)try{throw new Error(this.message)}catch(O){this.stack=O.stack}return this}},36283:(We,j,_)=>{var y=_(47740);j.tagClass={0:"universal",1:"application",2:"context",3:"private"},j.tagClassByName=y._reverse(j.tagClass),j.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},j.tagByName=y._reverse(j.tag)},47740:(We,j,_)=>{var y=j;y._reverse=function(P){var H={};return Object.keys(P).forEach(function(w){(0|w)==w&&(w|=0),H[P[w]]=w}),H},y.der=_(36283)},55941:(We,j,_)=>{var y=_(71993),b=_(49609),P=b.base,H=b.bignum,w=b.constants.der;function O(U){this.enc="der",this.name=U.name,this.entity=U,this.tree=new S,this.tree._init(U.body)}function S(U){P.Node.call(this,"der",U)}function B(U,A){var G=U.readUInt8(A);if(U.isError(G))return G;var L=w.tagClass[G>>6],z=!(32&G);if(31&~G)G&=31;else{var ee=G;for(G=0;!(128&~ee);){if(ee=U.readUInt8(A),U.isError(ee))return ee;G<<=7,G|=127&ee}}return{cls:L,primitive:z,tag:G,tagStr:w.tag[G]}}function N(U,A,G){var L=U.readUInt8(G);if(U.isError(L))return L;if(!A&&128===L)return null;if(!(128&L))return L;var z=127&L;if(z>4)return U.error("length octect is too long");L=0;for(var ee=0;ee<z;ee++){L<<=8;var q=U.readUInt8(G);if(U.isError(q))return q;L|=q}return L}We.exports=O,O.prototype.decode=function(A,G){return A instanceof P.DecoderBuffer||(A=new P.DecoderBuffer(A,G)),this.tree._decode(A,G)},y(S,P.Node),S.prototype._peekTag=function(A,G,L){if(A.isEmpty())return!1;var z=A.save(),ee=B(A,'Failed to peek tag: "'+G+'"');return A.isError(ee)?ee:(A.restore(z),ee.tag===G||ee.tagStr===G||ee.tagStr+"of"===G||L)},S.prototype._decodeTag=function(A,G,L){var z=B(A,'Failed to decode tag of "'+G+'"');if(A.isError(z))return z;var ee=N(A,z.primitive,'Failed to get length of "'+G+'"');if(A.isError(ee))return ee;if(!L&&z.tag!==G&&z.tagStr!==G&&z.tagStr+"of"!==G)return A.error('Failed to match tag: "'+G+'"');if(z.primitive||null!==ee)return A.skip(ee,'Failed to match body of: "'+G+'"');var q=A.save(),Z=this._skipUntilEnd(A,'Failed to skip indefinite length body: "'+this.tag+'"');return A.isError(Z)?Z:(ee=A.offset-q.offset,A.restore(q),A.skip(ee,'Failed to match body of: "'+G+'"'))},S.prototype._skipUntilEnd=function(A,G){for(;;){var L=B(A,G);if(A.isError(L))return L;var ee,z=N(A,L.primitive,G);if(A.isError(z))return z;if(ee=L.primitive||null!==z?A.skip(z):this._skipUntilEnd(A,G),A.isError(ee))return ee;if("end"===L.tagStr)break}},S.prototype._decodeList=function(A,G,L,z){for(var ee=[];!A.isEmpty();){var q=this._peekTag(A,"end");if(A.isError(q))return q;var Z=L.decode(A,"der",z);if(A.isError(Z)&&q)break;ee.push(Z)}return ee},S.prototype._decodeStr=function(A,G){if("bitstr"===G){var L=A.readUInt8();return A.isError(L)?L:{unused:L,data:A.raw()}}if("bmpstr"===G){var z=A.raw();if(z.length%2==1)return A.error("Decoding of string type: bmpstr length mismatch");for(var ee="",q=0;q<z.length/2;q++)ee+=String.fromCharCode(z.readUInt16BE(2*q));return ee}if("numstr"===G){var Z=A.raw().toString("ascii");return this._isNumstr(Z)?Z:A.error("Decoding of string type: numstr unsupported characters")}if("octstr"===G)return A.raw();if("objDesc"===G)return A.raw();if("printstr"===G){var J=A.raw().toString("ascii");return this._isPrintstr(J)?J:A.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(G)?A.raw().toString():A.error("Decoding of string type: "+G+" unsupported")},S.prototype._decodeObjid=function(A,G,L){for(var z,ee=[],q=0;!A.isEmpty();){var Z=A.readUInt8();q<<=7,q|=127&Z,128&Z||(ee.push(q),q=0)}if(128&Z&&ee.push(q),z=L?ee:[ee[0]/40|0,ee[0]%40].concat(ee.slice(1)),G){var ce=G[z.join(" ")];void 0===ce&&(ce=G[z.join(".")]),void 0!==ce&&(z=ce)}return z},S.prototype._decodeTime=function(A,G){var L=A.raw().toString();if("gentime"===G)var z=0|L.slice(0,4),ee=0|L.slice(4,6),q=0|L.slice(6,8),Z=0|L.slice(8,10),J=0|L.slice(10,12),se=0|L.slice(12,14);else{if("utctime"!==G)return A.error("Decoding "+G+" time is not supported yet");z=0|L.slice(0,2),ee=0|L.slice(2,4),q=0|L.slice(4,6),Z=0|L.slice(6,8),J=0|L.slice(8,10),se=0|L.slice(10,12),z=z<70?2e3+z:1900+z}return Date.UTC(z,ee-1,q,Z,J,se,0)},S.prototype._decodeNull=function(A){return null},S.prototype._decodeBool=function(A){var G=A.readUInt8();return A.isError(G)?G:0!==G},S.prototype._decodeInt=function(A,G){var L=A.raw(),z=new H(L);return G&&(z=G[z.toString(10)]||z),z},S.prototype._use=function(A,G){return"function"==typeof A&&(A=A(G)),A._getDecoder("der").tree}},91558:(We,j,_)=>{var y=j;y.der=_(55941),y.pem=_(59316)},59316:(We,j,_)=>{var y=_(71993),b=_(83838).Buffer,P=_(55941);function H(w){P.call(this,w),this.enc="pem"}y(H,P),We.exports=H,H.prototype.decode=function(O,S){for(var B=O.toString().split(/[\r\n]+/g),N=S.label.toUpperCase(),U=/^-----(BEGIN|END) ([^-]+)-----$/,A=-1,G=-1,L=0;L<B.length;L++){var z=B[L].match(U);if(null!==z&&z[2]===N){if(-1!==A){if("END"!==z[1])break;G=L;break}if("BEGIN"!==z[1])break;A=L}}if(-1===A||-1===G)throw new Error("PEM section not found for: "+N);var ee=B.slice(A+1,G).join("");ee.replace(/[^a-z0-9\+\/=]+/gi,"");var q=new b(ee,"base64");return P.prototype.decode.call(this,q,S)}},72193:(We,j,_)=>{var y=_(71993),b=_(83838).Buffer,P=_(49609),H=P.base,w=P.constants.der;function O(U){this.enc="der",this.name=U.name,this.entity=U,this.tree=new S,this.tree._init(U.body)}function S(U){H.Node.call(this,"der",U)}function B(U){return U<10?"0"+U:U}We.exports=O,O.prototype.encode=function(A,G){return this.tree._encode(A,G).join()},y(S,H.Node),S.prototype._encodeComposite=function(A,G,L,z){var J,ee=function N(U,A,G,L){var z;if("seqof"===U?U="seq":"setof"===U&&(U="set"),w.tagByName.hasOwnProperty(U))z=w.tagByName[U];else{if("number"!=typeof U||(0|U)!==U)return L.error("Unknown tag: "+U);z=U}return z>=31?L.error("Multi-octet tag encoding unsupported"):(A||(z|=32),z|=w.tagClassByName[G||"universal"]<<6)}(A,G,L,this.reporter);if(z.length<128)return(J=new b(2))[0]=ee,J[1]=z.length,this._createEncoderBuffer([J,z]);for(var q=1,Z=z.length;Z>=256;Z>>=8)q++;(J=new b(2+q))[0]=ee,J[1]=128|q,Z=1+q;for(var se=z.length;se>0;Z--,se>>=8)J[Z]=255&se;return this._createEncoderBuffer([J,z])},S.prototype._encodeStr=function(A,G){if("bitstr"===G)return this._createEncoderBuffer([0|A.unused,A.data]);if("bmpstr"===G){for(var L=new b(2*A.length),z=0;z<A.length;z++)L.writeUInt16BE(A.charCodeAt(z),2*z);return this._createEncoderBuffer(L)}return"numstr"===G?this._isNumstr(A)?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===G?this._isPrintstr(A)?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(G)||"objDesc"===G?this._createEncoderBuffer(A):this.reporter.error("Encoding of string type: "+G+" unsupported")},S.prototype._encodeObjid=function(A,G,L){if("string"==typeof A){if(!G)return this.reporter.error("string objid given, but no values map found");if(!G.hasOwnProperty(A))return this.reporter.error("objid not found in values map");A=G[A].split(/[\s\.]+/g);for(var z=0;z<A.length;z++)A[z]|=0}else if(Array.isArray(A))for(A=A.slice(),z=0;z<A.length;z++)A[z]|=0;if(!Array.isArray(A))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(A));if(!L){if(A[1]>=40)return this.reporter.error("Second objid identifier OOB");A.splice(0,2,40*A[0]+A[1])}var ee=0;for(z=0;z<A.length;z++){var q=A[z];for(ee++;q>=128;q>>=7)ee++}var Z=new b(ee),J=Z.length-1;for(z=A.length-1;z>=0;z--)for(Z[J--]=127&(q=A[z]);(q>>=7)>0;)Z[J--]=128|127&q;return this._createEncoderBuffer(Z)},S.prototype._encodeTime=function(A,G){var L,z=new Date(A);return"gentime"===G?L=[B(z.getFullYear()),B(z.getUTCMonth()+1),B(z.getUTCDate()),B(z.getUTCHours()),B(z.getUTCMinutes()),B(z.getUTCSeconds()),"Z"].join(""):"utctime"===G?L=[B(z.getFullYear()%100),B(z.getUTCMonth()+1),B(z.getUTCDate()),B(z.getUTCHours()),B(z.getUTCMinutes()),B(z.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+G+" time is not supported yet"),this._encodeStr(L,"octstr")},S.prototype._encodeNull=function(){return this._createEncoderBuffer("")},S.prototype._encodeInt=function(A,G){if("string"==typeof A){if(!G)return this.reporter.error("String int or enum given, but no values map");if(!G.hasOwnProperty(A))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(A));A=G[A]}if("number"!=typeof A&&!b.isBuffer(A)){var L=A.toArray();!A.sign&&128&L[0]&&L.unshift(0),A=new b(L)}if(b.isBuffer(A)){var z=A.length;0===A.length&&z++;var q=new b(z);return A.copy(q),0===A.length&&(q[0]=0),this._createEncoderBuffer(q)}if(A<128)return this._createEncoderBuffer(A);if(A<256)return this._createEncoderBuffer([0,A]);z=1;for(var ee=A;ee>=256;ee>>=8)z++;for(ee=(q=new Array(z)).length-1;ee>=0;ee--)q[ee]=255&A,A>>=8;return 128&q[0]&&q.unshift(0),this._createEncoderBuffer(new b(q))},S.prototype._encodeBool=function(A){return this._createEncoderBuffer(A?255:0)},S.prototype._use=function(A,G){return"function"==typeof A&&(A=A(G)),A._getEncoder("der").tree},S.prototype._skipDefault=function(A,G,L){var ee,z=this._baseState;if(null===z.default)return!1;var q=A.join();if(void 0===z.defaultBuffer&&(z.defaultBuffer=this._encodeValue(z.default,G,L).join()),q.length!==z.defaultBuffer.length)return!1;for(ee=0;ee<q.length;ee++)if(q[ee]!==z.defaultBuffer[ee])return!1;return!0}},22714:(We,j,_)=>{var y=j;y.der=_(72193),y.pem=_(24816)},24816:(We,j,_)=>{var y=_(71993),b=_(72193);function P(H){b.call(this,H),this.enc="pem"}y(P,b),We.exports=P,P.prototype.encode=function(w,O){for(var B=b.prototype.encode.call(this,w).toString("base64"),N=["-----BEGIN "+O.label+"-----"],U=0;U<B.length;U+=64)N.push(B.slice(U,U+64));return N.push("-----END "+O.label+"-----"),N.join("\n")}},96867:function(We,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(78982).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],De=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],ve=8191&Fe,Te=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],le=8191&ne,Ae=ne>>>13,Be=0|p[6],qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],gn=8191&rn,ln=rn>>>13,ar=0|E[3],Cn=8191&ar,cn=ar>>>13,Zt=0|E[4],vt=8191&Zt,ut=Zt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,fr=0|E[6],yt=8191&fr,wt=fr>>>13,Et=0|E[7],Ye=8191&Et,et=Et>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,Vn=0|E[9],bn=8191&Vn,Mn=Vn>>>13;m.negative=a.negative^d.negative,m.length=19;var br=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(br>>>26)|0,br&=67108863,x=Math.imul(De,Ne),s=(s=Math.imul(De,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var or=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(De,It)|0,s=(s=s+Math.imul(De,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,gn)|0)|0)+((8191&(s=(s=s+Math.imul(F,ln)|0)+Math.imul(Q,gn)|0))<<13)|0;R=((v=v+Math.imul(Q,ln)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(ve,Ne),s=(s=Math.imul(ve,lt))+Math.imul(Te,Ne)|0,v=Math.imul(Te,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(De,gn)|0,s=(s=s+Math.imul(De,ln)|0)+Math.imul(Re,gn)|0,v=v+Math.imul(Re,ln)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(ve,It)|0,s=(s=s+Math.imul(ve,Kt)|0)+Math.imul(Te,It)|0,v=v+Math.imul(Te,Kt)|0,x=x+Math.imul(Ee,gn)|0,s=(s=s+Math.imul(Ee,ln)|0)+Math.imul(_e,gn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(De,Cn)|0,s=(s=s+Math.imul(De,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,vt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,vt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(le,Ne),s=(s=Math.imul(le,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(ve,gn)|0,s=(s=s+Math.imul(ve,ln)|0)+Math.imul(Te,gn)|0,v=v+Math.imul(Te,ln)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(De,vt)|0,s=(s=s+Math.imul(De,ut)|0)+Math.imul(Re,vt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(qe,Ne),s=(s=Math.imul(qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(le,It)|0,s=(s=s+Math.imul(le,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(me,gn)|0,s=(s=s+Math.imul(me,ln)|0)+Math.imul(te,gn)|0,v=v+Math.imul(te,ln)|0,x=x+Math.imul(ve,Cn)|0,s=(s=s+Math.imul(ve,cn)|0)+Math.imul(Te,Cn)|0,v=v+Math.imul(Te,cn)|0,x=x+Math.imul(Ee,vt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(De,nn)|0,s=(s=s+Math.imul(De,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,wt)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,wt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(qe,It)|0,s=(s=s+Math.imul(qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(le,gn)|0,s=(s=s+Math.imul(le,ln)|0)+Math.imul(Ae,gn)|0,v=v+Math.imul(Ae,ln)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(ve,vt)|0,s=(s=s+Math.imul(ve,ut)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(De,yt)|0,s=(s=s+Math.imul(De,wt)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,wt)|0;var Yt=(R+(x=x+Math.imul(F,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(F,et)|0)+Math.imul(Q,Ye)|0))<<13)|0;R=((v=v+Math.imul(Q,et)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(qe,gn)|0,s=(s=s+Math.imul(qe,ln)|0)+Math.imul(ze,gn)|0,v=v+Math.imul(ze,ln)|0,x=x+Math.imul(le,Cn)|0,s=(s=s+Math.imul(le,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(me,vt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,vt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(ve,nn)|0,s=(s=s+Math.imul(ve,pn)|0)+Math.imul(Te,nn)|0,v=v+Math.imul(Te,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,wt)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,wt)|0,x=x+Math.imul(De,Ye)|0,s=(s=s+Math.imul(De,et)|0)+Math.imul(Re,Ye)|0,v=v+Math.imul(Re,et)|0;var En=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(En>>>26)|0,En&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,gn)|0,s=(s=s+Math.imul(Xe,ln)|0)+Math.imul(Ue,gn)|0,v=v+Math.imul(Ue,ln)|0,x=x+Math.imul(qe,Cn)|0,s=(s=s+Math.imul(qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(le,vt)|0,s=(s=s+Math.imul(le,ut)|0)+Math.imul(Ae,vt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(ve,yt)|0,s=(s=s+Math.imul(ve,wt)|0)+Math.imul(Te,yt)|0,v=v+Math.imul(Te,wt)|0,x=x+Math.imul(Ee,Ye)|0,s=(s=s+Math.imul(Ee,et)|0)+Math.imul(_e,Ye)|0,v=v+Math.imul(_e,et)|0,x=x+Math.imul(De,Ft)|0,s=(s=s+Math.imul(De,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var zn=(R+(x=x+Math.imul(F,bn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Mn)|0)+Math.imul(Q,bn)|0))<<13)|0;R=((v=v+Math.imul(Q,Mn)|0)+(s>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,gn)|0,s=(s=s+Math.imul(K,ln)|0)+Math.imul(T,gn)|0,v=v+Math.imul(T,ln)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(qe,vt)|0,s=(s=s+Math.imul(qe,ut)|0)+Math.imul(ze,vt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(le,nn)|0,s=(s=s+Math.imul(le,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,wt)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,wt)|0,x=x+Math.imul(ve,Ye)|0,s=(s=s+Math.imul(ve,et)|0)+Math.imul(Te,Ye)|0,v=v+Math.imul(Te,et)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(De,bn)|0)|0)+((8191&(s=(s=s+Math.imul(De,Mn)|0)+Math.imul(Re,bn)|0))<<13)|0;R=((v=v+Math.imul(Re,Mn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,gn),s=(s=Math.imul(Y,ln))+Math.imul(pe,gn)|0,v=Math.imul(pe,ln),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,vt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,vt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(qe,nn)|0,s=(s=s+Math.imul(qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(le,yt)|0,s=(s=s+Math.imul(le,wt)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,wt)|0,x=x+Math.imul(me,Ye)|0,s=(s=s+Math.imul(me,et)|0)+Math.imul(te,Ye)|0,v=v+Math.imul(te,et)|0,x=x+Math.imul(ve,Ft)|0,s=(s=s+Math.imul(ve,mn)|0)+Math.imul(Te,Ft)|0,v=v+Math.imul(Te,mn)|0;var mr=(R+(x=x+Math.imul(Ee,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Mn)|0)+Math.imul(_e,bn)|0))<<13)|0;R=((v=v+Math.imul(_e,Mn)|0)+(s>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,vt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,vt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(qe,yt)|0,s=(s=s+Math.imul(qe,wt)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,wt)|0,x=x+Math.imul(le,Ye)|0,s=(s=s+Math.imul(le,et)|0)+Math.imul(Ae,Ye)|0,v=v+Math.imul(Ae,et)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Lr=(R+(x=x+Math.imul(ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ve,Mn)|0)+Math.imul(Te,bn)|0))<<13)|0;R=((v=v+Math.imul(Te,Mn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,vt),s=(s=Math.imul(Y,ut))+Math.imul(pe,vt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,wt)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,wt)|0,x=x+Math.imul(qe,Ye)|0,s=(s=s+Math.imul(qe,et)|0)+Math.imul(ze,Ye)|0,v=v+Math.imul(ze,et)|0,x=x+Math.imul(le,Ft)|0,s=(s=s+Math.imul(le,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var Pr=(R+(x=x+Math.imul(me,bn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Mn)|0)+Math.imul(te,bn)|0))<<13)|0;R=((v=v+Math.imul(te,Mn)|0)+(s>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,wt)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,wt)|0,x=x+Math.imul(Xe,Ye)|0,s=(s=s+Math.imul(Xe,et)|0)+Math.imul(Ue,Ye)|0,v=v+Math.imul(Ue,et)|0,x=x+Math.imul(qe,Ft)|0,s=(s=s+Math.imul(qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Kr=(R+(x=x+Math.imul(le,bn)|0)|0)+((8191&(s=(s=s+Math.imul(le,Mn)|0)+Math.imul(Ae,bn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Mn)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,wt))+Math.imul(pe,yt)|0,v=Math.imul(pe,wt),x=x+Math.imul(K,Ye)|0,s=(s=s+Math.imul(K,et)|0)+Math.imul(T,Ye)|0,v=v+Math.imul(T,et)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Fr=(R+(x=x+Math.imul(qe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(qe,Mn)|0)+Math.imul(ze,bn)|0))<<13)|0;R=((v=v+Math.imul(ze,Mn)|0)+(s>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,x=Math.imul(Y,Ye),s=(s=Math.imul(Y,et))+Math.imul(pe,Ye)|0,v=Math.imul(pe,et),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var di=(R+(x=x+Math.imul(Xe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Mn)|0)+Math.imul(Ue,bn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Mn)|0)+(s>>>13)|0)+(di>>>26)|0,di&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mn)|0)+Math.imul(T,bn)|0))<<13)|0;R=((v=v+Math.imul(T,Mn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var wn=(R+(x=Math.imul(Y,bn))|0)+((8191&(s=(s=Math.imul(Y,Mn))+Math.imul(pe,bn)|0))<<13)|0;return R=((v=Math.imul(pe,Mn))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,D[0]=br,D[1]=or,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Yt,D[8]=En,D[9]=zn,D[10]=er,D[11]=mr,D[12]=Lr,D[13]=Pr,D[14]=Kr,D[15]=Fr,D[16]=di,D[17]=on,D[18]=wn,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var De=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=De+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=De-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var De=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=De}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,De=0;0!==de.cmp(D);De++)de=de.redSqr();P(De<Q);var Re=this.pow(v,new w(1).iushln(Q-De-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=De}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(We=_.nmd(We),this)},13981:(We,j)=>{"use strict";j.byteLength=function S(L){var z=O(L),q=z[1];return 3*(z[0]+q)/4-q},j.toByteArray=function N(L){var z,ae,ee=O(L),q=ee[0],Z=ee[1],J=new b(function B(L,z,ee){return 3*(z+ee)/4-ee}(0,q,Z)),se=0,ce=Z>0?q-4:q;for(ae=0;ae<ce;ae+=4)z=y[L.charCodeAt(ae)]<<18|y[L.charCodeAt(ae+1)]<<12|y[L.charCodeAt(ae+2)]<<6|y[L.charCodeAt(ae+3)],J[se++]=z>>16&255,J[se++]=z>>8&255,J[se++]=255&z;return 2===Z&&(z=y[L.charCodeAt(ae)]<<2|y[L.charCodeAt(ae+1)]>>4,J[se++]=255&z),1===Z&&(z=y[L.charCodeAt(ae)]<<10|y[L.charCodeAt(ae+1)]<<4|y[L.charCodeAt(ae+2)]>>2,J[se++]=z>>8&255,J[se++]=255&z),J},j.fromByteArray=function G(L){for(var z,ee=L.length,q=ee%3,Z=[],J=16383,se=0,ce=ee-q;se<ce;se+=J)Z.push(A(L,se,se+J>ce?ce:se+J));return 1===q?Z.push(_[(z=L[ee-1])>>2]+_[z<<4&63]+"=="):2===q&&Z.push(_[(z=(L[ee-2]<<8)+L[ee-1])>>10]+_[z>>4&63]+_[z<<2&63]+"="),Z.join("")};for(var _=[],y=[],b=typeof Uint8Array<"u"?Uint8Array:Array,P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=0;H<64;++H)_[H]=P[H],y[P.charCodeAt(H)]=H;function O(L){var z=L.length;if(z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ee=L.indexOf("=");return-1===ee&&(ee=z),[ee,ee===z?0:4-ee%4]}function U(L){return _[L>>18&63]+_[L>>12&63]+_[L>>6&63]+_[63&L]}function A(L,z,ee){for(var Z=[],J=z;J<ee;J+=3)Z.push(U((L[J]<<16&16711680)+(L[J+1]<<8&65280)+(255&L[J+2])));return Z.join("")}y[45]=62,y[95]=63},917:function(We,j,_){!function(y,b){"use strict";function P(m,p){if(!m)throw new Error(p||"Assertion failed")}function H(m,p){m.super_=p;var E=function(){};E.prototype=p.prototype,m.prototype=new E,m.prototype.constructor=m}function w(m,p,E){if(w.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,null!==m&&(("le"===p||"be"===p)&&(E=p,p=10),this._init(m||0,p||10,E||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(47790).Buffer}catch{}function S(m,p){var E=m.charCodeAt(p);return E>=48&&E<=57?E-48:E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:void P(!1,"Invalid character in "+m)}function B(m,p,E){var D=S(m,E);return E-1>=p&&(D|=S(m,E-1)<<4),D}function N(m,p,E,D){for(var R=0,x=0,s=Math.min(m.length,E),v=p;v<s;v++){var $=m.charCodeAt(v)-48;R*=D,x=$>=49?$-49+10:$>=17?$-17+10:$,P($>=0&&x<D,"Invalid character"),R+=x}return R}function U(m,p){m.words=p.words,m.length=p.length,m.negative=p.negative,m.red=p.red}if(w.isBN=function(p){return p instanceof w||null!==p&&"object"==typeof p&&p.constructor.wordSize===w.wordSize&&Array.isArray(p.words)},w.max=function(p,E){return p.cmp(E)>0?p:E},w.min=function(p,E){return p.cmp(E)<0?p:E},w.prototype._init=function(p,E,D){if("number"==typeof p)return this._initNumber(p,E,D);if("object"==typeof p)return this._initArray(p,E,D);"hex"===E&&(E=16),P(E===(0|E)&&E>=2&&E<=36);var R=0;"-"===(p=p.toString().replace(/\s+/g,""))[0]&&(R++,this.negative=1),R<p.length&&(16===E?this._parseHex(p,R,D):(this._parseBase(p,E,R),"le"===D&&this._initArray(this.toArray(),E,D)))},w.prototype._initNumber=function(p,E,D){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[67108863&p],this.length=1):p<4503599627370496?(this.words=[67108863&p,p/67108864&67108863],this.length=2):(P(p<9007199254740992),this.words=[67108863&p,p/67108864&67108863,1],this.length=3),"le"===D&&this._initArray(this.toArray(),E,D)},w.prototype._initArray=function(p,E,D){if(P("number"==typeof p.length),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var x,s,v=0;if("be"===D)for(R=p.length-1,x=0;R>=0;R-=3)this.words[x]|=(s=p[R]|p[R-1]<<8|p[R-2]<<16)<<v&67108863,this.words[x+1]=s>>>26-v&67108863,(v+=24)>=26&&(v-=26,x++);else if("le"===D)for(R=0,x=0;R<p.length;R+=3)this.words[x]|=(s=p[R]|p[R+1]<<8|p[R+2]<<16)<<v&67108863,this.words[x+1]=s>>>26-v&67108863,(v+=24)>=26&&(v-=26,x++);return this._strip()},w.prototype._parseHex=function(p,E,D){this.length=Math.ceil((p.length-E)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var v,x=0,s=0;if("be"===D)for(R=p.length-1;R>=E;R-=2)v=B(p,E,R)<<x,this.words[s]|=67108863&v,x>=18?(x-=18,this.words[s+=1]|=v>>>26):x+=8;else for(R=(p.length-E)%2==0?E+1:E;R<p.length;R+=2)v=B(p,E,R)<<x,this.words[s]|=67108863&v,x>=18?(x-=18,this.words[s+=1]|=v>>>26):x+=8;this._strip()},w.prototype._parseBase=function(p,E,D){this.words=[0],this.length=1;for(var R=0,x=1;x<=67108863;x*=E)R++;R--,x=x/E|0;for(var s=p.length-D,v=s%R,$=Math.min(s,s-v)+D,F=0,Q=D;Q<$;Q+=R)F=N(p,Q,Q+R,E),this.imuln(x),this.words[0]+F<67108864?this.words[0]+=F:this._iaddn(F);if(0!==v){var de=1;for(F=N(p,Q,p.length,E),Q=0;Q<v;Q++)de*=E;this.imuln(de),this.words[0]+F<67108864?this.words[0]+=F:this._iaddn(F)}this._strip()},w.prototype.copy=function(p){p.words=new Array(this.length);for(var E=0;E<this.length;E++)p.words[E]=this.words[E];p.length=this.length,p.negative=this.negative,p.red=this.red},w.prototype._move=function(p){U(p,this)},w.prototype.clone=function(){var p=new w(null);return this.copy(p),p},w.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},w.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{w.prototype[Symbol.for("nodejs.util.inspect.custom")]=A}catch{w.prototype.inspect=A}else w.prototype.inspect=A;function A(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var G=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],L=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(m,p,E){E.negative=p.negative^m.negative;var D=m.length+p.length|0;E.length=D,D=D-1|0;var R=0|m.words[0],x=0|p.words[0],s=R*x,$=s/67108864|0;E.words[0]=67108863&s;for(var F=1;F<D;F++){for(var Q=$>>>26,de=67108863&$,De=Math.min(F,p.length-1),Re=Math.max(0,F-m.length+1);Re<=De;Re++)Q+=(s=(R=0|m.words[F-Re|0])*(x=0|p.words[Re])+de)/67108864|0,de=67108863&s;E.words[F]=0|de,$=0|Q}return 0!==$?E.words[F]=0|$:E.length--,E._strip()}w.prototype.toString=function(p,E){var D;if(E=0|E||1,16===(p=p||10)||"hex"===p){D="";for(var R=0,x=0,s=0;s<this.length;s++){var v=this.words[s],$=(16777215&(v<<R|x)).toString(16);x=v>>>24-R&16777215,(R+=2)>=26&&(R-=26,s--),D=0!==x||s!==this.length-1?G[6-$.length]+$+D:$+D}for(0!==x&&(D=x.toString(16)+D);D.length%E!=0;)D="0"+D;return 0!==this.negative&&(D="-"+D),D}if(p===(0|p)&&p>=2&&p<=36){var F=L[p],Q=z[p];D="";var de=this.clone();for(de.negative=0;!de.isZero();){var De=de.modrn(Q).toString(p);D=(de=de.idivn(Q)).isZero()?De+D:G[F-De.length]+De+D}for(this.isZero()&&(D="0"+D);D.length%E!=0;)D="0"+D;return 0!==this.negative&&(D="-"+D),D}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var p=this.words[0];return 2===this.length?p+=67108864*this.words[1]:3===this.length&&1===this.words[2]?p+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-p:p},w.prototype.toJSON=function(){return this.toString(16,2)},O&&(w.prototype.toBuffer=function(p,E){return this.toArrayLike(O,p,E)}),w.prototype.toArray=function(p,E){return this.toArrayLike(Array,p,E)},w.prototype.toArrayLike=function(p,E,D){this._strip();var R=this.byteLength(),x=D||Math.max(1,R);P(R<=x,"byte array longer than desired length"),P(x>0,"Requested array length <= 0");var s=function(p,E){return p.allocUnsafe?p.allocUnsafe(E):new p(E)}(p,x);return this["_toArrayLike"+("le"===E?"LE":"BE")](s,R),s},w.prototype._toArrayLikeLE=function(p,E){for(var D=0,R=0,x=0,s=0;x<this.length;x++){var v=this.words[x]<<s|R;p[D++]=255&v,D<p.length&&(p[D++]=v>>8&255),D<p.length&&(p[D++]=v>>16&255),6===s?(D<p.length&&(p[D++]=v>>24&255),R=0,s=0):(R=v>>>24,s+=2)}if(D<p.length)for(p[D++]=R;D<p.length;)p[D++]=0},w.prototype._toArrayLikeBE=function(p,E){for(var D=p.length-1,R=0,x=0,s=0;x<this.length;x++){var v=this.words[x]<<s|R;p[D--]=255&v,D>=0&&(p[D--]=v>>8&255),D>=0&&(p[D--]=v>>16&255),6===s?(D>=0&&(p[D--]=v>>24&255),R=0,s=0):(R=v>>>24,s+=2)}if(D>=0)for(p[D--]=R;D>=0;)p[D--]=0},w.prototype._countBits=Math.clz32?function(p){return 32-Math.clz32(p)}:function(p){var E=p,D=0;return E>=4096&&(D+=13,E>>>=13),E>=64&&(D+=7,E>>>=7),E>=8&&(D+=4,E>>>=4),E>=2&&(D+=2,E>>>=2),D+E},w.prototype._zeroBits=function(p){if(0===p)return 26;var E=p,D=0;return 8191&E||(D+=13,E>>>=13),127&E||(D+=7,E>>>=7),15&E||(D+=4,E>>>=4),3&E||(D+=2,E>>>=2),1&E||D++,D},w.prototype.bitLength=function(){var E=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+E},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,E=0;E<this.length;E++){var D=this._zeroBits(this.words[E]);if(p+=D,26!==D)break}return p},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(p){return 0!==this.negative?this.abs().inotn(p).iaddn(1):this.clone()},w.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var E=0;E<p.length;E++)this.words[E]=this.words[E]|p.words[E];return this._strip()},w.prototype.ior=function(p){return P(!(this.negative|p.negative)),this.iuor(p)},w.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},w.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},w.prototype.iuand=function(p){var E;E=this.length>p.length?p:this;for(var D=0;D<E.length;D++)this.words[D]=this.words[D]&p.words[D];return this.length=E.length,this._strip()},w.prototype.iand=function(p){return P(!(this.negative|p.negative)),this.iuand(p)},w.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},w.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},w.prototype.iuxor=function(p){var E,D;this.length>p.length?(E=this,D=p):(E=p,D=this);for(var R=0;R<D.length;R++)this.words[R]=E.words[R]^D.words[R];if(this!==E)for(;R<E.length;R++)this.words[R]=E.words[R];return this.length=E.length,this._strip()},w.prototype.ixor=function(p){return P(!(this.negative|p.negative)),this.iuxor(p)},w.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},w.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},w.prototype.inotn=function(p){P("number"==typeof p&&p>=0);var E=0|Math.ceil(p/26),D=p%26;this._expand(E),D>0&&E--;for(var R=0;R<E;R++)this.words[R]=67108863&~this.words[R];return D>0&&(this.words[R]=~this.words[R]&67108863>>26-D),this._strip()},w.prototype.notn=function(p){return this.clone().inotn(p)},w.prototype.setn=function(p,E){P("number"==typeof p&&p>=0);var D=p/26|0,R=p%26;return this._expand(D+1),this.words[D]=E?this.words[D]|1<<R:this.words[D]&~(1<<R),this._strip()},w.prototype.iadd=function(p){var E,D,R;if(0!==this.negative&&0===p.negative)return this.negative=0,E=this.isub(p),this.negative^=1,this._normSign();if(0===this.negative&&0!==p.negative)return p.negative=0,E=this.isub(p),p.negative=1,E._normSign();this.length>p.length?(D=this,R=p):(D=p,R=this);for(var x=0,s=0;s<R.length;s++)this.words[s]=67108863&(E=(0|D.words[s])+(0|R.words[s])+x),x=E>>>26;for(;0!==x&&s<D.length;s++)this.words[s]=67108863&(E=(0|D.words[s])+x),x=E>>>26;if(this.length=D.length,0!==x)this.words[this.length]=x,this.length++;else if(D!==this)for(;s<D.length;s++)this.words[s]=D.words[s];return this},w.prototype.add=function(p){var E;return 0!==p.negative&&0===this.negative?(p.negative=0,E=this.sub(p),p.negative^=1,E):0===p.negative&&0!==this.negative?(this.negative=0,E=p.sub(this),this.negative=1,E):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},w.prototype.isub=function(p){if(0!==p.negative){p.negative=0;var E=this.iadd(p);return p.negative=1,E._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var R,x,D=this.cmp(p);if(0===D)return this.negative=0,this.length=1,this.words[0]=0,this;D>0?(R=this,x=p):(R=p,x=this);for(var s=0,v=0;v<x.length;v++)s=(E=(0|R.words[v])-(0|x.words[v])+s)>>26,this.words[v]=67108863&E;for(;0!==s&&v<R.length;v++)s=(E=(0|R.words[v])+s)>>26,this.words[v]=67108863&E;if(0===s&&v<R.length&&R!==this)for(;v<R.length;v++)this.words[v]=R.words[v];return this.length=Math.max(this.length,v),R!==this&&(this.negative=1),this._strip()},w.prototype.sub=function(p){return this.clone().isub(p)};var J=function(p,E,D){var $,F,Q,R=p.words,x=E.words,s=D.words,v=0,de=0|R[0],De=8191&de,Re=de>>>13,Ve=0|R[1],Ee=8191&Ve,_e=Ve>>>13,Fe=0|R[2],ve=8191&Fe,Te=Fe>>>13,ge=0|R[3],me=8191&ge,te=ge>>>13,ne=0|R[4],le=8191&ne,Ae=ne>>>13,Be=0|R[5],qe=8191&Be,ze=Be>>>13,Dt=0|R[6],Xe=8191&Dt,Ue=Dt>>>13,mt=0|R[7],K=8191&mt,T=mt>>>13,M=0|R[8],Y=8191&M,pe=M>>>13,ke=0|R[9],Ne=8191&ke,lt=ke>>>13,en=0|x[0],It=8191&en,Kt=en>>>13,rn=0|x[1],gn=8191&rn,ln=rn>>>13,ar=0|x[2],Cn=8191&ar,cn=ar>>>13,Zt=0|x[3],vt=8191&Zt,ut=Zt>>>13,Gt=0|x[4],nn=8191&Gt,pn=Gt>>>13,fr=0|x[5],yt=8191&fr,wt=fr>>>13,Et=0|x[6],Ye=8191&Et,et=Et>>>13,Wt=0|x[7],Ft=8191&Wt,mn=Wt>>>13,Vn=0|x[8],bn=8191&Vn,Mn=Vn>>>13,br=0|x[9],or=8191&br,Nn=br>>>13;D.negative=p.negative^E.negative,D.length=19;var Ln=(v+($=Math.imul(De,It))|0)+((8191&(F=(F=Math.imul(De,Kt))+Math.imul(Re,It)|0))<<13)|0;v=((Q=Math.imul(Re,Kt))+(F>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,$=Math.imul(Ee,It),F=(F=Math.imul(Ee,Kt))+Math.imul(_e,It)|0,Q=Math.imul(_e,Kt);var at=(v+($=$+Math.imul(De,gn)|0)|0)+((8191&(F=(F=F+Math.imul(De,ln)|0)+Math.imul(Re,gn)|0))<<13)|0;v=((Q=Q+Math.imul(Re,ln)|0)+(F>>>13)|0)+(at>>>26)|0,at&=67108863,$=Math.imul(ve,It),F=(F=Math.imul(ve,Kt))+Math.imul(Te,It)|0,Q=Math.imul(Te,Kt),$=$+Math.imul(Ee,gn)|0,F=(F=F+Math.imul(Ee,ln)|0)+Math.imul(_e,gn)|0,Q=Q+Math.imul(_e,ln)|0;var He=(v+($=$+Math.imul(De,Cn)|0)|0)+((8191&(F=(F=F+Math.imul(De,cn)|0)+Math.imul(Re,Cn)|0))<<13)|0;v=((Q=Q+Math.imul(Re,cn)|0)+(F>>>13)|0)+(He>>>26)|0,He&=67108863,$=Math.imul(me,It),F=(F=Math.imul(me,Kt))+Math.imul(te,It)|0,Q=Math.imul(te,Kt),$=$+Math.imul(ve,gn)|0,F=(F=F+Math.imul(ve,ln)|0)+Math.imul(Te,gn)|0,Q=Q+Math.imul(Te,ln)|0,$=$+Math.imul(Ee,Cn)|0,F=(F=F+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,Q=Q+Math.imul(_e,cn)|0;var ct=(v+($=$+Math.imul(De,vt)|0)|0)+((8191&(F=(F=F+Math.imul(De,ut)|0)+Math.imul(Re,vt)|0))<<13)|0;v=((Q=Q+Math.imul(Re,ut)|0)+(F>>>13)|0)+(ct>>>26)|0,ct&=67108863,$=Math.imul(le,It),F=(F=Math.imul(le,Kt))+Math.imul(Ae,It)|0,Q=Math.imul(Ae,Kt),$=$+Math.imul(me,gn)|0,F=(F=F+Math.imul(me,ln)|0)+Math.imul(te,gn)|0,Q=Q+Math.imul(te,ln)|0,$=$+Math.imul(ve,Cn)|0,F=(F=F+Math.imul(ve,cn)|0)+Math.imul(Te,Cn)|0,Q=Q+Math.imul(Te,cn)|0,$=$+Math.imul(Ee,vt)|0,F=(F=F+Math.imul(Ee,ut)|0)+Math.imul(_e,vt)|0,Q=Q+Math.imul(_e,ut)|0;var Yt=(v+($=$+Math.imul(De,nn)|0)|0)+((8191&(F=(F=F+Math.imul(De,pn)|0)+Math.imul(Re,nn)|0))<<13)|0;v=((Q=Q+Math.imul(Re,pn)|0)+(F>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,$=Math.imul(qe,It),F=(F=Math.imul(qe,Kt))+Math.imul(ze,It)|0,Q=Math.imul(ze,Kt),$=$+Math.imul(le,gn)|0,F=(F=F+Math.imul(le,ln)|0)+Math.imul(Ae,gn)|0,Q=Q+Math.imul(Ae,ln)|0,$=$+Math.imul(me,Cn)|0,F=(F=F+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,Q=Q+Math.imul(te,cn)|0,$=$+Math.imul(ve,vt)|0,F=(F=F+Math.imul(ve,ut)|0)+Math.imul(Te,vt)|0,Q=Q+Math.imul(Te,ut)|0,$=$+Math.imul(Ee,nn)|0,F=(F=F+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,Q=Q+Math.imul(_e,pn)|0;var En=(v+($=$+Math.imul(De,yt)|0)|0)+((8191&(F=(F=F+Math.imul(De,wt)|0)+Math.imul(Re,yt)|0))<<13)|0;v=((Q=Q+Math.imul(Re,wt)|0)+(F>>>13)|0)+(En>>>26)|0,En&=67108863,$=Math.imul(Xe,It),F=(F=Math.imul(Xe,Kt))+Math.imul(Ue,It)|0,Q=Math.imul(Ue,Kt),$=$+Math.imul(qe,gn)|0,F=(F=F+Math.imul(qe,ln)|0)+Math.imul(ze,gn)|0,Q=Q+Math.imul(ze,ln)|0,$=$+Math.imul(le,Cn)|0,F=(F=F+Math.imul(le,cn)|0)+Math.imul(Ae,Cn)|0,Q=Q+Math.imul(Ae,cn)|0,$=$+Math.imul(me,vt)|0,F=(F=F+Math.imul(me,ut)|0)+Math.imul(te,vt)|0,Q=Q+Math.imul(te,ut)|0,$=$+Math.imul(ve,nn)|0,F=(F=F+Math.imul(ve,pn)|0)+Math.imul(Te,nn)|0,Q=Q+Math.imul(Te,pn)|0,$=$+Math.imul(Ee,yt)|0,F=(F=F+Math.imul(Ee,wt)|0)+Math.imul(_e,yt)|0,Q=Q+Math.imul(_e,wt)|0;var zn=(v+($=$+Math.imul(De,Ye)|0)|0)+((8191&(F=(F=F+Math.imul(De,et)|0)+Math.imul(Re,Ye)|0))<<13)|0;v=((Q=Q+Math.imul(Re,et)|0)+(F>>>13)|0)+(zn>>>26)|0,zn&=67108863,$=Math.imul(K,It),F=(F=Math.imul(K,Kt))+Math.imul(T,It)|0,Q=Math.imul(T,Kt),$=$+Math.imul(Xe,gn)|0,F=(F=F+Math.imul(Xe,ln)|0)+Math.imul(Ue,gn)|0,Q=Q+Math.imul(Ue,ln)|0,$=$+Math.imul(qe,Cn)|0,F=(F=F+Math.imul(qe,cn)|0)+Math.imul(ze,Cn)|0,Q=Q+Math.imul(ze,cn)|0,$=$+Math.imul(le,vt)|0,F=(F=F+Math.imul(le,ut)|0)+Math.imul(Ae,vt)|0,Q=Q+Math.imul(Ae,ut)|0,$=$+Math.imul(me,nn)|0,F=(F=F+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,Q=Q+Math.imul(te,pn)|0,$=$+Math.imul(ve,yt)|0,F=(F=F+Math.imul(ve,wt)|0)+Math.imul(Te,yt)|0,Q=Q+Math.imul(Te,wt)|0,$=$+Math.imul(Ee,Ye)|0,F=(F=F+Math.imul(Ee,et)|0)+Math.imul(_e,Ye)|0,Q=Q+Math.imul(_e,et)|0;var er=(v+($=$+Math.imul(De,Ft)|0)|0)+((8191&(F=(F=F+Math.imul(De,mn)|0)+Math.imul(Re,Ft)|0))<<13)|0;v=((Q=Q+Math.imul(Re,mn)|0)+(F>>>13)|0)+(er>>>26)|0,er&=67108863,$=Math.imul(Y,It),F=(F=Math.imul(Y,Kt))+Math.imul(pe,It)|0,Q=Math.imul(pe,Kt),$=$+Math.imul(K,gn)|0,F=(F=F+Math.imul(K,ln)|0)+Math.imul(T,gn)|0,Q=Q+Math.imul(T,ln)|0,$=$+Math.imul(Xe,Cn)|0,F=(F=F+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,Q=Q+Math.imul(Ue,cn)|0,$=$+Math.imul(qe,vt)|0,F=(F=F+Math.imul(qe,ut)|0)+Math.imul(ze,vt)|0,Q=Q+Math.imul(ze,ut)|0,$=$+Math.imul(le,nn)|0,F=(F=F+Math.imul(le,pn)|0)+Math.imul(Ae,nn)|0,Q=Q+Math.imul(Ae,pn)|0,$=$+Math.imul(me,yt)|0,F=(F=F+Math.imul(me,wt)|0)+Math.imul(te,yt)|0,Q=Q+Math.imul(te,wt)|0,$=$+Math.imul(ve,Ye)|0,F=(F=F+Math.imul(ve,et)|0)+Math.imul(Te,Ye)|0,Q=Q+Math.imul(Te,et)|0,$=$+Math.imul(Ee,Ft)|0,F=(F=F+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,Q=Q+Math.imul(_e,mn)|0;var mr=(v+($=$+Math.imul(De,bn)|0)|0)+((8191&(F=(F=F+Math.imul(De,Mn)|0)+Math.imul(Re,bn)|0))<<13)|0;v=((Q=Q+Math.imul(Re,Mn)|0)+(F>>>13)|0)+(mr>>>26)|0,mr&=67108863,$=Math.imul(Ne,It),F=(F=Math.imul(Ne,Kt))+Math.imul(lt,It)|0,Q=Math.imul(lt,Kt),$=$+Math.imul(Y,gn)|0,F=(F=F+Math.imul(Y,ln)|0)+Math.imul(pe,gn)|0,Q=Q+Math.imul(pe,ln)|0,$=$+Math.imul(K,Cn)|0,F=(F=F+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,Q=Q+Math.imul(T,cn)|0,$=$+Math.imul(Xe,vt)|0,F=(F=F+Math.imul(Xe,ut)|0)+Math.imul(Ue,vt)|0,Q=Q+Math.imul(Ue,ut)|0,$=$+Math.imul(qe,nn)|0,F=(F=F+Math.imul(qe,pn)|0)+Math.imul(ze,nn)|0,Q=Q+Math.imul(ze,pn)|0,$=$+Math.imul(le,yt)|0,F=(F=F+Math.imul(le,wt)|0)+Math.imul(Ae,yt)|0,Q=Q+Math.imul(Ae,wt)|0,$=$+Math.imul(me,Ye)|0,F=(F=F+Math.imul(me,et)|0)+Math.imul(te,Ye)|0,Q=Q+Math.imul(te,et)|0,$=$+Math.imul(ve,Ft)|0,F=(F=F+Math.imul(ve,mn)|0)+Math.imul(Te,Ft)|0,Q=Q+Math.imul(Te,mn)|0,$=$+Math.imul(Ee,bn)|0,F=(F=F+Math.imul(Ee,Mn)|0)+Math.imul(_e,bn)|0,Q=Q+Math.imul(_e,Mn)|0;var Lr=(v+($=$+Math.imul(De,or)|0)|0)+((8191&(F=(F=F+Math.imul(De,Nn)|0)+Math.imul(Re,or)|0))<<13)|0;v=((Q=Q+Math.imul(Re,Nn)|0)+(F>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,$=Math.imul(Ne,gn),F=(F=Math.imul(Ne,ln))+Math.imul(lt,gn)|0,Q=Math.imul(lt,ln),$=$+Math.imul(Y,Cn)|0,F=(F=F+Math.imul(Y,cn)|0)+Math.imul(pe,Cn)|0,Q=Q+Math.imul(pe,cn)|0,$=$+Math.imul(K,vt)|0,F=(F=F+Math.imul(K,ut)|0)+Math.imul(T,vt)|0,Q=Q+Math.imul(T,ut)|0,$=$+Math.imul(Xe,nn)|0,F=(F=F+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,Q=Q+Math.imul(Ue,pn)|0,$=$+Math.imul(qe,yt)|0,F=(F=F+Math.imul(qe,wt)|0)+Math.imul(ze,yt)|0,Q=Q+Math.imul(ze,wt)|0,$=$+Math.imul(le,Ye)|0,F=(F=F+Math.imul(le,et)|0)+Math.imul(Ae,Ye)|0,Q=Q+Math.imul(Ae,et)|0,$=$+Math.imul(me,Ft)|0,F=(F=F+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,Q=Q+Math.imul(te,mn)|0,$=$+Math.imul(ve,bn)|0,F=(F=F+Math.imul(ve,Mn)|0)+Math.imul(Te,bn)|0,Q=Q+Math.imul(Te,Mn)|0;var Pr=(v+($=$+Math.imul(Ee,or)|0)|0)+((8191&(F=(F=F+Math.imul(Ee,Nn)|0)+Math.imul(_e,or)|0))<<13)|0;v=((Q=Q+Math.imul(_e,Nn)|0)+(F>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,$=Math.imul(Ne,Cn),F=(F=Math.imul(Ne,cn))+Math.imul(lt,Cn)|0,Q=Math.imul(lt,cn),$=$+Math.imul(Y,vt)|0,F=(F=F+Math.imul(Y,ut)|0)+Math.imul(pe,vt)|0,Q=Q+Math.imul(pe,ut)|0,$=$+Math.imul(K,nn)|0,F=(F=F+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,Q=Q+Math.imul(T,pn)|0,$=$+Math.imul(Xe,yt)|0,F=(F=F+Math.imul(Xe,wt)|0)+Math.imul(Ue,yt)|0,Q=Q+Math.imul(Ue,wt)|0,$=$+Math.imul(qe,Ye)|0,F=(F=F+Math.imul(qe,et)|0)+Math.imul(ze,Ye)|0,Q=Q+Math.imul(ze,et)|0,$=$+Math.imul(le,Ft)|0,F=(F=F+Math.imul(le,mn)|0)+Math.imul(Ae,Ft)|0,Q=Q+Math.imul(Ae,mn)|0,$=$+Math.imul(me,bn)|0,F=(F=F+Math.imul(me,Mn)|0)+Math.imul(te,bn)|0,Q=Q+Math.imul(te,Mn)|0;var Kr=(v+($=$+Math.imul(ve,or)|0)|0)+((8191&(F=(F=F+Math.imul(ve,Nn)|0)+Math.imul(Te,or)|0))<<13)|0;v=((Q=Q+Math.imul(Te,Nn)|0)+(F>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,$=Math.imul(Ne,vt),F=(F=Math.imul(Ne,ut))+Math.imul(lt,vt)|0,Q=Math.imul(lt,ut),$=$+Math.imul(Y,nn)|0,F=(F=F+Math.imul(Y,pn)|0)+Math.imul(pe,nn)|0,Q=Q+Math.imul(pe,pn)|0,$=$+Math.imul(K,yt)|0,F=(F=F+Math.imul(K,wt)|0)+Math.imul(T,yt)|0,Q=Q+Math.imul(T,wt)|0,$=$+Math.imul(Xe,Ye)|0,F=(F=F+Math.imul(Xe,et)|0)+Math.imul(Ue,Ye)|0,Q=Q+Math.imul(Ue,et)|0,$=$+Math.imul(qe,Ft)|0,F=(F=F+Math.imul(qe,mn)|0)+Math.imul(ze,Ft)|0,Q=Q+Math.imul(ze,mn)|0,$=$+Math.imul(le,bn)|0,F=(F=F+Math.imul(le,Mn)|0)+Math.imul(Ae,bn)|0,Q=Q+Math.imul(Ae,Mn)|0;var Fr=(v+($=$+Math.imul(me,or)|0)|0)+((8191&(F=(F=F+Math.imul(me,Nn)|0)+Math.imul(te,or)|0))<<13)|0;v=((Q=Q+Math.imul(te,Nn)|0)+(F>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,$=Math.imul(Ne,nn),F=(F=Math.imul(Ne,pn))+Math.imul(lt,nn)|0,Q=Math.imul(lt,pn),$=$+Math.imul(Y,yt)|0,F=(F=F+Math.imul(Y,wt)|0)+Math.imul(pe,yt)|0,Q=Q+Math.imul(pe,wt)|0,$=$+Math.imul(K,Ye)|0,F=(F=F+Math.imul(K,et)|0)+Math.imul(T,Ye)|0,Q=Q+Math.imul(T,et)|0,$=$+Math.imul(Xe,Ft)|0,F=(F=F+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,Q=Q+Math.imul(Ue,mn)|0,$=$+Math.imul(qe,bn)|0,F=(F=F+Math.imul(qe,Mn)|0)+Math.imul(ze,bn)|0,Q=Q+Math.imul(ze,Mn)|0;var di=(v+($=$+Math.imul(le,or)|0)|0)+((8191&(F=(F=F+Math.imul(le,Nn)|0)+Math.imul(Ae,or)|0))<<13)|0;v=((Q=Q+Math.imul(Ae,Nn)|0)+(F>>>13)|0)+(di>>>26)|0,di&=67108863,$=Math.imul(Ne,yt),F=(F=Math.imul(Ne,wt))+Math.imul(lt,yt)|0,Q=Math.imul(lt,wt),$=$+Math.imul(Y,Ye)|0,F=(F=F+Math.imul(Y,et)|0)+Math.imul(pe,Ye)|0,Q=Q+Math.imul(pe,et)|0,$=$+Math.imul(K,Ft)|0,F=(F=F+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,Q=Q+Math.imul(T,mn)|0,$=$+Math.imul(Xe,bn)|0,F=(F=F+Math.imul(Xe,Mn)|0)+Math.imul(Ue,bn)|0,Q=Q+Math.imul(Ue,Mn)|0;var on=(v+($=$+Math.imul(qe,or)|0)|0)+((8191&(F=(F=F+Math.imul(qe,Nn)|0)+Math.imul(ze,or)|0))<<13)|0;v=((Q=Q+Math.imul(ze,Nn)|0)+(F>>>13)|0)+(on>>>26)|0,on&=67108863,$=Math.imul(Ne,Ye),F=(F=Math.imul(Ne,et))+Math.imul(lt,Ye)|0,Q=Math.imul(lt,et),$=$+Math.imul(Y,Ft)|0,F=(F=F+Math.imul(Y,mn)|0)+Math.imul(pe,Ft)|0,Q=Q+Math.imul(pe,mn)|0,$=$+Math.imul(K,bn)|0,F=(F=F+Math.imul(K,Mn)|0)+Math.imul(T,bn)|0,Q=Q+Math.imul(T,Mn)|0;var wn=(v+($=$+Math.imul(Xe,or)|0)|0)+((8191&(F=(F=F+Math.imul(Xe,Nn)|0)+Math.imul(Ue,or)|0))<<13)|0;v=((Q=Q+Math.imul(Ue,Nn)|0)+(F>>>13)|0)+(wn>>>26)|0,wn&=67108863,$=Math.imul(Ne,Ft),F=(F=Math.imul(Ne,mn))+Math.imul(lt,Ft)|0,Q=Math.imul(lt,mn),$=$+Math.imul(Y,bn)|0,F=(F=F+Math.imul(Y,Mn)|0)+Math.imul(pe,bn)|0,Q=Q+Math.imul(pe,Mn)|0;var Tn=(v+($=$+Math.imul(K,or)|0)|0)+((8191&(F=(F=F+Math.imul(K,Nn)|0)+Math.imul(T,or)|0))<<13)|0;v=((Q=Q+Math.imul(T,Nn)|0)+(F>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,$=Math.imul(Ne,bn),F=(F=Math.imul(Ne,Mn))+Math.imul(lt,bn)|0,Q=Math.imul(lt,Mn);var Hn=(v+($=$+Math.imul(Y,or)|0)|0)+((8191&(F=(F=F+Math.imul(Y,Nn)|0)+Math.imul(pe,or)|0))<<13)|0;v=((Q=Q+Math.imul(pe,Nn)|0)+(F>>>13)|0)+(Hn>>>26)|0,Hn&=67108863;var Gn=(v+($=Math.imul(Ne,or))|0)+((8191&(F=(F=Math.imul(Ne,Nn))+Math.imul(lt,or)|0))<<13)|0;return v=((Q=Math.imul(lt,Nn))+(F>>>13)|0)+(Gn>>>26)|0,Gn&=67108863,s[0]=Ln,s[1]=at,s[2]=He,s[3]=ct,s[4]=Yt,s[5]=En,s[6]=zn,s[7]=er,s[8]=mr,s[9]=Lr,s[10]=Pr,s[11]=Kr,s[12]=Fr,s[13]=di,s[14]=on,s[15]=wn,s[16]=Tn,s[17]=Hn,s[18]=Gn,0!==v&&(s[19]=v,D.length++),D};function se(m,p,E){E.negative=p.negative^m.negative,E.length=m.length+p.length;for(var D=0,R=0,x=0;x<E.length-1;x++){var s=R;R=0;for(var v=67108863&D,$=Math.min(x,p.length-1),F=Math.max(0,x-m.length+1);F<=$;F++){var Re=(0|m.words[x-F])*(0|p.words[F]),Ve=67108863&Re;v=67108863&(Ve=Ve+v|0),R+=(s=(s=s+(Re/67108864|0)|0)+(Ve>>>26)|0)>>>26,s&=67108863}E.words[x]=v,D=s,s=R}return 0!==D?E.words[x]=D:E.length--,E._strip()}function ce(m,p,E){return se(m,p,E)}function ae(m,p){this.x=m,this.y=p}Math.imul||(J=Z),w.prototype.mulTo=function(p,E){var R=this.length+p.length;return 10===this.length&&10===p.length?J(this,p,E):R<63?Z(this,p,E):R<1024?se(this,p,E):ce(this,p,E)},ae.prototype.makeRBT=function(p){for(var E=new Array(p),D=w.prototype._countBits(p)-1,R=0;R<p;R++)E[R]=this.revBin(R,D,p);return E},ae.prototype.revBin=function(p,E,D){if(0===p||p===D-1)return p;for(var R=0,x=0;x<E;x++)R|=(1&p)<<E-x-1,p>>=1;return R},ae.prototype.permute=function(p,E,D,R,x,s){for(var v=0;v<s;v++)R[v]=E[p[v]],x[v]=D[p[v]]},ae.prototype.transform=function(p,E,D,R,x,s){this.permute(s,p,E,D,R,x);for(var v=1;v<x;v<<=1)for(var $=v<<1,F=Math.cos(2*Math.PI/$),Q=Math.sin(2*Math.PI/$),de=0;de<x;de+=$)for(var De=F,Re=Q,Ve=0;Ve<v;Ve++){var Ee=D[de+Ve],_e=R[de+Ve],Fe=D[de+Ve+v],ve=R[de+Ve+v],Te=De*Fe-Re*ve;ve=De*ve+Re*Fe,D[de+Ve]=Ee+(Fe=Te),R[de+Ve]=_e+ve,D[de+Ve+v]=Ee-Fe,R[de+Ve+v]=_e-ve,Ve!==$&&(Te=F*De-Q*Re,Re=F*Re+Q*De,De=Te)}},ae.prototype.guessLen13b=function(p,E){var D=1|Math.max(E,p),R=1&D,x=0;for(D=D/2|0;D;D>>>=1)x++;return 1<<x+1+R},ae.prototype.conjugate=function(p,E,D){if(!(D<=1))for(var R=0;R<D/2;R++){var x=p[R];p[R]=p[D-R-1],p[D-R-1]=x,x=E[R],E[R]=-E[D-R-1],E[D-R-1]=-x}},ae.prototype.normalize13b=function(p,E){for(var D=0,R=0;R<E/2;R++){var x=8192*Math.round(p[2*R+1]/E)+Math.round(p[2*R]/E)+D;p[R]=67108863&x,D=x<67108864?0:x/67108864|0}return p},ae.prototype.convert13b=function(p,E,D,R){for(var x=0,s=0;s<E;s++)D[2*s]=8191&(x+=0|p[s]),D[2*s+1]=8191&(x>>>=13),x>>>=13;for(s=2*E;s<R;++s)D[s]=0;P(0===x),P(!(-8192&x))},ae.prototype.stub=function(p){for(var E=new Array(p),D=0;D<p;D++)E[D]=0;return E},ae.prototype.mulp=function(p,E,D){var R=2*this.guessLen13b(p.length,E.length),x=this.makeRBT(R),s=this.stub(R),v=new Array(R),$=new Array(R),F=new Array(R),Q=new Array(R),de=new Array(R),De=new Array(R),Re=D.words;Re.length=R,this.convert13b(p.words,p.length,v,R),this.convert13b(E.words,E.length,Q,R),this.transform(v,s,$,F,R,x),this.transform(Q,s,de,De,R,x);for(var Ve=0;Ve<R;Ve++){var Ee=$[Ve]*de[Ve]-F[Ve]*De[Ve];F[Ve]=$[Ve]*De[Ve]+F[Ve]*de[Ve],$[Ve]=Ee}return this.conjugate($,F,R),this.transform($,F,Re,s,R,x),this.conjugate(Re,s,R),this.normalize13b(Re,R),D.negative=p.negative^E.negative,D.length=p.length+E.length,D._strip()},w.prototype.mul=function(p){var E=new w(null);return E.words=new Array(this.length+p.length),this.mulTo(p,E)},w.prototype.mulf=function(p){var E=new w(null);return E.words=new Array(this.length+p.length),ce(this,p,E)},w.prototype.imul=function(p){return this.clone().mulTo(p,this)},w.prototype.imuln=function(p){var E=p<0;E&&(p=-p),P("number"==typeof p),P(p<67108864);for(var D=0,R=0;R<this.length;R++){var x=(0|this.words[R])*p,s=(67108863&x)+(67108863&D);D>>=26,D+=x/67108864|0,D+=s>>>26,this.words[R]=67108863&s}return 0!==D&&(this.words[R]=D,this.length++),E?this.ineg():this},w.prototype.muln=function(p){return this.clone().imuln(p)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(p){var E=function q(m){for(var p=new Array(m.bitLength()),E=0;E<p.length;E++)p[E]=m.words[E/26|0]>>>E%26&1;return p}(p);if(0===E.length)return new w(1);for(var D=this,R=0;R<E.length&&0===E[R];R++,D=D.sqr());if(++R<E.length)for(var x=D.sqr();R<E.length;R++,x=x.sqr())0!==E[R]&&(D=D.mul(x));return D},w.prototype.iushln=function(p){P("number"==typeof p&&p>=0);var x,E=p%26,D=(p-E)/26,R=67108863>>>26-E<<26-E;if(0!==E){var s=0;for(x=0;x<this.length;x++){var v=this.words[x]&R;this.words[x]=(0|this.words[x])-v<<E|s,s=v>>>26-E}s&&(this.words[x]=s,this.length++)}if(0!==D){for(x=this.length-1;x>=0;x--)this.words[x+D]=this.words[x];for(x=0;x<D;x++)this.words[x]=0;this.length+=D}return this._strip()},w.prototype.ishln=function(p){return P(0===this.negative),this.iushln(p)},w.prototype.iushrn=function(p,E,D){var R;P("number"==typeof p&&p>=0),R=E?(E-E%26)/26:0;var x=p%26,s=Math.min((p-x)/26,this.length),v=67108863^67108863>>>x<<x,$=D;if(R-=s,R=Math.max(0,R),$){for(var F=0;F<s;F++)$.words[F]=this.words[F];$.length=s}if(0!==s)if(this.length>s)for(this.length-=s,F=0;F<this.length;F++)this.words[F]=this.words[F+s];else this.words[0]=0,this.length=1;var Q=0;for(F=this.length-1;F>=0&&(0!==Q||F>=R);F--){var de=0|this.words[F];this.words[F]=Q<<26-x|de>>>x,Q=de&v}return $&&0!==Q&&($.words[$.length++]=Q),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},w.prototype.ishrn=function(p,E,D){return P(0===this.negative),this.iushrn(p,E,D)},w.prototype.shln=function(p){return this.clone().ishln(p)},w.prototype.ushln=function(p){return this.clone().iushln(p)},w.prototype.shrn=function(p){return this.clone().ishrn(p)},w.prototype.ushrn=function(p){return this.clone().iushrn(p)},w.prototype.testn=function(p){P("number"==typeof p&&p>=0);var E=p%26,D=(p-E)/26;return!(this.length<=D||!(this.words[D]&1<<E))},w.prototype.imaskn=function(p){P("number"==typeof p&&p>=0);var E=p%26,D=(p-E)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=D?this:(0!==E&&D++,this.length=Math.min(D,this.length),0!==E&&(this.words[this.length-1]&=67108863^67108863>>>E<<E),this._strip())},w.prototype.maskn=function(p){return this.clone().imaskn(p)},w.prototype.iaddn=function(p){return P("number"==typeof p),P(p<67108864),p<0?this.isubn(-p):0!==this.negative?1===this.length&&(0|this.words[0])<=p?(this.words[0]=p-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},w.prototype._iaddn=function(p){this.words[0]+=p;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},w.prototype.isubn=function(p){if(P("number"==typeof p),P(p<67108864),p<0)return this.iaddn(-p);if(0!==this.negative)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this._strip()},w.prototype.addn=function(p){return this.clone().iaddn(p)},w.prototype.subn=function(p){return this.clone().isubn(p)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(p,E,D){var x;this._expand(p.length+D);var s,v=0;for(x=0;x<p.length;x++){s=(0|this.words[x+D])+v;var $=(0|p.words[x])*E;v=((s-=67108863&$)>>26)-($/67108864|0),this.words[x+D]=67108863&s}for(;x<this.length-D;x++)v=(s=(0|this.words[x+D])+v)>>26,this.words[x+D]=67108863&s;if(0===v)return this._strip();for(P(-1===v),v=0,x=0;x<this.length;x++)v=(s=-(0|this.words[x])+v)>>26,this.words[x]=67108863&s;return this.negative=1,this._strip()},w.prototype._wordDiv=function(p,E){var D,R=this.clone(),x=p,s=0|x.words[x.length-1];0!=(D=26-this._countBits(s))&&(x=x.ushln(D),R.iushln(D),s=0|x.words[x.length-1]);var F,$=R.length-x.length;if("mod"!==E){(F=new w(null)).length=$+1,F.words=new Array(F.length);for(var Q=0;Q<F.length;Q++)F.words[Q]=0}var de=R.clone()._ishlnsubmul(x,1,$);0===de.negative&&(R=de,F&&(F.words[$]=1));for(var De=$-1;De>=0;De--){var Re=67108864*(0|R.words[x.length+De])+(0|R.words[x.length+De-1]);for(Re=Math.min(Re/s|0,67108863),R._ishlnsubmul(x,Re,De);0!==R.negative;)Re--,R.negative=0,R._ishlnsubmul(x,1,De),R.isZero()||(R.negative^=1);F&&(F.words[De]=Re)}return F&&F._strip(),R._strip(),"div"!==E&&0!==D&&R.iushrn(D),{div:F||null,mod:R}},w.prototype.divmod=function(p,E,D){return P(!p.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===p.negative?(s=this.neg().divmod(p,E),"mod"!==E&&(R=s.div.neg()),"div"!==E&&(x=s.mod.neg(),D&&0!==x.negative&&x.iadd(p)),{div:R,mod:x}):0===this.negative&&0!==p.negative?(s=this.divmod(p.neg(),E),"mod"!==E&&(R=s.div.neg()),{div:R,mod:s.mod}):this.negative&p.negative?(s=this.neg().divmod(p.neg(),E),"div"!==E&&(x=s.mod.neg(),D&&0!==x.negative&&x.isub(p)),{div:s.div,mod:x}):p.length>this.length||this.cmp(p)<0?{div:new w(0),mod:this}:1===p.length?"div"===E?{div:this.divn(p.words[0]),mod:null}:"mod"===E?{div:null,mod:new w(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new w(this.modrn(p.words[0]))}:this._wordDiv(p,E);var R,x,s},w.prototype.div=function(p){return this.divmod(p,"div",!1).div},w.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},w.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},w.prototype.divRound=function(p){var E=this.divmod(p);if(E.mod.isZero())return E.div;var D=0!==E.div.negative?E.mod.isub(p):E.mod,R=p.ushrn(1),x=p.andln(1),s=D.cmp(R);return s<0||1===x&&0===s?E.div:0!==E.div.negative?E.div.isubn(1):E.div.iaddn(1)},w.prototype.modrn=function(p){var E=p<0;E&&(p=-p),P(p<=67108863);for(var D=(1<<26)%p,R=0,x=this.length-1;x>=0;x--)R=(D*R+(0|this.words[x]))%p;return E?-R:R},w.prototype.modn=function(p){return this.modrn(p)},w.prototype.idivn=function(p){var E=p<0;E&&(p=-p),P(p<=67108863);for(var D=0,R=this.length-1;R>=0;R--){var x=(0|this.words[R])+67108864*D;this.words[R]=x/p|0,D=x%p}return this._strip(),E?this.ineg():this},w.prototype.divn=function(p){return this.clone().idivn(p)},w.prototype.egcd=function(p){P(0===p.negative),P(!p.isZero());var E=this,D=p.clone();E=0!==E.negative?E.umod(p):E.clone();for(var R=new w(1),x=new w(0),s=new w(0),v=new w(1),$=0;E.isEven()&&D.isEven();)E.iushrn(1),D.iushrn(1),++$;for(var F=D.clone(),Q=E.clone();!E.isZero();){for(var de=0,De=1;!(E.words[0]&De)&&de<26;++de,De<<=1);if(de>0)for(E.iushrn(de);de-- >0;)(R.isOdd()||x.isOdd())&&(R.iadd(F),x.isub(Q)),R.iushrn(1),x.iushrn(1);for(var Re=0,Ve=1;!(D.words[0]&Ve)&&Re<26;++Re,Ve<<=1);if(Re>0)for(D.iushrn(Re);Re-- >0;)(s.isOdd()||v.isOdd())&&(s.iadd(F),v.isub(Q)),s.iushrn(1),v.iushrn(1);E.cmp(D)>=0?(E.isub(D),R.isub(s),x.isub(v)):(D.isub(E),s.isub(R),v.isub(x))}return{a:s,b:v,gcd:D.iushln($)}},w.prototype._invmp=function(p){P(0===p.negative),P(!p.isZero());var de,E=this,D=p.clone();E=0!==E.negative?E.umod(p):E.clone();for(var R=new w(1),x=new w(0),s=D.clone();E.cmpn(1)>0&&D.cmpn(1)>0;){for(var v=0,$=1;!(E.words[0]&$)&&v<26;++v,$<<=1);if(v>0)for(E.iushrn(v);v-- >0;)R.isOdd()&&R.iadd(s),R.iushrn(1);for(var F=0,Q=1;!(D.words[0]&Q)&&F<26;++F,Q<<=1);if(F>0)for(D.iushrn(F);F-- >0;)x.isOdd()&&x.iadd(s),x.iushrn(1);E.cmp(D)>=0?(E.isub(D),R.isub(x)):(D.isub(E),x.isub(R))}return(de=0===E.cmpn(1)?R:x).cmpn(0)<0&&de.iadd(p),de},w.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var E=this.clone(),D=p.clone();E.negative=0,D.negative=0;for(var R=0;E.isEven()&&D.isEven();R++)E.iushrn(1),D.iushrn(1);for(;;){for(;E.isEven();)E.iushrn(1);for(;D.isEven();)D.iushrn(1);var x=E.cmp(D);if(x<0){var s=E;E=D,D=s}else if(0===x||0===D.cmpn(1))break;E.isub(D)}return D.iushln(R)},w.prototype.invm=function(p){return this.egcd(p).a.umod(p)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(p){return this.words[0]&p},w.prototype.bincn=function(p){P("number"==typeof p);var E=p%26,D=(p-E)/26,R=1<<E;if(this.length<=D)return this._expand(D+1),this.words[D]|=R,this;for(var x=R,s=D;0!==x&&s<this.length;s++){var v=0|this.words[s];x=(v+=x)>>>26,this.words[s]=v&=67108863}return 0!==x&&(this.words[s]=x,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(p){var D,E=p<0;if(0!==this.negative&&!E)return-1;if(0===this.negative&&E)return 1;if(this._strip(),this.length>1)D=1;else{E&&(p=-p),P(p<=67108863,"Number is too big");var R=0|this.words[0];D=R===p?0:R<p?-1:1}return 0!==this.negative?0|-D:D},w.prototype.cmp=function(p){if(0!==this.negative&&0===p.negative)return-1;if(0===this.negative&&0!==p.negative)return 1;var E=this.ucmp(p);return 0!==this.negative?0|-E:E},w.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var E=0,D=this.length-1;D>=0;D--){var R=0|this.words[D],x=0|p.words[D];if(R!==x){R<x?E=-1:R>x&&(E=1);break}}return E},w.prototype.gtn=function(p){return 1===this.cmpn(p)},w.prototype.gt=function(p){return 1===this.cmp(p)},w.prototype.gten=function(p){return this.cmpn(p)>=0},w.prototype.gte=function(p){return this.cmp(p)>=0},w.prototype.ltn=function(p){return-1===this.cmpn(p)},w.prototype.lt=function(p){return-1===this.cmp(p)},w.prototype.lten=function(p){return this.cmpn(p)<=0},w.prototype.lte=function(p){return this.cmp(p)<=0},w.prototype.eqn=function(p){return 0===this.cmpn(p)},w.prototype.eq=function(p){return 0===this.cmp(p)},w.red=function(p){return new a(p)},w.prototype.toRed=function(p){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),p.convertTo(this)._forceRed(p)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(p){return this.red=p,this},w.prototype.forceRed=function(p){return P(!this.red,"Already a number in reduction context"),this._forceRed(p)},w.prototype.redAdd=function(p){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},w.prototype.redIAdd=function(p){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},w.prototype.redSub=function(p){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},w.prototype.redISub=function(p){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},w.prototype.redShl=function(p){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},w.prototype.redMul=function(p){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},w.prototype.redIMul=function(p){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(p){return P(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var fe={k256:null,p224:null,p192:null,p25519:null};function he(m,p){this.name=m,this.p=new w(p,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function we(){he.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function Me(){he.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function Pe(){he.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function C(){he.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function a(m){if("string"==typeof m){var p=w._prime(m);this.m=p.p,this.prime=p}else P(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}function d(m){a.call(this,m),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}he.prototype._tmp=function(){var p=new w(null);return p.words=new Array(Math.ceil(this.n/13)),p},he.prototype.ireduce=function(p){var D,E=p;do{this.split(E,this.tmp),D=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength()}while(D>this.n);var R=D<this.n?-1:E.ucmp(this.p);return 0===R?(E.words[0]=0,E.length=1):R>0?E.isub(this.p):void 0!==E.strip?E.strip():E._strip(),E},he.prototype.split=function(p,E){p.iushrn(this.n,0,E)},he.prototype.imulK=function(p){return p.imul(this.k)},H(we,he),we.prototype.split=function(p,E){for(var D=4194303,R=Math.min(p.length,9),x=0;x<R;x++)E.words[x]=p.words[x];if(E.length=R,p.length<=9)return p.words[0]=0,void(p.length=1);var s=p.words[9];for(E.words[E.length++]=s&D,x=10;x<p.length;x++){var v=0|p.words[x];p.words[x-10]=(v&D)<<4|s>>>22,s=v}p.words[x-10]=s>>>=22,p.length-=0===s&&p.length>10?10:9},we.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var E=0,D=0;D<p.length;D++){var R=0|p.words[D];p.words[D]=67108863&(E+=977*R),E=64*R+(E/67108864|0)}return 0===p.words[p.length-1]&&(p.length--,0===p.words[p.length-1]&&p.length--),p},H(Me,he),H(Pe,he),H(C,he),C.prototype.imulK=function(p){for(var E=0,D=0;D<p.length;D++){var R=19*(0|p.words[D])+E,x=67108863&R;R>>>=26,p.words[D]=x,E=R}return 0!==E&&(p.words[p.length++]=E),p},w._prime=function(p){if(fe[p])return fe[p];var E;if("k256"===p)E=new we;else if("p224"===p)E=new Me;else if("p192"===p)E=new Pe;else{if("p25519"!==p)throw new Error("Unknown prime "+p);E=new C}return fe[p]=E,E},a.prototype._verify1=function(p){P(0===p.negative,"red works only with positives"),P(p.red,"red works only with red numbers")},a.prototype._verify2=function(p,E){P(!(p.negative|E.negative),"red works only with positives"),P(p.red&&p.red===E.red,"red works only with red numbers")},a.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(U(p,p.umod(this.m)._forceRed(this)),p)},a.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},a.prototype.add=function(p,E){this._verify2(p,E);var D=p.add(E);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},a.prototype.iadd=function(p,E){this._verify2(p,E);var D=p.iadd(E);return D.cmp(this.m)>=0&&D.isub(this.m),D},a.prototype.sub=function(p,E){this._verify2(p,E);var D=p.sub(E);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},a.prototype.isub=function(p,E){this._verify2(p,E);var D=p.isub(E);return D.cmpn(0)<0&&D.iadd(this.m),D},a.prototype.shl=function(p,E){return this._verify1(p),this.imod(p.ushln(E))},a.prototype.imul=function(p,E){return this._verify2(p,E),this.imod(p.imul(E))},a.prototype.mul=function(p,E){return this._verify2(p,E),this.imod(p.mul(E))},a.prototype.isqr=function(p){return this.imul(p,p.clone())},a.prototype.sqr=function(p){return this.mul(p,p)},a.prototype.sqrt=function(p){if(p.isZero())return p.clone();var E=this.m.andln(3);if(P(E%2==1),3===E){var D=this.m.add(new w(1)).iushrn(2);return this.pow(p,D)}for(var R=this.m.subn(1),x=0;!R.isZero()&&0===R.andln(1);)x++,R.iushrn(1);P(!R.isZero());var s=new w(1).toRed(this),v=s.redNeg(),$=this.m.subn(1).iushrn(1),F=this.m.bitLength();for(F=new w(2*F*F).toRed(this);0!==this.pow(F,$).cmp(v);)F.redIAdd(v);for(var Q=this.pow(F,R),de=this.pow(p,R.addn(1).iushrn(1)),De=this.pow(p,R),Re=x;0!==De.cmp(s);){for(var Ve=De,Ee=0;0!==Ve.cmp(s);Ee++)Ve=Ve.redSqr();P(Ee<Re);var _e=this.pow(Q,new w(1).iushln(Re-Ee-1));de=de.redMul(_e),Q=_e.redSqr(),De=De.redMul(Q),Re=Ee}return de},a.prototype.invm=function(p){var E=p._invmp(this.m);return 0!==E.negative?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},a.prototype.pow=function(p,E){if(E.isZero())return new w(1).toRed(this);if(0===E.cmpn(1))return p.clone();var R=new Array(16);R[0]=new w(1).toRed(this),R[1]=p;for(var x=2;x<R.length;x++)R[x]=this.mul(R[x-1],p);var s=R[0],v=0,$=0,F=E.bitLength()%26;for(0===F&&(F=26),x=E.length-1;x>=0;x--){for(var Q=E.words[x],de=F-1;de>=0;de--){var De=Q>>de&1;s!==R[0]&&(s=this.sqr(s)),0!==De||0!==v?(v<<=1,v|=De,(4==++$||0===x&&0===de)&&(s=this.mul(s,R[v]),$=0,v=0)):$=0}F=26}return s},a.prototype.convertTo=function(p){var E=p.umod(this.m);return E===p?E.clone():E},a.prototype.convertFrom=function(p){var E=p.clone();return E.red=null,E},w.mont=function(p){return new d(p)},H(d,a),d.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},d.prototype.convertFrom=function(p){var E=this.imod(p.mul(this.rinv));return E.red=null,E},d.prototype.imul=function(p,E){if(p.isZero()||E.isZero())return p.words[0]=0,p.length=1,p;var D=p.imul(E),R=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=D.isub(R).iushrn(this.shift),s=x;return x.cmp(this.m)>=0?s=x.isub(this.m):x.cmpn(0)<0&&(s=x.iadd(this.m)),s._forceRed(this)},d.prototype.mul=function(p,E){if(p.isZero()||E.isZero())return new w(0)._forceRed(this);var D=p.mul(E),R=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=D.isub(R).iushrn(this.shift),s=x;return x.cmp(this.m)>=0?s=x.isub(this.m):x.cmpn(0)<0&&(s=x.iadd(this.m)),s._forceRed(this)},d.prototype.invm=function(p){return this.imod(p._invmp(this.m).mul(this.r2))._forceRed(this)}}(We=_.nmd(We),this)},35294:(We,j,_)=>{var y;function b(H){this.rand=H}if(We.exports=function(w){return y||(y=new b(null)),y.generate(w)},We.exports.Rand=b,b.prototype.generate=function(w){return this._rand(w)},b.prototype._rand=function(w){if(this.rand.getBytes)return this.rand.getBytes(w);for(var O=new Uint8Array(w),S=0;S<O.length;S++)O[S]=this.rand.getByte();return O},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?b.prototype._rand=function(w){var O=new Uint8Array(w);return self.crypto.getRandomValues(O),O}:self.msCrypto&&self.msCrypto.getRandomValues?b.prototype._rand=function(w){var O=new Uint8Array(w);return self.msCrypto.getRandomValues(O),O}:"object"==typeof window&&(b.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var P=_(91426);if("function"!=typeof P.randomBytes)throw new Error("Not supported");b.prototype._rand=function(w){return P.randomBytes(w)}}catch{}},23963:(We,j,_)=>{"use strict";const{AbstractLevel:y}=_(75929),b=_(61747),P=_(81725),{fromCallback:H}=_(42381),{Iterator:w}=_(18229),O=_(97899),S=_(19857),B=_(57059),N="level-js-",U=Symbol("idb"),A=Symbol("namePrefix"),G=Symbol("location"),L=Symbol("version"),z=Symbol("store"),ee=Symbol("onComplete"),q=Symbol("promise");j.BrowserLevel=(()=>{class J extends y{constructor(ce,ae,fe){if("function"==typeof ae||"function"==typeof fe)throw new b("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:he,version:we,...Me}=ae||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},Me),"string"!=typeof ce)throw new Error("constructor requires a location string argument");this[G]=ce,this[A]=he??N,this[L]=parseInt(we||1,10),this[U]=null}get location(){return this[G]}get namePrefix(){return this[A]}get version(){return this[L]}get db(){return this[U]}get type(){return"browser-level"}_open(ce,ae){const fe=indexedDB.open(this[A]+this[G],this[L]);fe.onerror=function(){ae(fe.error||new Error("unknown error"))},fe.onsuccess=()=>{this[U]=fe.result,ae()},fe.onupgradeneeded=he=>{const we=he.target.result;we.objectStoreNames.contains(this[G])||we.createObjectStore(this[G])}}[z](ce){return this[U].transaction([this[G]],ce).objectStore(this[G])}[ee](ce,ae){const fe=ce.transaction;fe.onabort=function(){ae(fe.error||new Error("aborted by user"))},fe.oncomplete=function(){ae(null,ce.result)}}_get(ce,ae,fe){const he=this[z]("readonly");let we;try{we=he.get(ce)}catch(Me){return this.nextTick(fe,Me)}this[ee](we,function(Me,Pe){return Me?fe(Me):void 0===Pe?fe(new b("Entry not found",{code:"LEVEL_NOT_FOUND"})):void fe(null,O(Pe))})}_getMany(ce,ae,fe){const he=this[z]("readonly"),we=ce.map(Me=>Pe=>{let C;try{C=he.get(Me)}catch(a){return Pe(a)}C.onsuccess=()=>{const a=C.result;Pe(null,void 0===a?a:O(a))},C.onerror=a=>{a.stopPropagation(),Pe(C.error)}});P(we,16,fe)}_del(ce,ae,fe){const he=this[z]("readwrite");let we;try{we=he.delete(ce)}catch(Me){return this.nextTick(fe,Me)}this[ee](we,fe)}_put(ce,ae,fe,he){const we=this[z]("readwrite");let Me;try{Me=we.put(ae,ce)}catch(Pe){return this.nextTick(he,Pe)}this[ee](Me,he)}_iterator(ce){return new w(this,this[G],ce)}_batch(ce,ae,fe){const he=this[z]("readwrite"),we=he.transaction;let Pe,Me=0;we.onabort=function(){fe(Pe||we.error||new Error("aborted by user"))},we.oncomplete=function(){fe()},function C(){const a=ce[Me++],d=a.key;let m;try{m="del"===a.type?he.delete(d):he.put(a.value,d)}catch(p){return Pe=p,void we.abort()}Me<ce.length?m.onsuccess=C:"function"==typeof we.commit&&we.commit()}()}_clear(ce,ae){let fe,he;try{fe=B(ce)}catch{return this.nextTick(ae)}if(ce.limit>=0)return S(this,this[G],fe,ce,ae);try{const we=this[z]("readwrite");he=fe?we.delete(fe):we.clear()}catch(we){return this.nextTick(ae,we)}this[ee](he,ae)}_close(ce){this[U].close(),this.nextTick(ce)}}return J.destroy=function(se,ce,ae){"function"==typeof ce&&(ae=ce,ce=N),ae=H(ae,q);const fe=indexedDB.deleteDatabase(ce+se);return fe.onsuccess=function(){ae()},fe.onerror=function(he){ae(he)},ae[q]},J})()},18229:(We,j,_)=>{"use strict";const{AbstractIterator:y}=_(75929),b=_(57059),P=_(97899),H=Symbol("cache"),w=Symbol("finished"),O=Symbol("options"),S=Symbol("currentOptions"),B=Symbol("position"),N=Symbol("location"),U=Symbol("first"),A={};function L(z){"function"==typeof z.commit&&z.commit()}j.Iterator=class G extends y{constructor(ee,q,Z){super(ee,Z),this[H]=[],this[w]=0===this.limit,this[O]=Z,this[S]={...Z},this[B]=void 0,this[N]=q,this[U]=!0}_nextv(ee,q,Z){if(this[U]=!1,this[w])return this.nextTick(Z,null,[]);if(this[H].length>0)return ee=Math.min(ee,this[H].length),this.nextTick(Z,null,this[H].splice(0,ee));let J;void 0!==this[B]&&(this[O].reverse?(this[S].lt=this[B],this[S].lte=void 0):(this[S].gt=this[B],this[S].gte=void 0));try{J=b(this[S])}catch{return this[w]=!0,this.nextTick(Z,null,[])}const se=this.db.db.transaction([this[N]],"readonly"),ce=se.objectStore(this[N]),ae=[];if(this[O].reverse)ce[!this[O].values&&ce.openKeyCursor?"openKeyCursor":"openCursor"](J,"prev").onsuccess=he=>{const we=he.target.result;if(we){const{key:Me,value:Pe}=we;this[B]=Me,ae.push([this[O].keys&&void 0!==Me?P(Me):void 0,this[O].values&&void 0!==Pe?P(Pe):void 0]),ae.length<ee?we.continue():L(se)}else this[w]=!0};else{let fe,he;const we=()=>{if(void 0===fe||void 0===he)return;const Me=Math.max(fe.length,he.length);0===Me||ee===1/0?this[w]=!0:this[B]=fe[Me-1],ae.length=Me;for(let Pe=0;Pe<Me;Pe++){const C=fe[Pe],a=he[Pe];ae[Pe]=[this[O].keys&&void 0!==C?P(C):void 0,this[O].values&&void 0!==a?P(a):void 0]}L(se)};this[O].keys||ee<1/0?ce.getAllKeys(J,ee<1/0?ee:void 0).onsuccess=Me=>{fe=Me.target.result,we()}:(fe=[],this.nextTick(we)),this[O].values?ce.getAll(J,ee<1/0?ee:void 0).onsuccess=Me=>{he=Me.target.result,we()}:(he=[],this.nextTick(we))}se.onabort=()=>{Z(se.error||new Error("aborted by user")),Z=null},se.oncomplete=()=>{Z(null,ae),Z=null}}_next(ee){if(this[H].length>0){const[q,Z]=this[H].shift();this.nextTick(ee,null,q,Z)}else if(this[w])this.nextTick(ee);else{let q=Math.min(100,this.limit-this.count);this[U]&&(this[U]=!1,q=1),this._nextv(q,A,(Z,J)=>{if(Z)return ee(Z);this[H]=J,this._next(ee)})}}_all(ee,q){this[U]=!1;const Z=this[H].splice(0,this[H].length),J=this.limit-this.count-Z.length;if(J<=0)return this.nextTick(q,null,Z);this._nextv(J,A,(se,ce)=>{if(se)return q(se);Z.length>0&&(ce=Z.concat(ce)),q(null,ce)})}_seek(ee,q){let Z;this[U]=!0,this[H]=[],this[w]=!1,this[B]=void 0,this[S]={...this[O]};try{Z=b(this[O])}catch{return void(this[w]=!0)}null===Z||Z.includes(ee)?this[O].reverse?this[S].lte=ee:this[S].gte=ee:this[w]=!0}}},19857:We=>{"use strict";We.exports=function(_,y,b,P,H){if(0===P.limit)return _.nextTick(H);const w=_.db.transaction([y],"readwrite"),O=w.objectStore(y);let S=0;w.oncomplete=function(){H()},w.onabort=function(){H(w.error||new Error("aborted by user"))},O[O.openKeyCursor?"openKeyCursor":"openCursor"](b,P.reverse?"prev":"next").onsuccess=function(U){const A=U.target.result;A&&(O.delete(A.key).onsuccess=function(){(P.limit<=0||++S<P.limit)&&A.continue()})}}},97899:We=>{"use strict";const j=new TextEncoder;We.exports=function(_){return _ instanceof Uint8Array?_:_ instanceof ArrayBuffer?new Uint8Array(_):j.encode(_)}},57059:We=>{"use strict";We.exports=function(_){const y=void 0!==_.gte?_.gte:void 0!==_.gt?_.gt:void 0,b=void 0!==_.lte?_.lte:void 0!==_.lt?_.lt:void 0,P=void 0===_.gte,H=void 0===_.lte;return void 0!==y&&void 0!==b?IDBKeyRange.bound(y,b,P,H):void 0!==y?IDBKeyRange.lowerBound(y,P):void 0!==b?IDBKeyRange.upperBound(b,H):null}},12375:(We,j,_)=>{var y=_(27054).Buffer;function b(B){y.isBuffer(B)||(B=y.from(B));for(var N=B.length/4|0,U=new Array(N),A=0;A<N;A++)U[A]=B.readUInt32BE(4*A);return U}function P(B){for(;0<B.length;B++)B[0]=0}function H(B,N,U,A,G){for(var ae,fe,he,we,L=U[0],z=U[1],ee=U[2],q=U[3],Z=B[0]^N[0],J=B[1]^N[1],se=B[2]^N[2],ce=B[3]^N[3],Me=4,Pe=1;Pe<G;Pe++)ae=L[Z>>>24]^z[J>>>16&255]^ee[se>>>8&255]^q[255&ce]^N[Me++],fe=L[J>>>24]^z[se>>>16&255]^ee[ce>>>8&255]^q[255&Z]^N[Me++],he=L[se>>>24]^z[ce>>>16&255]^ee[Z>>>8&255]^q[255&J]^N[Me++],we=L[ce>>>24]^z[Z>>>16&255]^ee[J>>>8&255]^q[255&se]^N[Me++],Z=ae,J=fe,se=he,ce=we;return ae=(A[Z>>>24]<<24|A[J>>>16&255]<<16|A[se>>>8&255]<<8|A[255&ce])^N[Me++],fe=(A[J>>>24]<<24|A[se>>>16&255]<<16|A[ce>>>8&255]<<8|A[255&Z])^N[Me++],he=(A[se>>>24]<<24|A[ce>>>16&255]<<16|A[Z>>>8&255]<<8|A[255&J])^N[Me++],we=(A[ce>>>24]<<24|A[Z>>>16&255]<<16|A[J>>>8&255]<<8|A[255&se])^N[Me++],[ae>>>=0,fe>>>=0,he>>>=0,we>>>=0]}var w=[0,1,2,4,8,16,32,64,128,27,54],O=function(){for(var B=new Array(256),N=0;N<256;N++)B[N]=N<128?N<<1:N<<1^283;for(var U=[],A=[],G=[[],[],[],[]],L=[[],[],[],[]],z=0,ee=0,q=0;q<256;++q){var Z=ee^ee<<1^ee<<2^ee<<3^ee<<4;U[z]=Z=Z>>>8^255&Z^99,A[Z]=z;var J=B[z],se=B[J],ce=B[se],ae=257*B[Z]^16843008*Z;G[0][z]=ae<<24|ae>>>8,G[1][z]=ae<<16|ae>>>16,G[2][z]=ae<<8|ae>>>24,G[3][z]=ae,L[0][Z]=(ae=16843009*ce^65537*se^257*J^16843008*z)<<24|ae>>>8,L[1][Z]=ae<<16|ae>>>16,L[2][Z]=ae<<8|ae>>>24,L[3][Z]=ae,0===z?z=ee=1:(z=J^B[B[B[ce^J]]],ee^=B[B[ee]])}return{SBOX:U,INV_SBOX:A,SUB_MIX:G,INV_SUB_MIX:L}}();function S(B){this._key=b(B),this._reset()}S.blockSize=16,S.keySize=32,S.prototype.blockSize=S.blockSize,S.prototype.keySize=S.keySize,S.prototype._reset=function(){for(var B=this._key,N=B.length,U=N+6,A=4*(U+1),G=[],L=0;L<N;L++)G[L]=B[L];for(L=N;L<A;L++){var z=G[L-1];L%N==0?(z=O.SBOX[(z=z<<8|z>>>24)>>>24]<<24|O.SBOX[z>>>16&255]<<16|O.SBOX[z>>>8&255]<<8|O.SBOX[255&z],z^=w[L/N|0]<<24):N>6&&L%N==4&&(z=O.SBOX[z>>>24]<<24|O.SBOX[z>>>16&255]<<16|O.SBOX[z>>>8&255]<<8|O.SBOX[255&z]),G[L]=G[L-N]^z}for(var ee=[],q=0;q<A;q++){var Z=A-q,J=G[Z-(q%4?0:4)];ee[q]=q<4||Z<=4?J:O.INV_SUB_MIX[0][O.SBOX[J>>>24]]^O.INV_SUB_MIX[1][O.SBOX[J>>>16&255]]^O.INV_SUB_MIX[2][O.SBOX[J>>>8&255]]^O.INV_SUB_MIX[3][O.SBOX[255&J]]}this._nRounds=U,this._keySchedule=G,this._invKeySchedule=ee},S.prototype.encryptBlockRaw=function(B){return H(B=b(B),this._keySchedule,O.SUB_MIX,O.SBOX,this._nRounds)},S.prototype.encryptBlock=function(B){var N=this.encryptBlockRaw(B),U=y.allocUnsafe(16);return U.writeUInt32BE(N[0],0),U.writeUInt32BE(N[1],4),U.writeUInt32BE(N[2],8),U.writeUInt32BE(N[3],12),U},S.prototype.decryptBlock=function(B){var N=(B=b(B))[1];B[1]=B[3],B[3]=N;var U=H(B,this._invKeySchedule,O.INV_SUB_MIX,O.INV_SBOX,this._nRounds),A=y.allocUnsafe(16);return A.writeUInt32BE(U[0],0),A.writeUInt32BE(U[3],4),A.writeUInt32BE(U[2],8),A.writeUInt32BE(U[1],12),A},S.prototype.scrub=function(){P(this._keySchedule),P(this._invKeySchedule),P(this._key)},We.exports.AES=S},19307:(We,j,_)=>{var y=_(12375),b=_(27054).Buffer,P=_(3247),H=_(71993),w=_(85917),O=_(13546),S=_(95725);function U(A,G,L,z){P.call(this);var ee=b.alloc(4,0);this._cipher=new y.AES(G);var q=this._cipher.encryptBlock(ee);this._ghash=new w(q),L=function N(A,G,L){if(12===G.length)return A._finID=b.concat([G,b.from([0,0,0,1])]),b.concat([G,b.from([0,0,0,2])]);var z=new w(L),ee=G.length,q=ee%16;z.update(G),q&&z.update(b.alloc(q=16-q,0)),z.update(b.alloc(8,0));var Z=8*ee,J=b.alloc(8);J.writeUIntBE(Z,0,8),z.update(J),A._finID=z.state;var se=b.from(A._finID);return S(se),se}(this,L,q),this._prev=b.from(L),this._cache=b.allocUnsafe(0),this._secCache=b.allocUnsafe(0),this._decrypt=z,this._alen=0,this._len=0,this._mode=A,this._authTag=null,this._called=!1}H(U,P),U.prototype._update=function(A){if(!this._called&&this._alen){var G=16-this._alen%16;G<16&&(G=b.alloc(G,0),this._ghash.update(G))}this._called=!0;var L=this._mode.encrypt(this,A);return this._ghash.update(this._decrypt?A:L),this._len+=A.length,L},U.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var A=O(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function B(A,G){var L=0;A.length!==G.length&&L++;for(var z=Math.min(A.length,G.length),ee=0;ee<z;++ee)L+=A[ee]^G[ee];return L}(A,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=A,this._cipher.scrub()},U.prototype.getAuthTag=function(){if(this._decrypt||!b.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},U.prototype.setAuthTag=function(G){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=G},U.prototype.setAAD=function(G){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(G),this._alen+=G.length},We.exports=U},43388:(We,j,_)=>{var y=_(350),b=_(60102),P=_(3219);j.createCipher=j.Cipher=y.createCipher,j.createCipheriv=j.Cipheriv=y.createCipheriv,j.createDecipher=j.Decipher=b.createDecipher,j.createDecipheriv=j.Decipheriv=b.createDecipheriv,j.listCiphers=j.getCiphers=function H(){return Object.keys(P)}},60102:(We,j,_)=>{var y=_(19307),b=_(27054).Buffer,P=_(60503),H=_(91821),w=_(3247),O=_(12375),S=_(18211);function N(z,ee,q){w.call(this),this._cache=new U,this._last=void 0,this._cipher=new O.AES(ee),this._prev=b.from(q),this._mode=z,this._autopadding=!0}function U(){this.cache=b.allocUnsafe(0)}function G(z,ee,q){var Z=P[z.toLowerCase()];if(!Z)throw new TypeError("invalid suite type");if("string"==typeof q&&(q=b.from(q)),"GCM"!==Z.mode&&q.length!==Z.iv)throw new TypeError("invalid iv length "+q.length);if("string"==typeof ee&&(ee=b.from(ee)),ee.length!==Z.key/8)throw new TypeError("invalid key length "+ee.length);return"stream"===Z.type?new H(Z.module,ee,q,!0):"auth"===Z.type?new y(Z.module,ee,q,!0):new N(Z.module,ee,q)}_(71993)(N,w),N.prototype._update=function(z){this._cache.add(z);for(var ee,q,Z=[];ee=this._cache.get(this._autopadding);)q=this._mode.decrypt(this,ee),Z.push(q);return b.concat(Z)},N.prototype._final=function(){var z=this._cache.flush();if(this._autopadding)return function A(z){var ee=z[15];if(ee<1||ee>16)throw new Error("unable to decrypt data");for(var q=-1;++q<ee;)if(z[q+(16-ee)]!==ee)throw new Error("unable to decrypt data");if(16!==ee)return z.slice(0,16-ee)}(this._mode.decrypt(this,z));if(z)throw new Error("data not multiple of block length")},N.prototype.setAutoPadding=function(z){return this._autopadding=!!z,this},U.prototype.add=function(z){this.cache=b.concat([this.cache,z])},U.prototype.get=function(z){var ee;if(z){if(this.cache.length>16)return ee=this.cache.slice(0,16),this.cache=this.cache.slice(16),ee}else if(this.cache.length>=16)return ee=this.cache.slice(0,16),this.cache=this.cache.slice(16),ee;return null},U.prototype.flush=function(){if(this.cache.length)return this.cache},j.createDecipher=function L(z,ee){var q=P[z.toLowerCase()];if(!q)throw new TypeError("invalid suite type");var Z=S(ee,!1,q.key,q.iv);return G(z,Z.key,Z.iv)},j.createDecipheriv=G},350:(We,j,_)=>{var y=_(60503),b=_(19307),P=_(27054).Buffer,H=_(91821),w=_(3247),O=_(12375),S=_(18211);function N(z,ee,q){w.call(this),this._cache=new A,this._cipher=new O.AES(ee),this._prev=P.from(q),this._mode=z,this._autopadding=!0}_(71993)(N,w),N.prototype._update=function(z){this._cache.add(z);for(var ee,q,Z=[];ee=this._cache.get();)q=this._mode.encrypt(this,ee),Z.push(q);return P.concat(Z)};var U=P.alloc(16,16);function A(){this.cache=P.allocUnsafe(0)}function G(z,ee,q){var Z=y[z.toLowerCase()];if(!Z)throw new TypeError("invalid suite type");if("string"==typeof ee&&(ee=P.from(ee)),ee.length!==Z.key/8)throw new TypeError("invalid key length "+ee.length);if("string"==typeof q&&(q=P.from(q)),"GCM"!==Z.mode&&q.length!==Z.iv)throw new TypeError("invalid iv length "+q.length);return"stream"===Z.type?new H(Z.module,ee,q):"auth"===Z.type?new b(Z.module,ee,q):new N(Z.module,ee,q)}N.prototype._final=function(){var z=this._cache.flush();if(this._autopadding)return z=this._mode.encrypt(this,z),this._cipher.scrub(),z;if(!z.equals(U))throw this._cipher.scrub(),new Error("data not multiple of block length")},N.prototype.setAutoPadding=function(z){return this._autopadding=!!z,this},A.prototype.add=function(z){this.cache=P.concat([this.cache,z])},A.prototype.get=function(){if(this.cache.length>15){var z=this.cache.slice(0,16);return this.cache=this.cache.slice(16),z}return null},A.prototype.flush=function(){for(var z=16-this.cache.length,ee=P.allocUnsafe(z),q=-1;++q<z;)ee.writeUInt8(z,q);return P.concat([this.cache,ee])},j.createCipheriv=G,j.createCipher=function L(z,ee){var q=y[z.toLowerCase()];if(!q)throw new TypeError("invalid suite type");var Z=S(ee,!1,q.key,q.iv);return G(z,Z.key,Z.iv)}},85917:(We,j,_)=>{var y=_(27054).Buffer,b=y.alloc(16,0);function H(O){var S=y.allocUnsafe(16);return S.writeUInt32BE(O[0]>>>0,0),S.writeUInt32BE(O[1]>>>0,4),S.writeUInt32BE(O[2]>>>0,8),S.writeUInt32BE(O[3]>>>0,12),S}function w(O){this.h=O,this.state=y.alloc(16,0),this.cache=y.allocUnsafe(0)}w.prototype.ghash=function(O){for(var S=-1;++S<O.length;)this.state[S]^=O[S];this._multiply()},w.prototype._multiply=function(){for(var B,U,O=function P(O){return[O.readUInt32BE(0),O.readUInt32BE(4),O.readUInt32BE(8),O.readUInt32BE(12)]}(this.h),S=[0,0,0,0],A=-1;++A<128;){for(!!(this.state[~~(A/8)]&1<<7-A%8)&&(S[0]^=O[0],S[1]^=O[1],S[2]^=O[2],S[3]^=O[3]),U=!!(1&O[3]),B=3;B>0;B--)O[B]=O[B]>>>1|(1&O[B-1])<<31;O[0]=O[0]>>>1,U&&(O[0]=O[0]^225<<24)}this.state=H(S)},w.prototype.update=function(O){this.cache=y.concat([this.cache,O]);for(var S;this.cache.length>=16;)S=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(S)},w.prototype.final=function(O,S){return this.cache.length&&this.ghash(y.concat([this.cache,b],16)),this.ghash(H([0,O,0,S])),this.state},We.exports=w},95725:We=>{We.exports=function j(_){for(var b,y=_.length;y--;){if(255!==(b=_.readUInt8(y))){b++,_.writeUInt8(b,y);break}_.writeUInt8(0,y)}}},34133:(We,j,_)=>{var y=_(13546);j.encrypt=function(b,P){var H=y(P,b._prev);return b._prev=b._cipher.encryptBlock(H),b._prev},j.decrypt=function(b,P){var H=b._prev;b._prev=P;var w=b._cipher.decryptBlock(P);return y(w,H)}},17090:(We,j,_)=>{var y=_(27054).Buffer,b=_(13546);function P(H,w,O){var S=w.length,B=b(w,H._cache);return H._cache=H._cache.slice(S),H._prev=y.concat([H._prev,O?w:B]),B}j.encrypt=function(H,w,O){for(var B,S=y.allocUnsafe(0);w.length;){if(0===H._cache.length&&(H._cache=H._cipher.encryptBlock(H._prev),H._prev=y.allocUnsafe(0)),!(H._cache.length<=w.length)){S=y.concat([S,P(H,w,O)]);break}S=y.concat([S,P(H,w.slice(0,B=H._cache.length),O)]),w=w.slice(B)}return S}},71039:(We,j,_)=>{var y=_(27054).Buffer;function b(H,w,O){for(var A,G,B=-1,U=0;++B<8;)U+=(128&(G=H._cipher.encryptBlock(H._prev)[0]^(A=w&1<<7-B?128:0)))>>B%8,H._prev=P(H._prev,O?A:G);return U}function P(H,w){var O=H.length,S=-1,B=y.allocUnsafe(H.length);for(H=y.concat([H,y.from([w])]);++S<O;)B[S]=H[S]<<1|H[S+1]>>7;return B}j.encrypt=function(H,w,O){for(var S=w.length,B=y.allocUnsafe(S),N=-1;++N<S;)B[N]=b(H,w[N],O);return B}},72576:(We,j,_)=>{var y=_(27054).Buffer;function b(P,H,w){var S=P._cipher.encryptBlock(P._prev)[0]^H;return P._prev=y.concat([P._prev.slice(1),y.from([w?H:S])]),S}j.encrypt=function(P,H,w){for(var O=H.length,S=y.allocUnsafe(O),B=-1;++B<O;)S[B]=b(P,H[B],w);return S}},70336:(We,j,_)=>{var y=_(13546),b=_(27054).Buffer,P=_(95725);function H(O){var S=O._cipher.encryptBlockRaw(O._prev);return P(O._prev),S}j.encrypt=function(O,S){var B=Math.ceil(S.length/16),N=O._cache.length;O._cache=b.concat([O._cache,b.allocUnsafe(16*B)]);for(var U=0;U<B;U++){var A=H(O),G=N+16*U;O._cache.writeUInt32BE(A[0],G+0),O._cache.writeUInt32BE(A[1],G+4),O._cache.writeUInt32BE(A[2],G+8),O._cache.writeUInt32BE(A[3],G+12)}var L=O._cache.slice(0,S.length);return O._cache=O._cache.slice(S.length),y(S,L)}},37513:(We,j)=>{j.encrypt=function(_,y){return _._cipher.encryptBlock(y)},j.decrypt=function(_,y){return _._cipher.decryptBlock(y)}},60503:(We,j,_)=>{var y={ECB:_(37513),CBC:_(34133),CFB:_(17090),CFB8:_(72576),CFB1:_(71039),OFB:_(46854),CTR:_(70336),GCM:_(70336)},b=_(3219);for(var P in b)b[P].module=y[b[P].mode];We.exports=b},46854:(We,j,_)=>{var y=_(13546);function b(P){return P._prev=P._cipher.encryptBlock(P._prev),P._prev}j.encrypt=function(P,H){for(;P._cache.length<H.length;)P._cache=Buffer.concat([P._cache,b(P)]);var w=P._cache.slice(0,H.length);return P._cache=P._cache.slice(H.length),y(H,w)}},91821:(We,j,_)=>{var y=_(12375),b=_(27054).Buffer,P=_(3247);function w(O,S,B,N){P.call(this),this._cipher=new y.AES(S),this._prev=b.from(B),this._cache=b.allocUnsafe(0),this._secCache=b.allocUnsafe(0),this._decrypt=N,this._mode=O}_(71993)(w,P),w.prototype._update=function(O){return this._mode.encrypt(this,O,this._decrypt)},w.prototype._final=function(){this._cipher.scrub()},We.exports=w},88862:(We,j,_)=>{var y=_(39799),b=_(43388),P=_(60503),H=_(59571),w=_(18211);function B(A,G,L){if(A=A.toLowerCase(),P[A])return b.createCipheriv(A,G,L);if(H[A])return new y({key:G,iv:L,mode:A});throw new TypeError("invalid suite type")}function N(A,G,L){if(A=A.toLowerCase(),P[A])return b.createDecipheriv(A,G,L);if(H[A])return new y({key:G,iv:L,mode:A,decrypt:!0});throw new TypeError("invalid suite type")}j.createCipher=j.Cipher=function O(A,G){var L,z;if(A=A.toLowerCase(),P[A])L=P[A].key,z=P[A].iv;else{if(!H[A])throw new TypeError("invalid suite type");L=8*H[A].key,z=H[A].iv}var ee=w(G,!1,L,z);return B(A,ee.key,ee.iv)},j.createCipheriv=j.Cipheriv=B,j.createDecipher=j.Decipher=function S(A,G){var L,z;if(A=A.toLowerCase(),P[A])L=P[A].key,z=P[A].iv;else{if(!H[A])throw new TypeError("invalid suite type");L=8*H[A].key,z=H[A].iv}var ee=w(G,!1,L,z);return N(A,ee.key,ee.iv)},j.createDecipheriv=j.Decipheriv=N,j.listCiphers=j.getCiphers=function U(){return Object.keys(H).concat(b.getCiphers())}},39799:(We,j,_)=>{var y=_(3247),b=_(71549),P=_(71993),H=_(27054).Buffer,w={"des-ede3-cbc":b.CBC.instantiate(b.EDE),"des-ede3":b.EDE,"des-ede-cbc":b.CBC.instantiate(b.EDE),"des-ede":b.EDE,"des-cbc":b.CBC.instantiate(b.DES),"des-ecb":b.DES};function O(S){y.call(this);var U,B=S.mode.toLowerCase(),N=w[B];U=S.decrypt?"decrypt":"encrypt";var A=S.key;H.isBuffer(A)||(A=H.from(A)),("des-ede"===B||"des-ede-cbc"===B)&&(A=H.concat([A,A.slice(0,8)]));var G=S.iv;H.isBuffer(G)||(G=H.from(G)),this._des=N.create({key:A,iv:G,type:U})}w.des=w["des-cbc"],w.des3=w["des-ede3-cbc"],We.exports=O,P(O,y),O.prototype._update=function(S){return H.from(this._des.update(S))},O.prototype._final=function(){return H.from(this._des.final())}},59571:(We,j)=>{j["des-ecb"]={key:8,iv:0},j["des-cbc"]=j.des={key:8,iv:8},j["des-ede3-cbc"]=j.des3={key:24,iv:8},j["des-ede3"]={key:24,iv:0},j["des-ede-cbc"]={key:16,iv:8},j["des-ede"]={key:16,iv:0}},14105:(We,j,_)=>{var y=_(917),b=_(3342);function H(O){var B,S=O.modulus.byteLength();do{B=new y(b(S))}while(B.cmp(O.modulus)>=0||!B.umod(O.prime1)||!B.umod(O.prime2));return B}function w(O,S){var B=function P(O){var S=H(O);return{blinder:S.toRed(y.mont(O.modulus)).redPow(new y(O.publicExponent)).fromRed(),unblinder:S.invm(O.modulus)}}(S),N=S.modulus.byteLength(),U=new y(O).mul(B.blinder).umod(S.modulus),A=U.toRed(y.mont(S.prime1)),G=U.toRed(y.mont(S.prime2)),L=S.coefficient,z=S.prime1,ee=S.prime2,q=A.redPow(S.exponent1).fromRed(),Z=G.redPow(S.exponent2).fromRed(),J=q.isub(Z).imul(L).umod(z).imul(ee);return Z.iadd(J).imul(B.unblinder).umod(S.modulus).toArrayLike(Buffer,"be",N)}w.getr=H,We.exports=w},99560:(We,j,_)=>{"use strict";We.exports=_(62951)},79143:(We,j,_)=>{"use strict";var y=_(27054).Buffer,b=_(67211),P=_(64670),H=_(71993),w=_(43150),O=_(74754),S=_(62951);function B(G){P.Writable.call(this);var L=S[G];if(!L)throw new Error("Unknown message digest");this._hashType=L.hash,this._hash=b(L.hash),this._tag=L.id,this._signType=L.sign}function N(G){P.Writable.call(this);var L=S[G];if(!L)throw new Error("Unknown message digest");this._hash=b(L.hash),this._tag=L.id,this._signType=L.sign}function U(G){return new B(G)}function A(G){return new N(G)}Object.keys(S).forEach(function(G){S[G].id=y.from(S[G].id,"hex"),S[G.toLowerCase()]=S[G]}),H(B,P.Writable),B.prototype._write=function(L,z,ee){this._hash.update(L),ee()},B.prototype.update=function(L,z){return this._hash.update("string"==typeof L?y.from(L,z):L),this},B.prototype.sign=function(L,z){this.end();var ee=this._hash.digest(),q=w(ee,L,this._hashType,this._signType,this._tag);return z?q.toString(z):q},H(N,P.Writable),N.prototype._write=function(L,z,ee){this._hash.update(L),ee()},N.prototype.update=function(L,z){return this._hash.update("string"==typeof L?y.from(L,z):L),this},N.prototype.verify=function(L,z,ee){var q="string"==typeof z?y.from(z,ee):z;this.end();var Z=this._hash.digest();return O(q,Z,L,this._signType,this._tag)},We.exports={Sign:U,Verify:A,createSign:U,createVerify:A}},43150:(We,j,_)=>{"use strict";var y=_(27054).Buffer,b=_(56432),P=_(14105),H=_(90518).ec,w=_(917),O=_(65667),S=_(64589);function L(J,se,ce,ae){if((J=y.from(J.toArray())).length<se.byteLength()){var fe=y.alloc(se.byteLength()-J.length);J=y.concat([fe,J])}var he=ce.length,we=function ee(J,se){J=(J=z(J,se)).mod(se);var ce=y.from(J.toArray());if(ce.length<se.byteLength()){var ae=y.alloc(se.byteLength()-ce.length);ce=y.concat([ae,ce])}return ce}(ce,se),Me=y.alloc(he);Me.fill(1);var Pe=y.alloc(he);return Pe=b(ae,Pe).update(Me).update(y.from([0])).update(J).update(we).digest(),Me=b(ae,Pe).update(Me).digest(),{k:Pe=b(ae,Pe).update(Me).update(y.from([1])).update(J).update(we).digest(),v:Me=b(ae,Pe).update(Me).digest()}}function z(J,se){var ce=new w(J),ae=(J.length<<3)-se.bitLength();return ae>0&&ce.ishrn(ae),ce}function q(J,se,ce){var ae,fe;do{for(ae=y.alloc(0);8*ae.length<J.bitLength();)se.v=b(ce,se.k).update(se.v).digest(),ae=y.concat([ae,se.v]);fe=z(ae,J),se.k=b(ce,se.k).update(se.v).update(y.from([0])).digest(),se.v=b(ce,se.k).update(se.v).digest()}while(-1!==fe.cmp(J));return fe}function Z(J,se,ce,ae){return J.toRed(w.mont(ce)).redPow(se).fromRed().mod(ae)}We.exports=function N(J,se,ce,ae,fe){var he=O(se);if(he.curve){if("ecdsa"!==ae&&"ecdsa/rsa"!==ae)throw new Error("wrong private key type");return function U(J,se){var ce=S[se.curve.join(".")];if(!ce)throw new Error("unknown curve "+se.curve.join("."));var he=new H(ce).keyFromPrivate(se.privateKey).sign(J);return y.from(he.toDER())}(J,he)}if("dsa"===he.type){if("dsa"!==ae)throw new Error("wrong private key type");return function A(J,se,ce){for(var Pe,ae=se.params.priv_key,fe=se.params.p,he=se.params.q,we=se.params.g,Me=new w(0),C=z(J,he).mod(he),a=!1,d=L(ae,he,J,ce);!1===a;)Me=Z(we,Pe=q(he,d,ce),fe,he),0===(a=Pe.invm(he).imul(C.add(ae.mul(Me))).mod(he)).cmpn(0)&&(a=!1,Me=new w(0));return function G(J,se){J=J.toArray(),se=se.toArray(),128&J[0]&&(J=[0].concat(J)),128&se[0]&&(se=[0].concat(se));var ae=[48,J.length+se.length+4,2,J.length];return ae=ae.concat(J,[2,se.length],se),y.from(ae)}(Me,a)}(J,he,ce)}if("rsa"!==ae&&"ecdsa/rsa"!==ae)throw new Error("wrong private key type");if(void 0!==se.padding&&1!==se.padding)throw new Error("illegal or unsupported padding mode");J=y.concat([fe,J]);for(var we=he.modulus.byteLength(),Me=[0,1];J.length+Me.length+1<we;)Me.push(255);Me.push(0);for(var Pe=-1;++Pe<J.length;)Me.push(J[Pe]);return P(Me,he)},We.exports.getKey=L,We.exports.makeKey=q},74754:(We,j,_)=>{"use strict";var y=_(27054).Buffer,b=_(917),P=_(90518).ec,H=_(65667),w=_(64589);function N(U,A){if(U.cmpn(0)<=0)throw new Error("invalid sig");if(U.cmp(A)>=0)throw new Error("invalid sig")}We.exports=function O(U,A,G,L,z){var ee=H(G);if("ec"===ee.type){if("ecdsa"!==L&&"ecdsa/rsa"!==L)throw new Error("wrong public key type");return function S(U,A,G){var L=w[G.data.algorithm.curve.join(".")];if(!L)throw new Error("unknown curve "+G.data.algorithm.curve.join("."));return new P(L).verify(A,U,G.data.subjectPrivateKey.data)}(U,A,ee)}if("dsa"===ee.type){if("dsa"!==L)throw new Error("wrong public key type");return function B(U,A,G){var L=G.data.p,z=G.data.q,ee=G.data.g,q=G.data.pub_key,Z=H.signature.decode(U,"der"),J=Z.s,se=Z.r;N(J,z),N(se,z);var ce=b.mont(L),ae=J.invm(z);return 0===ee.toRed(ce).redPow(new b(A).mul(ae).mod(z)).fromRed().mul(q.toRed(ce).redPow(se.mul(ae).mod(z)).fromRed()).mod(L).mod(z).cmp(se)}(U,A,ee)}if("rsa"!==L&&"ecdsa/rsa"!==L)throw new Error("wrong public key type");A=y.concat([z,A]);for(var q=ee.modulus.byteLength(),Z=[1],J=0;A.length+Z.length+2<q;)Z.push(255),J+=1;Z.push(0);for(var se=-1;++se<A.length;)Z.push(A[se]);Z=y.from(Z);var ce=b.mont(ee.modulus);U=(U=new b(U).toRed(ce)).redPow(new b(ee.publicExponent)),U=y.from(U.fromRed().toArray());var ae=J<8?1:0;for(q=Math.min(U.length,Z.length),U.length!==Z.length&&(ae=1),se=-1;++se<q;)ae|=U[se]^Z[se];return 0===ae}},23827:(We,j,_)=>{"use strict";var y=_(9656),b=Object.keys||function(G){var L=[];for(var z in G)L.push(z);return L};We.exports=N;var P=Object.create(_(27637));P.inherits=_(71993);var H=_(81217),w=_(14817);P.inherits(N,H);for(var O=b(w.prototype),S=0;S<O.length;S++){var B=O[S];N.prototype[B]||(N.prototype[B]=w.prototype[B])}function N(G){if(!(this instanceof N))return new N(G);H.call(this,G),w.call(this,G),G&&!1===G.readable&&(this.readable=!1),G&&!1===G.writable&&(this.writable=!1),this.allowHalfOpen=!0,G&&!1===G.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",U)}function U(){this.allowHalfOpen||this._writableState.ended||y.nextTick(A,this)}function A(G){G.end()}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(N.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(G){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=G,this._writableState.destroyed=G)}}),N.prototype._destroy=function(G,L){this.push(null),this.end(),y.nextTick(L,G)}},75519:(We,j,_)=>{"use strict";We.exports=P;var y=_(93045),b=Object.create(_(27637));function P(H){if(!(this instanceof P))return new P(H);y.call(this,H)}b.inherits=_(71993),b.inherits(P,y),P.prototype._transform=function(H,w,O){O(null,H)}},81217:(We,j,_)=>{"use strict";var y=_(40573),b=_(9656);We.exports=ae;var H,P=_(20053);ae.ReadableState=ce,_(44356);var O=function(_e,Fe){return _e.listeners(Fe).length},S=_(62078),B=_(29783).Buffer,N=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},G=Object.create(_(27637));G.inherits=_(71993);var L=_(92668),z=void 0;z=L&&L.debuglog?L.debuglog("stream"):function(){};var Z,ee=_(10793),q=_(43357);G.inherits(ae,S);var J=["error","close","destroy","pause","resume"];function ce(_e,Fe){var ve=Fe instanceof(H=H||_(23827));this.objectMode=!!(_e=_e||{}).objectMode,ve&&(this.objectMode=this.objectMode||!!_e.readableObjectMode);var Te=_e.highWaterMark,ge=_e.readableHighWaterMark;this.highWaterMark=Te||0===Te?Te:ve&&(ge||0===ge)?ge:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ee,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=_e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_e.encoding&&(Z||(Z=_(49937).I),this.decoder=new Z(_e.encoding),this.encoding=_e.encoding)}function ae(_e){if(H=H||_(23827),!(this instanceof ae))return new ae(_e);this._readableState=new ce(_e,this),this.readable=!0,_e&&("function"==typeof _e.read&&(this._read=_e.read),"function"==typeof _e.destroy&&(this._destroy=_e.destroy)),S.call(this)}function fe(_e,Fe,ve,Te,ge){var te,me=_e._readableState;return null===Fe?(me.reading=!1,function d(_e,Fe){if(!Fe.ended){if(Fe.decoder){var ve=Fe.decoder.end();ve&&ve.length&&(Fe.buffer.push(ve),Fe.length+=Fe.objectMode?1:ve.length)}Fe.ended=!0,m(_e)}}(_e,me)):(ge||(te=function we(_e,Fe){var ve;return!function A(_e){return B.isBuffer(_e)||_e instanceof N}(Fe)&&"string"!=typeof Fe&&void 0!==Fe&&!_e.objectMode&&(ve=new TypeError("Invalid non-string/buffer chunk")),ve}(me,Fe)),te?_e.emit("error",te):me.objectMode||Fe&&Fe.length>0?("string"!=typeof Fe&&!me.objectMode&&Object.getPrototypeOf(Fe)!==B.prototype&&(Fe=function U(_e){return B.from(_e)}(Fe)),Te?me.endEmitted?_e.emit("error",new Error("stream.unshift() after end event")):he(_e,me,Fe,!0):me.ended?_e.emit("error",new Error("stream.push() after EOF")):(me.reading=!1,me.decoder&&!ve?(Fe=me.decoder.write(Fe),me.objectMode||0!==Fe.length?he(_e,me,Fe,!1):E(_e,me)):he(_e,me,Fe,!1))):Te||(me.reading=!1)),function Me(_e){return!_e.ended&&(_e.needReadable||_e.length<_e.highWaterMark||0===_e.length)}(me)}function he(_e,Fe,ve,Te){Fe.flowing&&0===Fe.length&&!Fe.sync?(_e.emit("data",ve),_e.read(0)):(Fe.length+=Fe.objectMode?1:ve.length,Te?Fe.buffer.unshift(ve):Fe.buffer.push(ve),Fe.needReadable&&m(_e)),E(_e,Fe)}Object.defineProperty(ae.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(_e){this._readableState&&(this._readableState.destroyed=_e)}}),ae.prototype.destroy=q.destroy,ae.prototype._undestroy=q.undestroy,ae.prototype._destroy=function(_e,Fe){this.push(null),Fe(_e)},ae.prototype.push=function(_e,Fe){var Te,ve=this._readableState;return ve.objectMode?Te=!0:"string"==typeof _e&&((Fe=Fe||ve.defaultEncoding)!==ve.encoding&&(_e=B.from(_e,Fe),Fe=""),Te=!0),fe(this,_e,Fe,!1,Te)},ae.prototype.unshift=function(_e){return fe(this,_e,null,!0,!1)},ae.prototype.isPaused=function(){return!1===this._readableState.flowing},ae.prototype.setEncoding=function(_e){return Z||(Z=_(49937).I),this._readableState.decoder=new Z(_e),this._readableState.encoding=_e,this};function a(_e,Fe){return _e<=0||0===Fe.length&&Fe.ended?0:Fe.objectMode?1:_e!=_e?Fe.flowing&&Fe.length?Fe.buffer.head.data.length:Fe.length:(_e>Fe.highWaterMark&&(Fe.highWaterMark=function C(_e){return _e>=8388608?_e=8388608:(_e--,_e|=_e>>>1,_e|=_e>>>2,_e|=_e>>>4,_e|=_e>>>8,_e|=_e>>>16,_e++),_e}(_e)),_e<=Fe.length?_e:Fe.ended?Fe.length:(Fe.needReadable=!0,0))}function m(_e){var Fe=_e._readableState;Fe.needReadable=!1,Fe.emittedReadable||(z("emitReadable",Fe.flowing),Fe.emittedReadable=!0,Fe.sync?b.nextTick(p,_e):p(_e))}function p(_e){z("emit readable"),_e.emit("readable"),$(_e)}function E(_e,Fe){Fe.readingMore||(Fe.readingMore=!0,b.nextTick(D,_e,Fe))}function D(_e,Fe){for(var ve=Fe.length;!Fe.reading&&!Fe.flowing&&!Fe.ended&&Fe.length<Fe.highWaterMark&&(z("maybeReadMore read 0"),_e.read(0),ve!==Fe.length);)ve=Fe.length;Fe.readingMore=!1}function x(_e){z("readable nexttick read 0"),_e.read(0)}function v(_e,Fe){Fe.reading||(z("resume read 0"),_e.read(0)),Fe.resumeScheduled=!1,Fe.awaitDrain=0,_e.emit("resume"),$(_e),Fe.flowing&&!Fe.reading&&_e.read(0)}function $(_e){var Fe=_e._readableState;for(z("flow",Fe.flowing);Fe.flowing&&null!==_e.read(););}function F(_e,Fe){return 0===Fe.length?null:(Fe.objectMode?ve=Fe.buffer.shift():!_e||_e>=Fe.length?(ve=Fe.decoder?Fe.buffer.join(""):1===Fe.buffer.length?Fe.buffer.head.data:Fe.buffer.concat(Fe.length),Fe.buffer.clear()):ve=function Q(_e,Fe,ve){var Te;return _e<Fe.head.data.length?(Te=Fe.head.data.slice(0,_e),Fe.head.data=Fe.head.data.slice(_e)):Te=_e===Fe.head.data.length?Fe.shift():ve?function de(_e,Fe){var ve=Fe.head,Te=1,ge=ve.data;for(_e-=ge.length;ve=ve.next;){var me=ve.data,te=_e>me.length?me.length:_e;if(ge+=te===me.length?me:me.slice(0,_e),0==(_e-=te)){te===me.length?(++Te,Fe.head=ve.next?ve.next:Fe.tail=null):(Fe.head=ve,ve.data=me.slice(te));break}++Te}return Fe.length-=Te,ge}(_e,Fe):function De(_e,Fe){var ve=B.allocUnsafe(_e),Te=Fe.head,ge=1;for(Te.data.copy(ve),_e-=Te.data.length;Te=Te.next;){var me=Te.data,te=_e>me.length?me.length:_e;if(me.copy(ve,ve.length-_e,0,te),0==(_e-=te)){te===me.length?(++ge,Fe.head=Te.next?Te.next:Fe.tail=null):(Fe.head=Te,Te.data=me.slice(te));break}++ge}return Fe.length-=ge,ve}(_e,Fe),Te}(_e,Fe.buffer,Fe.decoder),ve);var ve}function Re(_e){var Fe=_e._readableState;if(Fe.length>0)throw new Error('"endReadable()" called on non-empty stream');Fe.endEmitted||(Fe.ended=!0,b.nextTick(Ve,Fe,_e))}function Ve(_e,Fe){!_e.endEmitted&&0===_e.length&&(_e.endEmitted=!0,Fe.readable=!1,Fe.emit("end"))}function Ee(_e,Fe){for(var ve=0,Te=_e.length;ve<Te;ve++)if(_e[ve]===Fe)return ve;return-1}ae.prototype.read=function(_e){z("read",_e),_e=parseInt(_e,10);var Fe=this._readableState,ve=_e;if(0!==_e&&(Fe.emittedReadable=!1),0===_e&&Fe.needReadable&&(Fe.length>=Fe.highWaterMark||Fe.ended))return z("read: emitReadable",Fe.length,Fe.ended),0===Fe.length&&Fe.ended?Re(this):m(this),null;if(0===(_e=a(_e,Fe))&&Fe.ended)return 0===Fe.length&&Re(this),null;var ge,Te=Fe.needReadable;return z("need readable",Te),(0===Fe.length||Fe.length-_e<Fe.highWaterMark)&&z("length less than watermark",Te=!0),Fe.ended||Fe.reading?z("reading or ended",Te=!1):Te&&(z("do read"),Fe.reading=!0,Fe.sync=!0,0===Fe.length&&(Fe.needReadable=!0),this._read(Fe.highWaterMark),Fe.sync=!1,Fe.reading||(_e=a(ve,Fe))),null===(ge=_e>0?F(_e,Fe):null)?(Fe.needReadable=!0,_e=0):Fe.length-=_e,0===Fe.length&&(Fe.ended||(Fe.needReadable=!0),ve!==_e&&Fe.ended&&Re(this)),null!==ge&&this.emit("data",ge),ge},ae.prototype._read=function(_e){this.emit("error",new Error("_read() is not implemented"))},ae.prototype.pipe=function(_e,Fe){var ve=this,Te=this._readableState;switch(Te.pipesCount){case 0:Te.pipes=_e;break;case 1:Te.pipes=[Te.pipes,_e];break;default:Te.pipes.push(_e)}Te.pipesCount+=1,z("pipe count=%d opts=%j",Te.pipesCount,Fe);var me=Fe&&!1===Fe.end||_e===y.stdout||_e===y.stderr?mt:ne;function ne(){z("onend"),_e.end()}Te.endEmitted?b.nextTick(me):ve.once("end",me),_e.on("unpipe",function te(K,T){z("onunpipe"),K===ve&&T&&!1===T.hasUnpiped&&(T.hasUnpiped=!0,function Be(){z("cleanup"),_e.removeListener("close",Xe),_e.removeListener("finish",Ue),_e.removeListener("drain",le),_e.removeListener("error",Dt),_e.removeListener("unpipe",te),ve.removeListener("end",ne),ve.removeListener("end",mt),ve.removeListener("data",ze),Ae=!0,Te.awaitDrain&&(!_e._writableState||_e._writableState.needDrain)&&le()}())});var le=function R(_e){return function(){var Fe=_e._readableState;z("pipeOnDrain",Fe.awaitDrain),Fe.awaitDrain&&Fe.awaitDrain--,0===Fe.awaitDrain&&O(_e,"data")&&(Fe.flowing=!0,$(_e))}}(ve);_e.on("drain",le);var Ae=!1,qe=!1;function ze(K){z("ondata"),qe=!1,!1===_e.write(K)&&!qe&&((1===Te.pipesCount&&Te.pipes===_e||Te.pipesCount>1&&-1!==Ee(Te.pipes,_e))&&!Ae&&(z("false write response, pause",Te.awaitDrain),Te.awaitDrain++,qe=!0),ve.pause())}function Dt(K){z("onerror",K),mt(),_e.removeListener("error",Dt),0===O(_e,"error")&&_e.emit("error",K)}function Xe(){_e.removeListener("finish",Ue),mt()}function Ue(){z("onfinish"),_e.removeListener("close",Xe),mt()}function mt(){z("unpipe"),ve.unpipe(_e)}return ve.on("data",ze),function se(_e,Fe,ve){if("function"==typeof _e.prependListener)return _e.prependListener(Fe,ve);_e._events&&_e._events[Fe]?P(_e._events[Fe])?_e._events[Fe].unshift(ve):_e._events[Fe]=[ve,_e._events[Fe]]:_e.on(Fe,ve)}(_e,"error",Dt),_e.once("close",Xe),_e.once("finish",Ue),_e.emit("pipe",ve),Te.flowing||(z("pipe resume"),ve.resume()),_e},ae.prototype.unpipe=function(_e){var Fe=this._readableState,ve={hasUnpiped:!1};if(0===Fe.pipesCount)return this;if(1===Fe.pipesCount)return _e&&_e!==Fe.pipes||(_e||(_e=Fe.pipes),Fe.pipes=null,Fe.pipesCount=0,Fe.flowing=!1,_e&&_e.emit("unpipe",this,ve)),this;if(!_e){var Te=Fe.pipes,ge=Fe.pipesCount;Fe.pipes=null,Fe.pipesCount=0,Fe.flowing=!1;for(var me=0;me<ge;me++)Te[me].emit("unpipe",this,{hasUnpiped:!1});return this}var te=Ee(Fe.pipes,_e);return-1===te||(Fe.pipes.splice(te,1),Fe.pipesCount-=1,1===Fe.pipesCount&&(Fe.pipes=Fe.pipes[0]),_e.emit("unpipe",this,ve)),this},ae.prototype.addListener=ae.prototype.on=function(_e,Fe){var ve=S.prototype.on.call(this,_e,Fe);if("data"===_e)!1!==this._readableState.flowing&&this.resume();else if("readable"===_e){var Te=this._readableState;!Te.endEmitted&&!Te.readableListening&&(Te.readableListening=Te.needReadable=!0,Te.emittedReadable=!1,Te.reading?Te.length&&m(this):b.nextTick(x,this))}return ve},ae.prototype.resume=function(){var _e=this._readableState;return _e.flowing||(z("resume"),_e.flowing=!0,function s(_e,Fe){Fe.resumeScheduled||(Fe.resumeScheduled=!0,b.nextTick(v,_e,Fe))}(this,_e)),this},ae.prototype.pause=function(){return z("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(z("pause"),this._readableState.flowing=!1,this.emit("pause")),this},ae.prototype.wrap=function(_e){var Fe=this,ve=this._readableState,Te=!1;for(var ge in _e.on("end",function(){if(z("wrapped end"),ve.decoder&&!ve.ended){var te=ve.decoder.end();te&&te.length&&Fe.push(te)}Fe.push(null)}),_e.on("data",function(te){z("wrapped data"),ve.decoder&&(te=ve.decoder.write(te)),ve.objectMode&&null==te||!(ve.objectMode||te&&te.length)||Fe.push(te)||(Te=!0,_e.pause())}),_e)void 0===this[ge]&&"function"==typeof _e[ge]&&(this[ge]=function(te){return function(){return _e[te].apply(_e,arguments)}}(ge));for(var me=0;me<J.length;me++)_e.on(J[me],this.emit.bind(this,J[me]));return this._read=function(te){z("wrapped _read",te),Te&&(Te=!1,_e.resume())},this},Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),ae._fromList=F},93045:(We,j,_)=>{"use strict";We.exports=H;var y=_(23827),b=Object.create(_(27637));function P(S,B){var N=this._transformState;N.transforming=!1;var U=N.writecb;if(!U)return this.emit("error",new Error("write callback called multiple times"));N.writechunk=null,N.writecb=null,null!=B&&this.push(B),U(S);var A=this._readableState;A.reading=!1,(A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}function H(S){if(!(this instanceof H))return new H(S);y.call(this,S),this._transformState={afterTransform:P.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&("function"==typeof S.transform&&(this._transform=S.transform),"function"==typeof S.flush&&(this._flush=S.flush)),this.on("prefinish",w)}function w(){var S=this;"function"==typeof this._flush?this._flush(function(B,N){O(S,B,N)}):O(this,null,null)}function O(S,B,N){if(B)return S.emit("error",B);if(null!=N&&S.push(N),S._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(S._transformState.transforming)throw new Error("Calling transform done when still transforming");return S.push(null)}b.inherits=_(71993),b.inherits(H,y),H.prototype.push=function(S,B){return this._transformState.needTransform=!1,y.prototype.push.call(this,S,B)},H.prototype._transform=function(S,B,N){throw new Error("_transform() is not implemented")},H.prototype._write=function(S,B,N){var U=this._transformState;if(U.writecb=N,U.writechunk=S,U.writeencoding=B,!U.transforming){var A=this._readableState;(U.needTransform||A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}},H.prototype._read=function(S){var B=this._transformState;null!==B.writechunk&&B.writecb&&!B.transforming?(B.transforming=!0,this._transform(B.writechunk,B.writeencoding,B.afterTransform)):B.needTransform=!0},H.prototype._destroy=function(S,B){var N=this;y.prototype._destroy.call(this,S,function(U){B(U),N.emit("close")})}},14817:(We,j,_)=>{"use strict";var y=_(40573),b=_(9656);function H(s){var v=this;this.next=null,this.entry=null,this.finish=function(){!function x(s,v,$){var F=s.entry;for(s.entry=null;F;){var Q=F.callback;v.pendingcb--,Q($),F=F.next}v.corkedRequestsFree.next=s}(v,s)}}We.exports=J;var O,w=!y.browser&&["v0.10","v0.9."].indexOf(y.version.slice(0,5))>-1?setImmediate:b.nextTick;J.WritableState=q;var S=Object.create(_(27637));S.inherits=_(71993);var Z,B={deprecate:_(3398)},N=_(62078),U=_(29783).Buffer,A=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},z=_(43357);function ee(){}function q(s,v){O=O||_(23827);var $=v instanceof O;this.objectMode=!!(s=s||{}).objectMode,$&&(this.objectMode=this.objectMode||!!s.writableObjectMode);var F=s.highWaterMark,Q=s.writableHighWaterMark;this.highWaterMark=F||0===F?F:$&&(Q||0===Q)?Q:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===s.decodeStrings),this.defaultEncoding=s.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Re){!function Pe(s,v){var $=s._writableState,F=$.sync,Q=$.writecb;if(function Me(s){s.writing=!1,s.writecb=null,s.length-=s.writelen,s.writelen=0}($),v)!function we(s,v,$,F,Q){--v.pendingcb,$?(b.nextTick(Q,F),b.nextTick(D,s,v),s._writableState.errorEmitted=!0,s.emit("error",F)):(Q(F),s._writableState.errorEmitted=!0,s.emit("error",F),D(s,v))}(s,$,F,v,Q);else{var de=m($);!de&&!$.corked&&!$.bufferProcessing&&$.bufferedRequest&&d(s,$),F?w(C,s,$,de,Q):C(s,$,de,Q)}}(v,Re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new H(this)}function J(s){if(O=O||_(23827),!(Z.call(J,this)||this instanceof O))return new J(s);this._writableState=new q(s,this),this.writable=!0,s&&("function"==typeof s.write&&(this._write=s.write),"function"==typeof s.writev&&(this._writev=s.writev),"function"==typeof s.destroy&&(this._destroy=s.destroy),"function"==typeof s.final&&(this._final=s.final)),N.call(this)}function he(s,v,$,F,Q,de,De){v.writelen=F,v.writecb=De,v.writing=!0,v.sync=!0,$?s._writev(Q,v.onwrite):s._write(Q,de,v.onwrite),v.sync=!1}function C(s,v,$,F){$||function a(s,v){0===v.length&&v.needDrain&&(v.needDrain=!1,s.emit("drain"))}(s,v),v.pendingcb--,F(),D(s,v)}function d(s,v){v.bufferProcessing=!0;var $=v.bufferedRequest;if(s._writev&&$&&$.next){var Q=new Array(v.bufferedRequestCount),de=v.corkedRequestsFree;de.entry=$;for(var De=0,Re=!0;$;)Q[De]=$,$.isBuf||(Re=!1),$=$.next,De+=1;Q.allBuffers=Re,he(s,v,!0,v.length,Q,"",de.finish),v.pendingcb++,v.lastBufferedRequest=null,de.next?(v.corkedRequestsFree=de.next,de.next=null):v.corkedRequestsFree=new H(v),v.bufferedRequestCount=0}else{for(;$;){var Ve=$.chunk;if(he(s,v,!1,v.objectMode?1:Ve.length,Ve,$.encoding,$.callback),$=$.next,v.bufferedRequestCount--,v.writing)break}null===$&&(v.lastBufferedRequest=null)}v.bufferedRequest=$,v.bufferProcessing=!1}function m(s){return s.ending&&0===s.length&&null===s.bufferedRequest&&!s.finished&&!s.writing}function p(s,v){s._final(function($){v.pendingcb--,$&&s.emit("error",$),v.prefinished=!0,s.emit("prefinish"),D(s,v)})}function D(s,v){var $=m(v);return $&&(function E(s,v){!v.prefinished&&!v.finalCalled&&("function"==typeof s._final?(v.pendingcb++,v.finalCalled=!0,b.nextTick(p,s,v)):(v.prefinished=!0,s.emit("prefinish")))}(s,v),0===v.pendingcb&&(v.finished=!0,s.emit("finish"))),$}S.inherits(J,N),q.prototype.getBuffer=function(){for(var v=this.bufferedRequest,$=[];v;)$.push(v),v=v.next;return $},function(){try{Object.defineProperty(q.prototype,"buffer",{get:B.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(s){return!!Z.call(this,s)||this===J&&s&&s._writableState instanceof q}})):Z=function(s){return s instanceof this},J.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},J.prototype.write=function(s,v,$){var F=this._writableState,Q=!1,de=!F.objectMode&&function L(s){return U.isBuffer(s)||s instanceof A}(s);return de&&!U.isBuffer(s)&&(s=function G(s){return U.from(s)}(s)),"function"==typeof v&&($=v,v=null),de?v="buffer":v||(v=F.defaultEncoding),"function"!=typeof $&&($=ee),F.ended?function se(s,v){var $=new Error("write after end");s.emit("error",$),b.nextTick(v,$)}(this,$):(de||function ce(s,v,$,F){var Q=!0,de=!1;return null===$?de=new TypeError("May not write null values to stream"):"string"!=typeof $&&void 0!==$&&!v.objectMode&&(de=new TypeError("Invalid non-string/buffer chunk")),de&&(s.emit("error",de),b.nextTick(F,de),Q=!1),Q}(this,F,s,$))&&(F.pendingcb++,Q=function fe(s,v,$,F,Q,de){if(!$){var De=function ae(s,v,$){return!s.objectMode&&!1!==s.decodeStrings&&"string"==typeof v&&(v=U.from(v,$)),v}(v,F,Q);F!==De&&($=!0,Q="buffer",F=De)}var Re=v.objectMode?1:F.length;v.length+=Re;var Ve=v.length<v.highWaterMark;if(Ve||(v.needDrain=!0),v.writing||v.corked){var Ee=v.lastBufferedRequest;v.lastBufferedRequest={chunk:F,encoding:Q,isBuf:$,callback:de,next:null},Ee?Ee.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else he(s,v,!1,Re,F,Q,de);return Ve}(this,F,de,s,v,$)),Q},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var s=this._writableState;s.corked&&(s.corked--,!s.writing&&!s.corked&&!s.bufferProcessing&&s.bufferedRequest&&d(this,s))},J.prototype.setDefaultEncoding=function(v){if("string"==typeof v&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+v);return this._writableState.defaultEncoding=v,this},Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),J.prototype._write=function(s,v,$){$(new Error("_write() is not implemented"))},J.prototype._writev=null,J.prototype.end=function(s,v,$){var F=this._writableState;"function"==typeof s?($=s,s=null,v=null):"function"==typeof v&&($=v,v=null),null!=s&&this.write(s,v),F.corked&&(F.corked=1,this.uncork()),F.ending||function R(s,v,$){v.ending=!0,D(s,v),$&&(v.finished?b.nextTick($):s.once("finish",$)),v.ended=!0,s.writable=!1}(this,F,$)},Object.defineProperty(J.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(s){this._writableState&&(this._writableState.destroyed=s)}}),J.prototype.destroy=z.destroy,J.prototype._undestroy=z.undestroy,J.prototype._destroy=function(s,v){this.end(),v(s)}},10793:(We,j,_)=>{"use strict";var b=_(29783).Buffer,P=_(21638);function H(w,O,S){w.copy(O,S)}We.exports=function(){function w(){(function y(w,O){if(!(w instanceof O))throw new TypeError("Cannot call a class as a function")})(this,w),this.head=null,this.tail=null,this.length=0}return w.prototype.push=function(S){var B={data:S,next:null};this.length>0?this.tail.next=B:this.head=B,this.tail=B,++this.length},w.prototype.unshift=function(S){var B={data:S,next:this.head};0===this.length&&(this.tail=B),this.head=B,++this.length},w.prototype.shift=function(){if(0!==this.length){var S=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,S}},w.prototype.clear=function(){this.head=this.tail=null,this.length=0},w.prototype.join=function(S){if(0===this.length)return"";for(var B=this.head,N=""+B.data;B=B.next;)N+=S+B.data;return N},w.prototype.concat=function(S){if(0===this.length)return b.alloc(0);for(var B=b.allocUnsafe(S>>>0),N=this.head,U=0;N;)H(N.data,B,U),U+=N.data.length,N=N.next;return B},w}(),P&&P.inspect&&P.inspect.custom&&(We.exports.prototype[P.inspect.custom]=function(){var w=P.inspect({length:this.length});return this.constructor.name+" "+w})},43357:(We,j,_)=>{"use strict";var y=_(9656);function H(w,O){w.emit("error",O)}We.exports={destroy:function b(w,O){var S=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(O?O(w):w&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,y.nextTick(H,this,w)):y.nextTick(H,this,w)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(w||null,function(U){!O&&U?S._writableState?S._writableState.errorEmitted||(S._writableState.errorEmitted=!0,y.nextTick(H,S,U)):y.nextTick(H,S,U):O&&O(U)}),this)},undestroy:function P(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:(We,j,_)=>{We.exports=_(44356).EventEmitter},29783:(We,j,_)=>{var y=_(83838),b=y.Buffer;function P(w,O){for(var S in w)O[S]=w[S]}function H(w,O,S){return b(w,O,S)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?We.exports=y:(P(y,j),j.Buffer=H),P(b,H),H.from=function(w,O,S){if("number"==typeof w)throw new TypeError("Argument must not be a number");return b(w,O,S)},H.alloc=function(w,O,S){if("number"!=typeof w)throw new TypeError("Argument must be a number");var B=b(w);return void 0!==O?"string"==typeof S?B.fill(O,S):B.fill(O):B.fill(0),B},H.allocUnsafe=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return b(w)},H.allocUnsafeSlow=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return y.SlowBuffer(w)}},64670:(We,j,_)=>{(j=We.exports=_(81217)).Stream=j,j.Readable=j,j.Writable=_(14817),j.Duplex=_(23827),j.Transform=_(93045),j.PassThrough=_(75519)},49937:(We,j,_)=>{"use strict";var y=_(37656).Buffer,b=y.isEncoding||function(J){switch((J=""+J)&&J.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function w(J){var se;switch(this.encoding=function H(J){var se=function P(J){if(!J)return"utf8";for(var se;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(se)return;J=(""+J).toLowerCase(),se=!0}}(J);if("string"!=typeof se&&(y.isEncoding===b||!b(J)))throw new Error("Unknown encoding: "+J);return se||J}(J),this.encoding){case"utf16le":this.text=G,this.end=L,se=4;break;case"utf8":this.fillLast=N,se=4;break;case"base64":this.text=z,this.end=ee,se=3;break;default:return this.write=q,void(this.end=Z)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(se)}function O(J){return J<=127?0:J>>5==6?2:J>>4==14?3:J>>3==30?4:J>>6==2?-1:-2}function N(J){var se=this.lastTotal-this.lastNeed,ce=function B(J,se,ce){if(128!=(192&se[0]))return J.lastNeed=0,"\ufffd";if(J.lastNeed>1&&se.length>1){if(128!=(192&se[1]))return J.lastNeed=1,"\ufffd";if(J.lastNeed>2&&se.length>2&&128!=(192&se[2]))return J.lastNeed=2,"\ufffd"}}(this,J);return void 0!==ce?ce:this.lastNeed<=J.length?(J.copy(this.lastChar,se,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(J.copy(this.lastChar,se,0,J.length),void(this.lastNeed-=J.length))}function G(J,se){if((J.length-se)%2==0){var ce=J.toString("utf16le",se);if(ce){var ae=ce.charCodeAt(ce.length-1);if(ae>=55296&&ae<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1],ce.slice(0,-1)}return ce}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=J[J.length-1],J.toString("utf16le",se,J.length-1)}function L(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):se}function z(J,se){var ce=(J.length-se)%3;return 0===ce?J.toString("base64",se):(this.lastNeed=3-ce,this.lastTotal=3,1===ce?this.lastChar[0]=J[J.length-1]:(this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1]),J.toString("base64",se,J.length-ce))}function ee(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+this.lastChar.toString("base64",0,3-this.lastNeed):se}function q(J){return J.toString(this.encoding)}function Z(J){return J&&J.length?this.write(J):""}j.I=w,w.prototype.write=function(J){if(0===J.length)return"";var se,ce;if(this.lastNeed){if(void 0===(se=this.fillLast(J)))return"";ce=this.lastNeed,this.lastNeed=0}else ce=0;return ce<J.length?se?se+this.text(J,ce):this.text(J,ce):se||""},w.prototype.end=function A(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+"\ufffd":se},w.prototype.text=function U(J,se){var ce=function S(J,se,ce){var ae=se.length-1;if(ae<ce)return 0;var fe=O(se[ae]);return fe>=0?(fe>0&&(J.lastNeed=fe-1),fe):--ae<ce||-2===fe?0:(fe=O(se[ae]))>=0?(fe>0&&(J.lastNeed=fe-2),fe):--ae<ce||-2===fe?0:(fe=O(se[ae]))>=0?(fe>0&&(2===fe?fe=0:J.lastNeed=fe-3),fe):0}(this,J,se);if(!this.lastNeed)return J.toString("utf8",se);this.lastTotal=ce;var ae=J.length-(ce-this.lastNeed);return J.copy(this.lastChar,0,ae),J.toString("utf8",se,ae)},w.prototype.fillLast=function(J){if(this.lastNeed<=J.length)return J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,J.length),this.lastNeed-=J.length}},37656:(We,j,_)=>{var y=_(83838),b=y.Buffer;function P(w,O){for(var S in w)O[S]=w[S]}function H(w,O,S){return b(w,O,S)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?We.exports=y:(P(y,j),j.Buffer=H),P(b,H),H.from=function(w,O,S){if("number"==typeof w)throw new TypeError("Argument must not be a number");return b(w,O,S)},H.alloc=function(w,O,S){if("number"!=typeof w)throw new TypeError("Argument must be a number");var B=b(w);return void 0!==O?"string"==typeof S?B.fill(O,S):B.fill(O):B.fill(0),B},H.allocUnsafe=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return b(w)},H.allocUnsafeSlow=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return y.SlowBuffer(w)}},13546:We=>{We.exports=function(_,y){for(var b=Math.min(_.length,y.length),P=new Buffer(b),H=0;H<b;++H)P[H]=_[H]^y[H];return P}},83838:(We,j,_)=>{"use strict";var y=_(13981),b=_(22020),P="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function J(te){return+te!=te&&(te=0),S.alloc(+te)},j.INSPECT_MAX_BYTES=50;var H=2147483647;function O(te){if(te>H)throw new RangeError('The value "'+te+'" is invalid for option "size"');var ne=new Uint8Array(te);return Object.setPrototypeOf(ne,S.prototype),ne}function S(te,ne,le){if("number"==typeof te){if("string"==typeof ne)throw new TypeError('The "string" argument must be of type string. Received type number');return A(te)}return B(te,ne,le)}function B(te,ne,le){if("string"==typeof te)return function G(te,ne){if(("string"!=typeof ne||""===ne)&&(ne="utf8"),!S.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);var le=0|se(te,ne),Ae=O(le),Be=Ae.write(te,ne);return Be!==le&&(Ae=Ae.slice(0,Be)),Ae}(te,ne);if(ArrayBuffer.isView(te))return function z(te){if(Te(te,Uint8Array)){var ne=new Uint8Array(te);return ee(ne.buffer,ne.byteOffset,ne.byteLength)}return L(te)}(te);if(null==te)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(Te(te,ArrayBuffer)||te&&Te(te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Te(te,SharedArrayBuffer)||te&&Te(te.buffer,SharedArrayBuffer)))return ee(te,ne,le);if("number"==typeof te)throw new TypeError('The "value" argument must not be of type number. Received type number');var Ae=te.valueOf&&te.valueOf();if(null!=Ae&&Ae!==te)return S.from(Ae,ne,le);var Be=function q(te){if(S.isBuffer(te)){var ne=0|Z(te.length),le=O(ne);return 0===le.length||te.copy(le,0,0,ne),le}return void 0!==te.length?"number"!=typeof te.length||ge(te.length)?O(0):L(te):"Buffer"===te.type&&Array.isArray(te.data)?L(te.data):void 0}(te);if(Be)return Be;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof te[Symbol.toPrimitive])return S.from(te[Symbol.toPrimitive]("string"),ne,le);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}function N(te){if("number"!=typeof te)throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function A(te){return N(te),O(te<0?0:0|Z(te))}function L(te){for(var ne=te.length<0?0:0|Z(te.length),le=O(ne),Ae=0;Ae<ne;Ae+=1)le[Ae]=255&te[Ae];return le}function ee(te,ne,le){if(ne<0||te.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<ne+(le||0))throw new RangeError('"length" is outside of buffer bounds');var Ae;return Ae=void 0===ne&&void 0===le?new Uint8Array(te):void 0===le?new Uint8Array(te,ne):new Uint8Array(te,ne,le),Object.setPrototypeOf(Ae,S.prototype),Ae}function Z(te){if(te>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|te}function se(te,ne){if(S.isBuffer(te))return te.length;if(ArrayBuffer.isView(te)||Te(te,ArrayBuffer))return te.byteLength;if("string"!=typeof te)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);var le=te.length,Ae=arguments.length>2&&!0===arguments[2];if(!Ae&&0===le)return 0;for(var Be=!1;;)switch(ne){case"ascii":case"latin1":case"binary":return le;case"utf8":case"utf-8":return Ve(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*le;case"hex":return le>>>1;case"base64":return Fe(te).length;default:if(Be)return Ae?-1:Ve(te).length;ne=(""+ne).toLowerCase(),Be=!0}}function ce(te,ne,le){var Ae=!1;if((void 0===ne||ne<0)&&(ne=0),ne>this.length||((void 0===le||le>this.length)&&(le=this.length),le<=0)||(le>>>=0)<=(ne>>>=0))return"";for(te||(te="utf8");;)switch(te){case"hex":return x(this,ne,le);case"utf8":case"utf-8":return m(this,ne,le);case"ascii":return D(this,ne,le);case"latin1":case"binary":return R(this,ne,le);case"base64":return d(this,ne,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,ne,le);default:if(Ae)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),Ae=!0}}function ae(te,ne,le){var Ae=te[ne];te[ne]=te[le],te[le]=Ae}function fe(te,ne,le,Ae,Be){if(0===te.length)return-1;if("string"==typeof le?(Ae=le,le=0):le>2147483647?le=2147483647:le<-2147483648&&(le=-2147483648),ge(le=+le)&&(le=Be?0:te.length-1),le<0&&(le=te.length+le),le>=te.length){if(Be)return-1;le=te.length-1}else if(le<0){if(!Be)return-1;le=0}if("string"==typeof ne&&(ne=S.from(ne,Ae)),S.isBuffer(ne))return 0===ne.length?-1:he(te,ne,le,Ae,Be);if("number"==typeof ne)return ne&=255,"function"==typeof Uint8Array.prototype.indexOf?Be?Uint8Array.prototype.indexOf.call(te,ne,le):Uint8Array.prototype.lastIndexOf.call(te,ne,le):he(te,[ne],le,Ae,Be);throw new TypeError("val must be string, number or Buffer")}function he(te,ne,le,Ae,Be){var Ue,qe=1,ze=te.length,Dt=ne.length;if(void 0!==Ae&&("ucs2"===(Ae=String(Ae).toLowerCase())||"ucs-2"===Ae||"utf16le"===Ae||"utf-16le"===Ae)){if(te.length<2||ne.length<2)return-1;qe=2,ze/=2,Dt/=2,le/=2}function Xe(M,Y){return 1===qe?M[Y]:M.readUInt16BE(Y*qe)}if(Be){var mt=-1;for(Ue=le;Ue<ze;Ue++)if(Xe(te,Ue)===Xe(ne,-1===mt?0:Ue-mt)){if(-1===mt&&(mt=Ue),Ue-mt+1===Dt)return mt*qe}else-1!==mt&&(Ue-=Ue-mt),mt=-1}else for(le+Dt>ze&&(le=ze-Dt),Ue=le;Ue>=0;Ue--){for(var K=!0,T=0;T<Dt;T++)if(Xe(te,Ue+T)!==Xe(ne,T)){K=!1;break}if(K)return Ue}return-1}function we(te,ne,le,Ae){le=Number(le)||0;var Be=te.length-le;Ae?(Ae=Number(Ae))>Be&&(Ae=Be):Ae=Be;var qe=ne.length;Ae>qe/2&&(Ae=qe/2);for(var ze=0;ze<Ae;++ze){var Dt=parseInt(ne.substr(2*ze,2),16);if(ge(Dt))return ze;te[le+ze]=Dt}return ze}function Me(te,ne,le,Ae){return ve(Ve(ne,te.length-le),te,le,Ae)}function Pe(te,ne,le,Ae){return ve(function Ee(te){for(var ne=[],le=0;le<te.length;++le)ne.push(255&te.charCodeAt(le));return ne}(ne),te,le,Ae)}function C(te,ne,le,Ae){return ve(Fe(ne),te,le,Ae)}function a(te,ne,le,Ae){return ve(function _e(te,ne){for(var le,Ae,qe=[],ze=0;ze<te.length&&!((ne-=2)<0);++ze)Ae=(le=te.charCodeAt(ze))>>8,qe.push(le%256),qe.push(Ae);return qe}(ne,te.length-le),te,le,Ae)}function d(te,ne,le){return y.fromByteArray(0===ne&&le===te.length?te:te.slice(ne,le))}function m(te,ne,le){le=Math.min(te.length,le);for(var Ae=[],Be=ne;Be<le;){var Xe,Ue,mt,K,qe=te[Be],ze=null,Dt=qe>239?4:qe>223?3:qe>191?2:1;if(Be+Dt<=le)switch(Dt){case 1:qe<128&&(ze=qe);break;case 2:128==(192&(Xe=te[Be+1]))&&(K=(31&qe)<<6|63&Xe)>127&&(ze=K);break;case 3:Ue=te[Be+2],128==(192&(Xe=te[Be+1]))&&128==(192&Ue)&&(K=(15&qe)<<12|(63&Xe)<<6|63&Ue)>2047&&(K<55296||K>57343)&&(ze=K);break;case 4:Ue=te[Be+2],mt=te[Be+3],128==(192&(Xe=te[Be+1]))&&128==(192&Ue)&&128==(192&mt)&&(K=(15&qe)<<18|(63&Xe)<<12|(63&Ue)<<6|63&mt)>65535&&K<1114112&&(ze=K)}null===ze?(ze=65533,Dt=1):ze>65535&&(Ae.push((ze-=65536)>>>10&1023|55296),ze=56320|1023&ze),Ae.push(ze),Be+=Dt}return function E(te){var ne=te.length;if(ne<=p)return String.fromCharCode.apply(String,te);for(var le="",Ae=0;Ae<ne;)le+=String.fromCharCode.apply(String,te.slice(Ae,Ae+=p));return le}(Ae)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function w(){try{var te=new Uint8Array(1),ne={foo:function(){return 42}};return Object.setPrototypeOf(ne,Uint8Array.prototype),Object.setPrototypeOf(te,ne),42===te.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(te,ne,le){return B(te,ne,le)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(te,ne,le){return function U(te,ne,le){return N(te),te<=0?O(te):void 0!==ne?"string"==typeof le?O(te).fill(ne,le):O(te).fill(ne):O(te)}(te,ne,le)},S.allocUnsafe=function(te){return A(te)},S.allocUnsafeSlow=function(te){return A(te)},S.isBuffer=function(ne){return null!=ne&&!0===ne._isBuffer&&ne!==S.prototype},S.compare=function(ne,le){if(Te(ne,Uint8Array)&&(ne=S.from(ne,ne.offset,ne.byteLength)),Te(le,Uint8Array)&&(le=S.from(le,le.offset,le.byteLength)),!S.isBuffer(ne)||!S.isBuffer(le))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ne===le)return 0;for(var Ae=ne.length,Be=le.length,qe=0,ze=Math.min(Ae,Be);qe<ze;++qe)if(ne[qe]!==le[qe]){Ae=ne[qe],Be=le[qe];break}return Ae<Be?-1:Be<Ae?1:0},S.isEncoding=function(ne){switch(String(ne).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(ne,le){if(!Array.isArray(ne))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ne.length)return S.alloc(0);var Ae;if(void 0===le)for(le=0,Ae=0;Ae<ne.length;++Ae)le+=ne[Ae].length;var Be=S.allocUnsafe(le),qe=0;for(Ae=0;Ae<ne.length;++Ae){var ze=ne[Ae];if(Te(ze,Uint8Array))qe+ze.length>Be.length?S.from(ze).copy(Be,qe):Uint8Array.prototype.set.call(Be,ze,qe);else{if(!S.isBuffer(ze))throw new TypeError('"list" argument must be an Array of Buffers');ze.copy(Be,qe)}qe+=ze.length}return Be},S.byteLength=se,S.prototype._isBuffer=!0,S.prototype.swap16=function(){var ne=this.length;if(ne%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var le=0;le<ne;le+=2)ae(this,le,le+1);return this},S.prototype.swap32=function(){var ne=this.length;if(ne%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var le=0;le<ne;le+=4)ae(this,le,le+3),ae(this,le+1,le+2);return this},S.prototype.swap64=function(){var ne=this.length;if(ne%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var le=0;le<ne;le+=8)ae(this,le,le+7),ae(this,le+1,le+6),ae(this,le+2,le+5),ae(this,le+3,le+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){var ne=this.length;return 0===ne?"":0===arguments.length?m(this,0,ne):ce.apply(this,arguments)},S.prototype.equals=function(ne){if(!S.isBuffer(ne))throw new TypeError("Argument must be a Buffer");return this===ne||0===S.compare(this,ne)},S.prototype.inspect=function(){var ne="",le=j.INSPECT_MAX_BYTES;return ne=this.toString("hex",0,le).replace(/(.{2})/g,"$1 ").trim(),this.length>le&&(ne+=" ... "),"<Buffer "+ne+">"},P&&(S.prototype[P]=S.prototype.inspect),S.prototype.compare=function(ne,le,Ae,Be,qe){if(Te(ne,Uint8Array)&&(ne=S.from(ne,ne.offset,ne.byteLength)),!S.isBuffer(ne))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ne);if(void 0===le&&(le=0),void 0===Ae&&(Ae=ne?ne.length:0),void 0===Be&&(Be=0),void 0===qe&&(qe=this.length),le<0||Ae>ne.length||Be<0||qe>this.length)throw new RangeError("out of range index");if(Be>=qe&&le>=Ae)return 0;if(Be>=qe)return-1;if(le>=Ae)return 1;if(this===ne)return 0;for(var ze=(qe>>>=0)-(Be>>>=0),Dt=(Ae>>>=0)-(le>>>=0),Xe=Math.min(ze,Dt),Ue=this.slice(Be,qe),mt=ne.slice(le,Ae),K=0;K<Xe;++K)if(Ue[K]!==mt[K]){ze=Ue[K],Dt=mt[K];break}return ze<Dt?-1:Dt<ze?1:0},S.prototype.includes=function(ne,le,Ae){return-1!==this.indexOf(ne,le,Ae)},S.prototype.indexOf=function(ne,le,Ae){return fe(this,ne,le,Ae,!0)},S.prototype.lastIndexOf=function(ne,le,Ae){return fe(this,ne,le,Ae,!1)},S.prototype.write=function(ne,le,Ae,Be){if(void 0===le)Be="utf8",Ae=this.length,le=0;else if(void 0===Ae&&"string"==typeof le)Be=le,Ae=this.length,le=0;else{if(!isFinite(le))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");le>>>=0,isFinite(Ae)?(Ae>>>=0,void 0===Be&&(Be="utf8")):(Be=Ae,Ae=void 0)}var qe=this.length-le;if((void 0===Ae||Ae>qe)&&(Ae=qe),ne.length>0&&(Ae<0||le<0)||le>this.length)throw new RangeError("Attempt to write outside buffer bounds");Be||(Be="utf8");for(var ze=!1;;)switch(Be){case"hex":return we(this,ne,le,Ae);case"utf8":case"utf-8":return Me(this,ne,le,Ae);case"ascii":case"latin1":case"binary":return Pe(this,ne,le,Ae);case"base64":return C(this,ne,le,Ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,ne,le,Ae);default:if(ze)throw new TypeError("Unknown encoding: "+Be);Be=(""+Be).toLowerCase(),ze=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var p=4096;function D(te,ne,le){var Ae="";le=Math.min(te.length,le);for(var Be=ne;Be<le;++Be)Ae+=String.fromCharCode(127&te[Be]);return Ae}function R(te,ne,le){var Ae="";le=Math.min(te.length,le);for(var Be=ne;Be<le;++Be)Ae+=String.fromCharCode(te[Be]);return Ae}function x(te,ne,le){var Ae=te.length;(!ne||ne<0)&&(ne=0),(!le||le<0||le>Ae)&&(le=Ae);for(var Be="",qe=ne;qe<le;++qe)Be+=me[te[qe]];return Be}function s(te,ne,le){for(var Ae=te.slice(ne,le),Be="",qe=0;qe<Ae.length-1;qe+=2)Be+=String.fromCharCode(Ae[qe]+256*Ae[qe+1]);return Be}function v(te,ne,le){if(te%1!=0||te<0)throw new RangeError("offset is not uint");if(te+ne>le)throw new RangeError("Trying to access beyond buffer length")}function $(te,ne,le,Ae,Be,qe){if(!S.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(ne>Be||ne<qe)throw new RangeError('"value" argument is out of bounds');if(le+Ae>te.length)throw new RangeError("Index out of range")}function F(te,ne,le,Ae,Be,qe){if(le+Ae>te.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("Index out of range")}function Q(te,ne,le,Ae,Be){return ne=+ne,le>>>=0,Be||F(te,0,le,4),b.write(te,ne,le,Ae,23,4),le+4}function de(te,ne,le,Ae,Be){return ne=+ne,le>>>=0,Be||F(te,0,le,8),b.write(te,ne,le,Ae,52,8),le+8}S.prototype.slice=function(ne,le){var Ae=this.length;(ne=~~ne)<0?(ne+=Ae)<0&&(ne=0):ne>Ae&&(ne=Ae),(le=void 0===le?Ae:~~le)<0?(le+=Ae)<0&&(le=0):le>Ae&&(le=Ae),le<ne&&(le=ne);var Be=this.subarray(ne,le);return Object.setPrototypeOf(Be,S.prototype),Be},S.prototype.readUintLE=S.prototype.readUIntLE=function(ne,le,Ae){ne>>>=0,le>>>=0,Ae||v(ne,le,this.length);for(var Be=this[ne],qe=1,ze=0;++ze<le&&(qe*=256);)Be+=this[ne+ze]*qe;return Be},S.prototype.readUintBE=S.prototype.readUIntBE=function(ne,le,Ae){ne>>>=0,le>>>=0,Ae||v(ne,le,this.length);for(var Be=this[ne+--le],qe=1;le>0&&(qe*=256);)Be+=this[ne+--le]*qe;return Be},S.prototype.readUint8=S.prototype.readUInt8=function(ne,le){return ne>>>=0,le||v(ne,1,this.length),this[ne]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(ne,le){return ne>>>=0,le||v(ne,2,this.length),this[ne]|this[ne+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(ne,le){return ne>>>=0,le||v(ne,2,this.length),this[ne]<<8|this[ne+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(ne,le){return ne>>>=0,le||v(ne,4,this.length),(this[ne]|this[ne+1]<<8|this[ne+2]<<16)+16777216*this[ne+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(ne,le){return ne>>>=0,le||v(ne,4,this.length),16777216*this[ne]+(this[ne+1]<<16|this[ne+2]<<8|this[ne+3])},S.prototype.readIntLE=function(ne,le,Ae){ne>>>=0,le>>>=0,Ae||v(ne,le,this.length);for(var Be=this[ne],qe=1,ze=0;++ze<le&&(qe*=256);)Be+=this[ne+ze]*qe;return Be>=(qe*=128)&&(Be-=Math.pow(2,8*le)),Be},S.prototype.readIntBE=function(ne,le,Ae){ne>>>=0,le>>>=0,Ae||v(ne,le,this.length);for(var Be=le,qe=1,ze=this[ne+--Be];Be>0&&(qe*=256);)ze+=this[ne+--Be]*qe;return ze>=(qe*=128)&&(ze-=Math.pow(2,8*le)),ze},S.prototype.readInt8=function(ne,le){return ne>>>=0,le||v(ne,1,this.length),128&this[ne]?-1*(255-this[ne]+1):this[ne]},S.prototype.readInt16LE=function(ne,le){ne>>>=0,le||v(ne,2,this.length);var Ae=this[ne]|this[ne+1]<<8;return 32768&Ae?4294901760|Ae:Ae},S.prototype.readInt16BE=function(ne,le){ne>>>=0,le||v(ne,2,this.length);var Ae=this[ne+1]|this[ne]<<8;return 32768&Ae?4294901760|Ae:Ae},S.prototype.readInt32LE=function(ne,le){return ne>>>=0,le||v(ne,4,this.length),this[ne]|this[ne+1]<<8|this[ne+2]<<16|this[ne+3]<<24},S.prototype.readInt32BE=function(ne,le){return ne>>>=0,le||v(ne,4,this.length),this[ne]<<24|this[ne+1]<<16|this[ne+2]<<8|this[ne+3]},S.prototype.readFloatLE=function(ne,le){return ne>>>=0,le||v(ne,4,this.length),b.read(this,ne,!0,23,4)},S.prototype.readFloatBE=function(ne,le){return ne>>>=0,le||v(ne,4,this.length),b.read(this,ne,!1,23,4)},S.prototype.readDoubleLE=function(ne,le){return ne>>>=0,le||v(ne,8,this.length),b.read(this,ne,!0,52,8)},S.prototype.readDoubleBE=function(ne,le){return ne>>>=0,le||v(ne,8,this.length),b.read(this,ne,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(ne,le,Ae,Be){ne=+ne,le>>>=0,Ae>>>=0,Be||$(this,ne,le,Ae,Math.pow(2,8*Ae)-1,0);var ze=1,Dt=0;for(this[le]=255&ne;++Dt<Ae&&(ze*=256);)this[le+Dt]=ne/ze&255;return le+Ae},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(ne,le,Ae,Be){ne=+ne,le>>>=0,Ae>>>=0,Be||$(this,ne,le,Ae,Math.pow(2,8*Ae)-1,0);var ze=Ae-1,Dt=1;for(this[le+ze]=255&ne;--ze>=0&&(Dt*=256);)this[le+ze]=ne/Dt&255;return le+Ae},S.prototype.writeUint8=S.prototype.writeUInt8=function(ne,le,Ae){return ne=+ne,le>>>=0,Ae||$(this,ne,le,1,255,0),this[le]=255&ne,le+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(ne,le,Ae){return ne=+ne,le>>>=0,Ae||$(this,ne,le,2,65535,0),this[le]=255&ne,this[le+1]=ne>>>8,le+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(ne,le,Ae){return ne=+ne,le>>>=0,Ae||$(this,ne,le,2,65535,0),this[le]=ne>>>8,this[le+1]=255&ne,le+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(ne,le,Ae){return ne=+ne,le>>>=0,Ae||$(this,ne,le,4,4294967295,0),this[le+3]=ne>>>24,this[le+2]=ne>>>16,this[le+1]=ne>>>8,this[le]=255&ne,le+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(ne,le,Ae){return ne=+ne,le>>>=0,Ae||$(this,ne,le,4,4294967295,0),this[le]=ne>>>24,this[le+1]=ne>>>16,this[le+2]=ne>>>8,this[le+3]=255&ne,le+4},S.prototype.writeIntLE=function(ne,le,Ae,Be){if(ne=+ne,le>>>=0,!Be){var qe=Math.pow(2,8*Ae-1);$(this,ne,le,Ae,qe-1,-qe)}var ze=0,Dt=1,Xe=0;for(this[le]=255&ne;++ze<Ae&&(Dt*=256);)ne<0&&0===Xe&&0!==this[le+ze-1]&&(Xe=1),this[le+ze]=(ne/Dt|0)-Xe&255;return le+Ae},S.prototype.writeIntBE=function(ne,le,Ae,Be){if(ne=+ne,le>>>=0,!Be){var qe=Math.pow(2,8*Ae-1);$(this,ne,le,Ae,qe-1,-qe)}var ze=Ae-1,Dt=1,Xe=0;for(this[le+ze]=255&ne;--ze>=0&&(Dt*=256);)ne<0&&0===Xe&&0!==this[le+ze+1]&&(Xe=1),this[le+ze]=(ne/Dt|0)-Xe&255;return le+Ae},S.prototype.writeInt8=function(ne,le,Ae){return ne=+ne,le>>>=0,Ae||$(this,ne,le,1,127,-128),ne<0&&(ne=255+ne+1),this[le]=255&ne,le+1},S.prototype.writeInt16LE=function(ne,le,Ae){return ne=+ne,le>>>=0,Ae||$(this,ne,le,2,32767,-32768),this[le]=255&ne,this[le+1]=ne>>>8,le+2},S.prototype.writeInt16BE=function(ne,le,Ae){return ne=+ne,le>>>=0,Ae||$(this,ne,le,2,32767,-32768),this[le]=ne>>>8,this[le+1]=255&ne,le+2},S.prototype.writeInt32LE=function(ne,le,Ae){return ne=+ne,le>>>=0,Ae||$(this,ne,le,4,2147483647,-2147483648),this[le]=255&ne,this[le+1]=ne>>>8,this[le+2]=ne>>>16,this[le+3]=ne>>>24,le+4},S.prototype.writeInt32BE=function(ne,le,Ae){return ne=+ne,le>>>=0,Ae||$(this,ne,le,4,2147483647,-2147483648),ne<0&&(ne=4294967295+ne+1),this[le]=ne>>>24,this[le+1]=ne>>>16,this[le+2]=ne>>>8,this[le+3]=255&ne,le+4},S.prototype.writeFloatLE=function(ne,le,Ae){return Q(this,ne,le,!0,Ae)},S.prototype.writeFloatBE=function(ne,le,Ae){return Q(this,ne,le,!1,Ae)},S.prototype.writeDoubleLE=function(ne,le,Ae){return de(this,ne,le,!0,Ae)},S.prototype.writeDoubleBE=function(ne,le,Ae){return de(this,ne,le,!1,Ae)},S.prototype.copy=function(ne,le,Ae,Be){if(!S.isBuffer(ne))throw new TypeError("argument should be a Buffer");if(Ae||(Ae=0),!Be&&0!==Be&&(Be=this.length),le>=ne.length&&(le=ne.length),le||(le=0),Be>0&&Be<Ae&&(Be=Ae),Be===Ae||0===ne.length||0===this.length)return 0;if(le<0)throw new RangeError("targetStart out of bounds");if(Ae<0||Ae>=this.length)throw new RangeError("Index out of range");if(Be<0)throw new RangeError("sourceEnd out of bounds");Be>this.length&&(Be=this.length),ne.length-le<Be-Ae&&(Be=ne.length-le+Ae);var qe=Be-Ae;return this===ne&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(le,Ae,Be):Uint8Array.prototype.set.call(ne,this.subarray(Ae,Be),le),qe},S.prototype.fill=function(ne,le,Ae,Be){if("string"==typeof ne){if("string"==typeof le?(Be=le,le=0,Ae=this.length):"string"==typeof Ae&&(Be=Ae,Ae=this.length),void 0!==Be&&"string"!=typeof Be)throw new TypeError("encoding must be a string");if("string"==typeof Be&&!S.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);if(1===ne.length){var qe=ne.charCodeAt(0);("utf8"===Be&&qe<128||"latin1"===Be)&&(ne=qe)}}else"number"==typeof ne?ne&=255:"boolean"==typeof ne&&(ne=Number(ne));if(le<0||this.length<le||this.length<Ae)throw new RangeError("Out of range index");if(Ae<=le)return this;var ze;if(le>>>=0,Ae=void 0===Ae?this.length:Ae>>>0,ne||(ne=0),"number"==typeof ne)for(ze=le;ze<Ae;++ze)this[ze]=ne;else{var Dt=S.isBuffer(ne)?ne:S.from(ne,Be),Xe=Dt.length;if(0===Xe)throw new TypeError('The value "'+ne+'" is invalid for argument "value"');for(ze=0;ze<Ae-le;++ze)this[ze+le]=Dt[ze%Xe]}return this};var De=/[^+/0-9A-Za-z-_]/g;function Ve(te,ne){ne=ne||1/0;for(var le,Ae=te.length,Be=null,qe=[],ze=0;ze<Ae;++ze){if((le=te.charCodeAt(ze))>55295&&le<57344){if(!Be){if(le>56319){(ne-=3)>-1&&qe.push(239,191,189);continue}if(ze+1===Ae){(ne-=3)>-1&&qe.push(239,191,189);continue}Be=le;continue}if(le<56320){(ne-=3)>-1&&qe.push(239,191,189),Be=le;continue}le=65536+(Be-55296<<10|le-56320)}else Be&&(ne-=3)>-1&&qe.push(239,191,189);if(Be=null,le<128){if((ne-=1)<0)break;qe.push(le)}else if(le<2048){if((ne-=2)<0)break;qe.push(le>>6|192,63&le|128)}else if(le<65536){if((ne-=3)<0)break;qe.push(le>>12|224,le>>6&63|128,63&le|128)}else{if(!(le<1114112))throw new Error("Invalid code point");if((ne-=4)<0)break;qe.push(le>>18|240,le>>12&63|128,le>>6&63|128,63&le|128)}}return qe}function Fe(te){return y.toByteArray(function Re(te){if((te=(te=te.split("=")[0]).trim().replace(De,"")).length<2)return"";for(;te.length%4!=0;)te+="=";return te}(te))}function ve(te,ne,le,Ae){for(var Be=0;Be<Ae&&!(Be+le>=ne.length||Be>=te.length);++Be)ne[Be+le]=te[Be];return Be}function Te(te,ne){return te instanceof ne||null!=te&&null!=te.constructor&&null!=te.constructor.name&&te.constructor.name===ne.name}function ge(te){return te!=te}var me=function(){for(var te="0123456789abcdef",ne=new Array(256),le=0;le<16;++le)for(var Ae=16*le,Be=0;Be<16;++Be)ne[Ae+Be]=te[le]+te[Be];return ne}()},28846:We=>{"use strict";We.exports=function j(_){if("number"==typeof _&&isNaN(_))throw new Error("NaN is not allowed");if("number"==typeof _&&!isFinite(_))throw new Error("Infinity is not allowed");return null===_||"object"!=typeof _?JSON.stringify(_):_.toJSON instanceof Function?j(_.toJSON()):Array.isArray(_)?`[${_.reduce((P,H,w)=>`${P}${0===w?"":","}${j(void 0===H||"symbol"==typeof H?null:H)}`,"")}]`:`{${Object.keys(_).sort().reduce((b,P)=>void 0===_[P]||"symbol"==typeof _[P]?b:`${b}${0===b.length?"":","}${j(P)}:${j(_[P])}`,"")}}`}},42381:(We,j,_)=>{"use strict";var y=_(78341);j.fromCallback=function(b,P){if(void 0===b){var H=new Promise(function(w,O){b=function(S,B){S?O(S):w(B)}});b[void 0!==P?P:"promise"]=H}else if("function"!=typeof b)throw new TypeError("Callback must be a function");return b},j.fromPromise=function(b,P){if(void 0===P)return b;b.then(function(H){y(()=>P(null,H))}).catch(function(H){y(()=>P(H))})}},78341:We=>{We.exports="function"==typeof queueMicrotask?queueMicrotask:j=>Promise.resolve().then(j)},3247:(We,j,_)=>{var y=_(27054).Buffer,b=_(7045).Transform,P=_(78454).StringDecoder;function w(O){b.call(this),this.hashMode="string"==typeof O,this.hashMode?this[O]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}_(71993)(w,b),w.prototype.update=function(O,S,B){"string"==typeof O&&(O=y.from(O,S));var N=this._update(O);return this.hashMode?this:(B&&(N=this._toString(N,B)),N)},w.prototype.setAutoPadding=function(){},w.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},w.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},w.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},w.prototype._transform=function(O,S,B){var N;try{this.hashMode?this._update(O):this.push(this._update(O))}catch(U){N=U}finally{B(N)}},w.prototype._flush=function(O){var S;try{this.push(this.__final())}catch(B){S=B}O(S)},w.prototype._finalOrDigest=function(O){var S=this.__final()||y.alloc(0);return O&&(S=this._toString(S,O,!0)),S},w.prototype._toString=function(O,S,B){if(this._decoder||(this._decoder=new P(S),this._encoding=S),this._encoding!==S)throw new Error("can't switch encodings");var N=this._decoder.write(O);return B&&(N+=this._decoder.end()),N},We.exports=w},27637:(We,j,_)=>{function ee(q){return Object.prototype.toString.call(q)}j.isArray=function y(q){return Array.isArray?Array.isArray(q):"[object Array]"===ee(q)},j.isBoolean=function b(q){return"boolean"==typeof q},j.isNull=function P(q){return null===q},j.isNullOrUndefined=function H(q){return null==q},j.isNumber=function w(q){return"number"==typeof q},j.isString=function O(q){return"string"==typeof q},j.isSymbol=function S(q){return"symbol"==typeof q},j.isUndefined=function B(q){return void 0===q},j.isRegExp=function N(q){return"[object RegExp]"===ee(q)},j.isObject=function U(q){return"object"==typeof q&&null!==q},j.isDate=function A(q){return"[object Date]"===ee(q)},j.isError=function G(q){return"[object Error]"===ee(q)||q instanceof Error},j.isFunction=function L(q){return"function"==typeof q},j.isPrimitive=function z(q){return null===q||"boolean"==typeof q||"number"==typeof q||"string"==typeof q||"symbol"==typeof q||typeof q>"u"},j.isBuffer=_(83838).Buffer.isBuffer},87303:(We,j,_)=>{var y=_(90518),b=_(89606);We.exports=function(S){return new H(S)};var P={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function H(O){this.curveType=P[O],this.curveType||(this.curveType={name:O}),this.curve=new y.ec(this.curveType.name),this.keys=void 0}function w(O,S,B){Array.isArray(O)||(O=O.toArray());var N=new Buffer(O);if(B&&N.length<B){var U=new Buffer(B-N.length);U.fill(0),N=Buffer.concat([U,N])}return S?N.toString(S):N}P.p224=P.secp224r1,P.p256=P.secp256r1=P.prime256v1,P.p192=P.secp192r1=P.prime192v1,P.p384=P.secp384r1,P.p521=P.secp521r1,H.prototype.generateKeys=function(O,S){return this.keys=this.curve.genKeyPair(),this.getPublicKey(O,S)},H.prototype.computeSecret=function(O,S,B){return S=S||"utf8",Buffer.isBuffer(O)||(O=new Buffer(O,S)),w(this.curve.keyFromPublic(O).getPublic().mul(this.keys.getPrivate()).getX(),B,this.curveType.byteLength)},H.prototype.getPublicKey=function(O,S){var B=this.keys.getPublic("compressed"===S,!0);return"hybrid"===S&&(B[0]=B[B.length-1]%2?7:6),w(B,O)},H.prototype.getPrivateKey=function(O){return w(this.keys.getPrivate(),O)},H.prototype.setPublicKey=function(O,S){return S=S||"utf8",Buffer.isBuffer(O)||(O=new Buffer(O,S)),this.keys._importPublic(O),this},H.prototype.setPrivateKey=function(O,S){S=S||"utf8",Buffer.isBuffer(O)||(O=new Buffer(O,S));var B=new b(O);return B=B.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(B),this}},89606:function(We,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(77965).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],De=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],ve=8191&Fe,Te=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],le=8191&ne,Ae=ne>>>13,Be=0|p[6],qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],gn=8191&rn,ln=rn>>>13,ar=0|E[3],Cn=8191&ar,cn=ar>>>13,Zt=0|E[4],vt=8191&Zt,ut=Zt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,fr=0|E[6],yt=8191&fr,wt=fr>>>13,Et=0|E[7],Ye=8191&Et,et=Et>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,Vn=0|E[9],bn=8191&Vn,Mn=Vn>>>13;m.negative=a.negative^d.negative,m.length=19;var br=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(br>>>26)|0,br&=67108863,x=Math.imul(De,Ne),s=(s=Math.imul(De,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var or=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(De,It)|0,s=(s=s+Math.imul(De,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,gn)|0)|0)+((8191&(s=(s=s+Math.imul(F,ln)|0)+Math.imul(Q,gn)|0))<<13)|0;R=((v=v+Math.imul(Q,ln)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(ve,Ne),s=(s=Math.imul(ve,lt))+Math.imul(Te,Ne)|0,v=Math.imul(Te,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(De,gn)|0,s=(s=s+Math.imul(De,ln)|0)+Math.imul(Re,gn)|0,v=v+Math.imul(Re,ln)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(ve,It)|0,s=(s=s+Math.imul(ve,Kt)|0)+Math.imul(Te,It)|0,v=v+Math.imul(Te,Kt)|0,x=x+Math.imul(Ee,gn)|0,s=(s=s+Math.imul(Ee,ln)|0)+Math.imul(_e,gn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(De,Cn)|0,s=(s=s+Math.imul(De,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,vt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,vt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(le,Ne),s=(s=Math.imul(le,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(ve,gn)|0,s=(s=s+Math.imul(ve,ln)|0)+Math.imul(Te,gn)|0,v=v+Math.imul(Te,ln)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(De,vt)|0,s=(s=s+Math.imul(De,ut)|0)+Math.imul(Re,vt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(qe,Ne),s=(s=Math.imul(qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(le,It)|0,s=(s=s+Math.imul(le,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(me,gn)|0,s=(s=s+Math.imul(me,ln)|0)+Math.imul(te,gn)|0,v=v+Math.imul(te,ln)|0,x=x+Math.imul(ve,Cn)|0,s=(s=s+Math.imul(ve,cn)|0)+Math.imul(Te,Cn)|0,v=v+Math.imul(Te,cn)|0,x=x+Math.imul(Ee,vt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(De,nn)|0,s=(s=s+Math.imul(De,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,wt)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,wt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(qe,It)|0,s=(s=s+Math.imul(qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(le,gn)|0,s=(s=s+Math.imul(le,ln)|0)+Math.imul(Ae,gn)|0,v=v+Math.imul(Ae,ln)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(ve,vt)|0,s=(s=s+Math.imul(ve,ut)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(De,yt)|0,s=(s=s+Math.imul(De,wt)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,wt)|0;var Yt=(R+(x=x+Math.imul(F,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(F,et)|0)+Math.imul(Q,Ye)|0))<<13)|0;R=((v=v+Math.imul(Q,et)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(qe,gn)|0,s=(s=s+Math.imul(qe,ln)|0)+Math.imul(ze,gn)|0,v=v+Math.imul(ze,ln)|0,x=x+Math.imul(le,Cn)|0,s=(s=s+Math.imul(le,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(me,vt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,vt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(ve,nn)|0,s=(s=s+Math.imul(ve,pn)|0)+Math.imul(Te,nn)|0,v=v+Math.imul(Te,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,wt)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,wt)|0,x=x+Math.imul(De,Ye)|0,s=(s=s+Math.imul(De,et)|0)+Math.imul(Re,Ye)|0,v=v+Math.imul(Re,et)|0;var En=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(En>>>26)|0,En&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,gn)|0,s=(s=s+Math.imul(Xe,ln)|0)+Math.imul(Ue,gn)|0,v=v+Math.imul(Ue,ln)|0,x=x+Math.imul(qe,Cn)|0,s=(s=s+Math.imul(qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(le,vt)|0,s=(s=s+Math.imul(le,ut)|0)+Math.imul(Ae,vt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(ve,yt)|0,s=(s=s+Math.imul(ve,wt)|0)+Math.imul(Te,yt)|0,v=v+Math.imul(Te,wt)|0,x=x+Math.imul(Ee,Ye)|0,s=(s=s+Math.imul(Ee,et)|0)+Math.imul(_e,Ye)|0,v=v+Math.imul(_e,et)|0,x=x+Math.imul(De,Ft)|0,s=(s=s+Math.imul(De,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var zn=(R+(x=x+Math.imul(F,bn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Mn)|0)+Math.imul(Q,bn)|0))<<13)|0;R=((v=v+Math.imul(Q,Mn)|0)+(s>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,gn)|0,s=(s=s+Math.imul(K,ln)|0)+Math.imul(T,gn)|0,v=v+Math.imul(T,ln)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(qe,vt)|0,s=(s=s+Math.imul(qe,ut)|0)+Math.imul(ze,vt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(le,nn)|0,s=(s=s+Math.imul(le,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,wt)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,wt)|0,x=x+Math.imul(ve,Ye)|0,s=(s=s+Math.imul(ve,et)|0)+Math.imul(Te,Ye)|0,v=v+Math.imul(Te,et)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(De,bn)|0)|0)+((8191&(s=(s=s+Math.imul(De,Mn)|0)+Math.imul(Re,bn)|0))<<13)|0;R=((v=v+Math.imul(Re,Mn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,gn),s=(s=Math.imul(Y,ln))+Math.imul(pe,gn)|0,v=Math.imul(pe,ln),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,vt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,vt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(qe,nn)|0,s=(s=s+Math.imul(qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(le,yt)|0,s=(s=s+Math.imul(le,wt)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,wt)|0,x=x+Math.imul(me,Ye)|0,s=(s=s+Math.imul(me,et)|0)+Math.imul(te,Ye)|0,v=v+Math.imul(te,et)|0,x=x+Math.imul(ve,Ft)|0,s=(s=s+Math.imul(ve,mn)|0)+Math.imul(Te,Ft)|0,v=v+Math.imul(Te,mn)|0;var mr=(R+(x=x+Math.imul(Ee,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Mn)|0)+Math.imul(_e,bn)|0))<<13)|0;R=((v=v+Math.imul(_e,Mn)|0)+(s>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,vt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,vt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(qe,yt)|0,s=(s=s+Math.imul(qe,wt)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,wt)|0,x=x+Math.imul(le,Ye)|0,s=(s=s+Math.imul(le,et)|0)+Math.imul(Ae,Ye)|0,v=v+Math.imul(Ae,et)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Lr=(R+(x=x+Math.imul(ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ve,Mn)|0)+Math.imul(Te,bn)|0))<<13)|0;R=((v=v+Math.imul(Te,Mn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,vt),s=(s=Math.imul(Y,ut))+Math.imul(pe,vt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,wt)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,wt)|0,x=x+Math.imul(qe,Ye)|0,s=(s=s+Math.imul(qe,et)|0)+Math.imul(ze,Ye)|0,v=v+Math.imul(ze,et)|0,x=x+Math.imul(le,Ft)|0,s=(s=s+Math.imul(le,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var Pr=(R+(x=x+Math.imul(me,bn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Mn)|0)+Math.imul(te,bn)|0))<<13)|0;R=((v=v+Math.imul(te,Mn)|0)+(s>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,wt)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,wt)|0,x=x+Math.imul(Xe,Ye)|0,s=(s=s+Math.imul(Xe,et)|0)+Math.imul(Ue,Ye)|0,v=v+Math.imul(Ue,et)|0,x=x+Math.imul(qe,Ft)|0,s=(s=s+Math.imul(qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Kr=(R+(x=x+Math.imul(le,bn)|0)|0)+((8191&(s=(s=s+Math.imul(le,Mn)|0)+Math.imul(Ae,bn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Mn)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,wt))+Math.imul(pe,yt)|0,v=Math.imul(pe,wt),x=x+Math.imul(K,Ye)|0,s=(s=s+Math.imul(K,et)|0)+Math.imul(T,Ye)|0,v=v+Math.imul(T,et)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Fr=(R+(x=x+Math.imul(qe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(qe,Mn)|0)+Math.imul(ze,bn)|0))<<13)|0;R=((v=v+Math.imul(ze,Mn)|0)+(s>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,x=Math.imul(Y,Ye),s=(s=Math.imul(Y,et))+Math.imul(pe,Ye)|0,v=Math.imul(pe,et),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var di=(R+(x=x+Math.imul(Xe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Mn)|0)+Math.imul(Ue,bn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Mn)|0)+(s>>>13)|0)+(di>>>26)|0,di&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mn)|0)+Math.imul(T,bn)|0))<<13)|0;R=((v=v+Math.imul(T,Mn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var wn=(R+(x=Math.imul(Y,bn))|0)+((8191&(s=(s=Math.imul(Y,Mn))+Math.imul(pe,bn)|0))<<13)|0;return R=((v=Math.imul(pe,Mn))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,D[0]=br,D[1]=or,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Yt,D[8]=En,D[9]=zn,D[10]=er,D[11]=mr,D[12]=Lr,D[13]=Pr,D[14]=Kr,D[15]=Fr,D[16]=di,D[17]=on,D[18]=wn,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var De=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=De+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=De-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var De=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=De}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,De=0;0!==de.cmp(D);De++)de=de.redSqr();P(De<Q);var Re=this.pow(v,new w(1).iushln(Q-De-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=De}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(We=_.nmd(We),this)},67211:(We,j,_)=>{"use strict";var y=_(71993),b=_(34725),P=_(36636),H=_(25443),w=_(3247);function O(S){w.call(this,"digest"),this._hash=S}y(O,w),O.prototype._update=function(S){this._hash.update(S)},O.prototype._final=function(){return this._hash.digest()},We.exports=function(B){return"md5"===(B=B.toLowerCase())?new b:"rmd160"===B||"ripemd160"===B?new P:new O(H(B))}},83407:(We,j,_)=>{var y=_(34725);We.exports=function(b){return(new y).update(b).digest()}},56432:(We,j,_)=>{"use strict";var y=_(71993),b=_(90509),P=_(3247),H=_(27054).Buffer,w=_(83407),O=_(36636),S=_(25443),B=H.alloc(128);function N(U,A){P.call(this,"digest"),"string"==typeof A&&(A=H.from(A));var G="sha512"===U||"sha384"===U?128:64;this._alg=U,this._key=A,A.length>G?A=("rmd160"===U?new O:S(U)).update(A).digest():A.length<G&&(A=H.concat([A,B],G));for(var z=this._ipad=H.allocUnsafe(G),ee=this._opad=H.allocUnsafe(G),q=0;q<G;q++)z[q]=54^A[q],ee[q]=92^A[q];this._hash="rmd160"===U?new O:S(U),this._hash.update(z)}y(N,P),N.prototype._update=function(U){this._hash.update(U)},N.prototype._final=function(){var U=this._hash.digest();return("rmd160"===this._alg?new O:S(this._alg)).update(this._opad).update(U).digest()},We.exports=function(A,G){return"rmd160"===(A=A.toLowerCase())||"ripemd160"===A?new N("rmd160",G):"md5"===A?new b(w,G):new N(A,G)}},90509:(We,j,_)=>{"use strict";var y=_(71993),b=_(27054).Buffer,P=_(3247),H=b.alloc(128),w=64;function O(S,B){P.call(this,"digest"),"string"==typeof B&&(B=b.from(B)),this._alg=S,this._key=B,B.length>w?B=S(B):B.length<w&&(B=b.concat([B,H],w));for(var N=this._ipad=b.allocUnsafe(w),U=this._opad=b.allocUnsafe(w),A=0;A<w;A++)N[A]=54^B[A],U[A]=92^B[A];this._hash=[N]}y(O,P),O.prototype._update=function(S){this._hash.push(S)},O.prototype._final=function(){var S=this._alg(b.concat(this._hash));return this._alg(b.concat([this._opad,S]))},We.exports=O},91426:(We,j,_)=>{"use strict";j.randomBytes=j.rng=j.pseudoRandomBytes=j.prng=_(3342),j.createHash=j.Hash=_(67211),j.createHmac=j.Hmac=_(56432);var y=_(99560),b=Object.keys(y),P=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(b);j.getHashes=function(){return P};var H=_(93397);j.pbkdf2=H.pbkdf2,j.pbkdf2Sync=H.pbkdf2Sync;var w=_(88862);j.Cipher=w.Cipher,j.createCipher=w.createCipher,j.Cipheriv=w.Cipheriv,j.createCipheriv=w.createCipheriv,j.Decipher=w.Decipher,j.createDecipher=w.createDecipher,j.Decipheriv=w.Decipheriv,j.createDecipheriv=w.createDecipheriv,j.getCiphers=w.getCiphers,j.listCiphers=w.listCiphers;var O=_(4377);j.DiffieHellmanGroup=O.DiffieHellmanGroup,j.createDiffieHellmanGroup=O.createDiffieHellmanGroup,j.getDiffieHellman=O.getDiffieHellman,j.createDiffieHellman=O.createDiffieHellman,j.DiffieHellman=O.DiffieHellman;var S=_(79143);j.createSign=S.createSign,j.Sign=S.Sign,j.createVerify=S.createVerify,j.Verify=S.Verify,j.createECDH=_(87303);var B=_(52965);j.publicEncrypt=B.publicEncrypt,j.privateEncrypt=B.privateEncrypt,j.publicDecrypt=B.publicDecrypt,j.privateDecrypt=B.privateDecrypt;var N=_(9682);j.randomFill=N.randomFill,j.randomFillSync=N.randomFillSync,j.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},j.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},71549:(We,j,_)=>{"use strict";j.utils=_(85671),j.Cipher=_(10219),j.DES=_(64166),j.CBC=_(88800),j.EDE=_(62122)},88800:(We,j,_)=>{"use strict";var y=_(39210),b=_(71993),P={};function H(O){y.equal(O.length,8,"Invalid IV length"),this.iv=new Array(8);for(var S=0;S<this.iv.length;S++)this.iv[S]=O[S]}j.instantiate=function w(O){function S(A){O.call(this,A),this._cbcInit()}b(S,O);for(var B=Object.keys(P),N=0;N<B.length;N++){var U=B[N];S.prototype[U]=P[U]}return S.create=function(G){return new S(G)},S},P._cbcInit=function(){var S=new H(this.options.iv);this._cbcState=S},P._update=function(S,B,N,U){var G=this.constructor.super_.prototype,L=this._cbcState.iv;if("encrypt"===this.type){for(var z=0;z<this.blockSize;z++)L[z]^=S[B+z];for(G._update.call(this,L,0,N,U),z=0;z<this.blockSize;z++)L[z]=N[U+z]}else{for(G._update.call(this,S,B,N,U),z=0;z<this.blockSize;z++)N[U+z]^=L[z];for(z=0;z<this.blockSize;z++)L[z]=S[B+z]}}},10219:(We,j,_)=>{"use strict";var y=_(39210);function b(P){this.options=P,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==P.padding}We.exports=b,b.prototype._init=function(){},b.prototype.update=function(H){return 0===H.length?[]:"decrypt"===this.type?this._updateDecrypt(H):this._updateEncrypt(H)},b.prototype._buffer=function(H,w){for(var O=Math.min(this.buffer.length-this.bufferOff,H.length-w),S=0;S<O;S++)this.buffer[this.bufferOff+S]=H[w+S];return this.bufferOff+=O,O},b.prototype._flushBuffer=function(H,w){return this._update(this.buffer,0,H,w),this.bufferOff=0,this.blockSize},b.prototype._updateEncrypt=function(H){var w=0,O=0,B=new Array(((this.bufferOff+H.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(w+=this._buffer(H,w),this.bufferOff===this.buffer.length&&(O+=this._flushBuffer(B,O)));for(var N=H.length-(H.length-w)%this.blockSize;w<N;w+=this.blockSize)this._update(H,w,B,O),O+=this.blockSize;for(;w<H.length;w++,this.bufferOff++)this.buffer[this.bufferOff]=H[w];return B},b.prototype._updateDecrypt=function(H){for(var w=0,O=0,S=Math.ceil((this.bufferOff+H.length)/this.blockSize)-1,B=new Array(S*this.blockSize);S>0;S--)w+=this._buffer(H,w),O+=this._flushBuffer(B,O);return w+=this._buffer(H,w),B},b.prototype.final=function(H){var w,O;return H&&(w=this.update(H)),O="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),w?w.concat(O):O},b.prototype._pad=function(H,w){if(0===w)return!1;for(;w<H.length;)H[w++]=0;return!0},b.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var H=new Array(this.blockSize);return this._update(this.buffer,0,H,0),H},b.prototype._unpad=function(H){return H},b.prototype._finalDecrypt=function(){y.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var H=new Array(this.blockSize);return this._flushBuffer(H,0),this._unpad(H)}},64166:(We,j,_)=>{"use strict";var y=_(39210),b=_(71993),P=_(85671),H=_(10219);function w(){this.tmp=new Array(2),this.keys=null}function O(B){H.call(this,B);var N=new w;this._desState=N,this.deriveKeys(N,B.key)}b(O,H),We.exports=O,O.create=function(N){return new O(N)};var S=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];O.prototype.deriveKeys=function(N,U){N.keys=new Array(32),y.equal(U.length,this.blockSize,"Invalid key length");var A=P.readUInt32BE(U,0),G=P.readUInt32BE(U,4);P.pc1(A,G,N.tmp,0),A=N.tmp[0],G=N.tmp[1];for(var L=0;L<N.keys.length;L+=2){var z=S[L>>>1];A=P.r28shl(A,z),G=P.r28shl(G,z),P.pc2(A,G,N.keys,L)}},O.prototype._update=function(N,U,A,G){var L=this._desState,z=P.readUInt32BE(N,U),ee=P.readUInt32BE(N,U+4);P.ip(z,ee,L.tmp,0),z=L.tmp[0],ee=L.tmp[1],"encrypt"===this.type?this._encrypt(L,z,ee,L.tmp,0):this._decrypt(L,z,ee,L.tmp,0),ee=L.tmp[1],P.writeUInt32BE(A,z=L.tmp[0],G),P.writeUInt32BE(A,ee,G+4)},O.prototype._pad=function(N,U){if(!1===this.padding)return!1;for(var A=N.length-U,G=U;G<N.length;G++)N[G]=A;return!0},O.prototype._unpad=function(N){if(!1===this.padding)return N;for(var U=N[N.length-1],A=N.length-U;A<N.length;A++)y.equal(N[A],U);return N.slice(0,N.length-U)},O.prototype._encrypt=function(N,U,A,G,L){for(var z=U,ee=A,q=0;q<N.keys.length;q+=2){var Z=N.keys[q],J=N.keys[q+1];P.expand(ee,N.tmp,0);var se=P.substitute(Z^=N.tmp[0],J^=N.tmp[1]),ae=ee;ee=(z^P.permute(se))>>>0,z=ae}P.rip(ee,z,G,L)},O.prototype._decrypt=function(N,U,A,G,L){for(var z=A,ee=U,q=N.keys.length-2;q>=0;q-=2){var Z=N.keys[q],J=N.keys[q+1];P.expand(z,N.tmp,0);var se=P.substitute(Z^=N.tmp[0],J^=N.tmp[1]),ae=z;z=(ee^P.permute(se))>>>0,ee=ae}P.rip(z,ee,G,L)}},62122:(We,j,_)=>{"use strict";var y=_(39210),b=_(71993),P=_(10219),H=_(64166);function w(S,B){y.equal(B.length,24,"Invalid key length");var N=B.slice(0,8),U=B.slice(8,16),A=B.slice(16,24);this.ciphers="encrypt"===S?[H.create({type:"encrypt",key:N}),H.create({type:"decrypt",key:U}),H.create({type:"encrypt",key:A})]:[H.create({type:"decrypt",key:A}),H.create({type:"encrypt",key:U}),H.create({type:"decrypt",key:N})]}function O(S){P.call(this,S);var B=new w(this.type,this.options.key);this._edeState=B}b(O,P),We.exports=O,O.create=function(B){return new O(B)},O.prototype._update=function(B,N,U,A){var G=this._edeState;G.ciphers[0]._update(B,N,U,A),G.ciphers[1]._update(U,A,U,A),G.ciphers[2]._update(U,A,U,A)},O.prototype._pad=H.prototype._pad,O.prototype._unpad=H.prototype._unpad},85671:(We,j)=>{"use strict";j.readUInt32BE=function(H,w){return(H[0+w]<<24|H[1+w]<<16|H[2+w]<<8|H[3+w])>>>0},j.writeUInt32BE=function(H,w,O){H[0+O]=w>>>24,H[1+O]=w>>>16&255,H[2+O]=w>>>8&255,H[3+O]=255&w},j.ip=function(H,w,O,S){for(var B=0,N=0,U=6;U>=0;U-=2){for(var A=0;A<=24;A+=8)B<<=1,B|=w>>>A+U&1;for(A=0;A<=24;A+=8)B<<=1,B|=H>>>A+U&1}for(U=6;U>=0;U-=2){for(A=1;A<=25;A+=8)N<<=1,N|=w>>>A+U&1;for(A=1;A<=25;A+=8)N<<=1,N|=H>>>A+U&1}O[S+0]=B>>>0,O[S+1]=N>>>0},j.rip=function(H,w,O,S){for(var B=0,N=0,U=0;U<4;U++)for(var A=24;A>=0;A-=8)B<<=1,B|=w>>>A+U&1,B<<=1,B|=H>>>A+U&1;for(U=4;U<8;U++)for(A=24;A>=0;A-=8)N<<=1,N|=w>>>A+U&1,N<<=1,N|=H>>>A+U&1;O[S+0]=B>>>0,O[S+1]=N>>>0},j.pc1=function(H,w,O,S){for(var B=0,N=0,U=7;U>=5;U--){for(var A=0;A<=24;A+=8)B<<=1,B|=w>>A+U&1;for(A=0;A<=24;A+=8)B<<=1,B|=H>>A+U&1}for(A=0;A<=24;A+=8)B<<=1,B|=w>>A+U&1;for(U=1;U<=3;U++){for(A=0;A<=24;A+=8)N<<=1,N|=w>>A+U&1;for(A=0;A<=24;A+=8)N<<=1,N|=H>>A+U&1}for(A=0;A<=24;A+=8)N<<=1,N|=H>>A+U&1;O[S+0]=B>>>0,O[S+1]=N>>>0},j.r28shl=function(H,w){return H<<w&268435455|H>>>28-w};var _=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];j.pc2=function(H,w,O,S){for(var B=0,N=0,U=_.length>>>1,A=0;A<U;A++)B<<=1,B|=H>>>_[A]&1;for(A=U;A<_.length;A++)N<<=1,N|=w>>>_[A]&1;O[S+0]=B>>>0,O[S+1]=N>>>0},j.expand=function(H,w,O){var S=0,B=0;S=(1&H)<<5|H>>>27;for(var N=23;N>=15;N-=4)S<<=6,S|=H>>>N&63;for(N=11;N>=3;N-=4)B|=H>>>N&63,B<<=6;B|=(31&H)<<1|H>>>31,w[O+0]=S>>>0,w[O+1]=B>>>0};var y=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];j.substitute=function(H,w){for(var O=0,S=0;S<4;S++)O<<=4,O|=y[64*S+(H>>>18-6*S&63)];for(S=0;S<4;S++)O<<=4,O|=y[256+64*S+(w>>>18-6*S&63)];return O>>>0};var b=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];j.permute=function(H){for(var w=0,O=0;O<b.length;O++)w<<=1,w|=H>>>b[O]&1;return w>>>0},j.padSplit=function(H,w,O){for(var S=H.toString(2);S.length<w;)S="0"+S;for(var B=[],N=0;N<w;N+=O)B.push(S.slice(N,N+O));return B.join(" ")}},4377:(We,j,_)=>{var y=_(12727),b=_(23241),P=_(94593),w={binary:!0,hex:!0,base64:!0};j.DiffieHellmanGroup=j.createDiffieHellmanGroup=j.getDiffieHellman=function H(S){var B=new Buffer(b[S].prime,"hex"),N=new Buffer(b[S].gen,"hex");return new P(B,N)},j.createDiffieHellman=j.DiffieHellman=function O(S,B,N,U){return Buffer.isBuffer(B)||void 0===w[B]?O(S,"binary",B,N):(B=B||"binary",U=U||"binary",N=N||new Buffer([2]),Buffer.isBuffer(N)||(N=new Buffer(N,U)),"number"==typeof S?new P(y(S,N),N,!0):(Buffer.isBuffer(S)||(S=new Buffer(S,B)),new P(S,N,!0)))}},94593:(We,j,_)=>{var y=_(38280),P=new(_(53459)),H=new y(24),w=new y(11),O=new y(10),S=new y(3),B=new y(7),N=_(12727),U=_(3342);function A(Z,J){return J=J||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,J)),this._pub=new y(Z),this}function G(Z,J){return J=J||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,J)),this._priv=new y(Z),this}We.exports=ee;var L={};function ee(Z,J,se){this.setGenerator(J),this.__prime=new y(Z),this._prime=y.mont(this.__prime),this._primeLen=Z.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,se?(this.setPublicKey=A,this.setPrivateKey=G):this._primeCode=8}function q(Z,J){var se=new Buffer(Z.toArray());return J?se.toString(J):se}Object.defineProperty(ee.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function z(Z,J){var se=J.toString("hex"),ce=[se,Z.toString(16)].join("_");if(ce in L)return L[ce];var fe,ae=0;if(Z.isEven()||!N.simpleSieve||!N.fermatTest(Z)||!P.test(Z))return ae+=1,L[ce]=ae+="02"===se||"05"===se?8:4,ae;switch(P.test(Z.shrn(1))||(ae+=2),se){case"02":Z.mod(H).cmp(w)&&(ae+=8);break;case"05":(fe=Z.mod(O)).cmp(S)&&fe.cmp(B)&&(ae+=8);break;default:ae+=4}return L[ce]=ae,ae}(this.__prime,this.__gen)),this._primeCode}}),ee.prototype.generateKeys=function(){return this._priv||(this._priv=new y(U(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},ee.prototype.computeSecret=function(Z){var J=(Z=(Z=new y(Z)).toRed(this._prime)).redPow(this._priv).fromRed(),se=new Buffer(J.toArray()),ce=this.getPrime();if(se.length<ce.length){var ae=new Buffer(ce.length-se.length);ae.fill(0),se=Buffer.concat([ae,se])}return se},ee.prototype.getPublicKey=function(J){return q(this._pub,J)},ee.prototype.getPrivateKey=function(J){return q(this._priv,J)},ee.prototype.getPrime=function(Z){return q(this.__prime,Z)},ee.prototype.getGenerator=function(Z){return q(this._gen,Z)},ee.prototype.setGenerator=function(Z,J){return J=J||"utf8",Buffer.isBuffer(Z)||(Z=new Buffer(Z,J)),this.__gen=Z,this._gen=new y(Z),this}},12727:(We,j,_)=>{var y=_(3342);We.exports=ae,ae.simpleSieve=se,ae.fermatTest=ce;var b=_(38280),P=new b(24),w=new(_(53459)),O=new b(1),S=new b(2),B=new b(5),A=(new b(16),new b(8),new b(10)),G=new b(3),z=(new b(7),new b(11)),ee=new b(4),Z=(new b(12),null);function se(fe){for(var he=function J(){if(null!==Z)return Z;var he=[];he[0]=2;for(var we=1,Me=3;Me<1048576;Me+=2){for(var Pe=Math.ceil(Math.sqrt(Me)),C=0;C<we&&he[C]<=Pe&&Me%he[C]!=0;C++);we!==C&&he[C]<=Pe||(he[we++]=Me)}return Z=he,he}(),we=0;we<he.length;we++)if(0===fe.modn(he[we]))return 0===fe.cmpn(he[we]);return!0}function ce(fe){var he=b.mont(fe);return 0===S.toRed(he).redPow(fe.subn(1)).fromRed().cmpn(1)}function ae(fe,he){if(fe<16)return new b(2===he||5===he?[140,123]:[140,39]);he=new b(he);for(var we,Me;;){for(we=new b(y(Math.ceil(fe/8)));we.bitLength()>fe;)we.ishrn(1);if(we.isEven()&&we.iadd(O),we.testn(1)||we.iadd(S),he.cmp(S)){if(!he.cmp(B))for(;we.mod(A).cmp(G);)we.iadd(ee)}else for(;we.mod(P).cmp(z);)we.iadd(ee);if(se(Me=we.shrn(1))&&se(we)&&ce(Me)&&ce(we)&&w.test(Me)&&w.test(we))return we}}},38280:function(We,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(66089).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],De=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],ve=8191&Fe,Te=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],le=8191&ne,Ae=ne>>>13,Be=0|p[6],qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],gn=8191&rn,ln=rn>>>13,ar=0|E[3],Cn=8191&ar,cn=ar>>>13,Zt=0|E[4],vt=8191&Zt,ut=Zt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,fr=0|E[6],yt=8191&fr,wt=fr>>>13,Et=0|E[7],Ye=8191&Et,et=Et>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,Vn=0|E[9],bn=8191&Vn,Mn=Vn>>>13;m.negative=a.negative^d.negative,m.length=19;var br=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(br>>>26)|0,br&=67108863,x=Math.imul(De,Ne),s=(s=Math.imul(De,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var or=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(De,It)|0,s=(s=s+Math.imul(De,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,gn)|0)|0)+((8191&(s=(s=s+Math.imul(F,ln)|0)+Math.imul(Q,gn)|0))<<13)|0;R=((v=v+Math.imul(Q,ln)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(ve,Ne),s=(s=Math.imul(ve,lt))+Math.imul(Te,Ne)|0,v=Math.imul(Te,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(De,gn)|0,s=(s=s+Math.imul(De,ln)|0)+Math.imul(Re,gn)|0,v=v+Math.imul(Re,ln)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(ve,It)|0,s=(s=s+Math.imul(ve,Kt)|0)+Math.imul(Te,It)|0,v=v+Math.imul(Te,Kt)|0,x=x+Math.imul(Ee,gn)|0,s=(s=s+Math.imul(Ee,ln)|0)+Math.imul(_e,gn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(De,Cn)|0,s=(s=s+Math.imul(De,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,vt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,vt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(le,Ne),s=(s=Math.imul(le,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(ve,gn)|0,s=(s=s+Math.imul(ve,ln)|0)+Math.imul(Te,gn)|0,v=v+Math.imul(Te,ln)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(De,vt)|0,s=(s=s+Math.imul(De,ut)|0)+Math.imul(Re,vt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(qe,Ne),s=(s=Math.imul(qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(le,It)|0,s=(s=s+Math.imul(le,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(me,gn)|0,s=(s=s+Math.imul(me,ln)|0)+Math.imul(te,gn)|0,v=v+Math.imul(te,ln)|0,x=x+Math.imul(ve,Cn)|0,s=(s=s+Math.imul(ve,cn)|0)+Math.imul(Te,Cn)|0,v=v+Math.imul(Te,cn)|0,x=x+Math.imul(Ee,vt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(De,nn)|0,s=(s=s+Math.imul(De,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,wt)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,wt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(qe,It)|0,s=(s=s+Math.imul(qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(le,gn)|0,s=(s=s+Math.imul(le,ln)|0)+Math.imul(Ae,gn)|0,v=v+Math.imul(Ae,ln)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(ve,vt)|0,s=(s=s+Math.imul(ve,ut)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(De,yt)|0,s=(s=s+Math.imul(De,wt)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,wt)|0;var Yt=(R+(x=x+Math.imul(F,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(F,et)|0)+Math.imul(Q,Ye)|0))<<13)|0;R=((v=v+Math.imul(Q,et)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(qe,gn)|0,s=(s=s+Math.imul(qe,ln)|0)+Math.imul(ze,gn)|0,v=v+Math.imul(ze,ln)|0,x=x+Math.imul(le,Cn)|0,s=(s=s+Math.imul(le,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(me,vt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,vt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(ve,nn)|0,s=(s=s+Math.imul(ve,pn)|0)+Math.imul(Te,nn)|0,v=v+Math.imul(Te,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,wt)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,wt)|0,x=x+Math.imul(De,Ye)|0,s=(s=s+Math.imul(De,et)|0)+Math.imul(Re,Ye)|0,v=v+Math.imul(Re,et)|0;var En=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(En>>>26)|0,En&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,gn)|0,s=(s=s+Math.imul(Xe,ln)|0)+Math.imul(Ue,gn)|0,v=v+Math.imul(Ue,ln)|0,x=x+Math.imul(qe,Cn)|0,s=(s=s+Math.imul(qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(le,vt)|0,s=(s=s+Math.imul(le,ut)|0)+Math.imul(Ae,vt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(ve,yt)|0,s=(s=s+Math.imul(ve,wt)|0)+Math.imul(Te,yt)|0,v=v+Math.imul(Te,wt)|0,x=x+Math.imul(Ee,Ye)|0,s=(s=s+Math.imul(Ee,et)|0)+Math.imul(_e,Ye)|0,v=v+Math.imul(_e,et)|0,x=x+Math.imul(De,Ft)|0,s=(s=s+Math.imul(De,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var zn=(R+(x=x+Math.imul(F,bn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Mn)|0)+Math.imul(Q,bn)|0))<<13)|0;R=((v=v+Math.imul(Q,Mn)|0)+(s>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,gn)|0,s=(s=s+Math.imul(K,ln)|0)+Math.imul(T,gn)|0,v=v+Math.imul(T,ln)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(qe,vt)|0,s=(s=s+Math.imul(qe,ut)|0)+Math.imul(ze,vt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(le,nn)|0,s=(s=s+Math.imul(le,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,wt)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,wt)|0,x=x+Math.imul(ve,Ye)|0,s=(s=s+Math.imul(ve,et)|0)+Math.imul(Te,Ye)|0,v=v+Math.imul(Te,et)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(De,bn)|0)|0)+((8191&(s=(s=s+Math.imul(De,Mn)|0)+Math.imul(Re,bn)|0))<<13)|0;R=((v=v+Math.imul(Re,Mn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,gn),s=(s=Math.imul(Y,ln))+Math.imul(pe,gn)|0,v=Math.imul(pe,ln),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,vt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,vt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(qe,nn)|0,s=(s=s+Math.imul(qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(le,yt)|0,s=(s=s+Math.imul(le,wt)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,wt)|0,x=x+Math.imul(me,Ye)|0,s=(s=s+Math.imul(me,et)|0)+Math.imul(te,Ye)|0,v=v+Math.imul(te,et)|0,x=x+Math.imul(ve,Ft)|0,s=(s=s+Math.imul(ve,mn)|0)+Math.imul(Te,Ft)|0,v=v+Math.imul(Te,mn)|0;var mr=(R+(x=x+Math.imul(Ee,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Mn)|0)+Math.imul(_e,bn)|0))<<13)|0;R=((v=v+Math.imul(_e,Mn)|0)+(s>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,vt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,vt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(qe,yt)|0,s=(s=s+Math.imul(qe,wt)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,wt)|0,x=x+Math.imul(le,Ye)|0,s=(s=s+Math.imul(le,et)|0)+Math.imul(Ae,Ye)|0,v=v+Math.imul(Ae,et)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Lr=(R+(x=x+Math.imul(ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ve,Mn)|0)+Math.imul(Te,bn)|0))<<13)|0;R=((v=v+Math.imul(Te,Mn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,vt),s=(s=Math.imul(Y,ut))+Math.imul(pe,vt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,wt)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,wt)|0,x=x+Math.imul(qe,Ye)|0,s=(s=s+Math.imul(qe,et)|0)+Math.imul(ze,Ye)|0,v=v+Math.imul(ze,et)|0,x=x+Math.imul(le,Ft)|0,s=(s=s+Math.imul(le,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var Pr=(R+(x=x+Math.imul(me,bn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Mn)|0)+Math.imul(te,bn)|0))<<13)|0;R=((v=v+Math.imul(te,Mn)|0)+(s>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,wt)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,wt)|0,x=x+Math.imul(Xe,Ye)|0,s=(s=s+Math.imul(Xe,et)|0)+Math.imul(Ue,Ye)|0,v=v+Math.imul(Ue,et)|0,x=x+Math.imul(qe,Ft)|0,s=(s=s+Math.imul(qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Kr=(R+(x=x+Math.imul(le,bn)|0)|0)+((8191&(s=(s=s+Math.imul(le,Mn)|0)+Math.imul(Ae,bn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Mn)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,wt))+Math.imul(pe,yt)|0,v=Math.imul(pe,wt),x=x+Math.imul(K,Ye)|0,s=(s=s+Math.imul(K,et)|0)+Math.imul(T,Ye)|0,v=v+Math.imul(T,et)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Fr=(R+(x=x+Math.imul(qe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(qe,Mn)|0)+Math.imul(ze,bn)|0))<<13)|0;R=((v=v+Math.imul(ze,Mn)|0)+(s>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,x=Math.imul(Y,Ye),s=(s=Math.imul(Y,et))+Math.imul(pe,Ye)|0,v=Math.imul(pe,et),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var di=(R+(x=x+Math.imul(Xe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Mn)|0)+Math.imul(Ue,bn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Mn)|0)+(s>>>13)|0)+(di>>>26)|0,di&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mn)|0)+Math.imul(T,bn)|0))<<13)|0;R=((v=v+Math.imul(T,Mn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var wn=(R+(x=Math.imul(Y,bn))|0)+((8191&(s=(s=Math.imul(Y,Mn))+Math.imul(pe,bn)|0))<<13)|0;return R=((v=Math.imul(pe,Mn))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,D[0]=br,D[1]=or,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Yt,D[8]=En,D[9]=zn,D[10]=er,D[11]=mr,D[12]=Lr,D[13]=Pr,D[14]=Kr,D[15]=Fr,D[16]=di,D[17]=on,D[18]=wn,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var De=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=De+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=De-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var De=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=De}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,De=0;0!==de.cmp(D);De++)de=de.redSqr();P(De<Q);var Re=this.pow(v,new w(1).iushln(Q-De-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=De}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(We=_.nmd(We),this)},48967:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.ephemeralKeySize=j.symmetricNonceLength=j.symmetricAlgorithm=j.isHkdfKeyCompressed=j.isEphemeralKeyCompressed=j.ellipticCurve=j.ECIES_CONFIG=void 0;var y=_(29277);j.ECIES_CONFIG=new(function(){return function N(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),j.ellipticCurve=function(){return j.ECIES_CONFIG.ellipticCurve},j.isEphemeralKeyCompressed=function(){return j.ECIES_CONFIG.isEphemeralKeyCompressed},j.isHkdfKeyCompressed=function(){return j.ECIES_CONFIG.isHkdfKeyCompressed},j.symmetricAlgorithm=function(){return j.ECIES_CONFIG.symmetricAlgorithm},j.symmetricNonceLength=function(){return j.ECIES_CONFIG.symmetricNonceLength},j.ephemeralKeySize=function(){var N={secp256k1:j.ECIES_CONFIG.isEphemeralKeyCompressed?y.COMPRESSED_PUBLIC_KEY_SIZE:y.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:y.CURVE25519_PUBLIC_KEY_SIZE,ed25519:y.CURVE25519_PUBLIC_KEY_SIZE};if(j.ECIES_CONFIG.ellipticCurve in N)return N[j.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:(We,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.AEAD_TAG_LENGTH=j.XCHACHA20_NONCE_LENGTH=j.CURVE25519_PUBLIC_KEY_SIZE=j.ETH_PUBLIC_KEY_SIZE=j.UNCOMPRESSED_PUBLIC_KEY_SIZE=j.COMPRESSED_PUBLIC_KEY_SIZE=j.SECRET_KEY_LENGTH=void 0,j.SECRET_KEY_LENGTH=32,j.COMPRESSED_PUBLIC_KEY_SIZE=33,j.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,j.ETH_PUBLIC_KEY_SIZE=64,j.CURVE25519_PUBLIC_KEY_SIZE=32,j.XCHACHA20_NONCE_LENGTH=24,j.AEAD_TAG_LENGTH=16},63397:(We,j,_)=>{"use strict";j.VV=j.Yc=j.w=void 0;var b=_(23790),P=_(48967),H=_(40774),w=_(77399);j.w=function O(U,A){var q,G=new H.PrivateKey,L=U instanceof Uint8Array?new H.PublicKey(U):H.PublicKey.fromHex(U),z=G.encapsulate(L),ee=(0,w.aesEncrypt)(z,A);return q=(0,P.isEphemeralKeyCompressed)()?G.publicKey.compressed:G.publicKey.uncompressed,Buffer.from((0,b.concatBytes)(q,ee))},j.Yc=function S(U,A){var G=U instanceof Uint8Array?new H.PrivateKey(U):H.PrivateKey.fromHex(U),L=(0,P.ephemeralKeySize)(),z=new H.PublicKey(A.subarray(0,L)),ee=A.subarray(L),q=z.decapsulate(G);return Buffer.from((0,w.aesDecrypt)(q,ee))};var B=_(48967);Object.defineProperty(j,"VV",{enumerable:!0,get:function(){return B.ECIES_CONFIG}});_(40774)},1210:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PrivateKey=void 0;var y=_(23790),b=_(48967),P=_(77399),H=_(40762),w=function(){function O(S){var B=void 0===S?(0,P.getValidSecret)():S;if(!(0,P.isValidPrivateKey)(B))throw new Error("Invalid private key");this.data=B,this.publicKey=new H.PublicKey((0,P.getPublicKey)(B))}return O.fromHex=function(S){return new O((0,P.decodeHex)(S))},Object.defineProperty(O.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),O.prototype.toHex=function(){return(0,y.bytesToHex)(this.data)},O.prototype.encapsulate=function(S){var B,N;return(0,b.isHkdfKeyCompressed)()?(B=this.publicKey.compressed,N=this.multiply(S,!0)):(B=this.publicKey.uncompressed,N=this.multiply(S,!1)),(0,P.getSharedKey)(B,N)},O.prototype.multiply=function(S,B){return void 0===B&&(B=!1),(0,P.getSharedPoint)(this.data,S.compressed,B)},O.prototype.equals=function(S){return(0,y.equalBytes)(this.data,S.data)},O}();j.PrivateKey=w},40762:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PublicKey=void 0;var y=_(23790),b=_(48967),P=_(77399),H=function(){function w(O){this.data=(0,P.convertPublicKeyFormat)(O,!0)}return w.fromHex=function(O){return new w((0,P.hexToPublicKey)(O))},Object.defineProperty(w.prototype,"uncompressed",{get:function(){return Buffer.from((0,P.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),w.prototype.toHex=function(O){return void 0===O&&(O=!0),(0,y.bytesToHex)(O?this.data:this.uncompressed)},w.prototype.decapsulate=function(O){var S,B;return(0,b.isHkdfKeyCompressed)()?(S=this.data,B=O.multiply(this,!0)):(S=this.uncompressed,B=O.multiply(this,!1)),(0,P.getSharedKey)(S,B)},w.prototype.equals=function(O){return(0,y.equalBytes)(this.data,O.data)},w}();j.PublicKey=H},40774:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PublicKey=j.PrivateKey=void 0;var y=_(1210);Object.defineProperty(j,"PrivateKey",{enumerable:!0,get:function(){return y.PrivateKey}});var b=_(40762);Object.defineProperty(j,"PublicKey",{enumerable:!0,get:function(){return b.PublicKey}})},1849:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.aes256gcm=void 0;var y=_(23790),b=_(91426),P=_(29277);j.aes256gcm=function H(w,O,S){return{tagLength:P.AEAD_TAG_LENGTH,encrypt:function(U){var A=(0,b.createCipheriv)("aes-256-gcm",w,O);S&&A.setAAD(S);var G=A.update(U),L=A.final();return(0,y.concatBytes)(G,L,A.getAuthTag())},decrypt:function(U){var A=U.subarray(0,U.length-P.AEAD_TAG_LENGTH),G=U.subarray(-P.AEAD_TAG_LENGTH),L=(0,b.createDecipheriv)("aes-256-gcm",w,O);S&&L.setAAD(S),L.setAuthTag(G);var z=L.update(A),ee=L.final();return(0,y.concatBytes)(z,ee)}}}},77553:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.hexToPublicKey=j.convertPublicKeyFormat=j.getSharedPoint=j.getSharedKey=j.getPublicKey=j.isValidPrivateKey=j.getValidSecret=void 0;var y=_(23790),b=_(42098),P=_(57340),H=_(91717),w=_(48967),O=_(29277),S=_(99666),B=_(63364);function U(Z){return q(function(J){return J.utils.isValidPrivateKey(Z)},function(){return!0},function(){return!0})}function q(Z,J,se){if("secp256k1"===(0,w.ellipticCurve)())return Z(H.secp256k1);if("x25519"===(0,w.ellipticCurve)())return J(P.x25519);if("ed25519"===(0,w.ellipticCurve)())return se(P.ed25519);throw new Error("Not implemented")}j.getValidSecret=function N(){var Z;do{Z=(0,b.randomBytes)(O.SECRET_KEY_LENGTH)}while(!U(Z));return Z},j.isValidPrivateKey=U,j.getPublicKey=function A(Z){return q(function(J){return J.getPublicKey(Z)},function(J){return J.getPublicKey(Z)},function(J){return J.getPublicKey(Z)})},j.getSharedKey=function G(Z,J){return(0,B.deriveKey)((0,y.concatBytes)(Z,J))},j.getSharedPoint=function L(Z,J,se){return q(function(ce){return ce.getSharedSecret(Z,J,se)},function(ce){return ce.getSharedSecret(Z,J)},function(ce){var ae=ce.utils.getExtendedPublicKey(Z).scalar;return ce.ExtendedPoint.fromHex(J).multiply(ae).toRawBytes()})},j.convertPublicKeyFormat=function z(Z,J){return q(function(se){return se.getSharedSecret(BigInt(1),Z,J)},function(){return Z},function(){return Z})},j.hexToPublicKey=function ee(Z){var J=(0,S.decodeHex)(Z);return q(function(){if(J.length===O.ETH_PUBLIC_KEY_SIZE){var se=new Uint8Array(1+J.length);return se.set([4]),se.set(J,1),se}return J},function(){return J},function(){return J})}},99666:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.decodeHex=j.remove0x=void 0;var y=_(23790);function b(H){return H.startsWith("0x")||H.startsWith("0X")?H.slice(2):H}j.remove0x=b,j.decodeHex=function P(H){return(0,y.hexToBytes)(b(H))}},77399:function(We,j,_){"use strict";var y=this&&this.__createBinding||(Object.create?function(P,H,w,O){void 0===O&&(O=w);var S=Object.getOwnPropertyDescriptor(H,w);(!S||("get"in S?!H.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return H[w]}}),Object.defineProperty(P,O,S)}:function(P,H,w,O){void 0===O&&(O=w),P[O]=H[w]}),b=this&&this.__exportStar||function(P,H){for(var w in P)"default"!==w&&!Object.prototype.hasOwnProperty.call(H,w)&&y(H,P,w)};Object.defineProperty(j,"__esModule",{value:!0}),b(_(77553),j),b(_(99666),j),b(_(63364),j)},63364:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.deriveKey=j.aesDecrypt=j.aesEncrypt=void 0;var y=_(59219),b=_(23790),P=_(42098),H=_(57334),w=_(1806),O=_(48967),S=_(29277),B=_(1849);function G(ee,q,Z){var J=(0,O.symmetricAlgorithm)(),se=ee?L:z;if("aes-256-gcm"===J)return se(B.aes256gcm,q,Z,(0,O.symmetricNonceLength)());if("xchacha20"===J)return se(y.xchacha20poly1305,q,Z,S.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function L(ee,q,Z,J){var se=(0,P.randomBytes)(J),ae=ee(q,se).encrypt(Z),fe=ae.subarray(0,ae.length-S.AEAD_TAG_LENGTH),he=ae.subarray(-S.AEAD_TAG_LENGTH);return(0,b.concatBytes)(se,he,fe)}function z(ee,q,Z,J){var se=J+S.AEAD_TAG_LENGTH,ce=Z.subarray(0,J),ae=Z.subarray(J,se),fe=Z.subarray(se),he=ee(q,Uint8Array.from(ce)),we=(0,b.concatBytes)(fe,ae);return he.decrypt(we)}j.aesEncrypt=function N(ee,q){return G(!0,ee,q)},j.aesDecrypt=function U(ee,q){return G(!1,ee,q)},j.deriveKey=function A(ee){return(0,H.hkdf)(w.sha256,ee,void 0,void 0,32)}},32856:(We,j)=>{"use strict";function _(S){if(!Number.isSafeInteger(S)||S<0)throw new Error(`Wrong positive integer: ${S}`)}function y(S){if("boolean"!=typeof S)throw new Error(`Expected boolean, not ${S}`)}function b(S,...B){if(!(S instanceof Uint8Array))throw new Error("Expected Uint8Array");if(B.length>0&&!B.includes(S.length))throw new Error(`Expected Uint8Array of length ${B}, not of length=${S.length}`)}function P(S){if("function"!=typeof S||"function"!=typeof S.create)throw new Error("hash must be wrapped by utils.wrapConstructor");_(S.outputLen),_(S.blockLen)}function H(S,B=!0){if(S.destroyed)throw new Error("Hash instance has been destroyed");if(B&&S.finished)throw new Error("Hash#digest() has already been called")}function w(S,B){b(S);const N=B.outputLen;if(S.length<N)throw new Error(`digestInto() expects output buffer of length at least ${N}`)}Object.defineProperty(j,"__esModule",{value:!0}),j.output=j.exists=j.hash=j.bytes=j.bool=j.number=void 0,j.number=_,j.bool=y,j.bytes=b,j.hash=P,j.exists=H,j.output=w,j.default={number:_,bool:y,bytes:b,hash:P,exists:H,output:w}},17035:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.poly1305=j.wrapConstructorWithKey=void 0;const y=_(23790),b=_(32856),P=(O,S)=>255&O[S++]|(255&O[S++])<<8;class H{constructor(S){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,S=(0,y.toBytes)(S),(0,y.ensureBytes)(S,32);const B=P(S,0),N=P(S,2),U=P(S,4),A=P(S,6),G=P(S,8),L=P(S,10),z=P(S,12),ee=P(S,14);this.r[0]=8191&B,this.r[1]=8191&(B>>>13|N<<3),this.r[2]=7939&(N>>>10|U<<6),this.r[3]=8191&(U>>>7|A<<9),this.r[4]=255&(A>>>4|G<<12),this.r[5]=G>>>1&8190,this.r[6]=8191&(G>>>14|L<<2),this.r[7]=8065&(L>>>11|z<<5),this.r[8]=8191&(z>>>8|ee<<8),this.r[9]=ee>>>5&127;for(let q=0;q<8;q++)this.pad[q]=P(S,16+2*q)}process(S,B,N=!1){const U=N?0:2048,{h:A,r:G}=this,L=G[0],z=G[1],ee=G[2],q=G[3],Z=G[4],J=G[5],se=G[6],ce=G[7],ae=G[8],fe=G[9],he=P(S,B+0),we=P(S,B+2),Me=P(S,B+4),Pe=P(S,B+6),C=P(S,B+8),a=P(S,B+10),d=P(S,B+12),m=P(S,B+14);let p=A[0]+(8191&he),E=A[1]+(8191&(he>>>13|we<<3)),D=A[2]+(8191&(we>>>10|Me<<6)),R=A[3]+(8191&(Me>>>7|Pe<<9)),x=A[4]+(8191&(Pe>>>4|C<<12)),s=A[5]+(C>>>1&8191),v=A[6]+(8191&(C>>>14|a<<2)),$=A[7]+(8191&(a>>>11|d<<5)),F=A[8]+(8191&(d>>>8|m<<8)),Q=A[9]+(m>>>5|U),de=0,De=de+p*L+E*(5*fe)+D*(5*ae)+R*(5*ce)+x*(5*se);de=De>>>13,De&=8191,De+=s*(5*J)+v*(5*Z)+$*(5*q)+F*(5*ee)+Q*(5*z),de+=De>>>13,De&=8191;let Re=de+p*z+E*L+D*(5*fe)+R*(5*ae)+x*(5*ce);de=Re>>>13,Re&=8191,Re+=s*(5*se)+v*(5*J)+$*(5*Z)+F*(5*q)+Q*(5*ee),de+=Re>>>13,Re&=8191;let Ve=de+p*ee+E*z+D*L+R*(5*fe)+x*(5*ae);de=Ve>>>13,Ve&=8191,Ve+=s*(5*ce)+v*(5*se)+$*(5*J)+F*(5*Z)+Q*(5*q),de+=Ve>>>13,Ve&=8191;let Ee=de+p*q+E*ee+D*z+R*L+x*(5*fe);de=Ee>>>13,Ee&=8191,Ee+=s*(5*ae)+v*(5*ce)+$*(5*se)+F*(5*J)+Q*(5*Z),de+=Ee>>>13,Ee&=8191;let _e=de+p*Z+E*q+D*ee+R*z+x*L;de=_e>>>13,_e&=8191,_e+=s*(5*fe)+v*(5*ae)+$*(5*ce)+F*(5*se)+Q*(5*J),de+=_e>>>13,_e&=8191;let Fe=de+p*J+E*Z+D*q+R*ee+x*z;de=Fe>>>13,Fe&=8191,Fe+=s*L+v*(5*fe)+$*(5*ae)+F*(5*ce)+Q*(5*se),de+=Fe>>>13,Fe&=8191;let ve=de+p*se+E*J+D*Z+R*q+x*ee;de=ve>>>13,ve&=8191,ve+=s*z+v*L+$*(5*fe)+F*(5*ae)+Q*(5*ce),de+=ve>>>13,ve&=8191;let Te=de+p*ce+E*se+D*J+R*Z+x*q;de=Te>>>13,Te&=8191,Te+=s*ee+v*z+$*L+F*(5*fe)+Q*(5*ae),de+=Te>>>13,Te&=8191;let ge=de+p*ae+E*ce+D*se+R*J+x*Z;de=ge>>>13,ge&=8191,ge+=s*q+v*ee+$*z+F*L+Q*(5*fe),de+=ge>>>13,ge&=8191;let me=de+p*fe+E*ae+D*ce+R*se+x*J;de=me>>>13,me&=8191,me+=s*Z+v*q+$*ee+F*z+Q*L,de+=me>>>13,me&=8191,de=(de<<2)+de|0,de=de+De|0,De=8191&de,de>>>=13,Re+=de,A[0]=De,A[1]=Re,A[2]=Ve,A[3]=Ee,A[4]=_e,A[5]=Fe,A[6]=ve,A[7]=Te,A[8]=ge,A[9]=me}finalize(){const{h:S,pad:B}=this,N=new Uint16Array(10);let U=S[1]>>>13;S[1]&=8191;for(let L=2;L<10;L++)S[L]+=U,U=S[L]>>>13,S[L]&=8191;S[0]+=5*U,U=S[0]>>>13,S[0]&=8191,S[1]+=U,U=S[1]>>>13,S[1]&=8191,S[2]+=U,N[0]=S[0]+5,U=N[0]>>>13,N[0]&=8191;for(let L=1;L<10;L++)N[L]=S[L]+U,U=N[L]>>>13,N[L]&=8191;N[9]-=8192;let A=(1^U)-1;for(let L=0;L<10;L++)N[L]&=A;A=~A;for(let L=0;L<10;L++)S[L]=S[L]&A|N[L];S[0]=65535&(S[0]|S[1]<<13),S[1]=65535&(S[1]>>>3|S[2]<<10),S[2]=65535&(S[2]>>>6|S[3]<<7),S[3]=65535&(S[3]>>>9|S[4]<<4),S[4]=65535&(S[4]>>>12|S[5]<<1|S[6]<<14),S[5]=65535&(S[6]>>>2|S[7]<<11),S[6]=65535&(S[7]>>>5|S[8]<<8),S[7]=65535&(S[8]>>>8|S[9]<<5);let G=S[0]+B[0];S[0]=65535&G;for(let L=1;L<8;L++)G=(S[L]+B[L]|0)+(G>>>16)|0,S[L]=65535&G}update(S){b.default.exists(this);const{buffer:B,blockLen:N}=this,U=(S=(0,y.toBytes)(S)).length;for(let A=0;A<U;){const G=Math.min(N-this.pos,U-A);if(G!==N)B.set(S.subarray(A,A+G),this.pos),this.pos+=G,A+=G,this.pos===N&&(this.process(B,0,!1),this.pos=0);else for(;N<=U-A;A+=N)this.process(S,A)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(S){b.default.exists(this),b.default.output(S,this),this.finished=!0;const{buffer:B,h:N}=this;let{pos:U}=this;if(U){for(B[U++]=1;U<16;U++)B[U]=0;this.process(B,0,!0)}this.finalize();let A=0;for(let G=0;G<8;G++)S[A++]=N[G]>>>0,S[A++]=N[G]>>>8;return S}digest(){const{buffer:S,outputLen:B}=this;this.digestInto(S);const N=S.slice(0,B);return this.destroy(),N}}function w(O){const S=(N,U)=>O(U).update((0,y.toBytes)(N)).digest(),B=O(new Uint8Array(32));return S.outputLen=B.outputLen,S.blockLen=B.blockLen,S.create=N=>O(N),S}j.wrapConstructorWithKey=w,j.poly1305=w(O=>new H(O))},70580:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.salsaBasic=void 0;const y=_(32856),b=_(23790),P=(0,b.utf8ToBytes)("expand 16-byte k"),H=(0,b.utf8ToBytes)("expand 32-byte k"),w=(0,b.u32)(P),O=(0,b.u32)(H),S=N=>!(N.byteOffset%4);j.salsaBasic=N=>{const{core:U,rounds:A,counterRight:G,counterLen:L,allow128bitKeys:z,extendNonceFn:ee,blockLen:q}=(0,b.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},N);y.default.number(L),y.default.number(A),y.default.number(q),y.default.bool(G),y.default.bool(z);const Z=q/4;if(q%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(J,se,ce,ae,fe=0)=>{if(y.default.bytes(J),y.default.bytes(se),y.default.bytes(ce),ae||(ae=new Uint8Array(ce.length)),y.default.bytes(ae),y.default.number(fe),fe<0||fe>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(ae.length<ce.length)throw new Error(`Salsa/ChaCha: output (${ae.length}) is shorter than data (${ce.length})`);const he=[];let we,Me;if(32===J.length)S(J)?we=J:(we=J.slice(),he.push(we)),Me=O;else{if(16!==J.length||!z)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${J.length}`);we=new Uint8Array(32),we.set(J),we.set(J,16),Me=w,he.push(we)}if(S(se)||(se=se.slice(),he.push(se)),ee){if(se.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");we=ee(Me,we,se.subarray(0,16),new Uint8Array(32)),he.push(we),se=se.subarray(16)}const Pe=16-L;if(se.length!==Pe)throw new Error(`Salsa/ChaCha: nonce must be ${Pe} or 16 bytes`);if(12!==Pe){const R=new Uint8Array(12);R.set(se,G?0:12-se.length),he.push(se=R)}const C=new Uint8Array(q),a=(0,b.u32)(C),d=(0,b.u32)(we),m=(0,b.u32)(se),p=S(ce)&&(0,b.u32)(ce),E=S(ae)&&(0,b.u32)(ae);he.push(a);const D=ce.length;for(let R=0,x=fe;R<D;x++){if(U(Me,d,m,a,x,A),x>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const s=Math.min(q,D-R);if(s===q&&E&&p){const v=R/4;if(R%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let $=0;$<Z;$++)E[v+$]=p[v+$]^a[$];R+=q}else{for(let v=0;v<s;v++)ae[R+v]=ce[R+v]^C[v];R+=s}}for(let R=0;R<he.length;R++)he[R].fill(0);return ae}}},59219:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.xchacha20poly1305=j.chacha20poly1305=j._poly1305_aead=j.chacha12=j.chacha8=j.xchacha20=j.chacha20=j.chacha20orig=j.hchacha=void 0;const y=_(23790),b=_(17035),P=_(70580),H=(A,G)=>A<<G|A>>>32-G;function w(A,G,L,z,ee,q=20){let Z=A[0],J=A[1],se=A[2],ce=A[3],ae=G[0],fe=G[1],he=G[2],we=G[3],Me=G[4],Pe=G[5],C=G[6],a=G[7],d=ee,m=L[0],p=L[1],E=L[2],D=Z,R=J,x=se,s=ce,v=ae,$=fe,F=he,Q=we,de=Me,De=Pe,Re=C,Ve=a,Ee=d,_e=m,Fe=p,ve=E;for(let ge=0;ge<q;ge+=2)D=D+v|0,Ee=H(Ee^D,16),de=de+Ee|0,v=H(v^de,12),D=D+v|0,Ee=H(Ee^D,8),de=de+Ee|0,v=H(v^de,7),R=R+$|0,_e=H(_e^R,16),De=De+_e|0,$=H($^De,12),R=R+$|0,_e=H(_e^R,8),De=De+_e|0,$=H($^De,7),x=x+F|0,Fe=H(Fe^x,16),Re=Re+Fe|0,F=H(F^Re,12),x=x+F|0,Fe=H(Fe^x,8),Re=Re+Fe|0,F=H(F^Re,7),s=s+Q|0,ve=H(ve^s,16),Ve=Ve+ve|0,Q=H(Q^Ve,12),s=s+Q|0,ve=H(ve^s,8),Ve=Ve+ve|0,Q=H(Q^Ve,7),D=D+$|0,ve=H(ve^D,16),Re=Re+ve|0,$=H($^Re,12),D=D+$|0,ve=H(ve^D,8),Re=Re+ve|0,$=H($^Re,7),R=R+F|0,Ee=H(Ee^R,16),Ve=Ve+Ee|0,F=H(F^Ve,12),R=R+F|0,Ee=H(Ee^R,8),Ve=Ve+Ee|0,F=H(F^Ve,7),x=x+Q|0,_e=H(_e^x,16),de=de+_e|0,Q=H(Q^de,12),x=x+Q|0,_e=H(_e^x,8),de=de+_e|0,Q=H(Q^de,7),s=s+v|0,Fe=H(Fe^s,16),De=De+Fe|0,v=H(v^De,12),s=s+v|0,Fe=H(Fe^s,8),De=De+Fe|0,v=H(v^De,7);let Te=0;z[Te++]=Z+D|0,z[Te++]=J+R|0,z[Te++]=se+x|0,z[Te++]=ce+s|0,z[Te++]=ae+v|0,z[Te++]=fe+$|0,z[Te++]=he+F|0,z[Te++]=we+Q|0,z[Te++]=Me+de|0,z[Te++]=Pe+De|0,z[Te++]=C+Re|0,z[Te++]=a+Ve|0,z[Te++]=d+Ee|0,z[Te++]=m+_e|0,z[Te++]=p+Fe|0,z[Te++]=E+ve|0}function O(A,G,L,z){const ee=(0,y.u32)(G),q=(0,y.u32)(L),Z=(0,y.u32)(z);let J=A[0],se=A[1],ce=A[2],ae=A[3],fe=ee[0],he=ee[1],we=ee[2],Me=ee[3],Pe=ee[4],C=ee[5],a=ee[6],d=ee[7],m=q[0],p=q[1],E=q[2],D=q[3];for(let R=0;R<20;R+=2)J=J+fe|0,m=H(m^J,16),Pe=Pe+m|0,fe=H(fe^Pe,12),J=J+fe|0,m=H(m^J,8),Pe=Pe+m|0,fe=H(fe^Pe,7),se=se+he|0,p=H(p^se,16),C=C+p|0,he=H(he^C,12),se=se+he|0,p=H(p^se,8),C=C+p|0,he=H(he^C,7),ce=ce+we|0,E=H(E^ce,16),a=a+E|0,we=H(we^a,12),ce=ce+we|0,E=H(E^ce,8),a=a+E|0,we=H(we^a,7),ae=ae+Me|0,D=H(D^ae,16),d=d+D|0,Me=H(Me^d,12),ae=ae+Me|0,D=H(D^ae,8),d=d+D|0,Me=H(Me^d,7),J=J+he|0,D=H(D^J,16),a=a+D|0,he=H(he^a,12),J=J+he|0,D=H(D^J,8),a=a+D|0,he=H(he^a,7),se=se+we|0,m=H(m^se,16),d=d+m|0,we=H(we^d,12),se=se+we|0,m=H(m^se,8),d=d+m|0,we=H(we^d,7),ce=ce+Me|0,p=H(p^ce,16),Pe=Pe+p|0,Me=H(Me^Pe,12),ce=ce+Me|0,p=H(p^ce,8),Pe=Pe+p|0,Me=H(Me^Pe,7),ae=ae+fe|0,E=H(E^ae,16),C=C+E|0,fe=H(fe^C,12),ae=ae+fe|0,E=H(E^ae,8),C=C+E|0,fe=H(fe^C,7);return Z[0]=J,Z[1]=se,Z[2]=ce,Z[3]=ae,Z[4]=m,Z[5]=p,Z[6]=E,Z[7]=D,z}j.hchacha=O,j.chacha20orig=(0,P.salsaBasic)({core:w,counterRight:!1,counterLen:8}),j.chacha20=(0,P.salsaBasic)({core:w,counterRight:!1,counterLen:4,allow128bitKeys:!1}),j.xchacha20=(0,P.salsaBasic)({core:w,counterRight:!1,counterLen:8,extendNonceFn:O,allow128bitKeys:!1}),j.chacha8=(0,P.salsaBasic)({core:w,counterRight:!1,counterLen:4,rounds:8}),j.chacha12=(0,P.salsaBasic)({core:w,counterRight:!1,counterLen:4,rounds:12});const S=new Uint8Array(16),B=(A,G)=>{A.update(G);const L=G.length%16;L&&A.update(S.subarray(L))},N=(A,G,L,z,ee)=>{const q=A(G,L,new Uint8Array(32)),Z=b.poly1305.create(q);ee&&B(Z,ee),B(Z,z);const J=new Uint8Array(16),se=(0,y.createView)(J);(0,y.setBigUint64)(se,0,BigInt(ee?ee.length:0),!0),(0,y.setBigUint64)(se,8,BigInt(z.length),!0),Z.update(J);const ce=Z.digest();return q.fill(0),ce};j._poly1305_aead=A=>(G,L,z)=>((0,y.ensureBytes)(G,32),(0,y.ensureBytes)(L),{tagLength:16,encrypt:(q,Z)=>{const J=q.length,se=J+16;Z?(0,y.ensureBytes)(Z,se):Z=new Uint8Array(se),A(G,L,q,Z,1);const ce=N(A,G,L,Z.subarray(0,-16),z);return Z.set(ce,J),Z},decrypt:(q,Z)=>{const J=q.length,se=J-16;if(J<16)throw new Error("encrypted data must be at least 16 bytes");Z?(0,y.ensureBytes)(Z,se):Z=new Uint8Array(se);const ce=q.subarray(0,-16),ae=q.subarray(-16),fe=N(A,G,L,ce,z);if(!(0,y.equalBytes)(ae,fe))throw new Error("invalid tag");return A(G,L,ce,Z,1),Z}}),j.chacha20poly1305=(0,j._poly1305_aead)(j.chacha20),j.xchacha20poly1305=(0,j._poly1305_aead)(j.xchacha20)},23790:(We,j,_)=>{"use strict";var y=_(29293).default;Object.defineProperty(j,"__esModule",{value:!0}),j.setBigUint64=j.Hash=j.equalBytes=j.ensureBytes=j.checkOpts=j.concatBytes=j.toBytes=j.bytesToUtf8=j.utf8ToBytes=j.asyncLoop=j.nextTick=j.hexToBytes=j.bytesToHex=j.isLE=j.createView=j.u32=j.u16=j.u8=void 0;const b=he=>he instanceof Uint8Array;if(j.u8=he=>new Uint8Array(he.buffer,he.byteOffset,he.byteLength),j.u16=he=>new Uint16Array(he.buffer,he.byteOffset,Math.floor(he.byteLength/2)),j.u32=he=>new Uint32Array(he.buffer,he.byteOffset,Math.floor(he.byteLength/4)),j.createView=he=>new DataView(he.buffer,he.byteOffset,he.byteLength),j.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!j.isLE)throw new Error("Non little-endian hardware is not supported");const S=Array.from({length:256},(he,we)=>we.toString(16).padStart(2,"0"));function G(){return(G=y(function*(he,we,Me){let Pe=Date.now();for(let C=0;C<he;C++){Me(C);const a=Date.now()-Pe;a>=0&&a<we||(yield(0,j.nextTick)(),Pe+=a)}})).apply(this,arguments)}function L(he){if("string"!=typeof he)throw new Error("utf8ToBytes expected string, got "+typeof he);return new Uint8Array((new TextEncoder).encode(he))}j.bytesToHex=function B(he){if(!b(he))throw new Error("Uint8Array expected");let we="";for(let Me=0;Me<he.length;Me++)we+=S[he[Me]];return we},j.hexToBytes=function N(he){if("string"!=typeof he)throw new Error("hex string expected, got "+typeof he);const we=he.length;if(we%2)throw new Error("padded hex string expected, got unpadded hex of length "+we);const Me=new Uint8Array(we/2);for(let Pe=0;Pe<Me.length;Pe++){const C=2*Pe,a=he.slice(C,C+2),d=Number.parseInt(a,16);if(Number.isNaN(d)||d<0)throw new Error("Invalid byte sequence");Me[Pe]=d}return Me},j.nextTick=function(){var he=y(function*(){});return function(){return he.apply(this,arguments)}}(),j.asyncLoop=function A(he,we,Me){return G.apply(this,arguments)},j.utf8ToBytes=L,j.bytesToUtf8=function z(he){return(new TextDecoder).decode(he)},j.toBytes=function ee(he){if("string"==typeof he&&(he=L(he)),!b(he))throw new Error("expected Uint8Array, got "+typeof he);return he},j.concatBytes=function q(...he){const we=new Uint8Array(he.reduce((Pe,C)=>Pe+C.length,0));let Me=0;return he.forEach(Pe=>{if(!b(Pe))throw new Error("Uint8Array expected");we.set(Pe,Me),Me+=Pe.length}),we},j.checkOpts=function J(he,we){if(void 0!==we&&("object"!=typeof we||!(he=>"[object Object]"===Object.prototype.toString.call(he)&&he.constructor===Object)(we)))throw new Error("options must be object or undefined");return Object.assign(he,we)},j.ensureBytes=function se(he,we){if(!(he instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof we&&he.length!==we)throw new Error(`Uint8Array length ${we} expected`)},j.equalBytes=function ce(he,we){if(he.length!==we.length)throw new Error("equalBytes: Different size of Uint8Arrays");let Me=!0;for(let Pe=0;Pe<he.length;Pe++)Me&&(Me=he[Pe]===we[Pe]);return Me},j.Hash=class ae{},j.setBigUint64=function fe(he,we,Me,Pe){if("function"==typeof he.setBigUint64)return he.setBigUint64(we,Me,Pe);const C=BigInt(32),a=BigInt(4294967295),d=Number(Me>>C&a),m=Number(Me&a),E=Pe?0:4;he.setUint32(we+(Pe?4:0),d,Pe),he.setUint32(we+E,m,Pe)}},89742:(We,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.crypto=void 0,j.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:(We,j,_)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getWebcryptoSubtle=j.randomBytes=void 0;const y=_(89742);j.randomBytes=function b(H=32){if(y.crypto&&"function"==typeof y.crypto.getRandomValues)return y.crypto.getRandomValues(new Uint8Array(H));throw new Error("crypto.getRandomValues must be defined")},j.getWebcryptoSubtle=function P(){if(y.crypto&&"object"==typeof y.crypto.subtle&&null!=y.crypto.subtle)return y.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:(We,j,_)=>{"use strict";var y=j;y.version=_(1636).rE,y.utils=_(3136),y.rand=_(35294),y.curve=_(8729),y.curves=_(23401),y.ec=_(29042),y.eddsa=_(83045)},98828:(We,j,_)=>{"use strict";var y=_(88723),b=_(3136),P=b.getNAF,H=b.getJSF,w=b.assert;function O(B,N){this.type=B,this.p=new y(N.p,16),this.red=N.prime?y.red(N.prime):y.mont(this.p),this.zero=new y(0).toRed(this.red),this.one=new y(1).toRed(this.red),this.two=new y(2).toRed(this.red),this.n=N.n&&new y(N.n,16),this.g=N.g&&this.pointFromJSON(N.g,N.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var U=this.n&&this.p.div(this.n);!U||U.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function S(B,N){this.curve=B,this.type=N,this.precomputed=null}We.exports=O,O.prototype.point=function(){throw new Error("Not implemented")},O.prototype.validate=function(){throw new Error("Not implemented")},O.prototype._fixedNafMul=function(N,U){w(N.precomputed);var A=N._getDoubles(),G=P(U,1,this._bitLength),L=(1<<A.step+1)-(A.step%2==0?2:1);L/=3;var ee,q,z=[];for(ee=0;ee<G.length;ee+=A.step){q=0;for(var Z=ee+A.step-1;Z>=ee;Z--)q=(q<<1)+G[Z];z.push(q)}for(var J=this.jpoint(null,null,null),se=this.jpoint(null,null,null),ce=L;ce>0;ce--){for(ee=0;ee<z.length;ee++)(q=z[ee])===ce?se=se.mixedAdd(A.points[ee]):q===-ce&&(se=se.mixedAdd(A.points[ee].neg()));J=J.add(se)}return J.toP()},O.prototype._wnafMul=function(N,U){for(var A=4,G=N._getNAFPoints(A),L=G.points,z=P(U,A=G.wnd,this._bitLength),ee=this.jpoint(null,null,null),q=z.length-1;q>=0;q--){for(var Z=0;q>=0&&0===z[q];q--)Z++;if(q>=0&&Z++,ee=ee.dblp(Z),q<0)break;var J=z[q];w(0!==J),ee="affine"===N.type?ee.mixedAdd(J>0?L[J-1>>1]:L[-J-1>>1].neg()):ee.add(J>0?L[J-1>>1]:L[-J-1>>1].neg())}return"affine"===N.type?ee.toP():ee},O.prototype._wnafMulAdd=function(N,U,A,G,L){var J,se,ce,z=this._wnafT1,ee=this._wnafT2,q=this._wnafT3,Z=0;for(J=0;J<G;J++){var ae=(ce=U[J])._getNAFPoints(N);z[J]=ae.wnd,ee[J]=ae.points}for(J=G-1;J>=1;J-=2){var fe=J-1,he=J;if(1===z[fe]&&1===z[he]){var we=[U[fe],null,null,U[he]];0===U[fe].y.cmp(U[he].y)?(we[1]=U[fe].add(U[he]),we[2]=U[fe].toJ().mixedAdd(U[he].neg())):0===U[fe].y.cmp(U[he].y.redNeg())?(we[1]=U[fe].toJ().mixedAdd(U[he]),we[2]=U[fe].add(U[he].neg())):(we[1]=U[fe].toJ().mixedAdd(U[he]),we[2]=U[fe].toJ().mixedAdd(U[he].neg()));var Me=[-3,-1,-5,-7,0,7,5,1,3],Pe=H(A[fe],A[he]);for(Z=Math.max(Pe[0].length,Z),q[fe]=new Array(Z),q[he]=new Array(Z),se=0;se<Z;se++)q[fe][se]=Me[3*(1+(0|Pe[0][se]))+(1+(0|Pe[1][se]))],q[he][se]=0,ee[fe]=we}else q[fe]=P(A[fe],z[fe],this._bitLength),q[he]=P(A[he],z[he],this._bitLength),Z=Math.max(q[fe].length,Z),Z=Math.max(q[he].length,Z)}var d=this.jpoint(null,null,null),m=this._wnafT4;for(J=Z;J>=0;J--){for(var p=0;J>=0;){var E=!0;for(se=0;se<G;se++)m[se]=0|q[se][J],0!==m[se]&&(E=!1);if(!E)break;p++,J--}if(J>=0&&p++,d=d.dblp(p),J<0)break;for(se=0;se<G;se++){var D=m[se];0!==D&&(D>0?ce=ee[se][D-1>>1]:D<0&&(ce=ee[se][-D-1>>1].neg()),d="affine"===ce.type?d.mixedAdd(ce):d.add(ce))}}for(J=0;J<G;J++)ee[J]=null;return L?d:d.toP()},O.BasePoint=S,S.prototype.eq=function(){throw new Error("Not implemented")},S.prototype.validate=function(){return this.curve.validate(this)},O.prototype.decodePoint=function(N,U){N=b.toArray(N,U);var A=this.p.byteLength();if((4===N[0]||6===N[0]||7===N[0])&&N.length-1==2*A)return 6===N[0]?w(N[N.length-1]%2==0):7===N[0]&&w(N[N.length-1]%2==1),this.point(N.slice(1,1+A),N.slice(1+A,1+2*A));if((2===N[0]||3===N[0])&&N.length-1===A)return this.pointFromX(N.slice(1,1+A),3===N[0]);throw new Error("Unknown point format")},S.prototype.encodeCompressed=function(N){return this.encode(N,!0)},S.prototype._encode=function(N){var U=this.curve.p.byteLength(),A=this.getX().toArray("be",U);return N?[this.getY().isEven()?2:3].concat(A):[4].concat(A,this.getY().toArray("be",U))},S.prototype.encode=function(N,U){return b.encode(this._encode(U),N)},S.prototype.precompute=function(N){if(this.precomputed)return this;var U={doubles:null,naf:null,beta:null};return U.naf=this._getNAFPoints(8),U.doubles=this._getDoubles(4,N),U.beta=this._getBeta(),this.precomputed=U,this},S.prototype._hasDoubles=function(N){if(!this.precomputed)return!1;var U=this.precomputed.doubles;return!!U&&U.points.length>=Math.ceil((N.bitLength()+1)/U.step)},S.prototype._getDoubles=function(N,U){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var A=[this],G=this,L=0;L<U;L+=N){for(var z=0;z<N;z++)G=G.dbl();A.push(G)}return{step:N,points:A}},S.prototype._getNAFPoints=function(N){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var U=[this],A=(1<<N)-1,G=1===A?null:this.dbl(),L=1;L<A;L++)U[L]=U[L-1].add(G);return{wnd:N,points:U}},S.prototype._getBeta=function(){return null},S.prototype.dblp=function(N){for(var U=this,A=0;A<N;A++)U=U.dbl();return U}},55537:(We,j,_)=>{"use strict";var y=_(3136),b=_(88723),P=_(71993),H=_(98828),w=y.assert;function O(B){this.twisted=1!=(0|B.a),this.mOneA=this.twisted&&-1==(0|B.a),this.extended=this.mOneA,H.call(this,"edwards",B),this.a=new b(B.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new b(B.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new b(B.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),w(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|B.c)}function S(B,N,U,A,G){H.BasePoint.call(this,B,"projective"),null===N&&null===U&&null===A?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new b(N,16),this.y=new b(U,16),this.z=A?new b(A,16):this.curve.one,this.t=G&&new b(G,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}P(O,H),We.exports=O,O.prototype._mulA=function(N){return this.mOneA?N.redNeg():this.a.redMul(N)},O.prototype._mulC=function(N){return this.oneC?N:this.c.redMul(N)},O.prototype.jpoint=function(N,U,A,G){return this.point(N,U,A,G)},O.prototype.pointFromX=function(N,U){(N=new b(N,16)).red||(N=N.toRed(this.red));var A=N.redSqr(),G=this.c2.redSub(this.a.redMul(A)),L=this.one.redSub(this.c2.redMul(this.d).redMul(A)),z=G.redMul(L.redInvm()),ee=z.redSqrt();if(0!==ee.redSqr().redSub(z).cmp(this.zero))throw new Error("invalid point");var q=ee.fromRed().isOdd();return(U&&!q||!U&&q)&&(ee=ee.redNeg()),this.point(N,ee)},O.prototype.pointFromY=function(N,U){(N=new b(N,16)).red||(N=N.toRed(this.red));var A=N.redSqr(),G=A.redSub(this.c2),L=A.redMul(this.d).redMul(this.c2).redSub(this.a),z=G.redMul(L.redInvm());if(0===z.cmp(this.zero)){if(U)throw new Error("invalid point");return this.point(this.zero,N)}var ee=z.redSqrt();if(0!==ee.redSqr().redSub(z).cmp(this.zero))throw new Error("invalid point");return ee.fromRed().isOdd()!==U&&(ee=ee.redNeg()),this.point(ee,N)},O.prototype.validate=function(N){if(N.isInfinity())return!0;N.normalize();var U=N.x.redSqr(),A=N.y.redSqr(),G=U.redMul(this.a).redAdd(A),L=this.c2.redMul(this.one.redAdd(this.d.redMul(U).redMul(A)));return 0===G.cmp(L)},P(S,H.BasePoint),O.prototype.pointFromJSON=function(N){return S.fromJSON(this,N)},O.prototype.point=function(N,U,A,G){return new S(this,N,U,A,G)},S.fromJSON=function(N,U){return new S(N,U[0],U[1],U[2])},S.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},S.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},S.prototype._extDbl=function(){var N=this.x.redSqr(),U=this.y.redSqr(),A=this.z.redSqr();A=A.redIAdd(A);var G=this.curve._mulA(N),L=this.x.redAdd(this.y).redSqr().redISub(N).redISub(U),z=G.redAdd(U),ee=z.redSub(A),q=G.redSub(U),Z=L.redMul(ee),J=z.redMul(q),se=L.redMul(q),ce=ee.redMul(z);return this.curve.point(Z,J,ce,se)},S.prototype._projDbl=function(){var G,L,z,ee,q,Z,N=this.x.redAdd(this.y).redSqr(),U=this.x.redSqr(),A=this.y.redSqr();if(this.curve.twisted){var J=(ee=this.curve._mulA(U)).redAdd(A);this.zOne?(G=N.redSub(U).redSub(A).redMul(J.redSub(this.curve.two)),L=J.redMul(ee.redSub(A)),z=J.redSqr().redSub(J).redSub(J)):(q=this.z.redSqr(),Z=J.redSub(q).redISub(q),G=N.redSub(U).redISub(A).redMul(Z),L=J.redMul(ee.redSub(A)),z=J.redMul(Z))}else ee=U.redAdd(A),q=this.curve._mulC(this.z).redSqr(),Z=ee.redSub(q).redSub(q),G=this.curve._mulC(N.redISub(ee)).redMul(Z),L=this.curve._mulC(ee).redMul(U.redISub(A)),z=ee.redMul(Z);return this.curve.point(G,L,z)},S.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},S.prototype._extAdd=function(N){var U=this.y.redSub(this.x).redMul(N.y.redSub(N.x)),A=this.y.redAdd(this.x).redMul(N.y.redAdd(N.x)),G=this.t.redMul(this.curve.dd).redMul(N.t),L=this.z.redMul(N.z.redAdd(N.z)),z=A.redSub(U),ee=L.redSub(G),q=L.redAdd(G),Z=A.redAdd(U),J=z.redMul(ee),se=q.redMul(Z),ce=z.redMul(Z),ae=ee.redMul(q);return this.curve.point(J,se,ae,ce)},S.prototype._projAdd=function(N){var se,ce,U=this.z.redMul(N.z),A=U.redSqr(),G=this.x.redMul(N.x),L=this.y.redMul(N.y),z=this.curve.d.redMul(G).redMul(L),ee=A.redSub(z),q=A.redAdd(z),Z=this.x.redAdd(this.y).redMul(N.x.redAdd(N.y)).redISub(G).redISub(L),J=U.redMul(ee).redMul(Z);return this.curve.twisted?(se=U.redMul(q).redMul(L.redSub(this.curve._mulA(G))),ce=ee.redMul(q)):(se=U.redMul(q).redMul(L.redSub(G)),ce=this.curve._mulC(ee).redMul(q)),this.curve.point(J,se,ce)},S.prototype.add=function(N){return this.isInfinity()?N:N.isInfinity()?this:this.curve.extended?this._extAdd(N):this._projAdd(N)},S.prototype.mul=function(N){return this._hasDoubles(N)?this.curve._fixedNafMul(this,N):this.curve._wnafMul(this,N)},S.prototype.mulAdd=function(N,U,A){return this.curve._wnafMulAdd(1,[this,U],[N,A],2,!1)},S.prototype.jmulAdd=function(N,U,A){return this.curve._wnafMulAdd(1,[this,U],[N,A],2,!0)},S.prototype.normalize=function(){if(this.zOne)return this;var N=this.z.redInvm();return this.x=this.x.redMul(N),this.y=this.y.redMul(N),this.t&&(this.t=this.t.redMul(N)),this.z=this.curve.one,this.zOne=!0,this},S.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},S.prototype.getX=function(){return this.normalize(),this.x.fromRed()},S.prototype.getY=function(){return this.normalize(),this.y.fromRed()},S.prototype.eq=function(N){return this===N||0===this.getX().cmp(N.getX())&&0===this.getY().cmp(N.getY())},S.prototype.eqXToP=function(N){var U=N.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(U))return!0;for(var A=N.clone(),G=this.curve.redN.redMul(this.z);;){if(A.iadd(this.curve.n),A.cmp(this.curve.p)>=0)return!1;if(U.redIAdd(G),0===this.x.cmp(U))return!0}},S.prototype.toP=S.prototype.normalize,S.prototype.mixedAdd=S.prototype.add},8729:(We,j,_)=>{"use strict";var y=j;y.base=_(98828),y.short=_(68075),y.mont=_(64947),y.edwards=_(55537)},64947:(We,j,_)=>{"use strict";var y=_(88723),b=_(71993),P=_(98828),H=_(3136);function w(S){P.call(this,"mont",S),this.a=new y(S.a,16).toRed(this.red),this.b=new y(S.b,16).toRed(this.red),this.i4=new y(4).toRed(this.red).redInvm(),this.two=new y(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function O(S,B,N){P.BasePoint.call(this,S,"projective"),null===B&&null===N?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new y(B,16),this.z=new y(N,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}b(w,P),We.exports=w,w.prototype.validate=function(B){var N=B.normalize().x,U=N.redSqr(),A=U.redMul(N).redAdd(U.redMul(this.a)).redAdd(N);return 0===A.redSqrt().redSqr().cmp(A)},b(O,P.BasePoint),w.prototype.decodePoint=function(B,N){return this.point(H.toArray(B,N),1)},w.prototype.point=function(B,N){return new O(this,B,N)},w.prototype.pointFromJSON=function(B){return O.fromJSON(this,B)},O.prototype.precompute=function(){},O.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},O.fromJSON=function(B,N){return new O(B,N[0],N[1]||B.one)},O.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},O.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},O.prototype.dbl=function(){var N=this.x.redAdd(this.z).redSqr(),A=this.x.redSub(this.z).redSqr(),G=N.redSub(A),L=N.redMul(A),z=G.redMul(A.redAdd(this.curve.a24.redMul(G)));return this.curve.point(L,z)},O.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},O.prototype.diffAdd=function(B,N){var U=this.x.redAdd(this.z),A=this.x.redSub(this.z),G=B.x.redAdd(B.z),z=B.x.redSub(B.z).redMul(U),ee=G.redMul(A),q=N.z.redMul(z.redAdd(ee).redSqr()),Z=N.x.redMul(z.redISub(ee).redSqr());return this.curve.point(q,Z)},O.prototype.mul=function(B){for(var N=B.clone(),U=this,A=this.curve.point(null,null),L=[];0!==N.cmpn(0);N.iushrn(1))L.push(N.andln(1));for(var z=L.length-1;z>=0;z--)0===L[z]?(U=U.diffAdd(A,this),A=A.dbl()):(A=U.diffAdd(A,this),U=U.dbl());return A},O.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},O.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},O.prototype.eq=function(B){return 0===this.getX().cmp(B.getX())},O.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},O.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:(We,j,_)=>{"use strict";var y=_(3136),b=_(88723),P=_(71993),H=_(98828),w=y.assert;function O(N){H.call(this,"short",N),this.a=new b(N.a,16).toRed(this.red),this.b=new b(N.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(N),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function S(N,U,A,G){H.BasePoint.call(this,N,"affine"),null===U&&null===A?(this.x=null,this.y=null,this.inf=!0):(this.x=new b(U,16),this.y=new b(A,16),G&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function B(N,U,A,G){H.BasePoint.call(this,N,"jacobian"),null===U&&null===A&&null===G?(this.x=this.curve.one,this.y=this.curve.one,this.z=new b(0)):(this.x=new b(U,16),this.y=new b(A,16),this.z=new b(G,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}P(O,H),We.exports=O,O.prototype._getEndomorphism=function(U){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var A,G;if(U.beta)A=new b(U.beta,16).toRed(this.red);else{var L=this._getEndoRoots(this.p);A=(A=L[0].cmp(L[1])<0?L[0]:L[1]).toRed(this.red)}if(U.lambda)G=new b(U.lambda,16);else{var z=this._getEndoRoots(this.n);0===this.g.mul(z[0]).x.cmp(this.g.x.redMul(A))?G=z[0]:w(0===this.g.mul(G=z[1]).x.cmp(this.g.x.redMul(A)))}return{beta:A,lambda:G,basis:U.basis?U.basis.map(function(q){return{a:new b(q.a,16),b:new b(q.b,16)}}):this._getEndoBasis(G)}}},O.prototype._getEndoRoots=function(U){var A=U===this.p?this.red:b.mont(U),G=new b(2).toRed(A).redInvm(),L=G.redNeg(),z=new b(3).toRed(A).redNeg().redSqrt().redMul(G);return[L.redAdd(z).fromRed(),L.redSub(z).fromRed()]},O.prototype._getEndoBasis=function(U){for(var J,se,ce,ae,fe,he,we,Pe,C,A=this.n.ushrn(Math.floor(this.n.bitLength()/2)),G=U,L=this.n.clone(),z=new b(1),ee=new b(0),q=new b(0),Z=new b(1),Me=0;0!==G.cmpn(0);){var a=L.div(G);Pe=L.sub(a.mul(G)),C=q.sub(a.mul(z));var d=Z.sub(a.mul(ee));if(!ce&&Pe.cmp(A)<0)J=we.neg(),se=z,ce=Pe.neg(),ae=C;else if(ce&&2==++Me)break;we=Pe,L=G,G=Pe,q=z,z=C,Z=ee,ee=d}fe=Pe.neg(),he=C;var m=ce.sqr().add(ae.sqr());return fe.sqr().add(he.sqr()).cmp(m)>=0&&(fe=J,he=se),ce.negative&&(ce=ce.neg(),ae=ae.neg()),fe.negative&&(fe=fe.neg(),he=he.neg()),[{a:ce,b:ae},{a:fe,b:he}]},O.prototype._endoSplit=function(U){var A=this.endo.basis,G=A[0],L=A[1],z=L.b.mul(U).divRound(this.n),ee=G.b.neg().mul(U).divRound(this.n),q=z.mul(G.a),Z=ee.mul(L.a),J=z.mul(G.b),se=ee.mul(L.b);return{k1:U.sub(q).sub(Z),k2:J.add(se).neg()}},O.prototype.pointFromX=function(U,A){(U=new b(U,16)).red||(U=U.toRed(this.red));var G=U.redSqr().redMul(U).redIAdd(U.redMul(this.a)).redIAdd(this.b),L=G.redSqrt();if(0!==L.redSqr().redSub(G).cmp(this.zero))throw new Error("invalid point");var z=L.fromRed().isOdd();return(A&&!z||!A&&z)&&(L=L.redNeg()),this.point(U,L)},O.prototype.validate=function(U){if(U.inf)return!0;var A=U.x,G=U.y,L=this.a.redMul(A),z=A.redSqr().redMul(A).redIAdd(L).redIAdd(this.b);return 0===G.redSqr().redISub(z).cmpn(0)},O.prototype._endoWnafMulAdd=function(U,A,G){for(var L=this._endoWnafT1,z=this._endoWnafT2,ee=0;ee<U.length;ee++){var q=this._endoSplit(A[ee]),Z=U[ee],J=Z._getBeta();q.k1.negative&&(q.k1.ineg(),Z=Z.neg(!0)),q.k2.negative&&(q.k2.ineg(),J=J.neg(!0)),L[2*ee]=Z,L[2*ee+1]=J,z[2*ee]=q.k1,z[2*ee+1]=q.k2}for(var se=this._wnafMulAdd(1,L,z,2*ee,G),ce=0;ce<2*ee;ce++)L[ce]=null,z[ce]=null;return se},P(S,H.BasePoint),O.prototype.point=function(U,A,G){return new S(this,U,A,G)},O.prototype.pointFromJSON=function(U,A){return S.fromJSON(this,U,A)},S.prototype._getBeta=function(){if(this.curve.endo){var U=this.precomputed;if(U&&U.beta)return U.beta;var A=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(U){var G=this.curve,L=function(z){return G.point(z.x.redMul(G.endo.beta),z.y)};U.beta=A,A.precomputed={beta:null,naf:U.naf&&{wnd:U.naf.wnd,points:U.naf.points.map(L)},doubles:U.doubles&&{step:U.doubles.step,points:U.doubles.points.map(L)}}}return A}},S.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},S.fromJSON=function(U,A,G){"string"==typeof A&&(A=JSON.parse(A));var L=U.point(A[0],A[1],G);if(!A[2])return L;function z(q){return U.point(q[0],q[1],G)}var ee=A[2];return L.precomputed={beta:null,doubles:ee.doubles&&{step:ee.doubles.step,points:[L].concat(ee.doubles.points.map(z))},naf:ee.naf&&{wnd:ee.naf.wnd,points:[L].concat(ee.naf.points.map(z))}},L},S.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},S.prototype.isInfinity=function(){return this.inf},S.prototype.add=function(U){if(this.inf)return U;if(U.inf)return this;if(this.eq(U))return this.dbl();if(this.neg().eq(U))return this.curve.point(null,null);if(0===this.x.cmp(U.x))return this.curve.point(null,null);var A=this.y.redSub(U.y);0!==A.cmpn(0)&&(A=A.redMul(this.x.redSub(U.x).redInvm()));var G=A.redSqr().redISub(this.x).redISub(U.x),L=A.redMul(this.x.redSub(G)).redISub(this.y);return this.curve.point(G,L)},S.prototype.dbl=function(){if(this.inf)return this;var U=this.y.redAdd(this.y);if(0===U.cmpn(0))return this.curve.point(null,null);var A=this.curve.a,G=this.x.redSqr(),L=U.redInvm(),z=G.redAdd(G).redIAdd(G).redIAdd(A).redMul(L),ee=z.redSqr().redISub(this.x.redAdd(this.x)),q=z.redMul(this.x.redSub(ee)).redISub(this.y);return this.curve.point(ee,q)},S.prototype.getX=function(){return this.x.fromRed()},S.prototype.getY=function(){return this.y.fromRed()},S.prototype.mul=function(U){return U=new b(U,16),this.isInfinity()?this:this._hasDoubles(U)?this.curve._fixedNafMul(this,U):this.curve.endo?this.curve._endoWnafMulAdd([this],[U]):this.curve._wnafMul(this,U)},S.prototype.mulAdd=function(U,A,G){var L=[this,A],z=[U,G];return this.curve.endo?this.curve._endoWnafMulAdd(L,z):this.curve._wnafMulAdd(1,L,z,2)},S.prototype.jmulAdd=function(U,A,G){var L=[this,A],z=[U,G];return this.curve.endo?this.curve._endoWnafMulAdd(L,z,!0):this.curve._wnafMulAdd(1,L,z,2,!0)},S.prototype.eq=function(U){return this===U||this.inf===U.inf&&(this.inf||0===this.x.cmp(U.x)&&0===this.y.cmp(U.y))},S.prototype.neg=function(U){if(this.inf)return this;var A=this.curve.point(this.x,this.y.redNeg());if(U&&this.precomputed){var G=this.precomputed,L=function(z){return z.neg()};A.precomputed={naf:G.naf&&{wnd:G.naf.wnd,points:G.naf.points.map(L)},doubles:G.doubles&&{step:G.doubles.step,points:G.doubles.points.map(L)}}}return A},S.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},P(B,H.BasePoint),O.prototype.jpoint=function(U,A,G){return new B(this,U,A,G)},B.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var U=this.z.redInvm(),A=U.redSqr(),G=this.x.redMul(A),L=this.y.redMul(A).redMul(U);return this.curve.point(G,L)},B.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},B.prototype.add=function(U){if(this.isInfinity())return U;if(U.isInfinity())return this;var A=U.z.redSqr(),G=this.z.redSqr(),L=this.x.redMul(A),z=U.x.redMul(G),ee=this.y.redMul(A.redMul(U.z)),q=U.y.redMul(G.redMul(this.z)),Z=L.redSub(z),J=ee.redSub(q);if(0===Z.cmpn(0))return 0!==J.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var se=Z.redSqr(),ce=se.redMul(Z),ae=L.redMul(se),fe=J.redSqr().redIAdd(ce).redISub(ae).redISub(ae),he=J.redMul(ae.redISub(fe)).redISub(ee.redMul(ce)),we=this.z.redMul(U.z).redMul(Z);return this.curve.jpoint(fe,he,we)},B.prototype.mixedAdd=function(U){if(this.isInfinity())return U.toJ();if(U.isInfinity())return this;var A=this.z.redSqr(),G=this.x,L=U.x.redMul(A),z=this.y,ee=U.y.redMul(A).redMul(this.z),q=G.redSub(L),Z=z.redSub(ee);if(0===q.cmpn(0))return 0!==Z.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var J=q.redSqr(),se=J.redMul(q),ce=G.redMul(J),ae=Z.redSqr().redIAdd(se).redISub(ce).redISub(ce),fe=Z.redMul(ce.redISub(ae)).redISub(z.redMul(se)),he=this.z.redMul(q);return this.curve.jpoint(ae,fe,he)},B.prototype.dblp=function(U){if(0===U)return this;if(this.isInfinity())return this;if(!U)return this.dbl();var A;if(this.curve.zeroA||this.curve.threeA){var G=this;for(A=0;A<U;A++)G=G.dbl();return G}var L=this.curve.a,z=this.curve.tinv,ee=this.x,q=this.y,Z=this.z,J=Z.redSqr().redSqr(),se=q.redAdd(q);for(A=0;A<U;A++){var ce=ee.redSqr(),ae=se.redSqr(),fe=ae.redSqr(),he=ce.redAdd(ce).redIAdd(ce).redIAdd(L.redMul(J)),we=ee.redMul(ae),Me=he.redSqr().redISub(we.redAdd(we)),Pe=we.redISub(Me),C=he.redMul(Pe);C=C.redIAdd(C).redISub(fe);var a=se.redMul(Z);A+1<U&&(J=J.redMul(fe)),ee=Me,Z=a,se=C}return this.curve.jpoint(ee,se.redMul(z),Z)},B.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},B.prototype._zeroDbl=function(){var U,A,G;if(this.zOne){var L=this.x.redSqr(),z=this.y.redSqr(),ee=z.redSqr(),q=this.x.redAdd(z).redSqr().redISub(L).redISub(ee);q=q.redIAdd(q);var Z=L.redAdd(L).redIAdd(L),J=Z.redSqr().redISub(q).redISub(q),se=ee.redIAdd(ee);se=(se=se.redIAdd(se)).redIAdd(se),U=J,A=Z.redMul(q.redISub(J)).redISub(se),G=this.y.redAdd(this.y)}else{var ce=this.x.redSqr(),ae=this.y.redSqr(),fe=ae.redSqr(),he=this.x.redAdd(ae).redSqr().redISub(ce).redISub(fe);he=he.redIAdd(he);var we=ce.redAdd(ce).redIAdd(ce),Me=we.redSqr(),Pe=fe.redIAdd(fe);Pe=(Pe=Pe.redIAdd(Pe)).redIAdd(Pe),U=Me.redISub(he).redISub(he),A=we.redMul(he.redISub(U)).redISub(Pe),G=(G=this.y.redMul(this.z)).redIAdd(G)}return this.curve.jpoint(U,A,G)},B.prototype._threeDbl=function(){var U,A,G;if(this.zOne){var L=this.x.redSqr(),z=this.y.redSqr(),ee=z.redSqr(),q=this.x.redAdd(z).redSqr().redISub(L).redISub(ee);q=q.redIAdd(q);var Z=L.redAdd(L).redIAdd(L).redIAdd(this.curve.a),J=Z.redSqr().redISub(q).redISub(q);U=J;var se=ee.redIAdd(ee);se=(se=se.redIAdd(se)).redIAdd(se),A=Z.redMul(q.redISub(J)).redISub(se),G=this.y.redAdd(this.y)}else{var ce=this.z.redSqr(),ae=this.y.redSqr(),fe=this.x.redMul(ae),he=this.x.redSub(ce).redMul(this.x.redAdd(ce));he=he.redAdd(he).redIAdd(he);var we=fe.redIAdd(fe),Me=(we=we.redIAdd(we)).redAdd(we);U=he.redSqr().redISub(Me),G=this.y.redAdd(this.z).redSqr().redISub(ae).redISub(ce);var Pe=ae.redSqr();Pe=(Pe=(Pe=Pe.redIAdd(Pe)).redIAdd(Pe)).redIAdd(Pe),A=he.redMul(we.redISub(U)).redISub(Pe)}return this.curve.jpoint(U,A,G)},B.prototype._dbl=function(){var U=this.curve.a,A=this.x,G=this.y,L=this.z,z=L.redSqr().redSqr(),ee=A.redSqr(),q=G.redSqr(),Z=ee.redAdd(ee).redIAdd(ee).redIAdd(U.redMul(z)),J=A.redAdd(A),se=(J=J.redIAdd(J)).redMul(q),ce=Z.redSqr().redISub(se.redAdd(se)),ae=se.redISub(ce),fe=q.redSqr();fe=(fe=(fe=fe.redIAdd(fe)).redIAdd(fe)).redIAdd(fe);var he=Z.redMul(ae).redISub(fe),we=G.redAdd(G).redMul(L);return this.curve.jpoint(ce,he,we)},B.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var U=this.x.redSqr(),A=this.y.redSqr(),G=this.z.redSqr(),L=A.redSqr(),z=U.redAdd(U).redIAdd(U),ee=z.redSqr(),q=this.x.redAdd(A).redSqr().redISub(U).redISub(L),Z=(q=(q=(q=q.redIAdd(q)).redAdd(q).redIAdd(q)).redISub(ee)).redSqr(),J=L.redIAdd(L);J=(J=(J=J.redIAdd(J)).redIAdd(J)).redIAdd(J);var se=z.redIAdd(q).redSqr().redISub(ee).redISub(Z).redISub(J),ce=A.redMul(se);ce=(ce=ce.redIAdd(ce)).redIAdd(ce);var ae=this.x.redMul(Z).redISub(ce);ae=(ae=ae.redIAdd(ae)).redIAdd(ae);var fe=this.y.redMul(se.redMul(J.redISub(se)).redISub(q.redMul(Z)));fe=(fe=(fe=fe.redIAdd(fe)).redIAdd(fe)).redIAdd(fe);var he=this.z.redAdd(q).redSqr().redISub(G).redISub(Z);return this.curve.jpoint(ae,fe,he)},B.prototype.mul=function(U,A){return U=new b(U,A),this.curve._wnafMul(this,U)},B.prototype.eq=function(U){if("affine"===U.type)return this.eq(U.toJ());if(this===U)return!0;var A=this.z.redSqr(),G=U.z.redSqr();if(0!==this.x.redMul(G).redISub(U.x.redMul(A)).cmpn(0))return!1;var L=A.redMul(this.z),z=G.redMul(U.z);return 0===this.y.redMul(z).redISub(U.y.redMul(L)).cmpn(0)},B.prototype.eqXToP=function(U){var A=this.z.redSqr(),G=U.toRed(this.curve.red).redMul(A);if(0===this.x.cmp(G))return!0;for(var L=U.clone(),z=this.curve.redN.redMul(A);;){if(L.iadd(this.curve.n),L.cmp(this.curve.p)>=0)return!1;if(G.redIAdd(z),0===this.x.cmp(G))return!0}},B.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},B.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:(We,j,_)=>{"use strict";var B,y=j,b=_(52529),P=_(8729),w=_(3136).assert;function O(N){this.curve="short"===N.type?new P.short(N):"edwards"===N.type?new P.edwards(N):new P.mont(N),this.g=this.curve.g,this.n=this.curve.n,this.hash=N.hash,w(this.g.validate(),"Invalid curve"),w(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function S(N,U){Object.defineProperty(y,N,{configurable:!0,enumerable:!0,get:function(){var A=new O(U);return Object.defineProperty(y,N,{configurable:!0,enumerable:!0,value:A}),A}})}y.PresetCurve=O,S("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:b.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),S("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:b.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),S("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:b.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),S("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:b.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),S("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:b.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),S("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:b.sha256,gRed:!1,g:["9"]}),S("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:b.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{B=_(51416)}catch{B=void 0}S("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:b.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",B]})},29042:(We,j,_)=>{"use strict";var y=_(88723),b=_(33556),P=_(3136),H=_(23401),w=_(35294),O=P.assert,S=_(60541),B=_(40484);function N(U){if(!(this instanceof N))return new N(U);"string"==typeof U&&(O(Object.prototype.hasOwnProperty.call(H,U),"Unknown curve "+U),U=H[U]),U instanceof H.PresetCurve&&(U={curve:U}),this.curve=U.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=U.curve.g,this.g.precompute(U.curve.n.bitLength()+1),this.hash=U.hash||U.curve.hash}We.exports=N,N.prototype.keyPair=function(A){return new S(this,A)},N.prototype.keyFromPrivate=function(A,G){return S.fromPrivate(this,A,G)},N.prototype.keyFromPublic=function(A,G){return S.fromPublic(this,A,G)},N.prototype.genKeyPair=function(A){A||(A={});for(var G=new b({hash:this.hash,pers:A.pers,persEnc:A.persEnc||"utf8",entropy:A.entropy||w(this.hash.hmacStrength),entropyEnc:A.entropy&&A.entropyEnc||"utf8",nonce:this.n.toArray()}),L=this.n.byteLength(),z=this.n.sub(new y(2));;){var ee=new y(G.generate(L));if(!(ee.cmp(z)>0))return ee.iaddn(1),this.keyFromPrivate(ee)}},N.prototype._truncateToN=function(A,G){var L=8*A.byteLength()-this.n.bitLength();return L>0&&(A=A.ushrn(L)),!G&&A.cmp(this.n)>=0?A.sub(this.n):A},N.prototype.sign=function(A,G,L,z){"object"==typeof L&&(z=L,L=null),z||(z={}),G=this.keyFromPrivate(G,L),A=this._truncateToN(new y(A,16));for(var ee=this.n.byteLength(),q=G.getPrivate().toArray("be",ee),Z=A.toArray("be",ee),J=new b({hash:this.hash,entropy:q,nonce:Z,pers:z.pers,persEnc:z.persEnc||"utf8"}),se=this.n.sub(new y(1)),ce=0;;ce++){var ae=z.k?z.k(ce):new y(J.generate(this.n.byteLength()));if(!((ae=this._truncateToN(ae,!0)).cmpn(1)<=0||ae.cmp(se)>=0)){var fe=this.g.mul(ae);if(!fe.isInfinity()){var he=fe.getX(),we=he.umod(this.n);if(0!==we.cmpn(0)){var Me=ae.invm(this.n).mul(we.mul(G.getPrivate()).iadd(A));if(0!==(Me=Me.umod(this.n)).cmpn(0)){var Pe=(fe.getY().isOdd()?1:0)|(0!==he.cmp(we)?2:0);return z.canonical&&Me.cmp(this.nh)>0&&(Me=this.n.sub(Me),Pe^=1),new B({r:we,s:Me,recoveryParam:Pe})}}}}}},N.prototype.verify=function(A,G,L,z){A=this._truncateToN(new y(A,16)),L=this.keyFromPublic(L,z);var ee=(G=new B(G,"hex")).r,q=G.s;if(ee.cmpn(1)<0||ee.cmp(this.n)>=0||q.cmpn(1)<0||q.cmp(this.n)>=0)return!1;var ce,Z=q.invm(this.n),J=Z.mul(A).umod(this.n),se=Z.mul(ee).umod(this.n);return this.curve._maxwellTrick?!(ce=this.g.jmulAdd(J,L.getPublic(),se)).isInfinity()&&ce.eqXToP(ee):!(ce=this.g.mulAdd(J,L.getPublic(),se)).isInfinity()&&0===ce.getX().umod(this.n).cmp(ee)},N.prototype.recoverPubKey=function(U,A,G,L){O((3&G)===G,"The recovery param is more than two bits"),A=new B(A,L);var z=this.n,ee=new y(U),q=A.r,Z=A.s,J=1&G,se=G>>1;if(q.cmp(this.curve.p.umod(this.curve.n))>=0&&se)throw new Error("Unable to find sencond key candinate");q=this.curve.pointFromX(se?q.add(this.curve.n):q,J);var ce=A.r.invm(z),ae=z.sub(ee).mul(ce).umod(z),fe=Z.mul(ce).umod(z);return this.g.mulAdd(ae,q,fe)},N.prototype.getKeyRecoveryParam=function(U,A,G,L){if(null!==(A=new B(A,L)).recoveryParam)return A.recoveryParam;for(var z=0;z<4;z++){var ee;try{ee=this.recoverPubKey(U,A,z)}catch{continue}if(ee.eq(G))return z}throw new Error("Unable to find valid recovery factor")}},60541:(We,j,_)=>{"use strict";var y=_(88723),P=_(3136).assert;function H(w,O){this.ec=w,this.priv=null,this.pub=null,O.priv&&this._importPrivate(O.priv,O.privEnc),O.pub&&this._importPublic(O.pub,O.pubEnc)}We.exports=H,H.fromPublic=function(O,S,B){return S instanceof H?S:new H(O,{pub:S,pubEnc:B})},H.fromPrivate=function(O,S,B){return S instanceof H?S:new H(O,{priv:S,privEnc:B})},H.prototype.validate=function(){var O=this.getPublic();return O.isInfinity()?{result:!1,reason:"Invalid public key"}:O.validate()?O.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},H.prototype.getPublic=function(O,S){return"string"==typeof O&&(S=O,O=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),S?this.pub.encode(S,O):this.pub},H.prototype.getPrivate=function(O){return"hex"===O?this.priv.toString(16,2):this.priv},H.prototype._importPrivate=function(O,S){this.priv=new y(O,S||16),this.priv=this.priv.umod(this.ec.curve.n)},H.prototype._importPublic=function(O,S){if(O.x||O.y)return"mont"===this.ec.curve.type?P(O.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&P(O.x&&O.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(O.x,O.y));this.pub=this.ec.curve.decodePoint(O,S)},H.prototype.derive=function(O){return O.validate()||P(O.validate(),"public point not validated"),O.mul(this.priv).getX()},H.prototype.sign=function(O,S,B){return this.ec.sign(O,this,S,B)},H.prototype.verify=function(O,S){return this.ec.verify(O,S,this)},H.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:(We,j,_)=>{"use strict";var y=_(88723),b=_(3136),P=b.assert;function H(N,U){if(N instanceof H)return N;this._importDER(N,U)||(P(N.r&&N.s,"Signature without r or s"),this.r=new y(N.r,16),this.s=new y(N.s,16),this.recoveryParam=void 0===N.recoveryParam?null:N.recoveryParam)}function w(){this.place=0}function O(N,U){var A=N[U.place++];if(!(128&A))return A;var G=15&A;if(0===G||G>4)return!1;for(var L=0,z=0,ee=U.place;z<G;z++,ee++)L<<=8,L|=N[ee],L>>>=0;return!(L<=127)&&(U.place=ee,L)}function S(N){for(var U=0,A=N.length-1;!N[U]&&!(128&N[U+1])&&U<A;)U++;return 0===U?N:N.slice(U)}function B(N,U){if(U<128)N.push(U);else{var A=1+(Math.log(U)/Math.LN2>>>3);for(N.push(128|A);--A;)N.push(U>>>(A<<3)&255);N.push(U)}}We.exports=H,H.prototype._importDER=function(U,A){U=b.toArray(U,A);var G=new w;if(48!==U[G.place++])return!1;var L=O(U,G);if(!1===L||L+G.place!==U.length||2!==U[G.place++])return!1;var z=O(U,G);if(!1===z)return!1;var ee=U.slice(G.place,z+G.place);if(G.place+=z,2!==U[G.place++])return!1;var q=O(U,G);if(!1===q||U.length!==q+G.place)return!1;var Z=U.slice(G.place,q+G.place);if(0===ee[0]){if(!(128&ee[1]))return!1;ee=ee.slice(1)}if(0===Z[0]){if(!(128&Z[1]))return!1;Z=Z.slice(1)}return this.r=new y(ee),this.s=new y(Z),this.recoveryParam=null,!0},H.prototype.toDER=function(U){var A=this.r.toArray(),G=this.s.toArray();for(128&A[0]&&(A=[0].concat(A)),128&G[0]&&(G=[0].concat(G)),A=S(A),G=S(G);!(G[0]||128&G[1]);)G=G.slice(1);var L=[2];B(L,A.length),(L=L.concat(A)).push(2),B(L,G.length);var z=L.concat(G),ee=[48];return B(ee,z.length),ee=ee.concat(z),b.encode(ee,U)}},83045:(We,j,_)=>{"use strict";var y=_(52529),b=_(23401),P=_(3136),H=P.assert,w=P.parseBytes,O=_(87222),S=_(5451);function B(N){if(H("ed25519"===N,"only tested with ed25519 so far"),!(this instanceof B))return new B(N);this.curve=N=b[N].curve,this.g=N.g,this.g.precompute(N.n.bitLength()+1),this.pointClass=N.point().constructor,this.encodingLength=Math.ceil(N.n.bitLength()/8),this.hash=y.sha512}We.exports=B,B.prototype.sign=function(U,A){U=w(U);var G=this.keyFromSecret(A),L=this.hashInt(G.messagePrefix(),U),z=this.g.mul(L),ee=this.encodePoint(z),q=this.hashInt(ee,G.pubBytes(),U).mul(G.priv()),Z=L.add(q).umod(this.curve.n);return this.makeSignature({R:z,S:Z,Rencoded:ee})},B.prototype.verify=function(U,A,G){U=w(U),A=this.makeSignature(A);var L=this.keyFromPublic(G),z=this.hashInt(A.Rencoded(),L.pubBytes(),U),ee=this.g.mul(A.S());return A.R().add(L.pub().mul(z)).eq(ee)},B.prototype.hashInt=function(){for(var U=this.hash(),A=0;A<arguments.length;A++)U.update(arguments[A]);return P.intFromLE(U.digest()).umod(this.curve.n)},B.prototype.keyFromPublic=function(U){return O.fromPublic(this,U)},B.prototype.keyFromSecret=function(U){return O.fromSecret(this,U)},B.prototype.makeSignature=function(U){return U instanceof S?U:new S(this,U)},B.prototype.encodePoint=function(U){var A=U.getY().toArray("le",this.encodingLength);return A[this.encodingLength-1]|=U.getX().isOdd()?128:0,A},B.prototype.decodePoint=function(U){var A=(U=P.parseBytes(U)).length-1,G=U.slice(0,A).concat(-129&U[A]),L=!!(128&U[A]),z=P.intFromLE(G);return this.curve.pointFromY(z,L)},B.prototype.encodeInt=function(U){return U.toArray("le",this.encodingLength)},B.prototype.decodeInt=function(U){return P.intFromLE(U)},B.prototype.isPoint=function(U){return U instanceof this.pointClass}},87222:(We,j,_)=>{"use strict";var y=_(3136),b=y.assert,P=y.parseBytes,H=y.cachedProperty;function w(O,S){this.eddsa=O,this._secret=P(S.secret),O.isPoint(S.pub)?this._pub=S.pub:this._pubBytes=P(S.pub)}w.fromPublic=function(S,B){return B instanceof w?B:new w(S,{pub:B})},w.fromSecret=function(S,B){return B instanceof w?B:new w(S,{secret:B})},w.prototype.secret=function(){return this._secret},H(w,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),H(w,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),H(w,"privBytes",function(){var S=this.eddsa,B=this.hash(),N=S.encodingLength-1,U=B.slice(0,S.encodingLength);return U[0]&=248,U[N]&=127,U[N]|=64,U}),H(w,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),H(w,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),H(w,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),w.prototype.sign=function(S){return b(this._secret,"KeyPair can only verify"),this.eddsa.sign(S,this)},w.prototype.verify=function(S,B){return this.eddsa.verify(S,B,this)},w.prototype.getSecret=function(S){return b(this._secret,"KeyPair is public only"),y.encode(this.secret(),S)},w.prototype.getPublic=function(S){return y.encode(this.pubBytes(),S)},We.exports=w},5451:(We,j,_)=>{"use strict";var y=_(88723),b=_(3136),P=b.assert,H=b.cachedProperty,w=b.parseBytes;function O(S,B){this.eddsa=S,"object"!=typeof B&&(B=w(B)),Array.isArray(B)&&(B={R:B.slice(0,S.encodingLength),S:B.slice(S.encodingLength)}),P(B.R&&B.S,"Signature without R or S"),S.isPoint(B.R)&&(this._R=B.R),B.S instanceof y&&(this._S=B.S),this._Rencoded=Array.isArray(B.R)?B.R:B.Rencoded,this._Sencoded=Array.isArray(B.S)?B.S:B.Sencoded}H(O,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),H(O,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),H(O,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),H(O,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),O.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},O.prototype.toHex=function(){return b.encode(this.toBytes(),"hex").toUpperCase()},We.exports=O},51416:We=>{We.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:(We,j,_)=>{"use strict";var y=j,b=_(88723),P=_(39210),H=_(21832);y.assert=P,y.toArray=H.toArray,y.zero2=H.zero2,y.toHex=H.toHex,y.encode=H.encode,y.getNAF=function w(U,A,G){var z,L=new Array(Math.max(U.bitLength(),G)+1);for(z=0;z<L.length;z+=1)L[z]=0;var ee=1<<A+1,q=U.clone();for(z=0;z<L.length;z++){var Z,J=q.andln(ee-1);q.isOdd()?q.isubn(Z=J>(ee>>1)-1?(ee>>1)-J:J):Z=0,L[z]=Z,q.iushrn(1)}return L},y.getJSF=function O(U,A){var G=[[],[]];U=U.clone(),A=A.clone();for(var ee,L=0,z=0;U.cmpn(-L)>0||A.cmpn(-z)>0;){var J,se,q=U.andln(3)+L&3,Z=A.andln(3)+z&3;3===q&&(q=-1),3===Z&&(Z=-1),J=1&q?3!=(ee=U.andln(7)+L&7)&&5!==ee||2!==Z?q:-q:0,G[0].push(J),se=1&Z?3!=(ee=A.andln(7)+z&7)&&5!==ee||2!==q?Z:-Z:0,G[1].push(se),2*L===J+1&&(L=1-L),2*z===se+1&&(z=1-z),U.iushrn(1),A.iushrn(1)}return G},y.cachedProperty=function S(U,A,G){var L="_"+A;U.prototype[A]=function(){return void 0!==this[L]?this[L]:this[L]=G.call(this)}},y.parseBytes=function B(U){return"string"==typeof U?y.toArray(U,"hex"):U},y.intFromLE=function N(U){return new b(U,"hex","le")}},88723:function(We,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(79368).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],De=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],ve=8191&Fe,Te=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],le=8191&ne,Ae=ne>>>13,Be=0|p[6],qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],gn=8191&rn,ln=rn>>>13,ar=0|E[3],Cn=8191&ar,cn=ar>>>13,Zt=0|E[4],vt=8191&Zt,ut=Zt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,fr=0|E[6],yt=8191&fr,wt=fr>>>13,Et=0|E[7],Ye=8191&Et,et=Et>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,Vn=0|E[9],bn=8191&Vn,Mn=Vn>>>13;m.negative=a.negative^d.negative,m.length=19;var br=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(br>>>26)|0,br&=67108863,x=Math.imul(De,Ne),s=(s=Math.imul(De,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var or=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(De,It)|0,s=(s=s+Math.imul(De,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,gn)|0)|0)+((8191&(s=(s=s+Math.imul(F,ln)|0)+Math.imul(Q,gn)|0))<<13)|0;R=((v=v+Math.imul(Q,ln)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(ve,Ne),s=(s=Math.imul(ve,lt))+Math.imul(Te,Ne)|0,v=Math.imul(Te,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(De,gn)|0,s=(s=s+Math.imul(De,ln)|0)+Math.imul(Re,gn)|0,v=v+Math.imul(Re,ln)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(ve,It)|0,s=(s=s+Math.imul(ve,Kt)|0)+Math.imul(Te,It)|0,v=v+Math.imul(Te,Kt)|0,x=x+Math.imul(Ee,gn)|0,s=(s=s+Math.imul(Ee,ln)|0)+Math.imul(_e,gn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(De,Cn)|0,s=(s=s+Math.imul(De,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,vt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,vt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(le,Ne),s=(s=Math.imul(le,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(ve,gn)|0,s=(s=s+Math.imul(ve,ln)|0)+Math.imul(Te,gn)|0,v=v+Math.imul(Te,ln)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(De,vt)|0,s=(s=s+Math.imul(De,ut)|0)+Math.imul(Re,vt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(qe,Ne),s=(s=Math.imul(qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(le,It)|0,s=(s=s+Math.imul(le,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(me,gn)|0,s=(s=s+Math.imul(me,ln)|0)+Math.imul(te,gn)|0,v=v+Math.imul(te,ln)|0,x=x+Math.imul(ve,Cn)|0,s=(s=s+Math.imul(ve,cn)|0)+Math.imul(Te,Cn)|0,v=v+Math.imul(Te,cn)|0,x=x+Math.imul(Ee,vt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(De,nn)|0,s=(s=s+Math.imul(De,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,wt)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,wt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(qe,It)|0,s=(s=s+Math.imul(qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(le,gn)|0,s=(s=s+Math.imul(le,ln)|0)+Math.imul(Ae,gn)|0,v=v+Math.imul(Ae,ln)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(ve,vt)|0,s=(s=s+Math.imul(ve,ut)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(De,yt)|0,s=(s=s+Math.imul(De,wt)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,wt)|0;var Yt=(R+(x=x+Math.imul(F,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(F,et)|0)+Math.imul(Q,Ye)|0))<<13)|0;R=((v=v+Math.imul(Q,et)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(qe,gn)|0,s=(s=s+Math.imul(qe,ln)|0)+Math.imul(ze,gn)|0,v=v+Math.imul(ze,ln)|0,x=x+Math.imul(le,Cn)|0,s=(s=s+Math.imul(le,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(me,vt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,vt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(ve,nn)|0,s=(s=s+Math.imul(ve,pn)|0)+Math.imul(Te,nn)|0,v=v+Math.imul(Te,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,wt)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,wt)|0,x=x+Math.imul(De,Ye)|0,s=(s=s+Math.imul(De,et)|0)+Math.imul(Re,Ye)|0,v=v+Math.imul(Re,et)|0;var En=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(En>>>26)|0,En&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,gn)|0,s=(s=s+Math.imul(Xe,ln)|0)+Math.imul(Ue,gn)|0,v=v+Math.imul(Ue,ln)|0,x=x+Math.imul(qe,Cn)|0,s=(s=s+Math.imul(qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(le,vt)|0,s=(s=s+Math.imul(le,ut)|0)+Math.imul(Ae,vt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(ve,yt)|0,s=(s=s+Math.imul(ve,wt)|0)+Math.imul(Te,yt)|0,v=v+Math.imul(Te,wt)|0,x=x+Math.imul(Ee,Ye)|0,s=(s=s+Math.imul(Ee,et)|0)+Math.imul(_e,Ye)|0,v=v+Math.imul(_e,et)|0,x=x+Math.imul(De,Ft)|0,s=(s=s+Math.imul(De,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var zn=(R+(x=x+Math.imul(F,bn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Mn)|0)+Math.imul(Q,bn)|0))<<13)|0;R=((v=v+Math.imul(Q,Mn)|0)+(s>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,gn)|0,s=(s=s+Math.imul(K,ln)|0)+Math.imul(T,gn)|0,v=v+Math.imul(T,ln)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(qe,vt)|0,s=(s=s+Math.imul(qe,ut)|0)+Math.imul(ze,vt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(le,nn)|0,s=(s=s+Math.imul(le,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,wt)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,wt)|0,x=x+Math.imul(ve,Ye)|0,s=(s=s+Math.imul(ve,et)|0)+Math.imul(Te,Ye)|0,v=v+Math.imul(Te,et)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(De,bn)|0)|0)+((8191&(s=(s=s+Math.imul(De,Mn)|0)+Math.imul(Re,bn)|0))<<13)|0;R=((v=v+Math.imul(Re,Mn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,gn),s=(s=Math.imul(Y,ln))+Math.imul(pe,gn)|0,v=Math.imul(pe,ln),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,vt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,vt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(qe,nn)|0,s=(s=s+Math.imul(qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(le,yt)|0,s=(s=s+Math.imul(le,wt)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,wt)|0,x=x+Math.imul(me,Ye)|0,s=(s=s+Math.imul(me,et)|0)+Math.imul(te,Ye)|0,v=v+Math.imul(te,et)|0,x=x+Math.imul(ve,Ft)|0,s=(s=s+Math.imul(ve,mn)|0)+Math.imul(Te,Ft)|0,v=v+Math.imul(Te,mn)|0;var mr=(R+(x=x+Math.imul(Ee,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Mn)|0)+Math.imul(_e,bn)|0))<<13)|0;R=((v=v+Math.imul(_e,Mn)|0)+(s>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,vt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,vt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(qe,yt)|0,s=(s=s+Math.imul(qe,wt)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,wt)|0,x=x+Math.imul(le,Ye)|0,s=(s=s+Math.imul(le,et)|0)+Math.imul(Ae,Ye)|0,v=v+Math.imul(Ae,et)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Lr=(R+(x=x+Math.imul(ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ve,Mn)|0)+Math.imul(Te,bn)|0))<<13)|0;R=((v=v+Math.imul(Te,Mn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,vt),s=(s=Math.imul(Y,ut))+Math.imul(pe,vt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,wt)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,wt)|0,x=x+Math.imul(qe,Ye)|0,s=(s=s+Math.imul(qe,et)|0)+Math.imul(ze,Ye)|0,v=v+Math.imul(ze,et)|0,x=x+Math.imul(le,Ft)|0,s=(s=s+Math.imul(le,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var Pr=(R+(x=x+Math.imul(me,bn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Mn)|0)+Math.imul(te,bn)|0))<<13)|0;R=((v=v+Math.imul(te,Mn)|0)+(s>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,wt)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,wt)|0,x=x+Math.imul(Xe,Ye)|0,s=(s=s+Math.imul(Xe,et)|0)+Math.imul(Ue,Ye)|0,v=v+Math.imul(Ue,et)|0,x=x+Math.imul(qe,Ft)|0,s=(s=s+Math.imul(qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Kr=(R+(x=x+Math.imul(le,bn)|0)|0)+((8191&(s=(s=s+Math.imul(le,Mn)|0)+Math.imul(Ae,bn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Mn)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,wt))+Math.imul(pe,yt)|0,v=Math.imul(pe,wt),x=x+Math.imul(K,Ye)|0,s=(s=s+Math.imul(K,et)|0)+Math.imul(T,Ye)|0,v=v+Math.imul(T,et)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Fr=(R+(x=x+Math.imul(qe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(qe,Mn)|0)+Math.imul(ze,bn)|0))<<13)|0;R=((v=v+Math.imul(ze,Mn)|0)+(s>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,x=Math.imul(Y,Ye),s=(s=Math.imul(Y,et))+Math.imul(pe,Ye)|0,v=Math.imul(pe,et),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var di=(R+(x=x+Math.imul(Xe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Mn)|0)+Math.imul(Ue,bn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Mn)|0)+(s>>>13)|0)+(di>>>26)|0,di&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mn)|0)+Math.imul(T,bn)|0))<<13)|0;R=((v=v+Math.imul(T,Mn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var wn=(R+(x=Math.imul(Y,bn))|0)+((8191&(s=(s=Math.imul(Y,Mn))+Math.imul(pe,bn)|0))<<13)|0;return R=((v=Math.imul(pe,Mn))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,D[0]=br,D[1]=or,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Yt,D[8]=En,D[9]=zn,D[10]=er,D[11]=mr,D[12]=Lr,D[13]=Pr,D[14]=Kr,D[15]=Fr,D[16]=di,D[17]=on,D[18]=wn,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var De=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=De+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=De-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var De=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=De}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,De=0;0!==de.cmp(D);De++)de=de.redSqr();P(De<Q);var Re=this.pow(v,new w(1).iushln(Q-De-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=De}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(We=_.nmd(We),this)},44356:We=>{"use strict";var y,j="object"==typeof Reflect?Reflect:null,_=j&&"function"==typeof j.apply?j.apply:function(ce,ae,fe){return Function.prototype.apply.call(ce,ae,fe)};y=j&&"function"==typeof j.ownKeys?j.ownKeys:Object.getOwnPropertySymbols?function(ce){return Object.getOwnPropertyNames(ce).concat(Object.getOwnPropertySymbols(ce))}:function(ce){return Object.getOwnPropertyNames(ce)};var P=Number.isNaN||function(ce){return ce!=ce};function H(){H.init.call(this)}We.exports=H,We.exports.once=function q(se,ce){return new Promise(function(ae,fe){function he(Me){se.removeListener(ce,we),fe(Me)}function we(){"function"==typeof se.removeListener&&se.removeListener("error",he),ae([].slice.call(arguments))}J(se,ce,we,{once:!0}),"error"!==ce&&function Z(se,ce,ae){"function"==typeof se.on&&J(se,"error",ce,ae)}(se,he,{once:!0})})},H.EventEmitter=H,H.prototype._events=void 0,H.prototype._eventsCount=0,H.prototype._maxListeners=void 0;var w=10;function O(se){if("function"!=typeof se)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof se)}function S(se){return void 0===se._maxListeners?H.defaultMaxListeners:se._maxListeners}function B(se,ce,ae,fe){var he,we,Me;if(O(ae),void 0===(we=se._events)?(we=se._events=Object.create(null),se._eventsCount=0):(void 0!==we.newListener&&(se.emit("newListener",ce,ae.listener?ae.listener:ae),we=se._events),Me=we[ce]),void 0===Me)Me=we[ce]=ae,++se._eventsCount;else if("function"==typeof Me?Me=we[ce]=fe?[ae,Me]:[Me,ae]:fe?Me.unshift(ae):Me.push(ae),(he=S(se))>0&&Me.length>he&&!Me.warned){Me.warned=!0;var Pe=new Error("Possible EventEmitter memory leak detected. "+Me.length+" "+String(ce)+" listeners added. Use emitter.setMaxListeners() to increase limit");Pe.name="MaxListenersExceededWarning",Pe.emitter=se,Pe.type=ce,Pe.count=Me.length,function b(se){console&&console.warn&&console.warn(se)}(Pe)}return se}function N(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function U(se,ce,ae){var fe={fired:!1,wrapFn:void 0,target:se,type:ce,listener:ae},he=N.bind(fe);return he.listener=ae,fe.wrapFn=he,he}function A(se,ce,ae){var fe=se._events;if(void 0===fe)return[];var he=fe[ce];return void 0===he?[]:"function"==typeof he?ae?[he.listener||he]:[he]:ae?function ee(se){for(var ce=new Array(se.length),ae=0;ae<ce.length;++ae)ce[ae]=se[ae].listener||se[ae];return ce}(he):L(he,he.length)}function G(se){var ce=this._events;if(void 0!==ce){var ae=ce[se];if("function"==typeof ae)return 1;if(void 0!==ae)return ae.length}return 0}function L(se,ce){for(var ae=new Array(ce),fe=0;fe<ce;++fe)ae[fe]=se[fe];return ae}function J(se,ce,ae,fe){if("function"==typeof se.on)fe.once?se.once(ce,ae):se.on(ce,ae);else{if("function"!=typeof se.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof se);se.addEventListener(ce,function he(we){fe.once&&se.removeEventListener(ce,he),ae(we)})}}Object.defineProperty(H,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(se){if("number"!=typeof se||se<0||P(se))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+se+".");w=se}}),H.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},H.prototype.setMaxListeners=function(ce){if("number"!=typeof ce||ce<0||P(ce))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ce+".");return this._maxListeners=ce,this},H.prototype.getMaxListeners=function(){return S(this)},H.prototype.emit=function(ce){for(var ae=[],fe=1;fe<arguments.length;fe++)ae.push(arguments[fe]);var he="error"===ce,we=this._events;if(void 0!==we)he=he&&void 0===we.error;else if(!he)return!1;if(he){var Me;if(ae.length>0&&(Me=ae[0]),Me instanceof Error)throw Me;var Pe=new Error("Unhandled error."+(Me?" ("+Me.message+")":""));throw Pe.context=Me,Pe}var C=we[ce];if(void 0===C)return!1;if("function"==typeof C)_(C,this,ae);else{var a=C.length,d=L(C,a);for(fe=0;fe<a;++fe)_(d[fe],this,ae)}return!0},H.prototype.on=H.prototype.addListener=function(ce,ae){return B(this,ce,ae,!1)},H.prototype.prependListener=function(ce,ae){return B(this,ce,ae,!0)},H.prototype.once=function(ce,ae){return O(ae),this.on(ce,U(this,ce,ae)),this},H.prototype.prependOnceListener=function(ce,ae){return O(ae),this.prependListener(ce,U(this,ce,ae)),this},H.prototype.off=H.prototype.removeListener=function(ce,ae){var fe,he,we,Me,Pe;if(O(ae),void 0===(he=this._events))return this;if(void 0===(fe=he[ce]))return this;if(fe===ae||fe.listener===ae)0==--this._eventsCount?this._events=Object.create(null):(delete he[ce],he.removeListener&&this.emit("removeListener",ce,fe.listener||ae));else if("function"!=typeof fe){for(we=-1,Me=fe.length-1;Me>=0;Me--)if(fe[Me]===ae||fe[Me].listener===ae){Pe=fe[Me].listener,we=Me;break}if(we<0)return this;0===we?fe.shift():function z(se,ce){for(;ce+1<se.length;ce++)se[ce]=se[ce+1];se.pop()}(fe,we),1===fe.length&&(he[ce]=fe[0]),void 0!==he.removeListener&&this.emit("removeListener",ce,Pe||ae)}return this},H.prototype.removeAllListeners=function(ce){var ae,fe,he;if(void 0===(fe=this._events))return this;if(void 0===fe.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==fe[ce]&&(0==--this._eventsCount?this._events=Object.create(null):delete fe[ce]),this;if(0===arguments.length){var Me,we=Object.keys(fe);for(he=0;he<we.length;++he)"removeListener"!==(Me=we[he])&&this.removeAllListeners(Me);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ae=fe[ce]))this.removeListener(ce,ae);else if(void 0!==ae)for(he=ae.length-1;he>=0;he--)this.removeListener(ce,ae[he]);return this},H.prototype.listeners=function(ce){return A(this,ce,!0)},H.prototype.rawListeners=function(ce){return A(this,ce,!1)},H.listenerCount=function(se,ce){return"function"==typeof se.listenerCount?se.listenerCount(ce):G.call(se,ce)},H.prototype.listenerCount=G,H.prototype.eventNames=function(){return this._eventsCount>0?y(this._events):[]}},18211:(We,j,_)=>{var y=_(27054).Buffer,b=_(34725);We.exports=function P(H,w,O,S){if(y.isBuffer(H)||(H=y.from(H,"binary")),w&&(y.isBuffer(w)||(w=y.from(w,"binary")),8!==w.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var B=O/8,N=y.alloc(B),U=y.alloc(S||0),A=y.alloc(0);B>0||S>0;){var G=new b;G.update(A),G.update(H),w&&G.update(w),A=G.digest();var L=0;if(B>0){var z=N.length-B;L=Math.min(B,A.length),A.copy(N,z,0,L),B-=L}if(L<A.length&&S>0){var ee=U.length-S,q=Math.min(S,A.length-L);A.copy(U,ee,L,L+q),S-=q}}return A.fill(0),{key:N,iv:U}}},40362:We=>{"use strict";We.exports=function j(_,y){if(_===y)return!0;if(_&&y&&"object"==typeof _&&"object"==typeof y){if(_.constructor!==y.constructor)return!1;var b,P,H;if(Array.isArray(_)){if((b=_.length)!=y.length)return!1;for(P=b;0!=P--;)if(!j(_[P],y[P]))return!1;return!0}if(_.constructor===RegExp)return _.source===y.source&&_.flags===y.flags;if(_.valueOf!==Object.prototype.valueOf)return _.valueOf()===y.valueOf();if(_.toString!==Object.prototype.toString)return _.toString()===y.toString();if((b=(H=Object.keys(_)).length)!==Object.keys(y).length)return!1;for(P=b;0!=P--;)if(!Object.prototype.hasOwnProperty.call(y,H[P]))return!1;for(P=b;0!=P--;){var w=H[P];if(!j(_[w],y[w]))return!1}return!0}return _!=_&&y!=y}},13686:(We,j,_)=>{"use strict";var y=_(27054).Buffer,b=_(7045).Transform;function w(O){b.call(this),this._block=y.allocUnsafe(O),this._blockSize=O,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}_(71993)(w,b),w.prototype._transform=function(O,S,B){var N=null;try{this.update(O,S)}catch(U){N=U}B(N)},w.prototype._flush=function(O){var S=null;try{this.push(this.digest())}catch(B){S=B}O(S)},w.prototype.update=function(O,S){if(function H(O,S){if(!y.isBuffer(O)&&"string"!=typeof O)throw new TypeError(S+" must be a string or a buffer")}(O,"Data"),this._finalized)throw new Error("Digest already called");y.isBuffer(O)||(O=y.from(O,S));for(var B=this._block,N=0;this._blockOffset+O.length-N>=this._blockSize;){for(var U=this._blockOffset;U<this._blockSize;)B[U++]=O[N++];this._update(),this._blockOffset=0}for(;N<O.length;)B[this._blockOffset++]=O[N++];for(var A=0,G=8*O.length;G>0;++A)this._length[A]+=G,(G=this._length[A]/4294967296|0)>0&&(this._length[A]-=4294967296*G);return this},w.prototype._update=function(){throw new Error("_update is not implemented")},w.prototype.digest=function(O){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var S=this._digest();void 0!==O&&(S=S.toString(O)),this._block.fill(0),this._blockOffset=0;for(var B=0;B<4;++B)this._length[B]=0;return S},w.prototype._digest=function(){throw new Error("_digest is not implemented")},We.exports=w},52529:(We,j,_)=>{var y=j;y.utils=_(68283),y.common=_(12901),y.sha=_(78528),y.ripemd=_(15283),y.hmac=_(37163),y.sha1=y.sha.sha1,y.sha256=y.sha.sha256,y.sha224=y.sha.sha224,y.sha384=y.sha.sha384,y.sha512=y.sha.sha512,y.ripemd160=y.ripemd.ripemd160},12901:(We,j,_)=>{"use strict";var y=_(68283),b=_(39210);function P(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}j.BlockHash=P,P.prototype.update=function(w,O){if(w=y.toArray(w,O),this.pending=this.pending?this.pending.concat(w):w,this.pendingTotal+=w.length,this.pending.length>=this._delta8){var S=(w=this.pending).length%this._delta8;this.pending=w.slice(w.length-S,w.length),0===this.pending.length&&(this.pending=null),w=y.join32(w,0,w.length-S,this.endian);for(var B=0;B<w.length;B+=this._delta32)this._update(w,B,B+this._delta32)}return this},P.prototype.digest=function(w){return this.update(this._pad()),b(null===this.pending),this._digest(w)},P.prototype._pad=function(){var w=this.pendingTotal,O=this._delta8,S=O-(w+this.padLength)%O,B=new Array(S+this.padLength);B[0]=128;for(var N=1;N<S;N++)B[N]=0;if(w<<=3,"big"===this.endian){for(var U=8;U<this.padLength;U++)B[N++]=0;B[N++]=0,B[N++]=0,B[N++]=0,B[N++]=0,B[N++]=w>>>24&255,B[N++]=w>>>16&255,B[N++]=w>>>8&255,B[N++]=255&w}else for(B[N++]=255&w,B[N++]=w>>>8&255,B[N++]=w>>>16&255,B[N++]=w>>>24&255,B[N++]=0,B[N++]=0,B[N++]=0,B[N++]=0,U=8;U<this.padLength;U++)B[N++]=0;return B}},37163:(We,j,_)=>{"use strict";var y=_(68283),b=_(39210);function P(H,w,O){if(!(this instanceof P))return new P(H,w,O);this.Hash=H,this.blockSize=H.blockSize/8,this.outSize=H.outSize/8,this.inner=null,this.outer=null,this._init(y.toArray(w,O))}We.exports=P,P.prototype._init=function(w){w.length>this.blockSize&&(w=(new this.Hash).update(w).digest()),b(w.length<=this.blockSize);for(var O=w.length;O<this.blockSize;O++)w.push(0);for(O=0;O<w.length;O++)w[O]^=54;for(this.inner=(new this.Hash).update(w),O=0;O<w.length;O++)w[O]^=106;this.outer=(new this.Hash).update(w)},P.prototype.update=function(w,O){return this.inner.update(w,O),this},P.prototype.digest=function(w){return this.outer.update(this.inner.digest()),this.outer.digest(w)}},15283:(We,j,_)=>{"use strict";var y=_(68283),b=_(12901),P=y.rotl32,H=y.sum32,w=y.sum32_3,O=y.sum32_4,S=b.BlockHash;function B(){if(!(this instanceof B))return new B;S.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function N(q,Z,J,se){return q<=15?Z^J^se:q<=31?Z&J|~Z&se:q<=47?(Z|~J)^se:q<=63?Z&se|J&~se:Z^(J|~se)}function A(q){return q<=15?1352829926:q<=31?1548603684:q<=47?1836072691:q<=63?2053994217:0}y.inherits(B,S),j.ripemd160=B,B.blockSize=512,B.outSize=160,B.hmacStrength=192,B.padLength=64,B.prototype._update=function(Z,J){for(var se=this.h[0],ce=this.h[1],ae=this.h[2],fe=this.h[3],he=this.h[4],we=se,Me=ce,Pe=ae,C=fe,a=he,d=0;d<80;d++){var m=H(P(O(se,N(d,ce,ae,fe),Z[G[d]+J],(q=d)<=15?0:q<=31?1518500249:q<=47?1859775393:q<=63?2400959708:2840853838),z[d]),he);se=he,he=fe,fe=P(ae,10),ae=ce,ce=m,m=H(P(O(we,N(79-d,Me,Pe,C),Z[L[d]+J],A(d)),ee[d]),a),we=a,a=C,C=P(Pe,10),Pe=Me,Me=m}var q;m=w(this.h[1],ae,C),this.h[1]=w(this.h[2],fe,a),this.h[2]=w(this.h[3],he,we),this.h[3]=w(this.h[4],se,Me),this.h[4]=w(this.h[0],ce,Pe),this.h[0]=m},B.prototype._digest=function(Z){return"hex"===Z?y.toHex32(this.h,"little"):y.split32(this.h,"little")};var G=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],L=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],z=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ee=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:(We,j,_)=>{"use strict";j.sha1=_(33468),j.sha224=_(5563),j.sha256=_(27138),j.sha384=_(93898),j.sha512=_(10827)},33468:(We,j,_)=>{"use strict";var y=_(68283),b=_(12901),P=_(95542),H=y.rotl32,w=y.sum32,O=y.sum32_5,S=P.ft_1,B=b.BlockHash,N=[1518500249,1859775393,2400959708,3395469782];function U(){if(!(this instanceof U))return new U;B.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}y.inherits(U,B),We.exports=U,U.blockSize=512,U.outSize=160,U.hmacStrength=80,U.padLength=64,U.prototype._update=function(G,L){for(var z=this.W,ee=0;ee<16;ee++)z[ee]=G[L+ee];for(;ee<z.length;ee++)z[ee]=H(z[ee-3]^z[ee-8]^z[ee-14]^z[ee-16],1);var q=this.h[0],Z=this.h[1],J=this.h[2],se=this.h[3],ce=this.h[4];for(ee=0;ee<z.length;ee++){var ae=~~(ee/20),fe=O(H(q,5),S(ae,Z,J,se),ce,z[ee],N[ae]);ce=se,se=J,J=H(Z,30),Z=q,q=fe}this.h[0]=w(this.h[0],q),this.h[1]=w(this.h[1],Z),this.h[2]=w(this.h[2],J),this.h[3]=w(this.h[3],se),this.h[4]=w(this.h[4],ce)},U.prototype._digest=function(G){return"hex"===G?y.toHex32(this.h,"big"):y.split32(this.h,"big")}},5563:(We,j,_)=>{"use strict";var y=_(68283),b=_(27138);function P(){if(!(this instanceof P))return new P;b.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}y.inherits(P,b),We.exports=P,P.blockSize=512,P.outSize=224,P.hmacStrength=192,P.padLength=64,P.prototype._digest=function(w){return"hex"===w?y.toHex32(this.h.slice(0,7),"big"):y.split32(this.h.slice(0,7),"big")}},27138:(We,j,_)=>{"use strict";var y=_(68283),b=_(12901),P=_(95542),H=_(39210),w=y.sum32,O=y.sum32_4,S=y.sum32_5,B=P.ch32,N=P.maj32,U=P.s0_256,A=P.s1_256,G=P.g0_256,L=P.g1_256,z=b.BlockHash,ee=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function q(){if(!(this instanceof q))return new q;z.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ee,this.W=new Array(64)}y.inherits(q,z),We.exports=q,q.blockSize=512,q.outSize=256,q.hmacStrength=192,q.padLength=64,q.prototype._update=function(J,se){for(var ce=this.W,ae=0;ae<16;ae++)ce[ae]=J[se+ae];for(;ae<ce.length;ae++)ce[ae]=O(L(ce[ae-2]),ce[ae-7],G(ce[ae-15]),ce[ae-16]);var fe=this.h[0],he=this.h[1],we=this.h[2],Me=this.h[3],Pe=this.h[4],C=this.h[5],a=this.h[6],d=this.h[7];for(H(this.k.length===ce.length),ae=0;ae<ce.length;ae++){var m=S(d,A(Pe),B(Pe,C,a),this.k[ae],ce[ae]),p=w(U(fe),N(fe,he,we));d=a,a=C,C=Pe,Pe=w(Me,m),Me=we,we=he,he=fe,fe=w(m,p)}this.h[0]=w(this.h[0],fe),this.h[1]=w(this.h[1],he),this.h[2]=w(this.h[2],we),this.h[3]=w(this.h[3],Me),this.h[4]=w(this.h[4],Pe),this.h[5]=w(this.h[5],C),this.h[6]=w(this.h[6],a),this.h[7]=w(this.h[7],d)},q.prototype._digest=function(J){return"hex"===J?y.toHex32(this.h,"big"):y.split32(this.h,"big")}},93898:(We,j,_)=>{"use strict";var y=_(68283),b=_(10827);function P(){if(!(this instanceof P))return new P;b.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}y.inherits(P,b),We.exports=P,P.blockSize=1024,P.outSize=384,P.hmacStrength=192,P.padLength=128,P.prototype._digest=function(w){return"hex"===w?y.toHex32(this.h.slice(0,12),"big"):y.split32(this.h.slice(0,12),"big")}},10827:(We,j,_)=>{"use strict";var y=_(68283),b=_(12901),P=_(39210),H=y.rotr64_hi,w=y.rotr64_lo,O=y.shr64_hi,S=y.shr64_lo,B=y.sum64,N=y.sum64_hi,U=y.sum64_lo,A=y.sum64_4_hi,G=y.sum64_4_lo,L=y.sum64_5_hi,z=y.sum64_5_lo,ee=b.BlockHash,q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(){if(!(this instanceof Z))return new Z;ee.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=q,this.W=new Array(160)}function J(m,p,E,D,R){var x=m&E^~m&R;return x<0&&(x+=4294967296),x}function se(m,p,E,D,R,x){var s=p&D^~p&x;return s<0&&(s+=4294967296),s}function ce(m,p,E,D,R){var x=m&E^m&R^E&R;return x<0&&(x+=4294967296),x}function ae(m,p,E,D,R,x){var s=p&D^p&x^D&x;return s<0&&(s+=4294967296),s}function fe(m,p){var x=H(m,p,28)^H(p,m,2)^H(p,m,7);return x<0&&(x+=4294967296),x}function he(m,p){var x=w(m,p,28)^w(p,m,2)^w(p,m,7);return x<0&&(x+=4294967296),x}function we(m,p){var x=H(m,p,14)^H(m,p,18)^H(p,m,9);return x<0&&(x+=4294967296),x}function Me(m,p){var x=w(m,p,14)^w(m,p,18)^w(p,m,9);return x<0&&(x+=4294967296),x}function Pe(m,p){var x=H(m,p,1)^H(m,p,8)^O(m,p,7);return x<0&&(x+=4294967296),x}function C(m,p){var x=w(m,p,1)^w(m,p,8)^S(m,p,7);return x<0&&(x+=4294967296),x}function a(m,p){var x=H(m,p,19)^H(p,m,29)^O(m,p,6);return x<0&&(x+=4294967296),x}function d(m,p){var x=w(m,p,19)^w(p,m,29)^S(m,p,6);return x<0&&(x+=4294967296),x}y.inherits(Z,ee),We.exports=Z,Z.blockSize=1024,Z.outSize=512,Z.hmacStrength=192,Z.padLength=128,Z.prototype._prepareBlock=function(p,E){for(var D=this.W,R=0;R<32;R++)D[R]=p[E+R];for(;R<D.length;R+=2){var x=a(D[R-4],D[R-3]),s=d(D[R-4],D[R-3]),v=D[R-14],$=D[R-13],F=Pe(D[R-30],D[R-29]),Q=C(D[R-30],D[R-29]),de=D[R-32],De=D[R-31];D[R]=A(x,s,v,$,F,Q,de,De),D[R+1]=G(x,s,v,$,F,Q,de,De)}},Z.prototype._update=function(p,E){this._prepareBlock(p,E);var D=this.W,R=this.h[0],x=this.h[1],s=this.h[2],v=this.h[3],$=this.h[4],F=this.h[5],Q=this.h[6],de=this.h[7],De=this.h[8],Re=this.h[9],Ve=this.h[10],Ee=this.h[11],_e=this.h[12],Fe=this.h[13],ve=this.h[14],Te=this.h[15];P(this.k.length===D.length);for(var ge=0;ge<D.length;ge+=2){var me=ve,te=Te,ne=we(De,Re),le=Me(De,Re),Ae=J(De,0,Ve,0,_e),Be=se(0,Re,0,Ee,0,Fe),qe=this.k[ge],ze=this.k[ge+1],Dt=D[ge],Xe=D[ge+1],Ue=L(me,te,ne,le,Ae,Be,qe,ze,Dt,Xe),mt=z(me,te,ne,le,Ae,Be,qe,ze,Dt,Xe);me=fe(R,x),te=he(R,x),ne=ce(R,0,s,0,$),le=ae(0,x,0,v,0,F);var K=N(me,te,ne,le),T=U(me,te,ne,le);ve=_e,Te=Fe,_e=Ve,Fe=Ee,Ve=De,Ee=Re,De=N(Q,de,Ue,mt),Re=U(de,de,Ue,mt),Q=$,de=F,$=s,F=v,s=R,v=x,R=N(Ue,mt,K,T),x=U(Ue,mt,K,T)}B(this.h,0,R,x),B(this.h,2,s,v),B(this.h,4,$,F),B(this.h,6,Q,de),B(this.h,8,De,Re),B(this.h,10,Ve,Ee),B(this.h,12,_e,Fe),B(this.h,14,ve,Te)},Z.prototype._digest=function(p){return"hex"===p?y.toHex32(this.h,"big"):y.split32(this.h,"big")}},95542:(We,j,_)=>{"use strict";var b=_(68283).rotr32;function H(A,G,L){return A&G^~A&L}function w(A,G,L){return A&G^A&L^G&L}function O(A,G,L){return A^G^L}j.ft_1=function P(A,G,L,z){return 0===A?H(G,L,z):1===A||3===A?O(G,L,z):2===A?w(G,L,z):void 0},j.ch32=H,j.maj32=w,j.p32=O,j.s0_256=function S(A){return b(A,2)^b(A,13)^b(A,22)},j.s1_256=function B(A){return b(A,6)^b(A,11)^b(A,25)},j.g0_256=function N(A){return b(A,7)^b(A,18)^A>>>3},j.g1_256=function U(A){return b(A,17)^b(A,19)^A>>>10}},68283:(We,j,_)=>{"use strict";var y=_(39210),b=_(71993);function P(d,m){return!(55296!=(64512&d.charCodeAt(m))||m<0||m+1>=d.length)&&56320==(64512&d.charCodeAt(m+1))}function O(d){return(d>>>24|d>>>8&65280|d<<8&16711680|(255&d)<<24)>>>0}function B(d){return 1===d.length?"0"+d:d}function N(d){return 7===d.length?"0"+d:6===d.length?"00"+d:5===d.length?"000"+d:4===d.length?"0000"+d:3===d.length?"00000"+d:2===d.length?"000000"+d:1===d.length?"0000000"+d:d}j.inherits=b,j.toArray=function H(d,m){if(Array.isArray(d))return d.slice();if(!d)return[];var p=[];if("string"==typeof d)if(m){if("hex"===m)for((d=d.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(d="0"+d),D=0;D<d.length;D+=2)p.push(parseInt(d[D]+d[D+1],16))}else for(var E=0,D=0;D<d.length;D++){var R=d.charCodeAt(D);R<128?p[E++]=R:R<2048?(p[E++]=R>>6|192,p[E++]=63&R|128):P(d,D)?(R=65536+((1023&R)<<10)+(1023&d.charCodeAt(++D)),p[E++]=R>>18|240,p[E++]=R>>12&63|128,p[E++]=R>>6&63|128,p[E++]=63&R|128):(p[E++]=R>>12|224,p[E++]=R>>6&63|128,p[E++]=63&R|128)}else for(D=0;D<d.length;D++)p[D]=0|d[D];return p},j.toHex=function w(d){for(var m="",p=0;p<d.length;p++)m+=B(d[p].toString(16));return m},j.htonl=O,j.toHex32=function S(d,m){for(var p="",E=0;E<d.length;E++){var D=d[E];"little"===m&&(D=O(D)),p+=N(D.toString(16))}return p},j.zero2=B,j.zero8=N,j.join32=function U(d,m,p,E){var D=p-m;y(D%4==0);for(var R=new Array(D/4),x=0,s=m;x<R.length;x++,s+=4)R[x]=("big"===E?d[s]<<24|d[s+1]<<16|d[s+2]<<8|d[s+3]:d[s+3]<<24|d[s+2]<<16|d[s+1]<<8|d[s])>>>0;return R},j.split32=function A(d,m){for(var p=new Array(4*d.length),E=0,D=0;E<d.length;E++,D+=4){var R=d[E];"big"===m?(p[D]=R>>>24,p[D+1]=R>>>16&255,p[D+2]=R>>>8&255,p[D+3]=255&R):(p[D+3]=R>>>24,p[D+2]=R>>>16&255,p[D+1]=R>>>8&255,p[D]=255&R)}return p},j.rotr32=function G(d,m){return d>>>m|d<<32-m},j.rotl32=function L(d,m){return d<<m|d>>>32-m},j.sum32=function z(d,m){return d+m>>>0},j.sum32_3=function ee(d,m,p){return d+m+p>>>0},j.sum32_4=function q(d,m,p,E){return d+m+p+E>>>0},j.sum32_5=function Z(d,m,p,E,D){return d+m+p+E+D>>>0},j.sum64=function J(d,m,p,E){var x=E+d[m+1]>>>0;d[m]=(x<E?1:0)+p+d[m]>>>0,d[m+1]=x},j.sum64_hi=function se(d,m,p,E){return(m+E>>>0<m?1:0)+d+p>>>0},j.sum64_lo=function ce(d,m,p,E){return m+E>>>0},j.sum64_4_hi=function ae(d,m,p,E,D,R,x,s){var v=0,$=m;return v+=($=$+E>>>0)<m?1:0,v+=($=$+R>>>0)<R?1:0,d+p+D+x+(v+=($=$+s>>>0)<s?1:0)>>>0},j.sum64_4_lo=function fe(d,m,p,E,D,R,x,s){return m+E+R+s>>>0},j.sum64_5_hi=function he(d,m,p,E,D,R,x,s,v,$){var F=0,Q=m;return F+=(Q=Q+E>>>0)<m?1:0,F+=(Q=Q+R>>>0)<R?1:0,F+=(Q=Q+s>>>0)<s?1:0,d+p+D+x+v+(F+=(Q=Q+$>>>0)<$?1:0)>>>0},j.sum64_5_lo=function we(d,m,p,E,D,R,x,s,v,$){return m+E+R+s+$>>>0},j.rotr64_hi=function Me(d,m,p){return(m<<32-p|d>>>p)>>>0},j.rotr64_lo=function Pe(d,m,p){return(d<<32-p|m>>>p)>>>0},j.shr64_hi=function C(d,m,p){return d>>>p},j.shr64_lo=function a(d,m,p){return(d<<32-p|m>>>p)>>>0}},33556:(We,j,_)=>{"use strict";var y=_(52529),b=_(21832),P=_(39210);function H(w){if(!(this instanceof H))return new H(w);this.hash=w.hash,this.predResist=!!w.predResist,this.outLen=this.hash.outSize,this.minEntropy=w.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var O=b.toArray(w.entropy,w.entropyEnc||"hex"),S=b.toArray(w.nonce,w.nonceEnc||"hex"),B=b.toArray(w.pers,w.persEnc||"hex");P(O.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(O,S,B)}We.exports=H,H.prototype._init=function(O,S,B){var N=O.concat(S).concat(B);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var U=0;U<this.V.length;U++)this.K[U]=0,this.V[U]=1;this._update(N),this._reseed=1,this.reseedInterval=281474976710656},H.prototype._hmac=function(){return new y.hmac(this.hash,this.K)},H.prototype._update=function(O){var S=this._hmac().update(this.V).update([0]);O&&(S=S.update(O)),this.K=S.digest(),this.V=this._hmac().update(this.V).digest(),O&&(this.K=this._hmac().update(this.V).update([1]).update(O).digest(),this.V=this._hmac().update(this.V).digest())},H.prototype.reseed=function(O,S,B,N){"string"!=typeof S&&(N=B,B=S,S=null),O=b.toArray(O,S),B=b.toArray(B,N),P(O.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(O.concat(B||[])),this._reseed=1},H.prototype.generate=function(O,S,B,N){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof S&&(N=B,B=S,S=null),B&&(B=b.toArray(B,N||"hex"),this._update(B));for(var U=[];U.length<O;)this.V=this._hmac().update(this.V).digest(),U=U.concat(this.V);var A=U.slice(0,O);return this._update(B),this._reseed++,b.encode(A,S)}},22020:(We,j)=>{j.read=function(_,y,b,P,H){var w,O,S=8*H-P-1,B=(1<<S)-1,N=B>>1,U=-7,A=b?H-1:0,G=b?-1:1,L=_[y+A];for(A+=G,w=L&(1<<-U)-1,L>>=-U,U+=S;U>0;w=256*w+_[y+A],A+=G,U-=8);for(O=w&(1<<-U)-1,w>>=-U,U+=P;U>0;O=256*O+_[y+A],A+=G,U-=8);if(0===w)w=1-N;else{if(w===B)return O?NaN:1/0*(L?-1:1);O+=Math.pow(2,P),w-=N}return(L?-1:1)*O*Math.pow(2,w-P)},j.write=function(_,y,b,P,H,w){var O,S,B,N=8*w-H-1,U=(1<<N)-1,A=U>>1,G=23===H?Math.pow(2,-24)-Math.pow(2,-77):0,L=P?0:w-1,z=P?1:-1,ee=y<0||0===y&&1/y<0?1:0;for(y=Math.abs(y),isNaN(y)||y===1/0?(S=isNaN(y)?1:0,O=U):(O=Math.floor(Math.log(y)/Math.LN2),y*(B=Math.pow(2,-O))<1&&(O--,B*=2),(y+=O+A>=1?G/B:G*Math.pow(2,1-A))*B>=2&&(O++,B/=2),O+A>=U?(S=0,O=U):O+A>=1?(S=(y*B-1)*Math.pow(2,H),O+=A):(S=y*Math.pow(2,A-1)*Math.pow(2,H),O=0));H>=8;_[b+L]=255&S,L+=z,S/=256,H-=8);for(O=O<<H|S,N+=H;N>0;_[b+L]=255&O,L+=z,O/=256,N-=8);_[b+L-z]|=128*ee}},71993:We=>{We.exports="function"==typeof Object.create?function(_,y){y&&(_.super_=y,_.prototype=Object.create(y.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}))}:function(_,y){if(y){_.super_=y;var b=function(){};b.prototype=y.prototype,_.prototype=new b,_.prototype.constructor=_}}},42853:We=>{"use strict";function j(y,b){for(const P in b)Object.defineProperty(y,P,{value:b[P],enumerable:!0,configurable:!0});return y}We.exports=function _(y,b,P){if(!y||"string"==typeof y)throw new TypeError("Please pass an Error to err-code");P||(P={}),"object"==typeof b&&(P=b,b=""),b&&(P.code=b);try{return j(y,P)}catch{P.message=y.message,P.stack=y.stack;const w=function(){};return w.prototype=Object.create(Object.getPrototypeOf(y)),j(new w,P)}}},5014:We=>{"use strict";function j(y,b){for(const P in b)Object.defineProperty(y,P,{value:b[P],enumerable:!0,configurable:!0});return y}We.exports=function _(y,b,P){if(!y||"string"==typeof y)throw new TypeError("Please pass an Error to err-code");P||(P={}),"object"==typeof b&&(P=b,b=""),b&&(P.code=b);try{return j(y,P)}catch{P.message=y.message,P.stack=y.stack;const w=function(){};return w.prototype=Object.create(Object.getPrototypeOf(y)),j(new w,P)}}},3087:We=>{"use strict";function j(y,b){for(const P in b)Object.defineProperty(y,P,{value:b[P],enumerable:!0,configurable:!0});return y}We.exports=function _(y,b,P){if(!y||"string"==typeof y)throw new TypeError("Please pass an Error to err-code");P||(P={}),"object"==typeof b&&(P=b,b=""),b&&(P.code=b);try{return j(y,P)}catch{P.message=y.message,P.stack=y.stack;const w=function(){};return w.prototype=Object.create(Object.getPrototypeOf(y)),j(new w,P)}}},20053:We=>{var j={}.toString;We.exports=Array.isArray||function(_){return"[object Array]"==j.call(_)}},89994:function(We){We.exports=function(){"use strict";var j=Math.imul,_=Math.clz32;function y(he){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(we){return typeof we}:function(we){return we&&"function"==typeof Symbol&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we})(he)}function P(he,we){for(var Me,Pe=0;Pe<we.length;Pe++)(Me=we[Pe]).enumerable=Me.enumerable||!1,Me.configurable=!0,"value"in Me&&(Me.writable=!0),Object.defineProperty(he,Me.key,Me)}function O(he){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(we){return we.__proto__||Object.getPrototypeOf(we)})(he)}function S(he,we){return(S=Object.setPrototypeOf||function(Me,Pe){return Me.__proto__=Pe,Me})(he,we)}function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(){return(N=B()?Reflect.construct:function(he,we,Me){var Pe=[null];Pe.push.apply(Pe,we);var a=new(Function.bind.apply(he,Pe));return Me&&S(a,Me.prototype),a}).apply(null,arguments)}function A(he){var we="function"==typeof Map?new Map:void 0;return A=function(Me){function Pe(){return N(Me,arguments,O(this).constructor)}if(null===Me||!function U(he){return-1!==Function.toString.call(he).indexOf("[native code]")}(Me))return Me;if("function"!=typeof Me)throw new TypeError("Super expression must either be null or a function");if(typeof we<"u"){if(we.has(Me))return we.get(Me);we.set(Me,Pe)}return Pe.prototype=Object.create(Me.prototype,{constructor:{value:Pe,enumerable:!1,writable:!0,configurable:!0}}),S(Pe,Me)},A(he)}function G(he){if(void 0===he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return he}function z(he){var we=B();return function(){var Me,Pe=O(he);if(we){var C=O(this).constructor;Me=Reflect.construct(Pe,arguments,C)}else Me=Pe.apply(this,arguments);return function L(he,we){if(we&&("object"==typeof we||"function"==typeof we))return we;if(void 0!==we)throw new TypeError("Derived constructors may only return object or undefined");return G(he)}(this,Me)}}function ee(he,we){return function q(he){if(Array.isArray(he))return he}(he)||function Z(he,we){var Me=null==he?null:typeof Symbol<"u"&&he[Symbol.iterator]||he["@@iterator"];if(null!=Me){var Pe,C,a=[],d=!0,m=!1;try{for(Me=Me.call(he);!(d=(Pe=Me.next()).done)&&(a.push(Pe.value),!we||a.length!==we);d=!0);}catch(p){m=!0,C=p}finally{try{d||null==Me.return||Me.return()}finally{if(m)throw C}}return a}}(he,we)||J(he,we)||function ce(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(he,we){if(he){if("string"==typeof he)return se(he,we);var Me=Object.prototype.toString.call(he).slice(8,-1);return"Object"===Me&&he.constructor&&(Me=he.constructor.name),"Map"===Me||"Set"===Me?Array.from(he):"Arguments"===Me||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me)?se(he,we):void 0}}function se(he,we){(null==we||we>he.length)&&(we=he.length);for(var Me=0,Pe=Array(we);Me<we;Me++)Pe[Me]=he[Me];return Pe}var fe=function(he){var we=Math.abs,Me=Math.max,Pe=Math.floor;function C(d,m){var p;if(function b(he,we){if(!(he instanceof we))throw new TypeError("Cannot call a class as a function")}(this,C),(p=a.call(this,d)).sign=m,Object.setPrototypeOf(G(p),C.prototype),d>C.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return p}!function w(he,we){if("function"!=typeof we&&null!==we)throw new TypeError("Super expression must either be null or a function");he.prototype=Object.create(we&&we.prototype,{constructor:{value:he,writable:!0,configurable:!0}}),Object.defineProperty(he,"prototype",{writable:!1}),we&&S(he,we)}(C,he);var a=z(C);return function H(he,we,Me){return we&&P(he.prototype,we),Me&&P(he,Me),Object.defineProperty(he,"prototype",{writable:!1}),he}(C,[{key:"toDebugString",value:function(){var d,m=["BigInt["],p=function ae(he,we){var Me=typeof Symbol<"u"&&he[Symbol.iterator]||he["@@iterator"];if(!Me){if(Array.isArray(he)||(Me=J(he))||we&&he&&"number"==typeof he.length){Me&&(he=Me);var Pe=0,C=function(){};return{s:C,n:function(){return Pe>=he.length?{done:!0}:{done:!1,value:he[Pe++]}},e:function(p){throw p},f:C}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,d=!0,m=!1;return{s:function(){Me=Me.call(he)},n:function(){var p=Me.next();return d=p.done,p},e:function(p){m=!0,a=p},f:function(){try{d||null==Me.return||Me.return()}finally{if(m)throw a}}}}(this);try{for(p.s();!(d=p.n()).done;){var E=d.value;m.push((E&&(E>>>0).toString(16))+", ")}}catch(D){p.e(D)}finally{p.f()}return m.push("]"),m.join("")}},{key:"toString",value:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>d||36<d)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":d&d-1?C.__toStringGeneric(this,d,!1):C.__toStringBasePowerOfTwo(this,d)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var d=new C(this.length,this.sign),m=0;m<this.length;m++)d[m]=this[m];return d}},{key:"__trim",value:function(){for(var d=this.length,m=this[d-1];0===m;)m=this[--d-1],this.pop();return 0===d&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var d=0;d<this.length;d++)this[d]=0}},{key:"__clzmsd",value:function(){return C.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(d,m,p){p>this.length&&(p=this.length);for(var E=32767&d,D=d>>>15,R=0,x=m,s=0;s<p;s++){var v=this.__digit(s),$=32767&v,F=v>>>15,Q=C.__imul($,E),de=C.__imul($,D),De=C.__imul(F,E),Ve=x+Q+R;R=Ve>>>30,Ve&=1073741823,R+=(Ve+=((32767&de)<<15)+((32767&De)<<15))>>>30,x=C.__imul(F,D)+(de>>>15)+(De>>>15),this.__setDigit(s,1073741823&Ve)}if(0!==R||0!==x)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(d,m,p){for(var E,D=0,R=0;R<p;R++)D=(E=this.__halfDigit(m+R)+d.__halfDigit(R)+D)>>>15,this.__setHalfDigit(m+R,32767&E);return D}},{key:"__inplaceSub",value:function(d,m,p){var E=0;if(1&m){for(var D=this.__digit(m>>=1),R=32767&D,x=0;x<p-1>>>1;x++){var s=d.__digit(x),v=(D>>>15)-(32767&s)-E;E=1&v>>>15,this.__setDigit(m+x,(32767&v)<<15|32767&R),E=1&(R=(32767&(D=this.__digit(m+x+1)))-(s>>>15)-E)>>>15}var $=d.__digit(x),F=(D>>>15)-(32767&$)-E;if(E=1&F>>>15,this.__setDigit(m+x,(32767&F)<<15|32767&R),m+x+1>=this.length)throw new RangeError("out of bounds");!(1&p)&&(E=1&(R=(32767&(D=this.__digit(m+x+1)))-($>>>15)-E)>>>15,this.__setDigit(m+d.length,1073709056&D|32767&R))}else{m>>=1;for(var Q=0;Q<d.length-1;Q++){var de=this.__digit(m+Q),De=d.__digit(Q),Re=(32767&de)-(32767&De)-E,Ve=(de>>>15)-(De>>>15)-(E=1&Re>>>15);E=1&Ve>>>15,this.__setDigit(m+Q,(32767&Ve)<<15|32767&Re)}var Ee=this.__digit(m+Q),_e=d.__digit(Q),Fe=(32767&Ee)-(32767&_e)-E;E=1&Fe>>>15;var ve=0;!(1&p)&&(E=1&(ve=(Ee>>>15)-(_e>>>15)-E)>>>15),this.__setDigit(m+Q,(32767&ve)<<15|32767&Fe)}return E}},{key:"__inplaceRightShift",value:function(d){if(0!==d){for(var m,p=this.__digit(0)>>>d,E=this.length-1,D=0;D<E;D++)m=this.__digit(D+1),this.__setDigit(D,1073741823&m<<30-d|p),p=m>>>d;this.__setDigit(E,p)}}},{key:"__digit",value:function(d){return this[d]}},{key:"__unsignedDigit",value:function(d){return this[d]>>>0}},{key:"__setDigit",value:function(d,m){this[d]=0|m}},{key:"__setDigitGrow",value:function(d,m){this[d]=0|m}},{key:"__halfDigitLength",value:function(){var d=this.length;return 32767>=this.__unsignedDigit(d-1)?2*d-1:2*d}},{key:"__halfDigit",value:function(d){return 32767&this[d>>>1]>>>15*(1&d)}},{key:"__setHalfDigit",value:function(d,m){var p=d>>>1,E=this.__digit(p);this.__setDigit(p,1&d?32767&E|m<<15:1073709056&E|32767&m)}}],[{key:"BigInt",value:function(d){var m=Number.isFinite;if("number"==typeof d){if(0===d)return C.__zero();if(C.__isOneDigitInt(d))return 0>d?C.__oneDigit(-d,!0):C.__oneDigit(d,!1);if(!m(d)||Pe(d)!==d)throw new RangeError("The number "+d+" cannot be converted to BigInt because it is not an integer");return C.__fromDouble(d)}if("string"==typeof d){var p=C.__fromString(d);if(null===p)throw new SyntaxError("Cannot convert "+d+" to a BigInt");return p}if("boolean"==typeof d)return!0===d?C.__oneDigit(1,!1):C.__zero();if("object"===y(d)){if(d.constructor===C)return d;var E=C.__toPrimitive(d);return C.BigInt(E)}throw new TypeError("Cannot convert "+d+" to a BigInt")}},{key:"toNumber",value:function(d){var m=d.length;if(0===m)return 0;if(1===m){var p=d.__unsignedDigit(0);return d.sign?-p:p}var E=d.__digit(m-1),D=C.__clz30(E),R=30*m-D;if(1024<R)return d.sign?-1/0:1/0;var x=R-1,s=E,v=m-1,$=D+3,F=32===$?0:s<<$;F>>>=12;var Q=$-12,de=12<=$?0:s<<20+$,De=20+$;for(0<Q&&0<v&&(v--,F|=(s=d.__digit(v))>>>30-Q,de=s<<Q+2,De=Q+2);0<De&&0<v;)v--,s=d.__digit(v),de|=30<=De?s<<De-30:s>>>30-De,De-=30;var Re=C.__decideRounding(d,De,v,s);return 1!==Re&&(0!==Re||1&~de)||0!=(de=de+1>>>0)||!(++F>>>20!=0&&(F=0,1023<++x))?(C.__kBitConversionInts[1]=(d.sign?-2147483648:0)|(x=x+1023<<20)|F,C.__kBitConversionInts[0]=de,C.__kBitConversionDouble[0]):d.sign?-1/0:1/0}},{key:"unaryMinus",value:function(d){if(0===d.length)return d;var m=d.__copy();return m.sign=!d.sign,m}},{key:"bitwiseNot",value:function(d){return d.sign?C.__absoluteSubOne(d).__trim():C.__absoluteAddOne(d,!0)}},{key:"exponentiate",value:function(d,m){if(m.sign)throw new RangeError("Exponent must be positive");if(0===m.length)return C.__oneDigit(1,!1);if(0===d.length)return d;if(1===d.length&&1===d.__digit(0))return!d.sign||1&m.__digit(0)?d:C.unaryMinus(d);if(1<m.length)throw new RangeError("BigInt too big");var p=m.__unsignedDigit(0);if(1===p)return d;if(p>=C.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===d.length&&2===d.__digit(0)){var E=1+(0|p/30),R=new C(E,d.sign&&!!(1&p));return R.__initializeDigits(),R.__setDigit(E-1,1<<p%30),R}var s=null,v=d;for(1&p&&(s=d),p>>=1;0!==p;p>>=1)v=C.multiply(v,v),1&p&&(s=null===s?v:C.multiply(s,v));return s}},{key:"multiply",value:function(d,m){if(0===d.length)return d;if(0===m.length)return m;var p=d.length+m.length;30<=d.__clzmsd()+m.__clzmsd()&&p--;var E=new C(p,d.sign!==m.sign);E.__initializeDigits();for(var D=0;D<d.length;D++)C.__multiplyAccumulate(m,d.__digit(D),E,D);return E.__trim()}},{key:"divide",value:function(d,m){if(0===m.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(d,m))return C.__zero();var p,E=d.sign!==m.sign,D=m.__unsignedDigit(0);if(1===m.length&&32767>=D){if(1===D)return E===d.sign?d:C.unaryMinus(d);p=C.__absoluteDivSmall(d,D,null)}else p=C.__absoluteDivLarge(d,m,!0,!1);return p.sign=E,p.__trim()}},{key:"remainder",value:function(m,p){if(0===p.length)throw new RangeError("Division by zero");if(0>C.__absoluteCompare(m,p))return m;var E=p.__unsignedDigit(0);if(1===p.length&&32767>=E){if(1===E)return C.__zero();var D=C.__absoluteModSmall(m,E);return 0===D?C.__zero():C.__oneDigit(D,m.sign)}var R=C.__absoluteDivLarge(m,p,!1,!0);return R.sign=m.sign,R.__trim()}},{key:"add",value:function(d,m){var p=d.sign;return p===m.sign?C.__absoluteAdd(d,m,p):0<=C.__absoluteCompare(d,m)?C.__absoluteSub(d,m,p):C.__absoluteSub(m,d,!p)}},{key:"subtract",value:function(d,m){var p=d.sign;return p===m.sign?0<=C.__absoluteCompare(d,m)?C.__absoluteSub(d,m,p):C.__absoluteSub(m,d,!p):C.__absoluteAdd(d,m,p)}},{key:"leftShift",value:function(d,m){return 0===m.length||0===d.length?d:m.sign?C.__rightShiftByAbsolute(d,m):C.__leftShiftByAbsolute(d,m)}},{key:"signedRightShift",value:function(d,m){return 0===m.length||0===d.length?d:m.sign?C.__leftShiftByAbsolute(d,m):C.__rightShiftByAbsolute(d,m)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(d,m){return 0>C.__compareToBigInt(d,m)}},{key:"lessThanOrEqual",value:function(d,m){return 0>=C.__compareToBigInt(d,m)}},{key:"greaterThan",value:function(d,m){return 0<C.__compareToBigInt(d,m)}},{key:"greaterThanOrEqual",value:function(d,m){return 0<=C.__compareToBigInt(d,m)}},{key:"equal",value:function(d,m){if(d.sign!==m.sign||d.length!==m.length)return!1;for(var p=0;p<d.length;p++)if(d.__digit(p)!==m.__digit(p))return!1;return!0}},{key:"notEqual",value:function(d,m){return!C.equal(d,m)}},{key:"bitwiseAnd",value:function(d,m){if(!d.sign&&!m.sign)return C.__absoluteAnd(d,m).__trim();if(d.sign&&m.sign){var p=Me(d.length,m.length)+1,E=C.__absoluteSubOne(d,p),D=C.__absoluteSubOne(m);return E=C.__absoluteOr(E,D,E),C.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var R=[m,d];d=R[0],m=R[1]}return C.__absoluteAndNot(d,C.__absoluteSubOne(m)).__trim()}},{key:"bitwiseXor",value:function(d,m){if(!d.sign&&!m.sign)return C.__absoluteXor(d,m).__trim();if(d.sign&&m.sign){var p=Me(d.length,m.length),E=C.__absoluteSubOne(d,p),D=C.__absoluteSubOne(m);return C.__absoluteXor(E,D,E).__trim()}var R=Me(d.length,m.length)+1;if(d.sign){var x=[m,d];d=x[0],m=x[1]}var s=C.__absoluteSubOne(m,R);return s=C.__absoluteXor(s,d,s),C.__absoluteAddOne(s,!0,s).__trim()}},{key:"bitwiseOr",value:function(d,m){var p=Me(d.length,m.length);if(!d.sign&&!m.sign)return C.__absoluteOr(d,m).__trim();if(d.sign&&m.sign){var E=C.__absoluteSubOne(d,p),D=C.__absoluteSubOne(m);return E=C.__absoluteAnd(E,D,E),C.__absoluteAddOne(E,!0,E).__trim()}if(d.sign){var R=[m,d];d=R[0],m=R[1]}var x=C.__absoluteSubOne(m,p);return x=C.__absoluteAndNot(x,d,x),C.__absoluteAddOne(x,!0,x).__trim()}},{key:"asIntN",value:function(d,m){if(0===m.length)return m;if(0>(d=Pe(d)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===d)return C.__zero();if(d>=C.__kMaxLengthBits)return m;var p=0|(d+29)/30;if(m.length<p)return m;var E=m.__unsignedDigit(p-1),D=1<<(d-1)%30;if(m.length===p&&E<D)return m;if((E&D)!==D)return C.__truncateToNBits(d,m);if(!m.sign)return C.__truncateAndSubFromPowerOfTwo(d,m,!0);if(!(E&D-1)){for(var R=p-2;0<=R;R--)if(0!==m.__digit(R))return C.__truncateAndSubFromPowerOfTwo(d,m,!1);return m.length===p&&E===D?m:C.__truncateToNBits(d,m)}return C.__truncateAndSubFromPowerOfTwo(d,m,!1)}},{key:"asUintN",value:function(d,m){if(0===m.length)return m;if(0>(d=Pe(d)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===d)return C.__zero();if(m.sign){if(d>C.__kMaxLengthBits)throw new RangeError("BigInt too big");return C.__truncateAndSubFromPowerOfTwo(d,m,!1)}if(d>=C.__kMaxLengthBits)return m;var p=0|(d+29)/30;if(m.length<p)return m;var E=d%30;if(m.length==p){if(0===E)return m;if(!(m.__digit(p-1)>>>E))return m}return C.__truncateToNBits(d,m)}},{key:"ADD",value:function(d,m){if(d=C.__toPrimitive(d),m=C.__toPrimitive(m),"string"==typeof d)return"string"!=typeof m&&(m=m.toString()),d+m;if("string"==typeof m)return d.toString()+m;if(d=C.__toNumeric(d),m=C.__toNumeric(m),C.__isBigInt(d)&&C.__isBigInt(m))return C.add(d,m);if("number"==typeof d&&"number"==typeof m)return d+m;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(d,m){return C.__compare(d,m,0)}},{key:"LE",value:function(d,m){return C.__compare(d,m,1)}},{key:"GT",value:function(d,m){return C.__compare(d,m,2)}},{key:"GE",value:function(d,m){return C.__compare(d,m,3)}},{key:"EQ",value:function(d,m){for(;;){if(C.__isBigInt(d))return C.__isBigInt(m)?C.equal(d,m):C.EQ(m,d);if("number"==typeof d){if(C.__isBigInt(m))return C.__equalToNumber(m,d);if("object"!==y(m))return d==m;m=C.__toPrimitive(m)}else if("string"==typeof d){if(C.__isBigInt(m))return null!==(d=C.__fromString(d))&&C.equal(d,m);if("object"!==y(m))return d==m;m=C.__toPrimitive(m)}else if("boolean"==typeof d){if(C.__isBigInt(m))return C.__equalToNumber(m,+d);if("object"!==y(m))return d==m;m=C.__toPrimitive(m)}else if("symbol"===y(d)){if(C.__isBigInt(m))return!1;if("object"!==y(m))return d==m;m=C.__toPrimitive(m)}else{if("object"!==y(d))return d==m;if("object"===y(m)&&m.constructor!==C)return d==m;d=C.__toPrimitive(d)}}}},{key:"NE",value:function(d,m){return!C.EQ(d,m)}},{key:"DataViewGetBigInt64",value:function(d,m){return C.asIntN(64,C.DataViewGetBigUint64(d,m,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]&&arguments[2],D=ee(p?[4,0]:[0,4],2),x=D[1],s=d.getUint32(m+D[0],p),v=d.getUint32(m+x,p),$=new C(3,!1);return $.__setDigit(0,1073741823&v),$.__setDigit(1,(268435455&s)<<2|v>>>30),$.__setDigit(2,s>>>28),$.__trim()}},{key:"DataViewSetBigInt64",value:function(d,m,p){C.DataViewSetBigUint64(d,m,p,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(d,m,p){var E=3<arguments.length&&void 0!==arguments[3]&&arguments[3],D=0,R=0;if(0<(p=C.asUintN(64,p)).length&&(R=p.__digit(0),1<p.length)){var x=p.__digit(1);R|=x<<30,D=x>>>2,2<p.length&&(D|=p.__digit(2)<<28)}var v=ee(E?[4,0]:[0,4],2),F=v[1];d.setUint32(m+v[0],D,E),d.setUint32(m+F,R,E)}},{key:"__zero",value:function(){return new C(0,!1)}},{key:"__oneDigit",value:function(d,m){var p=new C(1,m);return p.__setDigit(0,d),p}},{key:"__decideRounding",value:function(d,m,p,E){if(0<m)return-1;var D;if(0>m)D=-m-1;else{if(0===p)return-1;p--,E=d.__digit(p),D=29}var R=1<<D;if(!(E&R))return-1;if(E&(R-=1))return 1;for(;0<p;)if(p--,0!==d.__digit(p))return 1;return 0}},{key:"__fromDouble",value:function(d){C.__kBitConversionDouble[0]=d;var m,E=(2047&C.__kBitConversionInts[1]>>>20)-1023,D=1+(0|E/30),R=new C(D,0>d),x=1048575&C.__kBitConversionInts[1]|1048576,s=C.__kBitConversionInts[0],$=E%30,F=0;if($<20){var Q=20-$;F=Q+32,m=x>>>Q,x=x<<32-Q|s>>>Q,s<<=32-Q}else if(20===$)F=32,m=x,x=s,s=0;else{var de=$-20;F=32-de,m=x<<de|s>>>32-de,x=s<<de,s=0}R.__setDigit(D-1,m);for(var De=D-2;0<=De;De--)0<F?(F-=30,m=x>>>2,x=x<<30|s>>>2,s<<=30):m=0,R.__setDigit(De,m);return R.__trim()}},{key:"__isWhitespace",value:function(d){return 13>=d&&9<=d||(159>=d?32==d:131071>=d?160==d||5760==d:196607>=d?10>=(d&=131071)||40==d||41==d||47==d||95==d||4096==d:65279==d)}},{key:"__fromString",value:function(d){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,p=0,E=d.length,D=0;if(D===E)return C.__zero();for(var R=d.charCodeAt(D);C.__isWhitespace(R);){if(++D===E)return C.__zero();R=d.charCodeAt(D)}if(43===R){if(++D===E)return null;R=d.charCodeAt(D),p=1}else if(45===R){if(++D===E)return null;R=d.charCodeAt(D),p=-1}if(0===m){if(m=10,48===R){if(++D===E)return C.__zero();if(88===(R=d.charCodeAt(D))||120===R){if(m=16,++D===E)return null;R=d.charCodeAt(D)}else if(79===R||111===R){if(m=8,++D===E)return null;R=d.charCodeAt(D)}else if(66===R||98===R){if(m=2,++D===E)return null;R=d.charCodeAt(D)}}}else if(16===m&&48===R){if(++D===E)return C.__zero();if(88===(R=d.charCodeAt(D))||120===R){if(++D===E)return null;R=d.charCodeAt(D)}}if(0!==p&&10!==m)return null;for(;48===R;){if(++D===E)return C.__zero();R=d.charCodeAt(D)}var x=E-D,s=C.__kMaxBitsPerChar[m],v=C.__kBitsPerCharTableMultiplier-1;if(x>1073741824/s)return null;var F=new C(0|(29+(s*x+v>>>C.__kBitsPerCharTableShift))/30,!1),Q=10>m?m:10,de=10<m?m-10:0;if(m&m-1){F.__initializeDigits();var ve=!1,Te=0;do{for(var ge,me=0,te=1;;){if(ge=void 0,R-48>>>0<Q)ge=R-48;else{if(!((32|R)-97>>>0<de)){ve=!0;break}ge=(32|R)-87}var ne=te*m;if(1073741823<ne)break;if(te=ne,me=me*m+ge,Te++,++D===E){ve=!0;break}R=d.charCodeAt(D)}F.__inplaceMultiplyAdd(te,me,0|(s*Te+(v=30*C.__kBitsPerCharTableMultiplier-1)>>>C.__kBitsPerCharTableShift)/30)}while(!ve)}else{s>>=C.__kBitsPerCharTableShift;var De=[],Re=[],Ve=!1;do{for(var Ee,_e=0,Fe=0;;){if(Ee=void 0,R-48>>>0<Q)Ee=R-48;else{if(!((32|R)-97>>>0<de)){Ve=!0;break}Ee=(32|R)-87}if(Fe+=s,_e=_e<<s|Ee,++D===E){Ve=!0;break}if(R=d.charCodeAt(D),30<Fe+s)break}De.push(_e),Re.push(Fe)}while(!Ve);C.__fillFromParts(F,De,Re)}if(D!==E){if(!C.__isWhitespace(R))return null;for(D++;D<E;D++)if(R=d.charCodeAt(D),!C.__isWhitespace(R))return null}return F.sign=-1===p,F.__trim()}},{key:"__fillFromParts",value:function(d,m,p){for(var E=0,D=0,R=0,x=m.length-1;0<=x;x--){var s=m[x],v=p[x];D|=s<<R,30===(R+=v)?(d.__setDigit(E++,D),R=0,D=0):30<R&&(d.__setDigit(E++,1073741823&D),D=s>>>v-(R-=30))}if(0!==D){if(E>=d.length)throw new Error("implementation bug");d.__setDigit(E++,D)}for(;E<d.length;E++)d.__setDigit(E,0)}},{key:"__toStringBasePowerOfTwo",value:function(d,m){var p=d.length,E=m-1,D=E=(15&(E=(51&(E=(85&E>>>1)+(85&E))>>>2)+(51&E))>>>4)+(15&E),R=m-1,x=d.__digit(p-1),v=0|(30*p-C.__clz30(x)+D-1)/D;if(d.sign&&v++,268435456<v)throw new Error("string too long");for(var $=Array(v),F=v-1,Q=0,de=0,De=0;De<p-1;De++){var Re=d.__digit(De);$[F--]=C.__kConversionChars[(Q|Re<<de)&R];var Ee=D-de;for(Q=Re>>>Ee,de=30-Ee;de>=D;)$[F--]=C.__kConversionChars[Q&R],Q>>>=D,de-=D}for($[F--]=C.__kConversionChars[(Q|x<<de)&R],Q=x>>>D-de;0!==Q;)$[F--]=C.__kConversionChars[Q&R],Q>>>=D;if(d.sign&&($[F--]="-"),-1!==F)throw new Error("implementation bug");return $.join("")}},{key:"__toStringGeneric",value:function(d,m,p){var E=d.length;if(0===E)return"";if(1===E){var D=d.__unsignedDigit(0).toString(m);return!1===p&&d.sign&&(D="-"+D),D}var $,F,R=30*E-C.__clz30(d.__digit(E-1)),s=C.__kMaxBitsPerChar[m]-1,v=R*C.__kBitsPerCharTableMultiplier,Q=1+(v=0|(v+=s-1)/s)>>1,de=C.exponentiate(C.__oneDigit(m,!1),C.__oneDigit(Q,!1)),De=de.__unsignedDigit(0);if(1===de.length&&32767>=De){($=new C(d.length,!1)).__initializeDigits();for(var Re,Ve=0,Ee=2*d.length-1;0<=Ee;Ee--)Re=Ve<<15|d.__halfDigit(Ee),$.__setHalfDigit(Ee,0|Re/De),Ve=0|Re%De;F=Ve.toString(m)}else{var _e=C.__absoluteDivLarge(d,de,!0,!0);$=_e.quotient;var Fe=_e.remainder.__trim();F=C.__toStringGeneric(Fe,m,!0)}$.__trim();for(var ve=C.__toStringGeneric($,m,!0);F.length<Q;)F="0"+F;return!1===p&&d.sign&&(ve="-"+ve),ve+F}},{key:"__unequalSign",value:function(d){return d?-1:1}},{key:"__absoluteGreater",value:function(d){return d?-1:1}},{key:"__absoluteLess",value:function(d){return d?1:-1}},{key:"__compareToBigInt",value:function(d,m){var p=d.sign;if(p!==m.sign)return C.__unequalSign(p);var E=C.__absoluteCompare(d,m);return 0<E?C.__absoluteGreater(p):0>E?C.__absoluteLess(p):0}},{key:"__compareToNumber",value:function(d,m){if(C.__isOneDigitInt(m)){var p=d.sign,E=0>m;if(p!==E)return C.__unequalSign(p);if(0===d.length){if(E)throw new Error("implementation bug");return 0===m?0:-1}if(1<d.length)return C.__absoluteGreater(p);var D=we(m),R=d.__unsignedDigit(0);return R>D?C.__absoluteGreater(p):R<D?C.__absoluteLess(p):0}return C.__compareToDouble(d,m)}},{key:"__compareToDouble",value:function(d,m){if(m!=m)return m;if(m===1/0)return-1;if(m===-1/0)return 1;var p=d.sign;if(p!==0>m)return C.__unequalSign(p);if(0===m)throw new Error("implementation bug: should be handled elsewhere");if(0===d.length)return-1;C.__kBitConversionDouble[0]=m;var E=2047&C.__kBitConversionInts[1]>>>20;if(2047==E)throw new Error("implementation bug: handled elsewhere");var D=E-1023;if(0>D)return C.__absoluteGreater(p);var R=d.length,x=d.__digit(R-1),s=C.__clz30(x),v=30*R-s,$=D+1;if(v<$)return C.__absoluteLess(p);if(v>$)return C.__absoluteGreater(p);var F=1048576|1048575&C.__kBitConversionInts[1],Q=C.__kBitConversionInts[0],De=29-s;if(De!==(0|(v-1)%30))throw new Error("implementation bug");var Re,Ve=0;if(De<20){var Ee=20-De;Ve=Ee+32,Re=F>>>Ee,F=F<<32-Ee|Q>>>Ee,Q<<=32-Ee}else if(20===De)Ve=32,Re=F,F=Q,Q=0;else{var _e=De-20;Ve=32-_e,Re=F<<_e|Q>>>32-_e,F=Q<<_e,Q=0}if((x>>>=0)>(Re>>>=0))return C.__absoluteGreater(p);if(x<Re)return C.__absoluteLess(p);for(var Fe=R-2;0<=Fe;Fe--){0<Ve?(Ve-=30,Re=F>>>2,F=F<<30|Q>>>2,Q<<=30):Re=0;var ve=d.__unsignedDigit(Fe);if(ve>Re)return C.__absoluteGreater(p);if(ve<Re)return C.__absoluteLess(p)}if(0!==F||0!==Q){if(0===Ve)throw new Error("implementation bug");return C.__absoluteLess(p)}return 0}},{key:"__equalToNumber",value:function(d,m){return C.__isOneDigitInt(m)?0===m?0===d.length:1===d.length&&d.sign===0>m&&d.__unsignedDigit(0)===we(m):0===C.__compareToDouble(d,m)}},{key:"__comparisonResultToBool",value:function(d,m){return 0===m?0>d:1===m?0>=d:2===m?0<d:3===m?0<=d:void 0}},{key:"__compare",value:function(d,m,p){if(d=C.__toPrimitive(d),m=C.__toPrimitive(m),"string"==typeof d&&"string"==typeof m)switch(p){case 0:return d<m;case 1:return d<=m;case 2:return d>m;case 3:return d>=m}if(C.__isBigInt(d)&&"string"==typeof m)return null!==(m=C.__fromString(m))&&C.__comparisonResultToBool(C.__compareToBigInt(d,m),p);if("string"==typeof d&&C.__isBigInt(m))return null!==(d=C.__fromString(d))&&C.__comparisonResultToBool(C.__compareToBigInt(d,m),p);if(d=C.__toNumeric(d),m=C.__toNumeric(m),C.__isBigInt(d)){if(C.__isBigInt(m))return C.__comparisonResultToBool(C.__compareToBigInt(d,m),p);if("number"!=typeof m)throw new Error("implementation bug");return C.__comparisonResultToBool(C.__compareToNumber(d,m),p)}if("number"!=typeof d)throw new Error("implementation bug");if(C.__isBigInt(m))return C.__comparisonResultToBool(C.__compareToNumber(m,d),2^p);if("number"!=typeof m)throw new Error("implementation bug");return 0===p?d<m:1===p?d<=m:2===p?d>m:3===p?d>=m:void 0}},{key:"__absoluteAdd",value:function(d,m,p){if(d.length<m.length)return C.__absoluteAdd(m,d,p);if(0===d.length)return d;if(0===m.length)return d.sign===p?d:C.unaryMinus(d);var E=d.length;(0===d.__clzmsd()||m.length===d.length&&0===m.__clzmsd())&&E++;for(var D,R=new C(E,p),x=0,s=0;s<m.length;s++)x=(D=d.__digit(s)+m.__digit(s)+x)>>>30,R.__setDigit(s,1073741823&D);for(;s<d.length;s++){var v=d.__digit(s)+x;x=v>>>30,R.__setDigit(s,1073741823&v)}return s<R.length&&R.__setDigit(s,x),R.__trim()}},{key:"__absoluteSub",value:function(d,m,p){if(0===d.length)return d;if(0===m.length)return d.sign===p?d:C.unaryMinus(d);for(var E,D=new C(d.length,p),R=0,x=0;x<m.length;x++)R=1&(E=d.__digit(x)-m.__digit(x)-R)>>>30,D.__setDigit(x,1073741823&E);for(;x<d.length;x++){var s=d.__digit(x)-R;R=1&s>>>30,D.__setDigit(x,1073741823&s)}return D.__trim()}},{key:"__absoluteAddOne",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,E=d.length;null===p?p=new C(E,m):p.sign=m;for(var D,R=1,x=0;x<E;x++)R=(D=d.__digit(x)+R)>>>30,p.__setDigit(x,1073741823&D);return 0!==R&&p.__setDigitGrow(E,1),p}},{key:"__absoluteSubOne",value:function(d,m){for(var E,p=d.length,D=new C(m=m||p,!1),R=1,x=0;x<p;x++)R=1&(E=d.__digit(x)-R)>>>30,D.__setDigit(x,1073741823&E);if(0!==R)throw new Error("implementation bug");for(var s=p;s<m;s++)D.__setDigit(s,0);return D}},{key:"__absoluteAnd",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,E=d.length,D=m.length,R=D;if(E<D){R=E;var x=d,s=E;d=m,E=D,m=x,D=s}var v=R;null===p?p=new C(v,!1):v=p.length;for(var $=0;$<R;$++)p.__setDigit($,d.__digit($)&m.__digit($));for(;$<v;$++)p.__setDigit($,0);return p}},{key:"__absoluteAndNot",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,E=d.length,D=m.length,R=D;E<D&&(R=E);var x=E;null===p?p=new C(x,!1):x=p.length;for(var s=0;s<R;s++)p.__setDigit(s,d.__digit(s)&~m.__digit(s));for(;s<E;s++)p.__setDigit(s,d.__digit(s));for(;s<x;s++)p.__setDigit(s,0);return p}},{key:"__absoluteOr",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,E=d.length,D=m.length,R=D;if(E<D){R=E;var x=d,s=E;d=m,E=D,m=x,D=s}var v=E;null===p?p=new C(v,!1):v=p.length;for(var $=0;$<R;$++)p.__setDigit($,d.__digit($)|m.__digit($));for(;$<E;$++)p.__setDigit($,d.__digit($));for(;$<v;$++)p.__setDigit($,0);return p}},{key:"__absoluteXor",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,E=d.length,D=m.length,R=D;if(E<D){R=E;var x=d,s=E;d=m,E=D,m=x,D=s}var v=E;null===p?p=new C(v,!1):v=p.length;for(var $=0;$<R;$++)p.__setDigit($,d.__digit($)^m.__digit($));for(;$<E;$++)p.__setDigit($,d.__digit($));for(;$<v;$++)p.__setDigit($,0);return p}},{key:"__absoluteCompare",value:function(d,m){var p=d.length-m.length;if(0!=p)return p;for(var E=d.length-1;0<=E&&d.__digit(E)===m.__digit(E);)E--;return 0>E?0:d.__unsignedDigit(E)>m.__unsignedDigit(E)?1:-1}},{key:"__multiplyAccumulate",value:function(d,m,p,E){if(0!==m){for(var D=32767&m,R=m>>>15,x=0,s=0,v=0;v<d.length;v++,E++){var $=p.__digit(E),F=d.__digit(v),Q=32767&F,de=F>>>15,De=C.__imul(Q,D),Re=C.__imul(Q,R),Ve=C.__imul(de,D);x=($+=s+De+x)>>>30,$&=1073741823,x+=($+=((32767&Re)<<15)+((32767&Ve)<<15))>>>30,s=C.__imul(de,R)+(Re>>>15)+(Ve>>>15),p.__setDigit(E,1073741823&$)}for(;0!==x||0!==s;E++){var _e=p.__digit(E);_e+=x+s,s=0,x=_e>>>30,p.__setDigit(E,1073741823&_e)}}}},{key:"__internalMultiplyAdd",value:function(d,m,p,E,D){for(var R=p,x=0,s=0;s<E;s++){var v=d.__digit(s),$=C.__imul(32767&v,m),F=C.__imul(v>>>15,m),Q=$+((32767&F)<<15)+x+R;R=Q>>>30,x=F>>>15,D.__setDigit(s,1073741823&Q)}if(D.length>E)for(D.__setDigit(E++,R+x);E<D.length;)D.__setDigit(E++,0);else if(R+x!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(d,m){var p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===p&&(p=new C(d.length,!1));for(var E=0,D=2*d.length-1;0<=D;D-=2){var R=(E<<15|d.__halfDigit(D))>>>0,x=0|R/m;E=0|(R=((E=0|R%m)<<15|d.__halfDigit(D-1))>>>0)%m,p.__setDigit(D>>>1,x<<15|R/m)}return p}},{key:"__absoluteModSmall",value:function(d,m){for(var E=0,D=2*d.length-1;0<=D;D--)E=0|((E<<15|d.__halfDigit(D))>>>0)%m;return E}},{key:"__absoluteDivLarge",value:function(d,m,p,E){var D=m.__halfDigitLength(),R=m.length,x=d.__halfDigitLength()-D,s=null;p&&(s=new C(x+2>>>1,!1)).__initializeDigits();var v=new C(D+2>>>1,!1);v.__initializeDigits();var $=C.__clz15(m.__halfDigit(D-1));0<$&&(m=C.__specialLeftShift(m,$,0));for(var F=C.__specialLeftShift(d,$,1),Q=m.__halfDigit(D-1),de=0,De=x;0<=De;De--){var Re=32767,Ve=F.__halfDigit(De+D);if(Ve!==Q){var Ee=(Ve<<15|F.__halfDigit(De+D-1))>>>0;Re=0|Ee/Q;for(var _e=0|Ee%Q,Fe=m.__halfDigit(D-2),ve=F.__halfDigit(De+D-2);C.__imul(Re,Fe)>>>0>(_e<<16|ve)>>>0&&(Re--,!(32767<(_e+=Q))););}C.__internalMultiplyAdd(m,Re,0,R,v);var Te=F.__inplaceSub(v,De,D+1);0!==Te&&(Te=F.__inplaceAdd(m,De,D),F.__setHalfDigit(De+D,32767&F.__halfDigit(De+D)+Te),Re--),p&&(1&De?de=Re<<15:s.__setDigit(De>>>1,de|Re))}if(E)return F.__inplaceRightShift($),p?{quotient:s,remainder:F}:F;if(p)return s;throw new Error("unreachable")}},{key:"__clz15",value:function(d){return C.__clz30(d)-15}},{key:"__specialLeftShift",value:function(d,m,p){var E=d.length,D=new C(E+p,!1);if(0===m){for(var R=0;R<E;R++)D.__setDigit(R,d.__digit(R));return 0<p&&D.__setDigit(E,0),D}for(var x,s=0,v=0;v<E;v++)x=d.__digit(v),D.__setDigit(v,1073741823&x<<m|s),s=x>>>30-m;return 0<p&&D.__setDigit(E,s),D}},{key:"__leftShiftByAbsolute",value:function(d,m){var p=C.__toShiftAmount(m);if(0>p)throw new RangeError("BigInt too big");var E=0|p/30,D=p%30,R=d.length,x=0!==D&&d.__digit(R-1)>>>30-D!=0,s=R+E+(x?1:0),v=new C(s,d.sign);if(0===D){for(var $=0;$<E;$++)v.__setDigit($,0);for(;$<s;$++)v.__setDigit($,d.__digit($-E))}else{for(var F=0,Q=0;Q<E;Q++)v.__setDigit(Q,0);for(var de,De=0;De<R;De++)de=d.__digit(De),v.__setDigit(De+E,1073741823&de<<D|F),F=de>>>30-D;if(x)v.__setDigit(R+E,F);else if(0!==F)throw new Error("implementation bug")}return v.__trim()}},{key:"__rightShiftByAbsolute",value:function(d,m){var p=d.length,E=d.sign,D=C.__toShiftAmount(m);if(0>D)return C.__rightShiftByMaximum(E);var R=0|D/30,x=D%30,s=p-R;if(0>=s)return C.__rightShiftByMaximum(E);var v=!1;if(E)if(d.__digit(R)&(1<<x)-1)v=!0;else for(var $=0;$<R;$++)if(0!==d.__digit($)){v=!0;break}v&&0===x&&!~d.__digit(p-1)&&s++;var Q=new C(s,E);if(0===x){Q.__setDigit(s-1,0);for(var de=R;de<p;de++)Q.__setDigit(de-R,d.__digit(de))}else{for(var De,Re=d.__digit(R)>>>x,Ve=p-R-1,Ee=0;Ee<Ve;Ee++)De=d.__digit(Ee+R+1),Q.__setDigit(Ee,1073741823&De<<30-x|Re),Re=De>>>x;Q.__setDigit(Ve,Re)}return v&&(Q=C.__absoluteAddOne(Q,!0,Q)),Q.__trim()}},{key:"__rightShiftByMaximum",value:function(d){return d?C.__oneDigit(1,!0):C.__zero()}},{key:"__toShiftAmount",value:function(d){if(1<d.length)return-1;var m=d.__unsignedDigit(0);return m>C.__kMaxLengthBits?-1:m}},{key:"__toPrimitive",value:function(d){var m=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==y(d)||d.constructor===C)return d;if(typeof Symbol<"u"&&"symbol"===y(Symbol.toPrimitive)){var p=d[Symbol.toPrimitive];if(p){var E=p(m);if("object"!==y(E))return E;throw new TypeError("Cannot convert object to primitive value")}}var D=d.valueOf;if(D){var R=D.call(d);if("object"!==y(R))return R}var x=d.toString;if(x){var s=x.call(d);if("object"!==y(s))return s}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(d){return C.__isBigInt(d)?d:+d}},{key:"__isBigInt",value:function(d){return"object"===y(d)&&null!==d&&d.constructor===C}},{key:"__truncateToNBits",value:function(d,m){for(var p=0|(d+29)/30,E=new C(p,m.sign),D=p-1,R=0;R<D;R++)E.__setDigit(R,m.__digit(R));var x=m.__digit(D);if(d%30!=0){var s=32-d%30;x=x<<s>>>s}return E.__setDigit(D,x),E.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(d,m,p){for(var D,E=Math.min,R=0|(d+29)/30,x=new C(R,p),s=0,v=R-1,$=0,F=E(v,m.length);s<F;s++)$=1&(D=0-m.__digit(s)-$)>>>30,x.__setDigit(s,1073741823&D);for(;s<v;s++)x.__setDigit(s,1073741823&-$);var Q,de=v<m.length?m.__digit(v):0,De=d%30;if(0===De)Q=0-de-$,Q&=1073741823;else{var Re=32-De,Ve=1<<32-Re;Q=Ve-(de=de<<Re>>>Re)-$,Q&=Ve-1}return x.__setDigit(v,Q),x.__trim()}},{key:"__digitPow",value:function(d,m){for(var p=1;0<m;)1&m&&(p*=d),m>>>=1,d*=d;return p}},{key:"__isOneDigitInt",value:function(d){return(1073741823&d)===d}}]),C}(A(Array));return fe.__kMaxLength=33554432,fe.__kMaxLengthBits=fe.__kMaxLength<<5,fe.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],fe.__kBitsPerCharTableShift=5,fe.__kBitsPerCharTableMultiplier=1<<fe.__kBitsPerCharTableShift,fe.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],fe.__kBitConversionBuffer=new ArrayBuffer(8),fe.__kBitConversionDouble=new Float64Array(fe.__kBitConversionBuffer),fe.__kBitConversionInts=new Int32Array(fe.__kBitConversionBuffer),fe.__clz30=_?function(he){return _(he)-2}:function(he){var we=Math.LN2,Me=Math.log;return 0===he?30:0|29-(0|Me(he>>>0)/we)},fe.__imul=j||function(he,we){return 0|he*we},fe}()},44331:We=>{"use strict";var j=We.exports=function(b,P,H){"function"==typeof P&&(H=P,P={}),_(P,"function"==typeof(H=P.cb||H)?H:H.pre||function(){},H.post||function(){},b,"",b)};function _(b,P,H,w,O,S,B,N,U,A){if(w&&"object"==typeof w&&!Array.isArray(w)){for(var G in P(w,O,S,B,N,U,A),w){var L=w[G];if(Array.isArray(L)){if(G in j.arrayKeywords)for(var z=0;z<L.length;z++)_(b,P,H,L[z],O+"/"+G+"/"+z,S,O,G,w,z)}else if(G in j.propsKeywords){if(L&&"object"==typeof L)for(var ee in L)_(b,P,H,L[ee],O+"/"+G+"/"+y(ee),S,O,G,w,ee)}else(G in j.keywords||b.allKeys&&!(G in j.skipKeywords))&&_(b,P,H,L,O+"/"+G,S,O,G,w)}H(w,O,S,B,N,U,A)}}function y(b){return b.replace(/~/g,"~0").replace(/\//g,"~1")}j.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},j.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},j.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},j.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},89061:(We,j)=>{"use strict";j.supports=function(...y){const b=y.reduce((P,H)=>Object.assign(P,H),{});return Object.assign(b,{snapshots:b.snapshots||!1,permanence:b.permanence||!1,seek:b.seek||!1,clear:b.clear||!1,getMany:b.getMany||!1,keyIterator:b.keyIterator||!1,valueIterator:b.valueIterator||!1,iteratorNextv:b.iteratorNextv||!1,iteratorAll:b.iteratorAll||!1,status:b.status||!1,createIfMissing:b.createIfMissing||!1,errorIfExists:b.errorIfExists||!1,deferredOpen:b.deferredOpen||!1,promises:b.promises||!1,streams:b.streams||!1,encodings:Object.assign({},b.encodings),events:Object.assign({},b.events),additionalMethods:Object.assign({},b.additionalMethods)})}},25006:(We,j,_)=>{"use strict";const y=_(61747),b=_(40080),{Encoding:P}=_(15045),{BufferFormat:H,ViewFormat:w,UTF8Format:O}=_(48262),S=Symbol("formats"),B=Symbol("encodings"),N=new Set(["buffer","view","utf8"]);j.Transcoder=class U{constructor(Z){if(!Array.isArray(Z))throw new TypeError("The first argument 'formats' must be an array");if(!Z.every(J=>N.has(J)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[B]=new Map,this[S]=new Set(Z);for(const J in b)try{this.encoding(J)}catch(se){if("LEVEL_ENCODING_NOT_SUPPORTED"!==se.code)throw se}}encodings(){return Array.from(new Set(this[B].values()))}encoding(Z){let J=this[B].get(Z);if(void 0===J){if("string"==typeof Z&&""!==Z){if(J=z[Z],!J)throw new y(`Encoding '${Z}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof Z||null===Z)throw new TypeError("First argument 'encoding' must be a string or object");J=function A(q){if(q instanceof P)return q;const J=q.name||("type"in q&&"string"==typeof q.type?q.type:void 0)||"anonymous-"+ee++;switch(function G(q){return"format"in q&&void 0!==q.format?q.format:"buffer"in q&&"boolean"==typeof q.buffer?q.buffer?"buffer":"utf8":"code"in q&&Number.isInteger(q.code)?"view":"buffer"}(q)){case"view":return new w({...q,name:J});case"utf8":return new O({...q,name:J});case"buffer":return new H({...q,name:J});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(Z)}const{name:se,format:ce}=J;if(!this[S].has(ce))if(this[S].has("view"))J=J.createViewTranscoder();else if(this[S].has("buffer"))J=J.createBufferTranscoder();else{if(!this[S].has("utf8"))throw new y(`Encoding '${se}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});J=J.createUTF8Transcoder()}for(const ae of[Z,se,J.name,J.commonName])this[B].set(ae,J)}return J}};const L={binary:b.buffer,"utf-8":b.utf8},z={...b,...L};let ee=0},15045:(We,j,_)=>{"use strict";const y=_(61747),b=new Set(["buffer","view","utf8"]);j.Encoding=class P{constructor(w){if(this.encode=w.encode||this.encode,this.decode=w.decode||this.decode,this.name=w.name||this.name,this.format=w.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!b.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");w.createViewTranscoder&&(this.createViewTranscoder=w.createViewTranscoder),w.createBufferTranscoder&&(this.createBufferTranscoder=w.createBufferTranscoder),w.createUTF8Transcoder&&(this.createUTF8Transcoder=w.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new y(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new y(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new y(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:(We,j,_)=>{"use strict";const{Buffer:y}=_(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:b,textDecoder:P}=_(33619)(),{BufferFormat:H,ViewFormat:w,UTF8Format:O}=_(48262),S=B=>B;j.utf8=new O({encode:function(B){return y.isBuffer(B)?B.toString("utf8"):ArrayBuffer.isView(B)?P.decode(B):String(B)},decode:S,name:"utf8",createViewTranscoder(){return new w({encode:function(B){return ArrayBuffer.isView(B)?B:b.encode(B)},decode:function(B){return P.decode(B)},name:`${this.name}+view`})},createBufferTranscoder(){return new H({encode:function(B){return y.isBuffer(B)?B:ArrayBuffer.isView(B)?y.from(B.buffer,B.byteOffset,B.byteLength):y.from(String(B),"utf8")},decode:function(B){return B.toString("utf8")},name:`${this.name}+buffer`})}}),j.json=new O({encode:JSON.stringify,decode:JSON.parse,name:"json"}),j.buffer=new H({encode:function(B){return y.isBuffer(B)?B:ArrayBuffer.isView(B)?y.from(B.buffer,B.byteOffset,B.byteLength):y.from(String(B),"utf8")},decode:S,name:"buffer",createViewTranscoder(){return new w({encode:function(B){return ArrayBuffer.isView(B)?B:y.from(String(B),"utf8")},decode:function(B){return y.from(B.buffer,B.byteOffset,B.byteLength)},name:`${this.name}+view`})}}),j.view=new w({encode:function(B){return ArrayBuffer.isView(B)?B:b.encode(B)},decode:S,name:"view",createBufferTranscoder(){return new H({encode:function(B){return y.isBuffer(B)?B:ArrayBuffer.isView(B)?y.from(B.buffer,B.byteOffset,B.byteLength):y.from(String(B),"utf8")},decode:S,name:`${this.name}+buffer`})}}),j.hex=new H({encode:function(B){return y.isBuffer(B)?B:y.from(String(B),"hex")},decode:function(B){return B.toString("hex")},name:"hex"}),j.base64=new H({encode:function(B){return y.isBuffer(B)?B:y.from(String(B),"base64")},decode:function(B){return B.toString("base64")},name:"base64"})},48262:(We,j,_)=>{"use strict";const{Buffer:y}=_(484)||{},{Encoding:b}=_(15045),P=_(33619);class H extends b{constructor(B){super({...B,format:"buffer"})}createViewTranscoder(){return new w({encode:this.encode,decode:B=>this.decode(y.from(B.buffer,B.byteOffset,B.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class w extends b{constructor(B){super({...B,format:"view"})}createBufferTranscoder(){return new H({encode:B=>{const N=this.encode(B);return y.from(N.buffer,N.byteOffset,N.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}j.BufferFormat=H,j.ViewFormat=w,j.UTF8Format=class O extends b{constructor(B){super({...B,format:"utf8"})}createBufferTranscoder(){return new H({encode:B=>y.from(this.encode(B),"utf8"),decode:B=>this.decode(B.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:B,textDecoder:N}=P();return new w({encode:U=>B.encode(this.encode(U)),decode:U=>this.decode(N.decode(U)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:We=>{"use strict";let j=null;We.exports=function(){return null===j&&(j={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),j}},484:(We,j,_)=>{"use strict";const y=_(13981),b=_(22020),P="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;j.Buffer=S,j.SlowBuffer=function J(K){return+K!=K&&(K=0),S.alloc(+K)},j.INSPECT_MAX_BYTES=50;const H=2147483647;function O(K){if(K>H)throw new RangeError('The value "'+K+'" is invalid for option "size"');const T=new Uint8Array(K);return Object.setPrototypeOf(T,S.prototype),T}function S(K,T,M){if("number"==typeof K){if("string"==typeof T)throw new TypeError('The "string" argument must be of type string. Received type number');return A(K)}return B(K,T,M)}function B(K,T,M){if("string"==typeof K)return function G(K,T){if(("string"!=typeof T||""===T)&&(T="utf8"),!S.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const M=0|se(K,T);let Y=O(M);const pe=Y.write(K,T);return pe!==M&&(Y=Y.slice(0,pe)),Y}(K,T);if(ArrayBuffer.isView(K))return function z(K){if(ze(K,Uint8Array)){const T=new Uint8Array(K);return ee(T.buffer,T.byteOffset,T.byteLength)}return L(K)}(K);if(null==K)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(ze(K,ArrayBuffer)||K&&ze(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ze(K,SharedArrayBuffer)||K&&ze(K.buffer,SharedArrayBuffer)))return ee(K,T,M);if("number"==typeof K)throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=K.valueOf&&K.valueOf();if(null!=Y&&Y!==K)return S.from(Y,T,M);const pe=function q(K){if(S.isBuffer(K)){const T=0|Z(K.length),M=O(T);return 0===M.length||K.copy(M,0,0,T),M}return void 0!==K.length?"number"!=typeof K.length||Dt(K.length)?O(0):L(K):"Buffer"===K.type&&Array.isArray(K.data)?L(K.data):void 0}(K);if(pe)return pe;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof K[Symbol.toPrimitive])return S.from(K[Symbol.toPrimitive]("string"),T,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}function N(K){if("number"!=typeof K)throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function A(K){return N(K),O(K<0?0:0|Z(K))}function L(K){const T=K.length<0?0:0|Z(K.length),M=O(T);for(let Y=0;Y<T;Y+=1)M[Y]=255&K[Y];return M}function ee(K,T,M){if(T<0||K.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<T+(M||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return Y=void 0===T&&void 0===M?new Uint8Array(K):void 0===M?new Uint8Array(K,T):new Uint8Array(K,T,M),Object.setPrototypeOf(Y,S.prototype),Y}function Z(K){if(K>=H)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+H.toString(16)+" bytes");return 0|K}function se(K,T){if(S.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||ze(K,ArrayBuffer))return K.byteLength;if("string"!=typeof K)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const M=K.length,Y=arguments.length>2&&!0===arguments[2];if(!Y&&0===M)return 0;let pe=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return ne(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return Be(K).length;default:if(pe)return Y?-1:ne(K).length;T=(""+T).toLowerCase(),pe=!0}}function ce(K,T,M){let Y=!1;if((void 0===T||T<0)&&(T=0),T>this.length||((void 0===M||M>this.length)&&(M=this.length),M<=0)||(M>>>=0)<=(T>>>=0))return"";for(K||(K="utf8");;)switch(K){case"hex":return x(this,T,M);case"utf8":case"utf-8":return m(this,T,M);case"ascii":return D(this,T,M);case"latin1":case"binary":return R(this,T,M);case"base64":return d(this,T,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s(this,T,M);default:if(Y)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),Y=!0}}function ae(K,T,M){const Y=K[T];K[T]=K[M],K[M]=Y}function fe(K,T,M,Y,pe){if(0===K.length)return-1;if("string"==typeof M?(Y=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),Dt(M=+M)&&(M=pe?0:K.length-1),M<0&&(M=K.length+M),M>=K.length){if(pe)return-1;M=K.length-1}else if(M<0){if(!pe)return-1;M=0}if("string"==typeof T&&(T=S.from(T,Y)),S.isBuffer(T))return 0===T.length?-1:he(K,T,M,Y,pe);if("number"==typeof T)return T&=255,"function"==typeof Uint8Array.prototype.indexOf?pe?Uint8Array.prototype.indexOf.call(K,T,M):Uint8Array.prototype.lastIndexOf.call(K,T,M):he(K,[T],M,Y,pe);throw new TypeError("val must be string, number or Buffer")}function he(K,T,M,Y,pe){let It,ke=1,Ne=K.length,lt=T.length;if(void 0!==Y&&("ucs2"===(Y=String(Y).toLowerCase())||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(K.length<2||T.length<2)return-1;ke=2,Ne/=2,lt/=2,M/=2}function en(Kt,rn){return 1===ke?Kt[rn]:Kt.readUInt16BE(rn*ke)}if(pe){let Kt=-1;for(It=M;It<Ne;It++)if(en(K,It)===en(T,-1===Kt?0:It-Kt)){if(-1===Kt&&(Kt=It),It-Kt+1===lt)return Kt*ke}else-1!==Kt&&(It-=It-Kt),Kt=-1}else for(M+lt>Ne&&(M=Ne-lt),It=M;It>=0;It--){let Kt=!0;for(let rn=0;rn<lt;rn++)if(en(K,It+rn)!==en(T,rn)){Kt=!1;break}if(Kt)return It}return-1}function we(K,T,M,Y){M=Number(M)||0;const pe=K.length-M;Y?(Y=Number(Y))>pe&&(Y=pe):Y=pe;const ke=T.length;let Ne;for(Y>ke/2&&(Y=ke/2),Ne=0;Ne<Y;++Ne){const lt=parseInt(T.substr(2*Ne,2),16);if(Dt(lt))return Ne;K[M+Ne]=lt}return Ne}function Me(K,T,M,Y){return qe(ne(T,K.length-M),K,M,Y)}function Pe(K,T,M,Y){return qe(function le(K){const T=[];for(let M=0;M<K.length;++M)T.push(255&K.charCodeAt(M));return T}(T),K,M,Y)}function C(K,T,M,Y){return qe(Be(T),K,M,Y)}function a(K,T,M,Y){return qe(function Ae(K,T){let M,Y,pe;const ke=[];for(let Ne=0;Ne<K.length&&!((T-=2)<0);++Ne)M=K.charCodeAt(Ne),Y=M>>8,pe=M%256,ke.push(pe),ke.push(Y);return ke}(T,K.length-M),K,M,Y)}function d(K,T,M){return y.fromByteArray(0===T&&M===K.length?K:K.slice(T,M))}function m(K,T,M){M=Math.min(K.length,M);const Y=[];let pe=T;for(;pe<M;){const ke=K[pe];let Ne=null,lt=ke>239?4:ke>223?3:ke>191?2:1;if(pe+lt<=M){let en,It,Kt,rn;switch(lt){case 1:ke<128&&(Ne=ke);break;case 2:en=K[pe+1],128==(192&en)&&(rn=(31&ke)<<6|63&en,rn>127&&(Ne=rn));break;case 3:en=K[pe+1],It=K[pe+2],128==(192&en)&&128==(192&It)&&(rn=(15&ke)<<12|(63&en)<<6|63&It,rn>2047&&(rn<55296||rn>57343)&&(Ne=rn));break;case 4:en=K[pe+1],It=K[pe+2],Kt=K[pe+3],128==(192&en)&&128==(192&It)&&128==(192&Kt)&&(rn=(15&ke)<<18|(63&en)<<12|(63&It)<<6|63&Kt,rn>65535&&rn<1114112&&(Ne=rn))}}null===Ne?(Ne=65533,lt=1):Ne>65535&&(Ne-=65536,Y.push(Ne>>>10&1023|55296),Ne=56320|1023&Ne),Y.push(Ne),pe+=lt}return function E(K){const T=K.length;if(T<=p)return String.fromCharCode.apply(String,K);let M="",Y=0;for(;Y<T;)M+=String.fromCharCode.apply(String,K.slice(Y,Y+=p));return M}(Y)}j.kMaxLength=H,!(S.TYPED_ARRAY_SUPPORT=function w(){try{const K=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(K,T),42===K.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}}),S.poolSize=8192,S.from=function(K,T,M){return B(K,T,M)},Object.setPrototypeOf(S.prototype,Uint8Array.prototype),Object.setPrototypeOf(S,Uint8Array),S.alloc=function(K,T,M){return function U(K,T,M){return N(K),K<=0?O(K):void 0!==T?"string"==typeof M?O(K).fill(T,M):O(K).fill(T):O(K)}(K,T,M)},S.allocUnsafe=function(K){return A(K)},S.allocUnsafeSlow=function(K){return A(K)},S.isBuffer=function(T){return null!=T&&!0===T._isBuffer&&T!==S.prototype},S.compare=function(T,M){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),ze(M,Uint8Array)&&(M=S.from(M,M.offset,M.byteLength)),!S.isBuffer(T)||!S.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===M)return 0;let Y=T.length,pe=M.length;for(let ke=0,Ne=Math.min(Y,pe);ke<Ne;++ke)if(T[ke]!==M[ke]){Y=T[ke],pe=M[ke];break}return Y<pe?-1:pe<Y?1:0},S.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(T,M){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(0===T.length)return S.alloc(0);let Y;if(void 0===M)for(M=0,Y=0;Y<T.length;++Y)M+=T[Y].length;const pe=S.allocUnsafe(M);let ke=0;for(Y=0;Y<T.length;++Y){let Ne=T[Y];if(ze(Ne,Uint8Array))ke+Ne.length>pe.length?(S.isBuffer(Ne)||(Ne=S.from(Ne)),Ne.copy(pe,ke)):Uint8Array.prototype.set.call(pe,Ne,ke);else{if(!S.isBuffer(Ne))throw new TypeError('"list" argument must be an Array of Buffers');Ne.copy(pe,ke)}ke+=Ne.length}return pe},S.byteLength=se,S.prototype._isBuffer=!0,S.prototype.swap16=function(){const T=this.length;if(T%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M=0;M<T;M+=2)ae(this,M,M+1);return this},S.prototype.swap32=function(){const T=this.length;if(T%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M=0;M<T;M+=4)ae(this,M,M+3),ae(this,M+1,M+2);return this},S.prototype.swap64=function(){const T=this.length;if(T%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M=0;M<T;M+=8)ae(this,M,M+7),ae(this,M+1,M+6),ae(this,M+2,M+5),ae(this,M+3,M+4);return this},S.prototype.toLocaleString=S.prototype.toString=function(){const T=this.length;return 0===T?"":0===arguments.length?m(this,0,T):ce.apply(this,arguments)},S.prototype.equals=function(T){if(!S.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T||0===S.compare(this,T)},S.prototype.inspect=function(){let T="";const M=j.INSPECT_MAX_BYTES;return T=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(T+=" ... "),"<Buffer "+T+">"},P&&(S.prototype[P]=S.prototype.inspect),S.prototype.compare=function(T,M,Y,pe,ke){if(ze(T,Uint8Array)&&(T=S.from(T,T.offset,T.byteLength)),!S.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(void 0===M&&(M=0),void 0===Y&&(Y=T?T.length:0),void 0===pe&&(pe=0),void 0===ke&&(ke=this.length),M<0||Y>T.length||pe<0||ke>this.length)throw new RangeError("out of range index");if(pe>=ke&&M>=Y)return 0;if(pe>=ke)return-1;if(M>=Y)return 1;if(this===T)return 0;let Ne=(ke>>>=0)-(pe>>>=0),lt=(Y>>>=0)-(M>>>=0);const en=Math.min(Ne,lt),It=this.slice(pe,ke),Kt=T.slice(M,Y);for(let rn=0;rn<en;++rn)if(It[rn]!==Kt[rn]){Ne=It[rn],lt=Kt[rn];break}return Ne<lt?-1:lt<Ne?1:0},S.prototype.includes=function(T,M,Y){return-1!==this.indexOf(T,M,Y)},S.prototype.indexOf=function(T,M,Y){return fe(this,T,M,Y,!0)},S.prototype.lastIndexOf=function(T,M,Y){return fe(this,T,M,Y,!1)},S.prototype.write=function(T,M,Y,pe){if(void 0===M)pe="utf8",Y=this.length,M=0;else if(void 0===Y&&"string"==typeof M)pe=M,Y=this.length,M=0;else{if(!isFinite(M))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");M>>>=0,isFinite(Y)?(Y>>>=0,void 0===pe&&(pe="utf8")):(pe=Y,Y=void 0)}const ke=this.length-M;if((void 0===Y||Y>ke)&&(Y=ke),T.length>0&&(Y<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let Ne=!1;for(;;)switch(pe){case"hex":return we(this,T,M,Y);case"utf8":case"utf-8":return Me(this,T,M,Y);case"ascii":case"latin1":case"binary":return Pe(this,T,M,Y);case"base64":return C(this,T,M,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,T,M,Y);default:if(Ne)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),Ne=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const p=4096;function D(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(127&K[pe]);return Y}function R(K,T,M){let Y="";M=Math.min(K.length,M);for(let pe=T;pe<M;++pe)Y+=String.fromCharCode(K[pe]);return Y}function x(K,T,M){const Y=K.length;(!T||T<0)&&(T=0),(!M||M<0||M>Y)&&(M=Y);let pe="";for(let ke=T;ke<M;++ke)pe+=Xe[K[ke]];return pe}function s(K,T,M){const Y=K.slice(T,M);let pe="";for(let ke=0;ke<Y.length-1;ke+=2)pe+=String.fromCharCode(Y[ke]+256*Y[ke+1]);return pe}function v(K,T,M){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+T>M)throw new RangeError("Trying to access beyond buffer length")}function $(K,T,M,Y,pe,ke){if(!S.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>pe||T<ke)throw new RangeError('"value" argument is out of bounds');if(M+Y>K.length)throw new RangeError("Index out of range")}function F(K,T,M,Y,pe){ve(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke,ke>>=8,K[M++]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,Ne>>=8,K[M++]=Ne,M}function Q(K,T,M,Y,pe){ve(T,Y,pe,K,M,7);let ke=Number(T&BigInt(4294967295));K[M+7]=ke,ke>>=8,K[M+6]=ke,ke>>=8,K[M+5]=ke,ke>>=8,K[M+4]=ke;let Ne=Number(T>>BigInt(32)&BigInt(4294967295));return K[M+3]=Ne,Ne>>=8,K[M+2]=Ne,Ne>>=8,K[M+1]=Ne,Ne>>=8,K[M]=Ne,M+8}function de(K,T,M,Y,pe,ke){if(M+Y>K.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function De(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,4),b.write(K,T,M,Y,23,4),M+4}function Re(K,T,M,Y,pe){return T=+T,M>>>=0,pe||de(K,0,M,8),b.write(K,T,M,Y,52,8),M+8}S.prototype.slice=function(T,M){const Y=this.length;(T=~~T)<0?(T+=Y)<0&&(T=0):T>Y&&(T=Y),(M=void 0===M?Y:~~M)<0?(M+=Y)<0&&(M=0):M>Y&&(M=Y),M<T&&(M=T);const pe=this.subarray(T,M);return Object.setPrototypeOf(pe,S.prototype),pe},S.prototype.readUintLE=S.prototype.readUIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return pe},S.prototype.readUintBE=S.prototype.readUIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T+--M],ke=1;for(;M>0&&(ke*=256);)pe+=this[T+--M]*ke;return pe},S.prototype.readUint8=S.prototype.readUInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),this[T]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]|this[T+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(T,M){return T>>>=0,M||v(T,2,this.length),this[T]<<8|this[T+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+16777216*this[T+3]},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),16777216*this[T]+(this[T+1]<<16|this[T+2]<<8|this[T+3])},S.prototype.readBigUInt64LE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M+256*this[++T]+65536*this[++T]+this[++T]*2**24,ke=this[++T]+256*this[++T]+65536*this[++T]+Y*2**24;return BigInt(pe)+(BigInt(ke)<<BigInt(32))}),S.prototype.readBigUInt64BE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=M*2**24+65536*this[++T]+256*this[++T]+this[++T],ke=this[++T]*2**24+65536*this[++T]+256*this[++T]+Y;return(BigInt(pe)<<BigInt(32))+BigInt(ke)}),S.prototype.readIntLE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=this[T],ke=1,Ne=0;for(;++Ne<M&&(ke*=256);)pe+=this[T+Ne]*ke;return ke*=128,pe>=ke&&(pe-=Math.pow(2,8*M)),pe},S.prototype.readIntBE=function(T,M,Y){T>>>=0,M>>>=0,Y||v(T,M,this.length);let pe=M,ke=1,Ne=this[T+--pe];for(;pe>0&&(ke*=256);)Ne+=this[T+--pe]*ke;return ke*=128,Ne>=ke&&(Ne-=Math.pow(2,8*M)),Ne},S.prototype.readInt8=function(T,M){return T>>>=0,M||v(T,1,this.length),128&this[T]?-1*(255-this[T]+1):this[T]},S.prototype.readInt16LE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T]|this[T+1]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt16BE=function(T,M){T>>>=0,M||v(T,2,this.length);const Y=this[T+1]|this[T]<<8;return 32768&Y?4294901760|Y:Y},S.prototype.readInt32LE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},S.prototype.readInt32BE=function(T,M){return T>>>=0,M||v(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},S.prototype.readBigInt64LE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];return(void 0===M||void 0===Y)&&ge(T,this.length-8),(BigInt(this[T+4]+256*this[T+5]+65536*this[T+6]+(Y<<24))<<BigInt(32))+BigInt(M+256*this[++T]+65536*this[++T]+this[++T]*2**24)}),S.prototype.readBigInt64BE=Ue(function(T){Te(T>>>=0,"offset");const M=this[T],Y=this[T+7];(void 0===M||void 0===Y)&&ge(T,this.length-8);const pe=(M<<24)+65536*this[++T]+256*this[++T]+this[++T];return(BigInt(pe)<<BigInt(32))+BigInt(this[++T]*2**24+65536*this[++T]+256*this[++T]+Y)}),S.prototype.readFloatLE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!0,23,4)},S.prototype.readFloatBE=function(T,M){return T>>>=0,M||v(T,4,this.length),b.read(this,T,!1,23,4)},S.prototype.readDoubleLE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!0,52,8)},S.prototype.readDoubleBE=function(T,M){return T>>>=0,M||v(T,8,this.length),b.read(this,T,!1,52,8)},S.prototype.writeUintLE=S.prototype.writeUIntLE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=1,Ne=0;for(this[M]=255&T;++Ne<Y&&(ke*=256);)this[M+Ne]=T/ke&255;return M+Y},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(T,M,Y,pe){T=+T,M>>>=0,Y>>>=0,pe||$(this,T,M,Y,Math.pow(2,8*Y)-1,0);let ke=Y-1,Ne=1;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)this[M+ke]=T/Ne&255;return M+Y},S.prototype.writeUint8=S.prototype.writeUInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,255,0),this[M]=255&T,M+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,65535,0),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M+3]=T>>>24,this[M+2]=T>>>16,this[M+1]=T>>>8,this[M]=255&T,M+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,4294967295,0),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigUInt64LE=Ue(function(T,M=0){return F(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=Ue(function(T,M=0){return Q(this,T,M,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=0,Ne=1,lt=0;for(this[M]=255&T;++ke<Y&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke-1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeIntBE=function(T,M,Y,pe){if(T=+T,M>>>=0,!pe){const en=Math.pow(2,8*Y-1);$(this,T,M,Y,en-1,-en)}let ke=Y-1,Ne=1,lt=0;for(this[M+ke]=255&T;--ke>=0&&(Ne*=256);)T<0&&0===lt&&0!==this[M+ke+1]&&(lt=1),this[M+ke]=(T/Ne|0)-lt&255;return M+Y},S.prototype.writeInt8=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,1,127,-128),T<0&&(T=255+T+1),this[M]=255&T,M+1},S.prototype.writeInt16LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=255&T,this[M+1]=T>>>8,M+2},S.prototype.writeInt16BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,2,32767,-32768),this[M]=T>>>8,this[M+1]=255&T,M+2},S.prototype.writeInt32LE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),this[M]=255&T,this[M+1]=T>>>8,this[M+2]=T>>>16,this[M+3]=T>>>24,M+4},S.prototype.writeInt32BE=function(T,M,Y){return T=+T,M>>>=0,Y||$(this,T,M,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[M]=T>>>24,this[M+1]=T>>>16,this[M+2]=T>>>8,this[M+3]=255&T,M+4},S.prototype.writeBigInt64LE=Ue(function(T,M=0){return F(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=Ue(function(T,M=0){return Q(this,T,M,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeFloatLE=function(T,M,Y){return De(this,T,M,!0,Y)},S.prototype.writeFloatBE=function(T,M,Y){return De(this,T,M,!1,Y)},S.prototype.writeDoubleLE=function(T,M,Y){return Re(this,T,M,!0,Y)},S.prototype.writeDoubleBE=function(T,M,Y){return Re(this,T,M,!1,Y)},S.prototype.copy=function(T,M,Y,pe){if(!S.isBuffer(T))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!pe&&0!==pe&&(pe=this.length),M>=T.length&&(M=T.length),M||(M=0),pe>0&&pe<Y&&(pe=Y),pe===Y||0===T.length||0===this.length)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),T.length-M<pe-Y&&(pe=T.length-M+Y);const ke=pe-Y;return this===T&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(M,Y,pe):Uint8Array.prototype.set.call(T,this.subarray(Y,pe),M),ke},S.prototype.fill=function(T,M,Y,pe){if("string"==typeof T){if("string"==typeof M?(pe=M,M=0,Y=this.length):"string"==typeof Y&&(pe=Y,Y=this.length),void 0!==pe&&"string"!=typeof pe)throw new TypeError("encoding must be a string");if("string"==typeof pe&&!S.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(1===T.length){const Ne=T.charCodeAt(0);("utf8"===pe&&Ne<128||"latin1"===pe)&&(T=Ne)}}else"number"==typeof T?T&=255:"boolean"==typeof T&&(T=Number(T));if(M<0||this.length<M||this.length<Y)throw new RangeError("Out of range index");if(Y<=M)return this;let ke;if(M>>>=0,Y=void 0===Y?this.length:Y>>>0,T||(T=0),"number"==typeof T)for(ke=M;ke<Y;++ke)this[ke]=T;else{const Ne=S.isBuffer(T)?T:S.from(T,pe),lt=Ne.length;if(0===lt)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(ke=0;ke<Y-M;++ke)this[ke+M]=Ne[ke%lt]}return this};const Ve={};function Ee(K,T,M){Ve[K]=class extends M{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,delete this.name}get code(){return K}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}function _e(K){let T="",M=K.length;const Y="-"===K[0]?1:0;for(;M>=Y+4;M-=3)T=`_${K.slice(M-3,M)}${T}`;return`${K.slice(0,M)}${T}`}function ve(K,T,M,Y,pe,ke){if(K>M||K<T){const Ne="bigint"==typeof T?"n":"";let lt;throw lt=ke>3?0===T||T===BigInt(0)?`>= 0${Ne} and < 2${Ne} ** ${8*(ke+1)}${Ne}`:`>= -(2${Ne} ** ${8*(ke+1)-1}${Ne}) and < 2 ** ${8*(ke+1)-1}${Ne}`:`>= ${T}${Ne} and <= ${M}${Ne}`,new Ve.ERR_OUT_OF_RANGE("value",lt,K)}!function Fe(K,T,M){Te(T,"offset"),(void 0===K[T]||void 0===K[T+M])&&ge(T,K.length-(M+1))}(Y,pe,ke)}function Te(K,T){if("number"!=typeof K)throw new Ve.ERR_INVALID_ARG_TYPE(T,"number",K)}function ge(K,T,M){throw Math.floor(K)!==K?(Te(K,M),new Ve.ERR_OUT_OF_RANGE(M||"offset","an integer",K)):T<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(M||"offset",`>= ${M?1:0} and <= ${T}`,K)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(K,T){return`The "${K}" argument must be of type number. Received type ${typeof T}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(K,T,M){let Y=`The value of "${K}" is out of range.`,pe=M;return Number.isInteger(M)&&Math.abs(M)>2**32?pe=_e(String(M)):"bigint"==typeof M&&(pe=String(M),(M>BigInt(2)**BigInt(32)||M<-(BigInt(2)**BigInt(32)))&&(pe=_e(pe)),pe+="n"),Y+=` It must be ${T}. Received ${pe}`,Y},RangeError);const me=/[^+/0-9A-Za-z-_]/g;function ne(K,T){let M;T=T||1/0;const Y=K.length;let pe=null;const ke=[];for(let Ne=0;Ne<Y;++Ne){if(M=K.charCodeAt(Ne),M>55295&&M<57344){if(!pe){if(M>56319){(T-=3)>-1&&ke.push(239,191,189);continue}if(Ne+1===Y){(T-=3)>-1&&ke.push(239,191,189);continue}pe=M;continue}if(M<56320){(T-=3)>-1&&ke.push(239,191,189),pe=M;continue}M=65536+(pe-55296<<10|M-56320)}else pe&&(T-=3)>-1&&ke.push(239,191,189);if(pe=null,M<128){if((T-=1)<0)break;ke.push(M)}else if(M<2048){if((T-=2)<0)break;ke.push(M>>6|192,63&M|128)}else if(M<65536){if((T-=3)<0)break;ke.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;ke.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return ke}function Be(K){return y.toByteArray(function te(K){if((K=(K=K.split("=")[0]).trim().replace(me,"")).length<2)return"";for(;K.length%4!=0;)K+="=";return K}(K))}function qe(K,T,M,Y){let pe;for(pe=0;pe<Y&&!(pe+M>=T.length||pe>=K.length);++pe)T[pe+M]=K[pe];return pe}function ze(K,T){return K instanceof T||null!=K&&null!=K.constructor&&null!=K.constructor.name&&K.constructor.name===T.name}function Dt(K){return K!=K}const Xe=function(){const K="0123456789abcdef",T=new Array(256);for(let M=0;M<16;++M){const Y=16*M;for(let pe=0;pe<16;++pe)T[Y+pe]=K[M]+K[pe]}return T}();function Ue(K){return typeof BigInt>"u"?mt:K}function mt(){throw new Error("BigInt not supported")}},54626:(We,j,_)=>{j.Level=_(23963).BrowserLevel},8516:(We,j,_)=>{var y=_(81464);We.exports=y.Symbol},61057:(We,j,_)=>{var y=_(8516),b=_(8488),P=_(53327),O=y?y.toStringTag:void 0;We.exports=function S(B){return null==B?void 0===B?"[object Undefined]":"[object Null]":O&&O in Object(B)?b(B):P(B)}},78657:We=>{var j="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;We.exports=j},46902:(We,j,_)=>{var b=_(72852)(Object.getPrototypeOf,Object);We.exports=b},8488:(We,j,_)=>{var y=_(8516),b=Object.prototype,P=b.hasOwnProperty,H=b.toString,w=y?y.toStringTag:void 0;We.exports=function O(S){var B=P.call(S,w),N=S[w];try{S[w]=void 0;var U=!0}catch{}var A=H.call(S);return U&&(B?S[w]=N:delete S[w]),A}},53327:We=>{var _=Object.prototype.toString;We.exports=function y(b){return _.call(b)}},72852:We=>{We.exports=function j(_,y){return function(b){return _(y(b))}}},81464:(We,j,_)=>{var y=_(78657),b="object"==typeof self&&self&&self.Object===Object&&self,P=y||b||Function("return this")();We.exports=P},57433:We=>{We.exports=function j(_){return null!=_&&"object"==typeof _}},49970:(We,j,_)=>{var y=_(61057),b=_(46902),P=_(57433),S=Function.prototype.toString,B=Object.prototype.hasOwnProperty,N=S.call(Object);We.exports=function U(A){if(!P(A)||"[object Object]"!=y(A))return!1;var G=b(A);if(null===G)return!0;var L=B.call(G,"constructor")&&G.constructor;return"function"==typeof L&&L instanceof L&&S.call(L)==N}},34725:(We,j,_)=>{"use strict";var y=_(71993),b=_(13686),P=_(27054).Buffer,H=new Array(16);function w(){b.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function O(A,G){return A<<G|A>>>32-G}function S(A,G,L,z,ee,q,Z){return O(A+(G&L|~G&z)+ee+q|0,Z)+G|0}function B(A,G,L,z,ee,q,Z){return O(A+(G&z|L&~z)+ee+q|0,Z)+G|0}function N(A,G,L,z,ee,q,Z){return O(A+(G^L^z)+ee+q|0,Z)+G|0}function U(A,G,L,z,ee,q,Z){return O(A+(L^(G|~z))+ee+q|0,Z)+G|0}y(w,b),w.prototype._update=function(){for(var A=H,G=0;G<16;++G)A[G]=this._block.readInt32LE(4*G);var L=this._a,z=this._b,ee=this._c,q=this._d;L=S(L,z,ee,q,A[0],3614090360,7),q=S(q,L,z,ee,A[1],3905402710,12),ee=S(ee,q,L,z,A[2],606105819,17),z=S(z,ee,q,L,A[3],3250441966,22),L=S(L,z,ee,q,A[4],4118548399,7),q=S(q,L,z,ee,A[5],1200080426,12),ee=S(ee,q,L,z,A[6],2821735955,17),z=S(z,ee,q,L,A[7],4249261313,22),L=S(L,z,ee,q,A[8],1770035416,7),q=S(q,L,z,ee,A[9],2336552879,12),ee=S(ee,q,L,z,A[10],4294925233,17),z=S(z,ee,q,L,A[11],2304563134,22),L=S(L,z,ee,q,A[12],1804603682,7),q=S(q,L,z,ee,A[13],4254626195,12),ee=S(ee,q,L,z,A[14],2792965006,17),L=B(L,z=S(z,ee,q,L,A[15],1236535329,22),ee,q,A[1],4129170786,5),q=B(q,L,z,ee,A[6],3225465664,9),ee=B(ee,q,L,z,A[11],643717713,14),z=B(z,ee,q,L,A[0],3921069994,20),L=B(L,z,ee,q,A[5],3593408605,5),q=B(q,L,z,ee,A[10],38016083,9),ee=B(ee,q,L,z,A[15],3634488961,14),z=B(z,ee,q,L,A[4],3889429448,20),L=B(L,z,ee,q,A[9],568446438,5),q=B(q,L,z,ee,A[14],3275163606,9),ee=B(ee,q,L,z,A[3],4107603335,14),z=B(z,ee,q,L,A[8],1163531501,20),L=B(L,z,ee,q,A[13],2850285829,5),q=B(q,L,z,ee,A[2],4243563512,9),ee=B(ee,q,L,z,A[7],1735328473,14),L=N(L,z=B(z,ee,q,L,A[12],2368359562,20),ee,q,A[5],4294588738,4),q=N(q,L,z,ee,A[8],2272392833,11),ee=N(ee,q,L,z,A[11],1839030562,16),z=N(z,ee,q,L,A[14],4259657740,23),L=N(L,z,ee,q,A[1],2763975236,4),q=N(q,L,z,ee,A[4],1272893353,11),ee=N(ee,q,L,z,A[7],4139469664,16),z=N(z,ee,q,L,A[10],3200236656,23),L=N(L,z,ee,q,A[13],681279174,4),q=N(q,L,z,ee,A[0],3936430074,11),ee=N(ee,q,L,z,A[3],3572445317,16),z=N(z,ee,q,L,A[6],76029189,23),L=N(L,z,ee,q,A[9],3654602809,4),q=N(q,L,z,ee,A[12],3873151461,11),ee=N(ee,q,L,z,A[15],530742520,16),L=U(L,z=N(z,ee,q,L,A[2],3299628645,23),ee,q,A[0],4096336452,6),q=U(q,L,z,ee,A[7],1126891415,10),ee=U(ee,q,L,z,A[14],2878612391,15),z=U(z,ee,q,L,A[5],4237533241,21),L=U(L,z,ee,q,A[12],1700485571,6),q=U(q,L,z,ee,A[3],2399980690,10),ee=U(ee,q,L,z,A[10],4293915773,15),z=U(z,ee,q,L,A[1],2240044497,21),L=U(L,z,ee,q,A[8],1873313359,6),q=U(q,L,z,ee,A[15],4264355552,10),ee=U(ee,q,L,z,A[6],2734768916,15),z=U(z,ee,q,L,A[13],1309151649,21),L=U(L,z,ee,q,A[4],4149444226,6),q=U(q,L,z,ee,A[11],3174756917,10),ee=U(ee,q,L,z,A[2],718787259,15),z=U(z,ee,q,L,A[9],3951481745,21),this._a=this._a+L|0,this._b=this._b+z|0,this._c=this._c+ee|0,this._d=this._d+q|0},w.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=P.allocUnsafe(16);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A},We.exports=w},53459:(We,j,_)=>{var y=_(57223),b=_(35294);function P(H){this.rand=H||new b.Rand}We.exports=P,P.create=function(w){return new P(w)},P.prototype._randbelow=function(w){var O=w.bitLength(),S=Math.ceil(O/8);do{var B=new y(this.rand.generate(S))}while(B.cmp(w)>=0);return B},P.prototype._randrange=function(w,O){var S=O.sub(w);return w.add(this._randbelow(S))},P.prototype.test=function(w,O,S){var B=w.bitLength(),N=y.mont(w),U=new y(1).toRed(N);O||(O=Math.max(1,B/48|0));for(var A=w.subn(1),G=0;!A.testn(G);G++);for(var L=w.shrn(G),z=A.toRed(N);O>0;O--){var q=this._randrange(new y(2),A);S&&S(q);var Z=q.toRed(N).redPow(L);if(0!==Z.cmp(U)&&0!==Z.cmp(z)){for(var J=1;J<G;J++){if(0===(Z=Z.redSqr()).cmp(U))return!1;if(0===Z.cmp(z))break}if(J===G)return!1}}return!0},P.prototype.getDivisor=function(w,O){var S=w.bitLength(),B=y.mont(w),N=new y(1).toRed(B);O||(O=Math.max(1,S/48|0));for(var U=w.subn(1),A=0;!U.testn(A);A++);for(var G=w.shrn(A),L=U.toRed(B);O>0;O--){var z=this._randrange(new y(2),U),ee=w.gcd(z);if(0!==ee.cmpn(1))return ee;var q=z.toRed(B).redPow(G);if(0!==q.cmp(N)&&0!==q.cmp(L)){for(var Z=1;Z<A;Z++){if(0===(q=q.redSqr()).cmp(N))return q.fromRed().subn(1).gcd(w);if(0===q.cmp(L))break}if(Z===A)return(q=q.redSqr()).fromRed().subn(1).gcd(w)}}return!1}},57223:function(We,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(64688).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],De=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],ve=8191&Fe,Te=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],le=8191&ne,Ae=ne>>>13,Be=0|p[6],qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],gn=8191&rn,ln=rn>>>13,ar=0|E[3],Cn=8191&ar,cn=ar>>>13,Zt=0|E[4],vt=8191&Zt,ut=Zt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,fr=0|E[6],yt=8191&fr,wt=fr>>>13,Et=0|E[7],Ye=8191&Et,et=Et>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,Vn=0|E[9],bn=8191&Vn,Mn=Vn>>>13;m.negative=a.negative^d.negative,m.length=19;var br=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(br>>>26)|0,br&=67108863,x=Math.imul(De,Ne),s=(s=Math.imul(De,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var or=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(De,It)|0,s=(s=s+Math.imul(De,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,gn)|0)|0)+((8191&(s=(s=s+Math.imul(F,ln)|0)+Math.imul(Q,gn)|0))<<13)|0;R=((v=v+Math.imul(Q,ln)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(ve,Ne),s=(s=Math.imul(ve,lt))+Math.imul(Te,Ne)|0,v=Math.imul(Te,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(De,gn)|0,s=(s=s+Math.imul(De,ln)|0)+Math.imul(Re,gn)|0,v=v+Math.imul(Re,ln)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(ve,It)|0,s=(s=s+Math.imul(ve,Kt)|0)+Math.imul(Te,It)|0,v=v+Math.imul(Te,Kt)|0,x=x+Math.imul(Ee,gn)|0,s=(s=s+Math.imul(Ee,ln)|0)+Math.imul(_e,gn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(De,Cn)|0,s=(s=s+Math.imul(De,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,vt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,vt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(le,Ne),s=(s=Math.imul(le,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(ve,gn)|0,s=(s=s+Math.imul(ve,ln)|0)+Math.imul(Te,gn)|0,v=v+Math.imul(Te,ln)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(De,vt)|0,s=(s=s+Math.imul(De,ut)|0)+Math.imul(Re,vt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(qe,Ne),s=(s=Math.imul(qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(le,It)|0,s=(s=s+Math.imul(le,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(me,gn)|0,s=(s=s+Math.imul(me,ln)|0)+Math.imul(te,gn)|0,v=v+Math.imul(te,ln)|0,x=x+Math.imul(ve,Cn)|0,s=(s=s+Math.imul(ve,cn)|0)+Math.imul(Te,Cn)|0,v=v+Math.imul(Te,cn)|0,x=x+Math.imul(Ee,vt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(De,nn)|0,s=(s=s+Math.imul(De,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,wt)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,wt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(qe,It)|0,s=(s=s+Math.imul(qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(le,gn)|0,s=(s=s+Math.imul(le,ln)|0)+Math.imul(Ae,gn)|0,v=v+Math.imul(Ae,ln)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(ve,vt)|0,s=(s=s+Math.imul(ve,ut)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(De,yt)|0,s=(s=s+Math.imul(De,wt)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,wt)|0;var Yt=(R+(x=x+Math.imul(F,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(F,et)|0)+Math.imul(Q,Ye)|0))<<13)|0;R=((v=v+Math.imul(Q,et)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(qe,gn)|0,s=(s=s+Math.imul(qe,ln)|0)+Math.imul(ze,gn)|0,v=v+Math.imul(ze,ln)|0,x=x+Math.imul(le,Cn)|0,s=(s=s+Math.imul(le,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(me,vt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,vt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(ve,nn)|0,s=(s=s+Math.imul(ve,pn)|0)+Math.imul(Te,nn)|0,v=v+Math.imul(Te,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,wt)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,wt)|0,x=x+Math.imul(De,Ye)|0,s=(s=s+Math.imul(De,et)|0)+Math.imul(Re,Ye)|0,v=v+Math.imul(Re,et)|0;var En=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(En>>>26)|0,En&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,gn)|0,s=(s=s+Math.imul(Xe,ln)|0)+Math.imul(Ue,gn)|0,v=v+Math.imul(Ue,ln)|0,x=x+Math.imul(qe,Cn)|0,s=(s=s+Math.imul(qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(le,vt)|0,s=(s=s+Math.imul(le,ut)|0)+Math.imul(Ae,vt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(ve,yt)|0,s=(s=s+Math.imul(ve,wt)|0)+Math.imul(Te,yt)|0,v=v+Math.imul(Te,wt)|0,x=x+Math.imul(Ee,Ye)|0,s=(s=s+Math.imul(Ee,et)|0)+Math.imul(_e,Ye)|0,v=v+Math.imul(_e,et)|0,x=x+Math.imul(De,Ft)|0,s=(s=s+Math.imul(De,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var zn=(R+(x=x+Math.imul(F,bn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Mn)|0)+Math.imul(Q,bn)|0))<<13)|0;R=((v=v+Math.imul(Q,Mn)|0)+(s>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,gn)|0,s=(s=s+Math.imul(K,ln)|0)+Math.imul(T,gn)|0,v=v+Math.imul(T,ln)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(qe,vt)|0,s=(s=s+Math.imul(qe,ut)|0)+Math.imul(ze,vt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(le,nn)|0,s=(s=s+Math.imul(le,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,wt)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,wt)|0,x=x+Math.imul(ve,Ye)|0,s=(s=s+Math.imul(ve,et)|0)+Math.imul(Te,Ye)|0,v=v+Math.imul(Te,et)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(De,bn)|0)|0)+((8191&(s=(s=s+Math.imul(De,Mn)|0)+Math.imul(Re,bn)|0))<<13)|0;R=((v=v+Math.imul(Re,Mn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,gn),s=(s=Math.imul(Y,ln))+Math.imul(pe,gn)|0,v=Math.imul(pe,ln),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,vt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,vt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(qe,nn)|0,s=(s=s+Math.imul(qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(le,yt)|0,s=(s=s+Math.imul(le,wt)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,wt)|0,x=x+Math.imul(me,Ye)|0,s=(s=s+Math.imul(me,et)|0)+Math.imul(te,Ye)|0,v=v+Math.imul(te,et)|0,x=x+Math.imul(ve,Ft)|0,s=(s=s+Math.imul(ve,mn)|0)+Math.imul(Te,Ft)|0,v=v+Math.imul(Te,mn)|0;var mr=(R+(x=x+Math.imul(Ee,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Mn)|0)+Math.imul(_e,bn)|0))<<13)|0;R=((v=v+Math.imul(_e,Mn)|0)+(s>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,vt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,vt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(qe,yt)|0,s=(s=s+Math.imul(qe,wt)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,wt)|0,x=x+Math.imul(le,Ye)|0,s=(s=s+Math.imul(le,et)|0)+Math.imul(Ae,Ye)|0,v=v+Math.imul(Ae,et)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Lr=(R+(x=x+Math.imul(ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ve,Mn)|0)+Math.imul(Te,bn)|0))<<13)|0;R=((v=v+Math.imul(Te,Mn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,vt),s=(s=Math.imul(Y,ut))+Math.imul(pe,vt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,wt)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,wt)|0,x=x+Math.imul(qe,Ye)|0,s=(s=s+Math.imul(qe,et)|0)+Math.imul(ze,Ye)|0,v=v+Math.imul(ze,et)|0,x=x+Math.imul(le,Ft)|0,s=(s=s+Math.imul(le,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var Pr=(R+(x=x+Math.imul(me,bn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Mn)|0)+Math.imul(te,bn)|0))<<13)|0;R=((v=v+Math.imul(te,Mn)|0)+(s>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,wt)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,wt)|0,x=x+Math.imul(Xe,Ye)|0,s=(s=s+Math.imul(Xe,et)|0)+Math.imul(Ue,Ye)|0,v=v+Math.imul(Ue,et)|0,x=x+Math.imul(qe,Ft)|0,s=(s=s+Math.imul(qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Kr=(R+(x=x+Math.imul(le,bn)|0)|0)+((8191&(s=(s=s+Math.imul(le,Mn)|0)+Math.imul(Ae,bn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Mn)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,wt))+Math.imul(pe,yt)|0,v=Math.imul(pe,wt),x=x+Math.imul(K,Ye)|0,s=(s=s+Math.imul(K,et)|0)+Math.imul(T,Ye)|0,v=v+Math.imul(T,et)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Fr=(R+(x=x+Math.imul(qe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(qe,Mn)|0)+Math.imul(ze,bn)|0))<<13)|0;R=((v=v+Math.imul(ze,Mn)|0)+(s>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,x=Math.imul(Y,Ye),s=(s=Math.imul(Y,et))+Math.imul(pe,Ye)|0,v=Math.imul(pe,et),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var di=(R+(x=x+Math.imul(Xe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Mn)|0)+Math.imul(Ue,bn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Mn)|0)+(s>>>13)|0)+(di>>>26)|0,di&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mn)|0)+Math.imul(T,bn)|0))<<13)|0;R=((v=v+Math.imul(T,Mn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var wn=(R+(x=Math.imul(Y,bn))|0)+((8191&(s=(s=Math.imul(Y,Mn))+Math.imul(pe,bn)|0))<<13)|0;return R=((v=Math.imul(pe,Mn))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,D[0]=br,D[1]=or,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Yt,D[8]=En,D[9]=zn,D[10]=er,D[11]=mr,D[12]=Lr,D[13]=Pr,D[14]=Kr,D[15]=Fr,D[16]=di,D[17]=on,D[18]=wn,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var De=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=De+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=De-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var De=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=De}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,De=0;0!==de.cmp(D);De++)de=de.redSqr();P(De<Q);var Re=this.pow(v,new w(1).iushln(Q-De-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=De}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(We=_.nmd(We),this)},39210:We=>{function j(_,y){if(!_)throw new Error(y||"Assertion failed")}We.exports=j,j.equal=function(y,b,P){if(y!=b)throw new Error(P||"Assertion failed: "+y+" != "+b)}},21832:(We,j)=>{"use strict";var _=j;function b(H){return 1===H.length?"0"+H:H}function P(H){for(var w="",O=0;O<H.length;O++)w+=b(H[O].toString(16));return w}_.toArray=function y(H,w){if(Array.isArray(H))return H.slice();if(!H)return[];var O=[];if("string"!=typeof H){for(var S=0;S<H.length;S++)O[S]=0|H[S];return O}if("hex"===w)for((H=H.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(H="0"+H),S=0;S<H.length;S+=2)O.push(parseInt(H[S]+H[S+1],16));else for(S=0;S<H.length;S++){var B=H.charCodeAt(S),N=B>>8,U=255&B;N?O.push(N,U):O.push(U)}return O},_.zero2=b,_.toHex=P,_.encode=function(w,O){return"hex"===O?P(w):w}},61747:We=>{"use strict";We.exports=class extends Error{constructor(_,y){super(_||""),"object"==typeof y&&null!==y&&(y.code&&(this.code=String(y.code)),y.expected&&(this.expected=!0),y.transient&&(this.transient=!0),y.cause&&(this.cause=y.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},13026:(We,j,_)=>{We.exports=_(3116)},3116:function(We,j){!function(_,y){"use strict";var b={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function P(L){if(!Array.isArray(L)&&!ArrayBuffer.isView(L))return!1;for(var z=0;z<L.length;z++)if(!Number.isInteger(L[z])||L[z]<0||L[z]>255)return!1;return!0}function H(L,z){return(65535&L)*z+(((L>>>16)*z&65535)<<16)}function w(L,z){return L<<z|L>>>32-z}function O(L){return L=H(L^=L>>>16,2246822507),(L=H(L^=L>>>13,3266489909))^L>>>16}function S(L,z){var ee=[0,0,0,0];return ee[3]+=(L=[L[0]>>>16,65535&L[0],L[1]>>>16,65535&L[1]])[3]+(z=[z[0]>>>16,65535&z[0],z[1]>>>16,65535&z[1]])[3],ee[2]+=ee[3]>>>16,ee[3]&=65535,ee[2]+=L[2]+z[2],ee[1]+=ee[2]>>>16,ee[2]&=65535,ee[1]+=L[1]+z[1],ee[0]+=ee[1]>>>16,ee[1]&=65535,ee[0]+=L[0]+z[0],ee[0]&=65535,[ee[0]<<16|ee[1],ee[2]<<16|ee[3]]}function B(L,z){var ee=[0,0,0,0];return ee[3]+=(L=[L[0]>>>16,65535&L[0],L[1]>>>16,65535&L[1]])[3]*(z=[z[0]>>>16,65535&z[0],z[1]>>>16,65535&z[1]])[3],ee[2]+=ee[3]>>>16,ee[3]&=65535,ee[2]+=L[2]*z[3],ee[1]+=ee[2]>>>16,ee[2]&=65535,ee[2]+=L[3]*z[2],ee[1]+=ee[2]>>>16,ee[2]&=65535,ee[1]+=L[1]*z[3],ee[0]+=ee[1]>>>16,ee[1]&=65535,ee[1]+=L[2]*z[2],ee[0]+=ee[1]>>>16,ee[1]&=65535,ee[1]+=L[3]*z[1],ee[0]+=ee[1]>>>16,ee[1]&=65535,ee[0]+=L[0]*z[3]+L[1]*z[2]+L[2]*z[1]+L[3]*z[0],ee[0]&=65535,[ee[0]<<16|ee[1],ee[2]<<16|ee[3]]}function N(L,z){return 32==(z%=64)?[L[1],L[0]]:z<32?[L[0]<<z|L[1]>>>32-z,L[1]<<z|L[0]>>>32-z]:[L[1]<<(z-=32)|L[0]>>>32-z,L[0]<<z|L[1]>>>32-z]}function U(L,z){return 0==(z%=64)?L:z<32?[L[0]<<z|L[1]>>>32-z,L[1]<<z]:[L[1]<<z-32,0]}function A(L,z){return[L[0]^z[0],L[1]^z[1]]}function G(L){return L=A(L,[0,L[0]>>>1]),L=A(L=B(L,[4283543511,3981806797]),[0,L[0]>>>1]),A(L=B(L,[3301882366,444984403]),[0,L[0]>>>1])}b.x86.hash32=function(L,z){if(b.inputValidation&&!P(L))return y;for(var ee=L.length%4,q=L.length-ee,Z=z=z||0,J=0,se=3432918353,ce=461845907,ae=0;ae<q;ae+=4)J=H(J=L[ae]|L[ae+1]<<8|L[ae+2]<<16|L[ae+3]<<24,se),J=H(J=w(J,15),ce),Z=H(Z=w(Z^=J,13),5)+3864292196;switch(J=0,ee){case 3:J^=L[ae+2]<<16;case 2:J^=L[ae+1]<<8;case 1:J=H(J^=L[ae],se),Z^=J=H(J=w(J,15),ce)}return(Z=O(Z^=L.length))>>>0},b.x86.hash128=function(L,z){if(b.inputValidation&&!P(L))return y;for(var ee=L.length%16,q=L.length-ee,Z=z=z||0,J=z,se=z,ce=z,ae=0,fe=0,he=0,we=0,Me=597399067,Pe=2869860233,C=951274213,a=2716044179,d=0;d<q;d+=16)fe=L[d+4]|L[d+5]<<8|L[d+6]<<16|L[d+7]<<24,he=L[d+8]|L[d+9]<<8|L[d+10]<<16|L[d+11]<<24,we=L[d+12]|L[d+13]<<8|L[d+14]<<16|L[d+15]<<24,ae=w(ae=H(ae=L[d]|L[d+1]<<8|L[d+2]<<16|L[d+3]<<24,Me),15),Z=w(Z^=ae=H(ae,Pe),19),Z=H(Z+=J,5)+1444728091,fe=w(fe=H(fe,Pe),16),J=w(J^=fe=H(fe,C),17),J=H(J+=se,5)+197830471,he=w(he=H(he,C),17),se=w(se^=he=H(he,a),15),se=H(se+=ce,5)+2530024501,we=w(we=H(we,a),18),ce=w(ce^=we=H(we,Me),13),ce=H(ce+=Z,5)+850148119;switch(ae=0,fe=0,he=0,we=0,ee){case 15:we^=L[d+14]<<16;case 14:we^=L[d+13]<<8;case 13:we=H(we^=L[d+12],a),ce^=we=H(we=w(we,18),Me);case 12:he^=L[d+11]<<24;case 11:he^=L[d+10]<<16;case 10:he^=L[d+9]<<8;case 9:he=H(he^=L[d+8],C),se^=he=H(he=w(he,17),a);case 8:fe^=L[d+7]<<24;case 7:fe^=L[d+6]<<16;case 6:fe^=L[d+5]<<8;case 5:fe=H(fe^=L[d+4],Pe),J^=fe=H(fe=w(fe,16),C);case 4:ae^=L[d+3]<<24;case 3:ae^=L[d+2]<<16;case 2:ae^=L[d+1]<<8;case 1:ae=H(ae^=L[d],Me),Z^=ae=H(ae=w(ae,15),Pe)}return Z^=L.length,Z+=J^=L.length,Z+=se^=L.length,J+=Z+=ce^=L.length,se+=Z,ce+=Z,Z=O(Z),Z+=J=O(J),Z+=se=O(se),J+=Z+=ce=O(ce),se+=Z,ce+=Z,("00000000"+(Z>>>0).toString(16)).slice(-8)+("00000000"+(J>>>0).toString(16)).slice(-8)+("00000000"+(se>>>0).toString(16)).slice(-8)+("00000000"+(ce>>>0).toString(16)).slice(-8)},b.x64.hash128=function(L,z){if(b.inputValidation&&!P(L))return y;for(var ee=L.length%16,q=L.length-ee,Z=[0,z=z||0],J=[0,z],se=[0,0],ce=[0,0],ae=[2277735313,289559509],fe=[1291169091,658871167],he=0;he<q;he+=16)ce=[L[he+12]|L[he+13]<<8|L[he+14]<<16|L[he+15]<<24,L[he+8]|L[he+9]<<8|L[he+10]<<16|L[he+11]<<24],se=N(se=B(se=[L[he+4]|L[he+5]<<8|L[he+6]<<16|L[he+7]<<24,L[he]|L[he+1]<<8|L[he+2]<<16|L[he+3]<<24],ae),31),Z=S(Z=N(Z=A(Z,se=B(se,fe)),27),J),Z=S(B(Z,[0,5]),[0,1390208809]),ce=N(ce=B(ce,fe),33),J=S(J=N(J=A(J,ce=B(ce,ae)),31),Z),J=S(B(J,[0,5]),[0,944331445]);switch(se=[0,0],ce=[0,0],ee){case 15:ce=A(ce,U([0,L[he+14]],48));case 14:ce=A(ce,U([0,L[he+13]],40));case 13:ce=A(ce,U([0,L[he+12]],32));case 12:ce=A(ce,U([0,L[he+11]],24));case 11:ce=A(ce,U([0,L[he+10]],16));case 10:ce=A(ce,U([0,L[he+9]],8));case 9:ce=B(ce=A(ce,[0,L[he+8]]),fe),J=A(J,ce=B(ce=N(ce,33),ae));case 8:se=A(se,U([0,L[he+7]],56));case 7:se=A(se,U([0,L[he+6]],48));case 6:se=A(se,U([0,L[he+5]],40));case 5:se=A(se,U([0,L[he+4]],32));case 4:se=A(se,U([0,L[he+3]],24));case 3:se=A(se,U([0,L[he+2]],16));case 2:se=A(se,U([0,L[he+1]],8));case 1:se=B(se=A(se,[0,L[he]]),ae),Z=A(Z,se=B(se=N(se,31),fe))}return Z=S(Z=A(Z,[0,L.length]),J=A(J,[0,L.length])),J=S(J,Z),Z=S(Z=G(Z),J=G(J)),J=S(J,Z),("00000000"+(Z[0]>>>0).toString(16)).slice(-8)+("00000000"+(Z[1]>>>0).toString(16)).slice(-8)+("00000000"+(J[0]>>>0).toString(16)).slice(-8)+("00000000"+(J[1]>>>0).toString(16)).slice(-8)},We.exports&&(j=We.exports=b),j.murmurHash3=b}()},50233:We=>{"use strict";var j=Object.prototype.hasOwnProperty,_="~";function y(){}function b(O,S,B){this.fn=O,this.context=S,this.once=B||!1}function P(O,S,B,N,U){if("function"!=typeof B)throw new TypeError("The listener must be a function");var A=new b(B,N||O,U),G=_?_+S:S;return O._events[G]?O._events[G].fn?O._events[G]=[O._events[G],A]:O._events[G].push(A):(O._events[G]=A,O._eventsCount++),O}function H(O,S){0==--O._eventsCount?O._events=new y:delete O._events[S]}function w(){this._events=new y,this._eventsCount=0}Object.create&&(y.prototype=Object.create(null),(new y).__proto__||(_=!1)),w.prototype.eventNames=function(){var B,N,S=[];if(0===this._eventsCount)return S;for(N in B=this._events)j.call(B,N)&&S.push(_?N.slice(1):N);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(B)):S},w.prototype.listeners=function(S){var N=this._events[_?_+S:S];if(!N)return[];if(N.fn)return[N.fn];for(var U=0,A=N.length,G=new Array(A);U<A;U++)G[U]=N[U].fn;return G},w.prototype.listenerCount=function(S){var N=this._events[_?_+S:S];return N?N.fn?1:N.length:0},w.prototype.emit=function(S,B,N,U,A,G){var L=_?_+S:S;if(!this._events[L])return!1;var q,Z,z=this._events[L],ee=arguments.length;if(z.fn){switch(z.once&&this.removeListener(S,z.fn,void 0,!0),ee){case 1:return z.fn.call(z.context),!0;case 2:return z.fn.call(z.context,B),!0;case 3:return z.fn.call(z.context,B,N),!0;case 4:return z.fn.call(z.context,B,N,U),!0;case 5:return z.fn.call(z.context,B,N,U,A),!0;case 6:return z.fn.call(z.context,B,N,U,A,G),!0}for(Z=1,q=new Array(ee-1);Z<ee;Z++)q[Z-1]=arguments[Z];z.fn.apply(z.context,q)}else{var se,J=z.length;for(Z=0;Z<J;Z++)switch(z[Z].once&&this.removeListener(S,z[Z].fn,void 0,!0),ee){case 1:z[Z].fn.call(z[Z].context);break;case 2:z[Z].fn.call(z[Z].context,B);break;case 3:z[Z].fn.call(z[Z].context,B,N);break;case 4:z[Z].fn.call(z[Z].context,B,N,U);break;default:if(!q)for(se=1,q=new Array(ee-1);se<ee;se++)q[se-1]=arguments[se];z[Z].fn.apply(z[Z].context,q)}}return!0},w.prototype.on=function(S,B,N){return P(this,S,B,N,!1)},w.prototype.once=function(S,B,N){return P(this,S,B,N,!0)},w.prototype.removeListener=function(S,B,N,U){var A=_?_+S:S;if(!this._events[A])return this;if(!B)return H(this,A),this;var G=this._events[A];if(G.fn)G.fn===B&&(!U||G.once)&&(!N||G.context===N)&&H(this,A);else{for(var L=0,z=[],ee=G.length;L<ee;L++)(G[L].fn!==B||U&&!G[L].once||N&&G[L].context!==N)&&z.push(G[L]);z.length?this._events[A]=1===z.length?z[0]:z:H(this,A)}return this},w.prototype.removeAllListeners=function(S){var B;return S?this._events[B=_?_+S:S]&&H(this,B):(this._events=new y,this._eventsCount=0),this},w.prototype.off=w.prototype.removeListener,w.prototype.addListener=w.prototype.on,w.prefixed=_,w.EventEmitter=w,We.exports=w},83138:(We,j,_)=>{"use strict";var y=_(49609);j.certificate=_(94772);var b=y.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});j.RSAPrivateKey=b;var P=y.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});j.RSAPublicKey=P;var H=y.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),w=y.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())});j.PublicKey=w;var O=y.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(H),this.key("subjectPrivateKey").octstr())});j.PrivateKey=O;var S=y.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});j.EncryptedPrivateKey=S;var B=y.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});j.DSAPrivateKey=B,j.DSAparam=y.define("DSAparam",function(){this.int()});var N=y.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),U=y.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(N),this.key("publicKey").optional().explicit(1).bitstr())});j.ECPrivateKey=U,j.signature=y.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:(We,j,_)=>{"use strict";var y=_(49609),b=y.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),P=y.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),H=y.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),w=y.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(H),this.key("subjectPublicKey").bitstr())}),O=y.define("RelativeDistinguishedName",function(){this.setof(P)}),S=y.define("RDNSequence",function(){this.seqof(O)}),B=y.define("Name",function(){this.choice({rdnSequence:this.use(S)})}),N=y.define("Validity",function(){this.seq().obj(this.key("notBefore").use(b),this.key("notAfter").use(b))}),U=y.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),A=y.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(H),this.key("issuer").use(B),this.key("validity").use(N),this.key("subject").use(B),this.key("subjectPublicKeyInfo").use(w),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(U).optional())}),G=y.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(A),this.key("signatureAlgorithm").use(H),this.key("signatureValue").bitstr())});We.exports=G},89472:(We,j,_)=>{"use strict";var y=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,b=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,P=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,H=_(18211),w=_(43388),O=_(27054).Buffer;We.exports=function(S,B){var A,N=S.toString(),U=N.match(y);if(U){var L="aes"+U[1],z=O.from(U[2],"hex"),ee=O.from(U[3].replace(/[\r\n]/g,""),"base64"),q=H(B,z.slice(0,8),parseInt(U[1],10)).key,Z=[],J=w.createDecipheriv(L,q,z);Z.push(J.update(ee)),Z.push(J.final()),A=O.concat(Z)}else{var G=N.match(P);A=O.from(G[2].replace(/[\r\n]/g,""),"base64")}return{tag:N.match(b)[1],data:A}}},65667:(We,j,_)=>{"use strict";var y=_(83138),b=_(15579),P=_(89472),H=_(43388),w=_(93397),O=_(27054).Buffer;function B(N){var U;"object"==typeof N&&!O.isBuffer(N)&&(U=N.passphrase,N=N.key),"string"==typeof N&&(N=O.from(N));var z,ee,A=P(N,U),G=A.tag,L=A.data;switch(G){case"CERTIFICATE":ee=y.certificate.decode(L,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(ee||(ee=y.PublicKey.decode(L,"der")),z=ee.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return y.RSAPublicKey.decode(ee.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return ee.subjectPrivateKey=ee.subjectPublicKey,{type:"ec",data:ee};case"1.2.840.10040.4.1":return ee.algorithm.params.pub_key=y.DSAparam.decode(ee.subjectPublicKey.data,"der"),{type:"dsa",data:ee.algorithm.params};default:throw new Error("unknown key id "+z)}case"ENCRYPTED PRIVATE KEY":L=function S(N,U){var A=N.algorithm.decrypt.kde.kdeparams.salt,G=parseInt(N.algorithm.decrypt.kde.kdeparams.iters.toString(),10),L=b[N.algorithm.decrypt.cipher.algo.join(".")],z=N.algorithm.decrypt.cipher.iv,ee=N.subjectPrivateKey,q=parseInt(L.split("-")[1],10)/8,Z=w.pbkdf2Sync(U,A,G,q,"sha1"),J=H.createDecipheriv(L,Z,z),se=[];return se.push(J.update(ee)),se.push(J.final()),O.concat(se)}(L=y.EncryptedPrivateKey.decode(L,"der"),U);case"PRIVATE KEY":switch(z=(ee=y.PrivateKey.decode(L,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return y.RSAPrivateKey.decode(ee.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:ee.algorithm.curve,privateKey:y.ECPrivateKey.decode(ee.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return ee.algorithm.params.priv_key=y.DSAparam.decode(ee.subjectPrivateKey,"der"),{type:"dsa",params:ee.algorithm.params};default:throw new Error("unknown key id "+z)}case"RSA PUBLIC KEY":return y.RSAPublicKey.decode(L,"der");case"RSA PRIVATE KEY":return y.RSAPrivateKey.decode(L,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:y.DSAPrivateKey.decode(L,"der")};case"EC PRIVATE KEY":return{curve:(L=y.ECPrivateKey.decode(L,"der")).parameters.value,privateKey:L.privateKey};default:throw new Error("unknown key type "+G)}}B.signature=y.signature,We.exports=B},93397:(We,j,_)=>{j.pbkdf2=_(82685),j.pbkdf2Sync=_(59111)},82685:(We,j,_)=>{var O,A,y=_(27054).Buffer,b=_(86111),P=_(45392),H=_(59111),w=_(76643),S=globalThis.crypto&&globalThis.crypto.subtle,B={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},N=[];function G(){return A||(A=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function L(ee,q,Z,J,se){return S.importKey("raw",ee,{name:"PBKDF2"},!1,["deriveBits"]).then(function(ce){return S.deriveBits({name:"PBKDF2",salt:q,iterations:Z,hash:{name:se}},ce,J<<3)}).then(function(ce){return y.from(ce)})}We.exports=function(ee,q,Z,J,se,ce){"function"==typeof se&&(ce=se,se=void 0);var ae=B[(se=se||"sha1").toLowerCase()];if(ae&&"function"==typeof globalThis.Promise){if(b(Z,J),ee=w(ee,P,"Password"),q=w(q,P,"Salt"),"function"!=typeof ce)throw new Error("No callback provided to pbkdf2");!function z(ee,q){ee.then(function(Z){G()(function(){q(null,Z)})},function(Z){G()(function(){q(Z)})})}(function U(ee){if(globalThis.process&&!globalThis.process.browser||!S||!S.importKey||!S.deriveBits)return Promise.resolve(!1);if(void 0!==N[ee])return N[ee];var q=L(O=O||y.alloc(8),O,10,128,ee).then(function(){return!0}).catch(function(){return!1});return N[ee]=q,q}(ae).then(function(fe){return fe?L(ee,q,Z,J,ae):H(ee,q,Z,J,se)}),ce)}else G()(function(){var fe;try{fe=H(ee,q,Z,J,se)}catch(he){return ce(he)}ce(null,fe)})}},45392:(We,j,_)=>{var b,y=_(40573);b=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(y.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",We.exports=b},86111:We=>{var j=Math.pow(2,30)-1;We.exports=function(_,y){if("number"!=typeof _)throw new TypeError("Iterations not a number");if(_<0)throw new TypeError("Bad iterations");if("number"!=typeof y)throw new TypeError("Key length not a number");if(y<0||y>j||y!=y)throw new TypeError("Bad key length")}},59111:(We,j,_)=>{var y=_(83407),b=_(36636),P=_(25443),H=_(27054).Buffer,w=_(86111),O=_(45392),S=_(76643),B=H.alloc(128),N={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function U(L,z,ee){var q=function A(L){return"rmd160"===L||"ripemd160"===L?function ee(q){return(new b).update(q).digest()}:"md5"===L?y:function z(q){return P(L).update(q).digest()}}(L),Z="sha512"===L||"sha384"===L?128:64;z.length>Z?z=q(z):z.length<Z&&(z=H.concat([z,B],Z));for(var J=H.allocUnsafe(Z+N[L]),se=H.allocUnsafe(Z+N[L]),ce=0;ce<Z;ce++)J[ce]=54^z[ce],se[ce]=92^z[ce];var ae=H.allocUnsafe(Z+ee+4);J.copy(ae,0,0,Z),this.ipad1=ae,this.ipad2=J,this.opad=se,this.alg=L,this.blocksize=Z,this.hash=q,this.size=N[L]}U.prototype.run=function(L,z){return L.copy(z,this.blocksize),this.hash(z).copy(this.opad,this.blocksize),this.hash(this.opad)},We.exports=function G(L,z,ee,q,Z){w(ee,q);var J=new U(Z=Z||"sha1",L=S(L,O,"Password"),(z=S(z,O,"Salt")).length),se=H.allocUnsafe(q),ce=H.allocUnsafe(z.length+4);z.copy(ce,0,0,z.length);for(var ae=0,fe=N[Z],he=Math.ceil(q/fe),we=1;we<=he;we++){ce.writeUInt32BE(we,z.length);for(var Me=J.run(ce,J.ipad1),Pe=Me,C=1;C<ee;C++){Pe=J.run(Pe,J.ipad2);for(var a=0;a<fe;a++)Me[a]^=Pe[a]}Me.copy(se,ae),ae+=fe}return se}},76643:(We,j,_)=>{var y=_(27054).Buffer;We.exports=function(b,P,H){if(y.isBuffer(b))return b;if("string"==typeof b)return y.from(b,P);if(ArrayBuffer.isView(b))return y.from(b.buffer);throw new TypeError(H+" must be a string, a Buffer, a typed array or a DataView")}},9656:(We,j,_)=>{"use strict";var y=_(40573);We.exports=typeof y>"u"||!y.version||0===y.version.indexOf("v0.")||0===y.version.indexOf("v1.")&&0!==y.version.indexOf("v1.8.")?{nextTick:function b(P,H,w,O){if("function"!=typeof P)throw new TypeError('"callback" argument must be a function');var B,N,S=arguments.length;switch(S){case 0:case 1:return y.nextTick(P);case 2:return y.nextTick(function(){P.call(null,H)});case 3:return y.nextTick(function(){P.call(null,H,w)});case 4:return y.nextTick(function(){P.call(null,H,w,O)});default:for(B=new Array(S-1),N=0;N<B.length;)B[N++]=arguments[N];return y.nextTick(function(){P.apply(null,B)})}}}:y},40573:We=>{var _,y,j=We.exports={};function b(){throw new Error("setTimeout has not been defined")}function P(){throw new Error("clearTimeout has not been defined")}function H(z){if(_===setTimeout)return setTimeout(z,0);if((_===b||!_)&&setTimeout)return _=setTimeout,setTimeout(z,0);try{return _(z,0)}catch{try{return _.call(null,z,0)}catch{return _.call(this,z,0)}}}!function(){try{_="function"==typeof setTimeout?setTimeout:b}catch{_=b}try{y="function"==typeof clearTimeout?clearTimeout:P}catch{y=P}}();var B,O=[],S=!1,N=-1;function U(){!S||!B||(S=!1,B.length?O=B.concat(O):N=-1,O.length&&A())}function A(){if(!S){var z=H(U);S=!0;for(var ee=O.length;ee;){for(B=O,O=[];++N<ee;)B&&B[N].run();N=-1,ee=O.length}B=null,S=!1,function w(z){if(y===clearTimeout)return clearTimeout(z);if((y===P||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(z);try{return y(z)}catch{try{return y.call(null,z)}catch{return y.call(this,z)}}}(z)}}function G(z,ee){this.fun=z,this.array=ee}function L(){}j.nextTick=function(z){var ee=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)ee[q-1]=arguments[q];O.push(new G(z,ee)),1===O.length&&!S&&H(A)},G.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=L,j.addListener=L,j.once=L,j.off=L,j.removeListener=L,j.removeAllListeners=L,j.emit=L,j.prependListener=L,j.prependOnceListener=L,j.listeners=function(z){return[]},j.binding=function(z){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(z){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},52965:(We,j,_)=>{j.publicEncrypt=_(87267),j.privateDecrypt=_(98613),j.privateEncrypt=function(b,P){return j.publicEncrypt(b,P,!0)},j.publicDecrypt=function(b,P){return j.privateDecrypt(b,P,!0)}},30715:(We,j,_)=>{var y=_(67211),b=_(27054).Buffer;function P(H){var w=b.allocUnsafe(4);return w.writeUInt32BE(H,0),w}We.exports=function(H,w){for(var B,O=b.alloc(0),S=0;O.length<w;)B=P(S++),O=b.concat([O,y("sha1").update(H).update(B).digest()]);return O.slice(0,w)}},16508:function(We,j,_){!function(y,b){"use strict";function P(C,a){if(!C)throw new Error(a||"Assertion failed")}function H(C,a){C.super_=a;var d=function(){};d.prototype=a.prototype,C.prototype=new d,C.prototype.constructor=C}function w(C,a,d){if(w.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,null!==C&&(("le"===a||"be"===a)&&(d=a,a=10),this._init(C||0,a||10,d||"be"))}var O;"object"==typeof y?y.exports=w:b.BN=w,w.BN=w,w.wordSize=26;try{O=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:_(51069).Buffer}catch{}function S(C,a){var d=C.charCodeAt(a);return d>=65&&d<=70?d-55:d>=97&&d<=102?d-87:d-48&15}function B(C,a,d){var m=S(C,d);return d-1>=a&&(m|=S(C,d-1)<<4),m}function N(C,a,d,m){for(var p=0,E=Math.min(C.length,d),D=a;D<E;D++){var R=C.charCodeAt(D)-48;p*=m,p+=R>=49?R-49+10:R>=17?R-17+10:R}return p}w.isBN=function(a){return a instanceof w||null!==a&&"object"==typeof a&&a.constructor.wordSize===w.wordSize&&Array.isArray(a.words)},w.max=function(a,d){return a.cmp(d)>0?a:d},w.min=function(a,d){return a.cmp(d)<0?a:d},w.prototype._init=function(a,d,m){if("number"==typeof a)return this._initNumber(a,d,m);if("object"==typeof a)return this._initArray(a,d,m);"hex"===d&&(d=16),P(d===(0|d)&&d>=2&&d<=36);var p=0;"-"===(a=a.toString().replace(/\s+/g,""))[0]&&(p++,this.negative=1),p<a.length&&(16===d?this._parseHex(a,p,m):(this._parseBase(a,d,p),"le"===m&&this._initArray(this.toArray(),d,m)))},w.prototype._initNumber=function(a,d,m){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(P(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===m&&this._initArray(this.toArray(),d,m)},w.prototype._initArray=function(a,d,m){if(P("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var E,D,R=0;if("be"===m)for(p=a.length-1,E=0;p>=0;p-=3)this.words[E]|=(D=a[p]|a[p-1]<<8|a[p-2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);else if("le"===m)for(p=0,E=0;p<a.length;p+=3)this.words[E]|=(D=a[p]|a[p+1]<<8|a[p+2]<<16)<<R&67108863,this.words[E+1]=D>>>26-R&67108863,(R+=24)>=26&&(R-=26,E++);return this.strip()},w.prototype._parseHex=function(a,d,m){this.length=Math.ceil((a.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var R,E=0,D=0;if("be"===m)for(p=a.length-1;p>=d;p-=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;else for(p=(a.length-d)%2==0?d+1:d;p<a.length;p+=2)R=B(a,d,p)<<E,this.words[D]|=67108863&R,E>=18?(E-=18,this.words[D+=1]|=R>>>26):E+=8;this.strip()},w.prototype._parseBase=function(a,d,m){this.words=[0],this.length=1;for(var p=0,E=1;E<=67108863;E*=d)p++;p--,E=E/d|0;for(var D=a.length-m,R=D%p,x=Math.min(D,D-R)+m,s=0,v=m;v<x;v+=p)s=N(a,v,v+p,d),this.imuln(E),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==R){var $=1;for(s=N(a,v,a.length,d),v=0;v<R;v++)$*=d;this.imuln($),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},w.prototype.copy=function(a){a.words=new Array(this.length);for(var d=0;d<this.length;d++)a.words[d]=this.words[d];a.length=this.length,a.negative=this.negative,a.red=this.red},w.prototype.clone=function(){var a=new w(null);return this.copy(a),a},w.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},w.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},w.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},w.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var U=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],G=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function z(C,a,d){d.negative=a.negative^C.negative;var m=C.length+a.length|0;d.length=m,m=m-1|0;var p=0|C.words[0],E=0|a.words[0],D=p*E,x=D/67108864|0;d.words[0]=67108863&D;for(var s=1;s<m;s++){for(var v=x>>>26,$=67108863&x,F=Math.min(s,a.length-1),Q=Math.max(0,s-C.length+1);Q<=F;Q++)v+=(D=(p=0|C.words[s-Q|0])*(E=0|a.words[Q])+$)/67108864|0,$=67108863&D;d.words[s]=0|$,x=0|v}return 0!==x?d.words[s]=0|x:d.length--,d.strip()}w.prototype.toString=function(a,d){var m;if(d=0|d||1,16===(a=a||10)||"hex"===a){m="";for(var p=0,E=0,D=0;D<this.length;D++){var R=this.words[D],x=(16777215&(R<<p|E)).toString(16);m=0!=(E=R>>>24-p&16777215)||D!==this.length-1?U[6-x.length]+x+m:x+m,(p+=2)>=26&&(p-=26,D--)}for(0!==E&&(m=E.toString(16)+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}if(a===(0|a)&&a>=2&&a<=36){var s=A[a],v=G[a];m="";var $=this.clone();for($.negative=0;!$.isZero();){var F=$.modn(v).toString(a);m=($=$.idivn(v)).isZero()?F+m:U[s-F.length]+F+m}for(this.isZero()&&(m="0"+m);m.length%d!=0;)m="0"+m;return 0!==this.negative&&(m="-"+m),m}P(!1,"Base should be between 2 and 36")},w.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&P(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},w.prototype.toJSON=function(){return this.toString(16)},w.prototype.toBuffer=function(a,d){return P(typeof O<"u"),this.toArrayLike(O,a,d)},w.prototype.toArray=function(a,d){return this.toArrayLike(Array,a,d)},w.prototype.toArrayLike=function(a,d,m){var p=this.byteLength(),E=m||Math.max(1,p);P(p<=E,"byte array longer than desired length"),P(E>0,"Requested array length <= 0"),this.strip();var x,s,D="le"===d,R=new a(E),v=this.clone();if(D){for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[s]=x;for(;s<E;s++)R[s]=0}else{for(s=0;s<E-p;s++)R[s]=0;for(s=0;!v.isZero();s++)x=v.andln(255),v.iushrn(8),R[E-s-1]=x}return R},w.prototype._countBits=Math.clz32?function(a){return 32-Math.clz32(a)}:function(a){var d=a,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},w.prototype._zeroBits=function(a){if(0===a)return 26;var d=a,m=0;return 8191&d||(m+=13,d>>>=13),127&d||(m+=7,d>>>=7),15&d||(m+=4,d>>>=4),3&d||(m+=2,d>>>=2),1&d||m++,m},w.prototype.bitLength=function(){var d=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+d},w.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(a+=m,26!==m)break}return a},w.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},w.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},w.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},w.prototype.isNeg=function(){return 0!==this.negative},w.prototype.neg=function(){return this.clone().ineg()},w.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},w.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var d=0;d<a.length;d++)this.words[d]=this.words[d]|a.words[d];return this.strip()},w.prototype.ior=function(a){return P(!(this.negative|a.negative)),this.iuor(a)},w.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},w.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},w.prototype.iuand=function(a){var d;d=this.length>a.length?a:this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&a.words[m];return this.length=d.length,this.strip()},w.prototype.iand=function(a){return P(!(this.negative|a.negative)),this.iuand(a)},w.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},w.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},w.prototype.iuxor=function(a){var d,m;this.length>a.length?(d=this,m=a):(d=a,m=this);for(var p=0;p<m.length;p++)this.words[p]=d.words[p]^m.words[p];if(this!==d)for(;p<d.length;p++)this.words[p]=d.words[p];return this.length=d.length,this.strip()},w.prototype.ixor=function(a){return P(!(this.negative|a.negative)),this.iuxor(a)},w.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},w.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},w.prototype.inotn=function(a){P("number"==typeof a&&a>=0);var d=0|Math.ceil(a/26),m=a%26;this._expand(d),m>0&&d--;for(var p=0;p<d;p++)this.words[p]=67108863&~this.words[p];return m>0&&(this.words[p]=~this.words[p]&67108863>>26-m),this.strip()},w.prototype.notn=function(a){return this.clone().inotn(a)},w.prototype.setn=function(a,d){P("number"==typeof a&&a>=0);var m=a/26|0,p=a%26;return this._expand(m+1),this.words[m]=d?this.words[m]|1<<p:this.words[m]&~(1<<p),this.strip()},w.prototype.iadd=function(a){var d,m,p;if(0!==this.negative&&0===a.negative)return this.negative=0,d=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,d=this.isub(a),a.negative=1,d._normSign();this.length>a.length?(m=this,p=a):(m=a,p=this);for(var E=0,D=0;D<p.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+(0|p.words[D])+E),E=d>>>26;for(;0!==E&&D<m.length;D++)this.words[D]=67108863&(d=(0|m.words[D])+E),E=d>>>26;if(this.length=m.length,0!==E)this.words[this.length]=E,this.length++;else if(m!==this)for(;D<m.length;D++)this.words[D]=m.words[D];return this},w.prototype.add=function(a){var d;return 0!==a.negative&&0===this.negative?(a.negative=0,d=this.sub(a),a.negative^=1,d):0===a.negative&&0!==this.negative?(this.negative=0,d=a.sub(this),this.negative=1,d):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},w.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var d=this.iadd(a);return a.negative=1,d._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var p,E,m=this.cmp(a);if(0===m)return this.negative=0,this.length=1,this.words[0]=0,this;m>0?(p=this,E=a):(p=a,E=this);for(var D=0,R=0;R<E.length;R++)D=(d=(0|p.words[R])-(0|E.words[R])+D)>>26,this.words[R]=67108863&d;for(;0!==D&&R<p.length;R++)D=(d=(0|p.words[R])+D)>>26,this.words[R]=67108863&d;if(0===D&&R<p.length&&p!==this)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=Math.max(this.length,R),p!==this&&(this.negative=1),this.strip()},w.prototype.sub=function(a){return this.clone().isub(a)};var ee=function(a,d,m){var x,s,v,p=a.words,E=d.words,D=m.words,R=0,$=0|p[0],F=8191&$,Q=$>>>13,de=0|p[1],De=8191&de,Re=de>>>13,Ve=0|p[2],Ee=8191&Ve,_e=Ve>>>13,Fe=0|p[3],ve=8191&Fe,Te=Fe>>>13,ge=0|p[4],me=8191&ge,te=ge>>>13,ne=0|p[5],le=8191&ne,Ae=ne>>>13,Be=0|p[6],qe=8191&Be,ze=Be>>>13,Dt=0|p[7],Xe=8191&Dt,Ue=Dt>>>13,mt=0|p[8],K=8191&mt,T=mt>>>13,M=0|p[9],Y=8191&M,pe=M>>>13,ke=0|E[0],Ne=8191&ke,lt=ke>>>13,en=0|E[1],It=8191&en,Kt=en>>>13,rn=0|E[2],gn=8191&rn,ln=rn>>>13,ar=0|E[3],Cn=8191&ar,cn=ar>>>13,Zt=0|E[4],vt=8191&Zt,ut=Zt>>>13,Gt=0|E[5],nn=8191&Gt,pn=Gt>>>13,fr=0|E[6],yt=8191&fr,wt=fr>>>13,Et=0|E[7],Ye=8191&Et,et=Et>>>13,Wt=0|E[8],Ft=8191&Wt,mn=Wt>>>13,Vn=0|E[9],bn=8191&Vn,Mn=Vn>>>13;m.negative=a.negative^d.negative,m.length=19;var br=(R+(x=Math.imul(F,Ne))|0)+((8191&(s=(s=Math.imul(F,lt))+Math.imul(Q,Ne)|0))<<13)|0;R=((v=Math.imul(Q,lt))+(s>>>13)|0)+(br>>>26)|0,br&=67108863,x=Math.imul(De,Ne),s=(s=Math.imul(De,lt))+Math.imul(Re,Ne)|0,v=Math.imul(Re,lt);var or=(R+(x=x+Math.imul(F,It)|0)|0)+((8191&(s=(s=s+Math.imul(F,Kt)|0)+Math.imul(Q,It)|0))<<13)|0;R=((v=v+Math.imul(Q,Kt)|0)+(s>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(Ee,Ne),s=(s=Math.imul(Ee,lt))+Math.imul(_e,Ne)|0,v=Math.imul(_e,lt),x=x+Math.imul(De,It)|0,s=(s=s+Math.imul(De,Kt)|0)+Math.imul(Re,It)|0,v=v+Math.imul(Re,Kt)|0;var Nn=(R+(x=x+Math.imul(F,gn)|0)|0)+((8191&(s=(s=s+Math.imul(F,ln)|0)+Math.imul(Q,gn)|0))<<13)|0;R=((v=v+Math.imul(Q,ln)|0)+(s>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,x=Math.imul(ve,Ne),s=(s=Math.imul(ve,lt))+Math.imul(Te,Ne)|0,v=Math.imul(Te,lt),x=x+Math.imul(Ee,It)|0,s=(s=s+Math.imul(Ee,Kt)|0)+Math.imul(_e,It)|0,v=v+Math.imul(_e,Kt)|0,x=x+Math.imul(De,gn)|0,s=(s=s+Math.imul(De,ln)|0)+Math.imul(Re,gn)|0,v=v+Math.imul(Re,ln)|0;var Ln=(R+(x=x+Math.imul(F,Cn)|0)|0)+((8191&(s=(s=s+Math.imul(F,cn)|0)+Math.imul(Q,Cn)|0))<<13)|0;R=((v=v+Math.imul(Q,cn)|0)+(s>>>13)|0)+(Ln>>>26)|0,Ln&=67108863,x=Math.imul(me,Ne),s=(s=Math.imul(me,lt))+Math.imul(te,Ne)|0,v=Math.imul(te,lt),x=x+Math.imul(ve,It)|0,s=(s=s+Math.imul(ve,Kt)|0)+Math.imul(Te,It)|0,v=v+Math.imul(Te,Kt)|0,x=x+Math.imul(Ee,gn)|0,s=(s=s+Math.imul(Ee,ln)|0)+Math.imul(_e,gn)|0,v=v+Math.imul(_e,ln)|0,x=x+Math.imul(De,Cn)|0,s=(s=s+Math.imul(De,cn)|0)+Math.imul(Re,Cn)|0,v=v+Math.imul(Re,cn)|0;var at=(R+(x=x+Math.imul(F,vt)|0)|0)+((8191&(s=(s=s+Math.imul(F,ut)|0)+Math.imul(Q,vt)|0))<<13)|0;R=((v=v+Math.imul(Q,ut)|0)+(s>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(le,Ne),s=(s=Math.imul(le,lt))+Math.imul(Ae,Ne)|0,v=Math.imul(Ae,lt),x=x+Math.imul(me,It)|0,s=(s=s+Math.imul(me,Kt)|0)+Math.imul(te,It)|0,v=v+Math.imul(te,Kt)|0,x=x+Math.imul(ve,gn)|0,s=(s=s+Math.imul(ve,ln)|0)+Math.imul(Te,gn)|0,v=v+Math.imul(Te,ln)|0,x=x+Math.imul(Ee,Cn)|0,s=(s=s+Math.imul(Ee,cn)|0)+Math.imul(_e,Cn)|0,v=v+Math.imul(_e,cn)|0,x=x+Math.imul(De,vt)|0,s=(s=s+Math.imul(De,ut)|0)+Math.imul(Re,vt)|0,v=v+Math.imul(Re,ut)|0;var He=(R+(x=x+Math.imul(F,nn)|0)|0)+((8191&(s=(s=s+Math.imul(F,pn)|0)+Math.imul(Q,nn)|0))<<13)|0;R=((v=v+Math.imul(Q,pn)|0)+(s>>>13)|0)+(He>>>26)|0,He&=67108863,x=Math.imul(qe,Ne),s=(s=Math.imul(qe,lt))+Math.imul(ze,Ne)|0,v=Math.imul(ze,lt),x=x+Math.imul(le,It)|0,s=(s=s+Math.imul(le,Kt)|0)+Math.imul(Ae,It)|0,v=v+Math.imul(Ae,Kt)|0,x=x+Math.imul(me,gn)|0,s=(s=s+Math.imul(me,ln)|0)+Math.imul(te,gn)|0,v=v+Math.imul(te,ln)|0,x=x+Math.imul(ve,Cn)|0,s=(s=s+Math.imul(ve,cn)|0)+Math.imul(Te,Cn)|0,v=v+Math.imul(Te,cn)|0,x=x+Math.imul(Ee,vt)|0,s=(s=s+Math.imul(Ee,ut)|0)+Math.imul(_e,vt)|0,v=v+Math.imul(_e,ut)|0,x=x+Math.imul(De,nn)|0,s=(s=s+Math.imul(De,pn)|0)+Math.imul(Re,nn)|0,v=v+Math.imul(Re,pn)|0;var ct=(R+(x=x+Math.imul(F,yt)|0)|0)+((8191&(s=(s=s+Math.imul(F,wt)|0)+Math.imul(Q,yt)|0))<<13)|0;R=((v=v+Math.imul(Q,wt)|0)+(s>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Xe,Ne),s=(s=Math.imul(Xe,lt))+Math.imul(Ue,Ne)|0,v=Math.imul(Ue,lt),x=x+Math.imul(qe,It)|0,s=(s=s+Math.imul(qe,Kt)|0)+Math.imul(ze,It)|0,v=v+Math.imul(ze,Kt)|0,x=x+Math.imul(le,gn)|0,s=(s=s+Math.imul(le,ln)|0)+Math.imul(Ae,gn)|0,v=v+Math.imul(Ae,ln)|0,x=x+Math.imul(me,Cn)|0,s=(s=s+Math.imul(me,cn)|0)+Math.imul(te,Cn)|0,v=v+Math.imul(te,cn)|0,x=x+Math.imul(ve,vt)|0,s=(s=s+Math.imul(ve,ut)|0)+Math.imul(Te,vt)|0,v=v+Math.imul(Te,ut)|0,x=x+Math.imul(Ee,nn)|0,s=(s=s+Math.imul(Ee,pn)|0)+Math.imul(_e,nn)|0,v=v+Math.imul(_e,pn)|0,x=x+Math.imul(De,yt)|0,s=(s=s+Math.imul(De,wt)|0)+Math.imul(Re,yt)|0,v=v+Math.imul(Re,wt)|0;var Yt=(R+(x=x+Math.imul(F,Ye)|0)|0)+((8191&(s=(s=s+Math.imul(F,et)|0)+Math.imul(Q,Ye)|0))<<13)|0;R=((v=v+Math.imul(Q,et)|0)+(s>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,x=Math.imul(K,Ne),s=(s=Math.imul(K,lt))+Math.imul(T,Ne)|0,v=Math.imul(T,lt),x=x+Math.imul(Xe,It)|0,s=(s=s+Math.imul(Xe,Kt)|0)+Math.imul(Ue,It)|0,v=v+Math.imul(Ue,Kt)|0,x=x+Math.imul(qe,gn)|0,s=(s=s+Math.imul(qe,ln)|0)+Math.imul(ze,gn)|0,v=v+Math.imul(ze,ln)|0,x=x+Math.imul(le,Cn)|0,s=(s=s+Math.imul(le,cn)|0)+Math.imul(Ae,Cn)|0,v=v+Math.imul(Ae,cn)|0,x=x+Math.imul(me,vt)|0,s=(s=s+Math.imul(me,ut)|0)+Math.imul(te,vt)|0,v=v+Math.imul(te,ut)|0,x=x+Math.imul(ve,nn)|0,s=(s=s+Math.imul(ve,pn)|0)+Math.imul(Te,nn)|0,v=v+Math.imul(Te,pn)|0,x=x+Math.imul(Ee,yt)|0,s=(s=s+Math.imul(Ee,wt)|0)+Math.imul(_e,yt)|0,v=v+Math.imul(_e,wt)|0,x=x+Math.imul(De,Ye)|0,s=(s=s+Math.imul(De,et)|0)+Math.imul(Re,Ye)|0,v=v+Math.imul(Re,et)|0;var En=(R+(x=x+Math.imul(F,Ft)|0)|0)+((8191&(s=(s=s+Math.imul(F,mn)|0)+Math.imul(Q,Ft)|0))<<13)|0;R=((v=v+Math.imul(Q,mn)|0)+(s>>>13)|0)+(En>>>26)|0,En&=67108863,x=Math.imul(Y,Ne),s=(s=Math.imul(Y,lt))+Math.imul(pe,Ne)|0,v=Math.imul(pe,lt),x=x+Math.imul(K,It)|0,s=(s=s+Math.imul(K,Kt)|0)+Math.imul(T,It)|0,v=v+Math.imul(T,Kt)|0,x=x+Math.imul(Xe,gn)|0,s=(s=s+Math.imul(Xe,ln)|0)+Math.imul(Ue,gn)|0,v=v+Math.imul(Ue,ln)|0,x=x+Math.imul(qe,Cn)|0,s=(s=s+Math.imul(qe,cn)|0)+Math.imul(ze,Cn)|0,v=v+Math.imul(ze,cn)|0,x=x+Math.imul(le,vt)|0,s=(s=s+Math.imul(le,ut)|0)+Math.imul(Ae,vt)|0,v=v+Math.imul(Ae,ut)|0,x=x+Math.imul(me,nn)|0,s=(s=s+Math.imul(me,pn)|0)+Math.imul(te,nn)|0,v=v+Math.imul(te,pn)|0,x=x+Math.imul(ve,yt)|0,s=(s=s+Math.imul(ve,wt)|0)+Math.imul(Te,yt)|0,v=v+Math.imul(Te,wt)|0,x=x+Math.imul(Ee,Ye)|0,s=(s=s+Math.imul(Ee,et)|0)+Math.imul(_e,Ye)|0,v=v+Math.imul(_e,et)|0,x=x+Math.imul(De,Ft)|0,s=(s=s+Math.imul(De,mn)|0)+Math.imul(Re,Ft)|0,v=v+Math.imul(Re,mn)|0;var zn=(R+(x=x+Math.imul(F,bn)|0)|0)+((8191&(s=(s=s+Math.imul(F,Mn)|0)+Math.imul(Q,bn)|0))<<13)|0;R=((v=v+Math.imul(Q,Mn)|0)+(s>>>13)|0)+(zn>>>26)|0,zn&=67108863,x=Math.imul(Y,It),s=(s=Math.imul(Y,Kt))+Math.imul(pe,It)|0,v=Math.imul(pe,Kt),x=x+Math.imul(K,gn)|0,s=(s=s+Math.imul(K,ln)|0)+Math.imul(T,gn)|0,v=v+Math.imul(T,ln)|0,x=x+Math.imul(Xe,Cn)|0,s=(s=s+Math.imul(Xe,cn)|0)+Math.imul(Ue,Cn)|0,v=v+Math.imul(Ue,cn)|0,x=x+Math.imul(qe,vt)|0,s=(s=s+Math.imul(qe,ut)|0)+Math.imul(ze,vt)|0,v=v+Math.imul(ze,ut)|0,x=x+Math.imul(le,nn)|0,s=(s=s+Math.imul(le,pn)|0)+Math.imul(Ae,nn)|0,v=v+Math.imul(Ae,pn)|0,x=x+Math.imul(me,yt)|0,s=(s=s+Math.imul(me,wt)|0)+Math.imul(te,yt)|0,v=v+Math.imul(te,wt)|0,x=x+Math.imul(ve,Ye)|0,s=(s=s+Math.imul(ve,et)|0)+Math.imul(Te,Ye)|0,v=v+Math.imul(Te,et)|0,x=x+Math.imul(Ee,Ft)|0,s=(s=s+Math.imul(Ee,mn)|0)+Math.imul(_e,Ft)|0,v=v+Math.imul(_e,mn)|0;var er=(R+(x=x+Math.imul(De,bn)|0)|0)+((8191&(s=(s=s+Math.imul(De,Mn)|0)+Math.imul(Re,bn)|0))<<13)|0;R=((v=v+Math.imul(Re,Mn)|0)+(s>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Y,gn),s=(s=Math.imul(Y,ln))+Math.imul(pe,gn)|0,v=Math.imul(pe,ln),x=x+Math.imul(K,Cn)|0,s=(s=s+Math.imul(K,cn)|0)+Math.imul(T,Cn)|0,v=v+Math.imul(T,cn)|0,x=x+Math.imul(Xe,vt)|0,s=(s=s+Math.imul(Xe,ut)|0)+Math.imul(Ue,vt)|0,v=v+Math.imul(Ue,ut)|0,x=x+Math.imul(qe,nn)|0,s=(s=s+Math.imul(qe,pn)|0)+Math.imul(ze,nn)|0,v=v+Math.imul(ze,pn)|0,x=x+Math.imul(le,yt)|0,s=(s=s+Math.imul(le,wt)|0)+Math.imul(Ae,yt)|0,v=v+Math.imul(Ae,wt)|0,x=x+Math.imul(me,Ye)|0,s=(s=s+Math.imul(me,et)|0)+Math.imul(te,Ye)|0,v=v+Math.imul(te,et)|0,x=x+Math.imul(ve,Ft)|0,s=(s=s+Math.imul(ve,mn)|0)+Math.imul(Te,Ft)|0,v=v+Math.imul(Te,mn)|0;var mr=(R+(x=x+Math.imul(Ee,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Ee,Mn)|0)+Math.imul(_e,bn)|0))<<13)|0;R=((v=v+Math.imul(_e,Mn)|0)+(s>>>13)|0)+(mr>>>26)|0,mr&=67108863,x=Math.imul(Y,Cn),s=(s=Math.imul(Y,cn))+Math.imul(pe,Cn)|0,v=Math.imul(pe,cn),x=x+Math.imul(K,vt)|0,s=(s=s+Math.imul(K,ut)|0)+Math.imul(T,vt)|0,v=v+Math.imul(T,ut)|0,x=x+Math.imul(Xe,nn)|0,s=(s=s+Math.imul(Xe,pn)|0)+Math.imul(Ue,nn)|0,v=v+Math.imul(Ue,pn)|0,x=x+Math.imul(qe,yt)|0,s=(s=s+Math.imul(qe,wt)|0)+Math.imul(ze,yt)|0,v=v+Math.imul(ze,wt)|0,x=x+Math.imul(le,Ye)|0,s=(s=s+Math.imul(le,et)|0)+Math.imul(Ae,Ye)|0,v=v+Math.imul(Ae,et)|0,x=x+Math.imul(me,Ft)|0,s=(s=s+Math.imul(me,mn)|0)+Math.imul(te,Ft)|0,v=v+Math.imul(te,mn)|0;var Lr=(R+(x=x+Math.imul(ve,bn)|0)|0)+((8191&(s=(s=s+Math.imul(ve,Mn)|0)+Math.imul(Te,bn)|0))<<13)|0;R=((v=v+Math.imul(Te,Mn)|0)+(s>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,x=Math.imul(Y,vt),s=(s=Math.imul(Y,ut))+Math.imul(pe,vt)|0,v=Math.imul(pe,ut),x=x+Math.imul(K,nn)|0,s=(s=s+Math.imul(K,pn)|0)+Math.imul(T,nn)|0,v=v+Math.imul(T,pn)|0,x=x+Math.imul(Xe,yt)|0,s=(s=s+Math.imul(Xe,wt)|0)+Math.imul(Ue,yt)|0,v=v+Math.imul(Ue,wt)|0,x=x+Math.imul(qe,Ye)|0,s=(s=s+Math.imul(qe,et)|0)+Math.imul(ze,Ye)|0,v=v+Math.imul(ze,et)|0,x=x+Math.imul(le,Ft)|0,s=(s=s+Math.imul(le,mn)|0)+Math.imul(Ae,Ft)|0,v=v+Math.imul(Ae,mn)|0;var Pr=(R+(x=x+Math.imul(me,bn)|0)|0)+((8191&(s=(s=s+Math.imul(me,Mn)|0)+Math.imul(te,bn)|0))<<13)|0;R=((v=v+Math.imul(te,Mn)|0)+(s>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(Y,nn),s=(s=Math.imul(Y,pn))+Math.imul(pe,nn)|0,v=Math.imul(pe,pn),x=x+Math.imul(K,yt)|0,s=(s=s+Math.imul(K,wt)|0)+Math.imul(T,yt)|0,v=v+Math.imul(T,wt)|0,x=x+Math.imul(Xe,Ye)|0,s=(s=s+Math.imul(Xe,et)|0)+Math.imul(Ue,Ye)|0,v=v+Math.imul(Ue,et)|0,x=x+Math.imul(qe,Ft)|0,s=(s=s+Math.imul(qe,mn)|0)+Math.imul(ze,Ft)|0,v=v+Math.imul(ze,mn)|0;var Kr=(R+(x=x+Math.imul(le,bn)|0)|0)+((8191&(s=(s=s+Math.imul(le,Mn)|0)+Math.imul(Ae,bn)|0))<<13)|0;R=((v=v+Math.imul(Ae,Mn)|0)+(s>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,x=Math.imul(Y,yt),s=(s=Math.imul(Y,wt))+Math.imul(pe,yt)|0,v=Math.imul(pe,wt),x=x+Math.imul(K,Ye)|0,s=(s=s+Math.imul(K,et)|0)+Math.imul(T,Ye)|0,v=v+Math.imul(T,et)|0,x=x+Math.imul(Xe,Ft)|0,s=(s=s+Math.imul(Xe,mn)|0)+Math.imul(Ue,Ft)|0,v=v+Math.imul(Ue,mn)|0;var Fr=(R+(x=x+Math.imul(qe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(qe,Mn)|0)+Math.imul(ze,bn)|0))<<13)|0;R=((v=v+Math.imul(ze,Mn)|0)+(s>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,x=Math.imul(Y,Ye),s=(s=Math.imul(Y,et))+Math.imul(pe,Ye)|0,v=Math.imul(pe,et),x=x+Math.imul(K,Ft)|0,s=(s=s+Math.imul(K,mn)|0)+Math.imul(T,Ft)|0,v=v+Math.imul(T,mn)|0;var di=(R+(x=x+Math.imul(Xe,bn)|0)|0)+((8191&(s=(s=s+Math.imul(Xe,Mn)|0)+Math.imul(Ue,bn)|0))<<13)|0;R=((v=v+Math.imul(Ue,Mn)|0)+(s>>>13)|0)+(di>>>26)|0,di&=67108863,x=Math.imul(Y,Ft),s=(s=Math.imul(Y,mn))+Math.imul(pe,Ft)|0,v=Math.imul(pe,mn);var on=(R+(x=x+Math.imul(K,bn)|0)|0)+((8191&(s=(s=s+Math.imul(K,Mn)|0)+Math.imul(T,bn)|0))<<13)|0;R=((v=v+Math.imul(T,Mn)|0)+(s>>>13)|0)+(on>>>26)|0,on&=67108863;var wn=(R+(x=Math.imul(Y,bn))|0)+((8191&(s=(s=Math.imul(Y,Mn))+Math.imul(pe,bn)|0))<<13)|0;return R=((v=Math.imul(pe,Mn))+(s>>>13)|0)+(wn>>>26)|0,wn&=67108863,D[0]=br,D[1]=or,D[2]=Nn,D[3]=Ln,D[4]=at,D[5]=He,D[6]=ct,D[7]=Yt,D[8]=En,D[9]=zn,D[10]=er,D[11]=mr,D[12]=Lr,D[13]=Pr,D[14]=Kr,D[15]=Fr,D[16]=di,D[17]=on,D[18]=wn,0!==R&&(D[19]=R,m.length++),m};function Z(C,a,d){return(new J).mulp(C,a,d)}function J(C,a){this.x=C,this.y=a}Math.imul||(ee=z),w.prototype.mulTo=function(a,d){var m,p=this.length+a.length;return m=10===this.length&&10===a.length?ee(this,a,d):p<63?z(this,a,d):p<1024?function q(C,a,d){d.negative=a.negative^C.negative,d.length=C.length+a.length;for(var m=0,p=0,E=0;E<d.length-1;E++){var D=p;p=0;for(var R=67108863&m,x=Math.min(E,a.length-1),s=Math.max(0,E-C.length+1);s<=x;s++){var Q=(0|C.words[E-s])*(0|a.words[s]),de=67108863&Q;R=67108863&(de=de+R|0),p+=(D=(D=D+(Q/67108864|0)|0)+(de>>>26)|0)>>>26,D&=67108863}d.words[E]=R,m=D,D=p}return 0!==m?d.words[E]=m:d.length--,d.strip()}(this,a,d):Z(this,a,d),m},J.prototype.makeRBT=function(a){for(var d=new Array(a),m=w.prototype._countBits(a)-1,p=0;p<a;p++)d[p]=this.revBin(p,m,a);return d},J.prototype.revBin=function(a,d,m){if(0===a||a===m-1)return a;for(var p=0,E=0;E<d;E++)p|=(1&a)<<d-E-1,a>>=1;return p},J.prototype.permute=function(a,d,m,p,E,D){for(var R=0;R<D;R++)p[R]=d[a[R]],E[R]=m[a[R]]},J.prototype.transform=function(a,d,m,p,E,D){this.permute(D,a,d,m,p,E);for(var R=1;R<E;R<<=1)for(var x=R<<1,s=Math.cos(2*Math.PI/x),v=Math.sin(2*Math.PI/x),$=0;$<E;$+=x)for(var F=s,Q=v,de=0;de<R;de++){var De=m[$+de],Re=p[$+de],Ve=m[$+de+R],Ee=p[$+de+R],_e=F*Ve-Q*Ee;Ee=F*Ee+Q*Ve,m[$+de]=De+(Ve=_e),p[$+de]=Re+Ee,m[$+de+R]=De-Ve,p[$+de+R]=Re-Ee,de!==x&&(_e=s*F-v*Q,Q=s*Q+v*F,F=_e)}},J.prototype.guessLen13b=function(a,d){var m=1|Math.max(d,a),p=1&m,E=0;for(m=m/2|0;m;m>>>=1)E++;return 1<<E+1+p},J.prototype.conjugate=function(a,d,m){if(!(m<=1))for(var p=0;p<m/2;p++){var E=a[p];a[p]=a[m-p-1],a[m-p-1]=E,E=d[p],d[p]=-d[m-p-1],d[m-p-1]=-E}},J.prototype.normalize13b=function(a,d){for(var m=0,p=0;p<d/2;p++){var E=8192*Math.round(a[2*p+1]/d)+Math.round(a[2*p]/d)+m;a[p]=67108863&E,m=E<67108864?0:E/67108864|0}return a},J.prototype.convert13b=function(a,d,m,p){for(var E=0,D=0;D<d;D++)m[2*D]=8191&(E+=0|a[D]),m[2*D+1]=8191&(E>>>=13),E>>>=13;for(D=2*d;D<p;++D)m[D]=0;P(0===E),P(!(-8192&E))},J.prototype.stub=function(a){for(var d=new Array(a),m=0;m<a;m++)d[m]=0;return d},J.prototype.mulp=function(a,d,m){var p=2*this.guessLen13b(a.length,d.length),E=this.makeRBT(p),D=this.stub(p),R=new Array(p),x=new Array(p),s=new Array(p),v=new Array(p),$=new Array(p),F=new Array(p),Q=m.words;Q.length=p,this.convert13b(a.words,a.length,R,p),this.convert13b(d.words,d.length,v,p),this.transform(R,D,x,s,p,E),this.transform(v,D,$,F,p,E);for(var de=0;de<p;de++){var De=x[de]*$[de]-s[de]*F[de];s[de]=x[de]*F[de]+s[de]*$[de],x[de]=De}return this.conjugate(x,s,p),this.transform(x,s,Q,D,p,E),this.conjugate(Q,D,p),this.normalize13b(Q,p),m.negative=a.negative^d.negative,m.length=a.length+d.length,m.strip()},w.prototype.mul=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),this.mulTo(a,d)},w.prototype.mulf=function(a){var d=new w(null);return d.words=new Array(this.length+a.length),Z(this,a,d)},w.prototype.imul=function(a){return this.clone().mulTo(a,this)},w.prototype.imuln=function(a){P("number"==typeof a),P(a<67108864);for(var d=0,m=0;m<this.length;m++){var p=(0|this.words[m])*a,E=(67108863&p)+(67108863&d);d>>=26,d+=p/67108864|0,d+=E>>>26,this.words[m]=67108863&E}return 0!==d&&(this.words[m]=d,this.length++),this},w.prototype.muln=function(a){return this.clone().imuln(a)},w.prototype.sqr=function(){return this.mul(this)},w.prototype.isqr=function(){return this.imul(this.clone())},w.prototype.pow=function(a){var d=function L(C){for(var a=new Array(C.bitLength()),d=0;d<a.length;d++){var p=d%26;a[d]=(C.words[d/26|0]&1<<p)>>>p}return a}(a);if(0===d.length)return new w(1);for(var m=this,p=0;p<d.length&&0===d[p];p++,m=m.sqr());if(++p<d.length)for(var E=m.sqr();p<d.length;p++,E=E.sqr())0!==d[p]&&(m=m.mul(E));return m},w.prototype.iushln=function(a){P("number"==typeof a&&a>=0);var E,d=a%26,m=(a-d)/26,p=67108863>>>26-d<<26-d;if(0!==d){var D=0;for(E=0;E<this.length;E++){var R=this.words[E]&p;this.words[E]=(0|this.words[E])-R<<d|D,D=R>>>26-d}D&&(this.words[E]=D,this.length++)}if(0!==m){for(E=this.length-1;E>=0;E--)this.words[E+m]=this.words[E];for(E=0;E<m;E++)this.words[E]=0;this.length+=m}return this.strip()},w.prototype.ishln=function(a){return P(0===this.negative),this.iushln(a)},w.prototype.iushrn=function(a,d,m){var p;P("number"==typeof a&&a>=0),p=d?(d-d%26)/26:0;var E=a%26,D=Math.min((a-E)/26,this.length),R=67108863^67108863>>>E<<E,x=m;if(p-=D,p=Math.max(0,p),x){for(var s=0;s<D;s++)x.words[s]=this.words[s];x.length=D}if(0!==D)if(this.length>D)for(this.length-=D,s=0;s<this.length;s++)this.words[s]=this.words[s+D];else this.words[0]=0,this.length=1;var v=0;for(s=this.length-1;s>=0&&(0!==v||s>=p);s--){var $=0|this.words[s];this.words[s]=v<<26-E|$>>>E,v=$&R}return x&&0!==v&&(x.words[x.length++]=v),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},w.prototype.ishrn=function(a,d,m){return P(0===this.negative),this.iushrn(a,d,m)},w.prototype.shln=function(a){return this.clone().ishln(a)},w.prototype.ushln=function(a){return this.clone().iushln(a)},w.prototype.shrn=function(a){return this.clone().ishrn(a)},w.prototype.ushrn=function(a){return this.clone().iushrn(a)},w.prototype.testn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return!(this.length<=m||!(this.words[m]&1<<d))},w.prototype.imaskn=function(a){P("number"==typeof a&&a>=0);var d=a%26,m=(a-d)/26;return P(0===this.negative,"imaskn works only with positive numbers"),this.length<=m?this:(0!==d&&m++,this.length=Math.min(m,this.length),0!==d&&(this.words[this.length-1]&=67108863^67108863>>>d<<d),this.strip())},w.prototype.maskn=function(a){return this.clone().imaskn(a)},w.prototype.iaddn=function(a){return P("number"==typeof a),P(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},w.prototype._iaddn=function(a){this.words[0]+=a;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},w.prototype.isubn=function(a){if(P("number"==typeof a),P(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},w.prototype.addn=function(a){return this.clone().iaddn(a)},w.prototype.subn=function(a){return this.clone().isubn(a)},w.prototype.iabs=function(){return this.negative=0,this},w.prototype.abs=function(){return this.clone().iabs()},w.prototype._ishlnsubmul=function(a,d,m){var E;this._expand(a.length+m);var D,R=0;for(E=0;E<a.length;E++){D=(0|this.words[E+m])+R;var x=(0|a.words[E])*d;R=((D-=67108863&x)>>26)-(x/67108864|0),this.words[E+m]=67108863&D}for(;E<this.length-m;E++)R=(D=(0|this.words[E+m])+R)>>26,this.words[E+m]=67108863&D;if(0===R)return this.strip();for(P(-1===R),R=0,E=0;E<this.length;E++)R=(D=-(0|this.words[E])+R)>>26,this.words[E]=67108863&D;return this.negative=1,this.strip()},w.prototype._wordDiv=function(a,d){var m,p=this.clone(),E=a,D=0|E.words[E.length-1];0!=(m=26-this._countBits(D))&&(E=E.ushln(m),p.iushln(m),D=0|E.words[E.length-1]);var s,x=p.length-E.length;if("mod"!==d){(s=new w(null)).length=x+1,s.words=new Array(s.length);for(var v=0;v<s.length;v++)s.words[v]=0}var $=p.clone()._ishlnsubmul(E,1,x);0===$.negative&&(p=$,s&&(s.words[x]=1));for(var F=x-1;F>=0;F--){var Q=67108864*(0|p.words[E.length+F])+(0|p.words[E.length+F-1]);for(Q=Math.min(Q/D|0,67108863),p._ishlnsubmul(E,Q,F);0!==p.negative;)Q--,p.negative=0,p._ishlnsubmul(E,1,F),p.isZero()||(p.negative^=1);s&&(s.words[F]=Q)}return s&&s.strip(),p.strip(),"div"!==d&&0!==m&&p.iushrn(m),{div:s||null,mod:p}},w.prototype.divmod=function(a,d,m){return P(!a.isZero()),this.isZero()?{div:new w(0),mod:new w(0)}:0!==this.negative&&0===a.negative?(D=this.neg().divmod(a,d),"mod"!==d&&(p=D.div.neg()),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.iadd(a)),{div:p,mod:E}):0===this.negative&&0!==a.negative?(D=this.divmod(a.neg(),d),"mod"!==d&&(p=D.div.neg()),{div:p,mod:D.mod}):this.negative&a.negative?(D=this.neg().divmod(a.neg(),d),"div"!==d&&(E=D.mod.neg(),m&&0!==E.negative&&E.isub(a)),{div:D.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new w(0),mod:this}:1===a.length?"div"===d?{div:this.divn(a.words[0]),mod:null}:"mod"===d?{div:null,mod:new w(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new w(this.modn(a.words[0]))}:this._wordDiv(a,d);var p,E,D},w.prototype.div=function(a){return this.divmod(a,"div",!1).div},w.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},w.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},w.prototype.divRound=function(a){var d=this.divmod(a);if(d.mod.isZero())return d.div;var m=0!==d.div.negative?d.mod.isub(a):d.mod,p=a.ushrn(1),E=a.andln(1),D=m.cmp(p);return D<0||1===E&&0===D?d.div:0!==d.div.negative?d.div.isubn(1):d.div.iaddn(1)},w.prototype.modn=function(a){P(a<=67108863);for(var d=(1<<26)%a,m=0,p=this.length-1;p>=0;p--)m=(d*m+(0|this.words[p]))%a;return m},w.prototype.idivn=function(a){P(a<=67108863);for(var d=0,m=this.length-1;m>=0;m--){var p=(0|this.words[m])+67108864*d;this.words[m]=p/a|0,d=p%a}return this.strip()},w.prototype.divn=function(a){return this.clone().idivn(a)},w.prototype.egcd=function(a){P(0===a.negative),P(!a.isZero());var d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=new w(0),R=new w(1),x=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++x;for(var s=m.clone(),v=d.clone();!d.isZero();){for(var $=0,F=1;!(d.words[0]&F)&&$<26;++$,F<<=1);if($>0)for(d.iushrn($);$-- >0;)(p.isOdd()||E.isOdd())&&(p.iadd(s),E.isub(v)),p.iushrn(1),E.iushrn(1);for(var Q=0,de=1;!(m.words[0]&de)&&Q<26;++Q,de<<=1);if(Q>0)for(m.iushrn(Q);Q-- >0;)(D.isOdd()||R.isOdd())&&(D.iadd(s),R.isub(v)),D.iushrn(1),R.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(D),E.isub(R)):(m.isub(d),D.isub(p),R.isub(E))}return{a:D,b:R,gcd:m.iushln(x)}},w.prototype._invmp=function(a){P(0===a.negative),P(!a.isZero());var $,d=this,m=a.clone();d=0!==d.negative?d.umod(a):d.clone();for(var p=new w(1),E=new w(0),D=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var R=0,x=1;!(d.words[0]&x)&&R<26;++R,x<<=1);if(R>0)for(d.iushrn(R);R-- >0;)p.isOdd()&&p.iadd(D),p.iushrn(1);for(var s=0,v=1;!(m.words[0]&v)&&s<26;++s,v<<=1);if(s>0)for(m.iushrn(s);s-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);d.cmp(m)>=0?(d.isub(m),p.isub(E)):(m.isub(d),E.isub(p))}return($=0===d.cmpn(1)?p:E).cmpn(0)<0&&$.iadd(a),$},w.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var d=this.clone(),m=a.clone();d.negative=0,m.negative=0;for(var p=0;d.isEven()&&m.isEven();p++)d.iushrn(1),m.iushrn(1);for(;;){for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var E=d.cmp(m);if(E<0){var D=d;d=m,m=D}else if(0===E||0===m.cmpn(1))break;d.isub(m)}return m.iushln(p)},w.prototype.invm=function(a){return this.egcd(a).a.umod(a)},w.prototype.isEven=function(){return!(1&this.words[0])},w.prototype.isOdd=function(){return!(1&~this.words[0])},w.prototype.andln=function(a){return this.words[0]&a},w.prototype.bincn=function(a){P("number"==typeof a);var d=a%26,m=(a-d)/26,p=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=p,this;for(var E=p,D=m;0!==E&&D<this.length;D++){var R=0|this.words[D];E=(R+=E)>>>26,this.words[D]=R&=67108863}return 0!==E&&(this.words[D]=E,this.length++),this},w.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},w.prototype.cmpn=function(a){var m,d=a<0;if(0!==this.negative&&!d)return-1;if(0===this.negative&&d)return 1;if(this.strip(),this.length>1)m=1;else{d&&(a=-a),P(a<=67108863,"Number is too big");var p=0|this.words[0];m=p===a?0:p<a?-1:1}return 0!==this.negative?0|-m:m},w.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var d=this.ucmp(a);return 0!==this.negative?0|-d:d},w.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var p=0|this.words[m],E=0|a.words[m];if(p!==E){p<E?d=-1:p>E&&(d=1);break}}return d},w.prototype.gtn=function(a){return 1===this.cmpn(a)},w.prototype.gt=function(a){return 1===this.cmp(a)},w.prototype.gten=function(a){return this.cmpn(a)>=0},w.prototype.gte=function(a){return this.cmp(a)>=0},w.prototype.ltn=function(a){return-1===this.cmpn(a)},w.prototype.lt=function(a){return-1===this.cmp(a)},w.prototype.lten=function(a){return this.cmpn(a)<=0},w.prototype.lte=function(a){return this.cmp(a)<=0},w.prototype.eqn=function(a){return 0===this.cmpn(a)},w.prototype.eq=function(a){return 0===this.cmp(a)},w.red=function(a){return new Me(a)},w.prototype.toRed=function(a){return P(!this.red,"Already a number in reduction context"),P(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},w.prototype.fromRed=function(){return P(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},w.prototype._forceRed=function(a){return this.red=a,this},w.prototype.forceRed=function(a){return P(!this.red,"Already a number in reduction context"),this._forceRed(a)},w.prototype.redAdd=function(a){return P(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},w.prototype.redIAdd=function(a){return P(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},w.prototype.redSub=function(a){return P(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},w.prototype.redISub=function(a){return P(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},w.prototype.redShl=function(a){return P(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},w.prototype.redMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},w.prototype.redIMul=function(a){return P(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},w.prototype.redSqr=function(){return P(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},w.prototype.redISqr=function(){return P(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},w.prototype.redSqrt=function(){return P(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},w.prototype.redInvm=function(){return P(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},w.prototype.redNeg=function(){return P(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},w.prototype.redPow=function(a){return P(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var se={k256:null,p224:null,p192:null,p25519:null};function ce(C,a){this.name=C,this.p=new w(a,16),this.n=this.p.bitLength(),this.k=new w(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){ce.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function fe(){ce.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function he(){ce.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function we(){ce.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Me(C){if("string"==typeof C){var a=w._prime(C);this.m=a.p,this.prime=a}else P(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function Pe(C){Me.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new w(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ce.prototype._tmp=function(){var a=new w(null);return a.words=new Array(Math.ceil(this.n/13)),a},ce.prototype.ireduce=function(a){var m,d=a;do{this.split(d,this.tmp),m=(d=(d=this.imulK(d)).iadd(this.tmp)).bitLength()}while(m>this.n);var p=m<this.n?-1:d.ucmp(this.p);return 0===p?(d.words[0]=0,d.length=1):p>0?d.isub(this.p):void 0!==d.strip?d.strip():d._strip(),d},ce.prototype.split=function(a,d){a.iushrn(this.n,0,d)},ce.prototype.imulK=function(a){return a.imul(this.k)},H(ae,ce),ae.prototype.split=function(a,d){for(var m=4194303,p=Math.min(a.length,9),E=0;E<p;E++)d.words[E]=a.words[E];if(d.length=p,a.length<=9)return a.words[0]=0,void(a.length=1);var D=a.words[9];for(d.words[d.length++]=D&m,E=10;E<a.length;E++){var R=0|a.words[E];a.words[E-10]=(R&m)<<4|D>>>22,D=R}a.words[E-10]=D>>>=22,a.length-=0===D&&a.length>10?10:9},ae.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var d=0,m=0;m<a.length;m++){var p=0|a.words[m];a.words[m]=67108863&(d+=977*p),d=64*p+(d/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},H(fe,ce),H(he,ce),H(we,ce),we.prototype.imulK=function(a){for(var d=0,m=0;m<a.length;m++){var p=19*(0|a.words[m])+d,E=67108863&p;p>>>=26,a.words[m]=E,d=p}return 0!==d&&(a.words[a.length++]=d),a},w._prime=function(a){if(se[a])return se[a];var d;if("k256"===a)d=new ae;else if("p224"===a)d=new fe;else if("p192"===a)d=new he;else{if("p25519"!==a)throw new Error("Unknown prime "+a);d=new we}return se[a]=d,d},Me.prototype._verify1=function(a){P(0===a.negative,"red works only with positives"),P(a.red,"red works only with red numbers")},Me.prototype._verify2=function(a,d){P(!(a.negative|d.negative),"red works only with positives"),P(a.red&&a.red===d.red,"red works only with red numbers")},Me.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Me.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Me.prototype.add=function(a,d){this._verify2(a,d);var m=a.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Me.prototype.iadd=function(a,d){this._verify2(a,d);var m=a.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Me.prototype.sub=function(a,d){this._verify2(a,d);var m=a.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Me.prototype.isub=function(a,d){this._verify2(a,d);var m=a.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Me.prototype.shl=function(a,d){return this._verify1(a),this.imod(a.ushln(d))},Me.prototype.imul=function(a,d){return this._verify2(a,d),this.imod(a.imul(d))},Me.prototype.mul=function(a,d){return this._verify2(a,d),this.imod(a.mul(d))},Me.prototype.isqr=function(a){return this.imul(a,a.clone())},Me.prototype.sqr=function(a){return this.mul(a,a)},Me.prototype.sqrt=function(a){if(a.isZero())return a.clone();var d=this.m.andln(3);if(P(d%2==1),3===d){var m=this.m.add(new w(1)).iushrn(2);return this.pow(a,m)}for(var p=this.m.subn(1),E=0;!p.isZero()&&0===p.andln(1);)E++,p.iushrn(1);P(!p.isZero());var D=new w(1).toRed(this),R=D.redNeg(),x=this.m.subn(1).iushrn(1),s=this.m.bitLength();for(s=new w(2*s*s).toRed(this);0!==this.pow(s,x).cmp(R);)s.redIAdd(R);for(var v=this.pow(s,p),$=this.pow(a,p.addn(1).iushrn(1)),F=this.pow(a,p),Q=E;0!==F.cmp(D);){for(var de=F,De=0;0!==de.cmp(D);De++)de=de.redSqr();P(De<Q);var Re=this.pow(v,new w(1).iushln(Q-De-1));$=$.redMul(Re),v=Re.redSqr(),F=F.redMul(v),Q=De}return $},Me.prototype.invm=function(a){var d=a._invmp(this.m);return 0!==d.negative?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Me.prototype.pow=function(a,d){if(d.isZero())return new w(1).toRed(this);if(0===d.cmpn(1))return a.clone();var p=new Array(16);p[0]=new w(1).toRed(this),p[1]=a;for(var E=2;E<p.length;E++)p[E]=this.mul(p[E-1],a);var D=p[0],R=0,x=0,s=d.bitLength()%26;for(0===s&&(s=26),E=d.length-1;E>=0;E--){for(var v=d.words[E],$=s-1;$>=0;$--){var F=v>>$&1;D!==p[0]&&(D=this.sqr(D)),0!==F||0!==R?(R<<=1,R|=F,(4==++x||0===E&&0===$)&&(D=this.mul(D,p[R]),x=0,R=0)):x=0}s=26}return D},Me.prototype.convertTo=function(a){var d=a.umod(this.m);return d===a?d.clone():d},Me.prototype.convertFrom=function(a){var d=a.clone();return d.red=null,d},w.mont=function(a){return new Pe(a)},H(Pe,Me),Pe.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},Pe.prototype.convertFrom=function(a){var d=this.imod(a.mul(this.rinv));return d.red=null,d},Pe.prototype.imul=function(a,d){if(a.isZero()||d.isZero())return a.words[0]=0,a.length=1,a;var m=a.imul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.mul=function(a,d){if(a.isZero()||d.isZero())return new w(0)._forceRed(this);var m=a.mul(d),p=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=m.isub(p).iushrn(this.shift),D=E;return E.cmp(this.m)>=0?D=E.isub(this.m):E.cmpn(0)<0&&(D=E.iadd(this.m)),D._forceRed(this)},Pe.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(We=_.nmd(We),this)},98613:(We,j,_)=>{var y=_(65667),b=_(30715),P=_(37196),H=_(16508),w=_(14105),O=_(67211),S=_(10568),B=_(27054).Buffer;We.exports=function(L,z,ee){var q;q=L.padding?L.padding:ee?1:4;var se,Z=y(L),J=Z.modulus.byteLength();if(z.length>J||new H(z).cmp(Z.modulus)>=0)throw new Error("decryption error");se=ee?S(new H(z),Z):w(z,Z);var ce=B.alloc(J-se.length);if(se=B.concat([ce,se],J),4===q)return function N(G,L){var z=G.modulus.byteLength(),ee=O("sha1").update(B.alloc(0)).digest(),q=ee.length;if(0!==L[0])throw new Error("decryption error");var Z=L.slice(1,q+1),J=L.slice(q+1),se=P(Z,b(J,q)),ce=P(J,b(se,z-q-1));if(function A(G,L){G=B.from(G),L=B.from(L);var z=0,ee=G.length;G.length!==L.length&&(z++,ee=Math.min(G.length,L.length));for(var q=-1;++q<ee;)z+=G[q]^L[q];return z}(ee,ce.slice(0,q)))throw new Error("decryption error");for(var ae=q;0===ce[ae];)ae++;if(1!==ce[ae++])throw new Error("decryption error");return ce.slice(ae)}(Z,se);if(1===q)return function U(G,L,z){for(var ee=L.slice(0,2),q=2,Z=0;0!==L[q++];)if(q>=L.length){Z++;break}var J=L.slice(2,q-1);if(("0002"!==ee.toString("hex")&&!z||"0001"!==ee.toString("hex")&&z)&&Z++,J.length<8&&Z++,Z)throw new Error("decryption error");return L.slice(q)}(0,se,ee);if(3===q)return se;throw new Error("unknown padding")}},87267:(We,j,_)=>{var y=_(65667),b=_(3342),P=_(67211),H=_(30715),w=_(37196),O=_(16508),S=_(10568),B=_(14105),N=_(27054).Buffer;We.exports=function(z,ee,q){var Z;Z=z.padding?z.padding:q?1:4;var se,J=y(z);if(4===Z)se=function U(L,z){var ee=L.modulus.byteLength(),q=z.length,Z=P("sha1").update(N.alloc(0)).digest(),J=Z.length,se=2*J;if(q>ee-se-2)throw new Error("message too long");var ce=N.alloc(ee-q-se-2),ae=ee-J-1,fe=b(J),he=w(N.concat([Z,ce,N.alloc(1,1),z],ae),H(fe,ae)),we=w(fe,H(he,J));return new O(N.concat([N.alloc(1),we,he],ee))}(J,ee);else if(1===Z)se=function A(L,z,ee){var J,q=z.length,Z=L.modulus.byteLength();if(q>Z-11)throw new Error("message too long");return J=ee?N.alloc(Z-q-3,255):function G(L){for(var J,z=N.allocUnsafe(L),ee=0,q=b(2*L),Z=0;ee<L;)Z===q.length&&(q=b(2*L),Z=0),(J=q[Z++])&&(z[ee++]=J);return z}(Z-q-3),new O(N.concat([N.from([0,ee?1:2]),J,N.alloc(1),z],Z))}(J,ee,q);else{if(3!==Z)throw new Error("unknown padding");if((se=new O(ee)).cmp(J.modulus)>=0)throw new Error("data too long for modulus")}return q?B(se,J):S(se,J)}},10568:(We,j,_)=>{var y=_(16508),b=_(27054).Buffer;We.exports=function P(H,w){return b.from(H.toRed(y.mont(w.modulus)).redPow(new y(w.publicExponent)).fromRed().toArray())}},37196:We=>{We.exports=function(_,y){for(var b=_.length,P=-1;++P<b;)_[P]^=y[P];return _}},24515:We=>{let j;We.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):_=>(j||(j=Promise.resolve())).then(_).catch(y=>setTimeout(()=>{throw y},0))},3342:(We,j,_)=>{"use strict";var y=_(40573),b=65536,w=_(27054).Buffer,O=globalThis.crypto||globalThis.msCrypto;We.exports=O&&O.getRandomValues?function S(B,N){if(B>4294967295)throw new RangeError("requested too many random bytes");var U=w.allocUnsafe(B);if(B>0)if(B>b)for(var A=0;A<B;A+=b)O.getRandomValues(U.slice(A,A+b));else O.getRandomValues(U);return"function"==typeof N?y.nextTick(function(){N(null,U)}):U}:function H(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:(We,j,_)=>{"use strict";var y=_(40573);function b(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var P=_(27054),H=_(3342),w=P.Buffer,O=P.kMaxLength,S=globalThis.crypto||globalThis.msCrypto,B=Math.pow(2,32)-1;function N(z,ee){if("number"!=typeof z||z!=z)throw new TypeError("offset must be a number");if(z>B||z<0)throw new TypeError("offset must be a uint32");if(z>O||z>ee)throw new RangeError("offset out of range")}function U(z,ee,q){if("number"!=typeof z||z!=z)throw new TypeError("size must be a number");if(z>B||z<0)throw new TypeError("size must be a uint32");if(z+ee>q||z>O)throw new RangeError("buffer too small")}function G(z,ee,q,Z){if(y.browser){var se=new Uint8Array(z.buffer,ee,q);return S.getRandomValues(se),Z?void y.nextTick(function(){Z(null,z)}):z}if(!Z)return H(q).copy(z,ee),z;H(q,function(ae,fe){if(ae)return Z(ae);fe.copy(z,ee),Z(null,z)})}S&&S.getRandomValues||!y.browser?(j.randomFill=function A(z,ee,q,Z){if(!(w.isBuffer(z)||z instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof ee)Z=ee,ee=0,q=z.length;else if("function"==typeof q)Z=q,q=z.length-ee;else if("function"!=typeof Z)throw new TypeError('"cb" argument must be a function');return N(ee,z.length),U(q,ee,z.length),G(z,ee,q,Z)},j.randomFillSync=function L(z,ee,q){if(typeof ee>"u"&&(ee=0),!(w.isBuffer(z)||z instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return N(ee,z.length),void 0===q&&(q=z.length-ee),U(q,ee,z.length),G(z,ee,q)}):(j.randomFill=b,j.randomFillSync=b)},26113:We=>{"use strict";var _={};function y(O,S,B){B||(B=Error);var U=function(A){function G(L,z,ee){return A.call(this,function N(A,G,L){return"string"==typeof S?S:S(A,G,L)}(L,z,ee))||this}return function j(O,S){O.prototype=Object.create(S.prototype),O.prototype.constructor=O,O.__proto__=S}(G,A),G}(B);U.prototype.name=B.name,U.prototype.code=O,_[O]=U}function b(O,S){if(Array.isArray(O)){var B=O.length;return O=O.map(function(N){return String(N)}),B>2?"one of ".concat(S," ").concat(O.slice(0,B-1).join(", "),", or ")+O[B-1]:2===B?"one of ".concat(S," ").concat(O[0]," or ").concat(O[1]):"of ".concat(S," ").concat(O[0])}return"of ".concat(S," ").concat(String(O))}y("ERR_INVALID_OPT_VALUE",function(O,S){return'The value "'+S+'" is invalid for option "'+O+'"'},TypeError),y("ERR_INVALID_ARG_TYPE",function(O,S,B){var N,U;if("string"==typeof S&&function P(O,S,B){return O.substr(!B||B<0?0:+B,S.length)===S}(S,"not ")?(N="must not be",S=S.replace(/^not /,"")):N="must be",function H(O,S,B){return(void 0===B||B>O.length)&&(B=O.length),O.substring(B-S.length,B)===S}(O," argument"))U="The ".concat(O," ").concat(N," ").concat(b(S,"type"));else{var A=function w(O,S,B){return"number"!=typeof B&&(B=0),!(B+S.length>O.length)&&-1!==O.indexOf(S,B)}(O,".")?"property":"argument";U='The "'.concat(O,'" ').concat(A," ").concat(N," ").concat(b(S,"type"))}return U+". Received type ".concat(typeof B)},TypeError),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),y("ERR_METHOD_NOT_IMPLEMENTED",function(O){return"The "+O+" method is not implemented"}),y("ERR_STREAM_PREMATURE_CLOSE","Premature close"),y("ERR_STREAM_DESTROYED",function(O){return"Cannot call "+O+" after a stream was destroyed"}),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),y("ERR_STREAM_WRITE_AFTER_END","write after end"),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_UNKNOWN_ENCODING",function(O){return"Unknown encoding: "+O},TypeError),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),We.exports.F=_},74075:(We,j,_)=>{"use strict";var y=_(40573),b=Object.keys||function(A){var G=[];for(var L in A)G.push(L);return G};We.exports=B;var P=_(19609),H=_(47849);_(71993)(B,P);for(var w=b(H.prototype),O=0;O<w.length;O++){var S=w[O];B.prototype[S]||(B.prototype[S]=H.prototype[S])}function B(A){if(!(this instanceof B))return new B(A);P.call(this,A),H.call(this,A),this.allowHalfOpen=!0,A&&(!1===A.readable&&(this.readable=!1),!1===A.writable&&(this.writable=!1),!1===A.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",N)))}function N(){this._writableState.ended||y.nextTick(U,this)}function U(A){A.end()}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(G){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=G,this._writableState.destroyed=G)}})},18823:(We,j,_)=>{"use strict";We.exports=b;var y=_(2909);function b(P){if(!(this instanceof b))return new b(P);y.call(this,P)}_(71993)(b,y),b.prototype._transform=function(P,H,w){w(null,P)}},19609:(We,j,_)=>{"use strict";var b,y=_(40573);We.exports=a,a.ReadableState=C,_(44356);var A,H=function(me,te){return me.listeners(te).length},w=_(18342),O=_(83838).Buffer,S=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},U=_(79838);A=U&&U.debuglog?U.debuglog("stream"):function(){};var ae,fe,he,G=_(19588),L=_(21509),ee=_(42934).getHighWaterMark,q=_(26113).F,Z=q.ERR_INVALID_ARG_TYPE,J=q.ERR_STREAM_PUSH_AFTER_EOF,se=q.ERR_METHOD_NOT_IMPLEMENTED,ce=q.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;_(71993)(a,w);var we=L.errorOrDestroy,Me=["error","close","destroy","pause","resume"];function C(ge,me,te){b=b||_(74075),"boolean"!=typeof te&&(te=me instanceof b),this.objectMode=!!(ge=ge||{}).objectMode,te&&(this.objectMode=this.objectMode||!!ge.readableObjectMode),this.highWaterMark=ee(this,ge,"readableHighWaterMark",te),this.buffer=new G,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==ge.emitClose,this.autoDestroy=!!ge.autoDestroy,this.destroyed=!1,this.defaultEncoding=ge.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ge.encoding&&(ae||(ae=_(78454).StringDecoder),this.decoder=new ae(ge.encoding),this.encoding=ge.encoding)}function a(ge){if(b=b||_(74075),!(this instanceof a))return new a(ge);this._readableState=new C(ge,this,this instanceof b),this.readable=!0,ge&&("function"==typeof ge.read&&(this._read=ge.read),"function"==typeof ge.destroy&&(this._destroy=ge.destroy)),w.call(this)}function d(ge,me,te,ne,le){A("readableAddChunk",me);var Be,Ae=ge._readableState;if(null===me)Ae.reading=!1,function x(ge,me){if(A("onEofChunk"),!me.ended){if(me.decoder){var te=me.decoder.end();te&&te.length&&(me.buffer.push(te),me.length+=me.objectMode?1:te.length)}me.ended=!0,me.sync?s(ge):(me.needReadable=!1,me.emittedReadable||(me.emittedReadable=!0,v(ge)))}}(ge,Ae);else if(le||(Be=function p(ge,me){var te;return!function N(ge){return O.isBuffer(ge)||ge instanceof S}(me)&&"string"!=typeof me&&void 0!==me&&!ge.objectMode&&(te=new Z("chunk",["string","Buffer","Uint8Array"],me)),te}(Ae,me)),Be)we(ge,Be);else if(Ae.objectMode||me&&me.length>0)if("string"!=typeof me&&!Ae.objectMode&&Object.getPrototypeOf(me)!==O.prototype&&(me=function B(ge){return O.from(ge)}(me)),ne)Ae.endEmitted?we(ge,new ce):m(ge,Ae,me,!0);else if(Ae.ended)we(ge,new J);else{if(Ae.destroyed)return!1;Ae.reading=!1,Ae.decoder&&!te?(me=Ae.decoder.write(me),Ae.objectMode||0!==me.length?m(ge,Ae,me,!1):$(ge,Ae)):m(ge,Ae,me,!1)}else ne||(Ae.reading=!1,$(ge,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||0===Ae.length)}function m(ge,me,te,ne){me.flowing&&0===me.length&&!me.sync?(me.awaitDrain=0,ge.emit("data",te)):(me.length+=me.objectMode?1:te.length,ne?me.buffer.unshift(te):me.buffer.push(te),me.needReadable&&s(ge)),$(ge,me)}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(me){this._readableState&&(this._readableState.destroyed=me)}}),a.prototype.destroy=L.destroy,a.prototype._undestroy=L.undestroy,a.prototype._destroy=function(ge,me){me(ge)},a.prototype.push=function(ge,me){var ne,te=this._readableState;return te.objectMode?ne=!0:"string"==typeof ge&&((me=me||te.defaultEncoding)!==te.encoding&&(ge=O.from(ge,me),me=""),ne=!0),d(this,ge,me,!1,ne)},a.prototype.unshift=function(ge){return d(this,ge,null,!0,!1)},a.prototype.isPaused=function(){return!1===this._readableState.flowing},a.prototype.setEncoding=function(ge){ae||(ae=_(78454).StringDecoder);var me=new ae(ge);this._readableState.decoder=me,this._readableState.encoding=this._readableState.decoder.encoding;for(var te=this._readableState.buffer.head,ne="";null!==te;)ne+=me.write(te.data),te=te.next;return this._readableState.buffer.clear(),""!==ne&&this._readableState.buffer.push(ne),this._readableState.length=ne.length,this};var E=1073741824;function R(ge,me){return ge<=0||0===me.length&&me.ended?0:me.objectMode?1:ge!=ge?me.flowing&&me.length?me.buffer.head.data.length:me.length:(ge>me.highWaterMark&&(me.highWaterMark=function D(ge){return ge>=E?ge=E:(ge--,ge|=ge>>>1,ge|=ge>>>2,ge|=ge>>>4,ge|=ge>>>8,ge|=ge>>>16,ge++),ge}(ge)),ge<=me.length?ge:me.ended?me.length:(me.needReadable=!0,0))}function s(ge){var me=ge._readableState;A("emitReadable",me.needReadable,me.emittedReadable),me.needReadable=!1,me.emittedReadable||(A("emitReadable",me.flowing),me.emittedReadable=!0,y.nextTick(v,ge))}function v(ge){var me=ge._readableState;A("emitReadable_",me.destroyed,me.length,me.ended),!me.destroyed&&(me.length||me.ended)&&(ge.emit("readable"),me.emittedReadable=!1),me.needReadable=!me.flowing&&!me.ended&&me.length<=me.highWaterMark,Ee(ge)}function $(ge,me){me.readingMore||(me.readingMore=!0,y.nextTick(F,ge,me))}function F(ge,me){for(;!me.reading&&!me.ended&&(me.length<me.highWaterMark||me.flowing&&0===me.length);){var te=me.length;if(A("maybeReadMore read 0"),ge.read(0),te===me.length)break}me.readingMore=!1}function de(ge){var me=ge._readableState;me.readableListening=ge.listenerCount("readable")>0,me.resumeScheduled&&!me.paused?me.flowing=!0:ge.listenerCount("data")>0&&ge.resume()}function De(ge){A("readable nexttick read 0"),ge.read(0)}function Ve(ge,me){A("resume",me.reading),me.reading||ge.read(0),me.resumeScheduled=!1,ge.emit("resume"),Ee(ge),me.flowing&&!me.reading&&ge.read(0)}function Ee(ge){var me=ge._readableState;for(A("flow",me.flowing);me.flowing&&null!==ge.read(););}function _e(ge,me){return 0===me.length?null:(me.objectMode?te=me.buffer.shift():!ge||ge>=me.length?(te=me.decoder?me.buffer.join(""):1===me.buffer.length?me.buffer.first():me.buffer.concat(me.length),me.buffer.clear()):te=me.buffer.consume(ge,me.decoder),te);var te}function Fe(ge){var me=ge._readableState;A("endReadable",me.endEmitted),me.endEmitted||(me.ended=!0,y.nextTick(ve,me,ge))}function ve(ge,me){if(A("endReadableNT",ge.endEmitted,ge.length),!ge.endEmitted&&0===ge.length&&(ge.endEmitted=!0,me.readable=!1,me.emit("end"),ge.autoDestroy)){var te=me._writableState;(!te||te.autoDestroy&&te.finished)&&me.destroy()}}function Te(ge,me){for(var te=0,ne=ge.length;te<ne;te++)if(ge[te]===me)return te;return-1}a.prototype.read=function(ge){A("read",ge),ge=parseInt(ge,10);var me=this._readableState,te=ge;if(0!==ge&&(me.emittedReadable=!1),0===ge&&me.needReadable&&((0!==me.highWaterMark?me.length>=me.highWaterMark:me.length>0)||me.ended))return A("read: emitReadable",me.length,me.ended),0===me.length&&me.ended?Fe(this):s(this),null;if(0===(ge=R(ge,me))&&me.ended)return 0===me.length&&Fe(this),null;var le,ne=me.needReadable;return A("need readable",ne),(0===me.length||me.length-ge<me.highWaterMark)&&A("length less than watermark",ne=!0),me.ended||me.reading?A("reading or ended",ne=!1):ne&&(A("do read"),me.reading=!0,me.sync=!0,0===me.length&&(me.needReadable=!0),this._read(me.highWaterMark),me.sync=!1,me.reading||(ge=R(te,me))),null===(le=ge>0?_e(ge,me):null)?(me.needReadable=me.length<=me.highWaterMark,ge=0):(me.length-=ge,me.awaitDrain=0),0===me.length&&(me.ended||(me.needReadable=!0),te!==ge&&me.ended&&Fe(this)),null!==le&&this.emit("data",le),le},a.prototype._read=function(ge){we(this,new se("_read()"))},a.prototype.pipe=function(ge,me){var te=this,ne=this._readableState;switch(ne.pipesCount){case 0:ne.pipes=ge;break;case 1:ne.pipes=[ne.pipes,ge];break;default:ne.pipes.push(ge)}ne.pipesCount+=1,A("pipe count=%d opts=%j",ne.pipesCount,me);var Ae=me&&!1===me.end||ge===y.stdout||ge===y.stderr?M:qe;function qe(){A("onend"),ge.end()}ne.endEmitted?y.nextTick(Ae):te.once("end",Ae),ge.on("unpipe",function Be(Y,pe){A("onunpipe"),Y===te&&pe&&!1===pe.hasUnpiped&&(pe.hasUnpiped=!0,function Xe(){A("cleanup"),ge.removeListener("close",K),ge.removeListener("finish",T),ge.removeListener("drain",ze),ge.removeListener("error",mt),ge.removeListener("unpipe",Be),te.removeListener("end",qe),te.removeListener("end",M),te.removeListener("data",Ue),Dt=!0,ne.awaitDrain&&(!ge._writableState||ge._writableState.needDrain)&&ze()}())});var ze=function Q(ge){return function(){var te=ge._readableState;A("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,0===te.awaitDrain&&H(ge,"data")&&(te.flowing=!0,Ee(ge))}}(te);ge.on("drain",ze);var Dt=!1;function Ue(Y){A("ondata");var pe=ge.write(Y);A("dest.write",pe),!1===pe&&((1===ne.pipesCount&&ne.pipes===ge||ne.pipesCount>1&&-1!==Te(ne.pipes,ge))&&!Dt&&(A("false write response, pause",ne.awaitDrain),ne.awaitDrain++),te.pause())}function mt(Y){A("onerror",Y),M(),ge.removeListener("error",mt),0===H(ge,"error")&&we(ge,Y)}function K(){ge.removeListener("finish",T),M()}function T(){A("onfinish"),ge.removeListener("close",K),M()}function M(){A("unpipe"),te.unpipe(ge)}return te.on("data",Ue),function Pe(ge,me,te){if("function"==typeof ge.prependListener)return ge.prependListener(me,te);ge._events&&ge._events[me]?Array.isArray(ge._events[me])?ge._events[me].unshift(te):ge._events[me]=[te,ge._events[me]]:ge.on(me,te)}(ge,"error",mt),ge.once("close",K),ge.once("finish",T),ge.emit("pipe",te),ne.flowing||(A("pipe resume"),te.resume()),ge},a.prototype.unpipe=function(ge){var me=this._readableState,te={hasUnpiped:!1};if(0===me.pipesCount)return this;if(1===me.pipesCount)return ge&&ge!==me.pipes||(ge||(ge=me.pipes),me.pipes=null,me.pipesCount=0,me.flowing=!1,ge&&ge.emit("unpipe",this,te)),this;if(!ge){var ne=me.pipes,le=me.pipesCount;me.pipes=null,me.pipesCount=0,me.flowing=!1;for(var Ae=0;Ae<le;Ae++)ne[Ae].emit("unpipe",this,{hasUnpiped:!1});return this}var Be=Te(me.pipes,ge);return-1===Be||(me.pipes.splice(Be,1),me.pipesCount-=1,1===me.pipesCount&&(me.pipes=me.pipes[0]),ge.emit("unpipe",this,te)),this},a.prototype.addListener=a.prototype.on=function(ge,me){var te=w.prototype.on.call(this,ge,me),ne=this._readableState;return"data"===ge?(ne.readableListening=this.listenerCount("readable")>0,!1!==ne.flowing&&this.resume()):"readable"===ge&&!ne.endEmitted&&!ne.readableListening&&(ne.readableListening=ne.needReadable=!0,ne.flowing=!1,ne.emittedReadable=!1,A("on readable",ne.length,ne.reading),ne.length?s(this):ne.reading||y.nextTick(De,this)),te},a.prototype.removeListener=function(ge,me){var te=w.prototype.removeListener.call(this,ge,me);return"readable"===ge&&y.nextTick(de,this),te},a.prototype.removeAllListeners=function(ge){var me=w.prototype.removeAllListeners.apply(this,arguments);return("readable"===ge||void 0===ge)&&y.nextTick(de,this),me},a.prototype.resume=function(){var ge=this._readableState;return ge.flowing||(A("resume"),ge.flowing=!ge.readableListening,function Re(ge,me){me.resumeScheduled||(me.resumeScheduled=!0,y.nextTick(Ve,ge,me))}(this,ge)),ge.paused=!1,this},a.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},a.prototype.wrap=function(ge){var me=this,te=this._readableState,ne=!1;for(var le in ge.on("end",function(){if(A("wrapped end"),te.decoder&&!te.ended){var Be=te.decoder.end();Be&&Be.length&&me.push(Be)}me.push(null)}),ge.on("data",function(Be){A("wrapped data"),te.decoder&&(Be=te.decoder.write(Be)),te.objectMode&&null==Be||!(te.objectMode||Be&&Be.length)||me.push(Be)||(ne=!0,ge.pause())}),ge)void 0===this[le]&&"function"==typeof ge[le]&&(this[le]=function(qe){return function(){return ge[qe].apply(ge,arguments)}}(le));for(var Ae=0;Ae<Me.length;Ae++)ge.on(Me[Ae],this.emit.bind(this,Me[Ae]));return this._read=function(Be){A("wrapped _read",Be),ne&&(ne=!1,ge.resume())},this},"function"==typeof Symbol&&(a.prototype[Symbol.asyncIterator]=function(){return void 0===fe&&(fe=_(6320)),fe(this)}),Object.defineProperty(a.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(a.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(a.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(me){this._readableState&&(this._readableState.flowing=me)}}),a._fromList=_e,Object.defineProperty(a.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(a.from=function(ge,me){return void 0===he&&(he=_(87654)),he(a,ge,me)})},2909:(We,j,_)=>{"use strict";We.exports=B;var y=_(26113).F,b=y.ERR_METHOD_NOT_IMPLEMENTED,P=y.ERR_MULTIPLE_CALLBACK,H=y.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=y.ERR_TRANSFORM_WITH_LENGTH_0,O=_(74075);function S(A,G){var L=this._transformState;L.transforming=!1;var z=L.writecb;if(null===z)return this.emit("error",new P);L.writechunk=null,L.writecb=null,null!=G&&this.push(G),z(A);var ee=this._readableState;ee.reading=!1,(ee.needReadable||ee.length<ee.highWaterMark)&&this._read(ee.highWaterMark)}function B(A){if(!(this instanceof B))return new B(A);O.call(this,A),this._transformState={afterTransform:S.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,A&&("function"==typeof A.transform&&(this._transform=A.transform),"function"==typeof A.flush&&(this._flush=A.flush)),this.on("prefinish",N)}function N(){var A=this;"function"!=typeof this._flush||this._readableState.destroyed?U(this,null,null):this._flush(function(G,L){U(A,G,L)})}function U(A,G,L){if(G)return A.emit("error",G);if(null!=L&&A.push(L),A._writableState.length)throw new w;if(A._transformState.transforming)throw new H;return A.push(null)}_(71993)(B,O),B.prototype.push=function(A,G){return this._transformState.needTransform=!1,O.prototype.push.call(this,A,G)},B.prototype._transform=function(A,G,L){L(new b("_transform()"))},B.prototype._write=function(A,G,L){var z=this._transformState;if(z.writecb=L,z.writechunk=A,z.writeencoding=G,!z.transforming){var ee=this._readableState;(z.needTransform||ee.needReadable||ee.length<ee.highWaterMark)&&this._read(ee.highWaterMark)}},B.prototype._read=function(A){var G=this._transformState;null===G.writechunk||G.transforming?G.needTransform=!0:(G.transforming=!0,this._transform(G.writechunk,G.writeencoding,G.afterTransform))},B.prototype._destroy=function(A,G){O.prototype._destroy.call(this,A,function(L){G(L)})}},47849:(We,j,_)=>{"use strict";var H,y=_(40573);function P(Ee){var _e=this;this.next=null,this.entry=null,this.finish=function(){!function Ve(Ee,_e,Fe){var ve=Ee.entry;for(Ee.entry=null;ve;){var Te=ve.callback;_e.pendingcb--,Te(Fe),ve=ve.next}_e.corkedRequestsFree.next=Ee}(_e,Ee)}}We.exports=C,C.WritableState=Me;var Pe,w={deprecate:_(3398)},O=_(18342),S=_(83838).Buffer,B=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},A=_(21509),L=_(42934).getHighWaterMark,z=_(26113).F,ee=z.ERR_INVALID_ARG_TYPE,q=z.ERR_METHOD_NOT_IMPLEMENTED,Z=z.ERR_MULTIPLE_CALLBACK,J=z.ERR_STREAM_CANNOT_PIPE,se=z.ERR_STREAM_DESTROYED,ce=z.ERR_STREAM_NULL_VALUES,ae=z.ERR_STREAM_WRITE_AFTER_END,fe=z.ERR_UNKNOWN_ENCODING,he=A.errorOrDestroy;function we(){}function Me(Ee,_e,Fe){H=H||_(74075),"boolean"!=typeof Fe&&(Fe=_e instanceof H),this.objectMode=!!(Ee=Ee||{}).objectMode,Fe&&(this.objectMode=this.objectMode||!!Ee.writableObjectMode),this.highWaterMark=L(this,Ee,"writableHighWaterMark",Fe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ee.decodeStrings),this.defaultEncoding=Ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Te){!function x(Ee,_e){var Fe=Ee._writableState,ve=Fe.sync,Te=Fe.writecb;if("function"!=typeof Te)throw new Z;if(function R(Ee){Ee.writing=!1,Ee.writecb=null,Ee.length-=Ee.writelen,Ee.writelen=0}(Fe),_e)!function D(Ee,_e,Fe,ve,Te){--_e.pendingcb,Fe?(y.nextTick(Te,ve),y.nextTick(De,Ee,_e),Ee._writableState.errorEmitted=!0,he(Ee,ve)):(Te(ve),Ee._writableState.errorEmitted=!0,he(Ee,ve),De(Ee,_e))}(Ee,Fe,ve,_e,Te);else{var ge=F(Fe)||Ee.destroyed;!ge&&!Fe.corked&&!Fe.bufferProcessing&&Fe.bufferedRequest&&$(Ee,Fe),ve?y.nextTick(s,Ee,Fe,ge,Te):s(Ee,Fe,ge,Te)}}(_e,Te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ee.emitClose,this.autoDestroy=!!Ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new P(this)}function C(Ee){var _e=this instanceof(H=H||_(74075));if(!_e&&!Pe.call(C,this))return new C(Ee);this._writableState=new Me(Ee,this,_e),this.writable=!0,Ee&&("function"==typeof Ee.write&&(this._write=Ee.write),"function"==typeof Ee.writev&&(this._writev=Ee.writev),"function"==typeof Ee.destroy&&(this._destroy=Ee.destroy),"function"==typeof Ee.final&&(this._final=Ee.final)),O.call(this)}function E(Ee,_e,Fe,ve,Te,ge,me){_e.writelen=ve,_e.writecb=me,_e.writing=!0,_e.sync=!0,_e.destroyed?_e.onwrite(new se("write")):Fe?Ee._writev(Te,_e.onwrite):Ee._write(Te,ge,_e.onwrite),_e.sync=!1}function s(Ee,_e,Fe,ve){Fe||function v(Ee,_e){0===_e.length&&_e.needDrain&&(_e.needDrain=!1,Ee.emit("drain"))}(Ee,_e),_e.pendingcb--,ve(),De(Ee,_e)}function $(Ee,_e){_e.bufferProcessing=!0;var Fe=_e.bufferedRequest;if(Ee._writev&&Fe&&Fe.next){var Te=new Array(_e.bufferedRequestCount),ge=_e.corkedRequestsFree;ge.entry=Fe;for(var me=0,te=!0;Fe;)Te[me]=Fe,Fe.isBuf||(te=!1),Fe=Fe.next,me+=1;Te.allBuffers=te,E(Ee,_e,!0,_e.length,Te,"",ge.finish),_e.pendingcb++,_e.lastBufferedRequest=null,ge.next?(_e.corkedRequestsFree=ge.next,ge.next=null):_e.corkedRequestsFree=new P(_e),_e.bufferedRequestCount=0}else{for(;Fe;){var ne=Fe.chunk;if(E(Ee,_e,!1,_e.objectMode?1:ne.length,ne,Fe.encoding,Fe.callback),Fe=Fe.next,_e.bufferedRequestCount--,_e.writing)break}null===Fe&&(_e.lastBufferedRequest=null)}_e.bufferedRequest=Fe,_e.bufferProcessing=!1}function F(Ee){return Ee.ending&&0===Ee.length&&null===Ee.bufferedRequest&&!Ee.finished&&!Ee.writing}function Q(Ee,_e){Ee._final(function(Fe){_e.pendingcb--,Fe&&he(Ee,Fe),_e.prefinished=!0,Ee.emit("prefinish"),De(Ee,_e)})}function De(Ee,_e){var Fe=F(_e);if(Fe&&(function de(Ee,_e){!_e.prefinished&&!_e.finalCalled&&("function"!=typeof Ee._final||_e.destroyed?(_e.prefinished=!0,Ee.emit("prefinish")):(_e.pendingcb++,_e.finalCalled=!0,y.nextTick(Q,Ee,_e)))}(Ee,_e),0===_e.pendingcb&&(_e.finished=!0,Ee.emit("finish"),_e.autoDestroy))){var ve=Ee._readableState;(!ve||ve.autoDestroy&&ve.endEmitted)&&Ee.destroy()}return Fe}_(71993)(C,O),Me.prototype.getBuffer=function(){for(var _e=this.bufferedRequest,Fe=[];_e;)Fe.push(_e),_e=_e.next;return Fe},function(){try{Object.defineProperty(Me.prototype,"buffer",{get:w.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Pe=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(_e){return!!Pe.call(this,_e)||this===C&&_e&&_e._writableState instanceof Me}})):Pe=function(_e){return _e instanceof this},C.prototype.pipe=function(){he(this,new J)},C.prototype.write=function(Ee,_e,Fe){var ve=this._writableState,Te=!1,ge=!ve.objectMode&&function U(Ee){return S.isBuffer(Ee)||Ee instanceof B}(Ee);return ge&&!S.isBuffer(Ee)&&(Ee=function N(Ee){return S.from(Ee)}(Ee)),"function"==typeof _e&&(Fe=_e,_e=null),ge?_e="buffer":_e||(_e=ve.defaultEncoding),"function"!=typeof Fe&&(Fe=we),ve.ending?function a(Ee,_e){var Fe=new ae;he(Ee,Fe),y.nextTick(_e,Fe)}(this,Fe):(ge||function d(Ee,_e,Fe,ve){var Te;return null===Fe?Te=new ce:"string"!=typeof Fe&&!_e.objectMode&&(Te=new ee("chunk",["string","Buffer"],Fe)),!Te||(he(Ee,Te),y.nextTick(ve,Te),!1)}(this,ve,Ee,Fe))&&(ve.pendingcb++,Te=function p(Ee,_e,Fe,ve,Te,ge){if(!Fe){var me=function m(Ee,_e,Fe){return!Ee.objectMode&&!1!==Ee.decodeStrings&&"string"==typeof _e&&(_e=S.from(_e,Fe)),_e}(_e,ve,Te);ve!==me&&(Fe=!0,Te="buffer",ve=me)}var te=_e.objectMode?1:ve.length;_e.length+=te;var ne=_e.length<_e.highWaterMark;if(ne||(_e.needDrain=!0),_e.writing||_e.corked){var le=_e.lastBufferedRequest;_e.lastBufferedRequest={chunk:ve,encoding:Te,isBuf:Fe,callback:ge,next:null},le?le.next=_e.lastBufferedRequest:_e.bufferedRequest=_e.lastBufferedRequest,_e.bufferedRequestCount+=1}else E(Ee,_e,!1,te,ve,Te,ge);return ne}(this,ve,ge,Ee,_e,Fe)),Te},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var Ee=this._writableState;Ee.corked&&(Ee.corked--,!Ee.writing&&!Ee.corked&&!Ee.bufferProcessing&&Ee.bufferedRequest&&$(this,Ee))},C.prototype.setDefaultEncoding=function(_e){if("string"==typeof _e&&(_e=_e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_e+"").toLowerCase())>-1))throw new fe(_e);return this._writableState.defaultEncoding=_e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(Ee,_e,Fe){Fe(new q("_write()"))},C.prototype._writev=null,C.prototype.end=function(Ee,_e,Fe){var ve=this._writableState;return"function"==typeof Ee?(Fe=Ee,Ee=null,_e=null):"function"==typeof _e&&(Fe=_e,_e=null),null!=Ee&&this.write(Ee,_e),ve.corked&&(ve.corked=1,this.uncork()),ve.ending||function Re(Ee,_e,Fe){_e.ending=!0,De(Ee,_e),Fe&&(_e.finished?y.nextTick(Fe):Ee.once("finish",Fe)),_e.ended=!0,Ee.writable=!1}(this,ve,Fe),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(_e){this._writableState&&(this._writableState.destroyed=_e)}}),C.prototype.destroy=A.destroy,C.prototype._undestroy=A.undestroy,C.prototype._destroy=function(Ee,_e){_e(Ee)}},6320:(We,j,_)=>{"use strict";var b,y=_(40573);function P(ae,fe,he){return fe=function H(ae){var fe=function w(ae,fe){if("object"!=typeof ae||null===ae)return ae;var he=ae[Symbol.toPrimitive];if(void 0!==he){var we=he.call(ae,fe||"default");if("object"!=typeof we)return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===fe?String:Number)(ae)}(ae,"string");return"symbol"==typeof fe?fe:String(fe)}(fe),fe in ae?Object.defineProperty(ae,fe,{value:he,enumerable:!0,configurable:!0,writable:!0}):ae[fe]=he,ae}var O=_(33139),S=Symbol("lastResolve"),B=Symbol("lastReject"),N=Symbol("error"),U=Symbol("ended"),A=Symbol("lastPromise"),G=Symbol("handlePromise"),L=Symbol("stream");function z(ae,fe){return{value:ae,done:fe}}function ee(ae){var fe=ae[S];if(null!==fe){var he=ae[L].read();null!==he&&(ae[A]=null,ae[S]=null,ae[B]=null,fe(z(he,!1)))}}function q(ae){y.nextTick(ee,ae)}var J=Object.getPrototypeOf(function(){}),se=Object.setPrototypeOf((P(b={get stream(){return this[L]},next:function(){var fe=this,he=this[N];if(null!==he)return Promise.reject(he);if(this[U])return Promise.resolve(z(void 0,!0));if(this[L].destroyed)return new Promise(function(C,a){y.nextTick(function(){fe[N]?a(fe[N]):C(z(void 0,!0))})});var Me,we=this[A];if(we)Me=new Promise(function Z(ae,fe){return function(he,we){ae.then(function(){fe[U]?he(z(void 0,!0)):fe[G](he,we)},we)}}(we,this));else{var Pe=this[L].read();if(null!==Pe)return Promise.resolve(z(Pe,!1));Me=new Promise(this[G])}return this[A]=Me,Me}},Symbol.asyncIterator,function(){return this}),P(b,"return",function(){var fe=this;return new Promise(function(he,we){fe[L].destroy(null,function(Me){Me?we(Me):he(z(void 0,!0))})})}),b),J);We.exports=function(fe){var he,we=Object.create(se,(P(he={},L,{value:fe,writable:!0}),P(he,S,{value:null,writable:!0}),P(he,B,{value:null,writable:!0}),P(he,N,{value:null,writable:!0}),P(he,U,{value:fe._readableState.endEmitted,writable:!0}),P(he,G,{value:function(Pe,C){var a=we[L].read();a?(we[A]=null,we[S]=null,we[B]=null,Pe(z(a,!1))):(we[S]=Pe,we[B]=C)},writable:!0}),he));return we[A]=null,O(fe,function(Me){if(Me&&"ERR_STREAM_PREMATURE_CLOSE"!==Me.code){var Pe=we[B];return null!==Pe&&(we[A]=null,we[S]=null,we[B]=null,Pe(Me)),void(we[N]=Me)}var C=we[S];null!==C&&(we[A]=null,we[S]=null,we[B]=null,C(z(void 0,!0))),we[U]=!0}),fe.on("readable",q.bind(null,we)),we}},19588:(We,j,_)=>{"use strict";function y(ee,q){var Z=Object.keys(ee);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(ee);q&&(J=J.filter(function(se){return Object.getOwnPropertyDescriptor(ee,se).enumerable})),Z.push.apply(Z,J)}return Z}function b(ee){for(var q=1;q<arguments.length;q++){var Z=null!=arguments[q]?arguments[q]:{};q%2?y(Object(Z),!0).forEach(function(J){P(ee,J,Z[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Z)):y(Object(Z)).forEach(function(J){Object.defineProperty(ee,J,Object.getOwnPropertyDescriptor(Z,J))})}return ee}function P(ee,q,Z){return(q=S(q))in ee?Object.defineProperty(ee,q,{value:Z,enumerable:!0,configurable:!0,writable:!0}):ee[q]=Z,ee}function w(ee,q){for(var Z=0;Z<q.length;Z++){var J=q[Z];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(ee,S(J.key),J)}}function S(ee){var q=function B(ee,q){if("object"!=typeof ee||null===ee)return ee;var Z=ee[Symbol.toPrimitive];if(void 0!==Z){var J=Z.call(ee,q||"default");if("object"!=typeof J)return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===q?String:Number)(ee)}(ee,"string");return"symbol"==typeof q?q:String(q)}var U=_(83838).Buffer,G=_(15340).inspect,L=G&&G.custom||"inspect";function z(ee,q,Z){U.prototype.copy.call(ee,q,Z)}We.exports=function(){function ee(){(function H(ee,q){if(!(ee instanceof q))throw new TypeError("Cannot call a class as a function")})(this,ee),this.head=null,this.tail=null,this.length=0}return function O(ee,q,Z){q&&w(ee.prototype,q),Z&&w(ee,Z),Object.defineProperty(ee,"prototype",{writable:!1})}(ee,[{key:"push",value:function(Z){var J={data:Z,next:null};this.length>0?this.tail.next=J:this.head=J,this.tail=J,++this.length}},{key:"unshift",value:function(Z){var J={data:Z,next:this.head};0===this.length&&(this.tail=J),this.head=J,++this.length}},{key:"shift",value:function(){if(0!==this.length){var Z=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,Z}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Z){if(0===this.length)return"";for(var J=this.head,se=""+J.data;J=J.next;)se+=Z+J.data;return se}},{key:"concat",value:function(Z){if(0===this.length)return U.alloc(0);for(var J=U.allocUnsafe(Z>>>0),se=this.head,ce=0;se;)z(se.data,J,ce),ce+=se.data.length,se=se.next;return J}},{key:"consume",value:function(Z,J){var se;return Z<this.head.data.length?(se=this.head.data.slice(0,Z),this.head.data=this.head.data.slice(Z)):se=Z===this.head.data.length?this.shift():J?this._getString(Z):this._getBuffer(Z),se}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Z){var J=this.head,se=1,ce=J.data;for(Z-=ce.length;J=J.next;){var ae=J.data,fe=Z>ae.length?ae.length:Z;if(ce+=fe===ae.length?ae:ae.slice(0,Z),0==(Z-=fe)){fe===ae.length?(++se,this.head=J.next?J.next:this.tail=null):(this.head=J,J.data=ae.slice(fe));break}++se}return this.length-=se,ce}},{key:"_getBuffer",value:function(Z){var J=U.allocUnsafe(Z),se=this.head,ce=1;for(se.data.copy(J),Z-=se.data.length;se=se.next;){var ae=se.data,fe=Z>ae.length?ae.length:Z;if(ae.copy(J,J.length-Z,0,fe),0==(Z-=fe)){fe===ae.length?(++ce,this.head=se.next?se.next:this.tail=null):(this.head=se,se.data=ae.slice(fe));break}++ce}return this.length-=ce,J}},{key:L,value:function(Z,J){return G(this,b(b({},J),{},{depth:0,customInspect:!1}))}}]),ee}()},21509:(We,j,_)=>{"use strict";var y=_(40573);function P(B,N){O(B,N),H(B)}function H(B){B._writableState&&!B._writableState.emitClose||B._readableState&&!B._readableState.emitClose||B.emit("close")}function O(B,N){B.emit("error",N)}We.exports={destroy:function b(B,N){var U=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(N?N(B):B&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,y.nextTick(O,this,B)):y.nextTick(O,this,B)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(B||null,function(L){!N&&L?U._writableState?U._writableState.errorEmitted?y.nextTick(H,U):(U._writableState.errorEmitted=!0,y.nextTick(P,U,L)):y.nextTick(P,U,L):N?(y.nextTick(H,U),N(L)):y.nextTick(H,U)}),this)},undestroy:function w(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function S(B,N){var U=B._readableState,A=B._writableState;U&&U.autoDestroy||A&&A.autoDestroy?B.destroy(N):B.emit("error",N)}}},33139:(We,j,_)=>{"use strict";var y=_(26113).F.ERR_STREAM_PREMATURE_CLOSE;function P(){}We.exports=function w(O,S,B){if("function"==typeof S)return w(O,null,S);S||(S={}),B=function b(O){var S=!1;return function(){if(!S){S=!0;for(var B=arguments.length,N=new Array(B),U=0;U<B;U++)N[U]=arguments[U];O.apply(this,N)}}}(B||P);var N=S.readable||!1!==S.readable&&O.readable,U=S.writable||!1!==S.writable&&O.writable,A=function(){O.writable||L()},G=O._writableState&&O._writableState.finished,L=function(){U=!1,G=!0,N||B.call(O)},z=O._readableState&&O._readableState.endEmitted,ee=function(){N=!1,z=!0,U||B.call(O)},q=function(ce){B.call(O,ce)},Z=function(){var ce;return N&&!z?((!O._readableState||!O._readableState.ended)&&(ce=new y),B.call(O,ce)):U&&!G?((!O._writableState||!O._writableState.ended)&&(ce=new y),B.call(O,ce)):void 0},J=function(){O.req.on("finish",L)};return function H(O){return O.setHeader&&"function"==typeof O.abort}(O)?(O.on("complete",L),O.on("abort",Z),O.req?J():O.on("request",J)):U&&!O._writableState&&(O.on("end",A),O.on("close",A)),O.on("end",ee),O.on("finish",L),!1!==S.error&&O.on("error",q),O.on("close",Z),function(){O.removeListener("complete",L),O.removeListener("abort",Z),O.removeListener("request",J),O.req&&O.req.removeListener("finish",L),O.removeListener("end",A),O.removeListener("close",A),O.removeListener("finish",L),O.removeListener("end",ee),O.removeListener("error",q),O.removeListener("close",Z)}}},87654:We=>{We.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:(We,j,_)=>{"use strict";var y,P=_(26113).F,H=P.ERR_MISSING_ARGS,w=P.ERR_STREAM_DESTROYED;function O(L){if(L)throw L}function N(L){L()}function U(L,z){return L.pipe(z)}We.exports=function G(){for(var L=arguments.length,z=new Array(L),ee=0;ee<L;ee++)z[ee]=arguments[ee];var q=function A(L){return L.length&&"function"==typeof L[L.length-1]?L.pop():O}(z);if(Array.isArray(z[0])&&(z=z[0]),z.length<2)throw new H("streams");var Z,J=z.map(function(se,ce){var ae=ce<z.length-1;return function B(L,z,ee,q){q=function b(L){var z=!1;return function(){z||(z=!0,L.apply(void 0,arguments))}}(q);var Z=!1;L.on("close",function(){Z=!0}),void 0===y&&(y=_(33139)),y(L,{readable:z,writable:ee},function(se){if(se)return q(se);Z=!0,q()});var J=!1;return function(se){if(!Z&&!J){if(J=!0,function S(L){return L.setHeader&&"function"==typeof L.abort}(L))return L.abort();if("function"==typeof L.destroy)return L.destroy();q(se||new w("pipe"))}}}(se,ae,ce>0,function(he){Z||(Z=he),he&&J.forEach(N),!ae&&(J.forEach(N),q(Z))})});return z.reduce(U)}},42934:(We,j,_)=>{"use strict";var y=_(26113).F.ERR_INVALID_OPT_VALUE;We.exports={getHighWaterMark:function P(H,w,O,S){var B=function b(H,w,O){return null!=H.highWaterMark?H.highWaterMark:w?H[O]:null}(w,S,O);if(null!=B){if(!isFinite(B)||Math.floor(B)!==B||B<0)throw new y(S?O:"highWaterMark",B);return Math.floor(B)}return H.objectMode?16:16384}}},18342:(We,j,_)=>{We.exports=_(44356).EventEmitter},5942:(We,j,_)=>{(j=We.exports=_(19609)).Stream=j,j.Readable=j,j.Writable=_(47849),j.Duplex=_(74075),j.Transform=_(2909),j.PassThrough=_(18823),j.finished=_(33139),j.pipeline=_(96249)},85493:(We,j,_)=>{"use strict";var b=_(29293).default;j.s=void 0;const P=_(5942);j.s=class H extends P.Readable{constructor(O){super(),this.bytesRead=0,this.released=!1,this.reader=O.getReader()}_read(){var O=this;return b(function*(){if(O.released)return void O.push(null);O.pendingRead=O.reader.read();const S=yield O.pendingRead;delete O.pendingRead,S.done||O.released?O.push(null):(O.bytesRead+=S.value.length,O.push(S.value))})()}waitForReadToComplete(){var O=this;return b(function*(){O.pendingRead&&(yield O.pendingRead)})()}close(){var O=this;return b(function*(){yield O.syncAndRelease()})()}syncAndRelease(){var O=this;return b(function*(){O.released=!0,yield O.waitForReadToComplete(),yield O.reader.releaseLock()})()}}},36636:(We,j,_)=>{"use strict";var y=_(83838).Buffer,b=_(71993),P=_(13686),H=new Array(16),w=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],O=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],S=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],B=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],N=[0,1518500249,1859775393,2400959708,2840853838],U=[1352829926,1548603684,1836072691,2053994217,0];function A(){P.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function G(J,se){return J<<se|J>>>32-se}function L(J,se,ce,ae,fe,he,we,Me){return G(J+(se^ce^ae)+he+we|0,Me)+fe|0}function z(J,se,ce,ae,fe,he,we,Me){return G(J+(se&ce|~se&ae)+he+we|0,Me)+fe|0}function ee(J,se,ce,ae,fe,he,we,Me){return G(J+((se|~ce)^ae)+he+we|0,Me)+fe|0}function q(J,se,ce,ae,fe,he,we,Me){return G(J+(se&ae|ce&~ae)+he+we|0,Me)+fe|0}function Z(J,se,ce,ae,fe,he,we,Me){return G(J+(se^(ce|~ae))+he+we|0,Me)+fe|0}b(A,P),A.prototype._update=function(){for(var J=H,se=0;se<16;++se)J[se]=this._block.readInt32LE(4*se);for(var ce=0|this._a,ae=0|this._b,fe=0|this._c,he=0|this._d,we=0|this._e,Me=0|this._a,Pe=0|this._b,C=0|this._c,a=0|this._d,d=0|this._e,m=0;m<80;m+=1){var p,E;m<16?(p=L(ce,ae,fe,he,we,J[w[m]],N[0],S[m]),E=Z(Me,Pe,C,a,d,J[O[m]],U[0],B[m])):m<32?(p=z(ce,ae,fe,he,we,J[w[m]],N[1],S[m]),E=q(Me,Pe,C,a,d,J[O[m]],U[1],B[m])):m<48?(p=ee(ce,ae,fe,he,we,J[w[m]],N[2],S[m]),E=ee(Me,Pe,C,a,d,J[O[m]],U[2],B[m])):m<64?(p=q(ce,ae,fe,he,we,J[w[m]],N[3],S[m]),E=z(Me,Pe,C,a,d,J[O[m]],U[3],B[m])):(p=Z(ce,ae,fe,he,we,J[w[m]],N[4],S[m]),E=L(Me,Pe,C,a,d,J[O[m]],U[4],B[m])),ce=we,we=he,he=G(fe,10),fe=ae,ae=p,Me=d,d=a,a=G(C,10),C=Pe,Pe=E}var D=this._b+fe+a|0;this._b=this._c+he+d|0,this._c=this._d+we+Me|0,this._d=this._e+ce+Pe|0,this._e=this._a+ae+C|0,this._a=D},A.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var J=y.alloc?y.alloc(20):new y(20);return J.writeInt32LE(this._a,0),J.writeInt32LE(this._b,4),J.writeInt32LE(this._c,8),J.writeInt32LE(this._d,12),J.writeInt32LE(this._e,16),J},We.exports=A},81725:(We,j,_)=>{We.exports=function b(P,H,w){if("number"!=typeof H)throw new Error("second argument must be a Number");let O,S,B,N,U,G,A=!0;function L(ee){function q(){w&&w(ee,O),w=null}A?y(q):q()}function z(ee,q,Z){if(O[ee]=Z,q&&(U=!0),0==--B||q)L(q);else if(!U&&G<S){let J;N?(J=N[G],G+=1,P[J](function(se,ce){z(J,se,ce)})):(J=G,G+=1,P[J](function(se,ce){z(J,se,ce)}))}}Array.isArray(P)?(O=[],B=S=P.length):(N=Object.keys(P),O={},B=S=N.length),G=H,B?N?N.some(function(ee,q){return P[ee](function(Z,J){z(ee,Z,J)}),q===H-1}):P.some(function(ee,q){return ee(function(Z,J){z(q,Z,J)}),q===H-1}):L(null),A=!1};const y=_(24515)},84412:(We,j,_)=>{"use strict";_.d(j,{t:()=>b});var y=_(21413);class b extends y.B{constructor(H){super(),this._value=H}get value(){return this.getValue()}_subscribe(H){const w=super._subscribe(H);return!w.closed&&H.next(this._value),w}getValue(){const{hasError:H,thrownError:w,_value:O}=this;if(H)throw w;return this._throwIfClosed(),O}next(H){super.next(this._value=H)}}},71985:(We,j,_)=>{"use strict";_.d(j,{c:()=>B});var y=_(47707),b=_(18359),P=_(3494),H=_(71203),w=_(41026),O=_(98071),S=_(49786);let B=(()=>{class G{constructor(z){z&&(this._subscribe=z)}lift(z){const ee=new G;return ee.source=this,ee.operator=z,ee}subscribe(z,ee,q){const Z=function A(G){return G&&G instanceof y.vU||function U(G){return G&&(0,O.T)(G.next)&&(0,O.T)(G.error)&&(0,O.T)(G.complete)}(G)&&(0,b.Uv)(G)}(z)?z:new y.Ms(z,ee,q);return(0,S.Y)(()=>{const{operator:J,source:se}=this;Z.add(J?J.call(Z,se):se?this._subscribe(Z):this._trySubscribe(Z))}),Z}_trySubscribe(z){try{return this._subscribe(z)}catch(ee){z.error(ee)}}forEach(z,ee){return new(ee=N(ee))((q,Z)=>{const J=new y.Ms({next:se=>{try{z(se)}catch(ce){Z(ce),J.unsubscribe()}},error:Z,complete:q});this.subscribe(J)})}_subscribe(z){var ee;return null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(z)}[P.s](){return this}pipe(...z){return(0,H.m)(z)(this)}toPromise(z){return new(z=N(z))((ee,q)=>{let Z;this.subscribe(J=>Z=J,J=>q(J),()=>ee(Z))})}}return G.create=L=>new G(L),G})();function N(G){var L;return null!==(L=G??w.$.Promise)&&void 0!==L?L:Promise}},92771:(We,j,_)=>{"use strict";_.d(j,{m:()=>P});var y=_(21413),b=_(86129);class P extends y.B{constructor(w=1/0,O=1/0,S=b.U){super(),this._bufferSize=w,this._windowTime=O,this._timestampProvider=S,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=O===1/0,this._bufferSize=Math.max(1,w),this._windowTime=Math.max(1,O)}next(w){const{isStopped:O,_buffer:S,_infiniteTimeWindow:B,_timestampProvider:N,_windowTime:U}=this;O||(S.push(w),!B&&S.push(N.now()+U)),this._trimBuffer(),super.next(w)}_subscribe(w){this._throwIfClosed(),this._trimBuffer();const O=this._innerSubscribe(w),{_infiniteTimeWindow:S,_buffer:B}=this,N=B.slice();for(let U=0;U<N.length&&!w.closed;U+=S?1:2)w.next(N[U]);return this._checkFinalizedStatuses(w),O}_trimBuffer(){const{_bufferSize:w,_timestampProvider:O,_buffer:S,_infiniteTimeWindow:B}=this,N=(B?1:2)*w;if(w<1/0&&N<S.length&&S.splice(0,S.length-N),!B){const U=O.now();let A=0;for(let G=1;G<S.length&&S[G]<=U;G+=2)A=G;A&&S.splice(0,A+1)}}}},21413:(We,j,_)=>{"use strict";_.d(j,{B:()=>S});var y=_(71985),b=_(18359);const H=(0,_(81853).L)(N=>function(){N(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var w=_(57908),O=_(49786);let S=(()=>{class N extends y.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(A){const G=new B(this,this);return G.operator=A,G}_throwIfClosed(){if(this.closed)throw new H}next(A){(0,O.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const G of this.currentObservers)G.next(A)}})}error(A){(0,O.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=A;const{observers:G}=this;for(;G.length;)G.shift().error(A)}})}complete(){(0,O.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:A}=this;for(;A.length;)A.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var A;return(null===(A=this.observers)||void 0===A?void 0:A.length)>0}_trySubscribe(A){return this._throwIfClosed(),super._trySubscribe(A)}_subscribe(A){return this._throwIfClosed(),this._checkFinalizedStatuses(A),this._innerSubscribe(A)}_innerSubscribe(A){const{hasError:G,isStopped:L,observers:z}=this;return G||L?b.Kn:(this.currentObservers=null,z.push(A),new b.yU(()=>{this.currentObservers=null,(0,w.o)(z,A)}))}_checkFinalizedStatuses(A){const{hasError:G,thrownError:L,isStopped:z}=this;G?A.error(L):z&&A.complete()}asObservable(){const A=new y.c;return A.source=this,A}}return N.create=(U,A)=>new B(U,A),N})();class B extends S{constructor(U,A){super(),this.destination=U,this.source=A}next(U){var A,G;null===(G=null===(A=this.destination)||void 0===A?void 0:A.next)||void 0===G||G.call(A,U)}error(U){var A,G;null===(G=null===(A=this.destination)||void 0===A?void 0:A.error)||void 0===G||G.call(A,U)}complete(){var U,A;null===(A=null===(U=this.destination)||void 0===U?void 0:U.complete)||void 0===A||A.call(U)}_subscribe(U){var A,G;return null!==(G=null===(A=this.source)||void 0===A?void 0:A.subscribe(U))&&void 0!==G?G:b.Kn}}},47707:(We,j,_)=>{"use strict";_.d(j,{Ms:()=>q,vU:()=>G});var y=_(98071),b=_(18359),P=_(41026),H=_(45334),w=_(85343);const O=N("C",void 0,void 0);function N(ae,fe,he){return{kind:ae,value:fe,error:he}}var U=_(19270),A=_(49786);class G extends b.yU{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,b.Uv)(fe)&&fe.add(this)):this.destination=ce}static create(fe,he,we){return new q(fe,he,we)}next(fe){this.isStopped?se(function B(ae){return N("N",ae,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?se(function S(ae){return N("E",void 0,ae)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?se(O,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const L=Function.prototype.bind;function z(ae,fe){return L.call(ae,fe)}class ee{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:he}=this;if(he.next)try{he.next(fe)}catch(we){Z(we)}}error(fe){const{partialObserver:he}=this;if(he.error)try{he.error(fe)}catch(we){Z(we)}else Z(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(he){Z(he)}}}class q extends G{constructor(fe,he,we){let Me;if(super(),(0,y.T)(fe)||!fe)Me={next:fe??void 0,error:he??void 0,complete:we??void 0};else{let Pe;this&&P.$.useDeprecatedNextContext?(Pe=Object.create(fe),Pe.unsubscribe=()=>this.unsubscribe(),Me={next:fe.next&&z(fe.next,Pe),error:fe.error&&z(fe.error,Pe),complete:fe.complete&&z(fe.complete,Pe)}):Me=fe}this.destination=new ee(Me)}}function Z(ae){P.$.useDeprecatedSynchronousErrorHandling?(0,A.l)(ae):(0,H.m)(ae)}function se(ae,fe){const{onStoppedNotification:he}=P.$;he&&U.f.setTimeout(()=>he(ae,fe))}const ce={closed:!0,next:w.l,error:function J(ae){throw ae},complete:w.l}},18359:(We,j,_)=>{"use strict";_.d(j,{Kn:()=>O,yU:()=>w,Uv:()=>S});var y=_(98071);const P=(0,_(81853).L)(N=>function(A){N(this),this.message=A?`${A.length} errors occurred during unsubscription:\n${A.map((G,L)=>`${L+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=A});var H=_(57908);class w{constructor(U){this.initialTeardown=U,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let U;if(!this.closed){this.closed=!0;const{_parentage:A}=this;if(A)if(this._parentage=null,Array.isArray(A))for(const z of A)z.remove(this);else A.remove(this);const{initialTeardown:G}=this;if((0,y.T)(G))try{G()}catch(z){U=z instanceof P?z.errors:[z]}const{_finalizers:L}=this;if(L){this._finalizers=null;for(const z of L)try{B(z)}catch(ee){U=U??[],ee instanceof P?U=[...U,...ee.errors]:U.push(ee)}}if(U)throw new P(U)}}add(U){var A;if(U&&U!==this)if(this.closed)B(U);else{if(U instanceof w){if(U.closed||U._hasParent(this))return;U._addParent(this)}(this._finalizers=null!==(A=this._finalizers)&&void 0!==A?A:[]).push(U)}}_hasParent(U){const{_parentage:A}=this;return A===U||Array.isArray(A)&&A.includes(U)}_addParent(U){const{_parentage:A}=this;this._parentage=Array.isArray(A)?(A.push(U),A):A?[A,U]:U}_removeParent(U){const{_parentage:A}=this;A===U?this._parentage=null:Array.isArray(A)&&(0,H.o)(A,U)}remove(U){const{_finalizers:A}=this;A&&(0,H.o)(A,U),U instanceof w&&U._removeParent(this)}}w.EMPTY=(()=>{const N=new w;return N.closed=!0,N})();const O=w.EMPTY;function S(N){return N instanceof w||N&&"closed"in N&&(0,y.T)(N.remove)&&(0,y.T)(N.add)&&(0,y.T)(N.unsubscribe)}function B(N){(0,y.T)(N)?N():N.unsubscribe()}},41026:(We,j,_)=>{"use strict";_.d(j,{$:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(We,j,_)=>{"use strict";_.d(j,{G:()=>O});var y=_(71985),b=_(18359),P=_(99898),H=_(54360),w=_(39974);class O extends y.c{constructor(B,N){super(),this.source=B,this.subjectFactory=N,this._subject=null,this._refCount=0,this._connection=null,(0,w.S)(B)&&(this.lift=B.lift)}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:B}=this;this._subject=this._connection=null,B?.unsubscribe()}connect(){let B=this._connection;if(!B){B=this._connection=new b.yU;const N=this.getSubject();B.add(this.source.subscribe((0,H._)(N,void 0,()=>{this._teardown(),N.complete()},U=>{this._teardown(),N.error(U)},()=>this._teardown()))),B.closed&&(this._connection=null,B=b.yU.EMPTY)}return B}refCount(){return(0,P.B)()(this)}}},84572:(We,j,_)=>{"use strict";_.d(j,{z:()=>U});var y=_(71985),b=_(93073),P=_(86648),H=_(33669),w=_(6450),O=_(9326),S=_(58496),B=_(54360),N=_(45225);function U(...L){const z=(0,O.lI)(L),ee=(0,O.ms)(L),{args:q,keys:Z}=(0,b.D)(L);if(0===q.length)return(0,P.H)([],z);const J=new y.c(function A(L,z,ee=H.D){return q=>{G(z,()=>{const{length:Z}=L,J=new Array(Z);let se=Z,ce=Z;for(let ae=0;ae<Z;ae++)G(z,()=>{const fe=(0,P.H)(L[ae],z);let he=!1;fe.subscribe((0,B._)(q,we=>{J[ae]=we,he||(he=!0,ce--),ce||q.next(ee(J.slice()))},()=>{--se||q.complete()}))},q)},q)}}(q,z,Z?se=>(0,S.e)(Z,se):H.D));return ee?J.pipe((0,w.I)(ee)):J}function G(L,z,ee){L?(0,N.N)(ee,L,z):z()}},28793:(We,j,_)=>{"use strict";_.d(j,{x:()=>w});var y=_(26365),P=_(9326),H=_(86648);function w(...O){return function b(){return(0,y.U)(1)}()((0,H.H)(O,(0,P.lI)(O)))}},59030:(We,j,_)=>{"use strict";_.d(j,{v:()=>P});var y=_(71985),b=_(58750);function P(H){return new y.c(w=>{(0,b.Tg)(H()).subscribe(w)})}},983:(We,j,_)=>{"use strict";_.d(j,{w:()=>b});const b=new(_(71985).c)(w=>w.complete())},27468:(We,j,_)=>{"use strict";_.d(j,{p:()=>B});var y=_(71985),b=_(93073),P=_(58750),H=_(9326),w=_(54360),O=_(6450),S=_(58496);function B(...N){const U=(0,H.ms)(N),{args:A,keys:G}=(0,b.D)(N),L=new y.c(z=>{const{length:ee}=A;if(!ee)return void z.complete();const q=new Array(ee);let Z=ee,J=ee;for(let se=0;se<ee;se++){let ce=!1;(0,P.Tg)(A[se]).subscribe((0,w._)(z,ae=>{ce||(ce=!0,J--),q[se]=ae},()=>Z--,void 0,()=>{(!Z||!ce)&&(J||z.next(G?(0,S.e)(G,q):q),z.complete())}))}});return U?L.pipe((0,O.I)(U)):L}},86648:(We,j,_)=>{"use strict";_.d(j,{H:()=>we});var y=_(58750),b=_(45225),P=_(39974),H=_(54360);function w(Me,Pe=0){return(0,P.N)((C,a)=>{C.subscribe((0,H._)(a,d=>(0,b.N)(a,Me,()=>a.next(d),Pe),()=>(0,b.N)(a,Me,()=>a.complete(),Pe),d=>(0,b.N)(a,Me,()=>a.error(d),Pe)))})}function O(Me,Pe=0){return(0,P.N)((C,a)=>{a.add(Me.schedule(()=>C.subscribe(a),Pe))})}var N=_(71985),A=_(4761),G=_(98071);function z(Me,Pe){if(!Me)throw new Error("Iterable cannot be null");return new N.c(C=>{(0,b.N)(C,Pe,()=>{const a=Me[Symbol.asyncIterator]();(0,b.N)(C,Pe,()=>{a.next().then(d=>{d.done?C.complete():C.next(d.value)})},0,!0)})})}var ee=_(55055),q=_(59858),Z=_(47441),J=_(85397),se=_(37953),ce=_(50591),ae=_(15196);function we(Me,Pe){return Pe?function he(Me,Pe){if(null!=Me){if((0,ee.l)(Me))return function S(Me,Pe){return(0,y.Tg)(Me).pipe(O(Pe),w(Pe))}(Me,Pe);if((0,Z.X)(Me))return function U(Me,Pe){return new N.c(C=>{let a=0;return Pe.schedule(function(){a===Me.length?C.complete():(C.next(Me[a++]),C.closed||this.schedule())})})}(Me,Pe);if((0,q.y)(Me))return function B(Me,Pe){return(0,y.Tg)(Me).pipe(O(Pe),w(Pe))}(Me,Pe);if((0,se.T)(Me))return z(Me,Pe);if((0,J.x)(Me))return function L(Me,Pe){return new N.c(C=>{let a;return(0,b.N)(C,Pe,()=>{a=Me[A.l](),(0,b.N)(C,Pe,()=>{let d,m;try{({value:d,done:m}=a.next())}catch(p){return void C.error(p)}m?C.complete():C.next(d)},0,!0)}),()=>(0,G.T)(a?.return)&&a.return()})}(Me,Pe);if((0,ae.U)(Me))return function fe(Me,Pe){return z((0,ae.C)(Me),Pe)}(Me,Pe)}throw(0,ce.L)(Me)}(Me,Pe):(0,y.Tg)(Me)}},33726:(We,j,_)=>{"use strict";_.d(j,{R:()=>U});var y=_(58750),b=_(71985),P=_(31397),H=_(47441),w=_(98071),O=_(6450);const S=["addListener","removeListener"],B=["addEventListener","removeEventListener"],N=["on","off"];function U(ee,q,Z,J){if((0,w.T)(Z)&&(J=Z,Z=void 0),J)return U(ee,q,Z).pipe((0,O.I)(J));const[se,ce]=function z(ee){return(0,w.T)(ee.addEventListener)&&(0,w.T)(ee.removeEventListener)}(ee)?B.map(ae=>fe=>ee[ae](q,fe,Z)):function G(ee){return(0,w.T)(ee.addListener)&&(0,w.T)(ee.removeListener)}(ee)?S.map(A(ee,q)):function L(ee){return(0,w.T)(ee.on)&&(0,w.T)(ee.off)}(ee)?N.map(A(ee,q)):[];if(!se&&(0,H.X)(ee))return(0,P.Z)(ae=>U(ae,q,Z))((0,y.Tg)(ee));if(!se)throw new TypeError("Invalid event target");return new b.c(ae=>{const fe=(...he)=>ae.next(1<he.length?he:he[0]);return se(fe),()=>ce(fe)})}function A(ee,q){return Z=>J=>ee[Z](q,J)}},58750:(We,j,_)=>{"use strict";_.d(j,{Tg:()=>L});var y=_(31635),b=_(47441),P=_(59858),H=_(71985),w=_(55055),O=_(37953),S=_(50591),B=_(85397),N=_(15196),U=_(98071),A=_(45334),G=_(3494);function L(ae){if(ae instanceof H.c)return ae;if(null!=ae){if((0,w.l)(ae))return function z(ae){return new H.c(fe=>{const he=ae[G.s]();if((0,U.T)(he.subscribe))return he.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,b.X)(ae))return function ee(ae){return new H.c(fe=>{for(let he=0;he<ae.length&&!fe.closed;he++)fe.next(ae[he]);fe.complete()})}(ae);if((0,P.y)(ae))return function q(ae){return new H.c(fe=>{ae.then(he=>{fe.closed||(fe.next(he),fe.complete())},he=>fe.error(he)).then(null,A.m)})}(ae);if((0,O.T)(ae))return J(ae);if((0,B.x)(ae))return function Z(ae){return new H.c(fe=>{for(const he of ae)if(fe.next(he),fe.closed)return;fe.complete()})}(ae);if((0,N.U)(ae))return function se(ae){return J((0,N.C)(ae))}(ae)}throw(0,S.L)(ae)}function J(ae){return new H.c(fe=>{(function ce(ae,fe){var he,we,Me,Pe;return(0,y.sH)(this,void 0,void 0,function*(){try{for(he=(0,y.xN)(ae);!(we=yield he.next()).done;)if(fe.next(we.value),fe.closed)return}catch(C){Me={error:C}}finally{try{we&&!we.done&&(Pe=he.return)&&(yield Pe.call(he))}finally{if(Me)throw Me.error}}fe.complete()})})(ae,fe).catch(he=>fe.error(he))})}},40605:(We,j,_)=>{"use strict";_.d(j,{Y:()=>P});var y=_(43236),b=_(41584);function P(H=0,w=y.E){return H<0&&(H=0),(0,b.O)(H,H,w)}},57786:(We,j,_)=>{"use strict";_.d(j,{h:()=>O});var y=_(26365),b=_(58750),P=_(983),H=_(9326),w=_(86648);function O(...S){const B=(0,H.lI)(S),N=(0,H.R0)(S,1/0),U=S;return U.length?1===U.length?(0,b.Tg)(U[0]):(0,y.U)(N)((0,w.H)(U,B)):P.w}},7673:(We,j,_)=>{"use strict";_.d(j,{of:()=>P});var y=_(9326),b=_(86648);function P(...H){const w=(0,y.lI)(H);return(0,b.H)(H,w)}},18810:(We,j,_)=>{"use strict";_.d(j,{$:()=>P});var y=_(71985),b=_(98071);function P(H,w){const O=(0,b.T)(H)?H:()=>H,S=B=>B.error(O());return new y.c(w?B=>w.schedule(S,0,B):S)}},41584:(We,j,_)=>{"use strict";_.d(j,{O:()=>w});var y=_(71985),b=_(43236),P=_(79470);function w(O=0,S,B=b.b){let N=-1;return null!=S&&((0,P.m)(S)?B=S:N=S),new y.c(U=>{let A=function H(O){return O instanceof Date&&!isNaN(O)}(O)?+O-B.now():O;A<0&&(A=0);let G=0;return B.schedule(function(){U.closed||(U.next(G++),0<=N?this.schedule(void 0,N):U.complete())},A)})}},54360:(We,j,_)=>{"use strict";_.d(j,{_:()=>b});var y=_(47707);function b(H,w,O,S,B){return new P(H,w,O,S,B)}class P extends y.vU{constructor(w,O,S,B,N,U){super(w),this.onFinalize=N,this.shouldUnsubscribe=U,this._next=O?function(A){try{O(A)}catch(G){w.error(G)}}:super._next,this._error=B?function(A){try{B(A)}catch(G){w.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=S?function(){try{S()}catch(A){w.error(A)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var w;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:O}=this;super.unsubscribe(),!O&&(null===(w=this.onFinalize)||void 0===w||w.call(this))}}}},99437:(We,j,_)=>{"use strict";_.d(j,{W:()=>H});var y=_(58750),b=_(54360),P=_(39974);function H(w){return(0,P.N)((O,S)=>{let U,B=null,N=!1;B=O.subscribe((0,b._)(S,void 0,void 0,A=>{U=(0,y.Tg)(w(A,H(w)(O))),B?(B.unsubscribe(),B=null,U.subscribe(S)):N=!0})),N&&(B.unsubscribe(),B=null,U.subscribe(S))})}},70274:(We,j,_)=>{"use strict";_.d(j,{H:()=>P});var y=_(31397),b=_(98071);function P(H,w){return(0,b.T)(w)?(0,y.Z)(H,w,1):(0,y.Z)(H,1)}},70152:(We,j,_)=>{"use strict";_.d(j,{B:()=>H});var y=_(43236),b=_(39974),P=_(54360);function H(w,O=y.E){return(0,b.N)((S,B)=>{let N=null,U=null,A=null;const G=()=>{if(N){N.unsubscribe(),N=null;const z=U;U=null,B.next(z)}};function L(){const z=A+w,ee=O.now();if(ee<z)return N=this.schedule(void 0,z-ee),void B.add(N);G()}S.subscribe((0,P._)(B,z=>{U=z,A=O.now(),N||(N=O.schedule(L,w),B.add(N))},()=>{G(),B.complete()},void 0,()=>{U=N=null}))})}},91986:(We,j,_)=>{"use strict";_.d(j,{c:()=>L});var y=_(43236),b=_(28793),P=_(96697),H=_(39974),w=_(54360),O=_(85343),B=_(73703),N=_(31397),U=_(58750);function A(z,ee){return ee?q=>(0,b.x)(ee.pipe((0,P.s)(1),function S(){return(0,H.N)((z,ee)=>{z.subscribe((0,w._)(ee,O.l))})}()),q.pipe(A(z))):(0,N.Z)((q,Z)=>(0,U.Tg)(z(q,Z)).pipe((0,P.s)(1),(0,B.u)(q)))}var G=_(41584);function L(z,ee=y.E){const q=(0,G.O)(z,ee);return A(()=>q)}},23294:(We,j,_)=>{"use strict";_.d(j,{F:()=>H});var y=_(33669),b=_(39974),P=_(54360);function H(O,S=y.D){return O=O??w,(0,b.N)((B,N)=>{let U,A=!0;B.subscribe((0,P._)(N,G=>{const L=S(G);(A||!O(U,L))&&(A=!1,U=L,N.next(G))}))})}function w(O,S){return O===S}},5964:(We,j,_)=>{"use strict";_.d(j,{p:()=>P});var y=_(39974),b=_(54360);function P(H,w){return(0,y.N)((O,S)=>{let B=0;O.subscribe((0,b._)(S,N=>H.call(w,N,B++)&&S.next(N)))})}},70980:(We,j,_)=>{"use strict";_.d(j,{j:()=>b});var y=_(39974);function b(P){return(0,y.N)((H,w)=>{try{H.subscribe(w)}finally{w.add(P)}})}},96354:(We,j,_)=>{"use strict";_.d(j,{T:()=>P});var y=_(39974),b=_(54360);function P(H,w){return(0,y.N)((O,S)=>{let B=0;O.subscribe((0,b._)(S,N=>{S.next(H.call(w,N,B++))}))})}},73703:(We,j,_)=>{"use strict";_.d(j,{u:()=>b});var y=_(96354);function b(P){return(0,y.T)(()=>P)}},26365:(We,j,_)=>{"use strict";_.d(j,{U:()=>P});var y=_(31397),b=_(33669);function P(H=1/0){return(0,y.Z)(b.D,H)}},31397:(We,j,_)=>{"use strict";_.d(j,{Z:()=>B});var y=_(96354),b=_(58750),P=_(39974),H=_(45225),w=_(54360),S=_(98071);function B(N,U,A=1/0){return(0,S.T)(U)?B((G,L)=>(0,y.T)((z,ee)=>U(G,z,L,ee))((0,b.Tg)(N(G,L))),A):("number"==typeof U&&(A=U),(0,P.N)((G,L)=>function O(N,U,A,G,L,z,ee,q){const Z=[];let J=0,se=0,ce=!1;const ae=()=>{ce&&!Z.length&&!J&&U.complete()},fe=we=>J<G?he(we):Z.push(we),he=we=>{z&&U.next(we),J++;let Me=!1;(0,b.Tg)(A(we,se++)).subscribe((0,w._)(U,Pe=>{L?.(Pe),z?fe(Pe):U.next(Pe)},()=>{Me=!0},void 0,()=>{if(Me)try{for(J--;Z.length&&J<G;){const Pe=Z.shift();ee?(0,H.N)(U,ee,()=>he(Pe)):he(Pe)}ae()}catch(Pe){U.error(Pe)}}))};return N.subscribe((0,w._)(U,fe,()=>{ce=!0,ae()})),()=>{q?.()}}(G,L,N,A)))}},99898:(We,j,_)=>{"use strict";_.d(j,{B:()=>P});var y=_(39974),b=_(54360);function P(){return(0,y.N)((H,w)=>{let O=null;H._refCount++;const S=(0,b._)(w,void 0,void 0,void 0,()=>{if(!H||H._refCount<=0||0<--H._refCount)return void(O=null);const B=H._connection,N=O;O=null,B&&(!N||B===N)&&B.unsubscribe(),w.unsubscribe()});H.subscribe(S),S.closed||(O=H.connect())})}},97647:(We,j,_)=>{"use strict";_.d(j,{u:()=>w});var y=_(58750),b=_(21413),P=_(47707),H=_(39974);function w(S={}){const{connector:B=(()=>new b.B),resetOnError:N=!0,resetOnComplete:U=!0,resetOnRefCountZero:A=!0}=S;return G=>{let L,z,ee,q=0,Z=!1,J=!1;const se=()=>{z?.unsubscribe(),z=void 0},ce=()=>{se(),L=ee=void 0,Z=J=!1},ae=()=>{const fe=L;ce(),fe?.unsubscribe()};return(0,H.N)((fe,he)=>{q++,!J&&!Z&&se();const we=ee=ee??B();he.add(()=>{q--,0===q&&!J&&!Z&&(z=O(ae,A))}),we.subscribe(he),!L&&q>0&&(L=new P.Ms({next:Me=>we.next(Me),error:Me=>{J=!0,se(),z=O(ce,N,Me),we.error(Me)},complete:()=>{Z=!0,se(),z=O(ce,U),we.complete()}}),(0,y.Tg)(fe).subscribe(L))})(G)}}function O(S,B,...N){if(!0===B)return void S();if(!1===B)return;const U=new P.Ms({next:()=>{U.unsubscribe(),S()}});return(0,y.Tg)(B(...N)).subscribe(U)}},44668:(We,j,_)=>{"use strict";_.d(j,{t:()=>P});var y=_(92771),b=_(97647);function P(H,w,O){let S,B=!1;return H&&"object"==typeof H?({bufferSize:S=1/0,windowTime:w=1/0,refCount:B=!1,scheduler:O}=H):S=H??1/0,(0,b.u)({connector:()=>new y.m(S,w,O),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:B})}},65245:(We,j,_)=>{"use strict";_.d(j,{i:()=>b});var y=_(5964);function b(P){return(0,y.p)((H,w)=>P<=w)}},99172:(We,j,_)=>{"use strict";_.d(j,{Z:()=>H});var y=_(28793),b=_(9326),P=_(39974);function H(...w){const O=(0,b.lI)(w);return(0,P.N)((S,B)=>{(O?(0,y.x)(w,S,O):(0,y.x)(w,S)).subscribe(B)})}},25558:(We,j,_)=>{"use strict";_.d(j,{n:()=>H});var y=_(58750),b=_(39974),P=_(54360);function H(w,O){return(0,b.N)((S,B)=>{let N=null,U=0,A=!1;const G=()=>A&&!N&&B.complete();S.subscribe((0,P._)(B,L=>{N?.unsubscribe();let z=0;const ee=U++;(0,y.Tg)(w(L,ee)).subscribe(N=(0,P._)(B,q=>B.next(O?O(L,q,ee,z++):q),()=>{N=null,G()}))},()=>{A=!0,G()}))})}},96697:(We,j,_)=>{"use strict";_.d(j,{s:()=>H});var y=_(983),b=_(39974),P=_(54360);function H(w){return w<=0?()=>y.w:(0,b.N)((O,S)=>{let B=0;O.subscribe((0,P._)(S,N=>{++B<=w&&(S.next(N),w<=B&&S.complete())}))})}},56977:(We,j,_)=>{"use strict";_.d(j,{Q:()=>w});var y=_(39974),b=_(54360),P=_(58750),H=_(85343);function w(O){return(0,y.N)((S,B)=>{(0,P.Tg)(O).subscribe((0,b._)(B,()=>B.complete(),H.l)),!B.closed&&S.subscribe(B)})}},88141:(We,j,_)=>{"use strict";_.d(j,{M:()=>w});var y=_(98071),b=_(39974),P=_(54360),H=_(33669);function w(O,S,B){const N=(0,y.T)(O)||S||B?{next:O,error:S,complete:B}:O;return N?(0,b.N)((U,A)=>{var G;null===(G=N.subscribe)||void 0===G||G.call(N);let L=!0;U.subscribe((0,P._)(A,z=>{var ee;null===(ee=N.next)||void 0===ee||ee.call(N,z),A.next(z)},()=>{var z;L=!1,null===(z=N.complete)||void 0===z||z.call(N),A.complete()},z=>{var ee;L=!1,null===(ee=N.error)||void 0===ee||ee.call(N,z),A.error(z)},()=>{var z,ee;L&&(null===(z=N.unsubscribe)||void 0===z||z.call(N)),null===(ee=N.finalize)||void 0===ee||ee.call(N)}))}):H.D}},96780:(We,j,_)=>{"use strict";_.d(j,{R:()=>w});var y=_(18359);class b extends y.yU{constructor(S,B){super()}schedule(S,B=0){return this}}const P={setInterval(O,S,...B){const{delegate:N}=P;return N?.setInterval?N.setInterval(O,S,...B):setInterval(O,S,...B)},clearInterval(O){const{delegate:S}=P;return(S?.clearInterval||clearInterval)(O)},delegate:void 0};var H=_(57908);class w extends b{constructor(S,B){super(S,B),this.scheduler=S,this.work=B,this.pending=!1}schedule(S,B=0){var N;if(this.closed)return this;this.state=S;const U=this.id,A=this.scheduler;return null!=U&&(this.id=this.recycleAsyncId(A,U,B)),this.pending=!0,this.delay=B,this.id=null!==(N=this.id)&&void 0!==N?N:this.requestAsyncId(A,this.id,B),this}requestAsyncId(S,B,N=0){return P.setInterval(S.flush.bind(S,this),N)}recycleAsyncId(S,B,N=0){if(null!=N&&this.delay===N&&!1===this.pending)return B;null!=B&&P.clearInterval(B)}execute(S,B){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const N=this._execute(S,B);if(N)return N;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(S,B){let U,N=!1;try{this.work(S)}catch(A){N=!0,U=A||new Error("Scheduled action threw falsy error")}if(N)return this.unsubscribe(),U}unsubscribe(){if(!this.closed){const{id:S,scheduler:B}=this,{actions:N}=B;this.work=this.state=this.scheduler=null,this.pending=!1,(0,H.o)(N,this),null!=S&&(this.id=this.recycleAsyncId(B,S,null)),this.delay=null,super.unsubscribe()}}}},39687:(We,j,_)=>{"use strict";_.d(j,{q:()=>P});var y=_(86129);class b{constructor(w,O=b.now){this.schedulerActionCtor=w,this.now=O}schedule(w,O=0,S){return new this.schedulerActionCtor(this,w).schedule(S,O)}}b.now=y.U.now;class P extends b{constructor(w,O=b.now){super(w,O),this.actions=[],this._active=!1}flush(w){const{actions:O}=this;if(this._active)return void O.push(w);let S;this._active=!0;do{if(S=w.execute(w.state,w.delay))break}while(w=O.shift());if(this._active=!1,S){for(;w=O.shift();)w.unsubscribe();throw S}}}},30536:(We,j,_)=>{"use strict";_.d(j,{X:()=>S});var y=_(96780),b=_(18359);const P={schedule(N){let U=requestAnimationFrame,A=cancelAnimationFrame;const{delegate:G}=P;G&&(U=G.requestAnimationFrame,A=G.cancelAnimationFrame);const L=U(z=>{A=void 0,N(z)});return new b.yU(()=>A?.(L))},requestAnimationFrame(...N){const{delegate:U}=P;return(U?.requestAnimationFrame||requestAnimationFrame)(...N)},cancelAnimationFrame(...N){const{delegate:U}=P;return(U?.cancelAnimationFrame||cancelAnimationFrame)(...N)},delegate:void 0};var w=_(39687);const S=new class O extends w.q{flush(U){this._active=!0;const A=this._scheduled;this._scheduled=void 0;const{actions:G}=this;let L;U=U||G.shift();do{if(L=U.execute(U.state,U.delay))break}while((U=G[0])&&U.id===A&&G.shift());if(this._active=!1,L){for(;(U=G[0])&&U.id===A&&G.shift();)U.unsubscribe();throw L}}}(class H extends y.R{constructor(U,A){super(U,A),this.scheduler=U,this.work=A}requestAsyncId(U,A,G=0){return null!==G&&G>0?super.requestAsyncId(U,A,G):(U.actions.push(this),U._scheduled||(U._scheduled=P.requestAnimationFrame(()=>U.flush(void 0))))}recycleAsyncId(U,A,G=0){var L;if(null!=G?G>0:this.delay>0)return super.recycleAsyncId(U,A,G);const{actions:z}=U;null!=A&&(null===(L=z[z.length-1])||void 0===L?void 0:L.id)!==A&&(P.cancelAnimationFrame(A),U._scheduled=void 0)}})},25007:(We,j,_)=>{"use strict";_.d(j,{$:()=>z});var y=_(96780);let P,b=1;const H={};function w(q){return q in H&&(delete H[q],!0)}const O={setImmediate(q){const Z=b++;return H[Z]=!0,P||(P=Promise.resolve()),P.then(()=>w(Z)&&q()),Z},clearImmediate(q){w(q)}},{setImmediate:B,clearImmediate:N}=O,U={setImmediate(...q){const{delegate:Z}=U;return(Z?.setImmediate||B)(...q)},clearImmediate(q){const{delegate:Z}=U;return(Z?.clearImmediate||N)(q)},delegate:void 0};var G=_(39687);const z=new class L extends G.q{flush(Z){this._active=!0;const J=this._scheduled;this._scheduled=void 0;const{actions:se}=this;let ce;Z=Z||se.shift();do{if(ce=Z.execute(Z.state,Z.delay))break}while((Z=se[0])&&Z.id===J&&se.shift());if(this._active=!1,ce){for(;(Z=se[0])&&Z.id===J&&se.shift();)Z.unsubscribe();throw ce}}}(class A extends y.R{constructor(Z,J){super(Z,J),this.scheduler=Z,this.work=J}requestAsyncId(Z,J,se=0){return null!==se&&se>0?super.requestAsyncId(Z,J,se):(Z.actions.push(this),Z._scheduled||(Z._scheduled=U.setImmediate(Z.flush.bind(Z,void 0))))}recycleAsyncId(Z,J,se=0){var ce;if(null!=se?se>0:this.delay>0)return super.recycleAsyncId(Z,J,se);const{actions:ae}=Z;null!=J&&(null===(ce=ae[ae.length-1])||void 0===ce?void 0:ce.id)!==J&&(U.clearImmediate(J),Z._scheduled===J&&(Z._scheduled=void 0))}})},43236:(We,j,_)=>{"use strict";_.d(j,{E:()=>P,b:()=>H});var y=_(96780);const P=new(_(39687).q)(y.R),H=P},86129:(We,j,_)=>{"use strict";_.d(j,{U:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},19270:(We,j,_)=>{"use strict";_.d(j,{f:()=>y});const y={setTimeout(b,P,...H){const{delegate:w}=y;return w?.setTimeout?w.setTimeout(b,P,...H):setTimeout(b,P,...H)},clearTimeout(b){const{delegate:P}=y;return(P?.clearTimeout||clearTimeout)(b)},delegate:void 0}},4761:(We,j,_)=>{"use strict";_.d(j,{l:()=>b});const b=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(We,j,_)=>{"use strict";_.d(j,{s:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(We,j,_)=>{"use strict";_.d(j,{R0:()=>O,lI:()=>w,ms:()=>H});var y=_(98071),b=_(79470);function P(S){return S[S.length-1]}function H(S){return(0,y.T)(P(S))?S.pop():void 0}function w(S){return(0,b.m)(P(S))?S.pop():void 0}function O(S,B){return"number"==typeof P(S)?S.pop():B}},93073:(We,j,_)=>{"use strict";_.d(j,{D:()=>w});const{isArray:y}=Array,{getPrototypeOf:b,prototype:P,keys:H}=Object;function w(S){if(1===S.length){const B=S[0];if(y(B))return{args:B,keys:null};if(function O(S){return S&&"object"==typeof S&&b(S)===P}(B)){const N=H(B);return{args:N.map(U=>B[U]),keys:N}}}return{args:S,keys:null}}},57908:(We,j,_)=>{"use strict";function y(b,P){if(b){const H=b.indexOf(P);0<=H&&b.splice(H,1)}}_.d(j,{o:()=>y})},81853:(We,j,_)=>{"use strict";function y(b){const H=b(w=>{Error.call(w),w.stack=(new Error).stack});return H.prototype=Object.create(Error.prototype),H.prototype.constructor=H,H}_.d(j,{L:()=>y})},58496:(We,j,_)=>{"use strict";function y(b,P){return b.reduce((H,w,O)=>(H[w]=P[O],H),{})}_.d(j,{e:()=>y})},49786:(We,j,_)=>{"use strict";_.d(j,{Y:()=>P,l:()=>H});var y=_(41026);let b=null;function P(w){if(y.$.useDeprecatedSynchronousErrorHandling){const O=!b;if(O&&(b={errorThrown:!1,error:null}),w(),O){const{errorThrown:S,error:B}=b;if(b=null,S)throw B}}else w()}function H(w){y.$.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=w)}},45225:(We,j,_)=>{"use strict";function y(b,P,H,w=0,O=!1){const S=P.schedule(function(){H(),O?b.add(this.schedule(null,w)):this.unsubscribe()},w);if(b.add(S),!O)return S}_.d(j,{N:()=>y})},33669:(We,j,_)=>{"use strict";function y(b){return b}_.d(j,{D:()=>y})},47441:(We,j,_)=>{"use strict";_.d(j,{X:()=>y});const y=b=>b&&"number"==typeof b.length&&"function"!=typeof b},37953:(We,j,_)=>{"use strict";_.d(j,{T:()=>b});var y=_(98071);function b(P){return Symbol.asyncIterator&&(0,y.T)(P?.[Symbol.asyncIterator])}},98071:(We,j,_)=>{"use strict";function y(b){return"function"==typeof b}_.d(j,{T:()=>y})},55055:(We,j,_)=>{"use strict";_.d(j,{l:()=>P});var y=_(3494),b=_(98071);function P(H){return(0,b.T)(H[y.s])}},85397:(We,j,_)=>{"use strict";_.d(j,{x:()=>P});var y=_(4761),b=_(98071);function P(H){return(0,b.T)(H?.[y.l])}},74402:(We,j,_)=>{"use strict";_.d(j,{A:()=>P});var y=_(71985),b=_(98071);function P(H){return!!H&&(H instanceof y.c||(0,b.T)(H.lift)&&(0,b.T)(H.subscribe))}},59858:(We,j,_)=>{"use strict";_.d(j,{y:()=>b});var y=_(98071);function b(P){return(0,y.T)(P?.then)}},15196:(We,j,_)=>{"use strict";_.d(j,{C:()=>P,U:()=>H});var y=_(31635),b=_(98071);function P(w){return(0,y.AQ)(this,arguments,function*(){const S=w.getReader();try{for(;;){const{value:B,done:N}=yield(0,y.N3)(S.read());if(N)return yield(0,y.N3)(void 0);yield yield(0,y.N3)(B)}}finally{S.releaseLock()}})}function H(w){return(0,b.T)(w?.getReader)}},79470:(We,j,_)=>{"use strict";_.d(j,{m:()=>b});var y=_(98071);function b(P){return P&&(0,y.T)(P.schedule)}},39974:(We,j,_)=>{"use strict";_.d(j,{N:()=>P,S:()=>b});var y=_(98071);function b(H){return(0,y.T)(H?.lift)}function P(H){return w=>{if(b(w))return w.lift(function(O){try{return H(O,this)}catch(S){this.error(S)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(We,j,_)=>{"use strict";_.d(j,{I:()=>H});var y=_(96354);const{isArray:b}=Array;function H(w){return(0,y.T)(O=>function P(w,O){return b(O)?w(...O):w(O)}(w,O))}},85343:(We,j,_)=>{"use strict";function y(){}_.d(j,{l:()=>y})},71203:(We,j,_)=>{"use strict";_.d(j,{F:()=>b,m:()=>P});var y=_(33669);function b(...H){return P(H)}function P(H){return 0===H.length?y.D:1===H.length?H[0]:function(O){return H.reduce((S,B)=>B(S),O)}}},45334:(We,j,_)=>{"use strict";_.d(j,{m:()=>P});var y=_(41026),b=_(19270);function P(H){b.f.setTimeout(()=>{const{onUnhandledError:w}=y.$;if(!w)throw H;w(H)})}},50591:(We,j,_)=>{"use strict";function y(b){return new TypeError(`You provided ${null!==b&&"object"==typeof b?"an invalid object":`'${b}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}_.d(j,{L:()=>y})},27054:(We,j,_)=>{var y=_(83838),b=y.Buffer;function P(w,O){for(var S in w)O[S]=w[S]}function H(w,O,S){return b(w,O,S)}b.from&&b.alloc&&b.allocUnsafe&&b.allocUnsafeSlow?We.exports=y:(P(y,j),j.Buffer=H),H.prototype=Object.create(b.prototype),P(b,H),H.from=function(w,O,S){if("number"==typeof w)throw new TypeError("Argument must not be a number");return b(w,O,S)},H.alloc=function(w,O,S){if("number"!=typeof w)throw new TypeError("Argument must be a number");var B=b(w);return void 0!==O?"string"==typeof S?B.fill(O,S):B.fill(O):B.fill(0),B},H.allocUnsafe=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return b(w)},H.allocUnsafeSlow=function(w){if("number"!=typeof w)throw new TypeError("Argument must be a number");return y.SlowBuffer(w)}},70463:(We,j,_)=>{var y=_(27054).Buffer;function b(P,H){this._block=y.alloc(P),this._finalSize=H,this._blockSize=P,this._len=0}b.prototype.update=function(P,H){"string"==typeof P&&(P=y.from(P,H=H||"utf8"));for(var w=this._block,O=this._blockSize,S=P.length,B=this._len,N=0;N<S;){for(var U=B%O,A=Math.min(S-N,O-U),G=0;G<A;G++)w[U+G]=P[N+G];N+=A,(B+=A)%O==0&&this._update(w)}return this._len+=S,this},b.prototype.digest=function(P){var H=this._len%this._blockSize;this._block[H]=128,this._block.fill(0,H+1),H>=this._finalSize&&(this._update(this._block),this._block.fill(0));var w=8*this._len;if(w<=4294967295)this._block.writeUInt32BE(w,this._blockSize-4);else{var O=(4294967295&w)>>>0;this._block.writeUInt32BE((w-O)/4294967296,this._blockSize-8),this._block.writeUInt32BE(O,this._blockSize-4)}this._update(this._block);var B=this._hash();return P?B.toString(P):B},b.prototype._update=function(){throw new Error("_update must be implemented by subclass")},We.exports=b},25443:(We,j,_)=>{var y=We.exports=function(P){P=P.toLowerCase();var H=y[P];if(!H)throw new Error(P+" is not supported (we accept pull requests)");return new H};y.sha=_(48585),y.sha1=_(21270),y.sha224=_(42709),y.sha256=_(32148),y.sha384=_(51856),y.sha512=_(3121)},48585:(We,j,_)=>{var y=_(71993),b=_(70463),P=_(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],w=new Array(80);function O(){this.init(),this._w=w,b.call(this,64,56)}function S(U){return U<<5|U>>>27}function B(U){return U<<30|U>>>2}function N(U,A,G,L){return 0===U?A&G|~A&L:2===U?A&G|A&L|G&L:A^G^L}y(O,b),O.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},O.prototype._update=function(U){for(var A=this._w,G=0|this._a,L=0|this._b,z=0|this._c,ee=0|this._d,q=0|this._e,Z=0;Z<16;++Z)A[Z]=U.readInt32BE(4*Z);for(;Z<80;++Z)A[Z]=A[Z-3]^A[Z-8]^A[Z-14]^A[Z-16];for(var J=0;J<80;++J){var se=~~(J/20),ce=S(G)+N(se,L,z,ee)+q+A[J]+H[se]|0;q=ee,ee=z,z=B(L),L=G,G=ce}this._a=G+this._a|0,this._b=L+this._b|0,this._c=z+this._c|0,this._d=ee+this._d|0,this._e=q+this._e|0},O.prototype._hash=function(){var U=P.allocUnsafe(20);return U.writeInt32BE(0|this._a,0),U.writeInt32BE(0|this._b,4),U.writeInt32BE(0|this._c,8),U.writeInt32BE(0|this._d,12),U.writeInt32BE(0|this._e,16),U},We.exports=O},21270:(We,j,_)=>{var y=_(71993),b=_(70463),P=_(27054).Buffer,H=[1518500249,1859775393,-1894007588,-899497514],w=new Array(80);function O(){this.init(),this._w=w,b.call(this,64,56)}function S(A){return A<<1|A>>>31}function B(A){return A<<5|A>>>27}function N(A){return A<<30|A>>>2}function U(A,G,L,z){return 0===A?G&L|~G&z:2===A?G&L|G&z|L&z:G^L^z}y(O,b),O.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},O.prototype._update=function(A){for(var G=this._w,L=0|this._a,z=0|this._b,ee=0|this._c,q=0|this._d,Z=0|this._e,J=0;J<16;++J)G[J]=A.readInt32BE(4*J);for(;J<80;++J)G[J]=S(G[J-3]^G[J-8]^G[J-14]^G[J-16]);for(var se=0;se<80;++se){var ce=~~(se/20),ae=B(L)+U(ce,z,ee,q)+Z+G[se]+H[ce]|0;Z=q,q=ee,ee=N(z),z=L,L=ae}this._a=L+this._a|0,this._b=z+this._b|0,this._c=ee+this._c|0,this._d=q+this._d|0,this._e=Z+this._e|0},O.prototype._hash=function(){var A=P.allocUnsafe(20);return A.writeInt32BE(0|this._a,0),A.writeInt32BE(0|this._b,4),A.writeInt32BE(0|this._c,8),A.writeInt32BE(0|this._d,12),A.writeInt32BE(0|this._e,16),A},We.exports=O},42709:(We,j,_)=>{var y=_(71993),b=_(32148),P=_(70463),H=_(27054).Buffer,w=new Array(64);function O(){this.init(),this._w=w,P.call(this,64,56)}y(O,b),O.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},O.prototype._hash=function(){var S=H.allocUnsafe(28);return S.writeInt32BE(this._a,0),S.writeInt32BE(this._b,4),S.writeInt32BE(this._c,8),S.writeInt32BE(this._d,12),S.writeInt32BE(this._e,16),S.writeInt32BE(this._f,20),S.writeInt32BE(this._g,24),S},We.exports=O},32148:(We,j,_)=>{var y=_(71993),b=_(70463),P=_(27054).Buffer,H=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],w=new Array(64);function O(){this.init(),this._w=w,b.call(this,64,56)}function S(L,z,ee){return ee^L&(z^ee)}function B(L,z,ee){return L&z|ee&(L|z)}function N(L){return(L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10)}function U(L){return(L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7)}function A(L){return(L>>>7|L<<25)^(L>>>18|L<<14)^L>>>3}function G(L){return(L>>>17|L<<15)^(L>>>19|L<<13)^L>>>10}y(O,b),O.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},O.prototype._update=function(L){for(var z=this._w,ee=0|this._a,q=0|this._b,Z=0|this._c,J=0|this._d,se=0|this._e,ce=0|this._f,ae=0|this._g,fe=0|this._h,he=0;he<16;++he)z[he]=L.readInt32BE(4*he);for(;he<64;++he)z[he]=G(z[he-2])+z[he-7]+A(z[he-15])+z[he-16]|0;for(var we=0;we<64;++we){var Me=fe+U(se)+S(se,ce,ae)+H[we]+z[we]|0,Pe=N(ee)+B(ee,q,Z)|0;fe=ae,ae=ce,ce=se,se=J+Me|0,J=Z,Z=q,q=ee,ee=Me+Pe|0}this._a=ee+this._a|0,this._b=q+this._b|0,this._c=Z+this._c|0,this._d=J+this._d|0,this._e=se+this._e|0,this._f=ce+this._f|0,this._g=ae+this._g|0,this._h=fe+this._h|0},O.prototype._hash=function(){var L=P.allocUnsafe(32);return L.writeInt32BE(this._a,0),L.writeInt32BE(this._b,4),L.writeInt32BE(this._c,8),L.writeInt32BE(this._d,12),L.writeInt32BE(this._e,16),L.writeInt32BE(this._f,20),L.writeInt32BE(this._g,24),L.writeInt32BE(this._h,28),L},We.exports=O},51856:(We,j,_)=>{var y=_(71993),b=_(3121),P=_(70463),H=_(27054).Buffer,w=new Array(160);function O(){this.init(),this._w=w,P.call(this,128,112)}y(O,b),O.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},O.prototype._hash=function(){var S=H.allocUnsafe(48);function B(N,U,A){S.writeInt32BE(N,A),S.writeInt32BE(U,A+4)}return B(this._ah,this._al,0),B(this._bh,this._bl,8),B(this._ch,this._cl,16),B(this._dh,this._dl,24),B(this._eh,this._el,32),B(this._fh,this._fl,40),S},We.exports=O},3121:(We,j,_)=>{var y=_(71993),b=_(70463),P=_(27054).Buffer,H=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],w=new Array(160);function O(){this.init(),this._w=w,b.call(this,128,112)}function S(q,Z,J){return J^q&(Z^J)}function B(q,Z,J){return q&Z|J&(q|Z)}function N(q,Z){return(q>>>28|Z<<4)^(Z>>>2|q<<30)^(Z>>>7|q<<25)}function U(q,Z){return(q>>>14|Z<<18)^(q>>>18|Z<<14)^(Z>>>9|q<<23)}function A(q,Z){return(q>>>1|Z<<31)^(q>>>8|Z<<24)^q>>>7}function G(q,Z){return(q>>>1|Z<<31)^(q>>>8|Z<<24)^(q>>>7|Z<<25)}function L(q,Z){return(q>>>19|Z<<13)^(Z>>>29|q<<3)^q>>>6}function z(q,Z){return(q>>>19|Z<<13)^(Z>>>29|q<<3)^(q>>>6|Z<<26)}function ee(q,Z){return q>>>0<Z>>>0?1:0}y(O,b),O.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},O.prototype._update=function(q){for(var Z=this._w,J=0|this._ah,se=0|this._bh,ce=0|this._ch,ae=0|this._dh,fe=0|this._eh,he=0|this._fh,we=0|this._gh,Me=0|this._hh,Pe=0|this._al,C=0|this._bl,a=0|this._cl,d=0|this._dl,m=0|this._el,p=0|this._fl,E=0|this._gl,D=0|this._hl,R=0;R<32;R+=2)Z[R]=q.readInt32BE(4*R),Z[R+1]=q.readInt32BE(4*R+4);for(;R<160;R+=2){var x=Z[R-30],s=Z[R-30+1],v=A(x,s),$=G(s,x),F=L(x=Z[R-4],s=Z[R-4+1]),Q=z(s,x),Re=Z[R-32],Ve=Z[R-32+1],Ee=$+Z[R-14+1]|0,_e=v+Z[R-14]+ee(Ee,$)|0;_e=(_e=_e+F+ee(Ee=Ee+Q|0,Q)|0)+Re+ee(Ee=Ee+Ve|0,Ve)|0,Z[R]=_e,Z[R+1]=Ee}for(var Fe=0;Fe<160;Fe+=2){_e=Z[Fe],Ee=Z[Fe+1];var ve=B(J,se,ce),Te=B(Pe,C,a),ge=N(J,Pe),me=N(Pe,J),te=U(fe,m),ne=U(m,fe),le=H[Fe],Ae=H[Fe+1],Be=S(fe,he,we),qe=S(m,p,E),ze=D+ne|0,Dt=Me+te+ee(ze,D)|0;Dt=(Dt=(Dt=Dt+Be+ee(ze=ze+qe|0,qe)|0)+le+ee(ze=ze+Ae|0,Ae)|0)+_e+ee(ze=ze+Ee|0,Ee)|0;var Xe=me+Te|0,Ue=ge+ve+ee(Xe,me)|0;Me=we,D=E,we=he,E=p,he=fe,p=m,fe=ae+Dt+ee(m=d+ze|0,d)|0,ae=ce,d=a,ce=se,a=C,se=J,C=Pe,J=Dt+Ue+ee(Pe=ze+Xe|0,ze)|0}this._al=this._al+Pe|0,this._bl=this._bl+C|0,this._cl=this._cl+a|0,this._dl=this._dl+d|0,this._el=this._el+m|0,this._fl=this._fl+p|0,this._gl=this._gl+E|0,this._hl=this._hl+D|0,this._ah=this._ah+J+ee(this._al,Pe)|0,this._bh=this._bh+se+ee(this._bl,C)|0,this._ch=this._ch+ce+ee(this._cl,a)|0,this._dh=this._dh+ae+ee(this._dl,d)|0,this._eh=this._eh+fe+ee(this._el,m)|0,this._fh=this._fh+he+ee(this._fl,p)|0,this._gh=this._gh+we+ee(this._gl,E)|0,this._hh=this._hh+Me+ee(this._hl,D)|0},O.prototype._hash=function(){var q=P.allocUnsafe(64);function Z(J,se,ce){q.writeInt32BE(J,ce),q.writeInt32BE(se,ce+4)}return Z(this._ah,this._al,0),Z(this._bh,this._bl,8),Z(this._ch,this._cl,16),Z(this._dh,this._dl,24),Z(this._eh,this._el,32),Z(this._fh,this._fl,40),Z(this._gh,this._gl,48),Z(this._hh,this._hl,56),q},We.exports=O},18876:We=>{"use strict";function _(H,w){return H+y(w)}function y(H){let w=H;return w-=w>>1&1431655765,w=(858993459&w)+(w>>2&858993459),16843009*(w+(w>>4)&252645135)>>24}function b(H,w){return H[0]-w[0]}function P(H){return H[1]}We.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(w,O){let S=this._internalPositionFor(w,!1);if(void 0===O)-1!==S&&(this._unsetInternalPos(S),this._unsetBit(w),this._changedLength=!0,this._changedData=!0);else{let B=!1;-1===S?(S=this._data.length,this._setBit(w),this._changedData=!0):B=!0,this._setInternalPos(S,w,O,B),this._changedLength=!0}}unset(w){this.set(w,void 0)}get(w){this._sortData();const O=this._internalPositionFor(w,!0);if(-1!==O)return this._data[O][1]}push(w){return this.set(this.length,w),this.length}get length(){if(this._sortData(),this._changedLength){const w=this._data[this._data.length-1];this._length=w?w[0]+1:0,this._changedLength=!1}return this._length}forEach(w){let O=0;for(;O<this.length;)w(this.get(O),O,this),O++}map(w){let O=0,S=new Array(this.length);for(;O<this.length;)S[O]=w(this.get(O),O,this),O++;return S}reduce(w,O){let S=0,B=O;for(;S<this.length;)B=w(B,this.get(S),S),S++;return B}find(w){let S,B,O=0;for(;O<this.length&&!S;)B=this.get(O),S=w(B),O++;return S?B:void 0}_internalPositionFor(w,O){const S=this._bytePosFor(w,O);if(S>=this._bitArrays.length)return-1;const B=this._bitArrays[S],N=w-7*S;return(B&1<<N)>0?this._bitArrays.slice(0,S).reduce(_,0)+y(B&~(4294967295<<N+1))-1:-1}_bytePosFor(w,O){const S=Math.floor(w/7),B=S+1;for(;!O&&this._bitArrays.length<B;)this._bitArrays.push(0);return S}_setBit(w){const O=this._bytePosFor(w,!1);this._bitArrays[O]|=1<<w-7*O}_unsetBit(w){const O=this._bytePosFor(w,!1);this._bitArrays[O]&=~(1<<w-7*O)}_setInternalPos(w,O,S,B){const N=this._data,U=[O,S];if(B)this._sortData(),N[w]=U;else{if(N.length)if(N[N.length-1][0]>=O)N.push(U);else if(N[0][0]<=O)N.unshift(U);else{const A=Math.round(N.length/2);this._data=N.slice(0,A).concat(U).concat(N.slice(A))}else this._data.push(U);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(w){this._data.splice(w,1)}_sortData(){this._changedData&&this._data.sort(b),this._changedData=!1}bitField(){const w=[];let N,O=8,S=0,B=0;const U=this._bitArrays.slice();for(;U.length||S;){0===S&&(N=U.shift(),S=7);const G=Math.min(S,O);B|=(N&~(255<<G))<<8-O,N>>>=G,S-=G,O-=G,(!O||!S&&!U.length)&&(w.push(B),B=0,O=8)}for(var A=w.length-1;A>0&&0===w[A];A--)w.pop();return w}compactArray(){return this._sortData(),this._data.map(P)}}},7045:(We,j,_)=>{We.exports=P;var y=_(44356).EventEmitter;function P(){y.call(this)}_(71993)(P,y),P.Readable=_(19609),P.Writable=_(47849),P.Duplex=_(74075),P.Transform=_(2909),P.PassThrough=_(18823),P.finished=_(33139),P.pipeline=_(96249),P.Stream=P,P.prototype.pipe=function(H,w){var O=this;function S(z){H.writable&&!1===H.write(z)&&O.pause&&O.pause()}function B(){O.readable&&O.resume&&O.resume()}O.on("data",S),H.on("drain",B),!H._isStdio&&(!w||!1!==w.end)&&(O.on("end",U),O.on("close",A));var N=!1;function U(){N||(N=!0,H.end())}function A(){N||(N=!0,"function"==typeof H.destroy&&H.destroy())}function G(z){if(L(),0===y.listenerCount(this,"error"))throw z}function L(){O.removeListener("data",S),H.removeListener("drain",B),O.removeListener("end",U),O.removeListener("close",A),O.removeListener("error",G),H.removeListener("error",G),O.removeListener("end",L),O.removeListener("close",L),H.removeListener("close",L)}return O.on("error",G),H.on("error",G),O.on("end",L),O.on("close",L),H.on("close",L),H.emit("pipe",O),H}},78454:(We,j,_)=>{"use strict";var y=_(27054).Buffer,b=y.isEncoding||function(J){switch((J=""+J)&&J.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function w(J){var se;switch(this.encoding=function H(J){var se=function P(J){if(!J)return"utf8";for(var se;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(se)return;J=(""+J).toLowerCase(),se=!0}}(J);if("string"!=typeof se&&(y.isEncoding===b||!b(J)))throw new Error("Unknown encoding: "+J);return se||J}(J),this.encoding){case"utf16le":this.text=G,this.end=L,se=4;break;case"utf8":this.fillLast=N,se=4;break;case"base64":this.text=z,this.end=ee,se=3;break;default:return this.write=q,void(this.end=Z)}this.lastNeed=0,this.lastTotal=0,this.lastChar=y.allocUnsafe(se)}function O(J){return J<=127?0:J>>5==6?2:J>>4==14?3:J>>3==30?4:J>>6==2?-1:-2}function N(J){var se=this.lastTotal-this.lastNeed,ce=function B(J,se,ce){if(128!=(192&se[0]))return J.lastNeed=0,"\ufffd";if(J.lastNeed>1&&se.length>1){if(128!=(192&se[1]))return J.lastNeed=1,"\ufffd";if(J.lastNeed>2&&se.length>2&&128!=(192&se[2]))return J.lastNeed=2,"\ufffd"}}(this,J);return void 0!==ce?ce:this.lastNeed<=J.length?(J.copy(this.lastChar,se,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(J.copy(this.lastChar,se,0,J.length),void(this.lastNeed-=J.length))}function G(J,se){if((J.length-se)%2==0){var ce=J.toString("utf16le",se);if(ce){var ae=ce.charCodeAt(ce.length-1);if(ae>=55296&&ae<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1],ce.slice(0,-1)}return ce}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=J[J.length-1],J.toString("utf16le",se,J.length-1)}function L(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):se}function z(J,se){var ce=(J.length-se)%3;return 0===ce?J.toString("base64",se):(this.lastNeed=3-ce,this.lastTotal=3,1===ce?this.lastChar[0]=J[J.length-1]:(this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1]),J.toString("base64",se,J.length-ce))}function ee(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+this.lastChar.toString("base64",0,3-this.lastNeed):se}function q(J){return J.toString(this.encoding)}function Z(J){return J&&J.length?this.write(J):""}j.StringDecoder=w,w.prototype.write=function(J){if(0===J.length)return"";var se,ce;if(this.lastNeed){if(void 0===(se=this.fillLast(J)))return"";ce=this.lastNeed,this.lastNeed=0}else ce=0;return ce<J.length?se?se+this.text(J,ce):this.text(J,ce):se||""},w.prototype.end=function A(J){var se=J&&J.length?this.write(J):"";return this.lastNeed?se+"\ufffd":se},w.prototype.text=function U(J,se){var ce=function S(J,se,ce){var ae=se.length-1;if(ae<ce)return 0;var fe=O(se[ae]);return fe>=0?(fe>0&&(J.lastNeed=fe-1),fe):--ae<ce||-2===fe?0:(fe=O(se[ae]))>=0?(fe>0&&(J.lastNeed=fe-2),fe):--ae<ce||-2===fe?0:(fe=O(se[ae]))>=0?(fe>0&&(2===fe?fe=0:J.lastNeed=fe-3),fe):0}(this,J,se);if(!this.lastNeed)return J.toString("utf8",se);this.lastTotal=ce;var ae=J.length-(ce-this.lastNeed);return J.copy(this.lastChar,0,ae),J.toString("utf8",se,ae)},w.prototype.fillLast=function(J){if(this.lastNeed<=J.length)return J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,J.length),this.lastNeed-=J.length}},95568:function(We,j){!function(_){"use strict";function y(){for(var Et=arguments.length,Ye=Array(Et),et=0;et<Et;et++)Ye[et]=arguments[et];if(Ye.length>1){Ye[0]=Ye[0].slice(0,-1);for(var Wt=Ye.length-1,Ft=1;Ft<Wt;++Ft)Ye[Ft]=Ye[Ft].slice(1,-1);return Ye[Wt]=Ye[Wt].slice(1),Ye.join("")}return Ye[0]}function b(Et){return"(?:"+Et+")"}function P(Et){return void 0===Et?"undefined":null===Et?"null":Object.prototype.toString.call(Et).split(" ").pop().split("]").shift().toLowerCase()}function H(Et){return Et.toUpperCase()}function S(Et){var Ye="[A-Za-z]",Wt="[0-9]",mn=y(Wt,"[A-Fa-f]"),Mn=b(b("%[EFef]"+mn+"%"+mn+mn+"%"+mn+mn)+"|"+b("%[89A-Fa-f]"+mn+"%"+mn+mn)+"|"+b("%"+mn+mn)),or="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Nn=y("[\\:\\/\\?\\#\\[\\]\\@]",or),at=Et?"[\\uE000-\\uF8FF]":"[]",He=y(Ye,Wt,"[\\-\\.\\_\\~]",Et?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),ct=b(Ye+y(Ye,Wt,"[\\+\\-\\.]")+"*"),Yt=b(b(Mn+"|"+y(He,or,"[\\:]"))+"*"),zn=(b(b("25[0-5]")+"|"+b("2[0-4]"+Wt)+"|"+b("1"+Wt+Wt)+"|"+b("[1-9]"+Wt)+"|"+Wt),b(b("25[0-5]")+"|"+b("2[0-4]"+Wt)+"|"+b("1"+Wt+Wt)+"|"+b("0?[1-9]"+Wt)+"|0?0?"+Wt)),er=b(zn+"\\."+zn+"\\."+zn+"\\."+zn),mr=b(mn+"{1,4}"),Lr=b(b(mr+"\\:"+mr)+"|"+er),Pr=b(b(mr+"\\:")+"{6}"+Lr),Kr=b("\\:\\:"+b(mr+"\\:")+"{5}"+Lr),Fr=b(b(mr)+"?\\:\\:"+b(mr+"\\:")+"{4}"+Lr),di=b(b(b(mr+"\\:")+"{0,1}"+mr)+"?\\:\\:"+b(mr+"\\:")+"{3}"+Lr),on=b(b(b(mr+"\\:")+"{0,2}"+mr)+"?\\:\\:"+b(mr+"\\:")+"{2}"+Lr),wn=b(b(b(mr+"\\:")+"{0,3}"+mr)+"?\\:\\:"+mr+"\\:"+Lr),Tn=b(b(b(mr+"\\:")+"{0,4}"+mr)+"?\\:\\:"+Lr),Hn=b(b(b(mr+"\\:")+"{0,5}"+mr)+"?\\:\\:"+mr),Gn=b(b(b(mr+"\\:")+"{0,6}"+mr)+"?\\:\\:"),_r=b([Pr,Kr,Fr,di,on,wn,Tn,Hn,Gn].join("|")),Mr=b(b(He+"|"+Mn)+"+"),jr=(b(_r+"\\%25"+Mr),b(_r+b("\\%25|\\%(?!"+mn+"{2})")+Mr)),Ii=b("[vV]"+mn+"+\\."+y(He,or,"[\\:]")+"+"),Mo=b("\\["+b(jr+"|"+_r+"|"+Ii)+"\\]"),li=b(b(Mn+"|"+y(He,or))+"*"),go=b(Mo+"|"+er+"(?!"+li+")|"+li),wo=b(Wt+"*"),Ro=b(b(Yt+"@")+"?"+go+b("\\:"+wo)+"?"),vi=b(Mn+"|"+y(He,or,"[\\:\\@]")),Vi=b(vi+"*"),ji=b(vi+"+"),za=b(b(Mn+"|"+y(He,or,"[\\@]"))+"+"),Pi=b(b("\\/"+Vi)+"*"),xn=b("\\/"+b(ji+Pi)+"?"),wr=b(za+Pi),dn=b(ji+Pi),Un="(?!"+vi+")",Gr=(b(Pi+"|"+xn+"|"+wr+"|"+dn+"|"+Un),b(b(vi+"|"+y("[\\/\\?]",at))+"*")),ri=b(b(vi+"|[\\/\\?]")+"*"),vs=b(b("\\/\\/"+Ro+Pi)+"|"+xn+"|"+dn+"|"+Un),as=b(ct+"\\:"+vs+b("\\?"+Gr)+"?"+b("\\#"+ri)+"?"),Ya=b(b("\\/\\/"+Ro+Pi)+"|"+xn+"|"+wr+"|"+Un),ao=b(Ya+b("\\?"+Gr)+"?"+b("\\#"+ri)+"?");return b(as+"|"+ao),b(ct+"\\:"+vs+b("\\?"+Gr)+"?"),b(b("\\/\\/("+b("("+Yt+")@")+"?("+go+")"+b("\\:("+wo+")")+"?)")+"?("+Pi+"|"+xn+"|"+dn+"|"+Un+")"),b("\\?("+Gr+")"),b("\\#("+ri+")"),b(b("\\/\\/("+b("("+Yt+")@")+"?("+go+")"+b("\\:("+wo+")")+"?)")+"?("+Pi+"|"+xn+"|"+wr+"|"+Un+")"),b("\\?("+Gr+")"),b("\\#("+ri+")"),b(b("\\/\\/("+b("("+Yt+")@")+"?("+go+")"+b("\\:("+wo+")")+"?)")+"?("+Pi+"|"+xn+"|"+dn+"|"+Un+")"),b("\\?("+Gr+")"),b("\\#("+ri+")"),b("("+Yt+")@"),b("\\:("+wo+")"),{NOT_SCHEME:new RegExp(y("[^]",Ye,Wt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(y("[^\\%\\:]",He,or),"g"),NOT_HOST:new RegExp(y("[^\\%\\[\\]\\:]",He,or),"g"),NOT_PATH:new RegExp(y("[^\\%\\/\\:\\@]",He,or),"g"),NOT_PATH_NOSCHEME:new RegExp(y("[^\\%\\/\\@]",He,or),"g"),NOT_QUERY:new RegExp(y("[^\\%]",He,or,"[\\:\\@\\/\\?]",at),"g"),NOT_FRAGMENT:new RegExp(y("[^\\%]",He,or,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(y("[^]",He,or),"g"),UNRESERVED:new RegExp(He,"g"),OTHER_CHARS:new RegExp(y("[^\\%]",He,Nn),"g"),PCT_ENCODED:new RegExp(Mn,"g"),IPV4ADDRESS:new RegExp("^("+er+")$"),IPV6ADDRESS:new RegExp("^\\[?("+_r+")"+b(b("\\%25|\\%(?!"+mn+"{2})")+"("+Mr+")")+"?\\]?$")}}var B=S(!1),N=S(!0),U=function(){return function(Ye,et){if(Array.isArray(Ye))return Ye;if(Symbol.iterator in Object(Ye))return function Et(Ye,et){var Wt=[],Ft=!0,mn=!1,Vn=void 0;try{for(var Mn,bn=Ye[Symbol.iterator]();!(Ft=(Mn=bn.next()).done)&&(Wt.push(Mn.value),!et||Wt.length!==et);Ft=!0);}catch(br){mn=!0,Vn=br}finally{try{!Ft&&bn.return&&bn.return()}finally{if(mn)throw Vn}}return Wt}(Ye,et);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),G=2147483647,L=36,ae=/^xn--/,fe=/[^\0-\x7E]/,he=/[\x2E\u3002\uFF0E\uFF61]/g,we={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Pe=Math.floor,C=String.fromCharCode;function a(Et){throw new RangeError(we[Et])}function m(Et,Ye){var et=Et.split("@"),Wt="";return et.length>1&&(Wt=et[0]+"@",Et=et[1]),Wt+function d(Et,Ye){for(var et=[],Wt=Et.length;Wt--;)et[Wt]=Ye(Et[Wt]);return et}((Et=Et.replace(he,".")).split("."),Ye).join(".")}function p(Et){for(var Ye=[],et=0,Wt=Et.length;et<Wt;){var Ft=Et.charCodeAt(et++);if(Ft>=55296&&Ft<=56319&&et<Wt){var mn=Et.charCodeAt(et++);56320==(64512&mn)?Ye.push(((1023&Ft)<<10)+(1023&mn)+65536):(Ye.push(Ft),et--)}else Ye.push(Ft)}return Ye}var D=function(Ye){return Ye-48<10?Ye-22:Ye-65<26?Ye-65:Ye-97<26?Ye-97:L},R=function(Ye,et){return Ye+22+75*(Ye<26)-((0!=et)<<5)},x=function(Ye,et,Wt){var Ft=0;for(Ye=Wt?Pe(Ye/700):Ye>>1,Ye+=Pe(Ye/et);Ye>455;Ft+=L)Ye=Pe(Ye/35);return Pe(Ft+36*Ye/(Ye+38))},s=function(Ye){var et=[],Wt=Ye.length,Ft=0,mn=128,Vn=72,bn=Ye.lastIndexOf("-");bn<0&&(bn=0);for(var Mn=0;Mn<bn;++Mn)Ye.charCodeAt(Mn)>=128&&a("not-basic"),et.push(Ye.charCodeAt(Mn));for(var br=bn>0?bn+1:0;br<Wt;){for(var or=Ft,Nn=1,Ln=L;;Ln+=L){br>=Wt&&a("invalid-input");var at=D(Ye.charCodeAt(br++));(at>=L||at>Pe((G-Ft)/Nn))&&a("overflow"),Ft+=at*Nn;var He=Ln<=Vn?1:Ln>=Vn+26?26:Ln-Vn;if(at<He)break;var ct=L-He;Nn>Pe(G/ct)&&a("overflow"),Nn*=ct}var Yt=et.length+1;Vn=x(Ft-or,Yt,0==or),Pe(Ft/Yt)>G-mn&&a("overflow"),mn+=Pe(Ft/Yt),Ft%=Yt,et.splice(Ft++,0,mn)}return String.fromCodePoint.apply(String,et)},v=function(Ye){var et=[],Wt=(Ye=p(Ye)).length,Ft=128,mn=0,Vn=72,bn=!0,Mn=!1,br=void 0;try{for(var Nn,or=Ye[Symbol.iterator]();!(bn=(Nn=or.next()).done);bn=!0){var Ln=Nn.value;Ln<128&&et.push(C(Ln))}}catch(jr){Mn=!0,br=jr}finally{try{!bn&&or.return&&or.return()}finally{if(Mn)throw br}}var at=et.length,He=at;for(at&&et.push("-");He<Wt;){var ct=G,Yt=!0,En=!1,zn=void 0;try{for(var mr,er=Ye[Symbol.iterator]();!(Yt=(mr=er.next()).done);Yt=!0){var Lr=mr.value;Lr>=Ft&&Lr<ct&&(ct=Lr)}}catch(jr){En=!0,zn=jr}finally{try{!Yt&&er.return&&er.return()}finally{if(En)throw zn}}var Pr=He+1;ct-Ft>Pe((G-mn)/Pr)&&a("overflow"),mn+=(ct-Ft)*Pr,Ft=ct;var Kr=!0,Fr=!1,di=void 0;try{for(var wn,on=Ye[Symbol.iterator]();!(Kr=(wn=on.next()).done);Kr=!0){var Tn=wn.value;if(Tn<Ft&&++mn>G&&a("overflow"),Tn==Ft){for(var Hn=mn,Gn=L;;Gn+=L){var _r=Gn<=Vn?1:Gn>=Vn+26?26:Gn-Vn;if(Hn<_r)break;var Mr=Hn-_r,$r=L-_r;et.push(C(R(_r+Mr%$r,0))),Hn=Pe(Mr/$r)}et.push(C(R(Hn,0))),Vn=x(mn,Pr,He==at),mn=0,++He}}}catch(jr){Fr=!0,di=jr}finally{try{!Kr&&on.return&&on.return()}finally{if(Fr)throw di}}++mn,++Ft}return et.join("")},Q={version:"2.1.0",ucs2:{decode:p,encode:function(Ye){return String.fromCodePoint.apply(String,function(Et){if(Array.isArray(Et)){for(var Ye=0,et=Array(Et.length);Ye<Et.length;Ye++)et[Ye]=Et[Ye];return et}return Array.from(Et)}(Ye))}},decode:s,encode:v,toASCII:function(Ye){return m(Ye,function(et){return fe.test(et)?"xn--"+v(et):et})},toUnicode:function(Ye){return m(Ye,function(et){return ae.test(et)?s(et.slice(4).toLowerCase()):et})}},de={};function De(Et){var Ye=Et.charCodeAt(0);return Ye<16?"%0"+Ye.toString(16).toUpperCase():Ye<128?"%"+Ye.toString(16).toUpperCase():Ye<2048?"%"+(Ye>>6|192).toString(16).toUpperCase()+"%"+(63&Ye|128).toString(16).toUpperCase():"%"+(Ye>>12|224).toString(16).toUpperCase()+"%"+(Ye>>6&63|128).toString(16).toUpperCase()+"%"+(63&Ye|128).toString(16).toUpperCase()}function Re(Et){for(var Ye="",et=0,Wt=Et.length;et<Wt;){var Ft=parseInt(Et.substr(et+1,2),16);if(Ft<128)Ye+=String.fromCharCode(Ft),et+=3;else if(Ft>=194&&Ft<224){if(Wt-et>=6){var mn=parseInt(Et.substr(et+4,2),16);Ye+=String.fromCharCode((31&Ft)<<6|63&mn)}else Ye+=Et.substr(et,6);et+=6}else if(Ft>=224){if(Wt-et>=9){var Vn=parseInt(Et.substr(et+4,2),16),bn=parseInt(Et.substr(et+7,2),16);Ye+=String.fromCharCode((15&Ft)<<12|(63&Vn)<<6|63&bn)}else Ye+=Et.substr(et,9);et+=9}else Ye+=Et.substr(et,3),et+=3}return Ye}function Ve(Et,Ye){function et(Wt){var Ft=Re(Wt);return Ft.match(Ye.UNRESERVED)?Ft:Wt}return Et.scheme&&(Et.scheme=String(Et.scheme).replace(Ye.PCT_ENCODED,et).toLowerCase().replace(Ye.NOT_SCHEME,"")),void 0!==Et.userinfo&&(Et.userinfo=String(Et.userinfo).replace(Ye.PCT_ENCODED,et).replace(Ye.NOT_USERINFO,De).replace(Ye.PCT_ENCODED,H)),void 0!==Et.host&&(Et.host=String(Et.host).replace(Ye.PCT_ENCODED,et).toLowerCase().replace(Ye.NOT_HOST,De).replace(Ye.PCT_ENCODED,H)),void 0!==Et.path&&(Et.path=String(Et.path).replace(Ye.PCT_ENCODED,et).replace(Et.scheme?Ye.NOT_PATH:Ye.NOT_PATH_NOSCHEME,De).replace(Ye.PCT_ENCODED,H)),void 0!==Et.query&&(Et.query=String(Et.query).replace(Ye.PCT_ENCODED,et).replace(Ye.NOT_QUERY,De).replace(Ye.PCT_ENCODED,H)),void 0!==Et.fragment&&(Et.fragment=String(Et.fragment).replace(Ye.PCT_ENCODED,et).replace(Ye.NOT_FRAGMENT,De).replace(Ye.PCT_ENCODED,H)),Et}function Ee(Et){return Et.replace(/^0*(.*)/,"$1")||"0"}function _e(Et,Ye){var et=Et.match(Ye.IPV4ADDRESS)||[],Ft=U(et,2)[1];return Ft?Ft.split(".").map(Ee).join("."):Et}function Fe(Et,Ye){var et=Et.match(Ye.IPV6ADDRESS)||[],Wt=U(et,3),Ft=Wt[1],mn=Wt[2];if(Ft){for(var Vn=Ft.toLowerCase().split("::").reverse(),bn=U(Vn,2),Mn=bn[0],br=bn[1],or=br?br.split(":").map(Ee):[],Nn=Mn.split(":").map(Ee),Ln=Ye.IPV4ADDRESS.test(Nn[Nn.length-1]),at=Ln?7:8,He=Nn.length-at,ct=Array(at),Yt=0;Yt<at;++Yt)ct[Yt]=or[Yt]||Nn[He+Yt]||"";Ln&&(ct[at-1]=_e(ct[at-1],Ye));var zn=ct.reduce(function(Pr,Kr,Fr){if(!Kr||"0"===Kr){var di=Pr[Pr.length-1];di&&di.index+di.length===Fr?di.length++:Pr.push({index:Fr,length:1})}return Pr},[]).sort(function(Pr,Kr){return Kr.length-Pr.length})[0],er=void 0;if(zn&&zn.length>1){var mr=ct.slice(0,zn.index),Lr=ct.slice(zn.index+zn.length);er=mr.join(":")+"::"+Lr.join(":")}else er=ct.join(":");return mn&&(er+="%"+mn),er}return Et}var ve=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Te=void 0==="".match(/(){0}/)[1];function ge(Et){var Ye=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},et={},Wt=!1!==Ye.iri?N:B;"suffix"===Ye.reference&&(Et=(Ye.scheme?Ye.scheme+":":"")+"//"+Et);var Ft=Et.match(ve);if(Ft){Te?(et.scheme=Ft[1],et.userinfo=Ft[3],et.host=Ft[4],et.port=parseInt(Ft[5],10),et.path=Ft[6]||"",et.query=Ft[7],et.fragment=Ft[8],isNaN(et.port)&&(et.port=Ft[5])):(et.scheme=Ft[1]||void 0,et.userinfo=-1!==Et.indexOf("@")?Ft[3]:void 0,et.host=-1!==Et.indexOf("//")?Ft[4]:void 0,et.port=parseInt(Ft[5],10),et.path=Ft[6]||"",et.query=-1!==Et.indexOf("?")?Ft[7]:void 0,et.fragment=-1!==Et.indexOf("#")?Ft[8]:void 0,isNaN(et.port)&&(et.port=Et.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Ft[4]:void 0)),et.host&&(et.host=Fe(_e(et.host,Wt),Wt)),et.reference=void 0!==et.scheme||void 0!==et.userinfo||void 0!==et.host||void 0!==et.port||et.path||void 0!==et.query?void 0===et.scheme?"relative":void 0===et.fragment?"absolute":"uri":"same-document",Ye.reference&&"suffix"!==Ye.reference&&Ye.reference!==et.reference&&(et.error=et.error||"URI is not a "+Ye.reference+" reference.");var mn=de[(Ye.scheme||et.scheme||"").toLowerCase()];if(Ye.unicodeSupport||mn&&mn.unicodeSupport)Ve(et,Wt);else{if(et.host&&(Ye.domainHost||mn&&mn.domainHost))try{et.host=Q.toASCII(et.host.replace(Wt.PCT_ENCODED,Re).toLowerCase())}catch(Vn){et.error=et.error||"Host's domain name can not be converted to ASCII via punycode: "+Vn}Ve(et,B)}mn&&mn.parse&&mn.parse(et,Ye)}else et.error=et.error||"URI can not be parsed.";return et}var te=/^\.\.?\//,ne=/^\/\.(\/|$)/,le=/^\/\.\.(\/|$)/,Ae=/^\/?(?:.|\n)*?(?=\/|$)/;function Be(Et){for(var Ye=[];Et.length;)if(Et.match(te))Et=Et.replace(te,"");else if(Et.match(ne))Et=Et.replace(ne,"/");else if(Et.match(le))Et=Et.replace(le,"/"),Ye.pop();else if("."===Et||".."===Et)Et="";else{var et=Et.match(Ae);if(!et)throw new Error("Unexpected dot segment condition");var Wt=et[0];Et=Et.slice(Wt.length),Ye.push(Wt)}return Ye.join("")}function qe(Et){var Ye=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},et=Ye.iri?N:B,Wt=[],Ft=de[(Ye.scheme||Et.scheme||"").toLowerCase()];if(Ft&&Ft.serialize&&Ft.serialize(Et,Ye),Et.host&&!et.IPV6ADDRESS.test(Et.host)&&(Ye.domainHost||Ft&&Ft.domainHost))try{Et.host=Ye.iri?Q.toUnicode(Et.host):Q.toASCII(Et.host.replace(et.PCT_ENCODED,Re).toLowerCase())}catch(bn){Et.error=Et.error||"Host's domain name can not be converted to "+(Ye.iri?"Unicode":"ASCII")+" via punycode: "+bn}Ve(Et,et),"suffix"!==Ye.reference&&Et.scheme&&(Wt.push(Et.scheme),Wt.push(":"));var mn=function me(Et,Ye){var et=!1!==Ye.iri?N:B,Wt=[];return void 0!==Et.userinfo&&(Wt.push(Et.userinfo),Wt.push("@")),void 0!==Et.host&&Wt.push(Fe(_e(String(Et.host),et),et).replace(et.IPV6ADDRESS,function(Ft,mn,Vn){return"["+mn+(Vn?"%25"+Vn:"")+"]"})),("number"==typeof Et.port||"string"==typeof Et.port)&&(Wt.push(":"),Wt.push(String(Et.port))),Wt.length?Wt.join(""):void 0}(Et,Ye);if(void 0!==mn&&("suffix"!==Ye.reference&&Wt.push("//"),Wt.push(mn),Et.path&&"/"!==Et.path.charAt(0)&&Wt.push("/")),void 0!==Et.path){var Vn=Et.path;!Ye.absolutePath&&(!Ft||!Ft.absolutePath)&&(Vn=Be(Vn)),void 0===mn&&(Vn=Vn.replace(/^\/\//,"/%2F")),Wt.push(Vn)}return void 0!==Et.query&&(Wt.push("?"),Wt.push(Et.query)),void 0!==Et.fragment&&(Wt.push("#"),Wt.push(Et.fragment)),Wt.join("")}function ze(Et,Ye){var et=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Ft={};return arguments[3]||(Et=ge(qe(Et,et),et),Ye=ge(qe(Ye,et),et)),!(et=et||{}).tolerant&&Ye.scheme?(Ft.scheme=Ye.scheme,Ft.userinfo=Ye.userinfo,Ft.host=Ye.host,Ft.port=Ye.port,Ft.path=Be(Ye.path||""),Ft.query=Ye.query):(void 0!==Ye.userinfo||void 0!==Ye.host||void 0!==Ye.port?(Ft.userinfo=Ye.userinfo,Ft.host=Ye.host,Ft.port=Ye.port,Ft.path=Be(Ye.path||""),Ft.query=Ye.query):(Ye.path?("/"===Ye.path.charAt(0)?Ft.path=Be(Ye.path):(Ft.path=void 0===Et.userinfo&&void 0===Et.host&&void 0===Et.port||Et.path?Et.path?Et.path.slice(0,Et.path.lastIndexOf("/")+1)+Ye.path:Ye.path:"/"+Ye.path,Ft.path=Be(Ft.path)),Ft.query=Ye.query):(Ft.path=Et.path,Ft.query=void 0!==Ye.query?Ye.query:Et.query),Ft.userinfo=Et.userinfo,Ft.host=Et.host,Ft.port=Et.port),Ft.scheme=Et.scheme),Ft.fragment=Ye.fragment,Ft}function K(Et,Ye){return Et&&Et.toString().replace(Ye&&Ye.iri?N.PCT_ENCODED:B.PCT_ENCODED,Re)}var T={scheme:"http",domainHost:!0,parse:function(Ye,et){return Ye.host||(Ye.error=Ye.error||"HTTP URIs must have a host."),Ye},serialize:function(Ye,et){var Wt="https"===String(Ye.scheme).toLowerCase();return(Ye.port===(Wt?443:80)||""===Ye.port)&&(Ye.port=void 0),Ye.path||(Ye.path="/"),Ye}},M={scheme:"https",domainHost:T.domainHost,parse:T.parse,serialize:T.serialize};function Y(Et){return"boolean"==typeof Et.secure?Et.secure:"wss"===String(Et.scheme).toLowerCase()}var pe={scheme:"ws",domainHost:!0,parse:function(Ye,et){var Wt=Ye;return Wt.secure=Y(Wt),Wt.resourceName=(Wt.path||"/")+(Wt.query?"?"+Wt.query:""),Wt.path=void 0,Wt.query=void 0,Wt},serialize:function(Ye,et){if((Ye.port===(Y(Ye)?443:80)||""===Ye.port)&&(Ye.port=void 0),"boolean"==typeof Ye.secure&&(Ye.scheme=Ye.secure?"wss":"ws",Ye.secure=void 0),Ye.resourceName){var Wt=Ye.resourceName.split("?"),Ft=U(Wt,2),mn=Ft[0],Vn=Ft[1];Ye.path=mn&&"/"!==mn?mn:void 0,Ye.query=Vn,Ye.resourceName=void 0}return Ye.fragment=void 0,Ye}},ke={scheme:"wss",domainHost:pe.domainHost,parse:pe.parse,serialize:pe.serialize},Ne={},en="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",It="[0-9A-Fa-f]",Kt=b(b("%[EFef]"+It+"%"+It+It+"%"+It+It)+"|"+b("%[89A-Fa-f]"+It+"%"+It+It)+"|"+b("%"+It+It)),ln=y("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Cn=new RegExp(en,"g"),cn=new RegExp(Kt,"g"),Zt=new RegExp(y("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',ln),"g"),vt=new RegExp(y("[^]",en,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ut=vt;function Gt(Et){var Ye=Re(Et);return Ye.match(Cn)?Ye:Et}var nn={scheme:"mailto",parse:function(Ye,et){var Wt=Ye,Ft=Wt.to=Wt.path?Wt.path.split(","):[];if(Wt.path=void 0,Wt.query){for(var mn=!1,Vn={},bn=Wt.query.split("&"),Mn=0,br=bn.length;Mn<br;++Mn){var or=bn[Mn].split("=");switch(or[0]){case"to":for(var Nn=or[1].split(","),Ln=0,at=Nn.length;Ln<at;++Ln)Ft.push(Nn[Ln]);break;case"subject":Wt.subject=K(or[1],et);break;case"body":Wt.body=K(or[1],et);break;default:mn=!0,Vn[K(or[0],et)]=K(or[1],et)}}mn&&(Wt.headers=Vn)}Wt.query=void 0;for(var He=0,ct=Ft.length;He<ct;++He){var Yt=Ft[He].split("@");if(Yt[0]=K(Yt[0]),et.unicodeSupport)Yt[1]=K(Yt[1],et).toLowerCase();else try{Yt[1]=Q.toASCII(K(Yt[1],et).toLowerCase())}catch(En){Wt.error=Wt.error||"Email address's domain name can not be converted to ASCII via punycode: "+En}Ft[He]=Yt.join("@")}return Wt},serialize:function(Ye,et){var Wt=Ye,Ft=function w(Et){return null!=Et?Et instanceof Array?Et:"number"!=typeof Et.length||Et.split||Et.setInterval||Et.call?[Et]:Array.prototype.slice.call(Et):[]}(Ye.to);if(Ft){for(var mn=0,Vn=Ft.length;mn<Vn;++mn){var bn=String(Ft[mn]),Mn=bn.lastIndexOf("@"),br=bn.slice(0,Mn).replace(cn,Gt).replace(cn,H).replace(Zt,De),or=bn.slice(Mn+1);try{or=et.iri?Q.toUnicode(or):Q.toASCII(K(or,et).toLowerCase())}catch(He){Wt.error=Wt.error||"Email address's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+He}Ft[mn]=br+"@"+or}Wt.path=Ft.join(",")}var Nn=Ye.headers=Ye.headers||{};Ye.subject&&(Nn.subject=Ye.subject),Ye.body&&(Nn.body=Ye.body);var Ln=[];for(var at in Nn)Nn[at]!==Ne[at]&&Ln.push(at.replace(cn,Gt).replace(cn,H).replace(vt,De)+"="+Nn[at].replace(cn,Gt).replace(cn,H).replace(ut,De));return Ln.length&&(Wt.query=Ln.join("&")),Wt}},pn=/^([^\:]+)\:(.*)/,fr={scheme:"urn",parse:function(Ye,et){var Wt=Ye.path&&Ye.path.match(pn),Ft=Ye;if(Wt){var mn=et.scheme||Ft.scheme||"urn",Vn=Wt[1].toLowerCase(),bn=Wt[2],br=de[mn+":"+(et.nid||Vn)];Ft.nid=Vn,Ft.nss=bn,Ft.path=void 0,br&&(Ft=br.parse(Ft,et))}else Ft.error=Ft.error||"URN can not be parsed.";return Ft},serialize:function(Ye,et){var Ft=Ye.nid,Vn=de[(et.scheme||Ye.scheme||"urn")+":"+(et.nid||Ft)];Vn&&(Ye=Vn.serialize(Ye,et));var bn=Ye;return bn.path=(Ft||et.nid)+":"+Ye.nss,bn}},yt=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,wt={scheme:"urn:uuid",parse:function(Ye,et){var Wt=Ye;return Wt.uuid=Wt.nss,Wt.nss=void 0,!et.tolerant&&(!Wt.uuid||!Wt.uuid.match(yt))&&(Wt.error=Wt.error||"UUID is not valid."),Wt},serialize:function(Ye,et){var Wt=Ye;return Wt.nss=(Ye.uuid||"").toLowerCase(),Wt}};de[T.scheme]=T,de[M.scheme]=M,de[pe.scheme]=pe,de[ke.scheme]=ke,de[nn.scheme]=nn,de[fr.scheme]=fr,de[wt.scheme]=wt,_.SCHEMES=de,_.pctEncChar=De,_.pctDecChars=Re,_.parse=ge,_.removeDotSegments=Be,_.serialize=qe,_.resolveComponents=ze,_.resolve=function Dt(Et,Ye,et){var Wt=function O(Et,Ye){var et=Et;if(Ye)for(var Wt in Ye)et[Wt]=Ye[Wt];return et}({scheme:"null"},et);return qe(ze(ge(Et,Wt),ge(Ye,Wt),Wt,!0),Wt)},_.normalize=function Xe(Et,Ye){return"string"==typeof Et?Et=qe(ge(Et,Ye),Ye):"object"===P(Et)&&(Et=ge(qe(Et,Ye),Ye)),Et},_.equal=function Ue(Et,Ye,et){return"string"==typeof Et?Et=qe(ge(Et,et),et):"object"===P(Et)&&(Et=qe(Et,et)),"string"==typeof Ye?Ye=qe(ge(Ye,et),et):"object"===P(Ye)&&(Ye=qe(Ye,et)),Et===Ye},_.escapeComponent=function mt(Et,Ye){return Et&&Et.toString().replace(Ye&&Ye.iri?N.ESCAPE:B.ESCAPE,De)},_.unescapeComponent=K,Object.defineProperty(_,"__esModule",{value:!0})}(j)},3398:We=>{function _(y){try{if(!globalThis.localStorage)return!1}catch{return!1}var b=globalThis.localStorage[y];return null!=b&&"true"===String(b).toLowerCase()}We.exports=function j(y,b){if(_("noDeprecation"))return y;var P=!1;return function H(){if(!P){if(_("throwDeprecation"))throw new Error(b);_("traceDeprecation")?console.trace(b):console.warn(b),P=!0}return y.apply(this,arguments)}}},78982:()=>{},47790:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},67490:(We,j,_)=>{var y=_(25172);function b(P){var H,w;function O(B,N){try{var U=P[B](N),A=U.value,G=A instanceof y;Promise.resolve(G?A.v:A).then(function(L){if(G){var z="return"===B?"return":"next";if(!A.k||L.done)return O(z,L);L=P[z](L).value}S(U.done?"return":"normal",L)},function(L){O("throw",L)})}catch(L){S("throw",L)}}function S(B,N){switch(B){case"return":H.resolve({value:N,done:!0});break;case"throw":H.reject(N);break;default:H.resolve({value:N,done:!1})}(H=H.next)?O(H.key,H.arg):w=null}this._invoke=function(B,N){return new Promise(function(U,A){var G={key:B,arg:N,resolve:U,reject:A,next:null};w?w=w.next=G:(H=w=G,O(B,N))})},"function"!=typeof P.return&&(this.return=void 0)}b.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},b.prototype.next=function(P){return this._invoke("next",P)},b.prototype.throw=function(P){return this._invoke("throw",P)},b.prototype.return=function(P){return this._invoke("return",P)},We.exports=b,We.exports.__esModule=!0,We.exports.default=We.exports},25172:We=>{We.exports=function j(_,y){this.v=_,this.k=y},We.exports.__esModule=!0,We.exports.default=We.exports},93513:(We,j,_)=>{var y=_(25172);We.exports=function b(P){var H={},w=!1;function O(S,B){return w=!0,B=new Promise(function(N){N(P[S](B))}),{done:!1,value:new y(B,1)}}return H[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},H.next=function(S){return w?(w=!1,S):O("next",S)},"function"==typeof P.throw&&(H.throw=function(S){if(w)throw w=!1,S;return O("throw",S)}),"function"==typeof P.return&&(H.return=function(S){return w?(w=!1,S):O("return",S)}),H},We.exports.__esModule=!0,We.exports.default=We.exports},82881:We=>{function _(y){function b(P){if(Object(P)!==P)return Promise.reject(new TypeError(P+" is not an object."));var H=P.done;return Promise.resolve(P.value).then(function(w){return{value:w,done:H}})}return(_=function(H){this.s=H,this.n=H.next}).prototype={s:null,n:null,next:function(){return b(this.n.apply(this.s,arguments))},return:function(H){var w=this.s.return;return void 0===w?Promise.resolve({value:H,done:!0}):b(w.apply(this.s,arguments))},throw:function(H){var w=this.s.return;return void 0===w?Promise.reject(H):b(w.apply(this.s,arguments))}},new _(y)}We.exports=function j(y){var b,P,H,w=2;for(typeof Symbol<"u"&&(P=Symbol.asyncIterator,H=Symbol.iterator);w--;){if(P&&null!=(b=y[P]))return b.call(y);if(H&&null!=(b=y[H]))return new _(b.call(y));P="@@asyncIterator",H="@@iterator"}throw new TypeError("Object is not async iterable")},We.exports.__esModule=!0,We.exports.default=We.exports},29293:We=>{function j(y,b,P,H,w,O,S){try{var B=y[O](S),N=B.value}catch(U){return void P(U)}B.done?b(N):Promise.resolve(N).then(H,w)}We.exports=function _(y){return function(){var b=this,P=arguments;return new Promise(function(H,w){var O=y.apply(b,P);function S(N){j(O,H,w,S,B,"next",N)}function B(N){j(O,H,w,S,B,"throw",N)}S(void 0)})}},We.exports.__esModule=!0,We.exports.default=We.exports},53344:(We,j,_)=>{var y=_(25172);We.exports=function b(P){return new y(P,0)},We.exports.__esModule=!0,We.exports.default=We.exports},42958:(We,j,_)=>{var y=_(67490);We.exports=function b(P){return function(){return new y(P.apply(this,arguments))}},We.exports.__esModule=!0,We.exports.default=We.exports},49969:(We,j,_)=>{"use strict";_.d(j,{FX:()=>Pe,If:()=>y,K2:()=>O,MA:()=>G,P:()=>z,hZ:()=>P,i0:()=>H,i7:()=>N,iF:()=>S,kY:()=>U,kp:()=>b,sf:()=>we,ui:()=>Me,wk:()=>B});var y=function(C){return C[C.State=0]="State",C[C.Transition=1]="Transition",C[C.Sequence=2]="Sequence",C[C.Group=3]="Group",C[C.Animate=4]="Animate",C[C.Keyframes=5]="Keyframes",C[C.Style=6]="Style",C[C.Trigger=7]="Trigger",C[C.Reference=8]="Reference",C[C.AnimateChild=9]="AnimateChild",C[C.AnimateRef=10]="AnimateRef",C[C.Query=11]="Query",C[C.Stagger=12]="Stagger",C}(y||{});const b="*";function P(C,a){return{type:y.Trigger,name:C,definitions:a,options:{}}}function H(C,a=null){return{type:y.Animate,styles:a,timings:C}}function O(C,a=null){return{type:y.Sequence,steps:C,options:a}}function S(C){return{type:y.Style,styles:C,offset:null}}function B(C,a,d){return{type:y.State,name:C,styles:a,options:d}}function N(C){return{type:y.Keyframes,steps:C}}function U(C,a,d=null){return{type:y.Transition,expr:C,animation:a,options:d}}function G(C=null){return{type:y.AnimateChild,options:C}}function z(C,a,d=null){return{type:y.Query,selector:C,animation:a,options:d}}class we{constructor(a=0,d=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=a+d}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}onStart(a){this._originalOnStartFns.push(a),this._onStartFns.push(a)}onDone(a){this._originalOnDoneFns.push(a),this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(a){this._position=this.totalTime?a*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(a){const d="start"==a?this._onStartFns:this._onDoneFns;d.forEach(m=>m()),d.length=0}}class Me{constructor(a){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=a;let d=0,m=0,p=0;const E=this.players.length;0==E?queueMicrotask(()=>this._onFinish()):this.players.forEach(D=>{D.onDone(()=>{++d==E&&this._onFinish()}),D.onDestroy(()=>{++m==E&&this._onDestroy()}),D.onStart(()=>{++p==E&&this._onStart()})}),this.totalTime=this.players.reduce((D,R)=>Math.max(D,R.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this.players.forEach(a=>a.init())}onStart(a){this._onStartFns.push(a)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(a=>a()),this._onStartFns=[])}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(a=>a.play())}pause(){this.players.forEach(a=>a.pause())}restart(){this.players.forEach(a=>a.restart())}finish(){this._onFinish(),this.players.forEach(a=>a.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(a=>a.destroy()),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}reset(){this.players.forEach(a=>a.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(a){const d=a*this.totalTime;this.players.forEach(m=>{const p=m.totalTime?Math.min(1,d/m.totalTime):1;m.setPosition(p)})}getPosition(){const a=this.players.reduce((d,m)=>null===d||m.totalTime>d.totalTime?m:d,null);return null!=a?a.getPosition():0}beforeDestroy(){this.players.forEach(a=>{a.beforeDestroy&&a.beforeDestroy()})}triggerCallback(a){const d="start"==a?this._onStartFns:this._onDoneFns;d.forEach(m=>m()),d.length=0}}const Pe="!"},18617:(We,j,_)=>{"use strict";_.d(j,{Ae:()=>ae,Ai:()=>Y,Au:()=>p,Bu:()=>E,FN:()=>en,GX:()=>ve,Pd:()=>Cn,Q_:()=>ar,Z7:()=>R,_G:()=>Ae,px:()=>ce,vR:()=>It,vr:()=>C,w6:()=>Be});var y=_(60177),b=_(93953),P=_(36860),H=_(21413),w=_(18359),O=_(84412),S=_(7673),B=_(67336),N=_(88141),U=_(70152),A=_(5964),G=_(96354),L=_(65245),z=_(23294),ee=_(56977),q=_(72318),Z=_(14085),J=_(99327);const se=" ";function ce(cn,Zt,vt){const ut=fe(cn,Zt);vt=vt.trim(),!ut.some(Gt=>Gt.trim()===vt)&&(ut.push(vt),cn.setAttribute(Zt,ut.join(se)))}function ae(cn,Zt,vt){const ut=fe(cn,Zt);vt=vt.trim();const Gt=ut.filter(nn=>nn!==vt);Gt.length?cn.setAttribute(Zt,Gt.join(se)):cn.removeAttribute(Zt)}function fe(cn,Zt){return cn.getAttribute(Zt)?.match(/\S+/g)??[]}const we="cdk-describedby-message",Me="cdk-describedby-host";let Pe=0,C=(()=>{class cn{constructor(vt,ut){this._platform=ut,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Pe++,this._document=vt,this._id=(0,b.WQX)(b.sZ2)+"-"+Pe++}describe(vt,ut,Gt){if(!this._canBeDescribed(vt,ut))return;const nn=a(ut,Gt);"string"!=typeof ut?(d(ut,this._id),this._messageRegistry.set(nn,{messageElement:ut,referenceCount:0})):this._messageRegistry.has(nn)||this._createMessageElement(ut,Gt),this._isElementDescribedByMessage(vt,nn)||this._addMessageReference(vt,nn)}removeDescription(vt,ut,Gt){if(!ut||!this._isElementNode(vt))return;const nn=a(ut,Gt);if(this._isElementDescribedByMessage(vt,nn)&&this._removeMessageReference(vt,nn),"string"==typeof ut){const pn=this._messageRegistry.get(nn);pn&&0===pn.referenceCount&&this._deleteMessageElement(nn)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const vt=this._document.querySelectorAll(`[${Me}="${this._id}"]`);for(let ut=0;ut<vt.length;ut++)this._removeCdkDescribedByReferenceIds(vt[ut]),vt[ut].removeAttribute(Me);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(vt,ut){const Gt=this._document.createElement("div");d(Gt,this._id),Gt.textContent=vt,ut&&Gt.setAttribute("role",ut),this._createMessagesContainer(),this._messagesContainer.appendChild(Gt),this._messageRegistry.set(a(vt,ut),{messageElement:Gt,referenceCount:0})}_deleteMessageElement(vt){this._messageRegistry.get(vt)?.messageElement?.remove(),this._messageRegistry.delete(vt)}_createMessagesContainer(){if(this._messagesContainer)return;const vt="cdk-describedby-message-container",ut=this._document.querySelectorAll(`.${vt}[platform="server"]`);for(let nn=0;nn<ut.length;nn++)ut[nn].remove();const Gt=this._document.createElement("div");Gt.style.visibility="hidden",Gt.classList.add(vt),Gt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Gt.setAttribute("platform","server"),this._document.body.appendChild(Gt),this._messagesContainer=Gt}_removeCdkDescribedByReferenceIds(vt){const ut=fe(vt,"aria-describedby").filter(Gt=>0!=Gt.indexOf(we));vt.setAttribute("aria-describedby",ut.join(" "))}_addMessageReference(vt,ut){const Gt=this._messageRegistry.get(ut);ce(vt,"aria-describedby",Gt.messageElement.id),vt.setAttribute(Me,this._id),Gt.referenceCount++}_removeMessageReference(vt,ut){const Gt=this._messageRegistry.get(ut);Gt.referenceCount--,ae(vt,"aria-describedby",Gt.messageElement.id),vt.removeAttribute(Me)}_isElementDescribedByMessage(vt,ut){const Gt=fe(vt,"aria-describedby"),nn=this._messageRegistry.get(ut),pn=nn&&nn.messageElement.id;return!!pn&&-1!=Gt.indexOf(pn)}_canBeDescribed(vt,ut){if(!this._isElementNode(vt))return!1;if(ut&&"object"==typeof ut)return!0;const Gt=null==ut?"":`${ut}`.trim(),nn=vt.getAttribute("aria-label");return!(!Gt||nn&&nn.trim()===Gt)}_isElementNode(vt){return vt.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(y.qQ),b.KVO(P.OD))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();function a(cn,Zt){return"string"==typeof cn?`${Zt||""}/${cn}`:cn}function d(cn,Zt){cn.id||(cn.id=`${we}-${Zt}-${Pe++}`)}class m{constructor(Zt,vt){this._items=Zt,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new H.B,this._typeaheadSubscription=w.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=ut=>ut.disabled,this._pressedLetters=[],this.tabOut=new H.B,this.change=new H.B,Zt instanceof b.rOR?this._itemChangesSubscription=Zt.changes.subscribe(ut=>this._itemsChanged(ut.toArray())):(0,b.Hps)(Zt)&&(this._effectRef=(0,b.QZP)(()=>this._itemsChanged(Zt()),{injector:vt}))}skipPredicate(Zt){return this._skipPredicateFn=Zt,this}withWrap(Zt=!0){return this._wrap=Zt,this}withVerticalOrientation(Zt=!0){return this._vertical=Zt,this}withHorizontalOrientation(Zt){return this._horizontal=Zt,this}withAllowedModifierKeys(Zt){return this._allowedModifierKeys=Zt,this}withTypeAhead(Zt=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,N.M)(vt=>this._pressedLetters.push(vt)),(0,U.B)(Zt),(0,A.p)(()=>this._pressedLetters.length>0),(0,G.T)(()=>this._pressedLetters.join(""))).subscribe(vt=>{const ut=this._getItemsArray();for(let Gt=1;Gt<ut.length+1;Gt++){const nn=(this._activeItemIndex+Gt)%ut.length,pn=ut[nn];if(!this._skipPredicateFn(pn)&&0===pn.getLabel().toUpperCase().trim().indexOf(vt)){this.setActiveItem(nn);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(Zt=!0){return this._homeAndEnd=Zt,this}withPageUpDown(Zt=!0,vt=10){return this._pageUpAndDown={enabled:Zt,delta:vt},this}setActiveItem(Zt){const vt=this._activeItem;this.updateActiveItem(Zt),this._activeItem!==vt&&this.change.next(this._activeItemIndex)}onKeydown(Zt){const vt=Zt.keyCode,Gt=["altKey","ctrlKey","metaKey","shiftKey"].every(nn=>!Zt[nn]||this._allowedModifierKeys.indexOf(nn)>-1);switch(vt){case B.wn:return void this.tabOut.next();case B.n6:if(this._vertical&&Gt){this.setNextItemActive();break}return;case B.i7:if(this._vertical&&Gt){this.setPreviousItemActive();break}return;case B.LE:if(this._horizontal&&Gt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case B.UQ:if(this._horizontal&&Gt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case B.yZ:if(this._homeAndEnd&&Gt){this.setFirstItemActive();break}return;case B.Kp:if(this._homeAndEnd&&Gt){this.setLastItemActive();break}return;case B.w_:if(this._pageUpAndDown.enabled&&Gt){const nn=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(nn>0?nn:0,1);break}return;case B.dB:if(this._pageUpAndDown.enabled&&Gt){const nn=this._activeItemIndex+this._pageUpAndDown.delta,pn=this._getItemsArray().length;this._setActiveItemByIndex(nn<pn?nn:pn-1,-1);break}return;default:return void((Gt||(0,B.rp)(Zt,"shiftKey"))&&(Zt.key&&1===Zt.key.length?this._letterKeyStream.next(Zt.key.toLocaleUpperCase()):(vt>=B.A&&vt<=B.Z||vt>=B.f2&&vt<=B.bn)&&this._letterKeyStream.next(String.fromCharCode(vt))))}this._pressedLetters=[],Zt.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Zt){const vt=this._getItemsArray(),ut="number"==typeof Zt?Zt:vt.indexOf(Zt);this._activeItem=vt[ut]??null,this._activeItemIndex=ut}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(Zt){this._wrap?this._setActiveInWrapMode(Zt):this._setActiveInDefaultMode(Zt)}_setActiveInWrapMode(Zt){const vt=this._getItemsArray();for(let ut=1;ut<=vt.length;ut++){const Gt=(this._activeItemIndex+Zt*ut+vt.length)%vt.length;if(!this._skipPredicateFn(vt[Gt]))return void this.setActiveItem(Gt)}}_setActiveInDefaultMode(Zt){this._setActiveItemByIndex(this._activeItemIndex+Zt,Zt)}_setActiveItemByIndex(Zt,vt){const ut=this._getItemsArray();if(ut[Zt]){for(;this._skipPredicateFn(ut[Zt]);)if(!ut[Zt+=vt])return;this.setActiveItem(Zt)}}_getItemsArray(){return(0,b.Hps)(this._items)?this._items():this._items instanceof b.rOR?this._items.toArray():this._items}_itemsChanged(Zt){if(this._activeItem){const vt=Zt.indexOf(this._activeItem);vt>-1&&vt!==this._activeItemIndex&&(this._activeItemIndex=vt)}}}class p extends m{setActiveItem(Zt){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Zt),this.activeItem&&this.activeItem.setActiveStyles()}}class E extends m{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Zt){return this._origin=Zt,this}setActiveItem(Zt){super.setActiveItem(Zt),this.activeItem&&this.activeItem.focus(this._origin)}}let R=(()=>{class cn{constructor(vt){this._platform=vt}isDisabled(vt){return vt.hasAttribute("disabled")}isVisible(vt){return function s(cn){return!!(cn.offsetWidth||cn.offsetHeight||"function"==typeof cn.getClientRects&&cn.getClientRects().length)}(vt)&&"visible"===getComputedStyle(vt).visibility}isTabbable(vt){if(!this._platform.isBrowser)return!1;const ut=function x(cn){try{return cn.frameElement}catch{return null}}(function _e(cn){return cn.ownerDocument&&cn.ownerDocument.defaultView||window}(vt));if(ut&&(-1===Re(ut)||!this.isVisible(ut)))return!1;let Gt=vt.nodeName.toLowerCase(),nn=Re(vt);return vt.hasAttribute("contenteditable")?-1!==nn:!("iframe"===Gt||"object"===Gt||this._platform.WEBKIT&&this._platform.IOS&&!function Ve(cn){let Zt=cn.nodeName.toLowerCase(),vt="input"===Zt&&cn.type;return"text"===vt||"password"===vt||"select"===Zt||"textarea"===Zt}(vt))&&("audio"===Gt?!!vt.hasAttribute("controls")&&-1!==nn:"video"===Gt?-1!==nn&&(null!==nn||this._platform.FIREFOX||vt.hasAttribute("controls")):vt.tabIndex>=0)}isFocusable(vt,ut){return function Ee(cn){return!function $(cn){return function Q(cn){return"input"==cn.nodeName.toLowerCase()}(cn)&&"hidden"==cn.type}(cn)&&(function v(cn){let Zt=cn.nodeName.toLowerCase();return"input"===Zt||"select"===Zt||"button"===Zt||"textarea"===Zt}(cn)||function F(cn){return function de(cn){return"a"==cn.nodeName.toLowerCase()}(cn)&&cn.hasAttribute("href")}(cn)||cn.hasAttribute("contenteditable")||De(cn))}(vt)&&!this.isDisabled(vt)&&(ut?.ignoreVisibility||this.isVisible(vt))}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(P.OD))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();function De(cn){if(!cn.hasAttribute("tabindex")||void 0===cn.tabIndex)return!1;let Zt=cn.getAttribute("tabindex");return!(!Zt||isNaN(parseInt(Zt,10)))}function Re(cn){if(!De(cn))return null;const Zt=parseInt(cn.getAttribute("tabindex")||"",10);return isNaN(Zt)?-1:Zt}class Fe{get enabled(){return this._enabled}set enabled(Zt){this._enabled=Zt,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Zt,this._startAnchor),this._toggleAnchorTabIndex(Zt,this._endAnchor))}constructor(Zt,vt,ut,Gt,nn=!1,pn){this._element=Zt,this._checker=vt,this._ngZone=ut,this._document=Gt,this._injector=pn,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,nn||this.attachAnchors()}destroy(){const Zt=this._startAnchor,vt=this._endAnchor;Zt&&(Zt.removeEventListener("focus",this.startAnchorListener),Zt.remove()),vt&&(vt.removeEventListener("focus",this.endAnchorListener),vt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Zt){return new Promise(vt=>{this._executeOnStable(()=>vt(this.focusInitialElement(Zt)))})}focusFirstTabbableElementWhenReady(Zt){return new Promise(vt=>{this._executeOnStable(()=>vt(this.focusFirstTabbableElement(Zt)))})}focusLastTabbableElementWhenReady(Zt){return new Promise(vt=>{this._executeOnStable(()=>vt(this.focusLastTabbableElement(Zt)))})}_getRegionBoundary(Zt){const vt=this._element.querySelectorAll(`[cdk-focus-region-${Zt}], [cdkFocusRegion${Zt}], [cdk-focus-${Zt}]`);return"start"==Zt?vt.length?vt[0]:this._getFirstTabbableElement(this._element):vt.length?vt[vt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Zt){const vt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(vt){if(!this._checker.isFocusable(vt)){const ut=this._getFirstTabbableElement(vt);return ut?.focus(Zt),!!ut}return vt.focus(Zt),!0}return this.focusFirstTabbableElement(Zt)}focusFirstTabbableElement(Zt){const vt=this._getRegionBoundary("start");return vt&&vt.focus(Zt),!!vt}focusLastTabbableElement(Zt){const vt=this._getRegionBoundary("end");return vt&&vt.focus(Zt),!!vt}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Zt){if(this._checker.isFocusable(Zt)&&this._checker.isTabbable(Zt))return Zt;const vt=Zt.children;for(let ut=0;ut<vt.length;ut++){const Gt=vt[ut].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(vt[ut]):null;if(Gt)return Gt}return null}_getLastTabbableElement(Zt){if(this._checker.isFocusable(Zt)&&this._checker.isTabbable(Zt))return Zt;const vt=Zt.children;for(let ut=vt.length-1;ut>=0;ut--){const Gt=vt[ut].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(vt[ut]):null;if(Gt)return Gt}return null}_createAnchor(){const Zt=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Zt),Zt.classList.add("cdk-visually-hidden"),Zt.classList.add("cdk-focus-trap-anchor"),Zt.setAttribute("aria-hidden","true"),Zt}_toggleAnchorTabIndex(Zt,vt){Zt?vt.setAttribute("tabindex","0"):vt.removeAttribute("tabindex")}toggleAnchors(Zt){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Zt,this._startAnchor),this._toggleAnchorTabIndex(Zt,this._endAnchor))}_executeOnStable(Zt){this._injector?(0,b.mal)(Zt,{injector:this._injector}):setTimeout(Zt)}}let ve=(()=>{class cn{constructor(vt,ut,Gt){this._checker=vt,this._ngZone=ut,this._injector=(0,b.WQX)(b.zZn),this._document=Gt}create(vt,ut=!1){return new Fe(vt,this._checker,this._ngZone,this._document,ut,this._injector)}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(R),b.KVO(b.SKi),b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();function Ae(cn){return 0===cn.buttons||0===cn.detail}function Be(cn){const Zt=cn.touches&&cn.touches[0]||cn.changedTouches&&cn.changedTouches[0];return!(!Zt||-1!==Zt.identifier||null!=Zt.radiusX&&1!==Zt.radiusX||null!=Zt.radiusY&&1!==Zt.radiusY)}const qe=new b.nKC("cdk-input-modality-detector-options"),ze={ignoreKeys:[B.A$,B.W3,B.eg,B.Ge,B.FX]},Xe=(0,P.BQ)({passive:!0,capture:!0});let Ue=(()=>{class cn{get mostRecentModality(){return this._modality.value}constructor(vt,ut,Gt,nn){this._platform=vt,this._mostRecentTarget=null,this._modality=new O.t(null),this._lastTouchMs=0,this._onKeydown=pn=>{this._options?.ignoreKeys?.some(fr=>fr===pn.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,P.Fb)(pn))},this._onMousedown=pn=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ae(pn)?"keyboard":"mouse"),this._mostRecentTarget=(0,P.Fb)(pn))},this._onTouchstart=pn=>{Be(pn)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,P.Fb)(pn))},this._options={...ze,...nn},this.modalityDetected=this._modality.pipe((0,L.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,z.F)()),vt.isBrowser&&ut.runOutsideAngular(()=>{Gt.addEventListener("keydown",this._onKeydown,Xe),Gt.addEventListener("mousedown",this._onMousedown,Xe),Gt.addEventListener("touchstart",this._onTouchstart,Xe)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xe),document.removeEventListener("mousedown",this._onMousedown,Xe),document.removeEventListener("touchstart",this._onTouchstart,Xe))}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(P.OD),b.KVO(b.SKi),b.KVO(y.qQ),b.KVO(qe,8))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();const mt=new b.nKC("liveAnnouncerElement",{providedIn:"root",factory:function K(){return null}}),T=new b.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let M=0,Y=(()=>{class cn{constructor(vt,ut,Gt,nn){this._ngZone=ut,this._defaultOptions=nn,this._document=Gt,this._liveElement=vt||this._createLiveElement()}announce(vt,...ut){const Gt=this._defaultOptions;let nn,pn;return 1===ut.length&&"number"==typeof ut[0]?pn=ut[0]:[nn,pn]=ut,this.clear(),clearTimeout(this._previousTimeout),nn||(nn=Gt&&Gt.politeness?Gt.politeness:"polite"),null==pn&&Gt&&(pn=Gt.duration),this._liveElement.setAttribute("aria-live",nn),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(fr=>this._currentResolve=fr)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=vt,"number"==typeof pn&&(this._previousTimeout=setTimeout(()=>this.clear(),pn)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const vt="cdk-live-announcer-element",ut=this._document.getElementsByClassName(vt),Gt=this._document.createElement("div");for(let nn=0;nn<ut.length;nn++)ut[nn].remove();return Gt.classList.add(vt),Gt.classList.add("cdk-visually-hidden"),Gt.setAttribute("aria-atomic","true"),Gt.setAttribute("aria-live","polite"),Gt.id="cdk-live-announcer-"+M++,this._document.body.appendChild(Gt),Gt}_exposeAnnouncerToModals(vt){const ut=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Gt=0;Gt<ut.length;Gt++){const nn=ut[Gt],pn=nn.getAttribute("aria-owns");pn?-1===pn.indexOf(vt)&&nn.setAttribute("aria-owns",pn+" "+vt):nn.setAttribute("aria-owns",vt)}}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(mt,8),b.KVO(b.SKi),b.KVO(y.qQ),b.KVO(T,8))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})();var ke=function(cn){return cn[cn.IMMEDIATE=0]="IMMEDIATE",cn[cn.EVENTUAL=1]="EVENTUAL",cn}(ke||{});const Ne=new b.nKC("cdk-focus-monitor-default-options"),lt=(0,P.BQ)({passive:!0,capture:!0});let en=(()=>{class cn{constructor(vt,ut,Gt,nn,pn){this._ngZone=vt,this._platform=ut,this._inputModalityDetector=Gt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new H.B,this._rootNodeFocusAndBlurListener=fr=>{for(let wt=(0,P.Fb)(fr);wt;wt=wt.parentElement)"focus"===fr.type?this._onFocus(fr,wt):this._onBlur(fr,wt)},this._document=nn,this._detectionMode=pn?.detectionMode||ke.IMMEDIATE}monitor(vt,ut=!1){const Gt=(0,Z.i8)(vt);if(!this._platform.isBrowser||1!==Gt.nodeType)return(0,S.of)();const nn=(0,P.KT)(Gt)||this._getDocument(),pn=this._elementInfo.get(Gt);if(pn)return ut&&(pn.checkChildren=!0),pn.subject;const fr={checkChildren:ut,subject:new H.B,rootNode:nn};return this._elementInfo.set(Gt,fr),this._registerGlobalListeners(fr),fr.subject}stopMonitoring(vt){const ut=(0,Z.i8)(vt),Gt=this._elementInfo.get(ut);Gt&&(Gt.subject.complete(),this._setClasses(ut),this._elementInfo.delete(ut),this._removeGlobalListeners(Gt))}focusVia(vt,ut,Gt){const nn=(0,Z.i8)(vt);nn===this._getDocument().activeElement?this._getClosestElementsInfo(nn).forEach(([fr,yt])=>this._originChanged(fr,ut,yt)):(this._setOrigin(ut),"function"==typeof nn.focus&&nn.focus(Gt))}ngOnDestroy(){this._elementInfo.forEach((vt,ut)=>this.stopMonitoring(ut))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(vt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(vt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:vt&&this._isLastInteractionFromInputLabel(vt)?"mouse":"program"}_shouldBeAttributedToTouch(vt){return this._detectionMode===ke.EVENTUAL||!!vt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(vt,ut){vt.classList.toggle("cdk-focused",!!ut),vt.classList.toggle("cdk-touch-focused","touch"===ut),vt.classList.toggle("cdk-keyboard-focused","keyboard"===ut),vt.classList.toggle("cdk-mouse-focused","mouse"===ut),vt.classList.toggle("cdk-program-focused","program"===ut)}_setOrigin(vt,ut=!1){this._ngZone.runOutsideAngular(()=>{this._origin=vt,this._originFromTouchInteraction="touch"===vt&&ut,this._detectionMode===ke.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(vt,ut){const Gt=this._elementInfo.get(ut),nn=(0,P.Fb)(vt);!Gt||!Gt.checkChildren&&ut!==nn||this._originChanged(ut,this._getFocusOrigin(nn),Gt)}_onBlur(vt,ut){const Gt=this._elementInfo.get(ut);!Gt||Gt.checkChildren&&vt.relatedTarget instanceof Node&&ut.contains(vt.relatedTarget)||(this._setClasses(ut),this._emitOrigin(Gt,null))}_emitOrigin(vt,ut){vt.subject.observers.length&&this._ngZone.run(()=>vt.subject.next(ut))}_registerGlobalListeners(vt){if(!this._platform.isBrowser)return;const ut=vt.rootNode,Gt=this._rootNodeFocusListenerCount.get(ut)||0;Gt||this._ngZone.runOutsideAngular(()=>{ut.addEventListener("focus",this._rootNodeFocusAndBlurListener,lt),ut.addEventListener("blur",this._rootNodeFocusAndBlurListener,lt)}),this._rootNodeFocusListenerCount.set(ut,Gt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ee.Q)(this._stopInputModalityDetector)).subscribe(nn=>{this._setOrigin(nn,!0)}))}_removeGlobalListeners(vt){const ut=vt.rootNode;if(this._rootNodeFocusListenerCount.has(ut)){const Gt=this._rootNodeFocusListenerCount.get(ut);Gt>1?this._rootNodeFocusListenerCount.set(ut,Gt-1):(ut.removeEventListener("focus",this._rootNodeFocusAndBlurListener,lt),ut.removeEventListener("blur",this._rootNodeFocusAndBlurListener,lt),this._rootNodeFocusListenerCount.delete(ut))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(vt,ut,Gt){this._setClasses(vt,ut),this._emitOrigin(Gt,ut),this._lastFocusOrigin=ut}_getClosestElementsInfo(vt){const ut=[];return this._elementInfo.forEach((Gt,nn)=>{(nn===vt||Gt.checkChildren&&nn.contains(vt))&&ut.push([nn,Gt])}),ut}_isLastInteractionFromInputLabel(vt){const{_mostRecentTarget:ut,mostRecentModality:Gt}=this._inputModalityDetector;if("mouse"!==Gt||!ut||ut===vt||"INPUT"!==vt.nodeName&&"TEXTAREA"!==vt.nodeName||vt.disabled)return!1;const nn=vt.labels;if(nn)for(let pn=0;pn<nn.length;pn++)if(nn[pn].contains(ut))return!0;return!1}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(b.SKi),b.KVO(P.OD),b.KVO(Ue),b.KVO(y.qQ,8),b.KVO(Ne,8))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})(),It=(()=>{class cn{constructor(vt,ut){this._elementRef=vt,this._focusMonitor=ut,this._focusOrigin=null,this.cdkFocusChange=new b.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const vt=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(vt,1===vt.nodeType&&vt.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(ut=>{this._focusOrigin=ut,this.cdkFocusChange.emit(ut)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.rXU(b.aKT),b.rXU(en))};static#t=this.\u0275dir=b.FsC({type:cn,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return cn})();var Kt=function(cn){return cn[cn.NONE=0]="NONE",cn[cn.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",cn[cn.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",cn}(Kt||{});const rn="cdk-high-contrast-black-on-white",gn="cdk-high-contrast-white-on-black",ln="cdk-high-contrast-active";let ar=(()=>{class cn{constructor(vt,ut){this._platform=vt,this._document=ut,this._breakpointSubscription=(0,b.WQX)(J.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Kt.NONE;const vt=this._document.createElement("div");vt.style.backgroundColor="rgb(1,2,3)",vt.style.position="absolute",this._document.body.appendChild(vt);const ut=this._document.defaultView||window,Gt=ut&&ut.getComputedStyle?ut.getComputedStyle(vt):null,nn=(Gt&&Gt.backgroundColor||"").replace(/ /g,"");switch(vt.remove(),nn){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Kt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Kt.BLACK_ON_WHITE}return Kt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const vt=this._document.body.classList;vt.remove(ln,rn,gn),this._hasCheckedHighContrastMode=!0;const ut=this.getHighContrastMode();ut===Kt.BLACK_ON_WHITE?vt.add(ln,rn):ut===Kt.WHITE_ON_BLACK&&vt.add(ln,gn)}}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(P.OD),b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:cn,factory:cn.\u0275fac,providedIn:"root"})}return cn})(),Cn=(()=>{class cn{constructor(vt){vt._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(ut){return new(ut||cn)(b.KVO(ar))};static#t=this.\u0275mod=b.$C({type:cn});static#n=this.\u0275inj=b.G2t({imports:[q.w5]})}return cn})()},28203:(We,j,_)=>{"use strict";_.d(j,{dS:()=>S,jI:()=>N});var y=_(93953),b=_(60177);const P=new y.nKC("cdk-dir-doc",{providedIn:"root",factory:function H(){return(0,y.WQX)(b.qQ)}}),w=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let S=(()=>{class U{constructor(G){this.value="ltr",this.change=new y.bkB,G&&(this.value=function O(U){const A=U?.toLowerCase()||"";return"auto"===A&&typeof navigator<"u"&&navigator?.language?w.test(navigator.language)?"rtl":"ltr":"rtl"===A?"rtl":"ltr"}((G.body?G.body.dir:null)||(G.documentElement?G.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(L){return new(L||U)(y.KVO(P,8))};static#t=this.\u0275prov=y.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})(),N=(()=>{class U{static#e=this.\u0275fac=function(L){return new(L||U)};static#t=this.\u0275mod=y.$C({type:U});static#n=this.\u0275inj=y.G2t({})}return U})()},14085:(We,j,_)=>{"use strict";_.d(j,{FG:()=>w,OE:()=>P,a1:()=>O,he:()=>b,i8:()=>S,o1:()=>H});var y=_(93953);function b(N){return null!=N&&"false"!=`${N}`}function P(N,U=0){return H(N)?Number(N):U}function H(N){return!isNaN(parseFloat(N))&&!isNaN(Number(N))}function w(N){return Array.isArray(N)?N:[N]}function O(N){return null==N?"":"string"==typeof N?N:`${N}px`}function S(N){return N instanceof y.aKT?N.nativeElement:N}},45024:(We,j,_)=>{"use strict";_.d(j,{CB:()=>L,DQ:()=>G,Q3:()=>N,qS:()=>O,sL:()=>U,xn:()=>A,y4:()=>S,zP:()=>ee});var y=_(30017),H=(_(74402),_(7673),_(21413)),w=_(93953);class O{}function S(q){return q&&"function"==typeof q.connect&&!(q instanceof y.G)}var N=function(q){return q[q.REPLACED=0]="REPLACED",q[q.INSERTED=1]="INSERTED",q[q.MOVED=2]="MOVED",q[q.REMOVED=3]="REMOVED",q}(N||{});const U=new w.nKC("_ViewRepeater");class A{applyChanges(Z,J,se,ce,ae){Z.forEachOperation((fe,he,we)=>{let Me,Pe;if(null==fe.previousIndex){const C=se(fe,he,we);Me=J.createEmbeddedView(C.templateRef,C.context,C.index),Pe=N.INSERTED}else null==we?(J.remove(he),Pe=N.REMOVED):(Me=J.get(he),J.move(Me,we),Pe=N.MOVED);ae&&ae({context:Me?.context,operation:Pe,record:fe})})}detach(){}}class G{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Z,J,se,ce,ae){Z.forEachOperation((fe,he,we)=>{let Me,Pe;null==fe.previousIndex?(Me=this._insertView(()=>se(fe,he,we),we,J,ce(fe)),Pe=Me?N.INSERTED:N.REPLACED):null==we?(this._detachAndCacheView(he,J),Pe=N.REMOVED):(Me=this._moveView(he,we,J,ce(fe)),Pe=N.MOVED),ae&&ae({context:Me?.context,operation:Pe,record:fe})})}detach(){for(const Z of this._viewCache)Z.destroy();this._viewCache=[]}_insertView(Z,J,se,ce){const ae=this._insertViewFromCache(J,se);if(ae)return void(ae.context.$implicit=ce);const fe=Z();return se.createEmbeddedView(fe.templateRef,fe.context,fe.index)}_detachAndCacheView(Z,J){const se=J.detach(Z);this._maybeCacheView(se,J)}_moveView(Z,J,se,ce){const ae=se.get(Z);return se.move(ae,J),ae.context.$implicit=ce,ae}_maybeCacheView(Z,J){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Z);else{const se=J.indexOf(Z);-1===se?Z.destroy():J.remove(se)}}_insertViewFromCache(Z,J){const se=this._viewCache.pop();return se&&J.insert(se,Z),se||null}}class L{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(Z=!1,J,se=!0,ce){this._multiple=Z,this._emitChanges=se,this.compareWith=ce,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new H.B,J&&J.length&&(Z?J.forEach(ae=>this._markSelected(ae)):this._markSelected(J[0]),this._selectedToEmit.length=0)}select(...Z){this._verifyValueAssignment(Z),Z.forEach(se=>this._markSelected(se));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}deselect(...Z){this._verifyValueAssignment(Z),Z.forEach(se=>this._unmarkSelected(se));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}setSelection(...Z){this._verifyValueAssignment(Z);const J=this.selected,se=new Set(Z);Z.forEach(ae=>this._markSelected(ae)),J.filter(ae=>!se.has(this._getConcreteValue(ae,se))).forEach(ae=>this._unmarkSelected(ae));const ce=this._hasQueuedChanges();return this._emitChangeEvent(),ce}toggle(Z){return this.isSelected(Z)?this.deselect(Z):this.select(Z)}clear(Z=!0){this._unmarkAll();const J=this._hasQueuedChanges();return Z&&this._emitChangeEvent(),J}isSelected(Z){return this._selection.has(this._getConcreteValue(Z))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Z){this._multiple&&this.selected&&this._selected.sort(Z)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Z){Z=this._getConcreteValue(Z),this.isSelected(Z)||(this._multiple||this._unmarkAll(),this.isSelected(Z)||this._selection.add(Z),this._emitChanges&&this._selectedToEmit.push(Z))}_unmarkSelected(Z){Z=this._getConcreteValue(Z),this.isSelected(Z)&&(this._selection.delete(Z),this._emitChanges&&this._deselectedToEmit.push(Z))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Z=>this._unmarkSelected(Z))}_verifyValueAssignment(Z){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(Z,J){if(this.compareWith){J=J??this._selection;for(let se of J)if(this.compareWith(Z,se))return se;return Z}return Z}}let ee=(()=>{class q{constructor(){this._listeners=[]}notify(J,se){for(let ce of this._listeners)ce(J,se)}listen(J){return this._listeners.push(J),()=>{this._listeners=this._listeners.filter(se=>J!==se)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(se){return new(se||q)};static#t=this.\u0275prov=w.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})()},67336:(We,j,_)=>{"use strict";_.d(j,{A:()=>F,A$:()=>B,FX:()=>O,Fm:()=>w,Ge:()=>M,Kp:()=>ee,LE:()=>se,UQ:()=>Z,W3:()=>S,Z:()=>T,_f:()=>A,bn:()=>R,dB:()=>z,eg:()=>Gn,f2:()=>Me,i7:()=>J,n6:()=>ce,rp:()=>_r,t6:()=>G,w_:()=>L,wn:()=>P,yZ:()=>q});const P=9,w=13,O=16,S=17,B=18,A=27,G=32,L=33,z=34,ee=35,q=36,Z=37,J=38,se=39,ce=40,Me=48,R=57,F=65,T=90,M=91,Gn=224;function _r(Mr,...$r){return $r.length?$r.some(jr=>Mr[jr]):Mr.altKey||Mr.shiftKey||Mr.ctrlKey||Mr.metaKey}},99327:(We,j,_)=>{"use strict";_.d(j,{QP:()=>ce,Rp:()=>fe});var y=_(93953),b=_(14085),P=_(21413),H=_(84572),w=_(28793),O=_(71985),S=_(96697),B=_(65245),N=_(70152),U=_(96354),A=_(99172),G=_(56977),L=_(36860);const ee=new Set;let q,Z=(()=>{class he{constructor(Me,Pe){this._platform=Me,this._nonce=Pe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):se}matchMedia(Me){return(this._platform.WEBKIT||this._platform.BLINK)&&function J(he,we){if(!ee.has(he))try{q||(q=document.createElement("style"),we&&q.setAttribute("nonce",we),q.setAttribute("type","text/css"),document.head.appendChild(q)),q.sheet&&(q.sheet.insertRule(`@media ${he} {body{ }}`,0),ee.add(he))}catch(Me){console.error(Me)}}(Me,this._nonce),this._matchMedia(Me)}static#e=this.\u0275fac=function(Pe){return new(Pe||he)(y.KVO(L.OD),y.KVO(y.BIS,8))};static#t=this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})();function se(he){return{matches:"all"===he||""===he,media:he,addListener:()=>{},removeListener:()=>{}}}let ce=(()=>{class he{constructor(Me,Pe){this._mediaMatcher=Me,this._zone=Pe,this._queries=new Map,this._destroySubject=new P.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(Me){return ae((0,b.FG)(Me)).some(C=>this._registerQuery(C).mql.matches)}observe(Me){const C=ae((0,b.FG)(Me)).map(d=>this._registerQuery(d).observable);let a=(0,H.z)(C);return a=(0,w.x)(a.pipe((0,S.s)(1)),a.pipe((0,B.i)(1),(0,N.B)(0))),a.pipe((0,U.T)(d=>{const m={matches:!1,breakpoints:{}};return d.forEach(({matches:p,query:E})=>{m.matches=m.matches||p,m.breakpoints[E]=p}),m}))}_registerQuery(Me){if(this._queries.has(Me))return this._queries.get(Me);const Pe=this._mediaMatcher.matchMedia(Me),a={observable:new O.c(d=>{const m=p=>this._zone.run(()=>d.next(p));return Pe.addListener(m),()=>{Pe.removeListener(m)}}).pipe((0,A.Z)(Pe),(0,U.T)(({matches:d})=>({query:Me,matches:d})),(0,G.Q)(this._destroySubject)),mql:Pe};return this._queries.set(Me,a),a}static#e=this.\u0275fac=function(Pe){return new(Pe||he)(y.KVO(Z),y.KVO(y.SKi))};static#t=this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})();function ae(he){return he.map(we=>we.split(",")).reduce((we,Me)=>we.concat(Me)).map(we=>we.trim())}const fe={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},72318:(We,j,_)=>{"use strict";_.d(j,{Wv:()=>A,w5:()=>G});var y=_(14085),b=_(93953),P=_(71985),H=_(21413),w=_(96354),O=_(5964),S=_(70152);let N=(()=>{class L{create(ee){return typeof MutationObserver>"u"?null:new MutationObserver(ee)}static#e=this.\u0275fac=function(q){return new(q||L)};static#t=this.\u0275prov=b.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),U=(()=>{class L{constructor(ee){this._mutationObserverFactory=ee,this._observedElements=new Map,this._ngZone=(0,b.WQX)(b.SKi)}ngOnDestroy(){this._observedElements.forEach((ee,q)=>this._cleanupObserver(q))}observe(ee){const q=(0,y.i8)(ee);return new P.c(Z=>{const se=this._observeElement(q).pipe((0,w.T)(ce=>ce.filter(ae=>!function B(L){if("characterData"===L.type&&L.target instanceof Comment)return!0;if("childList"===L.type){for(let z=0;z<L.addedNodes.length;z++)if(!(L.addedNodes[z]instanceof Comment))return!1;for(let z=0;z<L.removedNodes.length;z++)if(!(L.removedNodes[z]instanceof Comment))return!1;return!0}return!1}(ae))),(0,O.p)(ce=>!!ce.length)).subscribe(ce=>{this._ngZone.run(()=>{Z.next(ce)})});return()=>{se.unsubscribe(),this._unobserveElement(q)}})}_observeElement(ee){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(ee))this._observedElements.get(ee).count++;else{const q=new H.B,Z=this._mutationObserverFactory.create(J=>q.next(J));Z&&Z.observe(ee,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ee,{observer:Z,stream:q,count:1})}return this._observedElements.get(ee).stream})}_unobserveElement(ee){this._observedElements.has(ee)&&(this._observedElements.get(ee).count--,this._observedElements.get(ee).count||this._cleanupObserver(ee))}_cleanupObserver(ee){if(this._observedElements.has(ee)){const{observer:q,stream:Z}=this._observedElements.get(ee);q&&q.disconnect(),Z.complete(),this._observedElements.delete(ee)}}static#e=this.\u0275fac=function(q){return new(q||L)(b.KVO(N))};static#t=this.\u0275prov=b.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})(),A=(()=>{class L{get disabled(){return this._disabled}set disabled(ee){this._disabled=ee,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ee){this._debounce=(0,y.OE)(ee),this._subscribe()}constructor(ee,q){this._contentObserver=ee,this._elementRef=q,this.event=new b.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ee=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?ee.pipe((0,S.B)(this.debounce)):ee).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(q){return new(q||L)(b.rXU(U),b.rXU(b.aKT))};static#t=this.\u0275dir=b.FsC({type:L,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",b.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[b.GFd]})}return L})(),G=(()=>{class L{static#e=this.\u0275fac=function(q){return new(q||L)};static#t=this.\u0275mod=b.$C({type:L});static#n=this.\u0275inj=b.G2t({providers:[N]})}return L})()},98170:(We,j,_)=>{"use strict";_.d(j,{a:()=>N});var y=_(93953),b=_(21413),P=_(71985),H=_(5964),w=_(44668),O=_(56977);class B{constructor(A){this._box=A,this._destroyed=new b.B,this._resizeSubject=new b.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(G=>this._resizeSubject.next(G)))}observe(A){return this._elementObservables.has(A)||this._elementObservables.set(A,new P.c(G=>{const L=this._resizeSubject.subscribe(G);return this._resizeObserver?.observe(A,{box:this._box}),()=>{this._resizeObserver?.unobserve(A),L.unsubscribe(),this._elementObservables.delete(A)}}).pipe((0,H.p)(G=>G.some(L=>L.target===A)),(0,w.t)({bufferSize:1,refCount:!0}),(0,O.Q)(this._destroyed))),this._elementObservables.get(A)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let N=(()=>{class U{constructor(){this._observers=new Map,this._ngZone=(0,y.WQX)(y.SKi)}ngOnDestroy(){for(const[,G]of this._observers)G.destroy();this._observers.clear()}observe(G,L){const z=L?.box||"content-box";return this._observers.has(z)||this._observers.set(z,new B(z)),this._observers.get(z).observe(G)}static#e=this.\u0275fac=function(L){return new(L||U)};static#t=this.\u0275prov=y.jDH({token:U,factory:U.\u0275fac,providedIn:"root"})}return U})()},66969:(We,j,_)=>{"use strict";_.d(j,{WB:()=>Ae,$Q:()=>le,hJ:()=>me,rR:()=>Pe,z_:()=>ze});var y=_(67333),b=_(60177),P=_(93953),H=_(14085),w=_(36860),O=_(5964),S=_(56977),B=_(39974),N=_(54360),A=_(28203),G=_(76939),L=_(21413),z=_(18359),ee=_(57786),q=_(67336);const Z=(0,w.CZ)();class J{constructor(Ue,mt){this._viewportRuler=Ue,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=mt}attach(){}enable(){if(this._canBeEnabled()){const Ue=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Ue.style.left||"",this._previousHTMLStyles.top=Ue.style.top||"",Ue.style.left=(0,H.a1)(-this._previousScrollPosition.left),Ue.style.top=(0,H.a1)(-this._previousScrollPosition.top),Ue.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Ue=this._document.documentElement,K=Ue.style,T=this._document.body.style,M=K.scrollBehavior||"",Y=T.scrollBehavior||"";this._isEnabled=!1,K.left=this._previousHTMLStyles.left,K.top=this._previousHTMLStyles.top,Ue.classList.remove("cdk-global-scrollblock"),Z&&(K.scrollBehavior=T.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Z&&(K.scrollBehavior=M,T.scrollBehavior=Y)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const mt=this._document.body,K=this._viewportRuler.getViewportSize();return mt.scrollHeight>K.height||mt.scrollWidth>K.width}}class ce{constructor(Ue,mt,K,T){this._scrollDispatcher=Ue,this._ngZone=mt,this._viewportRuler=K,this._config=T,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Ue){this._overlayRef=Ue}enable(){if(this._scrollSubscription)return;const Ue=this._scrollDispatcher.scrolled(0).pipe((0,O.p)(mt=>!mt||!this._overlayRef.overlayElement.contains(mt.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Ue.subscribe(()=>{const mt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(mt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Ue.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ae{enable(){}disable(){}attach(){}}function fe(Xe,Ue){return Ue.some(mt=>Xe.bottom<mt.top||Xe.top>mt.bottom||Xe.right<mt.left||Xe.left>mt.right)}function he(Xe,Ue){return Ue.some(mt=>Xe.top<mt.top||Xe.bottom>mt.bottom||Xe.left<mt.left||Xe.right>mt.right)}class we{constructor(Ue,mt,K,T){this._scrollDispatcher=Ue,this._viewportRuler=mt,this._ngZone=K,this._config=T,this._scrollSubscription=null}attach(Ue){this._overlayRef=Ue}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const mt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:K,height:T}=this._viewportRuler.getViewportSize();fe(mt,[{width:K,height:T,bottom:T,right:K,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Me=(()=>{class Xe{constructor(mt,K,T,M){this._scrollDispatcher=mt,this._viewportRuler=K,this._ngZone=T,this.noop=()=>new ae,this.close=Y=>new ce(this._scrollDispatcher,this._ngZone,this._viewportRuler,Y),this.block=()=>new J(this._viewportRuler,this._document),this.reposition=Y=>new we(this._scrollDispatcher,this._viewportRuler,this._ngZone,Y),this._document=M}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(y.R),P.KVO(y.Xj),P.KVO(P.SKi),P.KVO(b.qQ))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();class Pe{constructor(Ue){if(this.scrollStrategy=new ae,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Ue){const mt=Object.keys(Ue);for(const K of mt)void 0!==Ue[K]&&(this[K]=Ue[K])}}}class d{constructor(Ue,mt){this.connectionPair=Ue,this.scrollableViewProperties=mt}}let E=(()=>{class Xe{constructor(mt){this._attachedOverlays=[],this._document=mt}ngOnDestroy(){this.detach()}add(mt){this.remove(mt),this._attachedOverlays.push(mt)}remove(mt){const K=this._attachedOverlays.indexOf(mt);K>-1&&this._attachedOverlays.splice(K,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(b.qQ))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})(),D=(()=>{class Xe extends E{constructor(mt,K){super(mt),this._ngZone=K,this._keydownListener=T=>{const M=this._attachedOverlays;for(let Y=M.length-1;Y>-1;Y--)if(M[Y]._keydownEvents.observers.length>0){const pe=M[Y]._keydownEvents;this._ngZone?this._ngZone.run(()=>pe.next(T)):pe.next(T);break}}}add(mt){super.add(mt),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(b.qQ),P.KVO(P.SKi,8))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})(),R=(()=>{class Xe extends E{constructor(mt,K,T){super(mt),this._platform=K,this._ngZone=T,this._cursorStyleIsSet=!1,this._pointerDownListener=M=>{this._pointerDownEventTarget=(0,w.Fb)(M)},this._clickListener=M=>{const Y=(0,w.Fb)(M),pe="click"===M.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Y;this._pointerDownEventTarget=null;const ke=this._attachedOverlays.slice();for(let Ne=ke.length-1;Ne>-1;Ne--){const lt=ke[Ne];if(lt._outsidePointerEvents.observers.length<1||!lt.hasAttached())continue;if(x(lt.overlayElement,Y)||x(lt.overlayElement,pe))break;const en=lt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>en.next(M)):en.next(M)}}}add(mt){if(super.add(mt),!this._isAttached){const K=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(K)):this._addEventListeners(K),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=K.style.cursor,K.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const mt=this._document.body;mt.removeEventListener("pointerdown",this._pointerDownListener,!0),mt.removeEventListener("click",this._clickListener,!0),mt.removeEventListener("auxclick",this._clickListener,!0),mt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(mt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(mt){mt.addEventListener("pointerdown",this._pointerDownListener,!0),mt.addEventListener("click",this._clickListener,!0),mt.addEventListener("auxclick",this._clickListener,!0),mt.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(b.qQ),P.KVO(w.OD),P.KVO(P.SKi,8))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();function x(Xe,Ue){const mt=typeof ShadowRoot<"u"&&ShadowRoot;let K=Ue;for(;K;){if(K===Xe)return!0;K=mt&&K instanceof ShadowRoot?K.host:K.parentNode}return!1}let s=(()=>{class Xe{constructor(mt,K){this._platform=K,this._document=mt}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const mt="cdk-overlay-container";if(this._platform.isBrowser||(0,w.v8)()){const T=this._document.querySelectorAll(`.${mt}[platform="server"], .${mt}[platform="test"]`);for(let M=0;M<T.length;M++)T[M].remove()}const K=this._document.createElement("div");K.classList.add(mt),(0,w.v8)()?K.setAttribute("platform","test"):this._platform.isBrowser||K.setAttribute("platform","server"),this._document.body.appendChild(K),this._containerElement=K}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(b.qQ),P.KVO(w.OD))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();class v{constructor(Ue,mt,K,T,M,Y,pe,ke,Ne,lt=!1,en){this._portalOutlet=Ue,this._host=mt,this._pane=K,this._config=T,this._ngZone=M,this._keyboardDispatcher=Y,this._document=pe,this._location=ke,this._outsideClickDispatcher=Ne,this._animationsDisabled=lt,this._injector=en,this._backdropElement=null,this._backdropClick=new L.B,this._attachments=new L.B,this._detachments=new L.B,this._locationChanges=z.yU.EMPTY,this._backdropClickHandler=It=>this._backdropClick.next(It),this._backdropTransitionendHandler=It=>{this._disposeBackdrop(It.target)},this._keydownEvents=new L.B,this._outsidePointerEvents=new L.B,this._renders=new L.B,T.scrollStrategy&&(this._scrollStrategy=T.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=T.positionStrategy,this._afterRenderRef=(0,P.O8t)(()=>(0,P.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Ue){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const mt=this._portalOutlet.attach(Ue);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,P.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof mt?.onDestroy&&mt.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),mt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Ue=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Ue}dispose(){const Ue=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Ue&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Ue){Ue!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Ue,this.hasAttached()&&(Ue.attach(this),this.updatePosition()))}updateSize(Ue){this._config={...this._config,...Ue},this._updateElementSize()}setDirection(Ue){this._config={...this._config,direction:Ue},this._updateElementDirection()}addPanelClass(Ue){this._pane&&this._toggleClasses(this._pane,Ue,!0)}removePanelClass(Ue){this._pane&&this._toggleClasses(this._pane,Ue,!1)}getDirection(){const Ue=this._config.direction;return Ue?"string"==typeof Ue?Ue:Ue.value:"ltr"}updateScrollStrategy(Ue){Ue!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Ue,this.hasAttached()&&(Ue.attach(this),Ue.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Ue=this._pane.style;Ue.width=(0,H.a1)(this._config.width),Ue.height=(0,H.a1)(this._config.height),Ue.minWidth=(0,H.a1)(this._config.minWidth),Ue.minHeight=(0,H.a1)(this._config.minHeight),Ue.maxWidth=(0,H.a1)(this._config.maxWidth),Ue.maxHeight=(0,H.a1)(this._config.maxHeight)}_togglePointerEvents(Ue){this._pane.style.pointerEvents=Ue?"":"none"}_attachBackdrop(){const Ue="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Ue)})}):this._backdropElement.classList.add(Ue)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Ue=this._backdropElement;if(Ue){if(this._animationsDisabled)return void this._disposeBackdrop(Ue);Ue.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Ue.addEventListener("transitionend",this._backdropTransitionendHandler)}),Ue.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Ue)},500))}}_toggleClasses(Ue,mt,K){const T=(0,H.FG)(mt||[]).filter(M=>!!M);T.length&&(K?Ue.classList.add(...T):Ue.classList.remove(...T))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Ue=this._renders.pipe((0,S.Q)((0,ee.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Ue.unsubscribe())})})}_disposeScrollStrategy(){const Ue=this._scrollStrategy;Ue&&(Ue.disable(),Ue.detach&&Ue.detach())}_disposeBackdrop(Ue){Ue&&(Ue.removeEventListener("click",this._backdropClickHandler),Ue.removeEventListener("transitionend",this._backdropTransitionendHandler),Ue.remove(),this._backdropElement===Ue&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const $="cdk-overlay-connected-position-bounding-box",F=/([A-Za-z%]+)$/;class Q{get positions(){return this._preferredPositions}constructor(Ue,mt,K,T,M){this._viewportRuler=mt,this._document=K,this._platform=T,this._overlayContainer=M,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new L.B,this._resizeSubscription=z.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Ue)}attach(Ue){this._validatePositions(),Ue.hostElement.classList.add($),this._overlayRef=Ue,this._boundingBox=Ue.hostElement,this._pane=Ue.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Ue=this._originRect,mt=this._overlayRect,K=this._viewportRect,T=this._containerRect,M=[];let Y;for(let pe of this._preferredPositions){let ke=this._getOriginPoint(Ue,T,pe),Ne=this._getOverlayPoint(ke,mt,pe),lt=this._getOverlayFit(Ne,mt,K,pe);if(lt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(pe,ke);this._canFitWithFlexibleDimensions(lt,Ne,K)?M.push({position:pe,origin:ke,overlayRect:mt,boundingBoxRect:this._calculateBoundingBoxRect(ke,pe)}):(!Y||Y.overlayFit.visibleArea<lt.visibleArea)&&(Y={overlayFit:lt,overlayPoint:Ne,originPoint:ke,position:pe,overlayRect:mt})}if(M.length){let pe=null,ke=-1;for(const Ne of M){const lt=Ne.boundingBoxRect.width*Ne.boundingBoxRect.height*(Ne.position.weight||1);lt>ke&&(ke=lt,pe=Ne)}return this._isPushed=!1,void this._applyPosition(pe.position,pe.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Y.position,Y.originPoint);this._applyPosition(Y.position,Y.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&de(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove($),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Ue=this._lastPosition;if(Ue){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const mt=this._getOriginPoint(this._originRect,this._containerRect,Ue);this._applyPosition(Ue,mt)}else this.apply()}withScrollableContainers(Ue){return this._scrollables=Ue,this}withPositions(Ue){return this._preferredPositions=Ue,-1===Ue.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Ue){return this._viewportMargin=Ue,this}withFlexibleDimensions(Ue=!0){return this._hasFlexibleDimensions=Ue,this}withGrowAfterOpen(Ue=!0){return this._growAfterOpen=Ue,this}withPush(Ue=!0){return this._canPush=Ue,this}withLockedPosition(Ue=!0){return this._positionLocked=Ue,this}setOrigin(Ue){return this._origin=Ue,this}withDefaultOffsetX(Ue){return this._offsetX=Ue,this}withDefaultOffsetY(Ue){return this._offsetY=Ue,this}withTransformOriginOn(Ue){return this._transformOriginSelector=Ue,this}_getOriginPoint(Ue,mt,K){let T,M;if("center"==K.originX)T=Ue.left+Ue.width/2;else{const Y=this._isRtl()?Ue.right:Ue.left,pe=this._isRtl()?Ue.left:Ue.right;T="start"==K.originX?Y:pe}return mt.left<0&&(T-=mt.left),M="center"==K.originY?Ue.top+Ue.height/2:"top"==K.originY?Ue.top:Ue.bottom,mt.top<0&&(M-=mt.top),{x:T,y:M}}_getOverlayPoint(Ue,mt,K){let T,M;return T="center"==K.overlayX?-mt.width/2:"start"===K.overlayX?this._isRtl()?-mt.width:0:this._isRtl()?0:-mt.width,M="center"==K.overlayY?-mt.height/2:"top"==K.overlayY?0:-mt.height,{x:Ue.x+T,y:Ue.y+M}}_getOverlayFit(Ue,mt,K,T){const M=Re(mt);let{x:Y,y:pe}=Ue,ke=this._getOffset(T,"x"),Ne=this._getOffset(T,"y");ke&&(Y+=ke),Ne&&(pe+=Ne);let It=0-pe,Kt=pe+M.height-K.height,rn=this._subtractOverflows(M.width,0-Y,Y+M.width-K.width),gn=this._subtractOverflows(M.height,It,Kt),ln=rn*gn;return{visibleArea:ln,isCompletelyWithinViewport:M.width*M.height===ln,fitsInViewportVertically:gn===M.height,fitsInViewportHorizontally:rn==M.width}}_canFitWithFlexibleDimensions(Ue,mt,K){if(this._hasFlexibleDimensions){const T=K.bottom-mt.y,M=K.right-mt.x,Y=De(this._overlayRef.getConfig().minHeight),pe=De(this._overlayRef.getConfig().minWidth);return(Ue.fitsInViewportVertically||null!=Y&&Y<=T)&&(Ue.fitsInViewportHorizontally||null!=pe&&pe<=M)}return!1}_pushOverlayOnScreen(Ue,mt,K){if(this._previousPushAmount&&this._positionLocked)return{x:Ue.x+this._previousPushAmount.x,y:Ue.y+this._previousPushAmount.y};const T=Re(mt),M=this._viewportRect,Y=Math.max(Ue.x+T.width-M.width,0),pe=Math.max(Ue.y+T.height-M.height,0),ke=Math.max(M.top-K.top-Ue.y,0),Ne=Math.max(M.left-K.left-Ue.x,0);let lt=0,en=0;return lt=T.width<=M.width?Ne||-Y:Ue.x<this._viewportMargin?M.left-K.left-Ue.x:0,en=T.height<=M.height?ke||-pe:Ue.y<this._viewportMargin?M.top-K.top-Ue.y:0,this._previousPushAmount={x:lt,y:en},{x:Ue.x+lt,y:Ue.y+en}}_applyPosition(Ue,mt){if(this._setTransformOrigin(Ue),this._setOverlayElementStyles(mt,Ue),this._setBoundingBoxStyles(mt,Ue),Ue.panelClass&&this._addPanelClasses(Ue.panelClass),this._positionChanges.observers.length){const K=this._getScrollVisibility();if(Ue!==this._lastPosition||!this._lastScrollVisibility||!function Ve(Xe,Ue){return Xe===Ue||Xe.isOriginClipped===Ue.isOriginClipped&&Xe.isOriginOutsideView===Ue.isOriginOutsideView&&Xe.isOverlayClipped===Ue.isOverlayClipped&&Xe.isOverlayOutsideView===Ue.isOverlayOutsideView}(this._lastScrollVisibility,K)){const T=new d(Ue,K);this._positionChanges.next(T)}this._lastScrollVisibility=K}this._lastPosition=Ue,this._isInitialRender=!1}_setTransformOrigin(Ue){if(!this._transformOriginSelector)return;const mt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let K,T=Ue.overlayY;K="center"===Ue.overlayX?"center":this._isRtl()?"start"===Ue.overlayX?"right":"left":"start"===Ue.overlayX?"left":"right";for(let M=0;M<mt.length;M++)mt[M].style.transformOrigin=`${K} ${T}`}_calculateBoundingBoxRect(Ue,mt){const K=this._viewportRect,T=this._isRtl();let M,Y,pe,lt,en,It;if("top"===mt.overlayY)Y=Ue.y,M=K.height-Y+this._viewportMargin;else if("bottom"===mt.overlayY)pe=K.height-Ue.y+2*this._viewportMargin,M=K.height-pe+this._viewportMargin;else{const Kt=Math.min(K.bottom-Ue.y+K.top,Ue.y),rn=this._lastBoundingBoxSize.height;M=2*Kt,Y=Ue.y-Kt,M>rn&&!this._isInitialRender&&!this._growAfterOpen&&(Y=Ue.y-rn/2)}if("end"===mt.overlayX&&!T||"start"===mt.overlayX&&T)It=K.width-Ue.x+2*this._viewportMargin,lt=Ue.x-this._viewportMargin;else if("start"===mt.overlayX&&!T||"end"===mt.overlayX&&T)en=Ue.x,lt=K.right-Ue.x;else{const Kt=Math.min(K.right-Ue.x+K.left,Ue.x),rn=this._lastBoundingBoxSize.width;lt=2*Kt,en=Ue.x-Kt,lt>rn&&!this._isInitialRender&&!this._growAfterOpen&&(en=Ue.x-rn/2)}return{top:Y,left:en,bottom:pe,right:It,width:lt,height:M}}_setBoundingBoxStyles(Ue,mt){const K=this._calculateBoundingBoxRect(Ue,mt);!this._isInitialRender&&!this._growAfterOpen&&(K.height=Math.min(K.height,this._lastBoundingBoxSize.height),K.width=Math.min(K.width,this._lastBoundingBoxSize.width));const T={};if(this._hasExactPosition())T.top=T.left="0",T.bottom=T.right=T.maxHeight=T.maxWidth="",T.width=T.height="100%";else{const M=this._overlayRef.getConfig().maxHeight,Y=this._overlayRef.getConfig().maxWidth;T.height=(0,H.a1)(K.height),T.top=(0,H.a1)(K.top),T.bottom=(0,H.a1)(K.bottom),T.width=(0,H.a1)(K.width),T.left=(0,H.a1)(K.left),T.right=(0,H.a1)(K.right),T.alignItems="center"===mt.overlayX?"center":"end"===mt.overlayX?"flex-end":"flex-start",T.justifyContent="center"===mt.overlayY?"center":"bottom"===mt.overlayY?"flex-end":"flex-start",M&&(T.maxHeight=(0,H.a1)(M)),Y&&(T.maxWidth=(0,H.a1)(Y))}this._lastBoundingBoxSize=K,de(this._boundingBox.style,T)}_resetBoundingBoxStyles(){de(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){de(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Ue,mt){const K={},T=this._hasExactPosition(),M=this._hasFlexibleDimensions,Y=this._overlayRef.getConfig();if(T){const lt=this._viewportRuler.getViewportScrollPosition();de(K,this._getExactOverlayY(mt,Ue,lt)),de(K,this._getExactOverlayX(mt,Ue,lt))}else K.position="static";let pe="",ke=this._getOffset(mt,"x"),Ne=this._getOffset(mt,"y");ke&&(pe+=`translateX(${ke}px) `),Ne&&(pe+=`translateY(${Ne}px)`),K.transform=pe.trim(),Y.maxHeight&&(T?K.maxHeight=(0,H.a1)(Y.maxHeight):M&&(K.maxHeight="")),Y.maxWidth&&(T?K.maxWidth=(0,H.a1)(Y.maxWidth):M&&(K.maxWidth="")),de(this._pane.style,K)}_getExactOverlayY(Ue,mt,K){let T={top:"",bottom:""},M=this._getOverlayPoint(mt,this._overlayRect,Ue);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,K)),"bottom"===Ue.overlayY?T.bottom=this._document.documentElement.clientHeight-(M.y+this._overlayRect.height)+"px":T.top=(0,H.a1)(M.y),T}_getExactOverlayX(Ue,mt,K){let Y,T={left:"",right:""},M=this._getOverlayPoint(mt,this._overlayRect,Ue);return this._isPushed&&(M=this._pushOverlayOnScreen(M,this._overlayRect,K)),Y=this._isRtl()?"end"===Ue.overlayX?"left":"right":"end"===Ue.overlayX?"right":"left","right"===Y?T.right=this._document.documentElement.clientWidth-(M.x+this._overlayRect.width)+"px":T.left=(0,H.a1)(M.x),T}_getScrollVisibility(){const Ue=this._getOriginRect(),mt=this._pane.getBoundingClientRect(),K=this._scrollables.map(T=>T.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:he(Ue,K),isOriginOutsideView:fe(Ue,K),isOverlayClipped:he(mt,K),isOverlayOutsideView:fe(mt,K)}}_subtractOverflows(Ue,...mt){return mt.reduce((K,T)=>K-Math.max(T,0),Ue)}_getNarrowedViewportRect(){const Ue=this._document.documentElement.clientWidth,mt=this._document.documentElement.clientHeight,K=this._viewportRuler.getViewportScrollPosition();return{top:K.top+this._viewportMargin,left:K.left+this._viewportMargin,right:K.left+Ue-this._viewportMargin,bottom:K.top+mt-this._viewportMargin,width:Ue-2*this._viewportMargin,height:mt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Ue,mt){return"x"===mt?null==Ue.offsetX?this._offsetX:Ue.offsetX:null==Ue.offsetY?this._offsetY:Ue.offsetY}_validatePositions(){}_addPanelClasses(Ue){this._pane&&(0,H.FG)(Ue).forEach(mt=>{""!==mt&&-1===this._appliedPanelClasses.indexOf(mt)&&(this._appliedPanelClasses.push(mt),this._pane.classList.add(mt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Ue=>{this._pane.classList.remove(Ue)}),this._appliedPanelClasses=[])}_getOriginRect(){const Ue=this._origin;if(Ue instanceof P.aKT)return Ue.nativeElement.getBoundingClientRect();if(Ue instanceof Element)return Ue.getBoundingClientRect();const mt=Ue.width||0,K=Ue.height||0;return{top:Ue.y,bottom:Ue.y+K,left:Ue.x,right:Ue.x+mt,height:K,width:mt}}}function de(Xe,Ue){for(let mt in Ue)Ue.hasOwnProperty(mt)&&(Xe[mt]=Ue[mt]);return Xe}function De(Xe){if("number"!=typeof Xe&&null!=Xe){const[Ue,mt]=Xe.split(F);return mt&&"px"!==mt?null:parseFloat(Ue)}return Xe||null}function Re(Xe){return{top:Math.floor(Xe.top),right:Math.floor(Xe.right),bottom:Math.floor(Xe.bottom),left:Math.floor(Xe.left),width:Math.floor(Xe.width),height:Math.floor(Xe.height)}}const Fe="cdk-global-overlay-wrapper";class ve{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Ue){const mt=Ue.getConfig();this._overlayRef=Ue,this._width&&!mt.width&&Ue.updateSize({width:this._width}),this._height&&!mt.height&&Ue.updateSize({height:this._height}),Ue.hostElement.classList.add(Fe),this._isDisposed=!1}top(Ue=""){return this._bottomOffset="",this._topOffset=Ue,this._alignItems="flex-start",this}left(Ue=""){return this._xOffset=Ue,this._xPosition="left",this}bottom(Ue=""){return this._topOffset="",this._bottomOffset=Ue,this._alignItems="flex-end",this}right(Ue=""){return this._xOffset=Ue,this._xPosition="right",this}start(Ue=""){return this._xOffset=Ue,this._xPosition="start",this}end(Ue=""){return this._xOffset=Ue,this._xPosition="end",this}width(Ue=""){return this._overlayRef?this._overlayRef.updateSize({width:Ue}):this._width=Ue,this}height(Ue=""){return this._overlayRef?this._overlayRef.updateSize({height:Ue}):this._height=Ue,this}centerHorizontally(Ue=""){return this.left(Ue),this._xPosition="center",this}centerVertically(Ue=""){return this.top(Ue),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Ue=this._overlayRef.overlayElement.style,mt=this._overlayRef.hostElement.style,K=this._overlayRef.getConfig(),{width:T,height:M,maxWidth:Y,maxHeight:pe}=K,ke=!("100%"!==T&&"100vw"!==T||Y&&"100%"!==Y&&"100vw"!==Y),Ne=!("100%"!==M&&"100vh"!==M||pe&&"100%"!==pe&&"100vh"!==pe),lt=this._xPosition,en=this._xOffset,It="rtl"===this._overlayRef.getConfig().direction;let Kt="",rn="",gn="";ke?gn="flex-start":"center"===lt?(gn="center",It?rn=en:Kt=en):It?"left"===lt||"end"===lt?(gn="flex-end",Kt=en):("right"===lt||"start"===lt)&&(gn="flex-start",rn=en):"left"===lt||"start"===lt?(gn="flex-start",Kt=en):("right"===lt||"end"===lt)&&(gn="flex-end",rn=en),Ue.position=this._cssPosition,Ue.marginLeft=ke?"0":Kt,Ue.marginTop=Ne?"0":this._topOffset,Ue.marginBottom=this._bottomOffset,Ue.marginRight=ke?"0":rn,mt.justifyContent=gn,mt.alignItems=Ne?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Ue=this._overlayRef.overlayElement.style,mt=this._overlayRef.hostElement,K=mt.style;mt.classList.remove(Fe),K.justifyContent=K.alignItems=Ue.marginTop=Ue.marginBottom=Ue.marginLeft=Ue.marginRight=Ue.position="",this._overlayRef=null,this._isDisposed=!0}}let Te=(()=>{class Xe{constructor(mt,K,T,M){this._viewportRuler=mt,this._document=K,this._platform=T,this._overlayContainer=M}global(){return new ve}flexibleConnectedTo(mt){return new Q(mt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(y.Xj),P.KVO(b.qQ),P.KVO(w.OD),P.KVO(s))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})(),ge=0,me=(()=>{class Xe{constructor(mt,K,T,M,Y,pe,ke,Ne,lt,en,It,Kt){this.scrollStrategies=mt,this._overlayContainer=K,this._componentFactoryResolver=T,this._positionBuilder=M,this._keyboardDispatcher=Y,this._injector=pe,this._ngZone=ke,this._document=Ne,this._directionality=lt,this._location=en,this._outsideClickDispatcher=It,this._animationsModuleType=Kt}create(mt){const K=this._createHostElement(),T=this._createPaneElement(K),M=this._createPortalOutlet(T),Y=new Pe(mt);return Y.direction=Y.direction||this._directionality.value,new v(M,K,T,Y,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(P.uvJ))}position(){return this._positionBuilder}_createPaneElement(mt){const K=this._document.createElement("div");return K.id="cdk-overlay-"+ge++,K.classList.add("cdk-overlay-pane"),mt.appendChild(K),K}_createHostElement(){const mt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(mt),mt}_createPortalOutlet(mt){return this._appRef||(this._appRef=this._injector.get(P.o8S)),new G.aI(mt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.KVO(Me),P.KVO(s),P.KVO(P.OM3),P.KVO(Te),P.KVO(D),P.KVO(P.zZn),P.KVO(P.SKi),P.KVO(b.qQ),P.KVO(A.dS),P.KVO(b.aZ),P.KVO(R),P.KVO(P.bc$,8))};static#t=this.\u0275prov=P.jDH({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}return Xe})();const te=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ne=new P.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const Xe=(0,P.WQX)(me);return()=>Xe.scrollStrategies.reposition()}});let le=(()=>{class Xe{constructor(mt){this.elementRef=mt}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.rXU(P.aKT))};static#t=this.\u0275dir=P.FsC({type:Xe,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Xe})(),Ae=(()=>{class Xe{get offsetX(){return this._offsetX}set offsetX(mt){this._offsetX=mt,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(mt){this._offsetY=mt,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(mt){this._disposeOnNavigation=mt}constructor(mt,K,T,M,Y){this._overlay=mt,this._dir=Y,this._backdropSubscription=z.yU.EMPTY,this._attachSubscription=z.yU.EMPTY,this._detachSubscription=z.yU.EMPTY,this._positionSubscription=z.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,P.WQX)(P.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new P.bkB,this.positionChange=new P.bkB,this.attach=new P.bkB,this.detach=new P.bkB,this.overlayKeydown=new P.bkB,this.overlayOutsideClick=new P.bkB,this._templatePortal=new G.VA(K,T),this._scrollStrategyFactory=M,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(mt){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),mt.origin&&this.open&&this._position.apply()),mt.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=te);const mt=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=mt.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=mt.detachments().subscribe(()=>this.detach.emit()),mt.keydownEvents().subscribe(K=>{this.overlayKeydown.next(K),K.keyCode===q._f&&!this.disableClose&&!(0,q.rp)(K)&&(K.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(K=>{const T=this._getOriginElement(),M=(0,w.Fb)(K);(!T||T!==M&&!T.contains(M))&&this.overlayOutsideClick.next(K)})}_buildConfig(){const mt=this._position=this.positionStrategy||this._createPositionStrategy(),K=new Pe({direction:this._dir,positionStrategy:mt,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(K.width=this.width),(this.height||0===this.height)&&(K.height=this.height),(this.minWidth||0===this.minWidth)&&(K.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(K.minHeight=this.minHeight),this.backdropClass&&(K.backdropClass=this.backdropClass),this.panelClass&&(K.panelClass=this.panelClass),K}_updatePositionStrategy(mt){const K=this.positions.map(T=>({originX:T.originX,originY:T.originY,overlayX:T.overlayX,overlayY:T.overlayY,offsetX:T.offsetX||this.offsetX,offsetY:T.offsetY||this.offsetY,panelClass:T.panelClass||void 0}));return mt.setOrigin(this._getOrigin()).withPositions(K).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const mt=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(mt),mt}_getOrigin(){return this.origin instanceof le?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof le?this.origin.elementRef.nativeElement:this.origin instanceof P.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(mt=>{this.backdropClick.emit(mt)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function U(Xe,Ue=!1){return(0,B.N)((mt,K)=>{let T=0;mt.subscribe((0,N._)(K,M=>{const Y=Xe(M,T++);(Y||Ue)&&K.next(M),!Y&&K.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(mt=>{this._ngZone.run(()=>this.positionChange.emit(mt)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(K){return new(K||Xe)(P.rXU(me),P.rXU(P.C4Q),P.rXU(P.c1b),P.rXU(ne),P.rXU(A.dS,8))};static#t=this.\u0275dir=P.FsC({type:Xe,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",P.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",P.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",P.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",P.L39],push:[2,"cdkConnectedOverlayPush","push",P.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",P.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[P.GFd,P.OA$]})}return Xe})();const qe={provide:ne,deps:[me],useFactory:function Be(Xe){return()=>Xe.scrollStrategies.reposition()}};let ze=(()=>{class Xe{static#e=this.\u0275fac=function(K){return new(K||Xe)};static#t=this.\u0275mod=P.$C({type:Xe});static#n=this.\u0275inj=P.G2t({providers:[me,qe],imports:[A.jI,G.jc,y.E9,y.E9]})}return Xe})()},36860:(We,j,_)=>{"use strict";_.d(j,{BD:()=>q,BQ:()=>A,CZ:()=>ee,Fb:()=>ae,KT:()=>se,MU:()=>B,OD:()=>H,r5:()=>G,v8:()=>fe,vc:()=>ce});var y=_(93953),b=_(60177);let P;try{P=typeof Intl<"u"&&Intl.v8BreakIterator}catch{P=!1}let O,H=(()=>{class he{constructor(Me){this._platformId=Me,this.isBrowser=this._platformId?(0,b.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!P)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(Pe){return new(Pe||he)(y.KVO(y.Agw))};static#t=this.\u0275prov=y.jDH({token:he,factory:he.\u0275fac,providedIn:"root"})}return he})();const S=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function B(){if(O)return O;if("object"!=typeof document||!document)return O=new Set(S),O;let he=document.createElement("input");return O=new Set(S.filter(we=>(he.setAttribute("type",we),he.type===we))),O}let N;function A(he){return function U(){if(null==N&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>N=!0}))}finally{N=N||!1}return N}()?he:!!he.capture}var G=function(he){return he[he.NORMAL=0]="NORMAL",he[he.NEGATED=1]="NEGATED",he[he.INVERTED=2]="INVERTED",he}(G||{});let L,z,Z;function ee(){if(null==z){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return z=!1,z;if("scrollBehavior"in document.documentElement.style)z=!0;else{const he=Element.prototype.scrollTo;z=!!he&&!/\{\s*\[native code\]\s*\}/.test(he.toString())}}return z}function q(){if("object"!=typeof document||!document)return G.NORMAL;if(null==L){const he=document.createElement("div"),we=he.style;he.dir="rtl",we.width="1px",we.overflow="auto",we.visibility="hidden",we.pointerEvents="none",we.position="absolute";const Me=document.createElement("div"),Pe=Me.style;Pe.width="2px",Pe.height="1px",he.appendChild(Me),document.body.appendChild(he),L=G.NORMAL,0===he.scrollLeft&&(he.scrollLeft=1,L=0===he.scrollLeft?G.NEGATED:G.INVERTED),he.remove()}return L}function se(he){if(function J(){if(null==Z){const he=typeof document<"u"?document.head:null;Z=!(!he||!he.createShadowRoot&&!he.attachShadow)}return Z}()){const we=he.getRootNode?he.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&we instanceof ShadowRoot)return we}return null}function ce(){let he=typeof document<"u"&&document?document.activeElement:null;for(;he&&he.shadowRoot;){const we=he.shadowRoot.activeElement;if(we===he)break;he=we}return he}function ae(he){return he.composedPath?he.composedPath()[0]:he.target}function fe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(We,j,_)=>{"use strict";_.d(j,{A8:()=>U,I3:()=>se,VA:()=>A,aI:()=>ee,bV:()=>Z,jc:()=>ae,lb:()=>L});var y=_(93953),b=_(60177);class N{attach(we){return this._attachedHost=we,we.attach(this)}detach(){let we=this._attachedHost;null!=we&&(this._attachedHost=null,we.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(we){this._attachedHost=we}}class U extends N{constructor(we,Me,Pe,C,a){super(),this.component=we,this.viewContainerRef=Me,this.injector=Pe,this.componentFactoryResolver=C,this.projectableNodes=a}}class A extends N{constructor(we,Me,Pe,C){super(),this.templateRef=we,this.viewContainerRef=Me,this.context=Pe,this.injector=C}get origin(){return this.templateRef.elementRef}attach(we,Me=this.context){return this.context=Me,super.attach(we)}detach(){return this.context=void 0,super.detach()}}class G extends N{constructor(we){super(),this.element=we instanceof y.aKT?we.nativeElement:we}}class L{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(we){return we instanceof U?(this._attachedPortal=we,this.attachComponentPortal(we)):we instanceof A?(this._attachedPortal=we,this.attachTemplatePortal(we)):this.attachDomPortal&&we instanceof G?(this._attachedPortal=we,this.attachDomPortal(we)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(we){this._disposeFn=we}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ee extends L{constructor(we,Me,Pe,C,a){super(),this.outletElement=we,this._componentFactoryResolver=Me,this._appRef=Pe,this._defaultInjector=C,this.attachDomPortal=d=>{const m=d.element,p=this._document.createComment("dom-portal");m.parentNode.insertBefore(p,m),this.outletElement.appendChild(m),this._attachedPortal=d,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(m,p)})},this._document=a}attachComponentPortal(we){const Pe=(we.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(we.component);let C;return we.viewContainerRef?(C=we.viewContainerRef.createComponent(Pe,we.viewContainerRef.length,we.injector||we.viewContainerRef.injector,we.projectableNodes||void 0),this.setDisposeFn(()=>C.destroy())):(C=Pe.create(we.injector||this._defaultInjector||y.zZn.NULL),this._appRef.attachView(C.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(C.hostView),C.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(C)),this._attachedPortal=we,C}attachTemplatePortal(we){let Me=we.viewContainerRef,Pe=Me.createEmbeddedView(we.templateRef,we.context,{injector:we.injector});return Pe.rootNodes.forEach(C=>this.outletElement.appendChild(C)),Pe.detectChanges(),this.setDisposeFn(()=>{let C=Me.indexOf(Pe);-1!==C&&Me.remove(C)}),this._attachedPortal=we,Pe}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(we){return we.hostView.rootNodes[0]}}let Z=(()=>{class he extends A{constructor(Me,Pe){super(Me,Pe)}static#e=this.\u0275fac=function(Pe){return new(Pe||he)(y.rXU(y.C4Q),y.rXU(y.c1b))};static#t=this.\u0275dir=y.FsC({type:he,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[y.Vt3]})}return he})(),se=(()=>{class he extends L{constructor(Me,Pe,C){super(),this._componentFactoryResolver=Me,this._viewContainerRef=Pe,this._isInitialized=!1,this.attached=new y.bkB,this.attachDomPortal=a=>{const d=a.element,m=this._document.createComment("dom-portal");a.setAttachedHost(this),d.parentNode.insertBefore(m,d),this._getRootNode().appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(d,m)})},this._document=C}get portal(){return this._attachedPortal}set portal(Me){this.hasAttached()&&!Me&&!this._isInitialized||(this.hasAttached()&&super.detach(),Me&&super.attach(Me),this._attachedPortal=Me||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(Me){Me.setAttachedHost(this);const Pe=null!=Me.viewContainerRef?Me.viewContainerRef:this._viewContainerRef,a=(Me.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Me.component),d=Pe.createComponent(a,Pe.length,Me.injector||Pe.injector,Me.projectableNodes||void 0);return Pe!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=Me,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(Me){Me.setAttachedHost(this);const Pe=this._viewContainerRef.createEmbeddedView(Me.templateRef,Me.context,{injector:Me.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=Me,this._attachedRef=Pe,this.attached.emit(Pe),Pe}_getRootNode(){const Me=this._viewContainerRef.element.nativeElement;return Me.nodeType===Me.ELEMENT_NODE?Me:Me.parentNode}static#e=this.\u0275fac=function(Pe){return new(Pe||he)(y.rXU(y.OM3),y.rXU(y.c1b),y.rXU(b.qQ))};static#t=this.\u0275dir=y.FsC({type:he,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[y.Vt3]})}return he})(),ae=(()=>{class he{static#e=this.\u0275fac=function(Pe){return new(Pe||he)};static#t=this.\u0275mod=y.$C({type:he});static#n=this.\u0275inj=y.G2t({})}return he})()},67333:(We,j,_)=>{"use strict";_.d(j,{uv:()=>d,Gj:()=>de,R:()=>a,E9:()=>De,Xj:()=>p});var y=_(14085),b=_(93953),P=_(21413),H=_(7673),w=_(71985),O=_(33726),N=(_(30536),_(25007),_(43236)),U=_(39974),A=_(58750),G=_(54360),z=_(41584);function ee(Re,Ve=N.E){return function L(Re){return(0,U.N)((Ve,Ee)=>{let _e=!1,Fe=null,ve=null,Te=!1;const ge=()=>{if(ve?.unsubscribe(),ve=null,_e){_e=!1;const te=Fe;Fe=null,Ee.next(te)}Te&&Ee.complete()},me=()=>{ve=null,Te&&Ee.complete()};Ve.subscribe((0,G._)(Ee,te=>{_e=!0,Fe=te,ve||(0,A.Tg)(Re(te)).subscribe(ve=(0,G._)(Ee,ge,me))},()=>{Te=!0,(!_e||!ve||ve.closed)&&Ee.complete()}))})}(()=>(0,z.O)(Re,Ve))}var q=_(5964),Z=_(56977),J=_(36860),se=_(60177),ce=_(28203);let a=(()=>{class Re{constructor(Ee,_e,Fe){this._ngZone=Ee,this._platform=_e,this._scrolled=new P.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Fe}register(Ee){this.scrollContainers.has(Ee)||this.scrollContainers.set(Ee,Ee.elementScrolled().subscribe(()=>this._scrolled.next(Ee)))}deregister(Ee){const _e=this.scrollContainers.get(Ee);_e&&(_e.unsubscribe(),this.scrollContainers.delete(Ee))}scrolled(Ee=20){return this._platform.isBrowser?new w.c(_e=>{this._globalSubscription||this._addGlobalListener();const Fe=Ee>0?this._scrolled.pipe(ee(Ee)).subscribe(_e):this._scrolled.subscribe(_e);return this._scrolledCount++,()=>{Fe.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,H.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ee,_e)=>this.deregister(_e)),this._scrolled.complete()}ancestorScrolled(Ee,_e){const Fe=this.getAncestorScrollContainers(Ee);return this.scrolled(_e).pipe((0,q.p)(ve=>!ve||Fe.indexOf(ve)>-1))}getAncestorScrollContainers(Ee){const _e=[];return this.scrollContainers.forEach((Fe,ve)=>{this._scrollableContainsElement(ve,Ee)&&_e.push(ve)}),_e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ee,_e){let Fe=(0,y.i8)(_e),ve=Ee.getElementRef().nativeElement;do{if(Fe==ve)return!0}while(Fe=Fe.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ee=this._getWindow();return(0,O.R)(Ee.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(_e){return new(_e||Re)(b.KVO(b.SKi),b.KVO(J.OD),b.KVO(se.qQ,8))};static#t=this.\u0275prov=b.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})(),d=(()=>{class Re{constructor(Ee,_e,Fe,ve){this.elementRef=Ee,this.scrollDispatcher=_e,this.ngZone=Fe,this.dir=ve,this._destroyed=new P.B,this._elementScrolled=new w.c(Te=>this.ngZone.runOutsideAngular(()=>(0,O.R)(this.elementRef.nativeElement,"scroll").pipe((0,Z.Q)(this._destroyed)).subscribe(Te)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Ee){const _e=this.elementRef.nativeElement,Fe=this.dir&&"rtl"==this.dir.value;null==Ee.left&&(Ee.left=Fe?Ee.end:Ee.start),null==Ee.right&&(Ee.right=Fe?Ee.start:Ee.end),null!=Ee.bottom&&(Ee.top=_e.scrollHeight-_e.clientHeight-Ee.bottom),Fe&&(0,J.BD)()!=J.r5.NORMAL?(null!=Ee.left&&(Ee.right=_e.scrollWidth-_e.clientWidth-Ee.left),(0,J.BD)()==J.r5.INVERTED?Ee.left=Ee.right:(0,J.BD)()==J.r5.NEGATED&&(Ee.left=Ee.right?-Ee.right:Ee.right)):null!=Ee.right&&(Ee.left=_e.scrollWidth-_e.clientWidth-Ee.right),this._applyScrollToOptions(Ee)}_applyScrollToOptions(Ee){const _e=this.elementRef.nativeElement;(0,J.CZ)()?_e.scrollTo(Ee):(null!=Ee.top&&(_e.scrollTop=Ee.top),null!=Ee.left&&(_e.scrollLeft=Ee.left))}measureScrollOffset(Ee){const _e="left",ve=this.elementRef.nativeElement;if("top"==Ee)return ve.scrollTop;if("bottom"==Ee)return ve.scrollHeight-ve.clientHeight-ve.scrollTop;const Te=this.dir&&"rtl"==this.dir.value;return"start"==Ee?Ee=Te?"right":_e:"end"==Ee&&(Ee=Te?_e:"right"),Te&&(0,J.BD)()==J.r5.INVERTED?Ee==_e?ve.scrollWidth-ve.clientWidth-ve.scrollLeft:ve.scrollLeft:Te&&(0,J.BD)()==J.r5.NEGATED?Ee==_e?ve.scrollLeft+ve.scrollWidth-ve.clientWidth:-ve.scrollLeft:Ee==_e?ve.scrollLeft:ve.scrollWidth-ve.clientWidth-ve.scrollLeft}static#e=this.\u0275fac=function(_e){return new(_e||Re)(b.rXU(b.aKT),b.rXU(a),b.rXU(b.SKi),b.rXU(ce.dS,8))};static#t=this.\u0275dir=b.FsC({type:Re,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return Re})(),p=(()=>{class Re{constructor(Ee,_e,Fe){this._platform=Ee,this._change=new P.B,this._changeListener=ve=>{this._change.next(ve)},this._document=Fe,_e.runOutsideAngular(()=>{if(Ee.isBrowser){const ve=this._getWindow();ve.addEventListener("resize",this._changeListener),ve.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ee=this._getWindow();Ee.removeEventListener("resize",this._changeListener),Ee.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ee={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ee}getViewportRect(){const Ee=this.getViewportScrollPosition(),{width:_e,height:Fe}=this.getViewportSize();return{top:Ee.top,left:Ee.left,bottom:Ee.top+Fe,right:Ee.left+_e,height:Fe,width:_e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ee=this._document,_e=this._getWindow(),Fe=Ee.documentElement,ve=Fe.getBoundingClientRect();return{top:-ve.top||Ee.body.scrollTop||_e.scrollY||Fe.scrollTop||0,left:-ve.left||Ee.body.scrollLeft||_e.scrollX||Fe.scrollLeft||0}}change(Ee=20){return Ee>0?this._change.pipe(ee(Ee)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ee=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ee.innerWidth,height:Ee.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(_e){return new(_e||Re)(b.KVO(J.OD),b.KVO(b.SKi),b.KVO(se.qQ,8))};static#t=this.\u0275prov=b.jDH({token:Re,factory:Re.\u0275fac,providedIn:"root"})}return Re})(),de=(()=>{class Re{static#e=this.\u0275fac=function(_e){return new(_e||Re)};static#t=this.\u0275mod=b.$C({type:Re});static#n=this.\u0275inj=b.G2t({})}return Re})(),De=(()=>{class Re{static#e=this.\u0275fac=function(_e){return new(_e||Re)};static#t=this.\u0275mod=b.$C({type:Re});static#n=this.\u0275inj=b.G2t({imports:[ce.jI,de,ce.jI,de]})}return Re})()},60177:(We,j,_)=>{"use strict";_.d(j,{AJ:()=>Wc,Jj:()=>Fn,MD:()=>Ld,N0:()=>Cs,QT:()=>P,Sm:()=>q,Sq:()=>Tn,T3:()=>ji,UE:()=>es,VF:()=>w,Vy:()=>Gc,Xr:()=>kr,YU:()=>Fr,ZD:()=>H,_b:()=>Lr,aZ:()=>J,bT:()=>_r,fw:()=>Z,hb:()=>z,hj:()=>N,qQ:()=>S,vh:()=>Co});var y=_(93953);let b=null;function P(){return b}function H(it){b??=it}class w{}const S=new y.nKC("");let B=(()=>{class it{historyGo(St){throw new Error("")}static#e=this.\u0275fac=function($t){return new($t||it)};static#t=this.\u0275prov=y.jDH({token:it,factory:()=>(0,y.WQX)(U),providedIn:"platform"})}return it})();const N=new y.nKC("");let U=(()=>{class it extends B{constructor(){super(),this._doc=(0,y.WQX)(S),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(St){const $t=P().getGlobalEventTarget(this._doc,"window");return $t.addEventListener("popstate",St,!1),()=>$t.removeEventListener("popstate",St)}onHashChange(St){const $t=P().getGlobalEventTarget(this._doc,"window");return $t.addEventListener("hashchange",St,!1),()=>$t.removeEventListener("hashchange",St)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(St){this._location.pathname=St}pushState(St,$t,An){this._history.pushState(St,$t,An)}replaceState(St,$t,An){this._history.replaceState(St,$t,An)}forward(){this._history.forward()}back(){this._history.back()}historyGo(St=0){this._history.go(St)}getState(){return this._history.state}static#e=this.\u0275fac=function($t){return new($t||it)};static#t=this.\u0275prov=y.jDH({token:it,factory:()=>new it,providedIn:"platform"})}return it})();function A(it,Jt){if(0==it.length)return Jt;if(0==Jt.length)return it;let St=0;return it.endsWith("/")&&St++,Jt.startsWith("/")&&St++,2==St?it+Jt.substring(1):1==St?it+Jt:it+"/"+Jt}function G(it){const Jt=it.match(/#|\?|$/),St=Jt&&Jt.index||it.length;return it.slice(0,St-("/"===it[St-1]?1:0))+it.slice(St)}function L(it){return it&&"?"!==it[0]?"?"+it:it}let z=(()=>{class it{historyGo(St){throw new Error("")}static#e=this.\u0275fac=function($t){return new($t||it)};static#t=this.\u0275prov=y.jDH({token:it,factory:()=>(0,y.WQX)(q),providedIn:"root"})}return it})();const ee=new y.nKC("");let q=(()=>{class it extends z{constructor(St,$t){super(),this._platformLocation=St,this._removeListenerFns=[],this._baseHref=$t??this._platformLocation.getBaseHrefFromDOM()??(0,y.WQX)(S).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(St){this._removeListenerFns.push(this._platformLocation.onPopState(St),this._platformLocation.onHashChange(St))}getBaseHref(){return this._baseHref}prepareExternalUrl(St){return A(this._baseHref,St)}path(St=!1){const $t=this._platformLocation.pathname+L(this._platformLocation.search),An=this._platformLocation.hash;return An&&St?`${$t}${An}`:$t}pushState(St,$t,An,ir){const Zn=this.prepareExternalUrl(An+L(ir));this._platformLocation.pushState(St,$t,Zn)}replaceState(St,$t,An,ir){const Zn=this.prepareExternalUrl(An+L(ir));this._platformLocation.replaceState(St,$t,Zn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(St=0){this._platformLocation.historyGo?.(St)}static#e=this.\u0275fac=function($t){return new($t||it)(y.KVO(B),y.KVO(ee,8))};static#t=this.\u0275prov=y.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})(),Z=(()=>{class it extends z{constructor(St,$t){super(),this._platformLocation=St,this._baseHref="",this._removeListenerFns=[],null!=$t&&(this._baseHref=$t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(St){this._removeListenerFns.push(this._platformLocation.onPopState(St),this._platformLocation.onHashChange(St))}getBaseHref(){return this._baseHref}path(St=!1){const $t=this._platformLocation.hash??"#";return $t.length>0?$t.substring(1):$t}prepareExternalUrl(St){const $t=A(this._baseHref,St);return $t.length>0?"#"+$t:$t}pushState(St,$t,An,ir){let Zn=this.prepareExternalUrl(An+L(ir));0==Zn.length&&(Zn=this._platformLocation.pathname),this._platformLocation.pushState(St,$t,Zn)}replaceState(St,$t,An,ir){let Zn=this.prepareExternalUrl(An+L(ir));0==Zn.length&&(Zn=this._platformLocation.pathname),this._platformLocation.replaceState(St,$t,Zn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(St=0){this._platformLocation.historyGo?.(St)}static#e=this.\u0275fac=function($t){return new($t||it)(y.KVO(B),y.KVO(ee,8))};static#t=this.\u0275prov=y.jDH({token:it,factory:it.\u0275fac})}return it})(),J=(()=>{class it{constructor(St){this._subject=new y.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=St;const $t=this._locationStrategy.getBaseHref();this._basePath=function fe(it){if(new RegExp("^(https?:)?//").test(it)){const[,St]=it.split(/\/\/[^\/]+/);return St}return it}(G(ae($t))),this._locationStrategy.onPopState(An=>{this._subject.emit({url:this.path(!0),pop:!0,state:An.state,type:An.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(St=!1){return this.normalize(this._locationStrategy.path(St))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(St,$t=""){return this.path()==this.normalize(St+L($t))}normalize(St){return it.stripTrailingSlash(function ce(it,Jt){if(!it||!Jt.startsWith(it))return Jt;const St=Jt.substring(it.length);return""===St||["/",";","?","#"].includes(St[0])?St:Jt}(this._basePath,ae(St)))}prepareExternalUrl(St){return St&&"/"!==St[0]&&(St="/"+St),this._locationStrategy.prepareExternalUrl(St)}go(St,$t="",An=null){this._locationStrategy.pushState(An,"",St,$t),this._notifyUrlChangeListeners(this.prepareExternalUrl(St+L($t)),An)}replaceState(St,$t="",An=null){this._locationStrategy.replaceState(An,"",St,$t),this._notifyUrlChangeListeners(this.prepareExternalUrl(St+L($t)),An)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(St=0){this._locationStrategy.historyGo?.(St)}onUrlChange(St){return this._urlChangeListeners.push(St),this._urlChangeSubscription??=this.subscribe($t=>{this._notifyUrlChangeListeners($t.url,$t.state)}),()=>{const $t=this._urlChangeListeners.indexOf(St);this._urlChangeListeners.splice($t,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(St="",$t){this._urlChangeListeners.forEach(An=>An(St,$t))}subscribe(St,$t,An){return this._subject.subscribe({next:St,error:$t,complete:An})}static#e=this.normalizeQueryParams=L;static#t=this.joinWithSlash=A;static#n=this.stripTrailingSlash=G;static#f=this.\u0275fac=function($t){return new($t||it)(y.KVO(z))};static#T=this.\u0275prov=y.jDH({token:it,factory:()=>function se(){return new J((0,y.KVO)(z))}(),providedIn:"root"})}return it})();function ae(it){return it.replace(/\/index.html$/,"")}var Pe=function(it){return it[it.Format=0]="Format",it[it.Standalone=1]="Standalone",it}(Pe||{}),C=function(it){return it[it.Narrow=0]="Narrow",it[it.Abbreviated=1]="Abbreviated",it[it.Wide=2]="Wide",it[it.Short=3]="Short",it}(C||{}),a=function(it){return it[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it}(a||{});const d={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function $(it,Jt){return te((0,y.H5H)(it)[y.KH2.DateFormat],Jt)}function F(it,Jt){return te((0,y.H5H)(it)[y.KH2.TimeFormat],Jt)}function Q(it,Jt){return te((0,y.H5H)(it)[y.KH2.DateTimeFormat],Jt)}function de(it,Jt){const St=(0,y.H5H)(it),$t=St[y.KH2.NumberSymbols][Jt];if(typeof $t>"u"){if(Jt===d.CurrencyDecimal)return St[y.KH2.NumberSymbols][d.Decimal];if(Jt===d.CurrencyGroup)return St[y.KH2.NumberSymbols][d.Group]}return $t}function ve(it){if(!it[y.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${it[y.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function te(it,Jt){for(let St=Jt;St>-1;St--)if(typeof it[St]<"u")return it[St];throw new Error("Locale data API: locale data undefined")}function ne(it){const[Jt,St]=it.split(":");return{hours:+Jt,minutes:+St}}const qe=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ze={},Dt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xe=function(it){return it[it.Short=0]="Short",it[it.ShortGMT=1]="ShortGMT",it[it.Long=2]="Long",it[it.Extended=3]="Extended",it}(Xe||{}),Ue=function(it){return it[it.FullYear=0]="FullYear",it[it.Month=1]="Month",it[it.Date=2]="Date",it[it.Hours=3]="Hours",it[it.Minutes=4]="Minutes",it[it.Seconds=5]="Seconds",it[it.FractionalSeconds=6]="FractionalSeconds",it[it.Day=7]="Day",it}(Ue||{}),mt=function(it){return it[it.DayPeriods=0]="DayPeriods",it[it.Days=1]="Days",it[it.Months=2]="Months",it[it.Eras=3]="Eras",it}(mt||{});function K(it,Jt,St,$t){let An=function pn(it){if(yt(it))return it;if("number"==typeof it&&!isNaN(it))return new Date(it);if("string"==typeof it){if(it=it.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(it)){const[An,ir=1,Zn=1]=it.split("-").map(ti=>+ti);return T(An,ir-1,Zn)}const St=parseFloat(it);if(!isNaN(it-St))return new Date(St);let $t;if($t=it.match(qe))return function fr(it){const Jt=new Date(0);let St=0,$t=0;const An=it[8]?Jt.setUTCFullYear:Jt.setFullYear,ir=it[8]?Jt.setUTCHours:Jt.setHours;it[9]&&(St=Number(it[9]+it[10]),$t=Number(it[9]+it[11])),An.call(Jt,Number(it[1]),Number(it[2])-1,Number(it[3]));const Zn=Number(it[4]||0)-St,ti=Number(it[5]||0)-$t,Eo=Number(it[6]||0),ii=Math.floor(1e3*parseFloat("0."+(it[7]||0)));return ir.call(Jt,Zn,ti,Eo,ii),Jt}($t)}const Jt=new Date(it);if(!yt(Jt))throw new Error(`Unable to convert "${it}" into a date`);return Jt}(it);Jt=M(St,Jt)||Jt;let ti,Zn=[];for(;Jt;){if(ti=Dt.exec(Jt),!ti){Zn.push(Jt);break}{Zn=Zn.concat(ti.slice(1));const ts=Zn.pop();if(!ts)break;Jt=ts}}let Eo=An.getTimezoneOffset();$t&&(Eo=ut($t,Eo),An=function nn(it,Jt,St){const $t=St?-1:1,An=it.getTimezoneOffset();return function Gt(it,Jt){return(it=new Date(it.getTime())).setMinutes(it.getMinutes()+Jt),it}(it,$t*(ut(Jt,An)-An))}(An,$t,!0));let ii="";return Zn.forEach(ts=>{const Cr=function vt(it){if(Zt[it])return Zt[it];let Jt;switch(it){case"G":case"GG":case"GGG":Jt=en(mt.Eras,C.Abbreviated);break;case"GGGG":Jt=en(mt.Eras,C.Wide);break;case"GGGGG":Jt=en(mt.Eras,C.Narrow);break;case"y":Jt=Ne(Ue.FullYear,1,0,!1,!0);break;case"yy":Jt=Ne(Ue.FullYear,2,0,!0,!0);break;case"yyy":Jt=Ne(Ue.FullYear,3,0,!1,!0);break;case"yyyy":Jt=Ne(Ue.FullYear,4,0,!1,!0);break;case"Y":Jt=cn(1);break;case"YY":Jt=cn(2,!0);break;case"YYY":Jt=cn(3);break;case"YYYY":Jt=cn(4);break;case"M":case"L":Jt=Ne(Ue.Month,1,1);break;case"MM":case"LL":Jt=Ne(Ue.Month,2,1);break;case"MMM":Jt=en(mt.Months,C.Abbreviated);break;case"MMMM":Jt=en(mt.Months,C.Wide);break;case"MMMMM":Jt=en(mt.Months,C.Narrow);break;case"LLL":Jt=en(mt.Months,C.Abbreviated,Pe.Standalone);break;case"LLLL":Jt=en(mt.Months,C.Wide,Pe.Standalone);break;case"LLLLL":Jt=en(mt.Months,C.Narrow,Pe.Standalone);break;case"w":Jt=Cn(1);break;case"ww":Jt=Cn(2);break;case"W":Jt=Cn(1,!0);break;case"d":Jt=Ne(Ue.Date,1);break;case"dd":Jt=Ne(Ue.Date,2);break;case"c":case"cc":Jt=Ne(Ue.Day,1);break;case"ccc":Jt=en(mt.Days,C.Abbreviated,Pe.Standalone);break;case"cccc":Jt=en(mt.Days,C.Wide,Pe.Standalone);break;case"ccccc":Jt=en(mt.Days,C.Narrow,Pe.Standalone);break;case"cccccc":Jt=en(mt.Days,C.Short,Pe.Standalone);break;case"E":case"EE":case"EEE":Jt=en(mt.Days,C.Abbreviated);break;case"EEEE":Jt=en(mt.Days,C.Wide);break;case"EEEEE":Jt=en(mt.Days,C.Narrow);break;case"EEEEEE":Jt=en(mt.Days,C.Short);break;case"a":case"aa":case"aaa":Jt=en(mt.DayPeriods,C.Abbreviated);break;case"aaaa":Jt=en(mt.DayPeriods,C.Wide);break;case"aaaaa":Jt=en(mt.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":Jt=en(mt.DayPeriods,C.Abbreviated,Pe.Standalone,!0);break;case"bbbb":Jt=en(mt.DayPeriods,C.Wide,Pe.Standalone,!0);break;case"bbbbb":Jt=en(mt.DayPeriods,C.Narrow,Pe.Standalone,!0);break;case"B":case"BB":case"BBB":Jt=en(mt.DayPeriods,C.Abbreviated,Pe.Format,!0);break;case"BBBB":Jt=en(mt.DayPeriods,C.Wide,Pe.Format,!0);break;case"BBBBB":Jt=en(mt.DayPeriods,C.Narrow,Pe.Format,!0);break;case"h":Jt=Ne(Ue.Hours,1,-12);break;case"hh":Jt=Ne(Ue.Hours,2,-12);break;case"H":Jt=Ne(Ue.Hours,1);break;case"HH":Jt=Ne(Ue.Hours,2);break;case"m":Jt=Ne(Ue.Minutes,1);break;case"mm":Jt=Ne(Ue.Minutes,2);break;case"s":Jt=Ne(Ue.Seconds,1);break;case"ss":Jt=Ne(Ue.Seconds,2);break;case"S":Jt=Ne(Ue.FractionalSeconds,1);break;case"SS":Jt=Ne(Ue.FractionalSeconds,2);break;case"SSS":Jt=Ne(Ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Jt=Kt(Xe.Short);break;case"ZZZZZ":Jt=Kt(Xe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Jt=Kt(Xe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Jt=Kt(Xe.Long);break;default:return null}return Zt[it]=Jt,Jt}(ts);ii+=Cr?Cr(An,St,Eo):"''"===ts?"'":ts.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),ii}function T(it,Jt,St){const $t=new Date(0);return $t.setFullYear(it,Jt,St),$t.setHours(0,0,0),$t}function M(it,Jt){const St=function p(it){return(0,y.H5H)(it)[y.KH2.LocaleId]}(it);if(ze[St]??={},ze[St][Jt])return ze[St][Jt];let $t="";switch(Jt){case"shortDate":$t=$(it,a.Short);break;case"mediumDate":$t=$(it,a.Medium);break;case"longDate":$t=$(it,a.Long);break;case"fullDate":$t=$(it,a.Full);break;case"shortTime":$t=F(it,a.Short);break;case"mediumTime":$t=F(it,a.Medium);break;case"longTime":$t=F(it,a.Long);break;case"fullTime":$t=F(it,a.Full);break;case"short":const An=M(it,"shortTime"),ir=M(it,"shortDate");$t=Y(Q(it,a.Short),[An,ir]);break;case"medium":const Zn=M(it,"mediumTime"),ti=M(it,"mediumDate");$t=Y(Q(it,a.Medium),[Zn,ti]);break;case"long":const Eo=M(it,"longTime"),ii=M(it,"longDate");$t=Y(Q(it,a.Long),[Eo,ii]);break;case"full":const ts=M(it,"fullTime"),Cr=M(it,"fullDate");$t=Y(Q(it,a.Full),[ts,Cr])}return $t&&(ze[St][Jt]=$t),$t}function Y(it,Jt){return Jt&&(it=it.replace(/\{([^}]+)}/g,function(St,$t){return null!=Jt&&$t in Jt?Jt[$t]:St})),it}function pe(it,Jt,St="-",$t,An){let ir="";(it<0||An&&it<=0)&&(An?it=1-it:(it=-it,ir=St));let Zn=String(it);for(;Zn.length<Jt;)Zn="0"+Zn;return $t&&(Zn=Zn.slice(Zn.length-Jt)),ir+Zn}function Ne(it,Jt,St=0,$t=!1,An=!1){return function(ir,Zn){let ti=function lt(it,Jt){switch(it){case Ue.FullYear:return Jt.getFullYear();case Ue.Month:return Jt.getMonth();case Ue.Date:return Jt.getDate();case Ue.Hours:return Jt.getHours();case Ue.Minutes:return Jt.getMinutes();case Ue.Seconds:return Jt.getSeconds();case Ue.FractionalSeconds:return Jt.getMilliseconds();case Ue.Day:return Jt.getDay();default:throw new Error(`Unknown DateType value "${it}".`)}}(it,ir);if((St>0||ti>-St)&&(ti+=St),it===Ue.Hours)0===ti&&-12===St&&(ti=12);else if(it===Ue.FractionalSeconds)return function ke(it,Jt){return pe(it,3).substring(0,Jt)}(ti,Jt);const Eo=de(Zn,d.MinusSign);return pe(ti,Jt,Eo,$t,An)}}function en(it,Jt,St=Pe.Format,$t=!1){return function(An,ir){return function It(it,Jt,St,$t,An,ir){switch(St){case mt.Months:return function R(it,Jt,St){const $t=(0,y.H5H)(it),ir=te([$t[y.KH2.MonthsFormat],$t[y.KH2.MonthsStandalone]],Jt);return te(ir,St)}(Jt,An,$t)[it.getMonth()];case mt.Days:return function D(it,Jt,St){const $t=(0,y.H5H)(it),ir=te([$t[y.KH2.DaysFormat],$t[y.KH2.DaysStandalone]],Jt);return te(ir,St)}(Jt,An,$t)[it.getDay()];case mt.DayPeriods:const Zn=it.getHours(),ti=it.getMinutes();if(ir){const ii=function Te(it){const Jt=(0,y.H5H)(it);return ve(Jt),(Jt[y.KH2.ExtraData][2]||[]).map($t=>"string"==typeof $t?ne($t):[ne($t[0]),ne($t[1])])}(Jt),ts=function ge(it,Jt,St){const $t=(0,y.H5H)(it);ve($t);const ir=te([$t[y.KH2.ExtraData][0],$t[y.KH2.ExtraData][1]],Jt)||[];return te(ir,St)||[]}(Jt,An,$t),Cr=ii.findIndex(Ci=>{if(Array.isArray(Ci)){const[rt,Ce]=Ci,be=Zn>=rt.hours&&ti>=rt.minutes,xe=Zn<Ce.hours||Zn===Ce.hours&&ti<Ce.minutes;if(rt.hours<Ce.hours){if(be&&xe)return!0}else if(be||xe)return!0}else if(Ci.hours===Zn&&Ci.minutes===ti)return!0;return!1});if(-1!==Cr)return ts[Cr]}return function E(it,Jt,St){const $t=(0,y.H5H)(it),ir=te([$t[y.KH2.DayPeriodsFormat],$t[y.KH2.DayPeriodsStandalone]],Jt);return te(ir,St)}(Jt,An,$t)[Zn<12?0:1];case mt.Eras:return function x(it,Jt){return te((0,y.H5H)(it)[y.KH2.Eras],Jt)}(Jt,$t)[it.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${St}`)}}(An,ir,it,Jt,St,$t)}}function Kt(it){return function(Jt,St,$t){const An=-1*$t,ir=de(St,d.MinusSign),Zn=An>0?Math.floor(An/60):Math.ceil(An/60);switch(it){case Xe.Short:return(An>=0?"+":"")+pe(Zn,2,ir)+pe(Math.abs(An%60),2,ir);case Xe.ShortGMT:return"GMT"+(An>=0?"+":"")+pe(Zn,1,ir);case Xe.Long:return"GMT"+(An>=0?"+":"")+pe(Zn,2,ir)+":"+pe(Math.abs(An%60),2,ir);case Xe.Extended:return 0===$t?"Z":(An>=0?"+":"")+pe(Zn,2,ir)+":"+pe(Math.abs(An%60),2,ir);default:throw new Error(`Unknown zone width "${it}"`)}}}const rn=0,gn=4;function ar(it){const Jt=it.getDay(),St=0===Jt?-3:gn-Jt;return T(it.getFullYear(),it.getMonth(),it.getDate()+St)}function Cn(it,Jt=!1){return function(St,$t){let An;if(Jt){const ir=new Date(St.getFullYear(),St.getMonth(),1).getDay()-1,Zn=St.getDate();An=1+Math.floor((Zn+ir)/7)}else{const ir=ar(St),Zn=function ln(it){const Jt=T(it,rn,1).getDay();return T(it,0,1+(Jt<=gn?gn:gn+7)-Jt)}(ir.getFullYear()),ti=ir.getTime()-Zn.getTime();An=1+Math.round(ti/6048e5)}return pe(An,it,de($t,d.MinusSign))}}function cn(it,Jt=!1){return function(St,$t){return pe(ar(St).getFullYear(),it,de($t,d.MinusSign),Jt)}}const Zt={};function ut(it,Jt){it=it.replace(/:/g,"");const St=Date.parse("Jan 01, 1970 00:00:00 "+it)/6e4;return isNaN(St)?Jt:St}function yt(it){return it instanceof Date&&!isNaN(it.valueOf())}function Lr(it,Jt){Jt=encodeURIComponent(Jt);for(const St of it.split(";")){const $t=St.indexOf("="),[An,ir]=-1==$t?[St,""]:[St.slice(0,$t),St.slice($t+1)];if(An.trim()===Jt)return decodeURIComponent(ir)}return null}const Pr=/\s+/,Kr=[];let Fr=(()=>{class it{constructor(St,$t){this._ngEl=St,this._renderer=$t,this.initialClasses=Kr,this.stateMap=new Map}set klass(St){this.initialClasses=null!=St?St.trim().split(Pr):Kr}set ngClass(St){this.rawClass="string"==typeof St?St.trim().split(Pr):St}ngDoCheck(){for(const $t of this.initialClasses)this._updateState($t,!0);const St=this.rawClass;if(Array.isArray(St)||St instanceof Set)for(const $t of St)this._updateState($t,!0);else if(null!=St)for(const $t of Object.keys(St))this._updateState($t,!!St[$t]);this._applyStateDiff()}_updateState(St,$t){const An=this.stateMap.get(St);void 0!==An?(An.enabled!==$t&&(An.changed=!0,An.enabled=$t),An.touched=!0):this.stateMap.set(St,{enabled:$t,changed:!0,touched:!0})}_applyStateDiff(){for(const St of this.stateMap){const $t=St[0],An=St[1];An.changed?(this._toggleClass($t,An.enabled),An.changed=!1):An.touched||(An.enabled&&this._toggleClass($t,!1),this.stateMap.delete($t)),An.touched=!1}}_toggleClass(St,$t){(St=St.trim()).length>0&&St.split(Pr).forEach(An=>{$t?this._renderer.addClass(this._ngEl.nativeElement,An):this._renderer.removeClass(this._ngEl.nativeElement,An)})}static#e=this.\u0275fac=function($t){return new($t||it)(y.rXU(y.aKT),y.rXU(y.sFG))};static#t=this.\u0275dir=y.FsC({type:it,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return it})();class wn{constructor(Jt,St,$t,An){this.$implicit=Jt,this.ngForOf=St,this.index=$t,this.count=An}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Tn=(()=>{class it{set ngForOf(St){this._ngForOf=St,this._ngForOfDirty=!0}set ngForTrackBy(St){this._trackByFn=St}get ngForTrackBy(){return this._trackByFn}constructor(St,$t,An){this._viewContainer=St,this._template=$t,this._differs=An,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(St){St&&(this._template=St)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const St=this._ngForOf;!this._differ&&St&&(this._differ=this._differs.find(St).create(this.ngForTrackBy))}if(this._differ){const St=this._differ.diff(this._ngForOf);St&&this._applyChanges(St)}}_applyChanges(St){const $t=this._viewContainer;St.forEachOperation((An,ir,Zn)=>{if(null==An.previousIndex)$t.createEmbeddedView(this._template,new wn(An.item,this._ngForOf,-1,-1),null===Zn?void 0:Zn);else if(null==Zn)$t.remove(null===ir?void 0:ir);else if(null!==ir){const ti=$t.get(ir);$t.move(ti,Zn),Hn(ti,An)}});for(let An=0,ir=$t.length;An<ir;An++){const ti=$t.get(An).context;ti.index=An,ti.count=ir,ti.ngForOf=this._ngForOf}St.forEachIdentityChange(An=>{Hn($t.get(An.currentIndex),An)})}static ngTemplateContextGuard(St,$t){return!0}static#e=this.\u0275fac=function($t){return new($t||it)(y.rXU(y.c1b),y.rXU(y.C4Q),y.rXU(y._q3))};static#t=this.\u0275dir=y.FsC({type:it,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return it})();function Hn(it,Jt){it.context.$implicit=Jt.item}let _r=(()=>{class it{constructor(St,$t){this._viewContainer=St,this._context=new Mr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=$t}set ngIf(St){this._context.$implicit=this._context.ngIf=St,this._updateView()}set ngIfThen(St){$r("ngIfThen",St),this._thenTemplateRef=St,this._thenViewRef=null,this._updateView()}set ngIfElse(St){$r("ngIfElse",St),this._elseTemplateRef=St,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(St,$t){return!0}static#e=this.\u0275fac=function($t){return new($t||it)(y.rXU(y.c1b),y.rXU(y.C4Q))};static#t=this.\u0275dir=y.FsC({type:it,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return it})();class Mr{constructor(){this.$implicit=null,this.ngIf=null}}function $r(it,Jt){if(Jt&&!Jt.createEmbeddedView)throw new Error(`${it} must be a TemplateRef, but received '${(0,y.Tbb)(Jt)}'.`)}let ji=(()=>{class it{constructor(St){this._viewContainerRef=St,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(St){if(this._shouldRecreateView(St)){const $t=this._viewContainerRef;if(this._viewRef&&$t.remove($t.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const An=this._createContextForwardProxy();this._viewRef=$t.createEmbeddedView(this.ngTemplateOutlet,An,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(St){return!!St.ngTemplateOutlet||!!St.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(St,$t,An)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,$t,An),get:(St,$t,An)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,$t,An)}})}static#e=this.\u0275fac=function($t){return new($t||it)(y.rXU(y.c1b))};static#t=this.\u0275dir=y.FsC({type:it,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.OA$]})}return it})();function Pi(it,Jt){return new y.wOt(2100,!1)}class xn{createSubscription(Jt,St){return(0,y.O8t)(()=>Jt.subscribe({next:St,error:$t=>{throw $t}}))}dispose(Jt){(0,y.O8t)(()=>Jt.unsubscribe())}}class wr{createSubscription(Jt,St){return Jt.then(St,$t=>{throw $t})}dispose(Jt){}}const dn=new wr,Un=new xn;let Fn=(()=>{class it{constructor(St){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=St}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(St){if(!this._obj){if(St)try{this.markForCheckOnValueUpdate=!1,this._subscribe(St)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return St!==this._obj?(this._dispose(),this.transform(St)):this._latestValue}_subscribe(St){this._obj=St,this._strategy=this._selectStrategy(St),this._subscription=this._strategy.createSubscription(St,$t=>this._updateLatestValue(St,$t))}_selectStrategy(St){if((0,y.jNT)(St))return dn;if((0,y.zjR)(St))return Un;throw Pi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(St,$t){St===this._obj&&(this._latestValue=$t,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function($t){return new($t||it)(y.rXU(y.gRc,16))};static#t=this.\u0275pipe=y.EJ8({name:"async",type:it,pure:!1,standalone:!0})}return it})();const ao=new y.nKC(""),Lo=new y.nKC("");let Co=(()=>{class it{constructor(St,$t,An){this.locale=St,this.defaultTimezone=$t,this.defaultOptions=An}transform(St,$t,An,ir){if(null==St||""===St||St!=St)return null;try{return K(St,$t??this.defaultOptions?.dateFormat??"mediumDate",ir||this.locale,An??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Zn){throw Pi()}}static#e=this.\u0275fac=function($t){return new($t||it)(y.rXU(y.xe9,16),y.rXU(ao,24),y.rXU(Lo,24))};static#t=this.\u0275pipe=y.EJ8({name:"date",type:it,pure:!0,standalone:!0})}return it})(),Ld=(()=>{class it{static#e=this.\u0275fac=function($t){return new($t||it)};static#t=this.\u0275mod=y.$C({type:it});static#n=this.\u0275inj=y.G2t({})}return it})();const Wc="browser",Eu="server";function es(it){return it===Wc}function Gc(it){return it===Eu}let kr=(()=>{class it{static#e=this.\u0275prov=(0,y.jDH)({token:it,providedIn:"root",factory:()=>es((0,y.WQX)(y.Agw))?new Vs((0,y.WQX)(S),window):new Za})}return it})();class Vs{constructor(Jt,St){this.document=Jt,this.window=St,this.offset=()=>[0,0]}setOffset(Jt){this.offset=Array.isArray(Jt)?()=>Jt:Jt}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Jt){this.window.scrollTo(Jt[0],Jt[1])}scrollToAnchor(Jt){const St=function Do(it,Jt){const St=it.getElementById(Jt)||it.getElementsByName(Jt)[0];if(St)return St;if("function"==typeof it.createTreeWalker&&it.body&&"function"==typeof it.body.attachShadow){const $t=it.createTreeWalker(it.body,NodeFilter.SHOW_ELEMENT);let An=$t.currentNode;for(;An;){const ir=An.shadowRoot;if(ir){const Zn=ir.getElementById(Jt)||ir.querySelector(`[name="${Jt}"]`);if(Zn)return Zn}An=$t.nextNode()}}return null}(this.document,Jt);St&&(this.scrollToElement(St),St.focus())}setHistoryScrollRestoration(Jt){this.window.history.scrollRestoration=Jt}scrollToElement(Jt){const St=Jt.getBoundingClientRect(),$t=St.left+this.window.pageXOffset,An=St.top+this.window.pageYOffset,ir=this.offset();this.window.scrollTo($t-ir[0],An-ir[1])}}class Za{setOffset(Jt){}getScrollPosition(){return[0,0]}scrollToPosition(Jt){}scrollToAnchor(Jt){}setHistoryScrollRestoration(Jt){}}class Cs{}},21626:(We,j,_)=>{"use strict";_.d(j,{Qq:()=>Q,q1:()=>mn});var y=_(10467),b=_(93953),P=_(7673),H=_(71985),w=_(86648),O=_(70274),S=_(5964),B=_(96354),N=_(70980),U=_(25558),A=_(60177);class G{}class L{}class z{constructor(wn){this.normalizedNames=new Map,this.lazyUpdate=null,wn?"string"==typeof wn?this.lazyInit=()=>{this.headers=new Map,wn.split("\n").forEach(Tn=>{const Hn=Tn.indexOf(":");if(Hn>0){const Gn=Tn.slice(0,Hn),_r=Gn.toLowerCase(),Mr=Tn.slice(Hn+1).trim();this.maybeSetNormalizedName(Gn,_r),this.headers.has(_r)?this.headers.get(_r).push(Mr):this.headers.set(_r,[Mr])}})}:typeof Headers<"u"&&wn instanceof Headers?(this.headers=new Map,wn.forEach((Tn,Hn)=>{this.setHeaderEntries(Hn,Tn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(wn).forEach(([Tn,Hn])=>{this.setHeaderEntries(Tn,Hn)})}:this.headers=new Map}has(wn){return this.init(),this.headers.has(wn.toLowerCase())}get(wn){this.init();const Tn=this.headers.get(wn.toLowerCase());return Tn&&Tn.length>0?Tn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(wn){return this.init(),this.headers.get(wn.toLowerCase())||null}append(wn,Tn){return this.clone({name:wn,value:Tn,op:"a"})}set(wn,Tn){return this.clone({name:wn,value:Tn,op:"s"})}delete(wn,Tn){return this.clone({name:wn,value:Tn,op:"d"})}maybeSetNormalizedName(wn,Tn){this.normalizedNames.has(Tn)||this.normalizedNames.set(Tn,wn)}init(){this.lazyInit&&(this.lazyInit instanceof z?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(wn=>this.applyUpdate(wn)),this.lazyUpdate=null))}copyFrom(wn){wn.init(),Array.from(wn.headers.keys()).forEach(Tn=>{this.headers.set(Tn,wn.headers.get(Tn)),this.normalizedNames.set(Tn,wn.normalizedNames.get(Tn))})}clone(wn){const Tn=new z;return Tn.lazyInit=this.lazyInit&&this.lazyInit instanceof z?this.lazyInit:this,Tn.lazyUpdate=(this.lazyUpdate||[]).concat([wn]),Tn}applyUpdate(wn){const Tn=wn.name.toLowerCase();switch(wn.op){case"a":case"s":let Hn=wn.value;if("string"==typeof Hn&&(Hn=[Hn]),0===Hn.length)return;this.maybeSetNormalizedName(wn.name,Tn);const Gn=("a"===wn.op?this.headers.get(Tn):void 0)||[];Gn.push(...Hn),this.headers.set(Tn,Gn);break;case"d":const _r=wn.value;if(_r){let Mr=this.headers.get(Tn);if(!Mr)return;Mr=Mr.filter($r=>-1===_r.indexOf($r)),0===Mr.length?(this.headers.delete(Tn),this.normalizedNames.delete(Tn)):this.headers.set(Tn,Mr)}else this.headers.delete(Tn),this.normalizedNames.delete(Tn)}}setHeaderEntries(wn,Tn){const Hn=(Array.isArray(Tn)?Tn:[Tn]).map(_r=>_r.toString()),Gn=wn.toLowerCase();this.headers.set(Gn,Hn),this.maybeSetNormalizedName(wn,Gn)}forEach(wn){this.init(),Array.from(this.normalizedNames.keys()).forEach(Tn=>wn(this.normalizedNames.get(Tn),this.headers.get(Tn)))}}class q{encodeKey(wn){return ce(wn)}encodeValue(wn){return ce(wn)}decodeKey(wn){return decodeURIComponent(wn)}decodeValue(wn){return decodeURIComponent(wn)}}const J=/%(\d[a-f0-9])/gi,se={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ce(on){return encodeURIComponent(on).replace(J,(wn,Tn)=>se[Tn]??wn)}function ae(on){return`${on}`}class fe{constructor(wn={}){if(this.updates=null,this.cloneFrom=null,this.encoder=wn.encoder||new q,wn.fromString){if(wn.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Z(on,wn){const Tn=new Map;return on.length>0&&on.replace(/^\?/,"").split("&").forEach(Gn=>{const _r=Gn.indexOf("="),[Mr,$r]=-1==_r?[wn.decodeKey(Gn),""]:[wn.decodeKey(Gn.slice(0,_r)),wn.decodeValue(Gn.slice(_r+1))],jr=Tn.get(Mr)||[];jr.push($r),Tn.set(Mr,jr)}),Tn}(wn.fromString,this.encoder)}else wn.fromObject?(this.map=new Map,Object.keys(wn.fromObject).forEach(Tn=>{const Hn=wn.fromObject[Tn],Gn=Array.isArray(Hn)?Hn.map(ae):[ae(Hn)];this.map.set(Tn,Gn)})):this.map=null}has(wn){return this.init(),this.map.has(wn)}get(wn){this.init();const Tn=this.map.get(wn);return Tn?Tn[0]:null}getAll(wn){return this.init(),this.map.get(wn)||null}keys(){return this.init(),Array.from(this.map.keys())}append(wn,Tn){return this.clone({param:wn,value:Tn,op:"a"})}appendAll(wn){const Tn=[];return Object.keys(wn).forEach(Hn=>{const Gn=wn[Hn];Array.isArray(Gn)?Gn.forEach(_r=>{Tn.push({param:Hn,value:_r,op:"a"})}):Tn.push({param:Hn,value:Gn,op:"a"})}),this.clone(Tn)}set(wn,Tn){return this.clone({param:wn,value:Tn,op:"s"})}delete(wn,Tn){return this.clone({param:wn,value:Tn,op:"d"})}toString(){return this.init(),this.keys().map(wn=>{const Tn=this.encoder.encodeKey(wn);return this.map.get(wn).map(Hn=>Tn+"="+this.encoder.encodeValue(Hn)).join("&")}).filter(wn=>""!==wn).join("&")}clone(wn){const Tn=new fe({encoder:this.encoder});return Tn.cloneFrom=this.cloneFrom||this,Tn.updates=(this.updates||[]).concat(wn),Tn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(wn=>this.map.set(wn,this.cloneFrom.map.get(wn))),this.updates.forEach(wn=>{switch(wn.op){case"a":case"s":const Tn=("a"===wn.op?this.map.get(wn.param):void 0)||[];Tn.push(ae(wn.value)),this.map.set(wn.param,Tn);break;case"d":if(void 0===wn.value){this.map.delete(wn.param);break}{let Hn=this.map.get(wn.param)||[];const Gn=Hn.indexOf(ae(wn.value));-1!==Gn&&Hn.splice(Gn,1),Hn.length>0?this.map.set(wn.param,Hn):this.map.delete(wn.param)}}}),this.cloneFrom=this.updates=null)}}class we{constructor(){this.map=new Map}set(wn,Tn){return this.map.set(wn,Tn),this}get(wn){return this.map.has(wn)||this.map.set(wn,wn.defaultValue()),this.map.get(wn)}delete(wn){return this.map.delete(wn),this}has(wn){return this.map.has(wn)}keys(){return this.map.keys()}}function Pe(on){return typeof ArrayBuffer<"u"&&on instanceof ArrayBuffer}function C(on){return typeof Blob<"u"&&on instanceof Blob}function a(on){return typeof FormData<"u"&&on instanceof FormData}class m{constructor(wn,Tn,Hn,Gn){let _r;if(this.url=Tn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=wn.toUpperCase(),function Me(on){switch(on){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Gn?(this.body=void 0!==Hn?Hn:null,_r=Gn):_r=Hn,_r&&(this.reportProgress=!!_r.reportProgress,this.withCredentials=!!_r.withCredentials,_r.responseType&&(this.responseType=_r.responseType),_r.headers&&(this.headers=_r.headers),_r.context&&(this.context=_r.context),_r.params&&(this.params=_r.params),this.transferCache=_r.transferCache),this.headers??=new z,this.context??=new we,this.params){const Mr=this.params.toString();if(0===Mr.length)this.urlWithParams=Tn;else{const $r=Tn.indexOf("?");this.urlWithParams=Tn+(-1===$r?"?":$r<Tn.length-1?"&":"")+Mr}}else this.params=new fe,this.urlWithParams=Tn}serializeBody(){return null===this.body?null:"string"==typeof this.body||Pe(this.body)||C(this.body)||a(this.body)||function d(on){return typeof URLSearchParams<"u"&&on instanceof URLSearchParams}(this.body)?this.body:this.body instanceof fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||a(this.body)?null:C(this.body)?this.body.type||null:Pe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(wn={}){const Tn=wn.method||this.method,Hn=wn.url||this.url,Gn=wn.responseType||this.responseType,_r=wn.transferCache??this.transferCache,Mr=void 0!==wn.body?wn.body:this.body,$r=wn.withCredentials??this.withCredentials,jr=wn.reportProgress??this.reportProgress;let Ii=wn.headers||this.headers,Mo=wn.params||this.params;const li=wn.context??this.context;return void 0!==wn.setHeaders&&(Ii=Object.keys(wn.setHeaders).reduce((go,wo)=>go.set(wo,wn.setHeaders[wo]),Ii)),wn.setParams&&(Mo=Object.keys(wn.setParams).reduce((go,wo)=>go.set(wo,wn.setParams[wo]),Mo)),new m(Tn,Hn,Mr,{params:Mo,headers:Ii,context:li,reportProgress:jr,responseType:Gn,withCredentials:$r,transferCache:_r})}}var p=function(on){return on[on.Sent=0]="Sent",on[on.UploadProgress=1]="UploadProgress",on[on.ResponseHeader=2]="ResponseHeader",on[on.DownloadProgress=3]="DownloadProgress",on[on.Response=4]="Response",on[on.User=5]="User",on}(p||{});class E{constructor(wn,Tn=200,Hn="OK"){this.headers=wn.headers||new z,this.status=void 0!==wn.status?wn.status:Tn,this.statusText=wn.statusText||Hn,this.url=wn.url||null,this.ok=this.status>=200&&this.status<300}}class D extends E{constructor(wn={}){super(wn),this.type=p.ResponseHeader}clone(wn={}){return new D({headers:wn.headers||this.headers,status:void 0!==wn.status?wn.status:this.status,statusText:wn.statusText||this.statusText,url:wn.url||this.url||void 0})}}class R extends E{constructor(wn={}){super(wn),this.type=p.Response,this.body=void 0!==wn.body?wn.body:null}clone(wn={}){return new R({body:void 0!==wn.body?wn.body:this.body,headers:wn.headers||this.headers,status:void 0!==wn.status?wn.status:this.status,statusText:wn.statusText||this.statusText,url:wn.url||this.url||void 0})}}class x extends E{constructor(wn){super(wn,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${wn.url||"(unknown url)"}`:`Http failure response for ${wn.url||"(unknown url)"}: ${wn.status} ${wn.statusText}`,this.error=wn.error||null}}function F(on,wn){return{body:wn,headers:on.headers,context:on.context,observe:on.observe,params:on.params,reportProgress:on.reportProgress,responseType:on.responseType,withCredentials:on.withCredentials,transferCache:on.transferCache}}let Q=(()=>{class on{constructor(Tn){this.handler=Tn}request(Tn,Hn,Gn={}){let _r;if(Tn instanceof m)_r=Tn;else{let jr,Ii;jr=Gn.headers instanceof z?Gn.headers:new z(Gn.headers),Gn.params&&(Ii=Gn.params instanceof fe?Gn.params:new fe({fromObject:Gn.params})),_r=new m(Tn,Hn,void 0!==Gn.body?Gn.body:null,{headers:jr,context:Gn.context,params:Ii,reportProgress:Gn.reportProgress,responseType:Gn.responseType||"json",withCredentials:Gn.withCredentials,transferCache:Gn.transferCache})}const Mr=(0,P.of)(_r).pipe((0,O.H)(jr=>this.handler.handle(jr)));if(Tn instanceof m||"events"===Gn.observe)return Mr;const $r=Mr.pipe((0,S.p)(jr=>jr instanceof R));switch(Gn.observe||"body"){case"body":switch(_r.responseType){case"arraybuffer":return $r.pipe((0,B.T)(jr=>{if(null!==jr.body&&!(jr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return jr.body}));case"blob":return $r.pipe((0,B.T)(jr=>{if(null!==jr.body&&!(jr.body instanceof Blob))throw new Error("Response is not a Blob.");return jr.body}));case"text":return $r.pipe((0,B.T)(jr=>{if(null!==jr.body&&"string"!=typeof jr.body)throw new Error("Response is not a string.");return jr.body}));default:return $r.pipe((0,B.T)(jr=>jr.body))}case"response":return $r;default:throw new Error(`Unreachable: unhandled observe type ${Gn.observe}}`)}}delete(Tn,Hn={}){return this.request("DELETE",Tn,Hn)}get(Tn,Hn={}){return this.request("GET",Tn,Hn)}head(Tn,Hn={}){return this.request("HEAD",Tn,Hn)}jsonp(Tn,Hn){return this.request("JSONP",Tn,{params:(new fe).append(Hn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Tn,Hn={}){return this.request("OPTIONS",Tn,Hn)}patch(Tn,Hn,Gn={}){return this.request("PATCH",Tn,F(Gn,Hn))}post(Tn,Hn,Gn={}){return this.request("POST",Tn,F(Gn,Hn))}put(Tn,Hn,Gn={}){return this.request("PUT",Tn,F(Gn,Hn))}static#e=this.\u0275fac=function(Hn){return new(Hn||on)(b.KVO(G))};static#t=this.\u0275prov=b.jDH({token:on,factory:on.\u0275fac})}return on})();const de=/^\)\]\}',?\n/;function Re(on){if(on.url)return on.url;const wn="X-Request-URL".toLocaleLowerCase();return on.headers.get(wn)}let Ve=(()=>{class on{constructor(){this.fetchImpl=(0,b.WQX)(Ee,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,b.WQX)(b.SKi)}handle(Tn){return new H.c(Hn=>{const Gn=new AbortController;return this.doRequest(Tn,Gn.signal,Hn).then(_e,_r=>Hn.error(new x({error:_r}))),()=>Gn.abort()})}doRequest(Tn,Hn,Gn){var _r=this;return(0,y.A)(function*(){const Mr=_r.createRequestInit(Tn);let $r;try{const Ro=_r.fetchImpl(Tn.urlWithParams,{signal:Hn,...Mr});(function Fe(on){on.then(_e,_e)})(Ro),Gn.next({type:p.Sent}),$r=yield Ro}catch(Ro){return void Gn.error(new x({error:Ro,status:Ro.status??0,statusText:Ro.statusText,url:Tn.urlWithParams,headers:Ro.headers}))}const jr=new z($r.headers),Ii=$r.statusText,Mo=Re($r)??Tn.urlWithParams;let li=$r.status,go=null;if(Tn.reportProgress&&Gn.next(new D({headers:jr,status:li,statusText:Ii,url:Mo})),$r.body){const Ro=$r.headers.get("content-length"),vi=[],Vi=$r.body.getReader();let za,Pi,ji=0;const xn=typeof Zone<"u"&&Zone.current;yield _r.ngZone.runOutsideAngular((0,y.A)(function*(){for(;;){const{done:dn,value:Un}=yield Vi.read();if(dn)break;if(vi.push(Un),ji+=Un.length,Tn.reportProgress){Pi="text"===Tn.responseType?(Pi??"")+(za??=new TextDecoder).decode(Un,{stream:!0}):void 0;const Fn=()=>Gn.next({type:p.DownloadProgress,total:Ro?+Ro:void 0,loaded:ji,partialText:Pi});xn?xn.run(Fn):Fn()}}}));const wr=_r.concatChunks(vi,ji);try{const dn=$r.headers.get("Content-Type")??"";go=_r.parseBody(Tn,wr,dn)}catch(dn){return void Gn.error(new x({error:dn,headers:new z($r.headers),status:$r.status,statusText:$r.statusText,url:Re($r)??Tn.urlWithParams}))}}0===li&&(li=go?200:0),li>=200&&li<300?(Gn.next(new R({body:go,headers:jr,status:li,statusText:Ii,url:Mo})),Gn.complete()):Gn.error(new x({error:go,headers:jr,status:li,statusText:Ii,url:Mo}))})()}parseBody(Tn,Hn,Gn){switch(Tn.responseType){case"json":const _r=(new TextDecoder).decode(Hn).replace(de,"");return""===_r?null:JSON.parse(_r);case"text":return(new TextDecoder).decode(Hn);case"blob":return new Blob([Hn],{type:Gn});case"arraybuffer":return Hn.buffer}}createRequestInit(Tn){const Hn={},Gn=Tn.withCredentials?"include":void 0;if(Tn.headers.forEach((_r,Mr)=>Hn[_r]=Mr.join(",")),Hn.Accept??="application/json, text/plain, */*",!Hn["Content-Type"]){const _r=Tn.detectContentTypeHeader();null!==_r&&(Hn["Content-Type"]=_r)}return{body:Tn.serializeBody(),method:Tn.method,headers:Hn,credentials:Gn}}concatChunks(Tn,Hn){const Gn=new Uint8Array(Hn);let _r=0;for(const Mr of Tn)Gn.set(Mr,_r),_r+=Mr.length;return Gn}static#e=this.\u0275fac=function(Hn){return new(Hn||on)};static#t=this.\u0275prov=b.jDH({token:on,factory:on.\u0275fac})}return on})();class Ee{}function _e(){}function ve(on,wn){return wn(on)}function Te(on,wn){return(Tn,Hn)=>wn.intercept(Tn,{handle:Gn=>on(Gn,Hn)})}const me=new b.nKC(""),te=new b.nKC(""),ne=new b.nKC(""),le=new b.nKC("",{providedIn:"root",factory:()=>!0});function Ae(){let on=null;return(wn,Tn)=>{null===on&&(on=((0,b.WQX)(me,{optional:!0})??[]).reduceRight(Te,ve));const Hn=(0,b.WQX)(b.TgB);if((0,b.WQX)(le)){const _r=Hn.add();return on(wn,Tn).pipe((0,N.j)(()=>Hn.remove(_r)))}return on(wn,Tn)}}let ze=(()=>{class on extends G{constructor(Tn,Hn){super(),this.backend=Tn,this.injector=Hn,this.chain=null,this.pendingTasks=(0,b.WQX)(b.TgB),this.contributeToStability=(0,b.WQX)(le)}handle(Tn){if(null===this.chain){const Hn=Array.from(new Set([...this.injector.get(te),...this.injector.get(ne,[])]));this.chain=Hn.reduceRight((Gn,_r)=>function ge(on,wn,Tn){return(Hn,Gn)=>(0,b.N4e)(Tn,()=>wn(Hn,_r=>on(_r,Gn)))}(Gn,_r,this.injector),ve)}if(this.contributeToStability){const Hn=this.pendingTasks.add();return this.chain(Tn,Gn=>this.backend.handle(Gn)).pipe((0,N.j)(()=>this.pendingTasks.remove(Hn)))}return this.chain(Tn,Hn=>this.backend.handle(Hn))}static#e=this.\u0275fac=function(Hn){return new(Hn||on)(b.KVO(L),b.KVO(b.uvJ))};static#t=this.\u0275prov=b.jDH({token:on,factory:on.\u0275fac})}return on})();const lt=/^\)\]\}',?\n/;let It=(()=>{class on{constructor(Tn){this.xhrFactory=Tn}handle(Tn){if("JSONP"===Tn.method)throw new b.wOt(-2800,!1);const Hn=this.xhrFactory;return(Hn.\u0275loadImpl?(0,w.H)(Hn.\u0275loadImpl()):(0,P.of)(null)).pipe((0,U.n)(()=>new H.c(_r=>{const Mr=Hn.build();if(Mr.open(Tn.method,Tn.urlWithParams),Tn.withCredentials&&(Mr.withCredentials=!0),Tn.headers.forEach((vi,Vi)=>Mr.setRequestHeader(vi,Vi.join(","))),Tn.headers.has("Accept")||Mr.setRequestHeader("Accept","application/json, text/plain, */*"),!Tn.headers.has("Content-Type")){const vi=Tn.detectContentTypeHeader();null!==vi&&Mr.setRequestHeader("Content-Type",vi)}if(Tn.responseType){const vi=Tn.responseType.toLowerCase();Mr.responseType="json"!==vi?vi:"text"}const $r=Tn.serializeBody();let jr=null;const Ii=()=>{if(null!==jr)return jr;const vi=Mr.statusText||"OK",Vi=new z(Mr.getAllResponseHeaders()),ji=function en(on){return"responseURL"in on&&on.responseURL?on.responseURL:/^X-Request-URL:/m.test(on.getAllResponseHeaders())?on.getResponseHeader("X-Request-URL"):null}(Mr)||Tn.url;return jr=new D({headers:Vi,status:Mr.status,statusText:vi,url:ji}),jr},Mo=()=>{let{headers:vi,status:Vi,statusText:ji,url:za}=Ii(),Pi=null;204!==Vi&&(Pi=typeof Mr.response>"u"?Mr.responseText:Mr.response),0===Vi&&(Vi=Pi?200:0);let xn=Vi>=200&&Vi<300;if("json"===Tn.responseType&&"string"==typeof Pi){const wr=Pi;Pi=Pi.replace(lt,"");try{Pi=""!==Pi?JSON.parse(Pi):null}catch(dn){Pi=wr,xn&&(xn=!1,Pi={error:dn,text:Pi})}}xn?(_r.next(new R({body:Pi,headers:vi,status:Vi,statusText:ji,url:za||void 0})),_r.complete()):_r.error(new x({error:Pi,headers:vi,status:Vi,statusText:ji,url:za||void 0}))},li=vi=>{const{url:Vi}=Ii(),ji=new x({error:vi,status:Mr.status||0,statusText:Mr.statusText||"Unknown Error",url:Vi||void 0});_r.error(ji)};let go=!1;const wo=vi=>{go||(_r.next(Ii()),go=!0);let Vi={type:p.DownloadProgress,loaded:vi.loaded};vi.lengthComputable&&(Vi.total=vi.total),"text"===Tn.responseType&&Mr.responseText&&(Vi.partialText=Mr.responseText),_r.next(Vi)},Ro=vi=>{let Vi={type:p.UploadProgress,loaded:vi.loaded};vi.lengthComputable&&(Vi.total=vi.total),_r.next(Vi)};return Mr.addEventListener("load",Mo),Mr.addEventListener("error",li),Mr.addEventListener("timeout",li),Mr.addEventListener("abort",li),Tn.reportProgress&&(Mr.addEventListener("progress",wo),null!==$r&&Mr.upload&&Mr.upload.addEventListener("progress",Ro)),Mr.send($r),_r.next({type:p.Sent}),()=>{Mr.removeEventListener("error",li),Mr.removeEventListener("abort",li),Mr.removeEventListener("load",Mo),Mr.removeEventListener("timeout",li),Tn.reportProgress&&(Mr.removeEventListener("progress",wo),null!==$r&&Mr.upload&&Mr.upload.removeEventListener("progress",Ro)),Mr.readyState!==Mr.DONE&&Mr.abort()}})))}static#e=this.\u0275fac=function(Hn){return new(Hn||on)(b.KVO(A.N0))};static#t=this.\u0275prov=b.jDH({token:on,factory:on.\u0275fac})}return on})();const Kt=new b.nKC(""),gn=new b.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ar=new b.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Cn{}let cn=(()=>{class on{constructor(Tn,Hn,Gn){this.doc=Tn,this.platform=Hn,this.cookieName=Gn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Tn=this.doc.cookie||"";return Tn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,A._b)(Tn,this.cookieName),this.lastCookieString=Tn),this.lastToken}static#e=this.\u0275fac=function(Hn){return new(Hn||on)(b.KVO(A.qQ),b.KVO(b.Agw),b.KVO(gn))};static#t=this.\u0275prov=b.jDH({token:on,factory:on.\u0275fac})}return on})();function Zt(on,wn){const Tn=on.url.toLowerCase();if(!(0,b.WQX)(Kt)||"GET"===on.method||"HEAD"===on.method||Tn.startsWith("http://")||Tn.startsWith("https://"))return wn(on);const Hn=(0,b.WQX)(Cn).getToken(),Gn=(0,b.WQX)(ar);return null!=Hn&&!on.headers.has(Gn)&&(on=on.clone({headers:on.headers.set(Gn,Hn)})),wn(on)}var ut=function(on){return on[on.Interceptors=0]="Interceptors",on[on.LegacyInterceptors=1]="LegacyInterceptors",on[on.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",on[on.NoXsrfProtection=3]="NoXsrfProtection",on[on.JsonpSupport=4]="JsonpSupport",on[on.RequestsMadeViaParent=5]="RequestsMadeViaParent",on[on.Fetch=6]="Fetch",on}(ut||{});function nn(...on){const wn=[Q,It,ze,{provide:G,useExisting:ze},{provide:L,useFactory:()=>(0,b.WQX)(Ve,{optional:!0})??(0,b.WQX)(It)},{provide:te,useValue:Zt,multi:!0},{provide:Kt,useValue:!0},{provide:Cn,useClass:cn}];for(const Tn of on)wn.push(...Tn.\u0275providers);return(0,b.EmA)(wn)}const fr=new b.nKC("");function yt(){return function Gt(on,wn){return{\u0275kind:on,\u0275providers:wn}}(ut.LegacyInterceptors,[{provide:fr,useFactory:Ae},{provide:te,useExisting:fr,multi:!0}])}let mn=(()=>{class on{static#e=this.\u0275fac=function(Hn){return new(Hn||on)};static#t=this.\u0275mod=b.$C({type:on});static#n=this.\u0275inj=b.G2t({providers:[nn(yt())]})}return on})()},93953:(We,j,_)=>{"use strict";function y(o,c){return Object.is(o,c)}_.d(j,{bc$:()=>Ps,iLQ:()=>q_,sZ2:()=>$b,hnV:()=>mP,wjH:()=>uh,o8S:()=>Ju,BIS:()=>Vd,gRc:()=>hM,Ql9:()=>RI,OM3:()=>Rw,Ocv:()=>dM,Z63:()=>ni,aKT:()=>_g,uvJ:()=>Mc,zcH:()=>ou,bkB:()=>mf,$GK:()=>lo,nKC:()=>$i,zZn:()=>Qc,_q3:()=>wM,MKu:()=>Op,xe9:()=>r1,Co$:()=>vD,Vns:()=>wm,SKi:()=>Ma,Xx1:()=>Mt,Agw:()=>Mg,PLl:()=>Vb,rOR:()=>Pb,sFG:()=>X8,_9s:()=>WA,czy:()=>T0,WPN:()=>sm,kdw:()=>In,C4Q:()=>gf,NYb:()=>AR,giA:()=>Z_,RxE:()=>aP,c1b:()=>Zg,gXe:()=>As,mal:()=>nD,Tzd:()=>v2,L39:()=>hC,EWP:()=>UM,a0P:()=>cO,Ol2:()=>pp,w6W:()=>bD,QZP:()=>bC,Rfq:()=>Ut,WQX:()=>Cr,naY:()=>a1,Hps:()=>R2,QuC:()=>sr,EmA:()=>cs,geq:()=>oo,Udg:()=>pC,Jn2:()=>PR,HJs:()=>dO,N4e:()=>N1,vPA:()=>vo,O8t:()=>JR,An2:()=>lh,H3F:()=>cP,zAP:()=>aC,H8p:()=>O1,KH2:()=>zu,TgB:()=>nm,wOt:()=>kr,WHO:()=>rM,e01:()=>Nv,lNU:()=>Xo,h9k:()=>PT,$MX:()=>nw,ZF7:()=>S0,Kcf:()=>g3,e5t:()=>oh,UyX:()=>b3,cWb:()=>v3,osQ:()=>w3,H5H:()=>b_,Zy3:()=>Vs,mq5:()=>Of,JZv:()=>no,TL3:()=>MM,LfX:()=>xu,plB:()=>fh,jNT:()=>Uh,zjR:()=>kI,ngT:()=>dl,TL$:()=>o3,Tbb:()=>Fo,rcV:()=>ih,Vt3:()=>so,GFd:()=>gD,OA$:()=>fs,Jv_:()=>N_,aNF:()=>Ds,R7$:()=>nA,BMQ:()=>fl,HbH:()=>nx,ZvI:()=>vv,AVh:()=>ay,vxM:()=>lx,wni:()=>D_,VBU:()=>cb,FsC:()=>Qe,jDH:()=>To,G2t:()=>fd,$C:()=>Ge,EJ8:()=>pt,rXU:()=>op,nrm:()=>y_,eu8:()=>g_,bVm:()=>Yd,qex:()=>uy,k0s:()=>Ev,j41:()=>_v,RV6:()=>mx,xGo:()=>Kk,Mr5:()=>v_,pXf:()=>Dx,KVO:()=>ii,kS0:()=>Ib,QTQ:()=>yw,bIt:()=>Cx,lsd:()=>aI,joV:()=>Ck,qSk:()=>wb,XpG:()=>tI,nI1:()=>Wu,bMT:()=>Gu,i5U:()=>Bs,SdG:()=>rI,NAR:()=>nI,Y8G:()=>sy,FS9:()=>kx,lJ4:()=>Dy,eq3:()=>K_,l_i:()=>Iv,mGM:()=>Bx,sdS:()=>I_,Dyx:()=>p_,Z7z:()=>bv,fX1:()=>ux,Vm6:()=>h_,Njj:()=>_k,eBV:()=>wk,B4B:()=>IE,n$t:()=>Og,xc7:()=>Os,Kam:()=>S_,zvX:()=>Zd,DNE:()=>du,C5r:()=>_I,EFF:()=>C_,JRh:()=>k_,SpI:()=>Ap,Lme:()=>Ms,DH7:()=>Sy,mxI:()=>Fx,R50:()=>O_,GBs:()=>Rx});let b=null,P=!1,H=1;const w=Symbol("SIGNAL");function O(o){const c=b;return b=o,c}const U={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function A(o){if(P)throw new Error("");if(null===b)return;b.consumerOnSignalRead(o);const c=b.nextProducerIndex++;we(b),c<b.producerNode.length&&b.producerNode[c]!==o&&he(b)&&fe(b.producerNode[c],b.producerIndexOfThis[c]),b.producerNode[c]!==o&&(b.producerNode[c]=o,b.producerIndexOfThis[c]=he(b)?ae(o,b,c):0),b.producerLastReadVersion[c]=o.version}function L(o){if((!he(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==H)){if(!o.producerMustRecompute(o)&&!se(o))return o.dirty=!1,void(o.lastCleanEpoch=H);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=H}}function z(o){if(void 0===o.liveConsumerNode)return;const c=P;P=!0;try{for(const g of o.liveConsumerNode)g.dirty||q(g)}finally{P=c}}function ee(){return!1!==b?.consumerAllowSignalWrites}function q(o){o.dirty=!0,z(o),o.consumerMarkedDirty?.(o)}function Z(o){return o&&(o.nextProducerIndex=0),O(o)}function J(o,c){if(O(c),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(he(o))for(let g=o.nextProducerIndex;g<o.producerNode.length;g++)fe(o.producerNode[g],o.producerIndexOfThis[g]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function se(o){we(o);for(let c=0;c<o.producerNode.length;c++){const g=o.producerNode[c],I=o.producerLastReadVersion[c];if(I!==g.version||(L(g),I!==g.version))return!0}return!1}function ce(o){if(we(o),he(o))for(let c=0;c<o.producerNode.length;c++)fe(o.producerNode[c],o.producerIndexOfThis[c]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function ae(o,c,g){if(Me(o),0===o.liveConsumerNode.length&&Pe(o))for(let I=0;I<o.producerNode.length;I++)o.producerIndexOfThis[I]=ae(o.producerNode[I],o,I);return o.liveConsumerIndexOfThis.push(g),o.liveConsumerNode.push(c)-1}function fe(o,c){if(Me(o),1===o.liveConsumerNode.length&&Pe(o))for(let I=0;I<o.producerNode.length;I++)fe(o.producerNode[I],o.producerIndexOfThis[I]);const g=o.liveConsumerNode.length-1;if(o.liveConsumerNode[c]=o.liveConsumerNode[g],o.liveConsumerIndexOfThis[c]=o.liveConsumerIndexOfThis[g],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,c<o.liveConsumerNode.length){const I=o.liveConsumerIndexOfThis[c],V=o.liveConsumerNode[c];we(V),V.producerIndexOfThis[I]=c}}function he(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function we(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function Me(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function Pe(o){return void 0!==o.producerNode}const a=Symbol("UNSET"),d=Symbol("COMPUTING"),m=Symbol("ERRORED"),p={...U,value:a,dirty:!0,error:null,equal:y,producerMustRecompute:o=>o.value===a||o.value===d,producerRecomputeValue(o){if(o.value===d)throw new Error("Detected cycle in computations.");const c=o.value;o.value=d;const g=Z(o);let I;try{I=o.computation()}catch(V){I=m,o.error=V}finally{J(o,g)}c!==a&&c!==m&&I!==m&&o.equal(c,I)?o.value=c:(o.value=I,o.version++)}};let D=function E(){throw new Error};function R(){D()}let s=null;function Q(o,c){ee()||R(),o.equal(o.value,c)||(o.value=c,function Ve(o){o.version++,function G(){H++}(),z(o),s?.()}(o))}const Re={...U,equal:y,value:void 0};const _e=()=>{},Fe={...U,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:_e};var Te=_(84412),ge=_(21413),me=_(18359),te=_(96354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Xo="https://g.co/ng/security#xss";class kr extends Error{constructor(c,g){super(Vs(c,g)),this.code=c}}function Vs(o,c){return`NG0${Math.abs(o)}${c?": "+c:""}`}const Do=Symbol("InputSignalNode#UNSET"),Za={...Re,transformFn:void 0,applyValueToInputSignal(o,c){Q(o,c)}};function co(o){return{toString:o}.toString()}const zs="__parameters__";function Lc(o,c,g){return co(()=>{const I=function ko(o){return function(...g){if(o){const I=o(...g);for(const V in I)this[V]=I[V]}}}(c);function V(...ue){if(this instanceof V)return I.apply(this,ue),this;const Se=new V(...ue);return Le.annotation=Se,Le;function Le(nt,Ct,jt){const hn=nt.hasOwnProperty(zs)?nt[zs]:Object.defineProperty(nt,zs,{value:[]})[zs];for(;hn.length<=jt;)hn.push(null);return(hn[jt]=hn[jt]||[]).push(Se),nt}}return g&&(V.prototype=Object.create(g.prototype)),V.prototype.ngMetadataName=o,V.annotationCls=V,V})}const no=globalThis;function Po(o){for(let c in o)if(o[c]===Po)return c;throw Error("Could not find renamed property on target object.")}function Jc(o,c){for(const g in c)c.hasOwnProperty(g)&&!o.hasOwnProperty(g)&&(o[g]=c[g])}function Fo(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Fo).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const c=o.toString();if(null==c)return""+c;const g=c.indexOf("\n");return-1===g?c:c.substring(0,g)}function xc(o,c){return null==o||""===o?null===c?"":c:null==c||""===c?o:o+" "+c}const Ca=Po({__forward_ref__:Po});function Ut(o){return o.__forward_ref__=Ut,o.toString=function(){return Fo(this())},o}function Lt(o){return At(o)?o():o}function At(o){return"function"==typeof o&&o.hasOwnProperty(Ca)&&o.__forward_ref__===Ut}function lr(o,c,g){o!=c&&function Ot(o,c,g,I){throw new Error(`ASSERTION ERROR: ${o}`+(null==I?"":` [Expected=> ${g} ${I} ${c} <=Actual]`))}(g,o,c,"==")}function To(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function fd(o){return{providers:o.providers||[],imports:o.imports||[]}}function la(o){return Mu(o,tl)||Mu(o,Yo)}function xu(o){return null!==la(o)}function Mu(o,c){return o.hasOwnProperty(c)?o[c]:null}function Kd(o){return o&&(o.hasOwnProperty(Ea)||o.hasOwnProperty(bs))?o[Ea]:null}const tl=Po({\u0275prov:Po}),Ea=Po({\u0275inj:Po}),Yo=Po({ngInjectableDef:Po}),bs=Po({ngInjectorDef:Po});class $i{constructor(c,g){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof g?this.__NG_ELEMENT_ID__=g:void 0!==g&&(this.\u0275prov=To({token:this,providedIn:g.providedIn||"root",factory:g.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xa(o){return o&&!!o.\u0275providers}const is=Po({\u0275cmp:Po}),Tu=Po({\u0275dir:Po}),Ha=Po({\u0275pipe:Po}),Xi=Po({\u0275mod:Po}),cc=Po({\u0275fac:Po}),Qr=Po({__NG_ELEMENT_ID__:Po}),Qa=Po({__NG_ENV_ID__:Po});function Zr(o){return"string"==typeof o?o:null==o?"":String(o)}function dc(o,c){throw new kr(-201,!1)}var lo=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(lo||{});let nl;function ka(){return nl}function Nr(o){const c=nl;return nl=o,c}function Bo(o,c,g){const I=la(o);return I&&"root"==I.providedIn?void 0===I.value?I.value=I.factory():I.value:g&lo.Optional?null:void 0!==c?c:void dc()}const ua={},hd="__NG_DI_FLAG__",it="ngTempTokenPath",St=/\n/gm,An="__source";let ir;function ti(o){const c=ir;return ir=o,c}function Eo(o,c=lo.Default){if(void 0===ir)throw new kr(-203,!1);return null===ir?Bo(o,void 0,c):ir.get(o,c&lo.Optional?null:void 0,c)}function ii(o,c=lo.Default){return(ka()||Eo)(Lt(o),c)}function Cr(o,c=lo.Default){return ii(o,Ci(c))}function Ci(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function rt(o){const c=[];for(let g=0;g<o.length;g++){const I=Lt(o[g]);if(Array.isArray(I)){if(0===I.length)throw new kr(900,!1);let V,ue=lo.Default;for(let Se=0;Se<I.length;Se++){const Le=I[Se],nt=be(Le);"number"==typeof nt?-1===nt?V=Le.token:ue|=nt:V=Le}c.push(ii(V,ue))}else c.push(ii(I))}return c}function Ce(o,c){return o[hd]=c,o.prototype[hd]=c,o}function be(o){return o[hd]}const Mt=Ce(Lc("Optional"),8),In=Ce(Lc("SkipSelf"),4);function ie(o,c){return o.hasOwnProperty(cc)?o[cc]:null}function Je(o,c){o.forEach(g=>Array.isArray(g)?Je(g,c):c(g))}function Ze(o,c,g){c>=o.length?o.push(g):o.splice(c,0,g)}function ht(o,c){return c>=o.length-1?o.pop():o.splice(c,1)[0]}function pr(o,c,g){let I=Vr(o,c);return I>=0?o[1|I]=g:(I=~I,function dt(o,c,g,I){let V=o.length;if(V==c)o.push(g,I);else if(1===V)o.push(I,o[0]),o[0]=g;else{for(V--,o.push(o[V-1],o[V]);V>c;)o[V]=o[V-2],V--;o[c]=g,o[c+1]=I}}(o,I,c,g)),I}function ur(o,c){const g=Vr(o,c);if(g>=0)return o[1|g]}function Vr(o,c){return function pi(o,c,g){let I=0,V=o.length>>g;for(;V!==I;){const ue=I+(V-I>>1),Se=o[ue<<g];if(c===Se)return ue<<g;Se>c?V=ue:I=ue+1}return~(V<<g)}(o,c,1)}const Oi={},Xr=[],ni=new $i(""),Ei=new $i("",-1),Ti=new $i("");class qr{get(c,g=ua){if(g===ua){const I=new Error(`NullInjectorError: No provider for ${Fo(c)}!`);throw I.name="NullInjectorError",I}return g}}var jo=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(jo||{}),As=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(As||{}),ws=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(ws||{});function lc(o,c,g){let I=o.length;for(;;){const V=o.indexOf(c,g);if(-1===V)return V;if(0===V||o.charCodeAt(V-1)<=32){const ue=c.length;if(V+ue===I||o.charCodeAt(V+ue)<=32)return V}g=V+1}}function Jf(o,c,g){let I=0;for(;I<g.length;){const V=g[I];if("number"==typeof V){if(0!==V)break;I++;const ue=g[I++],Se=g[I++],Le=g[I++];o.setAttribute(c,Se,Le,ue)}else{const ue=V,Se=g[++I];zp(ue)?o.setProperty(c,ue,Se):o.setAttribute(c,ue,Se),I++}}return I}function il(o){return 3===o||4===o||6===o}function zp(o){return 64===o.charCodeAt(0)}function Zy(o,c){if(null!==c&&0!==c.length)if(null===o||0===o.length)o=c.slice();else{let g=-1;for(let I=0;I<c.length;I++){const V=c[I];"number"==typeof V?g=V:0===g||Hp(o,g,V,null,-1===g||2===g?c[++I]:null)}}return o}function Hp(o,c,g,I,V){let ue=0,Se=o.length;if(-1===c)Se=-1;else for(;ue<o.length;){const Le=o[ue++];if("number"==typeof Le){if(Le===c){Se=-1;break}if(Le>c){Se=ue-1;break}}}for(;ue<o.length;){const Le=o[ue];if("number"==typeof Le)break;if(Le===g){if(null===I)return void(null!==V&&(o[ue+1]=V));if(I===o[ue+1])return void(o[ue+2]=V)}ue++,null!==I&&ue++,null!==V&&ue++}-1!==Se&&(o.splice(Se,0,c),ue=Se+1),o.splice(ue++,0,g),null!==I&&o.splice(ue++,0,I),null!==V&&o.splice(ue++,0,V)}const ob="ng-template";function nS(o,c,g,I){let V=0;if(I){for(;V<c.length&&"string"==typeof c[V];V+=2)if("class"===c[V]&&-1!==lc(c[V+1].toLowerCase(),g,0))return!0}else if(zh(o))return!1;if(V=c.indexOf(1,V),V>-1){let ue;for(;++V<c.length&&"string"==typeof(ue=c[V]);)if(ue.toLowerCase()===g)return!0}return!1}function zh(o){return 4===o.type&&o.value!==ob}function sb(o,c,g){return c===(4!==o.type||g?o.value:ob)}function rS(o,c,g){let I=4;const V=o.attrs,ue=null!==V?function C1(o){for(let c=0;c<o.length;c++)if(il(o[c]))return c;return o.length}(V):0;let Se=!1;for(let Le=0;Le<c.length;Le++){const nt=c[Le];if("number"!=typeof nt){if(!Se)if(4&I){if(I=2|1&I,""!==nt&&!sb(o,nt,g)||""===nt&&1===c.length){if(_l(I))return!1;Se=!0}}else if(8&I){if(null===V||!nS(o,V,nt,g)){if(_l(I))return!1;Se=!0}}else{const Ct=c[++Le],jt=Hh(nt,V,zh(o),g);if(-1===jt){if(_l(I))return!1;Se=!0;continue}if(""!==Ct){let hn;if(hn=jt>ue?"":V[jt+1].toLowerCase(),2&I&&Ct!==hn){if(_l(I))return!1;Se=!0}}}}else{if(!Se&&!_l(I)&&!_l(nt))return!1;if(Se&&_l(nt))continue;Se=!1,I=nt|1&I}}return _l(I)||Se}function _l(o){return!(1&o)}function Hh(o,c,g,I){if(null===c)return-1;let V=0;if(I||!g){let ue=!1;for(;V<c.length;){const Se=c[V];if(Se===o)return V;if(3===Se||6===Se)ue=!0;else{if(1===Se||2===Se){let Le=c[++V];for(;"string"==typeof Le;)Le=c[++V];continue}if(4===Se)break;if(0===Se){V+=4;continue}}V+=ue?1:2}return-1}return function ab(o,c){let g=o.indexOf(4);if(g>-1)for(g++;g<o.length;){const I=o[g];if("number"==typeof I)return-1;if(I===c)return g;g++}return-1}(c,o)}function qy(o,c,g=!1){for(let I=0;I<c.length;I++)if(rS(o,c[I],g))return!0;return!1}function a0(o,c){e:for(let g=0;g<c.length;g++){const I=c[g];if(o.length===I.length){for(let V=0;V<o.length;V++)if(o[V]!==I[V])continue e;return!0}}return!1}function $o(o,c){return o?":not("+c.trim()+")":c}function uc(o){let c=o[0],g=1,I=2,V="",ue=!1;for(;g<o.length;){let Se=o[g];if("string"==typeof Se)if(2&I){const Le=o[++g];V+="["+Se+(Le.length>0?'="'+Le+'"':"")+"]"}else 8&I?V+="."+Se:4&I&&(V+=" "+Se);else""!==V&&!_l(Se)&&(c+=$o(ue,V),V=""),I=Se,ue=ue||!_l(I);g++}return""!==V&&(c+=$o(ue,V)),c}function cb(o){return co(()=>{const c=Ur(o),g={...c,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===jo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:c.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||As.Emulated,styles:o.styles||Xr,_:null,schemas:o.schemas||null,tView:null,id:""};Ui(g);const I=o.dependencies;return g.directiveDefs=ro(I,!1),g.pipeDefs=ro(I,!0),g.id=function Ql(o){let c=0;const g=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const V of g)c=Math.imul(31,c)+V.charCodeAt(0)|0;return c+=2147483648,"c"+c}(g),g})}function pd(o){return Pt(o)||sn(o)}function sS(o){return null!==o}function Ge(o){return co(()=>({type:o.type,bootstrap:o.bootstrap||Xr,declarations:o.declarations||Xr,imports:o.imports||Xr,exports:o.exports||Xr,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function ft(o,c){if(null==o)return Oi;const g={};for(const I in o)if(o.hasOwnProperty(I)){const V=o[I];let ue,Se,Le=ws.None;Array.isArray(V)?(Le=V[0],ue=V[1],Se=V[2]??ue):(ue=V,Se=V),c?(g[ue]=Le!==ws.None?[I,Le]:I,c[ue]=Se):g[ue]=I}return g}function Qe(o){return co(()=>{const c=Ur(o);return Ui(c),c})}function pt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Pt(o){return o[is]||null}function sn(o){return o[Tu]||null}function _n(o){return o[Ha]||null}function sr(o){const c=Pt(o)||sn(o)||_n(o);return null!==c&&c.standalone}function Wn(o,c){const g=o[Xi]||null;if(!g&&!0===c)throw new Error(`Type ${Fo(o)} does not have '\u0275mod' property.`);return g}function Ur(o){const c={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputTransforms:null,inputConfig:o.inputs||Oi,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Xr,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ft(o.inputs,c),outputs:ft(o.outputs),debugInfo:null}}function Ui(o){o.features?.forEach(c=>c(o))}function ro(o,c){if(!o)return null;const g=c?_n:pd;return()=>("function"==typeof o?o():o).map(I=>g(I)).filter(sS)}function cs(o){return{\u0275providers:o}}function ol(...o){return{\u0275providers:md(0,o),\u0275fromNgModule:!0}}function md(o,...c){const g=[],I=new Set;let V;const ue=Se=>{g.push(Se)};return Je(c,Se=>{const Le=Se;c0(Le,ue,[],I)&&(V||=[],V.push(Le))}),void 0!==V&&Yc(V,ue),g}function Yc(o,c){for(let g=0;g<o.length;g++){const{ngModule:I,providers:V}=o[g];k1(V,ue=>{c(ue,I)})}}function c0(o,c,g,I){if(!(o=Lt(o)))return!1;let V=null,ue=Kd(o);const Se=!ue&&Pt(o);if(ue||Se){if(Se&&!Se.standalone)return!1;V=o}else{const nt=o.ngModule;if(ue=Kd(nt),!ue)return!1;V=nt}const Le=I.has(V);if(Se){if(Le)return!1;if(I.add(V),Se.dependencies){const nt="function"==typeof Se.dependencies?Se.dependencies():Se.dependencies;for(const Ct of nt)c0(Ct,c,g,I)}}else{if(!ue)return!1;{if(null!=ue.imports&&!Le){let Ct;I.add(V);try{Je(ue.imports,jt=>{c0(jt,c,g,I)&&(Ct||=[],Ct.push(jt))})}finally{}void 0!==Ct&&Yc(Ct,c)}if(!Le){const Ct=ie(V)||(()=>new V);c({provide:V,useFactory:Ct,deps:Xr},V),c({provide:Ti,useValue:V,multi:!0},V),c({provide:ni,useValue:()=>ii(V),multi:!0},V)}const nt=ue.providers;if(null!=nt&&!Le){const Ct=o;k1(nt,jt=>{c(jt,Ct)})}}}return V!==o&&void 0!==o.providers}function k1(o,c){for(let g of o)xa(g)&&(g=g.\u0275providers),Array.isArray(g)?k1(g,c):c(g)}const XC=Po({provide:String,useValue:Po});function P1(o){return null!==o&&"object"==typeof o&&XC in o}function eu(o){return"function"==typeof o}const O1=new $i(""),Wp={},aS={};let R1;function db(){return void 0===R1&&(R1=new qr),R1}class Mc{}class Wh extends Mc{get destroyed(){return this._destroyed}constructor(c,g,I,V){super(),this.parent=g,this.source=I,this.scopes=V,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lb(c,Se=>this.processProvider(Se)),this.records.set(Ei,eg(void 0,this)),V.has("environment")&&this.records.set(Mc,eg(void 0,this));const ue=this.records.get(O1);null!=ue&&"string"==typeof ue.value&&this.scopes.add(ue.value),this.injectorDefTypes=new Set(this.get(Ti,Xr,lo.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const c=O(null);try{for(const I of this._ngOnDestroyHooks)I.ngOnDestroy();const g=this._onDestroyHooks;this._onDestroyHooks=[];for(const I of g)I()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),O(c)}}onDestroy(c){return this.assertNotDestroyed(),this._onDestroyHooks.push(c),()=>this.removeOnDestroy(c)}runInContext(c){this.assertNotDestroyed();const g=ti(this),I=Nr(void 0);try{return c()}finally{ti(g),Nr(I)}}get(c,g=ua,I=lo.Default){if(this.assertNotDestroyed(),c.hasOwnProperty(Qa))return c[Qa](this);I=Ci(I);const ue=ti(this),Se=Nr(void 0);try{if(!(I&lo.SkipSelf)){let nt=this.records.get(c);if(void 0===nt){const Ct=function dS(o){return"function"==typeof o||"object"==typeof o&&o instanceof $i}(c)&&la(c);nt=Ct&&this.injectableDefInScope(Ct)?eg(B1(c),Wp):null,this.records.set(c,nt)}if(null!=nt)return this.hydrate(c,nt)}return(I&lo.Self?db():this.parent).get(c,g=I&lo.Optional&&g===ua?null:g)}catch(Le){if("NullInjectorError"===Le.name){if((Le[it]=Le[it]||[]).unshift(Fo(c)),ue)throw Le;return function xe(o,c,g,I){const V=o[it];throw c[An]&&V.unshift(c[An]),o.message=function ot(o,c,g,I=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let V=Fo(c);if(Array.isArray(c))V=c.map(Fo).join(" -> ");else if("object"==typeof c){let ue=[];for(let Se in c)if(c.hasOwnProperty(Se)){let Le=c[Se];ue.push(Se+":"+("string"==typeof Le?JSON.stringify(Le):Fo(Le)))}V=`{${ue.join(", ")}}`}return`${g}${I?"("+I+")":""}[${V}]: ${o.replace(St,"\n  ")}`}("\n"+o.message,V,g,I),o.ngTokenPath=V,o[it]=null,o}(Le,c,"R3InjectorError",this.source)}throw Le}finally{Nr(Se),ti(ue)}}resolveInjectorInitializers(){const c=O(null),g=ti(this),I=Nr(void 0);try{const ue=this.get(ni,Xr,lo.Self);for(const Se of ue)Se()}finally{ti(g),Nr(I),O(c)}}toString(){const c=[],g=this.records;for(const I of g.keys())c.push(Fo(I));return`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new kr(205,!1)}processProvider(c){let g=eu(c=Lt(c))?c:Lt(c&&c.provide);const I=function JO(o){return P1(o)?eg(void 0,o.useValue):eg(qC(o),Wp)}(c);if(!eu(c)&&!0===c.multi){let V=this.records.get(g);V||(V=eg(void 0,Wp,!0),V.factory=()=>rt(V.multi),this.records.set(g,V)),g=c,V.multi.push(c)}this.records.set(g,I)}hydrate(c,g){const I=O(null);try{return g.value===Wp&&(g.value=aS,g.value=g.factory()),"object"==typeof g.value&&g.value&&function cS(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(g.value)&&this._ngOnDestroyHooks.add(g.value),g.value}finally{O(I)}}injectableDefInScope(c){if(!c.providedIn)return!1;const g=Lt(c.providedIn);return"string"==typeof g?"any"===g||this.scopes.has(g):this.injectorDefTypes.has(g)}removeOnDestroy(c){const g=this._onDestroyHooks.indexOf(c);-1!==g&&this._onDestroyHooks.splice(g,1)}}function B1(o){const c=la(o),g=null!==c?c.factory:ie(o);if(null!==g)return g;if(o instanceof $i)throw new kr(204,!1);if(o instanceof Function)return function ZC(o){if(o.length>0)throw new kr(204,!1);const g=function Zl(o){return o&&(o[tl]||o[Yo])||null}(o);return null!==g?()=>g.factory(o):()=>new o}(o);throw new kr(204,!1)}function qC(o,c,g){let I;if(eu(o)){const V=Lt(o);return ie(V)||B1(V)}if(P1(o))I=()=>Lt(o.useValue);else if(function Ri(o){return!(!o||!o.useFactory)}(o))I=()=>o.useFactory(...rt(o.deps||[]));else if(function Dr(o){return!(!o||!o.useExisting)}(o))I=()=>ii(Lt(o.useExisting));else{const V=Lt(o&&(o.useClass||o.provide));if(!function QC(o){return!!o.deps}(o))return ie(V)||B1(V);I=()=>new V(...rt(o.deps))}return I}function eg(o,c,g=!1){return{factory:o,value:c,multi:g?[]:void 0}}function lb(o,c){for(const g of o)Array.isArray(g)?lb(g,c):g&&xa(g)?lb(g.\u0275providers,c):c(g)}function N1(o,c){o instanceof Wh&&o.assertNotDestroyed();const I=ti(o),V=Nr(void 0);try{return c()}finally{ti(I),Nr(V)}}function lS(){return void 0!==ka()||null!=function Zn(){return ir}()}function tg(o){if(!lS())throw new kr(-203,!1)}const Oa=0,zr=1,Li=2,ec=3,tu=4,yd=5,gd=6,ef=7,fa=8,Sc=9,tf=10,po=11,rg=12,ig=13,Yf=14,Ra=15,Du=16,d0=17,Zf=18,l0=19,fS=20,Gh=21,ub=22,vd=23,Ai=25,U1=1,nf=7,u0=9,Ga=10;var qf=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(qf||{});function qc(o){return Array.isArray(o)&&"object"==typeof o[U1]}function Fd(o){return Array.isArray(o)&&!0===o[U1]}function L1(o){return!!(4&o.flags)}function Yp(o){return o.componentOffset>-1}function hb(o){return!(1&~o.flags)}function Iu(o){return!!o.template}function Zp(o){return!!(512&o[Li])}class lk{constructor(c,g,I){this.previousValue=c,this.currentValue=g,this.firstChange=I}isFirstChange(){return this.firstChange}}function F1(o,c,g,I){null!==c?c.applyValueToInputSignal(c,I):o[g]=I}function fs(){return ag}function ag(o){return o.type.prototype.ngOnChanges&&(o.setInput=rf),ci}function ci(){const o=bS(this),c=o?.current;if(c){const g=o.previous;if(g===Oi)o.previous=c;else for(let I in c)g[I]=c[I];o.current=null,this.ngOnChanges(c)}}function rf(o,c,g,I,V){const ue=this.declaredInputs[I],Se=bS(o)||function uk(o,c){return o[vS]=c}(o,{previous:Oi,current:null}),Le=Se.current||(Se.current={}),nt=Se.previous,Ct=nt[ue];Le[ue]=new lk(Ct&&Ct.currentValue,g,nt===Oi),F1(o,c,V,g)}fs.ngInherit=!0;const vS="__ngSimpleChanges__";function bS(o){return o[vS]||null}const Kl=function(o,c,g){},Qf="svg";function os(o){for(;Array.isArray(o);)o=o[Oa];return o}function cg(o,c){return os(c[o])}function jd(o,c){return os(c[o.index])}function dg(o,c){return o.data[c]}function qp(o,c){return o[c]}function Fl(o,c){const g=c[o];return qc(g)?g:g[Oa]}function f0(o){return!(128&~o[Li])}function ru(o,c){return null==c?null:o[c]}function h0(o){o[d0]=0}function wS(o){1024&o[Li]||(o[Li]|=1024,f0(o)&&mb(o))}function ug(o){return!!(9216&o[Li]||o[vd]?.dirty)}function V1(o){o[tf].changeDetectionScheduler?.notify(7),64&o[Li]&&(o[Li]|=1024),ug(o)&&mb(o)}function mb(o){o[tf].changeDetectionScheduler?.notify(0);let c=Jh(o);for(;null!==c&&!(8192&c[Li])&&(c[Li]|=8192,f0(c));)c=Jh(c)}function yb(o,c){if(!(256&~o[Li]))throw new kr(911,!1);null===o[Gh]&&(o[Gh]=[]),o[Gh].push(c)}function Jh(o){const c=o[ec];return Fd(c)?c[ec]:c}const mo={lFrame:fg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let pk=!1;function z1(){return mo.bindingsEnabled}function Qp(){return null!==mo.skipHydrationRootTNode}function yr(){return mo.lFrame.lView}function zo(){return mo.lFrame.tView}function wk(o){return mo.lFrame.contextLView=o,o[fa]}function _k(o){return mo.lFrame.contextLView=null,o}function Ws(){let o=Ek();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ek(){return mo.lFrame.currentTNode}function gb(){const o=mo.lFrame,c=o.currentTNode;return o.isParent?c:c.parent}function sf(o,c){const g=mo.lFrame;g.currentTNode=o,g.isParent=c}function TS(){return mo.lFrame.isParent}function af(){mo.lFrame.isParent=!1}function DS(){return pk}function IS(o){pk=o}function $d(){const o=mo.lFrame;let c=o.bindingRootIndex;return-1===c&&(c=o.bindingRootIndex=o.tView.bindingStartIndex),c}function iu(){return mo.lFrame.bindingIndex++}function Cu(o){const c=mo.lFrame,g=c.bindingIndex;return c.bindingIndex=c.bindingIndex+o,g}function kS(o){mo.lFrame.inI18n=o}function Tk(o,c){const g=mo.lFrame;g.bindingIndex=g.bindingRootIndex=o,H1(c)}function H1(o){mo.lFrame.currentDirectiveIndex=o}function W1(o){const c=mo.lFrame.currentDirectiveIndex;return-1===c?null:o[c]}function G1(){return mo.lFrame.currentQueryIndex}function vb(o){mo.lFrame.currentQueryIndex=o}function Dk(o){const c=o[zr];return 2===c.type?c.declTNode:1===c.type?o[yd]:null}function PS(o,c,g){if(g&lo.SkipSelf){let V=c,ue=o;for(;!(V=V.parent,null!==V||g&lo.Host||(V=Dk(ue),null===V||(ue=ue[Yf],10&V.type))););if(null===V)return!1;c=V,o=ue}const I=mo.lFrame=OS();return I.currentTNode=c,I.lView=o,!0}function J1(o){const c=OS(),g=o[zr];mo.lFrame=c,c.currentTNode=g.firstChild,c.lView=o,c.tView=g,c.contextLView=o,c.bindingIndex=g.bindingStartIndex,c.inI18n=!1}function OS(){const o=mo.lFrame,c=null===o?null:o.child;return null===c?fg(o):c}function fg(o){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=c),c}function bb(){const o=mo.lFrame;return mo.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const hg=bb;function m0(){const o=bb();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function bd(){return mo.lFrame.selectedIndex}function em(o){mo.lFrame.selectedIndex=o}function Gs(){const o=mo.lFrame;return dg(o.tView,o.selectedIndex)}function wb(){mo.lFrame.currentNamespace=Qf}function Ck(){!function RS(){mo.lFrame.currentNamespace=null}()}let Tc=!0;function pg(){return Tc}function cf(o){Tc=o}function Xh(o,c){for(let g=c.directiveStart,I=c.directiveEnd;g<I;g++){const ue=o.data[g].type.prototype,{ngAfterContentInit:Se,ngAfterContentChecked:Le,ngAfterViewInit:nt,ngAfterViewChecked:Ct,ngOnDestroy:jt}=ue;Se&&(o.contentHooks??=[]).push(-g,Se),Le&&((o.contentHooks??=[]).push(g,Le),(o.contentCheckHooks??=[]).push(g,Le)),nt&&(o.viewHooks??=[]).push(-g,nt),Ct&&((o.viewHooks??=[]).push(g,Ct),(o.viewCheckHooks??=[]).push(g,Ct)),null!=jt&&(o.destroyHooks??=[]).push(g,jt)}}function Eb(o,c,g){Y1(o,c,3,g)}function mg(o,c,g,I){(3&o[Li])===g&&Y1(o,c,g,I)}function X1(o,c){let g=o[Li];(3&g)===c&&(g&=16383,g+=1,o[Li]=g)}function Y1(o,c,g,I){const ue=I??-1,Se=c.length-1;let Le=0;for(let nt=void 0!==I?65535&o[d0]:0;nt<Se;nt++)if("number"==typeof c[nt+1]){if(Le=c[nt],null!=I&&Le>=I)break}else c[nt]<0&&(o[d0]+=65536),(Le<ue||-1==ue)&&(Pk(o,g,c,nt),o[d0]=(4294901760&o[d0])+nt+2),nt++}function BS(o,c){Kl(4,o,c);const g=O(null);try{c.call(o)}finally{O(g),Kl(5,o,c)}}function Pk(o,c,g,I){const V=g[I]<0,ue=g[I+1],Le=o[V?-g[I]:g[I]];V?o[Li]>>14<o[d0]>>16&&(3&o[Li])===c&&(o[Li]+=16384,BS(Le,ue)):BS(Le,ue)}const y0=-1;class yg{constructor(c,g,I){this.factory=c,this.resolving=!1,this.canSeeViewProviders=g,this.injectImpl=I}}const lf={};class uf{constructor(c,g){this.injector=c,this.parentInjector=g}get(c,g,I){I=Ci(I);const V=this.injector.get(c,lf,I);return V!==lf||g===lf?V:this.parentInjector.get(c,g,I)}}function Ac(o){return o!==y0}function Yh(o){return 32767&o}function al(o,c){let g=function US(o){return o>>16}(o),I=c;for(;g>0;)I=I[Yf],g--;return I}let bi=!0;function Zh(o){const c=bi;return bi=o,c}const Ho=255,gg=5;let Sb=0;const ff={};function vg(o,c){const g=Ab(o,c);if(-1!==g)return g;const I=c[zr];I.firstCreatePass&&(o.injectorIndex=c.length,Tb(I.data,o),Tb(c,null),Tb(I.blueprint,null));const V=ku(o,c),ue=o.injectorIndex;if(Ac(V)){const Se=Yh(V),Le=al(V,c),nt=Le[zr].data;for(let Ct=0;Ct<8;Ct++)c[ue+Ct]=Le[Se+Ct]|nt[Se+Ct]}return c[ue+8]=V,ue}function Tb(o,c){o.push(0,0,0,0,0,0,0,0,c)}function Ab(o,c){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===c[o.injectorIndex+8]?-1:o.injectorIndex}function ku(o,c){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let g=0,I=null,V=c;for(;null!==V;){if(I=jS(V),null===I)return y0;if(g++,V=V[Yf],-1!==I.injectorIndex)return I.injectorIndex|g<<16}return y0}function bg(o,c,g){!function Nk(o,c,g){let I;"string"==typeof g?I=g.charCodeAt(0)||0:g.hasOwnProperty(Qr)&&(I=g[Qr]),null==I&&(I=g[Qr]=Sb++);const V=I&Ho;c.data[o+(V>>gg)]|=1<<V}(o,c,g)}function q1(o,c,g){if(g&lo.Optional||void 0!==o)return o;dc()}function LS(o,c,g,I){if(g&lo.Optional&&void 0===I&&(I=null),!(g&(lo.Self|lo.Host))){const V=o[Sc],ue=Nr(void 0);try{return V?V.get(c,I,g&lo.Optional):Bo(c,I,g&lo.Optional)}finally{Nr(ue)}}return q1(I,0,g)}function Q1(o,c,g,I=lo.Default,V){if(null!==o){if(2048&c[Li]&&!(I&lo.Self)){const Se=function Fk(o,c,g,I,V){let ue=o,Se=c;for(;null!==ue&&null!==Se&&2048&Se[Li]&&!(512&Se[Li]);){const Le=eE(ue,Se,g,I|lo.Self,ff);if(Le!==ff)return Le;let nt=ue.parent;if(!nt){const Ct=Se[fS];if(Ct){const jt=Ct.get(g,ff,I);if(jt!==ff)return jt}nt=jS(Se),Se=Se[Yf]}ue=nt}return V}(o,c,g,I,ff);if(Se!==ff)return Se}const ue=eE(o,c,g,I,ff);if(ue!==ff)return ue}return LS(c,g,I,V)}function eE(o,c,g,I,V){const ue=function Uk(o){if("string"==typeof o)return o.charCodeAt(0)||0;const c=o.hasOwnProperty(Qr)?o[Qr]:void 0;return"number"==typeof c?c>=0?c&Ho:a8:c}(g);if("function"==typeof ue){if(!PS(c,o,I))return I&lo.Host?q1(V,0,I):LS(c,g,I,V);try{let Se;if(Se=ue(I),null!=Se||I&lo.Optional)return Se;dc()}finally{hg()}}else if("number"==typeof ue){let Se=null,Le=Ab(o,c),nt=y0,Ct=I&lo.Host?c[Ra][yd]:null;for((-1===Le||I&lo.SkipSelf)&&(nt=-1===Le?ku(o,c):c[Le+8],nt!==y0&&Lk(I,!1)?(Se=c[zr],Le=Yh(nt),c=al(nt,c)):Le=-1);-1!==Le;){const jt=c[zr];if(KS(ue,Le,jt.data)){const hn=Db(Le,c,g,Se,I,Ct);if(hn!==ff)return hn}nt=c[Le+8],nt!==y0&&Lk(I,c[zr].data[Le+8]===Ct)&&KS(ue,Le,c)?(Se=jt,Le=Yh(nt),c=al(nt,c)):Le=-1}}return V}function Db(o,c,g,I,V,ue){const Se=c[zr],Le=Se.data[o+8],jt=hf(Le,Se,g,null==I?Yp(Le)&&bi:I!=Se&&!!(3&Le.type),V&lo.Host&&ue===Le);return null!==jt?tm(c,Se,jt,Le):ff}function hf(o,c,g,I,V){const ue=o.providerIndexes,Se=c.data,Le=1048575&ue,nt=o.directiveStart,jt=ue>>20,Pn=V?Le+jt:o.directiveEnd;for(let Bn=I?Le:Le+jt;Bn<Pn;Bn++){const qn=Se[Bn];if(Bn<nt&&g===qn||Bn>=nt&&qn.type===g)return Bn}if(V){const Bn=Se[nt];if(Bn&&Iu(Bn)&&Bn.type===g)return nt}return null}function tm(o,c,g,I){let V=o[g];const ue=c.data;if(function Ok(o){return o instanceof yg}(V)){const Se=V;Se.resolving&&function Zo(o,c){throw c&&c.join(" > "),new kr(-200,o)}(function xi(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Zr(o)}(ue[g]));const Le=Zh(Se.canSeeViewProviders);Se.resolving=!0;const Ct=Se.injectImpl?Nr(Se.injectImpl):null;PS(o,I,lo.Default);try{V=o[g]=Se.factory(void 0,ue,o,I),c.firstCreatePass&&g>=I.directiveStart&&function kk(o,c,g){const{ngOnChanges:I,ngOnInit:V,ngDoCheck:ue}=c.type.prototype;if(I){const Se=ag(c);(g.preOrderHooks??=[]).push(o,Se),(g.preOrderCheckHooks??=[]).push(o,Se)}V&&(g.preOrderHooks??=[]).push(0-o,V),ue&&((g.preOrderHooks??=[]).push(o,ue),(g.preOrderCheckHooks??=[]).push(o,ue))}(g,ue[g],c)}finally{null!==Ct&&Nr(Ct),Zh(Le),Se.resolving=!1,hg()}}return V}function KS(o,c,g){return!!(g[c+(o>>gg)]&1<<o)}function Lk(o,c){return!(o&lo.Self||o&lo.Host&&c)}class fc{constructor(c,g){this._tNode=c,this._lView=g}get(c,g,I){return Q1(this._tNode,this._lView,c,Ci(I),g)}}function a8(){return new fc(Ws(),yr())}function Kk(o){return co(()=>{const c=o.prototype.constructor,g=c[cc]||FS(c),I=Object.prototype;let V=Object.getPrototypeOf(o.prototype).constructor;for(;V&&V!==I;){const ue=V[cc]||FS(V);if(ue&&ue!==g)return ue;V=Object.getPrototypeOf(V)}return ue=>new ue})}function FS(o){return At(o)?()=>{const c=FS(Lt(o));return c&&c()}:ie(o)}function jS(o){const c=o[zr],g=c.type;return 2===g?c.declTNode:1===g?o[yd]:null}function Ib(o){return function s8(o,c){if("class"===c)return o.classes;if("style"===c)return o.styles;const g=o.attrs;if(g){const I=g.length;let V=0;for(;V<I;){const ue=g[V];if(il(ue))break;if(0===ue)V+=2;else if("number"==typeof ue)for(V++;V<I&&"string"==typeof g[V];)V++;else{if(ue===c)return g[V+1];V+=2}}}return null}(Ws(),o)}function zk(o,c=null,g=null,I){const V=Hk(o,c,g,I);return V.resolveInjectorInitializers(),V}function Hk(o,c=null,g=null,I,V=new Set){const ue=[g||Xr,ol(o)];return I=I||("object"==typeof o?void 0:Fo(o)),new Wh(ue,c||db(),I||null,V)}class Qc{static#e=this.THROW_IF_NOT_FOUND=ua;static#t=this.NULL=new qr;static create(c,g){if(Array.isArray(c))return zk({name:""},g,c,"");{const I=c.name??"";return zk({name:I},c.parent,c.providers,I)}}static#n=this.\u0275prov=To({token:Qc,providedIn:"any",factory:()=>ii(Ei)});static#f=this.__NG_ELEMENT_ID__=-1}new $i("").__NG_ELEMENT_ID__=o=>{const c=Ws();if(null===c)throw new kr(204,!1);if(2&c.type)return c.value;if(o&lo.Optional)return null;throw new kr(204,!1)};function rE(o){return o.ngOriginalError}class ou{constructor(){this._console=console}handleError(c){const g=this._findOriginalError(c);this._console.error("ERROR",c),g&&this._console.error("ORIGINAL ERROR",g)}_findOriginalError(c){let g=c&&rE(c);for(;g&&rE(g);)g=rE(g);return g||null}}const WS=new $i("",{providedIn:"root",factory:()=>Cr(ou).handleError.bind(void 0)});let v0=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=GS;static#t=this.__NG_ENV_ID__=g=>g}return o})();class Wk extends v0{constructor(c){super(),this._lView=c}onDestroy(c){return yb(this._lView,c),()=>function ES(o,c){if(null===o[Gh])return;const g=o[Gh].indexOf(c);-1!==g&&o[Gh].splice(g,1)}(this._lView,c)}}function GS(){return new Wk(yr())}class JS{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=Cr(ou,{optional:!0}),this.destroyRef=Cr(v0),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(c){if(this.destroyed)throw new kr(953,!1);return(this.listeners??=[]).push(c),{unsubscribe:()=>{const g=this.listeners?.indexOf(c);void 0!==g&&-1!==g&&this.listeners?.splice(g,1)}}}emit(c){if(this.destroyed)throw new kr(953,!1);if(null===this.listeners)return;const g=O(null);try{for(const I of this.listeners)try{I(c)}catch(V){this.errorHandler?.handleError(V)}}finally{O(g)}}}function Jk(){return b0(Ws(),yr())}function b0(o,c){return new _g(jd(o,c))}let _g=(()=>{class o{constructor(g){this.nativeElement=g}static#e=this.__NG_ELEMENT_ID__=Jk}return o})();function YS(o){return o instanceof _g?o.nativeElement:o}let nm=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const g=this.taskId++;return this.pendingTasks.add(g),g}remove(g){this.pendingTasks.delete(g),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=To({token:o,providedIn:"root",factory:()=>new o})}return o})();const mf=class Xk extends ge.B{constructor(c=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=c,lS()&&(this.destroyRef=Cr(v0,{optional:!0})??void 0,this.pendingTasks=Cr(nm,{optional:!0})??void 0)}emit(c){const g=O(null);try{super.next(c)}finally{O(g)}}subscribe(c,g,I){let V=c,ue=g||(()=>null),Se=I;if(c&&"object"==typeof c){const nt=c;V=nt.next?.bind(nt),ue=nt.error?.bind(nt),Se=nt.complete?.bind(nt)}this.__isAsync&&(ue=this.wrapInTimeout(ue),V&&(V=this.wrapInTimeout(V)),Se&&(Se=this.wrapInTimeout(Se)));const Le=super.subscribe({next:V,error:ue,complete:Se});return c instanceof me.yU&&c.add(Le),Le}wrapInTimeout(c){return g=>{const I=this.pendingTasks?.add();setTimeout(()=>{c(g),void 0!==I&&this.pendingTasks?.remove(I)})}}};function Yk(){return this._results[Symbol.iterator]()}class Pb{static#e=Symbol.iterator;get changes(){return this._changes??=new mf}constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const g=Pb.prototype;g[Symbol.iterator]||(g[Symbol.iterator]=Yk)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,g){return this._results.reduce(c,g)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,g){this.dirty=!1;const I=function ye(o){return o.flat(Number.POSITIVE_INFINITY)}(c);(this._changesDetected=!function oe(o,c,g){if(o.length!==c.length)return!1;for(let I=0;I<o.length;I++){let V=o[I],ue=c[I];if(g&&(V=g(V),ue=g(ue)),ue!==V)return!1}return!0}(this._results,I,g))&&(this._results=I,this.length=I.length,this.last=I[this.length-1],this.first=I[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(c){this._onDirty=c}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Ob(o){return!(128&~o.flags)}const oE=new Map;let sE=0;const Bb="__ngContext__";function wd(o,c){qc(c)?(o[Bb]=c[l0],function p8(o){oE.set(o[l0],o)}(c)):o[Bb]=c}function nT(o){return rm(o[rg])}function _0(o){return rm(o[tu])}function rm(o){for(;null!==o&&!Fd(o);)o=o[tu];return o}let jb;function o3(o){jb=o}function tp(){if(void 0!==jb)return jb;if(typeof document<"u")return document;throw new kr(210,!1)}const $b=new $i("",{providedIn:"root",factory:()=>hE}),hE="ng",Vb=new $i(""),Mg=new $i("",{providedIn:"platform",factory:()=>"unknown"}),Ps=new $i(""),Vd=new $i("",{providedIn:"root",factory:()=>tp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let np=()=>null;function gE(o,c,g=!1){return np(o,c,g)}const _T=new $i("",{providedIn:"root",factory:()=>!1});let Qb,ew;function tc(o){return function EE(){if(void 0===Qb&&(Qb=null,no.trustedTypes))try{Qb=no.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Qb}()?.createHTML(o)||o}function MT(o){return function tw(){if(void 0===ew&&(ew=null,no.trustedTypes))try{ew=no.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return ew}()?.createScriptURL(o)||o}class om{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Xo})`}}class f3 extends om{getTypeName(){return"HTML"}}class kg extends om{getTypeName(){return"Style"}}class h3 extends om{getTypeName(){return"Script"}}class p3 extends om{getTypeName(){return"URL"}}class m3 extends om{getTypeName(){return"ResourceURL"}}function ih(o){return o instanceof om?o.changingThisBreaksApplicationSecurity:o}function S0(o,c){const g=function y3(o){return o instanceof om&&o.getTypeName()||null}(o);if(null!=g&&g!==c){if("ResourceURL"===g&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${g} (see ${Xo})`)}return g===c}function g3(o){return new f3(o)}function v3(o){return new kg(o)}function b3(o){return new h3(o)}function w3(o){return new p3(o)}function oh(o){return new m3(o)}function ST(o){const c=new E3(o);return function x3(){try{return!!(new window.DOMParser).parseFromString(tc(""),"text/html")}catch{return!1}}()?new _3(c):c}class _3{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const g=(new window.DOMParser).parseFromString(tc(c),"text/html").body;return null===g?this.inertDocumentHelper.getInertBodyElement(c):(g.removeChild(g.firstChild),g)}catch{return null}}}class E3{constructor(c){this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(c){const g=this.inertDocument.createElement("template");return g.innerHTML=tc(c),g}}const M3=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nw(o){return(o=String(o)).match(M3)?o:"unsafe:"+o}function sh(o){const c={};for(const g of o.split(","))c[g]=!0;return c}function Pg(...o){const c={};for(const g of o)for(const I in g)g.hasOwnProperty(I)&&(c[I]=!0);return c}const TT=sh("area,br,col,hr,img,wbr"),AT=sh("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),DT=sh("rp,rt"),xE=Pg(TT,Pg(AT,sh("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pg(DT,sh("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pg(DT,AT)),ME=sh("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),SE=Pg(ME,sh("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sh("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),S3=sh("script,style,template");class T3{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let g=c.firstChild,I=!0,V=[];for(;g;)if(g.nodeType===Node.ELEMENT_NODE?I=this.startElement(g):g.nodeType===Node.TEXT_NODE?this.chars(g.nodeValue):this.sanitizedSomething=!0,I&&g.firstChild)V.push(g),g=D3(g);else for(;g;){g.nodeType===Node.ELEMENT_NODE&&this.endElement(g);let ue=IT(g);if(ue){g=ue;break}g=V.pop()}return this.buf.join("")}startElement(c){const g=CT(c).toLowerCase();if(!xE.hasOwnProperty(g))return this.sanitizedSomething=!0,!S3.hasOwnProperty(g);this.buf.push("<"),this.buf.push(g);const I=c.attributes;for(let V=0;V<I.length;V++){const ue=I.item(V),Se=ue.name,Le=Se.toLowerCase();if(!SE.hasOwnProperty(Le)){this.sanitizedSomething=!0;continue}let nt=ue.value;ME[Le]&&(nt=nw(nt)),this.buf.push(" ",Se,'="',kT(nt),'"')}return this.buf.push(">"),!0}endElement(c){const g=CT(c).toLowerCase();xE.hasOwnProperty(g)&&!TT.hasOwnProperty(g)&&(this.buf.push("</"),this.buf.push(g),this.buf.push(">"))}chars(c){this.buf.push(kT(c))}}function IT(o){const c=o.nextSibling;if(c&&o!==c.previousSibling)throw TE(c);return c}function D3(o){const c=o.firstChild;if(c&&function A3(o,c){return(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,c))throw TE(c);return c}function CT(o){const c=o.nodeName;return"string"==typeof c?c:"FORM"}function TE(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const AE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I3=/([^\#-~ |!])/g;function kT(o){return o.replace(/&/g,"&amp;").replace(AE,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(I3,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rw;function PT(o,c){let g=null;try{rw=rw||ST(o);let I=c?String(c):"";g=rw.getInertBodyElement(I);let V=5,ue=I;do{if(0===V)throw new Error("Failed to sanitize html because the input is unstable");V--,I=ue,ue=g.innerHTML,g=rw.getInertBodyElement(I)}while(I!==ue);return tc((new T3).sanitizeChildren(DE(g)||g))}finally{if(g){const I=DE(g)||g;for(;I.firstChild;)I.removeChild(I.firstChild)}}}function DE(o){return"content"in o&&function C3(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var sm=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(sm||{});function IE(o){const c=Rg();return c?c.sanitize(sm.URL,o)||"":S0(o,"URL")?ih(o):nw(Zr(o))}function OT(o){const c=Rg();if(c)return MT(c.sanitize(sm.RESOURCE_URL,o)||"");if(S0(o,"ResourceURL"))return MT(ih(o));throw new kr(904,!1)}function Og(o,c,g){return function ow(o,c){return"src"===c&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===c&&("base"===o||"link"===o)?OT:IE}(c,g)(o)}function Rg(){const o=yr();return o&&o[tf].sanitizer}const PE=/^>|^->|<!--|-->|--!>|<!-$/g,RT=/(<|>)/g,R3="\u200b$1\u200b";function cl(o){return o instanceof Function?o():o}function jl(o){return"browser"===(o??Cr(Qc)).get(Mg)}var T0=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(T0||{});let Bg;function LE(o,c){return Bg(o,c)}function ah(o,c,g,I,V){if(null!=I){let ue,Se=!1;Fd(I)?ue=I:qc(I)&&(Se=!0,I=I[Oa]);const Le=os(I);0===o&&null!==g?null==V?hw(c,g,Le):_d(c,g,Le,V||null,!0):1===o&&null!==g?_d(c,g,Le,V||null,!0):2===o?function Ug(o,c,g){const I=pw(o,c);I&&function Ng(o,c,g,I){o.removeChild(c,g,I)}(o,I,c,g)}(c,Le,Se):3===o&&c.destroyNode(Le),null!=ue&&function G3(o,c,g,I,V){const ue=g[nf];ue!==os(g)&&ah(c,o,I,ue,V);for(let Le=Ga;Le<g.length;Le++){const nt=g[Le];mw(nt[zr],nt,o,c,I,ue)}}(c,o,ue,g,V)}}function cm(o,c){return o.createText(c)}function KE(o,c){return o.createComment(function OE(o){return o.replace(PE,c=>c.replace(RT,R3))}(c))}function cw(o,c,g){return o.createElement(c,g)}function dw(o,c){c[tf].changeDetectionScheduler?.notify(8),mw(o,c,c[po],2,null,null)}function lw(o,c){const g=o[u0],I=c[ec];(qc(I)||c[Ra]!==I[ec][Ra])&&(o[Li]|=qf.HasTransplantedViews),null===g?o[u0]=[c]:g.push(c)}function GT(o,c){const g=o[u0],I=g.indexOf(c);g.splice(I,1)}function El(o,c){if(o.length<=Ga)return;const g=Ga+c,I=o[g];if(I){const V=I[Du];null!==V&&V!==o&&GT(V,I),c>0&&(o[g-1][tu]=I[tu]);const ue=ht(o,Ga+c);!function V3(o,c){dw(o,c),c[Oa]=null,c[yd]=null}(I[zr],I);const Se=ue[Zf];null!==Se&&Se.detachView(ue[zr]),I[ec]=null,I[tu]=null,I[Li]&=-129}return I}function dm(o,c){if(!(256&c[Li])){const g=c[po];g.destroyNode&&mw(o,c,g,3,null,null),function WT(o){let c=o[rg];if(!c)return uw(o[zr],o);for(;c;){let g=null;if(qc(c))g=c[rg];else{const I=c[Ga];I&&(g=I)}if(!g){for(;c&&!c[tu]&&c!==o;)qc(c)&&uw(c[zr],c),c=c[ec];null===c&&(c=o),qc(c)&&uw(c[zr],c),g=c&&c[tu]}c=g}}(c)}}function uw(o,c){if(256&c[Li])return;const g=O(null);try{c[Li]&=-129,c[Li]|=256,c[vd]&&ce(c[vd]),function H3(o,c){let g;if(null!=o&&null!=(g=o.destroyHooks))for(let I=0;I<g.length;I+=2){const V=c[g[I]];if(!(V instanceof yg)){const ue=g[I+1];if(Array.isArray(ue))for(let Se=0;Se<ue.length;Se+=2){const Le=V[ue[Se]],nt=ue[Se+1];Kl(4,Le,nt);try{nt.call(Le)}finally{Kl(5,Le,nt)}}else{Kl(4,V,ue);try{ue.call(V)}finally{Kl(5,V,ue)}}}}}(o,c),function JT(o,c){const g=o.cleanup,I=c[ef];if(null!==g)for(let ue=0;ue<g.length-1;ue+=2)if("string"==typeof g[ue]){const Se=g[ue+3];Se>=0?I[Se]():I[-Se].unsubscribe(),ue+=2}else g[ue].call(I[g[ue+1]]);null!==I&&(c[ef]=null);const V=c[Gh];if(null!==V){c[Gh]=null;for(let ue=0;ue<V.length;ue++)(0,V[ue])()}}(o,c),1===c[zr].type&&c[po].destroy();const I=c[Du];if(null!==I&&Fd(c[ec])){I!==c[ec]&&GT(I,c);const V=c[Zf];null!==V&&V.detachView(o)}!function ZS(o){oE.delete(o[l0])}(c)}finally{O(g)}}function fw(o,c,g){return jE(o,c.parent,g)}function jE(o,c,g){let I=c;for(;null!==I&&168&I.type;)I=(c=I).parent;if(null===I)return g[Oa];{const{componentOffset:V}=I;if(V>-1){const{encapsulation:ue}=o.data[I.directiveStart+V];if(ue===As.None||ue===As.Emulated)return null}return jd(I,g)}}function _d(o,c,g,I,V){o.insertBefore(c,g,I,V)}function hw(o,c,g){o.appendChild(c,g)}function XT(o,c,g,I,V){null!==I?_d(o,c,g,I,V):hw(o,c,g)}function pw(o,c){return o.parentNode(c)}function lm(o,c,g){return Ou(o,c,g)}function YT(o,c,g){return 40&o.type?jd(o,g):null}let $E,Ou=YT;function ZT(o,c){Ou=o,$E=c}function A0(o,c,g,I){const V=fw(o,I,c),ue=c[po],Le=lm(I.parent||c[yd],I,c);if(null!=V)if(Array.isArray(g))for(let nt=0;nt<g.length;nt++)XT(ue,V,g[nt],Le,!1);else XT(ue,V,g,Le,!1);void 0!==$E&&$E(ue,I,c,g,V)}function um(o,c){if(null!==c){const g=c.type;if(3&g)return jd(c,o);if(4&g)return VE(-1,o[c.index]);if(8&g){const I=c.child;if(null!==I)return um(o,I);{const V=o[c.index];return Fd(V)?VE(-1,V):os(V)}}if(32&g)return LE(c,o)()||os(o[c.index]);{const I=qT(o,c);return null!==I?Array.isArray(I)?I[0]:um(Jh(o[Ra]),I):um(o,c.next)}}return null}function qT(o,c){return null!==c?o[Ra][yd].projection[c.projection]:null}function VE(o,c){const g=Ga+o+1;if(g<c.length){const I=c[g],V=I[zr].firstChild;if(null!==V)return um(I,V)}return c[nf]}function zE(o,c,g,I,V,ue,Se){for(;null!=g;){if(128===g.type){g=g.next;continue}const Le=I[g.index],nt=g.type;if(Se&&0===c&&(Le&&wd(os(Le),I),g.flags|=2),32&~g.flags)if(8&nt)zE(o,c,g.child,I,V,ue,!1),ah(c,o,V,Le,ue);else if(32&nt){const Ct=LE(g,I);let jt;for(;jt=Ct();)ah(c,o,V,jt,ue);ah(c,o,V,Le,ue)}else 16&nt?eA(o,c,I,g,V,ue):ah(c,o,V,Le,ue);g=Se?g.projectionNext:g.next}}function mw(o,c,g,I,V,ue){zE(g,I,o.firstChild,c,V,ue,!1)}function eA(o,c,g,I,V,ue){const Se=g[Ra],nt=Se[yd].projection[I.projection];if(Array.isArray(nt))for(let Ct=0;Ct<nt.length;Ct++)ah(c,o,V,nt[Ct],ue);else{let Ct=nt;const jt=Se[ec];Ob(I)&&(Ct.flags|=128),zE(o,c,Ct,jt,V,ue,!0)}}function tA(o,c,g){""===g?o.removeAttribute(c,"class"):o.setAttribute(c,"class",g)}function Y3(o,c,g){const{mergedAttrs:I,classes:V,styles:ue}=g;null!==I&&Jf(o,c,I),null!==V&&tA(o,c,V),null!==ue&&function X3(o,c,g){o.setAttribute(c,"style",g)}(o,c,ue)}const xo={};function nA(o=1){D0(zo(),yr(),bd()+o,!1)}function D0(o,c,g,I){if(!I)if(3&~c[Li]){const ue=o.preOrderHooks;null!==ue&&mg(c,ue,0,g)}else{const ue=o.preOrderCheckHooks;null!==ue&&Eb(c,ue,g)}em(g)}function op(o,c=lo.Default){const g=yr();return null===g?ii(o,c):Q1(Ws(),g,Lt(o),c)}function yw(){throw new Error("invalid")}function gw(o,c,g,I,V,ue){const Se=O(null);try{let Le=null;V&ws.SignalBased&&(Le=c[I][w]),null!==Le&&void 0!==Le.transformFn&&(ue=Le.transformFn(ue)),V&ws.HasDecoratorInputTransform&&(ue=o.inputTransforms[I].call(c,ue)),null!==o.setInput?o.setInput(c,Le,ue,g,I):F1(c,Le,I,ue)}finally{O(Se)}}function HE(o,c,g,I,V,ue,Se,Le,nt,Ct,jt){const hn=c.blueprint.slice();return hn[Oa]=V,hn[Li]=204|I,(null!==Ct||o&&2048&o[Li])&&(hn[Li]|=2048),h0(hn),hn[ec]=hn[Yf]=o,hn[fa]=g,hn[tf]=Se||o&&o[tf],hn[po]=Le||o&&o[po],hn[Sc]=nt||o&&o[Sc]||null,hn[yd]=ue,hn[l0]=function aE(){return sE++}(),hn[gd]=jt,hn[fS]=Ct,hn[Ra]=2==c.type?o[Ra]:hn,hn}function sp(o,c,g,I,V){let ue=o.data[c];if(null===ue)ue=WE(o,c,g,I,V),function Sk(){return mo.lFrame.inI18n}()&&(ue.flags|=32);else if(64&ue.type){ue.type=g,ue.value=I,ue.attrs=V;const Se=gb();ue.injectorIndex=null===Se?-1:Se.injectorIndex}return sf(ue,!0),ue}function WE(o,c,g,I,V){const ue=Ek(),Se=TS(),nt=o.data[c]=function dA(o,c,g,I,V,ue){let Se=c?c.injectorIndex:-1,Le=0;return Qp()&&(Le|=128),{type:g,index:I,insertBeforeIndex:null,injectorIndex:Se,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Le,providerIndexes:0,value:V,attrs:ue,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Se?ue:ue&&ue.parent,g,c,I,V);return null===o.firstChild&&(o.firstChild=nt),null!==ue&&(Se?null==ue.child&&null!==nt.parent&&(ue.child=nt):null===ue.next&&(ue.next=nt,nt.prev=ue)),nt}function fm(o,c,g,I){if(0===g)return-1;const V=c.length;for(let ue=0;ue<g;ue++)c.push(I),o.blueprint.push(I),o.data.push(null);return V}function q3(o,c,g,I,V){const ue=bd(),Se=2&I;try{em(-1),Se&&c.length>Ai&&D0(o,c,Ai,!1),Kl(Se?2:0,V),g(I,V)}finally{em(ue),Kl(Se?3:1,V)}}function rA(o,c,g){if(L1(c)){const I=O(null);try{const ue=c.directiveEnd;for(let Se=c.directiveStart;Se<ue;Se++){const Le=o.data[Se];Le.contentQueries&&Le.contentQueries(1,g[Se],Se)}}finally{O(I)}}}function iA(o,c,g){z1()&&(function ap(o,c,g,I){const V=g.directiveStart,ue=g.directiveEnd;Yp(g)&&function d6(o,c,g){const I=jd(c,o),V=oA(g);let Se=16;g.signals?Se=4096:g.onPush&&(Se=64);const Le=bw(o,HE(o,V,null,Se,I,c,null,o[tf].rendererFactory.createRenderer(I,g),null,null,null));o[c.index]=Le}(c,g,o.data[V+g.componentOffset]),o.firstCreatePass||vg(g,c),wd(I,c);const Se=g.initialInputs;for(let Le=V;Le<ue;Le++){const nt=o.data[Le],Ct=tm(c,o,Le,g);wd(Ct,c),null!==Se&&l6(0,Le-V,Ct,nt,0,Se),Iu(nt)&&(Fl(g.index,c)[fa]=tm(c,o,Le,g))}}(o,c,g,jd(g,c)),!(64&~g.flags)&&i6(o,c,g))}function GE(o,c,g=jd){const I=c.localNames;if(null!==I){let V=c.index+1;for(let ue=0;ue<I.length;ue+=2){const Se=I[ue+1],Le=-1===Se?g(c,o):o[Se];o[V++]=Le}}}function oA(o){const c=o.tView;return null===c||c.incompleteFirstPass?o.tView=JE(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):c}function JE(o,c,g,I,V,ue,Se,Le,nt,Ct,jt){const hn=Ai+I,Pn=hn+V,Bn=function Q3(o,c){const g=[];for(let I=0;I<c;I++)g.push(I<o?null:xo);return g}(hn,Pn),qn="function"==typeof Ct?Ct():Ct;return Bn[zr]={type:o,blueprint:Bn,template:g,queries:null,viewQuery:Le,declTNode:c,data:Bn.slice().fill(null,hn),bindingStartIndex:hn,expandoStartIndex:Pn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof ue?ue():ue,pipeRegistry:"function"==typeof Se?Se():Se,firstChild:null,schemas:nt,consts:qn,incompleteFirstPass:!1,ssrId:jt}}let sA=()=>null;function lA(o,c,g,I,V){for(let ue in c){if(!c.hasOwnProperty(ue))continue;const Se=c[ue];if(void 0===Se)continue;I??={};let Le,nt=ws.None;Array.isArray(Se)?(Le=Se[0],nt=Se[1]):Le=Se;let Ct=ue;if(null!==V){if(!V.hasOwnProperty(ue))continue;Ct=V[ue]}0===o?uA(I,g,Ct,Le,nt):uA(I,g,Ct,Le)}return I}function uA(o,c,g,I,V){let ue;o.hasOwnProperty(g)?(ue=o[g]).push(c,I):ue=o[g]=[c,I],void 0!==V&&ue.push(V)}function $l(o,c,g,I,V,ue,Se,Le){const nt=jd(c,g);let jt,Ct=c.inputs;!Le&&null!=Ct&&(jt=Ct[I])?(ZE(o,g,jt,I,V),Yp(c)&&function N8(o,c){const g=Fl(c,o);16&g[Li]||(g[Li]|=64)}(g,c.index)):3&c.type&&(I=function vw(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(I),V=null!=Se?Se(V,c.value||"",I):V,ue.setProperty(nt,I,V))}function fA(o,c,g,I){if(z1()){const V=null===I?null:{"":-1},ue=function hA(o,c){const g=o.directiveRegistry;let I=null,V=null;if(g)for(let ue=0;ue<g.length;ue++){const Se=g[ue];if(qy(c,Se.selectors,!1))if(I||(I=[]),Iu(Se))if(null!==Se.findHostDirectiveDefs){const Le=[];V=V||new Map,Se.findHostDirectiveDefs(Se,Le,V),I.unshift(...Le,Se),XE(o,c,Le.length)}else I.unshift(Se),XE(o,c,0);else V=V||new Map,Se.findHostDirectiveDefs?.(Se,I,V),I.push(Se)}return null===I?null:[I,V]}(o,g);let Se,Le;null===ue?Se=Le=null:[Se,Le]=ue,null!==Se&&r6(o,c,g,Se,V,Le),V&&function s6(o,c,g){if(c){const I=o.localNames=[];for(let V=0;V<c.length;V+=2){const ue=g[c[V+1]];if(null==ue)throw new kr(-301,!1);I.push(c[V],ue)}}}(g,I,V)}g.mergedAttrs=Zy(g.mergedAttrs,g.attrs)}function r6(o,c,g,I,V,ue){for(let Ct=0;Ct<I.length;Ct++)bg(vg(g,c),o,I[Ct].type);!function pA(o,c,g){o.flags|=1,o.directiveStart=c,o.directiveEnd=c+g,o.providerIndexes=c}(g,o.data.length,I.length);for(let Ct=0;Ct<I.length;Ct++){const jt=I[Ct];jt.providersResolver&&jt.providersResolver(jt)}let Se=!1,Le=!1,nt=fm(o,c,I.length,null);for(let Ct=0;Ct<I.length;Ct++){const jt=I[Ct];g.mergedAttrs=Zy(g.mergedAttrs,jt.hostAttrs),c6(o,g,c,nt,jt),a6(nt,jt,V),null!==jt.contentQueries&&(g.flags|=4),(null!==jt.hostBindings||null!==jt.hostAttrs||0!==jt.hostVars)&&(g.flags|=64);const hn=jt.type.prototype;!Se&&(hn.ngOnChanges||hn.ngOnInit||hn.ngDoCheck)&&((o.preOrderHooks??=[]).push(g.index),Se=!0),!Le&&(hn.ngOnChanges||hn.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(g.index),Le=!0),nt++}!function ch(o,c,g){const V=c.directiveEnd,ue=o.data,Se=c.attrs,Le=[];let nt=null,Ct=null;for(let jt=c.directiveStart;jt<V;jt++){const hn=ue[jt],Pn=g?g.get(hn):null,qn=Pn?Pn.outputs:null;nt=lA(0,hn.inputs,jt,nt,Pn?Pn.inputs:null),Ct=lA(1,hn.outputs,jt,Ct,qn);const hr=null===nt||null===Se||zh(c)?null:u6(nt,jt,Se);Le.push(hr)}null!==nt&&(nt.hasOwnProperty("class")&&(c.flags|=8),nt.hasOwnProperty("style")&&(c.flags|=16)),c.initialInputs=Le,c.inputs=nt,c.outputs=Ct}(o,g,ue)}function i6(o,c,g){const I=g.directiveStart,V=g.directiveEnd,ue=g.index,Se=function Ak(){return mo.lFrame.currentDirectiveIndex}();try{em(ue);for(let Le=I;Le<V;Le++){const nt=o.data[Le],Ct=c[Le];H1(Le),(null!==nt.hostBindings||0!==nt.hostVars||null!==nt.hostAttrs)&&o6(nt,Ct)}}finally{em(-1),H1(Se)}}function o6(o,c){null!==o.hostBindings&&o.hostBindings(1,c)}function XE(o,c,g){c.componentOffset=g,(o.components??=[]).push(c.index)}function a6(o,c,g){if(g){if(c.exportAs)for(let I=0;I<c.exportAs.length;I++)g[c.exportAs[I]]=o;Iu(c)&&(g[""]=o)}}function c6(o,c,g,I,V){o.data[I]=V;const ue=V.factory||(V.factory=ie(V.type)),Se=new yg(ue,Iu(V),op);o.blueprint[I]=Se,g[I]=Se,function L8(o,c,g,I,V){const ue=V.hostBindings;if(ue){let Se=o.hostBindingOpCodes;null===Se&&(Se=o.hostBindingOpCodes=[]);const Le=~c.index;(function K8(o){let c=o.length;for(;c>0;){const g=o[--c];if("number"==typeof g&&g<0)return g}return 0})(Se)!=Le&&Se.push(Le),Se.push(g,I,ue)}}(o,c,I,fm(o,g,V.hostVars,xo),V)}function Ru(o,c,g,I,V,ue){const Se=jd(o,c);!function Lg(o,c,g,I,V,ue,Se){if(null==ue)o.removeAttribute(c,V,g);else{const Le=null==Se?Zr(ue):Se(ue,I||"",V);o.setAttribute(c,V,Le,g)}}(c[po],Se,ue,o.value,g,I,V)}function l6(o,c,g,I,V,ue){const Se=ue[c];if(null!==Se)for(let Le=0;Le<Se.length;)gw(I,g,Se[Le++],Se[Le++],Se[Le++],Se[Le++])}function u6(o,c,g){let I=null,V=0;for(;V<g.length;){const ue=g[V];if(0!==ue)if(5!==ue){if("number"==typeof ue)break;if(o.hasOwnProperty(ue)){null===I&&(I=[]);const Se=o[ue];for(let Le=0;Le<Se.length;Le+=3)if(Se[Le]===c){I.push(ue,Se[Le+1],Se[Le+2],g[V+1]);break}}V+=2}else V+=2;else V+=4}return I}function mA(o,c,g,I){return[o,!0,0,c,null,I,null,g,null,null]}function yA(o,c){const g=o.contentQueries;if(null!==g){const I=O(null);try{for(let V=0;V<g.length;V+=2){const Se=g[V+1];if(-1!==Se){const Le=o.data[Se];vb(g[V]),Le.contentQueries(2,c[Se],Se)}}}finally{O(I)}}}function bw(o,c){return o[rg]?o[ig][tu]=c:o[rg]=c,o[ig]=c,c}function YE(o,c,g){vb(0);const I=O(null);try{c(o,g)}finally{O(I)}}function gA(o){return o[ef]??=[]}function vA(o){return o.cleanup??=[]}function bA(o,c,g){return(null===o||Iu(o))&&(g=function $1(o){for(;Array.isArray(o);){if("object"==typeof o[U1])return o;o=o[Oa]}return null}(g[c.index])),g[po]}function ww(o,c){const g=o[Sc],I=g?g.get(ou,null):null;I&&I.handleError(c)}function ZE(o,c,g,I,V){for(let ue=0;ue<g.length;){const Se=g[ue++],Le=g[ue++],nt=g[ue++];gw(o.data[Se],c[Se],I,Le,nt,V)}}function au(o,c,g){const I=cg(c,o);!function HT(o,c,g){o.setValue(c,g)}(o[po],I,g)}function qE(o,c){const g=Fl(c,o),I=g[zr];!function _w(o,c){for(let g=c.length;g<o.blueprint.length;g++)c.push(o.blueprint[g])}(I,g);const V=g[Oa];null!==V&&null===g[gd]&&(g[gd]=gE(V,g[Sc])),I0(I,g,g[fa])}function I0(o,c,g){J1(c);try{const I=o.viewQuery;null!==I&&YE(1,I,g);const V=o.template;null!==V&&q3(o,c,V,1,g),o.firstCreatePass&&(o.firstCreatePass=!1),c[Zf]?.finishViewCreation(o),o.staticContentQueries&&yA(o,c),o.staticViewQueries&&YE(2,o.viewQuery,g);const ue=o.components;null!==ue&&function QE(o,c){for(let g=0;g<c.length;g++)qE(o,c[g])}(c,ue)}catch(I){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),I}finally{c[Li]&=-5,m0()}}function C0(o,c,g,I){const V=O(null);try{const ue=c.tView,nt=HE(o,ue,g,4096&o[Li]?4096:16,null,c,null,null,I?.injector??null,I?.embeddedViewInjector??null,I?.dehydratedView??null);nt[Du]=o[c.index];const jt=o[Zf];return null!==jt&&(nt[Zf]=jt.createEmbeddedView(ue)),I0(ue,nt,g),nt}finally{O(V)}}function wA(o,c){const g=Ga+c;if(g<o.length)return o[g]}function dh(o,c){return!c||null===c.firstChild||Ob(o)}function cp(o,c,g,I=!0){const V=c[zr];if(function z3(o,c,g,I){const V=Ga+I,ue=g.length;I>0&&(g[V-1][tu]=c),I<ue-Ga?(c[tu]=g[V],Ze(g,Ga+I,c)):(g.push(c),c[tu]=null),c[ec]=g;const Se=c[Du];null!==Se&&g!==Se&&lw(Se,c);const Le=c[Zf];null!==Le&&Le.insertView(o),V1(c),c[Li]|=128}(V,c,o,g),I){const Se=VE(g,o),Le=c[po],nt=pw(Le,o[nf]);null!==nt&&function FE(o,c,g,I,V,ue){I[Oa]=V,I[yd]=c,mw(o,I,g,1,V,ue)}(V,o[yd],Le,c,nt,Se)}const ue=c[gd];null!==ue&&null!==ue.firstChild&&(ue.firstChild=null)}function _A(o,c){const g=El(o,c);return void 0!==g&&dm(g[zr],g),g}function Ew(o,c,g,I,V=!1){for(;null!==g;){if(128===g.type){g=V?g.projectionNext:g.next;continue}const ue=c[g.index];null!==ue&&I.push(os(ue)),Fd(ue)&&e2(ue,I);const Se=g.type;if(8&Se)Ew(o,c,g.child,I);else if(32&Se){const Le=LE(g,c);let nt;for(;nt=Le();)I.push(nt)}else if(16&Se){const Le=qT(c,g);if(Array.isArray(Le))I.push(...Le);else{const nt=Jh(c[Ra]);Ew(nt[zr],nt,Le,I,!0)}}g=V?g.projectionNext:g.next}return I}function e2(o,c){for(let g=Ga;g<o.length;g++){const I=o[g],V=I[zr].firstChild;null!==V&&Ew(I[zr],I,V,c)}o[nf]!==o[Oa]&&c.push(o[nf])}let xw=[];const p6={...U,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{mb(o.lView)},consumerOnSignalRead(){this.lView[vd]=this}},m6={...U,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let c=Jh(o.lView);for(;c&&!t2(c[zr]);)c=Jh(c);c&&wS(c)},consumerOnSignalRead(){this.lView[vd]=this}};function t2(o){return 2!==o.type}const y6=100;function k0(o,c=!0,g=0){const I=o[tf],V=I.rendererFactory;V.begin?.();try{!function g6(o,c){const g=DS();try{IS(!0),n2(o,c);let I=0;for(;ug(o);){if(I===y6)throw new kr(103,!1);I++,n2(o,1)}}finally{IS(g)}}(o,g)}catch(Se){throw c&&ww(o,Se),Se}finally{V.end?.(),I.inlineEffectRunner?.flush()}}function v6(o,c,g,I){const V=c[Li];if(!(256&~V))return;c[tf].inlineEffectRunner?.flush(),J1(c);let Le=!0,nt=null,Ct=null;t2(o)?(Ct=function Ed(o){return o[vd]??function f6(o){const c=xw.pop()??Object.create(p6);return c.lView=o,c}(o)}(c),nt=Z(Ct)):null===function S(){return b}()?(Le=!1,Ct=function Kg(o){const c=o[vd]??Object.create(m6);return c.lView=o,c}(c),nt=Z(Ct)):c[vd]&&(ce(c[vd]),c[vd]=null);try{h0(c),function CS(o){return mo.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==g&&q3(o,c,g,2,I);const jt=!(3&~V);if(jt){const Bn=o.preOrderCheckHooks;null!==Bn&&Eb(c,Bn,null)}else{const Bn=o.preOrderHooks;null!==Bn&&mg(c,Bn,0,null),X1(c,0)}if(function EA(o){for(let c=nT(o);null!==c;c=_0(c)){if(!(c[Li]&qf.HasTransplantedViews))continue;const g=c[u0];for(let I=0;I<g.length;I++)wS(g[I])}}(c),b6(c,0),null!==o.contentQueries&&yA(o,c),jt){const Bn=o.contentCheckHooks;null!==Bn&&Eb(c,Bn)}else{const Bn=o.contentHooks;null!==Bn&&mg(c,Bn,1),X1(c,1)}!function Z3(o,c){const g=o.hostBindingOpCodes;if(null!==g)try{for(let I=0;I<g.length;I++){const V=g[I];if(V<0)em(~V);else{const ue=V,Se=g[++I],Le=g[++I];Tk(Se,ue),Le(2,c[ue])}}}finally{em(-1)}}(o,c);const hn=o.components;null!==hn&&w6(c,hn,0);const Pn=o.viewQuery;if(null!==Pn&&YE(2,Pn,I),jt){const Bn=o.viewCheckHooks;null!==Bn&&Eb(c,Bn)}else{const Bn=o.viewHooks;null!==Bn&&mg(c,Bn,2),X1(c,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),c[ub]){for(const Bn of c[ub])Bn();c[ub]=null}c[Li]&=-73}catch(jt){throw mb(c),jt}finally{null!==Ct&&(J(Ct,nt),Le&&function h6(o){o.lView[vd]!==o&&(o.lView=null,xw.push(o))}(Ct)),m0()}}function b6(o,c){for(let g=nT(o);null!==g;g=_0(g))for(let I=Ga;I<g.length;I++)xA(g[I],c)}function j8(o,c,g){xA(Fl(c,o),g)}function xA(o,c){f0(o)&&n2(o,c)}function n2(o,c){const I=o[zr],V=o[Li],ue=o[vd];let Se=!!(0===c&&16&V);if(Se||=!!(64&V&&0===c),Se||=!!(1024&V),Se||=!(!ue?.dirty||!se(ue)),Se||=!1,ue&&(ue.dirty=!1),o[Li]&=-9217,Se)v6(I,o,I.template,o[fa]);else if(8192&V){b6(o,1);const Le=I.components;null!==Le&&w6(o,Le,1)}}function w6(o,c,g){for(let I=0;I<c.length;I++)j8(o,c[I],g)}function Sw(o,c){const g=DS()?64:1088;for(o[tf].changeDetectionScheduler?.notify(c);o;){o[Li]|=g;const I=Jh(o);if(Zp(o)&&!I)return o;o=I}return null}class Fg{get rootNodes(){const c=this._lView,g=c[zr];return Ew(g,c,g.firstChild,[])}constructor(c,g,I=!0){this._lView=c,this._cdRefInjectingView=g,this.notifyErrorHandler=I,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fa]}set context(c){this._lView[fa]=c}get destroyed(){return!(256&~this._lView[Li])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[ec];if(Fd(c)){const g=c[8],I=g?g.indexOf(this):-1;I>-1&&(El(c,I),ht(g,I))}this._attachedToViewContainer=!1}dm(this._lView[zr],this._lView)}onDestroy(c){yb(this._lView,c)}markForCheck(){Sw(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Li]&=-129}reattach(){V1(this._lView),this._lView[Li]|=128}detectChanges(){this._lView[Li]|=1024,k0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new kr(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const c=Zp(this._lView),g=this._lView[Du];null!==g&&!c&&GT(g,this._lView),dw(this._lView[zr],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new kr(902,!1);this._appRef=c;const g=Zp(this._lView),I=this._lView[Du];null!==I&&!g&&lw(I,this._lView),V1(this._lView)}}let gf=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=E6}return o})();const $8=gf,_6=class extends $8{constructor(c,g,I){super(),this._declarationLView=c,this._declarationTContainer=g,this.elementRef=I}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(c,g){return this.createEmbeddedViewImpl(c,g)}createEmbeddedViewImpl(c,g,I){const V=C0(this._declarationLView,this._declarationTContainer,c,{embeddedViewInjector:g,dehydratedView:I});return new Fg(V)}};function E6(){return Tw(Ws(),yr())}function Tw(o,c){return 4&o.type?new _6(c,o,b0(o,c)):null}function TA(o,c,g){const I=c.insertBeforeIndex,V=Array.isArray(I)?I[0]:I;return null===V?YT(o,0,g):os(g[V])}function AA(o,c,g,I,V){const ue=c.insertBeforeIndex;if(Array.isArray(ue)){let Se=I,Le=null;if(3&c.type||(Le=Se,Se=V),null!==Se&&-1===c.componentOffset)for(let nt=1;nt<ue.length;nt++)_d(o,Se,g[ue[nt]],Le,!1)}}function O0(o,c){if(o.push(c),o.length>1)for(let g=o.length-2;g>=0;g--){const I=o[g];DA(I)||k6(I,c)&&null===P6(I)&&O6(I,c.index)}}function DA(o){return!(64&o.type)}function k6(o,c){return DA(c)||o.index>c.index}function P6(o){const c=o.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function O6(o,c){const g=o.insertBeforeIndex;Array.isArray(g)?g[0]=c:(ZT(TA,AA),o.insertBeforeIndex=c)}function N6(o,c,g){const I=WE(o,g,64,null,null);return O0(c,I),I}function a2(o,c,g){o.index=0;const I=function Dw(o,c){const g=c[o.currentCaseLViewIndex];return null===g?g:g<0?~g:g}(c,g);o.removes=null!==I?c.remove[I]:Xr}function Iw(o){if(o.index<o.removes.length){const c=o.removes[o.index++];return c>0?o.lView[c]:(o.stack.push(o.index,o.removes),a2(o,o.lView[zr].data[~c],o.lView),Iw(o))}return 0===o.stack.length?null:(o.removes=o.stack.pop(),o.index=o.stack.pop(),Iw(o))}function L6(){const o={stack:[],index:-1};return function c(g,I){for(o.lView=I;o.stack.length;)o.stack.pop();return a2(o,g.value,I),Iw.bind(null,o)}}let kw=()=>{},Ow=()=>null;function dp(o,c){return Ow(o,c)}class lh{}const pc=new $i("",{providedIn:"root",factory:()=>!1}),zA=new $i("");class a5{}class U0{}class HA{resolveComponentFactory(c){throw function c5(o){const c=Error(`No component factory found for ${Fo(o)}.`);return c.ngComponent=o,c}(c)}}class Rw{static#e=this.NULL=new HA}class WA{}let X8=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function GA(){const o=yr(),g=Fl(Ws().index,o);return(qc(g)?g:o)[po]}()}return o})(),JA=(()=>{class o{static#e=this.\u0275prov=To({token:o,providedIn:"root",factory:()=>null})}return o})();const Bw=new Set;function dl(o){Bw.has(o)||(Bw.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function XA(o){let c=!0;return setTimeout(()=>{c&&(c=!1,o())}),"function"==typeof no.requestAnimationFrame&&no.requestAnimationFrame(()=>{c&&(c=!1,o())}),()=>{c=!1}}function YA(o){let c=!0;return queueMicrotask(()=>{c&&o()}),()=>{c=!1}}function xl(...o){}class Ma{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:g=!1,shouldCoalesceRunChangeDetection:I=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mf(!1),this.onMicrotaskEmpty=new mf(!1),this.onStable=new mf(!1),this.onError=new mf(!1),typeof Zone>"u")throw new kr(908,!1);Zone.assertZonePatched();const V=this;V._nesting=0,V._outer=V._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(V._inner=V._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(V._inner=V._inner.fork(Zone.longStackTraceZoneSpec)),V.shouldCoalesceEventChangeDetection=!I&&g,V.shouldCoalesceRunChangeDetection=I,V.callbackScheduled=!1,function Z8(o){const c=()=>{!function m2(o){o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,Zone.root.run(()=>{XA(()=>{o.callbackScheduled=!1,y2(o),o.isCheckStableRunning=!0,Nw(o),o.isCheckStableRunning=!1})}),y2(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(g,I,V,ue,Se,Le)=>{if(function u5(o){return QA(o,"__ignore_ng_zone__")}(Le))return g.invokeTask(V,ue,Se,Le);try{return ZA(o),g.invokeTask(V,ue,Se,Le)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===ue.type||o.shouldCoalesceRunChangeDetection)&&c(),qA(o)}},onInvoke:(g,I,V,ue,Se,Le,nt)=>{try{return ZA(o),g.invoke(V,ue,Se,Le,nt)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function f5(o){return QA(o,"__scheduler_tick__")}(Le)&&c(),qA(o)}},onHasTask:(g,I,V,ue)=>{g.hasTask(V,ue),I===V&&("microTask"==ue.change?(o._hasPendingMicrotasks=ue.microTask,y2(o),Nw(o)):"macroTask"==ue.change&&(o.hasPendingMacrotasks=ue.macroTask))},onHandleError:(g,I,V,ue)=>(g.handleError(V,ue),o.runOutsideAngular(()=>o.onError.emit(ue)),!1)})}(V)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ma.isInAngularZone())throw new kr(909,!1)}static assertNotInAngularZone(){if(Ma.isInAngularZone())throw new kr(909,!1)}run(c,g,I){return this._inner.run(c,g,I)}runTask(c,g,I,V){const ue=this._inner,Se=ue.scheduleEventTask("NgZoneEvent: "+V,c,l5,xl,xl);try{return ue.runTask(Se,g,I)}finally{ue.cancelTask(Se)}}runGuarded(c,g,I){return this._inner.runGuarded(c,g,I)}runOutsideAngular(c){return this._outer.run(c)}}const l5={};function Nw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function y2(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function ZA(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function qA(o){o._nesting--,Nw(o)}class g2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mf,this.onMicrotaskEmpty=new mf,this.onStable=new mf,this.onError=new mf}run(c,g,I){return c.apply(g,I)}runGuarded(c,g,I){return c.apply(g,I)}runOutsideAngular(c){return c()}runTask(c,g,I,V){return c.apply(g,I)}}function QA(o,c){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[c]}var uh=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(uh||{});const tD={destroy(){}};function v2(o,c){!c&&tg();const g=c?.injector??Cr(Qc);if(!jl(g))return tD;dl("NgAfterRender");const I=g.get(pm),V=I.handler??=new b2,ue=c?.phase??uh.MixedReadWrite,Se=()=>{V.unregister(nt),Le()},Le=g.get(v0).onDestroy(Se),nt=N1(g,()=>new rD(ue,o));return V.register(nt),{destroy:Se}}function nD(o,c){!c&&tg();const g=c?.injector??Cr(Qc);if(!jl(g))return tD;dl("NgAfterNextRender");const I=g.get(pm),V=I.handler??=new b2,ue=c?.phase??uh.MixedReadWrite,Se=()=>{V.unregister(nt),Le()},Le=g.get(v0).onDestroy(Se),nt=N1(g,()=>new rD(ue,()=>{Se(),o()}));return V.register(nt),{destroy:Se}}class rD{constructor(c,g){this.phase=c,this.callbackFn=g,this.zone=Cr(Ma),this.errorHandler=Cr(ou,{optional:!0}),Cr(lh,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(c){this.errorHandler?.handleError(c)}}}class b2{constructor(){this.executingCallbacks=!1,this.buckets={[uh.EarlyRead]:new Set,[uh.Write]:new Set,[uh.MixedReadWrite]:new Set,[uh.Read]:new Set},this.deferredCallbacks=new Set}register(c){(this.executingCallbacks?this.deferredCallbacks:this.buckets[c.phase]).add(c)}unregister(c){this.buckets[c.phase].delete(c),this.deferredCallbacks.delete(c)}execute(){this.executingCallbacks=!0;for(const c of Object.values(this.buckets))for(const g of c)g.invoke();this.executingCallbacks=!1;for(const c of this.deferredCallbacks)this.buckets[c.phase].add(c);this.deferredCallbacks.clear()}destroy(){for(const c of Object.values(this.buckets))c.clear();this.deferredCallbacks.clear()}}let pm=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const g=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const I of g)I()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=To({token:o,providedIn:"root",factory:()=>new o})}return o})();function fh(o){return!!Wn(o)}function lp(o,c,g){let I=g?o.styles:null,V=g?o.classes:null,ue=0;if(null!==c)for(let Se=0;Se<c.length;Se++){const Le=c[Se];"number"==typeof Le?ue=Le:1==ue?V=xc(V,Le):2==ue&&(I=xc(I,Le+": "+c[++Se]+";"))}g?o.styles=I:o.stylesWithoutHost=I,g?o.classes=V:o.classesWithoutHost=V}class Kw extends Rw{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const g=Pt(c);return new Fw(g,this.ngModule)}}function x2(o){const c=[];for(const g in o){if(!o.hasOwnProperty(g))continue;const I=o[g];void 0!==I&&c.push({propName:Array.isArray(I)?I[0]:I,templateName:g})}return c}class Fw extends U0{get inputs(){const c=this.componentDef,g=c.inputTransforms,I=x2(c.inputs);if(null!==g)for(const V of I)g.hasOwnProperty(V.propName)&&(V.transform=g[V.propName]);return I}get outputs(){return x2(this.componentDef.outputs)}constructor(c,g){super(),this.componentDef=c,this.ngModule=g,this.componentType=c.type,this.selector=function iS(o){return o.map(uc).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!g}create(c,g,I,V){const ue=O(null);try{let Se=(V=V||this.ngModule)instanceof Mc?V:V?.injector;Se&&null!==this.componentDef.getStandaloneInjector&&(Se=this.componentDef.getStandaloneInjector(Se)||Se);const Le=Se?new uf(c,Se):c,nt=Le.get(WA,null);if(null===nt)throw new kr(407,!1);const Ct=Le.get(JA,null),Pn={rendererFactory:nt,sanitizer:Ct,inlineEffectRunner:null,afterRenderEventManager:Le.get(pm,null),changeDetectionScheduler:Le.get(lh,null)},Bn=nt.createRenderer(null,this.componentDef),qn=this.componentDef.selectors[0][0]||"div",hr=I?function e6(o,c,g,I){const ue=I.get(_T,!1)||g===As.ShadowDom,Se=o.selectRootElement(c,ue);return function t6(o){sA(o)}(Se),Se}(Bn,I,this.componentDef.encapsulation,Le):cw(Bn,qn,function M2(o){const c=o.toLowerCase();return"svg"===c?Qf:"math"===c?"math":null}(qn));let Br=512;this.componentDef.signals?Br|=4096:this.componentDef.onPush||(Br|=16);let Wr=null;null!==hr&&(Wr=gE(hr,Le,!0));const xr=JE(0,null,null,1,0,null,null,null,null,null,null),qi=HE(null,xr,null,Br,null,null,Pn,Bn,Le,null,Wr);let ns,Ns;J1(qi);try{const Ec=this.componentDef;let Pl,$y=null;Ec.findHostDirectiveDefs?(Pl=[],$y=new Map,Ec.findHostDirectiveDefs(Ec,Pl,$y),Pl.push(Ec)):Pl=[Ec];const Ol=function Q8(o,c){const g=o[zr],I=Ai;return o[I]=c,sp(g,I,2,"#host",null)}(qi,hr),Ym=function T2(o,c,g,I,V,ue,Se){const Le=V[zr];!function eR(o,c,g,I){for(const V of o)c.mergedAttrs=Zy(c.mergedAttrs,V.hostAttrs);null!==c.mergedAttrs&&(lp(c,c.mergedAttrs,!0),null!==g&&Y3(I,g,c))}(I,o,c,Se);let nt=null;null!==c&&(nt=gE(c,V[Sc]));const Ct=ue.rendererFactory.createRenderer(c,g);let jt=16;g.signals?jt=4096:g.onPush&&(jt=64);const hn=HE(V,oA(g),null,jt,V[o.index],o,ue,Ct,null,null,nt);return Le.firstCreatePass&&XE(Le,o,I.length-1),bw(V,hn),V[o.index]=hn}(Ol,hr,Ec,Pl,qi,Pn,Bn);Ns=dg(xr,Ai),hr&&function D2(o,c,g,I){if(I)Jf(o,g,["ng-version","18.0.6"]);else{const{attrs:V,classes:ue}=function oS(o){const c=[],g=[];let I=1,V=2;for(;I<o.length;){let ue=o[I];if("string"==typeof ue)2===V?""!==ue&&c.push(ue,o[++I]):8===V&&g.push(ue);else{if(!_l(V))break;V=ue}I++}return{attrs:c,classes:g}}(c.selectors[0]);V&&Jf(o,g,V),ue&&ue.length>0&&tA(o,g,ue.join(" "))}}(Bn,Ec,hr,I),void 0!==g&&function iD(o,c,g){const I=o.projection=[];for(let V=0;V<c.length;V++){const ue=g[V];I.push(null!=ue?Array.from(ue):null)}}(Ns,this.ngContentSelectors,g),ns=function A2(o,c,g,I,V,ue){const Se=Ws(),Le=V[zr],nt=jd(Se,V);r6(Le,V,Se,g,null,I);for(let jt=0;jt<g.length;jt++)wd(tm(V,Le,Se.directiveStart+jt,Se),V);i6(Le,V,Se),nt&&wd(nt,V);const Ct=tm(V,Le,Se.directiveStart+Se.componentOffset,Se);if(o[fa]=V[fa]=Ct,null!==ue)for(const jt of ue)jt(Ct,c);return rA(Le,Se,V),Ct}(Ym,Ec,Pl,$y,qi,[oD]),I0(xr,qi,null)}finally{m0()}return new S2(this.componentType,ns,b0(Ns,qi),qi,Ns)}finally{O(ue)}}}class S2 extends a5{constructor(c,g,I,V,ue){super(),this.location=I,this._rootLView=V,this._tNode=ue,this.previousInputValues=null,this.instance=g,this.hostView=this.changeDetectorRef=new Fg(V,void 0,!1),this.componentType=c}setInput(c,g){const I=this._tNode.inputs;let V;if(null!==I&&(V=I[c])){if(this.previousInputValues??=new Map,this.previousInputValues.has(c)&&Object.is(this.previousInputValues.get(c),g))return;const ue=this._rootLView;ZE(ue[zr],ue,V,c,g),this.previousInputValues.set(c,g),Sw(Fl(this._tNode.index,ue),1)}}get injector(){return new fc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}function oD(){const o=Ws();Xh(yr()[zr],o)}let Zg=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=xd}return o})();function xd(){return j0(Ws(),yr())}const sD=Zg,L0=class extends sD{constructor(c,g,I){super(),this._lContainer=c,this._hostTNode=g,this._hostLView=I}get element(){return b0(this._hostTNode,this._hostLView)}get injector(){return new fc(this._hostTNode,this._hostLView)}get parentInjector(){const c=ku(this._hostTNode,this._hostLView);if(Ac(c)){const g=al(c,this._hostLView),I=Yh(c);return new fc(g[zr].data[I+8],g)}return new fc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const g=K0(this._lContainer);return null!==g&&g[c]||null}get length(){return this._lContainer.length-Ga}createEmbeddedView(c,g,I){let V,ue;"number"==typeof I?V=I:null!=I&&(V=I.index,ue=I.injector);const Se=dp(this._lContainer,c.ssrId),Le=c.createEmbeddedViewImpl(g||{},ue,Se);return this.insertImpl(Le,V,dh(this._hostTNode,Se)),Le}createComponent(c,g,I,V,ue){const Se=c&&!function Au(o){return"function"==typeof o}(c);let Le;if(Se)Le=g;else{const qn=g||{};Le=qn.index,I=qn.injector,V=qn.projectableNodes,ue=qn.environmentInjector||qn.ngModuleRef}const nt=Se?c:new Fw(Pt(c)),Ct=I||this.parentInjector;if(!ue&&null==nt.ngModule){const hr=(Se?Ct:this.parentInjector).get(Mc,null);hr&&(ue=hr)}const jt=Pt(nt.componentType??{}),hn=dp(this._lContainer,jt?.id??null),Bn=nt.create(Ct,V,hn?.firstChild??null,ue);return this.insertImpl(Bn.hostView,Le,dh(this._hostTNode,hn)),Bn}insert(c,g){return this.insertImpl(c,g,!0)}insertImpl(c,g,I){const V=c._lView;if(function hk(o){return Fd(o[ec])}(V)){const Le=this.indexOf(c);if(-1!==Le)this.detach(Le);else{const nt=V[ec],Ct=new L0(nt,nt[yd],nt[ec]);Ct.detach(Ct.indexOf(c))}}const ue=this._adjustIndex(g),Se=this._lContainer;return cp(Se,V,ue,I),c.attachToViewContainerRef(),Ze(F0(Se),ue,c),c}move(c,g){return this.insert(c,g)}indexOf(c){const g=K0(this._lContainer);return null!==g?g.indexOf(c):-1}remove(c){const g=this._adjustIndex(c,-1),I=El(this._lContainer,g);I&&(ht(F0(this._lContainer),g),dm(I[zr],I))}detach(c){const g=this._adjustIndex(c,-1),I=El(this._lContainer,g);return I&&null!=ht(F0(this._lContainer),g)?new Fg(I):null}_adjustIndex(c,g=0){return c??this.length+g}};function K0(o){return o[8]}function F0(o){return o[8]||(o[8]=[])}function j0(o,c){let g;const I=c[o.index];return Fd(I)?g=I:(g=mA(I,c,null,o),c[o.index]=g,bw(c,g)),C2(g,c,o,I),new L0(g,o,c)}let C2=function p5(o,c,g,I){if(o[nf])return;let V;V=8&g.type?os(I):function I2(o,c){const g=o[po],I=g.createComment(""),V=jd(c,o);return _d(g,pw(g,V),I,function su(o,c){return o.nextSibling(c)}(g,V),!1),I}(c,g),o[nf]=V},ym=()=>!1;class fp{constructor(c){this.queryList=c,this.matches=null}clone(){return new fp(this.queryList)}setDirty(){this.queryList.setDirty()}}class qg{constructor(c=[]){this.queries=c}createEmbeddedView(c){const g=c.queries;if(null!==g){const I=null!==c.contentQueries?c.contentQueries[0]:g.length,V=[];for(let ue=0;ue<I;ue++){const Se=g.getByIndex(ue);V.push(this.queries[Se.indexInDeclarationView].clone())}return new qg(V)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}finishViewCreation(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let g=0;g<this.queries.length;g++)null!==bm(c,g).matches&&this.queries[g].setDirty()}}class Qg{constructor(c,g,I=null){this.flags=g,this.read=I,this.predicate="string"==typeof c?function gm(o){return o.split(",").map(c=>c.trim())}(c):c}}class k2{constructor(c=[]){this.queries=c}elementStart(c,g){for(let I=0;I<this.queries.length;I++)this.queries[I].elementStart(c,g)}elementEnd(c){for(let g=0;g<this.queries.length;g++)this.queries[g].elementEnd(c)}embeddedTView(c){let g=null;for(let I=0;I<this.length;I++){const V=null!==g?g.length:0,ue=this.getByIndex(I).embeddedTView(c,V);ue&&(ue.indexInDeclarationView=I,null!==g?g.push(ue):g=[ue])}return null!==g?new k2(g):null}template(c,g){for(let I=0;I<this.queries.length;I++)this.queries[I].template(c,g)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Wd{constructor(c,g=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=g}elementStart(c,g){this.isApplyingToNode(g)&&this.matchTNode(c,g)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,g){this.elementStart(c,g)}embeddedTView(c,g){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,g),new Wd(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1&~this.metadata.flags){const g=this._declarationNodeIndex;let I=c.parent;for(;null!==I&&8&I.type&&I.index!==g;)I=I.parent;return g===(null!==I?I.index:-1)}return this._appliesToNextNode}matchTNode(c,g){const I=this.metadata.predicate;if(Array.isArray(I))for(let V=0;V<I.length;V++){const ue=I[V];this.matchTNodeWithReadOption(c,g,wf(g,ue)),this.matchTNodeWithReadOption(c,g,hf(g,c,ue,!1,!1))}else I===gf?4&g.type&&this.matchTNodeWithReadOption(c,g,-1):this.matchTNodeWithReadOption(c,g,hf(g,c,I,!1,!1))}matchTNodeWithReadOption(c,g,I){if(null!==I){const V=this.metadata.read;if(null!==V)if(V===_g||V===Zg||V===gf&&4&g.type)this.addMatch(g.index,-2);else{const ue=hf(g,c,V,!1,!1);null!==ue&&this.addMatch(g.index,ue)}else this.addMatch(g.index,I)}}addMatch(c,g){null===this.matches?this.matches=[c,g]:this.matches.push(c,g)}}function wf(o,c){const g=o.localNames;if(null!==g)for(let I=0;I<g.length;I+=2)if(g[I]===c)return g[I+1];return null}function y5(o,c,g,I){return-1===g?function Hr(o,c){return 11&o.type?b0(o,c):4&o.type?Tw(o,c):null}(c,o):-2===g?function Bu(o,c,g){return g===_g?b0(c,o):g===gf?Tw(c,o):g===Zg?j0(c,o):void 0}(o,c,I):tm(o,o[zr],g,c)}function Ml(o,c,g,I){const V=c[Zf].queries[I];if(null===V.matches){const ue=o.data,Se=g.matches,Le=[];for(let nt=0;null!==Se&&nt<Se.length;nt+=2){const Ct=Se[nt];Le.push(Ct<0?null:y5(c,ue[Ct],Se[nt+1],g.metadata.read))}V.matches=Le}return V.matches}function P2(o,c,g,I){const V=o.queries.getByIndex(g),ue=V.matches;if(null!==ue){const Se=Ml(o,c,V,g);for(let Le=0;Le<ue.length;Le+=2){const nt=ue[Le];if(nt>0)I.push(Se[Le/2]);else{const Ct=ue[Le+1],jt=c[-nt];for(let hn=Ga;hn<jt.length;hn++){const Pn=jt[hn];Pn[Du]===Pn[ec]&&P2(Pn[zr],Pn,Ct,I)}if(null!==jt[u0]){const hn=jt[u0];for(let Pn=0;Pn<hn.length;Pn++){const Bn=hn[Pn];P2(Bn[zr],Bn,Ct,I)}}}}}return I}function aD(o,c,g){const I=new Pb(!(4&~g));return function cA(o,c,g,I){const V=gA(c);V.push(g),o.firstCreatePass&&vA(o).push(I,V.length-1)}(o,c,I,I.destroy),(c[Zf]??=new qg).queries.push(new fp(I))-1}function vm(o,c,g){null===o.queries&&(o.queries=new k2),o.queries.track(new Wd(c,g))}function bm(o,c){return o.queries.getByIndex(c)}function O2(o,c){const g=o[zr],I=bm(g,c);return I.crossesNgTemplate?P2(g,o,c,[]):Ml(g,o,I,c)}function R2(o){return"function"==typeof o&&void 0!==o[w]}function vo(o,c){dl("NgSignals");const g=function v(o){const c=Object.create(Re);c.value=o;const g=()=>(A(c),c.value);return g[w]=c,g}(o),I=g[w];return c?.equal&&(I.equal=c.equal),g.set=V=>Q(I,V),g.update=V=>function de(o,c){ee()||R(),Q(o,c(o.value))}(I,V),g.asReadonly=$w.bind(g),g}function $w(){const o=this[w];if(void 0===o.readonlyFn){const c=()=>this();c[w]=o,o.readonlyFn=c}return o.readonlyFn}function _f(o){return R2(o)&&"function"==typeof o.set}function si(o){const c=Object.create(Za),g=new JS;function I(){return A(c),eo(c.value),c.value}return c.value=o,I[w]=c,I.asReadonly=$w.bind(I),I.set=V=>{c.equal(c.value,V)||(Q(c,V),g.emit(V))},I.update=V=>{eo(c.value),I.set(V(c.value))},I.subscribe=g.subscribe.bind(g),I.destroyRef=g.destroyRef,I}function eo(o){if(o===Do)throw new kr(952,!1)}function to(o){return si(o)}const oo=(to.required=function io(){return si(Do)},to);function so(o){let c=function $e(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),g=!0;const I=[o];for(;c;){let V;if(Iu(o))V=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new kr(903,!1);V=c.\u0275dir}if(V){if(g){I.push(V);const Se=o;Se.inputs=rv(o.inputs),Se.inputTransforms=rv(o.inputTransforms),Se.declaredInputs=rv(o.declaredInputs),Se.outputs=rv(o.outputs);const Le=V.hostBindings;Le&&E5(o,Le);const nt=V.viewQuery,Ct=V.contentQueries;if(nt&&Ww(o,nt),Ct&&B2(o,Ct),uD(o,V),Jc(o.outputs,V.outputs),Iu(V)&&V.data.animation){const jt=o.data;jt.animation=(jt.animation||[]).concat(V.data.animation)}}const ue=V.features;if(ue)for(let Se=0;Se<ue.length;Se++){const Le=ue[Se];Le&&Le.ngInherit&&Le(o),Le===so&&(g=!1)}}c=Object.getPrototypeOf(c)}!function nv(o){let c=0,g=null;for(let I=o.length-1;I>=0;I--){const V=o[I];V.hostVars=c+=V.hostVars,V.hostAttrs=Zy(V.hostAttrs,g=Zy(g,V.hostAttrs))}}(I)}function uD(o,c){for(const g in c.inputs){if(!c.inputs.hasOwnProperty(g)||o.inputs.hasOwnProperty(g))continue;const I=c.inputs[g];if(void 0!==I&&(o.inputs[g]=I,o.declaredInputs[g]=c.declaredInputs[g],null!==c.inputTransforms)){const V=Array.isArray(I)?I[0]:I;if(!c.inputTransforms.hasOwnProperty(V))continue;o.inputTransforms??={},o.inputTransforms[V]=c.inputTransforms[V]}}}function rv(o){return o===Oi?{}:o===Xr?[]:o}function Ww(o,c){const g=o.viewQuery;o.viewQuery=g?(I,V)=>{c(I,V),g(I,V)}:c}function B2(o,c){const g=o.contentQueries;o.contentQueries=g?(I,V,ue)=>{c(I,V,ue),g(I,V,ue)}:c}function E5(o,c){const g=o.hostBindings;o.hostBindings=g?(I,V)=>{c(I,V),g(I,V)}:c}function gD(o){const c=o.inputConfig,g={};for(const I in c)if(c.hasOwnProperty(I)){const V=c[I];Array.isArray(V)&&V[3]&&(g[I]=V[3])}o.inputTransforms=g}class wm{}class vD{}function bD(o,c){return new N2(o,c??null,[])}class N2 extends wm{constructor(c,g,I){super(),this._parent=g,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Kw(this);const V=Wn(c);this._bootstrapComponents=cl(V.bootstrap),this._r3Injector=Hk(c,g,[{provide:wm,useValue:this},{provide:Rw,useValue:this.componentFactoryResolver},...I],Fo(c),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(c)}get injector(){return this._r3Injector}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(g=>g()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class U2 extends vD{constructor(c){super(),this.moduleType=c}create(c){return new N2(this.moduleType,c,[])}}class Xd extends wm{constructor(c){super(),this.componentFactoryResolver=new Kw(this),this.instance=null;const g=new Wh([...c.providers,{provide:wm,useValue:this},{provide:Rw,useValue:this.componentFactoryResolver}],c.parent||db(),c.debugName,new Set(["environment"]));this.injector=g,c.runEnvironmentInitializers&&g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(c){this.injector.onDestroy(c)}}function pp(o,c,g=null){return new Xd({providers:o,parent:c,debugName:g,runEnvironmentInitializers:!0}).injector}function Cc(o){return!!K2(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function K2(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function xf(o,c,g){return o[c]=g}function gc(o,c,g){return!Object.is(o[c],g)&&(o[c]=g,!0)}function Es(o,c,g,I){const V=gc(o,c,g);return gc(o,c+1,I)||V}function rd(o,c,g,I,V,ue,Se,Le,nt,Ct){const jt=g+Ai,hn=c.firstCreatePass?function qo(o,c,g,I,V,ue,Se,Le,nt){const Ct=c.consts,jt=sp(c,o,4,Se||null,Le||null);fA(c,g,jt,ru(Ct,nt)),Xh(c,jt);const hn=jt.tView=JE(2,jt,I,V,ue,c.directiveRegistry,c.pipeRegistry,null,c.schemas,Ct,null);return null!==c.queries&&(c.queries.template(c,jt),hn.queries=c.queries.embeddedTView(jt)),jt}(jt,c,o,I,V,ue,Se,Le,nt):c.data[jt];sf(hn,!1);const Pn=wD(c,o,hn,g);pg()&&A0(c,o,Pn,hn),wd(Pn,o);const Bn=mA(Pn,o,Pn,hn);return o[jt]=Bn,bw(o,Bn),function up(o,c,g){return ym(o,c,g)}(Bn,hn,o),hb(hn)&&iA(c,o,hn),null!=nt&&GE(o,hn,Ct),hn}function du(o,c,g,I,V,ue,Se,Le){const nt=yr(),Ct=zo();return rd(nt,Ct,o,c,g,I,V,ru(Ct.consts,ue),Se,Le),du}let wD=function F2(o,c,g,I){return cf(!0),c[po].createComment("")};function fl(o,c,g,I){const V=yr();return gc(V,iu(),c)&&(zo(),Ru(Gs(),V,o,c,g,I)),fl}function kc(o,c,g,I){return gc(o,iu(),g)?c+Zr(g)+I:xo}function Pm(o,c,g,I,V,ue){const Le=Es(o,function nh(){return mo.lFrame.bindingIndex}(),g,V);return Cu(2),Le?c+Zr(g)+I+Zr(V)+ue:xo}function ey(o,c){return o<<17|c<<2}function Df(o){return o>>17&32767}function yv(o){return 2|o}function If(o){return(131068&o)>>2}function ty(o,c){return-131069&o|c<<2}function ny(o){return 1|o}function iy(o,c,g,I){const V=o[g+1],ue=null===c;let Se=I?Df(V):If(V),Le=!1;for(;0!==Se&&(!1===Le||ue);){const Ct=o[Se+1];i_(o[Se],c)&&(Le=!0,o[Se+1]=I?ny(Ct):yv(Ct)),Se=I?Df(Ct):If(Ct)}Le&&(o[g+1]=I?yv(V):ny(V))}function i_(o,c){return null===o||null==c||(Array.isArray(o)?o[1]:o)===c||!(!Array.isArray(o)||"string"!=typeof c)&&Vr(o,c)>=0}const Oc={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Cf(o){return o.substring(Oc.key,Oc.keyEnd)}function jc(o,c){const g=Oc.textEnd;return g===c?-1:(c=Oc.keyEnd=function ex(o,c,g){for(;c<g&&o.charCodeAt(c)>32;)c++;return c}(o,Oc.key=c,g),Lu(o,c,g))}function Lu(o,c,g){for(;c<g&&o.charCodeAt(c)<=32;)c++;return c}function sy(o,c,g){const I=yr();return gc(I,iu(),c)&&$l(zo(),Gs(),I,o,c,I[po],g,!1),sy}function wh(o,c,g,I,V){const Se=V?"class":"style";ZE(o,g,c.inputs[Se],Se,I)}function Os(o,c,g){return fu(o,c,g,!1),Os}function ay(o,c){return fu(o,c,null,!0),ay}function nx(o){hu(SD,ju,o,!0)}function ju(o,c){for(let g=function oy(o){return function Q2(o){Oc.key=0,Oc.keyEnd=0,Oc.value=0,Oc.valueEnd=0,Oc.textEnd=o.length}(o),jc(o,Lu(o,0,Oc.textEnd))}(c);g>=0;g=jc(c,g))pr(o,Cf(c),!0)}function fu(o,c,g,I){const V=yr(),ue=zo(),Se=Cu(2);ue.firstUpdatePass&&Nm(ue,o,Se,I),c!==xo&&gc(V,Se,c)&&sx(ue,ue.data[bd()],V,V[po],o,V[Se+1]=function Eh(o,c){return null==o||""===o||("string"==typeof c?o+=c:"object"==typeof o&&(o=Fo(ih(o)))),o}(c,g),I,Se)}function hu(o,c,g,I){const V=zo(),ue=Cu(2);V.firstUpdatePass&&Nm(V,null,ue,I);const Se=yr();if(g!==xo&&gc(Se,ue,g)){const Le=V.data[bd()];if(d_(Le,I)&&!rx(V,ue)){let nt=I?Le.classesWithoutHost:Le.stylesWithoutHost;null!==nt&&(g=xc(nt,g||"")),wh(V,Le,Se,g,I)}else!function TD(o,c,g,I,V,ue,Se,Le){V===xo&&(V=Xr);let nt=0,Ct=0,jt=0<V.length?V[0]:null,hn=0<ue.length?ue[0]:null;for(;null!==jt||null!==hn;){const Pn=nt<V.length?V[nt+1]:void 0,Bn=Ct<ue.length?ue[Ct+1]:void 0;let hr,qn=null;jt===hn?(nt+=2,Ct+=2,Pn!==Bn&&(qn=hn,hr=Bn)):null===hn||null!==jt&&jt<hn?(nt+=2,qn=jt):(Ct+=2,qn=hn,hr=Bn),null!==qn&&sx(o,c,g,I,qn,hr,Se,Le),jt=nt<V.length?V[nt]:null,hn=Ct<ue.length?ue[Ct]:null}}(V,Le,Se,Se[po],Se[ue+1],Se[ue+1]=function MD(o,c,g){if(null==g||""===g)return Xr;const I=[],V=ih(g);if(Array.isArray(V))for(let ue=0;ue<V.length;ue++)o(I,V[ue],!0);else if("object"==typeof V)for(const ue in V)V.hasOwnProperty(ue)&&o(I,ue,V[ue]);else"string"==typeof V&&c(I,V);return I}(o,c,g),I,ue)}}function rx(o,c){return c>=o.expandoStartIndex}function Nm(o,c,g,I){const V=o.data;if(null===V[g+1]){const ue=V[bd()],Se=rx(o,g);d_(ue,I)&&null===c&&!Se&&(c=!1),c=function _p(o,c,g,I){const V=W1(o);let ue=I?c.residualClasses:c.residualStyles;if(null===V)0===(I?c.classBindings:c.styleBindings)&&(g=pu(g=a_(null,o,c,g,I),c.attrs,I),ue=null);else{const Se=c.directiveStylingLast;if(-1===Se||o[Se]!==V)if(g=a_(V,o,c,g,I),null===ue){let nt=function ix(o,c,g){const I=g?c.classBindings:c.styleBindings;if(0!==If(I))return o[Df(I)]}(o,c,I);void 0!==nt&&Array.isArray(nt)&&(nt=a_(null,o,c,nt[1],I),nt=pu(nt,c.attrs,I),function _h(o,c,g,I){o[Df(g?c.classBindings:c.styleBindings)]=I}(o,c,I,nt))}else ue=function s_(o,c,g){let I;const V=c.directiveEnd;for(let ue=1+c.directiveStylingLast;ue<V;ue++)I=pu(I,o[ue].hostAttrs,g);return pu(I,c.attrs,g)}(o,c,I)}return void 0!==ue&&(I?c.residualClasses=ue:c.residualStyles=ue),g}(V,ue,c,I),function Fc(o,c,g,I,V,ue){let Se=ue?c.classBindings:c.styleBindings,Le=Df(Se),nt=If(Se);o[I]=g;let jt,Ct=!1;if(Array.isArray(g)?(jt=g[1],(null===jt||Vr(g,jt)>0)&&(Ct=!0)):jt=g,V)if(0!==nt){const Pn=Df(o[Le+1]);o[I+1]=ey(Pn,Le),0!==Pn&&(o[Pn+1]=ty(o[Pn+1],I)),o[Le+1]=function Z2(o,c){return 131071&o|c<<17}(o[Le+1],I)}else o[I+1]=ey(Le,0),0!==Le&&(o[Le+1]=ty(o[Le+1],I)),Le=I;else o[I+1]=ey(nt,0),0===Le?Le=I:o[nt+1]=ty(o[nt+1],I),nt=I;Ct&&(o[I+1]=yv(o[I+1])),iy(o,jt,I,!0),iy(o,jt,I,!1),function ry(o,c,g,I,V){const ue=V?o.residualClasses:o.residualStyles;null!=ue&&"string"==typeof c&&Vr(ue,c)>=0&&(g[I+1]=ny(g[I+1]))}(c,jt,o,I,ue),Se=ey(Le,nt),ue?c.classBindings=Se:c.styleBindings=Se}(V,ue,c,g,Se,I)}}function a_(o,c,g,I,V){let ue=null;const Se=g.directiveEnd;let Le=g.directiveStylingLast;for(-1===Le?Le=g.directiveStart:Le++;Le<Se&&(ue=c[Le],I=pu(I,ue.hostAttrs,V),ue!==o);)Le++;return null!==o&&(g.directiveStylingLast=Le),I}function pu(o,c,g){const I=g?1:2;let V=-1;if(null!==c)for(let ue=0;ue<c.length;ue++){const Se=c[ue];"number"==typeof Se?V=Se:V===I&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),pr(o,Se,!!g||c[++ue]))}return void 0===o?null:o}function SD(o,c,g){const I=String(c);""!==I&&!I.includes(" ")&&pr(o,I,g)}function sx(o,c,g,I,V,ue,Se,Le){if(!(3&c.type))return;const nt=o.data,Ct=nt[Le+1],jt=function n_(o){return!(1&~o)}(Ct)?c_(nt,c,g,V,If(Ct),Se):void 0;$u(jt)||($u(ue)||function Y2(o){return!(2&~o)}(Ct)&&(ue=c_(nt,null,g,V,Le,Se)),function J3(o,c,g,I,V){if(c)V?o.addClass(g,I):o.removeClass(g,I);else{let ue=-1===I.indexOf("-")?void 0:T0.DashCase;null==V?o.removeStyle(g,I,ue):("string"==typeof V&&V.endsWith("!important")&&(V=V.slice(0,-10),ue|=T0.Important),o.setStyle(g,I,V,ue))}}(I,Se,cg(bd(),g),V,ue))}function c_(o,c,g,I,V,ue){const Se=null===c;let Le;for(;V>0;){const nt=o[V],Ct=Array.isArray(nt),jt=Ct?nt[1]:nt,hn=null===jt;let Pn=g[V+1];Pn===xo&&(Pn=hn?Xr:void 0);let Bn=hn?ur(Pn,I):jt===I?Pn:void 0;if(Ct&&!$u(Bn)&&(Bn=ur(nt,I)),$u(Bn)&&(Le=Bn,Se))return Le;const qn=o[V+1];V=Se?Df(qn):If(qn)}if(null!==c){let nt=ue?c.residualClasses:c.residualStyles;null!=nt&&(Le=ur(nt,I))}return Le}function $u(o){return void 0!==o}function d_(o,c){return!!(o.flags&(c?8:16))}function vv(o,c,g){hu(pr,ju,kc(yr(),o,c,g),!0)}class DD{destroy(c){}updateValue(c,g){}swap(c,g){const I=Math.min(c,g),V=Math.max(c,g),ue=this.detach(V);if(V-I>1){const Se=this.detach(I);this.attach(I,ue),this.attach(V,Se)}else this.attach(I,ue)}move(c,g){this.attach(g,this.detach(c))}}function dy(o,c,g,I,V){return o===g&&Object.is(c,I)?1:Object.is(V(o,c),V(g,I))?-1:0}function Cd(o,c,g,I){return!(void 0===c||!c.has(I)||(o.attach(g,c.get(I)),c.delete(I),0))}function dx(o,c,g,I,V){if(Cd(o,c,I,g(I,V)))o.updateValue(I,V);else{const ue=o.create(I,V);o.attach(I,ue)}}function Rc(o,c,g,I){const V=new Set;for(let ue=c;ue<=g;ue++)V.add(I(ue,o.at(ue)));return V}class Vu{constructor(){this.kvMap=new Map,this._vMap=void 0}has(c){return this.kvMap.has(c)}delete(c){if(!this.has(c))return!1;const g=this.kvMap.get(c);return void 0!==this._vMap&&this._vMap.has(g)?(this.kvMap.set(c,this._vMap.get(g)),this._vMap.delete(g)):this.kvMap.delete(c),!0}get(c){return this.kvMap.get(c)}set(c,g){if(this.kvMap.has(c)){let I=this.kvMap.get(c);void 0===this._vMap&&(this._vMap=new Map);const V=this._vMap;for(;V.has(I);)I=V.get(I);V.set(I,g)}else this.kvMap.set(c,g)}forEach(c){for(let[g,I]of this.kvMap)if(c(I,g),void 0!==this._vMap){const V=this._vMap;for(;V.has(I);)I=V.get(I),c(I,g)}}}function lx(o,c){dl("NgControlFlow");const g=yr(),I=iu(),V=g[I]!==xo?g[I]:-1,ue=-1!==V?wv(g,Ai+V):void 0;if(gc(g,I,o)){const Le=O(null);try{if(void 0!==ue&&_A(ue,0),-1!==o){const nt=Ai+o,Ct=wv(g,nt),jt=m_(g[zr],nt),hn=dp(Ct,jt.tView.ssrId);cp(Ct,C0(g,jt,c,{dehydratedView:hn}),0,dh(jt,hn))}}finally{O(Le)}}else if(void 0!==ue){const Le=wA(ue,0);void 0!==Le&&(Le[fa]=c)}}class f_{constructor(c,g,I){this.lContainer=c,this.$implicit=g,this.$index=I}get $count(){return this.lContainer.length-Ga}}function h_(o){return o}function ux(o,c){return c}class Um{constructor(c,g,I){this.hasEmptyBlock=c,this.trackByFn=g,this.liveCollection=I}}function bv(o,c,g,I,V,ue,Se,Le,nt,Ct,jt,hn,Pn){dl("NgControlFlow");const Bn=yr(),qn=zo(),hr=void 0!==nt,Br=yr(),Wr=Le?Se.bind(Br[Ra][fa]):Se,xr=new Um(hr,Wr);Br[Ai+o]=xr,rd(Bn,qn,o+1,c,g,I,V,ru(qn.consts,ue)),hr&&rd(Bn,qn,o+2,nt,Ct,jt,hn,ru(qn.consts,Pn))}class fx extends DD{constructor(c,g,I){super(),this.lContainer=c,this.hostLView=g,this.templateTNode=I,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ga}at(c){return this.getLView(c)[fa].$implicit}attach(c,g){const I=g[gd];this.needsIndexUpdate||=c!==this.length,cp(this.lContainer,g,c,dh(this.templateTNode,I))}detach(c){return this.needsIndexUpdate||=c!==this.length-1,function ly(o,c){return El(o,c)}(this.lContainer,c)}create(c,g){const I=dp(this.lContainer,this.templateTNode.tView.ssrId),V=C0(this.hostLView,this.templateTNode,new f_(this.lContainer,g,c),{dehydratedView:I});return this.operationsCounter?.recordCreate(),V}destroy(c){dm(c[zr],c),this.operationsCounter?.recordDestroy()}updateValue(c,g){this.getLView(c)[fa].$implicit=g}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let c=0;c<this.length;c++)this.getLView(c)[fa].$index=c}getLView(c){return function kD(o,c){return wA(o,c)}(this.lContainer,c)}}function p_(o){const c=O(null),g=bd();try{const I=yr(),V=I[zr],ue=I[g],Se=g+1,Le=wv(I,Se);if(void 0===ue.liveCollection){const Ct=m_(V,Se);ue.liveCollection=new fx(Le,I,Ct)}else ue.liveCollection.reset();const nt=ue.liveCollection;if(function ID(o,c,g){let I,V,ue=0,Se=o.length-1;if(Array.isArray(c)){let nt=c.length-1;for(;ue<=Se&&ue<=nt;){const Ct=o.at(ue),jt=c[ue],hn=dy(ue,Ct,ue,jt,g);if(0!==hn){hn<0&&o.updateValue(ue,jt),ue++;continue}const Pn=o.at(Se),Bn=c[nt],qn=dy(Se,Pn,nt,Bn,g);if(0!==qn){qn<0&&o.updateValue(Se,Bn),Se--,nt--;continue}const hr=g(ue,Ct),Br=g(Se,Pn),Wr=g(ue,jt);if(Object.is(Wr,Br)){const xr=g(nt,Bn);Object.is(xr,hr)?(o.swap(ue,Se),o.updateValue(Se,Bn),nt--,Se--):o.move(Se,ue),o.updateValue(ue,jt),ue++}else if(I??=new Vu,V??=Rc(o,ue,Se,g),Cd(o,I,ue,Wr))o.updateValue(ue,jt),ue++,Se++;else if(V.has(Wr))I.set(hr,o.detach(ue)),Se--;else{const xr=o.create(ue,c[ue]);o.attach(ue,xr),ue++,Se++}}for(;ue<=nt;)dx(o,I,g,ue,c[ue]),ue++}else if(null!=c){const nt=c[Symbol.iterator]();let Ct=nt.next();for(;!Ct.done&&ue<=Se;){const jt=o.at(ue),hn=Ct.value,Pn=dy(ue,jt,ue,hn,g);if(0!==Pn)Pn<0&&o.updateValue(ue,hn),ue++,Ct=nt.next();else{I??=new Vu,V??=Rc(o,ue,Se,g);const Bn=g(ue,hn);if(Cd(o,I,ue,Bn))o.updateValue(ue,hn),ue++,Se++,Ct=nt.next();else if(V.has(Bn)){const qn=g(ue,jt);I.set(qn,o.detach(ue)),Se--}else o.attach(ue,o.create(ue,hn)),ue++,Se++,Ct=nt.next()}}for(;!Ct.done;)dx(o,I,g,o.length,Ct.value),Ct=nt.next()}for(;ue<=Se;)o.destroy(o.detach(Se--));I?.forEach(nt=>{o.destroy(nt)})}(nt,o,ue.trackByFn),nt.updateIndexes(),ue.hasEmptyBlock){const Ct=iu(),jt=0===nt.length;if(gc(I,Ct,jt)){const hn=g+2,Pn=wv(I,hn);if(jt){const Bn=m_(V,hn),qn=dp(Pn,Bn.tView.ssrId);cp(Pn,C0(I,Bn,void 0,{dehydratedView:qn}),0,dh(Bn,qn))}else _A(Pn,0)}}}finally{O(c)}}function wv(o,c){return o[c]}function m_(o,c){return dg(o,c)}function _v(o,c,g,I){const V=yr(),ue=zo(),Se=Ai+o,Le=V[po],nt=ue.firstCreatePass?function PD(o,c,g,I,V,ue){const Se=c.consts,nt=sp(c,o,2,I,ru(Se,V));return fA(c,g,nt,ru(Se,ue)),null!==nt.attrs&&lp(nt,nt.attrs,!1),null!==nt.mergedAttrs&&lp(nt,nt.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,nt),nt}(Se,ue,V,c,g,I):ue.data[Se],Ct=Ep(ue,V,nt,Le,c,o);V[Se]=Ct;const jt=hb(nt);return sf(nt,!0),Y3(Le,Ct,nt),!function Em(o){return!(32&~o.flags)}(nt)&&pg()&&A0(ue,V,Ct,nt),0===function mk(){return mo.lFrame.elementDepthCount}()&&wd(Ct,V),function yk(){mo.lFrame.elementDepthCount++}(),jt&&(iA(ue,V,nt),rA(ue,nt,V)),null!==I&&GE(V,nt),_v}function Ev(){let o=Ws();TS()?af():(o=o.parent,sf(o,!1));const c=o;(function MS(o){return mo.skipHydrationRootTNode===o})(c)&&function th(){mo.skipHydrationRootTNode=null}(),function gk(){mo.lFrame.elementDepthCount--}();const g=zo();return g.firstCreatePass&&(Xh(g,o),L1(o)&&g.queries.elementEnd(o)),null!=c.classesWithoutHost&&function Mb(o){return!!(8&o.flags)}(c)&&wh(g,c,yr(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Rk(o){return!!(16&o.flags)}(c)&&wh(g,c,yr(),c.stylesWithoutHost,!1),Ev}function y_(o,c,g,I){return _v(o,c,g,I),Ev(),y_}let Ep=(o,c,g,I,V,ue)=>(cf(!0),cw(I,V,function _b(){return mo.lFrame.currentNamespace}()));function uy(o,c,g){const I=yr(),V=zo(),ue=o+Ai,Se=V.firstCreatePass?function hx(o,c,g,I,V){const ue=c.consts,Se=ru(ue,I),Le=sp(c,o,8,"ng-container",Se);return null!==Se&&lp(Le,Se,!0),fA(c,g,Le,ru(ue,V)),null!==c.queries&&c.queries.elementStart(c,Le),Le}(ue,V,I,c,g):V.data[ue];sf(Se,!0);const Le=px(V,I,Se,o);return I[ue]=Le,pg()&&A0(V,I,Le,Se),wd(Le,I),hb(Se)&&(iA(V,I,Se),rA(V,Se,I)),null!=g&&GE(I,Se),uy}function Yd(){let o=Ws();const c=zo();return TS()?af():(o=o.parent,sf(o,!1)),c.firstCreatePass&&(Xh(c,o),L1(o)&&c.queries.elementEnd(o)),Yd}function g_(o,c,g){return uy(o,c,g),Yd(),g_}let px=(o,c,g,I)=>(cf(!0),KE(c[po],""));function mx(){return yr()}function v_(o,c,g){const I=yr();return gc(I,iu(),c)&&$l(zo(),Gs(),I,o,c,I[po],g,!0),v_}function Zd(o,c,g){const I=yr();if(gc(I,iu(),c)){const ue=zo(),Se=Gs();$l(ue,Se,I,o,c,bA(W1(ue.data),Se,I),g,!0)}return Zd}const Pf=void 0;var gx=["en",[["a","p"],["AM","PM"],Pf],[["AM","PM"],Pf,Pf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pf,"{1} 'at' {0}",Pf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yx(o){const g=Math.floor(Math.abs(o)),I=o.toString().replace(/^[^.]*\.?/,"").length;return 1===g&&0===I?1:5}];let Mh={};function b_(o){const c=function Rf(o){return o.toLowerCase().replace(/_/g,"-")}(o);let g=Sh(c);if(g)return g;const I=c.split("-")[0];if(g=Sh(I),g)return g;if("en"===I)return gx;throw new kr(701,!1)}function Of(o){return b_(o)[zu.PluralCase]}function Sh(o){return o in Mh||(Mh[o]=no.ng&&no.ng.common&&no.ng.common.locales&&no.ng.common.locales[o]),Mh[o]}var zu=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(zu||{});const xp="en-US",Bf={marker:"element"},Ao={marker:"ICU"};var $c=function(o){return o[o.SHIFT=2]="SHIFT",o[o.APPEND_EAGERLY=1]="APPEND_EAGERLY",o[o.COMMENT=2]="COMMENT",o}($c||{});let Th=xp;let py=(o,c,g,I)=>(cf(!0),function vx(o,c,g){const I=o[po];switch(g){case Node.COMMENT_NODE:return KE(I,c);case Node.TEXT_NODE:return cm(I,c);case Node.ELEMENT_NODE:return cw(I,c,null)}}(o,g,I));const Ih=/\ufffd(\d+):?\d*\ufffd/gi,Ex=/\ufffd(\d+)\ufffd/,Nf=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ch="\ufffd",C5=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,k5=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,P5=/\uE500/g;function E_(o,c,g,I,V,ue,Se){const Le=fm(o,I,1,null);let nt=Le<<$c.SHIFT,Ct=gb();c===Ct&&(Ct=null),null===Ct&&(nt|=$c.APPEND_EAGERLY),Se&&(nt|=$c.COMMENT,function $3(o){void 0===Bg&&(Bg=o())}(L6)),V.push(nt,null===ue?"":ue);const jt=WE(o,Le,Se?32:1,null===ue?"":ue,null);O0(g,jt);const hn=jt.index;return sf(jt,!1),null!==Ct&&c!==Ct&&function B6(o,c){let g=o.insertBeforeIndex;null===g?(ZT(TA,AA),g=o.insertBeforeIndex=[null,c]):(lr(Array.isArray(g),!0,"Expecting array here"),g.push(c))}(Ct,hn),jt}function xx(o,c,g,I,V,ue,Se,Le){const nt=Le.match(Ih),jt=E_(c,g,I,Se,V,nt?null:Le,!1).index;nt&&yy(ue,Le,jt,null,0,null),o.push({kind:0,index:jt})}function yy(o,c,g,I,V,ue){const Se=o.length,Le=Se+1;o.push(null,null);const nt=Se+2,Ct=c.split(Ih);let jt=0;for(let hn=0;hn<Ct.length;hn++){const Pn=Ct[hn];if(1&hn){const Bn=V+parseInt(Pn,10);o.push(-1-Bn),jt|=B5(Bn)}else""!==Pn&&o.push(Pn)}return o.push(g<<2|(I?1:0)),I&&o.push(I,ue),o[Se]=jt,o[Le]=o.length-nt,jt}function B5(o){return 1<<Math.min(o,31)}function zl(o){let c,ue,g="",I=0,V=!1;for(;null!==(c=C5.exec(o));)V?c[0]===`${Ch}/*${ue}${Ch}`&&(I=c.index,V=!1):(g+=o.substring(I,c.index+c[0].length),ue=c[1],V=!0);return g+=o.slice(I),g}function zD(o,c,g,I,V,ue,Se){let Le=0;const nt={type:ue.type,currentCaseLViewIndex:fm(c,g,1,null),anchorIdx:Se,cases:[],create:[],remove:[],update:[]};(function WD(o,c,g){o.push(B5(c.mainBinding),2,-1-c.mainBinding,g<<2|2)})(I,ue,Se),function R6(o,c,g){const I=o.data[c];null===I?o.data[c]=g:I.value=g}(c,Se,nt);const Ct=ue.values,jt=[];for(let hn=0;hn<Ct.length;hn++){const Pn=Ct[hn],Bn=[];for(let hr=0;hr<Pn.length;hr++){const Br=Pn[hr];if("string"!=typeof Br){const Wr=Bn.push(Br)-1;Pn[hr]=`\x3c!--\ufffd${Wr}\ufffd--\x3e`}}const qn=[];jt.push(qn),Le=U5(qn,c,nt,g,I,V,ue.cases[hn],Pn.join(""),Bn)|Le}Le&&function GD(o,c,g){o.push(c,1,g<<2|3)}(I,Le,Se),o.push({kind:3,index:Se,cases:jt,currentCaseLViewIndex:nt.currentCaseLViewIndex})}function N5(o){const c=[],g=[];let I=1,V=0;const ue=Mx(o=o.replace(Nf,function(Se,Le,nt){return I="select"===nt?0:1,V=parseInt(Le.slice(1),10),""}));for(let Se=0;Se<ue.length;){let Le=ue[Se++].trim();1===I&&(Le=Le.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Le.length&&c.push(Le);const nt=Mx(ue[Se++]);c.length>g.length&&g.push(nt)}return{type:I,mainBinding:V,cases:c,values:g}}function Mx(o){if(!o)return[];let c=0;const g=[],I=[],V=/[{}]/g;let ue;for(V.lastIndex=0;ue=V.exec(o);){const Le=ue.index;if("}"==ue[0]){if(g.pop(),0==g.length){const nt=o.substring(c,Le);Nf.test(nt)?I.push(N5(nt)):I.push(nt),c=Le+1}}else{if(0==g.length){const nt=o.substring(c,Le);I.push(nt),c=Le+1}g.push("{")}}const Se=o.substring(c);return I.push(Se),I}function U5(o,c,g,I,V,ue,Se,Le,nt){const Ct=[],jt=[],hn=[];g.cases.push(Se),g.create.push(Ct),g.remove.push(jt),g.update.push(hn);const Bn=ST(tp()).getInertBodyElement(Le),qn=DE(Bn)||Bn;return qn?HD(o,c,g,I,V,Ct,jt,hn,qn,ue,nt,0):0}function HD(o,c,g,I,V,ue,Se,Le,nt,Ct,jt,hn){let Pn=0,Bn=nt.firstChild;for(;Bn;){const qn=fm(c,I,1,null);switch(Bn.nodeType){case Node.ELEMENT_NODE:const hr=Bn,Br=hr.tagName.toLowerCase();if(xE.hasOwnProperty(Br)){Bc(ue,Bf,Br,Ct,qn),c.data[qn]=Br;const ns=hr.attributes;for(let Ec=0;Ec<ns.length;Ec++){const Pl=ns.item(Ec),$y=Pl.name.toLowerCase();Pl.value.match(Ih)?SE.hasOwnProperty($y)&&yy(Le,Pl.value,qn,Pl.name,0,ME[$y]?nw:null):JD(ue,qn,Pl)}const Ns={kind:1,index:qn,children:[]};o.push(Ns),Pn=HD(Ns.children,c,g,I,V,ue,Se,Le,Bn,qn,jt,hn+1)|Pn,x_(Se,qn,hn)}break;case Node.TEXT_NODE:const Wr=Bn.textContent||"",xr=Wr.match(Ih);Bc(ue,null,xr?"":Wr,Ct,qn),x_(Se,qn,hn),xr&&(Pn=yy(Le,Wr,qn,null,0,null)|Pn),o.push({kind:0,index:qn});break;case Node.COMMENT_NODE:const qi=Ex.exec(Bn.textContent||"");if(qi){const Ns=jt[parseInt(qi[1],10)];Bc(ue,Ao,"",Ct,qn),zD(o,c,I,V,Ct,Ns,qn),Sx(Se,qn,hn)}}Bn=Bn.nextSibling}return Pn}function x_(o,c,g){0===g&&o.push(c)}function Sx(o,c,g){0===g&&(o.push(~c),o.push(c))}function Bc(o,c,g,I,V){null!==c&&o.push(c),o.push(g,V,function U6(o,c,g){return o|c<<17|g<<1}(0,I,V))}function JD(o,c,g){o.push(c<<1|1,g.name,g.value)}function YD(o,c,g=-1){const I=zo(),V=yr(),ue=Ai+o,Se=ru(I.consts,c),Le=gb();I.firstCreatePass&&function R5(o,c,g,I,V,ue){const Se=gb(),Le=[],nt=[],Ct=[[]],jt=[[]];V=function VD(o,c){if(function kA(o){return-1===o}(c))return zl(o);{const g=o.indexOf(`:${c}${Ch}`)+2+c.toString().length,I=o.search(new RegExp(`${Ch}\\/\\*\\d+:${c}${Ch}`));return zl(o.substring(g,I))}}(V,ue);const hn=function O5(o){return o.replace(P5," ")}(V).split(k5);for(let Pn=0;Pn<hn.length;Pn++){let Bn=hn[Pn];if(1&Pn){const qn=47===Bn.charCodeAt(0),hr=Bn.charCodeAt(qn?1:0),Br=Ai+Number.parseInt(Bn.substring(qn?2:1));if(qn)Ct.shift(),jt.shift(),sf(gb(),!1);else{const Wr=N6(o,Ct[0],Br);Ct.unshift([]),sf(Wr,!0);const xr={kind:2,index:Br,children:[],type:35===hr?0:1};jt[0].push(xr),jt.unshift(xr.children)}}else{const qn=Mx(Bn);for(let hr=0;hr<qn.length;hr++){let Br=qn[hr];if(1&hr){const Wr=Br;if("object"!=typeof Wr)throw new Error(`Unable to parse ICU expression in "${V}" message.`);const qi=E_(o,Se,Ct[0],g,Le,"",!0).index;zD(jt[0],o,g,nt,c,Wr,qi)}else""!==Br&&xx(jt[0],o,Se,Ct[0],Le,nt,g,Br)}}}o.data[I]={create:Le,update:nt,ast:jt[0]}}(I,null===Le?0:Le.index,V,ue,Se,g),2===I.type?V[Ra][Li]|=32:V[Li]|=32;const nt=I.data[ue],jt=jE(I,Le===V[yd]?null:Le,V),hn=Le&&8&Le.type?V[Le.index]:null;(function J6(o,c,g,I){kw(o,c,g,I)})(V,ue,Le,g),function jD(o,c,g,I){const V=o[po];for(let ue=0;ue<c.length;ue++){const Se=c[ue++],Ct=(Se&$c.APPEND_EAGERLY)===$c.APPEND_EAGERLY,jt=Se>>>$c.SHIFT;let hn=o[jt],Pn=!1;null===hn&&(hn=o[jt]=py(o,jt,c[ue],(Se&$c.COMMENT)===$c.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Pn=pg()),Ct&&null!==g&&Pn&&_d(V,g,hn,I,!1)}}(V,nt.create,jt,hn),kS(!0)}function Dx(o,c,g){YD(o,c,g),function jm(){kS(!1)}()}let qD=(o,c,g)=>{};function Cx(o,c,g,I){const V=yr(),ue=zo(),Se=Ws();return Tv(ue,V,V[po],Se,o,c,I),Cx}function S_(o,c){const g=Ws(),I=yr(),V=zo();return Tv(V,I,bA(W1(V.data),g,I),g,o,c),S_}function Tv(o,c,g,I,V,ue,Se){const Le=hb(I),Ct=o.firstCreatePass&&vA(o),jt=c[fa],hn=gA(c);let Pn=!0;if(3&I.type||Se){const hr=jd(I,c),Br=Se?Se(hr):hr,Wr=hn.length,xr=Se?ns=>Se(os(ns[I.index])):I.index;let qi=null;if(!Se&&Le&&(qi=function Sv(o,c,g,I){const V=o.cleanup;if(null!=V)for(let ue=0;ue<V.length-1;ue+=2){const Se=V[ue];if(Se===g&&V[ue+1]===I){const Le=c[ef],nt=V[ue+2];return Le.length>nt?Le[nt]:null}"string"==typeof Se&&(ue+=2)}return null}(o,c,V,I.index)),null!==qi)(qi.__ngLastListenerFn__||qi).__ngNextListenerFn__=ue,qi.__ngLastListenerFn__=ue,Pn=!1;else{ue=eI(I,c,jt,ue),qD(hr,V,ue);const ns=g.listen(Br,V,ue);hn.push(ue,ns),Ct&&Ct.push(V,xr,Wr,Wr+1)}}else ue=eI(I,c,jt,ue);const Bn=I.outputs;let qn;if(Pn&&null!==Bn&&(qn=Bn[V])){const hr=qn.length;if(hr)for(let Br=0;Br<hr;Br+=2){const Ns=c[qn[Br]][qn[Br+1]].subscribe(ue),Ec=hn.length;hn.push(ue,Ns),Ct&&Ct.push(V,I.index,Ec,-(Ec+1))}}}function QD(o,c,g,I){const V=O(null);try{return Kl(6,c,g),!1!==g(I)}catch(ue){return ww(o,ue),!1}finally{Kl(7,c,g),O(V)}}function eI(o,c,g,I){return function V(ue){if(ue===Function)return I;Sw(o.componentOffset>-1?Fl(o.index,c):c,5);let Le=QD(c,g,I,ue),nt=V.__ngNextListenerFn__;for(;nt;)Le=QD(c,g,nt,ue)&&Le,nt=nt.__ngNextListenerFn__;return Le}}function tI(o=1){return function Ik(o){return(mo.lFrame.contextLView=function _S(o,c){for(;o>0;)c=c[Yf],o--;return c}(o,mo.lFrame.contextLView))[fa]}(o)}function j5(o,c){let g=null;const I=function I1(o){const c=o.attrs;if(null!=c){const g=c.indexOf(5);if(!(1&g))return c[g+1]}return null}(o);for(let V=0;V<c.length;V++){const ue=c[V];if("*"!==ue){if(null===I?qy(o,ue,!0):a0(I,ue))return V}else g=V}return g}function nI(o){const c=yr()[Ra][yd];if(!c.projection){const I=c.projection=function Vt(o,c){const g=[];for(let I=0;I<o;I++)g.push(c);return g}(o?o.length:1,null),V=I.slice();let ue=c.child;for(;null!==ue;){if(128!==ue.type){const Se=o?j5(ue,o):0;null!==Se&&(V[Se]?V[Se].projectionNext=ue:I[Se]=ue,V[Se]=ue)}ue=ue.next}}}function rI(o,c=0,g,I,V,ue){const Se=yr(),Le=zo(),nt=I?o+1:null;null!==nt&&rd(Se,Le,nt,I,V,ue,null,g);const Ct=sp(Le,Ai+o,16,null,g||null);null===Ct.projection&&(Ct.projection=c),af();const hn=!Se[gd]||Qp();null===Se[Ra][yd].projection[Ct.projection]&&null!==nt?function iI(o,c,g){const I=Ai+g,V=c.data[I],ue=o[I],Se=dp(ue,V.tView.ssrId);cp(ue,C0(o,V,void 0,{dehydratedView:Se}),0,dh(V,Se))}(Se,Le,nt):hn&&32&~Ct.flags&&function W3(o,c,g){eA(c[po],0,c,g,fw(o,g,c),lm(g.parent||c[yd],g,c))}(Le,Se,Ct)}function kx(o,c,g){return Px(o,"",c,"",g),kx}function Px(o,c,g,I,V){const ue=yr(),Se=kc(ue,c,g,I);return Se!==xo&&$l(zo(),Gs(),ue,o,Se,ue[po],V,!1),Px}function D_(o,c,g,I){!function wi(o,c,g,I){const V=zo();if(V.firstCreatePass){const ue=Ws();vm(V,new Qg(c,g,I),ue.index),function $0(o,c){const g=o.contentQueries||(o.contentQueries=[]);c!==(g.length?g[g.length-1]:-1)&&g.push(o.queries.length-1,c)}(V,o),!(2&~g)&&(V.staticContentQueries=!0)}return aD(V,yr(),g)}(o,c,g,I)}function Rx(o,c,g){!function Qi(o,c,g){const I=zo();return I.firstCreatePass&&(vm(I,new Qg(o,c,g),-1),!(2&~c)&&(I.staticViewQueries=!0)),aD(I,yr(),c)}(o,c,g)}function Bx(o){const c=yr(),g=zo(),I=G1();vb(I+1);const V=bm(g,I);if(o.dirty&&function lg(o){return!(4&~o[Li])}(c)===!(2&~V.metadata.flags)){if(null===V.matches)o.reset([]);else{const ue=O2(c,I);o.reset(ue,YS),o.notifyOnChanges()}return!0}return!1}function aI(){return function Md(o,c){return o[Zf].queries[c].queryList}(yr(),G1())}function I_(o){return qp(function xk(){return mo.lFrame.contextLView}(),Ai+o)}function C_(o,c=""){const g=yr(),I=zo(),V=o+Ai,ue=I.firstCreatePass?sp(I,V,1,c,null):I.data[V],Se=xy(I,g,ue,c,o);g[V]=Se,pg()&&A0(I,g,Se,ue),sf(ue,!1)}let xy=(o,c,g,I,V)=>(cf(!0),cm(c[po],I));function k_(o){return Ap("",o,""),k_}function Ap(o,c,g){const I=yr(),V=kc(I,o,c,g);return V!==xo&&au(I,bd(),V),Ap}function Ms(o,c,g,I,V){const ue=yr(),Se=Pm(ue,o,c,g,I,V);return Se!==xo&&au(ue,bd(),Se),Ms}function O_(o,c,g){_f(c)&&(c=c());const I=yr();return gc(I,iu(),c)&&$l(zo(),Gs(),I,o,c,I[po],g,!1),O_}function Sy(o,c){const g=_f(o);return g&&o.set(c),g}function Fx(o,c){const g=yr(),I=zo(),V=Ws();return Tv(I,g,g[po],V,o,c),Fx}function R_(o,c,g,I,V){if(o=Lt(o),Array.isArray(o))for(let ue=0;ue<o.length;ue++)R_(o[ue],c,g,I,V);else{const ue=zo(),Se=yr(),Le=Ws();let nt=eu(o)?o:Lt(o.provide);const Ct=qC(o),jt=1048575&Le.providerIndexes,hn=Le.directiveStart,Pn=Le.providerIndexes>>20;if(eu(o)||!o.multi){const Bn=new yg(Ct,V,op),qn=B_(nt,c,V?jt:jt+Pn,hn);-1===qn?(bg(vg(Le,Se),ue,nt),Dp(ue,o,c.length),c.push(nt),Le.directiveStart++,Le.directiveEnd++,V&&(Le.providerIndexes+=1048576),g.push(Bn),Se.push(Bn)):(g[qn]=Bn,Se[qn]=Bn)}else{const Bn=B_(nt,c,jt+Pn,hn),qn=B_(nt,c,jt,jt+Pn),Br=qn>=0&&g[qn];if(V&&!Br||!V&&!(Bn>=0&&g[Bn])){bg(vg(Le,Se),ue,nt);const Wr=function J5(o,c,g,I,V){const ue=new yg(o,g,op);return ue.multi=[],ue.index=c,ue.componentProviders=0,Nc(ue,V,I&&!g),ue}(V?Hl:G5,g.length,V,I,Ct);!V&&Br&&(g[qn].providerFactory=Wr),Dp(ue,o,c.length,0),c.push(nt),Le.directiveStart++,Le.directiveEnd++,V&&(Le.providerIndexes+=1048576),g.push(Wr),Se.push(Wr)}else Dp(ue,o,Bn>-1?Bn:qn,Nc(g[V?qn:Bn],Ct,!V&&I));!V&&I&&Br&&g[qn].componentProviders++}}}function Dp(o,c,g,I){const V=eu(c),ue=function YC(o){return!!o.useClass}(c);if(V||ue){const nt=(ue?Lt(c.useClass):c).prototype.ngOnDestroy;if(nt){const Ct=o.destroyHooks||(o.destroyHooks=[]);if(!V&&c.multi){const jt=Ct.indexOf(g);-1===jt?Ct.push(g,[I,nt]):Ct[jt+1].push(I,nt)}else Ct.push(g,nt)}}}function Nc(o,c,g){return g&&o.componentProviders++,o.multi.push(c)-1}function B_(o,c,g,I){for(let V=g;V<I;V++)if(c[V]===o)return V;return-1}function G5(o,c,g,I){return $x(this.multi,[])}function Hl(o,c,g,I){const V=this.multi;let ue;if(this.providerFactory){const Se=this.providerFactory.componentProviders,Le=tm(g,g[zr],this.providerFactory.index,I);ue=Le.slice(0,Se),$x(V,ue);for(let nt=Se;nt<Le.length;nt++)ue.push(Le[nt])}else ue=[],$x(V,ue);return ue}function $x(o,c){for(let g=0;g<o.length;g++)c.push((0,o[g])());return c}function N_(o,c=[]){return g=>{g.providersResolver=(I,V)=>function W5(o,c,g){const I=zo();if(I.firstCreatePass){const V=Iu(o);R_(g,I.data,I.blueprint,V,!0),R_(c,I.data,I.blueprint,V,!1)}}(I,V?V(o):o,c)}}let U_=(()=>{class o{constructor(g){this._injector=g,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(g){if(!g.standalone)return null;if(!this.cachedInjectors.has(g)){const I=md(0,g.type),V=I.length>0?pp([I],this._injector,`Standalone[${g.type.name}]`):null;this.cachedInjectors.set(g,V)}return this.cachedInjectors.get(g)}ngOnDestroy(){try{for(const g of this.cachedInjectors.values())null!==g&&g.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=To({token:o,providedIn:"environment",factory:()=>new o(ii(Mc))})}return o})();function Ds(o){dl("NgStandalone"),o.getStandaloneInjector=c=>c.get(U_).getOrCreateStandaloneInjector(o)}function Dy(o,c,g){const I=$d()+o,V=yr();return V[I]===xo?xf(V,I,g?c.call(g):c()):function mp(o,c){return o[c]}(V,I)}function K_(o,c,g,I){return Wx(yr(),$d(),o,c,g,I)}function Iv(o,c,g,I,V){return F_(yr(),$d(),o,c,g,I,V)}function Oh(o,c){const g=o[c];return g===xo?void 0:g}function Wx(o,c,g,I,V,ue){const Se=c+g;return gc(o,Se,V)?xf(o,Se+1,ue?I.call(ue,V):I(V)):Oh(o,Se+1)}function F_(o,c,g,I,V,ue,Se){const Le=c+g;return Es(o,Le,V,ue)?xf(o,Le+2,Se?I.call(Se,V,ue):I(V,ue)):Oh(o,Le+2)}function Wu(o,c){const g=zo();let I;const V=o+Ai;g.firstCreatePass?(I=function Cy(o,c){if(c)for(let g=c.length-1;g>=0;g--){const I=c[g];if(o===I.name)return I}}(c,g.pipeRegistry),g.data[V]=I,I.onDestroy&&(g.destroyHooks??=[]).push(V,I.onDestroy)):I=g.data[V];const ue=I.factory||(I.factory=ie(I.type)),Le=Nr(op);try{const nt=Zh(!1),Ct=ue();return Zh(nt),function Nx(o,c,g,I){g>=o.data.length&&(o.data[g]=null,o.blueprint[g]=null),c[g]=I}(g,yr(),V,Ct),Ct}finally{Nr(Le)}}function Gu(o,c,g){const I=o+Ai,V=yr(),ue=qp(V,I);return qd(V,I)?Wx(V,$d(),c,ue.transform,g,ue):ue.transform(g)}function Bs(o,c,g,I){const V=o+Ai,ue=yr(),Se=qp(ue,V);return qd(ue,V)?F_(ue,$d(),c,Se.transform,g,I,Se):Se.transform(g,I)}function qd(o,c){return o[zr].data[c].pure}function _I(o,c){return Tw(o,c)}class aP{constructor(c){this.full=c;const g=c.split(".");this.major=g[0],this.minor=g[1],this.patch=g.slice(2).join(".")}}let cP=(()=>{class o{log(g){console.log(g)}warn(g){console.warn(g)}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=To({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const rM=new $i(""),Nv=new $i("");let iM,AR=(()=>{class o{constructor(g,I,V){this._ngZone=g,this.registry=I,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,iM||(function DR(o){iM=o}(V),V.addToWindow(I)),this._watchAngularEvents(),g.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ma.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let g=this._callbacks.pop();clearTimeout(g.timeoutId),g.doneCb()}});else{let g=this.getPendingTasks();this._callbacks=this._callbacks.filter(I=>!I.updateCb||!I.updateCb(g)||(clearTimeout(I.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(g=>({source:g.source,creationLocation:g.creationLocation,data:g.data})):[]}addCallback(g,I,V){let ue=-1;I&&I>0&&(ue=setTimeout(()=>{this._callbacks=this._callbacks.filter(Se=>Se.timeoutId!==ue),g()},I)),this._callbacks.push({doneCb:g,timeoutId:ue,updateCb:V})}whenStable(g,I,V){if(V&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(g,I,V),this._runCallbacksIfReady()}registerApplication(g){this.registry.registerApplication(g,this)}unregisterApplication(g){this.registry.unregisterApplication(g)}findProviders(g,I,V){return[]}static#e=this.\u0275fac=function(I){return new(I||o)(ii(Ma),ii(Z_),ii(Nv))};static#t=this.\u0275prov=To({token:o,factory:o.\u0275fac})}return o})(),Z_=(()=>{class o{constructor(){this._applications=new Map}registerApplication(g,I){this._applications.set(g,I)}unregisterApplication(g){this._applications.delete(g)}unregisterAllApplications(){this._applications.clear()}getTestability(g){return this._applications.get(g)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(g,I=!0){return iM?.findTestabilityInTree(this,g,I)??null}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=To({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function Uh(o){return!!o&&"function"==typeof o.then}function kI(o){return!!o&&"function"==typeof o.subscribe}const mP=new $i("");let Uf=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((g,I)=>{this.resolve=g,this.reject=I}),this.appInits=Cr(mP,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const g=[];for(const V of this.appInits){const ue=V();if(Uh(ue))g.push(ue);else if(kI(ue)){const Se=new Promise((Le,nt)=>{ue.subscribe({complete:Le,error:nt})});g.push(Se)}}const I=()=>{this.done=!0,this.resolve()};Promise.all(g).then(()=>{I()}).catch(V=>{this.reject(V)}),0===g.length&&I(),this.initialized=!0}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=To({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const q_=new $i("");let Ju=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Cr(WS),this.afterRenderEffectManager=Cr(pm),this.zonelessEnabled=Cr(pc),this.externalTestViews=new Set,this.beforeRender=new ge.B,this.afterTick=new ge.B,this.componentTypes=[],this.components=[],this.isStable=Cr(nm).hasPendingTasks.pipe((0,te.T)(g=>!g)),this._injector=Cr(Mc)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(g,I){const V=g instanceof U0;if(!this._injector.get(Uf).done)throw!V&&sr(g),new kr(405,!1);let Se;Se=V?g:this._injector.get(Rw).resolveComponentFactory(g),this.componentTypes.push(Se.componentType);const Le=function yP(o){return o.isBoundToModule}(Se)?void 0:this._injector.get(wm),Ct=Se.create(Qc.NULL,[],I||Se.selector,Le),jt=Ct.location.nativeElement,hn=Ct.injector.get(rM,null);return hn?.registerApplication(jt),Ct.onDestroy(()=>{this.detachView(Ct.hostView),Q_(this.components,Ct),hn?.unregisterApplication(jt)}),this._loadComponent(Ct),Ct}tick(){this._tick(!0)}_tick(g){if(this._runningTick)throw new kr(101,!1);const I=O(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(g)}catch(V){this.internalErrorHandler(V)}finally{this._runningTick=!1,O(I),this.afterTick.next()}}detectChangesInAttachedViews(g){let I=null;this._injector.destroyed||(I=this._injector.get(WA,null,{optional:!0}));let V=0;const ue=this.afterRenderEffectManager;for(;V<10;){const Se=0===V;if(g||!Se){this.beforeRender.next(Se);for(let{_lView:Le,notifyErrorHandler:nt}of this._views)t1(Le,nt,Se,this.zonelessEnabled)}else I?.begin?.(),I?.end?.();if(V++,ue.executeInternalCallbacks(),!this.allViews.some(({_lView:Le})=>ug(Le))&&(ue.execute(),!this.allViews.some(({_lView:Le})=>ug(Le))))break}}attachView(g){const I=g;this._views.push(I),I.attachToAppRef(this)}detachView(g){const I=g;Q_(this._views,I),I.detachFromAppRef()}_loadComponent(g){this.attachView(g.hostView),this.tick(),this.components.push(g);const I=this._injector.get(q_,[]);[...this._bootstrapListeners,...I].forEach(V=>V(g))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(g=>g()),this._views.slice().forEach(g=>g.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(g){return this._destroyListeners.push(g),()=>Q_(this._destroyListeners,g)}destroy(){if(this._destroyed)throw new kr(406,!1);const g=this._injector;g.destroy&&!g.destroyed&&g.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=To({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Q_(o,c){const g=o.indexOf(c);g>-1&&o.splice(g,1)}function t1(o,c,g,I){(g||ug(o))&&k0(o,c,g&&!I?0:1)}class vP{constructor(c,g){this.ngModuleFactory=c,this.componentFactories=g}}let RI=(()=>{class o{compileModuleSync(g){return new U2(g)}compileModuleAsync(g){return Promise.resolve(this.compileModuleSync(g))}compileModuleAndAllComponentsSync(g){const I=this.compileModuleSync(g),ue=cl(Wn(g).declarations).reduce((Se,Le)=>{const nt=Pt(Le);return nt&&Se.push(new Fw(nt)),Se},[]);return new vP(I,ue)}compileModuleAndAllComponentsAsync(g){return Promise.resolve(this.compileModuleAndAllComponentsSync(g))}clearCache(){}clearCacheFor(g){}getModuleId(g){}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=To({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),bP=(()=>{class o{constructor(){this.zone=Cr(Ma),this.changeDetectionScheduler=Cr(lh),this.applicationRef=Cr(Ju)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=To({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const kR=new $i("",{factory:()=>!1});function oM({ngZoneFactory:o,ignoreChangesOutsideZone:c}){return o??=()=>new Ma(NI()),[{provide:Ma,useFactory:o},{provide:ni,multi:!0,useFactory:()=>{const g=Cr(bP,{optional:!0});return()=>g.initialize()}},{provide:ni,multi:!0,useFactory:()=>{const g=Cr(_P);return()=>{g.initialize()}}},{provide:WS,useFactory:wP},!0===c?{provide:zA,useValue:!0}:[]]}function wP(){const o=Cr(Ma),c=Cr(ou);return g=>o.runOutsideAngular(()=>c.handleError(g))}function PR(o){const c=o?.ignoreChangesOutsideZone,g=oM({ngZoneFactory:()=>{const I=NI(o);return I.shouldCoalesceEventChangeDetection&&dl("NgZone_CoalesceEvent"),new Ma(I)},ignoreChangesOutsideZone:c});return cs([{provide:kR,useValue:!0},{provide:pc,useValue:!1},g])}function NI(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}let _P=(()=>{class o{constructor(){this.subscription=new me.yU,this.initialized=!1,this.zone=Cr(Ma),this.pendingTasks=Cr(nm)}initialize(){if(this.initialized)return;this.initialized=!0;let g=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(g=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ma.assertNotInAngularZone(),queueMicrotask(()=>{null!==g&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(g),g=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ma.assertInAngularZone(),g??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=To({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),n1=(()=>{class o{constructor(){this.appRef=Cr(Ju),this.taskService=Cr(nm),this.ngZone=Cr(Ma),this.zonelessEnabled=Cr(pc),this.disableScheduling=Cr(zA,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new me.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof g2||!this.zoneIsDefined)}notify(g){if(!this.zonelessEnabled&&5===g)return;switch(g){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const I=this.useMicrotaskScheduler?YA:XA;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=I(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=I(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ma.isInAngularZone())}tick(g){if(this.runningTick||this.appRef.destroyed)return;const I=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(g)},void 0,this.schedulerTickApplyArgs)}catch(V){throw this.taskService.remove(I),V}finally{this.cleanup()}this.useMicrotaskScheduler=!0,YA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(I)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const g=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(g)}}static#e=this.\u0275fac=function(I){return new(I||o)};static#t=this.\u0275prov=To({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const r1=new $i("",{providedIn:"root",factory:()=>Cr(r1,lo.Optional|lo.SkipSelf)||function Lv(){return typeof $localize<"u"&&$localize.locale||xp}()}),dM=new $i("",{providedIn:"root",factory:()=>"USD"}),Kv=new $i("");let ad=null;function a1(){return!1}let hM=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=jI}return o})();function jI(o){return function AP(o,c,g){if(Yp(o)&&!g){const I=Fl(o.index,c);return new Fg(I,I)}return 175&o.type?new Fg(c[Ra],c):null}(Ws(),yr(),!(16&~o))}class Lh{constructor(){}supports(c){return Cc(c)}create(c){return new CP(c)}}const bM=(o,c)=>c;class CP{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||bM}forEachItem(c){let g;for(g=this._itHead;null!==g;g=g._next)c(g)}forEachOperation(c){let g=this._itHead,I=this._removalsHead,V=0,ue=null;for(;g||I;){const Se=!I||g&&g.currentIndex<OP(I,V,ue)?g:I,Le=OP(Se,V,ue),nt=Se.currentIndex;if(Se===I)V--,I=I._nextRemoved;else if(g=g._next,null==Se.previousIndex)V++;else{ue||(ue=[]);const Ct=Le-V,jt=nt-V;if(Ct!=jt){for(let Pn=0;Pn<Ct;Pn++){const Bn=Pn<ue.length?ue[Pn]:ue[Pn]=0,qn=Bn+Pn;jt<=qn&&qn<Ct&&(ue[Pn]=Bn+1)}ue[Se.previousIndex]=jt-Ct}}Le!==nt&&c(Se,Le,nt)}}forEachPreviousItem(c){let g;for(g=this._previousItHead;null!==g;g=g._nextPrevious)c(g)}forEachAddedItem(c){let g;for(g=this._additionsHead;null!==g;g=g._nextAdded)c(g)}forEachMovedItem(c){let g;for(g=this._movesHead;null!==g;g=g._nextMoved)c(g)}forEachRemovedItem(c){let g;for(g=this._removalsHead;null!==g;g=g._nextRemoved)c(g)}forEachIdentityChange(c){let g;for(g=this._identityChangesHead;null!==g;g=g._nextIdentityChange)c(g)}diff(c){if(null==c&&(c=[]),!Cc(c))throw new kr(900,!1);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let V,ue,Se,g=this._itHead,I=!1;if(Array.isArray(c)){this.length=c.length;for(let Le=0;Le<this.length;Le++)ue=c[Le],Se=this._trackByFn(Le,ue),null!==g&&Object.is(g.trackById,Se)?(I&&(g=this._verifyReinsertion(g,ue,Se,Le)),Object.is(g.item,ue)||this._addIdentityChange(g,ue)):(g=this._mismatch(g,ue,Se,Le),I=!0),g=g._next}else V=0,function iv(o,c){if(Array.isArray(o))for(let g=0;g<o.length;g++)c(o[g]);else{const g=o[Symbol.iterator]();let I;for(;!(I=g.next()).done;)c(I.value)}}(c,Le=>{Se=this._trackByFn(V,Le),null!==g&&Object.is(g.trackById,Se)?(I&&(g=this._verifyReinsertion(g,Le,Se,V)),Object.is(g.item,Le)||this._addIdentityChange(g,Le)):(g=this._mismatch(g,Le,Se,V),I=!0),g=g._next,V++}),this.length=V;return this._truncate(g),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,g,I,V){let ue;return null===c?ue=this._itTail:(ue=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(I,null))?(Object.is(c.item,g)||this._addIdentityChange(c,g),this._reinsertAfter(c,ue,V)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(I,V))?(Object.is(c.item,g)||this._addIdentityChange(c,g),this._moveAfter(c,ue,V)):c=this._addAfter(new kP(g,I),ue,V),c}_verifyReinsertion(c,g,I,V){let ue=null===this._unlinkedRecords?null:this._unlinkedRecords.get(I,null);return null!==ue?c=this._reinsertAfter(ue,c._prev,V):c.currentIndex!=V&&(c.currentIndex=V,this._addToMoves(c,V)),c}_truncate(c){for(;null!==c;){const g=c._next;this._addToRemovals(this._unlink(c)),c=g}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,g,I){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const V=c._prevRemoved,ue=c._nextRemoved;return null===V?this._removalsHead=ue:V._nextRemoved=ue,null===ue?this._removalsTail=V:ue._prevRemoved=V,this._insertAfter(c,g,I),this._addToMoves(c,I),c}_moveAfter(c,g,I){return this._unlink(c),this._insertAfter(c,g,I),this._addToMoves(c,I),c}_addAfter(c,g,I){return this._insertAfter(c,g,I),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,g,I){const V=null===g?this._itHead:g._next;return c._next=V,c._prev=g,null===V?this._itTail=c:V._prev=c,null===g?this._itHead=c:g._next=c,null===this._linkedRecords&&(this._linkedRecords=new PP),this._linkedRecords.put(c),c.currentIndex=I,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const g=c._prev,I=c._next;return null===g?this._itHead=I:g._next=I,null===I?this._itTail=g:I._prev=g,c}_addToMoves(c,g){return c.previousIndex===g||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new PP),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,g){return c.item=g,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class kP{constructor(c,g){this.item=c,this.trackById=g,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kh{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,g){let I;for(I=this._head;null!==I;I=I._nextDup)if((null===g||g<=I.currentIndex)&&Object.is(I.trackById,c))return I;return null}remove(c){const g=c._prevDup,I=c._nextDup;return null===g?this._head=I:g._nextDup=I,null===I?this._tail=g:I._prevDup=g,null===this._head}}class PP{constructor(){this.map=new Map}put(c){const g=c.trackById;let I=this.map.get(g);I||(I=new Kh,this.map.set(g,I)),I.add(c)}get(c,g){const V=this.map.get(c);return V?V.get(c,g):null}remove(c){const g=c.trackById;return this.map.get(g).remove(c)&&this.map.delete(g),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function OP(o,c,g){const I=o.previousIndex;if(null===I)return I;let V=0;return g&&I<g.length&&(V=g[I]),I+c+V}class VI{constructor(){}supports(c){return c instanceof Map||K2(c)}create(){return new RP}}class RP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let g;for(g=this._mapHead;null!==g;g=g._next)c(g)}forEachPreviousItem(c){let g;for(g=this._previousMapHead;null!==g;g=g._nextPrevious)c(g)}forEachChangedItem(c){let g;for(g=this._changesHead;null!==g;g=g._nextChanged)c(g)}forEachAddedItem(c){let g;for(g=this._additionsHead;null!==g;g=g._nextAdded)c(g)}forEachRemovedItem(c){let g;for(g=this._removalsHead;null!==g;g=g._nextRemoved)c(g)}diff(c){if(c){if(!(c instanceof Map||K2(c)))throw new kr(900,!1)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let g=this._mapHead;if(this._appendAfter=null,this._forEach(c,(I,V)=>{if(g&&g.key===V)this._maybeAddToChanges(g,I),this._appendAfter=g,g=g._next;else{const ue=this._getOrCreateRecordForKey(V,I);g=this._insertBeforeOrAppend(g,ue)}}),g){g._prev&&(g._prev._next=null),this._removalsHead=g;for(let I=g;null!==I;I=I._nextRemoved)I===this._mapHead&&(this._mapHead=null),this._records.delete(I.key),I._nextRemoved=I._next,I.previousValue=I.currentValue,I.currentValue=null,I._prev=null,I._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,g){if(c){const I=c._prev;return g._next=c,g._prev=I,c._prev=g,I&&(I._next=g),c===this._mapHead&&(this._mapHead=g),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=g,g._prev=this._appendAfter):this._mapHead=g,this._appendAfter=g,null}_getOrCreateRecordForKey(c,g){if(this._records.has(c)){const V=this._records.get(c);this._maybeAddToChanges(V,g);const ue=V._prev,Se=V._next;return ue&&(ue._next=Se),Se&&(Se._prev=ue),V._next=null,V._prev=null,V}const I=new BP(c);return this._records.set(c,I),I.currentValue=g,this._addToAdditions(I),I}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,g){Object.is(g,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=g,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,g){c instanceof Map?c.forEach(g):Object.keys(c).forEach(I=>g(c[I],I))}}class BP{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zI(){return new wM([new Lh])}let wM=(()=>{class o{static#e=this.\u0275prov=To({token:o,providedIn:"root",factory:zI});constructor(g){this.factories=g}static create(g,I){if(null!=I){const V=I.factories.slice();g=g.concat(V)}return new o(g)}static extend(g){return{provide:o,useFactory:I=>o.create(g,I||zI()),deps:[[o,new In,new Mt]]}}find(g){const I=this.factories.find(V=>V.supports(g));if(null!=I)return I;throw new kr(901,!1)}}return o})();function HI(){return new Op([new VI])}let Op=(()=>{class o{static#e=this.\u0275prov=To({token:o,providedIn:"root",factory:HI});constructor(g){this.factories=g}static create(g,I){if(I){const V=I.factories.slice();g=g.concat(V)}return new o(g)}static extend(g){return{provide:o,useFactory:I=>o.create(g,I||HI()),deps:[[o,new In,new Mt]]}}find(g){const I=this.factories.find(V=>V.supports(g));if(I)return I;throw new kr(901,!1)}}return o})();function MM(o){try{const{rootComponent:c,appProviders:g,platformProviders:I}=o,V=function uM(o=[]){if(ad)return ad;const c=function KI(o=[],c){return Qc.create({name:c,providers:[{provide:O1,useValue:"platform"},{provide:Kv,useValue:new Set([()=>ad=null])},...o]})}(o);return ad=c,function sd(){!function x(o){D=o}(()=>{throw new kr(600,!1)})}(),function fM(o){o.get(Vb,null)?.forEach(g=>g())}(c),c}(I),ue=[oM({}),{provide:lh,useExisting:n1},...g||[]],Le=new Xd({providers:ue,parent:V,debugName:"",runEnvironmentInitializers:!1}).injector,nt=Le.get(Ma);return nt.run(()=>{Le.resolveInjectorInitializers();const Ct=Le.get(ou,null);let jt;nt.runOutsideAngular(()=>{jt=nt.onError.subscribe({next:Bn=>{Ct.handleError(Bn)}})});const hn=()=>Le.destroy(),Pn=V.get(Kv);return Pn.add(hn),Le.onDestroy(()=>{jt.unsubscribe(),Pn.delete(hn)}),function PI(o,c,g){try{const I=g();return Uh(I)?I.catch(V=>{throw c.runOutsideAngular(()=>o.handleError(V)),V}):I}catch(I){throw c.runOutsideAngular(()=>o.handleError(I)),I}}(Ct,nt,()=>{const Bn=Le.get(Uf);return Bn.runInitializers(),Bn.donePromise.then(()=>{!function Ah(o){"string"==typeof o&&(Th=o.toLowerCase().replace(/_/g,"-"))}(Le.get(r1,xp)||xp);const hr=Le.get(Ju);return void 0!==c&&hr.bootstrap(c),hr})})})}catch(c){return Promise.reject(c)}}const aC=new $i("");function hC(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function pC(o,c=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?c:Number(o)}function UM(o,c){dl("NgSignals");const g=function C(o){const c=Object.create(p);c.computation=o;const g=()=>{if(L(c),A(c),c.value===m)throw c.error;return c.value};return g[w]=c,g}(o);return c?.equal&&(g[w].equal=c.equal),g}function JR(o){const c=O(null);try{return o()}finally{O(c)}}const gC=new $i("",{providedIn:"root",factory:()=>Cr(aO)});let aO=(()=>{class o{static#e=this.\u0275prov=To({token:o,providedIn:"root",factory:()=>new vC})}return o})();class vC{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Cr(nm),this.taskId=null}scheduleEffect(c){if(this.enqueue(c),null===this.taskId){const g=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(g),this.taskId=null})}}enqueue(c){const g=c.creationZone;this.queues.has(g)||this.queues.set(g,new Set);const I=this.queues.get(g);I.has(c)||(this.queuedEffectCount++,I.add(c))}flush(){for(;this.queuedEffectCount>0;)for(const[c,g]of this.queues)null===c?this.flushQueue(g):c.run(()=>this.flushQueue(g))}flushQueue(c){for(const g of c)c.delete(g),this.queuedEffectCount--,g.run()}}class LM{constructor(c,g,I,V,ue,Se){this.scheduler=c,this.effectFn=g,this.creationZone=I,this.injector=ue,this.watcher=function Ee(o,c,g){const I=Object.create(Fe);g&&(I.consumerAllowSignalWrites=!0),I.fn=o,I.schedule=c;const V=nt=>{I.cleanupFn=nt};return I.ref={notify:()=>q(I),run:()=>{if(null===I.fn)return;if(function B(){return P}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(I.dirty=!1,I.hasRun&&!se(I))return;I.hasRun=!0;const nt=Z(I);try{I.cleanupFn(),I.cleanupFn=_e,I.fn(V)}finally{J(I,nt)}},cleanup:()=>I.cleanupFn(),destroy:()=>function Se(nt){(function ue(nt){return null===nt.fn&&null===nt.schedule})(nt)||(ce(nt),nt.cleanupFn(),nt.fn=null,nt.schedule=null,nt.cleanupFn=_e)}(I),[w]:I},I.ref}(Le=>this.runEffect(Le),()=>this.schedule(),Se),this.unregisterOnDestroy=V?.onDestroy(()=>this.destroy())}runEffect(c){try{this.effectFn(c)}catch(g){this.injector.get(ou,null,{optional:!0})?.handleError(g)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function bC(o,c){dl("NgSignals"),!c?.injector&&tg();const g=c?.injector??Cr(Qc),I=!0!==c?.manualCleanup?g.get(v0):null,V=new LM(g.get(gC),o,typeof Zone>"u"?null:Zone.current,I,g,c?.allowSignalWrites??!1),ue=g.get(hM,null,{optional:!0});return ue&&8&ue._lView[Li]?(ue._lView[ub]??=[]).push(V.watcher.notify):V.watcher.notify(),V}function cO(o,c){const g=Pt(o),I=c.elementInjector||db();return new Fw(g).create(I,c.projectableNodes,c.hostElement,c.environmentInjector)}function dO(o){const c=Pt(o);if(!c)return null;const g=new Fw(c);return{get selector(){return g.selector},get type(){return g.componentType},get inputs(){return g.inputs},get outputs(){return g.outputs},get ngContentSelectors(){return g.ngContentSelectors},get isStandalone(){return c.standalone},get isSignal(){return c.signals}}}},89417:(We,j,_)=>{"use strict";_.d(j,{BC:()=>le,JD:()=>Wc,MJ:()=>vi,X1:()=>Ls,YN:()=>ac,cV:()=>go,cb:()=>Ae,cz:()=>J,j4:()=>oc,k0:()=>ae,kq:()=>N,l_:()=>ic,me:()=>ee,ok:()=>Qn,qT:()=>as,tU:()=>Ca,v8:()=>Ia,vO:()=>ge,vS:()=>vs,xq:()=>wa});var y=_(93953),b=_(60177),P=_(86648),H=_(27468),w=_(21413),O=_(96354);let S=(()=>{class Rt{constructor(gt,an){this._renderer=gt,this._elementRef=an,this.onChange=Rn=>{},this.onTouched=()=>{}}setProperty(gt,an){this._renderer.setProperty(this._elementRef.nativeElement,gt,an)}registerOnTouched(gt){this.onTouched=gt}registerOnChange(gt){this.onChange=gt}setDisabledState(gt){this.setProperty("disabled",gt)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(y.sFG),y.rXU(y.aKT))};static#t=this.\u0275dir=y.FsC({type:Rt})}return Rt})(),B=(()=>{class Rt extends S{static#e=this.\u0275fac=(()=>{let gt;return function(Rn){return(gt||(gt=y.xGo(Rt)))(Rn||Rt)}})();static#t=this.\u0275dir=y.FsC({type:Rt,features:[y.Vt3]})}return Rt})();const N=new y.nKC(""),G={provide:N,useExisting:(0,y.Rfq)(()=>ee),multi:!0},z=new y.nKC("");let ee=(()=>{class Rt extends S{constructor(gt,an,Rn){super(gt,an),this._compositionMode=Rn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function L(){const Rt=(0,b.QT)()?(0,b.QT)().getUserAgent():"";return/android (\d+)/.test(Rt.toLowerCase())}())}writeValue(gt){this.setProperty("value",gt??"")}_handleInput(gt){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(gt)}_compositionStart(){this._composing=!0}_compositionEnd(gt){this._composing=!1,this._compositionMode&&this.onChange(gt)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(y.sFG),y.rXU(y.aKT),y.rXU(z,8))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(an,Rn){1&an&&y.bIt("input",function(ho){return Rn._handleInput(ho.target.value)})("blur",function(){return Rn.onTouched()})("compositionstart",function(){return Rn._compositionStart()})("compositionend",function(ho){return Rn._compositionEnd(ho.target.value)})},features:[y.Jv_([G]),y.Vt3]})}return Rt})();function q(Rt){return null==Rt||("string"==typeof Rt||Array.isArray(Rt))&&0===Rt.length}function Z(Rt){return null!=Rt&&"number"==typeof Rt.length}const J=new y.nKC(""),se=new y.nKC(""),ce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(Ot){return function fe(Rt){return Ot=>{if(q(Ot.value)||q(Rt))return null;const gt=parseFloat(Ot.value);return!isNaN(gt)&&gt<Rt?{min:{min:Rt,actual:Ot.value}}:null}}(Ot)}static max(Ot){return function he(Rt){return Ot=>{if(q(Ot.value)||q(Rt))return null;const gt=parseFloat(Ot.value);return!isNaN(gt)&&gt>Rt?{max:{max:Rt,actual:Ot.value}}:null}}(Ot)}static required(Ot){return we(Ot)}static requiredTrue(Ot){return Me(Ot)}static email(Ot){return function Pe(Rt){return q(Rt.value)||ce.test(Rt.value)?null:{email:!0}}(Ot)}static minLength(Ot){return function C(Rt){return Ot=>q(Ot.value)||!Z(Ot.value)?null:Ot.value.length<Rt?{minlength:{requiredLength:Rt,actualLength:Ot.value.length}}:null}(Ot)}static maxLength(Ot){return a(Ot)}static pattern(Ot){return function d(Rt){if(!Rt)return m;let Ot,gt;return"string"==typeof Rt?(gt="","^"!==Rt.charAt(0)&&(gt+="^"),gt+=Rt,"$"!==Rt.charAt(Rt.length-1)&&(gt+="$"),Ot=new RegExp(gt)):(gt=Rt.toString(),Ot=Rt),an=>{if(q(an.value))return null;const Rn=an.value;return Ot.test(Rn)?null:{pattern:{requiredPattern:gt,actualValue:Rn}}}}(Ot)}static nullValidator(Ot){return null}static compose(Ot){return v(Ot)}static composeAsync(Ot){return F(Ot)}}function we(Rt){return q(Rt.value)?{required:!0}:null}function Me(Rt){return!0===Rt.value?null:{required:!0}}function a(Rt){return Ot=>Z(Ot.value)&&Ot.value.length>Rt?{maxlength:{requiredLength:Rt,actualLength:Ot.value.length}}:null}function m(Rt){return null}function p(Rt){return null!=Rt}function E(Rt){return(0,y.jNT)(Rt)?(0,P.H)(Rt):Rt}function D(Rt){let Ot={};return Rt.forEach(gt=>{Ot=null!=gt?{...Ot,...gt}:Ot}),0===Object.keys(Ot).length?null:Ot}function R(Rt,Ot){return Ot.map(gt=>gt(Rt))}function s(Rt){return Rt.map(Ot=>function x(Rt){return!Rt.validate}(Ot)?Ot:gt=>Ot.validate(gt))}function v(Rt){if(!Rt)return null;const Ot=Rt.filter(p);return 0==Ot.length?null:function(gt){return D(R(gt,Ot))}}function $(Rt){return null!=Rt?v(s(Rt)):null}function F(Rt){if(!Rt)return null;const Ot=Rt.filter(p);return 0==Ot.length?null:function(gt){const an=R(gt,Ot).map(E);return(0,H.p)(an).pipe((0,O.T)(D))}}function Q(Rt){return null!=Rt?F(s(Rt)):null}function de(Rt,Ot){return null===Rt?[Ot]:Array.isArray(Rt)?[...Rt,Ot]:[Rt,Ot]}function De(Rt){return Rt._rawValidators}function Re(Rt){return Rt._rawAsyncValidators}function Ve(Rt){return Rt?Array.isArray(Rt)?Rt:[Rt]:[]}function Ee(Rt,Ot){return Array.isArray(Rt)?Rt.includes(Ot):Rt===Ot}function _e(Rt,Ot){const gt=Ve(Ot);return Ve(Rt).forEach(Rn=>{Ee(gt,Rn)||gt.push(Rn)}),gt}function Fe(Rt,Ot){return Ve(Ot).filter(gt=>!Ee(Rt,gt))}class ve{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ot){this._rawValidators=Ot||[],this._composedValidatorFn=$(this._rawValidators)}_setAsyncValidators(Ot){this._rawAsyncValidators=Ot||[],this._composedAsyncValidatorFn=Q(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ot){this._onDestroyCallbacks.push(Ot)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ot=>Ot()),this._onDestroyCallbacks=[]}reset(Ot=void 0){this.control&&this.control.reset(Ot)}hasError(Ot,gt){return!!this.control&&this.control.hasError(Ot,gt)}getError(Ot,gt){return this.control?this.control.getError(Ot,gt):null}}class Te extends ve{get formDirective(){return null}get path(){return null}}class ge extends ve{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class me{constructor(Ot){this._cd=Ot}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let le=(()=>{class Rt extends me{constructor(gt){super(gt)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(ge,2))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(an,Rn){2&an&&y.AVh("ng-untouched",Rn.isUntouched)("ng-touched",Rn.isTouched)("ng-pristine",Rn.isPristine)("ng-dirty",Rn.isDirty)("ng-valid",Rn.isValid)("ng-invalid",Rn.isInvalid)("ng-pending",Rn.isPending)},features:[y.Vt3]})}return Rt})(),Ae=(()=>{class Rt extends me{constructor(gt){super(gt)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(Te,10))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(an,Rn){2&an&&y.AVh("ng-untouched",Rn.isUntouched)("ng-touched",Rn.isTouched)("ng-pristine",Rn.isPristine)("ng-dirty",Rn.isDirty)("ng-valid",Rn.isValid)("ng-invalid",Rn.isInvalid)("ng-pending",Rn.isPending)("ng-submitted",Rn.isSubmitted)},features:[y.Vt3]})}return Rt})();const rn="VALID",gn="INVALID",ln="PENDING",ar="DISABLED";class Cn{}class cn extends Cn{constructor(Ot,gt){super(),this.value=Ot,this.source=gt}}class Zt extends Cn{constructor(Ot,gt){super(),this.pristine=Ot,this.source=gt}}class vt extends Cn{constructor(Ot,gt){super(),this.touched=Ot,this.source=gt}}class ut extends Cn{constructor(Ot,gt){super(),this.status=Ot,this.source=gt}}class Gt extends Cn{constructor(Ot){super(),this.source=Ot}}class nn extends Cn{constructor(Ot){super(),this.source=Ot}}function pn(Rt){return(Et(Rt)?Rt.validators:Rt)||null}function yt(Rt,Ot){return(Et(Ot)?Ot.asyncValidators:Rt)||null}function Et(Rt){return null!=Rt&&!Array.isArray(Rt)&&"object"==typeof Rt}function Ye(Rt,Ot,gt){const an=Rt.controls;if(!(Ot?Object.keys(an):an).length)throw new y.wOt(1e3,"");if(!an[gt])throw new y.wOt(1001,"")}function et(Rt,Ot,gt){Rt._forEachChild((an,Rn)=>{if(void 0===gt[Rn])throw new y.wOt(1002,"")})}class Wt{constructor(Ot,gt){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new w.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(Ot),this._assignAsyncValidators(gt)}get validator(){return this._composedValidatorFn}set validator(Ot){this._rawValidators=this._composedValidatorFn=Ot}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ot){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ot}get parent(){return this._parent}get valid(){return this.status===rn}get invalid(){return this.status===gn}get pending(){return this.status==ln}get disabled(){return this.status===ar}get enabled(){return this.status!==ar}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ot){this._assignValidators(Ot)}setAsyncValidators(Ot){this._assignAsyncValidators(Ot)}addValidators(Ot){this.setValidators(_e(Ot,this._rawValidators))}addAsyncValidators(Ot){this.setAsyncValidators(_e(Ot,this._rawAsyncValidators))}removeValidators(Ot){this.setValidators(Fe(Ot,this._rawValidators))}removeAsyncValidators(Ot){this.setAsyncValidators(Fe(Ot,this._rawAsyncValidators))}hasValidator(Ot){return Ee(this._rawValidators,Ot)}hasAsyncValidator(Ot){return Ee(this._rawAsyncValidators,Ot)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ot={}){const gt=!1===this.touched;this.touched=!0;const an=Ot.sourceControl??this;this._parent&&!Ot.onlySelf&&this._parent.markAsTouched({...Ot,sourceControl:an}),gt&&!1!==Ot.emitEvent&&this._events.next(new vt(!0,an))}markAllAsTouched(Ot={}){this.markAsTouched({onlySelf:!0,emitEvent:Ot.emitEvent,sourceControl:this}),this._forEachChild(gt=>gt.markAllAsTouched(Ot))}markAsUntouched(Ot={}){const gt=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const an=Ot.sourceControl??this;this._forEachChild(Rn=>{Rn.markAsUntouched({onlySelf:!0,emitEvent:Ot.emitEvent,sourceControl:an})}),this._parent&&!Ot.onlySelf&&this._parent._updateTouched(Ot,an),gt&&!1!==Ot.emitEvent&&this._events.next(new vt(!1,an))}markAsDirty(Ot={}){const gt=!0===this.pristine;this.pristine=!1;const an=Ot.sourceControl??this;this._parent&&!Ot.onlySelf&&this._parent.markAsDirty({...Ot,sourceControl:an}),gt&&!1!==Ot.emitEvent&&this._events.next(new Zt(!1,an))}markAsPristine(Ot={}){const gt=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const an=Ot.sourceControl??this;this._forEachChild(Rn=>{Rn.markAsPristine({onlySelf:!0,emitEvent:Ot.emitEvent})}),this._parent&&!Ot.onlySelf&&this._parent._updatePristine(Ot,an),gt&&!1!==Ot.emitEvent&&this._events.next(new Zt(!0,an))}markAsPending(Ot={}){this.status=ln;const gt=Ot.sourceControl??this;!1!==Ot.emitEvent&&(this._events.next(new ut(this.status,gt)),this.statusChanges.emit(this.status)),this._parent&&!Ot.onlySelf&&this._parent.markAsPending({...Ot,sourceControl:gt})}disable(Ot={}){const gt=this._parentMarkedDirty(Ot.onlySelf);this.status=ar,this.errors=null,this._forEachChild(Rn=>{Rn.disable({...Ot,onlySelf:!0})}),this._updateValue();const an=Ot.sourceControl??this;!1!==Ot.emitEvent&&(this._events.next(new cn(this.value,an)),this._events.next(new ut(this.status,an)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ot,skipPristineCheck:gt},this),this._onDisabledChange.forEach(Rn=>Rn(!0))}enable(Ot={}){const gt=this._parentMarkedDirty(Ot.onlySelf);this.status=rn,this._forEachChild(an=>{an.enable({...Ot,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ot.emitEvent}),this._updateAncestors({...Ot,skipPristineCheck:gt},this),this._onDisabledChange.forEach(an=>an(!1))}_updateAncestors(Ot,gt){this._parent&&!Ot.onlySelf&&(this._parent.updateValueAndValidity(Ot),Ot.skipPristineCheck||this._parent._updatePristine({},gt),this._parent._updateTouched({},gt))}setParent(Ot){this._parent=Ot}getRawValue(){return this.value}updateValueAndValidity(Ot={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const an=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rn||this.status===ln)&&this._runAsyncValidator(an,Ot.emitEvent)}const gt=Ot.sourceControl??this;!1!==Ot.emitEvent&&(this._events.next(new cn(this.value,gt)),this._events.next(new ut(this.status,gt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ot.onlySelf&&this._parent.updateValueAndValidity({...Ot,sourceControl:gt})}_updateTreeValidity(Ot={emitEvent:!0}){this._forEachChild(gt=>gt._updateTreeValidity(Ot)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ot.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ar:rn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ot,gt){if(this.asyncValidator){this.status=ln,this._hasOwnPendingAsyncValidator={emitEvent:!1!==gt};const an=E(this.asyncValidator(this));this._asyncValidationSubscription=an.subscribe(Rn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Rn,{emitEvent:gt,shouldHaveEmitted:Ot})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const Ot=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,Ot}return!1}setErrors(Ot,gt={}){this.errors=Ot,this._updateControlsErrors(!1!==gt.emitEvent,this,gt.shouldHaveEmitted)}get(Ot){let gt=Ot;return null==gt||(Array.isArray(gt)||(gt=gt.split(".")),0===gt.length)?null:gt.reduce((an,Rn)=>an&&an._find(Rn),this)}getError(Ot,gt){const an=gt?this.get(gt):this;return an&&an.errors?an.errors[Ot]:null}hasError(Ot,gt){return!!this.getError(Ot,gt)}get root(){let Ot=this;for(;Ot._parent;)Ot=Ot._parent;return Ot}_updateControlsErrors(Ot,gt,an){this.status=this._calculateStatus(),Ot&&this.statusChanges.emit(this.status),(Ot||an)&&this._events.next(new ut(this.status,gt)),this._parent&&this._parent._updateControlsErrors(Ot,gt,an)}_initObservables(){this.valueChanges=new y.bkB,this.statusChanges=new y.bkB}_calculateStatus(){return this._allControlsDisabled()?ar:this.errors?gn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ln)?ln:this._anyControlsHaveStatus(gn)?gn:rn}_anyControlsHaveStatus(Ot){return this._anyControls(gt=>gt.status===Ot)}_anyControlsDirty(){return this._anyControls(Ot=>Ot.dirty)}_anyControlsTouched(){return this._anyControls(Ot=>Ot.touched)}_updatePristine(Ot,gt){const an=!this._anyControlsDirty(),Rn=this.pristine!==an;this.pristine=an,this._parent&&!Ot.onlySelf&&this._parent._updatePristine(Ot,gt),Rn&&this._events.next(new Zt(this.pristine,gt))}_updateTouched(Ot={},gt){this.touched=this._anyControlsTouched(),this._events.next(new vt(this.touched,gt)),this._parent&&!Ot.onlySelf&&this._parent._updateTouched(Ot,gt)}_registerOnCollectionChange(Ot){this._onCollectionChange=Ot}_setUpdateStrategy(Ot){Et(Ot)&&null!=Ot.updateOn&&(this._updateOn=Ot.updateOn)}_parentMarkedDirty(Ot){return!Ot&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ot){return null}_assignValidators(Ot){this._rawValidators=Array.isArray(Ot)?Ot.slice():Ot,this._composedValidatorFn=function fr(Rt){return Array.isArray(Rt)?$(Rt):Rt||null}(this._rawValidators)}_assignAsyncValidators(Ot){this._rawAsyncValidators=Array.isArray(Ot)?Ot.slice():Ot,this._composedAsyncValidatorFn=function wt(Rt){return Array.isArray(Rt)?Q(Rt):Rt||null}(this._rawAsyncValidators)}}class Ft extends Wt{constructor(Ot,gt,an){super(pn(gt),yt(an,gt)),this.controls=Ot,this._initObservables(),this._setUpdateStrategy(gt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ot,gt){return this.controls[Ot]?this.controls[Ot]:(this.controls[Ot]=gt,gt.setParent(this),gt._registerOnCollectionChange(this._onCollectionChange),gt)}addControl(Ot,gt,an={}){this.registerControl(Ot,gt),this.updateValueAndValidity({emitEvent:an.emitEvent}),this._onCollectionChange()}removeControl(Ot,gt={}){this.controls[Ot]&&this.controls[Ot]._registerOnCollectionChange(()=>{}),delete this.controls[Ot],this.updateValueAndValidity({emitEvent:gt.emitEvent}),this._onCollectionChange()}setControl(Ot,gt,an={}){this.controls[Ot]&&this.controls[Ot]._registerOnCollectionChange(()=>{}),delete this.controls[Ot],gt&&this.registerControl(Ot,gt),this.updateValueAndValidity({emitEvent:an.emitEvent}),this._onCollectionChange()}contains(Ot){return this.controls.hasOwnProperty(Ot)&&this.controls[Ot].enabled}setValue(Ot,gt={}){et(this,0,Ot),Object.keys(Ot).forEach(an=>{Ye(this,!0,an),this.controls[an].setValue(Ot[an],{onlySelf:!0,emitEvent:gt.emitEvent})}),this.updateValueAndValidity(gt)}patchValue(Ot,gt={}){null!=Ot&&(Object.keys(Ot).forEach(an=>{const Rn=this.controls[an];Rn&&Rn.patchValue(Ot[an],{onlySelf:!0,emitEvent:gt.emitEvent})}),this.updateValueAndValidity(gt))}reset(Ot={},gt={}){this._forEachChild((an,Rn)=>{an.reset(Ot?Ot[Rn]:null,{onlySelf:!0,emitEvent:gt.emitEvent})}),this._updatePristine(gt,this),this._updateTouched(gt,this),this.updateValueAndValidity(gt)}getRawValue(){return this._reduceChildren({},(Ot,gt,an)=>(Ot[an]=gt.getRawValue(),Ot))}_syncPendingControls(){let Ot=this._reduceChildren(!1,(gt,an)=>!!an._syncPendingControls()||gt);return Ot&&this.updateValueAndValidity({onlySelf:!0}),Ot}_forEachChild(Ot){Object.keys(this.controls).forEach(gt=>{const an=this.controls[gt];an&&Ot(an,gt)})}_setUpControls(){this._forEachChild(Ot=>{Ot.setParent(this),Ot._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ot){for(const[gt,an]of Object.entries(this.controls))if(this.contains(gt)&&Ot(an))return!0;return!1}_reduceValue(){return this._reduceChildren({},(gt,an,Rn)=>((an.enabled||this.disabled)&&(gt[Rn]=an.value),gt))}_reduceChildren(Ot,gt){let an=Ot;return this._forEachChild((Rn,Jr)=>{an=gt(an,Rn,Jr)}),an}_allControlsDisabled(){for(const Ot of Object.keys(this.controls))if(this.controls[Ot].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ot){return this.controls.hasOwnProperty(Ot)?this.controls[Ot]:null}}class Mn extends Ft{}const or=new y.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Nn}),Nn="always";function Ln(Rt,Ot){return[...Ot.path,Rt]}function at(Rt,Ot,gt=Nn){En(Rt,Ot),Ot.valueAccessor.writeValue(Rt.value),(Rt.disabled||"always"===gt)&&Ot.valueAccessor.setDisabledState?.(Rt.disabled),function er(Rt,Ot){Ot.valueAccessor.registerOnChange(gt=>{Rt._pendingValue=gt,Rt._pendingChange=!0,Rt._pendingDirty=!0,"change"===Rt.updateOn&&Lr(Rt,Ot)})}(Rt,Ot),function Pr(Rt,Ot){const gt=(an,Rn)=>{Ot.valueAccessor.writeValue(an),Rn&&Ot.viewToModelUpdate(an)};Rt.registerOnChange(gt),Ot._registerOnDestroy(()=>{Rt._unregisterOnChange(gt)})}(Rt,Ot),function mr(Rt,Ot){Ot.valueAccessor.registerOnTouched(()=>{Rt._pendingTouched=!0,"blur"===Rt.updateOn&&Rt._pendingChange&&Lr(Rt,Ot),"submit"!==Rt.updateOn&&Rt.markAsTouched()})}(Rt,Ot),function Yt(Rt,Ot){if(Ot.valueAccessor.setDisabledState){const gt=an=>{Ot.valueAccessor.setDisabledState(an)};Rt.registerOnDisabledChange(gt),Ot._registerOnDestroy(()=>{Rt._unregisterOnDisabledChange(gt)})}}(Rt,Ot)}function He(Rt,Ot,gt=!0){const an=()=>{};Ot.valueAccessor&&(Ot.valueAccessor.registerOnChange(an),Ot.valueAccessor.registerOnTouched(an)),zn(Rt,Ot),Rt&&(Ot._invokeOnDestroyCallbacks(),Rt._registerOnCollectionChange(()=>{}))}function ct(Rt,Ot){Rt.forEach(gt=>{gt.registerOnValidatorChange&&gt.registerOnValidatorChange(Ot)})}function En(Rt,Ot){const gt=De(Rt);null!==Ot.validator?Rt.setValidators(de(gt,Ot.validator)):"function"==typeof gt&&Rt.setValidators([gt]);const an=Re(Rt);null!==Ot.asyncValidator?Rt.setAsyncValidators(de(an,Ot.asyncValidator)):"function"==typeof an&&Rt.setAsyncValidators([an]);const Rn=()=>Rt.updateValueAndValidity();ct(Ot._rawValidators,Rn),ct(Ot._rawAsyncValidators,Rn)}function zn(Rt,Ot){let gt=!1;if(null!==Rt){if(null!==Ot.validator){const Rn=De(Rt);if(Array.isArray(Rn)&&Rn.length>0){const Jr=Rn.filter(ho=>ho!==Ot.validator);Jr.length!==Rn.length&&(gt=!0,Rt.setValidators(Jr))}}if(null!==Ot.asyncValidator){const Rn=Re(Rt);if(Array.isArray(Rn)&&Rn.length>0){const Jr=Rn.filter(ho=>ho!==Ot.asyncValidator);Jr.length!==Rn.length&&(gt=!0,Rt.setAsyncValidators(Jr))}}}const an=()=>{};return ct(Ot._rawValidators,an),ct(Ot._rawAsyncValidators,an),gt}function Lr(Rt,Ot){Rt._pendingDirty&&Rt.markAsDirty(),Rt.setValue(Rt._pendingValue,{emitModelToViewChange:!1}),Ot.viewToModelUpdate(Rt._pendingValue),Rt._pendingChange=!1}function Kr(Rt,Ot){En(Rt,Ot)}function Gn(Rt,Ot){if(!Rt.hasOwnProperty("model"))return!1;const gt=Rt.model;return!!gt.isFirstChange()||!Object.is(Ot,gt.currentValue)}function Mr(Rt,Ot){Rt._syncPendingControls(),Ot.forEach(gt=>{const an=gt.control;"submit"===an.updateOn&&an._pendingChange&&(gt.viewToModelUpdate(an._pendingValue),an._pendingChange=!1)})}function $r(Rt,Ot){if(!Ot)return null;let gt,an,Rn;return Array.isArray(Ot),Ot.forEach(Jr=>{Jr.constructor===ee?gt=Jr:function _r(Rt){return Object.getPrototypeOf(Rt.constructor)===B}(Jr)?an=Jr:Rn=Jr}),Rn||an||gt||null}const Mo={provide:Te,useExisting:(0,y.Rfq)(()=>go)},li=Promise.resolve();let go=(()=>{class Rt extends Te{constructor(gt,an,Rn){super(),this.callSetDisabledState=Rn,this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.bkB,this.form=new Ft({},$(gt),Q(an))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(gt){li.then(()=>{const an=this._findContainer(gt.path);gt.control=an.registerControl(gt.name,gt.control),at(gt.control,gt,this.callSetDisabledState),gt.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(gt)})}getControl(gt){return this.form.get(gt.path)}removeControl(gt){li.then(()=>{const an=this._findContainer(gt.path);an&&an.removeControl(gt.name),this._directives.delete(gt)})}addFormGroup(gt){li.then(()=>{const an=this._findContainer(gt.path),Rn=new Ft({});Kr(Rn,gt),an.registerControl(gt.name,Rn),Rn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(gt){li.then(()=>{const an=this._findContainer(gt.path);an&&an.removeControl(gt.name)})}getFormGroup(gt){return this.form.get(gt.path)}updateModel(gt,an){li.then(()=>{this.form.get(gt.path).setValue(an)})}setValue(gt){this.control.setValue(gt)}onSubmit(gt){return this.submitted=!0,Mr(this.form,this._directives),this.ngSubmit.emit(gt),"dialog"===gt?.target?.method}onReset(){this.resetForm()}resetForm(gt=void 0){this.form.reset(gt),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(gt){return gt.pop(),gt.length?this.form.get(gt):this.form}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(J,10),y.rXU(se,10),y.rXU(or,8))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(an,Rn){1&an&&y.bIt("submit",function(ho){return Rn.onSubmit(ho)})("reset",function(){return Rn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y.Jv_([Mo]),y.Vt3]})}return Rt})();function wo(Rt,Ot){const gt=Rt.indexOf(Ot);gt>-1&&Rt.splice(gt,1)}function Ro(Rt){return"object"==typeof Rt&&null!==Rt&&2===Object.keys(Rt).length&&"value"in Rt&&"disabled"in Rt}const vi=class extends Wt{constructor(Ot=null,gt,an){super(pn(gt),yt(an,gt)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ot),this._setUpdateStrategy(gt),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Et(gt)&&(gt.nonNullable||gt.initialValueIsDefault)&&(this.defaultValue=Ro(Ot)?Ot.value:Ot)}setValue(Ot,gt={}){this.value=this._pendingValue=Ot,this._onChange.length&&!1!==gt.emitModelToViewChange&&this._onChange.forEach(an=>an(this.value,!1!==gt.emitViewToModelChange)),this.updateValueAndValidity(gt)}patchValue(Ot,gt={}){this.setValue(Ot,gt)}reset(Ot=this.defaultValue,gt={}){this._applyFormState(Ot),this.markAsPristine(gt),this.markAsUntouched(gt),this.setValue(this.value,gt),this._pendingChange=!1}_updateValue(){}_anyControls(Ot){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ot){this._onChange.push(Ot)}_unregisterOnChange(Ot){wo(this._onChange,Ot)}registerOnDisabledChange(Ot){this._onDisabledChange.push(Ot)}_unregisterOnDisabledChange(Ot){wo(this._onDisabledChange,Ot)}_forEachChild(Ot){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ot){Ro(Ot)?(this.value=this._pendingValue=Ot.value,Ot.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ot}};let za=(()=>{class Rt extends Te{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Ln(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let gt;return function(Rn){return(gt||(gt=y.xGo(Rt)))(Rn||Rt)}})();static#t=this.\u0275dir=y.FsC({type:Rt,features:[y.Vt3]})}return Rt})();const Gr={provide:ge,useExisting:(0,y.Rfq)(()=>vs)},ri=Promise.resolve();let vs=(()=>{class Rt extends ge{constructor(gt,an,Rn,Jr,ho,To){super(),this._changeDetectorRef=ho,this.callSetDisabledState=To,this.control=new vi,this._registered=!1,this.name="",this.update=new y.bkB,this._parent=gt,this._setValidators(an),this._setAsyncValidators(Rn),this.valueAccessor=$r(0,Jr)}ngOnChanges(gt){if(this._checkForErrors(),!this._registered||"name"in gt){if(this._registered&&(this._checkName(),this.formDirective)){const an=gt.name.previousValue;this.formDirective.removeControl({name:an,path:this._getPath(an)})}this._setUpControl()}"isDisabled"in gt&&this._updateDisabled(gt),Gn(gt,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(gt){this.viewModel=gt,this.update.emit(gt)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){at(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(gt){ri.then(()=>{this.control.setValue(gt,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(gt){const an=gt.isDisabled.currentValue,Rn=0!==an&&(0,y.L39)(an);ri.then(()=>{Rn&&!this.control.disabled?this.control.disable():!Rn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(gt){return this._parent?Ln(gt,this._parent):[gt]}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(Te,9),y.rXU(J,10),y.rXU(se,10),y.rXU(N,10),y.rXU(y.gRc,8),y.rXU(or,8))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y.Jv_([Gr]),y.Vt3,y.OA$]})}return Rt})(),as=(()=>{class Rt{static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return Rt})();const ba=new y.nKC(""),Hc={provide:ge,useExisting:(0,y.Rfq)(()=>ic)};let ic=(()=>{class Rt extends ge{set isDisabled(gt){}static#e=this._ngModelWarningSentOnce=!1;constructor(gt,an,Rn,Jr,ho){super(),this._ngModelWarningConfig=Jr,this.callSetDisabledState=ho,this.update=new y.bkB,this._ngModelWarningSent=!1,this._setValidators(gt),this._setAsyncValidators(an),this.valueAccessor=$r(0,Rn)}ngOnChanges(gt){if(this._isControlChanged(gt)){const an=gt.form.previousValue;an&&He(an,this,!1),at(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Gn(gt,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&He(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(gt){this.viewModel=gt,this.update.emit(gt)}_isControlChanged(gt){return gt.hasOwnProperty("form")}static#t=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(J,10),y.rXU(se,10),y.rXU(N,10),y.rXU(ba,8),y.rXU(or,8))};static#n=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[y.Jv_([Hc]),y.Vt3,y.OA$]})}return Rt})();const aa={provide:Te,useExisting:(0,y.Rfq)(()=>oc)};let oc=(()=>{class Rt extends Te{constructor(gt,an,Rn){super(),this.callSetDisabledState=Rn,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.bkB,this._setValidators(gt),this._setAsyncValidators(an)}ngOnChanges(gt){this._checkFormPresent(),gt.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(gt){const an=this.form.get(gt.path);return at(an,gt,this.callSetDisabledState),an.updateValueAndValidity({emitEvent:!1}),this.directives.push(gt),an}getControl(gt){return this.form.get(gt.path)}removeControl(gt){He(gt.control||null,gt,!1),function jr(Rt,Ot){const gt=Rt.indexOf(Ot);gt>-1&&Rt.splice(gt,1)}(this.directives,gt)}addFormGroup(gt){this._setUpFormContainer(gt)}removeFormGroup(gt){this._cleanUpFormContainer(gt)}getFormGroup(gt){return this.form.get(gt.path)}addFormArray(gt){this._setUpFormContainer(gt)}removeFormArray(gt){this._cleanUpFormContainer(gt)}getFormArray(gt){return this.form.get(gt.path)}updateModel(gt,an){this.form.get(gt.path).setValue(an)}onSubmit(gt){return this.submitted=!0,Mr(this.form,this.directives),this.ngSubmit.emit(gt),this.form._events.next(new Gt(this.control)),"dialog"===gt?.target?.method}onReset(){this.resetForm()}resetForm(gt=void 0){this.form.reset(gt),this.submitted=!1,this.form._events.next(new nn(this.form))}_updateDomValue(){this.directives.forEach(gt=>{const an=gt.control,Rn=this.form.get(gt.path);an!==Rn&&(He(an||null,gt),(Rt=>Rt instanceof vi)(Rn)&&(at(Rn,gt,this.callSetDisabledState),gt.control=Rn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(gt){const an=this.form.get(gt.path);Kr(an,gt),an.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(gt){if(this.form){const an=this.form.get(gt.path);an&&function Fr(Rt,Ot){return zn(Rt,Ot)}(an,gt)&&an.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){En(this.form,this),this._oldForm&&zn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(J,10),y.rXU(se,10),y.rXU(or,8))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formGroup",""]],hostBindings:function(an,Rn){1&an&&y.bIt("submit",function(ho){return Rn.onSubmit(ho)})("reset",function(){return Rn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y.Jv_([aa]),y.Vt3,y.OA$]})}return Rt})();const Ji={provide:Te,useExisting:(0,y.Rfq)(()=>ca)};let ca=(()=>{class Rt extends za{constructor(gt,an,Rn){super(),this.name=null,this._parent=gt,this._setValidators(an),this._setAsyncValidators(Rn)}_checkParentType(){Ko(this._parent)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(Te,13),y.rXU(J,10),y.rXU(se,10))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[y.Jv_([Ji]),y.Vt3]})}return Rt})();const Uc={provide:Te,useExisting:(0,y.Rfq)(()=>Ia)};let Ia=(()=>{class Rt extends Te{constructor(gt,an,Rn){super(),this.name=null,this._parent=gt,this._setValidators(an),this._setAsyncValidators(Rn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Ln(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ko(this._parent)}static#e=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(Te,13),y.rXU(J,10),y.rXU(se,10))};static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[y.Jv_([Uc]),y.Vt3]})}return Rt})();function Ko(Rt){return!(Rt instanceof ca||Rt instanceof oc||Rt instanceof Ia)}const Ld={provide:ge,useExisting:(0,y.Rfq)(()=>Wc)};let Wc=(()=>{class Rt extends ge{set isDisabled(gt){}static#e=this._ngModelWarningSentOnce=!1;constructor(gt,an,Rn,Jr,ho){super(),this._ngModelWarningConfig=ho,this._added=!1,this.name=null,this.update=new y.bkB,this._ngModelWarningSent=!1,this._parent=gt,this._setValidators(an),this._setAsyncValidators(Rn),this.valueAccessor=$r(0,Jr)}ngOnChanges(gt){this._added||this._setUpControl(),Gn(gt,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(gt){this.viewModel=gt,this.update.emit(gt)}get path(){return Ln(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(an){return new(an||Rt)(y.rXU(Te,13),y.rXU(J,10),y.rXU(se,10),y.rXU(N,10),y.rXU(ba,8))};static#n=this.\u0275dir=y.FsC({type:Rt,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[y.Jv_([Ld]),y.Vt3,y.OA$]})}return Rt})();let zs=(()=>{class Rt{constructor(){this._validator=m}ngOnChanges(gt){if(this.inputName in gt){const an=this.normalizeInput(gt[this.inputName].currentValue);this._enabled=this.enabled(an),this._validator=this._enabled?this.createValidator(an):m,this._onChange&&this._onChange()}}validate(gt){return this._validator(gt)}registerOnValidatorChange(gt){this._onChange=gt}enabled(gt){return null!=gt}static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275dir=y.FsC({type:Rt,features:[y.OA$]})}return Rt})();const Hs={provide:J,useExisting:(0,y.Rfq)(()=>ud),multi:!0},no={provide:J,useExisting:(0,y.Rfq)(()=>wa),multi:!0};let ud=(()=>{class Rt extends zs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=y.L39,this.createValidator=gt=>we}enabled(gt){return gt}static#e=this.\u0275fac=(()=>{let gt;return function(Rn){return(gt||(gt=y.xGo(Rt)))(Rn||Rt)}})();static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(an,Rn){2&an&&y.BMQ("required",Rn._enabled?"":null)},inputs:{required:"required"},features:[y.Jv_([Hs]),y.Vt3]})}return Rt})(),wa=(()=>{class Rt extends ud{constructor(){super(...arguments),this.createValidator=gt=>Me}static#e=this.\u0275fac=(()=>{let gt;return function(Rn){return(gt||(gt=y.xGo(Rt)))(Rn||Rt)}})();static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(an,Rn){2&an&&y.BMQ("required",Rn._enabled?"":null)},features:[y.Jv_([no]),y.Vt3]})}return Rt})();const _a={provide:J,useExisting:(0,y.Rfq)(()=>Ca),multi:!0};let Ca=(()=>{class Rt extends zs{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=gt=>function co(Rt){return"number"==typeof Rt?Rt:parseInt(Rt,10)}(gt),this.createValidator=gt=>a(gt)}static#e=this.\u0275fac=(()=>{let gt;return function(Rn){return(gt||(gt=y.xGo(Rt)))(Rn||Rt)}})();static#t=this.\u0275dir=y.FsC({type:Rt,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(an,Rn){2&an&&y.BMQ("maxlength",Rn._enabled?Rn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[y.Jv_([_a]),y.Vt3]})}return Rt})(),yn=(()=>{class Rt{static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275mod=y.$C({type:Rt});static#n=this.\u0275inj=y.G2t({})}return Rt})();class On extends Wt{constructor(Ot,gt,an){super(pn(gt),yt(an,gt)),this.controls=Ot,this._initObservables(),this._setUpdateStrategy(gt),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ot){return this.controls[this._adjustIndex(Ot)]}push(Ot,gt={}){this.controls.push(Ot),this._registerControl(Ot),this.updateValueAndValidity({emitEvent:gt.emitEvent}),this._onCollectionChange()}insert(Ot,gt,an={}){this.controls.splice(Ot,0,gt),this._registerControl(gt),this.updateValueAndValidity({emitEvent:an.emitEvent})}removeAt(Ot,gt={}){let an=this._adjustIndex(Ot);an<0&&(an=0),this.controls[an]&&this.controls[an]._registerOnCollectionChange(()=>{}),this.controls.splice(an,1),this.updateValueAndValidity({emitEvent:gt.emitEvent})}setControl(Ot,gt,an={}){let Rn=this._adjustIndex(Ot);Rn<0&&(Rn=0),this.controls[Rn]&&this.controls[Rn]._registerOnCollectionChange(()=>{}),this.controls.splice(Rn,1),gt&&(this.controls.splice(Rn,0,gt),this._registerControl(gt)),this.updateValueAndValidity({emitEvent:an.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ot,gt={}){et(this,0,Ot),Ot.forEach((an,Rn)=>{Ye(this,!1,Rn),this.at(Rn).setValue(an,{onlySelf:!0,emitEvent:gt.emitEvent})}),this.updateValueAndValidity(gt)}patchValue(Ot,gt={}){null!=Ot&&(Ot.forEach((an,Rn)=>{this.at(Rn)&&this.at(Rn).patchValue(an,{onlySelf:!0,emitEvent:gt.emitEvent})}),this.updateValueAndValidity(gt))}reset(Ot=[],gt={}){this._forEachChild((an,Rn)=>{an.reset(Ot[Rn],{onlySelf:!0,emitEvent:gt.emitEvent})}),this._updatePristine(gt,this),this._updateTouched(gt,this),this.updateValueAndValidity(gt)}getRawValue(){return this.controls.map(Ot=>Ot.getRawValue())}clear(Ot={}){this.controls.length<1||(this._forEachChild(gt=>gt._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ot.emitEvent}))}_adjustIndex(Ot){return Ot<0?Ot+this.length:Ot}_syncPendingControls(){let Ot=this.controls.reduce((gt,an)=>!!an._syncPendingControls()||gt,!1);return Ot&&this.updateValueAndValidity({onlySelf:!0}),Ot}_forEachChild(Ot){this.controls.forEach((gt,an)=>{Ot(gt,an)})}_updateValue(){this.value=this.controls.filter(Ot=>Ot.enabled||this.disabled).map(Ot=>Ot.value)}_anyControls(Ot){return this.controls.some(gt=>gt.enabled&&Ot(gt))}_setUpControls(){this._forEachChild(Ot=>this._registerControl(Ot))}_allControlsDisabled(){for(const Ot of this.controls)if(Ot.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ot){Ot.setParent(this),Ot._registerOnCollectionChange(this._onCollectionChange)}_find(Ot){return this.at(Ot)??null}}function Sr(Rt){return!!Rt&&(void 0!==Rt.asyncValidators||void 0!==Rt.validators||void 0!==Rt.updateOn)}let Qn=(()=>{class Rt{constructor(){this.useNonNullable=!1}get nonNullable(){const gt=new Rt;return gt.useNonNullable=!0,gt}group(gt,an=null){const Rn=this._reduceControls(gt);let Jr={};return Sr(an)?Jr=an:null!==an&&(Jr.validators=an.validator,Jr.asyncValidators=an.asyncValidator),new Ft(Rn,Jr)}record(gt,an=null){const Rn=this._reduceControls(gt);return new Mn(Rn,an)}control(gt,an,Rn){let Jr={};return this.useNonNullable?(Sr(an)?Jr=an:(Jr.validators=an,Jr.asyncValidators=Rn),new vi(gt,{...Jr,nonNullable:!0})):new vi(gt,an,Rn)}array(gt,an,Rn){const Jr=gt.map(ho=>this._createControl(ho));return new On(Jr,an,Rn)}_reduceControls(gt){const an={};return Object.keys(gt).forEach(Rn=>{an[Rn]=this._createControl(gt[Rn])}),an}_createControl(gt){return gt instanceof vi||gt instanceof Wt?gt:Array.isArray(gt)?this.control(gt[0],gt.length>1?gt[1]:null,gt.length>2?gt[2]:null):this.control(gt)}static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275prov=y.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})(),ac=(()=>{class Rt{static withConfig(gt){return{ngModule:Rt,providers:[{provide:or,useValue:gt.callSetDisabledState??Nn}]}}static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275mod=y.$C({type:Rt});static#n=this.\u0275inj=y.G2t({imports:[yn]})}return Rt})(),Ls=(()=>{class Rt{static withConfig(gt){return{ngModule:Rt,providers:[{provide:ba,useValue:gt.warnOnNgModelWithFormControl??"always"},{provide:or,useValue:gt.callSetDisabledState??Nn}]}}static#e=this.\u0275fac=function(an){return new(an||Rt)};static#t=this.\u0275mod=y.$C({type:Rt});static#n=this.\u0275inj=y.G2t({imports:[yn]})}return Rt})()},94073:()=>{"use strict";const We=":";Error;const de=function(Ve,...Ee){if(de.translate){const Fe=de.translate(Ve,Ee);Ve=Fe[0],Ee=Fe[1]}let _e=Re(Ve[0],Ve.raw[0]);for(let Fe=1;Fe<Ve.length;Fe++)_e+=Ee[Fe-1]+Re(Ve[Fe],Ve.raw[Fe]);return _e},De=":";function Re(Ve,Ee){return Ee.charAt(0)===De?Ve.substring(function m(Ve,Ee){for(let _e=1,Fe=1;_e<Ve.length;_e++,Fe++)if("\\"===Ee[Fe])Fe++;else if(Ve[_e]===We)return _e;throw new Error(`Unterminated $localize metadata block in "${Ee}".`)}(Ve,Ee)+1):Ve}globalThis.$localize=de},88834:(We,j,_)=>{"use strict";_.d(j,{$z:()=>fe,Hl:()=>D,It:()=>he,iY:()=>p,pQ:()=>E});var y=_(36860),b=_(93953),P=_(18617),H=_(86600);const w=["mat-button",""],O=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],S=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],N=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",L=["mat-icon-button",""],z=["*"],q=new b.nKC("MAT_BUTTON_CONFIG"),J=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let se=(()=>{class R{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(s){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,s)}get disableRipple(){return this._disableRipple}set disableRipple(s){this._disableRipple=s,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(s){this._disabled=s,this._updateRippleDisabled()}constructor(s,v,$,F){this._elementRef=s,this._platform=v,this._ngZone=$,this._animationMode=F,this._focusMonitor=(0,b.WQX)(P.FN),this._rippleLoader=(0,b.WQX)(H.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const Q=(0,b.WQX)(q,{optional:!0}),de=s.nativeElement,De=de.classList;this.disabledInteractive=Q?.disabledInteractive??!1,this._rippleLoader?.configureRipple(de,{className:"mat-mdc-button-ripple"});for(const{attribute:Re,mdcClasses:Ve}of J)de.hasAttribute(Re)&&De.add(...Ve)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(s="program",v){s?this._focusMonitor.focusVia(this._elementRef.nativeElement,s,v):this._elementRef.nativeElement.focus(v)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(v){b.QTQ()};static#t=this.\u0275dir=b.FsC({type:R,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",b.L39],disabled:[2,"disabled","disabled",b.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",b.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",b.L39]},features:[b.GFd]})}return R})(),ae=(()=>{class R extends se{constructor(s,v,$,F){super(s,v,$,F),this._haltDisabledEvents=Q=>{this.disabled&&(Q.preventDefault(),Q.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(v){b.QTQ()};static#t=this.\u0275dir=b.FsC({type:R,inputs:{tabIndex:[2,"tabIndex","tabIndex",s=>null==s?void 0:(0,b.Udg)(s)]},features:[b.GFd,b.Vt3]})}return R})(),fe=(()=>{class R extends se{constructor(s,v,$,F){super(s,v,$,F)}static#e=this.\u0275fac=function(v){return new(v||R)(b.rXU(b.aKT),b.rXU(y.OD),b.rXU(b.SKi),b.rXU(b.bc$,8))};static#t=this.\u0275cmp=b.VBU({type:R,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(v,$){2&v&&(b.BMQ("disabled",$._getDisabledAttribute())("aria-disabled",$._getAriaDisabled()),b.HbH($.color?"mat-"+$.color:""),b.AVh("mat-mdc-button-disabled",$.disabled)("mat-mdc-button-disabled-interactive",$.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===$._animationMode)("mat-unthemed",!$.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[b.Vt3,b.aNF],attrs:w,ngContentSelectors:S,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,$){1&v&&(b.NAR(O),b.nrm(0,"span",0),b.SdG(1),b.j41(2,"span",1),b.SdG(3,1),b.k0s(),b.SdG(4,2),b.nrm(5,"span",2)(6,"span",3)),2&v&&b.AVh("mdc-button__ripple",!$._isFab)("mdc-fab__ripple",$._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return R})(),he=(()=>{class R extends ae{constructor(s,v,$,F){super(s,v,$,F)}static#e=this.\u0275fac=function(v){return new(v||R)(b.rXU(b.aKT),b.rXU(y.OD),b.rXU(b.SKi),b.rXU(b.bc$,8))};static#t=this.\u0275cmp=b.VBU({type:R,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(v,$){2&v&&(b.BMQ("disabled",$._getDisabledAttribute())("tabindex",$.disabled&&!$.disabledInteractive?-1:$.tabIndex)("aria-disabled",$._getDisabledAttribute()),b.HbH($.color?"mat-"+$.color:""),b.AVh("mat-mdc-button-disabled",$.disabled)("mat-mdc-button-disabled-interactive",$.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===$._animationMode)("mat-unthemed",!$.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[b.Vt3,b.aNF],attrs:w,ngContentSelectors:S,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,$){1&v&&(b.NAR(O),b.nrm(0,"span",0),b.SdG(1),b.j41(2,"span",1),b.SdG(3,1),b.k0s(),b.SdG(4,2),b.nrm(5,"span",2)(6,"span",3)),2&v&&b.AVh("mdc-button__ripple",!$._isFab)("mdc-fab__ripple",$._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',N],encapsulation:2,changeDetection:0})}return R})(),p=(()=>{class R extends se{constructor(s,v,$,F){super(s,v,$,F),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(v){return new(v||R)(b.rXU(b.aKT),b.rXU(y.OD),b.rXU(b.SKi),b.rXU(b.bc$,8))};static#t=this.\u0275cmp=b.VBU({type:R,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(v,$){2&v&&(b.BMQ("disabled",$._getDisabledAttribute())("aria-disabled",$._getAriaDisabled()),b.HbH($.color?"mat-"+$.color:""),b.AVh("mat-mdc-button-disabled",$.disabled)("mat-mdc-button-disabled-interactive",$.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===$._animationMode)("mat-unthemed",!$.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[b.Vt3,b.aNF],attrs:L,ngContentSelectors:z,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,$){1&v&&(b.NAR(),b.nrm(0,"span",0),b.SdG(1),b.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',N],encapsulation:2,changeDetection:0})}return R})(),E=(()=>{class R extends ae{constructor(s,v,$,F){super(s,v,$,F)}static#e=this.\u0275fac=function(v){return new(v||R)(b.rXU(b.aKT),b.rXU(y.OD),b.rXU(b.SKi),b.rXU(b.bc$,8))};static#t=this.\u0275cmp=b.VBU({type:R,selectors:[["a","mat-icon-button",""]],hostVars:15,hostBindings:function(v,$){2&v&&(b.BMQ("disabled",$._getDisabledAttribute())("tabindex",$.disabled&&!$.disabledInteractive?-1:$.tabIndex)("aria-disabled",$._getDisabledAttribute()),b.HbH($.color?"mat-"+$.color:""),b.AVh("mat-mdc-button-disabled",$.disabled)("mat-mdc-button-disabled-interactive",$.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===$._animationMode)("mat-unthemed",!$.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[b.Vt3,b.aNF],attrs:L,ngContentSelectors:z,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(v,$){1&v&&(b.NAR(),b.nrm(0,"span",0),b.SdG(1),b.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',N],encapsulation:2,changeDetection:0})}return R})(),D=(()=>{class R{static#e=this.\u0275fac=function(v){return new(v||R)};static#t=this.\u0275mod=b.$C({type:R});static#n=this.\u0275inj=b.G2t({imports:[H.yE,H.pZ,H.yE]})}return R})()},25596:(We,j,_)=>{"use strict";_.d(j,{Hu:()=>Me,Lc:()=>z,MM:()=>q,RN:()=>U,WQ:()=>Z,YY:()=>ee,dh:()=>A,kF:()=>J,m2:()=>L});var y=_(93953),b=_(60177),P=_(86600);const H=["*"],S=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],B=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],N=new y.nKC("MAT_CARD_CONFIG");let U=(()=>{class Pe{constructor(a){this.appearance=a?.appearance||"raised"}static#e=this.\u0275fac=function(d){return new(d||Pe)(y.rXU(N,8))};static#t=this.\u0275cmp=y.VBU({type:Pe,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(d,m){2&d&&y.AVh("mat-mdc-card-outlined","outlined"===m.appearance)("mdc-card--outlined","outlined"===m.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[y.aNF],ngContentSelectors:H,decls:1,vars:0,template:function(d,m){1&d&&(y.NAR(),y.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return Pe})(),A=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return Pe})(),L=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return Pe})(),z=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return Pe})(),ee=(()=>{class Pe{constructor(){this.align="start"}static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(d,m){2&d&&y.AVh("mat-mdc-card-actions-align-end","end"===m.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return Pe})(),q=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275cmp=y.VBU({type:Pe,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[y.aNF],ngContentSelectors:B,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(d,m){1&d&&(y.NAR(S),y.SdG(0),y.j41(1,"div",0),y.SdG(2,1),y.k0s(),y.SdG(3,2))},encapsulation:2,changeDetection:0})}return Pe})(),Z=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return Pe})(),J=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275dir=y.FsC({type:Pe,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}return Pe})(),Me=(()=>{class Pe{static#e=this.\u0275fac=function(d){return new(d||Pe)};static#t=this.\u0275mod=y.$C({type:Pe});static#n=this.\u0275inj=y.G2t({imports:[P.yE,b.MD,P.yE]})}return Pe})()},86600:(We,j,_)=>{"use strict";_.d(j,{r5:()=>ae,ed:()=>fe,es:()=>ve,QC:()=>en,is:()=>Ne,$E:()=>T,yE:()=>Me,Np:()=>te,wT:()=>gn,Sy:()=>Cn,wg:()=>pe,O5:()=>ke,r6:()=>M,Ej:()=>pn,pZ:()=>Y,ug:()=>mt,X0:()=>D,tO:()=>fr,jb:()=>ln,TL:()=>ar});var y=_(93953),b=_(18617),P=_(28203),w=_(60177),O=_(36860),S=_(14085),B=_(21413),N=_(67336);const G=["text"],L=[[["mat-icon"]],"*"],z=["mat-icon","*"];function ee(yt,wt){if(1&yt&&y.nrm(0,"mat-pseudo-checkbox",1),2&yt){const Et=y.XpG();y.Y8G("disabled",Et.disabled)("state",Et.selected?"checked":"unchecked")}}function q(yt,wt){if(1&yt&&y.nrm(0,"mat-pseudo-checkbox",3),2&yt){const Et=y.XpG();y.Y8G("disabled",Et.disabled)}}function Z(yt,wt){if(1&yt&&(y.j41(0,"span",4),y.EFF(1),y.k0s()),2&yt){const Et=y.XpG();y.R7$(),y.SpI("(",Et.group.label,")")}}const J=["mat-internal-form-field",""],se=["*"];let ae=(()=>{class yt{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#f=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return yt})(),fe=(()=>{class yt{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return yt})();const we=new y.nKC("mat-sanity-checks",{providedIn:"root",factory:function he(){return!0}});let Me=(()=>{class yt{constructor(Et,Ye,et){this._sanityChecks=Ye,this._document=et,this._hasDoneGlobalChecks=!1,Et._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Et){return!(0,O.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Et])}static#e=this.\u0275fac=function(Ye){return new(Ye||yt)(y.KVO(b.Q_),y.KVO(we,8),y.KVO(w.qQ))};static#t=this.\u0275mod=y.$C({type:yt});static#n=this.\u0275inj=y.G2t({imports:[P.jI,P.jI]})}return yt})();class D{constructor(wt,Et,Ye,et,Wt){this._defaultMatcher=wt,this.ngControl=Et,this._parentFormGroup=Ye,this._parentForm=et,this._stateChanges=Wt,this.errorState=!1}updateErrorState(){const wt=this.errorState,Et=this._parentFormGroup||this._parentForm,Ye=this.matcher||this._defaultMatcher,et=this.ngControl?this.ngControl.control:null,Wt=Ye?.isErrorState(et,Et)??!1;Wt!==wt&&(this.errorState=Wt,this._stateChanges.next())}}let ve=(()=>{class yt{isErrorState(Et,Ye){return!!(Et&&Et.invalid&&(Et.touched||Ye&&Ye.submitted))}static#e=this.\u0275fac=function(Ye){return new(Ye||yt)};static#t=this.\u0275prov=y.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),te=(()=>{class yt{static#e=this.\u0275fac=function(Ye){return new(Ye||yt)};static#t=this.\u0275mod=y.$C({type:yt});static#n=this.\u0275inj=y.G2t({imports:[Me,Me]})}return yt})();var ne=function(yt){return yt[yt.FADING_IN=0]="FADING_IN",yt[yt.VISIBLE=1]="VISIBLE",yt[yt.FADING_OUT=2]="FADING_OUT",yt[yt.HIDDEN=3]="HIDDEN",yt}(ne||{});class le{constructor(wt,Et,Ye,et=!1){this._renderer=wt,this.element=Et,this.config=Ye,this._animationForciblyDisabledThroughCss=et,this.state=ne.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ae=(0,O.BQ)({passive:!0,capture:!0});class Be{constructor(){this._events=new Map,this._delegateEventHandler=wt=>{const Et=(0,O.Fb)(wt);Et&&this._events.get(wt.type)?.forEach((Ye,et)=>{(et===Et||et.contains(Et))&&Ye.forEach(Wt=>Wt.handleEvent(wt))})}}addHandler(wt,Et,Ye,et){const Wt=this._events.get(Et);if(Wt){const Ft=Wt.get(Ye);Ft?Ft.add(et):Wt.set(Ye,new Set([et]))}else this._events.set(Et,new Map([[Ye,new Set([et])]])),wt.runOutsideAngular(()=>{document.addEventListener(Et,this._delegateEventHandler,Ae)})}removeHandler(wt,Et,Ye){const et=this._events.get(wt);if(!et)return;const Wt=et.get(Et);Wt&&(Wt.delete(Ye),0===Wt.size&&et.delete(Et),0===et.size&&(this._events.delete(wt),document.removeEventListener(wt,this._delegateEventHandler,Ae)))}}const qe={enterDuration:225,exitDuration:150},Dt=(0,O.BQ)({passive:!0,capture:!0}),Xe=["mousedown","touchstart"],Ue=["mouseup","mouseleave","touchend","touchcancel"];class mt{static#e=this._eventManager=new Be;constructor(wt,Et,Ye,et){this._target=wt,this._ngZone=Et,this._platform=et,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,et.isBrowser&&(this._containerElement=(0,S.i8)(Ye))}fadeInRipple(wt,Et,Ye={}){const et=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Wt={...qe,...Ye.animation};Ye.centered&&(wt=et.left+et.width/2,Et=et.top+et.height/2);const Ft=Ye.radius||function K(yt,wt,Et){const Ye=Math.max(Math.abs(yt-Et.left),Math.abs(yt-Et.right)),et=Math.max(Math.abs(wt-Et.top),Math.abs(wt-Et.bottom));return Math.sqrt(Ye*Ye+et*et)}(wt,Et,et),mn=wt-et.left,Vn=Et-et.top,bn=Wt.enterDuration,Mn=document.createElement("div");Mn.classList.add("mat-ripple-element"),Mn.style.left=mn-Ft+"px",Mn.style.top=Vn-Ft+"px",Mn.style.height=2*Ft+"px",Mn.style.width=2*Ft+"px",null!=Ye.color&&(Mn.style.backgroundColor=Ye.color),Mn.style.transitionDuration=`${bn}ms`,this._containerElement.appendChild(Mn);const br=window.getComputedStyle(Mn),Nn=br.transitionDuration,Ln="none"===br.transitionProperty||"0s"===Nn||"0s, 0s"===Nn||0===et.width&&0===et.height,at=new le(this,Mn,Ye,Ln);Mn.style.transform="scale3d(1, 1, 1)",at.state=ne.FADING_IN,Ye.persistent||(this._mostRecentTransientRipple=at);let He=null;return!Ln&&(bn||Wt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ct=()=>{He&&(He.fallbackTimer=null),clearTimeout(En),this._finishRippleTransition(at)},Yt=()=>this._destroyRipple(at),En=setTimeout(Yt,bn+100);Mn.addEventListener("transitionend",ct),Mn.addEventListener("transitioncancel",Yt),He={onTransitionEnd:ct,onTransitionCancel:Yt,fallbackTimer:En}}),this._activeRipples.set(at,He),(Ln||!bn)&&this._finishRippleTransition(at),at}fadeOutRipple(wt){if(wt.state===ne.FADING_OUT||wt.state===ne.HIDDEN)return;const Et=wt.element,Ye={...qe,...wt.config.animation};Et.style.transitionDuration=`${Ye.exitDuration}ms`,Et.style.opacity="0",wt.state=ne.FADING_OUT,(wt._animationForciblyDisabledThroughCss||!Ye.exitDuration)&&this._finishRippleTransition(wt)}fadeOutAll(){this._getActiveRipples().forEach(wt=>wt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(wt=>{wt.config.persistent||wt.fadeOut()})}setupTriggerEvents(wt){const Et=(0,S.i8)(wt);!this._platform.isBrowser||!Et||Et===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Et,Xe.forEach(Ye=>{mt._eventManager.addHandler(this._ngZone,Ye,Et,this)}))}handleEvent(wt){"mousedown"===wt.type?this._onMousedown(wt):"touchstart"===wt.type?this._onTouchStart(wt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Ue.forEach(Et=>{this._triggerElement.addEventListener(Et,this,Dt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(wt){wt.state===ne.FADING_IN?this._startFadeOutTransition(wt):wt.state===ne.FADING_OUT&&this._destroyRipple(wt)}_startFadeOutTransition(wt){const Et=wt===this._mostRecentTransientRipple,{persistent:Ye}=wt.config;wt.state=ne.VISIBLE,!Ye&&(!Et||!this._isPointerDown)&&wt.fadeOut()}_destroyRipple(wt){const Et=this._activeRipples.get(wt)??null;this._activeRipples.delete(wt),this._activeRipples.size||(this._containerRect=null),wt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),wt.state=ne.HIDDEN,null!==Et&&(wt.element.removeEventListener("transitionend",Et.onTransitionEnd),wt.element.removeEventListener("transitioncancel",Et.onTransitionCancel),null!==Et.fallbackTimer&&clearTimeout(Et.fallbackTimer)),wt.element.remove()}_onMousedown(wt){const Et=(0,b._G)(wt),Ye=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Et&&!Ye&&(this._isPointerDown=!0,this.fadeInRipple(wt.clientX,wt.clientY,this._target.rippleConfig))}_onTouchStart(wt){if(!this._target.rippleDisabled&&!(0,b.w6)(wt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Et=wt.changedTouches;if(Et)for(let Ye=0;Ye<Et.length;Ye++)this.fadeInRipple(Et[Ye].clientX,Et[Ye].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(wt=>{!wt.config.persistent&&(wt.state===ne.VISIBLE||wt.config.terminateOnPointerUp&&wt.state===ne.FADING_IN)&&wt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const wt=this._triggerElement;wt&&(Xe.forEach(Et=>mt._eventManager.removeHandler(Et,wt,this)),this._pointerUpEventsRegistered&&(Ue.forEach(Et=>wt.removeEventListener(Et,this,Dt)),this._pointerUpEventsRegistered=!1))}}const T=new y.nKC("mat-ripple-global-options");let M=(()=>{class yt{get disabled(){return this._disabled}set disabled(Et){Et&&this.fadeOutAllNonPersistent(),this._disabled=Et,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Et){this._trigger=Et,this._setupTriggerEventsIfEnabled()}constructor(Et,Ye,et,Wt,Ft){this._elementRef=Et,this._animationMode=Ft,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Wt||{},this._rippleRenderer=new mt(this,Ye,Et,et)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Et,Ye=0,et){return"number"==typeof Et?this._rippleRenderer.fadeInRipple(Et,Ye,{...this.rippleConfig,...et}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Et})}static#e=this.\u0275fac=function(Ye){return new(Ye||yt)(y.rXU(y.aKT),y.rXU(y.SKi),y.rXU(O.OD),y.rXU(T,8),y.rXU(y.bc$,8))};static#t=this.\u0275dir=y.FsC({type:yt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Ye,et){2&Ye&&y.AVh("mat-ripple-unbounded",et.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return yt})(),Y=(()=>{class yt{static#e=this.\u0275fac=function(Ye){return new(Ye||yt)};static#t=this.\u0275mod=y.$C({type:yt});static#n=this.\u0275inj=y.G2t({imports:[Me,Me]})}return yt})(),pe=(()=>{class yt{constructor(Et){this._animationMode=Et,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(Ye){return new(Ye||yt)(y.rXU(y.bc$,8))};static#t=this.\u0275cmp=y.VBU({type:yt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(Ye,et){2&Ye&&y.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===et.state)("mat-pseudo-checkbox-checked","checked"===et.state)("mat-pseudo-checkbox-disabled",et.disabled)("mat-pseudo-checkbox-minimal","minimal"===et.appearance)("mat-pseudo-checkbox-full","full"===et.appearance)("_mat-animation-noopable","NoopAnimations"===et._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[y.aNF],decls:0,vars:0,template:function(Ye,et){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return yt})(),ke=(()=>{class yt{static#e=this.\u0275fac=function(Ye){return new(Ye||yt)};static#t=this.\u0275mod=y.$C({type:yt});static#n=this.\u0275inj=y.G2t({imports:[Me]})}return yt})();const Ne=new y.nKC("MAT_OPTION_PARENT_COMPONENT"),en=new y.nKC("MatOptgroup");let Kt=0;class rn{constructor(wt,Et=!1){this.source=wt,this.isUserInput=Et}}let gn=(()=>{class yt{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(Et){this._disabled=Et}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(Et,Ye,et,Wt){this._element=Et,this._changeDetectorRef=Ye,this._parent=et,this.group=Wt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Kt++,this.onSelectionChange=new y.bkB,this._stateChanges=new B.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(Et=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),Et&&this._emitSelectionChangeEvent())}deselect(Et=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),Et&&this._emitSelectionChangeEvent())}focus(Et,Ye){const et=this._getHostElement();"function"==typeof et.focus&&et.focus(Ye)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(Et){(Et.keyCode===N.Fm||Et.keyCode===N.t6)&&!(0,N.rp)(Et)&&(this._selectViaInteraction(),Et.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const Et=this.viewValue;Et!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=Et)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(Et=!1){this.onSelectionChange.emit(new rn(this,Et))}static#e=this.\u0275fac=function(Ye){return new(Ye||yt)(y.rXU(y.aKT),y.rXU(y.gRc),y.rXU(Ne,8),y.rXU(en,8))};static#t=this.\u0275cmp=y.VBU({type:yt,selectors:[["mat-option"]],viewQuery:function(Ye,et){if(1&Ye&&y.GBs(G,7),2&Ye){let Wt;y.mGM(Wt=y.lsd())&&(et._text=Wt.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(Ye,et){1&Ye&&y.bIt("click",function(){return et._selectViaInteraction()})("keydown",function(Ft){return et._handleKeydown(Ft)}),2&Ye&&(y.Mr5("id",et.id),y.BMQ("aria-selected",et.selected)("aria-disabled",et.disabled.toString()),y.AVh("mdc-list-item--selected",et.selected)("mat-mdc-option-multiple",et.multiple)("mat-mdc-option-active",et.active)("mdc-list-item--disabled",et.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",y.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[y.GFd,y.aNF],ngContentSelectors:z,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(Ye,et){1&Ye&&(y.NAR(L),y.DNE(0,ee,1,2,"mat-pseudo-checkbox",1),y.SdG(1),y.j41(2,"span",2,0),y.SdG(4,1),y.k0s(),y.DNE(5,q,1,1,"mat-pseudo-checkbox",3)(6,Z,2,1,"span",4),y.nrm(7,"div",5)),2&Ye&&(y.vxM(et.multiple?0:-1),y.R7$(5),y.vxM(et.multiple||!et.selected||et.hideSingleSelectionIndicator?-1:5),y.R7$(),y.vxM(et.group&&et.group._inert?6:-1),y.R7$(),y.Y8G("matRippleTrigger",et._getHostElement())("matRippleDisabled",et.disabled||et.disableRipple))},dependencies:[pe,M],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return yt})();function ln(yt,wt,Et){if(Et.length){let Ye=wt.toArray(),et=Et.toArray(),Wt=0;for(let Ft=0;Ft<yt+1;Ft++)Ye[Ft].group&&Ye[Ft].group===et[Wt]&&Wt++;return Wt}return 0}function ar(yt,wt,Et,Ye){return yt<Et?yt:yt+wt>Et+Ye?Math.max(0,yt-Ye+wt):Et}let Cn=(()=>{class yt{static#e=this.\u0275fac=function(Ye){return new(Ye||yt)};static#t=this.\u0275mod=y.$C({type:yt});static#n=this.\u0275inj=y.G2t({imports:[Y,Me,ke]})}return yt})();const cn={capture:!0},Zt=["focus","mousedown","mouseenter","touchstart"],vt="mat-ripple-loader-uninitialized",ut="mat-ripple-loader-class-name",Gt="mat-ripple-loader-centered",nn="mat-ripple-loader-disabled";let pn=(()=>{class yt{constructor(){this._document=(0,y.WQX)(w.qQ,{optional:!0}),this._animationMode=(0,y.WQX)(y.bc$,{optional:!0}),this._globalRippleOptions=(0,y.WQX)(T,{optional:!0}),this._platform=(0,y.WQX)(O.OD),this._ngZone=(0,y.WQX)(y.SKi),this._hosts=new Map,this._onInteraction=Et=>{const Ye=(0,O.Fb)(Et);if(Ye instanceof HTMLElement){const et=Ye.closest(`[${vt}="${this._globalRippleOptions?.namespace??""}"]`);et&&this._createRipple(et)}},this._ngZone.runOutsideAngular(()=>{for(const Et of Zt)this._document?.addEventListener(Et,this._onInteraction,cn)})}ngOnDestroy(){const Et=this._hosts.keys();for(const Ye of Et)this.destroyRipple(Ye);for(const Ye of Zt)this._document?.removeEventListener(Ye,this._onInteraction,cn)}configureRipple(Et,Ye){Et.setAttribute(vt,this._globalRippleOptions?.namespace??""),(Ye.className||!Et.hasAttribute(ut))&&Et.setAttribute(ut,Ye.className||""),Ye.centered&&Et.setAttribute(Gt,""),Ye.disabled&&Et.setAttribute(nn,"")}getRipple(Et){return this._hosts.get(Et)||this._createRipple(Et)}setDisabled(Et,Ye){const et=this._hosts.get(Et);et?et.disabled=Ye:Ye?Et.setAttribute(nn,""):Et.removeAttribute(nn)}_createRipple(Et){if(!this._document)return;const Ye=this._hosts.get(Et);if(Ye)return Ye;Et.querySelector(".mat-ripple")?.remove();const et=this._document.createElement("span");et.classList.add("mat-ripple",Et.getAttribute(ut)),Et.append(et);const Wt=new M(new y.aKT(et),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Wt._isInitialized=!0,Wt.trigger=Et,Wt.centered=Et.hasAttribute(Gt),Wt.disabled=Et.hasAttribute(nn),this.attachRipple(Et,Wt),Wt}attachRipple(Et,Ye){Et.removeAttribute(vt),this._hosts.set(Et,Ye)}destroyRipple(Et){const Ye=this._hosts.get(Et);Ye&&(Ye.ngOnDestroy(),this._hosts.delete(Et))}static#e=this.\u0275fac=function(Ye){return new(Ye||yt)};static#t=this.\u0275prov=y.jDH({token:yt,factory:yt.\u0275fac,providedIn:"root"})}return yt})(),fr=(()=>{class yt{static#e=this.\u0275fac=function(Ye){return new(Ye||yt)};static#t=this.\u0275cmp=y.VBU({type:yt,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(Ye,et){2&Ye&&y.AVh("mdc-form-field--align-end","before"===et.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[y.aNF],attrs:J,ngContentSelectors:se,decls:1,vars:0,template:function(Ye,et){1&Ye&&(y.NAR(),y.SdG(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}return yt})()},71997:(We,j,_)=>{"use strict";_.d(j,{q:()=>H,w:()=>w});var y=_(93953),b=_(14085),P=_(86600);let H=(()=>{class O{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(B){this._vertical=(0,b.he)(B)}get inset(){return this._inset}set inset(B){this._inset=(0,b.he)(B)}static#e=this.\u0275fac=function(N){return new(N||O)};static#t=this.\u0275cmp=y.VBU({type:O,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(N,U){2&N&&(y.BMQ("aria-orientation",U.vertical?"vertical":"horizontal"),y.AVh("mat-divider-vertical",U.vertical)("mat-divider-horizontal",!U.vertical)("mat-divider-inset",U.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[y.aNF],decls:0,vars:0,template:function(N,U){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return O})(),w=(()=>{class O{static#e=this.\u0275fac=function(N){return new(N||O)};static#t=this.\u0275mod=y.$C({type:O});static#n=this.\u0275inj=y.G2t({imports:[P.yE,P.yE]})}return O})()},53719:(We,j,_)=>{"use strict";_.d(j,{MV:()=>Ve,RG:()=>Ne,TL:()=>De,U$:()=>mt,nJ:()=>F,qT:()=>qe,rl:()=>ke,xb:()=>Ue,yw:()=>ve});var y=_(93953),b=_(28203),P=_(14085),H=_(36860),w=_(60177),O=_(18359),S=_(21413),B=_(57786),N=_(56977),U=_(98170),A=_(49969),G=_(72318),L=_(86600);const z=["notch"],ee=["matFormFieldNotchedOutline",""],q=["*"],Z=["textField"],J=["iconPrefixContainer"],se=["textPrefixContainer"],ce=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ae=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function fe(lt,en){1&lt&&y.nrm(0,"span",19)}function he(lt,en){if(1&lt&&(y.j41(0,"label",18),y.SdG(1,1),y.DNE(2,fe,1,0,"span",19),y.k0s()),2&lt){const It=y.XpG(2);y.Y8G("floating",It._shouldLabelFloat())("monitorResize",It._hasOutline())("id",It._labelId),y.BMQ("for",It._control.disableAutomaticLabeling?null:It._control.id),y.R7$(2),y.vxM(!It.hideRequiredMarker&&It._control.required?2:-1)}}function we(lt,en){if(1&lt&&y.DNE(0,he,3,5,"label",18),2&lt){const It=y.XpG();y.vxM(It._hasFloatingLabel()?0:-1)}}function Me(lt,en){1&lt&&y.nrm(0,"div",5)}function Pe(lt,en){}function C(lt,en){if(1&lt&&y.DNE(0,Pe,0,0,"ng-template",11),2&lt){y.XpG(2);const It=y.sdS(1);y.Y8G("ngTemplateOutlet",It)}}function a(lt,en){if(1&lt&&(y.j41(0,"div",7),y.DNE(1,C,1,1,null,11),y.k0s()),2&lt){const It=y.XpG();y.Y8G("matFormFieldNotchedOutlineOpen",It._shouldLabelFloat()),y.R7$(),y.vxM(It._forceDisplayInfixLabel()?-1:1)}}function d(lt,en){1&lt&&(y.j41(0,"div",8,2),y.SdG(2,2),y.k0s())}function m(lt,en){1&lt&&(y.j41(0,"div",9,3),y.SdG(2,3),y.k0s())}function p(lt,en){}function E(lt,en){if(1&lt&&y.DNE(0,p,0,0,"ng-template",11),2&lt){y.XpG();const It=y.sdS(1);y.Y8G("ngTemplateOutlet",It)}}function D(lt,en){1&lt&&(y.j41(0,"div",12),y.SdG(1,4),y.k0s())}function R(lt,en){1&lt&&(y.j41(0,"div",13),y.SdG(1,5),y.k0s())}function x(lt,en){1&lt&&y.nrm(0,"div",14)}function s(lt,en){if(1&lt&&(y.j41(0,"div",16),y.SdG(1,6),y.k0s()),2&lt){const It=y.XpG();y.Y8G("@transitionMessages",It._subscriptAnimationState)}}function v(lt,en){if(1&lt&&(y.j41(0,"mat-hint",20),y.EFF(1),y.k0s()),2&lt){const It=y.XpG(2);y.Y8G("id",It._hintLabelId),y.R7$(),y.JRh(It.hintLabel)}}function $(lt,en){if(1&lt&&(y.j41(0,"div",17),y.DNE(1,v,2,2,"mat-hint",20),y.SdG(2,7),y.nrm(3,"div",21),y.SdG(4,8),y.k0s()),2&lt){const It=y.XpG();y.Y8G("@transitionMessages",It._subscriptAnimationState),y.R7$(),y.vxM(It.hintLabel?1:-1)}}let F=(()=>{class lt{static#e=this.\u0275fac=function(Kt){return new(Kt||lt)};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["mat-label"]],standalone:!0})}return lt})(),Q=0;const de=new y.nKC("MatError");let De=(()=>{class lt{constructor(It,Kt){this.id="mat-mdc-error-"+Q++,It||Kt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)(y.kS0("aria-live"),y.rXU(y.aKT))};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(Kt,rn){2&Kt&&y.Mr5("id",rn.id)},inputs:{id:"id"},standalone:!0,features:[y.Jv_([{provide:de,useExisting:lt}])]})}return lt})(),Re=0,Ve=(()=>{class lt{constructor(){this.align="start",this.id="mat-mdc-hint-"+Re++}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(Kt,rn){2&Kt&&(y.Mr5("id",rn.id),y.BMQ("align",null),y.AVh("mat-mdc-form-field-hint-end","end"===rn.align))},inputs:{align:"align",id:"id"},standalone:!0})}return lt})();const Ee=new y.nKC("MatPrefix"),Fe=new y.nKC("MatSuffix");let ve=(()=>{class lt{constructor(){this._isText=!1}set _isTextSelector(It){this._isText=!0}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[y.Jv_([{provide:Fe,useExisting:lt}])]})}return lt})();const Te=new y.nKC("FloatingLabelParent");let ge=(()=>{class lt{get floating(){return this._floating}set floating(It){this._floating=It,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(It){this._monitorResize=It,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(It){this._elementRef=It,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,y.WQX)(U.a),this._ngZone=(0,y.WQX)(y.SKi),this._parent=(0,y.WQX)(Te),this._resizeSubscription=new O.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function me(lt){if(null!==lt.offsetParent)return lt.scrollWidth;const It=lt.cloneNode(!0);It.style.setProperty("position","absolute"),It.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(It);const Kt=It.scrollWidth;return It.remove(),Kt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)(y.rXU(y.aKT))};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(Kt,rn){2&Kt&&y.AVh("mdc-floating-label--float-above",rn.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return lt})();const te="mdc-line-ripple--active",ne="mdc-line-ripple--deactivating";let le=(()=>{class lt{constructor(It,Kt){this._elementRef=It,this._handleTransitionEnd=rn=>{const gn=this._elementRef.nativeElement.classList,ln=gn.contains(ne);"opacity"===rn.propertyName&&ln&&gn.remove(te,ne)},Kt.runOutsideAngular(()=>{It.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const It=this._elementRef.nativeElement.classList;It.remove(ne),It.add(te)}deactivate(){this._elementRef.nativeElement.classList.add(ne)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)(y.rXU(y.aKT),y.rXU(y.SKi))};static#t=this.\u0275dir=y.FsC({type:lt,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return lt})(),Ae=(()=>{class lt{constructor(It,Kt){this._elementRef=It,this._ngZone=Kt,this.open=!1}ngAfterViewInit(){const It=this._elementRef.nativeElement.querySelector(".mdc-floating-label");It?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(It.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>It.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(It){this._notch.nativeElement.style.width=this.open&&It?`calc(${It}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)(y.rXU(y.aKT),y.rXU(y.SKi))};static#t=this.\u0275cmp=y.VBU({type:lt,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(Kt,rn){if(1&Kt&&y.GBs(z,5),2&Kt){let gn;y.mGM(gn=y.lsd())&&(rn._notch=gn.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(Kt,rn){2&Kt&&y.AVh("mdc-notched-outline--notched",rn.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[y.aNF],attrs:ee,ngContentSelectors:q,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(Kt,rn){1&Kt&&(y.NAR(),y.nrm(0,"div",1),y.j41(1,"div",2,0),y.SdG(3),y.k0s(),y.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return lt})();const Be={transitionMessages:(0,A.hZ)("transitionMessages",[(0,A.wk)("enter",(0,A.iF)({opacity:1,transform:"translateY(0%)"})),(0,A.kY)("void => enter",[(0,A.iF)({opacity:0,transform:"translateY(-5px)"}),(0,A.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let qe=(()=>{class lt{static#e=this.\u0275fac=function(Kt){return new(Kt||lt)};static#t=this.\u0275dir=y.FsC({type:lt})}return lt})();const Ue=new y.nKC("MatFormField"),mt=new y.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let K=0;const T="fill",Y="fixed";let ke=(()=>{class lt{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(It){this._hideRequiredMarker=(0,P.he)(It)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(It){It!==this._floatLabel&&(this._floatLabel=It,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(It){const Kt=this._appearance;this._appearance=It||this._defaults?.appearance||T,"outline"===this._appearance&&this._appearance!==Kt&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Y}set subscriptSizing(It){this._subscriptSizing=It||this._defaults?.subscriptSizing||Y}get hintLabel(){return this._hintLabel}set hintLabel(It){this._hintLabel=It,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(It){this._explicitFormFieldControl=It}constructor(It,Kt,rn,gn,ln,ar,Cn,cn){this._elementRef=It,this._changeDetectorRef=Kt,this._dir=gn,this._platform=ln,this._defaults=ar,this._animationMode=Cn,this._hideRequiredMarker=!1,this.color="primary",this._appearance=T,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+K++,this._hintLabelId="mat-mdc-hint-"+K++,this._subscriptAnimationState="",this._destroyed=new S.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,y.WQX)(y.zZn),ar&&(ar.appearance&&(this.appearance=ar.appearance),this._hideRequiredMarker=!!ar?.hideRequiredMarker,ar.color&&(this.color=ar.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const It=this._control;It.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${It.controlType}`),It.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),It.ngControl&&It.ngControl.valueChanges&&It.ngControl.valueChanges.pipe((0,N.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(It=>!It._isText),this._hasTextPrefix=!!this._prefixChildren.find(It=>It._isText),this._hasIconSuffix=!!this._suffixChildren.find(It=>!It._isText),this._hasTextSuffix=!!this._suffixChildren.find(It=>It._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,B.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,y.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,N.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(It){const Kt=this._control?this._control.ngControl:null;return Kt&&Kt[It]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let It=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&It.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Kt=this._hintChildren?this._hintChildren.find(gn=>"start"===gn.align):null,rn=this._hintChildren?this._hintChildren.find(gn=>"end"===gn.align):null;Kt?It.push(Kt.id):this._hintLabel&&It.push(this._hintLabelId),rn&&It.push(rn.id)}else this._errorChildren&&It.push(...this._errorChildren.map(Kt=>Kt.id));this._control.setDescribedByIds(It)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const It=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(It.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const Kt=this._iconPrefixContainer?.nativeElement,rn=this._textPrefixContainer?.nativeElement,gn=Kt?.getBoundingClientRect().width??0,ln=rn?.getBoundingClientRect().width??0;It.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${gn+ln}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const It=this._elementRef.nativeElement;if(It.getRootNode){const Kt=It.getRootNode();return Kt&&Kt!==It}return document.documentElement.contains(It)}static#e=this.\u0275fac=function(Kt){return new(Kt||lt)(y.rXU(y.aKT),y.rXU(y.gRc),y.rXU(y.SKi),y.rXU(b.dS),y.rXU(H.OD),y.rXU(mt,8),y.rXU(y.bc$,8),y.rXU(w.qQ))};static#t=this.\u0275cmp=y.VBU({type:lt,selectors:[["mat-form-field"]],contentQueries:function(Kt,rn,gn){if(1&Kt&&(y.wni(gn,F,5),y.wni(gn,F,7),y.wni(gn,qe,5),y.wni(gn,Ee,5),y.wni(gn,Fe,5),y.wni(gn,de,5),y.wni(gn,Ve,5)),2&Kt){let ln;y.mGM(ln=y.lsd())&&(rn._labelChildNonStatic=ln.first),y.mGM(ln=y.lsd())&&(rn._labelChildStatic=ln.first),y.mGM(ln=y.lsd())&&(rn._formFieldControl=ln.first),y.mGM(ln=y.lsd())&&(rn._prefixChildren=ln),y.mGM(ln=y.lsd())&&(rn._suffixChildren=ln),y.mGM(ln=y.lsd())&&(rn._errorChildren=ln),y.mGM(ln=y.lsd())&&(rn._hintChildren=ln)}},viewQuery:function(Kt,rn){if(1&Kt&&(y.GBs(Z,5),y.GBs(J,5),y.GBs(se,5),y.GBs(ge,5),y.GBs(Ae,5),y.GBs(le,5)),2&Kt){let gn;y.mGM(gn=y.lsd())&&(rn._textField=gn.first),y.mGM(gn=y.lsd())&&(rn._iconPrefixContainer=gn.first),y.mGM(gn=y.lsd())&&(rn._textPrefixContainer=gn.first),y.mGM(gn=y.lsd())&&(rn._floatingLabel=gn.first),y.mGM(gn=y.lsd())&&(rn._notchedOutline=gn.first),y.mGM(gn=y.lsd())&&(rn._lineRipple=gn.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(Kt,rn){2&Kt&&y.AVh("mat-mdc-form-field-label-always-float",rn._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",rn._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",rn._hasIconSuffix)("mat-form-field-invalid",rn._control.errorState)("mat-form-field-disabled",rn._control.disabled)("mat-form-field-autofilled",rn._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===rn._animationMode)("mat-form-field-appearance-fill","fill"==rn.appearance)("mat-form-field-appearance-outline","outline"==rn.appearance)("mat-form-field-hide-placeholder",rn._hasFloatingLabel()&&!rn._shouldLabelFloat())("mat-focused",rn._control.focused)("mat-primary","accent"!==rn.color&&"warn"!==rn.color)("mat-accent","accent"===rn.color)("mat-warn","warn"===rn.color)("ng-untouched",rn._shouldForward("untouched"))("ng-touched",rn._shouldForward("touched"))("ng-pristine",rn._shouldForward("pristine"))("ng-dirty",rn._shouldForward("dirty"))("ng-valid",rn._shouldForward("valid"))("ng-invalid",rn._shouldForward("invalid"))("ng-pending",rn._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[y.Jv_([{provide:Ue,useExisting:lt},{provide:Te,useExisting:lt}]),y.aNF],ngContentSelectors:ae,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(Kt,rn){if(1&Kt){const gn=y.RV6();y.NAR(ce),y.DNE(0,we,1,1,"ng-template",null,0,y.C5r),y.j41(2,"div",4,1),y.bIt("click",function(ar){return y.eBV(gn),y.Njj(rn._control.onContainerClick(ar))}),y.DNE(4,Me,1,0,"div",5),y.j41(5,"div",6),y.DNE(6,a,2,2,"div",7)(7,d,3,0,"div",8)(8,m,3,0,"div",9),y.j41(9,"div",10),y.DNE(10,E,1,1,null,11),y.SdG(11),y.k0s(),y.DNE(12,D,2,0,"div",12)(13,R,2,0,"div",13),y.k0s(),y.DNE(14,x,1,0,"div",14),y.k0s(),y.j41(15,"div",15),y.DNE(16,s,2,1,"div",16)(17,$,5,2,"div",17),y.k0s()}if(2&Kt){let gn;y.R7$(2),y.AVh("mdc-text-field--filled",!rn._hasOutline())("mdc-text-field--outlined",rn._hasOutline())("mdc-text-field--no-label",!rn._hasFloatingLabel())("mdc-text-field--disabled",rn._control.disabled)("mdc-text-field--invalid",rn._control.errorState),y.R7$(2),y.vxM(rn._hasOutline()||rn._control.disabled?-1:4),y.R7$(2),y.vxM(rn._hasOutline()?6:-1),y.R7$(),y.vxM(rn._hasIconPrefix?7:-1),y.R7$(),y.vxM(rn._hasTextPrefix?8:-1),y.R7$(2),y.vxM(!rn._hasOutline()||rn._forceDisplayInfixLabel()?10:-1),y.R7$(2),y.vxM(rn._hasTextSuffix?12:-1),y.R7$(),y.vxM(rn._hasIconSuffix?13:-1),y.R7$(),y.vxM(rn._hasOutline()?-1:14),y.R7$(),y.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===rn.subscriptSizing),y.R7$(),y.vxM("error"===(gn=rn._getDisplayedMessages())?16:"hint"===gn?17:-1)}},dependencies:[ge,Ae,w.T3,le,Ve],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Be.transitionMessages]},changeDetection:0})}return lt})(),Ne=(()=>{class lt{static#e=this.\u0275fac=function(Kt){return new(Kt||lt)};static#t=this.\u0275mod=y.$C({type:lt});static#n=this.\u0275inj=y.G2t({imports:[L.yE,w.MD,G.w5,L.yE]})}return lt})()},99213:(We,j,_)=>{"use strict";_.d(j,{An:()=>v,m_:()=>$});var y=_(93953),b=_(86600),P=_(60177),H=_(7673),w=_(18810),O=_(27468),S=_(18359),B=_(88141),N=_(96354),U=_(99437),A=_(70980),G=_(97647),L=_(96697),z=_(21626),ee=_(345);const q=["*"];let Z;function se(F){return function J(){if(void 0===Z&&(Z=null,typeof window<"u")){const F=window;void 0!==F.trustedTypes&&(Z=F.trustedTypes.createPolicy("angular#components",{createHTML:Q=>Q}))}return Z}()?.createHTML(F)||F}function ce(F){return Error(`Unable to find icon with the name "${F}"`)}function fe(F){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${F}".`)}function he(F){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${F}".`)}class we{constructor(Q,de,De){this.url=Q,this.svgText=de,this.options=De}}let Me=(()=>{class F{constructor(de,De,Re,Ve){this._httpClient=de,this._sanitizer=De,this._errorHandler=Ve,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=Re}addSvgIcon(de,De,Re){return this.addSvgIconInNamespace("",de,De,Re)}addSvgIconLiteral(de,De,Re){return this.addSvgIconLiteralInNamespace("",de,De,Re)}addSvgIconInNamespace(de,De,Re,Ve){return this._addSvgIconConfig(de,De,new we(Re,null,Ve))}addSvgIconResolver(de){return this._resolvers.push(de),this}addSvgIconLiteralInNamespace(de,De,Re,Ve){const Ee=this._sanitizer.sanitize(y.WPN.HTML,Re);if(!Ee)throw he(Re);const _e=se(Ee);return this._addSvgIconConfig(de,De,new we("",_e,Ve))}addSvgIconSet(de,De){return this.addSvgIconSetInNamespace("",de,De)}addSvgIconSetLiteral(de,De){return this.addSvgIconSetLiteralInNamespace("",de,De)}addSvgIconSetInNamespace(de,De,Re){return this._addSvgIconSetConfig(de,new we(De,null,Re))}addSvgIconSetLiteralInNamespace(de,De,Re){const Ve=this._sanitizer.sanitize(y.WPN.HTML,De);if(!Ve)throw he(De);const Ee=se(Ve);return this._addSvgIconSetConfig(de,new we("",Ee,Re))}registerFontClassAlias(de,De=de){return this._fontCssClassesByAlias.set(de,De),this}classNameForFontAlias(de){return this._fontCssClassesByAlias.get(de)||de}setDefaultFontSetClass(...de){return this._defaultFontSetClass=de,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(de){const De=this._sanitizer.sanitize(y.WPN.RESOURCE_URL,de);if(!De)throw fe(de);const Re=this._cachedIconsByUrl.get(De);return Re?(0,H.of)(a(Re)):this._loadSvgIconFromConfig(new we(de,null)).pipe((0,B.M)(Ve=>this._cachedIconsByUrl.set(De,Ve)),(0,N.T)(Ve=>a(Ve)))}getNamedSvgIcon(de,De=""){const Re=d(De,de);let Ve=this._svgIconConfigs.get(Re);if(Ve)return this._getSvgFromConfig(Ve);if(Ve=this._getIconConfigFromResolvers(De,de),Ve)return this._svgIconConfigs.set(Re,Ve),this._getSvgFromConfig(Ve);const Ee=this._iconSetConfigs.get(De);return Ee?this._getSvgFromIconSetConfigs(de,Ee):(0,w.$)(ce(Re))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(de){return de.svgText?(0,H.of)(a(this._svgElementFromConfig(de))):this._loadSvgIconFromConfig(de).pipe((0,N.T)(De=>a(De)))}_getSvgFromIconSetConfigs(de,De){const Re=this._extractIconWithNameFromAnySet(de,De);if(Re)return(0,H.of)(Re);const Ve=De.filter(Ee=>!Ee.svgText).map(Ee=>this._loadSvgIconSetFromConfig(Ee).pipe((0,U.W)(_e=>{const ve=`Loading icon set URL: ${this._sanitizer.sanitize(y.WPN.RESOURCE_URL,Ee.url)} failed: ${_e.message}`;return this._errorHandler.handleError(new Error(ve)),(0,H.of)(null)})));return(0,O.p)(Ve).pipe((0,N.T)(()=>{const Ee=this._extractIconWithNameFromAnySet(de,De);if(!Ee)throw ce(de);return Ee}))}_extractIconWithNameFromAnySet(de,De){for(let Re=De.length-1;Re>=0;Re--){const Ve=De[Re];if(Ve.svgText&&Ve.svgText.toString().indexOf(de)>-1){const Ee=this._svgElementFromConfig(Ve),_e=this._extractSvgIconFromSet(Ee,de,Ve.options);if(_e)return _e}}return null}_loadSvgIconFromConfig(de){return this._fetchIcon(de).pipe((0,B.M)(De=>de.svgText=De),(0,N.T)(()=>this._svgElementFromConfig(de)))}_loadSvgIconSetFromConfig(de){return de.svgText?(0,H.of)(null):this._fetchIcon(de).pipe((0,B.M)(De=>de.svgText=De))}_extractSvgIconFromSet(de,De,Re){const Ve=de.querySelector(`[id="${De}"]`);if(!Ve)return null;const Ee=Ve.cloneNode(!0);if(Ee.removeAttribute("id"),"svg"===Ee.nodeName.toLowerCase())return this._setSvgAttributes(Ee,Re);if("symbol"===Ee.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ee),Re);const _e=this._svgElementFromString(se("<svg></svg>"));return _e.appendChild(Ee),this._setSvgAttributes(_e,Re)}_svgElementFromString(de){const De=this._document.createElement("DIV");De.innerHTML=de;const Re=De.querySelector("svg");if(!Re)throw Error("<svg> tag not found");return Re}_toSvgElement(de){const De=this._svgElementFromString(se("<svg></svg>")),Re=de.attributes;for(let Ve=0;Ve<Re.length;Ve++){const{name:Ee,value:_e}=Re[Ve];"id"!==Ee&&De.setAttribute(Ee,_e)}for(let Ve=0;Ve<de.childNodes.length;Ve++)de.childNodes[Ve].nodeType===this._document.ELEMENT_NODE&&De.appendChild(de.childNodes[Ve].cloneNode(!0));return De}_setSvgAttributes(de,De){return de.setAttribute("fit",""),de.setAttribute("height","100%"),de.setAttribute("width","100%"),de.setAttribute("preserveAspectRatio","xMidYMid meet"),de.setAttribute("focusable","false"),De&&De.viewBox&&de.setAttribute("viewBox",De.viewBox),de}_fetchIcon(de){const{url:De,options:Re}=de,Ve=Re?.withCredentials??!1;if(!this._httpClient)throw function ae(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==De)throw Error(`Cannot fetch icon from URL "${De}".`);const Ee=this._sanitizer.sanitize(y.WPN.RESOURCE_URL,De);if(!Ee)throw fe(De);const _e=this._inProgressUrlFetches.get(Ee);if(_e)return _e;const Fe=this._httpClient.get(Ee,{responseType:"text",withCredentials:Ve}).pipe((0,N.T)(ve=>se(ve)),(0,A.j)(()=>this._inProgressUrlFetches.delete(Ee)),(0,G.u)());return this._inProgressUrlFetches.set(Ee,Fe),Fe}_addSvgIconConfig(de,De,Re){return this._svgIconConfigs.set(d(de,De),Re),this}_addSvgIconSetConfig(de,De){const Re=this._iconSetConfigs.get(de);return Re?Re.push(De):this._iconSetConfigs.set(de,[De]),this}_svgElementFromConfig(de){if(!de.svgElement){const De=this._svgElementFromString(de.svgText);this._setSvgAttributes(De,de.options),de.svgElement=De}return de.svgElement}_getIconConfigFromResolvers(de,De){for(let Re=0;Re<this._resolvers.length;Re++){const Ve=this._resolvers[Re](De,de);if(Ve)return m(Ve)?new we(Ve.url,null,Ve.options):new we(Ve,null)}}static#e=this.\u0275fac=function(De){return new(De||F)(y.KVO(z.Qq,8),y.KVO(ee.up),y.KVO(P.qQ,8),y.KVO(y.zcH))};static#t=this.\u0275prov=y.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})();function a(F){return F.cloneNode(!0)}function d(F,Q){return F+":"+Q}function m(F){return!(!F.url||!F.options)}const p=new y.nKC("MAT_ICON_DEFAULT_OPTIONS"),E=new y.nKC("mat-icon-location",{providedIn:"root",factory:function D(){const F=(0,y.WQX)(P.qQ),Q=F?F.location:null;return{getPathname:()=>Q?Q.pathname+Q.search:""}}}),R=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],x=R.map(F=>`[${F}]`).join(", "),s=/^url\(['"]?#(.*?)['"]?\)$/;let v=(()=>{class F{get color(){return this._color||this._defaultColor}set color(de){this._color=de}get svgIcon(){return this._svgIcon}set svgIcon(de){de!==this._svgIcon&&(de?this._updateSvgIcon(de):this._svgIcon&&this._clearSvgElement(),this._svgIcon=de)}get fontSet(){return this._fontSet}set fontSet(de){const De=this._cleanupFontValue(de);De!==this._fontSet&&(this._fontSet=De,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(de){const De=this._cleanupFontValue(de);De!==this._fontIcon&&(this._fontIcon=De,this._updateFontIconClasses())}constructor(de,De,Re,Ve,Ee,_e){this._elementRef=de,this._iconRegistry=De,this._location=Ve,this._errorHandler=Ee,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=S.yU.EMPTY,_e&&(_e.color&&(this.color=this._defaultColor=_e.color),_e.fontSet&&(this.fontSet=_e.fontSet)),Re||de.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(de){if(!de)return["",""];const De=de.split(":");switch(De.length){case 1:return["",De[0]];case 2:return De;default:throw Error(`Invalid icon name: "${de}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const de=this._elementsWithExternalReferences;if(de&&de.size){const De=this._location.getPathname();De!==this._previousPath&&(this._previousPath=De,this._prependPathToReferences(De))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(de){this._clearSvgElement();const De=this._location.getPathname();this._previousPath=De,this._cacheChildrenWithExternalReferences(de),this._prependPathToReferences(De),this._elementRef.nativeElement.appendChild(de)}_clearSvgElement(){const de=this._elementRef.nativeElement;let De=de.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();De--;){const Re=de.childNodes[De];(1!==Re.nodeType||"svg"===Re.nodeName.toLowerCase())&&Re.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const de=this._elementRef.nativeElement,De=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(Re=>Re.length>0);this._previousFontSetClass.forEach(Re=>de.classList.remove(Re)),De.forEach(Re=>de.classList.add(Re)),this._previousFontSetClass=De,this.fontIcon!==this._previousFontIconClass&&!De.includes("mat-ligature-font")&&(this._previousFontIconClass&&de.classList.remove(this._previousFontIconClass),this.fontIcon&&de.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(de){return"string"==typeof de?de.trim().split(" ")[0]:de}_prependPathToReferences(de){const De=this._elementsWithExternalReferences;De&&De.forEach((Re,Ve)=>{Re.forEach(Ee=>{Ve.setAttribute(Ee.name,`url('${de}#${Ee.value}')`)})})}_cacheChildrenWithExternalReferences(de){const De=de.querySelectorAll(x),Re=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Ve=0;Ve<De.length;Ve++)R.forEach(Ee=>{const _e=De[Ve],Fe=_e.getAttribute(Ee),ve=Fe?Fe.match(s):null;if(ve){let Te=Re.get(_e);Te||(Te=[],Re.set(_e,Te)),Te.push({name:Ee,value:ve[1]})}})}_updateSvgIcon(de){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),de){const[De,Re]=this._splitIconName(de);De&&(this._svgNamespace=De),Re&&(this._svgName=Re),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Re,De).pipe((0,L.s)(1)).subscribe(Ve=>this._setSvgElement(Ve),Ve=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${De}:${Re}! ${Ve.message}`))})}}static#e=this.\u0275fac=function(De){return new(De||F)(y.rXU(y.aKT),y.rXU(Me),y.kS0("aria-hidden"),y.rXU(E),y.rXU(y.zcH),y.rXU(p,8))};static#t=this.\u0275cmp=y.VBU({type:F,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(De,Re){2&De&&(y.BMQ("data-mat-icon-type",Re._usingFontIcon()?"font":"svg")("data-mat-icon-name",Re._svgName||Re.fontIcon)("data-mat-icon-namespace",Re._svgNamespace||Re.fontSet)("fontIcon",Re._usingFontIcon()?Re.fontIcon:null),y.HbH(Re.color?"mat-"+Re.color:""),y.AVh("mat-icon-inline",Re.inline)("mat-icon-no-color","primary"!==Re.color&&"accent"!==Re.color&&"warn"!==Re.color))},inputs:{color:"color",inline:[2,"inline","inline",y.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[y.GFd,y.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(De,Re){1&De&&(y.NAR(),y.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return F})(),$=(()=>{class F{static#e=this.\u0275fac=function(De){return new(De||F)};static#t=this.\u0275mod=y.$C({type:F});static#n=this.\u0275inj=y.G2t({imports:[b.yE,b.yE]})}return F})()},99631:(We,j,_)=>{"use strict";_.d(j,{fg:()=>J,fS:()=>se});var y=_(14085),b=_(36860),P=_(93953),H=_(983),w=_(21413);const O=(0,b.BQ)({passive:!0});let S=(()=>{class ce{constructor(fe,he){this._platform=fe,this._ngZone=he,this._monitoredElements=new Map}monitor(fe){if(!this._platform.isBrowser)return H.w;const he=(0,y.i8)(fe),we=this._monitoredElements.get(he);if(we)return we.subject;const Me=new w.B,Pe="cdk-text-field-autofilled",C=a=>{"cdk-text-field-autofill-start"!==a.animationName||he.classList.contains(Pe)?"cdk-text-field-autofill-end"===a.animationName&&he.classList.contains(Pe)&&(he.classList.remove(Pe),this._ngZone.run(()=>Me.next({target:a.target,isAutofilled:!1}))):(he.classList.add(Pe),this._ngZone.run(()=>Me.next({target:a.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{he.addEventListener("animationstart",C,O),he.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(he,{subject:Me,unlisten:()=>{he.removeEventListener("animationstart",C,O)}}),Me}stopMonitoring(fe){const he=(0,y.i8)(fe),we=this._monitoredElements.get(he);we&&(we.unlisten(),we.subject.complete(),he.classList.remove("cdk-text-field-autofill-monitored"),he.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(he))}ngOnDestroy(){this._monitoredElements.forEach((fe,he)=>this.stopMonitoring(he))}static#e=this.\u0275fac=function(he){return new(he||ce)(P.KVO(b.OD),P.KVO(P.SKi))};static#t=this.\u0275prov=P.jDH({token:ce,factory:ce.\u0275fac,providedIn:"root"})}return ce})(),U=(()=>{class ce{static#e=this.\u0275fac=function(he){return new(he||ce)};static#t=this.\u0275mod=P.$C({type:ce});static#n=this.\u0275inj=P.G2t({})}return ce})();var A=_(89417),G=_(86600),L=_(53719);const ee=new P.nKC("MAT_INPUT_VALUE_ACCESSOR"),q=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Z=0,J=(()=>{class ce{get disabled(){return this._disabled}set disabled(fe){this._disabled=(0,y.he)(fe),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(fe){this._id=fe||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(A.k0.required)??!1}set required(fe){this._required=(0,y.he)(fe)}get type(){return this._type}set type(fe){this._type=fe||"text",this._validateType(),!this._isTextarea&&(0,b.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(fe){this._errorStateTracker.matcher=fe}get value(){return this._inputValueAccessor.value}set value(fe){fe!==this.value&&(this._inputValueAccessor.value=fe,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(fe){this._readonly=(0,y.he)(fe)}get errorState(){return this._errorStateTracker.errorState}set errorState(fe){this._errorStateTracker.errorState=fe}constructor(fe,he,we,Me,Pe,C,a,d,m,p){this._elementRef=fe,this._platform=he,this.ngControl=we,this._autofillMonitor=d,this._formField=p,this._uid="mat-input-"+Z++,this.focused=!1,this.stateChanges=new w.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(R=>(0,b.MU)().has(R)),this._iOSKeyupListener=R=>{const x=R.target;!x.value&&0===x.selectionStart&&0===x.selectionEnd&&(x.setSelectionRange(1,1),x.setSelectionRange(0,0))};const E=this._elementRef.nativeElement,D=E.nodeName.toLowerCase();this._inputValueAccessor=a||E,this._previousNativeValue=this.value,this.id=this.id,he.IOS&&m.runOutsideAngular(()=>{fe.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new G.X0(C,we,Pe,Me,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===D,this._isTextarea="textarea"===D,this._isInFormField=!!p,this._isNativeSelect&&(this.controlType=E.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(fe=>{this.autofilled=fe.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(fe){this._elementRef.nativeElement.focus(fe)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(fe){fe!==this.focused&&(this.focused=fe,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const fe=this._elementRef.nativeElement.value;this._previousNativeValue!==fe&&(this._previousNativeValue=fe,this.stateChanges.next())}_dirtyCheckPlaceholder(){const fe=this._getPlaceholder();if(fe!==this._previousPlaceholder){const he=this._elementRef.nativeElement;this._previousPlaceholder=fe,fe?he.setAttribute("placeholder",fe):he.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){q.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let fe=this._elementRef.nativeElement.validity;return fe&&fe.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const fe=this._elementRef.nativeElement,he=fe.options[0];return this.focused||fe.multiple||!this.empty||!!(fe.selectedIndex>-1&&he&&he.label)}return this.focused||!this.empty}setDescribedByIds(fe){fe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",fe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const fe=this._elementRef.nativeElement;return this._isNativeSelect&&(fe.multiple||fe.size>1)}static#e=this.\u0275fac=function(he){return new(he||ce)(P.rXU(P.aKT),P.rXU(b.OD),P.rXU(A.vO,10),P.rXU(A.cV,8),P.rXU(A.j4,8),P.rXU(G.es),P.rXU(ee,10),P.rXU(S),P.rXU(P.SKi),P.rXU(L.xb,8))};static#t=this.\u0275dir=P.FsC({type:ce,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(he,we){1&he&&P.bIt("focus",function(){return we._focusChanged(!0)})("blur",function(){return we._focusChanged(!1)})("input",function(){return we._onInput()}),2&he&&(P.Mr5("id",we.id)("disabled",we.disabled)("required",we.required),P.BMQ("name",we.name||null)("readonly",we.readonly&&!we._isNativeSelect||null)("aria-invalid",we.empty&&we.required?null:we.errorState)("aria-required",we.required)("id",we.id),P.AVh("mat-input-server",we._isServer)("mat-mdc-form-field-textarea-control",we._isInFormField&&we._isTextarea)("mat-mdc-form-field-input-control",we._isInFormField)("mdc-text-field__input",we._isInFormField)("mat-mdc-native-select-inline",we._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[P.Jv_([{provide:L.qT,useExisting:ce}]),P.OA$]})}return ce})(),se=(()=>{class ce{static#e=this.\u0275fac=function(he){return new(he||ce)};static#t=this.\u0275mod=P.$C({type:ce});static#n=this.\u0275inj=P.G2t({imports:[G.yE,L.RG,L.RG,U,G.yE]})}return ce})()},3902:(We,j,_)=>{"use strict";_.d(j,{C_:()=>de,EI:()=>Be,Fg:()=>mt,YE:()=>ne,ZV:()=>Ee,_L:()=>ze,jt:()=>te,yE:()=>Q,zi:()=>Ve});var y=_(93953),b=_(14085),P=_(36860),H=_(86600),w=_(18359),O=_(57786),B=(_(21413),_(72318)),N=_(60177),U=_(71997);_(18617),_(45024),_(67336),_(89417),_(56977);const q=["*"],Z='@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon,.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon,.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon>.materialdesignWizIconSvgsSvgIcon{display:block}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',J=["unscopedContent"],se=["text"],ce=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ae=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],F=new y.nKC("ListOption");let Q=(()=>{class K{constructor(M){this._elementRef=M}static#e=this.\u0275fac=function(Y){return new(Y||K)(y.rXU(y.aKT))};static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return K})(),de=(()=>{class K{constructor(M){this._elementRef=M}static#e=this.\u0275fac=function(Y){return new(Y||K)(y.rXU(y.aKT))};static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return K})(),De=(()=>{class K{static#e=this.\u0275fac=function(Y){return new(Y||K)};static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return K})(),Re=(()=>{class K{constructor(M){this._listOption=M}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(Y){return new(Y||K)(y.rXU(F,8))};static#t=this.\u0275dir=y.FsC({type:K,hostVars:4,hostBindings:function(Y,pe){2&Y&&y.AVh("mdc-list-item__start",pe._isAlignedAtStart())("mdc-list-item__end",!pe._isAlignedAtStart())},standalone:!0})}return K})(),Ve=(()=>{class K extends Re{static#e=this.\u0275fac=(()=>{let M;return function(pe){return(M||(M=y.xGo(K)))(pe||K)}})();static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[y.Vt3]})}return K})(),Ee=(()=>{class K extends Re{static#e=this.\u0275fac=(()=>{let M;return function(pe){return(M||(M=y.xGo(K)))(pe||K)}})();static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[y.Vt3]})}return K})();const _e=new y.nKC("MAT_LIST_CONFIG");let Fe=(()=>{class K{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,y.WQX)(_e,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(M){this._disableRipple=(0,b.he)(M)}get disabled(){return this._disabled}set disabled(M){this._disabled=(0,b.he)(M)}static#e=this.\u0275fac=function(Y){return new(Y||K)};static#t=this.\u0275dir=y.FsC({type:K,hostVars:1,hostBindings:function(Y,pe){2&Y&&y.BMQ("aria-disabled",pe.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return K})(),ve=(()=>{class K{set lines(M){this._explicitLines=(0,b.OE)(M,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(M){this._disableRipple=(0,b.he)(M)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(M){this._disabled=(0,b.he)(M)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(M,Y,pe,ke,Ne,lt){this._elementRef=M,this._ngZone=Y,this._listBase=pe,this._platform=ke,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new w.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=Ne||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===lt,pe&&!pe._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new H.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,O.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(M){if(!this._lines||!this._titles||!this._unscopedContent)return;M&&this._checkDomForUnscopedTextContent();const Y=this._explicitLines??this._inferLinesFromContent(),pe=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",Y<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",Y<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===Y),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===Y),this._hasUnscopedTextContent){const ke=0===this._titles.length&&1===Y;pe.classList.toggle("mdc-list-item__primary-text",ke),pe.classList.toggle("mdc-list-item__secondary-text",!ke)}else pe.classList.remove("mdc-list-item__primary-text"),pe.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let M=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(M+=1),M}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(M=>M.nodeType!==M.COMMENT_NODE).some(M=>!(!M.textContent||!M.textContent.trim()))}static#e=this.\u0275fac=function(Y){return new(Y||K)(y.rXU(y.aKT),y.rXU(y.SKi),y.rXU(Fe,8),y.rXU(P.OD),y.rXU(H.$E,8),y.rXU(y.bc$,8))};static#t=this.\u0275dir=y.FsC({type:K,contentQueries:function(Y,pe,ke){if(1&Y&&(y.wni(ke,Ve,4),y.wni(ke,Ee,4)),2&Y){let Ne;y.mGM(Ne=y.lsd())&&(pe._avatars=Ne),y.mGM(Ne=y.lsd())&&(pe._icons=Ne)}},hostVars:4,hostBindings:function(Y,pe){2&Y&&(y.BMQ("aria-disabled",pe.disabled)("disabled",pe._isButtonElement&&pe.disabled||null),y.AVh("mdc-list-item--disabled",pe.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return K})(),te=(()=>{class K extends Fe{static#e=this.\u0275fac=(()=>{let M;return function(pe){return(M||(M=y.xGo(K)))(pe||K)}})();static#t=this.\u0275cmp=y.VBU({type:K,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[y.Jv_([{provide:Fe,useExisting:K}]),y.Vt3,y.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(Y,pe){1&Y&&(y.NAR(),y.SdG(0))},styles:[Z],encapsulation:2,changeDetection:0})}return K})(),ne=(()=>{class K extends ve{get activated(){return this._activated}set activated(M){this._activated=(0,b.he)(M)}constructor(M,Y,pe,ke,Ne,lt){super(M,Y,pe,ke,Ne,lt),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}static#e=this.\u0275fac=function(Y){return new(Y||K)(y.rXU(y.aKT),y.rXU(y.SKi),y.rXU(Fe,8),y.rXU(P.OD),y.rXU(H.$E,8),y.rXU(y.bc$,8))};static#t=this.\u0275cmp=y.VBU({type:K,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(Y,pe,ke){if(1&Y&&(y.wni(ke,de,5),y.wni(ke,Q,5),y.wni(ke,De,5)),2&Y){let Ne;y.mGM(Ne=y.lsd())&&(pe._lines=Ne),y.mGM(Ne=y.lsd())&&(pe._titles=Ne),y.mGM(Ne=y.lsd())&&(pe._meta=Ne)}},viewQuery:function(Y,pe){if(1&Y&&(y.GBs(J,5),y.GBs(se,5)),2&Y){let ke;y.mGM(ke=y.lsd())&&(pe._unscopedContent=ke.first),y.mGM(ke=y.lsd())&&(pe._itemText=ke.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(Y,pe){2&Y&&(y.BMQ("aria-current",pe._getAriaCurrent()),y.AVh("mdc-list-item--activated",pe.activated)("mdc-list-item--with-leading-avatar",0!==pe._avatars.length)("mdc-list-item--with-leading-icon",0!==pe._icons.length)("mdc-list-item--with-trailing-meta",0!==pe._meta.length)("_mat-animation-noopable",pe._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[y.Vt3,y.aNF],ngContentSelectors:ae,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(Y,pe){if(1&Y){const ke=y.RV6();y.NAR(ce),y.SdG(0),y.j41(1,"span",1),y.SdG(2,1),y.SdG(3,2),y.j41(4,"span",2,0),y.bIt("cdkObserveContent",function(){return y.eBV(ke),y.Njj(pe._updateItemLines(!0))}),y.SdG(6,3),y.k0s()(),y.SdG(7,4),y.SdG(8,5),y.nrm(9,"div",3)}},dependencies:[B.Wv],encapsulation:2,changeDetection:0})}return K})(),Be=(()=>{class K{static#e=this.\u0275fac=function(Y){return new(Y||K)};static#t=this.\u0275dir=y.FsC({type:K,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}return K})(),ze=(()=>{class K extends Fe{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let M;return function(pe){return(M||(M=y.xGo(K)))(pe||K)}})();static#t=this.\u0275cmp=y.VBU({type:K,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[y.Jv_([{provide:Fe,useExisting:K}]),y.Vt3,y.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(Y,pe){1&Y&&(y.NAR(),y.SdG(0))},styles:[Z],encapsulation:2,changeDetection:0})}return K})(),mt=(()=>{class K{static#e=this.\u0275fac=function(Y){return new(Y||K)};static#t=this.\u0275mod=y.$C({type:K});static#n=this.\u0275inj=y.G2t({imports:[B.w5,N.MD,H.yE,H.pZ,H.O5,U.w]})}return K})()},59115:(We,j,_)=>{"use strict";_.d(j,{Cn:()=>Te,Cp:()=>ve,fb:()=>m,kk:()=>De});var y=_(93953),b=_(18617),P=_(67336),H=_(21413),w=_(57786),O=_(18359),S=_(7673),B=_(25007),N=_(99172),U=_(25558),A=_(56977),G=_(5964),L=_(96697),z=_(91986),ee=_(60177),q=_(86600),Z=_(76939),J=_(49969),se=_(28203),ce=_(66969),ae=_(36860),fe=_(67333);const he=["mat-menu-item",""],we=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],Me=["mat-icon, [matMenuItemIcon]","*"];function Pe(ge,me){1&ge&&(y.qSk(),y.j41(0,"svg",2),y.nrm(1,"polygon",3),y.k0s())}const C=["*"];function a(ge,me){if(1&ge){const te=y.RV6();y.j41(0,"div",0),y.bIt("keydown",function(le){y.eBV(te);const Ae=y.XpG();return y.Njj(Ae._handleKeydown(le))})("click",function(){y.eBV(te);const le=y.XpG();return y.Njj(le.closed.emit("click"))})("@transformMenu.start",function(le){y.eBV(te);const Ae=y.XpG();return y.Njj(Ae._onAnimationStart(le))})("@transformMenu.done",function(le){y.eBV(te);const Ae=y.XpG();return y.Njj(Ae._onAnimationDone(le))}),y.j41(1,"div",1),y.SdG(2),y.k0s()()}if(2&ge){const te=y.XpG();y.HbH(te._classList),y.Y8G("id",te.panelId)("@transformMenu",te._panelAnimationState),y.BMQ("aria-label",te.ariaLabel||null)("aria-labelledby",te.ariaLabelledby||null)("aria-describedby",te.ariaDescribedby||null)}}const d=new y.nKC("MAT_MENU_PANEL");let m=(()=>{class ge{constructor(te,ne,le,Ae,Be){this._elementRef=te,this._document=ne,this._focusMonitor=le,this._parentMenu=Ae,this._changeDetectorRef=Be,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new H.B,this._focused=new H.B,this._highlighted=!1,this._triggersSubmenu=!1,Ae?.addItem?.(this)}focus(te,ne){this._focusMonitor&&te?this._focusMonitor.focusVia(this._getHostElement(),te,ne):this._getHostElement().focus(ne),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(te){this.disabled&&(te.preventDefault(),te.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const te=this._elementRef.nativeElement.cloneNode(!0),ne=te.querySelectorAll("mat-icon, .material-icons");for(let le=0;le<ne.length;le++)ne[le].remove();return te.textContent?.trim()||""}_setHighlighted(te){this._highlighted=te,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(te){this._triggersSubmenu=te,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(ne){return new(ne||ge)(y.rXU(y.aKT),y.rXU(ee.qQ),y.rXU(b.FN),y.rXU(d,8),y.rXU(y.gRc))};static#t=this.\u0275cmp=y.VBU({type:ge,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(ne,le){1&ne&&y.bIt("click",function(Be){return le._checkDisabled(Be)})("mouseenter",function(){return le._handleMouseEnter()}),2&ne&&(y.BMQ("role",le.role)("tabindex",le._getTabIndex())("aria-disabled",le.disabled)("disabled",le.disabled||null),y.AVh("mat-mdc-menu-item-highlighted",le._highlighted)("mat-mdc-menu-item-submenu-trigger",le._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",y.L39],disableRipple:[2,"disableRipple","disableRipple",y.L39]},exportAs:["matMenuItem"],standalone:!0,features:[y.GFd,y.aNF],attrs:he,ngContentSelectors:Me,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ne,le){1&ne&&(y.NAR(we),y.SdG(0),y.j41(1,"span",0),y.SdG(2,1),y.k0s(),y.nrm(3,"div",1),y.DNE(4,Pe,2,0,":svg:svg",2)),2&ne&&(y.R7$(3),y.Y8G("matRippleDisabled",le.disableRipple||le.disabled)("matRippleTrigger",le._getHostElement()),y.R7$(),y.vxM(le._triggersSubmenu?4:-1))},dependencies:[q.r6],encapsulation:2,changeDetection:0})}return ge})();const R=new y.nKC("MatMenuContent"),s={transformMenu:(0,J.hZ)("transformMenu",[(0,J.wk)("void",(0,J.iF)({opacity:0,transform:"scale(0.8)"})),(0,J.kY)("void => enter",(0,J.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,J.iF)({opacity:1,transform:"scale(1)"}))),(0,J.kY)("* => void",(0,J.i0)("100ms 25ms linear",(0,J.iF)({opacity:0})))]),fadeInItems:(0,J.hZ)("fadeInItems",[(0,J.wk)("showing",(0,J.iF)({opacity:1})),(0,J.kY)("void => *",[(0,J.iF)({opacity:0}),(0,J.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let F=0;const Q=new y.nKC("mat-menu-default-options",{providedIn:"root",factory:function de(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let De=(()=>{class ge{get xPosition(){return this._xPosition}set xPosition(te){this._xPosition=te,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(te){this._yPosition=te,this.setPositionClasses()}set panelClass(te){const ne=this._previousPanelClass,le={...this._classList};ne&&ne.length&&ne.split(" ").forEach(Ae=>{le[Ae]=!1}),this._previousPanelClass=te,te&&te.length&&(te.split(" ").forEach(Ae=>{le[Ae]=!0}),this._elementRef.nativeElement.className=""),this._classList=le}get classList(){return this.panelClass}set classList(te){this.panelClass=te}constructor(te,ne,le,Ae){this._elementRef=te,this._changeDetectorRef=Ae,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new y.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new H.B,this.closed=new y.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+F++,this._injector=(0,y.WQX)(y.zZn),this.overlayPanelClass=le.overlayPanelClass||"",this._xPosition=le.xPosition,this._yPosition=le.yPosition,this.backdropClass=le.backdropClass,this.overlapTrigger=le.overlapTrigger,this.hasBackdrop=le.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new b.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,N.Z)(this._directDescendantItems),(0,U.n)(te=>(0,w.h)(...te.map(ne=>ne._focused)))).subscribe(te=>this._keyManager.updateActiveItem(te)),this._directDescendantItems.changes.subscribe(te=>{const ne=this._keyManager;if("enter"===this._panelAnimationState&&ne.activeItem?._hasFocus()){const le=te.toArray(),Ae=Math.max(0,Math.min(le.length-1,ne.activeItemIndex||0));le[Ae]&&!le[Ae].disabled?ne.setActiveItem(Ae):ne.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,N.Z)(this._directDescendantItems),(0,U.n)(ne=>(0,w.h)(...ne.map(le=>le._hovered))))}addItem(te){}removeItem(te){}_handleKeydown(te){const ne=te.keyCode,le=this._keyManager;switch(ne){case P._f:(0,P.rp)(te)||(te.preventDefault(),this.closed.emit("keydown"));break;case P.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case P.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(ne===P.i7||ne===P.n6)&&le.setFocusOrigin("keyboard"),void le.onKeydown(te)}te.stopPropagation()}focusFirstItem(te="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,y.mal)(()=>{let ne=null;if(this._directDescendantItems.length&&(ne=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!ne||!ne.contains(document.activeElement)){const le=this._keyManager;le.setFocusOrigin(te).setFirstItemActive(),!le.activeItem&&ne&&ne.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(te){if(null===this._baseElevation){const qe=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(qe)}const ne=Math.min(this._baseElevation+te,24),le=`${this._elevationPrefix}${ne}`,Ae=Object.keys(this._classList).find(Be=>Be.startsWith(this._elevationPrefix));if(!Ae||Ae===this._previousElevation){const Be={...this._classList};this._previousElevation&&(Be[this._previousElevation]=!1),Be[le]=!0,this._previousElevation=le,this._classList=Be}}setPositionClasses(te=this.xPosition,ne=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===te,"mat-menu-after":"after"===te,"mat-menu-above":"above"===ne,"mat-menu-below":"below"===ne},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(te){this._animationDone.next(te),this._isAnimating=!1}_onAnimationStart(te){this._isAnimating=!0,"enter"===te.toState&&0===this._keyManager.activeItemIndex&&(te.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,N.Z)(this._allItems)).subscribe(te=>{this._directDescendantItems.reset(te.filter(ne=>ne._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(ne){return new(ne||ge)(y.rXU(y.aKT),y.rXU(y.SKi),y.rXU(Q),y.rXU(y.gRc))};static#t=this.\u0275cmp=y.VBU({type:ge,selectors:[["mat-menu"]],contentQueries:function(ne,le,Ae){if(1&ne&&(y.wni(Ae,R,5),y.wni(Ae,m,5),y.wni(Ae,m,4)),2&ne){let Be;y.mGM(Be=y.lsd())&&(le.lazyContent=Be.first),y.mGM(Be=y.lsd())&&(le._allItems=Be),y.mGM(Be=y.lsd())&&(le.items=Be)}},viewQuery:function(ne,le){if(1&ne&&y.GBs(y.C4Q,5),2&ne){let Ae;y.mGM(Ae=y.lsd())&&(le.templateRef=Ae.first)}},hostVars:3,hostBindings:function(ne,le){2&ne&&y.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",y.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",te=>null==te?null:(0,y.L39)(te)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[y.Jv_([{provide:d,useExisting:ge}]),y.GFd,y.aNF],ngContentSelectors:C,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(ne,le){1&ne&&(y.NAR(),y.DNE(0,a,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[s.transformMenu,s.fadeInItems]},changeDetection:0})}return ge})();const Re=new y.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const ge=(0,y.WQX)(ce.hJ);return()=>ge.scrollStrategies.reposition()}}),Ee={provide:Re,deps:[ce.hJ],useFactory:function Ve(ge){return()=>ge.scrollStrategies.reposition()}},_e=(0,ae.BQ)({passive:!0});let ve=(()=>{class ge{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(te){this.menu=te}get menu(){return this._menu}set menu(te){te!==this._menu&&(this._menu=te,this._menuCloseSubscription.unsubscribe(),te&&(this._menuCloseSubscription=te.close.subscribe(ne=>{this._destroyMenu(ne),("click"===ne||"tab"===ne)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(ne)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(te,ne,le,Ae,Be,qe,ze,Dt,Xe){this._overlay=te,this._element=ne,this._viewContainerRef=le,this._menuItemInstance=qe,this._dir=ze,this._focusMonitor=Dt,this._ngZone=Xe,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=O.yU.EMPTY,this._hoverSubscription=O.yU.EMPTY,this._menuCloseSubscription=O.yU.EMPTY,this._changeDetectorRef=(0,y.WQX)(y.gRc),this._handleTouchStart=Ue=>{(0,b.w6)(Ue)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new y.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new y.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=Ae,this._parentMaterialMenu=Be instanceof De?Be:void 0,ne.nativeElement.addEventListener("touchstart",this._handleTouchStart,_e)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_e),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const te=this.menu;if(this._menuOpen||!te)return;const ne=this._createOverlay(te),le=ne.getConfig(),Ae=le.positionStrategy;this._setPosition(te,Ae),le.hasBackdrop=null==te.hasBackdrop?!this.triggersSubmenu():te.hasBackdrop,ne.attach(this._getPortal(te)),te.lazyContent&&te.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(te),te instanceof De&&(te._startAnimation(),te._directDescendantItems.changes.pipe((0,A.Q)(te.close)).subscribe(()=>{Ae.withLockedPosition(!1).reapplyLastPosition(),Ae.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(te,ne){this._focusMonitor&&te?this._focusMonitor.focusVia(this._element,te,ne):this._element.nativeElement.focus(ne)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(te){if(!this._overlayRef||!this.menuOpen)return;const ne=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===te||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,ne instanceof De?(ne._resetAnimation(),ne.lazyContent?ne._animationDone.pipe((0,G.p)(le=>"void"===le.toState),(0,L.s)(1),(0,A.Q)(ne.lazyContent._attached)).subscribe({next:()=>ne.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),ne?.lazyContent?.detach())}_initMenu(te){te.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,te.direction=this.dir,this._setMenuElevation(te),te.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(te){if(te.setElevation){let ne=0,le=te.parentMenu;for(;le;)ne++,le=le.parentMenu;te.setElevation(ne)}}_setIsMenuOpen(te){te!==this._menuOpen&&(this._menuOpen=te,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(te),this._changeDetectorRef.markForCheck())}_createOverlay(te){if(!this._overlayRef){const ne=this._getOverlayConfig(te);this._subscribeToPositions(te,ne.positionStrategy),this._overlayRef=this._overlay.create(ne),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(te){return new ce.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:te.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:te.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(te,ne){te.setPositionClasses&&ne.positionChanges.subscribe(le=>{const Ae="start"===le.connectionPair.overlayX?"after":"before",Be="top"===le.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>te.setPositionClasses(Ae,Be)):te.setPositionClasses(Ae,Be)})}_setPosition(te,ne){let[le,Ae]="before"===te.xPosition?["end","start"]:["start","end"],[Be,qe]="above"===te.yPosition?["bottom","top"]:["top","bottom"],[ze,Dt]=[Be,qe],[Xe,Ue]=[le,Ae],mt=0;if(this.triggersSubmenu()){if(Ue=le="before"===te.xPosition?"start":"end",Ae=Xe="end"===le?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const K=this._parentMaterialMenu.items.first;this._parentInnerPadding=K?K._getHostElement().offsetTop:0}mt="bottom"===Be?this._parentInnerPadding:-this._parentInnerPadding}}else te.overlapTrigger||(ze="top"===Be?"bottom":"top",Dt="top"===qe?"bottom":"top");ne.withPositions([{originX:le,originY:ze,overlayX:Xe,overlayY:Be,offsetY:mt},{originX:Ae,originY:ze,overlayX:Ue,overlayY:Be,offsetY:mt},{originX:le,originY:Dt,overlayX:Xe,overlayY:qe,offsetY:-mt},{originX:Ae,originY:Dt,overlayX:Ue,overlayY:qe,offsetY:-mt}])}_menuClosingActions(){const te=this._overlayRef.backdropClick(),ne=this._overlayRef.detachments(),le=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,S.of)(),Ae=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,G.p)(Be=>Be!==this._menuItemInstance),(0,G.p)(()=>this._menuOpen)):(0,S.of)();return(0,w.h)(te,le,Ae,ne)}_handleMousedown(te){(0,b._G)(te)||(this._openedBy=0===te.button?"mouse":void 0,this.triggersSubmenu()&&te.preventDefault())}_handleKeydown(te){const ne=te.keyCode;(ne===P.Fm||ne===P.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(ne===P.LE&&"ltr"===this.dir||ne===P.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(te){this.triggersSubmenu()?(te.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,G.p)(te=>te===this._menuItemInstance&&!te.disabled),(0,z.c)(0,B.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof De&&this.menu._isAnimating?this.menu._animationDone.pipe((0,L.s)(1),(0,z.c)(0,B.$),(0,A.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(te){return(!this._portal||this._portal.templateRef!==te.templateRef)&&(this._portal=new Z.VA(te.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(ne){return new(ne||ge)(y.rXU(ce.hJ),y.rXU(y.aKT),y.rXU(y.c1b),y.rXU(Re),y.rXU(d,8),y.rXU(m,10),y.rXU(se.dS,8),y.rXU(b.FN),y.rXU(y.SKi))};static#t=this.\u0275dir=y.FsC({type:ge,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(ne,le){1&ne&&y.bIt("click",function(Be){return le._handleClick(Be)})("mousedown",function(Be){return le._handleMousedown(Be)})("keydown",function(Be){return le._handleKeydown(Be)}),2&ne&&y.BMQ("aria-haspopup",le.menu?"menu":null)("aria-expanded",le.menuOpen)("aria-controls",le.menuOpen?le.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return ge})(),Te=(()=>{class ge{static#e=this.\u0275fac=function(ne){return new(ne||ge)};static#t=this.\u0275mod=y.$C({type:ge});static#n=this.\u0275inj=y.G2t({providers:[Ee],imports:[ee.MD,q.pZ,q.yE,ce.z_,fe.Gj,q.yE]})}return ge})()},9183:(We,j,_)=>{"use strict";_.d(j,{D6:()=>G,LG:()=>U});var y=_(93953),b=_(60177),P=_(86600);const H=["determinateSpinner"];function w(L,z){if(1&L&&(y.qSk(),y.j41(0,"svg",11),y.nrm(1,"circle",12),y.k0s()),2&L){const ee=y.XpG();y.BMQ("viewBox",ee._viewBox()),y.R7$(),y.xc7("stroke-dasharray",ee._strokeCircumference(),"px")("stroke-dashoffset",ee._strokeCircumference()/2,"px")("stroke-width",ee._circleStrokeWidth(),"%"),y.BMQ("r",ee._circleRadius())}}const O=new y.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function S(){return{diameter:B}}}),B=100;let U=(()=>{class L{get color(){return this._color||this._defaultColor}set color(ee){this._color=ee}constructor(ee,q,Z){this._elementRef=ee,this._defaultColor="primary",this._value=0,this._diameter=B,this._noopAnimations="NoopAnimations"===q&&!!Z&&!Z._forceAnimations,this.mode="mat-spinner"===ee.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",Z&&(Z.color&&(this.color=this._defaultColor=Z.color),Z.diameter&&(this.diameter=Z.diameter),Z.strokeWidth&&(this.strokeWidth=Z.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(ee){this._value=Math.max(0,Math.min(100,ee||0))}get diameter(){return this._diameter}set diameter(ee){this._diameter=ee||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(ee){this._strokeWidth=ee||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const ee=2*this._circleRadius()+this.strokeWidth;return`0 0 ${ee} ${ee}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(q){return new(q||L)(y.rXU(y.aKT),y.rXU(y.bc$,8),y.rXU(O))};static#t=this.\u0275cmp=y.VBU({type:L,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(q,Z){if(1&q&&y.GBs(H,5),2&q){let J;y.mGM(J=y.lsd())&&(Z._determinateCircle=J.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(q,Z){2&q&&(y.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===Z.mode?Z.value:null)("mode",Z.mode),y.HbH("mat-"+Z.color),y.xc7("width",Z.diameter,"px")("height",Z.diameter,"px")("--mdc-circular-progress-size",Z.diameter+"px")("--mdc-circular-progress-active-indicator-width",Z.diameter+"px"),y.AVh("_mat-animation-noopable",Z._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===Z.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",y.Udg],diameter:[2,"diameter","diameter",y.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",y.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[y.GFd,y.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(q,Z){if(1&q&&(y.DNE(0,w,2,8,"ng-template",null,0,y.C5r),y.j41(2,"div",2,1),y.qSk(),y.j41(4,"svg",3),y.nrm(5,"circle",4),y.k0s()(),y.joV(),y.j41(6,"div",5)(7,"div",6)(8,"div",7),y.eu8(9,8),y.k0s(),y.j41(10,"div",9),y.eu8(11,8),y.k0s(),y.j41(12,"div",10),y.eu8(13,8),y.k0s()()()),2&q){const J=y.sdS(1);y.R7$(4),y.BMQ("viewBox",Z._viewBox()),y.R7$(),y.xc7("stroke-dasharray",Z._strokeCircumference(),"px")("stroke-dashoffset",Z._strokeDashOffset(),"px")("stroke-width",Z._circleStrokeWidth(),"%"),y.BMQ("r",Z._circleRadius()),y.R7$(4),y.Y8G("ngTemplateOutlet",J),y.R7$(2),y.Y8G("ngTemplateOutlet",J),y.R7$(2),y.Y8G("ngTemplateOutlet",J)}},dependencies:[b.T3],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0})}return L})(),G=(()=>{class L{static#e=this.\u0275fac=function(q){return new(q||L)};static#t=this.\u0275mod=y.$C({type:L});static#n=this.\u0275inj=y.G2t({imports:[b.MD,P.yE]})}return L})()},5951:(We,j,_)=>{"use strict";_.d(j,{Wk:()=>J});var y=_(18617),b=_(45024),P=_(93953),w=(_(89417),_(86600)),O=_(60177);const S=["input"],B=["formField"],N=["*"];let U=0;class A{constructor(ce,ae){this.source=ce,this.value=ae}}const L=new P.nKC("MatRadioGroup"),z=new P.nKC("mat-radio-default-options",{providedIn:"root",factory:function ee(){return{color:"accent"}}});let Z=(()=>{class se{get checked(){return this._checked}set checked(ae){this._checked!==ae&&(this._checked=ae,ae&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!ae&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),ae&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(ae){this._value!==ae&&(this._value=ae,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===ae),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(ae){this._labelPosition=ae}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(ae){this._setDisabled(ae)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(ae){this._required=ae}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(ae){this._color=ae}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(ae,fe,he,we,Me,Pe,C,a){this._elementRef=fe,this._changeDetector=he,this._focusMonitor=we,this._radioDispatcher=Me,this._providerOverride=C,this._uniqueId="mat-radio-"+ ++U,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new P.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,P.WQX)(P.zZn),this.radioGroup=ae,this._noopAnimations="NoopAnimations"===Pe,a&&(this.tabIndex=(0,P.Udg)(a,0))}focus(ae,fe){fe?this._focusMonitor.focusVia(this._inputElement,fe,ae):this._inputElement.nativeElement.focus(ae)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((ae,fe)=>{ae!==this.id&&fe===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(ae=>{!ae&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new A(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(ae){ae.stopPropagation()}_onInputInteraction(ae){if(ae.stopPropagation(),!this.checked&&!this.disabled){const fe=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),fe&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(ae){this._onInputInteraction(ae),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(ae){this._disabled!==ae&&(this._disabled=ae,this._changeDetector.markForCheck())}_updateTabIndex(){const ae=this.radioGroup;let fe;if(fe=ae&&ae.selected&&!this.disabled?ae.selected===this?this.tabIndex:-1:this.tabIndex,fe!==this._previousTabIndex){const he=this._inputElement?.nativeElement;he&&(he.setAttribute("tabindex",fe+""),this._previousTabIndex=fe,(0,P.mal)(()=>{queueMicrotask(()=>{ae&&ae.selected&&ae.selected!==this&&document.activeElement===he&&(ae.selected?._inputElement.nativeElement.focus(),document.activeElement===he&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(fe){return new(fe||se)(P.rXU(L,8),P.rXU(P.aKT),P.rXU(P.gRc),P.rXU(y.FN),P.rXU(b.zP),P.rXU(P.bc$,8),P.rXU(z,8),P.kS0("tabindex"))};static#t=this.\u0275cmp=P.VBU({type:se,selectors:[["mat-radio-button"]],viewQuery:function(fe,he){if(1&fe&&(P.GBs(S,5),P.GBs(B,7,P.aKT)),2&fe){let we;P.mGM(we=P.lsd())&&(he._inputElement=we.first),P.mGM(we=P.lsd())&&(he._rippleTrigger=we.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(fe,he){1&fe&&P.bIt("focus",function(){return he._inputElement.nativeElement.focus()}),2&fe&&(P.BMQ("id",he.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),P.AVh("mat-primary","primary"===he.color)("mat-accent","accent"===he.color)("mat-warn","warn"===he.color)("mat-mdc-radio-checked",he.checked)("_mat-animation-noopable",he._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",P.L39],tabIndex:[2,"tabIndex","tabIndex",ae=>null==ae?0:(0,P.Udg)(ae)],checked:[2,"checked","checked",P.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",P.L39],required:[2,"required","required",P.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[P.GFd,P.aNF],ngContentSelectors:N,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(fe,he){if(1&fe){const we=P.RV6();P.NAR(),P.j41(0,"div",2,0)(2,"div",3)(3,"div",4),P.bIt("click",function(Pe){return P.eBV(we),P.Njj(he._onTouchTargetClick(Pe))}),P.k0s(),P.j41(4,"input",5,1),P.bIt("change",function(Pe){return P.eBV(we),P.Njj(he._onInputInteraction(Pe))}),P.k0s(),P.j41(6,"div",6),P.nrm(7,"div",7)(8,"div",8),P.k0s(),P.j41(9,"div",9),P.nrm(10,"div",10),P.k0s()(),P.j41(11,"label",11),P.SdG(12),P.k0s()()}2&fe&&(P.Y8G("labelPosition",he.labelPosition),P.R7$(2),P.AVh("mdc-radio--disabled",he.disabled),P.R7$(2),P.Y8G("id",he.inputId)("checked",he.checked)("disabled",he.disabled)("required",he.required),P.BMQ("name",he.name)("value",he.value)("aria-label",he.ariaLabel)("aria-labelledby",he.ariaLabelledby)("aria-describedby",he.ariaDescribedby),P.R7$(5),P.Y8G("matRippleTrigger",he._rippleTrigger.nativeElement)("matRippleDisabled",he._isRippleDisabled())("matRippleCentered",!0),P.R7$(2),P.Y8G("for",he.inputId))},dependencies:[w.r6,w.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return se})(),J=(()=>{class se{static#e=this.\u0275fac=function(fe){return new(fe||se)};static#t=this.\u0275mod=P.$C({type:se});static#n=this.\u0275inj=P.G2t({imports:[w.yE,O.MD,w.pZ,Z,w.yE]})}return se})()},82798:(We,j,_)=>{"use strict";_.d(j,{VO:()=>Re,Ve:()=>Ee});var y=_(66969),b=_(60177),P=_(93953),H=_(86600),w=_(53719),O=_(67333),S=_(18617),B=_(28203),N=_(45024),U=_(67336),A=_(89417),G=_(21413),L=_(59030),z=_(57786),ee=_(99172),q=_(25558),Z=_(5964),J=_(96354),se=_(23294),ce=_(56977),ae=_(96697),fe=_(49969);const he=["trigger"],we=["panel"],Me=[[["mat-select-trigger"]],"*"],Pe=["mat-select-trigger","*"];function C(_e,Fe){if(1&_e&&(P.j41(0,"span",4),P.EFF(1),P.k0s()),2&_e){const ve=P.XpG();P.R7$(),P.JRh(ve.placeholder)}}function a(_e,Fe){1&_e&&P.SdG(0)}function d(_e,Fe){if(1&_e&&(P.j41(0,"span",11),P.EFF(1),P.k0s()),2&_e){const ve=P.XpG(2);P.R7$(),P.JRh(ve.triggerValue)}}function m(_e,Fe){if(1&_e&&(P.j41(0,"span",5),P.DNE(1,a,1,0)(2,d,2,1,"span",11),P.k0s()),2&_e){const ve=P.XpG();P.R7$(),P.vxM(ve.customTrigger?1:2)}}function p(_e,Fe){if(1&_e){const ve=P.RV6();P.j41(0,"div",12,1),P.bIt("@transformPanel.done",function(ge){P.eBV(ve);const me=P.XpG();return P.Njj(me._panelDoneAnimatingStream.next(ge.toState))})("keydown",function(ge){P.eBV(ve);const me=P.XpG();return P.Njj(me._handleKeydown(ge))}),P.SdG(2,1),P.k0s()}if(2&_e){const ve=P.XpG();P.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ve._getPanelTheme(),""),P.Y8G("ngClass",ve.panelClass)("@transformPanel","showing"),P.BMQ("id",ve.id+"-panel")("aria-multiselectable",ve.multiple)("aria-label",ve.ariaLabel||null)("aria-labelledby",ve._getPanelAriaLabelledby())}}const E={transformPanelWrap:(0,fe.hZ)("transformPanelWrap",[(0,fe.kY)("* => void",(0,fe.P)("@transformPanel",[(0,fe.MA)()],{optional:!0}))]),transformPanel:(0,fe.hZ)("transformPanel",[(0,fe.wk)("void",(0,fe.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,fe.kY)("void => showing",(0,fe.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,fe.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,fe.kY)("* => void",(0,fe.i0)("100ms linear",(0,fe.iF)({opacity:0})))])};let s=0;const v=new P.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const _e=(0,P.WQX)(y.hJ);return()=>_e.scrollStrategies.reposition()}}),F=new P.nKC("MAT_SELECT_CONFIG"),Q={provide:v,deps:[y.hJ],useFactory:function $(_e){return()=>_e.scrollStrategies.reposition()}},de=new P.nKC("MatSelectTrigger");class De{constructor(Fe,ve){this.source=Fe,this.value=ve}}let Re=(()=>{class _e{_scrollOptionIntoView(ve){const Te=this.options.toArray()[ve];if(Te){const ge=this.panel.nativeElement,me=(0,H.jb)(ve,this.options,this.optionGroups),te=Te._getHostElement();ge.scrollTop=0===ve&&1===me?0:(0,H.TL)(te.offsetTop,te.offsetHeight,ge.scrollTop,ge.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ve){return new De(this,ve)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ve){this._hideSingleSelectionIndicator=ve,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(ve){this._placeholder=ve,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(A.k0.required)??!1}set required(ve){this._required=ve,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ve){this._multiple=ve}get compareWith(){return this._compareWith}set compareWith(ve){this._compareWith=ve,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ve){this._assignValue(ve)&&this._onChange(ve)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ve){this._errorStateTracker.matcher=ve}get id(){return this._id}set id(ve){this._id=ve||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(ve){this._errorStateTracker.errorState=ve}constructor(ve,Te,ge,me,te,ne,le,Ae,Be,qe,ze,Dt,Xe,Ue){this._viewportRuler=ve,this._changeDetectorRef=Te,this._elementRef=te,this._dir=ne,this._parentFormField=Be,this.ngControl=qe,this._liveAnnouncer=Xe,this._defaultOptions=Ue,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(mt,K)=>mt===K,this._uid="mat-select-"+s++,this._triggerAriaLabelledBy=null,this._destroy=new G.B,this.stateChanges=new G.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+s++,this._panelDoneAnimatingStream=new G.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new G.B,this.optionSelectionChanges=(0,L.v)(()=>{const mt=this.options;return mt?mt.changes.pipe((0,ee.Z)(mt),(0,q.n)(()=>(0,z.h)(...mt.map(K=>K.onSelectionChange)))):this._initialized.pipe((0,q.n)(()=>this.optionSelectionChanges))}),this.openedChange=new P.bkB,this._openedStream=this.openedChange.pipe((0,Z.p)(mt=>mt),(0,J.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,Z.p)(mt=>!mt),(0,J.T)(()=>{})),this.selectionChange=new P.bkB,this.valueChange=new P.bkB,this._trackedModal=null,this._skipPredicate=mt=>!this.panelOpen&&mt.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Ue?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Ue.typeaheadDebounceInterval),this._errorStateTracker=new H.X0(me,qe,Ae,le,this.stateChanges),this._scrollStrategyFactory=Dt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(ze)||0,this.id=this.id}ngOnInit(){this._selectionModel=new N.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,se.F)(),(0,ce.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,ce.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,ce.Q)(this._destroy)).subscribe(ve=>{ve.added.forEach(Te=>Te.select()),ve.removed.forEach(Te=>Te.deselect())}),this.options.changes.pipe((0,ee.Z)(null),(0,ce.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ve=this._getTriggerAriaLabelledby(),Te=this.ngControl;if(ve!==this._triggerAriaLabelledBy){const ge=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ve,ve?ge.setAttribute("aria-labelledby",ve):ge.removeAttribute("aria-labelledby")}Te&&(this._previousControl!==Te.control&&(void 0!==this._previousControl&&null!==Te.disabled&&Te.disabled!==this.disabled&&(this.disabled=Te.disabled),this._previousControl=Te.control),this.updateErrorState())}ngOnChanges(ve){(ve.disabled||ve.userAriaDescribedBy)&&this.stateChanges.next(),ve.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const ve=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ve)return;const Te=`${this.id}-panel`;this._trackedModal&&(0,S.Ae)(this._trackedModal,"aria-owns",Te),(0,S.px)(ve,"aria-owns",Te),this._trackedModal=ve}_clearFromModal(){this._trackedModal&&((0,S.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(ve){this._assignValue(ve)}registerOnChange(ve){this._onChange=ve}registerOnTouched(ve){this._onTouched=ve}setDisabledState(ve){this.disabled=ve,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ve=this._selectionModel.selected.map(Te=>Te.viewValue);return this._isRtl()&&ve.reverse(),ve.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ve){this.disabled||(this.panelOpen?this._handleOpenKeydown(ve):this._handleClosedKeydown(ve))}_handleClosedKeydown(ve){const Te=ve.keyCode,ge=Te===U.n6||Te===U.i7||Te===U.UQ||Te===U.LE,me=Te===U.Fm||Te===U.t6,te=this._keyManager;if(!te.isTyping()&&me&&!(0,U.rp)(ve)||(this.multiple||ve.altKey)&&ge)ve.preventDefault(),this.open();else if(!this.multiple){const ne=this.selected;te.onKeydown(ve);const le=this.selected;le&&ne!==le&&this._liveAnnouncer.announce(le.viewValue,1e4)}}_handleOpenKeydown(ve){const Te=this._keyManager,ge=ve.keyCode,me=ge===U.n6||ge===U.i7,te=Te.isTyping();if(me&&ve.altKey)ve.preventDefault(),this.close();else if(te||ge!==U.Fm&&ge!==U.t6||!Te.activeItem||(0,U.rp)(ve))if(!te&&this._multiple&&ge===U.A&&ve.ctrlKey){ve.preventDefault();const ne=this.options.some(le=>!le.disabled&&!le.selected);this.options.forEach(le=>{le.disabled||(ne?le.select():le.deselect())})}else{const ne=Te.activeItemIndex;Te.onKeydown(ve),this._multiple&&me&&ve.shiftKey&&Te.activeItem&&Te.activeItemIndex!==ne&&Te.activeItem._selectViaInteraction()}else ve.preventDefault(),Te.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ae.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ve){if(this.options.forEach(Te=>Te.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ve)Array.isArray(ve),ve.forEach(Te=>this._selectOptionByValue(Te)),this._sortValues();else{const Te=this._selectOptionByValue(ve);Te?this._keyManager.updateActiveItem(Te):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ve){const Te=this.options.find(ge=>{if(this._selectionModel.isSelected(ge))return!1;try{return null!=ge.value&&this._compareWith(ge.value,ve)}catch{return!1}});return Te&&this._selectionModel.select(Te),Te}_assignValue(ve){return!!(ve!==this._value||this._multiple&&Array.isArray(ve))&&(this.options&&this._setSelectionByValue(ve),this._value=ve,!0)}_getOverlayWidth(ve){return"auto"===this.panelWidth?(ve instanceof y.$Q?ve.elementRef:ve||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const ve of this.options)ve._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new S.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ve=(0,z.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,ce.Q)(ve)).subscribe(Te=>{this._onSelect(Te.source,Te.isUserInput),Te.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,z.h)(...this.options.map(Te=>Te._stateChanges)).pipe((0,ce.Q)(ve)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ve,Te){const ge=this._selectionModel.isSelected(ve);null!=ve.value||this._multiple?(ge!==ve.selected&&(ve.selected?this._selectionModel.select(ve):this._selectionModel.deselect(ve)),Te&&this._keyManager.setActiveItem(ve),this.multiple&&(this._sortValues(),Te&&this.focus())):(ve.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ve.value)),ge!==this._selectionModel.isSelected(ve)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ve=this.options.toArray();this._selectionModel.sort((Te,ge)=>this.sortComparator?this.sortComparator(Te,ge,ve):ve.indexOf(Te)-ve.indexOf(ge)),this.stateChanges.next()}}_propagateChanges(ve){let Te;Te=this.multiple?this.selected.map(ge=>ge.value):this.selected?this.selected.value:ve,this._value=Te,this.valueChange.emit(Te),this._onChange(Te),this.selectionChange.emit(this._getChangeEvent(Te)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ve=-1;for(let Te=0;Te<this.options.length;Te++)if(!this.options.get(Te).disabled){ve=Te;break}this._keyManager.setActiveItem(ve)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ve){this._elementRef.nativeElement.focus(ve)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ve=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ve?ve+" ":"")+this.ariaLabelledby:ve}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ve=this._parentFormField?.getLabelId();let Te=(ve?ve+" ":"")+this._valueId;return this.ariaLabelledby&&(Te+=" "+this.ariaLabelledby),Te}_panelDoneAnimating(ve){this.openedChange.emit(ve)}setDescribedByIds(ve){ve.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ve.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Te){return new(Te||_e)(P.rXU(O.Xj),P.rXU(P.gRc),P.rXU(P.SKi),P.rXU(H.es),P.rXU(P.aKT),P.rXU(B.dS,8),P.rXU(A.cV,8),P.rXU(A.j4,8),P.rXU(w.xb,8),P.rXU(A.vO,10),P.kS0("tabindex"),P.rXU(v),P.rXU(S.Ai),P.rXU(F,8))};static#t=this.\u0275cmp=P.VBU({type:_e,selectors:[["mat-select"]],contentQueries:function(Te,ge,me){if(1&Te&&(P.wni(me,de,5),P.wni(me,H.wT,5),P.wni(me,H.QC,5)),2&Te){let te;P.mGM(te=P.lsd())&&(ge.customTrigger=te.first),P.mGM(te=P.lsd())&&(ge.options=te),P.mGM(te=P.lsd())&&(ge.optionGroups=te)}},viewQuery:function(Te,ge){if(1&Te&&(P.GBs(he,5),P.GBs(we,5),P.GBs(y.WB,5)),2&Te){let me;P.mGM(me=P.lsd())&&(ge.trigger=me.first),P.mGM(me=P.lsd())&&(ge.panel=me.first),P.mGM(me=P.lsd())&&(ge._overlayDir=me.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Te,ge){1&Te&&P.bIt("keydown",function(te){return ge._handleKeydown(te)})("focus",function(){return ge._onFocus()})("blur",function(){return ge._onBlur()}),2&Te&&(P.BMQ("id",ge.id)("tabindex",ge.disabled?-1:ge.tabIndex)("aria-controls",ge.panelOpen?ge.id+"-panel":null)("aria-expanded",ge.panelOpen)("aria-label",ge.ariaLabel||null)("aria-required",ge.required.toString())("aria-disabled",ge.disabled.toString())("aria-invalid",ge.errorState)("aria-activedescendant",ge._getAriaActiveDescendant()),P.AVh("mat-mdc-select-disabled",ge.disabled)("mat-mdc-select-invalid",ge.errorState)("mat-mdc-select-required",ge.required)("mat-mdc-select-empty",ge.empty)("mat-mdc-select-multiple",ge.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",P.L39],disableRipple:[2,"disableRipple","disableRipple",P.L39],tabIndex:[2,"tabIndex","tabIndex",ve=>null==ve?0:(0,P.Udg)(ve)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",P.L39],placeholder:"placeholder",required:[2,"required","required",P.L39],multiple:[2,"multiple","multiple",P.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",P.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",P.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[P.Jv_([{provide:w.qT,useExisting:_e},{provide:H.is,useExisting:_e}]),P.GFd,P.OA$,P.aNF],ngContentSelectors:Pe,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Te,ge){if(1&Te){const me=P.RV6();P.NAR(Me),P.j41(0,"div",2,0),P.bIt("click",function(){return P.eBV(me),P.Njj(ge.open())}),P.j41(3,"div",3),P.DNE(4,C,2,1,"span",4)(5,m,3,1,"span",5),P.k0s(),P.j41(6,"div",6)(7,"div",7),P.qSk(),P.j41(8,"svg",8),P.nrm(9,"path",9),P.k0s()()()(),P.DNE(10,p,3,9,"ng-template",10),P.bIt("backdropClick",function(){return P.eBV(me),P.Njj(ge.close())})("attach",function(){return P.eBV(me),P.Njj(ge._onAttached())})("detach",function(){return P.eBV(me),P.Njj(ge.close())})}if(2&Te){const me=P.sdS(1);P.R7$(3),P.BMQ("id",ge._valueId),P.R7$(),P.vxM(ge.empty?4:5),P.R7$(6),P.Y8G("cdkConnectedOverlayPanelClass",ge._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",ge._scrollStrategy)("cdkConnectedOverlayOrigin",ge._preferredOverlayOrigin||me)("cdkConnectedOverlayOpen",ge.panelOpen)("cdkConnectedOverlayPositions",ge._positions)("cdkConnectedOverlayWidth",ge._overlayWidth)}},dependencies:[y.$Q,y.WB,b.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[E.transformPanel]},changeDetection:0})}return _e})(),Ee=(()=>{class _e{static#e=this.\u0275fac=function(Te){return new(Te||_e)};static#t=this.\u0275mod=P.$C({type:_e});static#n=this.\u0275inj=P.G2t({providers:[Q],imports:[b.MD,y.z_,H.Sy,H.yE,O.Gj,w.RG,H.Sy,H.yE]})}return _e})()},55911:(We,j,_)=>{"use strict";_.d(j,{KQ:()=>B,s5:()=>U});var y=_(93953),b=_(86600),P=_(36860),H=_(60177);const w=["*",[["mat-toolbar-row"]]],O=["*","mat-toolbar-row"];let S=(()=>{class A{static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275dir=y.FsC({type:A,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return A})(),B=(()=>{class A{constructor(L,z,ee){this._elementRef=L,this._platform=z,this._document=ee}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(z){return new(z||A)(y.rXU(y.aKT),y.rXU(P.OD),y.rXU(H.qQ))};static#t=this.\u0275cmp=y.VBU({type:A,selectors:[["mat-toolbar"]],contentQueries:function(z,ee,q){if(1&z&&y.wni(q,S,5),2&z){let Z;y.mGM(Z=y.lsd())&&(ee._toolbarRows=Z)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(z,ee){2&z&&(y.HbH(ee.color?"mat-"+ee.color:""),y.AVh("mat-toolbar-multiple-rows",ee._toolbarRows.length>0)("mat-toolbar-single-row",0===ee._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[y.aNF],ngContentSelectors:O,decls:2,vars:0,template:function(z,ee){1&z&&(y.NAR(w),y.SdG(0),y.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return A})(),U=(()=>{class A{static#e=this.\u0275fac=function(z){return new(z||A)};static#t=this.\u0275mod=y.$C({type:A});static#n=this.\u0275inj=y.G2t({imports:[b.yE,b.yE]})}return A})()},14823:(We,j,_)=>{"use strict";_.d(j,{oV:()=>m,uc:()=>D});var y=_(56977),b=_(14085),P=_(67336),H=_(93953),w=_(60177),O=_(36860),S=_(18617),B=_(28203),N=_(66969),U=_(67333),A=_(76939),G=_(21413),z=(_(49969),_(86600));const ee=["tooltip"],J=new H.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const R=(0,H.WQX)(N.hJ);return()=>R.scrollStrategies.reposition({scrollThrottle:20})}}),ce={provide:J,deps:[N.hJ],useFactory:function se(R){return()=>R.scrollStrategies.reposition({scrollThrottle:20})}},fe=new H.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function ae(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),we="tooltip-panel",Me=(0,O.BQ)({passive:!0});let m=(()=>{class R{get position(){return this._position}set position(s){s!==this._position&&(this._position=s,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(s){this._positionAtOrigin=(0,b.he)(s),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(s){this._disabled=(0,b.he)(s),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(s){this._showDelay=(0,b.OE)(s)}get hideDelay(){return this._hideDelay}set hideDelay(s){this._hideDelay=(0,b.OE)(s),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(s){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=s?String(s).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(s){this._tooltipClass=s,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(s,v,$,F,Q,de,De,Re,Ve,Ee,_e,Fe){this._overlay=s,this._elementRef=v,this._scrollDispatcher=$,this._viewContainerRef=F,this._ngZone=Q,this._platform=de,this._ariaDescriber=De,this._focusMonitor=Re,this._dir=Ee,this._defaultOptions=_e,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=p,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new G.B,this._injector=(0,H.WQX)(H.zZn),this._scrollStrategy=Ve,this._document=Fe,_e&&(this._showDelay=_e.showDelay,this._hideDelay=_e.hideDelay,_e.position&&(this.position=_e.position),_e.positionAtOrigin&&(this.positionAtOrigin=_e.positionAtOrigin),_e.touchGestures&&(this.touchGestures=_e.touchGestures)),Ee.change.pipe((0,y.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,y.Q)(this._destroyed)).subscribe(s=>{s?"keyboard"===s&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const s=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([v,$])=>{s.removeEventListener(v,$,Me)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(s,this.message,"tooltip"),this._focusMonitor.stopMonitoring(s)}show(s=this.showDelay,v){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const $=this._createOverlay(v);this._detach(),this._portal=this._portal||new A.A8(this._tooltipComponent,this._viewContainerRef);const F=this._tooltipInstance=$.attach(this._portal).instance;F._triggerElement=this._elementRef.nativeElement,F._mouseLeaveHideDelay=this._hideDelay,F.afterHidden().pipe((0,y.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),F.show(s)}hide(s=this.hideDelay){const v=this._tooltipInstance;v&&(v.isVisible()?v.hide(s):(v._cancelPendingAnimations(),this._detach()))}toggle(s){this._isTooltipVisible()?this.hide():this.show(void 0,s)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(s){if(this._overlayRef){const F=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!s)&&F._origin instanceof H.aKT)return this._overlayRef;this._detach()}const v=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),$=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&s||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(v);return $.positionChanges.pipe((0,y.Q)(this._destroyed)).subscribe(F=>{this._updateCurrentPositionClass(F.connectionPair),this._tooltipInstance&&F.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:$,panelClass:`${this._cssClassPrefix}-${we}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,y.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,y.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,y.Q)(this._destroyed)).subscribe(F=>{this._isTooltipVisible()&&F.keyCode===P._f&&!(0,P.rp)(F)&&(F.preventDefault(),F.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(s){const v=s.getConfig().positionStrategy,$=this._getOrigin(),F=this._getOverlayPosition();v.withPositions([this._addOffset({...$.main,...F.main}),this._addOffset({...$.fallback,...F.fallback})])}_addOffset(s){const $=!this._dir||"ltr"==this._dir.value;return"top"===s.originY?s.offsetY=-8:"bottom"===s.originY?s.offsetY=8:"start"===s.originX?s.offsetX=$?-8:8:"end"===s.originX&&(s.offsetX=$?8:-8),s}_getOrigin(){const s=!this._dir||"ltr"==this._dir.value,v=this.position;let $;"above"==v||"below"==v?$={originX:"center",originY:"above"==v?"top":"bottom"}:"before"==v||"left"==v&&s||"right"==v&&!s?$={originX:"start",originY:"center"}:("after"==v||"right"==v&&s||"left"==v&&!s)&&($={originX:"end",originY:"center"});const{x:F,y:Q}=this._invertPosition($.originX,$.originY);return{main:$,fallback:{originX:F,originY:Q}}}_getOverlayPosition(){const s=!this._dir||"ltr"==this._dir.value,v=this.position;let $;"above"==v?$={overlayX:"center",overlayY:"bottom"}:"below"==v?$={overlayX:"center",overlayY:"top"}:"before"==v||"left"==v&&s||"right"==v&&!s?$={overlayX:"end",overlayY:"center"}:("after"==v||"right"==v&&s||"left"==v&&!s)&&($={overlayX:"start",overlayY:"center"});const{x:F,y:Q}=this._invertPosition($.overlayX,$.overlayY);return{main:$,fallback:{overlayX:F,overlayY:Q}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,H.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(s){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=s,this._tooltipInstance._markForCheck())}_invertPosition(s,v){return"above"===this.position||"below"===this.position?"top"===v?v="bottom":"bottom"===v&&(v="top"):"end"===s?s="start":"start"===s&&(s="end"),{x:s,y:v}}_updateCurrentPositionClass(s){const{overlayY:v,originX:$,originY:F}=s;let Q;if(Q="center"===v?this._dir&&"rtl"===this._dir.value?"end"===$?"left":"right":"start"===$?"left":"right":"bottom"===v&&"top"===F?"above":"below",Q!==this._currentPosition){const de=this._overlayRef;if(de){const De=`${this._cssClassPrefix}-${we}-`;de.removePanelClass(De+this._currentPosition),de.addPanelClass(De+Q)}this._currentPosition=Q}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",s=>{let v;this._setupPointerExitEventsIfNeeded(),void 0!==s.x&&void 0!==s.y&&(v=s),this.show(void 0,v)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",s=>{const v=s.targetTouches?.[0],$=v?{x:v.clientX,y:v.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,$),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const s=[];if(this._platformSupportsMouseEvents())s.push(["mouseleave",v=>{const $=v.relatedTarget;(!$||!this._overlayRef?.overlayElement.contains($))&&this.hide()}],["wheel",v=>this._wheelListener(v)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const v=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};s.push(["touchend",v],["touchcancel",v])}this._addListeners(s),this._passiveListeners.push(...s)}_addListeners(s){s.forEach(([v,$])=>{this._elementRef.nativeElement.addEventListener(v,$,Me)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(s){if(this._isTooltipVisible()){const v=this._document.elementFromPoint(s.clientX,s.clientY),$=this._elementRef.nativeElement;v!==$&&!$.contains(v)&&this.hide()}}_disableNativeGesturesIfNecessary(){const s=this.touchGestures;if("off"!==s){const v=this._elementRef.nativeElement,$=v.style;("on"===s||"INPUT"!==v.nodeName&&"TEXTAREA"!==v.nodeName)&&($.userSelect=$.msUserSelect=$.webkitUserSelect=$.MozUserSelect="none"),("on"===s||!v.draggable)&&($.webkitUserDrag="none"),$.touchAction="none",$.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(v){return new(v||R)(H.rXU(N.hJ),H.rXU(H.aKT),H.rXU(U.R),H.rXU(H.c1b),H.rXU(H.SKi),H.rXU(O.OD),H.rXU(S.vr),H.rXU(S.FN),H.rXU(J),H.rXU(B.dS),H.rXU(fe,8),H.rXU(w.qQ))};static#t=this.\u0275dir=H.FsC({type:R,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(v,$){2&v&&H.AVh("mat-mdc-tooltip-disabled",$.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return R})(),p=(()=>{class R{constructor(s,v,$){this._changeDetectorRef=s,this._elementRef=v,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new G.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===$}show(s){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},s)}hide(s){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},s)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:s}){(!s||!this._triggerElement.contains(s))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const s=this._elementRef.nativeElement.getBoundingClientRect();return s.height>24&&s.width>=200}_handleAnimationEnd({animationName:s}){(s===this._showAnimation||s===this._hideAnimation)&&this._finalizeAnimation(s===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(s){s?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(s){const v=this._tooltip.nativeElement,$=this._showAnimation,F=this._hideAnimation;if(v.classList.remove(s?F:$),v.classList.add(s?$:F),this._isVisible!==s&&(this._isVisible=s,this._changeDetectorRef.markForCheck()),s&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const Q=getComputedStyle(v);("0s"===Q.getPropertyValue("animation-duration")||"none"===Q.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}s&&this._onShow(),this._animationsDisabled&&(v.classList.add("_mat-animation-noopable"),this._finalizeAnimation(s))}static#e=this.\u0275fac=function(v){return new(v||R)(H.rXU(H.gRc),H.rXU(H.aKT),H.rXU(H.bc$,8))};static#t=this.\u0275cmp=H.VBU({type:R,selectors:[["mat-tooltip-component"]],viewQuery:function(v,$){if(1&v&&H.GBs(ee,7),2&v){let F;H.mGM(F=H.lsd())&&($._tooltip=F.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(v,$){1&v&&H.bIt("mouseleave",function(Q){return $._handleMouseLeave(Q)}),2&v&&H.xc7("zoom",$.isVisible()?1:null)},standalone:!0,features:[H.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(v,$){if(1&v){const F=H.RV6();H.j41(0,"div",1,0),H.bIt("animationend",function(de){return H.eBV(F),H.Njj($._handleAnimationEnd(de))}),H.j41(2,"div",2),H.EFF(3),H.k0s()()}2&v&&(H.AVh("mdc-tooltip--multiline",$._isMultiline),H.Y8G("ngClass",$.tooltipClass),H.R7$(3),H.JRh($.message))},dependencies:[w.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return R})(),D=(()=>{class R{static#e=this.\u0275fac=function(v){return new(v||R)};static#t=this.\u0275mod=H.$C({type:R});static#n=this.\u0275inj=H.G2t({providers:[ce],imports:[S.Pd,w.MD,N.z_,z.yE,z.yE,U.Gj]})}return R})()},345:(We,j,_)=>{"use strict";_.d(j,{B7:()=>Me,B8:()=>F,hE:()=>le,up:()=>Ne});var y=_(60177),b=_(93953);class P extends y.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class H extends P{static makeCurrent(){(0,y.ZD)(new H)}onAndCancel(vt,ut,Gt){return vt.addEventListener(ut,Gt),()=>{vt.removeEventListener(ut,Gt)}}dispatchEvent(vt,ut){vt.dispatchEvent(ut)}remove(vt){vt.parentNode&&vt.parentNode.removeChild(vt)}createElement(vt,ut){return(ut=ut||this.getDefaultDocument()).createElement(vt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(vt){return vt.nodeType===Node.ELEMENT_NODE}isShadowRoot(vt){return vt instanceof DocumentFragment}getGlobalEventTarget(vt,ut){return"window"===ut?window:"document"===ut?vt:"body"===ut?vt.body:null}getBaseHref(vt){const ut=function O(){return w=w||document.querySelector("base"),w?w.getAttribute("href"):null}();return null==ut?null:function S(Zt){return new URL(Zt,document.baseURI).pathname}(ut)}resetBaseElement(){w=null}getUserAgent(){return window.navigator.userAgent}getCookie(vt){return(0,y._b)(document.cookie,vt)}}let w=null,N=(()=>{class Zt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Gt){return new(Gt||Zt)};static#t=this.\u0275prov=b.jDH({token:Zt,factory:Zt.\u0275fac})}return Zt})();const U=new b.nKC("");let A=(()=>{class Zt{constructor(ut,Gt){this._zone=Gt,this._eventNameToPlugin=new Map,ut.forEach(nn=>{nn.manager=this}),this._plugins=ut.slice().reverse()}addEventListener(ut,Gt,nn){return this._findPluginFor(Gt).addEventListener(ut,Gt,nn)}getZone(){return this._zone}_findPluginFor(ut){let Gt=this._eventNameToPlugin.get(ut);if(Gt)return Gt;if(Gt=this._plugins.find(pn=>pn.supports(ut)),!Gt)throw new b.wOt(5101,!1);return this._eventNameToPlugin.set(ut,Gt),Gt}static#e=this.\u0275fac=function(Gt){return new(Gt||Zt)(b.KVO(U),b.KVO(b.SKi))};static#t=this.\u0275prov=b.jDH({token:Zt,factory:Zt.\u0275fac})}return Zt})();class G{constructor(vt){this._doc=vt}}const L="ng-app-id";let z=(()=>{class Zt{constructor(ut,Gt,nn,pn={}){this.doc=ut,this.appId=Gt,this.nonce=nn,this.platformId=pn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,y.Vy)(pn),this.resetHostNodes()}addStyles(ut){for(const Gt of ut)1===this.changeUsageCount(Gt,1)&&this.onStyleAdded(Gt)}removeStyles(ut){for(const Gt of ut)this.changeUsageCount(Gt,-1)<=0&&this.onStyleRemoved(Gt)}ngOnDestroy(){const ut=this.styleNodesInDOM;ut&&(ut.forEach(Gt=>Gt.remove()),ut.clear());for(const Gt of this.getAllStyles())this.onStyleRemoved(Gt);this.resetHostNodes()}addHost(ut){this.hostNodes.add(ut);for(const Gt of this.getAllStyles())this.addStyleToHost(ut,Gt)}removeHost(ut){this.hostNodes.delete(ut)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(ut){for(const Gt of this.hostNodes)this.addStyleToHost(Gt,ut)}onStyleRemoved(ut){const Gt=this.styleRef;Gt.get(ut)?.elements?.forEach(nn=>nn.remove()),Gt.delete(ut)}collectServerRenderedStyles(){const ut=this.doc.head?.querySelectorAll(`style[${L}="${this.appId}"]`);if(ut?.length){const Gt=new Map;return ut.forEach(nn=>{null!=nn.textContent&&Gt.set(nn.textContent,nn)}),Gt}return null}changeUsageCount(ut,Gt){const nn=this.styleRef;if(nn.has(ut)){const pn=nn.get(ut);return pn.usage+=Gt,pn.usage}return nn.set(ut,{usage:Gt,elements:[]}),Gt}getStyleElement(ut,Gt){const nn=this.styleNodesInDOM,pn=nn?.get(Gt);if(pn?.parentNode===ut)return nn.delete(Gt),pn.removeAttribute(L),pn;{const fr=this.doc.createElement("style");return this.nonce&&fr.setAttribute("nonce",this.nonce),fr.textContent=Gt,this.platformIsServer&&fr.setAttribute(L,this.appId),ut.appendChild(fr),fr}}addStyleToHost(ut,Gt){const nn=this.getStyleElement(ut,Gt),pn=this.styleRef,fr=pn.get(Gt)?.elements;fr?fr.push(nn):pn.set(Gt,{elements:[nn],usage:1})}resetHostNodes(){const ut=this.hostNodes;ut.clear(),ut.add(this.doc.head)}static#e=this.\u0275fac=function(Gt){return new(Gt||Zt)(b.KVO(y.qQ),b.KVO(b.sZ2),b.KVO(b.BIS,8),b.KVO(b.Agw))};static#t=this.\u0275prov=b.jDH({token:Zt,factory:Zt.\u0275fac})}return Zt})();const ee={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},q=/%COMP%/g,Z="%COMP%",J=`_nghost-${Z}`,se=`_ngcontent-${Z}`,ae=new b.nKC("",{providedIn:"root",factory:()=>!0});function we(Zt,vt){return vt.map(ut=>ut.replace(q,Zt))}let Me=(()=>{class Zt{constructor(ut,Gt,nn,pn,fr,yt,wt,Et=null){this.eventManager=ut,this.sharedStylesHost=Gt,this.appId=nn,this.removeStylesOnCompDestroy=pn,this.doc=fr,this.platformId=yt,this.ngZone=wt,this.nonce=Et,this.rendererByCompId=new Map,this.platformIsServer=(0,y.Vy)(yt),this.defaultRenderer=new Pe(ut,fr,wt,this.platformIsServer)}createRenderer(ut,Gt){if(!ut||!Gt)return this.defaultRenderer;this.platformIsServer&&Gt.encapsulation===b.gXe.ShadowDom&&(Gt={...Gt,encapsulation:b.gXe.Emulated});const nn=this.getOrCreateRenderer(ut,Gt);return nn instanceof E?nn.applyToHost(ut):nn instanceof p&&nn.applyStyles(),nn}getOrCreateRenderer(ut,Gt){const nn=this.rendererByCompId;let pn=nn.get(Gt.id);if(!pn){const fr=this.doc,yt=this.ngZone,wt=this.eventManager,Et=this.sharedStylesHost,Ye=this.removeStylesOnCompDestroy,et=this.platformIsServer;switch(Gt.encapsulation){case b.gXe.Emulated:pn=new E(wt,Et,Gt,this.appId,Ye,fr,yt,et);break;case b.gXe.ShadowDom:return new m(wt,Et,ut,Gt,fr,yt,this.nonce,et);default:pn=new p(wt,Et,Gt,Ye,fr,yt,et)}nn.set(Gt.id,pn)}return pn}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Gt){return new(Gt||Zt)(b.KVO(A),b.KVO(z),b.KVO(b.sZ2),b.KVO(ae),b.KVO(y.qQ),b.KVO(b.Agw),b.KVO(b.SKi),b.KVO(b.BIS))};static#t=this.\u0275prov=b.jDH({token:Zt,factory:Zt.\u0275fac})}return Zt})();class Pe{constructor(vt,ut,Gt,nn){this.eventManager=vt,this.doc=ut,this.ngZone=Gt,this.platformIsServer=nn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(vt,ut){return ut?this.doc.createElementNS(ee[ut]||ut,vt):this.doc.createElement(vt)}createComment(vt){return this.doc.createComment(vt)}createText(vt){return this.doc.createTextNode(vt)}appendChild(vt,ut){(d(vt)?vt.content:vt).appendChild(ut)}insertBefore(vt,ut,Gt){vt&&(d(vt)?vt.content:vt).insertBefore(ut,Gt)}removeChild(vt,ut){vt&&vt.removeChild(ut)}selectRootElement(vt,ut){let Gt="string"==typeof vt?this.doc.querySelector(vt):vt;if(!Gt)throw new b.wOt(-5104,!1);return ut||(Gt.textContent=""),Gt}parentNode(vt){return vt.parentNode}nextSibling(vt){return vt.nextSibling}setAttribute(vt,ut,Gt,nn){if(nn){ut=nn+":"+ut;const pn=ee[nn];pn?vt.setAttributeNS(pn,ut,Gt):vt.setAttribute(ut,Gt)}else vt.setAttribute(ut,Gt)}removeAttribute(vt,ut,Gt){if(Gt){const nn=ee[Gt];nn?vt.removeAttributeNS(nn,ut):vt.removeAttribute(`${Gt}:${ut}`)}else vt.removeAttribute(ut)}addClass(vt,ut){vt.classList.add(ut)}removeClass(vt,ut){vt.classList.remove(ut)}setStyle(vt,ut,Gt,nn){nn&(b.czy.DashCase|b.czy.Important)?vt.style.setProperty(ut,Gt,nn&b.czy.Important?"important":""):vt.style[ut]=Gt}removeStyle(vt,ut,Gt){Gt&b.czy.DashCase?vt.style.removeProperty(ut):vt.style[ut]=""}setProperty(vt,ut,Gt){null!=vt&&(vt[ut]=Gt)}setValue(vt,ut){vt.nodeValue=ut}listen(vt,ut,Gt){if("string"==typeof vt&&!(vt=(0,y.QT)().getGlobalEventTarget(this.doc,vt)))throw new Error(`Unsupported event target ${vt} for event ${ut}`);return this.eventManager.addEventListener(vt,ut,this.decoratePreventDefault(Gt))}decoratePreventDefault(vt){return ut=>{if("__ngUnwrap__"===ut)return vt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>vt(ut)):vt(ut))&&ut.preventDefault()}}}function d(Zt){return"TEMPLATE"===Zt.tagName&&void 0!==Zt.content}class m extends Pe{constructor(vt,ut,Gt,nn,pn,fr,yt,wt){super(vt,pn,fr,wt),this.sharedStylesHost=ut,this.hostEl=Gt,this.shadowRoot=Gt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Et=we(nn.id,nn.styles);for(const Ye of Et){const et=document.createElement("style");yt&&et.setAttribute("nonce",yt),et.textContent=Ye,this.shadowRoot.appendChild(et)}}nodeOrShadowRoot(vt){return vt===this.hostEl?this.shadowRoot:vt}appendChild(vt,ut){return super.appendChild(this.nodeOrShadowRoot(vt),ut)}insertBefore(vt,ut,Gt){return super.insertBefore(this.nodeOrShadowRoot(vt),ut,Gt)}removeChild(vt,ut){return super.removeChild(this.nodeOrShadowRoot(vt),ut)}parentNode(vt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(vt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class p extends Pe{constructor(vt,ut,Gt,nn,pn,fr,yt,wt){super(vt,pn,fr,yt),this.sharedStylesHost=ut,this.removeStylesOnCompDestroy=nn,this.styles=wt?we(wt,Gt.styles):Gt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class E extends p{constructor(vt,ut,Gt,nn,pn,fr,yt,wt){const Et=nn+"-"+Gt.id;super(vt,ut,Gt,pn,fr,yt,wt,Et),this.contentAttr=function fe(Zt){return se.replace(q,Zt)}(Et),this.hostAttr=function he(Zt){return J.replace(q,Zt)}(Et)}applyToHost(vt){this.applyStyles(),this.setAttribute(vt,this.hostAttr,"")}createElement(vt,ut){const Gt=super.createElement(vt,ut);return super.setAttribute(Gt,this.contentAttr,""),Gt}}let D=(()=>{class Zt extends G{constructor(ut){super(ut)}supports(ut){return!0}addEventListener(ut,Gt,nn){return ut.addEventListener(Gt,nn,!1),()=>this.removeEventListener(ut,Gt,nn)}removeEventListener(ut,Gt,nn){return ut.removeEventListener(Gt,nn)}static#e=this.\u0275fac=function(Gt){return new(Gt||Zt)(b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:Zt,factory:Zt.\u0275fac})}return Zt})(),R=(()=>{class Zt extends G{constructor(ut){super(ut),this.delegate=(0,b.WQX)(b.zAP,{optional:!0})}supports(ut){return!!this.delegate&&this.delegate.supports(ut)}addEventListener(ut,Gt,nn){return this.delegate.addEventListener(ut,Gt,nn)}removeEventListener(ut,Gt,nn){return this.delegate.removeEventListener(ut,Gt,nn)}static#e=this.\u0275fac=function(Gt){return new(Gt||Zt)(b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:Zt,factory:Zt.\u0275fac})}return Zt})();const x=["alt","control","meta","shift"],s={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v={alt:Zt=>Zt.altKey,control:Zt=>Zt.ctrlKey,meta:Zt=>Zt.metaKey,shift:Zt=>Zt.shiftKey};let $=(()=>{class Zt extends G{constructor(ut){super(ut)}supports(ut){return null!=Zt.parseEventName(ut)}addEventListener(ut,Gt,nn){const pn=Zt.parseEventName(Gt),fr=Zt.eventCallback(pn.fullKey,nn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.QT)().onAndCancel(ut,pn.domEventName,fr))}static parseEventName(ut){const Gt=ut.toLowerCase().split("."),nn=Gt.shift();if(0===Gt.length||"keydown"!==nn&&"keyup"!==nn)return null;const pn=Zt._normalizeKey(Gt.pop());let fr="",yt=Gt.indexOf("code");if(yt>-1&&(Gt.splice(yt,1),fr="code."),x.forEach(Et=>{const Ye=Gt.indexOf(Et);Ye>-1&&(Gt.splice(Ye,1),fr+=Et+".")}),fr+=pn,0!=Gt.length||0===pn.length)return null;const wt={};return wt.domEventName=nn,wt.fullKey=fr,wt}static matchEventFullKeyCode(ut,Gt){let nn=s[ut.key]||ut.key,pn="";return Gt.indexOf("code.")>-1&&(nn=ut.code,pn="code."),!(null==nn||!nn)&&(nn=nn.toLowerCase()," "===nn?nn="space":"."===nn&&(nn="dot"),x.forEach(fr=>{fr!==nn&&(0,v[fr])(ut)&&(pn+=fr+".")}),pn+=nn,pn===Gt)}static eventCallback(ut,Gt,nn){return pn=>{Zt.matchEventFullKeyCode(pn,ut)&&nn.runGuarded(()=>Gt(pn))}}static _normalizeKey(ut){return"esc"===ut?"escape":ut}static#e=this.\u0275fac=function(Gt){return new(Gt||Zt)(b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:Zt,factory:Zt.\u0275fac})}return Zt})();function F(Zt,vt){return(0,b.TL3)({rootComponent:Zt,...de(vt)})}function de(Zt){return{appProviders:[...ge,...Zt?.providers??[]],platformProviders:_e}}const _e=[{provide:b.Agw,useValue:y.AJ},{provide:b.PLl,useValue:function Re(){H.makeCurrent()},multi:!0},{provide:y.qQ,useFactory:function Ee(){return(0,b.TL$)(document),document},deps:[]}],ge=[{provide:b.H8p,useValue:"root"},{provide:b.zcH,useFactory:function Ve(){return new b.zcH},deps:[]},{provide:U,useClass:D,multi:!0,deps:[y.qQ,b.SKi,b.Agw]},{provide:U,useClass:$,multi:!0,deps:[y.qQ]},{provide:U,useClass:R,multi:!0},Me,z,A,{provide:b._9s,useExisting:Me},{provide:y.N0,useClass:N,deps:[]},[]];let le=(()=>{class Zt{constructor(ut){this._doc=ut}getTitle(){return this._doc.title}setTitle(ut){this._doc.title=ut||""}static#e=this.\u0275fac=function(Gt){return new(Gt||Zt)(b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"})}return Zt})(),Ne=(()=>{class Zt{static#e=this.\u0275fac=function(Gt){return new(Gt||Zt)};static#t=this.\u0275prov=b.jDH({token:Zt,factory:function(Gt){let nn=null;return nn=Gt?new(Gt||Zt):b.KVO(lt),nn},providedIn:"root"})}return Zt})(),lt=(()=>{class Zt extends Ne{constructor(ut){super(),this._doc=ut}sanitize(ut,Gt){if(null==Gt)return null;switch(ut){case b.WPN.NONE:return Gt;case b.WPN.HTML:return(0,b.ZF7)(Gt,"HTML")?(0,b.rcV)(Gt):(0,b.h9k)(this._doc,String(Gt)).toString();case b.WPN.STYLE:return(0,b.ZF7)(Gt,"Style")?(0,b.rcV)(Gt):Gt;case b.WPN.SCRIPT:if((0,b.ZF7)(Gt,"Script"))return(0,b.rcV)(Gt);throw new b.wOt(5200,!1);case b.WPN.URL:return(0,b.ZF7)(Gt,"URL")?(0,b.rcV)(Gt):(0,b.$MX)(String(Gt));case b.WPN.RESOURCE_URL:if((0,b.ZF7)(Gt,"ResourceURL"))return(0,b.rcV)(Gt);throw new b.wOt(5201,!1);default:throw new b.wOt(5202,!1)}}bypassSecurityTrustHtml(ut){return(0,b.Kcf)(ut)}bypassSecurityTrustStyle(ut){return(0,b.cWb)(ut)}bypassSecurityTrustScript(ut){return(0,b.UyX)(ut)}bypassSecurityTrustUrl(ut){return(0,b.osQ)(ut)}bypassSecurityTrustResourceUrl(ut){return(0,b.e5t)(ut)}static#e=this.\u0275fac=function(Gt){return new(Gt||Zt)(b.KVO(y.qQ))};static#t=this.\u0275prov=b.jDH({token:Zt,factory:Zt.\u0275fac,providedIn:"root"})}return Zt})()},18498:(We,j,_)=>{"use strict";_.d(j,{nX:()=>es,wF:()=>$r,Z:()=>Mr,Kp:()=>zt,Ix:()=>oe,Wk:()=>Ze,wQ:()=>ht,iI:()=>_l,n3:()=>ld,lh:()=>Vr,Sn:()=>il});var y=_(10467),b=_(93953),P=_(74402),H=_(86648),w=_(7673),O=_(84412),S=_(84572);const N=(0,_(81853).L)(Ge=>function(){Ge(this),this.name="EmptyError",this.message="no elements in sequence"});var U=_(28793),A=_(59030),G=_(71203),L=_(18810),z=_(983),ee=_(30017),q=_(21413),Z=_(18359),J=_(60177),se=_(96354),ce=_(25558),ae=_(96697),fe=_(99172),he=_(5964),we=_(31397),Me=_(39974),Pe=_(54360);function C(Ge){return(0,Me.N)((ft,Qe)=>{let pt=!1;ft.subscribe((0,Pe._)(Qe,Pt=>{pt=!0,Qe.next(Pt)},()=>{pt||Qe.next(Ge),Qe.complete()}))})}function a(Ge=d){return(0,Me.N)((ft,Qe)=>{let pt=!1;ft.subscribe((0,Pe._)(Qe,Pt=>{pt=!0,Qe.next(Pt)},()=>pt?Qe.complete():Qe.error(Ge())))})}function d(){return new N}var m=_(33669);function p(Ge,ft){const Qe=arguments.length>=2;return pt=>pt.pipe(Ge?(0,he.p)((Pt,sn)=>Ge(Pt,sn,pt)):m.D,(0,ae.s)(1),Qe?C(ft):a(()=>new N))}var E=_(70274),D=_(88141),R=_(99437);function v(Ge){return Ge<=0?()=>z.w:(0,Me.N)((ft,Qe)=>{let pt=[];ft.subscribe((0,Pe._)(Qe,Pt=>{pt.push(Pt),Ge<pt.length&&pt.shift()},()=>{for(const Pt of pt)Qe.next(Pt);Qe.complete()},void 0,()=>{pt=null}))})}var F=_(73703),Q=_(70980),de=_(99898),De=_(56977),Re=_(26365),Ve=_(345);const Ee="primary",_e=Symbol("RouteTitle");class Fe{constructor(ft){this.params=ft||{}}has(ft){return Object.prototype.hasOwnProperty.call(this.params,ft)}get(ft){if(this.has(ft)){const Qe=this.params[ft];return Array.isArray(Qe)?Qe[0]:Qe}return null}getAll(ft){if(this.has(ft)){const Qe=this.params[ft];return Array.isArray(Qe)?Qe:[Qe]}return[]}get keys(){return Object.keys(this.params)}}function ve(Ge){return new Fe(Ge)}function Te(Ge,ft,Qe){const pt=Qe.path.split("/");if(pt.length>Ge.length||"full"===Qe.pathMatch&&(ft.hasChildren()||pt.length<Ge.length))return null;const Pt={};for(let sn=0;sn<pt.length;sn++){const _n=pt[sn],sr=Ge[sn];if(":"===_n[0])Pt[_n.substring(1)]=sr;else if(_n!==sr.path)return null}return{consumed:Ge.slice(0,pt.length),posParams:Pt}}function me(Ge,ft){const Qe=Ge?te(Ge):void 0,pt=ft?te(ft):void 0;if(!Qe||!pt||Qe.length!=pt.length)return!1;let Pt;for(let sn=0;sn<Qe.length;sn++)if(Pt=Qe[sn],!ne(Ge[Pt],ft[Pt]))return!1;return!0}function te(Ge){return[...Object.keys(Ge),...Object.getOwnPropertySymbols(Ge)]}function ne(Ge,ft){if(Array.isArray(Ge)&&Array.isArray(ft)){if(Ge.length!==ft.length)return!1;const Qe=[...Ge].sort(),pt=[...ft].sort();return Qe.every((Pt,sn)=>pt[sn]===Pt)}return Ge===ft}function le(Ge){return Ge.length>0?Ge[Ge.length-1]:null}function Ae(Ge){return(0,P.A)(Ge)?Ge:(0,b.jNT)(Ge)?(0,H.H)(Promise.resolve(Ge)):(0,w.of)(Ge)}const Be={exact:function Xe(Ge,ft,Qe){if(!Ne(Ge.segments,ft.segments)||!T(Ge.segments,ft.segments,Qe)||Ge.numberOfChildren!==ft.numberOfChildren)return!1;for(const pt in ft.children)if(!Ge.children[pt]||!Xe(Ge.children[pt],ft.children[pt],Qe))return!1;return!0},subset:mt},qe={exact:function Dt(Ge,ft){return me(Ge,ft)},subset:function Ue(Ge,ft){return Object.keys(ft).length<=Object.keys(Ge).length&&Object.keys(ft).every(Qe=>ne(Ge[Qe],ft[Qe]))},ignored:()=>!0};function ze(Ge,ft,Qe){return Be[Qe.paths](Ge.root,ft.root,Qe.matrixParams)&&qe[Qe.queryParams](Ge.queryParams,ft.queryParams)&&!("exact"===Qe.fragment&&Ge.fragment!==ft.fragment)}function mt(Ge,ft,Qe){return K(Ge,ft,ft.segments,Qe)}function K(Ge,ft,Qe,pt){if(Ge.segments.length>Qe.length){const Pt=Ge.segments.slice(0,Qe.length);return!(!Ne(Pt,Qe)||ft.hasChildren()||!T(Pt,Qe,pt))}if(Ge.segments.length===Qe.length){if(!Ne(Ge.segments,Qe)||!T(Ge.segments,Qe,pt))return!1;for(const Pt in ft.children)if(!Ge.children[Pt]||!mt(Ge.children[Pt],ft.children[Pt],pt))return!1;return!0}{const Pt=Qe.slice(0,Ge.segments.length),sn=Qe.slice(Ge.segments.length);return!!(Ne(Ge.segments,Pt)&&T(Ge.segments,Pt,pt)&&Ge.children[Ee])&&K(Ge.children[Ee],ft,sn,pt)}}function T(Ge,ft,Qe){return ft.every((pt,Pt)=>qe[Qe](Ge[Pt].parameters,pt.parameters))}class M{constructor(ft=new Y([],{}),Qe={},pt=null){this.root=ft,this.queryParams=Qe,this.fragment=pt}get queryParamMap(){return this._queryParamMap??=ve(this.queryParams),this._queryParamMap}toString(){return Kt.serialize(this)}}class Y{constructor(ft,Qe){this.segments=ft,this.children=Qe,this.parent=null,Object.values(Qe).forEach(pt=>pt.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rn(this)}}class pe{constructor(ft,Qe){this.path=ft,this.parameters=Qe}get parameterMap(){return this._parameterMap??=ve(this.parameters),this._parameterMap}toString(){return ut(this)}}function Ne(Ge,ft){return Ge.length===ft.length&&Ge.every((Qe,pt)=>Qe.path===ft[pt].path)}let en=(()=>{class Ge{static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:()=>new It,providedIn:"root"})}return Ge})();class It{parse(ft){const Qe=new Ft(ft);return new M(Qe.parseRootSegment(),Qe.parseQueryParams(),Qe.parseFragment())}serialize(ft){const Qe=`/${gn(ft.root,!0)}`,pt=function nn(Ge){const ft=Object.entries(Ge).map(([Qe,pt])=>Array.isArray(pt)?pt.map(Pt=>`${ar(Qe)}=${ar(Pt)}`).join("&"):`${ar(Qe)}=${ar(pt)}`).filter(Qe=>Qe);return ft.length?`?${ft.join("&")}`:""}(ft.queryParams);return`${Qe}${pt}${"string"==typeof ft.fragment?`#${function Cn(Ge){return encodeURI(Ge)}(ft.fragment)}`:""}`}}const Kt=new It;function rn(Ge){return Ge.segments.map(ft=>ut(ft)).join("/")}function gn(Ge,ft){if(!Ge.hasChildren())return rn(Ge);if(ft){const Qe=Ge.children[Ee]?gn(Ge.children[Ee],!1):"",pt=[];return Object.entries(Ge.children).forEach(([Pt,sn])=>{Pt!==Ee&&pt.push(`${Pt}:${gn(sn,!1)}`)}),pt.length>0?`${Qe}(${pt.join("//")})`:Qe}{const Qe=function lt(Ge,ft){let Qe=[];return Object.entries(Ge.children).forEach(([pt,Pt])=>{pt===Ee&&(Qe=Qe.concat(ft(Pt,pt)))}),Object.entries(Ge.children).forEach(([pt,Pt])=>{pt!==Ee&&(Qe=Qe.concat(ft(Pt,pt)))}),Qe}(Ge,(pt,Pt)=>Pt===Ee?[gn(Ge.children[Ee],!1)]:[`${Pt}:${gn(pt,!1)}`]);return 1===Object.keys(Ge.children).length&&null!=Ge.children[Ee]?`${rn(Ge)}/${Qe[0]}`:`${rn(Ge)}/(${Qe.join("//")})`}}function ln(Ge){return encodeURIComponent(Ge).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ar(Ge){return ln(Ge).replace(/%3B/gi,";")}function cn(Ge){return ln(Ge).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zt(Ge){return decodeURIComponent(Ge)}function vt(Ge){return Zt(Ge.replace(/\+/g,"%20"))}function ut(Ge){return`${cn(Ge.path)}${function Gt(Ge){return Object.entries(Ge).map(([ft,Qe])=>`;${cn(ft)}=${cn(Qe)}`).join("")}(Ge.parameters)}`}const pn=/^[^\/()?;#]+/;function fr(Ge){const ft=Ge.match(pn);return ft?ft[0]:""}const yt=/^[^\/()?;=#]+/,Et=/^[^=?&#]+/,et=/^[^&#]+/;class Ft{constructor(ft){this.url=ft,this.remaining=ft}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){const ft={};if(this.consumeOptional("?"))do{this.parseQueryParam(ft)}while(this.consumeOptional("&"));return ft}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ft=[];for(this.peekStartsWith("(")||ft.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ft.push(this.parseSegment());let Qe={};this.peekStartsWith("/(")&&(this.capture("/"),Qe=this.parseParens(!0));let pt={};return this.peekStartsWith("(")&&(pt=this.parseParens(!1)),(ft.length>0||Object.keys(Qe).length>0)&&(pt[Ee]=new Y(ft,Qe)),pt}parseSegment(){const ft=fr(this.remaining);if(""===ft&&this.peekStartsWith(";"))throw new b.wOt(4009,!1);return this.capture(ft),new pe(Zt(ft),this.parseMatrixParams())}parseMatrixParams(){const ft={};for(;this.consumeOptional(";");)this.parseParam(ft);return ft}parseParam(ft){const Qe=function wt(Ge){const ft=Ge.match(yt);return ft?ft[0]:""}(this.remaining);if(!Qe)return;this.capture(Qe);let pt="";if(this.consumeOptional("=")){const Pt=fr(this.remaining);Pt&&(pt=Pt,this.capture(pt))}ft[Zt(Qe)]=Zt(pt)}parseQueryParam(ft){const Qe=function Ye(Ge){const ft=Ge.match(Et);return ft?ft[0]:""}(this.remaining);if(!Qe)return;this.capture(Qe);let pt="";if(this.consumeOptional("=")){const _n=function Wt(Ge){const ft=Ge.match(et);return ft?ft[0]:""}(this.remaining);_n&&(pt=_n,this.capture(pt))}const Pt=vt(Qe),sn=vt(pt);if(ft.hasOwnProperty(Pt)){let _n=ft[Pt];Array.isArray(_n)||(_n=[_n],ft[Pt]=_n),_n.push(sn)}else ft[Pt]=sn}parseParens(ft){const Qe={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const pt=fr(this.remaining),Pt=this.remaining[pt.length];if("/"!==Pt&&")"!==Pt&&";"!==Pt)throw new b.wOt(4010,!1);let sn;pt.indexOf(":")>-1?(sn=pt.slice(0,pt.indexOf(":")),this.capture(sn),this.capture(":")):ft&&(sn=Ee);const _n=this.parseChildren();Qe[sn]=1===Object.keys(_n).length?_n[Ee]:new Y([],_n),this.consumeOptional("//")}return Qe}peekStartsWith(ft){return this.remaining.startsWith(ft)}consumeOptional(ft){return!!this.peekStartsWith(ft)&&(this.remaining=this.remaining.substring(ft.length),!0)}capture(ft){if(!this.consumeOptional(ft))throw new b.wOt(4011,!1)}}function mn(Ge){return Ge.segments.length>0?new Y([],{[Ee]:Ge}):Ge}function Vn(Ge){const ft={};for(const[pt,Pt]of Object.entries(Ge.children)){const sn=Vn(Pt);if(pt===Ee&&0===sn.segments.length&&sn.hasChildren())for(const[_n,sr]of Object.entries(sn.children))ft[_n]=sr;else(sn.segments.length>0||sn.hasChildren())&&(ft[pt]=sn)}return function bn(Ge){if(1===Ge.numberOfChildren&&Ge.children[Ee]){const ft=Ge.children[Ee];return new Y(Ge.segments.concat(ft.segments),ft.children)}return Ge}(new Y(Ge.segments,ft))}function Mn(Ge){return Ge instanceof M}function or(Ge){let ft;const Pt=mn(function Qe(sn){const _n={};for(const Wn of sn.children){const Ur=Qe(Wn);_n[Wn.outlet]=Ur}const sr=new Y(sn.url,_n);return sn===Ge&&(ft=sr),sr}(Ge.root));return ft??Pt}function Nn(Ge,ft,Qe,pt){let Pt=Ge;for(;Pt.parent;)Pt=Pt.parent;if(0===ft.length)return He(Pt,Pt,Pt,Qe,pt);const sn=function En(Ge){if("string"==typeof Ge[0]&&1===Ge.length&&"/"===Ge[0])return new Yt(!0,0,Ge);let ft=0,Qe=!1;const pt=Ge.reduce((Pt,sn,_n)=>{if("object"==typeof sn&&null!=sn){if(sn.outlets){const sr={};return Object.entries(sn.outlets).forEach(([Wn,Ur])=>{sr[Wn]="string"==typeof Ur?Ur.split("/"):Ur}),[...Pt,{outlets:sr}]}if(sn.segmentPath)return[...Pt,sn.segmentPath]}return"string"!=typeof sn?[...Pt,sn]:0===_n?(sn.split("/").forEach((sr,Wn)=>{0==Wn&&"."===sr||(0==Wn&&""===sr?Qe=!0:".."===sr?ft++:""!=sr&&Pt.push(sr))}),Pt):[...Pt,sn]},[]);return new Yt(Qe,ft,pt)}(ft);if(sn.toRoot())return He(Pt,Pt,new Y([],{}),Qe,pt);const _n=function er(Ge,ft,Qe){if(Ge.isAbsolute)return new zn(ft,!0,0);if(!Qe)return new zn(ft,!1,NaN);if(null===Qe.parent)return new zn(Qe,!0,0);const pt=Ln(Ge.commands[0])?0:1;return function mr(Ge,ft,Qe){let pt=Ge,Pt=ft,sn=Qe;for(;sn>Pt;){if(sn-=Pt,pt=pt.parent,!pt)throw new b.wOt(4005,!1);Pt=pt.segments.length}return new zn(pt,!1,Pt-sn)}(Qe,Qe.segments.length-1+pt,Ge.numberOfDoubleDots)}(sn,Pt,Ge),sr=_n.processChildren?Kr(_n.segmentGroup,_n.index,sn.commands):Pr(_n.segmentGroup,_n.index,sn.commands);return He(Pt,_n.segmentGroup,sr,Qe,pt)}function Ln(Ge){return"object"==typeof Ge&&null!=Ge&&!Ge.outlets&&!Ge.segmentPath}function at(Ge){return"object"==typeof Ge&&null!=Ge&&Ge.outlets}function He(Ge,ft,Qe,pt,Pt){let _n,sn={};pt&&Object.entries(pt).forEach(([Wn,Ur])=>{sn[Wn]=Array.isArray(Ur)?Ur.map(Ui=>`${Ui}`):`${Ur}`}),_n=Ge===ft?Qe:ct(Ge,ft,Qe);const sr=mn(Vn(_n));return new M(sr,sn,Pt)}function ct(Ge,ft,Qe){const pt={};return Object.entries(Ge.children).forEach(([Pt,sn])=>{pt[Pt]=sn===ft?Qe:ct(sn,ft,Qe)}),new Y(Ge.segments,pt)}class Yt{constructor(ft,Qe,pt){if(this.isAbsolute=ft,this.numberOfDoubleDots=Qe,this.commands=pt,ft&&pt.length>0&&Ln(pt[0]))throw new b.wOt(4003,!1);const Pt=pt.find(at);if(Pt&&Pt!==le(pt))throw new b.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zn{constructor(ft,Qe,pt){this.segmentGroup=ft,this.processChildren=Qe,this.index=pt}}function Pr(Ge,ft,Qe){if(Ge??=new Y([],{}),0===Ge.segments.length&&Ge.hasChildren())return Kr(Ge,ft,Qe);const pt=function Fr(Ge,ft,Qe){let pt=0,Pt=ft;const sn={match:!1,pathIndex:0,commandIndex:0};for(;Pt<Ge.segments.length;){if(pt>=Qe.length)return sn;const _n=Ge.segments[Pt],sr=Qe[pt];if(at(sr))break;const Wn=`${sr}`,Ur=pt<Qe.length-1?Qe[pt+1]:null;if(Pt>0&&void 0===Wn)break;if(Wn&&Ur&&"object"==typeof Ur&&void 0===Ur.outlets){if(!Tn(Wn,Ur,_n))return sn;pt+=2}else{if(!Tn(Wn,{},_n))return sn;pt++}Pt++}return{match:!0,pathIndex:Pt,commandIndex:pt}}(Ge,ft,Qe),Pt=Qe.slice(pt.commandIndex);if(pt.match&&pt.pathIndex<Ge.segments.length){const sn=new Y(Ge.segments.slice(0,pt.pathIndex),{});return sn.children[Ee]=new Y(Ge.segments.slice(pt.pathIndex),Ge.children),Kr(sn,0,Pt)}return pt.match&&0===Pt.length?new Y(Ge.segments,{}):pt.match&&!Ge.hasChildren()?di(Ge,ft,Qe):pt.match?Kr(Ge,0,Pt):di(Ge,ft,Qe)}function Kr(Ge,ft,Qe){if(0===Qe.length)return new Y(Ge.segments,{});{const pt=function Lr(Ge){return at(Ge[0])?Ge[0].outlets:{[Ee]:Ge}}(Qe),Pt={};if(Object.keys(pt).some(sn=>sn!==Ee)&&Ge.children[Ee]&&1===Ge.numberOfChildren&&0===Ge.children[Ee].segments.length){const sn=Kr(Ge.children[Ee],ft,Qe);return new Y(Ge.segments,sn.children)}return Object.entries(pt).forEach(([sn,_n])=>{"string"==typeof _n&&(_n=[_n]),null!==_n&&(Pt[sn]=Pr(Ge.children[sn],ft,_n))}),Object.entries(Ge.children).forEach(([sn,_n])=>{void 0===pt[sn]&&(Pt[sn]=_n)}),new Y(Ge.segments,Pt)}}function di(Ge,ft,Qe){const pt=Ge.segments.slice(0,ft);let Pt=0;for(;Pt<Qe.length;){const sn=Qe[Pt];if(at(sn)){const Wn=on(sn.outlets);return new Y(pt,Wn)}if(0===Pt&&Ln(Qe[0])){pt.push(new pe(Ge.segments[ft].path,wn(Qe[0]))),Pt++;continue}const _n=at(sn)?sn.outlets[Ee]:`${sn}`,sr=Pt<Qe.length-1?Qe[Pt+1]:null;_n&&sr&&Ln(sr)?(pt.push(new pe(_n,wn(sr))),Pt+=2):(pt.push(new pe(_n,{})),Pt++)}return new Y(pt,{})}function on(Ge){const ft={};return Object.entries(Ge).forEach(([Qe,pt])=>{"string"==typeof pt&&(pt=[pt]),null!==pt&&(ft[Qe]=di(new Y([],{}),0,pt))}),ft}function wn(Ge){const ft={};return Object.entries(Ge).forEach(([Qe,pt])=>ft[Qe]=`${pt}`),ft}function Tn(Ge,ft,Qe){return Ge==Qe.path&&me(ft,Qe.parameters)}const Hn="imperative";var Gn=function(Ge){return Ge[Ge.NavigationStart=0]="NavigationStart",Ge[Ge.NavigationEnd=1]="NavigationEnd",Ge[Ge.NavigationCancel=2]="NavigationCancel",Ge[Ge.NavigationError=3]="NavigationError",Ge[Ge.RoutesRecognized=4]="RoutesRecognized",Ge[Ge.ResolveStart=5]="ResolveStart",Ge[Ge.ResolveEnd=6]="ResolveEnd",Ge[Ge.GuardsCheckStart=7]="GuardsCheckStart",Ge[Ge.GuardsCheckEnd=8]="GuardsCheckEnd",Ge[Ge.RouteConfigLoadStart=9]="RouteConfigLoadStart",Ge[Ge.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",Ge[Ge.ChildActivationStart=11]="ChildActivationStart",Ge[Ge.ChildActivationEnd=12]="ChildActivationEnd",Ge[Ge.ActivationStart=13]="ActivationStart",Ge[Ge.ActivationEnd=14]="ActivationEnd",Ge[Ge.Scroll=15]="Scroll",Ge[Ge.NavigationSkipped=16]="NavigationSkipped",Ge}(Gn||{});class _r{constructor(ft,Qe){this.id=ft,this.url=Qe}}class Mr extends _r{constructor(ft,Qe,pt="imperative",Pt=null){super(ft,Qe),this.type=Gn.NavigationStart,this.navigationTrigger=pt,this.restoredState=Pt}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $r extends _r{constructor(ft,Qe,pt){super(ft,Qe),this.urlAfterRedirects=pt,this.type=Gn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var jr=function(Ge){return Ge[Ge.Redirect=0]="Redirect",Ge[Ge.SupersededByNewNavigation=1]="SupersededByNewNavigation",Ge[Ge.NoDataFromResolver=2]="NoDataFromResolver",Ge[Ge.GuardRejected=3]="GuardRejected",Ge}(jr||{}),Ii=function(Ge){return Ge[Ge.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",Ge[Ge.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",Ge}(Ii||{});class Mo extends _r{constructor(ft,Qe,pt,Pt){super(ft,Qe),this.reason=pt,this.code=Pt,this.type=Gn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class li extends _r{constructor(ft,Qe,pt,Pt){super(ft,Qe),this.reason=pt,this.code=Pt,this.type=Gn.NavigationSkipped}}class go extends _r{constructor(ft,Qe,pt,Pt){super(ft,Qe),this.error=pt,this.target=Pt,this.type=Gn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wo extends _r{constructor(ft,Qe,pt,Pt){super(ft,Qe),this.urlAfterRedirects=pt,this.state=Pt,this.type=Gn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ro extends _r{constructor(ft,Qe,pt,Pt){super(ft,Qe),this.urlAfterRedirects=pt,this.state=Pt,this.type=Gn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vi extends _r{constructor(ft,Qe,pt,Pt,sn){super(ft,Qe),this.urlAfterRedirects=pt,this.state=Pt,this.shouldActivate=sn,this.type=Gn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vi extends _r{constructor(ft,Qe,pt,Pt){super(ft,Qe),this.urlAfterRedirects=pt,this.state=Pt,this.type=Gn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji extends _r{constructor(ft,Qe,pt,Pt){super(ft,Qe),this.urlAfterRedirects=pt,this.state=Pt,this.type=Gn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class za{constructor(ft){this.route=ft,this.type=Gn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pi{constructor(ft){this.route=ft,this.type=Gn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xn{constructor(ft){this.snapshot=ft,this.type=Gn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wr{constructor(ft){this.snapshot=ft,this.type=Gn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dn{constructor(ft){this.snapshot=ft,this.type=Gn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Un{constructor(ft){this.snapshot=ft,this.type=Gn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fn{constructor(ft,Qe,pt){this.routerEvent=ft,this.position=Qe,this.anchor=pt,this.type=Gn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gr{}class ri{constructor(ft,Qe){this.url=ft,this.navigationBehaviorOptions=Qe}}function ba(Ge){return Ge.outlet||Ee}function ic(Ge){if(!Ge)return null;if(Ge.routeConfig?._injector)return Ge.routeConfig._injector;for(let ft=Ge.parent;ft;ft=ft.parent){const Qe=ft.routeConfig;if(Qe?._loadedInjector)return Qe._loadedInjector;if(Qe?._injector)return Qe._injector}return null}class aa{get injector(){return ic(this.route?.snapshot)??this.rootInjector}set injector(ft){}constructor(ft){this.rootInjector=ft,this.outlet=null,this.route=null,this.children=new oc(this.rootInjector),this.attachRef=null}}let oc=(()=>{class Ge{constructor(Qe){this.rootInjector=Qe,this.contexts=new Map}onChildOutletCreated(Qe,pt){const Pt=this.getOrCreateContext(Qe);Pt.outlet=pt,this.contexts.set(Qe,Pt)}onChildOutletDestroyed(Qe){const pt=this.getContext(Qe);pt&&(pt.outlet=null,pt.attachRef=null)}onOutletDeactivated(){const Qe=this.contexts;return this.contexts=new Map,Qe}onOutletReAttached(Qe){this.contexts=Qe}getOrCreateContext(Qe){let pt=this.getContext(Qe);return pt||(pt=new aa(this.rootInjector),this.contexts.set(Qe,pt)),pt}getContext(Qe){return this.contexts.get(Qe)||null}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.KVO(b.uvJ))};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();class Ji{constructor(ft){this._root=ft}get root(){return this._root.value}parent(ft){const Qe=this.pathFromRoot(ft);return Qe.length>1?Qe[Qe.length-2]:null}children(ft){const Qe=ca(ft,this._root);return Qe?Qe.children.map(pt=>pt.value):[]}firstChild(ft){const Qe=ca(ft,this._root);return Qe&&Qe.children.length>0?Qe.children[0].value:null}siblings(ft){const Qe=Uc(ft,this._root);return Qe.length<2?[]:Qe[Qe.length-2].children.map(Pt=>Pt.value).filter(Pt=>Pt!==ft)}pathFromRoot(ft){return Uc(ft,this._root).map(Qe=>Qe.value)}}function ca(Ge,ft){if(Ge===ft.value)return ft;for(const Qe of ft.children){const pt=ca(Ge,Qe);if(pt)return pt}return null}function Uc(Ge,ft){if(Ge===ft.value)return[ft];for(const Qe of ft.children){const pt=Uc(Ge,Qe);if(pt.length)return pt.unshift(ft),pt}return[]}class Ia{constructor(ft,Qe){this.value=ft,this.children=Qe}toString(){return`TreeNode(${this.value})`}}function Ko(Ge){const ft={};return Ge&&Ge.children.forEach(Qe=>ft[Qe.value.outlet]=Qe),ft}class Ld extends Ji{constructor(ft,Qe){super(ft),this.snapshot=Qe,Vs(this,ft)}toString(){return this.snapshot.toString()}}function Wc(Ge){const ft=function Eu(Ge){const sn=new Xo([],{},{},"",{},Ee,Ge,null,{});return new kr("",new Ia(sn,[]))}(Ge),Qe=new O.t([new pe("",{})]),pt=new O.t({}),Pt=new O.t({}),sn=new O.t({}),_n=new O.t(""),sr=new es(Qe,pt,sn,_n,Pt,Ee,Ge,ft.root);return sr.snapshot=ft.root,new Ld(new Ia(sr,[]),ft)}class es{constructor(ft,Qe,pt,Pt,sn,_n,sr,Wn){this.urlSubject=ft,this.paramsSubject=Qe,this.queryParamsSubject=pt,this.fragmentSubject=Pt,this.dataSubject=sn,this.outlet=_n,this.component=sr,this._futureSnapshot=Wn,this.title=this.dataSubject?.pipe((0,se.T)(Ur=>Ur[_e]))??(0,w.of)(void 0),this.url=ft,this.params=Qe,this.queryParams=pt,this.fragment=Pt,this.data=sn}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,se.T)(ft=>ve(ft))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,se.T)(ft=>ve(ft))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gc(Ge,ft,Qe="emptyOnly"){let pt;const{routeConfig:Pt}=Ge;return pt=null===ft||"always"!==Qe&&""!==Pt?.path&&(ft.component||ft.routeConfig?.loadComponent)?{params:{...Ge.params},data:{...Ge.data},resolve:{...Ge.data,...Ge._resolvedData??{}}}:{params:{...ft.params,...Ge.params},data:{...ft.data,...Ge.data},resolve:{...Ge.data,...ft.data,...Pt?.data,...Ge._resolvedData}},Pt&&ls(Pt)&&(pt.resolve[_e]=Pt.title),pt}class Xo{get title(){return this.data?.[_e]}constructor(ft,Qe,pt,Pt,sn,_n,sr,Wn,Ur){this.url=ft,this.params=Qe,this.queryParams=pt,this.fragment=Pt,this.data=sn,this.outlet=_n,this.component=sr,this.routeConfig=Wn,this._resolve=Ur}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ve(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ve(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(pt=>pt.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kr extends Ji{constructor(ft,Qe){super(Qe),this.url=ft,Vs(this,Qe)}toString(){return Do(this._root)}}function Vs(Ge,ft){ft.value._routerState=Ge,ft.children.forEach(Qe=>Vs(Ge,Qe))}function Do(Ge){const ft=Ge.children.length>0?` { ${Ge.children.map(Do).join(", ")} } `:"";return`${Ge.value}${ft}`}function Za(Ge){if(Ge.snapshot){const ft=Ge.snapshot,Qe=Ge._futureSnapshot;Ge.snapshot=Qe,me(ft.queryParams,Qe.queryParams)||Ge.queryParamsSubject.next(Qe.queryParams),ft.fragment!==Qe.fragment&&Ge.fragmentSubject.next(Qe.fragment),me(ft.params,Qe.params)||Ge.paramsSubject.next(Qe.params),function ge(Ge,ft){if(Ge.length!==ft.length)return!1;for(let Qe=0;Qe<Ge.length;++Qe)if(!me(Ge[Qe],ft[Qe]))return!1;return!0}(ft.url,Qe.url)||Ge.urlSubject.next(Qe.url),me(ft.data,Qe.data)||Ge.dataSubject.next(Qe.data)}else Ge.snapshot=Ge._futureSnapshot,Ge.dataSubject.next(Ge._futureSnapshot.data)}function Cs(Ge,ft){const Qe=me(Ge.params,ft.params)&&function ke(Ge,ft){return Ne(Ge,ft)&&Ge.every((Qe,pt)=>me(Qe.parameters,ft[pt].parameters))}(Ge.url,ft.url);return Qe&&!(!Ge.parent!=!ft.parent)&&(!Ge.parent||Cs(Ge.parent,ft.parent))}function ls(Ge){return"string"==typeof Ge.title||null===Ge.title}let ld=(()=>{class Ge{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new b.bkB,this.deactivateEvents=new b.bkB,this.attachEvents=new b.bkB,this.detachEvents=new b.bkB,this.parentContexts=(0,b.WQX)(oc),this.location=(0,b.WQX)(b.c1b),this.changeDetector=(0,b.WQX)(b.gRc),this.inputBinder=(0,b.WQX)(So,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Qe){if(Qe.name){const{firstChange:pt,previousValue:Pt}=Qe.name;if(pt)return;this.isTrackedInParentContexts(Pt)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(Pt)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Qe){return this.parentContexts.getContext(Qe)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Qe=this.parentContexts.getContext(this.name);Qe?.route&&(Qe.attachRef?this.attach(Qe.attachRef,Qe.route):this.activateWith(Qe.route,Qe.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b.wOt(4012,!1);this.location.detach();const Qe=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Qe.instance),Qe}attach(Qe,pt){this.activated=Qe,this._activatedRoute=pt,this.location.insert(Qe.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Qe.instance)}deactivate(){if(this.activated){const Qe=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Qe)}}activateWith(Qe,pt){if(this.isActivated)throw new b.wOt(4013,!1);this._activatedRoute=Qe;const Pt=this.location,_n=Qe.snapshot.component,sr=this.parentContexts.getOrCreateContext(this.name).children,Wn=new co(Qe,sr,Pt.injector);this.activated=Pt.createComponent(_n,{index:Pt.length,injector:Wn,environmentInjector:pt}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275dir=b.FsC({type:Ge,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[b.OA$]})}return Ge})();class co{__ngOutletInjector(ft){return new co(this.route,this.childContexts,ft)}constructor(ft,Qe,pt){this.route=ft,this.childContexts=Qe,this.parent=pt}get(ft,Qe){return ft===es?this.route:ft===oc?this.childContexts:this.parent.get(ft,Qe)}}const So=new b.nKC("");let zs=(()=>{class Ge{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Qe){this.unsubscribeFromRouteData(Qe),this.subscribeToRouteData(Qe)}unsubscribeFromRouteData(Qe){this.outletDataSubscriptions.get(Qe)?.unsubscribe(),this.outletDataSubscriptions.delete(Qe)}subscribeToRouteData(Qe){const{activatedRoute:pt}=Qe,Pt=(0,S.z)([pt.queryParams,pt.params,pt.data]).pipe((0,ce.n)(([sn,_n,sr],Wn)=>(sr={...sn,..._n,...sr},0===Wn?(0,w.of)(sr):Promise.resolve(sr)))).subscribe(sn=>{if(!Qe.isActivated||!Qe.activatedComponentRef||Qe.activatedRoute!==pt||null===pt.component)return void this.unsubscribeFromRouteData(Qe);const _n=(0,b.HJs)(pt.component);if(_n)for(const{templateName:sr}of _n.inputs)Qe.activatedComponentRef.setInput(sr,sn[sr]);else this.unsubscribeFromRouteData(Qe)});this.outletDataSubscriptions.set(Qe,Pt)}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();function sc(Ge,ft,Qe){if(Qe&&Ge.shouldReuseRoute(ft.value,Qe.value.snapshot)){const pt=Qe.value;pt._futureSnapshot=ft.value;const Pt=function ko(Ge,ft,Qe){return ft.children.map(pt=>{for(const Pt of Qe.children)if(Ge.shouldReuseRoute(pt.value,Pt.value.snapshot))return sc(Ge,pt,Pt);return sc(Ge,pt)})}(Ge,ft,Qe);return new Ia(pt,Pt)}{if(Ge.shouldAttach(ft.value)){const sn=Ge.retrieve(ft.value);if(null!==sn){const _n=sn.route;return _n.value._futureSnapshot=ft.value,_n.children=ft.children.map(sr=>sc(Ge,sr)),_n}}const pt=function Lc(Ge){return new es(new O.t(Ge.url),new O.t(Ge.params),new O.t(Ge.queryParams),new O.t(Ge.fragment),new O.t(Ge.data),Ge.outlet,Ge.component,Ge)}(ft.value),Pt=ft.children.map(sn=>sc(Ge,sn));return new Ia(pt,Pt)}}class Hs{constructor(ft,Qe){this.redirectTo=ft,this.navigationBehaviorOptions=Qe}}const no="ngNavigationCancelingError";function ud(Ge,ft){const{redirectTo:Qe,navigationBehaviorOptions:pt}=Mn(ft)?{redirectTo:ft,navigationBehaviorOptions:void 0}:ft,Pt=wa(!1,jr.Redirect);return Pt.url=Qe,Pt.navigationBehaviorOptions=pt,Pt}function wa(Ge,ft){const Qe=new Error(`NavigationCancelingError: ${Ge||""}`);return Qe[no]=!0,Qe.cancellationCode=ft,Qe}function Jc(Ge){return!!Ge&&Ge[no]}class _a{constructor(ft,Qe,pt,Pt,sn){this.routeReuseStrategy=ft,this.futureState=Qe,this.currState=pt,this.forwardEvent=Pt,this.inputBindingEnabled=sn}activate(ft){const Qe=this.futureState._root,pt=this.currState?this.currState._root:null;this.deactivateChildRoutes(Qe,pt,ft),Za(this.futureState.root),this.activateChildRoutes(Qe,pt,ft)}deactivateChildRoutes(ft,Qe,pt){const Pt=Ko(Qe);ft.children.forEach(sn=>{const _n=sn.value.outlet;this.deactivateRoutes(sn,Pt[_n],pt),delete Pt[_n]}),Object.values(Pt).forEach(sn=>{this.deactivateRouteAndItsChildren(sn,pt)})}deactivateRoutes(ft,Qe,pt){const Pt=ft.value,sn=Qe?Qe.value:null;if(Pt===sn)if(Pt.component){const _n=pt.getContext(Pt.outlet);_n&&this.deactivateChildRoutes(ft,Qe,_n.children)}else this.deactivateChildRoutes(ft,Qe,pt);else sn&&this.deactivateRouteAndItsChildren(Qe,pt)}deactivateRouteAndItsChildren(ft,Qe){ft.value.component&&this.routeReuseStrategy.shouldDetach(ft.value.snapshot)?this.detachAndStoreRouteSubtree(ft,Qe):this.deactivateRouteAndOutlet(ft,Qe)}detachAndStoreRouteSubtree(ft,Qe){const pt=Qe.getContext(ft.value.outlet),Pt=pt&&ft.value.component?pt.children:Qe,sn=Ko(ft);for(const _n of Object.values(sn))this.deactivateRouteAndItsChildren(_n,Pt);if(pt&&pt.outlet){const _n=pt.outlet.detach(),sr=pt.children.onOutletDeactivated();this.routeReuseStrategy.store(ft.value.snapshot,{componentRef:_n,route:ft,contexts:sr})}}deactivateRouteAndOutlet(ft,Qe){const pt=Qe.getContext(ft.value.outlet),Pt=pt&&ft.value.component?pt.children:Qe,sn=Ko(ft);for(const _n of Object.values(sn))this.deactivateRouteAndItsChildren(_n,Pt);pt&&(pt.outlet&&(pt.outlet.deactivate(),pt.children.onOutletDeactivated()),pt.attachRef=null,pt.route=null)}activateChildRoutes(ft,Qe,pt){const Pt=Ko(Qe);ft.children.forEach(sn=>{this.activateRoutes(sn,Pt[sn.value.outlet],pt),this.forwardEvent(new Un(sn.value.snapshot))}),ft.children.length&&this.forwardEvent(new wr(ft.value.snapshot))}activateRoutes(ft,Qe,pt){const Pt=ft.value,sn=Qe?Qe.value:null;if(Za(Pt),Pt===sn)if(Pt.component){const _n=pt.getOrCreateContext(Pt.outlet);this.activateChildRoutes(ft,Qe,_n.children)}else this.activateChildRoutes(ft,Qe,pt);else if(Pt.component){const _n=pt.getOrCreateContext(Pt.outlet);if(this.routeReuseStrategy.shouldAttach(Pt.snapshot)){const sr=this.routeReuseStrategy.retrieve(Pt.snapshot);this.routeReuseStrategy.store(Pt.snapshot,null),_n.children.onOutletReAttached(sr.contexts),_n.attachRef=sr.componentRef,_n.route=sr.route.value,_n.outlet&&_n.outlet.attach(sr.componentRef,sr.route.value),Za(sr.route.value),this.activateChildRoutes(ft,null,_n.children)}else _n.attachRef=null,_n.route=Pt,_n.outlet&&_n.outlet.activateWith(Pt,_n.injector),this.activateChildRoutes(ft,null,_n.children)}else this.activateChildRoutes(ft,null,pt)}}class Ca{constructor(ft){this.path=ft,this.route=this.path[this.path.length-1]}}class Ut{constructor(ft,Qe){this.component=ft,this.route=Qe}}function Lt(Ge,ft,Qe){const pt=Ge._root;return fn(pt,ft?ft._root:null,Qe,[pt.value])}function Tt(Ge,ft){const Qe=Symbol(),pt=ft.get(Ge,Qe);return pt===Qe?"function"!=typeof Ge||(0,b.LfX)(Ge)?ft.get(Ge):Ge:pt}function fn(Ge,ft,Qe,pt,Pt={canDeactivateChecks:[],canActivateChecks:[]}){const sn=Ko(ft);return Ge.children.forEach(_n=>{(function yn(Ge,ft,Qe,pt,Pt={canDeactivateChecks:[],canActivateChecks:[]}){const sn=Ge.value,_n=ft?ft.value:null,sr=Qe?Qe.getContext(Ge.value.outlet):null;if(_n&&sn.routeConfig===_n.routeConfig){const Wn=function On(Ge,ft,Qe){if("function"==typeof Qe)return Qe(Ge,ft);switch(Qe){case"pathParamsChange":return!Ne(Ge.url,ft.url);case"pathParamsOrQueryParamsChange":return!Ne(Ge.url,ft.url)||!me(Ge.queryParams,ft.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cs(Ge,ft)||!me(Ge.queryParams,ft.queryParams);default:return!Cs(Ge,ft)}}(_n,sn,sn.routeConfig.runGuardsAndResolvers);Wn?Pt.canActivateChecks.push(new Ca(pt)):(sn.data=_n.data,sn._resolvedData=_n._resolvedData),fn(Ge,ft,sn.component?sr?sr.children:null:Qe,pt,Pt),Wn&&sr&&sr.outlet&&sr.outlet.isActivated&&Pt.canDeactivateChecks.push(new Ut(sr.outlet.component,_n))}else _n&&lr(ft,sr,Pt),Pt.canActivateChecks.push(new Ca(pt)),fn(Ge,null,sn.component?sr?sr.children:null:Qe,pt,Pt)})(_n,sn[_n.value.outlet],Qe,pt.concat([_n.value]),Pt),delete sn[_n.value.outlet]}),Object.entries(sn).forEach(([_n,sr])=>lr(sr,Qe.getContext(_n),Pt)),Pt}function lr(Ge,ft,Qe){const pt=Ko(Ge),Pt=Ge.value;Object.entries(pt).forEach(([sn,_n])=>{lr(_n,Pt.component?ft?ft.children.getContext(sn):null:ft,Qe)}),Qe.canDeactivateChecks.push(new Ut(Pt.component&&ft&&ft.outlet&&ft.outlet.isActivated?ft.outlet.component:null,Pt))}function Ar(Ge){return"function"==typeof Ge}function Ls(Ge){return Ge instanceof N||"EmptyError"===Ge?.name}const Rt=Symbol("INITIAL_VALUE");function Ot(){return(0,ce.n)(Ge=>(0,S.z)(Ge.map(ft=>ft.pipe((0,ae.s)(1),(0,fe.Z)(Rt)))).pipe((0,se.T)(ft=>{for(const Qe of ft)if(!0!==Qe){if(Qe===Rt)return Rt;if(!1===Qe||gt(Qe))return Qe}return!0}),(0,he.p)(ft=>ft!==Rt),(0,ae.s)(1)))}function gt(Ge){return Mn(Ge)||Ge instanceof Hs}function Mu(Ge){return(0,G.F)((0,D.M)(ft=>{if("boolean"!=typeof ft)throw ud(0,ft)}),(0,se.T)(ft=>!0===ft))}class Kd{constructor(ft){this.segmentGroup=ft||null}}class tl extends Error{constructor(ft){super(),this.urlTree=ft}}function Ea(Ge){return(0,L.$)(new Kd(Ge))}class qu{constructor(ft,Qe){this.urlSerializer=ft,this.urlTree=Qe}lineralizeSegments(ft,Qe){let pt=[],Pt=Qe.root;for(;;){if(pt=pt.concat(Pt.segments),0===Pt.numberOfChildren)return(0,w.of)(pt);if(Pt.numberOfChildren>1||!Pt.children[Ee])return(0,L.$)(new b.wOt(4e3,!1));Pt=Pt.children[Ee]}}applyRedirectCommands(ft,Qe,pt,Pt,sn){if("string"!=typeof Qe){const sr=Qe,{queryParams:Wn,fragment:Ur,routeConfig:Ui,url:ro,outlet:No,params:Ql,data:cs,title:ol}=Pt,md=(0,b.N4e)(sn,()=>sr({params:Ql,data:cs,queryParams:Wn,fragment:Ur,routeConfig:Ui,url:ro,outlet:No,title:ol}));if(md instanceof M)throw new tl(md);Qe=md}const _n=this.applyRedirectCreateUrlTree(Qe,this.urlSerializer.parse(Qe),ft,pt);if("/"===Qe[0])throw new tl(_n);return _n}applyRedirectCreateUrlTree(ft,Qe,pt,Pt){const sn=this.createSegmentGroup(ft,Qe.root,pt,Pt);return new M(sn,this.createQueryParams(Qe.queryParams,this.urlTree.queryParams),Qe.fragment)}createQueryParams(ft,Qe){const pt={};return Object.entries(ft).forEach(([Pt,sn])=>{if("string"==typeof sn&&":"===sn[0]){const sr=sn.substring(1);pt[Pt]=Qe[sr]}else pt[Pt]=sn}),pt}createSegmentGroup(ft,Qe,pt,Pt){const sn=this.createSegments(ft,Qe.segments,pt,Pt);let _n={};return Object.entries(Qe.children).forEach(([sr,Wn])=>{_n[sr]=this.createSegmentGroup(ft,Wn,pt,Pt)}),new Y(sn,_n)}createSegments(ft,Qe,pt,Pt){return Qe.map(sn=>":"===sn.path[0]?this.findPosParam(ft,sn,Pt):this.findOrReturn(sn,pt))}findPosParam(ft,Qe,pt){const Pt=pt[Qe.path.substring(1)];if(!Pt)throw new b.wOt(4001,!1);return Pt}findOrReturn(ft,Qe){let pt=0;for(const Pt of Qe){if(Pt.path===ft.path)return Qe.splice(pt),Pt;pt++}return ft}}const bl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qa(Ge,ft,Qe,pt,Pt){const sn=Su(Ge,ft,Qe);return sn.matched?(pt=function as(Ge,ft){return Ge.providers&&!Ge._injector&&(Ge._injector=(0,b.Ol2)(Ge.providers,ft,`Route: ${Ge.path}`)),Ge._injector??ft}(ft,pt),function Zl(Ge,ft,Qe,pt){const Pt=ft.canMatch;if(!Pt||0===Pt.length)return(0,w.of)(!0);const sn=Pt.map(_n=>{const sr=Tt(_n,Ge);return Ae(function ac(Ge){return Ge&&Ar(Ge.canMatch)}(sr)?sr.canMatch(ft,Qe):(0,b.N4e)(Ge,()=>sr(ft,Qe)))});return(0,w.of)(sn).pipe(Ot(),Mu())}(pt,ft,Qe).pipe((0,se.T)(_n=>!0===_n?sn:{...bl}))):(0,w.of)(sn)}function Su(Ge,ft,Qe){if("**"===ft.path)return function Wf(Ge){return{matched:!0,parameters:Ge.length>0?le(Ge).parameters:{},consumedSegments:Ge,remainingSegments:[],positionalParamSegments:{}}}(Qe);if(""===ft.path)return"full"===ft.pathMatch&&(Ge.hasChildren()||Qe.length>0)?{...bl}:{matched:!0,consumedSegments:[],remainingSegments:Qe,parameters:{},positionalParamSegments:{}};const Pt=(ft.matcher||Te)(Qe,Ge,ft);if(!Pt)return{...bl};const sn={};Object.entries(Pt.posParams??{}).forEach(([sr,Wn])=>{sn[sr]=Wn.path});const _n=Pt.consumed.length>0?{...sn,...Pt.consumed[Pt.consumed.length-1].parameters}:sn;return{matched:!0,consumedSegments:Pt.consumed,remainingSegments:Qe.slice(Pt.consumed.length),parameters:_n,positionalParamSegments:Pt.posParams??{}}}function ks(Ge,ft,Qe,pt){return Qe.length>0&&function Ks(Ge,ft,Qe){return Qe.some(pt=>xa(Ge,ft,pt)&&ba(pt)!==Ee)}(Ge,Qe,pt)?{segmentGroup:new Y(ft,Qu(pt,new Y(Qe,Ge.children))),slicedSegments:[]}:0===Qe.length&&function ql(Ge,ft,Qe){return Qe.some(pt=>xa(Ge,ft,pt))}(Ge,Qe,pt)?{segmentGroup:new Y(Ge.segments,wl(Ge,Qe,pt,Ge.children)),slicedSegments:Qe}:{segmentGroup:new Y(Ge.segments,Ge.children),slicedSegments:Qe}}function wl(Ge,ft,Qe,pt){const Pt={};for(const sn of Qe)if(xa(Ge,ft,sn)&&!pt[ba(sn)]){const _n=new Y([],{});Pt[ba(sn)]=_n}return{...pt,...Pt}}function Qu(Ge,ft){const Qe={};Qe[Ee]=ft;for(const pt of Ge)if(""===pt.path&&ba(pt)!==Ee){const Pt=new Y([],{});Qe[ba(pt)]=Pt}return Qe}function xa(Ge,ft,Qe){return(!(Ge.hasChildren()||ft.length>0)||"full"!==Qe.pathMatch)&&""===Qe.path}class Ha{}class Qr{constructor(ft,Qe,pt,Pt,sn,_n,sr){this.injector=ft,this.configLoader=Qe,this.rootComponentType=pt,this.config=Pt,this.urlTree=sn,this.paramsInheritanceStrategy=_n,this.urlSerializer=sr,this.applyRedirects=new qu(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(ft){return new b.wOt(4002,`'${ft.segmentGroup}'`)}recognize(){const ft=ks(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(ft).pipe((0,se.T)(({children:Qe,rootSnapshot:pt})=>{const Pt=new Ia(pt,Qe),sn=new kr("",Pt),_n=function br(Ge,ft,Qe=null,pt=null){return Nn(or(Ge),ft,Qe,pt)}(pt,[],this.urlTree.queryParams,this.urlTree.fragment);return _n.queryParams=this.urlTree.queryParams,sn.url=this.urlSerializer.serialize(_n),{state:sn,tree:_n}}))}match(ft){const Qe=new Xo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,ft,Ee,Qe).pipe((0,se.T)(pt=>({children:pt,rootSnapshot:Qe})),(0,R.W)(pt=>{if(pt instanceof tl)return this.urlTree=pt.urlTree,this.match(pt.urlTree.root);throw pt instanceof Kd?this.noMatchError(pt):pt}))}processSegmentGroup(ft,Qe,pt,Pt,sn){return 0===pt.segments.length&&pt.hasChildren()?this.processChildren(ft,Qe,pt,sn):this.processSegment(ft,Qe,pt,pt.segments,Pt,!0,sn).pipe((0,se.T)(_n=>_n instanceof Ia?[_n]:[]))}processChildren(ft,Qe,pt,Pt){const sn=[];for(const _n of Object.keys(pt.children))"primary"===_n?sn.unshift(_n):sn.push(_n);return(0,H.H)(sn).pipe((0,E.H)(_n=>{const sr=pt.children[_n],Wn=function Hc(Ge,ft){const Qe=Ge.filter(pt=>ba(pt)===ft);return Qe.push(...Ge.filter(pt=>ba(pt)!==ft)),Qe}(Qe,_n);return this.processSegmentGroup(ft,Wn,sr,_n,Pt)}),function s(Ge,ft){return(0,Me.N)(function x(Ge,ft,Qe,pt,Pt){return(sn,_n)=>{let sr=Qe,Wn=ft,Ur=0;sn.subscribe((0,Pe._)(_n,Ui=>{const ro=Ur++;Wn=sr?Ge(Wn,Ui,ro):(sr=!0,Ui),pt&&_n.next(Wn)},Pt&&(()=>{sr&&_n.next(Wn),_n.complete()})))}}(Ge,ft,arguments.length>=2,!0))}((_n,sr)=>(_n.push(...sr),_n)),C(null),function $(Ge,ft){const Qe=arguments.length>=2;return pt=>pt.pipe(Ge?(0,he.p)((Pt,sn)=>Ge(Pt,sn,pt)):m.D,v(1),Qe?C(ft):a(()=>new N))}(),(0,we.Z)(_n=>{if(null===_n)return Ea(pt);const sr=xi(_n);return function Qa(Ge){Ge.sort((ft,Qe)=>ft.value.outlet===Ee?-1:Qe.value.outlet===Ee?1:ft.value.outlet.localeCompare(Qe.value.outlet))}(sr),(0,w.of)(sr)}))}processSegment(ft,Qe,pt,Pt,sn,_n,sr){return(0,H.H)(Qe).pipe((0,E.H)(Wn=>this.processSegmentAgainstRoute(Wn._injector??ft,Qe,Wn,pt,Pt,sn,_n,sr).pipe((0,R.W)(Ur=>{if(Ur instanceof Kd)return(0,w.of)(null);throw Ur}))),p(Wn=>!!Wn),(0,R.W)(Wn=>{if(Ls(Wn))return function Tu(Ge,ft,Qe){return 0===ft.length&&!Ge.children[Qe]}(pt,Pt,sn)?(0,w.of)(new Ha):Ea(pt);throw Wn}))}processSegmentAgainstRoute(ft,Qe,pt,Pt,sn,_n,sr,Wn){return function is(Ge,ft,Qe,pt){return!!(ba(Ge)===pt||pt!==Ee&&xa(ft,Qe,Ge))&&Su(ft,Ge,Qe).matched}(pt,Pt,sn,_n)?void 0===pt.redirectTo?this.matchSegmentAgainstRoute(ft,Pt,pt,sn,_n,Wn):this.allowRedirects&&sr?this.expandSegmentAgainstRouteUsingRedirect(ft,Pt,Qe,pt,sn,_n,Wn):Ea(Pt):Ea(Pt)}expandSegmentAgainstRouteUsingRedirect(ft,Qe,pt,Pt,sn,_n,sr){const{matched:Wn,parameters:Ur,consumedSegments:Ui,positionalParamSegments:ro,remainingSegments:No}=Su(Qe,Pt,sn);if(!Wn)return Ea(Qe);"string"==typeof Pt.redirectTo&&"/"===Pt.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ql=new Xo(sn,Ur,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xc(Pt),ba(Pt),Pt.component??Pt._loadedComponent??null,Pt,Zo(Pt)),cs=Gc(Ql,sr,this.paramsInheritanceStrategy);Ql.params=Object.freeze(cs.params),Ql.data=Object.freeze(cs.data);const ol=this.applyRedirects.applyRedirectCommands(Ui,Pt.redirectTo,ro,Ql,ft);return this.applyRedirects.lineralizeSegments(Pt,ol).pipe((0,we.Z)(md=>this.processSegment(ft,pt,Qe,md.concat(No),_n,!1,sr)))}matchSegmentAgainstRoute(ft,Qe,pt,Pt,sn,_n){const sr=qa(Qe,pt,Pt,ft);return"**"===pt.path&&(Qe.children={}),sr.pipe((0,ce.n)(Wn=>Wn.matched?this.getChildConfig(ft=pt._injector??ft,pt,Pt).pipe((0,ce.n)(({routes:Ur})=>{const Ui=pt._loadedInjector??ft,{parameters:ro,consumedSegments:No,remainingSegments:Ql}=Wn,cs=new Xo(No,ro,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Xc(pt),ba(pt),pt.component??pt._loadedComponent??null,pt,Zo(pt)),ol=Gc(cs,_n,this.paramsInheritanceStrategy);cs.params=Object.freeze(ol.params),cs.data=Object.freeze(ol.data);const{segmentGroup:md,slicedSegments:Yc}=ks(Qe,No,Ql,Ur);if(0===Yc.length&&md.hasChildren())return this.processChildren(Ui,Ur,md,cs).pipe((0,se.T)(Qy=>new Ia(cs,Qy)));if(0===Ur.length&&0===Yc.length)return(0,w.of)(new Ia(cs,[]));const c0=ba(pt)===sn;return this.processSegment(Ui,Ur,md,Yc,c0?Ee:sn,!0,cs).pipe((0,se.T)(Qy=>new Ia(cs,Qy instanceof Ia?[Qy]:[])))})):Ea(Qe)))}getChildConfig(ft,Qe,pt){return Qe.children?(0,w.of)({routes:Qe.children,injector:ft}):Qe.loadChildren?void 0!==Qe._loadedRoutes?(0,w.of)({routes:Qe._loadedRoutes,injector:Qe._loadedInjector}):function xu(Ge,ft,Qe,pt){const Pt=ft.canLoad;if(void 0===Pt||0===Pt.length)return(0,w.of)(!0);const sn=Pt.map(_n=>{const sr=Tt(_n,Ge);return Ae(function Qn(Ge){return Ge&&Ar(Ge.canLoad)}(sr)?sr.canLoad(ft,Qe):(0,b.N4e)(Ge,()=>sr(ft,Qe)))});return(0,w.of)(sn).pipe(Ot(),Mu())}(ft,Qe,pt).pipe((0,we.Z)(Pt=>Pt?this.configLoader.loadChildren(ft,Qe).pipe((0,D.M)(sn=>{Qe._loadedRoutes=sn.routes,Qe._loadedInjector=sn.injector})):function $i(Ge){return(0,L.$)(wa(!1,jr.GuardRejected))}())):(0,w.of)({routes:[],injector:ft})}}function Zr(Ge){const ft=Ge.value.routeConfig;return ft&&""===ft.path}function xi(Ge){const ft=[],Qe=new Set;for(const pt of Ge){if(!Zr(pt)){ft.push(pt);continue}const Pt=ft.find(sn=>pt.value.routeConfig===sn.value.routeConfig);void 0!==Pt?(Pt.children.push(...pt.children),Qe.add(Pt)):ft.push(pt)}for(const pt of Qe){const Pt=xi(pt.children);ft.push(new Ia(pt.value,Pt))}return ft.filter(pt=>!Qe.has(pt))}function Xc(Ge){return Ge.data||{}}function Zo(Ge){return Ge.resolve||{}}function dc(Ge){const ft=Ge.children.map(Qe=>dc(Qe)).flat();return[Ge,...ft]}function Nr(Ge){return(0,ce.n)(ft=>{const Qe=Ge(ft);return Qe?(0,H.H)(Qe).pipe((0,se.T)(()=>ft)):(0,w.of)(ft)})}let Bo=(()=>{class Ge{buildTitle(Qe){let pt,Pt=Qe.root;for(;void 0!==Pt;)pt=this.getResolvedTitleForRoute(Pt)??pt,Pt=Pt.children.find(sn=>sn.outlet===Ee);return pt}getResolvedTitleForRoute(Qe){return Qe.data[_e]}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:()=>(0,b.WQX)(Yy),providedIn:"root"})}return Ge})(),Yy=(()=>{class Ge extends Bo{constructor(Qe){super(),this.title=Qe}updateTitle(Qe){const pt=this.buildTitle(Qe);void 0!==pt&&this.title.setTitle(pt)}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.KVO(Ve.hE))};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const rl=new b.nKC("",{providedIn:"root",factory:()=>({})});let ua=(()=>{class Ge{static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275cmp=b.VBU({type:Ge,selectors:[["ng-component"]],standalone:!0,features:[b.aNF],decls:1,vars:0,template:function(pt,Pt){1&pt&&b.nrm(0,"router-outlet")},dependencies:[ld],encapsulation:2})}return Ge})();function hd(Ge){const ft=Ge.children&&Ge.children.map(hd),Qe=ft?{...Ge,children:ft}:{...Ge};return!Qe.component&&!Qe.loadComponent&&(ft||Qe.loadChildren)&&Qe.outlet&&Qe.outlet!==Ee&&(Qe.component=ua),Qe}const it=new b.nKC("");let Jt=(()=>{class Ge{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,b.WQX)(b.Ql9)}loadComponent(Qe){if(this.componentLoaders.get(Qe))return this.componentLoaders.get(Qe);if(Qe._loadedComponent)return(0,w.of)(Qe._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Qe);const pt=Ae(Qe.loadComponent()).pipe((0,se.T)(An),(0,D.M)(sn=>{this.onLoadEndListener&&this.onLoadEndListener(Qe),Qe._loadedComponent=sn}),(0,Q.j)(()=>{this.componentLoaders.delete(Qe)})),Pt=new ee.G(pt,()=>new q.B).pipe((0,de.B)());return this.componentLoaders.set(Qe,Pt),Pt}loadChildren(Qe,pt){if(this.childrenLoaders.get(pt))return this.childrenLoaders.get(pt);if(pt._loadedRoutes)return(0,w.of)({routes:pt._loadedRoutes,injector:pt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(pt);const sn=function St(Ge,ft,Qe,pt){return Ae(Ge.loadChildren()).pipe((0,se.T)(An),(0,we.Z)(Pt=>Pt instanceof b.Co$||Array.isArray(Pt)?(0,w.of)(Pt):(0,H.H)(ft.compileModuleAsync(Pt))),(0,se.T)(Pt=>{pt&&pt(Ge);let sn,_n,sr=!1;return Array.isArray(Pt)?(_n=Pt,!0):(sn=Pt.create(Qe).injector,_n=sn.get(it,[],{optional:!0,self:!0}).flat()),{routes:_n.map(hd),injector:sn}}))}(pt,this.compiler,Qe,this.onLoadEndListener).pipe((0,Q.j)(()=>{this.childrenLoaders.delete(pt)})),_n=new ee.G(sn,()=>new q.B).pipe((0,de.B)());return this.childrenLoaders.set(pt,_n),_n}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function An(Ge){return function $t(Ge){return Ge&&"object"==typeof Ge&&"default"in Ge}(Ge)?Ge.default:Ge}let ir=(()=>{class Ge{static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:()=>(0,b.WQX)(Zn),providedIn:"root"})}return Ge})(),Zn=(()=>{class Ge{shouldProcessUrl(Qe){return!0}extract(Qe){return Qe}merge(Qe,pt){return Qe}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const ti=new b.nKC(""),Eo=new b.nKC("");function ii(Ge,ft,Qe){const pt=Ge.get(Eo),Pt=Ge.get(J.qQ);return Ge.get(b.SKi).runOutsideAngular(()=>{if(!Pt.startViewTransition||pt.skipNextTransition)return pt.skipNextTransition=!1,new Promise(Ur=>setTimeout(Ur));let sn;const _n=new Promise(Ur=>{sn=Ur}),sr=Pt.startViewTransition(()=>(sn(),function ts(Ge){return new Promise(ft=>{(0,b.mal)(()=>setTimeout(ft),{injector:Ge,phase:b.wjH.Read})})}(Ge))),{onViewTransitionCreated:Wn}=pt;return Wn&&(0,b.N4e)(Ge,()=>Wn({transition:sr,from:ft,to:Qe})),_n})}const Cr=new b.nKC("");let Ci=(()=>{class Ge{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q.B,this.transitionAbortSubject=new q.B,this.configLoader=(0,b.WQX)(Jt),this.environmentInjector=(0,b.WQX)(b.uvJ),this.urlSerializer=(0,b.WQX)(en),this.rootContexts=(0,b.WQX)(oc),this.location=(0,b.WQX)(J.aZ),this.inputBindingEnabled=null!==(0,b.WQX)(So,{optional:!0}),this.titleStrategy=(0,b.WQX)(Bo),this.options=(0,b.WQX)(rl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,b.WQX)(ir),this.createViewTransition=(0,b.WQX)(ti,{optional:!0}),this.navigationErrorHandler=(0,b.WQX)(Cr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,w.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=Pt=>this.events.next(new Pi(Pt)),this.configLoader.onLoadStartListener=Pt=>this.events.next(new za(Pt))}complete(){this.transitions?.complete()}handleNavigationRequest(Qe){const pt=++this.navigationId;this.transitions?.next({...this.transitions.value,...Qe,id:pt})}setupNavigations(Qe,pt,Pt){return this.transitions=new O.t({id:0,currentUrlTree:pt,currentRawUrl:pt,extractedUrl:this.urlHandlingStrategy.extract(pt),urlAfterRedirects:this.urlHandlingStrategy.extract(pt),rawUrl:pt,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Hn,restoredState:null,currentSnapshot:Pt.snapshot,targetSnapshot:null,currentRouterState:Pt,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,he.p)(sn=>0!==sn.id),(0,se.T)(sn=>({...sn,extractedUrl:this.urlHandlingStrategy.extract(sn.rawUrl)})),(0,ce.n)(sn=>{let _n=!1,sr=!1;return(0,w.of)(sn).pipe((0,ce.n)(Wn=>{if(this.navigationId>sn.id)return this.cancelNavigationTransition(sn,"",jr.SupersededByNewNavigation),z.w;this.currentTransition=sn,this.currentNavigation={id:Wn.id,initialUrl:Wn.rawUrl,extractedUrl:Wn.extractedUrl,trigger:Wn.source,extras:Wn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Ur=!Qe.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ur&&"reload"!==(Wn.extras.onSameUrlNavigation??Qe.onSameUrlNavigation)){const ro="";return this.events.next(new li(Wn.id,this.urlSerializer.serialize(Wn.rawUrl),ro,Ii.IgnoredSameUrlNavigation)),Wn.resolve(!1),z.w}if(this.urlHandlingStrategy.shouldProcessUrl(Wn.rawUrl))return(0,w.of)(Wn).pipe((0,ce.n)(ro=>{const No=this.transitions?.getValue();return this.events.next(new Mr(ro.id,this.urlSerializer.serialize(ro.extractedUrl),ro.source,ro.restoredState)),No!==this.transitions?.getValue()?z.w:Promise.resolve(ro)}),function Vp(Ge,ft,Qe,pt,Pt,sn){return(0,we.Z)(_n=>function Xi(Ge,ft,Qe,pt,Pt,sn,_n="emptyOnly"){return new Qr(Ge,ft,Qe,pt,Pt,_n,sn).recognize()}(Ge,ft,Qe,pt,_n.extractedUrl,Pt,sn).pipe((0,se.T)(({state:sr,tree:Wn})=>({..._n,targetSnapshot:sr,urlAfterRedirects:Wn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Qe.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,D.M)(ro=>{sn.targetSnapshot=ro.targetSnapshot,sn.urlAfterRedirects=ro.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:ro.urlAfterRedirects};const No=new wo(ro.id,this.urlSerializer.serialize(ro.extractedUrl),this.urlSerializer.serialize(ro.urlAfterRedirects),ro.targetSnapshot);this.events.next(No)}));if(Ur&&this.urlHandlingStrategy.shouldProcessUrl(Wn.currentRawUrl)){const{id:ro,extractedUrl:No,source:Ql,restoredState:cs,extras:ol}=Wn,md=new Mr(ro,this.urlSerializer.serialize(No),Ql,cs);this.events.next(md);const Yc=Wc(this.rootComponentType).snapshot;return this.currentTransition=sn={...Wn,targetSnapshot:Yc,urlAfterRedirects:No,extras:{...ol,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=No,(0,w.of)(sn)}{const ro="";return this.events.next(new li(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),ro,Ii.IgnoredByUrlHandlingStrategy)),Wn.resolve(!1),z.w}}),(0,D.M)(Wn=>{const Ur=new Ro(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot);this.events.next(Ur)}),(0,se.T)(Wn=>(this.currentTransition=sn={...Wn,guards:Lt(Wn.targetSnapshot,Wn.currentSnapshot,this.rootContexts)},sn)),function an(Ge,ft){return(0,we.Z)(Qe=>{const{targetSnapshot:pt,currentSnapshot:Pt,guards:{canActivateChecks:sn,canDeactivateChecks:_n}}=Qe;return 0===_n.length&&0===sn.length?(0,w.of)({...Qe,guardsResult:!0}):function Rn(Ge,ft,Qe,pt){return(0,H.H)(Ge).pipe((0,we.Z)(Pt=>function la(Ge,ft,Qe,pt,Pt){const sn=ft&&ft.routeConfig?ft.routeConfig.canDeactivate:null;if(!sn||0===sn.length)return(0,w.of)(!0);const _n=sn.map(sr=>{const Wn=ic(ft)??Pt,Ur=Tt(sr,Wn);return Ae(function da(Ge){return Ge&&Ar(Ge.canDeactivate)}(Ur)?Ur.canDeactivate(Ge,ft,Qe,pt):(0,b.N4e)(Wn,()=>Ur(Ge,ft,Qe,pt))).pipe(p())});return(0,w.of)(_n).pipe(Ot())}(Pt.component,Pt.route,Qe,ft,pt)),p(Pt=>!0!==Pt,!0))}(_n,pt,Pt,Ge).pipe((0,we.Z)(sr=>sr&&function Sr(Ge){return"boolean"==typeof Ge}(sr)?function Jr(Ge,ft,Qe,pt){return(0,H.H)(ft).pipe((0,E.H)(Pt=>(0,U.x)(function To(Ge,ft){return null!==Ge&&ft&&ft(new xn(Ge)),(0,w.of)(!0)}(Pt.route.parent,pt),function ho(Ge,ft){return null!==Ge&&ft&&ft(new dn(Ge)),(0,w.of)(!0)}(Pt.route,pt),function fd(Ge,ft,Qe){const pt=ft[ft.length-1],sn=ft.slice(0,ft.length-1).reverse().map(_n=>function At(Ge){const ft=Ge.routeConfig?Ge.routeConfig.canActivateChild:null;return ft&&0!==ft.length?{node:Ge,guards:ft}:null}(_n)).filter(_n=>null!==_n).map(_n=>(0,A.v)(()=>{const sr=_n.guards.map(Wn=>{const Ur=ic(_n.node)??Qe,Ui=Tt(Wn,Ur);return Ae(function us(Ge){return Ge&&Ar(Ge.canActivateChild)}(Ui)?Ui.canActivateChild(pt,Ge):(0,b.N4e)(Ur,()=>Ui(pt,Ge))).pipe(p())});return(0,w.of)(sr).pipe(Ot())}));return(0,w.of)(sn).pipe(Ot())}(Ge,Pt.path,Qe),function Qs(Ge,ft,Qe){const pt=ft.routeConfig?ft.routeConfig.canActivate:null;if(!pt||0===pt.length)return(0,w.of)(!0);const Pt=pt.map(sn=>(0,A.v)(()=>{const _n=ic(ft)??Qe,sr=Tt(sn,_n);return Ae(function dr(Ge){return Ge&&Ar(Ge.canActivate)}(sr)?sr.canActivate(ft,Ge):(0,b.N4e)(_n,()=>sr(ft,Ge))).pipe(p())}));return(0,w.of)(Pt).pipe(Ot())}(Ge,Pt.route,Qe))),p(Pt=>!0!==Pt,!0))}(pt,sn,Ge,ft):(0,w.of)(sr)),(0,se.T)(sr=>({...Qe,guardsResult:sr})))})}(this.environmentInjector,Wn=>this.events.next(Wn)),(0,D.M)(Wn=>{if(sn.guardsResult=Wn.guardsResult,Wn.guardsResult&&"boolean"!=typeof Wn.guardsResult)throw ud(0,Wn.guardsResult);const Ur=new vi(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects),Wn.targetSnapshot,!!Wn.guardsResult);this.events.next(Ur)}),(0,he.p)(Wn=>!!Wn.guardsResult||(this.cancelNavigationTransition(Wn,"",jr.GuardRejected),!1)),Nr(Wn=>{if(Wn.guards.canActivateChecks.length)return(0,w.of)(Wn).pipe((0,D.M)(Ur=>{const Ui=new Vi(Ur.id,this.urlSerializer.serialize(Ur.extractedUrl),this.urlSerializer.serialize(Ur.urlAfterRedirects),Ur.targetSnapshot);this.events.next(Ui)}),(0,ce.n)(Ur=>{let Ui=!1;return(0,w.of)(Ur).pipe(function Gf(Ge,ft){return(0,we.Z)(Qe=>{const{targetSnapshot:pt,guards:{canActivateChecks:Pt}}=Qe;if(!Pt.length)return(0,w.of)(Qe);const sn=new Set(Pt.map(Wn=>Wn.route)),_n=new Set;for(const Wn of sn)if(!_n.has(Wn))for(const Ur of dc(Wn))_n.add(Ur);let sr=0;return(0,H.H)(_n).pipe((0,E.H)(Wn=>sn.has(Wn)?function lo(Ge,ft,Qe,pt){const Pt=Ge.routeConfig,sn=Ge._resolve;return void 0!==Pt?.title&&!ls(Pt)&&(sn[_e]=Pt.title),function nl(Ge,ft,Qe,pt){const Pt=te(Ge);if(0===Pt.length)return(0,w.of)({});const sn={};return(0,H.H)(Pt).pipe((0,we.Z)(_n=>function ka(Ge,ft,Qe,pt){const Pt=ic(ft)??pt,sn=Tt(Ge,Pt);return Ae(sn.resolve?sn.resolve(ft,Qe):(0,b.N4e)(Pt,()=>sn(ft,Qe)))}(Ge[_n],ft,Qe,pt).pipe(p(),(0,D.M)(sr=>{if(sr instanceof Hs)throw ud(new It,sr);sn[_n]=sr}))),v(1),(0,F.u)(sn),(0,R.W)(_n=>Ls(_n)?z.w:(0,L.$)(_n)))}(sn,Ge,ft,pt).pipe((0,se.T)(_n=>(Ge._resolvedData=_n,Ge.data=Gc(Ge,Ge.parent,Qe).resolve,null)))}(Wn,pt,Ge,ft):(Wn.data=Gc(Wn,Wn.parent,Ge).resolve,(0,w.of)(void 0))),(0,D.M)(()=>sr++),v(1),(0,we.Z)(Wn=>sr===_n.size?(0,w.of)(Qe):z.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,D.M)({next:()=>Ui=!0,complete:()=>{Ui||this.cancelNavigationTransition(Ur,"",jr.NoDataFromResolver)}}))}),(0,D.M)(Ur=>{const Ui=new ji(Ur.id,this.urlSerializer.serialize(Ur.extractedUrl),this.urlSerializer.serialize(Ur.urlAfterRedirects),Ur.targetSnapshot);this.events.next(Ui)}))}),Nr(Wn=>{const Ur=Ui=>{const ro=[];Ui.routeConfig?.loadComponent&&!Ui.routeConfig._loadedComponent&&ro.push(this.configLoader.loadComponent(Ui.routeConfig).pipe((0,D.M)(No=>{Ui.component=No}),(0,se.T)(()=>{})));for(const No of Ui.children)ro.push(...Ur(No));return ro};return(0,S.z)(Ur(Wn.targetSnapshot.root)).pipe(C(null),(0,ae.s)(1))}),Nr(()=>this.afterPreactivation()),(0,ce.n)(()=>{const{currentSnapshot:Wn,targetSnapshot:Ur}=sn,Ui=this.createViewTransition?.(this.environmentInjector,Wn.root,Ur.root);return Ui?(0,H.H)(Ui).pipe((0,se.T)(()=>sn)):(0,w.of)(sn)}),(0,se.T)(Wn=>{const Ur=function qs(Ge,ft,Qe){const pt=sc(Ge,ft._root,Qe?Qe._root:void 0);return new Ld(pt,ft)}(Qe.routeReuseStrategy,Wn.targetSnapshot,Wn.currentRouterState);return this.currentTransition=sn={...Wn,targetRouterState:Ur},this.currentNavigation.targetRouterState=Ur,sn}),(0,D.M)(()=>{this.events.next(new Gr)}),((Ge,ft,Qe,pt)=>(0,se.T)(Pt=>(new _a(ft,Pt.targetRouterState,Pt.currentRouterState,Qe,pt).activate(Ge),Pt)))(this.rootContexts,Qe.routeReuseStrategy,Wn=>this.events.next(Wn),this.inputBindingEnabled),(0,ae.s)(1),(0,D.M)({next:Wn=>{_n=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $r(Wn.id,this.urlSerializer.serialize(Wn.extractedUrl),this.urlSerializer.serialize(Wn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Wn.targetRouterState.snapshot),Wn.resolve(!0)},complete:()=>{_n=!0}}),(0,De.Q)(this.transitionAbortSubject.pipe((0,D.M)(Wn=>{throw Wn}))),(0,Q.j)(()=>{!_n&&!sr&&this.cancelNavigationTransition(sn,"",jr.SupersededByNewNavigation),this.currentTransition?.id===sn.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,R.W)(Wn=>{if(sr=!0,Jc(Wn))this.events.next(new Mo(sn.id,this.urlSerializer.serialize(sn.extractedUrl),Wn.message,Wn.cancellationCode)),function Po(Ge){return Jc(Ge)&&Mn(Ge.url)}(Wn)?this.events.next(new ri(Wn.url,Wn.navigationBehaviorOptions)):sn.resolve(!1);else{const Ur=new go(sn.id,this.urlSerializer.serialize(sn.extractedUrl),Wn,sn.targetSnapshot??void 0);try{const Ui=(0,b.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Ur));if(Ui instanceof Hs){const{message:ro,cancellationCode:No}=ud(0,Ui);this.events.next(new Mo(sn.id,this.urlSerializer.serialize(sn.extractedUrl),ro,No)),this.events.next(new ri(Ui.redirectTo,Ui.navigationBehaviorOptions))}else{this.events.next(Ur);const ro=Qe.errorHandler(Wn);sn.resolve(!!ro)}}catch(Ui){this.options.resolveNavigationPromiseOnError?sn.resolve(!1):sn.reject(Ui)}}return z.w}))}))}cancelNavigationTransition(Qe,pt,Pt){const sn=new Mo(Qe.id,this.urlSerializer.serialize(Qe.extractedUrl),pt,Pt);this.events.next(sn),Qe.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();function rt(Ge){return Ge!==Hn}let Ce=(()=>{class Ge{static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:()=>(0,b.WQX)(xe),providedIn:"root"})}return Ge})();class be{shouldDetach(ft){return!1}store(ft,Qe){}shouldAttach(ft){return!1}retrieve(ft){return null}shouldReuseRoute(ft,Qe){return ft.routeConfig===Qe.routeConfig}}let xe=(()=>{class Ge extends be{static#e=this.\u0275fac=(()=>{let Qe;return function(Pt){return(Qe||(Qe=b.xGo(Ge)))(Pt||Ge)}})();static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),ot=(()=>{class Ge{static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:()=>(0,b.WQX)(st),providedIn:"root"})}return Ge})(),st=(()=>{class Ge extends ot{constructor(){super(...arguments),this.location=(0,b.WQX)(J.aZ),this.urlSerializer=(0,b.WQX)(en),this.options=(0,b.WQX)(rl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,b.WQX)(ir),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new M,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Wc(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(Qe){return this.location.subscribe(pt=>{"popstate"===pt.type&&Qe(pt.url,pt.state)})}handleRouterEvent(Qe,pt){if(Qe instanceof Mr)this.stateMemento=this.createStateMemento();else if(Qe instanceof li)this.rawUrlTree=pt.initialUrl;else if(Qe instanceof wo){if("eager"===this.urlUpdateStrategy&&!pt.extras.skipLocationChange){const Pt=this.urlHandlingStrategy.merge(pt.finalUrl,pt.initialUrl);this.setBrowserUrl(Pt,pt)}}else Qe instanceof Gr?(this.currentUrlTree=pt.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(pt.finalUrl,pt.initialUrl),this.routerState=pt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(pt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,pt))):Qe instanceof Mo&&(Qe.code===jr.GuardRejected||Qe.code===jr.NoDataFromResolver)?this.restoreHistory(pt):Qe instanceof go?this.restoreHistory(pt,!0):Qe instanceof $r&&(this.lastSuccessfulId=Qe.id,this.currentPageId=this.browserPageId)}setBrowserUrl(Qe,pt){const Pt=this.urlSerializer.serialize(Qe);if(this.location.isCurrentPathEqualTo(Pt)||pt.extras.replaceUrl){const _n={...pt.extras.state,...this.generateNgRouterState(pt.id,this.browserPageId)};this.location.replaceState(Pt,"",_n)}else{const sn={...pt.extras.state,...this.generateNgRouterState(pt.id,this.browserPageId+1)};this.location.go(Pt,"",sn)}}restoreHistory(Qe,pt=!1){if("computed"===this.canceledNavigationResolution){const sn=this.currentPageId-this.browserPageId;0!==sn?this.location.historyGo(sn):this.currentUrlTree===Qe.finalUrl&&0===sn&&(this.resetState(Qe),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(pt&&this.resetState(Qe),this.resetUrlToCurrentUrlTree())}resetState(Qe){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Qe.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Qe,pt){return"computed"===this.canceledNavigationResolution?{navigationId:Qe,\u0275routerPageId:pt}:{navigationId:Qe}}static#e=this.\u0275fac=(()=>{let Qe;return function(Pt){return(Qe||(Qe=b.xGo(Ge)))(Pt||Ge)}})();static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();var Mt=function(Ge){return Ge[Ge.COMPLETE=0]="COMPLETE",Ge[Ge.FAILED=1]="FAILED",Ge[Ge.REDIRECTING=2]="REDIRECTING",Ge}(Mt||{});function Qt(Ge,ft){Ge.events.pipe((0,he.p)(Qe=>Qe instanceof $r||Qe instanceof Mo||Qe instanceof go||Qe instanceof li),(0,se.T)(Qe=>Qe instanceof $r||Qe instanceof li?Mt.COMPLETE:Qe instanceof Mo&&(Qe.code===jr.Redirect||Qe.code===jr.SupersededByNewNavigation)?Mt.REDIRECTING:Mt.FAILED),(0,he.p)(Qe=>Qe!==Mt.REDIRECTING),(0,ae.s)(1)).subscribe(()=>{ft()})}function In(Ge){throw Ge}const Ie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oe=(()=>{class Ge{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,b.WQX)(b.H3F),this.stateManager=(0,b.WQX)(ot),this.options=(0,b.WQX)(rl,{optional:!0})||{},this.pendingTasks=(0,b.WQX)(b.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,b.WQX)(Ci),this.urlSerializer=(0,b.WQX)(en),this.location=(0,b.WQX)(J.aZ),this.urlHandlingStrategy=(0,b.WQX)(ir),this._events=new q.B,this.errorHandler=this.options.errorHandler||In,this.navigated=!1,this.routeReuseStrategy=(0,b.WQX)(Ce),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,b.WQX)(it,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,b.WQX)(So,{optional:!0}),this.eventsSubscription=new Z.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Qe=>{this.console.warn(Qe)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const Qe=this.navigationTransitions.events.subscribe(pt=>{try{const Pt=this.navigationTransitions.currentTransition,sn=this.navigationTransitions.currentNavigation;if(null!==Pt&&null!==sn)if(this.stateManager.handleRouterEvent(pt,sn),pt instanceof Mo&&pt.code!==jr.Redirect&&pt.code!==jr.SupersededByNewNavigation)this.navigated=!0;else if(pt instanceof $r)this.navigated=!0;else if(pt instanceof ri){const _n=pt.navigationBehaviorOptions,sr=this.urlHandlingStrategy.merge(pt.url,Pt.currentRawUrl),Wn={info:Pt.extras.info,skipLocationChange:Pt.extras.skipLocationChange,replaceUrl:Pt.extras.replaceUrl||"eager"===this.urlUpdateStrategy||rt(Pt.source),..._n};this.scheduleNavigation(sr,Hn,null,Wn,{resolve:Pt.resolve,reject:Pt.reject,promise:Pt.promise})}(function Je(Ge){return!(Ge instanceof Gr||Ge instanceof ri)})(pt)&&this._events.next(pt)}catch(Pt){this.navigationTransitions.transitionAbortSubject.next(Pt)}});this.eventsSubscription.add(Qe)}resetRootComponentType(Qe){this.routerState.root.component=Qe,this.navigationTransitions.rootComponentType=Qe}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Hn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((Qe,pt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Qe,"popstate",pt)},0)})}navigateToSyncWithBrowser(Qe,pt,Pt){const sn={replaceUrl:!0},_n=Pt?.navigationId?Pt:null;if(Pt){const Wn={...Pt};delete Wn.navigationId,delete Wn.\u0275routerPageId,0!==Object.keys(Wn).length&&(sn.state=Wn)}const sr=this.parseUrl(Qe);this.scheduleNavigation(sr,pt,_n,sn)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Qe){this.config=Qe.map(hd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(Qe,pt={}){const{relativeTo:Pt,queryParams:sn,fragment:_n,queryParamsHandling:sr,preserveFragment:Wn}=pt,Ur=Wn?this.currentUrlTree.fragment:_n;let ro,Ui=null;switch(sr){case"merge":Ui={...this.currentUrlTree.queryParams,...sn};break;case"preserve":Ui=this.currentUrlTree.queryParams;break;default:Ui=sn||null}null!==Ui&&(Ui=this.removeEmptyProps(Ui));try{ro=or(Pt?Pt.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Qe[0]||"/"!==Qe[0][0])&&(Qe=[]),ro=this.currentUrlTree.root}return Nn(ro,Qe,Ui,Ur??null)}navigateByUrl(Qe,pt={skipLocationChange:!1}){const Pt=Mn(Qe)?Qe:this.parseUrl(Qe),sn=this.urlHandlingStrategy.merge(Pt,this.rawUrlTree);return this.scheduleNavigation(sn,Hn,null,pt)}navigate(Qe,pt={skipLocationChange:!1}){return function ye(Ge){for(let ft=0;ft<Ge.length;ft++)if(null==Ge[ft])throw new b.wOt(4008,!1)}(Qe),this.navigateByUrl(this.createUrlTree(Qe,pt),pt)}serializeUrl(Qe){return this.urlSerializer.serialize(Qe)}parseUrl(Qe){try{return this.urlSerializer.parse(Qe)}catch{return this.urlSerializer.parse("/")}}isActive(Qe,pt){let Pt;if(Pt=!0===pt?{...Ie}:!1===pt?{...ie}:pt,Mn(Qe))return ze(this.currentUrlTree,Qe,Pt);const sn=this.parseUrl(Qe);return ze(this.currentUrlTree,sn,Pt)}removeEmptyProps(Qe){return Object.entries(Qe).reduce((pt,[Pt,sn])=>(null!=sn&&(pt[Pt]=sn),pt),{})}scheduleNavigation(Qe,pt,Pt,sn,_n){if(this.disposed)return Promise.resolve(!1);let sr,Wn,Ur;_n?(sr=_n.resolve,Wn=_n.reject,Ur=_n.promise):Ur=new Promise((ro,No)=>{sr=ro,Wn=No});const Ui=this.pendingTasks.add();return Qt(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ui))}),this.navigationTransitions.handleNavigationRequest({source:pt,restoredState:Pt,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Qe,extras:sn,resolve:sr,reject:Wn,promise:Ur,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ur.catch(ro=>Promise.reject(ro))}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),Ze=(()=>{class Ge{constructor(Qe,pt,Pt,sn,_n,sr){this.router=Qe,this.route=pt,this.tabIndexAttribute=Pt,this.renderer=sn,this.el=_n,this.locationStrategy=sr,this.href=null,this.commands=null,this.onChanges=new q.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Wn=_n.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Wn||"area"===Wn,this.isAnchorElement?this.subscription=Qe.events.subscribe(Ur=>{Ur instanceof $r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Qe){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Qe)}ngOnChanges(Qe){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Qe){null!=Qe?(this.commands=Array.isArray(Qe)?Qe:[Qe],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(Qe,pt,Pt,sn,_n){const sr=this.urlTree;return!!(null===sr||this.isAnchorElement&&(0!==Qe||pt||Pt||sn||_n||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(sr,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Qe=this.urlTree;this.href=null!==Qe&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Qe)):null;const pt=null===this.href?null:(0,b.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",pt)}applyAttributeValue(Qe,pt){const Pt=this.renderer,sn=this.el.nativeElement;null!==pt?Pt.setAttribute(sn,Qe,pt):Pt.removeAttribute(sn,Qe)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.rXU(oe),b.rXU(es),b.kS0("tabindex"),b.rXU(b.sFG),b.rXU(b.aKT),b.rXU(J.hb))};static#t=this.\u0275dir=b.FsC({type:Ge,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(pt,Pt){1&pt&&b.bIt("click",function(_n){return Pt.onClick(_n.button,_n.ctrlKey,_n.shiftKey,_n.altKey,_n.metaKey)}),2&pt&&b.BMQ("target",Pt.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",b.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",b.L39],replaceUrl:[2,"replaceUrl","replaceUrl",b.L39],routerLink:"routerLink"},standalone:!0,features:[b.GFd,b.OA$]})}return Ge})(),ht=(()=>{class Ge{get isActive(){return this._isActive}constructor(Qe,pt,Pt,sn,_n){this.router=Qe,this.element=pt,this.renderer=Pt,this.cdr=sn,this.link=_n,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new b.bkB,this.routerEventsSubscription=Qe.events.subscribe(sr=>{sr instanceof $r&&this.update()})}ngAfterContentInit(){(0,w.of)(this.links.changes,(0,w.of)(null)).pipe((0,Re.U)()).subscribe(Qe=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Qe=[...this.links.toArray(),this.link].filter(pt=>!!pt).map(pt=>pt.onChanges);this.linkInputChangesSubscription=(0,H.H)(Qe).pipe((0,Re.U)()).subscribe(pt=>{this._isActive!==this.isLinkActive(this.router)(pt)&&this.update()})}set routerLinkActive(Qe){const pt=Array.isArray(Qe)?Qe:Qe.split(" ");this.classes=pt.filter(Pt=>!!Pt)}ngOnChanges(Qe){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const Qe=this.hasActiveLinks();this.classes.forEach(pt=>{Qe?this.renderer.addClass(this.element.nativeElement,pt):this.renderer.removeClass(this.element.nativeElement,pt)}),Qe&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==Qe&&(this._isActive=Qe,this.cdr.markForCheck(),this.isActiveChange.emit(Qe))})}isLinkActive(Qe){const pt=function Vt(Ge){return!!Ge.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return Pt=>{const sn=Pt.urlTree;return!!sn&&Qe.isActive(sn,pt)}}hasActiveLinks(){const Qe=this.isLinkActive(this.router);return this.link&&Qe(this.link)||this.links.some(Qe)}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.rXU(oe),b.rXU(b.aKT),b.rXU(b.sFG),b.rXU(b.gRc),b.rXU(Ze,8))};static#t=this.\u0275dir=b.FsC({type:Ge,selectors:[["","routerLinkActive",""]],contentQueries:function(pt,Pt,sn){if(1&pt&&b.wni(sn,Ze,5),2&pt){let _n;b.mGM(_n=b.lsd())&&(Pt.links=_n)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[b.OA$]})}return Ge})();class vn{}let zt=(()=>{class Ge{preload(Qe,pt){return pt().pipe((0,R.W)(()=>(0,w.of)(null)))}static#e=this.\u0275fac=function(pt){return new(pt||Ge)};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})(),tn=(()=>{class Ge{constructor(Qe,pt,Pt,sn,_n){this.router=Qe,this.injector=Pt,this.preloadingStrategy=sn,this.loader=_n}setUpPreloading(){this.subscription=this.router.events.pipe((0,he.p)(Qe=>Qe instanceof $r),(0,E.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Qe,pt){const Pt=[];for(const sn of pt){sn.providers&&!sn._injector&&(sn._injector=(0,b.Ol2)(sn.providers,Qe,`Route: ${sn.path}`));const _n=sn._injector??Qe,sr=sn._loadedInjector??_n;(sn.loadChildren&&!sn._loadedRoutes&&void 0===sn.canLoad||sn.loadComponent&&!sn._loadedComponent)&&Pt.push(this.preloadConfig(_n,sn)),(sn.children||sn._loadedRoutes)&&Pt.push(this.processRoutes(sr,sn.children??sn._loadedRoutes))}return(0,H.H)(Pt).pipe((0,Re.U)())}preloadConfig(Qe,pt){return this.preloadingStrategy.preload(pt,()=>{let Pt;Pt=pt.loadChildren&&void 0===pt.canLoad?this.loader.loadChildren(Qe,pt):(0,w.of)(null);const sn=Pt.pipe((0,we.Z)(_n=>null===_n?(0,w.of)(void 0):(pt._loadedRoutes=_n.routes,pt._loadedInjector=_n.injector,this.processRoutes(_n.injector??Qe,_n.routes))));if(pt.loadComponent&&!pt._loadedComponent){const _n=this.loader.loadComponent(pt);return(0,H.H)([sn,_n]).pipe((0,Re.U)())}return sn})}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.KVO(oe),b.KVO(b.Ql9),b.KVO(b.uvJ),b.KVO(vn),b.KVO(Jt))};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac,providedIn:"root"})}return Ge})();const pr=new b.nKC("");let ur=(()=>{class Ge{constructor(Qe,pt,Pt,sn,_n={}){this.urlSerializer=Qe,this.transitions=pt,this.viewportScroller=Pt,this.zone=sn,this.options=_n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,b.WQX)(b.uvJ),_n.scrollPositionRestoration||="disabled",_n.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Qe=>{Qe instanceof Mr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Qe.navigationTrigger,this.restoredId=Qe.restoredState?Qe.restoredState.navigationId:0):Qe instanceof $r?(this.lastId=Qe.id,this.scheduleScrollEvent(Qe,this.urlSerializer.parse(Qe.urlAfterRedirects).fragment)):Qe instanceof li&&Qe.code===Ii.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Qe,this.urlSerializer.parse(Qe.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Qe=>{Qe instanceof Fn&&(Qe.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Qe.position):Qe.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Qe.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Qe,pt){var Pt=this;this.zone.runOutsideAngular((0,y.A)(function*(){yield new Promise(sn=>{setTimeout(()=>{sn()}),(0,b.mal)(()=>{sn()},{injector:Pt.environmentInjector})}),Pt.zone.run(()=>{Pt.transitions.events.next(new Fn(Qe,"popstate"===Pt.lastSource?Pt.store[Pt.restoredId]:null,pt))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(pt){b.QTQ()};static#t=this.\u0275prov=b.jDH({token:Ge,factory:Ge.\u0275fac})}return Ge})();function Vr(Ge,...ft){return(0,b.EmA)([{provide:it,multi:!0,useValue:Ge},[],{provide:es,useFactory:ai,deps:[oe]},{provide:b.iLQ,multi:!0,useFactory:Ti},ft.map(Qe=>Qe.\u0275providers)])}function ai(Ge){return Ge.routerState.root}function pi(Ge,ft){return{\u0275kind:Ge,\u0275providers:ft}}function Ti(){const Ge=(0,b.WQX)(b.zZn);return ft=>{const Qe=Ge.get(b.o8S);if(ft!==Qe.components[0])return;const pt=Ge.get(oe),Pt=Ge.get(qr);1===Ge.get(jo)&&pt.initialNavigation(),Ge.get(Jf,null,b.$GK.Optional)?.setUpPreloading(),Ge.get(pr,null,b.$GK.Optional)?.init(),pt.resetRootComponentType(Qe.componentTypes[0]),Pt.closed||(Pt.next(),Pt.complete(),Pt.unsubscribe())}}const qr=new b.nKC("",{factory:()=>new q.B}),jo=new b.nKC("",{providedIn:"root",factory:()=>1}),Jf=new b.nKC("");function il(Ge){return pi(0,[{provide:Jf,useExisting:tn},{provide:vn,useExisting:Ge}])}function nS(Ge){return pi(9,[{provide:ti,useValue:ii},{provide:Eo,useValue:{skipNextTransition:!!Ge?.skipInitialTransition,...Ge}}])}const sb=new b.nKC("ROUTER_FORROOT_GUARD"),rS=[J.aZ,{provide:en,useClass:It},oe,oc,{provide:es,useFactory:ai,deps:[oe]},Jt,[]];let _l=(()=>{class Ge{constructor(Qe){}static forRoot(Qe,pt){return{ngModule:Ge,providers:[rS,[],{provide:it,multi:!0,useValue:Qe},{provide:sb,useFactory:C1,deps:[[oe,new b.Xx1,new b.kdw]]},{provide:rl,useValue:pt||{}},pt?.useHash?{provide:J.hb,useClass:J.fw}:{provide:J.hb,useClass:J.Sm},{provide:pr,useFactory:()=>{const Ge=(0,b.WQX)(J.Xr),ft=(0,b.WQX)(b.SKi),Qe=(0,b.WQX)(rl),pt=(0,b.WQX)(Ci),Pt=(0,b.WQX)(en);return Qe.scrollOffset&&Ge.setOffset(Qe.scrollOffset),new ur(Pt,pt,Ge,ft,Qe)}},pt?.preloadingStrategy?il(pt.preloadingStrategy).\u0275providers:[],pt?.initialNavigation?ab(pt):[],pt?.bindToComponentInputs?pi(8,[zs,{provide:So,useExisting:zs}]).\u0275providers:[],pt?.enableViewTransitions?nS().\u0275providers:[],[{provide:a0,useFactory:Ti},{provide:b.iLQ,multi:!0,useExisting:a0}]]}}static forChild(Qe){return{ngModule:Ge,providers:[{provide:it,multi:!0,useValue:Qe}]}}static#e=this.\u0275fac=function(pt){return new(pt||Ge)(b.KVO(sb,8))};static#t=this.\u0275mod=b.$C({type:Ge});static#n=this.\u0275inj=b.G2t({})}return Ge})();function C1(Ge){return"guarded"}function ab(Ge){return["disabled"===Ge.initialNavigation?pi(3,[{provide:b.hnV,multi:!0,useFactory:()=>{const ft=(0,b.WQX)(oe);return()=>{ft.setUpLocationChangeListener()}}},{provide:jo,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ge.initialNavigation?pi(2,[{provide:jo,useValue:0},{provide:b.hnV,multi:!0,deps:[b.zZn],useFactory:ft=>{const Qe=ft.get(J.hj,Promise.resolve());return()=>Qe.then(()=>new Promise(pt=>{const Pt=ft.get(oe),sn=ft.get(qr);Qt(Pt,()=>{pt(!0)}),ft.get(Ci).afterPreactivation=()=>(pt(!0),sn.closed?(0,w.of)(void 0):sn),Pt.initialNavigation()}))}}]).\u0275providers:[]]}const a0=new b.nKC("")},52039:(We,j,_)=>{"use strict";_.d(j,{oU:()=>cn,Q2:()=>ar});class b extends Error{constructor(et,Wt){super(`${et}: ${Wt}`),this.code=et,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class A{constructor(et,Wt,Ft){this.name=et,this.prefix=Wt,this.baseEncode=Ft}encode(et){if(et instanceof Uint8Array)return`${this.prefix}${this.baseEncode(et)}`;throw Error("Unknown type, must be binary type")}}class G{constructor(et,Wt,Ft){if(this.name=et,this.prefix=Wt,void 0===Wt.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Wt.codePointAt(0),this.baseDecode=Ft}decode(et){if("string"==typeof et){if(et.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(et)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(et.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(et){return z(this,et)}}class L{constructor(et){this.decoders=et}or(et){return z(this,et)}decode(et){const Ft=this.decoders[et[0]];if(Ft)return Ft.decode(et);throw RangeError(`Unable to decode multibase string ${JSON.stringify(et)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const z=(Ye,et)=>new L({...Ye.decoders||{[Ye.prefix]:Ye},...et.decoders||{[et.prefix]:et}});class ee{constructor(et,Wt,Ft,mn){this.name=et,this.prefix=Wt,this.baseEncode=Ft,this.baseDecode=mn,this.encoder=new A(et,Wt,Ft),this.decoder=new G(et,Wt,mn)}encode(et){return this.encoder.encode(et)}decode(et){return this.decoder.decode(et)}}const ce=({name:Ye,prefix:et,bitsPerChar:Wt,alphabet:Ft})=>(({name:Ye,prefix:et,encode:Wt,decode:Ft})=>new ee(Ye,et,Wt,Ft))({prefix:et,name:Ye,encode:mn=>((Ye,et,Wt)=>{const Ft="="===et[et.length-1],mn=(1<<Wt)-1;let Vn="",bn=0,Mn=0;for(let br=0;br<Ye.length;++br)for(Mn=Mn<<8|Ye[br],bn+=8;bn>Wt;)bn-=Wt,Vn+=et[mn&Mn>>bn];if(bn&&(Vn+=et[mn&Mn<<Wt-bn]),Ft)for(;Vn.length*Wt&7;)Vn+="=";return Vn})(mn,Ft,Wt),decode:mn=>((Ye,et,Wt,Ft)=>{const mn={};for(let Nn=0;Nn<et.length;++Nn)mn[et[Nn]]=Nn;let Vn=Ye.length;for(;"="===Ye[Vn-1];)--Vn;const bn=new Uint8Array(Vn*Wt/8|0);let Mn=0,br=0,or=0;for(let Nn=0;Nn<Vn;++Nn){const Ln=mn[Ye[Nn]];if(void 0===Ln)throw new SyntaxError(`Non-${Ft} character`);br=br<<Wt|Ln,Mn+=Wt,Mn>=8&&(Mn-=8,bn[or++]=255&br>>Mn)}if(Mn>=Wt||255&br<<8-Mn)throw new SyntaxError("Unexpected end of data");return bn})(mn,Ft,Wt,Ye)}),he=(ce({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ce({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ce({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));ce({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class Me{static encode(et){return he.baseEncode(et)}static decodeAsBytes(et,Wt){if(!Me.isBase64UrlString(et))throw new b("EncodedStringIncorrectEncoding",`Given ${Wt} must be base64url string.`);return he.baseDecode(et)}static decodeAsString(et,Wt){const Ft=Me.decodeAsBytes(et,Wt);return Me.bytesToString(Ft)}static isBase64UrlString(et){return/^[A-Za-z0-9_-]+$/.test(et)}static stringToBytes(et){return(new TextEncoder).encode(et)}static bytesToString(et){return(new TextDecoder).decode(et)}}var Pe=_(95568),C=function(Ye){return Ye.Public="public",Ye.Private="private",Ye}(C||{});const a=C;class d{static validateEs256kOperationKey(et,Wt){const Ft=new Set(["kty","crv","x","y"]);Wt===a.Private&&Ft.add("d");for(const mn in et)if(!Ft.has(mn))throw new b("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${mn}'.`);if("secp256k1"!==et.crv)throw new b("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${et.crv}.'`);if("EC"!==et.kty)throw new b("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${et.kty}.'`);if(43!==et.x.length)throw new b("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==et.y.length)throw new b("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(Wt===a.Private&&(void 0===et.d||43!==et.d.length))throw new b("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(et){if(et.length>50)throw new b("IdTooLong",`Key ID length ${et.length} exceed max allowed length of 50.`);if(!Me.isBase64UrlString(et))throw new b("IdNotUsingBase64UrlCharacterSet",`Key ID '${et}' is not a Base64URL string.`)}static validatePublicKeyPurposes(et){if(void 0===et)return;const Wt=new Set;for(const Ft of et){if(Wt.has(Ft))throw new b("PublicKeyPurposeDuplicated",`Public key purpose '${Ft}' already specified.`);Wt.add(Ft)}}}const p=(()=>{class Ye{}return Ye.hashAlgorithmInMultihashCode=18,Ye.maxCanonicalizedDeltaSizeInBytes=1e3,Ye})();var E=_(28846);class D{static canonicalizeAsBytes(et){const Wt=D.removeAllUndefinedProperties(et),Ft=E(Wt);return Me.stringToBytes(Ft)}static removeAllUndefinedProperties(et){for(const Wt in et)"object"==typeof et[Wt]?D.removeAllUndefinedProperties(et[Wt]):void 0===et[Wt]&&delete et[Wt];return et}}var x=128,v=-128,$=Math.pow(2,31),de=128,De=127,Ve=Math.pow(2,7),Ee=Math.pow(2,14),_e=Math.pow(2,21),Fe=Math.pow(2,28),ve=Math.pow(2,35),Te=Math.pow(2,42),ge=Math.pow(2,49),me=Math.pow(2,56),te=Math.pow(2,63);const Be={encode:function F(Ye,et,Wt){et=et||[];for(var Ft=Wt=Wt||0;Ye>=$;)et[Wt++]=255&Ye|x,Ye/=128;for(;Ye&v;)et[Wt++]=255&Ye|x,Ye>>>=7;return et[Wt]=0|Ye,F.bytes=Wt-Ft+1,et},decode:function Re(Ye,Ft){var bn,Wt=0,mn=0,Vn=Ft=Ft||0,Mn=Ye.length;do{if(Vn>=Mn)throw Re.bytes=0,new RangeError("Could not decode varint");bn=Ye[Vn++],Wt+=mn<28?(bn&De)<<mn:(bn&De)*Math.pow(2,mn),mn+=7}while(bn>=de);return Re.bytes=Vn-Ft,Wt},encodingLength:function(Ye){return Ye<Ve?1:Ye<Ee?2:Ye<_e?3:Ye<Fe?4:Ye<ve?5:Ye<Te?6:Ye<ge?7:Ye<me?8:Ye<te?9:10}},qe=(Ye,et=0)=>[Be.decode(Ye,et),Be.decode.bytes],ze=(Ye,et,Wt=0)=>(Be.encode(Ye,et,Wt),et),Dt=Ye=>Be.encodingLength(Ye),Xe=(Ye,et)=>{const Wt=et.byteLength,Ft=Dt(Ye),mn=Ft+Dt(Wt),Vn=new Uint8Array(mn+Wt);return ze(Ye,Vn,0),ze(Wt,Vn,Ft),Vn.set(et,mn),new K(Ye,Wt,et,Vn)};class K{constructor(et,Wt,Ft,mn){this.code=et,this.size=Wt,this.digest=Ft,this.bytes=mn}}var T=_(10467);const M=({name:Ye,code:et,encode:Wt})=>new Y(Ye,et,Wt);class Y{constructor(et,Wt,Ft){this.name=et,this.code=Wt,this.encode=Ft}digest(et){if(et instanceof Uint8Array){const Wt=this.encode(et);return Wt instanceof Uint8Array?Xe(this.code,Wt):Wt.then(Ft=>Xe(this.code,Ft))}throw Error("Unknown type, must be binary type")}}const pe=Ye=>function(){var et=(0,T.A)(function*(Wt){return new Uint8Array(yield crypto.subtle.digest(Ye,Wt))});return function(Wt){return et.apply(this,arguments)}}(),ke=M({name:"sha2-256",code:18,encode:pe("SHA-256")});M({name:"sha2-512",code:19,encode:pe("SHA-512")});var lt=function(Ye,et,Wt,Ft){return new(Wt||(Wt=Promise))(function(Vn,bn){function Mn(Nn){try{or(Ft.next(Nn))}catch(Ln){bn(Ln)}}function br(Nn){try{or(Ft.throw(Nn))}catch(Ln){bn(Ln)}}function or(Nn){Nn.done?Vn(Nn.value):function mn(Vn){return Vn instanceof Wt?Vn:new Wt(function(bn){bn(Vn)})}(Nn.value).then(Mn,br)}or((Ft=Ft.apply(Ye,et||[])).next())})};class en{static hash(et,Wt){return lt(this,void 0,void 0,function*(){let Ft;if(18!==Wt)throw new b("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Wt} is not supported.`);return Ft=(yield ke.digest(et)).bytes,Ft})}static hashAsNonMultihashBytes(et,Wt){return lt(this,void 0,void 0,function*(){let Ft;if(18!==Wt)throw new b("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Wt} is not supported.`);return Ft=yield ke.encode(et),Ft})}static canonicalizeThenHashThenEncode(et,Wt){return lt(this,void 0,void 0,function*(){const Ft=D.canonicalizeAsBytes(et);return yield en.hashThenEncode(Ft,Wt)})}static canonicalizeThenDoubleHashThenEncode(et,Wt){return lt(this,void 0,void 0,function*(){const Ft=D.canonicalizeAsBytes(et),mn=yield en.hashAsNonMultihashBytes(Ft,Wt);return yield en.hashThenEncode(mn,Wt)})}static hashThenEncode(et,Wt){return lt(this,void 0,void 0,function*(){const Ft=yield en.hash(et,Wt);return Me.encode(Ft)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(et,Wt){let Ft;const mn=Me.decodeAsBytes(et,Wt);try{Ft=(Ye=>{const et=(Ye=>{if(Ye instanceof Uint8Array&&"Uint8Array"===Ye.constructor.name)return Ye;if(Ye instanceof ArrayBuffer)return new Uint8Array(Ye);if(ArrayBuffer.isView(Ye))return new Uint8Array(Ye.buffer,Ye.byteOffset,Ye.byteLength);throw new Error("Unknown type, must be binary type")})(Ye),[Wt,Ft]=qe(et),[mn,Vn]=qe(et.subarray(Ft)),bn=et.subarray(Ft+Vn);if(bn.byteLength!==mn)throw new Error("Incorrect length");return new K(Wt,mn,bn,et)})(mn)}catch{throw new b("MultihashStringNotAMultihash",`Given ${Wt} string '${et}' is not a multihash after decoding.`)}const Vn=p.hashAlgorithmInMultihashCode;if(Vn!==Ft.code)throw new b("MultihashUnsupportedHashAlgorithm",`Given ${Wt} uses unsupported multihash algorithm with code ${Ft.code}, should use ${Vn} or change IonSdkConfig to desired hashing algorithm.`)}}var It=function(Ye){return Ye.Create="create",Ye.Update="update",Ye.Deactivate="deactivate",Ye.Recover="recover",Ye}(It||{});const Kt=It;var rn=function(Ye){return Ye.Replace="replace",Ye.AddPublicKeys="add-public-keys",Ye.RemovePublicKeys="remove-public-keys",Ye.AddServices="add-services",Ye.RemoveServices="remove-services",Ye}(rn||{});const gn=rn;var ln=function(Ye,et,Wt,Ft){return new(Wt||(Wt=Promise))(function(Vn,bn){function Mn(Nn){try{or(Ft.next(Nn))}catch(Ln){bn(Ln)}}function br(Nn){try{or(Ft.throw(Nn))}catch(Ln){bn(Ln)}}function or(Nn){Nn.done?Vn(Nn.value):function mn(Vn){return Vn instanceof Wt?Vn:new Wt(function(bn){bn(Vn)})}(Nn.value).then(Mn,br)}or((Ft=Ft.apply(Ye,et||[])).next())})};class ar{static createCreateRequest(et){return ln(this,void 0,void 0,function*(){const Wt=et.recoveryKey,Ft=et.updateKey,mn=et.document.publicKeys,Vn=et.document.services;d.validateEs256kOperationKey(Wt,a.Public),d.validateEs256kOperationKey(Ft,a.Public),ar.validateDidDocumentKeys(mn),ar.validateServices(Vn);const bn=p.hashAlgorithmInMultihashCode,Mn=[{action:gn.Replace,document:et.document}],br={updateCommitment:yield en.canonicalizeThenDoubleHashThenEncode(Ft,bn),patches:Mn};ar.validateDeltaSize(br);const Nn={deltaHash:yield en.canonicalizeThenHashThenEncode(br,bn),recoveryCommitment:yield en.canonicalizeThenDoubleHashThenEncode(Wt,bn)};return{type:Kt.Create,suffixData:Nn,delta:br}})}static createDeactivateRequest(et){return ln(this,void 0,void 0,function*(){ar.validateDidSuffix(et.didSuffix),d.validateEs256kOperationKey(et.recoveryPublicKey,a.Public);const Wt=p.hashAlgorithmInMultihashCode,Ft=yield en.canonicalizeThenHashThenEncode(et.recoveryPublicKey,Wt),mn={didSuffix:et.didSuffix,recoveryKey:et.recoveryPublicKey},Vn=yield et.signer.sign({alg:"ES256K"},mn);return{type:Kt.Deactivate,didSuffix:et.didSuffix,revealValue:Ft,signedData:Vn}})}static createRecoverRequest(et){return ln(this,void 0,void 0,function*(){ar.validateDidSuffix(et.didSuffix),d.validateEs256kOperationKey(et.recoveryPublicKey,a.Public),d.validateEs256kOperationKey(et.nextRecoveryPublicKey,a.Public),d.validateEs256kOperationKey(et.nextUpdatePublicKey,a.Public),ar.validateDidDocumentKeys(et.document.publicKeys),ar.validateServices(et.document.services);const Wt=p.hashAlgorithmInMultihashCode,Ft=yield en.canonicalizeThenHashThenEncode(et.recoveryPublicKey,Wt),bn={patches:[{action:gn.Replace,document:et.document}],updateCommitment:yield en.canonicalizeThenDoubleHashThenEncode(et.nextUpdatePublicKey,Wt)},Mn=yield en.canonicalizeThenHashThenEncode(bn,Wt),or={recoveryCommitment:yield en.canonicalizeThenDoubleHashThenEncode(et.nextRecoveryPublicKey,Wt),recoveryKey:et.recoveryPublicKey,deltaHash:Mn},Nn=yield et.signer.sign({alg:"ES256K"},or);return{type:Kt.Recover,didSuffix:et.didSuffix,revealValue:Ft,delta:bn,signedData:Nn}})}static createUpdateRequest(et){return ln(this,void 0,void 0,function*(){if(ar.validateDidSuffix(et.didSuffix),d.validateEs256kOperationKey(et.updatePublicKey,a.Public),d.validateEs256kOperationKey(et.nextUpdatePublicKey,a.Public),ar.validateServices(et.servicesToAdd),ar.validateDidDocumentKeys(et.publicKeysToAdd),void 0!==et.idsOfServicesToRemove)for(const ct of et.idsOfServicesToRemove)d.validateId(ct);if(void 0!==et.idsOfPublicKeysToRemove)for(const ct of et.idsOfPublicKeysToRemove)d.validateId(ct);const Wt=[],Ft=et.servicesToAdd;void 0!==Ft&&Ft.length>0&&Wt.push({action:gn.AddServices,services:Ft});const mn=et.idsOfServicesToRemove;void 0!==mn&&mn.length>0&&Wt.push({action:gn.RemoveServices,ids:mn});const Vn=et.publicKeysToAdd;void 0!==Vn&&Vn.length>0&&Wt.push({action:gn.AddPublicKeys,publicKeys:Vn});const bn=et.idsOfPublicKeysToRemove;void 0!==bn&&bn.length>0&&Wt.push({action:gn.RemovePublicKeys,ids:bn});const Mn=p.hashAlgorithmInMultihashCode,br=yield en.canonicalizeThenHashThenEncode(et.updatePublicKey,Mn),Nn={patches:Wt,updateCommitment:yield en.canonicalizeThenDoubleHashThenEncode(et.nextUpdatePublicKey,Mn)},Ln=yield en.canonicalizeThenHashThenEncode(Nn,Mn),at={updateKey:et.updatePublicKey,deltaHash:Ln},He=yield et.signer.sign({alg:"ES256K"},at);return{type:Kt.Update,didSuffix:et.didSuffix,revealValue:br,delta:Nn,signedData:He}})}static validateDidSuffix(et){en.validateEncodedHashComputedUsingSupportedHashAlgorithm(et,"didSuffix")}static validateDidDocumentKeys(et){if(void 0===et)return;const Wt=new Set;for(const Ft of et){if(Array.isArray(Ft.publicKeyJwk))throw new b("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(d.validateId(Ft.id),Wt.has(Ft.id))throw new b("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${Ft.id}' already exists.`);Wt.add(Ft.id),d.validatePublicKeyPurposes(Ft.purposes)}}static validateServices(et){if(void 0!==et&&0!==et.length){const Wt=new Set;for(const Ft of et){if(ar.validateService(Ft),Wt.has(Ft.id))throw new b("DidDocumentServiceIdDuplicated","Service id has to be unique");Wt.add(Ft.id)}}}static validateService(et){if(d.validateId(et.id),et.type.length>30)throw new b("ServiceTypeTooLong",`Service endpoint type length ${et.type.length} exceeds max allowed length of 30.`);if(Array.isArray(et.serviceEndpoint))throw new b("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof et.serviceEndpoint&&void 0!==Pe.parse(et.serviceEndpoint).error)throw new b("ServiceEndpointStringNotValidUri",`Service endpoint string '${et.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(et){const Wt=D.canonicalizeAsBytes(et);if(Wt.length>p.maxCanonicalizedDeltaSizeInBytes)throw new b("DeltaExceedsMaximumSize",`Delta of ${Wt.length} bytes exceeded limit of ${p.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var Cn=function(Ye,et,Wt,Ft){return new(Wt||(Wt=Promise))(function(Vn,bn){function Mn(Nn){try{or(Ft.next(Nn))}catch(Ln){bn(Ln)}}function br(Nn){try{or(Ft.throw(Nn))}catch(Ln){bn(Ln)}}function or(Nn){Nn.done?Vn(Nn.value):function mn(Vn){return Vn instanceof Wt?Vn:new Wt(function(bn){bn(Vn)})}(Nn.value).then(Mn,br)}or((Ft=Ft.apply(Ye,et||[])).next())})};class cn{static createLongFormDid(et){return Cn(this,void 0,void 0,function*(){const Wt=yield ar.createCreateRequest(et),Ft=yield cn.computeDidUniqueSuffix(Wt.suffixData);let mn;mn=void 0===p.network||"mainnet"===p.network?`did:ion:${Ft}`:`did:ion:${p.network}:${Ft}`;const bn=D.canonicalizeAsBytes({suffixData:Wt.suffixData,delta:Wt.delta});return`${mn}:${Me.encode(bn)}`})}static computeDidUniqueSuffix(et){return Cn(this,void 0,void 0,function*(){const Wt=D.canonicalizeAsBytes(et),Ft=yield en.hash(Wt,p.hashAlgorithmInMultihashCode);return Me.encode(Ft)})}}_(63741),_(68464)},49402:(We,j,_)=>{"use strict";_.d(j,{hB:()=>Gt,D4:()=>Vn,lF:()=>mn});const y=/^(\d{1,3}\.){3,3}\d{1,3}$/,P=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,w={name:"v4",size:4,isFormat:at=>y.test(at),encode(at,He,ct){ct=~~ct,He=He||new Uint8Array(ct+4);const Yt=at.length;let En=0;for(let zn=0;zn<Yt;){const er=at.charCodeAt(zn++);46===er?(He[ct++]=En,En=0):En=10*En+(er-48)}return He[ct]=En,He},decode:(at,He)=>(He=~~He,`${at[He++]}.${at[He++]}.${at[He++]}.${at[He]}`)},O={name:"v6",size:16,isFormat:at=>at.length>0&&P.test(at),encode(at,He,ct){let Yt=16+(ct=~~ct),En=-1,zn=0,er=0,mr=!0,Lr=!1;He=He||new Uint8Array(ct+16);for(let Pr=0;Pr<at.length;Pr++){let Kr=at.charCodeAt(Pr);58===Kr?(mr?-1!==En?(ct<Yt&&(He[ct]=0),ct<Yt-1&&(He[ct+1]=0),ct+=2):ct<Yt&&(En=ct):(!0===Lr?(ct<Yt&&(He[ct]=er),ct++):(ct<Yt&&(He[ct]=zn>>8),ct<Yt-1&&(He[ct+1]=255&zn),ct+=2),zn=0,er=0),mr=!0,Lr=!1):46===Kr?(ct<Yt&&(He[ct]=er),ct++,er=0,zn=0,mr=!1,Lr=!0):(mr=!1,Kr>=97?Kr-=87:Kr>=65?Kr-=55:(Kr-=48,er=10*er+Kr),zn=(zn<<4)+Kr)}if(!1===mr)!0===Lr?(ct<Yt&&(He[ct]=er),ct++):(ct<Yt&&(He[ct]=zn>>8),ct<Yt-1&&(He[ct+1]=255&zn),ct+=2);else if(0===En)ct<Yt&&(He[ct]=0),ct<Yt-1&&(He[ct+1]=0),ct+=2;else if(-1!==En){ct+=2;for(let Pr=Math.min(ct-1,Yt-1);Pr>=En+2;Pr--)He[Pr]=He[Pr-2];He[En]=0,He[En+1]=0,En=ct}if(En!==ct&&-1!==En)for(ct>Yt-2&&(ct=Yt-2);Yt>En;)He[--Yt]=ct<Yt&&ct>En?He[--ct]:0;else for(;ct<Yt;)He[ct++]=0;return He},decode(at,He){He=~~He;let ct="";for(let Yt=0;Yt<16;Yt+=2)0!==Yt&&(ct+=":"),ct+=(at[He+Yt]<<8|at[He+Yt+1]).toString(16);return ct.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function B(at){if(w.isFormat(at))return w.size;if(O.isFormat(at))return O.size;throw Error(`Invalid ip address: ${at}`)}function G(at){switch(at){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+at}function L(at){switch(at.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return at.toUpperCase().startsWith("UNKNOWN_")?parseInt(at.slice(8)):0}function z(at){switch(at){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+at}function q(at){switch(at){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+at}function J(at){switch(at){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+at}function se(at){switch(at.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function ae(at){if("number"==typeof at)return at;if(!at)return-1;switch(at.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const He=at.match(/_(\d+)$/);return He?parseInt(He[1],10):-1}const fe=55296,he=56320;function Me(at){let He=0;const ct=at.length;for(let Yt=0;Yt<ct;Yt+=1){const En=at.charCodeAt(Yt);if(En<=127)He+=1;else if(En<=2047)He+=2;else if((63488&En)!==fe)He+=3;else{const zn=Yt+1;zn===ct||En>=he||(64512&at.charCodeAt(zn))!==he?He+=3:(Yt=zn,He+=4)}}return He}function Pe(at,He,ct){const Yt=at.length;null==ct&&(ct=0),void 0===He&&(He=new Uint8Array(Me(at)+ct));let En=ct;for(let zn=0;zn<Yt;zn+=1){let er=at.charCodeAt(zn);if(er<=127)He[En++]=er;else if(er<=2047)He[En++]=192|(1984&er)>>6,He[En++]=128|63&er;else if((63488&er)!==fe)He[En++]=224|(61440&er)>>12,He[En++]=128|(4032&er)>>6,He[En++]=128|63&er;else{const mr=zn+1;if(mr===Yt||er>=he)He[En++]=239,He[En++]=191,He[En++]=189;else{const Lr=at.charCodeAt(mr);(64512&Lr)!==he?(He[En++]=239,He[En++]=191,He[En++]=189):(zn=mr,er=65536|(1023&er)<<10|1023&Lr,He[En++]=240|(1835008&er)>>18,He[En++]=128|(258048&er)>>12,He[En++]=128|(4032&er)>>6,He[En++]=128|63&er)}}}return Pe.bytes=En-ct,He}function C(at,He,ct){let Yt="";null==He&&(He=0),null==ct&&(ct=at.length);for(let En=He;En<ct;){const zn=at[En++];let er;zn<=128?er=zn:zn>191&&zn<224?er=(31&zn)<<6|63&at[En++]:zn>239&&zn<365?(er=((7&zn)<<18|(63&at[En++])<<12|(63&at[En++])<<6|63&at[En++])-65536,Yt+=String.fromCharCode(fe|er>>10&1023),er=he|1023&er):er=(15&zn)<<12|(63&at[En++])<<6|63&at[En++],Yt+=String.fromCharCode(er)}return C.bytes=ct-He,Yt}Pe.bytes=0,C.bytes=0;const a=at=>at instanceof Uint8Array;function d(at){return"string"==typeof at?Me(at):at.byteLength}function m(at){return at instanceof Uint8Array?at:Array.isArray(at)?new Uint8Array(at):Pe(at)}function p(at,He,ct){if("string"!=typeof He)throw new Error("unknown input type");return Pe(He,at,ct),Pe.bytes}const E={},D=new Array(255);for(let at=0;at<=15;at+=1){const He=at.toString(16),ct=He.toUpperCase();for(let Yt=0;Yt<=15;Yt+=1){const En=Yt.toString(16),zn=En.toUpperCase(),er=at<<4|Yt,mr=`${He}${En}`;D[er]=mr,E[mr]=er,E[`${ct}${En}`]=er,E[`${He}${zn}`]=er,E[`${ct}${zn}`]=er}}function x(at){return at.length>>>1}const v=Math.pow(2,24),$=Math.pow(2,16),F=Math.pow(2,8),Q=(at,He)=>at[He]*v+at[He+1]*$+at[He+2]*F+at[He+3],de=(at,He)=>at[He]<<8|at[He+1],De=(at,He,ct)=>(at[ct+3]=He=+He,at[ct+2]=He>>>=8,at[ct+1]=He>>>=8,at[ct]=He>>>=8,ct+4),Re=(at,He,ct)=>(at[ct]=He>>8,at[ct+1]=255&He,ct+2);function Ve(at,He,ct,Yt,En){return ct<0&&(Yt-=ct,ct=0),Yt<0&&(Yt=0),En<0?new Uint8Array(0):ct>=He.length||Yt>=En?0:function Ee(at,He,ct,Yt,En){En-Yt>He.length-ct&&(En=Yt+He.length-ct);let zn=En-Yt;const er=at.length-Yt;return zn>er&&(zn=er),(0!==Yt||En<at.length)&&(at=new Uint8Array(at.buffer,at.byteOffset+Yt,zn)),He.set(at,ct),zn}(at,He,ct,Yt,En)}function te({bytes:at=0,encode:He,decode:ct,encodingLength:Yt}){return He.bytes=at,ct.bytes=at,{encode:He,decode:ct,encodingLength:Yt||(()=>at)}}const ne=te({encode(at,He,ct){He||(He=new Uint8Array(ne.encodingLength(at))),ct||(ct=0);const Yt=ct,En=at.replace(/^\.|\.$/gm,"");if(En.length){const zn=En.split(".");for(let er=0;er<zn.length;er++){const mr=p(He,zn[er],ct+1);He[ct]=mr,ct+=mr+1}}return He[ct++]=0,ne.encode.bytes=ct-Yt,He},decode(at,He){He||(He=0);const ct=[];let Yt=He,En=0,zn=0,er=!1;for(;;){if(He>=at.length)throw new Error("Cannot decode name (buffer overflow)");const mr=at[He++];if(zn+=er?0:1,0===mr)break;if(192&mr){if(192&~mr)throw new Error("Cannot decode name (bad label)");{if(He+1>at.length)throw new Error("Cannot decode name (buffer overflow)");const Lr=de(at,He-1)-49152;if(Lr>=Yt)throw new Error("Cannot decode name (bad pointer)");He=Lr,Yt=Lr,zn+=er?0:1,er=!0}}else{if(He+mr>at.length)throw new Error("Cannot decode name (buffer overflow)");if(En+=mr+1,En>254)throw new Error("Cannot decode name (name too long)");ct.push(C(at,He,He+mr)),He+=mr,zn+=er?0:mr}}return ne.decode.bytes=zn,0===ct.length?".":ct.join(".")},encodingLength:at=>"."===at||".."===at?1:d(at.replace(/^\.|\.$/gm,""))+2}),le=te({encode(at,He,ct){He||(He=new Uint8Array(le.encodingLength(at))),ct||(ct=0);const Yt=p(He,at,ct+1);return He[ct]=Yt,le.encode.bytes=Yt+1,He},decode(at,He){He||(He=0);const ct=at[He],Yt=C(at,He+1,He+1+ct);return le.decode.bytes=ct+1,Yt},encodingLength:at=>d(at)+1}),Ae=te({bytes:12,encode(at,He,ct){He||(He=new Uint8Array(Ae.encodingLength(at))),ct||(ct=0);const Yt=32767&(at.flags||0),En="response"===at.type?32768:0;return Re(He,at.id||0,ct),Re(He,Yt|En,ct+2),Re(He,at.questions.length,ct+4),Re(He,at.answers.length,ct+6),Re(He,at.authorities.length,ct+8),Re(He,at.additionals.length,ct+10),He},decode(at,He){if(He||(He=0),at.length<12)throw new Error("Header must be 12 bytes");const ct=de(at,He+2);return{id:de(at,He),type:32768&ct?"response":"query",flags:32767&ct,flag_qr:1==(ct>>15&1),opcode:q(ct>>11&15),flag_aa:1==(ct>>10&1),flag_tc:1==(ct>>9&1),flag_rd:1==(ct>>8&1),flag_ra:1==(ct>>7&1),flag_z:1==(ct>>6&1),flag_ad:1==(ct>>5&1),flag_cd:1==(ct>>4&1),rcode:z(15&ct),questions:new Array(de(at,He+4)),answers:new Array(de(at,He+6)),authorities:new Array(de(at,He+8)),additionals:new Array(de(at,He+10))}},encodingLength:()=>12}),Be=te({encode(at,He,ct){He||(He=new Uint8Array(Be.encodingLength(at))),ct||(ct=0);const Yt=at.length;return Re(He,Yt,ct),Ve(at,He,ct+2,0,Yt),Be.encode.bytes=Yt+2,He},decode(at,He){He||(He=0);const ct=de(at,He),Yt=at.slice(He+2,He+2+ct);return Be.decode.bytes=ct+2,Yt},encodingLength:at=>at.length+2}),qe=te({encode:(at,He,ct)=>(He||(He=new Uint8Array(qe.encodingLength(at))),ct||(ct=0),ne.encode(at,He,ct+2),Re(He,ne.encode.bytes,ct),qe.encode.bytes=ne.encode.bytes+2,He),decode(at,He){He||(He=0);const ct=de(at,He),Yt=ne.decode(at,He+2);return qe.decode.bytes=ct+2,Yt},encodingLength:at=>ne.encodingLength(at)+2}),ze=te({encode(at,He,ct){He||(He=new Uint8Array(ze.encodingLength(at))),ct||(ct=0);const Yt=ct;return ne.encode(at.mname,He,ct+=2),ne.encode(at.rname,He,ct+=ne.encode.bytes),De(He,at.serial||0,ct+=ne.encode.bytes),De(He,at.refresh||0,ct+=4),De(He,at.retry||0,ct+=4),De(He,at.expire||0,ct+=4),De(He,at.minimum||0,ct+=4),Re(He,(ct+=4)-Yt-2,Yt),ze.encode.bytes=ct-Yt,He},decode(at,He){He||(He=0);const ct=He,Yt={};return Yt.mname=ne.decode(at,He+=2),Yt.rname=ne.decode(at,He+=ne.decode.bytes),Yt.serial=Q(at,He+=ne.decode.bytes),Yt.refresh=Q(at,He+=4),Yt.retry=Q(at,He+=4),Yt.expire=Q(at,He+=4),Yt.minimum=Q(at,He+=4),ze.decode.bytes=(He+=4)-ct,Yt},encodingLength:at=>22+ne.encodingLength(at.mname)+ne.encodingLength(at.rname)}),Dt=te({encode(at,He,ct){Array.isArray(at)||(at=[at]);for(let En=0;En<at.length;En++)if("string"==typeof at[En]&&(at[En]=m(at[En])),!a(at[En]))throw new Error("Must be a Buffer");He||(He=new Uint8Array(Dt.encodingLength(at))),ct||(ct=0);const Yt=ct;return ct+=2,at.forEach(function(En){He[ct++]=En.length,Ve(En,He,ct,0,En.length),ct+=En.length}),Re(He,ct-Yt-2,Yt),Dt.encode.bytes=ct-Yt,He},decode(at,He){He||(He=0);const ct=He;let Yt=de(at,He);He+=2;const En=[];for(;Yt>0;){const zn=at[He++];if(--Yt,Yt<zn)throw new Error("Buffer overflow");En.push(at.slice(He,He+zn)),He+=zn,Yt-=zn}return Dt.decode.bytes=He-ct,En},encodingLength(at){Array.isArray(at)||(at=[at]);let He=2;return at.forEach(function(ct){He+="string"==typeof ct?d(ct)+1:ct.length+1}),He}}),Xe=te({encode(at,He,ct){He||(He=new Uint8Array(Xe.encodingLength(at))),ct||(ct=0),"string"==typeof at&&(at=m(at)),at||(at=new Uint8Array(0));const Yt=ct,En=at.length;return Ve(at,He,ct+=2,0,En),Re(He,(ct+=En)-Yt-2,Yt),Xe.encode.bytes=ct-Yt,He},decode(at,He){He||(He=0);const ct=He,Yt=de(at,He),En=at.slice(He+=2,He+Yt);return Xe.decode.bytes=(He+=Yt)-ct,En},encodingLength:at=>at?(a(at)?at.length:d(at))+2:2}),Ue=te({encode(at,He,ct){He||(He=new Uint8Array(Ue.encodingLength(at))),ct||(ct=0);const Yt=ct;return le.encode(at.cpu,He,ct+=2),le.encode(at.os,He,ct+=le.encode.bytes),Re(He,(ct+=le.encode.bytes)-Yt-2,Yt),Ue.encode.bytes=ct-Yt,He},decode(at,He){He||(He=0);const ct=He,Yt={};return Yt.cpu=le.decode(at,He+=2),Yt.os=le.decode(at,He+=le.decode.bytes),Ue.decode.bytes=(He+=le.decode.bytes)-ct,Yt},encodingLength:at=>le.encodingLength(at.cpu)+le.encodingLength(at.os)+2}),mt=te({encode:(at,He,ct)=>(He||(He=new Uint8Array(mt.encodingLength(at))),ct||(ct=0),ne.encode(at,He,ct+2),Re(He,ne.encode.bytes,ct),mt.encode.bytes=ne.encode.bytes+2,He),decode(at,He){He||(He=0);const ct=ne.decode(at,He+2);return mt.decode.bytes=ne.decode.bytes+2,ct},encodingLength:at=>ne.encodingLength(at)+2}),K=te({encode(at,He,ct){He||(He=new Uint8Array(K.encodingLength(at))),ct||(ct=0),Re(He,at.priority||0,ct+2),Re(He,at.weight||0,ct+4),Re(He,at.port||0,ct+6),ne.encode(at.target,He,ct+8);const Yt=ne.encode.bytes+6;return Re(He,Yt,ct),K.encode.bytes=Yt+2,He},decode(at,He){He||(He=0);const ct=de(at,He),Yt={};return Yt.priority=de(at,He+2),Yt.weight=de(at,He+4),Yt.port=de(at,He+6),Yt.target=ne.decode(at,He+8),K.decode.bytes=ct+2,Yt},encodingLength:at=>8+ne.encodingLength(at.target)}),T=te({encode(at,He,ct){const Yt=T.encodingLength(at);return He||(He=new Uint8Array(T.encodingLength(at))),ct||(ct=0),at.issuerCritical&&(at.flags=T.ISSUER_CRITICAL),Re(He,Yt-2,ct),He[ct+=2]=at.flags||0,le.encode(at.tag,He,ct+=1),p(He,at.value,ct+=le.encode.bytes),ct+=d(at.value),T.encode.bytes=Yt,He},decode(at,He){He||(He=0);const ct=de(at,He),Yt=He+=2,En={};return En.flags=at[He],En.tag=le.decode(at,He+=1),En.value=C(at,He+=le.decode.bytes,Yt+ct),En.issuerCritical=!!(En.flags&T.ISSUER_CRITICAL),T.decode.bytes=ct+2,En},encodingLength:at=>le.encodingLength(at.tag)+le.encodingLength(at.value)+2});T.ISSUER_CRITICAL=128;const M=te({encode(at,He,ct){He||(He=new Uint8Array(M.encodingLength(at))),ct||(ct=0);const Yt=ct;return Re(He,at.preference||0,ct+=2),ne.encode(at.exchange,He,ct+=2),Re(He,(ct+=ne.encode.bytes)-Yt-2,Yt),M.encode.bytes=ct-Yt,He},decode(at,He){He||(He=0);const ct=He,Yt={};return Yt.preference=de(at,He+=2),Yt.exchange=ne.decode(at,He+=2),M.decode.bytes=(He+=ne.decode.bytes)-ct,Yt},encodingLength:at=>4+ne.encodingLength(at.exchange)}),Y=te({encode:(at,He,ct)=>(He||(He=new Uint8Array(Y.encodingLength(at))),ct||(ct=0),Re(He,4,ct),w.encode(at,He,ct+=2),He),decode:(at,He)=>(He||(He=0),w.decode(at,He+=2)),bytes:6}),pe=te({encode:(at,He,ct)=>(He||(He=new Uint8Array(pe.encodingLength(at))),ct||(ct=0),Re(He,16,ct),O.encode(at,He,ct+=2),pe.encode.bytes=18,He),decode(at,He){He||(He=0);const ct=O.decode(at,He+=2);return pe.decode.bytes=18,ct},bytes:18}),ke=at=>new Uint8Array(at),Ne=te({encode(at,He,ct){He||(He=new Uint8Array(Ne.encodingLength(at))),ct||(ct=0);const Yt=ct,En=ae(at.code);if(Re(He,En,ct),ct+=2,at.data)Re(He,at.data.length,ct),Ve(at.data,He,ct+=2),ct+=at.data.length;else switch(En){case 8:{const zn=at.sourcePrefixLength||0,er=at.family||function N(at){return B(at)===w.size?1:2}(at.ip),mr=function U(at,He,ct){ct=~~ct;const Yt=B(at);return"function"==typeof He&&(He=He(ct+Yt)),Yt===w.size?w.encode(at,He,ct):O.encode(at,He,ct)}(at.ip,ke),Lr=Math.ceil(zn/8);Re(He,Lr+4,ct),Re(He,er,ct+=2),ct+=2,He[ct++]=zn,He[ct++]=at.scopePrefixLength||0,Ve(mr,He,ct,0,Lr),ct+=Lr}break;case 11:at.timeout?(Re(He,2,ct),Re(He,at.timeout,ct+=2),ct+=2):(Re(He,0,ct),ct+=2);break;case 12:{const zn=at.length||0;Re(He,zn,ct),He.fill(0,ct+=2,ct+zn),ct+=zn}break;case 14:Re(He,2*at.tags.length,ct),ct+=2;for(const er of at.tags)Re(He,er,ct),ct+=2;break;default:throw new Error(`Unknown roption code: ${at.code}`)}return Ne.encode.bytes=ct-Yt,He},decode(at,He){He||(He=0);const ct={};ct.code=de(at,He),ct.type=function ce(at){switch(at){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return at<0?null:`OPTION_${at}`}(ct.code);const Yt=de(at,He+=2);switch(ct.data=at.slice(He+=2,He+Yt),ct.code){case 8:ct.family=de(at,He),He+=2,ct.sourcePrefixLength=at[He++],ct.scopePrefixLength=at[He++];{const En=new Uint8Array(1===ct.family?4:16);Ve(at,En,0,He,He+Yt-4),ct.ip=function A(at,He,ct){if(He=~~He,(ct=ct||at.length-He)===w.size)return w.decode(at,He,ct);if(ct===O.size)return O.decode(at,He,ct);throw Error(`Invalid buffer size needs to be ${w.size} for v4 or ${O.size} for v6.`)}(En)}break;case 11:Yt>0&&(ct.timeout=de(at,He),He+=2);break;case 14:ct.tags=[];for(let En=0;En<Yt;En+=2)ct.tags.push(de(at,He)),He+=2}return Ne.decode.bytes=Yt+4,ct},encodingLength(at){if(at.data)return at.data.length+4;switch(ae(at.code)){case 8:return Math.ceil((at.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof at.timeout?6:4;case 12:return at.length+4;case 14:return 4+2*at.tags.length}throw new Error(`Unknown roption code: ${at.code}`)}}),lt=te({encode(at,He,ct){He||(He=new Uint8Array(lt.encodingLength(at))),ct||(ct=0);const Yt=ct,En=or(at,Ne);return Re(He,En,ct),ct=Nn(at,Ne,He,ct+2),lt.encode.bytes=ct-Yt,He},decode(at,He){He||(He=0);const ct=He,Yt=[];let En=de(at,He);He+=2;let zn=0;for(;En>0;)Yt[zn++]=Ne.decode(at,He),He+=Ne.decode.bytes,En-=Ne.decode.bytes;return lt.decode.bytes=He-ct,Yt},encodingLength:at=>2+or(at||[],Ne)}),en=te({encode(at,He,ct){He||(He=new Uint8Array(en.encodingLength(at))),ct||(ct=0);const Yt=ct,En=at.key;if(!a(En))throw new Error("Key must be a Buffer");return Re(He,at.flags,ct+=2),He[ct+=2]=en.PROTOCOL_DNSSEC,He[ct+=1]=at.algorithm,Ve(En,He,ct+=1,0,En.length),en.encode.bytes=(ct+=En.length)-Yt,Re(He,en.encode.bytes-2,Yt),He},decode(at,He){He||(He=0);const ct=He,Yt={},En=de(at,He);if(Yt.flags=de(at,He+=2),at[He+=2]!==en.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return Yt.algorithm=at[He+=1],Yt.key=at.slice(He+=1,ct+En+2),en.decode.bytes=(He+=Yt.key.length)-ct,Yt},encodingLength:at=>6+d(at.key)});en.PROTOCOL_DNSSEC=3,en.ZONE_KEY=128,en.SECURE_ENTRYPOINT=32768;const It=te({encode(at,He,ct){He||(He=new Uint8Array(It.encodingLength(at))),ct||(ct=0);const Yt=ct,En=at.signature;if(!a(En))throw new Error("Signature must be a Buffer");return ct+=2,Re(He,L(at.typeCovered),ct),He[ct+=2]=at.algorithm,He[ct+=1]=at.labels,De(He,at.originalTTL,ct+=1),De(He,at.expiration,ct+=4),De(He,at.inception,ct+=4),Re(He,at.keyTag,ct+=4),ne.encode(at.signersName,He,ct+=2),Ve(En,He,ct+=ne.encode.bytes,0,En.length),It.encode.bytes=(ct+=En.length)-Yt,Re(He,It.encode.bytes-2,Yt),He},decode(at,He){He||(He=0);const ct=He,Yt={},En=de(at,He);return Yt.typeCovered=G(de(at,He+=2)),Yt.algorithm=at[He+=2],Yt.labels=at[He+=1],Yt.originalTTL=Q(at,He+=1),Yt.expiration=Q(at,He+=4),Yt.inception=Q(at,He+=4),Yt.keyTag=de(at,He+=4),Yt.signersName=ne.decode(at,He+=2),Yt.signature=at.slice(He+=ne.decode.bytes,ct+En+2),It.decode.bytes=(He+=Yt.signature.length)-ct,Yt},encodingLength:at=>20+ne.encodingLength(at.signersName)+d(at.signature)}),Kt=te({encode(at,He,ct){He||(He=new Uint8Array(Kt.encodingLength(at))),ct||(ct=0);const Yt=ct;return ne.encode(at.mbox||".",He,ct+=2),ne.encode(at.txt||".",He,ct+=ne.encode.bytes),Kt.encode.bytes=(ct+=ne.encode.bytes)-Yt,Re(He,Kt.encode.bytes-2,Yt),He},decode(at,He){He||(He=0);const ct=He,Yt={};return Yt.mbox=ne.decode(at,He+=2)||".",Yt.txt=ne.decode(at,He+=ne.decode.bytes)||".",Kt.decode.bytes=(He+=ne.decode.bytes)-ct,Yt},encodingLength:at=>2+ne.encodingLength(at.mbox||".")+ne.encodingLength(at.txt||".")}),rn=te({encode(at,He,ct){He||(He=new Uint8Array(rn.encodingLength(at))),ct||(ct=0);const Yt=ct,En=[];for(let zn=0;zn<at.length;zn++){const er=L(at[zn]);void 0===En[er>>8]&&(En[er>>8]=[]),En[er>>8][er>>3&31]|=1<<7-(7&er)}for(let zn=0;zn<En.length;zn++)if(void 0!==En[zn]){const er=m(En[zn]);He[ct]=zn,He[ct+=1]=er.length,Ve(er,He,ct+=1,0,er.length),ct+=er.length}return rn.encode.bytes=ct-Yt,He},decode(at,He,ct){He||(He=0);const Yt=He,En=[];for(;He-Yt<ct;){const zn=at[He],er=at[He+=1];He+=1;for(let mr=0;mr<er;mr++){const Lr=at[He+mr];for(let Pr=0;Pr<8;Pr++)if(Lr&1<<7-Pr){const Kr=G(zn<<8|mr<<3|Pr);En.push(Kr)}}He+=er}return rn.decode.bytes=He-Yt,En},encodingLength(at){const He=[];for(let Yt=0;Yt<at.length;Yt++){const En=L(at[Yt]);He[En>>8]=Math.max(He[En>>8]||0,255&En)}let ct=0;for(let Yt=0;Yt<He.length;Yt++)void 0!==He[Yt]&&(ct+=2+Math.ceil((He[Yt]+1)/8));return ct}}),gn=te({encode(at,He,ct){He||(He=new Uint8Array(gn.encodingLength(at))),ct||(ct=0);const Yt=ct;return ne.encode(at.nextDomain,He,ct+=2),rn.encode(at.rrtypes,He,ct+=ne.encode.bytes),gn.encode.bytes=(ct+=rn.encode.bytes)-Yt,Re(He,gn.encode.bytes-2,Yt),He},decode(at,He){He||(He=0);const ct=He,Yt={},En=de(at,He);return Yt.nextDomain=ne.decode(at,He+=2),Yt.rrtypes=rn.decode(at,He+=ne.decode.bytes,En-(He-ct)),gn.decode.bytes=(He+=rn.decode.bytes)-ct,Yt},encodingLength:at=>2+ne.encodingLength(at.nextDomain)+rn.encodingLength(at.rrtypes)}),ln=te({encode(at,He,ct){He||(He=new Uint8Array(ln.encodingLength(at))),ct||(ct=0);const Yt=ct,En=at.salt;if(!a(En))throw new Error("salt must be a Buffer");const zn=at.nextDomain;if(!a(zn))throw new Error("nextDomain must be a Buffer");return He[ct+=2]=at.algorithm,He[ct+=1]=at.flags,Re(He,at.iterations,ct+=1),He[ct+=2]=En.length,Ve(En,He,ct+=1,0,En.length),He[ct+=En.length]=zn.length,Ve(zn,He,ct+=1,0,zn.length),rn.encode(at.rrtypes,He,ct+=zn.length),ln.encode.bytes=(ct+=rn.encode.bytes)-Yt,Re(He,ln.encode.bytes-2,Yt),He},decode(at,He){He||(He=0);const ct=He,Yt={},En=de(at,He);Yt.algorithm=at[He+=2],Yt.flags=at[He+=1],Yt.iterations=de(at,He+=1);const zn=at[He+=2];Yt.salt=at.slice(He+=1,He+zn);const er=at[He+=zn];return Yt.nextDomain=at.slice(He+=1,He+er),Yt.rrtypes=rn.decode(at,He+=er,En-(He-ct)),ln.decode.bytes=(He+=rn.decode.bytes)-ct,Yt},encodingLength:at=>8+at.salt.length+at.nextDomain.length+rn.encodingLength(at.rrtypes)}),ar=te({encode(at,He,ct){He||(He=new Uint8Array(ar.encodingLength(at))),ct||(ct=0);const Yt=ct,En=at.digest;if(!a(En))throw new Error("Digest must be a Buffer");return Re(He,at.keyTag,ct+=2),He[ct+=2]=at.algorithm,He[ct+=1]=at.digestType,Ve(En,He,ct+=1,0,En.length),ar.encode.bytes=(ct+=En.length)-Yt,Re(He,ar.encode.bytes-2,Yt),He},decode(at,He){He||(He=0);const ct=He,Yt={},En=de(at,He);return Yt.keyTag=de(at,He+=2),Yt.algorithm=at[He+=2],Yt.digestType=at[He+=1],Yt.digest=at.slice(He+=1,ct+En+2),ar.decode.bytes=(He+=Yt.digest.length)-ct,Yt},encodingLength:at=>6+d(at.digest)}),Cn=te({encode(at,He,ct){He||(He=new Uint8Array(Cn.encodingLength(at))),ct||(ct=0);const Yt=ct;He[ct+=2]=at.algorithm,He[ct+=1]=at.hash,ct+=1;const En=x(at.fingerprint),zn=cn(at.hash);if(En!==zn)throw new Error(`Invalid length of fingerprint "${at.fingerprint}" for hashType=${at.hash}: ${En} != ${zn}`);return function s(at,He,ct,Yt){let En=0;for(;ct<Yt;){const zn=He.substr(En,2),er=E[zn];if(void 0===er)return;at[ct++]=er,En+=2}}(He,at.fingerprint,ct,ct+=En),Cn.encode.bytes=ct-Yt,Re(He,Cn.encode.bytes-2,Yt),He},decode(at,He){He||(He=0);const ct=He,Yt={};Yt.algorithm=at[He+=2],Yt.hash=at[He+=1],He+=1;const En=cn(Yt.hash);return Yt.fingerprint=function R(at,He,ct){let Yt="";for(let En=He;En<ct;){const zn=at[En++];Yt+=D[zn]}return Yt}(at,He,He+En),Cn.decode.bytes=(He+=En)-ct,Yt},encodingLength:at=>4+x(at.fingerprint)});function cn(at){if(1===at)return 20;if(2===at)return 32;throw new Error(`Invalid hashType=${at}, supported=1,2`)}function Zt(at){switch(at.toUpperCase()){case"A":return Y;case"PTR":case"CNAME":case"DNAME":return mt;case"TXT":return Dt;case"NULL":return Xe;case"AAAA":return pe;case"SRV":return K;case"HINFO":return Ue;case"CAA":return T;case"NS":return qe;case"SOA":return ze;case"MX":return M;case"OPT":return lt;case"DNSKEY":return en;case"RRSIG":return It;case"RP":return Kt;case"NSEC":return gn;case"NSEC3":return ln;case"SSHFP":return Cn;case"DS":return ar}return Be}Cn.getFingerprintLengthForHashType=cn;const vt=te({encode(at,He,ct){He||(He=new Uint8Array(vt.encodingLength(at))),ct||(ct=0);const Yt=ct;if(ne.encode(at.name,He,ct),ct+=ne.encode.bytes,Re(He,L(at.type),ct),"OPT"===at.type.toUpperCase()){if("."!==at.name)throw new Error("OPT name must be root.");Re(He,at.udpPayloadSize||4096,ct+2),He[ct+4]=at.extendedRcode||0,He[ct+5]=at.ednsVersion||0,Re(He,at.flags||0,ct+6),lt.encode(at.options||[],He,ct+=8),ct+=lt.encode.bytes}else{let En=se(void 0===at.class?"IN":at.class);at.flush&&(En|=32768),Re(He,En,ct+2),De(He,at.ttl||0,ct+4),ct+=8;const zn=Zt(at.type);zn.encode(at.data,He,ct),ct+=zn.encode.bytes}return vt.encode.bytes=ct-Yt,He},decode(at,He){He||(He=0);const ct={},Yt=He;if(ct.name=ne.decode(at,He),ct.type=G(de(at,He+=ne.decode.bytes)),"OPT"===ct.type)ct.udpPayloadSize=de(at,He+2),ct.extendedRcode=at[He+4],ct.ednsVersion=at[He+5],ct.flags=de(at,He+6),ct.flag_do=1==(ct.flags>>15&1),ct.options=lt.decode(at,He+8),He+=8+lt.decode.bytes;else{const En=de(at,He+2);ct.ttl=Q(at,He+4),ct.class=J(-32769&En),ct.flush=!!(32768&En);const zn=Zt(ct.type);ct.data=zn.decode(at,He+8),He+=8+zn.decode.bytes}return vt.decode.bytes=He-Yt,ct},encodingLength(at){const He=null!=at.data?at.data:at.options;return ne.encodingLength(at.name)+8+Zt(at.type).encodingLength(He)}}),ut=te({encode(at,He,ct){He||(He=new Uint8Array(ut.encodingLength(at))),ct||(ct=0);const Yt=ct;return ne.encode(at.name,He,ct),ct+=ne.encode.bytes,Re(He,L(at.type),ct),ct+=2,Re(He,se(void 0===at.class?"IN":at.class),ct),ut.encode.bytes=(ct+=2)-Yt,at},decode(at,He){He||(He=0);const ct=He,Yt={};return Yt.name=ne.decode(at,He),Yt.type=G(de(at,He+=ne.decode.bytes)),Yt.class=J(de(at,He+=2)),He+=2,!!(32768&Yt.class)&&(Yt.class&=-32769),ut.decode.bytes=He-ct,Yt},encodingLength:at=>ne.encodingLength(at.name)+4}),Gt=1024,Ye={encode:function(at,He,ct){const Yt=!He;Yt&&(He=new Uint8Array(bn(at))),ct||(ct=0);const En=ct;return at.questions||(at.questions=[]),at.answers||(at.answers=[]),at.authorities||(at.authorities=[]),at.additionals||(at.additionals=[]),Ae.encode(at,He,ct),ct=Nn(at.questions,ut,He,ct+=Ae.encode.bytes),ct=Nn(at.answers,vt,He,ct),ct=Nn(at.authorities,vt,He,ct),ct=Nn(at.additionals,vt,He,ct),Ye.encode.bytes=ct-En,Yt&&mn.bytes!==He.length?He.slice(0,mn.bytes):He},decode:function(at,He){He||(He=0);const ct=He,Yt=Ae.decode(at,He);return He=Ln(Yt.questions,ut,at,He+=Ae.decode.bytes),He=Ln(Yt.answers,vt,at,He),He=Ln(Yt.authorities,vt,at,He),He=Ln(Yt.additionals,vt,at,He),Ye.decode.bytes=He-ct,Yt},encodingLength:function(at){return Ae.encodingLength(at)+or(at.questions||[],ut)+or(at.answers||[],vt)+or(at.authorities||[],vt)+or(at.additionals||[],vt)}};function et(at,He){if(at.questions)throw new Error("Only one .question object expected instead of a .questions array!");const ct=Object.assign({type:He},at);return ct.question&&(ct.questions=[ct.question],delete ct.question),ct}Ye.encode.bytes=0,Ye.decode.bytes=0;const Wt={encode:function(at,He,ct){return He=Ye.encode(et(at,"query"),He,ct),Wt.encode.bytes=Ye.encode.bytes,He},decode:function(at,He){const ct=Ye.decode(at,He);return Wt.decode.bytes=Ye.decode.bytes,ct.questions&&(ct.question=ct.questions[0],delete ct.questions),ct},encodingLength:function(at){return Ye.encodingLength(et(at,"query"))}};Wt.encode.bytes=0,Wt.decode.bytes=0;const Ft={encode:function(at,He,ct){return He=Ye.encode(et(at,"response"),He,ct),Ft.encode.bytes=Ye.encode.bytes,He},decode:function(at,He){const ct=Ye.decode(at,He);return Ft.decode.bytes=Ye.decode.bytes,ct.questions&&(ct.question=ct.questions[0],delete ct.questions),ct},encodingLength:function(at){return Ye.encodingLength(et(at,"response"))}};Ft.encode.bytes=0,Ft.decode.bytes=0;const mn=Ye.encode,Vn=Ye.decode,bn=Ye.encodingLength;function or(at,He){let ct=0;for(let Yt=0;Yt<at.length;Yt++)ct+=He.encodingLength(at[Yt]);return ct}function Nn(at,He,ct,Yt){for(let En=0;En<at.length;En++)He.encode(at[En],ct,Yt),Yt+=He.encode.bytes;return Yt}function Ln(at,He,ct,Yt){for(let En=0;En<at.length;En++)at[En]=He.decode(ct,Yt),Yt+=He.decode.bytes;return Yt}},34931:(We,j,_)=>{"use strict";function y(U){if(!Number.isSafeInteger(U)||U<0)throw new Error(`wrong positive integer: ${U}`)}function b(U){if("boolean"!=typeof U)throw new Error(`boolean expected, not ${U}`)}function H(U,...A){if(!function P(U){return null!=U&&"object"==typeof U&&(U instanceof Uint8Array||"Uint8Array"===U.constructor.name)}(U))throw new Error("Uint8Array expected");if(A.length>0&&!A.includes(U.length))throw new Error(`Uint8Array expected of length ${A}, not of length=${U.length}`)}function O(U,A=!0){if(U.destroyed)throw new Error("Hash instance has been destroyed");if(A&&U.finished)throw new Error("Hash#digest() has already been called")}function S(U,A){H(U);const G=A.outputLen;if(U.length<G)throw new Error(`digestInto() expects output buffer of length at least ${G}`)}_.d(j,{CG:()=>S,ai:()=>y,ee:()=>H,lc:()=>b,t2:()=>O})},94730:(We,j,_)=>{"use strict";var y=_(25953),b=_(34931);const P=(D,R)=>255&D[R++]|(255&D[R++])<<8;class H{constructor(R){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,R=(0,y.ZJ)(R),(0,y.qj)(R,32);const x=P(R,0),s=P(R,2),v=P(R,4),$=P(R,6),F=P(R,8),Q=P(R,10),de=P(R,12),De=P(R,14);this.r[0]=8191&x,this.r[1]=8191&(x>>>13|s<<3),this.r[2]=7939&(s>>>10|v<<6),this.r[3]=8191&(v>>>7|$<<9),this.r[4]=255&($>>>4|F<<12),this.r[5]=F>>>1&8190,this.r[6]=8191&(F>>>14|Q<<2),this.r[7]=8065&(Q>>>11|de<<5),this.r[8]=8191&(de>>>8|De<<8),this.r[9]=De>>>5&127;for(let Re=0;Re<8;Re++)this.pad[Re]=P(R,16+2*Re)}process(R,x,s=!1){const v=s?0:2048,{h:$,r:F}=this,Q=F[0],de=F[1],De=F[2],Re=F[3],Ve=F[4],Ee=F[5],_e=F[6],Fe=F[7],ve=F[8],Te=F[9],ge=P(R,x+0),me=P(R,x+2),te=P(R,x+4),ne=P(R,x+6),le=P(R,x+8),Ae=P(R,x+10),Be=P(R,x+12),qe=P(R,x+14);let ze=$[0]+(8191&ge),Dt=$[1]+(8191&(ge>>>13|me<<3)),Xe=$[2]+(8191&(me>>>10|te<<6)),Ue=$[3]+(8191&(te>>>7|ne<<9)),mt=$[4]+(8191&(ne>>>4|le<<12)),K=$[5]+(le>>>1&8191),T=$[6]+(8191&(le>>>14|Ae<<2)),M=$[7]+(8191&(Ae>>>11|Be<<5)),Y=$[8]+(8191&(Be>>>8|qe<<8)),pe=$[9]+(qe>>>5|v),ke=0,Ne=ke+ze*Q+Dt*(5*Te)+Xe*(5*ve)+Ue*(5*Fe)+mt*(5*_e);ke=Ne>>>13,Ne&=8191,Ne+=K*(5*Ee)+T*(5*Ve)+M*(5*Re)+Y*(5*De)+pe*(5*de),ke+=Ne>>>13,Ne&=8191;let lt=ke+ze*de+Dt*Q+Xe*(5*Te)+Ue*(5*ve)+mt*(5*Fe);ke=lt>>>13,lt&=8191,lt+=K*(5*_e)+T*(5*Ee)+M*(5*Ve)+Y*(5*Re)+pe*(5*De),ke+=lt>>>13,lt&=8191;let en=ke+ze*De+Dt*de+Xe*Q+Ue*(5*Te)+mt*(5*ve);ke=en>>>13,en&=8191,en+=K*(5*Fe)+T*(5*_e)+M*(5*Ee)+Y*(5*Ve)+pe*(5*Re),ke+=en>>>13,en&=8191;let It=ke+ze*Re+Dt*De+Xe*de+Ue*Q+mt*(5*Te);ke=It>>>13,It&=8191,It+=K*(5*ve)+T*(5*Fe)+M*(5*_e)+Y*(5*Ee)+pe*(5*Ve),ke+=It>>>13,It&=8191;let Kt=ke+ze*Ve+Dt*Re+Xe*De+Ue*de+mt*Q;ke=Kt>>>13,Kt&=8191,Kt+=K*(5*Te)+T*(5*ve)+M*(5*Fe)+Y*(5*_e)+pe*(5*Ee),ke+=Kt>>>13,Kt&=8191;let rn=ke+ze*Ee+Dt*Ve+Xe*Re+Ue*De+mt*de;ke=rn>>>13,rn&=8191,rn+=K*Q+T*(5*Te)+M*(5*ve)+Y*(5*Fe)+pe*(5*_e),ke+=rn>>>13,rn&=8191;let gn=ke+ze*_e+Dt*Ee+Xe*Ve+Ue*Re+mt*De;ke=gn>>>13,gn&=8191,gn+=K*de+T*Q+M*(5*Te)+Y*(5*ve)+pe*(5*Fe),ke+=gn>>>13,gn&=8191;let ln=ke+ze*Fe+Dt*_e+Xe*Ee+Ue*Ve+mt*Re;ke=ln>>>13,ln&=8191,ln+=K*De+T*de+M*Q+Y*(5*Te)+pe*(5*ve),ke+=ln>>>13,ln&=8191;let ar=ke+ze*ve+Dt*Fe+Xe*_e+Ue*Ee+mt*Ve;ke=ar>>>13,ar&=8191,ar+=K*Re+T*De+M*de+Y*Q+pe*(5*Te),ke+=ar>>>13,ar&=8191;let Cn=ke+ze*Te+Dt*ve+Xe*Fe+Ue*_e+mt*Ee;ke=Cn>>>13,Cn&=8191,Cn+=K*Ve+T*Re+M*De+Y*de+pe*Q,ke+=Cn>>>13,Cn&=8191,ke=(ke<<2)+ke|0,ke=ke+Ne|0,Ne=8191&ke,ke>>>=13,lt+=ke,$[0]=Ne,$[1]=lt,$[2]=en,$[3]=It,$[4]=Kt,$[5]=rn,$[6]=gn,$[7]=ln,$[8]=ar,$[9]=Cn}finalize(){const{h:R,pad:x}=this,s=new Uint16Array(10);let v=R[1]>>>13;R[1]&=8191;for(let Q=2;Q<10;Q++)R[Q]+=v,v=R[Q]>>>13,R[Q]&=8191;R[0]+=5*v,v=R[0]>>>13,R[0]&=8191,R[1]+=v,v=R[1]>>>13,R[1]&=8191,R[2]+=v,s[0]=R[0]+5,v=s[0]>>>13,s[0]&=8191;for(let Q=1;Q<10;Q++)s[Q]=R[Q]+v,v=s[Q]>>>13,s[Q]&=8191;s[9]-=8192;let $=(1^v)-1;for(let Q=0;Q<10;Q++)s[Q]&=$;$=~$;for(let Q=0;Q<10;Q++)R[Q]=R[Q]&$|s[Q];R[0]=65535&(R[0]|R[1]<<13),R[1]=65535&(R[1]>>>3|R[2]<<10),R[2]=65535&(R[2]>>>6|R[3]<<7),R[3]=65535&(R[3]>>>9|R[4]<<4),R[4]=65535&(R[4]>>>12|R[5]<<1|R[6]<<14),R[5]=65535&(R[6]>>>2|R[7]<<11),R[6]=65535&(R[7]>>>5|R[8]<<8),R[7]=65535&(R[8]>>>8|R[9]<<5);let F=R[0]+x[0];R[0]=65535&F;for(let Q=1;Q<8;Q++)F=(R[Q]+x[Q]|0)+(F>>>16)|0,R[Q]=65535&F}update(R){(0,b.t2)(this);const{buffer:x,blockLen:s}=this,v=(R=(0,y.ZJ)(R)).length;for(let $=0;$<v;){const F=Math.min(s-this.pos,v-$);if(F!==s)x.set(R.subarray($,$+F),this.pos),this.pos+=F,$+=F,this.pos===s&&(this.process(x,0,!1),this.pos=0);else for(;s<=v-$;$+=s)this.process(R,$)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(R){(0,b.t2)(this),(0,b.CG)(R,this),this.finished=!0;const{buffer:x,h:s}=this;let{pos:v}=this;if(v){for(x[v++]=1;v<16;v++)x[v]=0;this.process(x,0,!0)}this.finalize();let $=0;for(let F=0;F<8;F++)R[$++]=s[F]>>>0,R[$++]=s[F]>>>8;return R}digest(){const{buffer:R,outputLen:x}=this;this.digestInto(R);const s=R.slice(0,x);return this.destroy(),s}}const O=function w(D){const R=(s,v)=>D(v).update((0,y.ZJ)(s)).digest(),x=D(new Uint8Array(32));return R.outputLen=x.outputLen,R.blockLen=x.blockLen,R.create=s=>D(s),R}(D=>new H(D)),S=(0,y.AI)("expand 16-byte k"),B=(0,y.AI)("expand 32-byte k"),N=(0,y.DH)(S),U=(0,y.DH)(B);function A(D,R){return D<<R|D>>>32-R}function G(D){return D.byteOffset%4==0}const ee=2**32-1,q=new Uint32Array;function J(D,R){const{allowShortKeys:x,extendNonceFn:s,counterLength:v,counterRight:$,rounds:F}=(0,y.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},R);if("function"!=typeof D)throw new Error("core must be a function");return(0,b.ai)(v),(0,b.ai)(F),(0,b.lc)($),(0,b.lc)(x),(Q,de,De,Re,Ve=0)=>{(0,b.ee)(Q),(0,b.ee)(de),(0,b.ee)(De);const Ee=De.length;if(Re||(Re=new Uint8Array(Ee)),(0,b.ee)(Re),(0,b.ai)(Ve),Ve<0||Ve>=ee)throw new Error("arx: counter overflow");if(Re.length<Ee)throw new Error(`arx: output (${Re.length}) is shorter than data (${Ee})`);const _e=[];let ve,Te,Fe=Q.length;if(32===Fe)ve=Q.slice(),_e.push(ve),Te=U;else{if(16!==Fe||!x)throw new Error(`arx: invalid 32-byte key, got length=${Fe}`);ve=new Uint8Array(32),ve.set(Q),ve.set(Q,16),Te=N,_e.push(ve)}G(de)||(de=de.slice(),_e.push(de));const ge=(0,y.DH)(ve);if(s){if(24!==de.length)throw new Error("arx: extended nonce must be 24 bytes");s(Te,ge,(0,y.DH)(de.subarray(0,16)),ge),de=de.subarray(16)}const me=16-v;if(me!==de.length)throw new Error(`arx: nonce must be ${me} or 16 bytes`);if(12!==me){const ne=new Uint8Array(12);ne.set(de,$?0:12-de.length),_e.push(de=ne)}const te=(0,y.DH)(de);for(function Z(D,R,x,s,v,$,F,Q){const de=v.length,De=new Uint8Array(64),Re=(0,y.DH)(De),Ve=G(v)&&G($),Ee=Ve?(0,y.DH)(v):q,_e=Ve?(0,y.DH)($):q;for(let Fe=0;Fe<de;F++){if(D(R,x,s,Re,F,Q),F>=ee)throw new Error("arx: counter overflow");const ve=Math.min(64,de-Fe);if(Ve&&64===ve){const Te=Fe/4;if(Fe%4!=0)throw new Error("arx: invalid block position");for(let me,ge=0;ge<16;ge++)me=Te+ge,_e[me]=Ee[me]^Re[ge];Fe+=64}else{for(let ge,Te=0;Te<ve;Te++)ge=Fe+Te,$[ge]=v[ge]^De[Te];Fe+=ve}}}(D,Te,ge,te,De,Re,Ve,F);_e.length>0;)_e.pop().fill(0);return Re}}function se(D,R,x,s,v,$=20){let F=D[0],Q=D[1],de=D[2],De=D[3],Re=R[0],Ve=R[1],Ee=R[2],_e=R[3],Fe=R[4],ve=R[5],Te=R[6],ge=R[7],me=v,te=x[0],ne=x[1],le=x[2],Ae=F,Be=Q,qe=de,ze=De,Dt=Re,Xe=Ve,Ue=Ee,mt=_e,K=Fe,T=ve,M=Te,Y=ge,pe=me,ke=te,Ne=ne,lt=le;for(let It=0;It<$;It+=2)Ae=Ae+Dt|0,pe=A(pe^Ae,16),K=K+pe|0,Dt=A(Dt^K,12),Ae=Ae+Dt|0,pe=A(pe^Ae,8),K=K+pe|0,Dt=A(Dt^K,7),Be=Be+Xe|0,ke=A(ke^Be,16),T=T+ke|0,Xe=A(Xe^T,12),Be=Be+Xe|0,ke=A(ke^Be,8),T=T+ke|0,Xe=A(Xe^T,7),qe=qe+Ue|0,Ne=A(Ne^qe,16),M=M+Ne|0,Ue=A(Ue^M,12),qe=qe+Ue|0,Ne=A(Ne^qe,8),M=M+Ne|0,Ue=A(Ue^M,7),ze=ze+mt|0,lt=A(lt^ze,16),Y=Y+lt|0,mt=A(mt^Y,12),ze=ze+mt|0,lt=A(lt^ze,8),Y=Y+lt|0,mt=A(mt^Y,7),Ae=Ae+Xe|0,lt=A(lt^Ae,16),M=M+lt|0,Xe=A(Xe^M,12),Ae=Ae+Xe|0,lt=A(lt^Ae,8),M=M+lt|0,Xe=A(Xe^M,7),Be=Be+Ue|0,pe=A(pe^Be,16),Y=Y+pe|0,Ue=A(Ue^Y,12),Be=Be+Ue|0,pe=A(pe^Be,8),Y=Y+pe|0,Ue=A(Ue^Y,7),qe=qe+mt|0,ke=A(ke^qe,16),K=K+ke|0,mt=A(mt^K,12),qe=qe+mt|0,ke=A(ke^qe,8),K=K+ke|0,mt=A(mt^K,7),ze=ze+Dt|0,Ne=A(Ne^ze,16),T=T+Ne|0,Dt=A(Dt^T,12),ze=ze+Dt|0,Ne=A(Ne^ze,8),T=T+Ne|0,Dt=A(Dt^T,7);let en=0;s[en++]=F+Ae|0,s[en++]=Q+Be|0,s[en++]=de+qe|0,s[en++]=De+ze|0,s[en++]=Re+Dt|0,s[en++]=Ve+Xe|0,s[en++]=Ee+Ue|0,s[en++]=_e+mt|0,s[en++]=Fe+K|0,s[en++]=ve+T|0,s[en++]=Te+M|0,s[en++]=ge+Y|0,s[en++]=me+pe|0,s[en++]=te+ke|0,s[en++]=ne+Ne|0,s[en++]=le+lt|0}const fe=J(se,{counterRight:!1,counterLength:4,allowShortKeys:!1}),he=J(se,{counterRight:!1,counterLength:8,extendNonceFn:function ce(D,R,x,s){let v=D[0],$=D[1],F=D[2],Q=D[3],de=R[0],De=R[1],Re=R[2],Ve=R[3],Ee=R[4],_e=R[5],Fe=R[6],ve=R[7],Te=x[0],ge=x[1],me=x[2],te=x[3];for(let le=0;le<20;le+=2)v=v+de|0,Te=A(Te^v,16),Ee=Ee+Te|0,de=A(de^Ee,12),v=v+de|0,Te=A(Te^v,8),Ee=Ee+Te|0,de=A(de^Ee,7),$=$+De|0,ge=A(ge^$,16),_e=_e+ge|0,De=A(De^_e,12),$=$+De|0,ge=A(ge^$,8),_e=_e+ge|0,De=A(De^_e,7),F=F+Re|0,me=A(me^F,16),Fe=Fe+me|0,Re=A(Re^Fe,12),F=F+Re|0,me=A(me^F,8),Fe=Fe+me|0,Re=A(Re^Fe,7),Q=Q+Ve|0,te=A(te^Q,16),ve=ve+te|0,Ve=A(Ve^ve,12),Q=Q+Ve|0,te=A(te^Q,8),ve=ve+te|0,Ve=A(Ve^ve,7),v=v+De|0,te=A(te^v,16),Fe=Fe+te|0,De=A(De^Fe,12),v=v+De|0,te=A(te^v,8),Fe=Fe+te|0,De=A(De^Fe,7),$=$+Re|0,Te=A(Te^$,16),ve=ve+Te|0,Re=A(Re^ve,12),$=$+Re|0,Te=A(Te^$,8),ve=ve+Te|0,Re=A(Re^ve,7),F=F+Ve|0,ge=A(ge^F,16),Ee=Ee+ge|0,Ve=A(Ve^Ee,12),F=F+Ve|0,ge=A(ge^F,8),Ee=Ee+ge|0,Ve=A(Ve^Ee,7),Q=Q+de|0,me=A(me^Q,16),_e=_e+me|0,de=A(de^_e,12),Q=Q+de|0,me=A(me^Q,8),_e=_e+me|0,de=A(de^_e,7);let ne=0;s[ne++]=v,s[ne++]=$,s[ne++]=F,s[ne++]=Q,s[ne++]=Te,s[ne++]=ge,s[ne++]=me,s[ne++]=te},allowShortKeys:!1}),Pe=new Uint8Array(16),C=(D,R)=>{D.update(R);const x=R.length%16;x&&D.update(Pe.subarray(x))},a=new Uint8Array(32);function d(D,R,x,s,v){const $=D(R,x,a),F=O.create($);v&&C(F,v),C(F,s);const Q=new Uint8Array(16),de=(0,y.O8)(Q);(0,y.zp)(de,0,BigInt(v?v.length:0),!0),(0,y.zp)(de,8,BigInt(s.length),!0),F.update(Q);const De=F.digest();return $.fill(0),De}const m=D=>(R,x,s)=>((0,y.qj)(R,32),(0,y.qj)(x),{encrypt:($,F)=>{const Q=$.length,de=Q+16;F?(0,y.qj)(F,de):F=new Uint8Array(de),D(R,x,$,F,1);const De=d(D,R,x,F.subarray(0,-16),s);return F.set(De,Q),F},decrypt:($,F)=>{const Q=$.length,de=Q-16;if(Q<16)throw new Error("encrypted data must be at least 16 bytes");F?(0,y.qj)(F,de):F=new Uint8Array(de);const De=$.subarray(0,-16),Re=$.subarray(-16),Ve=d(D,R,x,De,s);if(!(0,y.ex)(Re,Ve))throw new Error("invalid tag");return D(R,x,De,F,1),F}});m(fe),m(he)},25953:(We,j,_)=>{"use strict";_.d(j,{AI:()=>J,DH:()=>P,O8:()=>w,ZJ:()=>ce,ex:()=>Me,qj:()=>we,qn:()=>C,tY:()=>he,zp:()=>a});const P=m=>new Uint32Array(m.buffer,m.byteOffset,Math.floor(m.byteLength/4));function H(m){return m instanceof Uint8Array||null!=m&&"object"==typeof m&&"Uint8Array"===m.constructor.name}const w=m=>new DataView(m.buffer,m.byteOffset,m.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function J(m){if("string"!=typeof m)throw new Error("utf8ToBytes expected string, got "+typeof m);return new Uint8Array((new TextEncoder).encode(m))}function ce(m){if("string"==typeof m)m=J(m);else{if(!H(m))throw new Error("expected Uint8Array, got "+typeof m);m=m.slice()}return m}const fe=m=>"[object Object]"===Object.prototype.toString.call(m)&&m.constructor===Object;function he(m,p){if(void 0!==p&&("object"!=typeof p||!fe(p)))throw new Error("options must be object or undefined");return Object.assign(m,p)}function we(m,p){if(!H(m))throw new Error("Uint8Array expected");if("number"==typeof p&&m.length!==p)throw new Error(`Uint8Array length ${p} expected`)}function Me(m,p){if(m.length!==p.length)return!1;let E=0;for(let D=0;D<m.length;D++)E|=m[D]^p[D];return 0===E}const C=(m,p)=>(Object.assign(p,m),p);function a(m,p,E,D){if("function"==typeof m.setBigUint64)return m.setBigUint64(p,E,D);const R=BigInt(32),x=BigInt(4294967295),s=Number(E>>R&x),v=Number(E&x),F=D?0:4;m.setUint32(p+(D?4:0),s,D),m.setUint32(p+F,v,D)}},91879:(We,j,_)=>{"use strict";_.d(j,{NZ:()=>w});const y="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function w(){if(y&&"object"==typeof y.subtle&&null!=y.subtle)return y.subtle;throw new Error("crypto.subtle must be defined")}_(25953),_(34931)},2716:(We,j,_)=>{"use strict";_.d(j,{s:()=>ae});var y=_(75781),b=_(62953),P=_(35765),H=_(91006),w=_(7184);const{bytesToNumberBE:S,hexToBytes:B}=H,N={Err:class extends Error{constructor(he=""){super(he)}},_parseInt(fe){const{Err:he}=N;if(fe.length<2||2!==fe[0])throw new he("Invalid signature integer tag");const we=fe[1],Me=fe.subarray(2,we+2);if(!we||Me.length!==we)throw new he("Invalid signature integer: wrong length");if(128&Me[0])throw new he("Invalid signature integer: negative");if(0===Me[0]&&!(128&Me[1]))throw new he("Invalid signature integer: unnecessary leading zero");return{d:S(Me),l:fe.subarray(we+2)}},toSig(fe){const{Err:he}=N,we="string"==typeof fe?B(fe):fe;if(!H.aY(we))throw new Error("ui8a expected");let Me=we.length;if(Me<2||48!=we[0])throw new he("Invalid signature tag");if(we[1]!==Me-2)throw new he("Invalid signature: incorrect length");const{d:Pe,l:C}=N._parseInt(we.subarray(2)),{d:a,l:d}=N._parseInt(C);if(d.length)throw new he("Invalid signature: left bytes after parsing");return{r:Pe,s:a}},hexFromSig(fe){const he=p=>8&Number.parseInt(p[0],16)?"00"+p:p,we=p=>{const E=p.toString(16);return 1&E.length?`0${E}`:E},Me=he(we(fe.s)),Pe=he(we(fe.r)),C=Me.length/2,a=Pe.length/2,d=we(C),m=we(a);return`30${we(a+C+4)}02${m}${Pe}02${d}${Me}`}},U=BigInt(0),A=BigInt(1),L=(BigInt(2),BigInt(3));function Z(fe){const he=function q(fe){const he=(0,w.h)(fe);return H.Q5(he,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...he})}(fe),{Fp:we,n:Me}=he,Pe=we.BYTES+1,C=2*we.BYTES+1;function d(ne){return P.zi(ne,Me)}function m(ne){return P.B8(ne,Me)}const{ProjectivePoint:p,normPrivateKeyToScalar:E,weierstrassEquation:D,isWithinCurveOrder:R}=function ee(fe){const he=function O(fe){const he=(0,w.h)(fe);H.Q5(he,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:we,Fp:Me,a:Pe}=he;if(we){if(!Me.eql(Pe,Me.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof we||"bigint"!=typeof we.beta||"function"!=typeof we.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...he})}(fe),{Fp:we}=he,Me=he.toBytes||((s,v,$)=>{const F=v.toAffine();return H.Id(Uint8Array.from([4]),we.toBytes(F.x),we.toBytes(F.y))}),Pe=he.fromBytes||(s=>{const v=s.subarray(1);return{x:we.fromBytes(v.subarray(0,we.BYTES)),y:we.fromBytes(v.subarray(we.BYTES,2*we.BYTES))}});function C(s){const{a:v,b:$}=he,F=we.sqr(s),Q=we.mul(F,s);return we.add(we.add(Q,we.mul(s,v)),$)}if(!we.eql(we.sqr(he.Gy),C(he.Gx)))throw new Error("bad generator point: equation left != right");function a(s){return"bigint"==typeof s&&U<s&&s<he.n}function d(s){if(!a(s))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function m(s){const{allowedPrivateKeyLengths:v,nByteLength:$,wrapPrivateKey:F,n:Q}=he;if(v&&"bigint"!=typeof s){if(H.aY(s)&&(s=H.My(s)),"string"!=typeof s||!v.includes(s.length))throw new Error("Invalid key");s=s.padStart(2*$,"0")}let de;try{de="bigint"==typeof s?s:H.bytesToNumberBE((0,H.qj)("private key",s,$))}catch{throw new Error(`private key must be ${$} bytes, hex or bigint, not ${typeof s}`)}return F&&(de=P.zi(de,Q)),d(de),de}const p=new Map;function E(s){if(!(s instanceof D))throw new Error("ProjectivePoint expected")}class D{constructor(v,$,F){if(this.px=v,this.py=$,this.pz=F,null==v||!we.isValid(v))throw new Error("x required");if(null==$||!we.isValid($))throw new Error("y required");if(null==F||!we.isValid(F))throw new Error("z required")}static fromAffine(v){const{x:$,y:F}=v||{};if(!v||!we.isValid($)||!we.isValid(F))throw new Error("invalid affine point");if(v instanceof D)throw new Error("projective point not allowed");const Q=de=>we.eql(de,we.ZERO);return Q($)&&Q(F)?D.ZERO:new D($,F,we.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const $=we.invertBatch(v.map(F=>F.pz));return v.map((F,Q)=>F.toAffine($[Q])).map(D.fromAffine)}static fromHex(v){const $=D.fromAffine(Pe((0,H.qj)("pointHex",v)));return $.assertValidity(),$}static fromPrivateKey(v){return D.BASE.multiply(m(v))}_setWindowSize(v){this._WINDOW_SIZE=v,p.delete(this)}assertValidity(){if(this.is0()){if(he.allowInfinityPoint&&!we.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:$}=this.toAffine();if(!we.isValid(v)||!we.isValid($))throw new Error("bad point: x or y not FE");const F=we.sqr($),Q=C(v);if(!we.eql(F,Q))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(we.isOdd)return!we.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){E(v);const{px:$,py:F,pz:Q}=this,{px:de,py:De,pz:Re}=v,Ve=we.eql(we.mul($,Re),we.mul(de,Q)),Ee=we.eql(we.mul(F,Re),we.mul(De,Q));return Ve&&Ee}negate(){return new D(this.px,we.neg(this.py),this.pz)}double(){const{a:v,b:$}=he,F=we.mul($,L),{px:Q,py:de,pz:De}=this;let Re=we.ZERO,Ve=we.ZERO,Ee=we.ZERO,_e=we.mul(Q,Q),Fe=we.mul(de,de),ve=we.mul(De,De),Te=we.mul(Q,de);return Te=we.add(Te,Te),Ee=we.mul(Q,De),Ee=we.add(Ee,Ee),Re=we.mul(v,Ee),Ve=we.mul(F,ve),Ve=we.add(Re,Ve),Re=we.sub(Fe,Ve),Ve=we.add(Fe,Ve),Ve=we.mul(Re,Ve),Re=we.mul(Te,Re),Ee=we.mul(F,Ee),ve=we.mul(v,ve),Te=we.sub(_e,ve),Te=we.mul(v,Te),Te=we.add(Te,Ee),Ee=we.add(_e,_e),_e=we.add(Ee,_e),_e=we.add(_e,ve),_e=we.mul(_e,Te),Ve=we.add(Ve,_e),ve=we.mul(de,De),ve=we.add(ve,ve),_e=we.mul(ve,Te),Re=we.sub(Re,_e),Ee=we.mul(ve,Fe),Ee=we.add(Ee,Ee),Ee=we.add(Ee,Ee),new D(Re,Ve,Ee)}add(v){E(v);const{px:$,py:F,pz:Q}=this,{px:de,py:De,pz:Re}=v;let Ve=we.ZERO,Ee=we.ZERO,_e=we.ZERO;const Fe=he.a,ve=we.mul(he.b,L);let Te=we.mul($,de),ge=we.mul(F,De),me=we.mul(Q,Re),te=we.add($,F),ne=we.add(de,De);te=we.mul(te,ne),ne=we.add(Te,ge),te=we.sub(te,ne),ne=we.add($,Q);let le=we.add(de,Re);return ne=we.mul(ne,le),le=we.add(Te,me),ne=we.sub(ne,le),le=we.add(F,Q),Ve=we.add(De,Re),le=we.mul(le,Ve),Ve=we.add(ge,me),le=we.sub(le,Ve),_e=we.mul(Fe,ne),Ve=we.mul(ve,me),_e=we.add(Ve,_e),Ve=we.sub(ge,_e),_e=we.add(ge,_e),Ee=we.mul(Ve,_e),ge=we.add(Te,Te),ge=we.add(ge,Te),me=we.mul(Fe,me),ne=we.mul(ve,ne),ge=we.add(ge,me),me=we.sub(Te,me),me=we.mul(Fe,me),ne=we.add(ne,me),Te=we.mul(ge,ne),Ee=we.add(Ee,Te),Te=we.mul(le,ne),Ve=we.mul(te,Ve),Ve=we.sub(Ve,Te),Te=we.mul(te,ge),_e=we.mul(le,_e),_e=we.add(_e,Te),new D(Ve,Ee,_e)}subtract(v){return this.add(v.negate())}is0(){return this.equals(D.ZERO)}wNAF(v){return x.wNAFCached(this,p,v,$=>{const F=we.invertBatch($.map(Q=>Q.pz));return $.map((Q,de)=>Q.toAffine(F[de])).map(D.fromAffine)})}multiplyUnsafe(v){const $=D.ZERO;if(v===U)return $;if(d(v),v===A)return this;const{endo:F}=he;if(!F)return x.unsafeLadder(this,v);let{k1neg:Q,k1:de,k2neg:De,k2:Re}=F.splitScalar(v),Ve=$,Ee=$,_e=this;for(;de>U||Re>U;)de&A&&(Ve=Ve.add(_e)),Re&A&&(Ee=Ee.add(_e)),_e=_e.double(),de>>=A,Re>>=A;return Q&&(Ve=Ve.negate()),De&&(Ee=Ee.negate()),Ee=new D(we.mul(Ee.px,F.beta),Ee.py,Ee.pz),Ve.add(Ee)}multiply(v){d(v);let F,Q,$=v;const{endo:de}=he;if(de){const{k1neg:De,k1:Re,k2neg:Ve,k2:Ee}=de.splitScalar($);let{p:_e,f:Fe}=this.wNAF(Re),{p:ve,f:Te}=this.wNAF(Ee);_e=x.constTimeNegate(De,_e),ve=x.constTimeNegate(Ve,ve),ve=new D(we.mul(ve.px,de.beta),ve.py,ve.pz),F=_e.add(ve),Q=Fe.add(Te)}else{const{p:De,f:Re}=this.wNAF($);F=De,Q=Re}return D.normalizeZ([F,Q])[0]}multiplyAndAddUnsafe(v,$,F){const Q=D.BASE,de=(Re,Ve)=>Ve!==U&&Ve!==A&&Re.equals(Q)?Re.multiply(Ve):Re.multiplyUnsafe(Ve),De=de(this,$).add(de(v,F));return De.is0()?void 0:De}toAffine(v){const{px:$,py:F,pz:Q}=this,de=this.is0();null==v&&(v=de?we.ONE:we.inv(Q));const De=we.mul($,v),Re=we.mul(F,v),Ve=we.mul(Q,v);if(de)return{x:we.ZERO,y:we.ZERO};if(!we.eql(Ve,we.ONE))throw new Error("invZ was invalid");return{x:De,y:Re}}isTorsionFree(){const{h:v,isTorsionFree:$}=he;if(v===A)return!0;if($)return $(D,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:$}=he;return v===A?this:$?$(D,this):this.multiplyUnsafe(he.h)}toRawBytes(v=!0){return this.assertValidity(),Me(D,this,v)}toHex(v=!0){return H.My(this.toRawBytes(v))}}D.BASE=new D(he.Gx,he.Gy,we.ONE),D.ZERO=new D(we.ZERO,we.ONE,we.ZERO);const R=he.nBitLength,x=(0,w.A)(D,he.endo?Math.ceil(R/2):R);return{CURVE:he,ProjectivePoint:D,normPrivateKeyToScalar:m,weierstrassEquation:C,isWithinCurveOrder:a}}({...he,toBytes(ne,le,Ae){const Be=le.toAffine(),qe=we.toBytes(Be.x),ze=H.Id;return Ae?ze(Uint8Array.from([le.hasEvenY()?2:3]),qe):ze(Uint8Array.from([4]),qe,we.toBytes(Be.y))},fromBytes(ne){const le=ne.length,Ae=ne[0],Be=ne.subarray(1);if(le!==Pe||2!==Ae&&3!==Ae){if(le===C&&4===Ae)return{x:we.fromBytes(Be.subarray(0,we.BYTES)),y:we.fromBytes(Be.subarray(we.BYTES,2*we.BYTES))};throw new Error(`Point of length ${le} was invalid. Expected ${Pe} compressed bytes or ${C} uncompressed bytes`)}{const qe=H.bytesToNumberBE(Be);if(!function a(ne){return U<ne&&ne<we.ORDER}(qe))throw new Error("Point is not on curve");const ze=D(qe);let Dt=we.sqrt(ze);return!(1&~Ae)!=((Dt&A)===A)&&(Dt=we.neg(Dt)),{x:qe,y:Dt}}}}),x=ne=>H.My(H.lq(ne,he.nByteLength));function s(ne){return ne>Me>>A}const $=(ne,le,Ae)=>H.bytesToNumberBE(ne.slice(le,Ae));class F{constructor(le,Ae,Be){this.r=le,this.s=Ae,this.recovery=Be,this.assertValidity()}static fromCompact(le){const Ae=he.nByteLength;return le=(0,H.qj)("compactSignature",le,2*Ae),new F($(le,0,Ae),$(le,Ae,2*Ae))}static fromDER(le){const{r:Ae,s:Be}=N.toSig((0,H.qj)("DER",le));return new F(Ae,Be)}assertValidity(){if(!R(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!R(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(le){return new F(this.r,this.s,le)}recoverPublicKey(le){const{r:Ae,s:Be,recovery:qe}=this,ze=Ee((0,H.qj)("msgHash",le));if(null==qe||![0,1,2,3].includes(qe))throw new Error("recovery id invalid");const Dt=2===qe||3===qe?Ae+he.n:Ae;if(Dt>=we.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ue=p.fromHex((1&qe?"03":"02")+x(Dt)),mt=m(Dt),K=d(-ze*mt),T=d(Be*mt),M=p.BASE.multiplyAndAddUnsafe(Ue,K,T);if(!M)throw new Error("point at infinify");return M.assertValidity(),M}hasHighS(){return s(this.s)}normalizeS(){return this.hasHighS()?new F(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return H.hexToBytes(this.toDERHex())}toDERHex(){return N.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return H.hexToBytes(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const Q={isValidPrivateKey(ne){try{return E(ne),!0}catch{return!1}},normPrivateKeyToScalar:E,randomPrivateKey:()=>{const ne=P.Tp(he.n);return P.qy(he.randomBytes(ne),he.n)},precompute:(ne=8,le=p.BASE)=>(le._setWindowSize(ne),le.multiply(BigInt(3)),le)};function De(ne){const le=H.aY(ne),Ae="string"==typeof ne,Be=(le||Ae)&&ne.length;return le?Be===Pe||Be===C:Ae?Be===2*Pe||Be===2*C:ne instanceof p}const Ve=he.bits2int||function(ne){const le=H.bytesToNumberBE(ne),Ae=8*ne.length-he.nBitLength;return Ae>0?le>>BigInt(Ae):le},Ee=he.bits2int_modN||function(ne){return d(Ve(ne))},_e=H.OG(he.nBitLength);function Fe(ne){if("bigint"!=typeof ne)throw new Error("bigint expected");if(!(U<=ne&&ne<_e))throw new Error(`bigint expected < 2^${he.nBitLength}`);return H.lq(ne,he.nByteLength)}const Te={lowS:he.lowS,prehash:!1},ge={lowS:he.lowS,prehash:!1};return p.BASE._setWindowSize(8),{CURVE:he,getPublicKey:function de(ne,le=!0){return p.fromPrivateKey(ne).toRawBytes(le)},getSharedSecret:function Re(ne,le,Ae=!0){if(De(ne))throw new Error("first arg must be private key");if(!De(le))throw new Error("second arg must be public key");return p.fromHex(le).multiply(E(ne)).toRawBytes(Ae)},sign:function me(ne,le,Ae=Te){const{seed:Be,k2sig:qe}=function ve(ne,le,Ae=Te){if(["recovered","canonical"].some(pe=>pe in Ae))throw new Error("sign() legacy options not supported");const{hash:Be,randomBytes:qe}=he;let{lowS:ze,prehash:Dt,extraEntropy:Xe}=Ae;null==ze&&(ze=!0),ne=(0,H.qj)("msgHash",ne),Dt&&(ne=(0,H.qj)("prehashed msgHash",Be(ne)));const Ue=Ee(ne),mt=E(le),K=[Fe(mt),Fe(Ue)];if(null!=Xe){const pe=!0===Xe?qe(we.BYTES):Xe;K.push((0,H.qj)("extraEntropy",pe))}const T=H.Id(...K),M=Ue;return{seed:T,k2sig:function Y(pe){const ke=Ve(pe);if(!R(ke))return;const Ne=m(ke),lt=p.BASE.multiply(ke).toAffine(),en=d(lt.x);if(en===U)return;const It=d(Ne*d(M+en*mt));if(It===U)return;let Kt=(lt.x===en?0:2)|Number(lt.y&A),rn=It;return ze&&s(It)&&(rn=function v(ne){return s(ne)?d(-ne):ne}(It),Kt^=1),new F(en,rn,Kt)}}}(ne,le,Ae);return H.fg(he.hash.outputLen,he.nByteLength,he.hmac)(Be,qe)},verify:function te(ne,le,Ae,Be=ge){const qe=ne;if(le=(0,H.qj)("msgHash",le),Ae=(0,H.qj)("publicKey",Ae),"strict"in Be)throw new Error("options.strict was renamed to lowS");const{lowS:ze,prehash:Dt}=Be;let Xe,Ue;try{if("string"==typeof qe||H.aY(qe))try{Xe=F.fromDER(qe)}catch(lt){if(!(lt instanceof N.Err))throw lt;Xe=F.fromCompact(qe)}else{if("object"!=typeof qe||"bigint"!=typeof qe.r||"bigint"!=typeof qe.s)throw new Error("PARSE");{const{r:lt,s:en}=qe;Xe=new F(lt,en)}}Ue=p.fromHex(Ae)}catch(lt){if("PARSE"===lt.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ze&&Xe.hasHighS())return!1;Dt&&(le=he.hash(le));const{r:mt,s:K}=Xe,T=Ee(le),M=m(K),Y=d(T*M),pe=d(mt*M),ke=p.BASE.multiplyAndAddUnsafe(Ue,Y,pe)?.toAffine();return!!ke&&d(ke.x)===mt},ProjectivePoint:p,Signature:F,utils:Q}}function ce(fe){return{hash:fe,hmac:(he,...we)=>(0,y.w)(fe,he,(0,b.Id)(...we)),randomBytes:b.po}}function ae(fe,he){const we=Me=>Z({...fe,...ce(Me)});return Object.freeze({...we(he),create:we})}BigInt(4)},7184:(We,j,_)=>{"use strict";_.d(j,{A:()=>w,h:()=>O});var y=_(35765),b=_(91006);const P=BigInt(0),H=BigInt(1);function w(S,B){const N=(A,G)=>{const L=G.negate();return A?L:G},U=A=>({windows:Math.ceil(B/A)+1,windowSize:2**(A-1)});return{constTimeNegate:N,unsafeLadder(A,G){let L=S.ZERO,z=A;for(;G>P;)G&H&&(L=L.add(z)),z=z.double(),G>>=H;return L},precomputeWindow(A,G){const{windows:L,windowSize:z}=U(G),ee=[];let q=A,Z=q;for(let J=0;J<L;J++){Z=q,ee.push(Z);for(let se=1;se<z;se++)Z=Z.add(q),ee.push(Z);q=Z.double()}return ee},wNAF(A,G,L){const{windows:z,windowSize:ee}=U(A);let q=S.ZERO,Z=S.BASE;const J=BigInt(2**A-1),se=2**A,ce=BigInt(A);for(let ae=0;ae<z;ae++){const fe=ae*ee;let he=Number(L&J);L>>=ce,he>ee&&(he-=se,L+=H);const we=fe,Me=fe+Math.abs(he)-1,C=he<0;0===he?Z=Z.add(N(ae%2!=0,G[we])):q=q.add(N(C,G[Me]))}return{p:q,f:Z}},wNAFCached(A,G,L,z){const ee=A._WINDOW_SIZE||1;let q=G.get(A);return q||(q=this.precomputeWindow(A,ee),1!==ee&&G.set(A,z(q))),this.wNAF(ee,q,L)}}}function O(S){return(0,y.jr)(S.Fp),(0,b.Q5)(S,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,y.LH)(S.n,S.nBitLength),...S,p:S.Fp.ORDER})}},35765:(We,j,_)=>{"use strict";_.d(j,{B8:()=>z,D0:()=>Me,LH:()=>we,Tp:()=>m,Tv:()=>C,dQ:()=>Z,jr:()=>se,n7:()=>G,qy:()=>p,zH:()=>L,zi:()=>A});var y=_(91006);const b=BigInt(0),P=BigInt(1),H=BigInt(2),w=BigInt(3),O=BigInt(4),S=BigInt(5),B=BigInt(8);function A(E,D){const R=E%D;return R>=b?R:D+R}function G(E,D,R){if(R<=b||D<b)throw new Error("Expected power/modulo > 0");if(R===P)return b;let x=P;for(;D>b;)D&P&&(x=x*E%R),E=E*E%R,D>>=P;return x}function L(E,D,R){let x=E;for(;D-- >b;)x*=x,x%=R;return x}function z(E,D){if(E===b||D<=b)throw new Error(`invert: expected positive integers, got n=${E} mod=${D}`);let R=A(E,D),x=D,s=b,v=P,$=P,F=b;for(;R!==b;){const de=x/R,De=x%R,Re=s-$*de,Ve=v-F*de;x=R,R=De,s=$,v=F,$=Re,F=Ve}if(x!==P)throw new Error("invert: does not exist");return A(s,D)}BigInt(9),BigInt(16);const Z=(E,D)=>(A(E,D)&P)===P,J=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function se(E){const R=J.reduce((x,s)=>(x[s]="function",x),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,y.Q5)(E,R)}function we(E,D){const R=void 0!==D?D:E.toString(2).length;return{nBitLength:R,nByteLength:Math.ceil(R/8)}}function Me(E,D,R=!1,x={}){if(E<=b)throw new Error(`Expected Field ORDER > 0, got ${E}`);const{nBitLength:s,nByteLength:v}=we(E,D);if(v>2048)throw new Error("Field lengths over 2048 bytes are not supported");const $=function q(E){if(E%O===w){const D=(E+P)/O;return function(x,s){const v=x.pow(s,D);if(!x.eql(x.sqr(v),s))throw new Error("Cannot find square root");return v}}if(E%B===S){const D=(E-S)/B;return function(x,s){const v=x.mul(s,H),$=x.pow(v,D),F=x.mul(s,$),Q=x.mul(x.mul(F,H),$),de=x.mul(F,x.sub(Q,x.ONE));if(!x.eql(x.sqr(de),s))throw new Error("Cannot find square root");return de}}return function ee(E){const D=(E-P)/H;let R,x,s;for(R=E-P,x=0;R%H===b;R/=H,x++);for(s=H;s<E&&G(s,D,E)!==E-P;s++);if(1===x){const $=(E+P)/O;return function(Q,de){const De=Q.pow(de,$);if(!Q.eql(Q.sqr(De),de))throw new Error("Cannot find square root");return De}}const v=(R+P)/H;return function(F,Q){if(F.pow(Q,D)===F.neg(F.ONE))throw new Error("Cannot find square root");let de=x,De=F.pow(F.mul(F.ONE,s),R),Re=F.pow(Q,v),Ve=F.pow(Q,R);for(;!F.eql(Ve,F.ONE);){if(F.eql(Ve,F.ZERO))return F.ZERO;let Ee=1;for(let Fe=F.sqr(Ve);Ee<de&&!F.eql(Fe,F.ONE);Ee++)Fe=F.sqr(Fe);const _e=F.pow(De,P<<BigInt(de-Ee-1));De=F.sqr(_e),Re=F.mul(Re,_e),Ve=F.mul(Ve,De),de=Ee}return Re}}(E)}(E),F=Object.freeze({ORDER:E,BITS:s,BYTES:v,MASK:(0,y.OG)(s),ZERO:b,ONE:P,create:Q=>A(Q,E),isValid:Q=>{if("bigint"!=typeof Q)throw new Error("Invalid field element: expected bigint, got "+typeof Q);return b<=Q&&Q<E},is0:Q=>Q===b,isOdd:Q=>(Q&P)===P,neg:Q=>A(-Q,E),eql:(Q,de)=>Q===de,sqr:Q=>A(Q*Q,E),add:(Q,de)=>A(Q+de,E),sub:(Q,de)=>A(Q-de,E),mul:(Q,de)=>A(Q*de,E),pow:(Q,de)=>function ce(E,D,R){if(R<b)throw new Error("Expected power > 0");if(R===b)return E.ONE;if(R===P)return D;let x=E.ONE,s=D;for(;R>b;)R&P&&(x=E.mul(x,s)),s=E.sqr(s),R>>=P;return x}(F,Q,de),div:(Q,de)=>A(Q*z(de,E),E),sqrN:Q=>Q*Q,addN:(Q,de)=>Q+de,subN:(Q,de)=>Q-de,mulN:(Q,de)=>Q*de,inv:Q=>z(Q,E),sqrt:x.sqrt||(Q=>$(F,Q)),invertBatch:Q=>function ae(E,D){const R=new Array(D.length),x=D.reduce((v,$,F)=>E.is0($)?v:(R[F]=v,E.mul(v,$)),E.ONE),s=E.inv(x);return D.reduceRight((v,$,F)=>E.is0($)?v:(R[F]=E.mul(v,R[F]),E.mul(v,$)),s),R}(F,Q),cmov:(Q,de,De)=>De?de:Q,toBytes:Q=>R?(0,y.z)(Q,v):(0,y.lq)(Q,v),fromBytes:Q=>{if(Q.length!==v)throw new Error(`Fp.fromBytes: expected ${v}, got ${Q.length}`);return R?(0,y.lX)(Q):(0,y.bytesToNumberBE)(Q)}});return Object.freeze(F)}function C(E,D){if(!E.isOdd)throw new Error("Field doesn't have isOdd");const R=E.sqrt(D);return E.isOdd(R)?E.neg(R):R}function d(E){if("bigint"!=typeof E)throw new Error("field order must be bigint");const D=E.toString(2).length;return Math.ceil(D/8)}function m(E){const D=d(E);return D+Math.ceil(D/2)}function p(E,D,R=!1){const x=E.length,s=d(D),v=m(D);if(x<16||x<v||x>1024)throw new Error(`expected ${v}-1024 bytes of input, got ${x}`);const F=A(R?(0,y.bytesToNumberBE)(E):(0,y.lX)(E),D-P)+P;return R?(0,y.z)(F,s):(0,y.lq)(F,s)}},91006:(We,j,_)=>{"use strict";_.d(j,{Id:()=>J,My:()=>O,OG:()=>we,Q5:()=>d,aY:()=>H,bytesToNumberBE:()=>G,fg:()=>C,hexToBytes:()=>A,lX:()=>L,lq:()=>z,qj:()=>Z,z:()=>ee}),BigInt(0);const b=BigInt(1),P=BigInt(2);function H(m){return m instanceof Uint8Array||null!=m&&"object"==typeof m&&"Uint8Array"===m.constructor.name}const w=Array.from({length:256},(m,p)=>p.toString(16).padStart(2,"0"));function O(m){if(!H(m))throw new Error("Uint8Array expected");let p="";for(let E=0;E<m.length;E++)p+=w[m[E]];return p}function B(m){if("string"!=typeof m)throw new Error("hex string expected, got "+typeof m);return BigInt(""===m?"0":`0x${m}`)}const N={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function U(m){return m>=N._0&&m<=N._9?m-N._0:m>=N._A&&m<=N._F?m-(N._A-10):m>=N._a&&m<=N._f?m-(N._a-10):void 0}function A(m){if("string"!=typeof m)throw new Error("hex string expected, got "+typeof m);const p=m.length,E=p/2;if(p%2)throw new Error("padded hex string expected, got unpadded hex of length "+p);const D=new Uint8Array(E);for(let R=0,x=0;R<E;R++,x+=2){const s=U(m.charCodeAt(x)),v=U(m.charCodeAt(x+1));if(void 0===s||void 0===v)throw new Error('hex string expected, got non-hex character "'+(m[x]+m[x+1])+'" at index '+x);D[R]=16*s+v}return D}function G(m){return B(O(m))}function L(m){if(!H(m))throw new Error("Uint8Array expected");return B(O(Uint8Array.from(m).reverse()))}function z(m,p){return A(m.toString(16).padStart(2*p,"0"))}function ee(m,p){return z(m,p).reverse()}function Z(m,p,E){let D;if("string"==typeof p)try{D=A(p)}catch(x){throw new Error(`${m} must be valid hex string, got "${p}". Cause: ${x}`)}else{if(!H(p))throw new Error(`${m} must be hex string or Uint8Array`);D=Uint8Array.from(p)}const R=D.length;if("number"==typeof E&&R!==E)throw new Error(`${m} expected ${E} bytes, got ${R}`);return D}function J(...m){let p=0;for(let R=0;R<m.length;R++){const x=m[R];if(!H(x))throw new Error("Uint8Array expected");p+=x.length}let E=new Uint8Array(p),D=0;for(let R=0;R<m.length;R++){const x=m[R];E.set(x,D),D+=x.length}return E}const we=m=>(P<<BigInt(m-1))-b,Me=m=>new Uint8Array(m),Pe=m=>Uint8Array.from(m);function C(m,p,E){if("number"!=typeof m||m<2)throw new Error("hashLen must be a number");if("number"!=typeof p||p<2)throw new Error("qByteLen must be a number");if("function"!=typeof E)throw new Error("hmacFn must be a function");let D=Me(m),R=Me(m),x=0;const s=()=>{D.fill(1),R.fill(0),x=0},v=(...de)=>E(R,D,...de),$=(de=Me())=>{R=v(Pe([0]),de),D=v(),0!==de.length&&(R=v(Pe([1]),de),D=v())},F=()=>{if(x++>=1e3)throw new Error("drbg: tried 1000 values");let de=0;const De=[];for(;de<p;){D=v();const Re=D.slice();De.push(Re),de+=D.length}return J(...De)};return(de,De)=>{let Re;for(s(),$(de);!(Re=De(F()));)$();return s(),Re}}const a={bigint:m=>"bigint"==typeof m,function:m=>"function"==typeof m,boolean:m=>"boolean"==typeof m,string:m=>"string"==typeof m,stringOrUint8Array:m=>"string"==typeof m||H(m),isSafeInteger:m=>Number.isSafeInteger(m),array:m=>Array.isArray(m),field:(m,p)=>p.Fp.isValid(m),hash:m=>"function"==typeof m&&Number.isSafeInteger(m.outputLen)};function d(m,p,E={}){const D=(R,x,s)=>{const v=a[x];if("function"!=typeof v)throw new Error(`Invalid validator "${x}", expected function`);const $=m[R];if(!(s&&void 0===$||v($,m)))throw new Error(`Invalid param ${String(R)}=${$} (${typeof $}), expected ${x}`)};for(const[R,x]of Object.entries(p))D(R,x,!1);for(const[R,x]of Object.entries(E))D(R,x,!0);return m}},86295:(We,j,_)=>{"use strict";_.d(j,{ev:()=>D,OA:()=>Q,GU:()=>$,TU:()=>v});var y=_(25431),b=_(62953),P=_(35765),H=_(91006),w=_(7184);const O=BigInt(0),S=BigInt(1),B=BigInt(2),N=BigInt(8),U={zip215:!0};function G(Y){const pe=function A(Y){const pe=(0,w.h)(Y);return H.Q5(Y,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...pe})}(Y),{Fp:ke,n:Ne,prehash:lt,hash:en,randomBytes:It,nByteLength:Kt,h:rn}=pe,gn=B<<BigInt(8*Kt)-S,ln=ke.create,ar=pe.uvRatio||((Nn,Ln)=>{try{return{isValid:!0,value:ke.sqrt(Nn*ke.inv(Ln))}}catch{return{isValid:!1,value:O}}}),Cn=pe.adjustScalarBytes||(Nn=>Nn),cn=pe.domain||((Nn,Ln,at)=>{if(Ln.length||at)throw new Error("Contexts/pre-hash are not supported");return Nn}),Zt=Nn=>"bigint"==typeof Nn&&O<Nn,vt=(Nn,Ln)=>Zt(Nn)&&Zt(Ln)&&Nn<Ln,ut=Nn=>Nn===O||vt(Nn,gn);function Gt(Nn,Ln){if(vt(Nn,Ln))return Nn;throw new Error(`Expected valid scalar < ${Ln}, got ${typeof Nn} ${Nn}`)}function nn(Nn){return Nn===O?Nn:Gt(Nn,Ne)}const pn=new Map;function fr(Nn){if(!(Nn instanceof yt))throw new Error("ExtendedPoint expected")}class yt{constructor(Ln,at,He,ct){if(this.ex=Ln,this.ey=at,this.ez=He,this.et=ct,!ut(Ln))throw new Error("x required");if(!ut(at))throw new Error("y required");if(!ut(He))throw new Error("z required");if(!ut(ct))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Ln){if(Ln instanceof yt)throw new Error("extended point not allowed");const{x:at,y:He}=Ln||{};if(!ut(at)||!ut(He))throw new Error("invalid affine point");return new yt(at,He,S,ln(at*He))}static normalizeZ(Ln){const at=ke.invertBatch(Ln.map(He=>He.ez));return Ln.map((He,ct)=>He.toAffine(at[ct])).map(yt.fromAffine)}_setWindowSize(Ln){this._WINDOW_SIZE=Ln,pn.delete(this)}assertValidity(){const{a:Ln,d:at}=pe;if(this.is0())throw new Error("bad point: ZERO");const{ex:He,ey:ct,ez:Yt,et:En}=this,zn=ln(He*He),er=ln(ct*ct),mr=ln(Yt*Yt),Lr=ln(mr*mr),Pr=ln(zn*Ln);if(ln(mr*ln(Pr+er))!==ln(Lr+ln(at*ln(zn*er))))throw new Error("bad point: equation left != right (1)");if(ln(He*ct)!==ln(Yt*En))throw new Error("bad point: equation left != right (2)")}equals(Ln){fr(Ln);const{ex:at,ey:He,ez:ct}=this,{ex:Yt,ey:En,ez:zn}=Ln,er=ln(at*zn),mr=ln(Yt*ct),Lr=ln(He*zn),Pr=ln(En*ct);return er===mr&&Lr===Pr}is0(){return this.equals(yt.ZERO)}negate(){return new yt(ln(-this.ex),this.ey,this.ez,ln(-this.et))}double(){const{a:Ln}=pe,{ex:at,ey:He,ez:ct}=this,Yt=ln(at*at),En=ln(He*He),zn=ln(B*ln(ct*ct)),er=ln(Ln*Yt),mr=at+He,Lr=ln(ln(mr*mr)-Yt-En),Pr=er+En,Kr=Pr-zn,Fr=er-En,di=ln(Lr*Kr),on=ln(Pr*Fr),wn=ln(Lr*Fr),Tn=ln(Kr*Pr);return new yt(di,on,Tn,wn)}add(Ln){fr(Ln);const{a:at,d:He}=pe,{ex:ct,ey:Yt,ez:En,et:zn}=this,{ex:er,ey:mr,ez:Lr,et:Pr}=Ln;if(at===BigInt(-1)){const Ii=ln((Yt-ct)*(mr+er)),Mo=ln((Yt+ct)*(mr-er)),li=ln(Mo-Ii);if(li===O)return this.double();const go=ln(En*B*Pr),wo=ln(zn*B*Lr),Ro=wo+go,vi=Mo+Ii,Vi=wo-go,ji=ln(Ro*li),za=ln(vi*Vi),Pi=ln(Ro*Vi),xn=ln(li*vi);return new yt(ji,za,xn,Pi)}const Kr=ln(ct*er),Fr=ln(Yt*mr),di=ln(zn*He*Pr),on=ln(En*Lr),wn=ln((ct+Yt)*(er+mr)-Kr-Fr),Tn=on-di,Hn=on+di,Gn=ln(Fr-at*Kr),_r=ln(wn*Tn),Mr=ln(Hn*Gn),$r=ln(wn*Gn),jr=ln(Tn*Hn);return new yt(_r,Mr,jr,$r)}subtract(Ln){return this.add(Ln.negate())}wNAF(Ln){return Ye.wNAFCached(this,pn,Ln,yt.normalizeZ)}multiply(Ln){const{p:at,f:He}=this.wNAF(Gt(Ln,Ne));return yt.normalizeZ([at,He])[0]}multiplyUnsafe(Ln){let at=nn(Ln);return at===O?Et:this.equals(Et)||at===S?this:this.equals(wt)?this.wNAF(at).p:Ye.unsafeLadder(this,at)}isSmallOrder(){return this.multiplyUnsafe(rn).is0()}isTorsionFree(){return Ye.unsafeLadder(this,Ne).is0()}toAffine(Ln){const{ex:at,ey:He,ez:ct}=this,Yt=this.is0();null==Ln&&(Ln=Yt?N:ke.inv(ct));const En=ln(at*Ln),zn=ln(He*Ln),er=ln(ct*Ln);if(Yt)return{x:O,y:S};if(er!==S)throw new Error("invZ was invalid");return{x:En,y:zn}}clearCofactor(){const{h:Ln}=pe;return Ln===S?this:this.multiplyUnsafe(Ln)}static fromHex(Ln,at=!1){const{d:He,a:ct}=pe,Yt=ke.BYTES,En=(Ln=(0,H.qj)("pointHex",Ln,Yt)).slice(),zn=Ln[Yt-1];En[Yt-1]=-129&zn;const er=H.lX(En);er===O||Gt(er,at?gn:ke.ORDER);const mr=ln(er*er),Lr=ln(mr-S),Pr=ln(He*mr-ct);let{isValid:Kr,value:Fr}=ar(Lr,Pr);if(!Kr)throw new Error("Point.fromHex: invalid y coordinate");const di=(Fr&S)===S,on=!!(128&zn);if(!at&&Fr===O&&on)throw new Error("Point.fromHex: x=0 and x_0=1");return on!==di&&(Fr=ln(-Fr)),yt.fromAffine({x:Fr,y:er})}static fromPrivateKey(Ln){return Ft(Ln).point}toRawBytes(){const{x:Ln,y:at}=this.toAffine(),He=H.z(at,ke.BYTES);return He[He.length-1]|=Ln&S?128:0,He}toHex(){return H.My(this.toRawBytes())}}yt.BASE=new yt(pe.Gx,pe.Gy,S,ln(pe.Gx*pe.Gy)),yt.ZERO=new yt(O,S,S,O);const{BASE:wt,ZERO:Et}=yt,Ye=(0,w.A)(yt,8*Kt);function et(Nn){return(0,P.zi)(Nn,Ne)}function Wt(Nn){return et(H.lX(Nn))}function Ft(Nn){const Ln=Kt;Nn=(0,H.qj)("private key",Nn,Ln);const at=(0,H.qj)("hashed private key",en(Nn),2*Ln),He=Cn(at.slice(0,Ln)),ct=at.slice(Ln,2*Ln),Yt=Wt(He),En=wt.multiply(Yt),zn=En.toRawBytes();return{head:He,prefix:ct,scalar:Yt,point:En,pointBytes:zn}}function Vn(Nn=new Uint8Array,...Ln){const at=H.Id(...Ln);return Wt(en(cn(at,(0,H.qj)("context",Nn),!!lt)))}const Mn=U;return wt._setWindowSize(8),{CURVE:pe,getPublicKey:function mn(Nn){return Ft(Nn).pointBytes},sign:function bn(Nn,Ln,at={}){Nn=(0,H.qj)("message",Nn),lt&&(Nn=lt(Nn));const{prefix:He,scalar:ct,pointBytes:Yt}=Ft(Ln),En=Vn(at.context,He,Nn),zn=wt.multiply(En).toRawBytes(),mr=et(En+Vn(at.context,zn,Yt,Nn)*ct);nn(mr);const Lr=H.Id(zn,H.z(mr,ke.BYTES));return(0,H.qj)("result",Lr,2*Kt)},verify:function br(Nn,Ln,at,He=Mn){const{context:ct,zip215:Yt}=He,En=ke.BYTES;Nn=(0,H.qj)("signature",Nn,2*En),Ln=(0,H.qj)("message",Ln),lt&&(Ln=lt(Ln));const zn=H.lX(Nn.slice(En,2*En));let er,mr,Lr;try{er=yt.fromHex(at,Yt),mr=yt.fromHex(Nn.slice(0,En),Yt),Lr=wt.multiplyUnsafe(zn)}catch{return!1}if(!Yt&&er.isSmallOrder())return!1;const Pr=Vn(ct,mr.toRawBytes(),er.toRawBytes(),Ln);return mr.add(er.multiplyUnsafe(Pr)).subtract(Lr).clearCofactor().equals(yt.ZERO)},ExtendedPoint:yt,utils:{getExtendedPublicKey:Ft,randomPrivateKey:()=>It(ke.BYTES),precompute:(Nn=8,Ln=yt.BASE)=>(Ln._setWindowSize(Nn),Ln.multiply(BigInt(3)),Ln)}}}const L=BigInt(0),z=BigInt(1),Z=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),J=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),ce=(BigInt(0),BigInt(1)),ae=BigInt(2),fe=BigInt(5),he=BigInt(10),we=BigInt(20),Me=BigInt(40),Pe=BigInt(80);function C(Y){const pe=Z,Ne=Y*Y%pe*Y%pe,lt=(0,P.zH)(Ne,ae,pe)*Ne%pe,en=(0,P.zH)(lt,ce,pe)*Y%pe,It=(0,P.zH)(en,fe,pe)*en%pe,Kt=(0,P.zH)(It,he,pe)*It%pe,rn=(0,P.zH)(Kt,we,pe)*Kt%pe,gn=(0,P.zH)(rn,Me,pe)*rn%pe,ln=(0,P.zH)(gn,Pe,pe)*gn%pe,ar=(0,P.zH)(ln,Pe,pe)*gn%pe,Cn=(0,P.zH)(ar,he,pe)*It%pe;return{pow_p_5_8:(0,P.zH)(Cn,ae,pe)*Y%pe,b2:Ne}}function a(Y){return Y[0]&=248,Y[31]&=127,Y[31]|=64,Y}const p=(0,P.D0)(Z,void 0,!0),E={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:y.Zf,randomBytes:b.po,adjustScalarBytes:a,uvRatio:function d(Y,pe){const ke=Z,Ne=(0,P.zi)(pe*pe*pe,ke),en=C(Y*(0,P.zi)(Ne*Ne*pe,ke)).pow_p_5_8;let It=(0,P.zi)(Y*Ne*en,ke);const Kt=(0,P.zi)(pe*It*It,ke),rn=It,gn=(0,P.zi)(It*J,ke),ln=Kt===Y,ar=Kt===(0,P.zi)(-Y,ke),Cn=Kt===(0,P.zi)(-Y*J,ke);return ln&&(It=rn),(ar||Cn)&&(It=gn),(0,P.dQ)(It,ke)&&(It=(0,P.zi)(-It,ke)),{isValid:ln||ar,value:It}}},D=G(E);const v=function q(Y){const pe=function ee(Y){return(0,H.Q5)(Y,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...Y})}(Y),{P:ke}=pe,Ne=pn=>(0,P.zi)(pn,ke),lt=pe.montgomeryBits,en=Math.ceil(lt/8),It=pe.nByteLength,Kt=pe.adjustScalarBytes||(pn=>pn),rn=pe.powPminus2||(pn=>(0,P.n7)(pn,ke-BigInt(2),ke));function gn(pn,fr,yt){const wt=Ne(pn*(fr-yt));return[fr=Ne(fr-wt),yt=Ne(yt+wt)]}function ln(pn){if("bigint"==typeof pn&&L<=pn&&pn<ke)return pn;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const ar=(pe.a-BigInt(2))/BigInt(4);function cn(pn){return(0,H.z)(Ne(pn),en)}function ut(pn,fr){const yt=function Zt(pn){const fr=(0,H.qj)("u coordinate",pn,en);return 32===It&&(fr[31]&=127),(0,H.lX)(fr)}(fr),wt=function vt(pn){const fr=(0,H.qj)("scalar",pn),yt=fr.length;if(yt!==en&&yt!==It)throw new Error(`Expected ${en} or ${It} bytes, got ${yt}`);return(0,H.lX)(Kt(fr))}(pn),Et=function Cn(pn,fr){const yt=ln(pn),wt=ln(fr),Et=yt;let Vn,Ye=z,et=L,Wt=yt,Ft=z,mn=L;for(let Mn=BigInt(lt-1);Mn>=L;Mn--){const br=wt>>Mn&z;mn^=br,Vn=gn(mn,Ye,Wt),Ye=Vn[0],Wt=Vn[1],Vn=gn(mn,et,Ft),et=Vn[0],Ft=Vn[1],mn=br;const or=Ye+et,Nn=Ne(or*or),Ln=Ye-et,at=Ne(Ln*Ln),He=Nn-at,ct=Wt+Ft,En=Ne((Wt-Ft)*or),zn=Ne(ct*Ln),er=En+zn,mr=En-zn;Wt=Ne(er*er),Ft=Ne(Et*Ne(mr*mr)),Ye=Ne(Nn*at),et=Ne(He*(Nn+Ne(ar*He)))}Vn=gn(mn,Ye,Wt),Ye=Vn[0],Wt=Vn[1],Vn=gn(mn,et,Ft),et=Vn[0],Ft=Vn[1];const bn=rn(et);return Ne(Ye*bn)}(yt,wt);if(Et===L)throw new Error("Invalid private or public key received");return cn(Et)}const Gt=cn(pe.Gu);function nn(pn){return ut(pn,Gt)}return{scalarMult:ut,scalarMultBase:nn,getSharedSecret:(pn,fr)=>ut(pn,fr),getPublicKey:pn=>nn(pn),utils:{randomPrivateKey:()=>pe.randomBytes(pe.nByteLength)},GuBytes:Gt}}({P:Z,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Y=>{const pe=Z,{pow_p_5_8:ke,b2:Ne}=C(Y);return(0,P.zi)((0,P.zH)(ke,BigInt(3),pe)*Ne,pe)},adjustScalarBytes:a,randomBytes:b.po});function $(Y){const{y:pe}=D.ExtendedPoint.fromHex(Y),ke=BigInt(1);return p.toBytes(p.create((ke+pe)*p.inv(ke-pe)))}function Q(Y){const pe=E.hash(Y.subarray(0,32));return E.adjustScalarBytes(pe).subarray(0,32)}const de=(p.ORDER+BigInt(3))/BigInt(8);p.pow(ae,de),p.sqrt(p.neg(p.ONE)),BigInt(5),BigInt(8),BigInt(486662),(0,P.Tv)(p,p.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},40499:(We,j,_)=>{"use strict";_.d(j,{Ag:()=>B,s9:()=>S});var y=_(2716),b=_(47565);const H=(0,_(35765).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),w=H.create(BigInt("-3")),O=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),S=(0,y.s)({a:w,b:O,Fp:H,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},b.s),B=S},94256:(We,j,_)=>{"use strict";_.d(j,{bI:()=>A});var y=_(47565),b=_(35765),P=_(2716);const H=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),w=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),O=BigInt(1),S=BigInt(2),B=(x,s)=>(x+s/S)/s;const U=(0,b.D0)(H,void 0,void 0,{sqrt:function N(x){const s=H,v=BigInt(3),$=BigInt(6),F=BigInt(11),Q=BigInt(22),de=BigInt(23),De=BigInt(44),Re=BigInt(88),Ve=x*x*x%s,Ee=Ve*Ve*x%s,_e=(0,b.zH)(Ee,v,s)*Ee%s,Fe=(0,b.zH)(_e,v,s)*Ee%s,ve=(0,b.zH)(Fe,S,s)*Ve%s,Te=(0,b.zH)(ve,F,s)*ve%s,ge=(0,b.zH)(Te,Q,s)*Te%s,me=(0,b.zH)(ge,De,s)*ge%s,te=(0,b.zH)(me,Re,s)*me%s,ne=(0,b.zH)(te,De,s)*ge%s,le=(0,b.zH)(ne,v,s)*Ee%s,Ae=(0,b.zH)(le,de,s)*Te%s,Be=(0,b.zH)(Ae,$,s)*Ve%s,qe=(0,b.zH)(Be,S,s);if(!U.eql(U.sqr(qe),x))throw new Error("Cannot find square root");return qe}}),A=(0,P.s)({a:BigInt(0),b:BigInt(7),Fp:U,n:w,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:x=>{const s=w,v=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),$=-O*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),F=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Q=v,de=BigInt("0x100000000000000000000000000000000"),De=B(Q*x,s),Re=B(-$*x,s);let Ve=(0,b.zi)(x-De*v-Re*F,s),Ee=(0,b.zi)(-De*$-Re*Q,s);const _e=Ve>de,Fe=Ee>de;if(_e&&(Ve=s-Ve),Fe&&(Ee=s-Ee),Ve>de||Ee>de)throw new Error("splitScalar: Endomorphism failed, k="+x);return{k1neg:_e,k1:Ve,k2neg:Fe,k2:Ee}}}},y.s);BigInt(0)},63741:(We,j,_)=>{"use strict";_.d(j,{Rn:()=>s,Wp:()=>Fe,kv:()=>Re,wJ:()=>Q});var y=_(10467);const b=2n**255n-19n,P=2n**252n+27742317777372353535851937790883648493n,H=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,w=0x6666666666666666666666666666666666666666666666666666666666666658n,O={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:b,n:P,h:8,Gx:H,Gy:w},S=(me="")=>{throw new Error(me)},B=me=>"string"==typeof me,N=(me,te)=>!(me instanceof Uint8Array)||"number"==typeof te&&te>0&&me.length!==te?S("Uint8Array expected"):me,U=me=>new Uint8Array(me),A=(me,te)=>N(B(me)?ce(me):U(me),te),G=(me,te=b)=>{let ne=me%te;return ne>=0n?ne:te+ne},L=me=>me instanceof ee?me:S("Point expected");let z;class ee{constructor(te,ne,le,Ae){this.ex=te,this.ey=ne,this.ez=le,this.et=Ae}static fromAffine(te){return new ee(te.x,te.y,1n,G(te.x*te.y))}static fromHex(te,ne=!0){const{d:le}=O,Ae=(te=A(te,32)).slice();Ae[31]=-129&te[31];const Be=fe(Ae);0n===Be||(ne&&!(0n<Be&&Be<b)&&S("bad y coord 1"),!ne&&!(0n<Be&&Be<2n**256n)&&S("bad y coord 2"));const qe=G(Be*Be),ze=G(qe-1n),Dt=G(le*qe+1n);let{isValid:Xe,value:Ue}=a(ze,Dt);return Xe||S("bad y coordinate 3"),!!(128&te[31])!=(1n===(1n&Ue))&&(Ue=G(-Ue)),new ee(Ue,Be,1n,G(Ue*Be))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(te){const{ex:ne,ey:le,ez:Ae}=this,{ex:Be,ey:qe,ez:ze}=L(te),Dt=G(ne*ze),Xe=G(Be*Ae),Ue=G(le*ze),mt=G(qe*Ae);return Dt===Xe&&Ue===mt}is0(){return this.equals(Z)}negate(){return new ee(G(-this.ex),this.ey,this.ez,G(-this.et))}double(){const{ex:te,ey:ne,ez:le}=this,{a:Ae}=O,Be=G(te*te),qe=G(ne*ne),ze=G(2n*G(le*le)),Dt=G(Ae*Be),Xe=te+ne,Ue=G(G(Xe*Xe)-Be-qe),mt=Dt+qe,K=mt-ze,T=Dt-qe,M=G(Ue*K),Y=G(mt*T),pe=G(Ue*T),ke=G(K*mt);return new ee(M,Y,ke,pe)}add(te){const{ex:ne,ey:le,ez:Ae,et:Be}=this,{ex:qe,ey:ze,ez:Dt,et:Xe}=L(te),{a:Ue,d:mt}=O,K=G(ne*qe),T=G(le*ze),M=G(Be*mt*Xe),Y=G(Ae*Dt),pe=G((ne+le)*(qe+ze)-K-T),ke=G(Y-M),Ne=G(Y+M),lt=G(T-Ue*K),en=G(pe*ke),It=G(Ne*lt),Kt=G(pe*lt),rn=G(ke*Ne);return new ee(en,It,rn,Kt)}mul(te,ne=!0){if(0n===te)return!0===ne?S("cannot multiply by 0"):Z;if("bigint"==typeof te&&0n<te&&te<P||S("invalid scalar, must be < L"),!ne&&this.is0()||1n===te)return this;if(this.equals(q))return ge(te).p;let le=Z,Ae=q;for(let Be=this;te>0n;Be=Be.double(),te>>=1n)1n&te?le=le.add(Be):ne&&(Ae=Ae.add(Be));return le}multiply(te){return this.mul(te)}clearCofactor(){return this.mul(BigInt(O.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let te=this.mul(P/2n,!1).double();return te=te.add(this),te.is0()}toAffine(){const{ex:te,ey:ne,ez:le}=this;if(this.is0())return{x:0n,y:0n};const Ae=we(le);return 1n!==G(le*Ae)&&S("invalid inverse"),{x:G(te*Ae),y:G(ne*Ae)}}toRawBytes(){const{x:te,y:ne}=this.toAffine(),le=ae(ne);return le[31]|=1n&te?128:0,le}toHex(){return se(this.toRawBytes())}}ee.BASE=new ee(H,w,1n,G(H*w)),ee.ZERO=new ee(0n,1n,1n,0n);const{BASE:q,ZERO:Z}=ee,J=(me,te)=>me.toString(16).padStart(te,"0"),se=me=>Array.from(me).map(te=>J(te,2)).join(""),ce=me=>{const te=me.length;(!B(me)||te%2)&&S("hex invalid 1");const ne=U(te/2);for(let le=0;le<ne.length;le++){const Ae=2*le,Be=me.slice(Ae,Ae+2),qe=Number.parseInt(Be,16);(Number.isNaN(qe)||qe<0)&&S("hex invalid 2"),ne[le]=qe}return ne},ae=me=>ce(J(me,64)).reverse(),fe=me=>BigInt("0x"+se(U(N(me)).reverse())),he=(...me)=>{const te=U(me.reduce((le,Ae)=>le+N(Ae).length,0));let ne=0;return me.forEach(le=>{te.set(le,ne),ne+=le.length}),te},we=(me,te=b)=>{(0n===me||te<=0n)&&S("no inverse n="+me+" mod="+te);let ne=G(me,te),le=te,Ae=0n,Be=1n,qe=1n,ze=0n;for(;0n!==ne;){const Dt=le/ne,Xe=le%ne,Ue=Ae-qe*Dt,mt=Be-ze*Dt;le=ne,ne=Xe,Ae=qe,Be=ze,qe=Ue,ze=mt}return 1n===le?G(Ae,te):S("no inverse")},Me=(me,te)=>{let ne=me;for(;te-- >0n;)ne*=ne,ne%=b;return ne},C=19681161376707505956807079304988542015446066515923890162744021073123829784752n,a=(me,te)=>{const ne=G(te*te*te),Ae=(me=>{const ne=me*me%b*me%b,le=Me(ne,2n)*ne%b,Ae=Me(le,1n)*me%b,Be=Me(Ae,5n)*Ae%b,qe=Me(Be,10n)*Be%b,ze=Me(qe,20n)*qe%b,Dt=Me(ze,40n)*ze%b,Xe=Me(Dt,80n)*Dt%b,Ue=Me(Xe,80n)*Dt%b,mt=Me(Ue,10n)*Be%b;return{pow_p_5_8:Me(mt,2n)*me%b,b2:ne}})(me*G(ne*ne*te)).pow_p_5_8;let Be=G(me*ne*Ae);const qe=G(te*Be*Be),ze=Be,Dt=G(Be*C),Xe=qe===me,Ue=qe===G(-me),mt=qe===G(-me*C);return Xe&&(Be=ze),(Ue||mt)&&(Be=Dt),1n===(1n&G(Be))&&(Be=G(-Be)),{isValid:Xe||Ue,value:Be}},d=me=>G(fe(me),P);let m;const p=(...me)=>_e.sha512Async(...me),E=(...me)=>"function"==typeof m?m(...me):S("etc.sha512Sync not set"),D=me=>{const te=me.slice(0,32);te[0]&=248,te[31]&=127,te[31]|=64;const ne=me.slice(32,64),le=d(te),Ae=q.mul(le),Be=Ae.toRawBytes();return{head:te,prefix:ne,scalar:le,point:Ae,pointBytes:Be}},R=me=>p(A(me,32)).then(D),s=me=>R(me).then(te=>te.pointBytes);function $(me,te){return me?p(te.hashable).then(te.finish):te.finish(E(te.hashable))}const Q=function(){var me=(0,y.A)(function*(te,ne){const le=A(te),Ae=yield R(ne);return $(!0,((me,te,ne)=>{const{pointBytes:le,scalar:Ae}=me,Be=d(te),qe=q.mul(Be).toRawBytes();return{hashable:he(qe,le,ne),finish:Xe=>{const Ue=G(Be+d(Xe)*Ae,P);return N(he(qe,ae(Ue)),64)}}})(Ae,yield p(Ae.prefix,le),le))});return function(ne,le){return me.apply(this,arguments)}}(),Re=function(){var me=(0,y.A)(function*(te,ne,le){return $(!0,((me,te,ne)=>{te=A(te),me=A(me,64);const le=ee.fromHex(ne,!1),Ae=ee.fromHex(me.slice(0,32),!1),Be=fe(me.slice(32,64)),qe=q.mul(Be,!1);return{hashable:he(Ae.toRawBytes(),le.toRawBytes(),te),finish:Xe=>{const Ue=d(Xe);return Ae.add(le.mul(Ue,!1)).add(qe.negate()).clearCofactor().is0()}}})(te,ne,le))});return function(ne,le,Ae){return me.apply(this,arguments)}}(),Ee=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,_e={bytesToHex:se,hexToBytes:ce,concatBytes:he,mod:G,invert:we,randomBytes:me=>{const te=Ee();return te||S("crypto.getRandomValues must be defined"),te.getRandomValues(U(me))},sha512Async:(me=(0,y.A)(function*(...te){const ne=Ee();ne||S("crypto.subtle or etc.sha512Async must be defined");const le=he(...te);return U(yield ne.subtle.digest("SHA-512",le.buffer))}),function(){return me.apply(this,arguments)}),sha512Sync:void 0};var me;Object.defineProperties(_e,{sha512Sync:{configurable:!1,get:()=>m,set(me){m||(m=me)}}});const Fe={getExtendedPublicKeyAsync:R,getExtendedPublicKey:me=>D(E(A(me,32))),randomPrivateKey:()=>_e.randomBytes(32),precompute:(me=8,te=q)=>(te.multiply(3n),te)},ge=me=>{const te=z||(z=(()=>{const me=[];let ne=q,le=ne;for(let Ae=0;Ae<33;Ae++){le=ne,me.push(le);for(let Be=1;Be<128;Be++)le=le.add(ne),me.push(le);ne=le.double()}return me})()),ne=(Ue,mt)=>{let K=mt.negate();return Ue?K:mt};let le=Z,Ae=q;const ze=BigInt(255),Xe=BigInt(8);for(let Ue=0;Ue<33;Ue++){const mt=128*Ue;let K=Number(me&ze);me>>=Xe,K>128&&(K-=256,me+=1n);const T=mt,M=mt+Math.abs(K)-1,pe=K<0;0===K?Ae=Ae.add(ne(Ue%2!=0,te[T])):le=le.add(ne(pe,te[M]))}return{p:le,f:Ae}}},37099:(We,j,_)=>{"use strict";function y(U){if(!Number.isSafeInteger(U)||U<0)throw new Error(`Wrong positive integer: ${U}`)}function H(U,...A){if(!function P(U){return U instanceof Uint8Array||null!=U&&"object"==typeof U&&"Uint8Array"===U.constructor.name}(U))throw new Error("Expected Uint8Array");if(A.length>0&&!A.includes(U.length))throw new Error(`Expected Uint8Array of length ${A}, not of length=${U.length}`)}function w(U){if("function"!=typeof U||"function"!=typeof U.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");y(U.outputLen),y(U.blockLen)}function O(U,A=!0){if(U.destroyed)throw new Error("Hash instance has been destroyed");if(A&&U.finished)throw new Error("Hash#digest() has already been called")}function S(U,A){H(U);const G=A.outputLen;if(U.length<G)throw new Error(`digestInto() expects output buffer of length at least ${G}`)}_.d(j,{CG:()=>S,ai:()=>y,ee:()=>H,t2:()=>O,tW:()=>w})},36405:(We,j,_)=>{"use strict";_.d(j,{D:()=>H});var y=_(37099),b=_(62953);class H extends b.Vw{constructor(O,S,B,N){super(),this.blockLen=O,this.outputLen=S,this.padOffset=B,this.isLE=N,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(O),this.view=(0,b.O8)(this.buffer)}update(O){(0,y.t2)(this);const{view:S,buffer:B,blockLen:N}=this,U=(O=(0,b.ZJ)(O)).length;for(let A=0;A<U;){const G=Math.min(N-this.pos,U-A);if(G!==N)B.set(O.subarray(A,A+G),this.pos),this.pos+=G,A+=G,this.pos===N&&(this.process(S,0),this.pos=0);else{const L=(0,b.O8)(O);for(;N<=U-A;A+=N)this.process(L,A)}}return this.length+=O.length,this.roundClean(),this}digestInto(O){(0,y.t2)(this),(0,y.CG)(O,this),this.finished=!0;const{buffer:S,view:B,blockLen:N,isLE:U}=this;let{pos:A}=this;S[A++]=128,this.buffer.subarray(A).fill(0),this.padOffset>N-A&&(this.process(B,0),A=0);for(let q=A;q<N;q++)S[q]=0;(function P(w,O,S,B){if("function"==typeof w.setBigUint64)return w.setBigUint64(O,S,B);const N=BigInt(32),U=BigInt(4294967295),A=Number(S>>N&U),G=Number(S&U),z=B?0:4;w.setUint32(O+(B?4:0),A,B),w.setUint32(O+z,G,B)})(B,N-8,BigInt(8*this.length),U),this.process(B,0);const G=(0,b.O8)(O),L=this.outputLen;if(L%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const z=L/4,ee=this.get();if(z>ee.length)throw new Error("_sha2: outputLen bigger than state");for(let q=0;q<z;q++)G.setUint32(4*q,ee[q],U)}digest(){const{buffer:O,outputLen:S}=this;this.digestInto(O);const B=O.slice(0,S);return this.destroy(),B}_cloneInto(O){O||(O=new this.constructor),O.set(...this.get());const{blockLen:S,buffer:B,length:N,finished:U,destroyed:A,pos:G}=this;return O.length=N,O.pos=G,O.finished=U,O.destroyed=A,N%S&&O.buffer.set(B),O}}},86703:(We,j,_)=>{"use strict";_.d(j,{E:()=>y});const y="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75781:(We,j,_)=>{"use strict";_.d(j,{w:()=>H});var y=_(37099),b=_(62953);class P extends b.Vw{constructor(O,S){super(),this.finished=!1,this.destroyed=!1,(0,y.tW)(O);const B=(0,b.ZJ)(S);if(this.iHash=O.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const N=this.blockLen,U=new Uint8Array(N);U.set(B.length>N?O.create().update(B).digest():B);for(let A=0;A<U.length;A++)U[A]^=54;this.iHash.update(U),this.oHash=O.create();for(let A=0;A<U.length;A++)U[A]^=106;this.oHash.update(U),U.fill(0)}update(O){return(0,y.t2)(this),this.iHash.update(O),this}digestInto(O){(0,y.t2)(this),(0,y.ee)(O,this.outputLen),this.finished=!0,this.iHash.digestInto(O),this.oHash.update(O),this.oHash.digestInto(O),this.destroy()}digest(){const O=new Uint8Array(this.oHash.outputLen);return this.digestInto(O),O}_cloneInto(O){O||(O=Object.create(Object.getPrototypeOf(this),{}));const{oHash:S,iHash:B,finished:N,destroyed:U,blockLen:A,outputLen:G}=this;return O.finished=N,O.destroyed=U,O.blockLen=A,O.outputLen=G,O.oHash=S._cloneInto(O.oHash),O.iHash=B._cloneInto(O.iHash),O}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const H=(w,O,S)=>new P(w,O).update(S).digest();H.create=(w,O)=>new P(w,O)},47565:(We,j,_)=>{"use strict";_.d(j,{s:()=>U});var y=_(36405),b=_(62953);const P=(G,L,z)=>G&L^~G&z,H=(G,L,z)=>G&L^G&z^L&z,w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),S=new Uint32Array(64);class B extends y.D{constructor(){super(64,32,8,!1),this.A=0|O[0],this.B=0|O[1],this.C=0|O[2],this.D=0|O[3],this.E=0|O[4],this.F=0|O[5],this.G=0|O[6],this.H=0|O[7]}get(){const{A:L,B:z,C:ee,D:q,E:Z,F:J,G:se,H:ce}=this;return[L,z,ee,q,Z,J,se,ce]}set(L,z,ee,q,Z,J,se,ce){this.A=0|L,this.B=0|z,this.C=0|ee,this.D=0|q,this.E=0|Z,this.F=0|J,this.G=0|se,this.H=0|ce}process(L,z){for(let he=0;he<16;he++,z+=4)S[he]=L.getUint32(z,!1);for(let he=16;he<64;he++){const we=S[he-15],Me=S[he-2],Pe=(0,b.Ow)(we,7)^(0,b.Ow)(we,18)^we>>>3,C=(0,b.Ow)(Me,17)^(0,b.Ow)(Me,19)^Me>>>10;S[he]=C+S[he-7]+Pe+S[he-16]|0}let{A:ee,B:q,C:Z,D:J,E:se,F:ce,G:ae,H:fe}=this;for(let he=0;he<64;he++){const Me=fe+((0,b.Ow)(se,6)^(0,b.Ow)(se,11)^(0,b.Ow)(se,25))+P(se,ce,ae)+w[he]+S[he]|0,C=((0,b.Ow)(ee,2)^(0,b.Ow)(ee,13)^(0,b.Ow)(ee,22))+H(ee,q,Z)|0;fe=ae,ae=ce,ce=se,se=J+Me|0,J=Z,Z=q,q=ee,ee=Me+C|0}ee=ee+this.A|0,q=q+this.B|0,Z=Z+this.C|0,J=J+this.D|0,se=se+this.E|0,ce=ce+this.F|0,ae=ae+this.G|0,fe=fe+this.H|0,this.set(ee,q,Z,J,se,ce,ae,fe)}roundClean(){S.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const U=(0,b.ld)(()=>new B)},25431:(We,j,_)=>{"use strict";_.d(j,{Zf:()=>v});var y=_(36405);const b=BigInt(2**32-1),P=BigInt(32);function H(de,De=!1){return De?{h:Number(de&b),l:Number(de>>P&b)}:{h:0|Number(de>>P&b),l:0|Number(de&b)}}const C_split=function w(de,De=!1){let Re=new Uint32Array(de.length),Ve=new Uint32Array(de.length);for(let Ee=0;Ee<de.length;Ee++){const{h:_e,l:Fe}=H(de[Ee],De);[Re[Ee],Ve[Ee]]=[_e,Fe]}return[Re,Ve]},C_shrSH=(de,De,Re)=>de>>>Re,C_shrSL=(de,De,Re)=>de<<32-Re|De>>>Re,C_rotrSH=(de,De,Re)=>de>>>Re|De<<32-Re,C_rotrSL=(de,De,Re)=>de<<32-Re|De>>>Re,C_rotrBH=(de,De,Re)=>de<<64-Re|De>>>Re-32,C_rotrBL=(de,De,Re)=>de>>>Re-32|De<<64-Re,C_add=function se(de,De,Re,Ve){const Ee=(De>>>0)+(Ve>>>0);return{h:de+Re+(Ee/2**32|0)|0,l:0|Ee}},C_add3L=(de,De,Re)=>(de>>>0)+(De>>>0)+(Re>>>0),C_add3H=(de,De,Re,Ve)=>De+Re+Ve+(de/2**32|0)|0,C_add4L=(de,De,Re,Ve)=>(de>>>0)+(De>>>0)+(Re>>>0)+(Ve>>>0),C_add4H=(de,De,Re,Ve,Ee)=>De+Re+Ve+Ee+(de/2**32|0)|0,C_add5H=(de,De,Re,Ve,Ee,_e)=>De+Re+Ve+Ee+_e+(de/2**32|0)|0,C_add5L=(de,De,Re,Ve,Ee)=>(de>>>0)+(De>>>0)+(Re>>>0)+(Ve>>>0)+(Ee>>>0);var a=_(62953);const[d,m]=C_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(de=>BigInt(de))),p=new Uint32Array(80),E=new Uint32Array(80);class D extends y.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:De,Al:Re,Bh:Ve,Bl:Ee,Ch:_e,Cl:Fe,Dh:ve,Dl:Te,Eh:ge,El:me,Fh:te,Fl:ne,Gh:le,Gl:Ae,Hh:Be,Hl:qe}=this;return[De,Re,Ve,Ee,_e,Fe,ve,Te,ge,me,te,ne,le,Ae,Be,qe]}set(De,Re,Ve,Ee,_e,Fe,ve,Te,ge,me,te,ne,le,Ae,Be,qe){this.Ah=0|De,this.Al=0|Re,this.Bh=0|Ve,this.Bl=0|Ee,this.Ch=0|_e,this.Cl=0|Fe,this.Dh=0|ve,this.Dl=0|Te,this.Eh=0|ge,this.El=0|me,this.Fh=0|te,this.Fl=0|ne,this.Gh=0|le,this.Gl=0|Ae,this.Hh=0|Be,this.Hl=0|qe}process(De,Re){for(let Xe=0;Xe<16;Xe++,Re+=4)p[Xe]=De.getUint32(Re),E[Xe]=De.getUint32(Re+=4);for(let Xe=16;Xe<80;Xe++){const Ue=0|p[Xe-15],mt=0|E[Xe-15],K=C_rotrSH(Ue,mt,1)^C_rotrSH(Ue,mt,8)^C_shrSH(Ue,mt,7),T=C_rotrSL(Ue,mt,1)^C_rotrSL(Ue,mt,8)^C_shrSL(Ue,mt,7),M=0|p[Xe-2],Y=0|E[Xe-2],pe=C_rotrSH(M,Y,19)^C_rotrBH(M,Y,61)^C_shrSH(M,Y,6),ke=C_rotrSL(M,Y,19)^C_rotrBL(M,Y,61)^C_shrSL(M,Y,6),Ne=C_add4L(T,ke,E[Xe-7],E[Xe-16]),lt=C_add4H(Ne,K,pe,p[Xe-7],p[Xe-16]);p[Xe]=0|lt,E[Xe]=0|Ne}let{Ah:Ve,Al:Ee,Bh:_e,Bl:Fe,Ch:ve,Cl:Te,Dh:ge,Dl:me,Eh:te,El:ne,Fh:le,Fl:Ae,Gh:Be,Gl:qe,Hh:ze,Hl:Dt}=this;for(let Xe=0;Xe<80;Xe++){const Ue=C_rotrSH(te,ne,14)^C_rotrSH(te,ne,18)^C_rotrBH(te,ne,41),mt=C_rotrSL(te,ne,14)^C_rotrSL(te,ne,18)^C_rotrBL(te,ne,41),K=te&le^~te&Be,M=C_add5L(Dt,mt,ne&Ae^~ne&qe,m[Xe],E[Xe]),Y=C_add5H(M,ze,Ue,K,d[Xe],p[Xe]),pe=0|M,ke=C_rotrSH(Ve,Ee,28)^C_rotrBH(Ve,Ee,34)^C_rotrBH(Ve,Ee,39),Ne=C_rotrSL(Ve,Ee,28)^C_rotrBL(Ve,Ee,34)^C_rotrBL(Ve,Ee,39),lt=Ve&_e^Ve&ve^_e&ve,en=Ee&Fe^Ee&Te^Fe&Te;ze=0|Be,Dt=0|qe,Be=0|le,qe=0|Ae,le=0|te,Ae=0|ne,({h:te,l:ne}=C_add(0|ge,0|me,0|Y,0|pe)),ge=0|ve,me=0|Te,ve=0|_e,Te=0|Fe,_e=0|Ve,Fe=0|Ee;const It=C_add3L(pe,Ne,en);Ve=C_add3H(It,Y,ke,lt),Ee=0|It}({h:Ve,l:Ee}=C_add(0|this.Ah,0|this.Al,0|Ve,0|Ee)),({h:_e,l:Fe}=C_add(0|this.Bh,0|this.Bl,0|_e,0|Fe)),({h:ve,l:Te}=C_add(0|this.Ch,0|this.Cl,0|ve,0|Te)),({h:ge,l:me}=C_add(0|this.Dh,0|this.Dl,0|ge,0|me)),({h:te,l:ne}=C_add(0|this.Eh,0|this.El,0|te,0|ne)),({h:le,l:Ae}=C_add(0|this.Fh,0|this.Fl,0|le,0|Ae)),({h:Be,l:qe}=C_add(0|this.Gh,0|this.Gl,0|Be,0|qe)),({h:ze,l:Dt}=C_add(0|this.Hh,0|this.Hl,0|ze,0|Dt)),this.set(Ve,Ee,_e,Fe,ve,Te,ge,me,te,ne,le,Ae,Be,qe,ze,Dt)}roundClean(){p.fill(0),E.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const v=(0,a.ld)(()=>new D)},62953:(We,j,_)=>{"use strict";_.d(j,{$h:()=>ee,AI:()=>Z,Id:()=>se,My:()=>U,O8:()=>O,Ow:()=>S,Vw:()=>ce,ZJ:()=>J,aT:()=>L,ld:()=>he,po:()=>Pe,tY:()=>fe});var y=_(10467),b=_(86703);function w(C){return C instanceof Uint8Array||null!=C&&"object"==typeof C&&"Uint8Array"===C.constructor.name}const O=C=>new DataView(C.buffer,C.byteOffset,C.byteLength),S=(C,a)=>C<<32-a|C>>>a;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const N=Array.from({length:256},(C,a)=>a.toString(16).padStart(2,"0"));function U(C){if(!w(C))throw new Error("Uint8Array expected");let a="";for(let d=0;d<C.length;d++)a+=N[C[d]];return a}const A={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function G(C){return C>=A._0&&C<=A._9?C-A._0:C>=A._A&&C<=A._F?C-(A._A-10):C>=A._a&&C<=A._f?C-(A._a-10):void 0}function L(C){if("string"!=typeof C)throw new Error("hex string expected, got "+typeof C);const a=C.length,d=a/2;if(a%2)throw new Error("padded hex string expected, got unpadded hex of length "+a);const m=new Uint8Array(d);for(let p=0,E=0;p<d;p++,E+=2){const D=G(C.charCodeAt(E)),R=G(C.charCodeAt(E+1));if(void 0===D||void 0===R)throw new Error('hex string expected, got non-hex character "'+(C[E]+C[E+1])+'" at index '+E);m[p]=16*D+R}return m}const z=function(){var C=(0,y.A)(function*(){});return function(){return C.apply(this,arguments)}}();function ee(C,a,d){return q.apply(this,arguments)}function q(){return(q=(0,y.A)(function*(C,a,d){let m=Date.now();for(let p=0;p<C;p++){d(p);const E=Date.now()-m;E>=0&&E<a||(yield z(),m+=E)}})).apply(this,arguments)}function Z(C){if("string"!=typeof C)throw new Error("utf8ToBytes expected string, got "+typeof C);return new Uint8Array((new TextEncoder).encode(C))}function J(C){if("string"==typeof C&&(C=Z(C)),!w(C))throw new Error("expected Uint8Array, got "+typeof C);return C}function se(...C){let a=0;for(let m=0;m<C.length;m++){const p=C[m];if(!w(p))throw new Error("Uint8Array expected");a+=p.length}const d=new Uint8Array(a);for(let m=0,p=0;m<C.length;m++){const E=C[m];d.set(E,p),p+=E.length}return d}class ce{clone(){return this._cloneInto()}}const ae={}.toString;function fe(C,a){if(void 0!==a&&"[object Object]"!==ae.call(a))throw new Error("Options should be object or undefined");return Object.assign(C,a)}function he(C){const a=m=>C().update(J(m)).digest(),d=C();return a.outputLen=d.outputLen,a.blockLen=d.blockLen,a.create=()=>C(),a}function Pe(C=32){if(b.E&&"function"==typeof b.E.getRandomValues)return b.E.getRandomValues(new Uint8Array(C));throw new Error("crypto.getRandomValues must be defined")}},68464:(We,j,_)=>{"use strict";_.d(j,{CB:()=>ae,MX:()=>ge,Wp:()=>le,jn:()=>ne,lG:()=>s,wJ:()=>Fe});var y=_(10467);const b=2n**256n,P=b-0x1000003d1n,H=b-0x14551231950b75fc4402da1732fc9bebfn,w=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,O=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,S={p:P,n:H,a:0n,b:7n,Gx:w,Gy:O},B=32,N=ze=>J(J(ze*ze)*ze+S.b),U=(ze="")=>{throw new Error(ze)},A=ze=>"bigint"==typeof ze,G=ze=>"string"==typeof ze,L=ze=>A(ze)&&0n<ze&&ze<P,z=ze=>A(ze)&&0n<ze&&ze<H,ee=(ze,Dt)=>!(ze instanceof Uint8Array)||"number"==typeof Dt&&Dt>0&&ze.length!==Dt?U("Uint8Array expected"):ze,q=ze=>new Uint8Array(ze),Z=(ze,Dt)=>ee(G(ze)?Pe(ze):q(ze),Dt),J=(ze,Dt=P)=>{let Xe=ze%Dt;return Xe>=0n?Xe:Dt+Xe},se=ze=>ze instanceof ae?ze:U("Point expected");let ce;class ae{constructor(Dt,Xe,Ue){this.px=Dt,this.py=Xe,this.pz=Ue}static fromAffine(Dt){return new ae(Dt.x,Dt.y,1n)}static fromHex(Dt){let Xe;const Ue=(Dt=Z(Dt))[0],mt=Dt.subarray(1),K=a(mt,0,B),T=Dt.length;if(33===T&&[2,3].includes(Ue)){L(K)||U("Point hex invalid: x not FE");let M=D(N(K));!(1&~Ue)!=(1n===(1n&M))&&(M=J(-M)),Xe=new ae(K,M,1n)}return 65===T&&4===Ue&&(Xe=new ae(K,a(mt,B,2*B),1n)),Xe?Xe.ok():U("Point is not on curve")}static fromPrivateKey(Dt){return fe.mul(R(Dt))}get x(){return this.aff().x}get y(){return this.aff().y}equals(Dt){const{px:Xe,py:Ue,pz:mt}=this,{px:K,py:T,pz:M}=se(Dt),Y=J(Xe*M),pe=J(K*mt),ke=J(Ue*M),Ne=J(T*mt);return Y===pe&&ke===Ne}negate(){return new ae(this.px,J(-this.py),this.pz)}double(){return this.add(this)}add(Dt){const{px:Xe,py:Ue,pz:mt}=this,{px:K,py:T,pz:M}=se(Dt),{a:Y,b:pe}=S;let ke=0n,Ne=0n,lt=0n;const en=J(3n*pe);let It=J(Xe*K),Kt=J(Ue*T),rn=J(mt*M),gn=J(Xe+Ue),ln=J(K+T);gn=J(gn*ln),ln=J(It+Kt),gn=J(gn-ln),ln=J(Xe+mt);let ar=J(K+M);return ln=J(ln*ar),ar=J(It+rn),ln=J(ln-ar),ar=J(Ue+mt),ke=J(T+M),ar=J(ar*ke),ke=J(Kt+rn),ar=J(ar-ke),lt=J(Y*ln),ke=J(en*rn),lt=J(ke+lt),ke=J(Kt-lt),lt=J(Kt+lt),Ne=J(ke*lt),Kt=J(It+It),Kt=J(Kt+It),rn=J(Y*rn),ln=J(en*ln),Kt=J(Kt+rn),rn=J(It-rn),rn=J(Y*rn),ln=J(ln+rn),It=J(Kt*ln),Ne=J(Ne+It),It=J(ar*ln),ke=J(gn*ke),ke=J(ke-It),It=J(gn*Kt),lt=J(ar*lt),lt=J(lt+It),new ae(ke,Ne,lt)}mul(Dt,Xe=!0){if(!Xe&&0n===Dt)return he;if(z(Dt)||U("invalid scalar"),this.equals(fe))return qe(Dt).p;let Ue=he,mt=fe;for(let K=this;Dt>0n;K=K.double(),Dt>>=1n)1n&Dt?Ue=Ue.add(K):Xe&&(mt=mt.add(K));return Ue}mulAddQUns(Dt,Xe,Ue){return this.mul(Xe,!1).add(Dt.mul(Ue,!1)).ok()}toAffine(){const{px:Dt,py:Xe,pz:Ue}=this;if(this.equals(he))return{x:0n,y:0n};if(1n===Ue)return{x:Dt,y:Xe};const mt=E(Ue);return 1n!==J(Ue*mt)&&U("invalid inverse"),{x:J(Dt*mt),y:J(Xe*mt)}}assertValidity(){const{x:Dt,y:Xe}=this.aff();return(!L(Dt)||!L(Xe))&&U("Point invalid: x or y"),J(Xe*Xe)===N(Dt)?this:U("Point invalid: not on curve")}multiply(Dt){return this.mul(Dt)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(Dt=!0){const{x:Xe,y:Ue}=this.aff();return(Dt?0n===(1n&Ue)?"02":"03":"04")+m(Xe)+(Dt?"":m(Ue))}toRawBytes(Dt=!0){return Pe(this.toHex(Dt))}}ae.BASE=new ae(w,O,1n),ae.ZERO=new ae(0n,1n,0n);const{BASE:fe,ZERO:he}=ae,we=(ze,Dt)=>ze.toString(16).padStart(Dt,"0"),Me=ze=>Array.from(ze).map(Dt=>we(Dt,2)).join(""),Pe=ze=>{const Dt=ze.length;(!G(ze)||Dt%2)&&U("hex invalid 1");const Xe=q(Dt/2);for(let Ue=0;Ue<Xe.length;Ue++){const mt=2*Ue,K=ze.slice(mt,mt+2),T=Number.parseInt(K,16);(Number.isNaN(T)||T<0)&&U("hex invalid 2"),Xe[Ue]=T}return Xe},C=ze=>BigInt("0x"+(Me(ze)||"0")),a=(ze,Dt,Xe)=>C(ze.slice(Dt,Xe)),d=ze=>A(ze)&&ze>=0n&&ze<b?Pe(we(ze,2*B)):U("bigint expected"),m=ze=>Me(d(ze)),p=(...ze)=>{const Dt=q(ze.reduce((Ue,mt)=>Ue+ee(mt).length,0));let Xe=0;return ze.forEach(Ue=>{Dt.set(Ue,Xe),Xe+=Ue.length}),Dt},E=(ze,Dt=P)=>{(0n===ze||Dt<=0n)&&U("no inverse n="+ze+" mod="+Dt);let Xe=J(ze,Dt),Ue=Dt,mt=0n,K=1n,T=1n,M=0n;for(;0n!==Xe;){const Y=Ue/Xe,pe=Ue%Xe,ke=mt-T*Y,Ne=K-M*Y;Ue=Xe,Xe=pe,mt=T,K=M,T=ke,M=Ne}return 1n===Ue?J(mt,Dt):U("no inverse")},D=ze=>{let Dt=1n;for(let Xe=ze,Ue=(P+1n)/4n;Ue>0n;Ue>>=1n)1n&Ue&&(Dt=Dt*Xe%P),Xe=Xe*Xe%P;return J(Dt*Dt)===ze?Dt:U("sqrt invalid")},R=ze=>(A(ze)||(ze=C(Z(ze,B))),z(ze)?ze:U("private key out of range")),x=ze=>ze>H>>1n;function s(ze,Dt=!0){return ae.fromPrivateKey(ze).toRawBytes(Dt)}class v{constructor(Dt,Xe,Ue){this.r=Dt,this.s=Xe,this.recovery=Ue,this.assertValidity()}static fromCompact(Dt){return Dt=Z(Dt,64),new v(a(Dt,0,B),a(Dt,B,2*B))}assertValidity(){return z(this.r)&&z(this.s)?this:U()}addRecoveryBit(Dt){return new v(this.r,this.s,Dt)}hasHighS(){return x(this.s)}recoverPublicKey(Dt){const{r:Xe,s:Ue,recovery:mt}=this;[0,1,2,3].includes(mt)||U("recovery id invalid");const K=F(Z(Dt,32)),T=2===mt||3===mt?Xe+H:Xe;T>=P&&U("q.x invalid");const Y=ae.fromHex((1&mt?"03":"02")+m(T)),pe=E(T,H),ke=J(-K*pe,H),Ne=J(Ue*pe,H);return fe.mulAddQUns(Y,ke,Ne)}toCompactRawBytes(){return Pe(this.toCompactHex())}toCompactHex(){return m(this.r)+m(this.s)}}const $=ze=>{const Dt=8*ze.length-256,Xe=C(ze);return Dt>0?Xe>>BigInt(Dt):Xe},F=ze=>J($(ze),H),Q=ze=>d(ze),de=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let De;const Re={lowS:!0},Ve={lowS:!0};function Fe(ze,Dt){return ve.apply(this,arguments)}function ve(){return(ve=(0,y.A)(function*(ze,Dt,Xe=Re){const{seed:Ue,k2sig:mt}=function Ee(ze,Dt,Xe=Re){["der","recovered","canonical"].some(Ne=>Ne in Xe)&&U("sign() legacy options not supported");let{lowS:Ue}=Xe;null==Ue&&(Ue=!0);const mt=F(Z(ze)),K=Q(mt),T=R(Dt),M=[Q(T),K];let Y=Xe.extraEntropy;if(Y){!0===Y&&(Y=ne.randomBytes(B));const Ne=Z(Y);Ne.length!==B&&U(),M.push(Ne)}const pe=mt;return{seed:p(...M),k2sig:Ne=>{const lt=$(Ne);if(!z(lt))return;const en=E(lt,H),It=fe.mul(lt).aff(),Kt=J(It.x,H);if(0n===Kt)return;const rn=J(en*J(pe+J(T*Kt,H),H),H);if(0n===rn)return;let gn=rn,ln=(It.x===Kt?0:2)|Number(1n&It.y);return Ue&&x(rn)&&(gn=J(-rn,H),ln^=1),new v(Kt,gn,ln)}}}(ze,Dt,Xe);return function _e(ze){let Dt=q(B),Xe=q(B),Ue=0;const mt=()=>{Dt.fill(1),Xe.fill(0),Ue=0},K="drbg: tried 1000 values";if(ze){const T=(...pe)=>ne.hmacSha256Async(Xe,Dt,...pe),M=function(){var pe=(0,y.A)(function*(ke=q()){Xe=yield T(q([0]),ke),Dt=yield T(),0!==ke.length&&(Xe=yield T(q([1]),ke),Dt=yield T())});return function(){return pe.apply(this,arguments)}}(),Y=function(){var pe=(0,y.A)(function*(){return Ue++>=1e3&&U(K),Dt=yield T(),Dt});return function(){return pe.apply(this,arguments)}}();return function(){var pe=(0,y.A)(function*(ke,Ne){let lt;for(mt(),yield M(ke);!(lt=Ne(yield Y()));)yield M();return mt(),lt});return function(ke,Ne){return pe.apply(this,arguments)}}()}{const T=(...pe)=>{const ke=De;return ke||U("etc.hmacSha256Sync not set"),ke(Xe,Dt,...pe)},M=(pe=q())=>{Xe=T(q([0]),pe),Dt=T(),0!==pe.length&&(Xe=T(q([1]),pe),Dt=T())},Y=()=>(Ue++>=1e3&&U(K),Dt=T(),Dt);return(pe,ke)=>{let Ne;for(mt(),M(pe);!(Ne=ke(Y()));)M();return mt(),Ne}}}(!0)(Ue,mt)})).apply(this,arguments)}function ge(ze,Dt,Xe,Ue=Ve){let K,T,M,{lowS:mt}=Ue;null==mt&&(mt=!0),"strict"in Ue&&U("verify() legacy options not supported");const Y=ze&&"object"==typeof ze&&"r"in ze;!Y&&Z(ze).length!==2*B&&U("signature must be 64 bytes");try{K=Y?new v(ze.r,ze.s).assertValidity():v.fromCompact(ze),T=F(Z(Dt,B)),M=Xe instanceof ae?Xe.ok():ae.fromHex(Xe)}catch{return!1}if(!K)return!1;const{r:pe,s:ke}=K;if(mt&&x(ke))return!1;let Ne;try{const en=E(ke,H),It=J(T*en,H),Kt=J(pe*en,H);Ne=fe.mulAddQUns(M,It,Kt).aff()}catch{return!1}return!!Ne&&J(Ne.x,H)===pe}function te(ze){((ze=Z(ze)).length<B+8||ze.length>1024)&&U("expected proper params");const Xe=J(C(ze),H-1n)+1n;return d(Xe)}const ne={hexToBytes:Pe,bytesToHex:Me,concatBytes:p,bytesToNumberBE:C,numberToBytesBE:d,mod:J,invert:E,hmacSha256Async:(ze=(0,y.A)(function*(Dt,...Xe){const Ue=de();if(!Ue)return U("etc.hmacSha256Async not set");const mt=Ue.subtle,K=yield mt.importKey("raw",Dt,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return q(yield mt.sign("HMAC",K,p(...Xe)))}),function(Xe){return ze.apply(this,arguments)}),hmacSha256Sync:De,hashToPrivateKey:te,randomBytes:ze=>{const Dt=de();return Dt||U("crypto.getRandomValues must be defined"),Dt.getRandomValues(q(ze))}},le={normPrivateKeyToScalar:R,isValidPrivateKey:ze=>{try{return!!R(ze)}catch{return!1}},randomPrivateKey:()=>te(ne.randomBytes(B+8)),precompute:(ze=8,Dt=fe)=>(Dt.multiply(3n),Dt)};var ze;Object.defineProperties(ne,{hmacSha256Sync:{configurable:!1,get:()=>De,set(ze){De||(De=ze)}}});const qe=ze=>{const Dt=ce||(ce=(()=>{const ze=[];let Xe=fe,Ue=Xe;for(let mt=0;mt<33;mt++){Ue=Xe,ze.push(Ue);for(let K=1;K<128;K++)Ue=Ue.add(Xe),ze.push(Ue);Xe=Ue.double()}return ze})()),Xe=(ke,Ne)=>{let lt=Ne.negate();return ke?lt:Ne};let Ue=he,mt=fe;const M=BigInt(255),pe=BigInt(8);for(let ke=0;ke<33;ke++){const Ne=128*ke;let lt=Number(ze&M);ze>>=pe,lt>128&&(lt-=256,ze+=1n);const en=Ne,It=Ne+Math.abs(lt)-1,rn=lt<0;0===lt?mt=mt.add(Xe(ke%2!=0,Dt[en])):Ue=Ue.add(Xe(rn,Dt[It]))}return{p:Ue,f:mt}}},53813:(We,j,_)=>{"use strict";function b(ve){return ve instanceof Uint8Array||null!=ve&&"object"==typeof ve&&"Uint8Array"===ve.constructor.name}function B(ve,Te,ge){if(Te<2)throw new Error(`convertRadix: wrong from=${Te}, base cannot be less than 2`);if(ge<2)throw new Error(`convertRadix: wrong to=${ge}, base cannot be less than 2`);if(!Array.isArray(ve))throw new Error("convertRadix: data should be array");if(!ve.length)return[];let me=0;const te=[],ne=Array.from(ve);for(ne.forEach(le=>{if(le<0||le>=Te)throw new Error(`Wrong integer: ${le}`)});;){let le=0,Ae=!0;for(let Be=me;Be<ne.length;Be++){const qe=ne[Be],ze=Te*le+qe;if(!Number.isSafeInteger(ze)||Te*le/Te!==le||ze-qe!=Te*le)throw new Error("convertRadix: carry overflow");le=ze%ge;const Dt=Math.floor(ze/ge);if(ne[Be]=Dt,!Number.isSafeInteger(Dt)||Dt*ge+le!==ze)throw new Error("convertRadix: carry overflow");Ae&&(Dt?Ae=!1:me=Be)}if(te.push(le),Ae)break}for(let le=0;le<ve.length-1&&0===ve[le];le++)te.push(0);return te.reverse()}_.d(j,{Wp:()=>q});const N=(ve,Te)=>Te?N(Te,ve%Te):ve,U=(ve,Te)=>ve+(Te-N(ve,Te));function A(ve,Te,ge,me){if(!Array.isArray(ve))throw new Error("convertRadix2: data should be array");if(Te<=0||Te>32)throw new Error(`convertRadix2: wrong from=${Te}`);if(ge<=0||ge>32)throw new Error(`convertRadix2: wrong to=${ge}`);if(U(Te,ge)>32)throw new Error(`convertRadix2: carry overflow from=${Te} to=${ge} carryBits=${U(Te,ge)}`);let te=0,ne=0;const le=2**ge-1,Ae=[];for(const Be of ve){if(Be>=2**Te)throw new Error(`convertRadix2: invalid data word=${Be} from=${Te}`);if(te=te<<Te|Be,ne+Te>32)throw new Error(`convertRadix2: carry overflow pos=${ne} from=${Te}`);for(ne+=Te;ne>=ge;ne-=ge)Ae.push((te>>ne-ge&le)>>>0);te&=2**ne-1}if(te=te<<ge-ne&le,!me&&ne>=Te)throw new Error("Excess padding");if(!me&&te)throw new Error(`Non-zero padding: ${te}`);return me&&ne>0&&Ae.push(te>>>0),Ae}const q={alphabet:function H(ve){return{encode:Te=>{if(!Array.isArray(Te)||Te.length&&"number"!=typeof Te[0])throw new Error("alphabet.encode input should be an array of numbers");return Te.map(ge=>{if(ge<0||ge>=ve.length)throw new Error(`Digit index outside alphabet: ${ge} (alphabet: ${ve.length})`);return ve[ge]})},decode:Te=>{if(!Array.isArray(Te)||Te.length&&"string"!=typeof Te[0])throw new Error("alphabet.decode input should be array of strings");return Te.map(ge=>{if("string"!=typeof ge)throw new Error(`alphabet.decode: not string element=${ge}`);const me=ve.indexOf(ge);if(-1===me)throw new Error(`Unknown letter: "${ge}". Allowed: ${ve}`);return me})}}},chain:function P(...ve){const Te=ne=>ne,ge=(ne,le)=>Ae=>ne(le(Ae));return{encode:ve.map(ne=>ne.encode).reduceRight(ge,Te),decode:ve.map(ne=>ne.decode).reduce(ge,Te)}},checksum:function ee(ve,Te){if("function"!=typeof Te)throw new Error("checksum fn should be function");return{encode(ge){if(!b(ge))throw new Error("checksum.encode: input should be Uint8Array");const me=Te(ge).slice(0,ve),te=new Uint8Array(ge.length+ve);return te.set(ge),te.set(me,ge.length),te},decode(ge){if(!b(ge))throw new Error("checksum.decode: input should be Uint8Array");const me=ge.slice(0,-ve),te=Te(me).slice(0,ve),ne=ge.slice(-ve);for(let le=0;le<ve;le++)if(te[le]!==ne[le])throw new Error("Invalid checksum");return me}}},convertRadix:B,convertRadix2:A,radix:function G(ve){return{encode:Te=>{if(!b(Te))throw new Error("radix.encode input should be Uint8Array");return B(Array.from(Te),256,ve)},decode:Te=>{if(!Array.isArray(Te)||Te.length&&"number"!=typeof Te[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(B(Te,ve,256))}}},radix2:function L(ve,Te=!1){if(ve<=0||ve>32)throw new Error("radix2: bits should be in (0..32]");if(U(8,ve)>32||U(ve,8)>32)throw new Error("radix2: carry overflow");return{encode:ge=>{if(!b(ge))throw new Error("radix2.encode input should be Uint8Array");return A(Array.from(ge),8,ve,!Te)},decode:ge=>{if(!Array.isArray(ge)||ge.length&&"number"!=typeof ge[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(A(ge,ve,8,Te))}}},join:function w(ve=""){if("string"!=typeof ve)throw new Error("join separator should be string");return{encode:Te=>{if(!Array.isArray(Te)||Te.length&&"string"!=typeof Te[0])throw new Error("join.encode input should be array of strings");for(let ge of Te)if("string"!=typeof ge)throw new Error(`join.encode: non-string input=${ge}`);return Te.join(ve)},decode:Te=>{if("string"!=typeof Te)throw new Error("join.decode input should be string");return Te.split(ve)}}},padding:function O(ve,Te="="){if("string"!=typeof Te)throw new Error("padding chr should be string");return{encode(ge){if(!Array.isArray(ge)||ge.length&&"string"!=typeof ge[0])throw new Error("padding.encode input should be array of strings");for(let me of ge)if("string"!=typeof me)throw new Error(`padding.encode: non-string input=${me}`);for(;ge.length*ve%8;)ge.push(Te);return ge},decode(ge){if(!Array.isArray(ge)||ge.length&&"string"!=typeof ge[0])throw new Error("padding.encode input should be array of strings");for(let te of ge)if("string"!=typeof te)throw new Error(`padding.decode: non-string input=${te}`);let me=ge.length;if(me*ve%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;me>0&&ge[me-1]===Te;me--)if(!((me-1)*ve%8))throw new Error("Invalid padding: string has too much padding");return ge.slice(0,me)}}}}},848:(We,j,_)=>{"use strict";_.d(j,{DP:()=>_1,Bq:()=>fN,rr:()=>vN,yc:()=>GN,rM:()=>o9,B2:()=>UC,QZ:()=>dN,dk:()=>HN,nx:()=>va,cW:()=>KN,TX:()=>VN,eP:()=>rb,qB:()=>a9,oN:()=>t9,X7:()=>yN,dK:()=>pN});var y={};_.r(y),_.d(y,{base10:()=>Wt});var b={};_.r(b),_.d(b,{base16:()=>Ft,base16upper:()=>mn});var P={};_.r(P),_.d(P,{base2:()=>Vn});var H={};_.r(H),_.d(H,{base256emoji:()=>Ln});var w={};_.r(w),_.d(w,{base32:()=>at,base32hex:()=>En,base32hexpad:()=>er,base32hexpadupper:()=>mr,base32hexupper:()=>zn,base32pad:()=>ct,base32padupper:()=>Yt,base32upper:()=>He,base32z:()=>Lr});var O={};_.r(O),_.d(O,{base36:()=>Pr,base36upper:()=>Kr});var S={};_.r(S),_.d(S,{base58btc:()=>Fr,base58flickr:()=>di});var B={};_.r(B),_.d(B,{base64:()=>on,base64pad:()=>wn,base64url:()=>Tn,base64urlpad:()=>Hn});var N={};_.r(N),_.d(N,{base8:()=>Gn});var U={};_.r(U),_.d(U,{identity:()=>_r});var A={};_.r(A),_.d(A,{code:()=>Ii,decode:()=>li,encode:()=>Mo,name:()=>jr});var G={};_.r(G),_.d(G,{code:()=>wo,decode:()=>vi,encode:()=>Ro,name:()=>go});var L={};_.r(L),_.d(L,{identity:()=>es});var z={};_.r(z),_.d(z,{sha256:()=>Vs,sha512:()=>Do});var ee={};_.r(ee),_.d(ee,{Authorization:()=>Mu,AuthorizationDelegatedGrant:()=>$i,AuthorizationOwner:()=>xi,Definitions:()=>xe,EventsFilter:()=>An,EventsGet:()=>ti,EventsQuery:()=>ts,EventsSubscribe:()=>rt,GeneralJwk:()=>Mt,GeneralJws:()=>In,GenericSignaturePayload:()=>sr,JwkVerificationMethod:()=>Ie,MessagesGet:()=>ye,NumberRangeFilter:()=>ht,PaginationCursor:()=>vn,PermissionGrantData:()=>dt,PermissionRequestData:()=>qr,PermissionRevocationData:()=>lc,PermissionsDefinitions:()=>zp,PermissionsScopes:()=>ob,ProtocolDefinition:()=>sb,ProtocolRuleSet:()=>iS,ProtocolsConfigure:()=>oS,ProtocolsQuery:()=>sS,PublicJwk:()=>_n,RecordsDelete:()=>Wa,RecordsFilter:()=>sn,RecordsQuery:()=>Vp,RecordsRead:()=>Qe,RecordsSubscribe:()=>Yy,RecordsWrite:()=>hd,RecordsWriteDataEncoded:()=>St,RecordsWriteSignaturePayload:()=>Ui,RecordsWriteUnidentified:()=>$t,StringRangeFilter:()=>Ql});var q={};_.r(q),_.d(q,{code:()=>Mb,decode:()=>Bk,encode:()=>Rk,name:()=>NS});var Z={};_.r(Z),_.d(Z,{code:()=>lT,createLink:()=>dT,createNode:()=>y8,decode:()=>E0,encode:()=>ep,name:()=>i3,prepare:()=>Qh,validate:()=>fE});var J={};_.r(J),_.d(J,{base10:()=>l3});var se={};_.r(se),_.d(se,{base16:()=>u3,base16upper:()=>E8});var ce={};_.r(ce),_.d(ce,{base2:()=>ew});var ae={};_.r(ae),_.d(ae,{base256emoji:()=>f3});var fe={};_.r(fe),_.d(fe,{base32:()=>kg,base32hex:()=>ih,base32hexpad:()=>y3,base32hexpadupper:()=>g3,base32hexupper:()=>S0,base32pad:()=>p3,base32padupper:()=>m3,base32upper:()=>h3,base32z:()=>v3});var he={};_.r(he),_.d(he,{base36:()=>b3,base36upper:()=>w3});var we={};_.r(we),_.d(we,{base58btc:()=>oh,base58flickr:()=>ST});var Me={};_.r(Me),_.d(Me,{base64:()=>_3,base64pad:()=>E3,base64url:()=>x3,base64urlpad:()=>M3});var Pe={};_.r(Pe),_.d(Pe,{base8:()=>nw});var C={};_.r(C),_.d(C,{identity:()=>sh});var a={};_.r(a),_.d(a,{code:()=>DT,decode:()=>M8,encode:()=>x8,name:()=>AT});var d={};_.r(d),_.d(d,{code:()=>xE,decode:()=>T8,encode:()=>ME,name:()=>S8});var m={};_.r(m),_.d(m,{identity:()=>N3});var p={};_.r(p),_.d(p,{sha256:()=>L3,sha512:()=>RE});var E={};_.r(E),_.d(E,{code:()=>Ng,decode:()=>pw,encode:()=>B8,name:()=>XT});var D={};_.r(D),_.d(D,{base10:()=>$g});var R={};_.r(R),_.d(R,{base16:()=>s2,base16upper:()=>Aw});var x={};_.r(x),_.d(x,{base2:()=>MA});var s={};_.r(s),_.d(s,{base256emoji:()=>AA});var v={};_.r(v),_.d(v,{base32:()=>O0,base32hex:()=>O6,base32hexpad:()=>R6,base32hexpadupper:()=>B6,base32hexupper:()=>zg,base32pad:()=>k6,base32padupper:()=>P6,base32upper:()=>DA,base32z:()=>N6});var $={};_.r($),_.d($,{base36:()=>Dw,base36upper:()=>IA});var F={};_.r(F),_.d(F,{base58btc:()=>vf,base58flickr:()=>CA});var Q={};_.r(Q),_.d(Q,{base64:()=>U6,base64pad:()=>kA,base64url:()=>a2,base64urlpad:()=>Iw});var de={};_.r(de),_.d(de,{base8:()=>L6});var De={};_.r(De),_.d(De,{identity:()=>K6});var Re={};_.r(Re),_.d(Re,{code:()=>V6,decode:()=>Hg,encode:()=>c2,name:()=>$6});var Ve={};_.r(Ve),_.d(Ve,{code:()=>OA,decode:()=>Wg,encode:()=>z6,name:()=>PA});var Ee={};_.r(Ee),_.d(Ee,{identity:()=>jA});var _e={};_.r(_e),_.d(_e,{sha256:()=>o5,sha512:()=>s5});var Fe=_(49970),ve=_(14725);const Te=new TextEncoder,ge=new TextDecoder;class me{static base64UrlToBytes(t){return ve.r0.baseDecode(t)}static base64UrlToObject(t){const n=ve.r0.baseDecode(t);return me.bytesToObject(n)}static bytesToBase64Url(t){return ve.r0.baseEncode(t)}static bytesToString(t){return ge.decode(t)}static bytesToObject(t){const n=me.bytesToString(t);return JSON.parse(n)}static objectToBytes(t){const n=JSON.stringify(t);return Te.encode(n)}static stringToBase64Url(t){const n=Te.encode(t);return ve.r0.baseEncode(n)}static stringToBytes(t){return Te.encode(t)}}var te=_(63741);class ne extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DwnError"}}var le=function(r){return r.AuthenticateJwsMissing="AuthenticateJwsMissing",r.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",r.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",r.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",r.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",r.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",r.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",r.DidMethodNotSupported="DidMethodNotSupported",r.DidNotString="DidNotString",r.DidNotValid="DidNotValid",r.DidResolutionFailed="DidResolutionFailed",r.Ed25519InvalidJwk="Ed25519InvalidJwk",r.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",r.EventsSubscribeEventStreamUnimplemented="EventsSubscribeEventStreamUnimplemented",r.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",r.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",r.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",r.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",r.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",r.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",r.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",r.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",r.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",r.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",r.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",r.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",r.IndexInvalidCursorValueType="IndexInvalidCursorValueType",r.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",r.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",r.IndexMissingIndexableProperty="IndexMissingIndexableProperty",r.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",r.MessageGetInvalidCid="MessageGetInvalidCid",r.ParseCidCodecNotSupported="ParseCidCodecNotSupported",r.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",r.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",r.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",r.PermissionsProtocolValidateScopeSchemaProhibitedProperties="PermissionsProtocolValidateScopeSchemaProhibitedProperties",r.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",r.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",r.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",r.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",r.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",r.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",r.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",r.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",r.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",r.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",r.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",r.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",r.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",r.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",r.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",r.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",r.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",r.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",r.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",r.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",r.ProtocolAuthorizationQueryWithoutRole="ProtocolAuthorizationQueryWithoutRole",r.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",r.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",r.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",r.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",r.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",r.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",r.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",r.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",r.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",r.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",r.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",r.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",r.ProtocolsConfigureQueryNotAllowed="ProtocolsConfigureQueryNotAllowed",r.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",r.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",r.ProtocolsConfigureUnauthorized="ProtocolsConfigureUnauthorized",r.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",r.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",r.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",r.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",r.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",r.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",r.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",r.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",r.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",r.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",r.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",r.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",r.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",r.RecordsGrantAuthorizationScopeMissingProtocol="RecordsGrantAuthorizationScopeMissingProtocol",r.RecordsGrantAuthorizationScopeNotRecords="RecordsGrantAuthorizationScopeNotRecords",r.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",r.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",r.RecordsGrantAuthorizationScopeSchema="RecordsGrantAuthorizationScopeSchema",r.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",r.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",r.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",r.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",r.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",r.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",r.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",r.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",r.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",r.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",r.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",r.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",r.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",r.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",r.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",r.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",r.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",r.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",r.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",r.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",r.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",r.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",r.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",r.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",r.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",r.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",r.RecordsWriteMissingSigner="RecordsWriteMissingSigner",r.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",r.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",r.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",r.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",r.RecordsWriteMissingSchema="RecordsWriteMissingSchema",r.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",r.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",r.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",r.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",r.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",r.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",r.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",r.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",r.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",r.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",r.SchemaValidatorFailure="SchemaValidatorFailure",r.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",r.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",r.Secp256k1KeyNotValid="Secp256k1KeyNotValid",r.Secp256r1KeyNotValid="Secp256r1KeyNotValid",r.TimestampInvalid="TimestampInvalid",r.UrlProtocolNotNormalized="UrlProtocolNotNormalized",r.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",r.UrlSchemaNotNormalized="UrlSchemaNotNormalized",r.UrlSchemaNotNormalizable="UrlSchemaNotNormalizable",r}(le||{}),Ae=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function Be(r){if("OKP"!==r.kty||"Ed25519"!==r.crv)throw new ne(le.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function qe(r){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:me.bytesToBase64Url(r)}}const ze={sign:(r,t)=>Ae(void 0,void 0,void 0,function*(){Be(t);const n=me.base64UrlToBytes(t.d);return te.wJ(r,n)}),verify:(r,t,n)=>Ae(void 0,void 0,void 0,function*(){Be(n);const i=me.base64UrlToBytes(n.x);return te.kv(t,r,i)}),generateKeyPair:()=>Ae(void 0,void 0,void 0,function*(){const r=te.Wp.randomPrivateKey(),t=yield te.Rn(r),n=me.bytesToBase64Url(r),i=qe(t);return{publicJwk:i,privateJwk:Object.assign(Object.assign({},i),{d:n})}}),publicKeyToJwk:r=>Ae(void 0,void 0,void 0,function*(){return qe(r)})};var Dt=_(68464),Xe=_(10467),Ue=_(92059);const mt=r=>function(){var t=(0,Xe.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),K=(0,Ue.H)({name:"sha2-256",code:18,encode:mt("SHA-256")});(0,Ue.H)({name:"sha2-512",code:19,encode:mt("SHA-512")});var M=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class pe{static validateKey(t){if("EC"!==t.kty||"secp256k1"!==t.crv)throw new ne(le.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(t){return M(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?Dt.CB.fromHex(t).toRawBytes(!1):t,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:me.bytesToBase64Url(n.subarray(1,33)),y:me.bytesToBase64Url(n.subarray(33,65))}})}static privateKeyToJwk(t){return M(this,void 0,void 0,function*(){const n=yield pe.getPublicKey(t),i=yield pe.publicKeyToJwk(n);return i.d=me.bytesToBase64Url(t),i})}static publicJwkToBytes(t){const n=me.base64UrlToBytes(t.x),i=me.base64UrlToBytes(t.y);return Dt.CB.fromAffine({x:Dt.jn.bytesToNumberBE(n),y:Dt.jn.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(t){return me.base64UrlToBytes(t.d)}static sign(t,n){return M(this,void 0,void 0,function*(){pe.validateKey(n);const i=yield K.encode(t),u=pe.privateJwkToBytes(n);return(yield Dt.wJ(i,u)).toCompactRawBytes()})}static verify(t,n,i){return M(this,void 0,void 0,function*(){pe.validateKey(i);const u=pe.publicJwkToBytes(i),h=yield K.encode(t);return Dt.MX(n,h,u)})}static generateKeyPair(){return M(this,void 0,void 0,function*(){const t=Dt.Wp.randomPrivateKey(),n=Dt.lG(t,!1),i=me.bytesToBase64Url(t),u=yield pe.publicKeyToJwk(n);return{publicJwk:u,privateJwk:Object.assign(Object.assign({},u),{d:i})}})}static generateKeyPairRaw(){return M(this,void 0,void 0,function*(){const t=Dt.Wp.randomPrivateKey();return{publicKey:Dt.lG(t,!0),privateKey:t}})}static getPublicKey(t){return M(this,void 0,void 0,function*(){return Dt.lG(t,!0)})}static getPublicJwk(t){return M(this,void 0,void 0,function*(){return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"])})}}var ke=_(40499);function Ne(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}const Cn=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class ut{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Gt{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return pn(this,t)}}class nn{constructor(t){this.decoders=t}or(t){return pn(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const pn=(r,t)=>new nn({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class fr{constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new ut(t,n,i),this.decoder=new Gt(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const yt=({name:r,prefix:t,encode:n,decode:i})=>new fr(r,t,n,i),wt=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:u}=function lt(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var tt=0;if(" "!==Ke[tt]){for(var bt=0,kt=0;Ke[tt]===X;)bt++,tt++;for(var _t=(Ke.length-tt)*W+1>>>0,xt=new Uint8Array(_t);Ke[tt];){var Nt=n[Ke.charCodeAt(tt)];if(255===Nt)return;for(var Xt=0,qt=_t-1;(0!==Nt||Xt<kt)&&-1!==qt;qt--,Xt++)xt[qt]=(Nt+=f*xt[qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");kt=Xt,tt++}if(" "!==Ke[tt]){for(var un=_t-kt;un!==_t&&0===xt[un];)un++;for(var Ht=new Uint8Array(bt+(_t-un)),Sn=bt;un!==_t;)Ht[Sn++]=xt[un++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var tt=0,bt=0,kt=0,_t=Ke.length;kt!==_t&&0===Ke[kt];)kt++,tt++;for(var xt=(_t-kt)*k+1>>>0,Nt=new Uint8Array(xt);kt!==_t;){for(var Xt=Ke[kt],qt=0,un=xt-1;(0!==Xt||qt<bt)&&-1!==un;un--,qt++)Nt[un]=(Xt+=256*Nt[un]>>>0)%f>>>0,Xt=Xt/f>>>0;if(0!==Xt)throw new Error("Non-zero carry");bt=qt,kt++}for(var Ht=xt-bt;Ht!==xt&&0===Nt[Ht];)Ht++;for(var Sn=X.repeat(tt);Ht<xt;++Ht)Sn+=r.charAt(Nt[Ht]);return Sn},decodeUnsafe:Oe,decode:function je(Ke){var tt=Oe(Ke);if(tt)return tt;throw new Error(`Non-${t} character`)}}}(n,t);return yt({prefix:r,name:t,encode:i,decode:h=>Cn(u(h))})},et=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>yt({prefix:t,name:r,encode:u=>((r,t,n)=>{const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h})(u,i,n),decode:u=>((r,t,n,i)=>{const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l})(u,i,n,r)}),Wt=wt({prefix:"9",name:"base10",alphabet:"0123456789"}),Ft=et({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),mn=et({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Vn=et({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),bn=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Mn=bn.reduce((r,t,n)=>(r[n]=t,r),[]),br=bn.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),Ln=yt({prefix:"\u{1f680}",name:"base256emoji",encode:function or(r){return r.reduce((t,n)=>t+Mn[n],"")},decode:function Nn(r){const t=[];for(const n of r){const i=br[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),at=et({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),He=et({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ct=et({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Yt=et({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),En=et({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zn=et({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),er=et({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),mr=et({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Lr=et({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Pr=wt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Kr=wt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Fr=wt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),di=wt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),on=et({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wn=et({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Tn=et({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Hn=et({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Gn=et({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),_r=yt({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),Mr=new TextEncoder,$r=new TextDecoder,jr="json",Ii=512,Mo=r=>Mr.encode(JSON.stringify(r)),li=r=>JSON.parse($r.decode(r)),go="raw",wo=85,Ro=r=>Cn(r),vi=r=>Cn(r);var ji=128,Pi=-128,xn=Math.pow(2,31),ri=Math.pow(2,7),vs=Math.pow(2,14),as=Math.pow(2,21),Ya=Math.pow(2,28),ao=Math.pow(2,35),Lo=Math.pow(2,42),Co=Math.pow(2,49),_o=Math.pow(2,56),vl=Math.pow(2,63);const Hc_encode=function wr(r,t,n){t=t||[];for(var i=n=n||0;r>=xn;)t[n++]=255&r|ji,r/=128;for(;r&Pi;)t[n++]=255&r|ji,r>>>=7;return t[n]=0|r,wr.bytes=n-i+1,t},Hc_encodingLength=function(r){return r<ri?1:r<vs?2:r<as?3:r<Ya?4:r<ao?5:r<Lo?6:r<Co?7:r<_o?8:r<vl?9:10},aa=(r,t,n=0)=>(Hc_encode(r,t,n),t),oc=r=>Hc_encodingLength(r),Ji=(r,t)=>{const n=t.byteLength,i=oc(r),u=i+oc(n),h=new Uint8Array(u+n);return aa(r,h,0),aa(n,h,i),h.set(t,u),new Ia(r,n,t,h)};class Ia{constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}const Wc=Cn,es={code:0,name:"identity",encode:Wc,digest:r=>Ji(0,Wc(r))},Gc=({name:r,code:t,encode:n})=>new Xo(r,t,n);class Xo{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Ji(this.code,n):n.then(i=>Ji(this.code,i))}throw Error("Unknown type, must be binary type")}}const kr=r=>function(){var t=(0,Xe.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),Vs=Gc({name:"sha2-256",code:18,encode:kr("SHA-256")}),Do=Gc({name:"sha2-512",code:19,encode:kr("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const ud={...U,...P,...N,...y,...b,...w,...O,...S,...B,...H};function xc(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const _a=xc("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Ca=xc("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=function Fo(r=0){return null!=globalThis.Buffer?.allocUnsafe?Ne(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),Lt={utf8:_a,"utf-8":_a,hex:ud.base16,latin1:Ca,ascii:Ca,binary:Ca,...ud};function At(r,t="utf8"){const n=Lt[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${r}`):Ne(globalThis.Buffer.from(r,"utf-8"))}var fn=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const yn_toString=function Tt(r,t="utf8"){const n=Lt[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(r).substring(1):globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8")};class On{static validateKey(t){if("EC"!==t.kty||"P-256"!==t.crv)throw new ne(le.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(t){return fn(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?ke.s9.ProjectivePoint.fromHex(t).toRawBytes(!1):t,{alg:"ES256",kty:"EC",crv:"P-256",x:me.bytesToBase64Url(n.subarray(1,33)),y:me.bytesToBase64Url(n.subarray(33,65))}})}static privateJwkToBytes(t){return me.base64UrlToBytes(t.d)}static sign(t,n){return fn(this,void 0,void 0,function*(){On.validateKey(n);const i=yield K.encode(t),u=On.privateJwkToBytes(n);return Promise.resolve(ke.s9.sign(i,u).toCompactRawBytes())})}static verify(t,n,i){return fn(this,void 0,void 0,function*(){let u;On.validateKey(i),u=64===n.length?ke.s9.Signature.fromCompact(n):ke.s9.Signature.fromDER(n);const h=yield K.encode(t),l=ke.s9.ProjectivePoint.fromAffine({x:On.bytesToBigInt(me.base64UrlToBytes(i.x)),y:On.bytesToBigInt(me.base64UrlToBytes(i.y))}).toRawBytes(!1);return ke.s9.verify(u,h,l)})}static generateKeyPair(){return fn(this,void 0,void 0,function*(){const t=ke.s9.utils.randomPrivateKey(),n=ke.Ag.getPublicKey(t,!1),i=me.bytesToBase64Url(t),u=yield On.publicKeyToJwk(n);return{publicJwk:u,privateJwk:Object.assign(Object.assign({},u),{d:i})}})}static bytesToBigInt(t){return BigInt("0x"+yn_toString(t,"base16"))}}const lr={Ed25519:ze,secp256k1:{sign:pe.sign,verify:pe.verify,generateKeyPair:pe.generateKeyPair,publicKeyToJwk:pe.publicKeyToJwk},"P-256":{sign:On.sign,verify:On.verify,generateKeyPair:On.generateKeyPair,publicKeyToJwk:On.publicKeyToJwk}};class Sr{constructor(t){var n,i;if(void 0===t.keyId&&void 0===t.privateJwk.kid)throw new ne(le.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===t.algorithm&&void 0===t.privateJwk.alg)throw new ne(le.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(n=t.keyId)&&void 0!==n?n:t.privateJwk.kid,this.algorithm=null!==(i=t.algorithm)&&void 0!==i?i:t.privateJwk.alg,this.privateJwk=t.privateJwk,this.signatureAlgorithm=lr[t.privateJwk.crv],!this.signatureAlgorithm)throw new ne(le.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${t.privateJwk.crv}, crv must be one of ${Object.keys(lr)}`)}sign(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(t,this.privateJwk)})}}class dr{static getKid(t){const{kid:n}=me.base64UrlToObject(t.protected);return n}static getSignerDid(t){const n=dr.getKid(t);return dr.extractDid(n)}static verifySignature(t,n,i){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const u=lr[i.crv];if(!u)throw new ne(le.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(lr)}`);const h=me.stringToBytes(`${n.protected}.${t}`),l=me.base64UrlToBytes(n.signature);return yield u.verify(h,l,i)})}static decodePlainObjectPayload(t){let n;try{n=me.base64UrlToObject(t.payload)}catch{throw new ne(le.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!Fe(n))throw new ne(le.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return n}static extractDid(t){const[n]=t.split("#");return n}static createSigners(t){return t.map(i=>dr.createSigner(i))}static createSigner(t){return new Sr({privateJwk:t.keyPair.privateJwk,keyId:t.keyId})}}var us=_(40573);const da="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,ac=new Set,Ls="object"==typeof us&&us?us:{},Rt=(r,t,n,i)=>{"function"==typeof Ls.emitWarning?Ls.emitWarning(r,t,n,i):console.error(`[${n}] ${t}: ${r}`)};let Ot=globalThis.AbortController,gt=globalThis.AbortSignal;if(typeof Ot>"u"){gt=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,u){this._onabort.push(u)}},Ot=class{constructor(){t()}signal=new gt;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const u of this.signal._onabort)u(i);this.signal.onabort?.(i)}}};let r="1"!==Ls.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{r&&(r=!1,Rt("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const Jr=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),ho=r=>Jr(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?To:null:null;class To extends Array{constructor(t){super(t),this.fill(0)}}class Qs{heap;length;static#e=!1;static create(t){const n=ho(t);if(!n)return[];Qs.#e=!0;const i=new Qs(t,n);return Qs.#e=!1,i}constructor(t,n){if(!Qs.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class fd{#e;#t;#n;#f;#T;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#y;#a;#o;#r;#u;#p;#l;#c;#g;#d;#E;#x;#v;#b;#S;#h;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#v,sizes:t.#E,keyMap:t.#a,keyList:t.#o,valList:t.#r,next:t.#u,prev:t.#p,get head(){return t.#l},get tail(){return t.#c},free:t.#g,isBackgroundFetch:n=>t.#i(n),backgroundFetch:(n,i,u,h)=>t.#P(n,i,u,h),moveToTail:n=>t.#I(n),indexes:n=>t.#w(n),rindexes:n=>t.#_(n),isStale:n=>t.#m(n)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#y}get size(){return this.#s}get fetchMethod(){return this.#T}get dispose(){return this.#n}get disposeAfter(){return this.#f}constructor(t){const{max:n=0,ttl:i,ttlResolution:u=1,ttlAutopurge:h,updateAgeOnGet:l,updateAgeOnHas:f,allowStale:X,dispose:W,disposeAfter:k,noDisposeOnSet:re,noUpdateTTL:Oe,maxSize:je=0,maxEntrySize:Ke=0,sizeCalculation:tt,fetchMethod:bt,noDeleteOnFetchRejection:kt,noDeleteOnStaleGet:_t,allowStaleOnFetchRejection:xt,allowStaleOnFetchAbort:Nt,ignoreFetchAbort:Xt}=t;if(0!==n&&!Jr(n))throw new TypeError("max option must be a nonnegative integer");const qt=n?ho(n):Array;if(!qt)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=je,this.maxEntrySize=Ke||this.#t,this.sizeCalculation=tt,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==bt&&"function"!=typeof bt)throw new TypeError("fetchMethod must be a function if specified");if(this.#T=bt,this.#S=!!bt,this.#a=new Map,this.#o=new Array(n).fill(void 0),this.#r=new Array(n).fill(void 0),this.#u=new qt(n),this.#p=new qt(n),this.#l=0,this.#c=0,this.#g=Qs.create(n),this.#s=0,this.#y=0,"function"==typeof W&&(this.#n=W),"function"==typeof k?(this.#f=k,this.#d=[]):(this.#f=void 0,this.#d=void 0),this.#b=!!this.#n,this.#h=!!this.#f,this.noDisposeOnSet=!!re,this.noUpdateTTL=!!Oe,this.noDeleteOnFetchRejection=!!kt,this.allowStaleOnFetchRejection=!!xt,this.allowStaleOnFetchAbort=!!Nt,this.ignoreFetchAbort=!!Xt,0!==this.maxEntrySize){if(0!==this.#t&&!Jr(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Jr(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#L()}if(this.allowStale=!!X,this.noDeleteOnStaleGet=!!_t,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!f,this.ttlResolution=Jr(u)||0===u?u:1,this.ttlAutopurge=!!h,this.ttl=i||0,this.ttl){if(!Jr(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#O()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const un="LRU_CACHE_UNBOUNDED";!ac.has(un)&&(ac.add(un),Rt("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",un,fd))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#O(){const t=new To(this.#e),n=new To(this.#e);this.#v=t,this.#x=n,this.#R=(h,l,f=da.now())=>{if(n[h]=0!==l?f:0,t[h]=l,0!==l&&this.ttlAutopurge){const X=setTimeout(()=>{this.#m(h)&&this.delete(this.#o[h])},l+1);X.unref&&X.unref()}},this.#A=h=>{n[h]=0!==t[h]?da.now():0},this.#M=(h,l)=>{if(t[l]){const f=t[l],X=n[l];h.ttl=f,h.start=X,h.now=i||u(),h.remainingTTL=f-(h.now-X)}};let i=0;const u=()=>{const h=da.now();if(this.ttlResolution>0){i=h;const l=setTimeout(()=>i=0,this.ttlResolution);l.unref&&l.unref()}return h};this.getRemainingTTL=h=>{const l=this.#a.get(h);if(void 0===l)return 0;const f=t[l],X=n[l];return 0===f||0===X?1/0:f-((i||u())-X)},this.#m=h=>0!==t[h]&&0!==n[h]&&(i||u())-n[h]>t[h]}#A=()=>{};#M=()=>{};#R=()=>{};#m=()=>!1;#L(){const t=new To(this.#e);this.#y=0,this.#E=t,this.#D=n=>{this.#y-=t[n],t[n]=0},this.#B=(n,i,u,h)=>{if(this.#i(i))return 0;if(!Jr(u)){if(!h)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof h)throw new TypeError("sizeCalculation must be a function");if(u=h(i,n),!Jr(u))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return u},this.#C=(n,i,u)=>{if(t[n]=i,this.#t){const h=this.#t-t[n];for(;this.#y>h;)this.#k(!0)}this.#y+=t[n],u&&(u.entrySize=i,u.totalCalculatedSize=this.#y)}}#D=t=>{};#C=(t,n,i)=>{};#B=(t,n,i,u)=>{if(i||u)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#c;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#l);)n=this.#p[n]}*#_({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#l;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#c);)n=this.#u[n]}#N(t){return void 0!==t&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#w())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*rentries(){for(const t of this.#_())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*keys(){for(const t of this.#w()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*rkeys(){for(const t of this.#_()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*values(){for(const t of this.#w())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#_())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const i of this.#w()){const u=this.#r[i],h=this.#i(u)?u.__staleWhileFetching:u;if(void 0!==h&&t(h,this.#o[i],this))return this.get(this.#o[i],n)}}forEach(t,n=this){for(const i of this.#w()){const u=this.#r[i],h=this.#i(u)?u.__staleWhileFetching:u;void 0!==h&&t.call(n,h,this.#o[i],this)}}rforEach(t,n=this){for(const i of this.#_()){const u=this.#r[i],h=this.#i(u)?u.__staleWhileFetching:u;void 0!==h&&t.call(n,h,this.#o[i],this)}}purgeStale(){let t=!1;for(const n of this.#_({allowStale:!0}))this.#m(n)&&(this.delete(this.#o[n]),t=!0);return t}dump(){const t=[];for(const n of this.#w({allowStale:!0})){const i=this.#o[n],u=this.#r[n],h=this.#i(u)?u.__staleWhileFetching:u;if(void 0===h||void 0===i)continue;const l={value:h};if(this.#v&&this.#x){l.ttl=this.#v[n];const f=da.now()-this.#x[n];l.start=Math.floor(Date.now()-f)}this.#E&&(l.size=this.#E[n]),t.unshift([i,l])}return t}load(t){this.clear();for(const[n,i]of t){if(i.start){const u=Date.now()-i.start;i.start=da.now()-u}this.set(n,i.value,i)}}set(t,n,i={}){if(void 0===n)return this.delete(t),this;const{ttl:u=this.ttl,start:h,noDisposeOnSet:l=this.noDisposeOnSet,sizeCalculation:f=this.sizeCalculation,status:X}=i;let{noUpdateTTL:W=this.noUpdateTTL}=i;const k=this.#B(t,n,i.size||0,f);if(this.maxEntrySize&&k>this.maxEntrySize)return X&&(X.set="miss",X.maxEntrySizeExceeded=!0),this.delete(t),this;let re=0===this.#s?void 0:this.#a.get(t);if(void 0===re)re=0===this.#s?this.#c:0!==this.#g.length?this.#g.pop():this.#s===this.#e?this.#k(!1):this.#s,this.#o[re]=t,this.#r[re]=n,this.#a.set(t,re),this.#u[this.#c]=re,this.#p[re]=this.#c,this.#c=re,this.#s++,this.#C(re,k,X),X&&(X.set="add"),W=!1;else{this.#I(re);const Oe=this.#r[re];if(n!==Oe){if(this.#S&&this.#i(Oe)?Oe.__abortController.abort(new Error("replaced")):l||(this.#b&&this.#n?.(Oe,t,"set"),this.#h&&this.#d?.push([Oe,t,"set"])),this.#D(re),this.#C(re,k,X),this.#r[re]=n,X){X.set="replace";const je=Oe&&this.#i(Oe)?Oe.__staleWhileFetching:Oe;void 0!==je&&(X.oldValue=je)}}else X&&(X.set="update")}if(0!==u&&!this.#v&&this.#O(),this.#v&&(W||this.#R(re,u,h),X&&this.#M(X,re)),!l&&this.#h&&this.#d){const Oe=this.#d;let je;for(;je=Oe?.shift();)this.#f?.(...je)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#l];if(this.#k(!0),this.#i(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#h&&this.#d){const t=this.#d;let n;for(;n=t?.shift();)this.#f?.(...n)}}}#k(t){const n=this.#l,i=this.#o[n],u=this.#r[n];return this.#S&&this.#i(u)?u.__abortController.abort(new Error("evicted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(u,i,"evict"),this.#h&&this.#d?.push([u,i,"evict"])),this.#D(n),t&&(this.#o[n]=void 0,this.#r[n]=void 0,this.#g.push(n)),1===this.#s?(this.#l=this.#c=0,this.#g.length=0):this.#l=this.#u[n],this.#a.delete(i),this.#s--,n}has(t,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:u}=n,h=this.#a.get(t);if(void 0!==h){const l=this.#r[h];if(this.#i(l)&&void 0===l.__staleWhileFetching)return!1;if(!this.#m(h))return i&&this.#A(h),u&&(u.has="hit",this.#M(u,h)),!0;u&&(u.has="stale",this.#M(u,h))}else u&&(u.has="miss");return!1}peek(t,n={}){const{allowStale:i=this.allowStale}=n,u=this.#a.get(t);if(void 0!==u&&(i||!this.#m(u))){const h=this.#r[u];return this.#i(h)?h.__staleWhileFetching:h}}#P(t,n,i,u){const h=void 0===n?void 0:this.#r[n];if(this.#i(h))return h;const l=new Ot,{signal:f}=i;f?.addEventListener("abort",()=>l.abort(f.reason),{signal:l.signal});const X={signal:l.signal,options:i,context:u},W=(tt,bt=!1)=>{const{aborted:kt}=l.signal,_t=i.ignoreFetchAbort&&void 0!==tt;return i.status&&(kt&&!bt?(i.status.fetchAborted=!0,i.status.fetchError=l.signal.reason,_t&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!kt||_t||bt?(this.#r[n]===je&&(void 0===tt?je.__staleWhileFetching?this.#r[n]=je.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,tt,X.options))),tt):re(l.signal.reason)},re=tt=>{const{aborted:bt}=l.signal,kt=bt&&i.allowStaleOnFetchAbort,_t=kt||i.allowStaleOnFetchRejection,Nt=je;if(this.#r[n]===je&&((_t||i.noDeleteOnFetchRejection)&&void 0!==Nt.__staleWhileFetching?kt||(this.#r[n]=Nt.__staleWhileFetching):this.delete(t)),_t)return i.status&&void 0!==Nt.__staleWhileFetching&&(i.status.returnedStale=!0),Nt.__staleWhileFetching;if(Nt.__returned===Nt)throw tt};i.status&&(i.status.fetchDispatched=!0);const je=new Promise((tt,bt)=>{const kt=this.#T?.(t,h,X);kt&&kt instanceof Promise&&kt.then(_t=>tt(_t),bt),l.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(tt(),i.allowStaleOnFetchAbort&&(tt=_t=>W(_t,!0)))})}).then(W,tt=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=tt),re(tt))),Ke=Object.assign(je,{__abortController:l,__staleWhileFetching:h,__returned:void 0});return void 0===n?(this.set(t,Ke,{...X.options,status:void 0}),n=this.#a.get(t)):this.#r[n]=Ke,Ke}#i(t){if(!this.#S)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof Ot}fetch(t,n={}){var i=this;return(0,Xe.A)(function*(){const{allowStale:u=i.allowStale,updateAgeOnGet:h=i.updateAgeOnGet,noDeleteOnStaleGet:l=i.noDeleteOnStaleGet,ttl:f=i.ttl,noDisposeOnSet:X=i.noDisposeOnSet,size:W=0,sizeCalculation:k=i.sizeCalculation,noUpdateTTL:re=i.noUpdateTTL,noDeleteOnFetchRejection:Oe=i.noDeleteOnFetchRejection,allowStaleOnFetchRejection:je=i.allowStaleOnFetchRejection,ignoreFetchAbort:Ke=i.ignoreFetchAbort,allowStaleOnFetchAbort:tt=i.allowStaleOnFetchAbort,context:bt,forceRefresh:kt=!1,status:_t,signal:xt}=n;if(!i.#S)return _t&&(_t.fetch="get"),i.get(t,{allowStale:u,updateAgeOnGet:h,noDeleteOnStaleGet:l,status:_t});const Nt={allowStale:u,updateAgeOnGet:h,noDeleteOnStaleGet:l,ttl:f,noDisposeOnSet:X,size:W,sizeCalculation:k,noUpdateTTL:re,noDeleteOnFetchRejection:Oe,allowStaleOnFetchRejection:je,allowStaleOnFetchAbort:tt,ignoreFetchAbort:Ke,status:_t,signal:xt};let Xt=i.#a.get(t);if(void 0===Xt){_t&&(_t.fetch="miss");const qt=i.#P(t,Xt,Nt,bt);return qt.__returned=qt}{const qt=i.#r[Xt];if(i.#i(qt)){const Yn=u&&void 0!==qt.__staleWhileFetching;return _t&&(_t.fetch="inflight",Yn&&(_t.returnedStale=!0)),Yn?qt.__staleWhileFetching:qt.__returned=qt}const un=i.#m(Xt);if(!kt&&!un)return _t&&(_t.fetch="hit"),i.#I(Xt),h&&i.#A(Xt),_t&&i.#M(_t,Xt),qt;const Ht=i.#P(t,Xt,Nt,bt),Jn=void 0!==Ht.__staleWhileFetching&&u;return _t&&(_t.fetch=un?"stale":"refresh",Jn&&un&&(_t.returnedStale=!0)),Jn?Ht.__staleWhileFetching:Ht.__returned=Ht}})()}get(t,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:u=this.updateAgeOnGet,noDeleteOnStaleGet:h=this.noDeleteOnStaleGet,status:l}=n,f=this.#a.get(t);if(void 0!==f){const X=this.#r[f],W=this.#i(X);return l&&this.#M(l,f),this.#m(f)?(l&&(l.get="stale"),W?(l&&i&&void 0!==X.__staleWhileFetching&&(l.returnedStale=!0),i?X.__staleWhileFetching:void 0):(h||this.delete(t),l&&i&&(l.returnedStale=!0),i?X:void 0)):(l&&(l.get="hit"),W?X.__staleWhileFetching:(this.#I(f),u&&this.#A(f),X))}l&&(l.get="miss")}#U(t,n){this.#p[n]=t,this.#u[t]=n}#I(t){t!==this.#c&&(t===this.#l?this.#l=this.#u[t]:this.#U(this.#p[t],this.#u[t]),this.#U(this.#c,t),this.#c=t)}delete(t){let n=!1;if(0!==this.#s){const i=this.#a.get(t);if(void 0!==i)if(n=!0,1===this.#s)this.clear();else{this.#D(i);const u=this.#r[i];this.#i(u)?u.__abortController.abort(new Error("deleted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(u,t,"delete"),this.#h&&this.#d?.push([u,t,"delete"])),this.#a.delete(t),this.#o[i]=void 0,this.#r[i]=void 0,i===this.#c?this.#c=this.#p[i]:i===this.#l?this.#l=this.#u[i]:(this.#u[this.#p[i]]=this.#u[i],this.#p[this.#u[i]]=this.#p[i]),this.#s--,this.#g.push(i)}}if(this.#h&&this.#d?.length){const i=this.#d;let u;for(;u=i?.shift();)this.#f?.(...u)}return n}clear(){for(const t of this.#_({allowStale:!0})){const n=this.#r[t];if(this.#i(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#o[t];this.#b&&this.#n?.(n,i,"delete"),this.#h&&this.#d?.push([n,i,"delete"])}}if(this.#a.clear(),this.#r.fill(void 0),this.#o.fill(void 0),this.#v&&this.#x&&(this.#v.fill(0),this.#x.fill(0)),this.#E&&this.#E.fill(0),this.#l=0,this.#c=0,this.#g.length=0,this.#y=0,this.#s=0,this.#h&&this.#d){const t=this.#d;let n;for(;n=t?.shift();)this.#f?.(...n)}}}var la=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class xu{constructor(t){this.timeToLiveInSeconds=t,this.cache=new fd({max:1e5,ttl:1e3*t})}set(t,n){return la(this,void 0,void 0,function*(){try{this.cache.set(t,n)}catch{}})}get(t){return la(this,void 0,void 0,function*(){return this.cache.get(t)})}}const Mu=bs,Ea=new RegExp("^[A-Za-z0-9_-]+$","u");function Yo(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=Yo.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Yo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Oe=0;for(const je in r)if("payload"!==je&&"signatures"!==je)return Yo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(0===Oe){if(void 0!==r.payload){let je=r.payload;const Ke=0;if("string"!=typeof je)return Yo.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ea.test(je))return Yo.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var W=0===Ke}else W=!0;if(W)if(void 0!==r.signatures){let je=r.signatures;const Ke=0;if(0===Ke){if(!Array.isArray(je))return Yo.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(je.length<1)return Yo.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const bt=je.length;for(let kt=0;kt<bt;kt++){let _t=je[kt];const xt=0;if(0===xt){if(!_t||"object"!=typeof _t||Array.isArray(_t))return Yo.errors=[{instancePath:t+"/signatures/"+kt,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==_t.protected){let Xt=_t.protected;const qt=0;if("string"!=typeof Xt)return Yo.errors=[{instancePath:t+"/signatures/"+kt+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ea.test(Xt))return Yo.errors=[{instancePath:t+"/signatures/"+kt+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var re=0===qt}else re=!0;if(re)if(void 0!==_t.signature){let Xt=_t.signature;const qt=0;if("string"!=typeof Xt)return Yo.errors=[{instancePath:t+"/signatures/"+kt+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ea.test(Xt))return Yo.errors=[{instancePath:t+"/signatures/"+kt+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;re=0===qt}else re=!0}if(0!==xt)break}}}W=0===Ke}else W=!0}}return Yo.errors=null,!0}function bs(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=bs.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return bs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const W=f;for(const k in r)if("signature"!==k)return bs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;W===f&&void 0!==r.signature&&(Yo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:u,dynamicAnchors:h})||(l=null===l?Yo.errors:l.concat(Yo.errors),f=l.length))}}return bs.errors=l,0===f}Yo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},bs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $i=Zr,qa={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},ks=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),wl=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),Qu=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),Ks=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),xa={validate:Qa};function is(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=is.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return is.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const k=f;for(const re in r)if("signature"!==re&&"authorDelegatedGrant"!==re&&"ownerSignature"!==re&&"ownerDelegatedGrant"!==re)return is.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties"}],!1;if(k===f){let re;if(void 0!==r.ownerSignature&&void 0===r.signature&&(re="signature"))return is.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:re,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==r.signature){const Oe=f;Yo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:u,dynamicAnchors:h})||(l=null===l?Yo.errors:l.concat(Yo.errors),f=l.length);var W=Oe===f}else W=!0;if(W){if(void 0!==r.authorDelegatedGrant){const Oe=f;xa.validate(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:u,dynamicAnchors:h})||(l=null===l?xa.validate.errors:l.concat(xa.validate.errors),f=l.length),W=Oe===f}else W=!0;if(W){if(void 0!==r.ownerSignature){const Oe=f;Yo(r.ownerSignature,{instancePath:t+"/ownerSignature",parentData:r,parentDataProperty:"ownerSignature",rootData:u,dynamicAnchors:h})||(l=null===l?Yo.errors:l.concat(Yo.errors),f=l.length),W=Oe===f}else W=!0;if(W)if(void 0!==r.ownerDelegatedGrant){const Oe=f;xa.validate(r.ownerDelegatedGrant,{instancePath:t+"/ownerDelegatedGrant",parentData:r,parentDataProperty:"ownerDelegatedGrant",rootData:u,dynamicAnchors:h})||(l=null===l?xa.validate.errors:l.concat(xa.validate.errors),f=l.length),W=Oe===f}else W=!0}}}}}return is.errors=l,0===f}is.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Ha={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function Xi(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Xi.evaluated;X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0);const W=f,k=f;let re=!1,Oe=null;const je=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let jn;if(void 0===r.crv&&(jn="crv")||void 0===r.x&&(jn="x")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"};null===l?l=[Kn]:l.push(Kn),f++}else{if(void 0!==r.kty){const Kn=f;if("EC"!==r.kty){const Xn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),f++}var Ke=Kn===f}else Ke=!0;if(Ke){if(void 0!==r.crv){const Kn=f;if("string"!=typeof r.crv){const Dn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Ke=Kn===f}else Ke=!0;if(Ke){if(void 0!==r.x){const Kn=f;if("string"!=typeof r.x){const Dn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Ke=Kn===f}else Ke=!0;if(Ke){if(void 0!==r.y){const Kn=f;if("string"!=typeof r.y){const Dn={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Ke=Kn===f}else Ke=!0;if(Ke)if(void 0!==r.d){const Kn=f;if("string"!=typeof r.d){const Dn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Ke=Kn===f}else Ke=!0}}}}}if(_t=je===f){re=!0,Oe=0;var tt={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const bt=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let jn;if(void 0===r.crv&&(jn="crv")||void 0===r.x&&(jn="x")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"};null===l?l=[Kn]:l.push(Kn),f++}else{if(void 0!==r.kty){const Kn=f;if("OKP"!==r.kty){const Xn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),f++}var kt=Kn===f}else kt=!0;if(kt){if(void 0!==r.crv){const Kn=f;if("string"!=typeof r.crv){const Dn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}kt=Kn===f}else kt=!0;if(kt){if(void 0!==r.x){const Kn=f;if("string"!=typeof r.x){const Dn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}kt=Kn===f}else kt=!0;if(kt)if(void 0!==r.d){const Kn=f;if("string"!=typeof r.d){const Dn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}kt=Kn===f}else kt=!0}}}}if((_t=bt===f)&&re)re=!1,Oe=[Oe,1];else{_t&&(re=!0,Oe=1,!0!==tt&&((tt=tt||{}).kty=!0,tt.crv=!0,tt.x=!0,tt.d=!0));const jn=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xn;if(void 0===r.n&&(Xn="n")||void 0===r.e&&(Xn="e")){const Dn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:Xn},message:"must have required property '"+Xn+"'"};null===l?l=[Dn]:l.push(Dn),f++}else{if(void 0!==r.kty){const Dn=f;if("RSA"!==r.kty){const gr={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===l?l=[gr]:l.push(gr),f++}var xt=Dn===f}else xt=!0;if(xt){if(void 0!==r.n){const Dn=f;if("string"!=typeof r.n){const vr={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[vr]:l.push(vr),f++}xt=Dn===f}else xt=!0;if(xt){if(void 0!==r.e){const Dn=f;if("string"!=typeof r.e){const vr={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[vr]:l.push(vr),f++}xt=Dn===f}else xt=!0;if(xt){if(void 0!==r.d){const Dn=f;if("string"!=typeof r.d){const vr={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[vr]:l.push(vr),f++}xt=Dn===f}else xt=!0;if(xt){if(void 0!==r.p){const Dn=f;if("string"!=typeof r.p){const vr={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[vr]:l.push(vr),f++}xt=Dn===f}else xt=!0;if(xt){if(void 0!==r.q){const Dn=f;if("string"!=typeof r.q){const vr={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[vr]:l.push(vr),f++}xt=Dn===f}else xt=!0;if(xt){if(void 0!==r.dp){const Dn=f;if("string"!=typeof r.dp){const vr={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[vr]:l.push(vr),f++}xt=Dn===f}else xt=!0;if(xt){if(void 0!==r.dq){const Dn=f;if("string"!=typeof r.dq){const vr={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[vr]:l.push(vr),f++}xt=Dn===f}else xt=!0;if(xt){if(void 0!==r.qi){const Dn=f;if("string"!=typeof r.qi){const vr={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[vr]:l.push(vr),f++}xt=Dn===f}else xt=!0;if(xt)if(void 0!==r.oth){let Dn=r.oth;const gr=f;if(!Dn||"object"!=typeof Dn||Array.isArray(Dn)){const Er={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Er]:l.push(Er),f++}xt=gr===f}else xt=!0}}}}}}}}}}if((_t=jn===f)&&re)re=!1,Oe=[Oe,2];else{_t&&(re=!0,Oe=2,!0!==tt&&((tt=tt||{}).kty=!0,tt.n=!0,tt.e=!0,tt.d=!0,tt.p=!0,tt.q=!0,tt.dp=!0,tt.dq=!0,tt.qi=!0,tt.oth=!0));const Xn=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let gr;if(void 0===r.k&&(gr="k")){const vr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:gr},message:"must have required property '"+gr+"'"};null===l?l=[vr]:l.push(vr),f++}else{if(void 0!==r.kty){const vr=f;if("oct"!==r.kty){const Er={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===l?l=[Er]:l.push(Er),f++}var Nt=vr===f}else Nt=!0;if(Nt)if(void 0!==r.k){const vr=f;if("string"!=typeof r.k){const Yr={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yr]:l.push(Yr),f++}Nt=vr===f}else Nt=!0}}var _t;(_t=Xn===f)&&re?(re=!1,Oe=[Oe,3]):_t&&(re=!0,Oe=3,!0!==tt&&((tt=tt||{}).kty=!0,tt.k=!0))}}if(!re){const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:Oe},message:"must match exactly one schema in oneOf"};return null===l?l=[jn]:l.push(jn),f++,Xi.errors=l,!1}if(f=k,null!==l&&(k?l.length=k:l=null),f===W){if(!r||"object"!=typeof r||Array.isArray(r))return Xi.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let jn;if(void 0===r.kty&&(jn="kty"))return Xi.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"}],!1;if(!0!==tt&&((tt=tt||{}).alg=!0,tt.kid=!0,tt.kty=!0,tt.crv=!0,tt.use=!0,tt.key_ops=!0,tt.x5u=!0,tt.x5c=!0,tt.x5t=!0,tt["x5t#S256"]=!0),void 0!==r.alg){const Kn=f;if("string"!=typeof r.alg)return Xi.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.kid){const Kn=f;if("string"!=typeof r.kid)return Xi.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.kty){let Kn=r.kty;const Xn=f;if("EC"!==Kn&&"RSA"!==Kn&&"oct"!==Kn&&"OKP"!==Kn)return Xi.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:Ha.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Xt=Xn===f}else Xt=!0;if(Xt){if(void 0!==r.crv){const Kn=f;if("string"!=typeof r.crv)return Xi.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.use){const Kn=f;if("string"!=typeof r.use)return Xi.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.key_ops){const Kn=f;if("string"!=typeof r.key_ops)return Xi.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.x5u){const Kn=f;if("string"!=typeof r.x5u)return Xi.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.x5c){const Kn=f;if("string"!=typeof r.x5c)return Xi.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.x5t){const Kn=f;if("string"!=typeof r.x5t)return Xi.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=Kn===f}else Xt=!0;if(Xt)if(void 0!==r["x5t#S256"]){const Kn=f;if("string"!=typeof r["x5t#S256"])return Xi.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xt=Kn===f}else Xt=!0}}}}}}}}}}if(W===f){const jn=f,Kn=f,Xn=f;let Dn=!1;const gr=f,vr=f;let Er=!1;const Yr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.d&&(Or="d")){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}}if(Er=Er||Yr===f,Er)f=vr,null!==l&&(vr?l.length=vr:l=null);else{const Or={};null===l?l=[Or]:l.push(Or),f++}if(f===gr)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"EC"!==r.kty){const Or={};null===l?l=[Or]:l.push(Or),f++}}else{const Or={};null===l?l=[Or]:l.push(Or),f++}var cr=gr===f;if(Dn=Dn||cr,cr)var Ht={kty:!0};const hi=f,kn=f;let yi=!1;const bo=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.d&&(Or="d")){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}}if(yi=yi||bo===f,yi)f=kn,null!==l&&(kn?l.length=kn:l=null);else{const Or={};null===l?l=[Or]:l.push(Or),f++}if(f===hi)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"OKP"!==r.kty){const Or={};null===l?l=[Or]:l.push(Or),f++}}else{const Or={};null===l?l=[Or]:l.push(Or),f++}cr=hi===f,Dn=Dn||cr,cr&&!0!==Ht&&((Ht=Ht||{}).kty=!0);const Ir=f,rr=f;let Tr=!1;const ui=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.d&&(Or="d")){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}}var Jn=ui===f;Tr=Tr||Jn;const Wi=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.p&&(Or="p")){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}}Jn=Wi===f,Tr=Tr||Jn;const Gi=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.q&&(Or="q")){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}}Jn=Gi===f,Tr=Tr||Jn;const Mi=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.dp&&(Or="dp")){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}}Jn=Mi===f,Tr=Tr||Jn;const ki=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.dq&&(Or="dq")){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}}Jn=ki===f,Tr=Tr||Jn;const Bd=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.qi&&(Or="qi")){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}}Jn=Bd===f,Tr=Tr||Jn;const ib=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Or;if(void 0===r.oth&&(Or="oth")){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}}if(Jn=ib===f,Tr=Tr||Jn,Tr)f=rr,null!==l&&(rr?l.length=rr:l=null);else{const Or={};null===l?l=[Or]:l.push(Or),f++}if(f===Ir)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty){const Or=f;if("RSA"!==r.kty){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}var Yn=Or===f}else Yn=!0;if(Yn)if(void 0!==r.oth){let Or=r.oth;const Ki=f;if(!Or||"object"!=typeof Or||Array.isArray(Or)){const Si={};null===l?l=[Si]:l.push(Si),f++}Yn=Ki===f}else Yn=!0}else{const Or={};null===l?l=[Or]:l.push(Or),f++}if(cr=Ir===f,Dn=Dn||cr,cr&&!0!==Ht&&((Ht=Ht||{}).kty=!0,Ht.d=!0,Ht.p=!0,Ht.q=!0,Ht.dp=!0,Ht.dq=!0,Ht.qi=!0,Ht.oth=!0),Dn)f=Xn,null!==l&&(Xn?l.length=Xn:l=null);else{const Or={};null===l?l=[Or]:l.push(Or),f++}if(Kn===f)return Xi.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=jn,null!==l&&(jn?l.length=jn:l=null)}return Xi.errors=l,X.props=tt,0===f}Xi.evaluated={dynamicProps:!0,dynamicItems:!1};const cc=Object.prototype.hasOwnProperty;function Qr(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Qr.evaluated;X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0);const W=f;let k=!1;const re=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let hi;if(void 0===r.contextId&&(hi="contextId")){const kn={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:hi},message:"must have required property '"+hi+"'"};null===l?l=[kn]:l.push(kn),f++}else if(void 0!==r.descriptor){let kn=r.descriptor;if(f==f)if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let bo;if(void 0===kn.protocol&&(bo="protocol")||void 0===kn.protocolPath&&(bo="protocolPath")){const Ir={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:bo},message:"must have required property '"+bo+"'"};null===l?l=[Ir]:l.push(Ir),f++}}else{const bo={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[bo]:l.push(bo),f++}}}var Xt=re===f;if(k=k||Xt,Xt)var Oe={descriptor:!0};const je=f,Ke=f,tt=f,bt=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let hi;if(void 0===r.contextId&&(hi="contextId")){const kn={};null===l?l=[kn]:l.push(kn),f++}}if(bt===f){const hi={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[hi]:l.push(hi),f++}else f=tt,null!==l&&(tt?l.length=tt:l=null);if(Ke===f){const hi=f;if(r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let yi=r.descriptor;if(!yi||"object"!=typeof yi||Array.isArray(yi)){const rr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[rr]:l.push(rr),f++}const bo=f,Ir=f;if(yi&&"object"==typeof yi&&!Array.isArray(yi)){let rr;if(void 0===yi.protocol&&(rr="protocol")){const Tr={};null===l?l=[Tr]:l.push(Tr),f++}}if(Ir===f){const rr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[rr]:l.push(rr),f++}else f=bo,null!==l&&(bo?l.length=bo:l=null)}if(hi===f&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Ir=r.descriptor;if(!Ir||"object"!=typeof Ir||Array.isArray(Ir)){const ui={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[ui]:l.push(ui),f++}const rr=f,Tr=f;if(Ir&&"object"==typeof Ir&&!Array.isArray(Ir)){let ui;if(void 0===Ir.protocolPath&&(ui="protocolPath")){const Wi={};null===l?l=[Wi]:l.push(Wi),f++}}if(Tr===f){const ui={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[ui]:l.push(ui),f++}else f=rr,null!==l&&(rr?l.length=rr:l=null)}}if(Xt=je===f,k=k||Xt,Xt&&!0!==Oe&&((Oe=Oe||{}).descriptor=!0),!k){const hi={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===l?l=[hi]:l.push(hi),f++,Qr.errors=l,!1}if(f=W,null!==l&&(W?l.length=W:l=null),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Qr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let hi;if(void 0===r.descriptor&&(hi="descriptor"))return Qr.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:hi},message:"must have required property '"+hi+"'"}],!1;if(!0!==Oe&&((Oe=Oe||{}).recordId=!0,Oe.contextId=!0,Oe.attestation=!0,Oe.authorization=!0,Oe.encryption=!0,Oe.descriptor=!0),void 0!==r.recordId){const kn=f;if("string"!=typeof r.recordId)return Qr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var qt=kn===f}else qt=!0;if(qt){if(void 0!==r.contextId){let kn=r.contextId;const yi=f;if(f===yi){if("string"!=typeof kn)return Qr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ks.test(kn))return Qr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}qt=yi===f}else qt=!0;if(qt){if(void 0!==r.attestation){const kn=f;Yo(r.attestation,{instancePath:t+"/attestation",parentData:r,parentDataProperty:"attestation",rootData:u,dynamicAnchors:h})||(l=null===l?Yo.errors:l.concat(Yo.errors),f=l.length),qt=kn===f}else qt=!0;if(qt){if(void 0!==r.authorization){const kn=f;is(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?is.errors:l.concat(is.errors),f=l.length),qt=kn===f}else qt=!0;if(qt){if(void 0!==r.encryption){let kn=r.encryption;const yi=f;if(f===yi){if(!kn||"object"!=typeof kn||Array.isArray(kn))return Qr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ir;if(void 0===kn.algorithm&&(Ir="algorithm")||void 0===kn.initializationVector&&(Ir="initializationVector")||void 0===kn.keyEncryption&&(Ir="keyEncryption"))return Qr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:Ir},message:"must have required property '"+Ir+"'"}],!1;{const rr=f;for(const Tr in kn)if("algorithm"!==Tr&&"initializationVector"!==Tr&&"keyEncryption"!==Tr)return Qr.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tr},message:"must NOT have additional properties"}],!1;if(rr===f){if(void 0!==kn.algorithm){let Tr=kn.algorithm;const ui=f;if("string"!=typeof Tr)return Qr.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==Tr)return Qr.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:qa.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var un=ui===f}else un=!0;if(un){if(void 0!==kn.initializationVector){let Tr=kn.initializationVector;const ui=f;if(f==f){if("string"!=typeof Tr)return Qr.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ea.test(Tr))return Qr.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}un=ui===f}else un=!0;if(un)if(void 0!==kn.keyEncryption){let Tr=kn.keyEncryption;const ui=f;if(f===ui){if(!Array.isArray(Tr))return Qr.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Tr.length<1)return Qr.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Gi=Tr.length;for(let Mi=0;Mi<Gi;Mi++){let ki=Tr[Mi];const Bd=f;if(f===Bd){if(!ki||"object"!=typeof ki||Array.isArray(ki))return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Or;if(void 0===ki.rootKeyId&&(Or="rootKeyId")||void 0===ki.derivationScheme&&(Or="derivationScheme")||void 0===ki.algorithm&&(Or="algorithm")||void 0===ki.encryptedKey&&(Or="encryptedKey")||void 0===ki.initializationVector&&(Or="initializationVector")||void 0===ki.ephemeralPublicKey&&(Or="ephemeralPublicKey")||void 0===ki.messageAuthenticationCode&&(Or="messageAuthenticationCode"))return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:Or},message:"must have required property '"+Or+"'"}],!1;{const Ki=f;for(const Fi in ki)if("rootKeyId"!==Fi&&"derivationScheme"!==Fi&&"derivedPublicKey"!==Fi&&"algorithm"!==Fi&&"encryptedKey"!==Fi&&"initializationVector"!==Fi&&"ephemeralPublicKey"!==Fi&&"messageAuthenticationCode"!==Fi)return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Fi},message:"must NOT have additional properties"}],!1;if(Ki===f){if(void 0!==ki.rootKeyId){const Fi=f;if("string"!=typeof ki.rootKeyId)return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Sn=Fi===f}else Sn=!0;if(Sn){if(void 0!==ki.derivationScheme){let Fi=ki.derivationScheme;const Si=f;if("string"!=typeof Fi)return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==Fi&&"protocolContext"!==Fi&&"protocolPath"!==Fi&&"schemas"!==Fi)return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:qa.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;Sn=Si===f}else Sn=!0;if(Sn){if(void 0!==ki.derivedPublicKey){const Fi=f;Xi(ki.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Mi+"/derivedPublicKey",parentData:ki,parentDataProperty:"derivedPublicKey",rootData:u,dynamicAnchors:h})||(l=null===l?Xi.errors:l.concat(Xi.errors),f=l.length),Sn=Fi===f}else Sn=!0;if(Sn){if(void 0!==ki.algorithm){let Fi=ki.algorithm;const Si=f;if("string"!=typeof Fi)return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==Fi)return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:qa.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;Sn=Si===f}else Sn=!0;if(Sn){if(void 0!==ki.encryptedKey){let Fi=ki.encryptedKey;const Si=f;if(f==f){if("string"!=typeof Fi)return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ea.test(Fi))return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Sn=Si===f}else Sn=!0;if(Sn){if(void 0!==ki.initializationVector){let Fi=ki.initializationVector;const Si=f;if(f==f){if("string"!=typeof Fi)return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ea.test(Fi))return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Sn=Si===f}else Sn=!0;if(Sn){if(void 0!==ki.ephemeralPublicKey){const Fi=f;Xi(ki.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+Mi+"/ephemeralPublicKey",parentData:ki,parentDataProperty:"ephemeralPublicKey",rootData:u,dynamicAnchors:h})||(l=null===l?Xi.errors:l.concat(Xi.errors),f=l.length),Sn=Fi===f}else Sn=!0;if(Sn)if(void 0!==ki.messageAuthenticationCode){let Fi=ki.messageAuthenticationCode;const Si=f;if(f==f){if("string"!=typeof Fi)return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ea.test(Fi))return Qr.errors=[{instancePath:t+"/encryption/keyEncryption/"+Mi+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Sn=Si===f}else Sn=!0}}}}}}}}}}if(Bd!==f)break}}}un=ui===f}else un=!0}}}}}qt=yi===f}else qt=!0;if(qt)if(void 0!==r.descriptor){let kn=r.descriptor;const yi=f,bo=f;let Ir=!1;const rr=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Or;if(void 0===kn.published&&(Or="published")||void 0===kn.datePublished&&(Or="datePublished")){const Ki={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:Or},message:"must have required property '"+Or+"'"};null===l?l=[Ki]:l.push(Ki),f++}else if(void 0!==kn.published){let Ki=kn.published;if("boolean"!=typeof Ki){const Fi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Fi]:l.push(Fi),f++}if(!0!==Ki){const Fi={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:qa.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Fi]:l.push(Fi),f++}}}var Kn=rr===f;if(Ir=Ir||Kn,Kn)var Jn={published:!0};const Tr=f,ui=f,Wi=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Or;if(void 0===kn.datePublished&&(Or="datePublished")){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}}if(Wi===f){const Or={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Or]:l.push(Or),f++}else f=ui,null!==l&&(ui?l.length=ui:l=null);if(f===Tr&&kn&&"object"==typeof kn&&!Array.isArray(kn)&&void 0!==kn.published){let Or=kn.published;if("boolean"!=typeof Or){const Ki={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Ki]:l.push(Ki),f++}if(!1!==Or){const Ki={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:qa.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Ki]:l.push(Ki),f++}}Kn=Tr===f,Ir=Ir||Kn,Kn&&!0!==Jn&&((Jn=Jn||{}).published=!0);const Gi=f,Mi=f,ki=f,Bd=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Or;if(void 0===kn.published&&(Or="published")){const Ki={};null===l?l=[Ki]:l.push(Ki),f++}}if(Bd===f){const Or={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Or]:l.push(Or),f++}else f=ki,null!==l&&(ki?l.length=ki:l=null);if(Mi===f){const Ki=f,Fi=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Zs;if(void 0===kn.datePublished&&(Zs="datePublished")){const Nl={};null===l?l=[Nl]:l.push(Nl),f++}}if(Fi===f){const Zs={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Zs]:l.push(Zs),f++}else f=Ki,null!==l&&(Ki?l.length=Ki:l=null)}if(Kn=Gi===f,Ir=Ir||Kn,!Ir){const Or={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===l?l=[Or]:l.push(Or),f++,Qr.errors=l,!1}if(f=bo,null!==l&&(bo?l.length=bo:l=null),f===yi){if(!kn||"object"!=typeof kn||Array.isArray(kn))return Qr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Or;if(void 0===kn.interface&&(Or="interface")||void 0===kn.method&&(Or="method")||void 0===kn.dataCid&&(Or="dataCid")||void 0===kn.dataSize&&(Or="dataSize")||void 0===kn.dateCreated&&(Or="dateCreated")||void 0===kn.messageTimestamp&&(Or="messageTimestamp")||void 0===kn.dataFormat&&(Or="dataFormat"))return Qr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Or},message:"must have required property '"+Or+"'"}],!1;{const Ki=f;for(const Fi in kn)if(!cc.call(qa.properties.descriptor.properties,Fi))return Qr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Fi},message:"must NOT have additional properties"}],!1;if(Ki===f){let Fi;if(void 0!==kn.parentId&&void 0===kn.protocol&&(Fi="protocol"))return Qr.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:Fi,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==kn.interface){let Si=kn.interface;const Zs=f;if("string"!=typeof Si)return Qr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Si)return Qr.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:qa.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var Xn=Zs===f}else Xn=!0;if(Xn){if(void 0!==kn.method){let Si=kn.method;const Zs=f;if("string"!=typeof Si)return Qr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==Si)return Qr.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:qa.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;Xn=Zs===f}else Xn=!0;if(Xn){if(void 0!==kn.recipient){let Si=kn.recipient;const Zs=f;if(f==f){if("string"!=typeof Si)return Qr.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wl.test(Si))return Qr.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Xn=Zs===f}else Xn=!0;if(Xn){if(void 0!==kn.protocol){const Si=f;if("string"!=typeof kn.protocol)return Qr.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=Si===f}else Xn=!0;if(Xn){if(void 0!==kn.protocolPath){let Si=kn.protocolPath;const Zs=f;if(f===Zs){if("string"!=typeof Si)return Qr.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Qu.test(Si))return Qr.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}Xn=Zs===f}else Xn=!0;if(Xn){if(void 0!==kn.schema){const Si=f;if("string"!=typeof kn.schema)return Qr.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=Si===f}else Xn=!0;if(Xn){if(void 0!==kn.tags){let Si=kn.tags;const Zs=f;if(f===Zs){if(!Si||"object"!=typeof Si||Array.isArray(Si))return Qr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Si).length>10)return Qr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(Si).length<1)return Qr.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const ys in Si){let gs=Si[ys];const Va=f,Ss=f;let Bi=!1,Ts=null;const Yl=f;if("string"!=typeof gs){const Ud={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ud]:l.push(Ud),f++}(Dn=Yl===f)&&(Bi=!0,Ts=0);const Nd=f;if("number"!=typeof gs||!isFinite(gs)){const Ud={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Ud]:l.push(Ud),f++}if((Dn=Nd===f)&&Bi)Bi=!1,Ts=[Ts,1];else{Dn&&(Bi=!0,Ts=1);const Ud=f;if("boolean"!=typeof gs){const eS={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[eS]:l.push(eS),f++}if((Dn=Ud===f)&&Bi)Bi=!1,Ts=[Ts,2];else{Dn&&(Bi=!0,Ts=2);const eS=f;if(f===eS)if(Array.isArray(gs))if(gs.length>10){const Zu={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===l?l=[Zu]:l.push(Zu),f++}else if(gs.length<1){const Zu={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[Zu]:l.push(Zu),f++}else{const Zu=gs.length;for(let GC=0;GC<Zu;GC++){const Hf=f;if("string"!=typeof gs[GC]){const tS={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+GC,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[tS]:l.push(tS),f++}if(Hf!==f)break}}else{const Zu={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[Zu]:l.push(Zu),f++}if((Dn=eS===f)&&Bi)Bi=!1,Ts=[Ts,3];else{if(Dn){Bi=!0,Ts=3;var vr=!0}const Zu=f;if(f===Zu)if(Array.isArray(gs))if(gs.length>10){const Hf={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===l?l=[Hf]:l.push(Hf),f++}else if(gs.length<1){const Hf={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[Hf]:l.push(Hf),f++}else{const Hf=gs.length;for(let JC=0;JC<Hf;JC++){let tS=gs[JC];const c9=f;if("number"!=typeof tS||!isFinite(tS)){const W4={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+JC,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[W4]:l.push(W4),f++}if(c9!==f)break}}else{const Hf={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[Hf]:l.push(Hf),f++}var Dn;(Dn=Zu===f)&&Bi?(Bi=!1,Ts=[Ts,4]):Dn&&(Bi=!0,Ts=4,!0!==vr&&(vr=!0))}}}if(!Bi){const Ud={instancePath:t+"/descriptor/tags/"+ys.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Ts},message:"must match exactly one schema in oneOf"};return null===l?l=[Ud]:l.push(Ud),f++,Qr.errors=l,!1}if(f=Ss,null!==l&&(Ss?l.length=Ss:l=null),Va!==f)break}}Xn=Zs===f}else Xn=!0;if(Xn){if(void 0!==kn.parentId){const Si=f;if("string"!=typeof kn.parentId)return Qr.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=Si===f}else Xn=!0;if(Xn){if(void 0!==kn.dataCid){const Si=f;if("string"!=typeof kn.dataCid)return Qr.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=Si===f}else Xn=!0;if(Xn){if(void 0!==kn.dataSize){let Si=kn.dataSize;const Zs=f;if("number"!=typeof Si||!isFinite(Si))return Qr.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Xn=Zs===f}else Xn=!0;if(Xn){if(void 0!==kn.dateCreated){let Si=kn.dateCreated;const Zs=f;if(f==f){if("string"!=typeof Si)return Qr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(Si))return Qr.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Xn=Zs===f}else Xn=!0;if(Xn){if(void 0!==kn.messageTimestamp){let Si=kn.messageTimestamp;const Zs=f;if(f==f){if("string"!=typeof Si)return Qr.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(Si))return Qr.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Xn=Zs===f}else Xn=!0;if(Xn){if(void 0!==kn.published){const Si=f;if("boolean"!=typeof kn.published)return Qr.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Xn=Si===f}else Xn=!0;if(Xn){if(void 0!==kn.datePublished){let Si=kn.datePublished;const Zs=f;if(f==f){if("string"!=typeof Si)return Qr.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(Si))return Qr.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Xn=Zs===f}else Xn=!0;if(Xn)if(void 0!==kn.dataFormat){const Si=f;if("string"!=typeof kn.dataFormat)return Qr.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Xn=Si===f}else Xn=!0}}}}}}}}}}}}}}}}}qt=yi===f}else qt=!0}}}}}}return Qr.errors=l,X.props=Oe,0===f}function Qa(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Qa.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),Qr(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:u,dynamicAnchors:h}))var W=Qr.evaluated.props;else l=null===l?Qr.errors:l.concat(Qr.errors),f=l.length;if(0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Qa.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let re;if(void 0===r.recordId&&(re="recordId")||void 0===r.authorization&&(re="authorization")||void 0===r.encodedData&&(re="encodedData"))return Qa.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:re},message:"must have required property '"+re+"'"}],!1;if(!0!==W&&((W=W||{}).encodedData=!0),void 0!==r.encodedData){const Oe=f;if("string"!=typeof r.encodedData)return Qa.errors=[{instancePath:t+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var k=Oe===f}else k=!0;if(k&&!0!==W)for(const Oe in r)if(!W||!W[Oe])return Qa.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:Oe},message:"must NOT have unevaluated properties"}],!1}}return Qa.errors=l,0===f}function Zr(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Zr.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Zr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const k=f;for(const re in r)if("signature"!==re&&"authorDelegatedGrant"!==re)return Zr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:re},message:"must NOT have additional properties"}],!1;if(k===f){if(void 0!==r.signature){const re=f;Yo(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:u,dynamicAnchors:h})||(l=null===l?Yo.errors:l.concat(Yo.errors),f=l.length);var W=re===f}else W=!0;if(W)if(void 0!==r.authorDelegatedGrant){const re=f;Qa(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:u,dynamicAnchors:h})||(l=null===l?Qa.errors:l.concat(Qa.errors),f=l.length),W=re===f}else W=!0}}}return Zr.errors=l,0===f}Qr.evaluated={dynamicProps:!0,dynamicItems:!1},Qa.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Zr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const xi=is,Wa=Zo,Xc={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function Zo(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Zo.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Zo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let re;if(void 0===r.authorization&&(re="authorization")||void 0===r.descriptor&&(re="descriptor"))return Zo.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:re},message:"must have required property '"+re+"'"}],!1;{const Oe=f;for(const je in r)if("authorization"!==je&&"descriptor"!==je)return Zo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Oe===f){if(void 0!==r.authorization){const je=f;Zr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?Zr.errors:l.concat(Zr.errors),f=l.length);var W=je===f}else W=!0;if(W)if(void 0!==r.descriptor){let je=r.descriptor;const Ke=f;if(f===Ke){if(!je||"object"!=typeof je||Array.isArray(je))return Zo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let bt;if(void 0===je.interface&&(bt="interface")||void 0===je.method&&(bt="method")||void 0===je.messageTimestamp&&(bt="messageTimestamp")||void 0===je.recordId&&(bt="recordId")||void 0===je.prune&&(bt="prune"))return Zo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:bt},message:"must have required property '"+bt+"'"}],!1;{const kt=f;for(const _t in je)if("interface"!==_t&&"method"!==_t&&"messageTimestamp"!==_t&&"recordId"!==_t&&"prune"!==_t)return Zo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_t},message:"must NOT have additional properties"}],!1;if(kt===f){if(void 0!==je.interface){let _t=je.interface;const xt=f;if("string"!=typeof _t)return Zo.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==_t)return Zo.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Xc.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=xt===f}else k=!0;if(k){if(void 0!==je.method){let _t=je.method;const xt=f;if("string"!=typeof _t)return Zo.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==_t)return Zo.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Xc.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=xt===f}else k=!0;if(k){if(void 0!==je.messageTimestamp){let _t=je.messageTimestamp;const xt=f;if(f==f){if("string"!=typeof _t)return Zo.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(_t))return Zo.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=xt===f}else k=!0;if(k){if(void 0!==je.recordId){const _t=f;if("string"!=typeof je.recordId)return Zo.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;k=_t===f}else k=!0;if(k)if(void 0!==je.prune){const _t=f;if("boolean"!=typeof je.prune)return Zo.errors=[{instancePath:t+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;k=_t===f}else k=!0}}}}}}}W=Ke===f}else W=!0}}}}return Zo.errors=l,0===f}Zo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Vp=Bo,Gf={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},dc={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},lo={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Nr(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Nr.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Nr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Nr.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const hi=f;for(const kn in r)if(!cc.call(lo.properties,kn))return Nr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:kn},message:"must NOT have additional properties"}],!1;if(hi===f){if(void 0!==r.datePublished){const kn=f,yi=f;let bo=!1,Ir=null;const rr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gi;if(void 0===r.published&&(Gi="published")){const Mi={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:Gi},message:"must have required property '"+Gi+"'"};null===l?l=[Mi]:l.push(Mi),f++}else if(void 0!==r.published&&!0!==r.published){const Mi={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:lo.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Mi]:l.push(Mi),f++}}rr===f&&(bo=!0,Ir=0);const Tr=f,ui=f,Wi=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Gi;if(void 0===r.published&&(Gi="published")){const Mi={};null===l?l=[Mi]:l.push(Mi),f++}}var re;if(Wi===f){const Gi={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Gi]:l.push(Gi),f++}else f=ui,null!==l&&(ui?l.length=ui:l=null);if((re=Tr===f)&&bo?(bo=!1,Ir=[Ir,1]):re&&(bo=!0,Ir=1),!bo){const Gi={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:Ir},message:"must match exactly one schema in oneOf"};return null===l?l=[Gi]:l.push(Gi),f++,Nr.errors=l,!1}f=yi,null!==l&&(yi?l.length=yi:l=null);var Oe=kn===f}else Oe=!0;if(Oe){if(void 0!==r.protocol){const kn=f;if("string"!=typeof r.protocol)return Nr.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var je=kn===f}else je=!0;if(je){if(void 0!==r.protocolPath){const kn=f;if("string"!=typeof r.protocolPath)return Nr.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=kn===f}else je=!0;if(je){if(void 0!==r.author){let kn=r.author;const yi=f;if(f==f){if("string"!=typeof kn)return Nr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wl.test(kn))return Nr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}je=yi===f}else je=!0;if(je){if(void 0!==r.attester){let kn=r.attester;const yi=f;if(f==f){if("string"!=typeof kn)return Nr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wl.test(kn))return Nr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}je=yi===f}else je=!0;if(je){if(void 0!==r.recipient){let kn=r.recipient;const yi=f;if(f==f){if("string"!=typeof kn)return Nr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wl.test(kn))return Nr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}je=yi===f}else je=!0;if(je){if(void 0!==r.contextId){const kn=f;if("string"!=typeof r.contextId)return Nr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=kn===f}else je=!0;if(je){if(void 0!==r.schema){const kn=f;if("string"!=typeof r.schema)return Nr.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=kn===f}else je=!0;if(je){if(void 0!==r.tags){let kn=r.tags;const yi=f;if(f===yi){if(!kn||"object"!=typeof kn||Array.isArray(kn))return Nr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(kn).length<1)return Nr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Ir in kn){let rr=kn[Ir];const Tr=f,ui=f;let Wi=!1,Gi=null;const Mi=f;if("string"!=typeof rr){const Bd={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Bd]:l.push(Bd),f++}(Ke=Mi===f)&&(Wi=!0,Gi=0);const ki=f;if("number"!=typeof rr||!isFinite(rr)){const Bd={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Bd]:l.push(Bd),f++}if((Ke=ki===f)&&Wi)Wi=!1,Gi=[Gi,1];else{Ke&&(Wi=!0,Gi=1);const Bd=f;if("boolean"!=typeof rr){const Or={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===l?l=[Or]:l.push(Or),f++}if((Ke=Bd===f)&&Wi)Wi=!1,Gi=[Gi,2];else{Ke&&(Wi=!0,Gi=2);const Or=f;if(f===Or)if(rr&&"object"==typeof rr&&!Array.isArray(rr))if(Object.keys(rr).length<1){const Fi={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[Fi]:l.push(Fi),f++}else{const Fi=f;for(const Si in rr)if("startsWith"!==Si){const Zs={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Si},message:"must NOT have additional properties"};null===l?l=[Zs]:l.push(Zs),f++;break}if(Fi===f&&void 0!==rr.startsWith&&"string"!=typeof rr.startsWith){const Si={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Si]:l.push(Si),f++}}else{const Fi={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Fi]:l.push(Fi),f++}if((Ke=Or===f)&&Wi)Wi=!1,Gi=[Gi,3];else{if(Ke){Wi=!0,Gi=3;var tt=!0}const Fi=f;if(f==f)if(rr&&"object"==typeof rr&&!Array.isArray(rr))if(Object.keys(rr).length<1){const Nl={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[Nl]:l.push(Nl),f++}else{const Nl=f;for(const ys in rr)if("gt"!==ys&&"gte"!==ys&&"lt"!==ys&&"lte"!==ys){const gs={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ys},message:"must NOT have additional properties"};null===l?l=[gs]:l.push(gs),f++;break}if(Nl===f){if(void 0!==rr.gt){const ys=f,gs=f,Va=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Ss;if(void 0===rr.gte&&(Ss="gte")){const Bi={};null===l?l=[Bi]:l.push(Bi),f++}}if(Va===f){const Ss={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Ss]:l.push(Ss),f++}else f=gs,null!==l&&(gs?l.length=gs:l=null);var kt=ys===f}else kt=!0;if(kt){if(void 0!==rr.gte){const ys=f,gs=f,Va=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Bi;if(void 0===rr.gt&&(Bi="gt")){const Ts={};null===l?l=[Ts]:l.push(Ts),f++}}if(Va===f){const Bi={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Bi]:l.push(Bi),f++}else f=gs,null!==l&&(gs?l.length=gs:l=null);kt=ys===f}else kt=!0;if(kt){if(void 0!==rr.lt){const ys=f,gs=f,Va=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Bi;if(void 0===rr.lte&&(Bi="lte")){const Ts={};null===l?l=[Ts]:l.push(Ts),f++}}if(Va===f){const Bi={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Bi]:l.push(Bi),f++}else f=gs,null!==l&&(gs?l.length=gs:l=null);kt=ys===f}else kt=!0;if(kt){if(void 0!==rr.lte){const ys=f,gs=f,Va=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Bi;if(void 0===rr.lt&&(Bi="lt")){const Ts={};null===l?l=[Ts]:l.push(Ts),f++}}if(Va===f){const Bi={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Bi]:l.push(Bi),f++}else f=gs,null!==l&&(gs?l.length=gs:l=null);kt=ys===f}else kt=!0;if(kt){if(void 0!==rr.gt){const ys=f;if("string"!=typeof rr.gt){const gs={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[gs]:l.push(gs),f++}var Xt=ys===f}else Xt=!0;if(Xt){if(void 0!==rr.gte){const ys=f;if("string"!=typeof rr.gte){const Va={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Va]:l.push(Va),f++}Xt=ys===f}else Xt=!0;if(Xt){if(void 0!==rr.lt){const ys=f;if("string"!=typeof rr.lt){const Va={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Va]:l.push(Va),f++}Xt=ys===f}else Xt=!0;if(Xt)if(void 0!==rr.lte){const ys=f;if("string"!=typeof rr.lte){const Va={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Va]:l.push(Va),f++}Xt=ys===f}else Xt=!0}}}}}}}}else{const Nl={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Nl]:l.push(Nl),f++}if((Ke=Fi===f)&&Wi)Wi=!1,Gi=[Gi,4];else{Ke&&(Wi=!0,Gi=4,!0!==tt&&(tt=!0));const Nl=f;if(f==f)if(rr&&"object"==typeof rr&&!Array.isArray(rr))if(Object.keys(rr).length<1){const Va={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===l?l=[Va]:l.push(Va),f++}else{const Va=f;for(const Ss in rr)if("gt"!==Ss&&"gte"!==Ss&&"lt"!==Ss&&"lte"!==Ss){const Bi={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ss},message:"must NOT have additional properties"};null===l?l=[Bi]:l.push(Bi),f++;break}if(Va===f){if(void 0!==rr.gt){const Ss=f,Bi=f,Ts=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Yl;if(void 0===rr.gte&&(Yl="gte")){const Nd={};null===l?l=[Nd]:l.push(Nd),f++}}if(Ts===f){const Yl={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Yl]:l.push(Yl),f++}else f=Bi,null!==l&&(Bi?l.length=Bi:l=null);var un=Ss===f}else un=!0;if(un){if(void 0!==rr.gte){const Ss=f,Bi=f,Ts=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Nd;if(void 0===rr.gt&&(Nd="gt")){const Ud={};null===l?l=[Ud]:l.push(Ud),f++}}if(Ts===f){const Nd={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Nd]:l.push(Nd),f++}else f=Bi,null!==l&&(Bi?l.length=Bi:l=null);un=Ss===f}else un=!0;if(un){if(void 0!==rr.lt){const Ss=f,Bi=f,Ts=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Nd;if(void 0===rr.lte&&(Nd="lte")){const Ud={};null===l?l=[Ud]:l.push(Ud),f++}}if(Ts===f){const Nd={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Nd]:l.push(Nd),f++}else f=Bi,null!==l&&(Bi?l.length=Bi:l=null);un=Ss===f}else un=!0;if(un){if(void 0!==rr.lte){const Ss=f,Bi=f,Ts=f;if(rr&&"object"==typeof rr&&!Array.isArray(rr)){let Nd;if(void 0===rr.lt&&(Nd="lt")){const Ud={};null===l?l=[Ud]:l.push(Ud),f++}}if(Ts===f){const Nd={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Nd]:l.push(Nd),f++}else f=Bi,null!==l&&(Bi?l.length=Bi:l=null);un=Ss===f}else un=!0;if(un){if(void 0!==rr.gt){let Ss=rr.gt;const Bi=f;if("number"!=typeof Ss||!isFinite(Ss)){const Ts={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Ts]:l.push(Ts),f++}var Yn=Bi===f}else Yn=!0;if(Yn){if(void 0!==rr.gte){let Ss=rr.gte;const Bi=f;if("number"!=typeof Ss||!isFinite(Ss)){const Yl={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Yl]:l.push(Yl),f++}Yn=Bi===f}else Yn=!0;if(Yn){if(void 0!==rr.lt){let Ss=rr.lt;const Bi=f;if("number"!=typeof Ss||!isFinite(Ss)){const Yl={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Yl]:l.push(Yl),f++}Yn=Bi===f}else Yn=!0;if(Yn)if(void 0!==rr.lte){let Ss=rr.lte;const Bi=f;if("number"!=typeof Ss||!isFinite(Ss)){const Yl={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===l?l=[Yl]:l.push(Yl),f++}Yn=Bi===f}else Yn=!0}}}}}}}}else{const Va={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Va]:l.push(Va),f++}var Ke;(Ke=Nl===f)&&Wi?(Wi=!1,Gi=[Gi,5]):Ke&&(Wi=!0,Gi=5,!0!==tt&&(tt=!0))}}}}if(!Wi){const Bd={instancePath:t+"/tags/"+Ir.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Gi},message:"must match exactly one schema in oneOf"};return null===l?l=[Bd]:l.push(Bd),f++,Nr.errors=l,!1}if(f=ui,null!==l&&(ui?l.length=ui:l=null),Tr!==f)break}}je=yi===f}else je=!0;if(je){if(void 0!==r.recordId){const kn=f;if("string"!=typeof r.recordId)return Nr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=kn===f}else je=!0;if(je){if(void 0!==r.parentId){const kn=f;if("string"!=typeof r.parentId)return Nr.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=kn===f}else je=!0;if(je){if(void 0!==r.published){const kn=f;if("boolean"!=typeof r.published)return Nr.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;je=kn===f}else je=!0;if(je){if(void 0!==r.dataFormat){const kn=f;if("string"!=typeof r.dataFormat)return Nr.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=kn===f}else je=!0;if(je){if(void 0!==r.dataSize){let kn=r.dataSize;const yi=f;if(f==f){if(!kn||"object"!=typeof kn||Array.isArray(kn))return Nr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(kn).length<1)return Nr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const rr=f;for(const Tr in kn)if("gt"!==Tr&&"gte"!==Tr&&"lt"!==Tr&&"lte"!==Tr)return Nr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tr},message:"must NOT have additional properties"}],!1;if(rr===f){if(void 0!==kn.gt){const Tr=f,ui=f,Wi=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Gi;if(void 0===kn.gte&&(Gi="gte")){const Mi={};null===l?l=[Mi]:l.push(Mi),f++}}if(Wi===f)return Nr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ui,null!==l&&(ui?l.length=ui:l=null);var jn=Tr===f}else jn=!0;if(jn){if(void 0!==kn.gte){const Tr=f,ui=f,Wi=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Mi;if(void 0===kn.gt&&(Mi="gt")){const ki={};null===l?l=[ki]:l.push(ki),f++}}if(Wi===f)return Nr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ui,null!==l&&(ui?l.length=ui:l=null),jn=Tr===f}else jn=!0;if(jn){if(void 0!==kn.lt){const Tr=f,ui=f,Wi=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Mi;if(void 0===kn.lte&&(Mi="lte")){const ki={};null===l?l=[ki]:l.push(ki),f++}}if(Wi===f)return Nr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ui,null!==l&&(ui?l.length=ui:l=null),jn=Tr===f}else jn=!0;if(jn){if(void 0!==kn.lte){const Tr=f,ui=f,Wi=f;if(kn&&"object"==typeof kn&&!Array.isArray(kn)){let Mi;if(void 0===kn.lt&&(Mi="lt")){const ki={};null===l?l=[ki]:l.push(ki),f++}}if(Wi===f)return Nr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=ui,null!==l&&(ui?l.length=ui:l=null),jn=Tr===f}else jn=!0;if(jn){if(void 0!==kn.gt){let Tr=kn.gt;const ui=f;if("number"!=typeof Tr||!isFinite(Tr))return Nr.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var gr=ui===f}else gr=!0;if(gr){if(void 0!==kn.gte){let Tr=kn.gte;const ui=f;if("number"!=typeof Tr||!isFinite(Tr))return Nr.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;gr=ui===f}else gr=!0;if(gr){if(void 0!==kn.lt){let Tr=kn.lt;const ui=f;if("number"!=typeof Tr||!isFinite(Tr))return Nr.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;gr=ui===f}else gr=!0;if(gr)if(void 0!==kn.lte){let Tr=kn.lte;const ui=f;if("number"!=typeof Tr||!isFinite(Tr))return Nr.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;gr=ui===f}else gr=!0}}}}}}}}}je=yi===f}else je=!0;if(je){if(void 0!==r.dataCid){const kn=f;if("string"!=typeof r.dataCid)return Nr.errors=[{instancePath:t+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=kn===f}else je=!0;if(je){if(void 0!==r.dateCreated){let kn=r.dateCreated;const yi=f;if(f===yi){if(!kn||"object"!=typeof kn||Array.isArray(kn))return Nr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(kn).length<1)return Nr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ir=f;for(const rr in kn)if("from"!==rr&&"to"!==rr)return Nr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rr},message:"must NOT have additional properties"}],!1;if(Ir===f){if(void 0!==kn.from){let rr=kn.from;const Tr=f;if(f==f){if("string"!=typeof rr)return Nr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(rr))return Nr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var vr=Tr===f}else vr=!0;if(vr)if(void 0!==kn.to){let rr=kn.to;const Tr=f;if(f==f){if("string"!=typeof rr)return Nr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(rr))return Nr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}vr=Tr===f}else vr=!0}}}je=yi===f}else je=!0;if(je){if(void 0!==r.datePublished){let kn=r.datePublished;const yi=f;if(f===yi){if(!kn||"object"!=typeof kn||Array.isArray(kn))return Nr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(kn).length<1)return Nr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ir=f;for(const rr in kn)if("from"!==rr&&"to"!==rr)return Nr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rr},message:"must NOT have additional properties"}],!1;if(Ir===f){if(void 0!==kn.from){let rr=kn.from;const Tr=f;if(f==f){if("string"!=typeof rr)return Nr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(rr))return Nr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Er=Tr===f}else Er=!0;if(Er)if(void 0!==kn.to){let rr=kn.to;const Tr=f;if(f==f){if("string"!=typeof rr)return Nr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(rr))return Nr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Er=Tr===f}else Er=!0}}}je=yi===f}else je=!0;if(je)if(void 0!==r.dateUpdated){let kn=r.dateUpdated;const yi=f;if(f===yi){if(!kn||"object"!=typeof kn||Array.isArray(kn))return Nr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(kn).length<1)return Nr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Ir=f;for(const rr in kn)if("from"!==rr&&"to"!==rr)return Nr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rr},message:"must NOT have additional properties"}],!1;if(Ir===f){if(void 0!==kn.from){let rr=kn.from;const Tr=f;if(f==f){if("string"!=typeof rr)return Nr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(rr))return Nr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Yr=Tr===f}else Yr=!0;if(Yr)if(void 0!==kn.to){let rr=kn.to;const Tr=f;if(f==f){if("string"!=typeof rr)return Nr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(rr))return Nr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Yr=Tr===f}else Yr=!0}}}je=yi===f}else je=!0}}}}}}}}}}}}}}}}}}}return Nr.errors=l,0===f}function Bo(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Bo.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Bo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let je;if(void 0===r.descriptor&&(je="descriptor"))return Bo.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:je},message:"must have required property '"+je+"'"}],!1;{const Ke=f;for(const tt in r)if("authorization"!==tt&&"descriptor"!==tt)return Bo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:tt},message:"must NOT have additional properties"}],!1;if(Ke===f){if(void 0!==r.authorization){const tt=f;Zr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?Zr.errors:l.concat(Zr.errors),f=l.length);var W=tt===f}else W=!0;if(W)if(void 0!==r.descriptor){let tt=r.descriptor;const bt=f;if(f===bt){if(!tt||"object"!=typeof tt||Array.isArray(tt))return Bo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let _t;if(void 0===tt.interface&&(_t="interface")||void 0===tt.method&&(_t="method")||void 0===tt.messageTimestamp&&(_t="messageTimestamp")||void 0===tt.filter&&(_t="filter"))return Bo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:_t},message:"must have required property '"+_t+"'"}],!1;{const xt=f;for(const Nt in tt)if("interface"!==Nt&&"method"!==Nt&&"messageTimestamp"!==Nt&&"filter"!==Nt&&"pagination"!==Nt&&"dateSort"!==Nt)return Bo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Nt},message:"must NOT have additional properties"}],!1;if(xt===f){if(void 0!==tt.interface){let Nt=tt.interface;const Xt=f;if("string"!=typeof Nt)return Bo.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Nt)return Bo.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Gf.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Xt===f}else k=!0;if(k){if(void 0!==tt.method){let Nt=tt.method;const Xt=f;if("string"!=typeof Nt)return Bo.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Nt)return Bo.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Gf.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Xt===f}else k=!0;if(k){if(void 0!==tt.messageTimestamp){let Nt=tt.messageTimestamp;const Xt=f;if(f==f){if("string"!=typeof Nt)return Bo.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(Nt))return Bo.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=Xt===f}else k=!0;if(k){if(void 0!==tt.filter){const Nt=f;Nr(tt.filter,{instancePath:t+"/descriptor/filter",parentData:tt,parentDataProperty:"filter",rootData:u,dynamicAnchors:h})||(l=null===l?Nr.errors:l.concat(Nr.errors),f=l.length),k=Nt===f}else k=!0;if(k){if(void 0!==tt.pagination){let Nt=tt.pagination;const Xt=f;if(f===Xt){if(!Nt||"object"!=typeof Nt||Array.isArray(Nt))return Bo.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const un=f;for(const Ht in Nt)if("limit"!==Ht&&"cursor"!==Ht)return Bo.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ht},message:"must NOT have additional properties"}],!1;if(un===f){if(void 0!==Nt.limit){let Ht=Nt.limit;const Sn=f;if(f===Sn){if("number"!=typeof Ht||!isFinite(Ht))return Bo.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Ht<1||isNaN(Ht))return Bo.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var re=Sn===f}else re=!0;if(re)if(void 0!==Nt.cursor){let Ht=Nt.cursor;const Sn=f;if(f==f){if(!Ht||"object"!=typeof Ht||Array.isArray(Ht))return Bo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ht).length<1)return Bo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let cr;if(void 0===Ht.messageCid&&(cr="messageCid")||void 0===Ht.value&&(cr="value"))return Bo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:cr},message:"must have required property '"+cr+"'"}],!1;{const $n=f;for(const jn in Ht)if("messageCid"!==jn&&"value"!==jn)return Bo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:jn},message:"must NOT have additional properties"}],!1;if($n===f){if(void 0!==Ht.messageCid){const jn=f;if("string"!=typeof Ht.messageCid)return Bo.errors=[{instancePath:t+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Oe=jn===f}else Oe=!0;if(Oe)if(void 0!==Ht.value){let jn=Ht.value;const Kn=f;if("string"!=typeof jn&&("number"!=typeof jn||!isFinite(jn)))return Bo.errors=[{instancePath:t+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:dc.properties.value.type},message:"must be string,number"}],!1;Oe=Kn===f}else Oe=!0}}}}re=Sn===f}else re=!0}}}k=Xt===f}else k=!0;if(k)if(void 0!==tt.dateSort){let Nt=tt.dateSort;const Xt=f;if("string"!=typeof Nt)return Bo.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==Nt&&"createdDescending"!==Nt&&"publishedAscending"!==Nt&&"publishedDescending"!==Nt)return Bo.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:Gf.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;k=Xt===f}else k=!0}}}}}}}}W=bt===f}else W=!0}}}}return Bo.errors=l,0===f}Nr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Bo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Yy=ua,rl={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function ua(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=ua.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return ua.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let re;if(void 0===r.descriptor&&(re="descriptor"))return ua.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:re},message:"must have required property '"+re+"'"}],!1;{const Oe=f;for(const je in r)if("authorization"!==je&&"descriptor"!==je)return ua.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Oe===f){if(void 0!==r.authorization){const je=f;Zr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?Zr.errors:l.concat(Zr.errors),f=l.length);var W=je===f}else W=!0;if(W)if(void 0!==r.descriptor){let je=r.descriptor;const Ke=f;if(f===Ke){if(!je||"object"!=typeof je||Array.isArray(je))return ua.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let bt;if(void 0===je.interface&&(bt="interface")||void 0===je.method&&(bt="method")||void 0===je.messageTimestamp&&(bt="messageTimestamp")||void 0===je.filter&&(bt="filter"))return ua.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:bt},message:"must have required property '"+bt+"'"}],!1;{const kt=f;for(const _t in je)if("interface"!==_t&&"method"!==_t&&"messageTimestamp"!==_t&&"filter"!==_t)return ua.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_t},message:"must NOT have additional properties"}],!1;if(kt===f){if(void 0!==je.interface){let _t=je.interface;const xt=f;if("string"!=typeof _t)return ua.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==_t)return ua.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:rl.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=xt===f}else k=!0;if(k){if(void 0!==je.method){let _t=je.method;const xt=f;if("string"!=typeof _t)return ua.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==_t)return ua.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:rl.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=xt===f}else k=!0;if(k){if(void 0!==je.messageTimestamp){let _t=je.messageTimestamp;const xt=f;if(f==f){if("string"!=typeof _t)return ua.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(_t))return ua.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=xt===f}else k=!0;if(k)if(void 0!==je.filter){const _t=f;Nr(je.filter,{instancePath:t+"/descriptor/filter",parentData:je,parentDataProperty:"filter",rootData:u,dynamicAnchors:h})||(l=null===l?Nr.errors:l.concat(Nr.errors),f=l.length),k=_t===f}else k=!0}}}}}}W=Ke===f}else W=!0}}}}return ua.errors=l,0===f}ua.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const hd=Jt;function Jt(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Jt.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),Qr(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:u,dynamicAnchors:h}))var W=Qr.evaluated.props;else l=null===l?Qr.errors:l.concat(Qr.errors),f=l.length;if(0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Jt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.recordId&&(k="recordId")||void 0===r.authorization&&(k="authorization"))return Jt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;if(!0!==W)for(const re in r)if(!W||!W[re])return Jt.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:re},message:"must NOT have unevaluated properties"}],!1}}return Jt.errors=l,0===f}Jt.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const St=Qa,$t=Qr,An=Zn,ir={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Permissions","Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Grant","Revoke","Write"],type:"string"},protocol:{type:"string"},protocolPath:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},recordId:{type:"string"},parentId:{type:"string"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Zn(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Zn.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Zn.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Zn.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const un=f;for(const Ht in r)if(!cc.call(ir.properties,Ht))return Zn.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ht},message:"must NOT have additional properties"}],!1;if(un===f){if(void 0!==r.datePublished){const Ht=f,Sn=f;let Jn=!1,Yn=null;const cr=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xn;if(void 0===r.published&&(Xn="published")){const Dn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:Xn},message:"must have required property '"+Xn+"'"};null===l?l=[Dn]:l.push(Dn),f++}else if(void 0!==r.published&&!0!==r.published){const Dn={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:ir.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===l?l=[Dn]:l.push(Dn),f++}}cr===f&&(Jn=!0,Yn=0);const $n=f,jn=f,Kn=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xn;if(void 0===r.published&&(Xn="published")){const Dn={};null===l?l=[Dn]:l.push(Dn),f++}}var re;if(Kn===f){const Xn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===l?l=[Xn]:l.push(Xn),f++}else f=jn,null!==l&&(jn?l.length=jn:l=null);if((re=$n===f)&&Jn?(Jn=!1,Yn=[Yn,1]):re&&(Jn=!0,Yn=1),!Jn){const Xn={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:Yn},message:"must match exactly one schema in oneOf"};return null===l?l=[Xn]:l.push(Xn),f++,Zn.errors=l,!1}f=Sn,null!==l&&(Sn?l.length=Sn:l=null);var Oe=Ht===f}else Oe=!0;if(Oe){if(void 0!==r.interface){let Ht=r.interface;const Sn=f;if("string"!=typeof Ht)return Zn.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Permissions"!==Ht&&"Protocols"!==Ht&&"Records"!==Ht)return Zn.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:ir.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var je=Sn===f}else je=!0;if(je){if(void 0!==r.method){let Ht=r.method;const Sn=f;if("string"!=typeof Ht)return Zn.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==Ht&&"Delete"!==Ht&&"Grant"!==Ht&&"Revoke"!==Ht&&"Write"!==Ht)return Zn.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:ir.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;je=Sn===f}else je=!0;if(je){if(void 0!==r.protocol){const Ht=f;if("string"!=typeof r.protocol)return Zn.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.protocolPath){const Ht=f;if("string"!=typeof r.protocolPath)return Zn.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.recipient){let Ht=r.recipient;const Sn=f;if(f==f){if("string"!=typeof Ht)return Zn.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wl.test(Ht))return Zn.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}je=Sn===f}else je=!0;if(je){if(void 0!==r.contextId){const Ht=f;if("string"!=typeof r.contextId)return Zn.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.schema){const Ht=f;if("string"!=typeof r.schema)return Zn.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.recordId){const Ht=f;if("string"!=typeof r.recordId)return Zn.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.parentId){const Ht=f;if("string"!=typeof r.parentId)return Zn.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.dataFormat){const Ht=f;if("string"!=typeof r.dataFormat)return Zn.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;je=Ht===f}else je=!0;if(je){if(void 0!==r.dataSize){let Ht=r.dataSize;const Sn=f;if(f==f){if(!Ht||"object"!=typeof Ht||Array.isArray(Ht))return Zn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ht).length<1)return Zn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const cr=f;for(const $n in Ht)if("gt"!==$n&&"gte"!==$n&&"lt"!==$n&&"lte"!==$n)return Zn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$n},message:"must NOT have additional properties"}],!1;if(cr===f){if(void 0!==Ht.gt){const $n=f,jn=f,Kn=f;if(Ht&&"object"==typeof Ht&&!Array.isArray(Ht)){let Xn;if(void 0===Ht.gte&&(Xn="gte")){const Dn={};null===l?l=[Dn]:l.push(Dn),f++}}if(Kn===f)return Zn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=jn,null!==l&&(jn?l.length=jn:l=null);var tt=$n===f}else tt=!0;if(tt){if(void 0!==Ht.gte){const $n=f,jn=f,Kn=f;if(Ht&&"object"==typeof Ht&&!Array.isArray(Ht)){let Dn;if(void 0===Ht.gt&&(Dn="gt")){const gr={};null===l?l=[gr]:l.push(gr),f++}}if(Kn===f)return Zn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=jn,null!==l&&(jn?l.length=jn:l=null),tt=$n===f}else tt=!0;if(tt){if(void 0!==Ht.lt){const $n=f,jn=f,Kn=f;if(Ht&&"object"==typeof Ht&&!Array.isArray(Ht)){let Dn;if(void 0===Ht.lte&&(Dn="lte")){const gr={};null===l?l=[gr]:l.push(gr),f++}}if(Kn===f)return Zn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=jn,null!==l&&(jn?l.length=jn:l=null),tt=$n===f}else tt=!0;if(tt){if(void 0!==Ht.lte){const $n=f,jn=f,Kn=f;if(Ht&&"object"==typeof Ht&&!Array.isArray(Ht)){let Dn;if(void 0===Ht.lt&&(Dn="lt")){const gr={};null===l?l=[gr]:l.push(gr),f++}}if(Kn===f)return Zn.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=jn,null!==l&&(jn?l.length=jn:l=null),tt=$n===f}else tt=!0;if(tt){if(void 0!==Ht.gt){let $n=Ht.gt;const jn=f;if("number"!=typeof $n||!isFinite($n))return Zn.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var xt=jn===f}else xt=!0;if(xt){if(void 0!==Ht.gte){let $n=Ht.gte;const jn=f;if("number"!=typeof $n||!isFinite($n))return Zn.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;xt=jn===f}else xt=!0;if(xt){if(void 0!==Ht.lt){let $n=Ht.lt;const jn=f;if("number"!=typeof $n||!isFinite($n))return Zn.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;xt=jn===f}else xt=!0;if(xt)if(void 0!==Ht.lte){let $n=Ht.lte;const jn=f;if("number"!=typeof $n||!isFinite($n))return Zn.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;xt=jn===f}else xt=!0}}}}}}}}}je=Sn===f}else je=!0;if(je){if(void 0!==r.dateCreated){let Ht=r.dateCreated;const Sn=f;if(f===Sn){if(!Ht||"object"!=typeof Ht||Array.isArray(Ht))return Zn.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ht).length<1)return Zn.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Yn=f;for(const cr in Ht)if("from"!==cr&&"to"!==cr)return Zn.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cr},message:"must NOT have additional properties"}],!1;if(Yn===f){if(void 0!==Ht.from){let cr=Ht.from;const $n=f;if(f==f){if("string"!=typeof cr)return Zn.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(cr))return Zn.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Nt=$n===f}else Nt=!0;if(Nt)if(void 0!==Ht.to){let cr=Ht.to;const $n=f;if(f==f){if("string"!=typeof cr)return Zn.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(cr))return Zn.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Nt=$n===f}else Nt=!0}}}je=Sn===f}else je=!0;if(je){if(void 0!==r.datePublished){let Ht=r.datePublished;const Sn=f;if(f===Sn){if(!Ht||"object"!=typeof Ht||Array.isArray(Ht))return Zn.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ht).length<1)return Zn.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Yn=f;for(const cr in Ht)if("from"!==cr&&"to"!==cr)return Zn.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cr},message:"must NOT have additional properties"}],!1;if(Yn===f){if(void 0!==Ht.from){let cr=Ht.from;const $n=f;if(f==f){if("string"!=typeof cr)return Zn.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(cr))return Zn.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Xt=$n===f}else Xt=!0;if(Xt)if(void 0!==Ht.to){let cr=Ht.to;const $n=f;if(f==f){if("string"!=typeof cr)return Zn.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(cr))return Zn.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Xt=$n===f}else Xt=!0}}}je=Sn===f}else je=!0;if(je)if(void 0!==r.dateUpdated){let Ht=r.dateUpdated;const Sn=f;if(f===Sn){if(!Ht||"object"!=typeof Ht||Array.isArray(Ht))return Zn.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ht).length<1)return Zn.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Yn=f;for(const cr in Ht)if("from"!==cr&&"to"!==cr)return Zn.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:cr},message:"must NOT have additional properties"}],!1;if(Yn===f){if(void 0!==Ht.from){let cr=Ht.from;const $n=f;if(f==f){if("string"!=typeof cr)return Zn.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(cr))return Zn.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var qt=$n===f}else qt=!0;if(qt)if(void 0!==Ht.to){let cr=Ht.to;const $n=f;if(f==f){if("string"!=typeof cr)return Zn.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(cr))return Zn.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}qt=$n===f}else qt=!0}}}je=Sn===f}else je=!0}}}}}}}}}}}}}}}}return Zn.errors=l,0===f}Zn.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ti=ii,Eo={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{type:"string"},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function ii(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=ii.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return ii.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Oe;if(void 0===r.authorization&&(Oe="authorization")||void 0===r.descriptor&&(Oe="descriptor"))return ii.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Oe},message:"must have required property '"+Oe+"'"}],!1;{const je=f;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return ii.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(je===f){if(void 0!==r.authorization){const Ke=f;bs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?bs.errors:l.concat(bs.errors),f=l.length);var W=Ke===f}else W=!0;if(W)if(void 0!==r.descriptor){let Ke=r.descriptor;const tt=f;if(f===tt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return ii.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let kt;if(void 0===Ke.interface&&(kt="interface")||void 0===Ke.method&&(kt="method")||void 0===Ke.messageTimestamp&&(kt="messageTimestamp"))return ii.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:kt},message:"must have required property '"+kt+"'"}],!1;{const _t=f;for(const xt in Ke)if("interface"!==xt&&"method"!==xt&&"messageTimestamp"!==xt&&"cursor"!==xt)return ii.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:xt},message:"must NOT have additional properties"}],!1;if(_t===f){if(void 0!==Ke.interface){let xt=Ke.interface;const Nt=f;if("string"!=typeof xt)return ii.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==xt)return ii.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Eo.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Nt===f}else k=!0;if(k){if(void 0!==Ke.method){let xt=Ke.method;const Nt=f;if("string"!=typeof xt)return ii.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==xt)return ii.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Eo.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Nt===f}else k=!0;if(k){if(void 0!==Ke.messageTimestamp){const xt=f;if("string"!=typeof Ke.messageTimestamp)return ii.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;k=xt===f}else k=!0;if(k)if(void 0!==Ke.cursor){let xt=Ke.cursor;const Nt=f;if(f==f){if(!xt||"object"!=typeof xt||Array.isArray(xt))return ii.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(xt).length<1)return ii.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let un;if(void 0===xt.messageCid&&(un="messageCid")||void 0===xt.value&&(un="value"))return ii.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:un},message:"must have required property '"+un+"'"}],!1;{const Ht=f;for(const Sn in xt)if("messageCid"!==Sn&&"value"!==Sn)return ii.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Sn},message:"must NOT have additional properties"}],!1;if(Ht===f){if(void 0!==xt.messageCid){const Sn=f;if("string"!=typeof xt.messageCid)return ii.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var re=Sn===f}else re=!0;if(re)if(void 0!==xt.value){let Sn=xt.value;const Jn=f;if("string"!=typeof Sn&&("number"!=typeof Sn||!isFinite(Sn)))return ii.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:dc.properties.value.type},message:"must be string,number"}],!1;re=Jn===f}else re=!0}}}}k=Nt===f}else k=!0}}}}}}W=tt===f}else W=!0}}}}return ii.errors=l,0===f}ii.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ts=Ci,Cr={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",minItems:1,items:{$ref:"https://identity.foundation/dwn/json-schemas/events-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function Ci(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Ci.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Ci.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let je;if(void 0===r.authorization&&(je="authorization")||void 0===r.descriptor&&(je="descriptor"))return Ci.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:je},message:"must have required property '"+je+"'"}],!1;{const Ke=f;for(const tt in r)if("authorization"!==tt&&"descriptor"!==tt)return Ci.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:tt},message:"must NOT have additional properties"}],!1;if(Ke===f){if(void 0!==r.authorization){const tt=f;bs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?bs.errors:l.concat(bs.errors),f=l.length);var W=tt===f}else W=!0;if(W)if(void 0!==r.descriptor){let tt=r.descriptor;const bt=f;if(f===bt){if(!tt||"object"!=typeof tt||Array.isArray(tt))return Ci.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let _t;if(void 0===tt.interface&&(_t="interface")||void 0===tt.method&&(_t="method")||void 0===tt.messageTimestamp&&(_t="messageTimestamp")||void 0===tt.filters&&(_t="filters"))return Ci.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:_t},message:"must have required property '"+_t+"'"}],!1;{const xt=f;for(const Nt in tt)if("interface"!==Nt&&"method"!==Nt&&"messageTimestamp"!==Nt&&"filters"!==Nt&&"cursor"!==Nt)return Ci.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Nt},message:"must NOT have additional properties"}],!1;if(xt===f){if(void 0!==tt.interface){let Nt=tt.interface;const Xt=f;if("string"!=typeof Nt)return Ci.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==Nt)return Ci.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Cr.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Xt===f}else k=!0;if(k){if(void 0!==tt.method){let Nt=tt.method;const Xt=f;if("string"!=typeof Nt)return Ci.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Nt)return Ci.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Cr.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Xt===f}else k=!0;if(k){if(void 0!==tt.messageTimestamp){let Nt=tt.messageTimestamp;const Xt=f;if(f==f){if("string"!=typeof Nt)return Ci.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(Nt))return Ci.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=Xt===f}else k=!0;if(k){if(void 0!==tt.filters){let Nt=tt.filters;const Xt=f;if(f===Xt){if(!Array.isArray(Nt))return Ci.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Nt.length<1)return Ci.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const un=Nt.length;for(let Ht=0;Ht<un;Ht++){const Sn=f;if(Zn(Nt[Ht],{instancePath:t+"/descriptor/filters/"+Ht,parentData:Nt,parentDataProperty:Ht,rootData:u,dynamicAnchors:h})||(l=null===l?Zn.errors:l.concat(Zn.errors),f=l.length),Sn!==f)break}}}k=Xt===f}else k=!0;if(k)if(void 0!==tt.cursor){let Nt=tt.cursor;const Xt=f;if(f==f){if(!Nt||"object"!=typeof Nt||Array.isArray(Nt))return Ci.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Nt).length<1)return Ci.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let Ht;if(void 0===Nt.messageCid&&(Ht="messageCid")||void 0===Nt.value&&(Ht="value"))return Ci.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:Ht},message:"must have required property '"+Ht+"'"}],!1;{const Sn=f;for(const Jn in Nt)if("messageCid"!==Jn&&"value"!==Jn)return Ci.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Jn},message:"must NOT have additional properties"}],!1;if(Sn===f){if(void 0!==Nt.messageCid){const Jn=f;if("string"!=typeof Nt.messageCid)return Ci.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Oe=Jn===f}else Oe=!0;if(Oe)if(void 0!==Nt.value){let Jn=Nt.value;const Yn=f;if("string"!=typeof Jn&&("number"!=typeof Jn||!isFinite(Jn)))return Ci.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:dc.properties.value.type},message:"must be string,number"}],!1;Oe=Yn===f}else Oe=!0}}}}k=Xt===f}else k=!0}}}}}}}W=bt===f}else W=!0}}}}return Ci.errors=l,0===f}Ci.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const rt=be,Ce={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/events-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Events"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/events-filter.json"}}}}}};function be(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=be.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return be.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Oe;if(void 0===r.descriptor&&(Oe="descriptor")||void 0===r.authorization&&(Oe="authorization"))return be.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Oe},message:"must have required property '"+Oe+"'"}],!1;{const je=f;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return be.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(je===f){if(void 0!==r.authorization){const Ke=f;bs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?bs.errors:l.concat(bs.errors),f=l.length);var W=Ke===f}else W=!0;if(W)if(void 0!==r.descriptor){let Ke=r.descriptor;const tt=f;if(f===tt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return be.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let kt;if(void 0===Ke.interface&&(kt="interface")||void 0===Ke.method&&(kt="method")||void 0===Ke.messageTimestamp&&(kt="messageTimestamp")||void 0===Ke.filters&&(kt="filters"))return be.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:kt},message:"must have required property '"+kt+"'"}],!1;{const _t=f;for(const xt in Ke)if("interface"!==xt&&"method"!==xt&&"messageTimestamp"!==xt&&"filters"!==xt)return be.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:xt},message:"must NOT have additional properties"}],!1;if(_t===f){if(void 0!==Ke.interface){let xt=Ke.interface;const Nt=f;if("string"!=typeof xt)return be.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Events"!==xt)return be.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ce.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Nt===f}else k=!0;if(k){if(void 0!==Ke.method){let xt=Ke.method;const Nt=f;if("string"!=typeof xt)return be.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==xt)return be.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ce.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Nt===f}else k=!0;if(k){if(void 0!==Ke.messageTimestamp){const xt=f;if("string"!=typeof Ke.messageTimestamp)return be.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;k=xt===f}else k=!0;if(k)if(void 0!==Ke.filters){let xt=Ke.filters;const Nt=f;if(f===Nt){if(!Array.isArray(xt))return be.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const qt=xt.length;for(let un=0;un<qt;un++){const Ht=f;if(Zn(xt[un],{instancePath:t+"/descriptor/filters/"+un,parentData:xt,parentDataProperty:un,rootData:u,dynamicAnchors:h})||(l=null===l?Zn.errors:l.concat(Zn.errors),f=l.length),Ht!==f)break}}}k=Nt===f}else k=!0}}}}}}W=tt===f}else W=!0}}}}return be.errors=l,0===f}be.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const xe=st;function st(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=st.evaluated;return X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(st.errors=null,!0):(st.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}st.evaluated={dynamicProps:!1,dynamicItems:!1};const Mt=Qt;function Qt(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Qt.evaluated;X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0);const W=f;let k=!1,re=null;const Oe=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xt;if(void 0===r.crv&&(Xt="crv")||void 0===r.x&&(Xt="x")){const qt={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"};null===l?l=[qt]:l.push(qt),f++}else{if(void 0!==r.kty){const qt=f;if("EC"!==r.kty){const un={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===l?l=[un]:l.push(un),f++}var je=qt===f}else je=!0;if(je){if(void 0!==r.crv){const qt=f;if("string"!=typeof r.crv){const Ht={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}je=qt===f}else je=!0;if(je){if(void 0!==r.x){const qt=f;if("string"!=typeof r.x){const Ht={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}je=qt===f}else je=!0;if(je){if(void 0!==r.y){const qt=f;if("string"!=typeof r.y){const Ht={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}je=qt===f}else je=!0;if(je)if(void 0!==r.d){const qt=f;if("string"!=typeof r.d){const Ht={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}je=qt===f}else je=!0}}}}}if(kt=Oe===f){k=!0,re=0;var Ke={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const tt=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Xt;if(void 0===r.crv&&(Xt="crv")||void 0===r.x&&(Xt="x")){const qt={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"};null===l?l=[qt]:l.push(qt),f++}else{if(void 0!==r.kty){const qt=f;if("OKP"!==r.kty){const un={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===l?l=[un]:l.push(un),f++}var bt=qt===f}else bt=!0;if(bt){if(void 0!==r.crv){const qt=f;if("string"!=typeof r.crv){const Ht={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}bt=qt===f}else bt=!0;if(bt){if(void 0!==r.x){const qt=f;if("string"!=typeof r.x){const Ht={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}bt=qt===f}else bt=!0;if(bt)if(void 0!==r.d){const qt=f;if("string"!=typeof r.d){const Ht={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Ht]:l.push(Ht),f++}bt=qt===f}else bt=!0}}}}if((kt=tt===f)&&k)k=!1,re=[re,1];else{kt&&(k=!0,re=1,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.crv=!0,Ke.x=!0,Ke.d=!0));const Xt=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let un;if(void 0===r.n&&(un="n")||void 0===r.e&&(un="e")){const Ht={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:un},message:"must have required property '"+un+"'"};null===l?l=[Ht]:l.push(Ht),f++}else{if(void 0!==r.kty){const Ht=f;if("RSA"!==r.kty){const Sn={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===l?l=[Sn]:l.push(Sn),f++}var _t=Ht===f}else _t=!0;if(_t){if(void 0!==r.n){const Ht=f;if("string"!=typeof r.n){const Jn={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}_t=Ht===f}else _t=!0;if(_t){if(void 0!==r.e){const Ht=f;if("string"!=typeof r.e){const Jn={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}_t=Ht===f}else _t=!0;if(_t){if(void 0!==r.d){const Ht=f;if("string"!=typeof r.d){const Jn={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}_t=Ht===f}else _t=!0;if(_t){if(void 0!==r.p){const Ht=f;if("string"!=typeof r.p){const Jn={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}_t=Ht===f}else _t=!0;if(_t){if(void 0!==r.q){const Ht=f;if("string"!=typeof r.q){const Jn={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}_t=Ht===f}else _t=!0;if(_t){if(void 0!==r.dp){const Ht=f;if("string"!=typeof r.dp){const Jn={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}_t=Ht===f}else _t=!0;if(_t){if(void 0!==r.dq){const Ht=f;if("string"!=typeof r.dq){const Jn={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}_t=Ht===f}else _t=!0;if(_t){if(void 0!==r.qi){const Ht=f;if("string"!=typeof r.qi){const Jn={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Jn]:l.push(Jn),f++}_t=Ht===f}else _t=!0;if(_t)if(void 0!==r.oth){let Ht=r.oth;const Sn=f;if(!Ht||"object"!=typeof Ht||Array.isArray(Ht)){const Yn={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Yn]:l.push(Yn),f++}_t=Sn===f}else _t=!0}}}}}}}}}}if((kt=Xt===f)&&k)k=!1,re=[re,2];else{kt&&(k=!0,re=2,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.n=!0,Ke.e=!0,Ke.d=!0,Ke.p=!0,Ke.q=!0,Ke.dp=!0,Ke.dq=!0,Ke.qi=!0,Ke.oth=!0));const un=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Sn;if(void 0===r.k&&(Sn="k")){const Jn={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:Sn},message:"must have required property '"+Sn+"'"};null===l?l=[Jn]:l.push(Jn),f++}else{if(void 0!==r.kty){const Jn=f;if("oct"!==r.kty){const Yn={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===l?l=[Yn]:l.push(Yn),f++}var xt=Jn===f}else xt=!0;if(xt)if(void 0!==r.k){const Jn=f;if("string"!=typeof r.k){const cr={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[cr]:l.push(cr),f++}xt=Jn===f}else xt=!0}}var kt;(kt=un===f)&&k?(k=!1,re=[re,3]):kt&&(k=!0,re=3,!0!==Ke&&((Ke=Ke||{}).kty=!0,Ke.k=!0))}}if(!k){const Xt={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:re},message:"must match exactly one schema in oneOf"};return null===l?l=[Xt]:l.push(Xt),f++,Qt.errors=l,!1}if(f=W,null!==l&&(W?l.length=W:l=null),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Qt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Xt;if(void 0===r.kty&&(Xt="kty"))return Qt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Xt},message:"must have required property '"+Xt+"'"}],!1;if(!0!==Ke&&((Ke=Ke||{}).alg=!0,Ke.kid=!0,Ke.kty=!0,Ke.crv=!0,Ke.use=!0,Ke.key_ops=!0,Ke.x5u=!0,Ke.x5c=!0,Ke.x5t=!0,Ke["x5t#S256"]=!0),void 0!==r.alg){const qt=f;if("string"!=typeof r.alg)return Qt.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Nt=qt===f}else Nt=!0;if(Nt){if(void 0!==r.kid){const qt=f;if("string"!=typeof r.kid)return Qt.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=qt===f}else Nt=!0;if(Nt){if(void 0!==r.kty){let qt=r.kty;const un=f;if("EC"!==qt&&"RSA"!==qt&&"oct"!==qt&&"OKP"!==qt)return Qt.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:Ha.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Nt=un===f}else Nt=!0;if(Nt){if(void 0!==r.crv){const qt=f;if("string"!=typeof r.crv)return Qt.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=qt===f}else Nt=!0;if(Nt){if(void 0!==r.use){const qt=f;if("string"!=typeof r.use)return Qt.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=qt===f}else Nt=!0;if(Nt){if(void 0!==r.key_ops){const qt=f;if("string"!=typeof r.key_ops)return Qt.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=qt===f}else Nt=!0;if(Nt){if(void 0!==r.x5u){const qt=f;if("string"!=typeof r.x5u)return Qt.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=qt===f}else Nt=!0;if(Nt){if(void 0!==r.x5c){const qt=f;if("string"!=typeof r.x5c)return Qt.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=qt===f}else Nt=!0;if(Nt){if(void 0!==r.x5t){const qt=f;if("string"!=typeof r.x5t)return Qt.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=qt===f}else Nt=!0;if(Nt)if(void 0!==r["x5t#S256"]){const qt=f;if("string"!=typeof r["x5t#S256"])return Qt.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Nt=qt===f}else Nt=!0}}}}}}}}}}return Qt.errors=l,X.props=Ke,0===f}Qt.evaluated={dynamicProps:!0,dynamicItems:!1};const In=Yo,Ie=oe,ie={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function oe(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=oe.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return oe.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.id&&(k="id")||void 0===r.type&&(k="type")||void 0===r.controller&&(k="controller")||void 0===r.publicKeyJwk&&(k="publicKeyJwk"))return oe.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=f;for(const Oe in r)if("id"!==Oe&&"type"!==Oe&&"controller"!==Oe&&"publicKeyJwk"!==Oe)return oe.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(re===f){if(void 0!==r.id){const Oe=f;if("string"!=typeof r.id)return oe.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=Oe===f}else W=!0;if(W){if(void 0!==r.type){let Oe=r.type;const je=f;if("JsonWebKey"!==Oe&&"JsonWebKey2020"!==Oe)return oe.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:ie.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;W=je===f}else W=!0;if(W){if(void 0!==r.controller){let Oe=r.controller;const je=f;if(f==f){if("string"!=typeof Oe)return oe.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wl.test(Oe))return oe.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}W=je===f}else W=!0;if(W)if(void 0!==r.publicKeyJwk){const Oe=f;Xi(r.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:u,dynamicAnchors:h})||(l=null===l?Xi.errors:l.concat(Xi.errors),f=l.length),W=Oe===f}else W=!0}}}}}}return oe.errors=l,0===f}oe.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ye=Ze,Je={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-get.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Get"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCids:{type:"array",items:{type:"string"},minItems:1}}}}};function Ze(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Ze.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Ze.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Oe;if(void 0===r.authorization&&(Oe="authorization")||void 0===r.descriptor&&(Oe="descriptor"))return Ze.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Oe},message:"must have required property '"+Oe+"'"}],!1;{const je=f;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return Ze.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(je===f){if(void 0!==r.authorization){const Ke=f;bs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?bs.errors:l.concat(bs.errors),f=l.length);var W=Ke===f}else W=!0;if(W)if(void 0!==r.descriptor){let Ke=r.descriptor;const tt=f;if(f===tt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return Ze.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let kt;if(void 0===Ke.interface&&(kt="interface")||void 0===Ke.method&&(kt="method")||void 0===Ke.messageTimestamp&&(kt="messageTimestamp"))return Ze.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:kt},message:"must have required property '"+kt+"'"}],!1;{const _t=f;for(const xt in Ke)if("interface"!==xt&&"method"!==xt&&"messageTimestamp"!==xt&&"messageCids"!==xt)return Ze.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:xt},message:"must NOT have additional properties"}],!1;if(_t===f){if(void 0!==Ke.interface){let xt=Ke.interface;const Nt=f;if("string"!=typeof xt)return Ze.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==xt)return Ze.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Je.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Nt===f}else k=!0;if(k){if(void 0!==Ke.method){let xt=Ke.method;const Nt=f;if("string"!=typeof xt)return Ze.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Get"!==xt)return Ze.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Je.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Nt===f}else k=!0;if(k){if(void 0!==Ke.messageTimestamp){let xt=Ke.messageTimestamp;const Nt=f;if(f==f){if("string"!=typeof xt)return Ze.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(xt))return Ze.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=Nt===f}else k=!0;if(k)if(void 0!==Ke.messageCids){let xt=Ke.messageCids;const Nt=f;if(f===Nt){if(!Array.isArray(xt))return Ze.errors=[{instancePath:t+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(xt.length<1)return Ze.errors=[{instancePath:t+"/descriptor/messageCids",schemaPath:"#/properties/descriptor/properties/messageCids/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const qt=xt.length;for(let un=0;un<qt;un++){const Ht=f;if("string"!=typeof xt[un])return Ze.errors=[{instancePath:t+"/descriptor/messageCids/"+un,schemaPath:"#/properties/descriptor/properties/messageCids/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Ht!==f)break}}}k=Nt===f}else k=!0}}}}}}W=tt===f}else W=!0}}}}return Ze.errors=l,0===f}Ze.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ht=Vt;function Vt(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Vt.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Vt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Vt.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const tt=f;for(const bt in r)if("gt"!==bt&&"gte"!==bt&&"lt"!==bt&&"lte"!==bt)return Vt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(tt===f){if(void 0!==r.gt){const bt=f,kt=f,_t=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let xt;if(void 0===r.gte&&(xt="gte")){const Nt={};null===l?l=[Nt]:l.push(Nt),f++}}if(_t===f)return Vt.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=kt,null!==l&&(kt?l.length=kt:l=null);var k=bt===f}else k=!0;if(k){if(void 0!==r.gte){const bt=f,kt=f,_t=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.gt&&(Nt="gt")){const Xt={};null===l?l=[Xt]:l.push(Xt),f++}}if(_t===f)return Vt.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=kt,null!==l&&(kt?l.length=kt:l=null),k=bt===f}else k=!0;if(k){if(void 0!==r.lt){const bt=f,kt=f,_t=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.lte&&(Nt="lte")){const Xt={};null===l?l=[Xt]:l.push(Xt),f++}}if(_t===f)return Vt.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=kt,null!==l&&(kt?l.length=kt:l=null),k=bt===f}else k=!0;if(k){if(void 0!==r.lte){const bt=f,kt=f,_t=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.lt&&(Nt="lt")){const Xt={};null===l?l=[Xt]:l.push(Xt),f++}}if(_t===f)return Vt.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=kt,null!==l&&(kt?l.length=kt:l=null),k=bt===f}else k=!0;if(k){if(void 0!==r.gt){let bt=r.gt;const kt=f;if("number"!=typeof bt||!isFinite(bt))return Vt.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Ke=kt===f}else Ke=!0;if(Ke){if(void 0!==r.gte){let bt=r.gte;const kt=f;if("number"!=typeof bt||!isFinite(bt))return Vt.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Ke=kt===f}else Ke=!0;if(Ke){if(void 0!==r.lt){let bt=r.lt;const kt=f;if("number"!=typeof bt||!isFinite(bt))return Vt.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Ke=kt===f}else Ke=!0;if(Ke)if(void 0!==r.lte){let bt=r.lte;const kt=f;if("number"!=typeof bt||!isFinite(bt))return Vt.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Ke=kt===f}else Ke=!0}}}}}}}}}return Vt.errors=l,0===f}Vt.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const vn=zt;function zt(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=zt.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return zt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return zt.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let k;if(void 0===r.messageCid&&(k="messageCid")||void 0===r.value&&(k="value"))return zt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=0;for(const Oe in r)if("messageCid"!==Oe&&"value"!==Oe)return zt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(0===re){if(void 0!==r.messageCid){const Oe=0;if("string"!=typeof r.messageCid)return zt.errors=[{instancePath:t+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=0===Oe}else W=!0;if(W)if(void 0!==r.value){let Oe=r.value;const je=0;if("string"!=typeof Oe&&("number"!=typeof Oe||!isFinite(Oe)))return zt.errors=[{instancePath:t+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:dc.properties.value.type},message:"must be string,number"}],!1;W=0===je}else W=!0}}}return zt.errors=null,!0}zt.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const dt=Ti,pr={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function Ei(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Ei.evaluated;X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0);const W=f;let k=!1,re=null;const Oe=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.interface){const Ht=f;if("Protocols"!==r.interface){const Sn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===l?l=[Sn]:l.push(Sn),f++}var Ke=Ht===f}else Ke=!0;if(Ke)if(void 0!==r.method){const Ht=f;if("Query"!==r.method){const Jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),f++}Ke=Ht===f}else Ke=!0}else{const Ht={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ht]:l.push(Ht),f++}if(xt=Oe===f){k=!0,re=0;var tt={interface:!0,method:!0}}const bt=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Ht;if(void 0===r.interface&&(Ht="interface")||void 0===r.method&&(Ht="method")){const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Ht},message:"must have required property '"+Ht+"'"};null===l?l=[Sn]:l.push(Sn),f++}else{if(void 0!==r.interface){const Sn=f;if("Records"!==r.interface){const Jn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),f++}var _t=Sn===f}else _t=!0;if(_t){if(void 0!==r.method){const Sn=f;if("Read"!==r.method){const Yn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===l?l=[Yn]:l.push(Yn),f++}_t=Sn===f}else _t=!0;if(_t){if(void 0!==r.schema){const Sn=f;if("string"!=typeof r.schema){const Yn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),f++}_t=Sn===f}else _t=!0;if(_t){if(void 0!==r.protocol){const Sn=f;if("string"!=typeof r.protocol){const Yn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),f++}_t=Sn===f}else _t=!0;if(_t){if(void 0!==r.contextId){const Sn=f;if("string"!=typeof r.contextId){const Yn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),f++}_t=Sn===f}else _t=!0;if(_t)if(void 0!==r.protocolPath){const Sn=f;if("string"!=typeof r.protocolPath){const Yn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),f++}_t=Sn===f}else _t=!0}}}}}}else{const Ht={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ht]:l.push(Ht),f++}if((xt=bt===f)&&k)k=!1,re=[re,1];else{xt&&(k=!0,re=1,!0!==tt&&((tt=tt||{}).interface=!0,tt.method=!0,tt.schema=!0,tt.protocol=!0,tt.contextId=!0,tt.protocolPath=!0));const Ht=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Yn;if(void 0===r.interface&&(Yn="interface")||void 0===r.method&&(Yn="method")){const cr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:Yn},message:"must have required property '"+Yn+"'"};null===l?l=[cr]:l.push(cr),f++}else{if(void 0!==r.interface){const cr=f;if("Records"!==r.interface){const $n={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[$n]:l.push($n),f++}var Nt=cr===f}else Nt=!0;if(Nt){if(void 0!==r.method){const cr=f;if("Delete"!==r.method){const jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===l?l=[jn]:l.push(jn),f++}Nt=cr===f}else Nt=!0;if(Nt){if(void 0!==r.protocol){const cr=f;if("string"!=typeof r.protocol){const jn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[jn]:l.push(jn),f++}Nt=cr===f}else Nt=!0;if(Nt)if(void 0!==r.schema){const cr=f;if("string"!=typeof r.schema){const jn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[jn]:l.push(jn),f++}Nt=cr===f}else Nt=!0}}}}else{const Yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Yn]:l.push(Yn),f++}if((xt=Ht===f)&&k)k=!1,re=[re,2];else{xt&&(k=!0,re=2,!0!==tt&&((tt=tt||{}).interface=!0,tt.method=!0,tt.protocol=!0,tt.schema=!0));const Yn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let jn;if(void 0===r.interface&&(jn="interface")||void 0===r.method&&(jn="method")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"};null===l?l=[Kn]:l.push(Kn),f++}else{if(void 0!==r.interface){const Kn=f;if("Records"!==r.interface){const Xn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),f++}var Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.method){const Kn=f;if("Write"!==r.method){const Dn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===l?l=[Dn]:l.push(Dn),f++}Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.schema){const Kn=f;if("string"!=typeof r.schema){const Dn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.protocol){const Kn=f;if("string"!=typeof r.protocol){const Dn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.contextId){const Kn=f;if("string"!=typeof r.contextId){const Dn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Xt=Kn===f}else Xt=!0;if(Xt)if(void 0!==r.protocolPath){const Kn=f;if("string"!=typeof r.protocolPath){const Dn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Xt=Kn===f}else Xt=!0}}}}}}else{const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[jn]:l.push(jn),f++}if((xt=Yn===f)&&k)k=!1,re=[re,3];else{xt&&(k=!0,re=3,!0!==tt&&((tt=tt||{}).interface=!0,tt.method=!0,tt.schema=!0,tt.protocol=!0,tt.contextId=!0,tt.protocolPath=!0));const jn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Dn;if(void 0===r.interface&&(Dn="interface")||void 0===r.method&&(Dn="method")){const gr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:Dn},message:"must have required property '"+Dn+"'"};null===l?l=[gr]:l.push(gr),f++}else{if(void 0!==r.interface){const gr=f;if("Records"!==r.interface){const vr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[vr]:l.push(vr),f++}var qt=gr===f}else qt=!0;if(qt){if(void 0!==r.method){const gr=f;if("Query"!==r.method){const Er={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Er]:l.push(Er),f++}qt=gr===f}else qt=!0;if(qt)if(void 0!==r.protocol){const gr=f;if("string"!=typeof r.protocol){const Er={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Er]:l.push(Er),f++}qt=gr===f}else qt=!0}}}else{const Dn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Dn]:l.push(Dn),f++}if((xt=jn===f)&&k)k=!1,re=[re,4];else{xt&&(k=!0,re=4,!0!==tt&&((tt=tt||{}).interface=!0,tt.method=!0,tt.protocol=!0));const Dn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Er;if(void 0===r.interface&&(Er="interface")||void 0===r.method&&(Er="method")){const Yr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Er},message:"must have required property '"+Er+"'"};null===l?l=[Yr]:l.push(Yr),f++}else{if(void 0!==r.interface){const Yr=f;if("Records"!==r.interface){const hi={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[hi]:l.push(hi),f++}var un=Yr===f}else un=!0;if(un){if(void 0!==r.method){const Yr=f;if("Subscribe"!==r.method){const kn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===l?l=[kn]:l.push(kn),f++}un=Yr===f}else un=!0;if(un)if(void 0!==r.protocol){const Yr=f;if("string"!=typeof r.protocol){const kn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[kn]:l.push(kn),f++}un=Yr===f}else un=!0}}}else{const Er={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Er]:l.push(Er),f++}var xt;(xt=Dn===f)&&k?(k=!1,re=[re,5]):xt&&(k=!0,re=5,!0!==tt&&((tt=tt||{}).interface=!0,tt.method=!0,tt.protocol=!0))}}}}if(!k){const Ht={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:re},message:"must match exactly one schema in oneOf"};return null===l?l=[Ht]:l.push(Ht),f++,Ei.errors=l,!1}return f=W,null!==l&&(W?l.length=W:l=null),Ei.errors=l,X.props=tt,0===f}function Ti(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Ti.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Ti.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.dateExpires&&(k="dateExpires")||void 0===r.scope&&(k="scope"))return Ti.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=f;for(const Oe in r)if("description"!==Oe&&"dateExpires"!==Oe&&"requestId"!==Oe&&"delegated"!==Oe&&"scope"!==Oe&&"conditions"!==Oe)return Ti.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(re===f){if(void 0!==r.description){const Oe=f;if("string"!=typeof r.description)return Ti.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=Oe===f}else W=!0;if(W){if(void 0!==r.dateExpires){let Oe=r.dateExpires;const je=f;if(f==f){if("string"!=typeof Oe)return Ti.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(Oe))return Ti.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}W=je===f}else W=!0;if(W){if(void 0!==r.requestId){const Oe=f;if("string"!=typeof r.requestId)return Ti.errors=[{instancePath:t+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=Oe===f}else W=!0;if(W){if(void 0!==r.delegated){const Oe=f;if("boolean"!=typeof r.delegated)return Ti.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;W=Oe===f}else W=!0;if(W){if(void 0!==r.scope){const Oe=f;Ei(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:u,dynamicAnchors:h})||(l=null===l?Ei.errors:l.concat(Ei.errors),f=l.length),W=Oe===f}else W=!0;if(W)if(void 0!==r.conditions){let Oe=r.conditions;const je=f;if(f==f){if(!Oe||"object"!=typeof Oe||Array.isArray(Oe))return Ti.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const bt=f;for(const kt in Oe)if("publication"!==kt)return Ti.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:kt},message:"must NOT have additional properties"}],!1;if(bt===f&&void 0!==Oe.publication){let kt=Oe.publication;if("string"!=typeof kt)return Ti.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==kt&&"Prohibited"!==kt)return Ti.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:pr.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}W=je===f}else W=!0}}}}}}}}return Ti.errors=l,0===f}Ei.evaluated={dynamicProps:!0,dynamicItems:!1},Ti.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const qr=ws;function As(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=As.evaluated;X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0);const W=f;let k=!1,re=null;const Oe=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.interface){const Ht=f;if("Protocols"!==r.interface){const Sn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===l?l=[Sn]:l.push(Sn),f++}var Ke=Ht===f}else Ke=!0;if(Ke)if(void 0!==r.method){const Ht=f;if("Query"!==r.method){const Jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),f++}Ke=Ht===f}else Ke=!0}else{const Ht={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ht]:l.push(Ht),f++}if(xt=Oe===f){k=!0,re=0;var tt={interface:!0,method:!0}}const bt=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Ht;if(void 0===r.interface&&(Ht="interface")||void 0===r.method&&(Ht="method")){const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:Ht},message:"must have required property '"+Ht+"'"};null===l?l=[Sn]:l.push(Sn),f++}else{if(void 0!==r.interface){const Sn=f;if("Records"!==r.interface){const Jn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Jn]:l.push(Jn),f++}var _t=Sn===f}else _t=!0;if(_t){if(void 0!==r.method){const Sn=f;if("Read"!==r.method){const Yn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===l?l=[Yn]:l.push(Yn),f++}_t=Sn===f}else _t=!0;if(_t){if(void 0!==r.schema){const Sn=f;if("string"!=typeof r.schema){const Yn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),f++}_t=Sn===f}else _t=!0;if(_t){if(void 0!==r.protocol){const Sn=f;if("string"!=typeof r.protocol){const Yn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),f++}_t=Sn===f}else _t=!0;if(_t){if(void 0!==r.contextId){const Sn=f;if("string"!=typeof r.contextId){const Yn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),f++}_t=Sn===f}else _t=!0;if(_t)if(void 0!==r.protocolPath){const Sn=f;if("string"!=typeof r.protocolPath){const Yn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Yn]:l.push(Yn),f++}_t=Sn===f}else _t=!0}}}}}}else{const Ht={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Ht]:l.push(Ht),f++}if((xt=bt===f)&&k)k=!1,re=[re,1];else{xt&&(k=!0,re=1,!0!==tt&&((tt=tt||{}).interface=!0,tt.method=!0,tt.schema=!0,tt.protocol=!0,tt.contextId=!0,tt.protocolPath=!0));const Ht=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Yn;if(void 0===r.interface&&(Yn="interface")||void 0===r.method&&(Yn="method")){const cr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:Yn},message:"must have required property '"+Yn+"'"};null===l?l=[cr]:l.push(cr),f++}else{if(void 0!==r.interface){const cr=f;if("Records"!==r.interface){const $n={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[$n]:l.push($n),f++}var Nt=cr===f}else Nt=!0;if(Nt){if(void 0!==r.method){const cr=f;if("Delete"!==r.method){const jn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===l?l=[jn]:l.push(jn),f++}Nt=cr===f}else Nt=!0;if(Nt){if(void 0!==r.protocol){const cr=f;if("string"!=typeof r.protocol){const jn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[jn]:l.push(jn),f++}Nt=cr===f}else Nt=!0;if(Nt)if(void 0!==r.schema){const cr=f;if("string"!=typeof r.schema){const jn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[jn]:l.push(jn),f++}Nt=cr===f}else Nt=!0}}}}else{const Yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Yn]:l.push(Yn),f++}if((xt=Ht===f)&&k)k=!1,re=[re,2];else{xt&&(k=!0,re=2,!0!==tt&&((tt=tt||{}).interface=!0,tt.method=!0,tt.protocol=!0,tt.schema=!0));const Yn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let jn;if(void 0===r.interface&&(jn="interface")||void 0===r.method&&(jn="method")){const Kn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:jn},message:"must have required property '"+jn+"'"};null===l?l=[Kn]:l.push(Kn),f++}else{if(void 0!==r.interface){const Kn=f;if("Records"!==r.interface){const Xn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[Xn]:l.push(Xn),f++}var Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.method){const Kn=f;if("Write"!==r.method){const Dn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===l?l=[Dn]:l.push(Dn),f++}Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.schema){const Kn=f;if("string"!=typeof r.schema){const Dn={instancePath:t+"/schema",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.protocol){const Kn=f;if("string"!=typeof r.protocol){const Dn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Xt=Kn===f}else Xt=!0;if(Xt){if(void 0!==r.contextId){const Kn=f;if("string"!=typeof r.contextId){const Dn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Xt=Kn===f}else Xt=!0;if(Xt)if(void 0!==r.protocolPath){const Kn=f;if("string"!=typeof r.protocolPath){const Dn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Dn]:l.push(Dn),f++}Xt=Kn===f}else Xt=!0}}}}}}else{const jn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[jn]:l.push(jn),f++}if((xt=Yn===f)&&k)k=!1,re=[re,3];else{xt&&(k=!0,re=3,!0!==tt&&((tt=tt||{}).interface=!0,tt.method=!0,tt.schema=!0,tt.protocol=!0,tt.contextId=!0,tt.protocolPath=!0));const jn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Dn;if(void 0===r.interface&&(Dn="interface")||void 0===r.method&&(Dn="method")){const gr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:Dn},message:"must have required property '"+Dn+"'"};null===l?l=[gr]:l.push(gr),f++}else{if(void 0!==r.interface){const gr=f;if("Records"!==r.interface){const vr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[vr]:l.push(vr),f++}var qt=gr===f}else qt=!0;if(qt){if(void 0!==r.method){const gr=f;if("Query"!==r.method){const Er={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===l?l=[Er]:l.push(Er),f++}qt=gr===f}else qt=!0;if(qt)if(void 0!==r.protocol){const gr=f;if("string"!=typeof r.protocol){const Er={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Er]:l.push(Er),f++}qt=gr===f}else qt=!0}}}else{const Dn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Dn]:l.push(Dn),f++}if((xt=jn===f)&&k)k=!1,re=[re,4];else{xt&&(k=!0,re=4,!0!==tt&&((tt=tt||{}).interface=!0,tt.method=!0,tt.protocol=!0));const Dn=f;if(f==f)if(r&&"object"==typeof r&&!Array.isArray(r)){let Er;if(void 0===r.interface&&(Er="interface")||void 0===r.method&&(Er="method")){const Yr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:Er},message:"must have required property '"+Er+"'"};null===l?l=[Yr]:l.push(Yr),f++}else{if(void 0!==r.interface){const Yr=f;if("Records"!==r.interface){const hi={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===l?l=[hi]:l.push(hi),f++}var un=Yr===f}else un=!0;if(un){if(void 0!==r.method){const Yr=f;if("Subscribe"!==r.method){const kn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===l?l=[kn]:l.push(kn),f++}un=Yr===f}else un=!0;if(un)if(void 0!==r.protocol){const Yr=f;if("string"!=typeof r.protocol){const kn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[kn]:l.push(kn),f++}un=Yr===f}else un=!0}}}else{const Er={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[Er]:l.push(Er),f++}var xt;(xt=Dn===f)&&k?(k=!1,re=[re,5]):xt&&(k=!0,re=5,!0!==tt&&((tt=tt||{}).interface=!0,tt.method=!0,tt.protocol=!0))}}}}if(!k){const Ht={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:re},message:"must match exactly one schema in oneOf"};return null===l?l=[Ht]:l.push(Ht),f++,As.errors=l,!1}return f=W,null!==l&&(W?l.length=W:l=null),As.errors=l,X.props=tt,0===f}function ws(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=ws.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return ws.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.delegated&&(k="delegated")||void 0===r.scope&&(k="scope"))return ws.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=f;for(const Oe in r)if("description"!==Oe&&"delegated"!==Oe&&"scope"!==Oe&&"conditions"!==Oe)return ws.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(re===f){if(void 0!==r.description){const Oe=f;if("string"!=typeof r.description)return ws.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=Oe===f}else W=!0;if(W){if(void 0!==r.delegated){const Oe=f;if("boolean"!=typeof r.delegated)return ws.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;W=Oe===f}else W=!0;if(W){if(void 0!==r.scope){const Oe=f;As(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:u,dynamicAnchors:h})||(l=null===l?As.errors:l.concat(As.errors),f=l.length),W=Oe===f}else W=!0;if(W)if(void 0!==r.conditions){let Oe=r.conditions;const je=f;if(f==f){if(!Oe||"object"!=typeof Oe||Array.isArray(Oe))return ws.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const bt=f;for(const kt in Oe)if("publication"!==kt)return ws.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:kt},message:"must NOT have additional properties"}],!1;if(bt===f&&void 0!==Oe.publication){let kt=Oe.publication;if("string"!=typeof kt)return ws.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==kt&&"Prohibited"!==kt)return ws.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:pr.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}W=je===f}else W=!0}}}}}}return ws.errors=l,0===f}As.evaluated={dynamicProps:!0,dynamicItems:!1},ws.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const lc=il;function il(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=il.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return il.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const W=0;for(const k in r)if("description"!==k)return il.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties"}],!1;if(0===W&&void 0!==r.description&&"string"!=typeof r.description)return il.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return il.errors=null,!0}il.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const zp=Hp;function Hp(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=Hp.evaluated;return X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Hp.errors=null,!0):(Hp.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Hp.evaluated={dynamicProps:!1,dynamicItems:!1};const ob=zh;function zh(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=zh.evaluated;return X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(zh.errors=null,!0):(zh.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}zh.evaluated={dynamicProps:!1,dynamicItems:!1};const sb=uc,_l=new RegExp(".*","u"),Hh={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},qy=new RegExp("^[^$].*$","u"),I1=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),C1=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),ab=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),a0={validate:$o};function $o(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=$o.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return $o.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const cr=f;for(const $n in r)if("$encryption"!==$n&&"$actions"!==$n&&"$role"!==$n&&"$size"!==$n&&"$tags"!==$n&&!qy.test($n))return $o.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:$n},message:"must NOT have additional properties"}],!1;if(cr===f){if(void 0!==r.$encryption){let $n=r.$encryption;const jn=f;if(f===jn){if(!$n||"object"!=typeof $n||Array.isArray($n))return $o.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Kn;if(void 0===$n.rootKeyId&&(Kn="rootKeyId")||void 0===$n.publicKeyJwk&&(Kn="publicKeyJwk"))return $o.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:Kn},message:"must have required property '"+Kn+"'"}],!1;{const Xn=f;for(const Dn in $n)if("rootKeyId"!==Dn&&"publicKeyJwk"!==Dn)return $o.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Dn},message:"must NOT have additional properties"}],!1;if(Xn===f){if(void 0!==$n.rootKeyId){const Dn=f;if("string"!=typeof $n.rootKeyId)return $o.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=Dn===f}else W=!0;if(W)if(void 0!==$n.publicKeyJwk){const Dn=f;Xi($n.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:$n,parentDataProperty:"publicKeyJwk",rootData:u,dynamicAnchors:h})||(l=null===l?Xi.errors:l.concat(Xi.errors),f=l.length),W=Dn===f}else W=!0}}}}var k=jn===f}else k=!0;if(k){if(void 0!==r.$actions){let $n=r.$actions;const jn=f;if(f===jn){if(!Array.isArray($n))return $o.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if($n.length<1)return $o.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Xn=$n.length;for(let Dn=0;Dn<Xn;Dn++){let gr=$n[Dn];const vr=f;if(!gr||"object"!=typeof gr||Array.isArray(gr))return $o.errors=[{instancePath:t+"/$actions/"+Dn,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const Er=f;let Yr=!1,hi=null;const kn=f;if(gr&&"object"==typeof gr&&!Array.isArray(gr)){let Ir;if(void 0===gr.who&&(Ir="who")||void 0===gr.can&&(Ir="can")){const rr={instancePath:t+"/$actions/"+Dn,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:Ir},message:"must have required property '"+Ir+"'"};null===l?l=[rr]:l.push(rr),f++}else{const rr=f;for(const Tr in gr)if("who"!==Tr&&"of"!==Tr&&"can"!==Tr){const ui={instancePath:t+"/$actions/"+Dn,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Tr},message:"must NOT have additional properties"};null===l?l=[ui]:l.push(ui),f++;break}if(rr===f){if(void 0!==gr.who){let Tr=gr.who;const ui=f;if("string"!=typeof Tr){const Wi={instancePath:t+"/$actions/"+Dn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Wi]:l.push(Wi),f++}if("anyone"!==Tr&&"author"!==Tr&&"recipient"!==Tr){const Wi={instancePath:t+"/$actions/"+Dn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:Hh.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===l?l=[Wi]:l.push(Wi),f++}var Oe=ui===f}else Oe=!0;if(Oe){if(void 0!==gr.of){const Tr=f;if("string"!=typeof gr.of){const Wi={instancePath:t+"/$actions/"+Dn+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Wi]:l.push(Wi),f++}Oe=Tr===f}else Oe=!0;if(Oe)if(void 0!==gr.can){let Tr=gr.can;const ui=f;if(f===ui)if(Array.isArray(Tr))if(Tr.length<1){const Gi={instancePath:t+"/$actions/"+Dn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[Gi]:l.push(Gi),f++}else{const Gi=Tr.length;for(let Mi=0;Mi<Gi;Mi++){let ki=Tr[Mi];const Bd=f;if("string"!=typeof ki){const Or={instancePath:t+"/$actions/"+Dn+"/can/"+Mi,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Or]:l.push(Or),f++}if("co-delete"!==ki&&"co-prune"!==ki&&"co-update"!==ki&&"create"!==ki&&"delete"!==ki&&"prune"!==ki&&"read"!==ki&&"update"!==ki){const Or={instancePath:t+"/$actions/"+Dn+"/can/"+Mi,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:Hh.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===l?l=[Or]:l.push(Or),f++}if(Bd!==f)break}}else{const Gi={instancePath:t+"/$actions/"+Dn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[Gi]:l.push(Gi),f++}Oe=ui===f}else Oe=!0}}}}if(kn===f){Yr=!0,hi=0;var Ke=!0}const yi=f;if(gr&&"object"==typeof gr&&!Array.isArray(gr)){let Ir;if(void 0===gr.role&&(Ir="role")||void 0===gr.can&&(Ir="can")){const rr={instancePath:t+"/$actions/"+Dn,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:Ir},message:"must have required property '"+Ir+"'"};null===l?l=[rr]:l.push(rr),f++}else{if(void 0!==gr.role){const rr=f;if("string"!=typeof gr.role){const Tr={instancePath:t+"/$actions/"+Dn+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[Tr]:l.push(Tr),f++}var tt=rr===f}else tt=!0;if(tt)if(void 0!==gr.can){let rr=gr.can;const Tr=f;if(f===Tr)if(Array.isArray(rr))if(rr.length<1){const Wi={instancePath:t+"/$actions/"+Dn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===l?l=[Wi]:l.push(Wi),f++}else{const Wi=rr.length;for(let Gi=0;Gi<Wi;Gi++){let Mi=rr[Gi];const ki=f;if("string"!=typeof Mi){const ib={instancePath:t+"/$actions/"+Dn+"/can/"+Gi,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===l?l=[ib]:l.push(ib),f++}if("co-delete"!==Mi&&"co-update"!==Mi&&"create"!==Mi&&"delete"!==Mi&&"query"!==Mi&&"subscribe"!==Mi&&"read"!==Mi&&"update"!==Mi){const ib={instancePath:t+"/$actions/"+Dn+"/can/"+Gi,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:Hh.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===l?l=[ib]:l.push(ib),f++}if(ki!==f)break}}else{const Wi={instancePath:t+"/$actions/"+Dn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===l?l=[Wi]:l.push(Wi),f++}tt=Tr===f}else tt=!0}}var kt;if((kt=yi===f)&&Yr?(Yr=!1,hi=[hi,1]):kt&&(Yr=!0,hi=1,!0!==Ke&&((Ke=Ke||{}).role=!0,Ke.can=!0)),!Yr){const Ir={instancePath:t+"/$actions/"+Dn,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:hi},message:"must match exactly one schema in oneOf"};return null===l?l=[Ir]:l.push(Ir),f++,$o.errors=l,!1}if(f=Er,null!==l&&(Er?l.length=Er:l=null),vr!==f)break}}}k=jn===f}else k=!0;if(k){if(void 0!==r.$role){const $n=f;if("boolean"!=typeof r.$role)return $o.errors=[{instancePath:t+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;k=$n===f}else k=!0;if(k){if(void 0!==r.$size){let $n=r.$size;const jn=f;if(f===jn){if(!$n||"object"!=typeof $n||Array.isArray($n))return $o.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Xn=f;for(const Dn in $n)if("min"!==Dn&&"max"!==Dn)return $o.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Dn},message:"must NOT have additional properties"}],!1;if(Xn===f){if(void 0!==$n.min){let Dn=$n.min;const gr=f;if(f===gr){if("number"!=typeof Dn||!isFinite(Dn))return $o.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Dn<0||isNaN(Dn))return $o.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var _t=gr===f}else _t=!0;if(_t)if(void 0!==$n.max){let Dn=$n.max;const gr=f;if(f===gr){if("number"!=typeof Dn||!isFinite(Dn))return $o.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Dn<0||isNaN(Dn))return $o.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}_t=gr===f}else _t=!0}}}k=jn===f}else k=!0;if(k){if(void 0!==r.$tags){let $n=r.$tags;const jn=f;if(f===jn){if(!$n||"object"!=typeof $n||Array.isArray($n))return $o.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys($n).length<1)return $o.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==$n.$requiredTags){let Xn=$n.$requiredTags;const Dn=f;if(f===Dn){if(!Array.isArray(Xn))return $o.errors=[{instancePath:t+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const gr=Xn.length;for(let vr=0;vr<gr;vr++){const Er=f;if("string"!=typeof Xn[vr])return $o.errors=[{instancePath:t+"/$tags/$requiredTags/"+vr,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(Er!==f)break}}}var Nt=Dn===f}else Nt=!0;if(Nt){if(void 0!==$n.$allowUndefinedTags){const Xn=f;if("boolean"!=typeof $n.$allowUndefinedTags)return $o.errors=[{instancePath:t+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Nt=Xn===f}else Nt=!0;if(Nt){var Xt={$requiredTags:!0,$allowUndefinedTags:!0};for(const Xn in $n)if(I1.test(Xn)){let Dn=$n[Xn];if(f==f){if(!Dn||"object"!=typeof Dn||Array.isArray(Dn))return $o.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const vr=f;for(const Er in Dn)if("type"!==Er&&"items"!==Er&&"contains"!==Er&&!C1.test(Er))return $o.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Er},message:"must NOT have additional properties"}],!1;if(vr===f){if(void 0!==Dn.type){let Er=Dn.type;const Yr=f;if("string"!==Er&&"number"!==Er&&"integer"!==Er&&"boolean"!==Er&&"array"!==Er)return $o.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:Hh.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var qt=Yr===f}else qt=!0;if(qt){if(void 0!==Dn.items){let Er=Dn.items;const Yr=f;if(f===Yr){if(!Er||"object"!=typeof Er||Array.isArray(Er))return $o.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Er.type){let kn=Er.type;const yi=f;if("string"!==kn&&"number"!==kn&&"integer"!==kn)return $o.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:Hh.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var un=yi===f}else un=!0;if(un){var Ht={type:!0};for(const kn in Er)ab.test(kn)&&(Ht[kn]=!0)}}qt=Yr===f}else qt=!0;if(qt)if(void 0!==Dn.contains){let Er=Dn.contains;const Yr=f;if(f===Yr){if(!Er||"object"!=typeof Er||Array.isArray(Er))return $o.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Er.type){let kn=Er.type;const yi=f;if("string"!==kn&&"number"!==kn&&"integer"!==kn)return $o.errors=[{instancePath:t+"/$tags/"+Xn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:Hh.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Sn=yi===f}else Sn=!0;if(Sn){var Jn={type:!0};for(const kn in Er)ab.test(kn)&&(Jn[kn]=!0)}}qt=Yr===f}else qt=!0}}}}Xt[Xn]=!0}}}}k=jn===f}else k=!0;if(k)for(const $n in r)if(qy.test($n)){const jn=f;if(a0.validate(r[$n],{instancePath:t+"/"+$n.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:$n,rootData:u,dynamicAnchors:h})||(l=null===l?a0.validate.errors:l.concat(a0.validate.errors),f=l.length),jn!==f)break}}}}}}}}return $o.errors=l,0===f}function uc(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=uc.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return uc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ke;if(void 0===r.protocol&&(Ke="protocol")||void 0===r.published&&(Ke="published")||void 0===r.types&&(Ke="types")||void 0===r.structure&&(Ke="structure"))return uc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ke},message:"must have required property '"+Ke+"'"}],!1;{const tt=f;for(const bt in r)if("protocol"!==bt&&"published"!==bt&&"types"!==bt&&"structure"!==bt)return uc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(tt===f){if(void 0!==r.protocol){const bt=f;if("string"!=typeof r.protocol)return uc.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=bt===f}else W=!0;if(W){if(void 0!==r.published){const bt=f;if("boolean"!=typeof r.published)return uc.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;W=bt===f}else W=!0;if(W){if(void 0!==r.types){let bt=r.types;const kt=f;if(f===kt){if(!bt||"object"!=typeof bt||Array.isArray(bt))return uc.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var k={};for(const xt in bt)if(_l.test(xt)){let Nt=bt[xt];if(f==f){if(!Nt||"object"!=typeof Nt||Array.isArray(Nt))return uc.errors=[{instancePath:t+"/types/"+xt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const qt=f;for(const un in Nt)if("schema"!==un&&"dataFormats"!==un)return uc.errors=[{instancePath:t+"/types/"+xt.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:un},message:"must NOT have additional properties"}],!1;if(qt===f){if(void 0!==Nt.schema){const un=f;if("string"!=typeof Nt.schema)return uc.errors=[{instancePath:t+"/types/"+xt.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var re=un===f}else re=!0;if(re)if(void 0!==Nt.dataFormats){let un=Nt.dataFormats;const Ht=f;if(f===Ht){if(!Array.isArray(un))return uc.errors=[{instancePath:t+"/types/"+xt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(un.length<1)return uc.errors=[{instancePath:t+"/types/"+xt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Jn=un.length;for(let Yn=0;Yn<Jn;Yn++){const cr=f;if("string"!=typeof un[Yn])return uc.errors=[{instancePath:t+"/types/"+xt.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+Yn,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(cr!==f)break}}}re=Ht===f}else re=!0}}}k[xt]=!0}}W=kt===f}else W=!0;if(W)if(void 0!==r.structure){let bt=r.structure;const kt=f;if(f===kt){if(!bt||"object"!=typeof bt||Array.isArray(bt))return uc.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var je={};for(const xt in bt)_l.test(xt)&&($o(bt[xt],{instancePath:t+"/structure/"+xt.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:bt,parentDataProperty:xt,rootData:u,dynamicAnchors:h})||(l=null===l?$o.errors:l.concat($o.errors),f=l.length),je[xt]=!0)}W=kt===f}else W=!0}}}}}}return uc.errors=l,0===f}$o.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},uc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const iS=$o,oS=pd,cb={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function pd(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=pd.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return pd.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let re;if(void 0===r.authorization&&(re="authorization")||void 0===r.descriptor&&(re="descriptor"))return pd.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:re},message:"must have required property '"+re+"'"}],!1;{const Oe=f;for(const je in r)if("authorization"!==je&&"descriptor"!==je)return pd.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Oe===f){if(void 0!==r.authorization){const je=f;bs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?bs.errors:l.concat(bs.errors),f=l.length);var W=je===f}else W=!0;if(W)if(void 0!==r.descriptor){let je=r.descriptor;const Ke=f;if(f===Ke){if(!je||"object"!=typeof je||Array.isArray(je))return pd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let bt;if(void 0===je.interface&&(bt="interface")||void 0===je.method&&(bt="method")||void 0===je.messageTimestamp&&(bt="messageTimestamp")||void 0===je.definition&&(bt="definition"))return pd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:bt},message:"must have required property '"+bt+"'"}],!1;{const kt=f;for(const _t in je)if("interface"!==_t&&"method"!==_t&&"messageTimestamp"!==_t&&"definition"!==_t)return pd.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_t},message:"must NOT have additional properties"}],!1;if(kt===f){if(void 0!==je.interface){let _t=je.interface;const xt=f;if("string"!=typeof _t)return pd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==_t)return pd.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:cb.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=xt===f}else k=!0;if(k){if(void 0!==je.method){let _t=je.method;const xt=f;if("string"!=typeof _t)return pd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==_t)return pd.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:cb.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=xt===f}else k=!0;if(k){if(void 0!==je.messageTimestamp){let _t=je.messageTimestamp;const xt=f;if(f==f){if("string"!=typeof _t)return pd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(_t))return pd.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=xt===f}else k=!0;if(k)if(void 0!==je.definition){const _t=f;uc(je.definition,{instancePath:t+"/descriptor/definition",parentData:je,parentDataProperty:"definition",rootData:u,dynamicAnchors:h})||(l=null===l?uc.errors:l.concat(uc.errors),f=l.length),k=_t===f}else k=!0}}}}}}W=Ke===f}else W=!0}}}}return pd.errors=l,0===f}pd.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const sS=ft,Ge={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function ft(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=ft.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return ft.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Oe;if(void 0===r.descriptor&&(Oe="descriptor"))return ft.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Oe},message:"must have required property '"+Oe+"'"}],!1;{const je=f;for(const Ke in r)if("authorization"!==Ke&&"descriptor"!==Ke)return ft.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ke},message:"must NOT have additional properties"}],!1;if(je===f){if(void 0!==r.authorization){const Ke=f;bs(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?bs.errors:l.concat(bs.errors),f=l.length);var W=Ke===f}else W=!0;if(W)if(void 0!==r.descriptor){let Ke=r.descriptor;const tt=f;if(f===tt){if(!Ke||"object"!=typeof Ke||Array.isArray(Ke))return ft.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let kt;if(void 0===Ke.interface&&(kt="interface")||void 0===Ke.method&&(kt="method")||void 0===Ke.messageTimestamp&&(kt="messageTimestamp"))return ft.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:kt},message:"must have required property '"+kt+"'"}],!1;{const _t=f;for(const xt in Ke)if("interface"!==xt&&"method"!==xt&&"messageTimestamp"!==xt&&"filter"!==xt)return ft.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:xt},message:"must NOT have additional properties"}],!1;if(_t===f){if(void 0!==Ke.interface){let xt=Ke.interface;const Nt=f;if("string"!=typeof xt)return ft.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==xt)return ft.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Ge.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=Nt===f}else k=!0;if(k){if(void 0!==Ke.method){let xt=Ke.method;const Nt=f;if("string"!=typeof xt)return ft.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==xt)return ft.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Ge.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=Nt===f}else k=!0;if(k){if(void 0!==Ke.messageTimestamp){let xt=Ke.messageTimestamp;const Nt=f;if(f==f){if("string"!=typeof xt)return ft.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(xt))return ft.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=Nt===f}else k=!0;if(k)if(void 0!==Ke.filter){let xt=Ke.filter;const Nt=f;if(f===Nt){if(!xt||"object"!=typeof xt||Array.isArray(xt))return ft.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(xt).length<1)return ft.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const qt=f;for(const un in xt)if("protocol"!==un&&"recipient"!==un)return ft.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:un},message:"must NOT have additional properties"}],!1;if(qt===f){if(void 0!==xt.protocol){const un=f;if("string"!=typeof xt.protocol)return ft.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var re=un===f}else re=!0;if(re)if(void 0!==xt.recipient){let un=xt.recipient;const Ht=f;if(f==f){if("string"!=typeof un)return ft.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!wl.test(un))return ft.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}re=Ht===f}else re=!0}}}k=Nt===f}else k=!0}}}}}}W=tt===f}else W=!0}}}}return ft.errors=l,0===f}ft.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Qe=Pt,pt={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Pt(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=Pt.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return Pt.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let re;if(void 0===r.descriptor&&(re="descriptor"))return Pt.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:re},message:"must have required property '"+re+"'"}],!1;{const Oe=f;for(const je in r)if("authorization"!==je&&"descriptor"!==je)return Pt.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:je},message:"must NOT have additional properties"}],!1;if(Oe===f){if(void 0!==r.authorization){const je=f;Zr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:u,dynamicAnchors:h})||(l=null===l?Zr.errors:l.concat(Zr.errors),f=l.length);var W=je===f}else W=!0;if(W)if(void 0!==r.descriptor){let je=r.descriptor;const Ke=f;if(f===Ke){if(!je||"object"!=typeof je||Array.isArray(je))return Pt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let bt;if(void 0===je.interface&&(bt="interface")||void 0===je.method&&(bt="method")||void 0===je.messageTimestamp&&(bt="messageTimestamp")||void 0===je.filter&&(bt="filter"))return Pt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:bt},message:"must have required property '"+bt+"'"}],!1;{const kt=f;for(const _t in je)if("interface"!==_t&&"method"!==_t&&"messageTimestamp"!==_t&&"filter"!==_t)return Pt.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_t},message:"must NOT have additional properties"}],!1;if(kt===f){if(void 0!==je.interface){let _t=je.interface;const xt=f;if("string"!=typeof _t)return Pt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==_t)return Pt.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:pt.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var k=xt===f}else k=!0;if(k){if(void 0!==je.method){let _t=je.method;const xt=f;if("string"!=typeof _t)return Pt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==_t)return Pt.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:pt.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;k=xt===f}else k=!0;if(k){if(void 0!==je.messageTimestamp){let _t=je.messageTimestamp;const xt=f;if(f==f){if("string"!=typeof _t)return Pt.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Ks.test(_t))return Pt.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}k=xt===f}else k=!0;if(k)if(void 0!==je.filter){const _t=f;Nr(je.filter,{instancePath:t+"/descriptor/filter",parentData:je,parentDataProperty:"filter",rootData:u,dynamicAnchors:h})||(l=null===l?Nr.errors:l.concat(Nr.errors),f=l.length),k=_t===f}else k=!0}}}}}}W=Ke===f}else W=!0}}}}return Pt.errors=l,0===f}Pt.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const sn=Nr,_n=Xi,sr=Ur;function Ur(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=Ur.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Ur.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.descriptorCid&&(k="descriptorCid"))return Ur.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=0;for(const Oe in r)if("descriptorCid"!==Oe&&"delegatedGrantId"!==Oe&&"permissionGrantId"!==Oe&&"protocolRole"!==Oe)return Ur.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(0===re){if(void 0!==r.descriptorCid){const Oe=0;if("string"!=typeof r.descriptorCid)return Ur.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=0===Oe}else W=!0;if(W){if(void 0!==r.delegatedGrantId){const Oe=0;if("string"!=typeof r.delegatedGrantId)return Ur.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.permissionGrantId){const Oe=0;if("string"!=typeof r.permissionGrantId)return Ur.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W)if(void 0!==r.protocolRole){const Oe=0;if("string"!=typeof r.protocolRole)return Ur.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0}}}}}return Ur.errors=null,!0}Ur.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Ui=No;function No(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){const X=No.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return No.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let k;if(void 0===r.descriptorCid&&(k="descriptorCid")||void 0===r.recordId&&(k="recordId"))return No.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:k},message:"must have required property '"+k+"'"}],!1;{const re=0;for(const Oe in r)if("descriptorCid"!==Oe&&"recordId"!==Oe&&"contextId"!==Oe&&"attestationCid"!==Oe&&"encryptionCid"!==Oe&&"delegatedGrantId"!==Oe&&"permissionGrantId"!==Oe&&"protocolRole"!==Oe)return No.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Oe},message:"must NOT have additional properties"}],!1;if(0===re){if(void 0!==r.descriptorCid){const Oe=0;if("string"!=typeof r.descriptorCid)return No.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var W=0===Oe}else W=!0;if(W){if(void 0!==r.recordId){const Oe=0;if("string"!=typeof r.recordId)return No.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.contextId){const Oe=0;if("string"!=typeof r.contextId)return No.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.attestationCid){const Oe=0;if("string"!=typeof r.attestationCid)return No.errors=[{instancePath:t+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.encryptionCid){const Oe=0;if("string"!=typeof r.encryptionCid)return No.errors=[{instancePath:t+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.delegatedGrantId){const Oe=0;if("string"!=typeof r.delegatedGrantId)return No.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W){if(void 0!==r.permissionGrantId){const Oe=0;if("string"!=typeof r.permissionGrantId)return No.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0;if(W)if(void 0!==r.protocolRole){const Oe=0;if("string"!=typeof r.protocolRole)return No.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;W=0===Oe}else W=!0}}}}}}}}}return No.errors=null,!0}No.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Ql=cs;function cs(r,{instancePath:t="",rootData:u=r,dynamicAnchors:h={}}={}){let l=null,f=0;const X=cs.evaluated;if(X.dynamicProps&&(X.props=void 0),X.dynamicItems&&(X.items=void 0),0===f){if(!r||"object"!=typeof r||Array.isArray(r))return cs.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return cs.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const tt=f;for(const bt in r)if("gt"!==bt&&"gte"!==bt&&"lt"!==bt&&"lte"!==bt)return cs.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:bt},message:"must NOT have additional properties"}],!1;if(tt===f){if(void 0!==r.gt){const bt=f,kt=f,_t=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let xt;if(void 0===r.gte&&(xt="gte")){const Nt={};null===l?l=[Nt]:l.push(Nt),f++}}if(_t===f)return cs.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=kt,null!==l&&(kt?l.length=kt:l=null);var k=bt===f}else k=!0;if(k){if(void 0!==r.gte){const bt=f,kt=f,_t=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.gt&&(Nt="gt")){const Xt={};null===l?l=[Xt]:l.push(Xt),f++}}if(_t===f)return cs.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=kt,null!==l&&(kt?l.length=kt:l=null),k=bt===f}else k=!0;if(k){if(void 0!==r.lt){const bt=f,kt=f,_t=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.lte&&(Nt="lte")){const Xt={};null===l?l=[Xt]:l.push(Xt),f++}}if(_t===f)return cs.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=kt,null!==l&&(kt?l.length=kt:l=null),k=bt===f}else k=!0;if(k){if(void 0!==r.lte){const bt=f,kt=f,_t=f;if(r&&"object"==typeof r&&!Array.isArray(r)){let Nt;if(void 0===r.lt&&(Nt="lt")){const Xt={};null===l?l=[Xt]:l.push(Xt),f++}}if(_t===f)return cs.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;f=kt,null!==l&&(kt?l.length=kt:l=null),k=bt===f}else k=!0;if(k){if(void 0!==r.gt){const bt=f;if("string"!=typeof r.gt)return cs.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ke=bt===f}else Ke=!0;if(Ke){if(void 0!==r.gte){const bt=f;if("string"!=typeof r.gte)return cs.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ke=bt===f}else Ke=!0;if(Ke){if(void 0!==r.lt){const bt=f;if("string"!=typeof r.lt)return cs.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ke=bt===f}else Ke=!0;if(Ke)if(void 0!==r.lte){const bt=f;if("string"!=typeof r.lte)return cs.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ke=bt===f}else Ke=!0}}}}}}}}}return cs.errors=l,0===f}function ol(r,t){const n=ee[r];if(!n)throw new ne(le.SchemaValidatorSchemaNotFound,`schema for ${r} not found.`);if(n(t),!n.errors)return;const[i]=n.errors;let{instancePath:u,message:h,keyword:l}=i;if(u||(u=r),"additionalProperties"===l)throw new ne(le.SchemaValidatorAdditionalPropertyNotAllowed,`${h}: ${u}: ${i.params.additionalProperty}`);if("unevaluatedProperties"===l)throw new ne(le.SchemaValidatorUnevaluatedPropertyNotAllowed,`${h}: ${u}: ${i.params.unevaluatedProperty}`);throw new ne(le.SchemaValidatorFailure,`${u}: ${h}`)}cs.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var md=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Yc{constructor(t){this.cache=t||new xu(600)}static get singleton(){return void 0===Yc._singleton&&(Yc._singleton=new Yc),Yc._singleton}static verifySignatures(t,n){return md(this,void 0,void 0,function*(){return yield Yc.singleton.verifySignatures(t,n)})}verifySignatures(t,n){return md(this,void 0,void 0,function*(){const i=[];for(const u of t.signatures){let h;const l=dr.getKid(u),f=`${u.protected}.${t.payload}.${u.signature}`,X=yield this.cache.get(f);if(void 0===X){const k=yield Yc.getPublicKey(l,n);h=yield dr.verifySignature(t.payload,u,k),yield this.cache.set(f,h)}else h=X;const W=dr.extractDid(l);if(!h)throw new ne(le.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${W}`);i.push(W)}return{signers:i}})}static getPublicKey(t,n){return md(this,void 0,void 0,function*(){const i=dr.extractDid(t),{didDocument:u}=yield n.resolve(i),{verificationMethod:h=[]}=u||{};let l;for(const X of h)if(t.endsWith(X.id)){l=X;break}if(!l)throw new ne(le.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");ol("JwkVerificationMethod",l);const{publicKeyJwk:f}=l;return f})}}const c0=["string","number","bigint","symbol"],Qy=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class Dr{constructor(t,n,i){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Dr.uint=new Dr(0,"uint",!0),Dr.negint=new Dr(1,"negint",!0),Dr.bytes=new Dr(2,"bytes",!0),Dr.string=new Dr(3,"string",!0),Dr.array=new Dr(4,"array",!1),Dr.map=new Dr(5,"map",!1),Dr.tag=new Dr(6,"tag",!1),Dr.float=new Dr(7,"float",!0),Dr.false=new Dr(7,"false",!0),Dr.true=new Dr(7,"true",!0),Dr.null=new Dr(7,"null",!0),Dr.undefined=new Dr(7,"undefined",!0),Dr.break=new Dr(7,"break",!0);class Ri{constructor(t,n,i){this.type=t,this.value=n,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const eu=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,YC=new TextDecoder,O1=new TextEncoder;function Wp(r){return eu&&globalThis.Buffer.isBuffer(r)}function aS(r){return r instanceof Uint8Array?Wp(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const R1=eu?(r,t,n)=>n-t>64?globalThis.Buffer.from(r.subarray(t,n)).toString("utf8"):dS(r,t,n):(r,t,n)=>n-t>64?YC.decode(r.subarray(t,n)):dS(r,t,n),db=eu?r=>r.length>64?globalThis.Buffer.from(r):cS(r):r=>r.length>64?O1.encode(r):cS(r),Mc=r=>Uint8Array.from(r),Wh=eu?(r,t,n)=>Wp(r)?new Uint8Array(r.subarray(t,n)):r.slice(t,n):(r,t,n)=>r.slice(t,n),B1=eu?(r,t)=>(r=r.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),aS(globalThis.Buffer.concat(r,t))):(r,t)=>{const n=new Uint8Array(t);let i=0;for(let u of r)i+u.length>n.length&&(u=u.subarray(0,n.length-i)),n.set(u,i),i+=u.length;return n},ZC=eu?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function cS(r,t=1/0){let n;const i=r.length;let u=null;const h=[];for(let l=0;l<i;++l){if(n=r.charCodeAt(l),n>55295&&n<57344){if(!u){if(n>56319){(t-=3)>-1&&h.push(239,191,189);continue}if(l+1===i){(t-=3)>-1&&h.push(239,191,189);continue}u=n;continue}if(n<56320){(t-=3)>-1&&h.push(239,191,189),u=n;continue}n=65536+(u-55296<<10|n-56320)}else u&&(t-=3)>-1&&h.push(239,191,189);if(u=null,n<128){if((t-=1)<0)break;h.push(n)}else if(n<2048){if((t-=2)<0)break;h.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;h.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;h.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return h}function dS(r,t,n){const i=[];for(;t<n;){const u=r[t];let h=null,l=u>239?4:u>223?3:u>191?2:1;if(t+l<=n){let f,X,W,k;switch(l){case 1:u<128&&(h=u);break;case 2:f=r[t+1],128==(192&f)&&(k=(31&u)<<6|63&f,k>127&&(h=k));break;case 3:f=r[t+1],X=r[t+2],128==(192&f)&&128==(192&X)&&(k=(15&u)<<12|(63&f)<<6|63&X,k>2047&&(k<55296||k>57343)&&(h=k));break;case 4:f=r[t+1],X=r[t+2],W=r[t+3],128==(192&f)&&128==(192&X)&&128==(192&W)&&(k=(15&u)<<18|(63&f)<<12|(63&X)<<6|63&W,k>65535&&k<1114112&&(h=k))}}null===h?(h=65533,l=1):h>65535&&(h-=65536,i.push(h>>>10&1023|55296),h=56320|1023&h),i.push(h),t+=l}return function N1(r){const t=r.length;if(t<=lb)return String.fromCharCode.apply(String,r);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,r.slice(i,i+=lb));return n}(i)}const lb=4096;class tg{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1)n.set(t,n.length-(this.maxCursor-this.cursor)-1);else{if(n){const u=n.length-(this.maxCursor-this.cursor)-1;u<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,u),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=ZC(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,null===this._initReuseChunk&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(1===this.chunks.length){const i=this.chunks[0];t&&this.cursor>i.length/2?(n=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=Wh(i,0,this.cursor)}else n=B1(this.chunks,this.cursor);return t&&this.reset(),n}}const Uo="CBOR decode error:",uS="CBOR encode error:",ng=[];function Pa(r,t,n){if(r.length-t<n)throw new Error(`${Uo} not enough data for type`)}ng[23]=1,ng[24]=2,ng[25]=3,ng[26]=5,ng[27]=9;const Zc=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Gp(r,t,n){Pa(r,t,1);const i=r[t];if(!0===n.strict&&i<Zc[0])throw new Error(`${Uo} integer encoded in more bytes than necessary (strict decode)`);return i}function Au(r,t,n){Pa(r,t,2);const i=r[t]<<8|r[t+1];if(!0===n.strict&&i<Zc[1])throw new Error(`${Uo} integer encoded in more bytes than necessary (strict decode)`);return i}function Jp(r,t,n){Pa(r,t,4);const i=16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(!0===n.strict&&i<Zc[2])throw new Error(`${Uo} integer encoded in more bytes than necessary (strict decode)`);return i}function Xp(r,t,n){Pa(r,t,8);const u=16777216*r[t+4]+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],h=(BigInt(16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3])<<BigInt(32))+BigInt(u);if(!0===n.strict&&h<Zc[3])throw new Error(`${Uo} integer encoded in more bytes than necessary (strict decode)`);if(h<=Number.MAX_SAFE_INTEGER)return Number(h);if(!0===n.allowBigInt)return h;throw new Error(`${Uo} integers outside of the safe integer range are not supported`)}function Xf(r,t){return sl(r,0,t.value)}function sl(r,t,n){if(n<Zc[0]){const i=Number(n);r.push([t|i])}else if(n<Zc[1]){const i=Number(n);r.push([24|t,i])}else if(n<Zc[2]){const i=Number(n);r.push([25|t,i>>>8,255&i])}else if(n<Zc[3]){const i=Number(n);r.push([26|t,i>>>24&255,i>>>16&255,i>>>8&255,255&i])}else{const i=BigInt(n);if(!(i<Zc[4]))throw new Error(`${Uo} encountered BigInt larger than allowable range`);{const u=[27|t,0,0,0,0,0,0,0];let h=Number(i&BigInt(4294967295)),l=Number(i>>BigInt(32)&BigInt(4294967295));u[8]=255&h,h>>=8,u[7]=255&h,h>>=8,u[6]=255&h,h>>=8,u[5]=255&h,u[4]=255&l,l>>=8,u[3]=255&l,l>>=8,u[2]=255&l,l>>=8,u[1]=255&l,r.push(u)}}}Xf.encodedSize=function(t){return sl.encodedSize(t.value)},sl.encodedSize=function(t){return t<Zc[0]?1:t<Zc[1]?2:t<Zc[2]?3:t<Zc[3]?5:9},Xf.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};const ec=BigInt(-1),tu=BigInt(1);function gd(r,t){const n=t.value;sl(r,t.type.majorEncoded,"bigint"==typeof n?n*ec-tu:-1*n-1)}function ef(r,t,n,i){Pa(r,t,n+i);const u=Wh(r,t+n,t+n+i);return new Ri(Dr.bytes,u,n+i)}function fa(r,t,n,i){return ef(r,t,1,n)}function ig(r){return void 0===r.encodedBytes&&(r.encodedBytes=r.type===Dr.string?db(r.value):r.value),r.encodedBytes}function Yf(r,t){const n=ig(t);sl(r,t.type.majorEncoded,n.length),r.push(n)}function Du(r,t,n,i,u){const h=n+i;Pa(r,t,h);const l=new Ri(Dr.string,R1(r,t+n,t+h),h);return!0===u.retainStringBytes&&(l.byteValue=Wh(r,t+n,t+h)),l}function d0(r,t,n,i){return Du(r,t,1,n,i)}gd.encodedSize=function(t){const n=t.value,i="bigint"==typeof n?n*ec-tu:-1*n-1;return i<Zc[0]?1:i<Zc[1]?2:i<Zc[2]?3:i<Zc[3]?5:9},gd.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0},Yf.encodedSize=function(t){const n=ig(t);return sl.encodedSize(n.length)+n.length},Yf.compareTokens=function(t,n){return function Ra(r,t){return r.length<t.length?-1:r.length>t.length?1:function QC(r,t){if(Wp(r)&&Wp(t))return r.compare(t);for(let n=0;n<r.length;n++)if(r[n]!==t[n])return r[n]<t[n]?-1:1;return 0}(r,t)}(ig(t),ig(n))};const ub=Yf;function vd(r,t,n,i){return new Ri(Dr.array,i,n)}function Ai(r,t,n,i){return vd(0,0,1,n)}function Ga(r,t){sl(r,Dr.array.majorEncoded,t.value)}function qf(r,t,n,i){return new Ri(Dr.map,i,n)}function qc(r,t,n,i){return qf(0,0,1,n)}function Zp(r,t){sl(r,Dr.map.majorEncoded,t.value)}function ik(r,t,n,i){return new Ri(Dr.tag,n,1)}function sg(r,t){sl(r,Dr.tag.majorEncoded,t.value)}Ga.compareTokens=Xf.compareTokens,Ga.encodedSize=function(t){return sl.encodedSize(t.value)},Zp.compareTokens=Xf.compareTokens,Zp.encodedSize=function(t){return sl.encodedSize(t.value)},sg.compareTokens=Xf.compareTokens,sg.encodedSize=function(t){return sl.encodedSize(t.value)};function pS(r,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(r))throw new Error(`${Uo} NaN values are not supported`);if(!1===n.allowInfinity&&(r===1/0||r===-1/0))throw new Error(`${Uo} Infinity values are not supported`)}return new Ri(Dr.float,r,t)}function mS(r,t,n){const i=t.value;if(!1===i)r.push([20|Dr.float.majorEncoded]);else if(!0===i)r.push([21|Dr.float.majorEncoded]);else if(null===i)r.push([22|Dr.float.majorEncoded]);else if(void 0===i)r.push([23|Dr.float.majorEncoded]);else{let u,h=!1;(!n||!0!==n.float64)&&(ck(i),u=yS(nu,1),i===u||Number.isNaN(i)?(nu[0]=249,r.push(nu.slice(0,3)),h=!0):(dk(i),u=gS(nu,1),i===u&&(nu[0]=250,r.push(nu.slice(0,5)),h=!0))),h||(function lk(r){Ll.setFloat64(0,r,!1)}(i),u=F1(nu,1),nu[0]=251,r.push(nu.slice(0,9)))}}mS.encodedSize=function(t,n){const i=t.value;if(!1===i||!0===i||null==i)return 1;if(!n||!0!==n.float64){ck(i);let u=yS(nu,1);if(i===u||Number.isNaN(i))return 3;if(dk(i),u=gS(nu,1),i===u)return 5}return 9};const ak=new ArrayBuffer(9),Ll=new DataView(ak,1),nu=new Uint8Array(ak,0);function ck(r){if(r===1/0)Ll.setUint16(0,31744,!1);else if(r===-1/0)Ll.setUint16(0,64512,!1);else if(Number.isNaN(r))Ll.setUint16(0,32256,!1);else{Ll.setFloat32(0,r);const t=Ll.getUint32(0),n=(2139095040&t)>>23,i=8388607&t;if(255===n)Ll.setUint16(0,31744,!1);else if(0===n)Ll.setUint16(0,(2147483648&r)>>16|i>>13,!1);else{const u=n-127;u<-24?Ll.setUint16(0,0):Ll.setUint16(0,u<-14?(2147483648&t)>>16|1<<24+u:(2147483648&t)>>16|u+15<<10|i>>13,!1)}}}function yS(r,t){if(r.length-t<2)throw new Error(`${Uo} not enough data for float16`);const n=(r[t]<<8)+r[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const i=n>>10&31,u=1023&n;let h;return h=0===i?u*2**-24:31!==i?(u+1024)*2**(i-25):0===u?1/0:NaN,32768&n?-h:h}function dk(r){Ll.setFloat32(0,r,!1)}function gS(r,t){if(r.length-t<4)throw new Error(`${Uo} not enough data for float32`);return new DataView(r.buffer,(r.byteOffset||0)+t,4).getFloat32(0,!1)}function F1(r,t){if(r.length-t<8)throw new Error(`${Uo} not enough data for float64`);return new DataView(r.buffer,(r.byteOffset||0)+t,8).getFloat64(0,!1)}function fs(r,t,n){throw new Error(`${Uo} encountered invalid minor (${n}) for major ${r[t]>>>5}`)}function ag(r){return()=>{throw new Error(`${Uo} ${r}`)}}mS.compareTokens=Xf.compareTokens;const ci=[];for(let r=0;r<=23;r++)ci[r]=fs;ci[24]=function ek(r,t,n,i){return new Ri(Dr.uint,Gp(r,t+1,i),2)},ci[25]=function tk(r,t,n,i){return new Ri(Dr.uint,Au(r,t+1,i),3)},ci[26]=function nk(r,t,n,i){return new Ri(Dr.uint,Jp(r,t+1,i),5)},ci[27]=function rk(r,t,n,i){return new Ri(Dr.uint,Xp(r,t+1,i),9)},ci[28]=fs,ci[29]=fs,ci[30]=fs,ci[31]=fs;for(let r=32;r<=55;r++)ci[r]=fs;ci[56]=function Oa(r,t,n,i){return new Ri(Dr.negint,-1-Gp(r,t+1,i),2)},ci[57]=function zr(r,t,n,i){return new Ri(Dr.negint,-1-Au(r,t+1,i),3)},ci[58]=function Li(r,t,n,i){return new Ri(Dr.negint,-1-Jp(r,t+1,i),5)},ci[59]=function yd(r,t,n,i){const u=Xp(r,t+1,i);if("bigint"!=typeof u){const h=-1-u;if(h>=Number.MIN_SAFE_INTEGER)return new Ri(Dr.negint,h,9)}if(!0!==i.allowBigInt)throw new Error(`${Uo} integers outside of the safe integer range are not supported`);return new Ri(Dr.negint,ec-BigInt(u),9)},ci[60]=fs,ci[61]=fs,ci[62]=fs,ci[63]=fs;for(let r=64;r<=87;r++)ci[r]=fa;ci[88]=function Sc(r,t,n,i){return ef(r,t,2,Gp(r,t+1,i))},ci[89]=function tf(r,t,n,i){return ef(r,t,3,Au(r,t+1,i))},ci[90]=function po(r,t,n,i){return ef(r,t,5,Jp(r,t+1,i))},ci[91]=function rg(r,t,n,i){const u=Xp(r,t+1,i);if("bigint"==typeof u)throw new Error(`${Uo} 64-bit integer bytes lengths not supported`);return ef(r,t,9,u)},ci[92]=fs,ci[93]=fs,ci[94]=fs,ci[95]=ag("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)ci[r]=d0;ci[120]=function Zf(r,t,n,i){return Du(r,t,2,Gp(r,t+1,i),i)},ci[121]=function l0(r,t,n,i){return Du(r,t,3,Au(r,t+1,i),i)},ci[122]=function fS(r,t,n,i){return Du(r,t,5,Jp(r,t+1,i),i)},ci[123]=function Gh(r,t,n,i){const u=Xp(r,t+1,i);if("bigint"==typeof u)throw new Error(`${Uo} 64-bit integer string lengths not supported`);return Du(r,t,9,u,i)},ci[124]=fs,ci[125]=fs,ci[126]=fs,ci[127]=ag("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)ci[r]=Ai;ci[152]=function U1(r,t,n,i){return vd(0,0,2,Gp(r,t+1,i))},ci[153]=function og(r,t,n,i){return vd(0,0,3,Au(r,t+1,i))},ci[154]=function nf(r,t,n,i){return vd(0,0,5,Jp(r,t+1,i))},ci[155]=function fb(r,t,n,i){const u=Xp(r,t+1,i);if("bigint"==typeof u)throw new Error(`${Uo} 64-bit integer array lengths not supported`);return vd(0,0,9,u)},ci[156]=fs,ci[157]=fs,ci[158]=fs,ci[159]=function u0(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${Uo} indefinite length items not allowed`);return vd(0,0,1,1/0)};for(let r=160;r<=183;r++)ci[r]=qc;ci[184]=function Fd(r,t,n,i){return qf(0,0,2,Gp(r,t+1,i))},ci[185]=function L1(r,t,n,i){return qf(0,0,3,Au(r,t+1,i))},ci[186]=function Yp(r,t,n,i){return qf(0,0,5,Jp(r,t+1,i))},ci[187]=function hb(r,t,n,i){const u=Xp(r,t+1,i);if("bigint"==typeof u)throw new Error(`${Uo} 64-bit integer map lengths not supported`);return qf(0,0,9,u)},ci[188]=fs,ci[189]=fs,ci[190]=fs,ci[191]=function Iu(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${Uo} indefinite length items not allowed`);return qf(0,0,1,1/0)};for(let r=192;r<=215;r++)ci[r]=ik;ci[216]=function ok(r,t,n,i){return new Ri(Dr.tag,Gp(r,t+1,i),2)},ci[217]=function K1(r,t,n,i){return new Ri(Dr.tag,Au(r,t+1,i),3)},ci[218]=function hS(r,t,n,i){return new Ri(Dr.tag,Jp(r,t+1,i),5)},ci[219]=function sk(r,t,n,i){return new Ri(Dr.tag,Xp(r,t+1,i),9)},ci[220]=fs,ci[221]=fs,ci[222]=fs,ci[223]=fs;for(let r=224;r<=243;r++)ci[r]=ag("simple values are not supported");ci[244]=fs,ci[245]=fs,ci[246]=fs,ci[247]=function QO(r,t,n,i){if(!1===i.allowUndefined)throw new Error(`${Uo} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new Ri(Dr.null,null,1):new Ri(Dr.undefined,void 0,1)},ci[248]=ag("simple values are not supported"),ci[249]=function t8(r,t,n,i){return pS(yS(r,t+1),3,i)},ci[250]=function n8(r,t,n,i){return pS(gS(r,t+1),5,i)},ci[251]=function r8(r,t,n,i){return pS(F1(r,t+1),9,i)},ci[252]=fs,ci[253]=fs,ci[254]=fs,ci[255]=function e8(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${Uo} indefinite length items not allowed`);return new Ri(Dr.break,void 0,1)};const rf=[];for(let r=0;r<24;r++)rf[r]=new Ri(Dr.uint,r,1);for(let r=-1;r>=-24;r--)rf[31-r]=new Ri(Dr.negint,r,1);rf[64]=new Ri(Dr.bytes,new Uint8Array(0),1),rf[96]=new Ri(Dr.string,"",1),rf[128]=new Ri(Dr.array,0,1),rf[160]=new Ri(Dr.map,0,1),rf[244]=new Ri(Dr.false,!1,1),rf[245]=new Ri(Dr.true,!0,1),rf[246]=new Ri(Dr.null,null,1);const bS={float64:!1,mapSorter:function cg(r,t){const n=Array.isArray(r[0])?r[0][0]:r[0],i=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==i.type)return n.type.compare(i.type);const h=pb[n.type.major].compareTokens(n,i);return 0===h&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),h},quickEncodeToken:function vS(r){switch(r.type){case Dr.false:return Mc([244]);case Dr.true:return Mc([245]);case Dr.null:return Mc([246]);case Dr.bytes:return r.value.length?void 0:Mc([64]);case Dr.string:return""===r.value?Mc([96]):void 0;case Dr.array:return 0===r.value?Mc([128]):void 0;case Dr.map:return 0===r.value?Mc([160]):void 0;case Dr.uint:return r.value<24?Mc([Number(r.value)]):void 0;case Dr.negint:if(r.value>=-24)return Mc([31-Number(r.value)])}}},pb=function uk(){const r=[];return r[Dr.uint.major]=Xf,r[Dr.negint.major]=gd,r[Dr.bytes.major]=Yf,r[Dr.string.major]=ub,r[Dr.array.major]=Ga,r[Dr.map.major]=Zp,r[Dr.tag.major]=sg,r[Dr.float.major]=mS,r}(),j1=new tg;class Kl{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do{if(n.obj===t)return!0}while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${uS} object contains circular references`);return new Kl(n,t)}}const Qf={null:new Ri(Dr.null,null),undefined:new Ri(Dr.undefined,void 0),true:new Ri(Dr.true,!0),false:new Ri(Dr.false,!1),emptyArray:new Ri(Dr.array,0),emptyMap:new Ri(Dr.map,0)},eh={number:(r,t,n,i)=>Number.isInteger(r)&&Number.isSafeInteger(r)?new Ri(r>=0?Dr.uint:Dr.negint,r):new Ri(Dr.float,r),bigint:(r,t,n,i)=>r>=BigInt(0)?new Ri(Dr.uint,r):new Ri(Dr.negint,r),Uint8Array:(r,t,n,i)=>new Ri(Dr.bytes,r),string:(r,t,n,i)=>new Ri(Dr.string,r),boolean:(r,t,n,i)=>r?Qf.true:Qf.false,null:(r,t,n,i)=>Qf.null,undefined:(r,t,n,i)=>Qf.undefined,ArrayBuffer:(r,t,n,i)=>new Ri(Dr.bytes,new Uint8Array(r)),DataView:(r,t,n,i)=>new Ri(Dr.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),Array(r,t,n,i){if(!r.length)return!0===n.addBreakTokens?[Qf.emptyArray,new Ri(Dr.break)]:Qf.emptyArray;i=Kl.createCheck(i,r);const u=[];let h=0;for(const l of r)u[h++]=os(l,n,i);return n.addBreakTokens?[new Ri(Dr.array,r.length),u,new Ri(Dr.break)]:[new Ri(Dr.array,r.length),u]},Object(r,t,n,i){const u="Object"!==t,h=u?r.keys():Object.keys(r),l=u?r.size:h.length;if(!l)return!0===n.addBreakTokens?[Qf.emptyMap,new Ri(Dr.break)]:Qf.emptyMap;i=Kl.createCheck(i,r);const f=[];let X=0;for(const W of h)f[X++]=[os(W,n,i),os(u?r.get(W):r[W],n,i)];return function $1(r,t){t.mapSorter&&r.sort(t.mapSorter)}(f,n),n.addBreakTokens?[new Ri(Dr.map,l),f,new Ri(Dr.break)]:[new Ri(Dr.map,l),f]}};eh.Map=eh.Object,eh.Buffer=eh.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))eh[`${r}Array`]=eh.DataView;function os(r,t={},n){const i=function k1(r){if(null===r)return"null";if(void 0===r)return"undefined";if(!0===r||!1===r)return"boolean";const t=typeof r;if(c0.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(r))return"Array";if(function XC(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}(r))return"Buffer";const n=function P1(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(Qy.includes(t))return t}(r);return n||"Object"}(r),u=t&&t.typeEncoders&&t.typeEncoders[i]||eh[i];if("function"==typeof u){const l=u(r,i,t,n);if(null!=l)return l}const h=eh[i];if(!h)throw new Error(`${uS} unsupported type: ${i}`);return h(r,i,t,n)}function jd(r,t,n,i){if(Array.isArray(t))for(const u of t)jd(r,u,n,i);else n[t.type.major](r,t,i)}function fk(r,t,n){const i=os(r,n);if(!Array.isArray(i)&&n.quickEncodeToken){const u=n.quickEncodeToken(i);if(u)return u;const h=t[i.type.major];if(h.encodedSize){const l=h.encodedSize(i,n),f=new tg(l);if(h(f,i,n),1!==f.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return aS(f.chunks[0])}}return j1.reset(),jd(j1,i,t,n),j1.toBytes(!0)}const qp={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Fl{constructor(t,n={}){this.pos=0,this.data=t,this.options=n}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let n=rf[t];if(void 0===n){const i=ci[t];if(!i)throw new Error(`${Uo} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);n=i(this.data,this.pos,31&t,this.options)}return this.pos+=n.encodedLength,n}}const lg=Symbol.for("DONE"),f0=Symbol.for("BREAK");function h0(r,t){if(r.done())return lg;const n=r.next();if(n.type===Dr.break)return f0;if(n.type.terminal)return n.value;if(n.type===Dr.array)return function hk(r,t,n){const i=[];for(let u=0;u<r.value;u++){const h=h0(t,n);if(h===f0){if(r.value===1/0)break;throw new Error(`${Uo} got unexpected break to lengthed array`)}if(h===lg)throw new Error(`${Uo} found array but not enough entries (got ${u}, expected ${r.value})`);i[u]=h}return i}(n,r,t);if(n.type===Dr.map)return function ru(r,t,n){const i=!0===n.useMaps,u=i?void 0:{},h=i?new Map:void 0;for(let l=0;l<r.value;l++){const f=h0(t,n);if(f===f0){if(r.value===1/0)break;throw new Error(`${Uo} got unexpected break to lengthed map`)}if(f===lg)throw new Error(`${Uo} found map but not enough entries (got ${l} [no key], expected ${r.value})`);if(!0!==i&&"string"!=typeof f)throw new Error(`${Uo} non-string keys not supported (got ${typeof f})`);if(!0===n.rejectDuplicateMapKeys&&(i&&h.has(f)||!i&&f in u))throw new Error(`${Uo} found repeat map key "${f}"`);const X=h0(t,n);if(X===lg)throw new Error(`${Uo} found map but not enough entries (got ${l} [no value], expected ${r.value})`);i?h.set(f,X):u[f]=X}return i?h:u}(n,r,t);if(n.type===Dr.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const i=h0(r,t);return t.tags[n.value](i)}throw new Error(`${Uo} tag not supported (${n.value})`)}throw new Error("unsupported")}const p0=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class mk{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class yk{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return z1(this,t)}}class gk{constructor(t){this.decoders=t}or(t){return z1(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const z1=(r,t)=>new gk({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class Qp{constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new mk(t,n,i),this.decoder=new yk(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const MS=({name:r,prefix:t,encode:n,decode:i})=>new Qp(r,t,n,i),SS=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:u}=function _S(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var tt=0;if(" "!==Ke[tt]){for(var bt=0,kt=0;Ke[tt]===X;)bt++,tt++;for(var _t=(Ke.length-tt)*W+1>>>0,xt=new Uint8Array(_t);Ke[tt];){var Nt=n[Ke.charCodeAt(tt)];if(255===Nt)return;for(var Xt=0,qt=_t-1;(0!==Nt||Xt<kt)&&-1!==qt;qt--,Xt++)xt[qt]=(Nt+=f*xt[qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");kt=Xt,tt++}if(" "!==Ke[tt]){for(var un=_t-kt;un!==_t&&0===xt[un];)un++;for(var Ht=new Uint8Array(bt+(_t-un)),Sn=bt;un!==_t;)Ht[Sn++]=xt[un++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var tt=0,bt=0,kt=0,_t=Ke.length;kt!==_t&&0===Ke[kt];)kt++,tt++;for(var xt=(_t-kt)*k+1>>>0,Nt=new Uint8Array(xt);kt!==_t;){for(var Xt=Ke[kt],qt=0,un=xt-1;(0!==Xt||qt<bt)&&-1!==un;un--,qt++)Nt[un]=(Xt+=256*Nt[un]>>>0)%f>>>0,Xt=Xt/f>>>0;if(0!==Xt)throw new Error("Non-zero carry");bt=qt,kt++}for(var Ht=xt-bt;Ht!==xt&&0===Nt[Ht];)Ht++;for(var Sn=X.repeat(tt);Ht<xt;++Ht)Sn+=r.charAt(Nt[Ht]);return Sn},decodeUnsafe:Oe,decode:function je(Ke){var tt=Oe(Ke);if(tt)return tt;throw new Error(`Non-${t} character`)}}}(n,t);return MS({prefix:r,name:t,encode:i,decode:h=>p0(u(h))})},th=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>MS({prefix:t,name:r,encode:u=>((r,t,n)=>{const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h})(u,i,n),decode:u=>((r,t,n,i)=>{const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l})(u,i,n,r)}),yr=th({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),af=(th({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),th({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),th({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),th({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),th({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),th({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),th({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),th({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),SS({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));SS({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Mk=128,DS=-128,IS=Math.pow(2,31),CS=128,iu=127,Sk=Math.pow(2,7),kS=Math.pow(2,14),Tk=Math.pow(2,21),Ak=Math.pow(2,28),H1=Math.pow(2,35),W1=Math.pow(2,42),G1=Math.pow(2,49),vb=Math.pow(2,56),Dk=Math.pow(2,63);const fg={encode:function $d(r,t,n){t=t||[];for(var i=n=n||0;r>=IS;)t[n++]=255&r|Mk,r/=128;for(;r&DS;)t[n++]=255&r|Mk,r>>>=7;return t[n]=0|r,$d.bytes=n-i+1,t},decode:function Cu(r,i){var l,n=0,u=0,h=i=i||0,f=r.length;do{if(h>=f)throw Cu.bytes=0,new RangeError("Could not decode varint");l=r[h++],n+=u<28?(l&iu)<<u:(l&iu)*Math.pow(2,u),u+=7}while(l>=CS);return Cu.bytes=h-i,n},encodingLength:function(r){return r<Sk?1:r<kS?2:r<Tk?3:r<Ak?4:r<H1?5:r<W1?6:r<G1?7:r<vb?8:r<Dk?9:10}},bb=(r,t=0)=>[fg.decode(r,t),fg.decode.bytes],hg=(r,t,n=0)=>(fg.encode(r,t,n),t),m0=r=>fg.encodingLength(r);class Gs{constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}const wb=(r,t)=>{const{bytes:n,version:i}=r;return 0===i?cf(n,_b(r),t||af.encoder):kk(n,_b(r),t||yr.encoder)},RS=new WeakMap,_b=r=>{const t=RS.get(r);if(null==t){const n=new Map;return RS.set(r,n),n}return t};class Tc{constructor(t,n,i,u){this.code=n,this.version=t,this.multihash=i,this.bytes=u,this["/"]=u}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==Xh)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Eb)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Tc.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=((r,t)=>{const n=t.byteLength,i=m0(r),u=i+m0(n),h=new Uint8Array(u+n);return hg(r,h,0),hg(n,h,i),h.set(t,u),new Gs(r,n,t,h)})(t,n);return Tc.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Tc.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return wb(this,t)}toJSON(){return{"/":wb(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Tc)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:u,multihash:h,bytes:l}=n;return new Tc(i,u,h,l||mg(i,u,h.bytes))}if(!0===n[X1]){const{version:i,multihash:u,code:h}=n,l=(r=>{const t=p0(r),[n,i]=bb(t),[u,h]=bb(t.subarray(i)),l=t.subarray(i+h);if(l.byteLength!==u)throw new Error("Incorrect length");return new Gs(n,u,l,t)})(u);return Tc.create(i,h,l)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==Xh)throw new Error(`Version 0 CID must use dag-pb (code: ${Xh}) block encoding`);return new Tc(t,n,i,i.bytes);case 1:{const u=mg(t,n,i.bytes);return new Tc(t,n,i,u)}default:throw new Error("Invalid version")}}static createV0(t){return Tc.create(0,Xh,t)}static createV1(t,n){return Tc.create(1,t,n)}static decode(t){const[n,i]=Tc.decodeFirst(t);if(i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Tc.inspectBytes(t),i=n.size-n.multihashSize,u=p0(t.subarray(i,i+n.multihashSize));if(u.byteLength!==n.multihashSize)throw new Error("Incorrect length");const h=u.subarray(n.multihashSize-n.digestSize),l=new Gs(n.multihashCode,n.digestSize,h,u);return[0===n.version?Tc.createV0(l):Tc.createV1(n.codec,l),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[re,Oe]=bb(t.subarray(n));return n+=Oe,re};let u=i(),h=Xh;if(18===u?(u=0,n=0):h=i(),0!==u&&1!==u)throw new RangeError(`Invalid CID version ${u}`);const l=n,f=i(),X=i(),W=n+X;return{version:u,codec:h,multihashCode:f,digestSize:X,multihashSize:W-l,size:W}}static parse(t,n){const[i,u]=pg(t,n),h=Tc.decode(u);if(0===h.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return _b(h).set(i,t),h}}const pg=(r,t)=>{switch(r[0]){case"Q":return[af.prefix,(t||af).decode(`${af.prefix}${r}`)];case af.prefix:return[af.prefix,(t||af).decode(r)];case yr.prefix:return[yr.prefix,(t||yr).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},cf=(r,t,n)=>{const{prefix:i}=n;if(i!==af.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const u=t.get(i);if(null==u){const h=n.encode(r).slice(1);return t.set(i,h),h}return u},kk=(r,t,n)=>{const{prefix:i}=n,u=t.get(i);if(null==u){const h=n.encode(r);return t.set(i,h),h}return u},Xh=112,Eb=18,mg=(r,t,n)=>{const i=m0(r),u=i+m0(t),h=new Uint8Array(u+n.byteLength);return hg(r,h,0),hg(t,h,i),h.set(n,u),h},X1=Symbol.for("@ipld/js-cid/CID"),yg={float64:!0,typeEncoders:{Object:function BS(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=Tc.asCID(r);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new Ri(Dr.tag,42),new Ri(Dr.bytes,n)]},undefined:function Pk(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function y0(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},xb={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};xb.tags[42]=function Ok(r){if(0!==r[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Tc.decode(r.subarray(1))};const NS="dag-cbor",Mb=113,Rk=r=>function dg(r,t){return t=Object.assign({},bS,t),fk(r,pb,t)}(r,yg),Bk=r=>function wS(r,t){if(!(r instanceof Uint8Array))throw new Error(`${Uo} data to decode must be a Uint8Array`);const n=(t=Object.assign({},qp,t)).tokenizer||new Fl(r,t),i=h0(n,t);if(i===lg)throw new Error(`${Uo} did not find any content to decode`);if(i===f0)throw new Error(`${Uo} got unexpected break`);if(!n.done())throw new Error(`${Uo} too many terminals, data makes no sense`);return i}(r,xb);var df=_(41405),lf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},uf=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}},Ac=function(r){return this instanceof Ac?(this.v=r,this):new Ac(r)},Yh=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),h=[];return u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u;function l(Oe){i[Oe]&&(u[Oe]=function(je){return new Promise(function(Ke,tt){h.push([Oe,je,Ke,tt])>1||f(Oe,je)})})}function f(Oe,je){try{!function X(Oe){Oe.value instanceof Ac?Promise.resolve(Oe.value.v).then(W,k):re(h[0][2],Oe)}(i[Oe](je))}catch(Ke){re(h[0][3],Ke)}}function W(Oe){f("next",Oe)}function k(Oe){f("throw",Oe)}function re(Oe,je){Oe(je),h.shift(),h.length&&f(h[0][0],h[0][1])}};class US{open(){return lf(this,void 0,void 0,function*(){})}close(){return lf(this,void 0,void 0,function*(){})}put(t,n,i){return lf(this,void 0,void 0,function*(){return t})}get(t,n){return lf(this,void 0,void 0,function*(){return new Uint8Array})}has(t,n){return lf(this,void 0,void 0,function*(){return!1})}delete(t,n){return lf(this,void 0,void 0,function*(){})}isEmpty(t){return lf(this,void 0,void 0,function*(){return!0})}putMany(t,n){return Yh(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=uf(t);!(u=(k=yield Ac(W.next())).done);X=!0){X=!1;const re=k.value;yield Ac(this.put(re.cid,re.block,n)),yield yield Ac(re.cid)}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield Ac(l.call(W)))}finally{if(h)throw h.error}}})}getMany(t,n){return Yh(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=uf(t);!(u=(k=yield Ac(W.next())).done);X=!0){X=!1;const re=k.value;yield yield Ac({cid:re,block:yield Ac(this.get(re,n))})}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield Ac(l.call(W)))}finally{if(h)throw h.error}}})}getAll(t){return Yh(this,arguments,function*(){var i,u,h,l;const f=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var k,X=!0,W=uf(f);!(i=(k=yield Ac(W.next())).done);X=!0){l=k.value,X=!1;const[re,Oe]=l;yield yield Ac({cid:df.TO.decode(re),block:Oe})}}catch(re){u={error:re}}finally{try{!X&&!i&&(h=W.return)&&(yield Ac(h.call(W)))}finally{if(u)throw u.error}}})}deleteMany(t,n){return Yh(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=uf(t);!(u=(k=yield Ac(W.next())).done);X=!0){X=!1;const re=k.value;yield Ac(this.delete(re,n)),yield yield Ac(re)}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield Ac(l.call(W)))}finally{if(h)throw h.error}}})}clear(){return lf(this,void 0,void 0,function*(){})}}var al=_(41861);function Z1(r,t){this.v=r,this.k=t}function bi(r){return new Z1(r,0)}function Zh(r){var t,n;function i(h,l){try{var f=r[h](l),X=f.value,W=X instanceof Z1;Promise.resolve(W?X.v:X).then(function(k){if(W){var re="return"===h?"return":"next";if(!X.k||k.done)return i(re,k);k=r[re](k).value}u(f.done?"return":"normal",k)},function(k){i("throw",k)})}catch(k){u("throw",k)}}function u(h,l){switch(h){case"return":t.resolve({value:l,done:!0});break;case"throw":t.reject(l);break;default:t.resolve({value:l,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(h,l){return new Promise(function(f,X){var W={key:h,arg:l,resolve:f,reject:X,next:null};n?n=n.next=W:(t=n=W,i(h,l))})},"function"!=typeof r.return&&(this.return=void 0)}function _s(r){return function(){return new Zh(r.apply(this,arguments))}}function Ho(r){var t,n,i,u=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,i=Symbol.iterator);u--;){if(n&&null!=(t=r[n]))return t.call(r);if(i&&null!=(t=r[i]))return new gg(t.call(r));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function gg(r){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var i=n.done;return Promise.resolve(n.value).then(function(u){return{value:u,done:i}})}return(gg=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(i){var u=this.s.return;return void 0===u?Promise.resolve({value:i,done:!0}):t(u.apply(this.s,arguments))},throw:function(i){var u=this.s.return;return void 0===u?Promise.reject(i):t(u.apply(this.s,arguments))}},new gg(r)}Zh.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Zh.prototype.next=function(r){return this._invoke("next",r)},Zh.prototype.throw=function(r){return this._invoke("throw",r)},Zh.prototype.return=function(r){return this._invoke("return",r)};var Sb=_(5014);const vg=function Nk(r,t=1){return t=Number(t),function ff(r){return null!=r[Symbol.asyncIterator]}(r)?_s(function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");var h,i=!1,u=!1;try{for(var f,l=Ho(r);i=!(f=yield bi(l.next())).done;i=!1)for(n.push(f.value);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}catch(X){u=!0,h=X}finally{try{i&&null!=l.return&&(yield bi(l.return()))}finally{if(u)throw h}}for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)})():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const i of r)for(n.push(i);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};function Tb(r){return Ab.apply(this,arguments)}function Ab(){return Ab=_s(function*(r,t=1){var u,n=!1,i=!1;try{for(var l,h=Ho(vg(r,t));n=!(l=yield bi(h.next())).done;n=!1){const X=l.value.map(function(){var W=(0,Xe.A)(function*(k){return k().then(re=>({ok:!0,value:re}),re=>({ok:!1,err:re}))});return function(k){return W.apply(this,arguments)}}());for(let W=0;W<X.length;W++){const k=yield bi(X[W]);if(!k.ok)throw k.err;yield k.value}}}catch(f){i=!0,u=f}finally{try{n&&null!=h.return&&(yield bi(h.return()))}finally{if(i)throw u}}}),Ab.apply(this,arguments)}function ku(r=0){return new Uint8Array(r)}function bg(r=0){return new Uint8Array(r)}function q1(r,t){null==t&&(t=r.reduce((u,h)=>u+h.length,0));const n=bg(t);let i=0;for(const u of r)n.set(u,i),i+=u.length;return n}function LS(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}const Q1=Symbol.for("@achingbrain/uint8arraylist");function eE(r,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const i of r){const u=n+i.byteLength;if(t<u)return{buf:i,index:t-n};n=u}throw new RangeError("index is out of bounds")}function Db(r){return!!r?.[Q1]}class hf{bufs;length;[Q1]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const i of t)if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.push(i);else{if(!Db(i))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.push(...i.bufs)}this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const i of t.reverse())if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.unshift(i);else{if(!Db(i))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.unshift(...i.bufs)}this.length+=n}get(t){const n=eE(this.bufs,t);return n.buf[n.index]}set(t,n){const i=eE(this.bufs,t);i.buf[i.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let i=0;i<t.length;i++)this.set(n+i,t[i]);else{if(!Db(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let i=0;i<t.length;i++)this.set(n+i,t.get(i))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,n){const{bufs:i,length:u}=this._subList(t,n);return q1(i,u)}subarray(t,n){const{bufs:i,length:u}=this._subList(t,n);return 1===i.length?i[0]:q1(i,u)}sublist(t,n){const{bufs:i,length:u}=this._subList(t,n),h=new hf;return h.length=u,h.bufs=[...i],h}_subList(t,n){if((t=t??0)<0&&(t=this.length+t),(n=n??this.length)<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(0===t&&n===this.length)return{bufs:this.bufs,length:this.length};const i=[];let u=0;for(let h=0;h<this.bufs.length;h++){const l=this.bufs[h],f=u,X=f+l.byteLength;if(u=X,t>=X)continue;const W=t>=f&&t<X,k=n>f&&n<=X;if(W&&k){if(t===f&&n===X){i.push(l);break}const re=t-f;i.push(l.subarray(re,re+(n-t)));break}if(W){if(0===t){i.push(l);continue}i.push(l.subarray(t-f))}else{if(k){if(n===X){i.push(l);break}i.push(l.subarray(0,n-f));break}i.push(l)}}return{bufs:i,length:n-t}}indexOf(t,n=0){if(!(Db(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const i=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===t.length)return n>this.length?this.length:n;const u=i.byteLength;if(0===u)throw new TypeError("search must be at least 1 byte long");const l=new Int32Array(256);for(let re=0;re<256;re++)l[re]=-1;for(let re=0;re<u;re++)l[i[re]]=re;const f=l,X=this.byteLength-i.byteLength,W=i.byteLength-1;let k;for(let re=n;re<=X;re+=k){k=0;for(let Oe=W;Oe>=0;Oe--){const je=this.get(re+Oe);if(i[Oe]!==je){k=Math.max(1,Oe-f[je]);break}}if(0===k)return re}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const i=bg(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,n),this.write(i,t)}getInt16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,n)}setInt16(t,n,i){const u=ku(2);new DataView(u.buffer,u.byteOffset,u.byteLength).setInt16(0,n,i),this.write(u,t)}getInt32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,n)}setInt32(t,n,i){const u=ku(4);new DataView(u.buffer,u.byteOffset,u.byteLength).setInt32(0,n,i),this.write(u,t)}getBigInt64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,n)}setBigInt64(t,n,i){const u=ku(8);new DataView(u.buffer,u.byteOffset,u.byteLength).setBigInt64(0,n,i),this.write(u,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const i=bg(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,n),this.write(i,t)}getUint16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,n)}setUint16(t,n,i){const u=ku(2);new DataView(u.buffer,u.byteOffset,u.byteLength).setUint16(0,n,i),this.write(u,t)}getUint32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,n)}setUint32(t,n,i){const u=ku(4);new DataView(u.buffer,u.byteOffset,u.byteLength).setUint32(0,n,i),this.write(u,t)}getBigUint64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,n)}setBigUint64(t,n,i){const u=ku(8);new DataView(u.buffer,u.byteOffset,u.byteLength).setBigUint64(0,n,i),this.write(u,t)}getFloat32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,n)}setFloat32(t,n,i){const u=ku(4);new DataView(u.buffer,u.byteOffset,u.byteLength).setFloat32(0,n,i),this.write(u,t)}getFloat64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,n)}setFloat64(t,n,i){const u=ku(8);new DataView(u.buffer,u.byteOffset,u.byteLength).setFloat64(0,n,i),this.write(u,t)}equals(t){if(null==t||!(t instanceof hf)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!LS(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const i=new hf;return i.bufs=t,null==n&&(n=t.reduce((u,h)=>u+h.byteLength,0)),i.length=n,i}}const Uk=(r={})=>{const t=r.chunkSize??262144;return function(){var n=_s(function*(u){let h=new hf,l=0,f=!1;var k,X=!1,W=!1;try{for(var Oe,re=Ho(u);X=!(Oe=yield bi(re.next())).done;X=!1){const je=Oe.value;for(h.append(je),l+=je.length;l>=t;)if(yield h.slice(0,t),f=!0,t===h.length)h=new hf,l=0;else{const Ke=new hf;Ke.append(h.sublist(t)),h=Ke,l-=t}}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield bi(re.return()))}finally{if(W)throw k}}(!f||l>0)&&(yield h.subarray(0,l))});return function i(u){return n.apply(this,arguments)}}()};function fc(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class $S{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class tE{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return nE(this,t)}}class Cb{decoders;constructor(t){this.decoders=t}or(t){return nE(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function nE(r,t){return new Cb({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class $k{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new $S(t,n,i),this.decoder=new tE(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function VS({name:r,prefix:t,encode:n,decode:i}){return new $k(r,t,n,i)}function zS({name:r,prefix:t,alphabet:n}){const{encode:i,decode:u}=function Fk(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var tt=0;if(" "!==Ke[tt]){for(var bt=0,kt=0;Ke[tt]===X;)bt++,tt++;for(var _t=(Ke.length-tt)*W+1>>>0,xt=new Uint8Array(_t);Ke[tt];){var Nt=n[Ke.charCodeAt(tt)];if(255===Nt)return;for(var Xt=0,qt=_t-1;(0!==Nt||Xt<kt)&&-1!==qt;qt--,Xt++)xt[qt]=(Nt+=f*xt[qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");kt=Xt,tt++}if(" "!==Ke[tt]){for(var un=_t-kt;un!==_t&&0===xt[un];)un++;for(var Ht=new Uint8Array(bt+(_t-un)),Sn=bt;un!==_t;)Ht[Sn++]=xt[un++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var tt=0,bt=0,kt=0,_t=Ke.length;kt!==_t&&0===Ke[kt];)kt++,tt++;for(var xt=(_t-kt)*k+1>>>0,Nt=new Uint8Array(xt);kt!==_t;){for(var Xt=Ke[kt],qt=0,un=xt-1;(0!==Xt||qt<bt)&&-1!==un;un--,qt++)Nt[un]=(Xt+=256*Nt[un]>>>0)%f>>>0,Xt=Xt/f>>>0;if(0!==Xt)throw new Error("Non-zero carry");bt=qt,kt++}for(var Ht=xt-bt;Ht!==xt&&0===Nt[Ht];)Ht++;for(var Sn=X.repeat(tt);Ht<xt;++Ht)Sn+=r.charAt(Nt[Ht]);return Sn},decodeUnsafe:Oe,decode:function je(Ke){var tt=Oe(Ke);if(tt)return tt;throw new Error(`Non-${t} character`)}}}(n,r);return VS({prefix:t,name:r,encode:i,decode:h=>fc(u(h))})}function pf({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return VS({prefix:t,name:r,encode:u=>function Vk(r,t,n){const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(0!==l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h}(u,i,n),decode:u=>function HS(r,t,n,i){const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l}(u,i,n,r)})}const kb=pf({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),rh=(pf({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),pf({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),pf({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),pf({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),pf({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),pf({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),pf({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),pf({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),zS({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));zS({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var ou=128,v0=-128,Wk=Math.pow(2,31),l8=128,Gk=127,u8=Math.pow(2,7),f8=Math.pow(2,14),Jk=Math.pow(2,21),b0=Math.pow(2,28),_g=Math.pow(2,35),YS=Math.pow(2,42),nm=Math.pow(2,49),h8=Math.pow(2,56),Xk=Math.pow(2,63);const qh={encode:function GS(r,t,n){t=t||[];for(var i=n=n||0;r>=Wk;)t[n++]=255&r|ou,r/=128;for(;r&v0;)t[n++]=255&r|ou,r>>>=7;return t[n]=0|r,GS.bytes=n-i+1,t},decode:function XS(r,i){var l,n=0,u=0,h=i=i||0,f=r.length;do{if(h>=f)throw XS.bytes=0,new RangeError("Could not decode varint");l=r[h++],n+=u<28?(l&Gk)<<u:(l&Gk)*Math.pow(2,u),u+=7}while(l>=l8);return XS.bytes=h-i,n},encodingLength:function(r){return r<u8?1:r<f8?2:r<Jk?3:r<b0?4:r<_g?5:r<YS?6:r<nm?7:r<h8?8:r<Xk?9:10}};function iE(r,t=0){return[qh.decode(r,t),qh.decode.bytes]}function Eg(r,t,n=0){return qh.encode(r,t,n),t}function xg(r){return qh.encodingLength(r)}class sE{code;size;digest;bytes;constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}function aE(r,t){const{bytes:n,version:i}=r;return 0===i?function qS(r,t,n){const{prefix:i}=n;if(i!==rh.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const u=t.get(i);if(null==u){const h=n.encode(r).slice(1);return t.set(i,h),h}return u}(n,cE(r),t??rh.encoder):function Bb(r,t,n){const{prefix:i}=n,u=t.get(i);if(null==u){const h=n.encode(r);return t.set(i,h),h}return u}(n,cE(r),t??kb.encoder)}const ZS=new WeakMap;function cE(r){const t=ZS.get(r);if(null==t){const n=new Map;return ZS.set(r,n),n}return t}class ds{code;version;multihash;bytes;"/";constructor(t,n,i,u){this.code=n,this.version=t,this.multihash=i,this.bytes=u,this["/"]=u}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==Nb)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==m8)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return ds.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=function Ob(r,t){const n=t.byteLength,i=xg(r),u=i+xg(n),h=new Uint8Array(u+n);return Eg(r,h,0),Eg(n,h,i),h.set(t,u),new sE(r,n,t,h)}(t,n);return ds.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return ds.equals(this,t)}static equals(t,n){return null!=n&&t.code===n.code&&t.version===n.version&&function oE(r,t){return r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&function g0(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}(r.bytes,t.bytes)}(t.multihash,n.multihash)}toString(t){return aE(this,t)}toJSON(){return{"/":aE(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof ds)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:u,multihash:h,bytes:l}=n;return new ds(i,u,h,l??wd(i,u,h.bytes))}if(!0===n[w0]){const{version:i,multihash:u,code:h}=n,l=function Rb(r){const t=fc(r),[n,i]=iE(t),[u,h]=iE(t.subarray(i)),l=t.subarray(i+h);if(l.byteLength!==u)throw new Error("Incorrect length");return new sE(n,u,l,t)}(u);return ds.create(i,h,l)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==Nb)throw new Error(`Version 0 CID must use dag-pb (code: ${Nb}) block encoding`);return new ds(t,n,i,i.bytes);case 1:{const u=wd(t,n,i.bytes);return new ds(t,n,i,u)}default:throw new Error("Invalid version")}}static createV0(t){return ds.create(0,Nb,t)}static createV1(t,n){return ds.create(1,t,n)}static decode(t){const[n,i]=ds.decodeFirst(t);if(0!==i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=ds.inspectBytes(t),i=n.size-n.multihashSize,u=fc(t.subarray(i,i+n.multihashSize));if(u.byteLength!==n.multihashSize)throw new Error("Incorrect length");const h=u.subarray(n.multihashSize-n.digestSize),l=new sE(n.multihashCode,n.digestSize,h,u);return[0===n.version?ds.createV0(l):ds.createV1(n.codec,l),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[re,Oe]=iE(t.subarray(n));return n+=Oe,re};let u=i(),h=Nb;if(18===u?(u=0,n=0):h=i(),0!==u&&1!==u)throw new RangeError(`Invalid CID version ${u}`);const l=n,f=i(),X=i(),W=n+X;return{version:u,codec:h,multihashCode:f,digestSize:X,multihashSize:W-l,size:W}}static parse(t,n){const[i,u]=function dE(r,t){switch(r[0]){case"Q":return[rh.prefix,(t??rh).decode(`${rh.prefix}${r}`)];case rh.prefix:return[rh.prefix,(t??rh).decode(r)];case kb.prefix:return[kb.prefix,(t??kb).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}(t,n),h=ds.decode(u);if(0===h.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return cE(h).set(i,t),h}}const Nb=112,m8=18;function wd(r,t,n){const i=xg(r),u=i+xg(t),h=new Uint8Array(u+n.byteLength);return Eg(r,h,0),Eg(t,h,i),h.set(n,u),h}const w0=Symbol.for("@ipld/js-cid/CID"),QS=new TextDecoder;function Ub(r,t){let n=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const u=r[t++];if(n+=i<28?(127&u)<<i:(127&u)*2**i,u<128)break}return[n,t]}function Lb(r,t){let n;[n,t]=Ub(r,t);const i=t+n;if(n<0||i<0)throw new Error("protobuf: invalid length");if(i>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,i),i]}function lE(r,t){let n;return[n,t]=Ub(r,t),[7&n,n>>3,t]}function qk(r){const t={},n=r.length;let i=0;for(;i<n;){let u,h;if([u,h,i]=lE(r,i),1===h){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==u)throw new Error(`protobuf: (PBLink) wrong wireType (${u}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,i]=Lb(r,i)}else if(2===h){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==u)throw new Error(`protobuf: (PBLink) wrong wireType (${u}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let l;[l,i]=Lb(r,i),t.Name=QS.decode(l)}else{if(3!==h)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${h}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==u)throw new Error(`protobuf: (PBLink) wrong wireType (${u}) for Tsize`);[t.Tsize,i]=Ub(r,i)}}if(i>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const tT=new TextEncoder,uE=2**32,Qk=2**31;function e3(r,t){let n=t.length;if("number"==typeof r.Tsize){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");n=_0(t,n,r.Tsize)-1,t[n]=24}if("string"==typeof r.Name){const i=tT.encode(r.Name);n-=i.length,t.set(i,n),n=_0(t,n,i.length)-1,t[n]=18}return r.Hash&&(n-=r.Hash.length,t.set(r.Hash,n),n=_0(t,n,r.Hash.length)-1,t[n]=10),t.length-n}function n3(r){let t=0;if(r.Hash){const n=r.Hash.length;t+=1+n+rm(n)}if("string"==typeof r.Name){const n=tT.encode(r.Name).length;t+=1+n+rm(n)}return"number"==typeof r.Tsize&&(t+=1+rm(r.Tsize)),t}function _0(r,t,n){const i=t-=rm(n);for(;n>=Qk;)r[t++]=127&n|128,n/=128;for(;n>=128;)r[t++]=127&n|128,n>>>=7;return r[t]=n,i}function rm(r){return r%2==0&&r++,Math.floor((function Kb(r){let t=0;return r>=uE&&(r=Math.floor(r/uE),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+rT[r]}(r)+6)/7)}const rT=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],iT=["Data","Links"],oT=["Hash","Name","Tsize"],Fb=new TextEncoder;function sT(r,t){if(r===t)return 0;const n=r.Name?Fb.encode(r.Name):[],i=t.Name?Fb.encode(t.Name):[];let u=n.length,h=i.length;for(let l=0,f=Math.min(u,h);l<f;++l)if(n[l]!==i[l]){u=n[l],h=i[l];break}return u<h?-1:h<u?1:0}function aT(r,t){return!Object.keys(r).some(n=>!t.includes(n))}function cT(r){if("object"==typeof r.asCID){const n=ds.asCID(r);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if("object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let n=ds.asCID(r.Hash);try{n||("string"==typeof r.Hash?n=ds.parse(r.Hash):r.Hash instanceof Uint8Array&&(n=ds.decode(r.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof r.Name&&(t.Name=r.Name),"number"==typeof r.Tsize&&(t.Tsize=r.Tsize),t}function Qh(r){if((r instanceof Uint8Array||"string"==typeof r)&&(r={Data:r}),"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==r.Data)if("string"==typeof r.Data)t.Data=Fb.encode(r.Data);else{if(!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=r.Data}if(void 0!==r.Links){if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form");t.Links=r.Links.map(cT),t.Links.sort(sT)}else t.Links=[];return t}function fE(r){if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!aT(r,iT))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==r.Data&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const n=r.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!aT(n,oT))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===sT(n,r.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function y8(r,t=[]){return Qh({Data:r,Links:t})}function dT(r,t,n){return cT({Hash:n,Name:r,Tsize:t})}const i3="dag-pb",lT=112;function ep(r){fE(r);const t={};return r.Links&&(t.Links=r.Links.map(n=>{const i={};return n.Hash&&(i.Hash=n.Hash.bytes),void 0!==n.Name&&(i.Name=n.Name),void 0!==n.Tsize&&(i.Tsize=n.Tsize),i})),r.Data&&(t.Data=r.Data),function t3(r){const t=function nT(r){let t=0;if(r.Data){const n=r.Data.length;t+=1+n+rm(n)}if(r.Links)for(const n of r.Links){const i=n3(n);t+=1+i+rm(i)}return t}(r),n=new Uint8Array(t);let i=t;if(r.Data&&(i-=r.Data.length,n.set(r.Data,i),i=_0(n,i,r.Data.length)-1,n[i]=10),r.Links)for(let u=r.Links.length-1;u>=0;u--){const h=e3(r.Links[u],n.subarray(0,i));i-=h,i=_0(n,i,h)-1,n[i]=18}return n}(t)}function E0(r){const t=function r3(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}(r),n=function eT(r){const t=r.length;let i,h,n=0,u=!1;for(;n<t;){let f,X;if([f,X,n]=lE(r,n),2!==f)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${f}`);if(1===X){if(h)throw new Error("protobuf: (PBNode) duplicate Data section");[h,n]=Lb(r,n),i&&(u=!0)}else{if(2!==X)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${X}`);{if(u)throw new Error("protobuf: (PBNode) duplicate Links section");let W;i||(i=[]),[W,n]=Lb(r,n),i.push(qk(W))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const l={};return h&&(l.Data=h),l.Links=i||[],l}(t),i={};return n.Data&&(i.Data=n.Data),n.Links&&(i.Links=n.Links.map(u=>{const h={};try{h.Hash=ds.decode(u.Hash)}catch{}if(!h.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==u.Name&&(h.Name=u.Name),void 0!==u.Tsize&&(h.Tsize=u.Tsize),h})),i}var jb=_(3087);const o3=Math.pow(2,7),tp=Math.pow(2,14),$b=Math.pow(2,21),hE=Math.pow(2,28),Vb=Math.pow(2,35),Mg=Math.pow(2,42),uT=Math.pow(2,49),Ps=128,Vd=127;function Sg(r){if(r<o3)return 1;if(r<tp)return 2;if(r<$b)return 3;if(r<hE)return 4;if(r<Vb)return 5;if(r<Mg)return 6;if(r<uT)return 7;if(null!=Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function fT(r,t,n=0){switch(Sg(r)){case 8:t[n++]=255&r|Ps,r/=128;case 7:t[n++]=255&r|Ps,r/=128;case 6:t[n++]=255&r|Ps,r/=128;case 5:t[n++]=255&r|Ps,r/=128;case 4:t[n++]=255&r|Ps,r>>>=7;case 3:t[n++]=255&r|Ps,r>>>=7;case 2:t[n++]=255&r|Ps,r>>>=7;case 1:t[n++]=255&r,r>>>=7;break;default:throw new Error("unreachable")}return t}const im=new Float32Array([-0]),hc=new Uint8Array(im.buffer);function Hb(r,t,n){im[0]=r,t[n]=hc[0],t[n+1]=hc[1],t[n+2]=hc[2],t[n+3]=hc[3]}const yf=new Float64Array([-0]),hs=new Uint8Array(yf.buffer);function Wb(r,t,n){yf[0]=r,t[n]=hs[0],t[n+1]=hs[1],t[n+2]=hs[2],t[n+3]=hs[3],t[n+4]=hs[4],t[n+5]=hs[5],t[n+6]=hs[6],t[n+7]=hs[7]}const yE=BigInt(Number.MAX_SAFE_INTEGER),Ag=BigInt(Number.MIN_SAFE_INTEGER);class zd{lo;hi;constructor(t,n){this.lo=0|t,this.hi=0|n}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(n+4294967296*i)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(BigInt(n)+(BigInt(i)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10}static fromBigInt(t){if(0n===t)return np;if(t<yE&&t>Ag)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let i=t>>32n,u=t-(i<<32n);return n&&(i=0n|~i,u=0n|~u,++u>mT&&(u=0n,++i>mT&&(i=0n))),new zd(Number(u),Number(i))}static fromNumber(t){if(0===t)return np;const n=t<0;n&&(t=-t);let i=t>>>0,u=(t-i)/4294967296>>>0;return n&&(u=~u>>>0,i=~i>>>0,++i>4294967295&&(i=0,++u>4294967295&&(u=0))),new zd(i,u)}static from(t){return"number"==typeof t?zd.fromNumber(t):"bigint"==typeof t?zd.fromBigInt(t):"string"==typeof t?zd.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new zd(t.low>>>0,t.high>>>0):np}}const np=new zd(0,0);np.toBigInt=function(){return 0n},np.zzEncode=np.zzDecode=function(){return this},np.length=function(){return 1};const mT=4294967296n;function vE(r,t,n){const i=n;let u,h;for(let l=0;l<r.length;++l)u=r.charCodeAt(l),u<128?t[n++]=u:u<2048?(t[n++]=u>>6|192,t[n++]=63&u|128):55296==(64512&u)&&56320==(64512&(h=r.charCodeAt(l+1)))?(u=65536+((1023&u)<<10)+(1023&h),++l,t[n++]=u>>18|240,t[n++]=u>>12&63|128,t[n++]=u>>6&63|128,t[n++]=63&u|128):(t[n++]=u>>12|224,t[n++]=u>>6&63|128,t[n++]=63&u|128);return n-i}function Pu(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function Jb(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}class Dg{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Pu(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw Pu(this,4);return Jb(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Pu(this,4);return 0|Jb(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw Pu(this,4);const t=function Tg(r,t){return hc[0]=r[t],hc[1]=r[t+1],hc[2]=r[t+2],hc[3]=r[t+3],im[0]}(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw Pu(this,4);const t=function mE(r,t){return hs[0]=r[t],hs[1]=r[t+1],hs[2]=r[t+2],hs[3]=r[t+3],hs[4]=r[t+4],hs[5]=r[t+5],hs[6]=r[t+6],hs[7]=r[t+7],yf[0]}(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,i=this.pos+t;if(i>this.len)throw Pu(this,t);return this.pos+=t,n===i?new Uint8Array(0):this.buf.subarray(n,i)}string(){const t=this.bytes();return function gE(r,t,n){if(n-t<1)return"";let u;const h=[];let f,l=0;for(;t<n;)f=r[t++],f<128?h[l++]=f:f>191&&f<224?h[l++]=(31&f)<<6|63&r[t++]:f>239&&f<365?(f=((7&f)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,h[l++]=55296+(f>>10),h[l++]=56320+(1023&f)):h[l++]=(15&f)<<12|(63&r[t++])<<6|63&r[t++],l>8191&&((u??(u=[])).push(String.fromCharCode.apply(String,h)),l=0);return null!=u?(l>0&&u.push(String.fromCharCode.apply(String,h.slice(0,l))),u.join("")):String.fromCharCode.apply(String,h.slice(0,l))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw Pu(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw Pu(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new zd(0,0);let n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw Pu(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw Pu(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Pu(this,8);const t=Jb(this.buf,this.pos+=4),n=Jb(this.buf,this.pos+=4);return new zd(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=function s3(r,t){let n=r[t],i=0;if(i+=n&Vd,n<Ps||(n=r[t+1],i+=(n&Vd)<<7,n<Ps)||(n=r[t+2],i+=(n&Vd)<<14,n<Ps)||(n=r[t+3],i+=(n&Vd)<<21,n<Ps)||(n=r[t+4],i+=(n&Vd)*hE,n<Ps)||(n=r[t+5],i+=(n&Vd)*Vb,n<Ps)||(n=r[t+6],i+=(n&Vd)*Mg,n<Ps)||(n=r[t+7],i+=(n&Vd)*uT,n<Ps))return i;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=Sg(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function Ig(r,t,n){const i=function yT(r){return new Dg(r instanceof Uint8Array?r:r.subarray())}(r);return t.decode(i,void 0,n)}function bE(r=0){return new Uint8Array(r)}function rp(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class Zb{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class wT{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return _E(this,t)}}class _T{decoders;constructor(t){this.decoders=t}or(t){return _E(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function _E(r,t){return new _T({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class qb{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new Zb(t,n,i),this.decoder=new wT(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function x0({name:r,prefix:t,encode:n,decode:i}){return new qb(r,t,n,i)}function M0({name:r,prefix:t,alphabet:n}){const{encode:i,decode:u}=function wE(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var tt=0;if(" "!==Ke[tt]){for(var bt=0,kt=0;Ke[tt]===X;)bt++,tt++;for(var _t=(Ke.length-tt)*W+1>>>0,xt=new Uint8Array(_t);Ke[tt];){var Nt=n[Ke.charCodeAt(tt)];if(255===Nt)return;for(var Xt=0,qt=_t-1;(0!==Nt||Xt<kt)&&-1!==qt;qt--,Xt++)xt[qt]=(Nt+=f*xt[qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");kt=Xt,tt++}if(" "!==Ke[tt]){for(var un=_t-kt;un!==_t&&0===xt[un];)un++;for(var Ht=new Uint8Array(bt+(_t-un)),Sn=bt;un!==_t;)Ht[Sn++]=xt[un++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var tt=0,bt=0,kt=0,_t=Ke.length;kt!==_t&&0===Ke[kt];)kt++,tt++;for(var xt=(_t-kt)*k+1>>>0,Nt=new Uint8Array(xt);kt!==_t;){for(var Xt=Ke[kt],qt=0,un=xt-1;(0!==Xt||qt<bt)&&-1!==un;un--,qt++)Nt[un]=(Xt+=256*Nt[un]>>>0)%f>>>0,Xt=Xt/f>>>0;if(0!==Xt)throw new Error("Non-zero carry");bt=qt,kt++}for(var Ht=xt-bt;Ht!==xt&&0===Nt[Ht];)Ht++;for(var Sn=X.repeat(tt);Ht<xt;++Ht)Sn+=r.charAt(Nt[Ht]);return Sn},decodeUnsafe:Oe,decode:function je(Ke){var tt=Oe(Ke);if(tt)return tt;throw new Error(`Non-${t} character`)}}}(n,r);return x0({prefix:t,name:r,encode:i,decode:h=>rp(u(h))})}function tc({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return x0({prefix:t,name:r,encode:u=>function EE(r,t,n){const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(0!==l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h}(u,i,n),decode:u=>function Qb(r,t,n,i){const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l}(u,i,n,r)})}const l3=M0({prefix:"9",name:"base10",alphabet:"0123456789"}),u3=tc({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),E8=tc({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ew=tc({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),tw=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),ET=tw.reduce((r,t,n)=>(r[n]=t,r),[]),xT=tw.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),f3=x0({prefix:"\u{1f680}",name:"base256emoji",encode:function MT(r){return r.reduce((t,n)=>t+ET[n],"")},decode:function om(r){const t=[];for(const n of r){const i=xT[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),kg=tc({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),h3=tc({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),p3=tc({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),m3=tc({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ih=tc({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),S0=tc({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),y3=tc({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),g3=tc({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),v3=tc({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),b3=M0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),w3=M0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),oh=M0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ST=M0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),_3=tc({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),E3=tc({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),x3=tc({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),M3=tc({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),nw=tc({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),sh=x0({prefix:"\0",name:"identity",encode:r=>function gT(r){return(new TextDecoder).decode(r)}(r),decode:r=>function d3(r){return(new TextEncoder).encode(r)}(r)}),Pg=new TextEncoder,TT=new TextDecoder,AT="json",DT=512;function x8(r){return Pg.encode(JSON.stringify(r))}function M8(r){return JSON.parse(TT.decode(r))}const S8="raw",xE=85;function ME(r){return rp(r)}function T8(r){return rp(r)}var SE=128,T3=-128,A3=Math.pow(2,31),CT=128,TE=127,I3=Math.pow(2,7),kT=Math.pow(2,14),rw=Math.pow(2,21),PT=Math.pow(2,28),DE=Math.pow(2,35),C3=Math.pow(2,42),sm=Math.pow(2,49),k3=Math.pow(2,56),P3=Math.pow(2,63);const iw={encode:function IT(r,t,n){t=t||[];for(var i=n=n||0;r>=A3;)t[n++]=255&r|SE,r/=128;for(;r&T3;)t[n++]=255&r|SE,r>>>=7;return t[n]=0|r,IT.bytes=n-i+1,t},decode:function AE(r,i){var l,n=0,u=0,h=i=i||0,f=r.length;do{if(h>=f)throw AE.bytes=0,new RangeError("Could not decode varint");l=r[h++],n+=u<28?(l&TE)<<u:(l&TE)*Math.pow(2,u),u+=7}while(l>=CT);return AE.bytes=h-i,n},encodingLength:function(r){return r<I3?1:r<kT?2:r<rw?3:r<PT?4:r<DE?5:r<C3?6:r<sm?7:r<k3?8:r<P3?9:10}};function ow(r,t,n=0){return iw.encode(r,t,n),t}function Og(r){return iw.encodingLength(r)}function kE(r,t){const n=t.byteLength,i=Og(r),u=i+Og(n),h=new Uint8Array(u+n);return ow(r,h,0),ow(n,h,i),h.set(t,u),new PE(r,n,t,h)}class PE{code;size;digest;bytes;constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}const OE=rp,N3={code:0,name:"identity",encode:OE,digest:function B3(r){return kE(0,OE(r))}};function BT({name:r,code:t,encode:n}){return new U3(r,t,n)}class U3{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?kE(this.code,n):n.then(i=>kE(this.code,i))}throw Error("Unknown type, must be binary type")}}function NT(r){return function(){var t=(0,Xe.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const L3=BT({name:"sha2-256",code:18,encode:NT("SHA-256")}),RE=BT({name:"sha2-512",code:19,encode:NT("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const NE={...C,...ce,...Pe,...J,...se,...fe,...he,...we,...Me,...ae};function UE(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const am=UE("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),cl=UE("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=bE((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),jT={utf8:am,"utf-8":am,hex:NE.base16,latin1:cl,ascii:cl,binary:cl,...NE};class aw{fn;len;next;val;constructor(t,n,i){this.fn=t,this.len=n,this.next=void 0,this.val=i}}function $T(){}class VT{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const zT=function j3(r){const t=r??8192,n=t>>>1;let i,u=t;return function(l){if(l<1||l>n)return bE(l);u+l>t&&(i=bE(t),u=0);const f=i.subarray(u,u+=l);return 7&u&&(u=1+(7|u)),f}}();class T0{len;head;tail;states;constructor(){this.len=0,this.head=new aw($T,0,0),this.tail=this.head,this.states=null}_push(t,n,i){return this.tail=this.tail.next=new aw(t,n,i),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new $3((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(ah,10,zd.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=zd.fromBigInt(t);return this._push(ah,n.length(),n)}uint64Number(t){return this._push(fT,Sg(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=zd.fromBigInt(t).zzEncode();return this._push(ah,n.length(),n)}sint64Number(t){const n=zd.fromNumber(t).zzEncode();return this._push(ah,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(Bg,1,t?1:0)}fixed32(t){return this._push(cm,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=zd.fromBigInt(t);return this._push(cm,4,n.lo)._push(cm,4,n.hi)}fixed64Number(t){const n=zd.fromNumber(t);return this._push(cm,4,n.lo)._push(cm,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(Hb,4,t)}double(t){return this._push(Wb,8,t)}bytes(t){const n=t.length>>>0;return 0===n?this._push(Bg,1,0):this.uint32(n)._push(HT,n,t)}string(t){const n=function a3(r){let t=0,n=0;for(let i=0;i<r.length;++i)n=r.charCodeAt(i),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(i+1))?(++i,t+=4):t+=3;return t}(t);return 0!==n?this.uint32(n)._push(vE,n,t):this._push(Bg,1,0)}fork(){return this.states=new VT(this),this.head=this.tail=new aw($T,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new aw($T,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,i=this.len;return this.reset().uint32(i),0!==i&&(this.tail.next=t.next,this.tail=n,this.len+=i),this}finish(){let t=this.head.next;const n=function R8(r){return null!=globalThis.Buffer?bE(r):zT(r)}(this.len);let i=0;for(;null!=t;)t.fn(t.val,n,i),i+=t.len,t=t.next;return n}}function Bg(r,t,n){t[n]=255&r}function LE(r,t,n){for(;r>127;)t[n++]=127&r|128,r>>>=7;t[n]=r}class $3 extends aw{next;constructor(t,n){super(LE,t,n),this.next=void 0}}function ah(r,t,n){for(;0!==r.hi;)t[n++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[n++]=127&r.lo|128,r.lo=r.lo>>>7;t[n++]=r.lo}function cm(r,t,n){t[n]=255&r,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24}function HT(r,t,n){t.set(r,n)}function KE(r,t,n){t.set(r,n)}function cw(r,t,n){r.length<40?vE(r,t,n):null!=t.utf8Write?t.utf8Write(r,n):t.set(function O8(r,t="utf8"){const n=jT[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}(r),n)}function FE(r,t){const n=function V3(){return new T0}();return t.encode(r,n,{lengthDelimited:!1}),n.finish()}null!=globalThis.Buffer&&(T0.prototype.bytes=function(r){const t=r.length>>>0;return this.uint32(t),t>0&&this._push(KE,t,r),this},T0.prototype.string=function(r){const t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(cw,t,r),this});var El,dm,uw,dw=function(r){return r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32",r}(dw||{});function WT(r,t,n,i){return{name:r,type:t,encode:n,decode:i}}function lw(r,t){return WT("message",dw.LENGTH_DELIMITED,r,t)}Error,function(r){let t;var u;let n,i;(u=t=r.DataType||(r.DataType={})).Raw="Raw",u.Directory="Directory",u.File="File",u.Metadata="Metadata",u.Symlink="Symlink",u.HAMTShard="HAMTShard",function(u){u[u.Raw=0]="Raw",u[u.Directory=1]="Directory",u[u.File=2]="File",u[u.Metadata=3]="Metadata",u[u.Symlink=4]="Symlink",u[u.HAMTShard=5]="HAMTShard"}(n||(n={})),function(u){u.codec=()=>function z3(r){function t(u){if(null==r[u.toString()])throw new Error("Invalid enum value");return r[u]}return WT("enum",dw.VARINT,function(h,l){const f=t(h);l.int32(f)},function(h){return t(h.int32())})}(n)}(t=r.DataType||(r.DataType={})),r.codec=()=>(null==i&&(i=lw((u,h,l={})=>{if(!1!==l.lengthDelimited&&h.fork(),null!=u.Type&&(h.uint32(8),r.DataType.codec().encode(u.Type,h)),null!=u.Data&&(h.uint32(18),h.bytes(u.Data)),null!=u.filesize&&(h.uint32(24),h.uint64(u.filesize)),null!=u.blocksizes)for(const f of u.blocksizes)h.uint32(32),h.uint64(f);null!=u.hashType&&(h.uint32(40),h.uint64(u.hashType)),null!=u.fanout&&(h.uint32(48),h.uint64(u.fanout)),null!=u.mode&&(h.uint32(56),h.uint32(u.mode)),null!=u.mtime&&(h.uint32(66),dm.codec().encode(u.mtime,h)),!1!==l.lengthDelimited&&h.ldelim()},(u,h)=>{const l={blocksizes:[]},f=null==h?u.len:u.pos+h;for(;u.pos<f;){const X=u.uint32();switch(X>>>3){case 1:l.Type=r.DataType.codec().decode(u);break;case 2:l.Data=u.bytes();break;case 3:l.filesize=u.uint64();break;case 4:l.blocksizes.push(u.uint64());break;case 5:l.hashType=u.uint64();break;case 6:l.fanout=u.uint64();break;case 7:l.mode=u.uint32();break;case 8:l.mtime=dm.codec().decode(u,u.uint32());break;default:u.skipType(7&X)}}return l})),i),r.encode=u=>FE(u,r.codec()),r.decode=u=>Ig(u,r.codec())}(El||(El={})),function(r){let t;r.codec=()=>(null==t&&(t=lw((n,i,u={})=>{!1!==u.lengthDelimited&&i.fork(),null!=n.Seconds&&(i.uint32(8),i.int64(n.Seconds)),null!=n.FractionalNanoseconds&&(i.uint32(21),i.fixed32(n.FractionalNanoseconds)),!1!==u.lengthDelimited&&i.ldelim()},(n,i)=>{const u={},h=null==i?n.len:n.pos+i;for(;n.pos<h;){const l=n.uint32();switch(l>>>3){case 1:u.Seconds=n.int64();break;case 2:u.FractionalNanoseconds=n.fixed32();break;default:n.skipType(7&l)}}return u})),t),r.encode=n=>FE(n,r.codec()),r.decode=n=>Ig(n,r.codec())}(dm||(dm={})),function(r){let t;r.codec=()=>(null==t&&(t=lw((n,i,u={})=>{!1!==u.lengthDelimited&&i.fork(),null!=n.MimeType&&(i.uint32(10),i.string(n.MimeType)),!1!==u.lengthDelimited&&i.ldelim()},(n,i)=>{const u={},h=null==i?n.len:n.pos+i;for(;n.pos<h;){const l=n.uint32();l>>>3==1?u.MimeType=n.string():n.skipType(7&l)}return u})),t),r.encode=n=>FE(n,r.codec()),r.decode=n=>Ig(n,r.codec())}(uw||(uw={}));const JT={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},H3=["directory","hamt-sharded-directory"],fw=parseInt("0644",8),jE=parseInt("0755",8);class _d{static unmarshal(t){const n=El.decode(t),i=new _d({type:JT[null!=n.Type?n.Type.toString():"File"],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:null!=n.mtime?{secs:n.mtime.Seconds??0n,nsecs:n.mtime.FractionalNanoseconds}:void 0,fanout:n.fanout});return i._originalMode=n.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(t={type:"file"}){const{type:n,data:i,blockSizes:u,hashType:h,fanout:l,mtime:f,mode:X}=t;if(null!=n&&!Object.values(JT).includes(n))throw jb(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n??"file",this.data=i,this.hashType=h,this.fanout=l,this.blockSizes=u??[],this._originalMode=0,this.mode=X,this.mtime=f}set mode(t){this._mode=null==t?this.isDirectory()?jE:fw:4095&t}get mode(){return this._mode}isDirectory(){return H3.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(n=>{t+=n}),null!=this.data&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=El.DataType.Raw;break;case"directory":t=El.DataType.Directory;break;case"file":t=El.DataType.File;break;case"metadata":t=El.DataType.Metadata;break;case"symlink":t=El.DataType.Symlink;break;case"hamt-sharded-directory":t=El.DataType.HAMTShard;break;default:throw jb(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let i,u,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(i=4294963200&this._originalMode|(this.mode??0),i===fw&&!this.isDirectory()&&(i=void 0),i===jE&&this.isDirectory()&&(i=void 0)),null!=this.mtime&&(u={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),El.encode({Type:t,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:u})}}var hw=_(52054);const XT="raw",Ng=85,B8=r=>(0,hw.au)(r),pw=r=>(0,hw.au)(r);class su extends Event{constructor(t,n){super(t),this.detail=n}}const lm=function(){var r=(0,Xe.A)(function*(t,n,i){null==i.codec&&(i.codec=Z);const u=yield K.digest(t),h=al.TO.create(i.cidVersion,i.codec.code,u);return yield n.put(h,t,i),h});return function(n,i,u){return r.apply(this,arguments)}}();function YT(r){return function(){var t=_s(function*(i,u){let h=0n;var X,l=!1,f=!1;try{for(var k,W=Ho(i.content);l=!(k=yield bi(W.next())).done;l=!1){let re=k.value;yield(0,Xe.A)(function*(){let Oe;const je={codec:Z,cidVersion:r.cidVersion,onProgress:r.onProgress};r.rawLeaves?(je.codec=E,je.cidVersion=1):(Oe=new _d({type:r.leafType,data:re}),re=ep({Data:Oe.marshal(),Links:[]}));const Ke=yield lm(re,u,je);return h+=BigInt(re.byteLength),r.onProgress?.(new su("unixfs:importer:progress:file:write",{bytesWritten:h,cid:Ke,path:i.path})),{cid:Ke,unixfs:Oe,size:BigInt(re.length),block:re}})}}catch(re){f=!0,X=re}finally{try{l&&null!=W.return&&(yield bi(W.return()))}finally{if(f)throw X}}});return function n(i,u){return t.apply(this,arguments)}}()}function Ou(r){var t={},n=!1;function i(u,h){return n=!0,{done:!1,value:new Z1(h=new Promise(function(l){l(r[u](h))}),1)}}return t[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(u){return n?(n=!1,u):i("next",u)},"function"==typeof r.throw&&(t.throw=function(u){if(n)throw n=!1,u;return i("throw",u)}),"function"==typeof r.return&&(t.return=function(u){return n?(n=!1,u):i("return",u)}),t}const $E=function(){var r=(0,Xe.A)(function*(t,n,i){const u=new _d({type:"directory",mtime:t.mtime,mode:t.mode}),h=ep(Qh({Data:u.marshal()}));return{cid:yield lm(h,n,i),path:t.path,unixfs:u,size:BigInt(h.length),originalPath:t.originalPath,block:h}});return function(n,i,u){return r.apply(this,arguments)}}();function A0(){return(A0=_s(function*(r,t,n){let u,i=-1;var f,h=!1,l=!1;try{for(var W,X=Ho(Tb(n.bufferImporter(r,t),n.blockWriteConcurrency));h=!(W=yield bi(X.next())).done;h=!1){const k=W.value;i++,0!==i?(1===i&&null!=u&&(yield{...u,block:void 0,single:void 0},u=void 0),yield{...k,block:void 0}):u={...k,single:!0}}}catch(k){l=!0,f=k}finally{try{h&&null!=X.return&&(yield bi(X.return()))}finally{if(l)throw f}}null!=u&&(yield u)})).apply(this,arguments)}function um(r){return!0===r.single}const qT=(r,t,n)=>function(){var u=(0,Xe.A)(function*(h){if(1===h.length&&um(h[0])&&n.reduceSingleLeafToSelf){const re=h[0];let Oe=re.block;return um(re)&&(void 0!==r.mtime||void 0!==r.mode)&&(re.unixfs=new _d({type:"file",mtime:r.mtime,mode:r.mode,data:re.block}),Oe={Data:re.unixfs.marshal(),Links:[]},re.block=ep(Qh(Oe)),re.cid=yield lm(re.block,t,{...n,cidVersion:n.cidVersion}),re.size=BigInt(re.block.length)),n.onProgress?.(new su("unixfs:importer:progress:file:layout",{cid:re.cid,path:re.originalPath})),{cid:re.cid,path:r.path,unixfs:re.unixfs,size:re.size,originalPath:re.originalPath}}const l=new _d({type:"file",mtime:r.mtime,mode:r.mode}),f=h.filter(re=>re.cid.code===Ng&&re.size>0||null!=re.unixfs&&null==re.unixfs.data&&re.unixfs.fileSize()>0n||!!re.unixfs?.data?.length).map(re=>re.cid.code===Ng?(l.addBlockSize(re.size),{Name:"",Tsize:Number(re.size),Hash:re.cid}):(l.addBlockSize(null==re.unixfs||null==re.unixfs.data?re.unixfs?.fileSize()??0n:BigInt(re.unixfs.data.length)),{Name:"",Tsize:Number(re.size),Hash:re.cid})),X={Data:l.marshal(),Links:f},W=ep(Qh(X)),k=yield lm(W,t,n);return n.onProgress?.(new su("unixfs:importer:progress:file:layout",{cid:k,path:r.originalPath})),{cid:k,path:r.path,unixfs:l,size:BigInt(W.length+X.Links.reduce((re,Oe)=>re+(Oe.Tsize??0),0)),originalPath:r.originalPath,block:W}});return function(l){return u.apply(this,arguments)}}(),VE=function(){var r=(0,Xe.A)(function*(t,n,i){return i.layout(function ZT(r,t,n){return A0.apply(this,arguments)}(t,n,i),qT(t,n,i))});return function(n,i,u){return r.apply(this,arguments)}}();function zE(r){try{if(r instanceof Uint8Array)return _s(function*(){yield r})();if(function Ug(r){return Symbol.iterator in r}(r))return _s(function*(){yield*Ou(Ho(r))})();if(function QT(r){return Symbol.asyncIterator in r}(r))return r}catch{throw Sb(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw Sb(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function W3(r){return null!=r.content}const eA=()=>function(){var r=_s(function*(n){var h,i=!1,u=!1;try{for(var f,l=Ho(n);i=!(f=yield bi(l.next())).done;i=!1){const X=f.value;if(void 0===X.length)throw Sb(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof X||X instanceof String)yield At(X.toString());else if(Array.isArray(X))yield Uint8Array.from(X);else{if(!(X instanceof Uint8Array))throw Sb(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield X}}}catch(X){u=!0,h=X}finally{try{i&&null!=l.return&&(yield bi(l.return()))}finally{if(u)throw h}}});return function t(n){return r.apply(this,arguments)}}(),G3=174;function J3(r){const t=r?.maxChildrenPerNode??G3;return function(){var n=(0,Xe.A)(function*(u,h){const l=[];var W,f=!1,X=!1;try{for(var re,k=Ho(vg(u,t));f=!(re=yield k.next()).done;f=!1){const Oe=re.value;l.push(yield h(Oe))}}catch(Oe){X=!0,W=Oe}finally{try{f&&null!=k.return&&(yield k.return())}finally{if(X)throw W}}return l.length>1?i(l,h):l[0]});function i(u,h){return n.apply(this,arguments)}return i}()}class D0{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(t,n){this.options=n??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}}const op=al.TO.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),yw=al.TO.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class gw extends D0{_children;constructor(t,n){super(t,n),this._children=new Map}put(t,n){var i=this;return(0,Xe.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,i._children.set(t,n)})()}get(t){var n=this;return(0,Xe.A)(function*(){return Promise.resolve(n._children.get(t))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var t=this;return _s(function*(){for(const[n,i]of t._children.entries())yield{key:n,child:i}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[t,n]of this._children.entries())null!=n.size&&null!=n.cid&&(this.nodeSize+=t.length+(1===this.options.cidVersion?yw.bytes.byteLength:op.bytes.byteLength));return this.nodeSize}flush(t){var n=this;return _s(function*(){const i=[];for(const[Ke,tt]of n._children.entries()){let bt=tt;if(tt instanceof D0){var l,u=!1,h=!1;try{for(var X,f=Ho(tt.flush(t));u=!(X=yield bi(f.next())).done;u=!1){const kt=X.value;bt=kt,yield kt}}catch(kt){h=!0,l=kt}finally{try{u&&null!=f.return&&(yield bi(f.return()))}finally{if(h)throw l}}}null!=bt.size&&null!=bt.cid&&i.push({Name:Ke,Tsize:Number(bt.size),Hash:bt.cid})}const W=new _d({type:"directory",mtime:n.mtime,mode:n.mode}),k={Data:W.marshal(),Links:i},re=ep(Qh(k)),Oe=yield bi(lm(re,t,n.options)),je=re.length+k.Links.reduce((Ke,tt)=>Ke+(null==tt.Tsize?0:tt.Tsize),0);n.cid=Oe,n.size=je,yield{cid:Oe,unixfs:W,path:n.path,size:BigInt(je)}})()}}const Z3=new Uint8Array(0);function sp(r){const t=r.match(/../g);return null!=t?new Uint8Array(t.map(n=>parseInt(n,16))):Z3}class e6{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class t6{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return aA(this,t)}}class sA{decoders;constructor(t){this.decoders=t}or(t){return aA(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function aA(r,t){return new sA({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class n6{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new e6(t,n,i),this.decoder=new t6(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function cA({name:r,prefix:t,encode:n,decode:i}){return new n6(r,t,n,i)}function dA({name:r,prefix:t,alphabet:n}){const{encode:i,decode:u}=function GE(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var tt=0;if(" "!==Ke[tt]){for(var bt=0,kt=0;Ke[tt]===X;)bt++,tt++;for(var _t=(Ke.length-tt)*W+1>>>0,xt=new Uint8Array(_t);Ke[tt];){var Nt=n[Ke.charCodeAt(tt)];if(255===Nt)return;for(var Xt=0,qt=_t-1;(0!==Nt||Xt<kt)&&-1!==qt;qt--,Xt++)xt[qt]=(Nt+=f*xt[qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");kt=Xt,tt++}if(" "!==Ke[tt]){for(var un=_t-kt;un!==_t&&0===xt[un];)un++;for(var Ht=new Uint8Array(bt+(_t-un)),Sn=bt;un!==_t;)Ht[Sn++]=xt[un++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var tt=0,bt=0,kt=0,_t=Ke.length;kt!==_t&&0===Ke[kt];)kt++,tt++;for(var xt=(_t-kt)*k+1>>>0,Nt=new Uint8Array(xt);kt!==_t;){for(var Xt=Ke[kt],qt=0,un=xt-1;(0!==Xt||qt<bt)&&-1!==un;un--,qt++)Nt[un]=(Xt+=256*Nt[un]>>>0)%f>>>0,Xt=Xt/f>>>0;if(0!==Xt)throw new Error("Non-zero carry");bt=qt,kt++}for(var Ht=xt-bt;Ht!==xt&&0===Nt[Ht];)Ht++;for(var Sn=X.repeat(tt);Ht<xt;++Ht)Sn+=r.charAt(Nt[Ht]);return Sn},decodeUnsafe:Oe,decode:function je(Ke){var tt=Oe(Ke);if(tt)return tt;throw new Error(`Non-${t} character`)}}}(n,r);return cA({prefix:t,name:r,encode:i,decode:h=>function fm(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(u(h))})}function ch({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return cA({prefix:t,name:r,encode:u=>function uA(r,t,n){const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(0!==l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h}(u,i,n),decode:u=>function lA(r,t,n,i){const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l}(u,i,n,r)})}ch({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ch({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ch({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ch({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ch({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ch({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ch({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ch({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ch({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),dA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var hA=128,s6=-128,a6=Math.pow(2,31),d6=128,Ru=127,l6=Math.pow(2,7),u6=Math.pow(2,14),mA=Math.pow(2,21),yA=Math.pow(2,28),bw=Math.pow(2,35),YE=Math.pow(2,42),F8=Math.pow(2,49),gA=Math.pow(2,56),vA=Math.pow(2,63);const au={encode:function pA(r,t,n){t=t||[];for(var i=n=n||0;r>=a6;)t[n++]=255&r|hA,r/=128;for(;r&s6;)t[n++]=255&r|hA,r>>>=7;return t[n]=0|r,pA.bytes=n-i+1,t},decode:function Lg(r,i){var l,n=0,u=0,h=i=i||0,f=r.length;do{if(h>=f)throw Lg.bytes=0,new RangeError("Could not decode varint");l=r[h++],n+=u<28?(l&Ru)<<u:(l&Ru)*Math.pow(2,u),u+=7}while(l>=d6);return Lg.bytes=h-i,n},encodingLength:function(r){return r<l6?1:r<u6?2:r<mA?3:r<yA?4:r<bw?5:r<YE?6:r<F8?7:r<gA?8:r<vA?9:10}};function _w(r,t,n=0){return au.encode(r,t,n),t}function I0(r){return au.encodingLength(r)}function QE(r,t){const n=t.byteLength,i=I0(r),u=i+I0(n),h=new Uint8Array(u+n);return _w(r,h,0),_w(n,h,i),h.set(t,u),new dh(r,n,t,h)}class dh{code;size;digest;bytes;constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}function k0({name:r,code:t,encode:n}){return new g6(r,t,n)}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class g6{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?QE(this.code,n):n.then(i=>QE(this.code,i))}throw Error("Unknown type, must be binary type")}}var Mw=_(13026);k0({name:"murmur3-32",code:35,encode:r=>function v6(r){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&r,r>>=8;return new Uint8Array(t)}(Mw.x86.hash32(r))});const EA=k0({name:"murmur3-128",code:34,encode:r=>sp(Mw.x64.hash128(r))});k0({name:"murmur3-x64-64",code:34,encode:r=>sp(Mw.x64.hash128(r)).subarray(0,8)});var xA=_(18876);function gf(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class z8{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class M6{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return T6(this,t)}}class S6{decoders;constructor(t){this.decoders=t}or(t){return T6(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function T6(r,t){return new S6({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class A6{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,u){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=u,this.encoder=new z8(t,n,i),this.decoder=new M6(t,n,u)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function o2({name:r,prefix:t,encode:n,decode:i}){return new A6(r,t,n,i)}function jg({name:r,prefix:t,alphabet:n}){const{encode:i,decode:u}=function Tw(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var u=0;u<r.length;u++){var h=r.charAt(u),l=h.charCodeAt(0);if(255!==n[l])throw new TypeError(h+" is ambiguous");n[l]=u}var f=r.length,X=r.charAt(0),W=Math.log(f)/Math.log(256),k=Math.log(256)/Math.log(f);function Oe(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var tt=0;if(" "!==Ke[tt]){for(var bt=0,kt=0;Ke[tt]===X;)bt++,tt++;for(var _t=(Ke.length-tt)*W+1>>>0,xt=new Uint8Array(_t);Ke[tt];){var Nt=n[Ke.charCodeAt(tt)];if(255===Nt)return;for(var Xt=0,qt=_t-1;(0!==Nt||Xt<kt)&&-1!==qt;qt--,Xt++)xt[qt]=(Nt+=f*xt[qt]>>>0)%256>>>0,Nt=Nt/256>>>0;if(0!==Nt)throw new Error("Non-zero carry");kt=Xt,tt++}if(" "!==Ke[tt]){for(var un=_t-kt;un!==_t&&0===xt[un];)un++;for(var Ht=new Uint8Array(bt+(_t-un)),Sn=bt;un!==_t;)Ht[Sn++]=xt[un++];return Ht}}}return{encode:function re(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var tt=0,bt=0,kt=0,_t=Ke.length;kt!==_t&&0===Ke[kt];)kt++,tt++;for(var xt=(_t-kt)*k+1>>>0,Nt=new Uint8Array(xt);kt!==_t;){for(var Xt=Ke[kt],qt=0,un=xt-1;(0!==Xt||qt<bt)&&-1!==un;un--,qt++)Nt[un]=(Xt+=256*Nt[un]>>>0)%f>>>0,Xt=Xt/f>>>0;if(0!==Xt)throw new Error("Non-zero carry");bt=qt,kt++}for(var Ht=xt-bt;Ht!==xt&&0===Nt[Ht];)Ht++;for(var Sn=X.repeat(tt);Ht<xt;++Ht)Sn+=r.charAt(Nt[Ht]);return Sn},decodeUnsafe:Oe,decode:function je(Ke){var tt=Oe(Ke);if(tt)return tt;throw new Error(`Non-${t} character`)}}}(n,r);return o2({prefix:t,name:r,encode:i,decode:h=>gf(u(h))})}function Kc({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return o2({prefix:t,name:r,encode:u=>function I6(r,t,n){const i="="===t[t.length-1],u=(1<<n)-1;let h="",l=0,f=0;for(let X=0;X<r.length;++X)for(f=f<<8|r[X],l+=8;l>n;)l-=n,h+=t[u&f>>l];if(0!==l&&(h+=t[u&f<<n-l]),i)for(;h.length*n&7;)h+="=";return h}(u,i,n),decode:u=>function D6(r,t,n,i){const u={};for(let k=0;k<t.length;++k)u[t[k]]=k;let h=r.length;for(;"="===r[h-1];)--h;const l=new Uint8Array(h*n/8|0);let f=0,X=0,W=0;for(let k=0;k<h;++k){const re=u[r[k]];if(void 0===re)throw new SyntaxError(`Non-${i} character`);X=X<<n|re,f+=n,f>=8&&(f-=8,l[W++]=255&X>>f)}if(f>=n||255&X<<8-f)throw new SyntaxError("Unexpected end of data");return l}(u,i,n,r)})}const $g=jg({prefix:"9",name:"base10",alphabet:"0123456789"}),s2=Kc({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Aw=Kc({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),MA=Kc({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),P0=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),SA=P0.reduce((r,t,n)=>(r[n]=t,r),[]),C6=P0.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),AA=o2({prefix:"\u{1f680}",name:"base256emoji",encode:function Vg(r){return r.reduce((t,n)=>t+SA[n],"")},decode:function TA(r){const t=[];for(const n of r){const i=C6[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),O0=Kc({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),DA=Kc({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),k6=Kc({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),P6=Kc({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),O6=Kc({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zg=Kc({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),R6=Kc({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),B6=Kc({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),N6=Kc({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Dw=jg({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),IA=jg({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),vf=jg({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),CA=jg({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),U6=Kc({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),kA=Kc({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),a2=Kc({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Iw=Kc({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),L6=Kc({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),K6=o2({prefix:"\0",name:"identity",encode:r=>function E6(r){return(new TextDecoder).decode(r)}(r),decode:r=>function _6(r){return(new TextEncoder).encode(r)}(r)}),F6=new TextEncoder,j6=new TextDecoder,$6="json",V6=512;function c2(r){return F6.encode(JSON.stringify(r))}function Hg(r){return JSON.parse(j6.decode(r))}const PA="raw",OA=85;function z6(r){return gf(r)}function Wg(r){return gf(r)}var H6=128,RA=-128,d2=Math.pow(2,31),G6=128,l2=127,UA=Math.pow(2,7),u2=Math.pow(2,14),J6=Math.pow(2,21),X6=Math.pow(2,28),Y6=Math.pow(2,35),Z6=Math.pow(2,42),q6=Math.pow(2,49),Q6=Math.pow(2,56),f2=Math.pow(2,63);const bf={encode:function BA(r,t,n){t=t||[];for(var i=n=n||0;r>=d2;)t[n++]=255&r|H6,r/=128;for(;r&RA;)t[n++]=255&r|H6,r>>>=7;return t[n]=0|r,BA.bytes=n-i+1,t},decode:function kw(r,i){var l,n=0,u=0,h=i=i||0,f=r.length;do{if(h>=f)throw kw.bytes=0,new RangeError("Could not decode varint");l=r[h++],n+=u<28?(l&l2)<<u:(l&l2)*Math.pow(2,u),u+=7}while(l>=G6);return kw.bytes=h-i,n},encodingLength:function(r){return r<UA?1:r<u2?2:r<J6?3:r<X6?4:r<Y6?5:r<Z6?6:r<q6?7:r<Q6?8:r<f2?9:10}};function R0(r,t,n=0){return bf.encode(r,t,n),t}function B0(r){return bf.encodingLength(r)}function Pw(r,t){const n=t.byteLength,i=B0(r),u=i+B0(n),h=new Uint8Array(u+n);return R0(r,h,0),R0(n,h,i),h.set(t,u),new h2(r,n,t,h)}class h2{code;size;digest;bytes;constructor(t,n,i,u){this.code=t,this.size=n,this.digest=i,this.bytes=u}}const FA=gf,jA={code:0,name:"identity",encode:FA,digest:function i5(r){return Pw(0,FA(r))}};function $A({name:r,code:t,encode:n}){return new VA(r,t,n)}class VA{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Pw(this.code,n):n.then(i=>Pw(this.code,i))}throw Error("Unknown type, must be binary type")}}function Gg(r){return function(){var t=(0,Xe.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const o5=$A({name:"sha2-256",code:18,encode:Gg("SHA-256")}),s5=$A({name:"sha2-512",code:19,encode:Gg("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const HA={...De,...x,...de,...D,...R,...v,...$,...F,...Q,...s};function GA(r=0){return new Uint8Array(r)}function JA(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const d5=JA("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),Bw=JA("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=GA((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),XA={utf8:d5,"utf-8":d5,hex:HA.base16,latin1:Bw,ascii:Bw,binary:Bw,...HA};class xl{_options;_popCount;_parent;_posAtParent;_children;key;constructor(t,n,i=0){this._options=t,this._popCount=0,this._parent=n,this._posAtParent=i,this._children=new xA,this.key=null}put(t,n){var i=this;return(0,Xe.A)(function*(){const u=yield i._findNewBucketAndPos(t);u.bucket._putAt(u,t,n)})()}get(t){var n=this;return(0,Xe.A)(function*(){const i=yield n._findChild(t);if(null!=i)return i.value})()}del(t){var n=this;return(0,Xe.A)(function*(){const i=yield n._findPlace(t),u=i.bucket._at(i.pos);null!=u&&u.key===t&&i.bucket._delAt(i.pos)})()}leafCount(){return this._children.compactArray().reduce((n,i)=>i instanceof xl?n+i.leafCount():n+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const n of t)n instanceof xl?yield*n.eachLeafSeries():yield n}serialize(t,n){return n(this._children.reduce((u,h,l)=>(null!=h&&u.push(h instanceof xl?h.serialize(t,n):t(h,l)),u),[]))}asyncTransform(t,n){var i=this;return(0,Xe.A)(function*(){return Nw(i,t,n)})()}toJSON(){return this.serialize(Ma,l5)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t){var n=this;return(0,Xe.A)(function*(){const i=yield n._findPlace(t),u=i.bucket._at(i.pos);if(!(u instanceof xl)&&null!=u&&u.key===t)return u})()}_findPlace(t){var n=this;return(0,Xe.A)(function*(){const i=n._options.hash("string"==typeof t?function YA(r,t="utf8"){const n=XA[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}(t):t),u=yield i.take(n._options.bits),h=n._children.get(u);return h instanceof xl?h._findPlace(i):{bucket:n,pos:u,hash:i,existingChild:h}})()}_findNewBucketAndPos(t){var n=this;return(0,Xe.A)(function*(){const i=yield n._findPlace(t);if(null!=i.existingChild&&i.existingChild.key!==t){const u=new xl(n._options,i.bucket,i.pos);i.bucket._putObjectAt(i.pos,u);const h=yield u._findPlace(i.existingChild.hash);return h.bucket._putAt(h,i.existingChild.key,i.existingChild.value),u._findNewBucketAndPos(i.hash)}return i})()}_putAt(t,n,i){this._putObjectAt(t.pos,{key:n,value:i,hash:t.hash})}_putObjectAt(t,n){null==this._children.get(t)&&this._popCount++,this._children.set(t,n)}_delAt(t){if(-1===t)throw new Error("Invalid position");null!=this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(Y8);if(null!=t&&!(t instanceof xl)){const n=t.hash;n.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:n,bucket:this._parent},t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function Y8(r){return!!r}function Ma(r,t){return r.key}function l5(r){return r}function Nw(r,t,n){return m2.apply(this,arguments)}function m2(){return(m2=(0,Xe.A)(function*(r,t,n){const i=[];for(const u of r._children.compactArray())if(u instanceof xl)yield Nw(u,t,n);else{const h=yield t(u);i.push({bitField:r._children.bitField(),children:h})}return n(i)})).apply(this,arguments)}const ZA=[255,254,252,248,240,224,192,128],qA=[1,3,7,15,31,63,127,255];class g2{_value;_currentBytePos;_currentBitPos;constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let n=t,i=0;for(;n>0&&this._haveBits();){const u=this._value[this._currentBytePos],h=this._currentBitPos+1,l=Math.min(h,n);i=(i<<l)+u5(u,h-l,l),n-=l,this._currentBitPos-=l,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function u5(r,t,n){const i=function f5(r,t){return ZA[r]&qA[Math.min(t+r-1,7)]}(t,n);return(r&i)>>>t}function QA(r){return function t(n){return n instanceof eD?n:new eD(n,r)}}class eD{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(t,n){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t){var n=this;return(0,Xe.A)(function*(){let i=t;for(;n._availableBits<i;)yield n._produceMoreBits();let u=0;for(;i>0;){const h=n._buffers[n._currentBufferIndex],l=Math.min(h.availableBits(),i);u=(u<<l)+h.take(l),i-=l,n._availableBits-=l,0===h.availableBits()&&n._currentBufferIndex++}return u})()}untake(t){let n=t;for(;n>0;){const i=this._buffers[this._currentBufferIndex],u=Math.min(i.totalBits()-i.availableBits(),n);i.untake(u),n-=u,this._availableBits+=u,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var t=this;return(0,Xe.A)(function*(){t._depth++;const n=t._depth>0?function y2(r,t){null==t&&(t=r.reduce((u,h)=>u+h.length,0));const n=GA(t);let i=0;for(const u of r)n.set(u,i),i+=u.length;return n}([t._value,Uint8Array.from([t._depth])]):t._value,i=yield t._hashFn(n),u=new g2(i);t._buffers.push(u),t._availableBits+=u.availableBits()})()}}function uh(r){if(null==r||null==r.hashFn)throw new Error("please define an options.hashFn");const t={bits:r.bits??8,hash:QA(r.hashFn)};return new xl(t)}function tD(r){return Jg.apply(this,arguments)}function Jg(){return(Jg=(0,Xe.A)(function*(r){return(yield EA.encode(r)).slice(0,8).reverse()})).apply(this,arguments)}const v2=BigInt(34),rD=class nD extends D0{_bucket;constructor(t,n){super(t,n),this._bucket=uh({hashFn:tD,bits:8})}put(t,n){var i=this;return(0,Xe.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,yield i._bucket.put(t,n)})()}get(t){var n=this;return(0,Xe.A)(function*(){return n._bucket.get(t)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var t=this;return _s(function*(){var u,n=!1,i=!1;try{for(var l,h=Ho(t._bucket.eachLeafSeries());n=!(l=yield bi(h.next())).done;n=!1){const{key:f,value:X}=l.value;yield{key:f,child:X}}}catch(f){i=!0,u=f}finally{try{n&&null!=h.return&&(yield bi(h.return()))}finally{if(i)throw u}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=fh(this._bucket,this,this.options)),this.nodeSize}flush(t){var n=this;return _s(function*(){var h,i=!1,u=!1;try{for(var f,l=Ho(b2(n._bucket,t,n,n.options));i=!(f=yield bi(l.next())).done;i=!1)yield{...f.value,path:n.path}}catch(X){u=!0,h=X}finally{try{i&&null!=l.return&&(yield bi(l.return()))}finally{if(u)throw h}}})()}};function b2(r,t,n,i){return pm.apply(this,arguments)}function pm(){return(pm=_s(function*(r,t,n,i){const u=r._children,h=[];let l=0n;for(let un=0;un<u.length;un++){const Ht=u.get(un);if(null==Ht)continue;const Sn=un.toString(16).toUpperCase().padStart(2,"0");if(Ht instanceof xl){let Jn;var W,f=!1,X=!1;try{for(var re,k=Ho(b2(Ht,t,null,i));f=!(re=yield bi(k.next())).done;f=!1)Jn=re.value}catch(Yn){X=!0,W=Yn}finally{try{f&&null!=k.return&&(yield bi(k.return()))}finally{if(X)throw W}}if(null==Jn)throw new Error("Could not flush sharded directory, no subshard found");h.push({Name:Sn,Tsize:Number(Jn.size),Hash:Jn.cid}),l+=Jn.size}else if(w2(Ht.value)){const Jn=Ht.value;let Yn;var Ke,Oe=!1,je=!1;try{for(var bt,tt=Ho(Jn.flush(t));Oe=!(bt=yield bi(tt.next())).done;Oe=!1)Yn=bt.value,yield Yn}catch($n){je=!0,Ke=$n}finally{try{Oe&&null!=tt.return&&(yield bi(tt.return()))}finally{if(je)throw Ke}}if(null==Yn)throw new Error("Did not flush dir");h.push({Name:Sn+Ht.key,Tsize:Number(Yn.size),Hash:Yn.cid}),l+=Yn.size}else{const Jn=Ht.value;if(null==Jn.cid)continue;const cr=Jn.size;h.push({Name:Sn+Ht.key,Tsize:Number(cr),Hash:Jn.cid}),l+=BigInt(cr??0)}}const kt=Uint8Array.from(u.bitField().reverse()),_t=new _d({type:"hamt-sharded-directory",data:kt,fanout:BigInt(r.tableSize()),hashType:v2,mtime:n?.mtime,mode:n?.mode}),Nt=ep(Qh({Data:_t.marshal(),Links:h})),Xt=yield bi(lm(Nt,t,i)),qt=BigInt(Nt.byteLength)+l;yield{cid:Xt,unixfs:_t,size:qt}})).apply(this,arguments)}function w2(r){return"function"==typeof r.flush}function fh(r,t,n){const i=r._children,u=[];for(let X=0;X<i.length;X++){const W=i.get(X);if(null==W)continue;const k=X.toString(16).toUpperCase().padStart(2,"0");if(W instanceof xl){const re=fh(W,null,n);u.push({Name:k,Tsize:Number(re),Hash:0===n.cidVersion?op:yw})}else if("function"==typeof W.value.flush){const Oe=W.value.nodeSize();u.push({Name:k+W.key,Tsize:Number(Oe),Hash:0===n.cidVersion?op:yw})}else{const re=W.value;if(null==re.cid)continue;u.push({Name:k+W.key,Tsize:Number(re.size),Hash:re.cid})}}const h=Uint8Array.from(i.bitField().reverse());return ep(Qh({Data:new _d({type:"hamt-sharded-directory",data:h,fanout:BigInt(r.tableSize()),hashType:v2,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:u})).length}function Xg(r,t,n,i){return Uw.apply(this,arguments)}function Uw(){return Uw=(0,Xe.A)(function*(r,t,n,i){let u=t;t instanceof gw&&t.estimateNodeSize()>n&&(u=yield function Yg(r,t){return _2.apply(this,arguments)}(t,i));const h=u.parent;if(null!=h){if(u!==t){if(null!=r&&(r.parent=u),null==u.parentKey)throw new Error("No parent key found");yield h.put(u.parentKey,u)}return Xg(u,h,n,i)}return u}),Uw.apply(this,arguments)}function _2(){return(_2=(0,Xe.A)(function*(r,t){const n=new rD({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},t);var h,i=!1,u=!1;try{for(var f,l=Ho(r.eachChildSeries());i=!(f=yield l.next()).done;i=!1){const{key:X,child:W}=f.value;yield n.put(X,W)}}catch(X){u=!0,h=X}finally{try{i&&null!=l.return&&(yield l.return())}finally{if(u)throw h}}return n})).apply(this,arguments)}const h5=(r="")=>(r.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function E2(r,t,n){return Lw.apply(this,arguments)}function Lw(){return(Lw=(0,Xe.A)(function*(r,t,n){const i=h5(r.path??""),u=i.length-1;let h=t,l="";for(let f=0;f<i.length;f++){const X=i[f];l+=`${""!==l?"/":""}${X}`;const W=f===u;if(h.dirty=!0,h.cid=void 0,h.size=void 0,W)yield h.put(X,r),t=yield Xg(null,h,n.shardSplitThresholdBytes,n);else{let k=yield h.get(X);(null==k||!(k instanceof D0))&&(k=new gw({root:!1,dir:!0,parent:h,parentKey:X,path:l,dirty:!0,flat:!0,mtime:k?.unixfs?.mtime,mode:k?.unixfs?.mode},n)),yield h.put(X,k),h=k}}return t})).apply(this,arguments)}function hh(r,t){return mm.apply(this,arguments)}function mm(){return(mm=_s(function*(r,t){r instanceof D0?yield*Ou(Ho(r.flush(t))):!0===r.unixfs?.isDirectory()&&(yield r)})).apply(this,arguments)}function lp(r,t){return Kw.apply(this,arguments)}function Kw(){return Kw=_s(function*(r,t,n={}){let i;i=Symbol.asyncIterator in r||Symbol.iterator in r?r:[r];const u=n.wrapWithDirectory??!1,h=n.shardSplitThresholdBytes??262144,l=n.cidVersion??1,f=n.rawLeaves??!0,X=n.leafType??"file",W=n.fileImportConcurrency??50,k=n.blockWriteConcurrency??10,re=n.reduceSingleLeafToSelf??!0,Oe=n.chunker??Uk(),je=n.chunkValidator??eA(),Ke=n.dagBuilder??function mw(r){return function(){var t=_s(function*(i,u){var f,h=!1,l=!1;try{for(var W,X=Ho(i);h=!(W=yield bi(X.next())).done;h=!1){const k=W.value;{let re;if(null!=k.path&&(re=k.path,k.path=k.path.split("/").filter(Oe=>null!=Oe&&"."!==Oe).join("/")),W3(k)){const Oe={path:k.path,mtime:k.mtime,mode:k.mode,content:_s(function*(){let je=0n;var bt,Ke=!1,tt=!1;try{for(var _t,kt=Ho(r.chunker(r.chunkValidator(zE(k.content))));Ke=!(_t=yield bi(kt.next())).done;Ke=!1){const xt=_t.value;{const Nt=BigInt(xt.byteLength);je+=Nt,r.onProgress?.(new su("unixfs:importer:progress:file:read",{bytesRead:je,chunkSize:Nt,path:k.path})),yield xt}}}catch(xt){tt=!0,bt=xt}finally{try{Ke&&null!=kt.return&&(yield bi(kt.return()))}finally{if(tt)throw bt}}})(),originalPath:re};yield(0,Xe.A)(function*(){return VE(Oe,u,r)})}else{if(null==k.path)throw new Error("Import candidate must have content or path or both");{const Oe={path:k.path,mtime:k.mtime,mode:k.mode,originalPath:re};yield(0,Xe.A)(function*(){return $E(Oe,u,r)})}}}}}catch(k){l=!0,f=k}finally{try{h&&null!=X.return&&(yield bi(X.return()))}finally{if(l)throw f}}});return function n(i,u){return t.apply(this,arguments)}}()}({chunker:Oe,chunkValidator:je,wrapWithDirectory:u,layout:n.layout??J3(),bufferImporter:n.bufferImporter??YT({cidVersion:l,rawLeaves:f,leafType:X,onProgress:n.onProgress}),blockWriteConcurrency:k,reduceSingleLeafToSelf:re,cidVersion:l,onProgress:n.onProgress}),tt=n.treeBuilder??function q8(r){return function(){var t=_s(function*(i,u){let l,h=new gw({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r),f=!1;var k,X=!1,W=!1;try{for(var Oe,re=Ho(i);X=!(Oe=yield bi(re.next())).done;X=!1){const _t=Oe.value;{if(null==_t)continue;const xt=`${_t.originalPath??""}`.split("/")[0];null!=xt&&""!==xt&&(null==l?(l=xt,f=!0):l!==xt&&(f=!1)),h=yield bi(E2(_t,h,r)),(null==_t.unixfs||!_t.unixfs.isDirectory())&&(yield _t)}}}catch(_t){W=!0,k=_t}finally{try{X&&null!=re.return&&(yield bi(re.return()))}finally{if(W)throw k}}if(r.wrapWithDirectory||f&&h.childCount()>1)yield*Ou(Ho(hh(h,u)));else{var tt,je=!1,Ke=!1;try{for(var kt,bt=Ho(h.eachChildSeries());je=!(kt=yield bi(bt.next())).done;je=!1){const _t=kt.value;null!=_t&&(yield*Ou(Ho(hh(_t.child,u))))}}catch(_t){Ke=!0,tt=_t}finally{try{je&&null!=bt.return&&(yield bi(bt.return()))}finally{if(Ke)throw tt}}}});return function n(i,u){return t.apply(this,arguments)}}()}({wrapWithDirectory:u,shardSplitThresholdBytes:h,cidVersion:l,onProgress:n.onProgress});var _t,bt=!1,kt=!1;try{for(var Nt,xt=Ho(tt(Tb(Ke(i,t),W),t));bt=!(Nt=yield bi(xt.next())).done;bt=!1){const Xt=Nt.value;yield{cid:Xt.cid,path:Xt.path,unixfs:Xt.unixfs,size:Xt.size}}}catch(Xt){kt=!0,_t=Xt}finally{try{bt&&null!=xt.return&&(yield bi(xt.return()))}finally{if(kt)throw _t}}}),Kw.apply(this,arguments)}var D2=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},iD=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}};const oD={[K.code]:K},Zg={[Mb]:q};class xd{static computeCid(t,n=Mb,i=K.code){return D2(this,void 0,void 0,function*(){const u=Zg[n];if(!u)throw new ne(le.ComputeCidCodecNotSupported,`codec [${n}] not supported`);const h=oD[i];if(!h)throw new ne(le.ComputeCidMultihashNotSupported,`multihash code [${i}] not supported`);const l=u.encode(t),f=yield h.digest(l);return(yield al.TO.createV1(u.code,f)).toString()})}static parseCid(t){const n=al.TO.parse(t).toV1();if(!Zg[n.code])throw new ne(le.ParseCidCodecNotSupported,`codec [${n.code}] not supported`);if(!oD[n.multihash.code])throw new ne(le.ParseCidMultihashNotSupported,`multihash code [${n.multihash.code}] not supported`);return n}static computeDagPbCidFromBytes(t){var n,i,u;return D2(this,void 0,void 0,function*(){const l=lp([{content:t}],new US,{cidVersion:1});let f;try{for(var k,X=!0,W=iD(l);k=yield W.next(),!(n=k.done);X=!0)X=!1,f=k.value}catch(re){i={error:re}}finally{try{!X&&!n&&(u=W.return)&&(yield u.call(W))}finally{if(i)throw i.error}}return f?f.cid.toString():""})}static computeDagPbCidFromStream(t){var n,i,u;return D2(this,void 0,void 0,function*(){const l=lp([{content:t}],new US,{cidVersion:1});let f;try{for(var k,X=!0,W=iD(l);k=yield W.next(),!(n=k.done);X=!0)X=!1,f=k.value}catch(re){i={error:re}}finally{try{!X&&!n&&(u=W.return)&&(yield u.call(W))}finally{if(i)throw i.error}}return f?f.cid.toString():""})}}var sD=_(91426),L0=_(63397),K0=_(65797),F0=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};L0.VV.isEphemeralKeyCompressed=!0;class j0{static aes256CtrEncrypt(t,n,i){return F0(this,void 0,void 0,function*(){const u=sD.createCipheriv("aes-256-ctr",t,n),h=new K0.Readable({read(){}});return i.on("data",l=>{const f=u.update(l);h.push(f)}),i.on("end",()=>{const l=u.final();h.push(l),h.push(null)}),i.on("error",l=>{h.emit("error",l)}),h})}static aes256CtrDecrypt(t,n,i){return F0(this,void 0,void 0,function*(){const u=sD.createDecipheriv("aes-256-ctr",t,n),h=new K0.Readable({read(){}});return i.on("data",l=>{const f=u.update(l);h.push(f)}),i.on("end",()=>{const l=u.final();h.push(l),h.push(null)}),i.on("error",l=>{h.emit("error",l)}),h})}static eciesSecp256k1Encrypt(t,n){return F0(this,void 0,void 0,function*(){const i=Buffer.from(t),u=Buffer.from(n),h=L0.w(i,u);let l=0,f=j0.isEphemeralKeyCompressed?33:65;const X=h.subarray(l,f);l=f,f+=L0.VV.symmetricNonceLength;const W=h.subarray(l,f);l=f,f+=16;const k=h.subarray(l,f);return{ciphertext:h.subarray(f),ephemeralPublicKey:X,initializationVector:W,messageAuthenticationCode:k}})}static eciesSecp256k1Decrypt(t){return F0(this,void 0,void 0,function*(){const n=Buffer.from(t.privateKey),i=Buffer.concat([t.ephemeralPublicKey,t.initializationVector,t.messageAuthenticationCode,t.ciphertext]);return L0.Yc(n,i)})}static get isEphemeralKeyCompressed(){return L0.VV.isEphemeralKeyCompressed}}var I2=function(r){return r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r}(I2||{}),C2=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class ym{constructor(t){this.jws=t}static create(t,n=[]){return C2(this,void 0,void 0,function*(){const i={payload:me.bytesToBase64Url(t),signatures:[]},u=new ym(i);for(const h of n)yield u.addSignature(h);return u})}addSignature(t){return C2(this,void 0,void 0,function*(){const i=JSON.stringify({kid:t.keyId,alg:t.algorithm}),u=me.stringToBase64Url(i),l=me.stringToBytes(`${u}.${this.jws.payload}`),f=yield t.sign(l),X=me.bytesToBase64Url(f);this.jws.signatures.push({protected:u,signature:X})})}getJws(){return this.jws}}const up="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var jw=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},cu=function(r){return r.DataFormats="dataFormats",r.ProtocolContext="protocolContext",r.ProtocolPath="protocolPath",r.Schemas="schemas",r}(cu||{});class fp{static derivePrivateKey(t,n){var i;return jw(this,void 0,void 0,function*(){const u=pe.privateJwkToBytes(t.derivedPrivateKey),h=null!==(i=t.derivationPath)&&void 0!==i?i:[],l=yield fp.derivePrivateKeyBytes(u,n),f=yield pe.privateKeyToJwk(l);return{rootKeyId:t.rootKeyId,derivationScheme:t.derivationScheme,derivationPath:[...h,...n],derivedPrivateKey:f}})}static derivePublicKey(t,n){return jw(this,void 0,void 0,function*(){const i=yield fp.derivePrivateKey(t,n);return yield pe.getPublicJwk(i.derivedPrivateKey)})}static derivePrivateKeyBytes(t,n){return jw(this,void 0,void 0,function*(){fp.validateKeyDerivationPath(n);let i=t;for(const u of n){const h=me.stringToBytes(u);i=yield fp.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:i,info:h,keyLengthInBytes:32})}return i})}static deriveKeyUsingHkdf(t){return jw(this,void 0,void 0,function*(){const{hashAlgorithm:n,initialKeyMaterial:i,info:u,keyLengthInBytes:h}=t,f=yield function m5(){if(up&&"object"==typeof up.subtle&&null!=up.subtle)return up.subtle;throw new Error("crypto.subtle must be defined")}().importKey("raw",i,{name:"HKDF"},!1,["deriveBits"]),X=yield crypto.subtle.deriveBits({name:"HKDF",hash:n,salt:new Uint8Array(0),info:u},f,8*h);return new Uint8Array(X)})}static validateKeyDerivationPath(t){if(t.includes(""))throw new ne(le.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${t}`)}}function qg(r,t){return r>t?1:r<t?-1:0}function Qg(r){if("object"!=typeof r)return!1;for(const t in r)return!1;return!0}function Wd(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&Wd(r[t])})}var wf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Hr{static validateJsonSchema(t){ol(t.descriptor.interface+t.descriptor.method,t)}static getSigner(t){return void 0===t.authorization?void 0:dr.getSignerDid(t.authorization.signature.signatures[0])}static getCid(t){return wf(this,void 0,void 0,function*(){const n=Object.assign({},t);return n.encodedData&&delete n.encodedData,yield xd.computeCid(n)})}static compareCid(t,n){return wf(this,void 0,void 0,function*(){return qg(yield Hr.getCid(t),yield Hr.getCid(n))})}static createAuthorization(t){return wf(this,void 0,void 0,function*(){const{descriptor:n,signer:i,delegatedGrant:u,permissionGrantId:h,protocolRole:l}=t;let f;void 0!==u&&(f=yield Hr.getCid(u));const W={signature:yield Hr.createSignature(n,i,{delegatedGrantId:f,permissionGrantId:h,protocolRole:l})};return void 0!==u&&(W.authorDelegatedGrant=u),W})}static createSignature(t,n,i){return wf(this,void 0,void 0,function*(){const u=yield xd.computeCid(t),h=Object.assign({descriptorCid:u},i);Wd(h);const l=me.objectToBytes(h);return(yield ym.create(l,[n])).getJws()})}static getNewestMessage(t){return wf(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Hr.isNewer(i,n)))&&(n=i);return n})}static getOldestMessage(t){return wf(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Hr.isOlder(i,n)))&&(n=i);return n})}static isNewer(t,n){return wf(this,void 0,void 0,function*(){return(yield Hr.compareMessageTimestamp(t,n))>0})}static isOlder(t,n){return wf(this,void 0,void 0,function*(){return(yield Hr.compareMessageTimestamp(t,n))<0})}static isSignedByAuthorDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.authorDelegatedGrant)}static isSignedByOwnerDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.ownerDelegatedGrant)}static compareMessageTimestamp(t,n){return wf(this,void 0,void 0,function*(){return t.descriptor.messageTimestamp>n.descriptor.messageTimestamp?1:t.descriptor.messageTimestamp<n.descriptor.messageTimestamp?-1:Hr.compareCid(t,n)})}static validateSignatureStructure(t,n,i="GenericSignaturePayload"){return wf(this,void 0,void 0,function*(){if(1!==t.signatures.length)throw new ne(le.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const u=dr.decodePlainObjectPayload(t);ol(i,u);const{descriptorCid:h}=u,l=yield xd.computeCid(n);if(h!==l)throw new ne(le.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${h} does not match expected CID ${l}`);return u})}}class Bu{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new Bu(t)})}constructor(t){this.id=t.recordId,this.grantor=Hr.getSigner(t),this.grantee=t.descriptor.recipient,this.dateGranted=t.descriptor.dateCreated;const i=me.base64UrlToObject(t.encodedData);this.dateExpires=i.dateExpires,this.delegated=i.delegated,this.description=i.description,this.requestId=i.requestId,this.scope=i.scope,this.conditions=i.conditions}}var Ml=function(r){return r.CreatedAscending="createdAscending",r.CreatedDescending="createdDescending",r.PublishedAscending="publishedAscending",r.PublishedDescending="publishedDescending",r}(Ml||{});class Md{static matchAnyFilter(t,n){if(0===n.length)return!0;for(const i of n)if(this.matchFilter(t,i))return!0;return!1}static matchFilter(t,n){for(const i in n){const u=n[i],h=t[i];if(void 0===h||!(Array.isArray(h)?this.matchAnyIndexValue(u,h):this.matchIndexValue(u,h)))return!1}return!0}static matchAnyIndexValue(t,n){for(const i of n)if(this.matchIndexValue(t,i))return!0;return!1}static matchIndexValue(t,n){if("object"==typeof t){if(Array.isArray(t)){if(this.matchOneOf(t,n))return!0}else if(this.matchRange(t,n))return!0}else if(n===t)return!0;return!1}static matchOneOf(t,n){for(const i of t)if(n===i)return!0;return!1}static matchRange(t,n){return!(void 0!==t.lt&&n>=t.lt||void 0!==t.lte&&n>t.lte||void 0!==t.gt&&n<=t.gt||void 0!==t.gte&&n<t.gte)}static isEqualFilter(t){return"object"!=typeof t}static isRangeFilter(t){return"object"==typeof t&&!Array.isArray(t)&&("gt"in t||"lt"in t||"lte"in t||"gte"in t)}static isOneOfFilter(t){return!("object"!=typeof t||!Array.isArray(t))}static convertRangeCriterion(t){let n;return void 0!==t.to&&void 0!==t.from?n={gte:t.from,lt:t.to}:void 0!==t.to?n={lt:t.to}:void 0!==t.from&&(n={gte:t.from}),n}static constructPrefixFilterAsRangeFilter(t){return{gte:t,lt:t+"\uffff"}}}class aD{static reduceFilter(t){if(Object.keys(t).length<=1)return t;const{recordId:i,attester:u,parentId:h,recipient:l,contextId:f,protocolPath:W,schema:k,protocol:re}=t,Oe=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==i)return{recordId:i};if(void 0!==u)return{attester:u};if(void 0!==h)return{parentId:h};if(void 0!==l)return{recipient:l};if(void 0!==f)return{contextId:f};if(void 0!==W)return{protocolPath:W};if(void 0!==k)return{schema:k};if(void 0!==re)return{protocol:re};const Ke=Object.keys(Oe)[0],tt={};return tt[Ke]=t[Ke],tt}}var Qi=function(r){return r.Events="Events",r.Messages="Messages",r.Protocols="Protocols",r.Records="Records",r}(Qi||{}),wi=function(r){return r.Configure="Configure",r.Create="Create",r.Get="Get",r.Grant="Grant",r.Query="Query",r.Read="Read",r.Request="Request",r.Revoke="Revoke",r.Write="Write",r.Delete="Delete",r.Subscribe="Subscribe",r}(wi||{});function gm(r){let t;try{t=vm(r)}catch{t=void 0}if(r!==t)throw new ne(le.UrlProtocolNotNormalized,`Protocol URI ${r} must be normalized.`)}function vm(r){return O2(r)}function $0(r){let t;try{t=bm(r)}catch{t=void 0}if(r!==t)throw new ne(le.UrlSchemaNotNormalized,`Schema URI ${r} must be normalized.`)}function bm(r){return O2(r)}function O2(r){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(r)?r:`http://${r}`;try{const n=new URL(t);return n.search="",n.hash="",function R2(r){return r.endsWith("/")?r.slice(0,-1):r}(n.href)}catch{throw new ne(le.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var cD=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class vo{static isRecordsWrite(t){return t.descriptor.interface===Qi.Records&&t.descriptor.method===wi.Write}static getAuthor(t){let n;return n=Hr.getSigner(void 0!==t.authorization.authorDelegatedGrant?t.authorization.authorDelegatedGrant:t),n}static decrypt(t,n,i){return cD(this,void 0,void 0,function*(){const{encryption:u}=t,h=u.keyEncryption.find(tt=>tt.rootKeyId===n.rootKeyId&&tt.derivationScheme===n.derivationScheme);if(void 0===h)throw new ne(le.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${n.rootKeyId}' and '${n.derivationScheme}' derivation scheme.`);const l=vo.constructKeyDerivationPath(h.derivationScheme,t),f=yield vo.derivePrivateKey(n,l),X=me.base64UrlToBytes(h.encryptedKey),W=pe.publicJwkToBytes(h.ephemeralPublicKey),k=me.base64UrlToBytes(h.initializationVector),re=me.base64UrlToBytes(h.messageAuthenticationCode),Oe=yield j0.eciesSecp256k1Decrypt({ciphertext:X,ephemeralPublicKey:W,initializationVector:k,messageAuthenticationCode:re,privateKey:f}),je=me.base64UrlToBytes(u.initializationVector);return yield j0.aes256CtrDecrypt(Oe,je,i)})}static constructKeyDerivationPath(t,n){const i=n.descriptor,u=n.contextId;let h;return h=t===cu.DataFormats?vo.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):t===cu.ProtocolPath?vo.constructKeyDerivationPathUsingProtocolPathScheme(i):t===cu.ProtocolContext?vo.constructKeyDerivationPathUsingProtocolContextScheme(u):vo.constructKeyDerivationPathUsingSchemasScheme(i.schema),h}static constructKeyDerivationPathUsingDataFormatsScheme(t,n){return void 0!==t?[cu.DataFormats,t,n]:[cu.DataFormats,n]}static constructKeyDerivationPathUsingProtocolPathScheme(t){if(void 0===t.protocol)throw new ne(le.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const n=t.protocolPath.split("/");return[cu.ProtocolPath,t.protocol,...n]}static constructKeyDerivationPathUsingProtocolContextScheme(t){if(void 0===t)throw new ne(le.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const n=t.split("/")[0];return[cu.ProtocolContext,n]}static constructKeyDerivationPathUsingSchemasScheme(t){if(void 0===t)throw new ne(le.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[cu.Schemas,t]}static derivePrivateKey(t,n){var i;return cD(this,void 0,void 0,function*(){if("secp256k1"!==t.derivedPrivateKey.crv)throw new ne(le.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${t.derivedPrivateKey.crv} is not supported.`);const u=null!==(i=t.derivationPath)&&void 0!==i?i:[];vo.validateAncestorKeyAndDescentKeyDerivationPathsMatch(u,n);const h=n.slice(u.length),l=pe.privateJwkToBytes(t.derivedPrivateKey);return yield fp.derivePrivateKeyBytes(l,h)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,n){for(let i=0;i<t.length;i++){const u=t[i],h=n[i];if(u!==h)throw new ne(le.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${u}' mismatches against the descendant key derivation segment '${h}'.`)}}static getParentContextFromOfContextId(t){if(void 0===t)return;const n=t.lastIndexOf("/");return-1===n?"":t.substring(0,n)}static normalizeFilter(t){let n,i;n=void 0===t.protocol?void 0:vm(t.protocol),i=void 0===t.schema?void 0:bm(t.schema);const u=Object.assign(Object.assign({},t),{protocol:n,schema:i});return Wd(u),u}static isStartsWithFilter(t){return"object"==typeof t&&"startsWith"in t&&"string"==typeof t.startsWith}static buildTagIndexes(t){const n={};for(const i in t)n[`tag.${i}`]=t[i];return n}static convertTagsFilter(t){const n={};for(const i in t){const u=t[i];n[`tag.${i}`]=this.isStartsWithFilter(u)?Md.constructPrefixFilterAsRangeFilter(u.startsWith):u}return n}static convertFilter(t,n){const{tags:i}=t,u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["tags"]);let h={};void 0!==i&&(h=Object.assign({},this.convertTagsFilter(i)));const l=Object.assign(Object.assign({},u),h),{dateCreated:f,datePublished:X,dateUpdated:W,contextId:k}=t,re=f?Md.convertRangeCriterion(f):void 0;re&&(l.dateCreated=re);const Oe=X?Md.convertRangeCriterion(X):void 0;Oe&&(l.published=!0,l.datePublished=Oe),!0!==l.published&&(n===Ml.PublishedAscending||n===Ml.PublishedDescending)&&(l.published=!0);const je=W?Md.convertRangeCriterion(W):void 0;je&&(l.messageTimestamp=je,delete l.dateUpdated);const Ke=k?Md.constructPrefixFilterAsRangeFilter(k):void 0;return Ke&&(l.contextId=Ke),l}static validateDelegatedGrantReferentialIntegrity(t,n,i){var u,h;return cD(this,void 0,void 0,function*(){const l=void 0!==n?.delegatedGrantId,f=void 0!==(null===(u=t.authorization)||void 0===u?void 0:u.authorDelegatedGrant);if(l!==f)throw new ne(le.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${l},          authorDelegatedGrant defined: ${f}`);if(f){const k=t.authorization.authorDelegatedGrant;if(!0!==(yield Bu.parse(k)).delegated)throw new ne(le.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Oe=k.descriptor.recipient,je=Hr.getSigner(t);if(Oe!==je)throw new ne(le.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Oe} in author delegated grant must be the same as the signer ${je} of the message signature.`);const Ke=yield Hr.getCid(k);if(Ke!==n.delegatedGrantId)throw new ne(le.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${Ke} must be the same as           the delegatedGrantId ${n.delegatedGrantId} in the message signature.`)}const X=void 0!==i?.delegatedGrantId,W=void 0!==(null===(h=t.authorization)||void 0===h?void 0:h.ownerDelegatedGrant);if(X!==W)throw new ne(le.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${X},          ownerDelegatedGrant defined: ${W}`);if(W){const k=t.authorization.ownerDelegatedGrant;if(!0!==(yield Bu.parse(k)).delegated)throw new ne(le.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const Oe=k.descriptor.recipient,je=dr.getSignerDid(t.authorization.ownerSignature.signatures[0]);if(Oe!==je)throw new ne(le.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${Oe} in owner delegated grant must be the same as the signer ${je} of the owner signature.`);const Ke=yield Hr.getCid(k);if(Ke!==i.delegatedGrantId)throw new ne(le.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${Ke} must be the same as           the delegatedGrantId ${i.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(t){return void 0!==t.protocolRole}static filterIncludesPublishedRecords(t){return void 0!==t.datePublished||!1!==t.published}static filterIncludesUnpublishedRecords(t){return void 0===t.datePublished&&void 0===t.published||!1===t.published}}var $w=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class _f{static performBaseValidation(t){return $w(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:h,messageStore:l}=t,f=n.descriptor;_f.verifyExpectedGrantorAndGrantee(i,u,h);const X=i;yield _f.verifyGrantActive(X,f.messageTimestamp,h,l),yield _f.verifyGrantScopeInterfaceAndMethod(f.interface,f.method,h)})}static verifyExpectedGrantorAndGrantee(t,n,i){const u=i.grantee;if(n!==u)throw new ne(le.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${u}, but need to be granted to ${n}`);const h=i.grantor;if(t!==h)throw new ne(le.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${h}, but need to be granted by ${t}`)}static verifyGrantActive(t,n,i,u){return $w(this,void 0,void 0,function*(){if(n<i.dateGranted)throw new ne(le.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(n>=i.dateExpires)throw new ne(le.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const h={parentId:i.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:l}=yield u.query(t,[h]),f=yield Hr.getOldestMessage(l);if(void 0!==f&&f.descriptor.messageTimestamp<=n)throw new ne(le.GrantAuthorizationGrantRevoked,`Permission grant with CID ${i.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(t,n,i){return $w(this,void 0,void 0,function*(){if(t!==i.scope.interface)throw new ne(le.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${i.id}`);if(n!==i.scope.method)throw new ne(le.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${i.id}`)})}}var ev=function(r){return r.Required="Required",r.Prohibited="Prohibited",r}(ev||{}),tv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Gd{static authorizeWrite(t){return tv(this,void 0,void 0,function*(){const{recordsWriteMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:h,messageStore:l}=t;yield _f.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:h,messageStore:l}),Gd.verifyScope(n,h.scope),Gd.verifyConditions(n,h.conditions)})}static authorizeRead(t){return tv(this,void 0,void 0,function*(){const{recordsReadMessage:n,recordsWriteMessageToBeRead:i,expectedGrantor:u,expectedGrantee:h,permissionGrant:l,messageStore:f}=t;yield _f.performBaseValidation({incomingMessage:n,expectedGrantor:u,expectedGrantee:h,permissionGrant:l,messageStore:f}),Gd.verifyScope(i,l.scope)})}static authorizeQueryOrSubscribe(t){return tv(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:h,messageStore:l}=t;yield _f.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:u,permissionGrant:h,messageStore:l});const X=h.scope.protocol,W=n.descriptor.filter.protocol;if(void 0!==X&&W!==X)throw new ne(le.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${X} does not match protocol in message ${W}`)})}static authorizeDelete(t){return tv(this,void 0,void 0,function*(){const{recordsDeleteMessage:n,recordsWriteToDelete:i,expectedGrantor:u,expectedGrantee:h,permissionGrant:l,messageStore:f}=t;yield _f.performBaseValidation({incomingMessage:n,expectedGrantor:u,expectedGrantee:h,permissionGrant:l,messageStore:f});const W=l.scope.protocol,k=i.descriptor.protocol;if(void 0!==W&&k!==W)throw new ne(le.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${W} does not match protocol in record to delete ${k}`)})}static verifyScope(t,n){Gd.isUnrestrictedScope(n)||(void 0!==t.descriptor.protocol?Gd.verifyProtocolRecordScope(t,n):Gd.verifyFlatRecordScope(t,n))}static verifyProtocolRecordScope(t,n){if(void 0===n.protocol)throw new ne(le.RecordsGrantAuthorizationScopeMissingProtocol,"Grant for protocol record must specify protocol in its scope");if(n.protocol!==t.descriptor.protocol)throw new ne(le.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==n.contextId&&(void 0===t.contextId||!t.contextId.startsWith(n.contextId)))throw new ne(le.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==n.protocolPath&&n.protocolPath!==t.descriptor.protocolPath)throw new ne(le.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyFlatRecordScope(t,n){if(void 0!==n.schema&&n.schema!==t.descriptor.schema)throw new ne(le.RecordsGrantAuthorizationScopeSchema,`Record does not have schema in permission grant scope with schema '${n.schema}'`)}static verifyConditions(t,n){if(n?.publication===ev.Required&&!t.descriptor.published)throw new ne(le.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(n?.publication===ev.Prohibited&&t.descriptor.published)throw new ne(le.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}static isUnrestrictedScope(t){return void 0===t.protocol&&void 0===t.schema}}var Bt=_(89994);const Vw={};function Ef(r,t){Object.defineProperty(r.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(r)){const i=Object.getOwnPropertyDescriptor(r,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r,n,i))}for(const n of Object.getOwnPropertyNames(r.prototype)){const i=Object.getOwnPropertyDescriptor(r.prototype,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r.prototype,n,i))}ha(t,r),ha(`${t}.prototype`,r.prototype)}function ha(r,t){const n=`%${r}%`;if(void 0!==Vw[n])throw new Error(`intrinsic ${r} already exists`);Vw[n]=t}function Rr(r){return Vw[r]}var g5,v5;const Di="slot-epochNanoSeconds",ph="slot-timezone-identifier",ei="slot-year",oi="slot-month",si="slot-day",eo="slot-hour",to="slot-minute",io="slot-second",oo="slot-millisecond",uo="slot-microsecond",fo="slot-nanosecond",tr="slot-calendar",b5="slot-date-brand",w5="slot-year-month-brand",_5="slot-month-day-brand",ed="slot-cached-instant",Vo="slot-time-zone",mc="slot-years",Dc="slot-months",ll="slot-weeks",td="slot-days",Sd="slot-hours",Jd="slot-minutes",Td="slot-seconds",Ad="slot-milliseconds",Dd="slot-microseconds",Ic="slot-nanoseconds",Js="slot-calendar-identifier",dD=new WeakMap,zw=Symbol.for("@@Temporal__GetSlots");(g5=globalThis)[zw]||(g5[zw]=function(t){return dD.get(t)});const lD=globalThis[zw],Hw=Symbol.for("@@Temporal__CreateSlots");(v5=globalThis)[Hw]||(v5[Hw]=function(t){dD.set(t,Object.create(null))});const mh=globalThis[Hw];function yc(r,...t){if(!r||"object"!=typeof r)return!1;const n=lD(r);return!!n&&t.every(i=>i in n)}function $e(r,t){const n=lD(r)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function so(r,t,n){const i=lD(r);if(void 0===i)throw new TypeError("Missing slots for the given container");if(i[t])throw new TypeError(`${t} already has set`);i[t]=n}const uD=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,nv=new RegExp("(?:"+[`(?:${uD.source})(?:\\/(?:${uD.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),rv=/(?:[+\u2212-]\d{6}|\d{4})/,Ww=/(?:0[1-9]|1[0-2])/,B2=/(?:0[1-9]|[12]\d|3[01])/,E5=new RegExp(`(${rv.source})(?:-(${Ww.source})-(${B2.source})|(${Ww.source})(${B2.source}))`),fD=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,hD=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,pD=new RegExp(`([zZ])|${hD.source}?`),hp=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,mD=new RegExp([`^${E5.source}`,`(?:(?:T|\\s+)${fD.source}(?:${pD.source})?)?`,`(?:\\[!?(${nv.source})\\])?`,`((?:${hp.source})*)$`].join(""),"i"),yD=new RegExp([`^T?${fD.source}`,`(?:${pD.source})?`,`(?:\\[!?${nv.source}\\])?`,`((?:${hp.source})*)$`].join(""),"i"),x5=new RegExp(`^(${rv.source})-?(${Ww.source})(?:\\[!?${nv.source}\\])?((?:${hp.source})*)$`),nR=new RegExp(`^(?:--)?(${Ww.source})-?(${B2.source})(?:\\[!?${nv.source}\\])?((?:${hp.source})*)$`),Gw=/(\d+)(?:[.,](\d{1,9}))?/,gD=new RegExp(`(?:${Gw.source}H)?(?:${Gw.source}M)?(?:${Gw.source}S)?`),wm=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${gD.source})?$`,"i"),vD=Array.prototype.includes,bD=Array.prototype.push,M5=globalThis.Intl.DateTimeFormat,N2=Math.min,U2=Math.max,Fs=Math.abs,Xd=Math.floor,pp=Math.sign,_m=Math.trunc,L2=Number.isNaN,Cc=Number.isFinite,S5=Number,iv=String,K2=Number.MAX_SAFE_INTEGER,nd=Object.create,xf=Object.getOwnPropertyDescriptor,mp=Reflect.apply,gc=Reflect.ownKeys,Es=Bt.BigInt(0),yh=Bt.BigInt(1),vc=Bt.BigInt(60),Em=Bt.BigInt(24),qo=Bt.BigInt(1e3),rd=Bt.BigInt(1e6),du=Bt.BigInt(1e9),wD=Bt.BigInt(-1),F2=Bt.multiply(Bt.BigInt(3600),du),_D=Bt.multiply(vc,du),Mf=Bt.multiply(F2,Em),Sa=Bt.multiply(Bt.BigInt(-86400),Bt.BigInt(1e17)),xm=Bt.multiply(Bt.BigInt(86400),Bt.BigInt(1e17)),Jw=-271821,Ba=275760,Sf=Bt.multiply(Bt.BigInt(-388152),Bt.BigInt(1e13)),V0=Bt.multiply(Mf,Bt.BigInt(3660)),ov=Bt.multiply(Mf,Bt.BigInt(366)),z0=Bt.multiply(Mf,Bt.BigInt(14)),Xw=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function Sl(r){return Bt.equal(r,Es)}function Qo(r,t){const n=r[t];if(void 0!==n)return n}function mi(r,t,n){return mp(r,t,arguments.length>2?n:[])}function xs(r){return"object"==typeof r&&null!==r||"function"==typeof r}function yp(r){if("bigint"==typeof r)throw new TypeError("Cannot convert BigInt to number");return S5(r)}function Na(r){const t=yp(r);if(L2(t)||0===t)return 0;if(!Cc(t))return t;const n=Xd(Fs(t));return 0===n?0:pp(t)*n}function Id(r){if("number"!=typeof r||L2(r)||!Cc(r))return!1;const t=Fs(r);return Xd(t)===t}function Ja(r){if("symbol"==typeof r)throw new TypeError("Cannot convert a Symbol value to a String");return iv(r)}function Wo(r){const t=yp(r);if(0===t)return 0;if(L2(t)||!Cc(t))throw new RangeError("invalid number value");const n=_m(t);return 0===n?0:n}function Tl(r,t){const n=Wo(r);if(n<=0)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function bc(r){const t=yp(r);if(!Cc(t))throw new RangeError("infinity is out of range");if(!Id(t))throw new RangeError(`unsupported fractional value ${r}`);return 0===t?0:t}function Ua(r,t){return{quotient:Bt.divide(r,t),remainder:Bt.remainder(r,t)}}function H0(r){return Bt.lessThan(r,Es)}function j2(r){return Sl(r)?0:H0(r)?-1:1}function lu(r){return Bt.lessThan(r,Es)?Bt.multiply(r,wD):r}const ED=new Map([["year",Wo],["month",Tl],["monthCode",Ja],["day",Tl],["hour",Wo],["minute",Wo],["second",Wo],["millisecond",Wo],["microsecond",Wo],["nanosecond",Wo],["years",bc],["months",bc],["weeks",bc],["days",bc],["hours",bc],["minutes",bc],["seconds",bc],["milliseconds",bc],["microseconds",bc],["nanoseconds",bc],["era",Ja],["eraYear",Na],["offset",Ja]]),rR=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),sv=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],Mm=new Map(sv.map(r=>[r[0],r[1]])),$2=new Map(sv.map(([r,t])=>[t,r])),Yw=sv.map(([,r])=>r),Sm=Array.from(Mm.keys()).sort(),V2=new Map;function z2(r){let t=V2.get(r);return void 0===t&&(t=new M5("en-us",{timeZone:iv(r),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),V2.set(r,t)),t}function Tm(r){if(null==r)throw new TypeError(`Expected object not ${r}`);return Object(r)}function gp(r,t,n,i){if(null==t)return;const u=gc(t);for(const h of u)if(!n.some(l=>Object.is(l,h))&&Object.prototype.propertyIsEnumerable.call(t,h)){const l=t[h];if(i&&i.some(f=>Object.is(f,l)))continue;r[h]=l}}function La(r){return yc(r,Di)&&!yc(r,Vo,tr)}function Al(r){return yc(r,ph)}function ea(r){return yc(r,Js)}function ta(r){return yc(r,mc,Dc,td,Sd,Jd,Td,Ad,Dd,Ic)}function Io(r){return yc(r,b5)}function pa(r){return yc(r,eo,to,io,oo,uo,fo)&&!yc(r,ei,oi,si)}function Ni(r){return yc(r,ei,oi,si,eo,to,io,oo,uo,fo)}function Go(r){return yc(r,w5)}function wc(r){return yc(r,_5)}function fi(r){return yc(r,Di,Vo,tr)}function W0(r){if(yc(r,tr)||yc(r,Vo))throw new TypeError("with() does not support a calendar or timeZone property");if(pa(r))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==r.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==r.timeZone)throw new TypeError("with() does not support a timeZone property")}function Zw(r,t){return"never"===t?"":H2(Fc(r),t)}function H2(r,t){return"never"===t||"auto"===t&&"iso8601"===r?"":`[${"critical"===t?"!":""}u-ca=${r}]`}function gh(r){const t=mD.exec(r);if(!t)throw new RangeError(`invalid ISO 8601 string: ${r}`);let n=t[1];if("\u2212"===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${r}`);const i=Na(n),u=Na(t[2]||t[4]),h=Na(t[3]||t[5]),l=Na(t[6]),f=void 0!==t[6],X=Na(t[7]||t[10]);let W=Na(t[8]||t[11]);60===W&&(W=59);const k=(t[9]||t[12])+"000000000",re=Na(k.slice(0,3)),Oe=Na(k.slice(3,6)),je=Na(k.slice(6,9));let Ke,tt=!1;if(t[13])Ke=void 0,tt=!0;else if(t[14]&&t[15]){const qt=t[17]||"00";let un=t[18]||"0";if(Ke=`${"-"===t[14]||"\u2212"===t[14]?"-":"+"}${t[15]||"00"}:${t[16]||"00"}`,+un){for(;un.endsWith("0");)un=un.slice(0,-1);Ke+=`:${qt}.${un}`}else+qt&&(Ke+=`:${qt}`);"-00:00"===Ke&&(Ke="+00:00")}const bt=t[19],kt=t[20];let _t;for(const[,xt,Nt,Xt]of kt.matchAll(hp))if("u-ca"===Nt)void 0===_t&&(_t=Xt);else if("!"===xt)throw new RangeError(`Unrecognized annotation: !${Nt}=${Xt}`);return h_(i,u,h,l,X,W,re,Oe,je),{year:i,month:u,day:h,hasTime:f,hour:l,minute:X,second:W,millisecond:re,microsecond:Oe,nanosecond:je,ianaName:bt,offset:Ke,z:tt,calendar:_t}}function W2(r){const t=x5.exec(r);let n,i,u,h;if(t){let l=t[1];if("\u2212"===l[0]&&(l=`-${l.slice(1)}`),"-000000"===l)throw new RangeError(`invalid ISO 8601 string: ${r}`);n=Na(l),i=Na(t[2]);const f=t[3];for(const[,X,W,k]of f.matchAll(hp))if("u-ca"===W)void 0===u&&(u=k);else if("!"===X)throw new RangeError(`Unrecognized annotation: !${W}=${k}`);if(void 0!==u&&"iso8601"!==u)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let l;if(({year:n,month:i,calendar:u,day:h,z:l}=gh(r)),l)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:i,calendar:u,referenceISODay:h}}function av(r){const t=nR.exec(r);let n,i,u,h;if(t){n=Na(t[1]),i=Na(t[2]);const l=t[3];for(const[,f,X,W]of l.matchAll(hp))if("u-ca"===X)void 0===u&&(u=W);else if("!"===f)throw new RangeError(`Unrecognized annotation: !${X}=${W}`);if(void 0!==u&&"iso8601"!==u)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let l;if(({month:n,day:i,calendar:u,year:h,z:l}=gh(r)),l)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:i,calendar:u,referenceISOYear:h}}function qw(r,t,n,i){let u=r,h=t,l=n;switch(i){case"reject":Vu(u,h,l);break;case"constrain":({year:u,month:h,day:l}=dx(u,h,l))}return{year:u,month:h,day:l}}function Qw(r,t,n,i,u,h,l){let f=r,X=t,W=n,k=i,re=u,Oe=h;switch(l){case"reject":f_(f,X,W,k,re,Oe);break;case"constrain":({hour:f,minute:X,second:W,millisecond:k,microsecond:re,nanosecond:Oe}=(tt=X,bt=W,kt=k,_t=re,xt=Oe,{hour:Cd(f,0,23),minute:Cd(tt,0,59),second:Cd(bt,0,59),millisecond:Cd(kt,0,999),microsecond:Cd(_t,0,999),nanosecond:Cd(xt,0,999)}))}var tt,bt,kt,_t,xt;return{hour:f,minute:X,second:W,millisecond:k,microsecond:re,nanosecond:Oe}}function Am(r){if(!xs(r))return function(Ke){const tt=wm.exec(Ke);if(!tt)throw new RangeError(`invalid duration: ${Ke}`);if(tt.slice(2).every(Dn=>void 0===Dn))throw new RangeError(`invalid duration: ${Ke}`);const bt="-"===tt[1]||"\u2212"===tt[1]?-1:1,kt=void 0===tt[2]?0:Wo(tt[2])*bt,_t=void 0===tt[3]?0:Wo(tt[3])*bt,xt=void 0===tt[4]?0:Wo(tt[4])*bt,Nt=void 0===tt[5]?0:Wo(tt[5])*bt,Xt=void 0===tt[6]?0:Wo(tt[6])*bt,qt=tt[7],un=tt[8],Ht=tt[9],Sn=tt[10],Jn=tt[11];let Yn=0,cr=0,$n=0;if(void 0!==qt){if(un??Ht??Sn??Jn)throw new RangeError("only the smallest unit can be fractional");$n=3600*Na((qt+"000000000").slice(0,9))*bt}else if(Yn=void 0===un?0:Wo(un)*bt,void 0!==Ht){if(Sn??Jn)throw new RangeError("only the smallest unit can be fractional");$n=60*Na((Ht+"000000000").slice(0,9))*bt}else cr=void 0===Sn?0:Wo(Sn)*bt,void 0!==Jn&&($n=Na((Jn+"000000000").slice(0,9))*bt);const jn=$n%1e3,Kn=_m($n/1e3)%1e3,Xn=_m($n/1e6)%1e3;return cr+=_m($n/1e9)%60,Yn+=_m($n/6e10),bv(kt,_t,xt,Nt,Xt,Yn,cr,Xn,Kn,jn),{years:kt,months:_t,weeks:xt,days:Nt,hours:Xt,minutes:Yn,seconds:cr,milliseconds:Xn,microseconds:Kn,nanoseconds:jn}}(Ja(r));if(ta(r))return{years:$e(r,mc),months:$e(r,Dc),weeks:$e(r,ll),days:$e(r,td),hours:$e(r,Sd),minutes:$e(r,Jd),seconds:$e(r,Td),milliseconds:$e(r,Ad),microseconds:$e(r,Dd),nanoseconds:$e(r,Ic)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(Ke){if(!xs(Ke))throw new TypeError("invalid duration-like");const tt={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let bt=!1;for(const kt of Sm){const _t=Ke[kt];void 0!==_t&&(bt=!0,tt[kt]=bc(_t))}if(!bt)throw new TypeError("invalid duration-like");return tt}(r);for(const je of Sm){const Ke=n[je];void 0!==Ke&&(t[je]=Ke)}let{years:i,months:u,weeks:h,days:l,hours:f,minutes:X,seconds:W,milliseconds:k,microseconds:re,nanoseconds:Oe}=t;return bv(i,u,h,l,f,X,W,k,re,Oe),{years:i,months:u,weeks:h,days:l,hours:f,minutes:X,seconds:W,milliseconds:k,microseconds:re,nanoseconds:Oe}}function Ka(r){return void 0===r?"constrain":Ah(r,"overflow",["constrain","reject"],"constrain")}function G0(r){return void 0===r?"compatible":Ah(r,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Nu(r,t){return Ah(r,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function e_(r,t){return void 0===r?t:Ah(r,"offset",["prefer","use","ignore","reject"],t)}function cv(r){return Ah(r,"calendarName",["auto","always","never","critical"],"auto")}function J0(r){let t=r.roundingIncrement;if(void 0===t)return 1;if(t=yp(t),!Cc(t))throw new RangeError("roundingIncrement must be finite");const n=_m(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function X0(r,t,n){const i=n?t:t-1;if(r>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${r}`);if(t%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function dv(r){const t=r.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==Ja(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=Xd(t);if(!Cc(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function lv(r,t){switch(r){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const Dm=Symbol("~required~");function ul(r,t,n,i,u=[]){const h=[];for(const[,W,k]of sv)"datetime"!==n&&n!==k||h.push(W);h.push(...u);let l=i;l===Dm?l=void 0:void 0!==l&&h.push(l);const f=[...h];for(const W of h){const k=$2.get(W);void 0!==k&&f.push(k)}let X=Ah(r,t,f,l);if(void 0===X&&i===Dm)throw new RangeError(`${t} is required`);return Mm.has(X)?Mm.get(X):X}function t_(r){const t=r.relativeTo;if(void 0===t)return t;let n,i,u,h,l,f,X,W,k,re,Oe,je,Ke="option",tt=!1;if(xs(t)){if(fi(t)||Io(t))return t;if(Ni(t))return Lu(t);re=r_(t);const bt=Xs(re,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);bt.push("timeZone","offset");const kt=yo(t,bt,[]),_t=nd(null);_t.overflow="constrain",({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k}=uv(re,kt,_t)),je=kt.offset,void 0===je&&(Ke="wall"),Oe=kt.timeZone,void 0!==Oe&&(Oe=jc(Oe))}else{let bt,kt;if(({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k,calendar:re,ianaName:bt,offset:je,z:kt}=gh(Ja(t))),bt)Oe=jc(bt),kt?Ke="exact":je||(Ke="wall"),tt=!0;else if(kt)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(re||(re="iso8601"),!Dh(re))throw new RangeError(`invalid calendar identifier ${re}`);re=Cl(re)}return void 0===Oe?fl(n,i,u,re):Fa(vh(n,i,u,h,l,f,X,W,k,Ke,"option"===Ke?_p(je):0,Oe,"compatible","reject",tt),Oe,re)}function J2(r,t,n,i,u,h,l,f,X,W){for(const[k,re]of[["years",r],["months",t],["weeks",n],["days",i],["hours",u],["minutes",h],["seconds",l],["milliseconds",f],["microseconds",X],["nanoseconds",W]])if(0!==re)return Mm.get(k);return"nanosecond"}function vp(r,t){return Yw.indexOf(r)>Yw.indexOf(t)?t:r}function yo(r,t,n,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const u=nd(null);let h=!1;t.sort();for(const l of t){let f=r[l];if(void 0!==f)h=!0,ED.has(l)&&(f=ED.get(l)(f)),u[l]=f;else if("partial"!==n){if(vD.call(n,l))throw new TypeError(`required property '${l}' missing or undefined`);f=rR.get(l),u[l]=f}}if("partial"===n&&!h)throw new TypeError(i);return u}function Uu(r,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],i=yo(r,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),u={};for(const h of n){const l=xf(i,h);void 0!==l?u[h]=l.value:"complete"===t&&(u[h]=0)}return u}function ss(r,t){let n=r;if(xs(n)){if(Io(n))return n;if(fi(n)&&(Ka(t),n=Il($e(n,Vo),$e(n,ed),$e(n,tr))),Ni(n))return Ka(t),fl($e(n,ei),$e(n,oi),$e(n,si),$e(n,tr));const X=r_(n);return Cf(X,yo(n,Xs(X,["day","month","monthCode","year"]),[]),t)}Ka(t);let{year:i,month:u,day:h,calendar:l,z:f}=gh(Ja(n));if(f)throw new RangeError("Z designator not supported for PlainDate");if(l||(l="iso8601"),!Dh(l))throw new RangeError(`invalid calendar identifier ${l}`);return l=Cl(l),fl(i,u,h,l)}function uv(r,t,n){let{hour:i,minute:u,second:h,millisecond:l,microsecond:f,nanosecond:X}=Uu(t);const W=Ka(n),k=Cf(r,t,n),re=$e(k,ei),Oe=$e(k,oi),je=$e(k,si);return({hour:i,minute:u,second:h,millisecond:l,microsecond:f,nanosecond:X}=Qw(i,u,h,l,f,X,W)),{year:re,month:Oe,day:je,hour:i,minute:u,second:h,millisecond:l,microsecond:f,nanosecond:X}}function bp(r,t){let n,i,u,h,l,f,X,W,k,re;if(xs(r)){if(Ni(r))return r;if(fi(r))return Ka(t),Il($e(r,Vo),$e(r,ed),$e(r,tr));if(Io(r))return Ka(t),kc($e(r,ei),$e(r,oi),$e(r,si),0,0,0,0,0,0,$e(r,tr));re=r_(r);const Oe=yo(r,Xs(re,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k}=uv(re,Oe,t))}else{let Oe;if(Ka(t),({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k,calendar:re,z:Oe}=gh(Ja(r))),Oe)throw new RangeError("Z designator not supported for PlainDateTime");if(h_(n,i,u,h,l,f,X,W,k),re||(re="iso8601"),!Dh(re))throw new RangeError(`invalid calendar identifier ${re}`);re=Cl(re)}return kc(n,i,u,h,l,f,X,W,k,re)}function Y0(r){if(ta(r))return r;let{years:t,months:n,weeks:i,days:u,hours:h,minutes:l,seconds:f,milliseconds:X,microseconds:W,nanoseconds:k}=Am(r);return new(Rr("%Temporal.Duration%"))(t,n,i,u,h,l,f,X,W,k)}function uu(r){if(La(r))return r;if(fi(r))return new(Rr("%Temporal.Instant%"))($e(r,Di));const t=function G2(r){let{year:t,month:n,day:i,hour:u,minute:h,second:l,millisecond:f,microsecond:X,nanosecond:W,offset:k,z:re}=function(tt){const bt=gh(tt);if(!bt.z&&!bt.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return bt}(r);if(!re&&!k)throw new RangeError("Temporal.Instant requires a time zone offset");const Oe=re?0:_p(k);({year:t,month:n,day:i,hour:u,minute:h,second:l,millisecond:f,microsecond:X,nanosecond:W}=ax(t,n,i,u,h,l,f,X,W-Oe));const je=pu(t,n,i,u,h,l,f,X,W);if(null===je)throw new RangeError("DateTime outside of supported range");return je}(Ja(r));return new(Rr("%Temporal.Instant%"))(t)}function X2(r,t){let n=r;if(xs(n)){if(wc(n))return n;let f,X;if(yc(n,tr))f=$e(n,tr),X=!1;else{let k=n.calendar;X=void 0===k,void 0===k&&(k="iso8601"),f=Dl(k)}const W=yo(n,Xs(f,["day","month","monthCode","year"]),[]);return X&&void 0!==W.month&&void 0===W.monthCode&&void 0===W.year&&(W.year=1972),oy(f,W,t)}Ka(t);let{month:i,day:u,referenceISOYear:h,calendar:l}=av(Ja(n));if(void 0===l&&(l="iso8601"),!Dh(l))throw new RangeError(`invalid calendar identifier ${l}`);return l=Cl(l),void 0===h?(Vu(1972,i,u),Tf(i,u,l)):oy(l,Tf(i,u,l,h))}function Vl(r,t="constrain"){let n,i,u,h,l,f,X=r;if(xs(X)){if(pa(X))return X;if(fi(X)&&(X=Il($e(X,Vo),$e(X,ed),$e(X,tr))),Ni(X))return new(Rr("%Temporal.PlainTime%"))($e(X,eo),$e(X,to),$e(X,io),$e(X,oo),$e(X,uo),$e(X,fo));({hour:n,minute:i,second:u,millisecond:h,microsecond:l,nanosecond:f}=Uu(X)),({hour:n,minute:i,second:u,millisecond:h,microsecond:l,nanosecond:f}=Qw(n,i,u,h,l,f,t))}else({hour:n,minute:i,second:u,millisecond:h,microsecond:l,nanosecond:f}=function(k){const re=yD.exec(k);let Oe,je,Ke,tt,bt,kt,_t;if(re){Oe=Na(re[1]),je=Na(re[2]||re[5]),Ke=Na(re[3]||re[6]),60===Ke&&(Ke=59);const xt=(re[4]||re[7])+"000000000";tt=Na(xt.slice(0,3)),bt=Na(xt.slice(3,6)),kt=Na(xt.slice(6,9)),_t=re[14];for(const[,Nt,Xt,qt]of _t.matchAll(hp))if("u-ca"!==Xt&&"!"===Nt)throw new RangeError(`Unrecognized annotation: !${Xt}=${qt}`);if(re[8])throw new RangeError("Z designator not supported for PlainTime")}else{let xt,Nt;if(({hasTime:Nt,hour:Oe,minute:je,second:Ke,millisecond:tt,microsecond:bt,nanosecond:kt,z:xt}=gh(k)),!Nt)throw new RangeError(`time is missing in string: ${k}`);if(xt)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(k))return{hour:Oe,minute:je,second:Ke,millisecond:tt,microsecond:bt,nanosecond:kt};try{const{month:xt,day:Nt}=av(k);Vu(1972,xt,Nt)}catch{try{const{year:xt,month:Nt}=W2(k);Vu(xt,Nt,1)}catch{return{hour:Oe,minute:je,second:Ke,millisecond:tt,microsecond:bt,nanosecond:kt}}}throw new RangeError(`invalid ISO 8601 time-only string ${k}; may need a T prefix`)}(Ja(X))),f_(n,i,u,h,l,f);return new(Rr("%Temporal.PlainTime%"))(n,i,u,h,l,f)}function Im(r,t){if(xs(r)){if(Go(r))return r;const l=r_(r);return Bm(l,yo(r,Xs(l,["month","monthCode","year"]),[]),t)}Ka(t);let{year:n,month:i,referenceISODay:u,calendar:h}=W2(Ja(r));if(void 0===h&&(h="iso8601"),!Dh(h))throw new RangeError(`invalid calendar identifier ${h}`);return h=Cl(h),void 0===u?(Vu(n,i,1),Af(n,i,h)):Bm(h,Af(n,i,h,u))}function vh(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je,Ke){const tt=new(Rr("%Temporal.PlainDateTime%"))(r,t,n,i,u,h,l,f,X);if("wall"===W||"ignore"===je)return $e(id(re,tt,Oe),Di);if("exact"===W||"use"===je){const kt=pu(r,t,n,i,u,h,l,f,X);if(null===kt)throw new RangeError("ZonedDateTime outside of supported range");return Bt.subtract(kt,Bt.BigInt(k))}const bt=sy(re,tt);for(const kt of bt){const _t=Ku(re,kt),xt=Bt.toNumber(Zd(Bt.BigInt(_t),_D,"halfExpand"));if(_t===k||Ke&&xt===k)return $e(kt,Di)}if("reject"===je){const kt=s_(k),_t=Al(re)?$e(re,ph):"time zone";throw new RangeError(`Offset ${kt} is invalid for ${tt.toString()} in ${_t}`)}return $e(T5(bt,re,tt,Oe),Di)}function Z0(r,t){let n,i,u,h,l,f,X,W,k,re,Oe,je,Ke,tt,bt=!1,kt="option";if(xs(r)){if(fi(r))return r;je=r_(r);const xt=Xs(je,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);xt.push("timeZone","offset");const Nt=yo(r,xt,["timeZone"]);re=jc(Nt.timeZone),Oe=Nt.offset,void 0===Oe&&(kt="wall"),Ke=G0(t),tt=e_(t,"reject"),({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k}=uv(je,Nt,t))}else{let xt,Nt;if(({year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k,ianaName:xt,offset:Oe,z:Nt,calendar:je}=function(qt){const un=gh(qt);if(!un.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return un}(Ja(r))),re=jc(xt),Nt?kt="exact":Oe||(kt="wall"),je||(je="iso8601"),!Dh(je))throw new RangeError(`invalid calendar identifier ${je}`);je=Cl(je),bt=!0,Ke=G0(t),tt=e_(t,"reject"),Ka(t)}let _t=0;return"option"===kt&&(_t=_p(Oe)),Fa(vh(n,i,u,h,l,f,X,W,k,kt,_t,re,Ke,tt,bt),re,je)}function Cm(r,t,n,i,u){Vu(t,n,i),lx(t,n,i),mh(r),so(r,ei,t),so(r,oi,n),so(r,si,i),so(r,tr,u),so(r,b5,!0)}function fl(r,t,n,i="iso8601"){const u=Rr("%Temporal.PlainDate%"),h=nd(u.prototype);return Cm(h,r,t,n,i),h}function km(r,t,n,i,u,h,l,f,X,W,k){h_(t,n,i,u,h,l,f,X,W),ux(t,n,i,u,h,l,f,X,W),mh(r),so(r,ei,t),so(r,oi,n),so(r,si,i),so(r,eo,u),so(r,to,h),so(r,io,l),so(r,oo,f),so(r,uo,X),so(r,fo,W),so(r,tr,k)}function kc(r,t,n,i,u,h,l,f,X,W="iso8601"){const k=Rr("%Temporal.PlainDateTime%"),re=nd(k.prototype);return km(re,r,t,n,i,u,h,l,f,X,W),re}function Pm(r,t,n,i,u){Vu(u,t,n),lx(u,t,n),mh(r),so(r,oi,t),so(r,si,n),so(r,ei,u),so(r,tr,i),so(r,_5,!0)}function Tf(r,t,n="iso8601",i=1972){const u=Rr("%Temporal.PlainMonthDay%"),h=nd(u.prototype);return Pm(h,r,t,n,i),h}function Om(r,t,n,i,u){var l,f;Vu(t,n,u),f=n,Rc(l=t,Jw,Ba),l===Jw?Rc(f,4,12):l===Ba&&Rc(f,1,9),mh(r),so(r,ei,t),so(r,oi,n),so(r,si,u),so(r,tr,i),so(r,w5,!0)}function Af(r,t,n="iso8601",i=1){const u=Rr("%Temporal.PlainYearMonth%"),h=nd(u.prototype);return Om(h,r,t,n,i),h}function Rm(r,t,n,i){Um(t),mh(r),so(r,Di,t),so(r,Vo,n),so(r,tr,i);const u=new(Rr("%Temporal.Instant%"))($e(r,Di));so(r,ed,u)}function Fa(r,t,n="iso8601"){const i=Rr("%Temporal.ZonedDateTime%"),u=nd(i.prototype);return Rm(u,r,t,n),u}function Xs(r,t){if("string"==typeof r){const u=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.fields%"),u,[t])}const n=mi(Qo(r,"fields"),r,[t]),i=[];for(const u of n){if("string"!=typeof u)throw new TypeError("bad return from calendar.fields()");bD.call(i,u)}return i}function wp(r,t,n){if("string"==typeof r){const u=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.mergeFields%"),u,[t,n])}const i=mi(Qo(r,"mergeFields"),r,[t,n]);if(!xs(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Pc(r,t,n,i,u){let h=u;if("string"==typeof r){const f=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.dateAdd%"),f,[t,n,i])}void 0===h&&(h=Qo(r,"dateAdd"));const l=mp(h,r,[t,n,i]);if(!Io(l))throw new TypeError("invalid result");return l}function bh(r,t,n,i,u){let h=u;if("string"==typeof r){const f=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.dateUntil%"),f,[t,n,i])}void 0===h&&(h=Qo(r,"dateUntil"));const l=mp(h,r,[t,n,i]);if(!ta(l))throw new TypeError("invalid result");return l}function fv(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.year%"),i,[t])}let n=mi(Qo(r,"year"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar year result must be an integer");if(!Id(n))throw new RangeError("calendar year result must be an integer");return n}function hv(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.month%"),i,[t])}let n=mi(Qo(r,"month"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar month result must be a positive integer");if(!Id(n)||n<1)throw new RangeError("calendar month result must be a positive integer");return n}function q0(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.monthCode%"),i,[t])}let n=mi(Qo(r,"monthCode"),r,[t]);if("string"!=typeof n)throw new TypeError("calendar monthCode result must be a string");return n}function Q0(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.day%"),i,[t])}const n=mi(Qo(r,"day"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar day result must be a positive integer");if(!Id(n)||n<1)throw new RangeError("calendar day result must be a positive integer");return n}function pv(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.era%"),i,[t])}let n=mi(Qo(r,"era"),r,[t]);if(void 0===n)return n;if("string"!=typeof n)throw new TypeError("calendar era result must be a string or undefined");return n}function mv(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.eraYear%"),i,[t])}let n=mi(Qo(r,"eraYear"),r,[t]);if(void 0===n)return n;if("number"!=typeof n)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!Id(n))throw new RangeError("calendar eraYear result must be an integer or undefined");return n}function ey(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.dayOfWeek%"),i,[t])}const n=mi(Qo(r,"dayOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!Id(n)||n<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return n}function Df(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.dayOfYear%"),i,[t])}const n=mi(Qo(r,"dayOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!Id(n)||n<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return n}function Y2(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.weekOfYear%"),i,[t])}const n=mi(Qo(r,"weekOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!Id(n)||n<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return n}function Z2(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.yearOfWeek%"),i,[t])}const n=mi(Qo(r,"yearOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar yearOfWeek result must be an integer");if(!Id(n))throw new RangeError("calendar yearOfWeek result must be an integer");return n}function yv(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.daysInWeek%"),i,[t])}const n=mi(Qo(r,"daysInWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!Id(n)||n<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return n}function If(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.daysInMonth%"),i,[t])}const n=mi(Qo(r,"daysInMonth"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!Id(n)||n<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return n}function ty(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.daysInYear%"),i,[t])}const n=mi(Qo(r,"daysInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInYear result must be a positive integer");if(!Id(n)||n<1)throw new RangeError("calendar daysInYear result must be a positive integer");return n}function n_(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.monthsInYear%"),i,[t])}const n=mi(Qo(r,"monthsInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!Id(n)||n<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return n}function ny(r,t){if("string"==typeof r){const i=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.inLeapYear%"),i,[t])}const n=mi(Qo(r,"inLeapYear"),r,[t]);if("boolean"!=typeof n)throw new TypeError("calendar inLeapYear result must be a boolean");return n}function Dl(r){if(xs(r)){if(yc(r,tr))return $e(r,tr);if(!(ea(u=r)||"dateAdd"in u&&"dateFromFields"in u&&"dateUntil"in u&&"day"in u&&"dayOfWeek"in u&&"dayOfYear"in u&&"daysInMonth"in u&&"daysInWeek"in u&&"daysInYear"in u&&"fields"in u&&"id"in u&&"inLeapYear"in u&&"mergeFields"in u&&"month"in u&&"monthCode"in u&&"monthDayFromFields"in u&&"monthsInYear"in u&&"weekOfYear"in u&&"year"in u&&"yearMonthFromFields"in u&&"yearOfWeek"in u))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return r}var u;const t=Ja(r);if(Dh(t))return Cl(t);let n;try{({calendar:n}=gh(t))}catch{try{({calendar:n}=W2(t))}catch{({calendar:n}=av(t))}}if(n||(n="iso8601"),!Dh(n))throw new RangeError(`invalid calendar identifier ${n}`);return Cl(n)}function r_(r){if(yc(r,tr))return $e(r,tr);const{calendar:t}=r;return void 0===t?"iso8601":Dl(t)}function Fc(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function ry(r){return xs(r)?r:new(Rr("%Temporal.Calendar%"))(r)}function iy(r,t){return r===t||Fc(r)===Fc(t)}function i_(r,t,n){if(r===t)return;const i=Fc(r),u=Fc(t);if(i!==u)throw new RangeError(`cannot ${n} of ${i} and ${u} calendars`)}function Oc(r,t){if(r===t)return t;const n=Fc(r),i=Fc(t);if(n===i||"iso8601"===n)return t;if("iso8601"===i)return r;throw new RangeError("irreconcilable calendars")}function Cf(r,t,n,i){if("string"==typeof r){const h=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.dateFromFields%"),h,[t,n])}const u=mi(i??Qo(r,"dateFromFields"),r,[t,n]);if(!Io(u))throw new TypeError("invalid result");return u}function Bm(r,t,n){if("string"==typeof r){const u=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.yearMonthFromFields%"),u,[t,n])}let i=mi(Qo(r,"yearMonthFromFields"),r,[t,n]);if(!Go(i))throw new TypeError("invalid result");return i}function oy(r,t,n){if("string"==typeof r){const u=new(Rr("%Temporal.Calendar%"))(r);return mi(Rr("%Temporal.Calendar.prototype.monthDayFromFields%"),u,[t,n])}let i=mi(Qo(r,"monthDayFromFields"),r,[t,n]);if(!wc(i))throw new TypeError("invalid result");return i}function jc(r){if(xs(r)){if(fi(r))return $e(r,Vo);if(!(Al(n=r)||"getOffsetNanosecondsFor"in n&&"getPossibleInstantsFor"in n&&"id"in n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return r}var n;return function xD(r){const{ianaName:t,offset:n,z:i}=function(h){if(new RegExp(`^${nv.source}$`,"i").test(h))return{ianaName:h};try{const l=gh(h);if(l.z||l.offset||l.ianaName)return l}catch{}throw new RangeError(`Invalid time zone: ${h}`)}(r);return t?ix(t):i?"UTC":s_(_p(n))}(Ja(r))}function gv(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function q2(r){return xs(r)?r:new(Rr("%Temporal.TimeZone%"))(r)}function Q2(r,t){return r===t||gv(r)===gv(t)}function Lu(r){return fl($e(r,ei),$e(r,oi),$e(r,si),$e(r,tr))}function ex(r){return new(Rr("%Temporal.PlainTime%"))($e(r,eo),$e(r,to),$e(r,io),$e(r,oo),$e(r,uo),$e(r,fo))}function Ku(r,t,n){if("string"==typeof r){const u=new(Rr("%Temporal.TimeZone%"))(r);return mi(Rr("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),u,[t])}const i=mi(n??Qo(r,"getOffsetNanosecondsFor"),r,[t]);if("number"!=typeof i)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!Id(i)||Fs(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function o_(r,t){return s_(Ku(r,t))}function Il(r,t,n){const i=$e(t,Di),u=Ku(r,t);let{year:h,month:l,day:f,hour:X,minute:W,second:k,millisecond:re,microsecond:Oe,nanosecond:je}=MD(i);return({year:h,month:l,day:f,hour:X,minute:W,second:k,millisecond:re,microsecond:Oe,nanosecond:je}=ax(h,l,f,X,W,k,re,Oe,je+u)),kc(h,l,f,X,W,k,re,Oe,je,n)}function id(r,t,n){return T5(sy(r,t),r,t,n)}function T5(r,t,n,i){const u=Rr("%Temporal.Instant%"),h=r.length;if(1===h)return r[0];if(h)switch(i){case"compatible":case"earlier":return r[0];case"later":return r[h-1];case"reject":throw new RangeError("multiple instants found")}const l=$e(n,ei),f=$e(n,oi),X=$e(n,si),W=$e(n,eo),k=$e(n,to),re=$e(n,io),Oe=$e(n,oo),je=$e(n,uo),Ke=$e(n,fo),tt=pu(l,f,X,W,k,re,Oe,je,Ke);if(null===tt)throw new RangeError("DateTime outside of supported range");const bt=new u(Bt.subtract(tt,Mf)),kt=new u(Bt.add(tt,Mf)),_t=Ku(t,bt),xt=Ku(t,kt)-_t;switch(i){case"earlier":{const Nt=$e(n,tr),Xt=Rr("%Temporal.PlainDateTime%"),qt=uy(l,f,X,W,k,re,Oe,je,Ke,Nt,0,0,0,0,0,0,0,0,0,-xt,void 0);return sy(t,new Xt(qt.year,qt.month,qt.day,qt.hour,qt.minute,qt.second,qt.millisecond,qt.microsecond,qt.nanosecond,Nt))[0]}case"compatible":case"later":{const Nt=$e(n,tr),Xt=Rr("%Temporal.PlainDateTime%"),qt=uy(l,f,X,W,k,re,Oe,je,Ke,Nt,0,0,0,0,0,0,0,0,0,xt,void 0),un=sy(t,new Xt(qt.year,qt.month,qt.day,qt.hour,qt.minute,qt.second,qt.millisecond,qt.microsecond,qt.nanosecond,Nt));return un[un.length-1]}case"reject":throw new RangeError("no such instant found")}}function sy(r,t,n){if("string"==typeof r){const h=new(Rr("%Temporal.TimeZone%"))(r);return mi(Rr("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),h,[t])}const i=mi(n??Qo(r,"getPossibleInstantsFor"),r,[t]),u=[];for(const h of i){if(!La(h))throw new TypeError("bad return from getPossibleInstantsFor");bD.call(u,h)}return u}function wh(r){let t;return t=r<0||r>9999?(r<0?"-":"+")+`000000${Fs(r)}`.slice(-6):`0000${r}`.slice(-4),t}function Os(r){return`00${r}`.slice(-2)}function ay(r,t,n,i,u){if("minute"===u)return"";const h=`:${Os(r)}`;let l,f=1e6*t+1e3*n+i;if("auto"===u){if(0===f)return h;for(l=`${f}`.padStart(9,"0");"0"===l[l.length-1];)l=l.slice(0,-1)}else{if(0===u)return h;l=`${f}`.padStart(9,"0").slice(0,u)}return`${h}.${l}`}function Fu(r,t,n){let i=t;void 0===i&&(i="UTC");const u=Il(i,r,"iso8601"),h=wh($e(u,ei)),l=Os($e(u,oi)),f=Os($e(u,si)),X=Os($e(u,eo)),W=Os($e(u,to)),k=ay($e(u,io),$e(u,oo),$e(u,uo),$e(u,fo),n);let re="Z";return void 0!==t&&(re=a_(Ku(i,r))),`${h}-${l}-${f}T${X}:${W}${k}${re}`}function tx(r,t="auto",n){function i(Sn){return Sn<=K2?Sn.toString(10):Bt.BigInt(Sn).toString(10)}const u=$e(r,mc),h=$e(r,Dc),l=$e(r,ll),f=$e(r,td),X=$e(r,Sd),W=$e(r,Jd);let k=$e(r,Td),re=$e(r,Ad),Oe=$e(r,Dd),je=$e(r,Ic);const Ke=kf(u,h,l,f,X,W,k,re,Oe,je);if(n){const{unit:Sn,increment:Jn,roundingMode:Yn}=n;({seconds:k,milliseconds:re,microseconds:Oe,nanoseconds:je}=Of(0,0,0,0,0,0,k,re,Oe,je,Jn,Sn,Yn))}const tt=[];u&&tt.push(`${i(Fs(u))}Y`),h&&tt.push(`${i(Fs(h))}M`),l&&tt.push(`${i(Fs(l))}W`),f&&tt.push(`${i(Fs(f))}D`);const bt=[];X&&bt.push(`${i(Fs(X))}H`),W&&bt.push(`${i(Fs(W))}M`);const kt=[];let _t,xt,Nt,Xt,qt=cy(0,0,0,k,re,Oe,je,0);({quotient:qt,remainder:_t}=Ua(qt,qo)),({quotient:qt,remainder:xt}=Ua(qt,qo)),({quotient:Xt,remainder:Nt}=Ua(qt,qo));const un=1e6*Fs(Bt.toNumber(Nt))+1e3*Fs(Bt.toNumber(xt))+Fs(Bt.toNumber(_t));let Ht;if("auto"===t){if(0!==un)for(Ht=`${un}`.padStart(9,"0");"0"===Ht[Ht.length-1];)Ht=Ht.slice(0,-1)}else 0!==t&&(Ht=`${un}`.padStart(9,"0").slice(0,t));return Ht&&kt.unshift(".",Ht),Bt.equal(Xt,Es)&&!kt.length&&"auto"===t||kt.unshift(lu(Xt).toString()),kt.length&&bt.push(`${kt.join("")}S`),bt.length&&bt.unshift("T"),tt.length||bt.length?`${Ke<0?"-":""}P${tt.join("")}${bt.join("")}`:"PT0S"}function nx(r,t="auto"){return`${wh($e(r,ei))}-${Os($e(r,oi))}-${Os($e(r,si))}${Zw($e(r,tr),t)}`}function ju(r,t,n="auto",i){let u=$e(r,ei),h=$e(r,oi),l=$e(r,si),f=$e(r,eo),X=$e(r,to),W=$e(r,io),k=$e(r,oo),re=$e(r,uo),Oe=$e(r,fo);if(i){const{unit:je,increment:Ke,roundingMode:tt}=i;({year:u,month:h,day:l,hour:f,minute:X,second:W,millisecond:k,microsecond:re,nanosecond:Oe}=yx(u,h,l,f,X,W,k,re,Oe,Ke,je,tt))}return`${wh(u)}-${Os(h)}-${Os(l)}T${Os(f)}:${Os(X)}${ay(W,k,re,Oe,t)}${Zw($e(r,tr),n)}`}function fu(r,t="auto"){let n=`${Os($e(r,oi))}-${Os($e(r,si))}`;const i=Fc($e(r,tr));("always"===t||"critical"===t||"iso8601"!==i)&&(n=`${wh($e(r,ei))}-${n}`);const u=H2(i,t);return u&&(n+=u),n}function hu(r,t="auto"){let n=`${wh($e(r,ei))}-${Os($e(r,oi))}`;const i=Fc($e(r,tr));("always"===t||"critical"===t||"iso8601"!==i)&&(n+=`-${Os($e(r,si))}`);const u=H2(i,t);return u&&(n+=u),n}function rx(r,t,n="auto",i="auto",u="auto",h){let l=$e(r,ed);if(h){const{unit:k,increment:re,roundingMode:Oe}=h,je=Pf($e(r,Di),re,k,Oe);l=new(Rr("%Temporal.Instant%"))(je)}const f=$e(r,Vo),X=Il(f,l,"iso8601");let W=`${wh($e(X,ei))}-${Os($e(X,oi))}-${Os($e(X,si))}T${Os($e(X,eo))}:${Os($e(X,to))}${ay($e(X,io),$e(X,oo),$e(X,uo),$e(X,fo),t)}`;return"never"!==u&&(W+=a_(Ku(f,l))),"never"!==i&&(W+=`[${"critical"===i?"!":""}${gv(f)}]`),W+=Zw($e(r,tr),n),W}function Nm(r){return hy.test(iv(r))}function _p(r){const t=hy.exec(iv(r));if(!t)throw new RangeError(`invalid time zone offset: ${r}`);return("-"===t[1]||"\u2212"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function ix(r){return Nm(r)?s_(_p(r)):z2(iv(r)).resolvedOptions().timeZone}function _h(r,t){const{year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W,nanosecond:k}=ox(r,t),re=n%400,Oe=(n-re)/400,je=Bt.multiply(Bt.BigInt(146097),Mf),Ke=pu(re,i,u,h,l,f,X,W,k),tt=Bt.add(Ke,Bt.multiply(je,Bt.BigInt(Oe)));return Bt.toNumber(Bt.subtract(tt,t))}function s_(r){const t=r<0?"-":"+",n=Fs(r),i=n%1e9,u=Xd(n/1e9)%60,h=Xd(n/6e10)%60,l=Os(Xd(n/36e11)),f=Os(h),X=Os(u);let W="";if(i){let k=`${i}`.padStart(9,"0");for(;"0"===k[k.length-1];)k=k.slice(0,-1);W=`:${X}.${k}`}else u&&(W=`:${X}`);return`${t}${l}:${f}${W}`}function a_(r){let t=Bt.toNumber(Zd(Bt.BigInt(r),_D,"halfExpand"));const n=t<0?"-":"+";t=Fs(t);const i=t/6e10%60;return`${n}${Os(Xd(t/36e11))}:${Os(i)}`}function pu(r,t,n,i,u,h,l,f,X){const W=new Date;W.setUTCHours(i,u,h,l),W.setUTCFullYear(r,t-1,n);const k=W.getTime();if(L2(k))return null;let re=Bt.multiply(Bt.BigInt(k),rd);return re=Bt.add(re,Bt.multiply(Bt.BigInt(f),qo)),re=Bt.add(re,Bt.BigInt(X)),Bt.lessThan(re,Sa)||Bt.greaterThan(re,xm)?null:re}function MD(r){const{quotient:t,remainder:n}=Ua(r,rd);let i=Bt.toNumber(t),u=Bt.toNumber(n);u<0&&(u+=1e6,i-=1);const h=Xd(u/1e3)%1e3,l=u%1e3,f=new Date(i);return{epochMilliseconds:i,year:f.getUTCFullYear(),month:f.getUTCMonth()+1,day:f.getUTCDate(),hour:f.getUTCHours(),minute:f.getUTCMinutes(),second:f.getUTCSeconds(),millisecond:f.getUTCMilliseconds(),microsecond:h,nanosecond:l}}function ox(r,t){const{epochMilliseconds:n,millisecond:i,microsecond:u,nanosecond:h}=MD(t),{year:l,month:f,day:X,hour:W,minute:k,second:re}=(Ke=n,function(kt){const _t=kt.split(/[^\w]+/);if(7!==_t.length)throw new RangeError(`expected 7 parts in "${kt}`);const xt=+_t[0],Nt=+_t[1];let Xt=+_t[2];const qt=_t[3].toUpperCase();if("B"===qt||"BC"===qt)Xt=1-Xt;else if("A"!==qt&&"AD"!==qt)throw new RangeError(`Unknown era ${qt} in "${kt}`);let un=+_t[4];24===un&&(un=0);const Ht=+_t[5],Sn=+_t[6];if(!(Cc(Xt)&&Cc(xt)&&Cc(Nt)&&Cc(un)&&Cc(Ht)&&Cc(Sn)))throw new RangeError(`Invalid number in "${kt}`);return{year:Xt,month:xt,day:Nt,hour:un,minute:Ht,second:Sn}}(z2(r).format(new Date(Ke))));var Ke;return ax(l,f,X,W,k,re,i,u,h)}function SD(r,t){return Bt.lessThan(r,t)?t:r}function TD(){return Bt.add(xp(),V0)}function sx(r,t){if(Bt.lessThan(t,Sf))return sx(r,Sf);const n=Bt.add(t,ov),i=SD(TD(),n);let u=SD(Sf,t);const h=_h(r,u);let l=u,f=h;for(;h===f&&Bt.lessThan(Bt.BigInt(u),i);){if(l=Bt.add(u,z0),Bt.greaterThan(l,xm))return null;f=_h(r,l),h===f&&(u=l)}return h===f?null:UD(X=>_h(r,X),u,l,h,f)}function c_(r,t){const n=TD(),i=Bt.greaterThan(t,n),u=i?Bt.subtract(t,ov):Sf;if("Africa/Casablanca"===r||"Africa/El_Aaiun"===r){const W=$e(uu("2088-01-01T00Z"),Di);if(Bt.lessThan(W,t))return c_(r,W)}let h=Bt.subtract(t,yh);if(Bt.lessThan(h,Sf))return null;const l=_h(r,h);let f=h,X=l;for(;l===X&&Bt.greaterThan(h,u);){if(f=Bt.subtract(h,z0),Bt.lessThan(f,Sf))return null;X=_h(r,f),l===X&&(h=f)}if(l===X){if(i){const W=Bt.subtract(n,Mf);return c_(r,W)}return null}return UD(W=>_h(r,W),f,h,X,l)}function $u(r){return void 0!==r&&r%4==0&&(r%100!=0||r%400==0)}function Eh(r,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[$u(r)?"leapyear":"standard"][t-1]}function d_(r,t,n){const i=t+(t<3?10:-2),u=r-(t<3?1:0),h=Xd(u/100),l=u-100*h,f=(n+Xd(2.6*i-.2)+(l+Xd(l/4))+(Xd(h/4)-2*h))%7;return f+(f<=0?7:0)}function vv(r,t,n){let i=n;for(let u=t-1;u>0;u--)i+=Eh(r,u);return i}function AD(r,t,n){const i=vv(r,t,n),u=d_(r,t,n)||7,h=d_(r,1,1),l=Xd((i-u+10)/7);return l<1?5===h||6===h&&$u(r-1)?{week:53,year:r-1}:{week:52,year:r-1}:53===l&&($u(r)?366:365)-i<4-u?{week:1,year:r+1}:{week:l,year:r}}function kf(r,t,n,i,u,h,l,f,X,W){for(const k of[r,t,n,i,u,h,l,f,X,W])if(0!==k)return k<0?-1:1;return 0}function l_(r,t){let n=r,i=t;if(!Cc(n)||!Cc(i))throw new RangeError("infinity is out of range");return i-=1,n+=Xd(i/12),i%=12,i<0&&(i+=12),i+=1,{year:n,month:i}}function u_(r,t,n){let i=r,u=t,h=n;if(!Cc(h))throw new RangeError("infinity is out of range");({year:i,month:u}=l_(i,u));const l=146097;if(Fs(h)>l){const W=_m(h/l);i+=400*W,h-=W*l}let f=0,X=u>2?i:i-1;for(;f=$u(X)?366:365,h<-f;)i-=1,X-=1,h+=f;for(X+=1;f=$u(X)?366:365,h>f;)i+=1,X+=1,h-=f;for(;h<1;)({year:i,month:u}=l_(i,u-1)),h+=Eh(i,u);for(;h>Eh(i,u);)h-=Eh(i,u),({year:i,month:u}=l_(i,u+1));return{year:i,month:u,day:h}}function ax(r,t,n,i,u,h,l,f,X){const{deltaDays:W,hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:tt}=xh(i,u,h,l,f,X),{year:bt,month:kt,day:_t}=u_(r,t,n+W);return{year:bt,month:kt,day:_t,hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:tt}}function xh(r,t,n,i,u,h){let l,f=Bt.BigInt(r),X=Bt.BigInt(t),W=Bt.BigInt(n),k=Bt.BigInt(i),re=Bt.BigInt(u),Oe=Bt.BigInt(h);return({quotient:l,remainder:Oe}=fy(Oe,qo)),re=Bt.add(re,l),({quotient:l,remainder:re}=fy(re,qo)),k=Bt.add(k,l),({quotient:l,remainder:k}=fy(k,qo)),W=Bt.add(W,l),({quotient:l,remainder:W}=fy(W,vc)),X=Bt.add(X,l),({quotient:l,remainder:X}=fy(X,vc)),f=Bt.add(f,l),({quotient:l,remainder:f}=fy(f,Em)),{deltaDays:Bt.toNumber(l),hour:Bt.toNumber(f),minute:Bt.toNumber(X),second:Bt.toNumber(W),millisecond:Bt.toNumber(k),microsecond:Bt.toNumber(re),nanosecond:Bt.toNumber(Oe)}}function cy(r,t,n,i,u,h,l,f){const X=Bt.BigInt(r);let W=Bt.BigInt(l);0!==r&&(W=Bt.subtract(Bt.BigInt(l),Bt.BigInt(f)));const k=Bt.add(Bt.BigInt(t),Bt.multiply(X,Bt.BigInt(24))),re=Bt.add(Bt.BigInt(n),Bt.multiply(k,vc)),Oe=Bt.add(Bt.BigInt(i),Bt.multiply(re,vc)),je=Bt.add(Bt.BigInt(u),Bt.multiply(Oe,qo)),Ke=Bt.add(Bt.BigInt(h),Bt.multiply(je,qo));return Bt.add(Bt.BigInt(W),Bt.multiply(Ke,qo))}function cx(r,t){const n=Rr("%Temporal.Instant%"),i=pp(Bt.toNumber(r));let u=Bt.BigInt(r),h=864e11;if(0===i)return{days:0,nanoseconds:Es,dayLengthNs:h};if(!fi(t)){let xt;return({quotient:xt,remainder:u}=Ua(u,Bt.BigInt(h))),{days:Bt.toNumber(xt),nanoseconds:u,dayLengthNs:h}}const l=$e(t,Di),f=$e(t,ed),X=Bt.add(l,u),W=new n(X),k=$e(t,Vo),re=$e(t,tr),Oe=Il(k,f,re),je=Il(k,W,re);let{days:Ke}=p_($e(Oe,ei),$e(Oe,oi),$e(Oe,si),$e(Oe,eo),$e(Oe,to),$e(Oe,io),$e(Oe,oo),$e(Oe,uo),$e(Oe,fo),$e(je,ei),$e(je,oi),$e(je,si),$e(je,eo),$e(je,to),$e(je,io),$e(je,oo),$e(je,uo),$e(je,fo),re,"day",nd(null)),tt=Yd(f,k,re,0,0,0,Ke,0,0,0,0,0,0),bt=Bt.BigInt(Ke);if(1===i)for(;Bt.greaterThan(bt,Es)&&Bt.greaterThan(tt,X);)bt=Bt.subtract(bt,yh),tt=Yd(f,k,re,0,0,0,Bt.toNumber(bt),0,0,0,0,0,0);u=Bt.subtract(X,tt);let kt=!1,_t=new n(tt);do{const xt=Yd(_t,k,re,0,0,0,i,0,0,0,0,0,0),Nt=$e(_t,Di);h=Bt.toNumber(Bt.subtract(xt,Nt)),kt=Bt.greaterThanOrEqual(Bt.multiply(Bt.subtract(u,Bt.BigInt(h)),Bt.BigInt(i)),Es),kt&&(u=Bt.subtract(u,Bt.BigInt(h)),_t=new n(xt),bt=Bt.add(bt,Bt.BigInt(i)))}while(kt);if(!Sl(bt)&&j2(bt)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!Sl(u)&&j2(u)!==i)throw H0(u)&&1===i?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(Bt.greaterThanOrEqual(lu(u),lu(Bt.BigInt(h))))throw new Error("assert not reached");return{days:Bt.toNumber(bt),nanoseconds:u,dayLengthNs:Fs(h)}}function mu(r,t,n,i,u,h,l,f,X){let W=DD(r,t,n,i,u,h,l,f,X);if("positive overflow"===W||"negative overflow"===W)throw new RangeError("Duration out of range");return W}function DD(r,t,n,i,u,h,l,f,X){let W,k,re,Oe,je,Ke,tt=r;if(fi(X)){const un=Yd($e(X,ed),$e(X,Vo),$e(X,tr),0,0,0,tt,t,n,i,u,h,l),Ht=$e(X,Di);W=Bt.subtract(un,Ht)}else W=cy(tt,t,n,i,u,h,l,0);"year"===f||"month"===f||"week"===f||"day"===f?({days:tt,nanoseconds:W}=cx(W,X)):tt=0;const bt=Bt.lessThan(W,Es)?-1:1;switch(W=lu(W),k=re=Oe=je=Ke=Es,f){case"year":case"month":case"week":case"day":case"hour":({quotient:k,remainder:W}=Ua(W,qo)),({quotient:re,remainder:k}=Ua(k,qo)),({quotient:Oe,remainder:re}=Ua(re,qo)),({quotient:je,remainder:Oe}=Ua(Oe,vc)),({quotient:Ke,remainder:je}=Ua(je,vc));break;case"minute":({quotient:k,remainder:W}=Ua(W,qo)),({quotient:re,remainder:k}=Ua(k,qo)),({quotient:Oe,remainder:re}=Ua(re,qo)),({quotient:je,remainder:Oe}=Ua(Oe,vc));break;case"second":({quotient:k,remainder:W}=Ua(W,qo)),({quotient:re,remainder:k}=Ua(k,qo)),({quotient:Oe,remainder:re}=Ua(re,qo));break;case"millisecond":({quotient:k,remainder:W}=Ua(W,qo)),({quotient:re,remainder:k}=Ua(k,qo));break;case"microsecond":({quotient:k,remainder:W}=Ua(W,qo));break;case"nanosecond":break;default:throw new Error("assert not reached")}const kt=Bt.toNumber(Ke)*bt,_t=Bt.toNumber(je)*bt,xt=Bt.toNumber(Oe)*bt,Nt=Bt.toNumber(re)*bt,Xt=Bt.toNumber(k)*bt,qt=Bt.toNumber(W)*bt;for(const un of[tt,kt,_t,xt,Nt,Xt,qt])if(!Cc(un))return 1===bt?"positive overflow":"negative overflow";return{days:tt,hours:kt,minutes:_t,seconds:xt,milliseconds:Nt,microseconds:Xt,nanoseconds:qt}}function dy(r,t,n,i,u,h){const l=Rr("%Temporal.Duration%"),f=kf(r,t,n,i,0,0,0,0,0,0);if(0===f)return{years:r,months:t,weeks:n,days:i};const X=Bt.BigInt(f);let W,k,re=Bt.BigInt(r),Oe=Bt.BigInt(t),je=Bt.BigInt(n),Ke=Bt.BigInt(i);h&&(k=ss(h),W=$e(k,tr));const tt=new l(f),bt=new l(0,f),kt=new l(0,0,f);switch(u){case"year":break;case"month":{if(!W)throw new RangeError("a starting point is required for months balancing");let _t,xt;for("string"!=typeof W&&(_t=Qo(W,"dateAdd"),xt=Qo(W,"dateUntil"));!Sl(re);){const Nt=Pc(W,k,tt,void 0,_t),Xt=nd(null);Xt.largestUnit="month";const qt=bh(W,k,Nt,Xt,xt),un=Bt.BigInt($e(qt,Dc));k=Nt,Oe=Bt.add(Oe,un),re=Bt.subtract(re,X)}}break;case"week":{if(!W)throw new RangeError("a starting point is required for weeks balancing");const _t="string"!=typeof W?Qo(W,"dateAdd"):void 0;for(;!Sl(re);){let xt;({relativeTo:k,days:xt}=kd(W,k,tt,_t)),Ke=Bt.add(Ke,Bt.BigInt(xt)),re=Bt.subtract(re,X)}for(;!Sl(Oe);){let xt;({relativeTo:k,days:xt}=kd(W,k,bt,_t)),Ke=Bt.add(Ke,Bt.BigInt(xt)),Oe=Bt.subtract(Oe,X)}break}default:{if(Sl(re)&&Sl(Oe)&&Sl(je))break;if(!W)throw new RangeError("a starting point is required for balancing calendar units");const _t="string"!=typeof W?Qo(W,"dateAdd"):void 0;for(;!Sl(re);){let xt;({relativeTo:k,days:xt}=kd(W,k,tt,_t)),Ke=Bt.add(Ke,Bt.BigInt(xt)),re=Bt.subtract(re,X)}for(;!Sl(Oe);){let xt;({relativeTo:k,days:xt}=kd(W,k,bt,_t)),Ke=Bt.add(Ke,Bt.BigInt(xt)),Oe=Bt.subtract(Oe,X)}for(;!Sl(je);){let xt;({relativeTo:k,days:xt}=kd(W,k,kt,_t)),Ke=Bt.add(Ke,Bt.BigInt(xt)),je=Bt.subtract(je,X)}break}}return{years:Bt.toNumber(re),months:Bt.toNumber(Oe),weeks:Bt.toNumber(je),days:Bt.toNumber(Ke)}}function A5(r,t,n,i,u){if(fi(r)){const h=$e(r,ed),l=$e(r,Vo),f=$e(r,tr),X=Ku(l,h),W=Yd(h,l,f,t,n,i,u,0,0,0,0,0,0);return Ku(l,new(Rr("%Temporal.Instant%"))(W))-X}return 0}function ID(r){return new(Rr("%Temporal.Duration%"))(-$e(r,mc),-$e(r,Dc),-$e(r,ll),-$e(r,td),-$e(r,Sd),-$e(r,Jd),-$e(r,Td),-$e(r,Ad),-$e(r,Dd),-$e(r,Ic))}function Cd(r,t,n){return N2(n,U2(t,r))}function dx(r,t,n){const i=Cd(t,1,12);return{year:r,month:i,day:Cd(n,1,Eh(r,i))}}function Rc(r,t,n){if(r<t||r>n)throw new RangeError(`value out of range: ${t} <= ${r} <= ${n}`)}function Vu(r,t,n){Rc(t,1,12),Rc(n,1,Eh(r,t))}function lx(r,t,n){ux(r,t,n,12,0,0,0,0,0)}function f_(r,t,n,i,u,h){Rc(r,0,23),Rc(t,0,59),Rc(n,0,59),Rc(i,0,999),Rc(u,0,999),Rc(h,0,999)}function h_(r,t,n,i,u,h,l,f,X){Vu(r,t,n),f_(i,u,h,l,f,X)}function ux(r,t,n,i,u,h,l,f,X){if(Rc(r,Jw,Ba),r===Jw&&null==pu(r,t,n+1,i,u,h,l,f,X-1)||r===Ba&&null==pu(r,t,n-1,i,u,h,l,f,X+1))throw new RangeError("DateTime outside of supported range")}function Um(r){if(Bt.lessThan(r,Sa)||Bt.greaterThan(r,xm))throw new RangeError("Instant outside of supported range")}function bv(r,t,n,i,u,h,l,f,X,W){const k=kf(r,t,n,i,u,h,l,f,X,W);for(const re of[r,t,n,i,u,h,l,f,X,W]){if(!Cc(re))throw new RangeError("infinite values not allowed as duration fields");const Oe=pp(re);if(0!==Oe&&Oe!==k)throw new RangeError("mixed-sign values not allowed as duration fields")}}function CD(r,t,n,i,u,h,l){switch(l){case"year":case"month":{const f=-Sh(r,t,n,i,u,h);if(0===f)return{years:0,months:0,weeks:0,days:0};const X={year:r,month:t,day:n},W={year:i,month:u,day:h};let k=W.year-X.year,re=Ep(r,t,n,k,0,0,0,"constrain"),Oe=-Sh(re.year,re.month,re.day,i,u,h);if(0===Oe)return"year"===l?{years:k,months:0,weeks:0,days:0}:{years:0,months:12*k,weeks:0,days:0};let je=W.month-X.month;if(Oe!==f&&(k-=f,je+=12*f),re=Ep(r,t,n,k,je,0,0,"constrain"),Oe=-Sh(re.year,re.month,re.day,i,u,h),0===Oe)return"year"===l?{years:k,months:je,weeks:0,days:0}:{years:0,months:je+12*k,weeks:0,days:0};Oe!==f&&(je-=f,je===-f&&(k-=f,je=11*f),re=Ep(r,t,n,k,je,0,0,"constrain"));let Ke=0;return Ke=re.month===W.month?W.day-re.day:f<0?-re.day-(Eh(W.year,W.month)-W.day):W.day+(Eh(re.year,re.month)-re.day),"month"===l&&(je+=12*k,k=0),{years:k,months:je,weeks:0,days:Ke}}case"week":case"day":{let f,X,W;Sh(r,t,n,i,u,h)<0?(X={year:r,month:t,day:n},f={year:i,month:u,day:h},W=1):(X={year:i,month:u,day:h},f={year:r,month:t,day:n},W=-1);let k=vv(f.year,f.month,f.day)-vv(X.year,X.month,X.day);for(let Oe=X.year;Oe<f.year;++Oe)k+=$u(Oe)?366:365;let re=0;return"week"===l&&(re=Xd(k/7),k%=7),re*=W,k*=W,{years:0,months:0,weeks:re,days:k}}default:throw new Error("assert not reached")}}function D5(r,t,n,i,u,h,l,f,X,W,k,re){let Oe=l-r,je=f-t,Ke=X-n,tt=W-i,bt=k-u,kt=re-h;const _t=kf(0,0,0,0,Oe,je,Ke,tt,bt,kt);Oe*=_t,je*=_t,Ke*=_t,tt*=_t,bt*=_t,kt*=_t;let xt=0;if(({deltaDays:xt,hour:Oe,minute:je,second:Ke,millisecond:tt,microsecond:bt,nanosecond:kt}=xh(Oe,je,Ke,tt,bt,kt)),0!=xt)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return Oe*=_t,je*=_t,Ke*=_t,tt*=_t,bt*=_t,kt*=_t,{hours:Oe,minutes:je,seconds:Ke,milliseconds:tt,microseconds:bt,nanoseconds:kt}}function fx(r,t,n,i,u,h){const l=Bt.subtract(t,r);let f=0,X=0,W=Bt.toNumber(Bt.remainder(l,qo)),k=Bt.toNumber(Bt.remainder(Bt.divide(l,qo),qo)),re=Bt.toNumber(Bt.remainder(Bt.divide(l,rd),qo)),Oe=Bt.toNumber(Bt.divide(l,du));return({hours:f,minutes:X,seconds:Oe,milliseconds:re,microseconds:k,nanoseconds:W}=Of(0,0,0,0,0,0,Oe,re,k,W,n,i,h)),mu(0,f,X,Oe,re,k,W,u)}function p_(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je,Ke,tt,bt,kt,_t,xt,Nt){let Xt=r,qt=t,un=n,{hours:Ht,minutes:Sn,seconds:Jn,milliseconds:Yn,microseconds:cr,nanoseconds:$n}=D5(i,u,h,l,f,X,Oe,je,Ke,tt,bt,kt);const jn=kf(0,0,0,0,Ht,Sn,Jn,Yn,cr,$n);Sh(W,k,re,Xt,qt,un)===-jn&&(({year:Xt,month:qt,day:un}=u_(Xt,qt,un-jn)),({hours:Ht,minutes:Sn,seconds:Jn,milliseconds:Yn,microseconds:cr,nanoseconds:$n}=mu(-jn,Ht,Sn,Jn,Yn,cr,$n,xt)));const Kn=fl(Xt,qt,un,_t),Xn=fl(W,k,re,_t),Dn=vp("day",xt),gr=Th(Nt);gr.largestUnit=Dn;let{years:vr,months:Er,weeks:Yr,days:hi}=bh(_t,Kn,Xn,gr);return({days:hi,hours:Ht,minutes:Sn,seconds:Jn,milliseconds:Yn,microseconds:cr,nanoseconds:$n}=mu(hi,Ht,Sn,Jn,Yn,cr,$n,xt)),{years:vr,months:Er,weeks:Yr,days:hi,hours:Ht,minutes:Sn,seconds:Jn,milliseconds:Yn,microseconds:cr,nanoseconds:$n}}function wv(r,t,n,i,u,h){const l=Bt.subtract(t,r);if(Bt.equal(l,Es))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const f=Rr("%Temporal.Instant%"),X=new f(r),W=new f(t),k=Il(n,X,i),re=Il(n,W,i);let{years:Oe,months:je,weeks:Ke,days:tt}=p_($e(k,ei),$e(k,oi),$e(k,si),$e(k,eo),$e(k,to),$e(k,io),$e(k,oo),$e(k,uo),$e(k,fo),$e(re,ei),$e(re,oi),$e(re,si),$e(re,eo),$e(re,to),$e(re,io),$e(re,oo),$e(re,uo),$e(re,fo),i,u,h);const bt=Yd(X,n,i,Oe,je,Ke,0,0,0,0,0,0,0);let kt=Bt.subtract(t,bt);const _t=Fa(bt,n,i);({nanoseconds:kt,days:tt}=cx(kt,_t));const{hours:xt,minutes:Nt,seconds:Xt,milliseconds:qt,microseconds:un,nanoseconds:Ht}=mu(0,0,0,0,0,0,Bt.toNumber(kt),"hour");return{years:Oe,months:je,weeks:Ke,days:tt,hours:xt,minutes:Nt,seconds:Xt,milliseconds:qt,microseconds:un,nanoseconds:Ht}}function ly(r,t,n,i,u,h){const l=sv.reduce((je,Ke)=>{const tt=Ke[0],bt=Ke[1];return"datetime"!==n&&Ke[2]!==n||i.includes(bt)||je.push(bt,tt),je},[]);let f=ul(t,"largestUnit",n,"auto");if(i.includes(f))throw new RangeError(`largestUnit must be one of ${l.join(", ")}, not ${f}`);const X=J0(t);let W=Nu(t,"trunc");"since"===r&&(W=function(Ke){switch(Ke){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return Ke}}(W));const k=ul(t,"smallestUnit",n,u);if(i.includes(k))throw new RangeError(`smallestUnit must be one of ${l.join(", ")}, not ${k}`);const re=vp(h,k);if("auto"===f&&(f=re),vp(f,k)!==f)throw new RangeError(`largestUnit ${f} cannot be smaller than smallestUnit ${k}`);const Oe={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[k];return void 0!==Oe&&X0(X,Oe,!1),{largestUnit:f,roundingIncrement:X,roundingMode:W,smallestUnit:k}}function kD(r,t,n,i){const u="since"===r?-1:1,h=uu(n),l=ly(r,Th(i),"time",[],"nanosecond","second"),f=$e(t,Di),X=$e(h,Di);let{hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=fx(f,X,l.roundingIncrement,l.smallestUnit,l.largestUnit,l.roundingMode);return new(Rr("%Temporal.Duration%"))(0,0,0,0,u*W,u*k,u*re,u*Oe,u*je,u*Ke)}function m_(r,t,n,i){const u="since"===r?-1:1,h=ss(n),l=$e(t,tr);i_(l,$e(h,tr),"compute difference between dates");const f=Th(i),X=ly(r,f,"date",[],"day","day");f.largestUnit=X.largestUnit;let{years:W,months:k,weeks:re,days:Oe}=bh(l,t,h,f);return"day"===X.smallestUnit&&1===X.roundingIncrement||({years:W,months:k,weeks:re,days:Oe}=Of(W,k,re,Oe,0,0,0,0,0,0,X.roundingIncrement,X.smallestUnit,X.roundingMode,t)),new(Rr("%Temporal.Duration%"))(u*W,u*k,u*re,u*Oe,0,0,0,0,0,0)}function PD(r,t,n,i){const u="since"===r?-1:1,h=bp(n),l=$e(t,tr);i_(l,$e(h,tr),"compute difference between dates");const f=Th(i),X=ly(r,f,"datetime",[],"nanosecond","day");let{years:W,months:k,weeks:re,days:Oe,hours:je,minutes:Ke,seconds:tt,milliseconds:bt,microseconds:kt,nanoseconds:_t}=p_($e(t,ei),$e(t,oi),$e(t,si),$e(t,eo),$e(t,to),$e(t,io),$e(t,oo),$e(t,uo),$e(t,fo),$e(h,ei),$e(h,oi),$e(h,si),$e(h,eo),$e(h,to),$e(h,io),$e(h,oo),$e(h,uo),$e(h,fo),l,X.largestUnit,f);const xt=Lu(t);return({years:W,months:k,weeks:re,days:Oe,hours:je,minutes:Ke,seconds:tt,milliseconds:bt,microseconds:kt,nanoseconds:_t}=Of(W,k,re,Oe,je,Ke,tt,bt,kt,_t,X.roundingIncrement,X.smallestUnit,X.roundingMode,xt)),({days:Oe,hours:je,minutes:Ke,seconds:tt,milliseconds:bt,microseconds:kt,nanoseconds:_t}=mu(Oe,je,Ke,tt,bt,kt,_t,X.largestUnit)),new(Rr("%Temporal.Duration%"))(u*W,u*k,u*re,u*Oe,u*je,u*Ke,u*tt,u*bt,u*kt,u*_t)}function _v(r,t,n,i){const u="since"===r?-1:1,h=Vl(n),l=ly(r,Th(i),"time",[],"nanosecond","hour");let{hours:f,minutes:X,seconds:W,milliseconds:k,microseconds:re,nanoseconds:Oe}=D5($e(t,eo),$e(t,to),$e(t,io),$e(t,oo),$e(t,uo),$e(t,fo),$e(h,eo),$e(h,to),$e(h,io),$e(h,oo),$e(h,uo),$e(h,fo));return({hours:f,minutes:X,seconds:W,milliseconds:k,microseconds:re,nanoseconds:Oe}=Of(0,0,0,0,f,X,W,k,re,Oe,l.roundingIncrement,l.smallestUnit,l.roundingMode)),({hours:f,minutes:X,seconds:W,milliseconds:k,microseconds:re,nanoseconds:Oe}=mu(0,f,X,W,k,re,Oe,l.largestUnit)),new(Rr("%Temporal.Duration%"))(0,0,0,0,u*f,u*X,u*W,u*k,u*re,u*Oe)}function Ev(r,t,n,i){const u="since"===r?-1:1,h=Im(n),l=$e(t,tr);i_(l,$e(h,tr),"compute difference between months");const f=Th(i),X=ly(r,f,"date",["week","day"],"month","year");f.largestUnit=X.largestUnit;const W=Xs(l,["monthCode","year"]),k=yo(t,W,[]);k.day=1;const re=Cf(l,k),Oe=yo(h,W,[]);Oe.day=1;const je=Cf(l,Oe);let{years:Ke,months:tt}=bh(l,re,je,f);return"month"===X.smallestUnit&&1===X.roundingIncrement||({years:Ke,months:tt}=Of(Ke,tt,0,0,0,0,0,0,0,0,X.roundingIncrement,X.smallestUnit,X.roundingMode,re)),new(Rr("%Temporal.Duration%"))(u*Ke,u*tt,0,0,0,0,0,0,0,0)}function y_(r,t,n,i){const u="since"===r?-1:1,h=Z0(n),l=$e(t,tr);i_(l,$e(h,tr),"compute difference between dates");const f=Th(i),X=ly(r,f,"datetime",[],"nanosecond","hour");f.largestUnit=X.largestUnit;const W=$e(t,Di),k=$e(h,Di);let re,Oe,je,Ke,tt,bt,kt,_t,xt,Nt;if("year"!==X.largestUnit&&"month"!==X.largestUnit&&"week"!==X.largestUnit&&"day"!==X.largestUnit)re=0,Oe=0,je=0,Ke=0,({hours:tt,minutes:bt,seconds:kt,milliseconds:_t,microseconds:xt,nanoseconds:Nt}=fx(W,k,X.roundingIncrement,X.smallestUnit,X.largestUnit,X.roundingMode));else{const Xt=$e(t,Vo);if(!Q2(Xt,$e(h,Vo)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:re,months:Oe,weeks:je,days:Ke,hours:tt,minutes:bt,seconds:kt,milliseconds:_t,microseconds:xt,nanoseconds:Nt}=wv(W,k,Xt,l,X.largestUnit,f)),({years:re,months:Oe,weeks:je,days:Ke,hours:tt,minutes:bt,seconds:kt,milliseconds:_t,microseconds:xt,nanoseconds:Nt}=Of(re,Oe,je,Ke,tt,bt,kt,_t,xt,Nt,X.roundingIncrement,X.smallestUnit,X.roundingMode,t)),({years:re,months:Oe,weeks:je,days:Ke,hours:tt,minutes:bt,seconds:kt,milliseconds:_t,microseconds:xt,nanoseconds:Nt}=I5(re,Oe,je,Ke,tt,bt,kt,_t,xt,Nt,X.roundingIncrement,X.smallestUnit,X.roundingMode,t))}return new(Rr("%Temporal.Duration%"))(u*re,u*Oe,u*je,u*Ke,u*tt,u*bt,u*kt,u*_t,u*xt,u*Nt)}function Ep(r,t,n,i,u,h,l,f){let X=r,W=t,k=n,re=h,Oe=l;return X+=i,W+=u,({year:X,month:W}=l_(X,W)),({year:X,month:W,day:k}=qw(X,W,k,f)),Oe+=7*re,k+=Oe,({year:X,month:W,day:k}=u_(X,W,k)),{year:X,month:W,day:k}}function OD(r,t,n,i,u,h,l,f,X,W,k,re){let Oe=r,je=t,Ke=n,tt=i,bt=u,kt=h;Oe+=l,je+=f,Ke+=X,tt+=W,bt+=k,kt+=re;let _t=0;return({deltaDays:_t,hour:Oe,minute:je,second:Ke,millisecond:tt,microsecond:bt,nanosecond:kt}=xh(Oe,je,Ke,tt,bt,kt)),{deltaDays:_t,hour:Oe,minute:je,second:Ke,millisecond:tt,microsecond:bt,nanosecond:kt}}function RD(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je,Ke,tt,bt,kt,_t,xt,Nt){const Xt=vp(J2(r,t,n,i,u,h,l,f,X,W),J2(k,re,Oe,je,Ke,tt,bt,kt,_t,xt));let qt,un,Ht,Sn,Jn,Yn,cr,$n,jn,Kn;if(Nt)if(Io(Nt)){const Xn=Rr("%Temporal.Duration%"),Dn=$e(Nt,tr),gr=new Xn(r,t,n,i,0,0,0,0,0,0),vr=new Xn(k,re,Oe,je,0,0,0,0,0,0),Er="string"!=typeof Dn?Qo(Dn,"dateAdd"):void 0,Yr=Pc(Dn,Nt,gr,void 0,Er),hi=Pc(Dn,Yr,vr,void 0,Er),kn=vp("day",Xt),yi=nd(null);yi.largestUnit=kn,({years:qt,months:un,weeks:Ht,days:Sn}=bh(Dn,Nt,hi,yi)),({days:Sn,hours:Jn,minutes:Yn,seconds:cr,milliseconds:$n,microseconds:jn,nanoseconds:Kn}=mu(Sn,Bt.add(Bt.BigInt(u),Bt.BigInt(Ke)),Bt.add(Bt.BigInt(h),Bt.BigInt(tt)),Bt.add(Bt.BigInt(l),Bt.BigInt(bt)),Bt.add(Bt.BigInt(f),Bt.BigInt(kt)),Bt.add(Bt.BigInt(X),Bt.BigInt(_t)),Bt.add(Bt.BigInt(W),Bt.BigInt(xt)),Xt))}else{const Xn=Rr("%Temporal.Instant%"),Dn=$e(Nt,Vo),gr=$e(Nt,tr),vr=Yd($e(Nt,ed),Dn,gr,r,t,n,i,u,h,l,f,X,W),Er=Yd(new Xn(vr),Dn,gr,k,re,Oe,je,Ke,tt,bt,kt,_t,xt);"year"!==Xt&&"month"!==Xt&&"week"!==Xt&&"day"!==Xt?(qt=0,un=0,Ht=0,Sn=0,({hours:Jn,minutes:Yn,seconds:cr,milliseconds:$n,microseconds:jn,nanoseconds:Kn}=fx($e(Nt,Di),Er,1,"nanosecond",Xt,"halfExpand"))):({years:qt,months:un,weeks:Ht,days:Sn,hours:Jn,minutes:Yn,seconds:cr,milliseconds:$n,microseconds:jn,nanoseconds:Kn}=wv($e(Nt,Di),Er,Dn,gr,Xt,nd(null)))}else{if("year"===Xt||"month"===Xt||"week"===Xt)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");qt=un=Ht=0,({days:Sn,hours:Jn,minutes:Yn,seconds:cr,milliseconds:$n,microseconds:jn,nanoseconds:Kn}=mu(i+je,Bt.add(Bt.BigInt(u),Bt.BigInt(Ke)),Bt.add(Bt.BigInt(h),Bt.BigInt(tt)),Bt.add(Bt.BigInt(l),Bt.BigInt(bt)),Bt.add(Bt.BigInt(f),Bt.BigInt(kt)),Bt.add(Bt.BigInt(X),Bt.BigInt(_t)),Bt.add(Bt.BigInt(W),Bt.BigInt(xt)),Xt))}return bv(qt,un,Ht,Sn,Jn,Yn,cr,$n,jn,Kn),{years:qt,months:un,weeks:Ht,days:Sn,hours:Jn,minutes:Yn,seconds:cr,milliseconds:$n,microseconds:jn,nanoseconds:Kn}}function hx(r,t,n,i,u,h,l){let f=Es;f=Bt.add(f,Bt.BigInt(l)),f=Bt.add(f,Bt.multiply(Bt.BigInt(h),qo)),f=Bt.add(f,Bt.multiply(Bt.BigInt(u),rd)),f=Bt.add(f,Bt.multiply(Bt.BigInt(i),du)),f=Bt.add(f,Bt.multiply(Bt.BigInt(n),Bt.BigInt(6e10))),f=Bt.add(f,Bt.multiply(Bt.BigInt(t),Bt.BigInt(36e11)));const X=Bt.add(r,f);return Um(X),X}function uy(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je,Ke,tt,bt,kt,_t,xt,Nt){let Xt=je,{deltaDays:qt,hour:un,minute:Ht,second:Sn,millisecond:Jn,microsecond:Yn,nanosecond:cr}=OD(i,u,h,l,f,X,Ke,tt,bt,kt,_t,xt);Xt+=qt;const $n=Rr("%Temporal.Duration%"),jn=Pc(W,fl(r,t,n,W),new $n(k,re,Oe,Xt,0,0,0,0,0,0),Nt);return{year:$e(jn,ei),month:$e(jn,oi),day:$e(jn,si),hour:un,minute:Ht,second:Sn,millisecond:Jn,microsecond:Yn,nanosecond:cr}}function Yd(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je){const Ke=Rr("%Temporal.Duration%");if(0===kf(i,u,h,l,0,0,0,0,0,0))return hx($e(r,Di),f,X,W,k,re,Oe);const tt=Il(t,r,n),bt=Pc(n,fl($e(tt,ei),$e(tt,oi),$e(tt,si),n),new Ke(i,u,h,l,0,0,0,0,0,0),je),kt=kc($e(bt,ei),$e(bt,oi),$e(bt,si),$e(tt,eo),$e(tt,to),$e(tt,io),$e(tt,oo),$e(tt,uo),$e(tt,fo),n);return hx($e(id(t,kt,"compatible"),Di),f,X,W,k,re,Oe)}function g_(r,t,n,i){const u="subtract"===r?-1:1;let{years:h,months:l,weeks:f,days:X,hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=Am(n);const tt=t_(Ao(i));return({years:h,months:l,weeks:f,days:X,hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=RD($e(t,mc),$e(t,Dc),$e(t,ll),$e(t,td),$e(t,Sd),$e(t,Jd),$e(t,Td),$e(t,Ad),$e(t,Dd),$e(t,Ic),u*h,u*l,u*f,u*X,u*W,u*k,u*re,u*Oe,u*je,u*Ke,tt)),new(Rr("%Temporal.Duration%"))(h,l,f,X,W,k,re,Oe,je,Ke)}function px(r,t,n){const i="subtract"===r?-1:1,{hours:u,minutes:h,seconds:l,milliseconds:f,microseconds:X,nanoseconds:W}=function(Oe,je){let Ke=Am(Oe);for(const tt of["years","months","weeks","days"])if(0!==Ke[tt])throw new RangeError(`Duration field ${tt} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return Ke}(n),k=hx($e(t,Di),i*u,i*h,i*l,i*f,i*X,i*W);return new(Rr("%Temporal.Instant%"))(k)}function BD(r,t,n,i){const u="subtract"===r?-1:1,{years:h,months:l,weeks:f,days:X,hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=Am(n),tt=Ao(i),bt=$e(t,tr),{year:kt,month:_t,day:xt,hour:Nt,minute:Xt,second:qt,millisecond:un,microsecond:Ht,nanosecond:Sn}=uy($e(t,ei),$e(t,oi),$e(t,si),$e(t,eo),$e(t,to),$e(t,io),$e(t,oo),$e(t,uo),$e(t,fo),bt,u*h,u*l,u*f,u*X,u*W,u*k,u*re,u*Oe,u*je,u*Ke,tt);return kc(kt,_t,xt,Nt,Xt,qt,un,Ht,Sn,bt)}function ND(r,t,n){const i="subtract"===r?-1:1,{hours:u,minutes:h,seconds:l,milliseconds:f,microseconds:X,nanoseconds:W}=Am(n);let{hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:tt}=OD($e(t,eo),$e(t,to),$e(t,io),$e(t,oo),$e(t,uo),$e(t,fo),i*u,i*h,i*l,i*f,i*X,i*W);return({hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:tt}=Qw(k,re,Oe,je,Ke,tt,"reject")),new(Rr("%Temporal.PlainTime%"))(k,re,Oe,je,Ke,tt)}function mx(r,t,n,i){let u=Am(n);"subtract"===r&&(u={years:-u.years,months:-u.months,weeks:-u.weeks,days:-u.days,hours:-u.hours,minutes:-u.minutes,seconds:-u.seconds,milliseconds:-u.milliseconds,microseconds:-u.microseconds,nanoseconds:-u.nanoseconds});let{years:h,months:l,weeks:f,days:X,hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=u;({days:X}=mu(X,W,k,re,Oe,je,Ke,"day"));const tt=Ao(i),bt=$e(t,tr),kt=Xs(bt,["monthCode","year"]),_t=yo(t,kt,[]),xt=nd(null);gp(xt,_t,[]),_t.day=1;let Nt=Cf(bt,_t);const Xt=kf(h,l,f,X,0,0,0,0,0,0),qt=Qo(bt,"dateAdd"),un=Rr("%Temporal.Duration%");if(Xt<0){const Jn=Pc(bt,Nt,new un(0,1,0,0,0,0,0,0,0,0),void 0,qt),Yn=Pc(bt,Jn,new un(0,0,0,-1,0,0,0,0,0,0),void 0,qt);xt.day=Q0(bt,Yn),Nt=Cf(bt,xt)}const Ht=new un(h,l,f,X,0,0,0,0,0,0),Sn=Th(tt);return Bm(bt,yo(Pc(bt,Nt,Ht,tt,qt),kt,[]),Sn)}function v_(r,t,n,i){const u="subtract"===r?-1:1,{years:h,months:l,weeks:f,days:X,hours:W,minutes:k,seconds:re,milliseconds:Oe,microseconds:je,nanoseconds:Ke}=Am(n),tt=Ao(i),bt=$e(t,Vo),kt=$e(t,tr);return Fa(Yd($e(t,ed),bt,kt,u*h,u*l,u*f,u*X,u*W,u*k,u*re,u*Oe,u*je,u*Ke,tt),bt,kt)}function Zd(r,t,n){if(Bt.equal(t,yh))return r;let{quotient:i,remainder:u}=Ua(r,t);if(Bt.equal(u,Es))return r;const h=Bt.lessThan(u,Es)?-1:1,l=lu(Bt.multiply(u,Bt.BigInt(2))),f=Bt.equal(l,t),X=Bt.greaterThan(l,t);switch(n){case"ceil":h>0&&(i=Bt.add(i,Bt.BigInt(h)));break;case"floor":h<0&&(i=Bt.add(i,Bt.BigInt(h)));break;case"expand":i=Bt.add(i,Bt.BigInt(h));break;case"trunc":break;case"halfCeil":(X||f&&h>0)&&(i=Bt.add(i,Bt.BigInt(h)));break;case"halfFloor":(X||f&&h<0)&&(i=Bt.add(i,Bt.BigInt(h)));break;case"halfExpand":(X||f)&&(i=Bt.add(i,Bt.BigInt(h)));break;case"halfTrunc":X&&(i=Bt.add(i,Bt.BigInt(h)));break;case"halfEven":(X||f&&1===Bt.toNumber(Bt.remainder(lu(i),Bt.BigInt(2))))&&(i=Bt.add(i,Bt.BigInt(h)))}return Bt.multiply(i,t)}function Pf(r,t,n,i){let{remainder:u}=fy(r,Mf);const h=Bt.subtract(r,u),l=Zd(u,Bt.BigInt(LD[n]*t),i);return Bt.add(h,l)}function yx(r,t,n,i,u,h,l,f,X,W,k,re,Oe=864e11){const{deltaDays:je,hour:Ke,minute:tt,second:bt,millisecond:kt,microsecond:_t,nanosecond:xt}=gx(i,u,h,l,f,X,W,k,re,Oe),{year:Nt,month:Xt,day:qt}=u_(r,t,n+je);return{year:Nt,month:Xt,day:qt,hour:Ke,minute:tt,second:bt,millisecond:kt,microsecond:_t,nanosecond:xt}}function gx(r,t,n,i,u,h,l,f,X,W=864e11){let k=Es;switch(f){case"day":case"hour":k=Bt.BigInt(r);case"minute":k=Bt.add(Bt.multiply(k,vc),Bt.BigInt(t));case"second":k=Bt.add(Bt.multiply(k,vc),Bt.BigInt(n));case"millisecond":k=Bt.add(Bt.multiply(k,qo),Bt.BigInt(i));case"microsecond":k=Bt.add(Bt.multiply(k,qo),Bt.BigInt(u));case"nanosecond":k=Bt.add(Bt.multiply(k,qo),Bt.BigInt(h))}const re="day"===f?W:LD[f],Oe=Zd(k,Bt.BigInt(re*l),X),je=Bt.toNumber(Bt.divide(Oe,Bt.BigInt(re)));switch(f){case"day":return{deltaDays:je,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return xh(je,0,0,0,0,0);case"minute":return xh(r,je,0,0,0,0);case"second":return xh(r,t,je,0,0,0);case"millisecond":return xh(r,t,n,je,0,0);case"microsecond":return xh(r,t,n,i,je,0);case"nanosecond":return xh(r,t,n,i,u,je);default:throw new Error(`Invalid unit ${f}`)}}function Mh(r,t){return CD($e(r,ei),$e(r,oi),$e(r,si),$e(t,ei),$e(t,oi),$e(t,si),"day").days}function kd(r,t,n,i){const u=Pc(r,t,n,void 0,i);return{relativeTo:u,days:Mh(t,u)}}function b_(r,t,n,i,u){const h=$e(r,Vo),l=$e(r,tr);return Fa(Yd($e(r,ed),h,l,t,n,i,u,0,0,0,0,0,0),h,l)}function I5(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je){let Ke=r,tt=t,bt=n,kt=i,_t=u,xt=h,Nt=l,Xt=f,qt=X,un=W;if(!fi(je)||"year"===re||"month"===re||"week"===re||"day"===re||"nanosecond"===re&&1===k)return{years:Ke,months:tt,weeks:bt,days:kt,hours:_t,minutes:xt,seconds:Nt,milliseconds:Xt,microseconds:qt,nanoseconds:un};let Ht=cy(0,_t,xt,Nt,Xt,qt,un,0);const Sn=pp(Bt.toNumber(Ht)),Jn=$e(je,Vo),Yn=$e(je,tr),cr=Yd($e(je,ed),Jn,Yn,Ke,tt,bt,kt,0,0,0,0,0,0),$n=Yd(new(Rr("%Temporal.Instant%"))(cr),Jn,Yn,0,0,0,Sn,0,0,0,0,0,0),jn=Bt.subtract($n,cr);return Bt.greaterThanOrEqual(Bt.multiply(Bt.subtract(Ht,jn),Bt.BigInt(Sn)),Es)&&(({years:Ke,months:tt,weeks:bt,days:kt}=RD(Ke,tt,bt,kt,0,0,0,0,0,0,0,0,0,Sn,0,0,0,0,0,0,je)),Ht=Pf(Bt.subtract(Ht,jn),k,re,Oe),({hours:_t,minutes:xt,seconds:Nt,milliseconds:Xt,microseconds:qt,nanoseconds:un}=mu(0,0,0,0,0,0,Bt.toNumber(Ht),"hour"))),{years:Ke,months:tt,weeks:bt,days:kt,hours:_t,minutes:xt,seconds:Nt,milliseconds:Xt,microseconds:qt,nanoseconds:un}}function Of(r,t,n,i,u,h,l,f,X,W,k,re,Oe,je){let Ke=r,tt=t,bt=n,kt=i,_t=u,xt=h,Nt=l,Xt=f,qt=X,un=Bt.BigInt(W);const Ht=Rr("%Temporal.Duration%");let Sn,Jn,Yn,cr,$n=je;if($n){if(fi($n))Jn=$n,$n=ss($n);else if(!Io($n))throw new TypeError("starting point must be PlainDate or ZonedDateTime");Sn=$e($n,tr)}if("year"===re||"month"===re||"week"===re||"day"===re){let jn,Kn,Xn;un=cy(0,_t,xt,Nt,Xt,qt,W,0),Jn&&(jn=b_(Jn,Ke,tt,bt,kt)),({days:Kn,nanoseconds:un,dayLengthNs:Xn}=cx(un,jn)),Yn=Bt.BigInt(Xn),kt+=Kn,_t=xt=Nt=Xt=qt=0}switch(re){case"year":{if(!Sn)throw new RangeError("A starting point is required for years rounding");const jn=new Ht(Ke),Kn="string"!=typeof Sn?Qo(Sn,"dateAdd"):void 0,Xn=Pc(Sn,$n,jn,void 0,Kn),Dn=Pc(Sn,$n,new Ht(Ke,tt,bt),void 0,Kn);$n=Xn,kt+=Mh(Xn,Dn);const gr=Pc(Sn,$n,new Ht(0,0,0,kt),void 0,Kn),vr=nd(null);vr.largestUnit="year";const Er=bh(Sn,$n,gr,vr).years;Ke+=Er;const Yr=$n;$n=Pc(Sn,$n,new Ht(Er),void 0,Kn),kt-=Mh(Yr,$n);const hi=new Ht(kt<0?-1:1);let{days:kn}=kd(Sn,$n,hi,Kn);kn=Fs(kn);const yi=Bt.multiply(Bt.BigInt(kn),Yn);un=Bt.add(Bt.add(Bt.multiply(yi,Bt.BigInt(Ke)),Bt.multiply(Bt.BigInt(kt),Yn)),un);const bo=Zd(un,Bt.multiply(yi,Bt.BigInt(k)),Oe);cr=Rf(un,yi),Ke=Bt.toNumber(Bt.divide(bo,yi)),un=Es,tt=bt=kt=0;break}case"month":{if(!Sn)throw new RangeError("A starting point is required for months rounding");const jn=new Ht(Ke,tt),Kn="string"!=typeof Sn?Qo(Sn,"dateAdd"):void 0,Xn=Pc(Sn,$n,jn,void 0,Kn),Dn=Pc(Sn,$n,new Ht(Ke,tt,bt),void 0,Kn);$n=Xn,kt+=Mh(Xn,Dn);const gr=pp(kt),vr=new Ht(0,kt<0?-1:1);let Er;for(({relativeTo:$n,days:Er}=kd(Sn,$n,vr,Kn));Fs(kt)>=Fs(Er);)tt+=gr,kt-=Er,({relativeTo:$n,days:Er}=kd(Sn,$n,vr,Kn));Er=Fs(Er);const Yr=Bt.multiply(Bt.BigInt(Er),Yn);un=Bt.add(Bt.add(Bt.multiply(Yr,Bt.BigInt(tt)),Bt.multiply(Bt.BigInt(kt),Yn)),un);const hi=Zd(un,Bt.multiply(Yr,Bt.BigInt(k)),Oe);cr=Rf(un,Yr),tt=Bt.toNumber(Bt.divide(hi,Yr)),un=Es,bt=kt=0;break}case"week":{if(!Sn)throw new RangeError("A starting point is required for weeks rounding");const jn=pp(kt),Kn=new Ht(0,0,kt<0?-1:1),Xn="string"!=typeof Sn?Qo(Sn,"dateAdd"):void 0;let Dn;for(({relativeTo:$n,days:Dn}=kd(Sn,$n,Kn,Xn));Fs(kt)>=Fs(Dn);)bt+=jn,kt-=Dn,({relativeTo:$n,days:Dn}=kd(Sn,$n,Kn,Xn));Dn=Fs(Dn);const gr=Bt.multiply(Bt.BigInt(Dn),Yn);un=Bt.add(Bt.add(Bt.multiply(gr,Bt.BigInt(bt)),Bt.multiply(Bt.BigInt(kt),Yn)),un);const vr=Zd(un,Bt.multiply(gr,Bt.BigInt(k)),Oe);cr=Rf(un,gr),bt=Bt.toNumber(Bt.divide(vr,gr)),un=Es,kt=0;break}case"day":{const jn=Yn;un=Bt.add(Bt.multiply(jn,Bt.BigInt(kt)),un);const Kn=Zd(un,Bt.multiply(jn,Bt.BigInt(k)),Oe);cr=Rf(un,jn),kt=Bt.toNumber(Bt.divide(Kn,jn)),un=Es;break}case"hour":{let Kn=Bt.multiply(Bt.BigInt(_t),Bt.BigInt(36e11));Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(xt),Bt.BigInt(6e10))),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Nt),du)),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Xt),rd)),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(qt),qo)),Kn=Bt.add(Kn,un),cr=Rf(Kn,Bt.BigInt(36e11));const Xn=Zd(Kn,Bt.BigInt(36e11*k),Oe);_t=Bt.toNumber(Bt.divide(Xn,Bt.BigInt(36e11))),un=Es,xt=Nt=Xt=qt=0;break}case"minute":{let Kn=Bt.multiply(Bt.BigInt(xt),Bt.BigInt(6e10));Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Nt),du)),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Xt),rd)),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(qt),qo)),Kn=Bt.add(Kn,un),cr=Rf(Kn,Bt.BigInt(6e10));const Xn=Zd(Kn,Bt.BigInt(6e10*k),Oe);xt=Bt.toNumber(Bt.divide(Xn,Bt.BigInt(6e10))),un=Es,Nt=Xt=qt=0;break}case"second":{let Kn=Bt.multiply(Bt.BigInt(Nt),du);Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(Xt),rd)),Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(qt),qo)),Kn=Bt.add(Kn,un),cr=Rf(Kn,Bt.BigInt(1e9));const Xn=Zd(Kn,Bt.BigInt(1e9*k),Oe);Nt=Bt.toNumber(Bt.divide(Xn,Bt.BigInt(1e9))),un=Es,Xt=qt=0;break}case"millisecond":{let Kn=Bt.multiply(Bt.BigInt(Xt),rd);Kn=Bt.add(Kn,Bt.multiply(Bt.BigInt(qt),qo)),Kn=Bt.add(Kn,un),cr=Rf(Kn,Bt.BigInt(1e6));const Xn=Zd(Kn,Bt.BigInt(1e6*k),Oe);Xt=Bt.toNumber(Bt.divide(Xn,Bt.BigInt(1e6))),un=Es,qt=0;break}case"microsecond":{let Kn=Bt.multiply(Bt.BigInt(qt),qo);Kn=Bt.add(Kn,un),cr=Rf(Kn,Bt.BigInt(1e3));const Xn=Zd(Kn,Bt.BigInt(1e3*k),Oe);qt=Bt.toNumber(Bt.divide(Xn,Bt.BigInt(1e3))),un=Es;break}case"nanosecond":cr=Bt.toNumber(un),un=Zd(Bt.BigInt(un),Bt.BigInt(k),Oe)}return{years:Ke,months:tt,weeks:bt,days:kt,hours:_t,minutes:xt,seconds:Nt,milliseconds:Xt,microseconds:qt,nanoseconds:Bt.toNumber(un),total:cr}}function Sh(r,t,n,i,u,h){for(const[l,f]of[[r,i],[t,u],[n,h]])if(l!==f)return Bf(l-f);return 0}function fy(r,t){let{quotient:n,remainder:i}=Ua(r,t);return Bt.lessThan(i,Es)&&(n=Bt.subtract(n,yh),i=Bt.add(i,t)),{quotient:n,remainder:i}}function zu(r,t){const{quotient:n,remainder:i}=Ua(r,t);return Sl(i)||!H0(r)==!H0(t)?n:Bt.subtract(n,yh)}function Rf(r,t){const{quotient:n,remainder:i}=Ua(r,t);return Bt.toNumber(n)+Bt.toNumber(i)/Bt.toNumber(t)}function w_(r){const t=xv(r);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function xv(r){let t=r;if("object"==typeof r){const n=r[Symbol.toPrimitive];n&&"function"==typeof n&&(t=mp(n,r,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return Bt.BigInt("bigint"==typeof t?t.toString(10):t)}const xp=(()=>{let r=Bt.BigInt(Date.now()%1e6);return()=>{const t=Bt.BigInt(Date.now()),n=Bt.add(Bt.multiply(t,rd),r);return r=Bt.remainder(t,rd),Bt.greaterThan(n,xm)?xm:Bt.lessThan(n,Sa)?Sa:n}})();function Mp(){return(new M5).resolvedOptions().timeZone}function Bf(r){return r<0?-1:r>0?1:r}function Ao(r){if(void 0===r)return nd(null);if(xs(r)&&null!==r)return r;throw new TypeError("Options parameter must be an object, not "+(null===r?"null":typeof r))}function $c(r,t){const n=nd(null);return n[r]=t,n}function Th(r){const t=nd(null);return gp(t,Ao(r),[]),t}function Ah(r,t,n,i){let u=r[t];if(void 0!==u){if(u=Ja(u),!n.includes(u))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${u}`);return u}return i}function Dh(r){return Xw.includes(Cl(r))}function Cl(r){return r.replace(/[A-Z]/g,t=>{const n=t.charCodeAt(0);return String.fromCharCode(n+32)})}const hy=new RegExp(`^${hD.source}$`);function UD(r,t,n,i=r(t),u=r(n)){let h=Bt.BigInt(t),l=Bt.BigInt(n),f=i,X=u;for(;Bt.greaterThan(Bt.subtract(l,h),yh);){const W=Bt.divide(Bt.add(h,l),Bt.BigInt(2)),k=r(W);if(k===f)h=W,f=k;else{if(k!==X)throw new Error(`invalid state in bisection ${f} - ${k} - ${X}`);l=W,X=k}}return l}const LD={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},vx=Symbol("date"),py=Symbol("ym"),KD=Symbol("md"),FD=Symbol("time"),jD=Symbol("datetime"),bx=Symbol("instant"),Lm=Symbol("original"),Km=Symbol("timezone"),yu=Symbol("calendar-id"),wx=Symbol("locale"),_x=Symbol("options"),__=r=>({value:r,enumerable:!0,writable:!1,configurable:!0}),Mv=globalThis.Intl.DateTimeFormat,Sp=Object.assign,iR=Object.prototype.hasOwnProperty,$D=Reflect.apply;function Ih(r,t){let n=r[t];return"function"==typeof n&&(n=new Mv(r[wx],n(r[_x])),r[t]=n),n}function Fm(r,t={}){if(!(this instanceof Fm))return new Fm(r,t);const n=void 0!==t,i=n?Sp({},t):{},u=new Mv(r,i),h=u.resolvedOptions();if(n){const l=Sp({},h);for(const f in l)$D(iR,i,[f])||delete l[f];this[_x]=l}else this[_x]=i;this[wx]=h.locale,this[Lm]=u,this[Km]=h.timeZone,this[yu]=h.calendar,this[vx]=O5,this[py]=k5,this[KD]=P5,this[FD]=C5,this[jD]=oR,this[bx]=R5}Object.defineProperty(Fm,"name",{writable:!0,value:"DateTimeFormat"}),Fm.supportedLocalesOf=function(r,t){return Mv.supportedLocalesOf(r,t)};const Ex={resolvedOptions:__(function(){return this[Lm].resolvedOptions()}),format:__(function(t,...n){let{instant:i,formatter:u}=gy(t,this);return i&&u?u.format(i.epochMilliseconds):this[Lm].format(t,...n)}),formatRange:__(function(t,n){if(my(t)||my(n)){if(!yy(t,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:u}=gy(t,this),{instant:h,formatter:l}=gy(n,this);if(i&&h&&u&&l&&u===l)return u.formatRange(i.epochMilliseconds,h.epochMilliseconds)}return this[Lm].formatRange(t,n)})};"formatToParts"in Mv.prototype&&(Ex.formatToParts=__(function(t,...n){let{instant:i,formatter:u}=gy(t,this);return i&&u?u.formatToParts(i.epochMilliseconds):this[Lm].formatToParts(t,...n)})),"formatRangeToParts"in Mv.prototype&&(Ex.formatRangeToParts=__(function(t,n){if(my(t)||my(n)){if(!yy(t,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:u}=gy(t,this),{instant:h,formatter:l}=gy(n,this);if(i&&h&&u&&l&&u===l)return u.formatRangeToParts(i.epochMilliseconds,h.epochMilliseconds)}return this[Lm].formatRangeToParts(t,n)})),Fm.prototype=Object.create(Mv.prototype,Ex),Object.defineProperty(Fm,"prototype",{writable:!1,enumerable:!1,configurable:!1});const Nf=Fm;function Ch(r={},t={}){const n=Sp({},r);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[i]=i in t?t[i]:n[i],!1!==n[i]&&void 0!==n[i]||delete n[i];return n}function C5(r){let t=Ch(r,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return xx(t)||(t=Sp({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function k5(r){let t=Ch(r,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=Sp(t,{year:"numeric",month:"numeric"})),t}function P5(r){let t=Ch(r,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=Sp({},t,{month:"numeric",day:"numeric"})),t}function O5(r){let t=Ch(r,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return E_(t)||(t=Sp({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function oR(r){let t=Ch(r,{timeZoneName:!1});return xx(t)||E_(t)||(t=Sp({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function R5(r){let t=r;return xx(t)||E_(t)||(t=Sp({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function E_(r){return"year"in r||"month"in r||"day"in r||"weekday"in r||"dateStyle"in r}function xx(r){return"hour"in r||"minute"in r||"second"in r||"timeStyle"in r||"dayPeriod"in r}function my(r){return Io(r)||pa(r)||Ni(r)||fi(r)||Go(r)||wc(r)||La(r)}function yy(r,t){return!(!my(r)||!my(t)||pa(r)&&!pa(t)||Io(r)&&!Io(t)||Ni(r)&&!Ni(t)||fi(r)&&!fi(t)||Go(r)&&!Go(t)||wc(r)&&!wc(t)||La(r)&&!La(t))}function gy(r,t){const n=Rr("%Temporal.PlainDateTime%");if(pa(r)){const i=new n(1970,1,1,$e(r,eo),$e(r,to),$e(r,io),$e(r,oo),$e(r,uo),$e(r,fo),t[yu]);return{instant:id(t[Km],i,"compatible"),formatter:Ih(t,FD)}}if(Go(r)){const i=$e(r,ei),u=$e(r,oi),h=$e(r,si),l=Fc($e(r,tr));if(l!==t[yu])throw new RangeError(`cannot format PlainYearMonth with calendar ${l} in locale with calendar ${t[yu]}`);const f=new n(i,u,h,12,0,0,0,0,0,l);return{instant:id(t[Km],f,"compatible"),formatter:Ih(t,py)}}if(wc(r)){const i=$e(r,ei),u=$e(r,oi),h=$e(r,si),l=Fc($e(r,tr));if(l!==t[yu])throw new RangeError(`cannot format PlainMonthDay with calendar ${l} in locale with calendar ${t[yu]}`);const f=new n(i,u,h,12,0,0,0,0,0,l);return{instant:id(t[Km],f,"compatible"),formatter:Ih(t,KD)}}if(Io(r)){const i=$e(r,ei),u=$e(r,oi),h=$e(r,si),l=Fc($e(r,tr));if("iso8601"!==l&&l!==t[yu])throw new RangeError(`cannot format PlainDate with calendar ${l} in locale with calendar ${t[yu]}`);const f=new n(i,u,h,12,0,0,0,0,0,t[yu]);return{instant:id(t[Km],f,"compatible"),formatter:Ih(t,vx)}}if(Ni(r)){const i=$e(r,ei),u=$e(r,oi),h=$e(r,si),l=$e(r,eo),f=$e(r,to),X=$e(r,io),W=$e(r,oo),k=$e(r,uo),re=$e(r,fo),Oe=Fc($e(r,tr));if("iso8601"!==Oe&&Oe!==t[yu])throw new RangeError(`cannot format PlainDateTime with calendar ${Oe} in locale with calendar ${t[yu]}`);let je=r;return"iso8601"===Oe&&(je=new n(i,u,h,l,f,X,W,k,re,t[yu])),{instant:id(t[Km],je,"compatible"),formatter:Ih(t,jD)}}if(fi(r))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return La(r)?{instant:r,formatter:Ih(t,bx)}:{}}Object.freeze({__proto__:null,DateTimeFormat:Nf});class zl{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=xv(t);Um(n),mh(this),so(this,Di,n)}get epochSeconds(){if(!La(this))throw new TypeError("invalid receiver");const t=$e(this,Di);return Bt.toNumber(zu(t,du))}get epochMilliseconds(){if(!La(this))throw new TypeError("invalid receiver");const t=Bt.BigInt($e(this,Di));return Bt.toNumber(zu(t,rd))}get epochMicroseconds(){if(!La(this))throw new TypeError("invalid receiver");return w_(zu(Bt.BigInt($e(this,Di)),qo))}get epochNanoseconds(){if(!La(this))throw new TypeError("invalid receiver");return w_(Bt.BigInt($e(this,Di)))}add(t){if(!La(this))throw new TypeError("invalid receiver");return px("add",this,t)}subtract(t){if(!La(this))throw new TypeError("invalid receiver");return px("subtract",this,t)}until(t,n){if(!La(this))throw new TypeError("invalid receiver");return kD("until",this,t,n)}since(t,n){if(!La(this))throw new TypeError("invalid receiver");return kD("since",this,t,n)}round(t){if(!La(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?$c("smallestUnit",t):Ao(t),i=J0(n),u=Nu(n,"halfExpand"),h=ul(n,"smallestUnit","time",Dm);X0(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[h],!0);const l=Pf($e(this,Di),i,h,u);return new zl(l)}equals(t){if(!La(this))throw new TypeError("invalid receiver");const n=uu(t),i=$e(this,Di),u=$e(n,Di);return Bt.equal(Bt.BigInt(i),Bt.BigInt(u))}toString(t){if(!La(this))throw new TypeError("invalid receiver");const n=Ao(t),i=dv(n),u=Nu(n,"trunc"),h=ul(n,"smallestUnit","time",void 0);if("hour"===h)throw new RangeError('smallestUnit must be a time unit other than "hour"');let l=n.timeZone;void 0!==l&&(l=jc(l));const{precision:f,unit:X,increment:W}=lv(h,i),k=Pf($e(this,Di),W,X,u);return Fu(new zl(k),l,f)}toJSON(){if(!La(this))throw new TypeError("invalid receiver");return Fu(this,void 0,"auto")}toLocaleString(t,n){if(!La(this))throw new TypeError("invalid receiver");return new Nf(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!La(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("invalid argument in toZonedDateTime");const n=t.calendar;if(void 0===n)throw new TypeError("missing calendar property in toZonedDateTime");const i=Dl(n),u=t.timeZone;if(void 0===u)throw new TypeError("missing timeZone property in toZonedDateTime");const h=jc(u);return Fa($e(this,Di),h,i)}toZonedDateTimeISO(t){if(!La(this))throw new TypeError("invalid receiver");const n=jc(t);return Fa($e(this,Di),n,"iso8601")}static fromEpochSeconds(t){const n=yp(t),i=Bt.multiply(Bt.BigInt(n),du);return Um(i),new zl(i)}static fromEpochMilliseconds(t){const n=yp(t),i=Bt.multiply(Bt.BigInt(n),rd);return Um(i),new zl(i)}static fromEpochMicroseconds(t){const n=xv(t),i=Bt.multiply(n,qo);return Um(i),new zl(i)}static fromEpochNanoseconds(t){const n=xv(t);return Um(n),new zl(n)}static from(t){return La(t)?new zl($e(t,Di)):uu(t)}static compare(t,n){const i=uu(t),u=uu(n),h=$e(i,Di),l=$e(u,Di);return Bt.lessThan(h,l)?-1:Bt.greaterThan(h,l)?1:0}}Ef(zl,"Temporal.Instant");const VD=Array.prototype.includes,zD=Array.prototype.push,N5=globalThis.Intl.DateTimeFormat,Mx=Array.prototype.sort,U5=Math.abs,HD=Math.floor,x_=Object.create,Sx=Object.entries,WD=Set,GD=Reflect.ownKeys,Bc=Set.prototype.add,JD=Set.prototype.values,js={};class ma{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=Ja(t);if(!Dh(n))throw new RangeError(`invalid calendar identifier ${n}`);mh(this),so(this,Js,Cl(n))}get id(){if(!ea(this))throw new TypeError("invalid receiver");return $e(this,Js)}dateFromFields(t,n){if(!ea(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("invalid fields");const i=Ao(n),u=$e(this,Js);return js[u].dateFromFields(t,i,u)}yearMonthFromFields(t,n){if(!ea(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("invalid fields");const i=Ao(n),u=$e(this,Js);return js[u].yearMonthFromFields(t,i,u)}monthDayFromFields(t,n){if(!ea(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("invalid fields");const i=Ao(n),u=$e(this,Js);return js[u].monthDayFromFields(t,i,u)}fields(t){if(!ea(this))throw new TypeError("invalid receiver");const n=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const u of t){if("string"!=typeof u)throw new TypeError("invalid fields");if(!i.has(u))throw new RangeError(`invalid field name ${u}`);i.delete(u),zD.call(n,u)}return js[$e(this,Js)].fields(n)}mergeFields(t,n){if(!ea(this))throw new TypeError("invalid receiver");const i=Tm(t),u=x_(null);gp(u,i,[],[void 0]);const h=Tm(n),l=x_(null);gp(l,h,[],[void 0]);const f=GD(l),X=js[$e(this,Js)].fieldKeysToIgnore(f),W=x_(null),k=GD(u);for(const re of k){let Oe;Oe=mi(VD,X,[re])?l[re]:u[re],void 0!==Oe&&(W[re]=Oe)}return gp(W,l,[]),W}dateAdd(t,n,i){if(!ea(this))throw new TypeError("invalid receiver");const u=ss(t),h=Y0(n),l=Ka(Ao(i)),{days:f}=mu($e(h,td),$e(h,Sd),$e(h,Jd),$e(h,Td),$e(h,Ad),$e(h,Dd),$e(h,Ic),"day"),X=$e(this,Js);return js[X].dateAdd(u,$e(h,mc),$e(h,Dc),$e(h,ll),f,l,X)}dateUntil(t,n,i){if(!ea(this))throw new TypeError("invalid receiver");const u=ss(t),h=ss(n);let l=ul(Ao(i),"largestUnit","date","auto");"auto"===l&&(l="day");const{years:f,months:X,weeks:W,days:k}=js[$e(this,Js)].dateUntil(u,h,l);return new(Rr("%Temporal.Duration%"))(f,X,W,k,0,0,0,0,0,0)}year(t){let n=t;if(!ea(this))throw new TypeError("invalid receiver");return Go(n)||(n=ss(n)),js[$e(this,Js)].year(n)}month(t){let n=t;if(!ea(this))throw new TypeError("invalid receiver");if(wc(n))throw new TypeError("use monthCode on PlainMonthDay instead");return Go(n)||(n=ss(n)),js[$e(this,Js)].month(n)}monthCode(t){let n=t;if(!ea(this))throw new TypeError("invalid receiver");return Go(n)||wc(n)||(n=ss(n)),js[$e(this,Js)].monthCode(n)}day(t){let n=t;if(!ea(this))throw new TypeError("invalid receiver");return wc(n)||(n=ss(n)),js[$e(this,Js)].day(n)}era(t){let n=t;if(!ea(this))throw new TypeError("invalid receiver");return Go(n)||(n=ss(n)),js[$e(this,Js)].era(n)}eraYear(t){let n=t;if(!ea(this))throw new TypeError("invalid receiver");return Go(n)||(n=ss(n)),js[$e(this,Js)].eraYear(n)}dayOfWeek(t){if(!ea(this))throw new TypeError("invalid receiver");const n=ss(t);return js[$e(this,Js)].dayOfWeek(n)}dayOfYear(t){if(!ea(this))throw new TypeError("invalid receiver");const n=ss(t);return js[$e(this,Js)].dayOfYear(n)}weekOfYear(t){if(!ea(this))throw new TypeError("invalid receiver");const n=ss(t);return js[$e(this,Js)].weekOfYear(n)}yearOfWeek(t){if(!ea(this))throw new TypeError("invalid receiver");const n=ss(t);return js[$e(this,Js)].yearOfWeek(n)}daysInWeek(t){if(!ea(this))throw new TypeError("invalid receiver");const n=ss(t);return js[$e(this,Js)].daysInWeek(n)}daysInMonth(t){let n=t;if(!ea(this))throw new TypeError("invalid receiver");return Go(n)||(n=ss(n)),js[$e(this,Js)].daysInMonth(n)}daysInYear(t){let n=t;if(!ea(this))throw new TypeError("invalid receiver");return Go(n)||(n=ss(n)),js[$e(this,Js)].daysInYear(n)}monthsInYear(t){let n=t;if(!ea(this))throw new TypeError("invalid receiver");return Go(n)||(n=ss(n)),js[$e(this,Js)].monthsInYear(n)}inLeapYear(t){let n=t;if(!ea(this))throw new TypeError("invalid receiver");return Go(n)||(n=ss(n)),js[$e(this,Js)].inLeapYear(n)}toString(){if(!ea(this))throw new TypeError("invalid receiver");return $e(this,Js)}toJSON(){if(!ea(this))throw new TypeError("invalid receiver");return $e(this,Js)}static from(t){return ry(Dl(t))}}function Tx(r){if(!r.startsWith("M"))throw new RangeError(`Invalid month code: ${r}.  Month codes must start with M.`);const t=+r.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${r}`);return t}function kh(r,t=!1){return`M${r.toString().padStart(2,"0")}${t?"L":""}`}function M_(r,t,n=12){let{month:i,monthCode:u}=r;if(void 0===u){if(void 0===i)throw new TypeError("Either month or monthCode are required");"reject"===t&&Rc(i,1,n),"constrain"===t&&(i=Cd(i,1,n)),u=kh(i)}else{const h=Tx(u);if(void 0!==i&&i!==h)throw new RangeError(`monthCode ${u} and month ${i} must match if both are present`);if(u!==kh(h))throw new RangeError(`Invalid month code: ${u}`);if(i=h,i<1||i>n)throw new RangeError(`Invalid monthCode: ${u}`)}return{...r,month:i,monthCode:u}}Ef(ma,"Temporal.Calendar"),ha("Temporal.Calendar.from",ma.from),ha("Temporal.Calendar.prototype.dateAdd",ma.prototype.dateAdd),ha("Temporal.Calendar.prototype.dateFromFields",ma.prototype.dateFromFields),ha("Temporal.Calendar.prototype.dateUntil",ma.prototype.dateUntil),ha("Temporal.Calendar.prototype.day",ma.prototype.day),ha("Temporal.Calendar.prototype.dayOfWeek",ma.prototype.dayOfWeek),ha("Temporal.Calendar.prototype.dayOfYear",ma.prototype.dayOfYear),ha("Temporal.Calendar.prototype.daysInMonth",ma.prototype.daysInMonth),ha("Temporal.Calendar.prototype.daysInWeek",ma.prototype.daysInWeek),ha("Temporal.Calendar.prototype.daysInYear",ma.prototype.daysInYear),ha("Temporal.Calendar.prototype.era",ma.prototype.era),ha("Temporal.Calendar.prototype.eraYear",ma.prototype.eraYear),ha("Temporal.Calendar.prototype.fields",ma.prototype.fields),ha("Temporal.Calendar.prototype.inLeapYear",ma.prototype.inLeapYear),ha("Temporal.Calendar.prototype.mergeFields",ma.prototype.mergeFields),ha("Temporal.Calendar.prototype.month",ma.prototype.month),ha("Temporal.Calendar.prototype.monthCode",ma.prototype.monthCode),ha("Temporal.Calendar.prototype.monthDayFromFields",ma.prototype.monthDayFromFields),ha("Temporal.Calendar.prototype.monthsInYear",ma.prototype.monthsInYear),ha("Temporal.Calendar.prototype.weekOfYear",ma.prototype.weekOfYear),ha("Temporal.Calendar.prototype.year",ma.prototype.year),ha("Temporal.Calendar.prototype.yearMonthFromFields",ma.prototype.yearMonthFromFields),ha("Temporal.Calendar.prototype.yearOfWeek",ma.prototype.yearOfWeek),js.iso8601={dateFromFields(r,t,n){let i=yo(r,["day","month","monthCode","year"],["year","day"]);const u=Ka(t);i=M_(i);let{year:h,month:l,day:f}=i;return({year:h,month:l,day:f}=qw(h,l,f,u)),fl(h,l,f,n)},yearMonthFromFields(r,t,n){let i=yo(r,["month","monthCode","year"],["year"]);const u=Ka(t);i=M_(i);let{year:h,month:l}=i;return({year:h,month:l}=function(X,W,k){let re=X,Oe=W;switch(k){case"reject":Vu(re,Oe,1);break;case"constrain":({year:re,month:Oe}=dx(re,Oe))}return{year:re,month:Oe}}(h,l,u)),Af(h,l,n,1)},monthDayFromFields(r,t,n){let i=yo(r,["day","month","monthCode","year"],["day"]);const u=Ka(t);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");const h=void 0===i.monthCode;i=M_(i);let{month:l,day:f,year:X}=i;return({month:l,day:f}=qw(h?X:1972,l,f,u)),Tf(l,f,n,1972)},fields:r=>r,fieldKeysToIgnore(r){const t=new WD;for(let n=0;n<r.length;n++){const i=r[n];mi(Bc,t,[i]),"month"===i?mi(Bc,t,["monthCode"]):"monthCode"===i&&mi(Bc,t,["month"])}return[...mi(JD,t,[])]},dateAdd(r,t,n,i,u,h,l){let f=$e(r,ei),X=$e(r,oi),W=$e(r,si);return({year:f,month:X,day:W}=Ep(f,X,W,t,n,i,u,h)),fl(f,X,W,l)},dateUntil:(r,t,n)=>CD($e(r,ei),$e(r,oi),$e(r,si),$e(t,ei),$e(t,oi),$e(t,si),n),year:r=>$e(r,ei),era(){},eraYear(){},month:r=>$e(r,oi),monthCode:r=>kh($e(r,oi)),day:r=>$e(r,si),dayOfWeek:r=>d_($e(r,ei),$e(r,oi),$e(r,si)),dayOfYear:r=>vv($e(r,ei),$e(r,oi),$e(r,si)),weekOfYear:r=>AD($e(r,ei),$e(r,oi),$e(r,si)).week,yearOfWeek:r=>AD($e(r,ei),$e(r,oi),$e(r,si)).year,daysInWeek:()=>7,daysInMonth:r=>Eh($e(r,ei),$e(r,oi)),daysInYear(r){let t=r;return yc(t,ei)||(t=ss(t)),$u($e(t,ei))?366:365},monthsInYear:()=>12,inLeapYear(r){let t=r;return yc(t,ei)||(t=ss(t)),$u($e(t,ei))}};class na{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==t){let n=0;for(const i of t.map.entries()){if(++n>na.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(t){const n=this.map.get(t);return n&&(this.hits++,this.report()),this.calls++,n}set(t,n){this.map.set(t,n),this.misses++,this.report()}report(){}setObject(t){if(na.objectMap.get(t))throw new RangeError("object already cached");na.objectMap.set(t,this),this.report()}static getCacheForObject(t){let n=na.objectMap.get(t);return n||(n=new na,na.objectMap.set(t,n)),n}}function XD({isoYear:r,isoMonth:t,isoDay:n}){return`${wh(r)}-${Os(t)}-${Os(n)}T00:00Z`}function Ax(r,t){return{years:r.year-t.year,months:r.month-t.month,days:r.day-t.day}}na.objectMap=new WeakMap,na.MAX_CACHE_ENTRIES=1e3;class vy{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new N5(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,n){const{year:i,month:u,day:h}=t,l=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:u,isoDay:h,id:this.id}),f=n.get(l);if(f)return f;const X=this.getFormatter();let W,k;try{k=XD({isoYear:i,isoMonth:u,isoDay:h}),W=X.formatToParts(new Date(k))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:u,isoDay:h})}`)}const re={};for(let{type:je,value:Ke}of W){if("year"===je&&(re.eraYear=+Ke),"relatedYear"===je&&(re.eraYear=+Ke),"month"===je){const tt=/^([0-9]*)(.*?)$/.exec(Ke);if(!tt||3!=tt.length||!tt[1]&&!tt[2])throw new RangeError(`Unexpected month: ${Ke}`);if(re.month=tt[1]?+tt[1]:1,re.month<1)throw new RangeError(`Invalid month ${Ke} from ${k}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(re.month>13)throw new RangeError(`Invalid month ${Ke} from ${k}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);tt[2]&&(re.monthExtra=tt[2])}"day"===je&&(re.day=+Ke),this.hasEra&&"era"===je&&null!=Ke&&""!==Ke&&(Ke=Ke.split(" (")[0],re.era=Ke.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===re.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:je,eraYear:Ke}=this.reviseIntlEra(re,t);re.era=je,re.eraYear=Ke}this.checkIcuBugs&&this.checkIcuBugs(t);const Oe=this.adjustCalendarDate(re,n,"constrain",!0);if(void 0===Oe.year)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(void 0===Oe.month)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(void 0===Oe.day)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return n.set(l,Oe),["constrain","reject"].forEach(je=>{const Ke=JSON.stringify({func:"calendarToIsoDate",year:Oe.year,month:Oe.month,day:Oe.day,overflow:je,id:this.id});n.set(Ke,t)}),Oe}validateCalendarDate(t){const{era:n,month:i,year:u,day:h,eraYear:l,monthCode:f,monthExtra:X}=t;if(void 0!==X)throw new RangeError("Unexpected `monthExtra` value");if(void 0===u&&void 0===l)throw new TypeError("year or eraYear is required");if(void 0===i&&void 0===f)throw new TypeError("month or monthCode is required");if(void 0===h)throw new RangeError("Missing day");if(void 0!==f){if("string"!=typeof f)throw new RangeError("monthCode must be a string, not "+typeof f);if(!/^M([01]?\d)(L?)$/.test(f))throw new RangeError(`Invalid monthCode: ${f}`)}if(this.constantEra){if(void 0!==n&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(void 0!==l&&void 0!==u&&l!==u)throw new RangeError(`eraYear ${l} does not match year ${u}`)}if(this.hasEra&&void 0===t.era!=(void 0===t.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,n,i="constrain",u=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let h=t;if(this.validateCalendarDate(h),this.constantEra){const{year:W,eraYear:k}=h;h={...h,era:this.constantEra,year:void 0!==W?W:k,eraYear:void 0!==k?k:W}}const l=this.monthsInYear(h,n);let{month:f,monthCode:X}=h;return({month:f,monthCode:X}=M_(h,i,l)),{...h,month:f,monthCode:X}}regulateMonthDayNaive(t,n,i){const u=this.monthsInYear(t,i);let{month:h,day:l}=t;return"reject"===n?(Rc(h,1,u),Rc(l,1,this.maximumMonthLength(t))):(h=Cd(h,1,u),l=Cd(l,1,this.maximumMonthLength({...t,month:h}))),{...t,month:h,day:l}}calendarToIsoDate(t,n="constrain",i){const u=t;let h=this.adjustCalendarDate(t,i,n,!1);h=this.regulateMonthDayNaive(h,n,i);const{year:l,month:f,day:X}=h,W=JSON.stringify({func:"calendarToIsoDate",year:l,month:f,day:X,overflow:n,id:this.id});let k,re=i.get(W);if(re||void 0!==u.year&&void 0!==u.month&&void 0!==u.day&&(u.year!==h.year||u.month!==h.month||u.day!==h.day)&&(k=JSON.stringify({func:"calendarToIsoDate",year:u.year,month:u.month,day:u.day,overflow:n,id:this.id}),re=i.get(k),re))return re;let Oe=this.estimateIsoDate({year:l,month:f,day:X});const je=_t=>{let xt=this.addDaysIso(Oe,_t);if(h.day>this.minimumMonthLength(h)){let Nt=this.isoToCalendarDate(xt,i);for(;Nt.month!==f||Nt.year!==l;){if("reject"===n)throw new RangeError(`day ${X} does not exist in month ${f} of year ${l}`);xt=this.addDaysIso(xt,-1),Nt=this.isoToCalendarDate(xt,i)}}return xt};let Ke=0,tt=this.isoToCalendarDate(Oe,i),bt=Ax(h,tt);0===bt.years&&0===bt.months&&0===bt.days||(Oe=this.addDaysIso(Oe,365*bt.years+30*bt.months+bt.days),tt=this.isoToCalendarDate(Oe,i),bt=Ax(h,tt),0===bt.years&&0===bt.months?Oe=je(bt.days):Ke=this.compareCalendarDates(h,tt));let kt=8;for(;Ke;){Oe=this.addDaysIso(Oe,Ke*kt);const _t=tt;tt=this.isoToCalendarDate(Oe,i);const xt=Ke;if(Ke=this.compareCalendarDates(h,tt),Ke)if(bt=Ax(h,tt),0===bt.years&&0===bt.months)Oe=je(bt.days),Ke=0;else if(xt&&Ke!==xt)if(kt>1)kt/=2;else{if("reject"===n)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...u})}`);this.compareCalendarDates(tt,_t)>0&&(Oe=this.addDaysIso(Oe,-1)),Ke=0}}if(i.set(W,Oe),k&&i.set(k,Oe),void 0===h.year||void 0===h.month||void 0===h.day||void 0===h.monthCode||this.hasEra&&(void 0===h.era||void 0===h.eraYear))throw new RangeError("Unexpected missing property");return Oe}temporalToCalendarDate(t,n){const i={year:$e(t,ei),month:$e(t,oi),day:$e(t,si)};return this.isoToCalendarDate(i,n)}compareCalendarDates(t,n){const i=yo(t,["day","month","year"],["day","month","year"]),u=yo(n,["day","month","year"],["day","month","year"]);return i.year!==u.year?Bf(i.year-u.year):i.month!==u.month?Bf(i.month-u.month):i.day!==u.day?Bf(i.day-u.day):0}regulateDate(t,n="constrain",i){const u=this.calendarToIsoDate(t,n,i);return this.isoToCalendarDate(u,i)}addDaysIso(t,n){return Ep(t.year,t.month,t.day,0,0,0,n,"constrain")}addDaysCalendar(t,n,i){const u=this.calendarToIsoDate(t,"constrain",i),h=this.addDaysIso(u,n);return this.isoToCalendarDate(h,i)}addMonthsCalendar(t,n,i,u){let h=t;const{day:l}=h;for(let f=0,X=U5(n);f<X;f++){const{month:W}=h,k=h,re=n<0?-Math.max(l,this.daysInPreviousMonth(h,u)):this.daysInMonth(h,u),Oe=this.calendarToIsoDate(h,"constrain",u);let je=this.addDaysIso(Oe,re);if(h=this.isoToCalendarDate(je,u),n>0){const Ke=this.monthsInYear(k,u);for(;h.month-1!=W%Ke;)je=this.addDaysIso(je,-1),h=this.isoToCalendarDate(je,u)}h.day!==l&&(h=this.regulateDate({...h,day:l},"constrain",u))}if("reject"===i&&h.day!==l)throw new RangeError(`Day ${l} does not exist in resulting calendar month`);return h}addCalendar(t,{years:n=0,months:i=0,weeks:u=0,days:h=0},l,f){const{year:X,day:W,monthCode:k}=t,re=this.adjustCalendarDate({year:X+n,monthCode:k,day:W},f),Oe=this.addMonthsCalendar(re,i,l,f);return this.addDaysCalendar(Oe,h+7*u,f)}untilCalendar(t,n,i,u){let h=0,l=0,f=0,X=0;switch(i){case"day":h=this.calendarDaysUntil(t,n,u);break;case"week":{const W=this.calendarDaysUntil(t,n,u);h=W%7,l=(W-h)/7;break}case"month":case"year":{const W=this.compareCalendarDates(n,t);if(!W)return{years:0,months:0,weeks:0,days:0};const k=n.year-t.year;if("year"===i&&k){let Ke=0;n.monthCode>t.monthCode&&(Ke=1),n.monthCode<t.monthCode&&(Ke=-1),Ke||(Ke=Math.sign(n.day-t.day)),X=Ke*W<0?k-W:k}let Oe,je=X?this.addCalendar(t,{years:X},"constrain",u):t;do{f+=W,Oe=je,je=this.addMonthsCalendar(Oe,W,"constrain",u),je.day!==t.day&&(je=this.regulateDate({...je,day:t.day},"constrain",u))}while(this.compareCalendarDates(n,je)*W>=0);f-=W,h=this.calendarDaysUntil(Oe,n,u);break}}return{years:X,months:f,weeks:l,days:h}}daysInMonth(t,n){const{day:i}=t,u=this.maximumMonthLength(t),h=this.minimumMonthLength(t);if(h===u)return h;const l=i<=u-h?u:h,f=this.calendarToIsoDate(t,"constrain",n),X=this.addDaysIso(f,l),W=this.isoToCalendarDate(X,n),k=this.addDaysIso(X,-W.day);return this.isoToCalendarDate(k,n).day}daysInPreviousMonth(t,n){const{day:i,month:u,year:h}=t;let l={year:u>1?h:h-1,month:u,day:1};const f=u>1?u-1:this.monthsInYear(l,n);l={...l,month:f};const X=this.minimumMonthLength(l),W=this.maximumMonthLength(l);if(X===W)return W;const k=this.calendarToIsoDate(t,"constrain",n),re=this.addDaysIso(k,-i);return this.isoToCalendarDate(re,n).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,n,i){const u=this.calendarToIsoDate(t,"constrain",i),h=this.calendarToIsoDate(n,"constrain",i);return this.isoDaysUntil(u,h)}isoDaysUntil(t,n){return CD(t.year,t.month,t.day,n.year,n.month,n.day,"day").days}monthDayFromFields(t,n,i){let u,h,l,f,X,{monthCode:W,day:k}=t;if(void 0===W){let{year:je,era:Ke,eraYear:tt}=t;if(void 0===je&&(void 0===Ke||void 0===tt))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:W,day:k}=this.isoToCalendarDate(this.calendarToIsoDate(t,n,i),i))}const re=this.isoToCalendarDate({year:1972,month:12,day:31},i),Oe=re.monthCode>W||re.monthCode===W&&re.day>=k?re.year:re.year-1;for(let je=0;je<100;je++){const Ke=this.adjustCalendarDate({day:k,monthCode:W,year:Oe-je},i),tt=this.calendarToIsoDate(Ke,"constrain",i),bt=this.isoToCalendarDate(tt,i);if(({year:u,month:h,day:l}=tt),bt.monthCode===W&&bt.day===k)return{month:h,day:l,year:u};"constrain"===n&&(void 0===f||bt.monthCode===f.monthCode&&bt.day>f.day)&&(f=bt,X=tt)}if("constrain"===n&&void 0!==X)return X;throw new RangeError(`No recent ${this.id} year with monthCode ${W} and day ${k}`)}}class YD extends vy{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:n}=t;return(7*n+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,n){const{month:i,year:u}=t,h=this.getMonthCode(u,i),l=Sx(this.months).find(X=>X[1].monthCode===h);if(void 0===l)throw new RangeError(`unmatched Hebrew month: ${i}`);const f=l[1].days;return"number"==typeof f?f:f[n]}estimateIsoDate(t){const{year:n}=t;return{year:n-3760,month:1,day:1}}getMonthCode(t,n){return this.inLeapYear({year:t})?6===n?kh(5,!0):kh(n<6?n:n-1):kh(n)}adjustCalendarDate(t,n,i="constrain",u=!1){let{year:h,eraYear:l,month:f,monthCode:X,day:W,monthExtra:k}=t;if(void 0===h&&void 0!==l&&(h=l),void 0===l&&void 0!==h&&(l=h),u){if(k){const re=this.months[k];if(!re)throw new RangeError(`Unrecognized month from formatToParts: ${k}`);f=this.inLeapYear({year:h})?re.leap:re.regular}return X=this.getMonthCode(h,f),{year:h,month:f,day:W,era:void 0,eraYear:l,monthCode:X}}if(this.validateCalendarDate(t),void 0===f)if(X.endsWith("L")){if("M05L"!==X)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${X}`);if(f=6,!this.inLeapYear({year:h})){if("reject"===i)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${h} which is not a leap year`);f=6,X="M06"}}else{f=Tx(X),this.inLeapYear({year:h})&&f>=6&&f++;const re=this.monthsInYear({year:h});if(f<1||f>re)throw new RangeError(`Invalid monthCode: ${X}`)}else if("reject"===i?(Rc(f,1,this.monthsInYear({year:h})),Rc(W,1,this.maximumMonthLength({year:h,month:f}))):(f=Cd(f,1,this.monthsInYear({year:h})),W=Cd(W,1,this.maximumMonthLength({year:h,month:f}))),void 0===X)X=this.getMonthCode(h,f);else if(this.getMonthCode(h,f)!==X)throw new RangeError(`monthCode ${X} doesn't correspond to month ${f} in Hebrew year ${h}`);return{...t,day:W,month:f,monthCode:X,year:h,eraYear:l}}}class jm extends vy{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,n){return 30===this.daysInMonth({year:t.year,month:12,day:1},n)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:HD(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class Dx extends jm{constructor(){super(...arguments),this.id="islamic"}}class L5 extends jm{constructor(){super(...arguments),this.id="islamic-umalqura"}}class ZD extends jm{constructor(){super(...arguments),this.id="islamic-tbla"}}class K5 extends jm{constructor(){super(...arguments),this.id="islamic-civil"}}class F5 extends jm{constructor(){super(...arguments),this.id="islamic-rgsa"}}class qD extends jm{constructor(){super(...arguments),this.id="islamicc"}}class Ix extends vy{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,n){return Dx.prototype.inLeapYear.call(this,t,n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 12===n?29:n<=6?31:30}maximumMonthLength(t){const{month:n}=t;return 12===n?30:n<=6?31:30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:n+621,month:1,day:1}}}class Cx extends vy{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(t){return S_(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:n}=t;let i=this.months[n];if(void 0===i)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(t)&&i.leap&&(i=i.leap),i}estimateIsoDate(t){const n=this.adjustCalendarDate(t),i=this.getMonthInfo(n);return Ep(n.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function S_(r){return r%4==0&&(r%100!=0||r%400==0)}class Sv extends vy{constructor(t,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:i,anchorEra:u}=function(l){let f,X=l;if(0===X.length)throw new RangeError("Invalid era data: eras are required");if(1===X.length&&X[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===X.length&&!X[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(X.filter(k=>null!=k.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");X.forEach(k=>{if(k.isAnchor||!k.anchorEpoch&&!k.reverseOf){if(f)throw new RangeError("Invalid era data: cannot have multiple anchor eras");f=k,k.anchorEpoch={year:k.hasYearZero?0:1}}else if(!k.name)throw new RangeError("If era name is blank, it must be the anchor era")}),X=X.filter(k=>k.name),X.forEach(k=>{const{reverseOf:re}=k;if(re){const Oe=X.find(je=>je.name===re);if(void 0===Oe)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${re}`);k.reverseOf=Oe,k.anchorEpoch=Oe.anchorEpoch,k.isoEpoch=Oe.isoEpoch}void 0===k.anchorEpoch.month&&(k.anchorEpoch.month=1),void 0===k.anchorEpoch.day&&(k.anchorEpoch.day=1)}),Mx.call(X,(k,re)=>{if(k.reverseOf)return 1;if(re.reverseOf)return-1;if(!k.isoEpoch||!re.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return re.isoEpoch.year-k.isoEpoch.year});const W=X[X.length-1].reverseOf;if(W&&W!==X[X.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return X.forEach((k,re)=>{k.genericName="era"+(X.length-1-re)}),{eras:X,anchorEra:f||X[0]}}(n);this.anchorEra=u,this.eras=i}inLeapYear(t){const{year:n}=this.estimateIsoDate({month:1,day:1,year:t.year});return S_(n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 2===n?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const n=(f,X)=>{const W=t[f];if(null!=W&&W!=X)throw new RangeError(`Input ${f} ${W} doesn't match calculated value ${X}`)},i=f=>{let X;const W={...t,year:f},k=this.eras.find((re,Oe)=>{if(Oe===this.eras.length-1){if(re.reverseOf){if(f>0)throw new RangeError(`Signed year ${f} is invalid for era ${re.name}`);return X=re.anchorEpoch.year-f,!0}return X=f-re.anchorEpoch.year+(re.hasYearZero?0:1),!0}return this.compareCalendarDates(W,re.anchorEpoch)>=0&&(X=f-re.anchorEpoch.year+(re.hasYearZero?0:1),!0)});if(!k)throw new RangeError(`Year ${f} was not matched by any era`);return{eraYear:X,era:k.name}};let{year:u,eraYear:h,era:l}=t;if(null!=u)({eraYear:h,era:l}=i(u)),n("era",l),n("eraYear",h);else{if(null==h)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const f=void 0===l?void 0:this.eras.find(X=>X.name===l||X.genericName===l);if(!f)throw new RangeError(`Era ${l} (ISO year ${h}) was not matched by any era`);if(h<1&&f.reverseOf)throw new RangeError(`Years in ${l} era must be positive, not ${u}`);u=f.reverseOf?f.anchorEpoch.year-h:h+f.anchorEpoch.year-(f.hasYearZero?0:1),n("year",u),({eraYear:h,era:l}=i(u))}}return{...t,year:u,eraYear:h,era:l}}adjustCalendarDate(t,n,i="constrain"){let u=t;const{month:h,monthCode:l}=u;return void 0===h&&(u={...u,month:Tx(l)}),this.validateCalendarDate(u),u=this.completeEraYear(u),super.adjustCalendarDate(u,n,i)}estimateIsoDate(t){const n=this.adjustCalendarDate(t),{year:i,month:u,day:h}=n,{anchorEra:l}=this;return qw(i+l.isoEpoch.year-(l.hasYearZero?0:1),u,h,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&Sh(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class Tv extends Sv{constructor(t,n){super(t,n)}inLeapYear(t){const{year:n}=t;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:n}=t;return 13===n?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class QD extends Tv{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class eI extends Tv{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class sR extends Tv{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class tI extends Sv{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class j5 extends Sv{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class nI extends Sv{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:n,eraYear:i}=t;return"bc"!==n&&"b"!==n||(n="bce"),"ad"!==n&&"a"!==n||(n="ce"),{era:n,eraYear:i}}}class rI extends Sv{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,n){const{era:i,eraYear:u}=t,{year:h}=n;return this.eras.find(l=>l.name===i)?{era:i,eraYear:u}:h<1?{era:"bce",eraYear:1-h}:{era:"ce",eraYear:h}}}class iI extends vy{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,n){const i=this.getMonthList(t.year,n);return 13===Sx(i).length}monthsInYear(t,n){return this.inLeapYear(t,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,n){if(void 0===t)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),u=n.get(i);if(u)return u;const h=this.getFormatter(),l=(bt,kt)=>{const _t=XD({isoYear:bt,isoMonth:2,isoDay:1}),xt=new Date(_t);xt.setUTCDate(kt+1);const Nt=h.formatToParts(xt),Xt=Nt.find(Ht=>"month"===Ht.type).value,qt=+Nt.find(Ht=>"day"===Ht.type).value;let un=Nt.find(Ht=>"relatedYear"===Ht.type);if(void 0===un)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return un=+un.value,{calendarMonthString:Xt,calendarDay:qt,calendarYearToVerify:un}};let f=17,{calendarMonthString:X,calendarDay:W,calendarYearToVerify:k}=l(t,f);"1"!==X&&(f+=29,({calendarMonthString:X,calendarDay:W}=l(t,f))),f-=W-5;const re={};let Oe,je,Ke=1,tt=!1;do{({calendarMonthString:X,calendarDay:W,calendarYearToVerify:k}=l(t,f)),Oe&&(re[je].daysInMonth=Oe+30-W),k!==t?tt=!0:(re[X]={monthIndex:Ke++},f+=30),Oe=W,je=X}while(!tt);return re[je].daysInMonth=Oe+30-W,n.set(i,re),re}estimateIsoDate(t){const{year:n,month:i}=t;return{year:n,month:i>=12?12:i+1,day:1}}adjustCalendarDate(t,n,i="constrain",u=!1){let{year:h,month:l,monthExtra:f,day:X,monthCode:W,eraYear:k}=t;if(u){if(h=k,f&&"bis"!==f)throw new RangeError(`Unexpected leap month suffix: ${f}`);const re=kh(l,void 0!==f),Oe=`${l}${f||""}`,je=this.getMonthList(h,n)[Oe];if(void 0===je)throw new RangeError(`Unmatched month ${Oe} in Chinese year ${h}`);return l=je.monthIndex,{year:h,month:l,day:X,era:void 0,eraYear:k,monthCode:re}}if(this.validateCalendarDate(t),void 0===h&&(h=k),void 0===k&&(k=h),void 0===l){const re=this.getMonthList(h,n);let Oe=W.replace("L","bis").slice(1);"0"===Oe[0]&&(Oe=Oe.slice(1));let je=re[Oe];if(l=je&&je.monthIndex,void 0===l&&W.endsWith("L")&&"M13L"!=W&&"constrain"===i){let Ke=W.slice(1,-1);"0"===Ke[0]&&(Ke=Ke.slice(1)),je=re[Ke],je&&(l=je.monthIndex,W=kh(Ke))}if(void 0===l)throw new RangeError(`Unmatched month ${W} in Chinese year ${h}`)}else if(void 0===W){const re=this.getMonthList(h,n),Oe=Sx(re),je=Oe.length;"reject"===i?(Rc(l,1,je),Rc(X,1,this.maximumMonthLength())):(l=Cd(l,1,je),X=Cd(X,1,this.maximumMonthLength()));const Ke=Oe.find(([,tt])=>tt.monthIndex===l);if(void 0===Ke)throw new RangeError(`Invalid month ${l} in Chinese year ${h}`);W=kh(Ke[0].replace("bis",""),-1!==Ke[0].indexOf("bis"))}else{const re=this.getMonthList(h,n);let Oe=W.replace("L","bis").slice(1);"0"===Oe[0]&&(Oe=Oe.slice(1));const je=re[Oe];if(!je)throw new RangeError(`Unmatched monthCode ${W} in Chinese year ${h}`);if(l!==je.monthIndex)throw new RangeError(`monthCode ${W} doesn't correspond to month ${l} in Chinese year ${h}`)}return{...t,year:h,eraYear:k,month:l,monthCode:W,day:X}}}class kx extends iI{constructor(){super(...arguments),this.id="chinese"}}class Px extends iI{constructor(){super(...arguments),this.id="dangi"}}class oI{constructor(t){this.helper=t}dateFromFields(t,n,i){const u=new na,h=yo(t,this.fields(["day","month","monthCode","year"]),[]),l=Ka(n),{year:f,month:X,day:W}=this.helper.calendarToIsoDate(h,l,u),k=fl(f,X,W,i);return u.setObject(k),k}yearMonthFromFields(t,n,i){const u=new na,h=yo(t,this.fields(["month","monthCode","year"]),[]),l=Ka(n),{year:f,month:X,day:W}=this.helper.calendarToIsoDate({...h,day:1},l,u),k=Af(f,X,i,W);return u.setObject(k),k}monthDayFromFields(t,n,i){const u=new na,h=yo(t,this.fields(["day","month","monthCode","year"]),[]),l=Ka(n),{year:f,month:X,day:W}=this.helper.monthDayFromFields(h,l,u),k=Tf(X,W,i,f);return u.setObject(k),k}fields(t){let n=t;return VD.call(n,"year")&&(n=[...n,"era","eraYear"]),n}fieldKeysToIgnore(t){const n=new WD;for(let i=0;i<t.length;i++){const u=t[i];switch(mi(Bc,n,[u]),u){case"era":mi(Bc,n,["eraYear"]),mi(Bc,n,["year"]);break;case"eraYear":mi(Bc,n,["era"]),mi(Bc,n,["year"]);break;case"year":mi(Bc,n,["era"]),mi(Bc,n,["eraYear"]);break;case"month":mi(Bc,n,["monthCode"]),this.helper.erasBeginMidYear&&(mi(Bc,n,["era"]),mi(Bc,n,["eraYear"]));break;case"monthCode":mi(Bc,n,["month"]),this.helper.erasBeginMidYear&&(mi(Bc,n,["era"]),mi(Bc,n,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(mi(Bc,n,["era"]),mi(Bc,n,["eraYear"]))}}return[...mi(JD,n,[])]}dateAdd(t,n,i,u,h,l,f){const X=na.getCacheForObject(t),W=this.helper.temporalToCalendarDate(t,X),k=this.helper.addCalendar(W,{years:n,months:i,weeks:u,days:h},l,X),re=this.helper.calendarToIsoDate(k,"constrain",X),{year:Oe,month:je,day:Ke}=re,tt=fl(Oe,je,Ke,f);return new na(X).setObject(tt),tt}dateUntil(t,n,i){const u=na.getCacheForObject(t),h=na.getCacheForObject(n),l=this.helper.temporalToCalendarDate(t,u),f=this.helper.temporalToCalendarDate(n,h);return this.helper.untilCalendar(l,f,i,u)}year(t){const n=na.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).year}month(t){const n=na.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).month}day(t){const n=na.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).day}era(t){if(!this.helper.hasEra)return;const n=na.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).era}eraYear(t){if(!this.helper.hasEra)return;const n=na.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).eraYear}monthCode(t){const n=na.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).monthCode}dayOfWeek(t){return js.iso8601.dayOfWeek(t)}dayOfYear(t){const n=na.getCacheForObject(t),i=this.helper.isoToCalendarDate(t,n),u=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(u,i,n)+1}weekOfYear(t){return js.iso8601.weekOfYear(t)}yearOfWeek(t){return js.iso8601.yearOfWeek(t)}daysInWeek(t){return js.iso8601.daysInWeek(t)}daysInMonth(t){const n=na.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n),u=this.helper.maximumMonthLength(i);if(u===this.helper.minimumMonthLength(i))return u;const h=this.helper.startOfCalendarMonth(i),l=this.helper.addMonthsCalendar(h,1,"constrain",n);return this.helper.calendarDaysUntil(h,l,n)}daysInYear(t){let n=t;yc(n,ei)||(n=ss(n));const i=na.getCacheForObject(n),u=this.helper.temporalToCalendarDate(n,i),h=this.helper.startOfCalendarYear(u),l=this.helper.addCalendar(h,{years:1},"constrain",i);return this.helper.calendarDaysUntil(h,l,i)}monthsInYear(t){const n=na.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n);return this.helper.monthsInYear(i,n)}inLeapYear(t){let n=t;yc(n,ei)||(n=ss(n));const i=na.getCacheForObject(n),u=this.helper.temporalToCalendarDate(n,i);return this.helper.inLeapYear(u,i)}}for(const r of[YD,Ix,sR,QD,eI,kx,Px,tI,Cx,j5,nI,rI,Dx,L5,ZD,K5,F5,qD]){const t=new r;js[t.id]=new oI(t)}class by{constructor(t,n,i,u="iso8601"){Cm(this,Wo(t),Wo(n),Wo(i),Dl(u))}get calendarId(){if(!Io(this))throw new TypeError("invalid receiver");return Fc($e(this,tr))}get era(){if(!Io(this))throw new TypeError("invalid receiver");return pv($e(this,tr),this)}get eraYear(){if(!Io(this))throw new TypeError("invalid receiver");return mv($e(this,tr),this)}get year(){if(!Io(this))throw new TypeError("invalid receiver");return fv($e(this,tr),this)}get month(){if(!Io(this))throw new TypeError("invalid receiver");return hv($e(this,tr),this)}get monthCode(){if(!Io(this))throw new TypeError("invalid receiver");return q0($e(this,tr),this)}get day(){if(!Io(this))throw new TypeError("invalid receiver");return Q0($e(this,tr),this)}get dayOfWeek(){if(!Io(this))throw new TypeError("invalid receiver");return ey($e(this,tr),this)}get dayOfYear(){if(!Io(this))throw new TypeError("invalid receiver");return Df($e(this,tr),this)}get weekOfYear(){if(!Io(this))throw new TypeError("invalid receiver");return Y2($e(this,tr),this)}get yearOfWeek(){if(!Io(this))throw new TypeError("invalid receiver");return Z2($e(this,tr),this)}get daysInWeek(){if(!Io(this))throw new TypeError("invalid receiver");return yv($e(this,tr),this)}get daysInMonth(){if(!Io(this))throw new TypeError("invalid receiver");return If($e(this,tr),this)}get daysInYear(){if(!Io(this))throw new TypeError("invalid receiver");return ty($e(this,tr),this)}get monthsInYear(){if(!Io(this))throw new TypeError("invalid receiver");return n_($e(this,tr),this)}get inLeapYear(){if(!Io(this))throw new TypeError("invalid receiver");return ny($e(this,tr),this)}with(t,n){if(!Io(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("invalid argument");W0(t);const i=Ao(n),u=$e(this,tr),h=Xs(u,["day","month","monthCode","year"]);let l=yo(this,h,[]);return l=wp(u,l,yo(t,h,"partial")),l=yo(l,h,[]),Cf(u,l,i)}withCalendar(t){if(!Io(this))throw new TypeError("invalid receiver");const n=Dl(t);return new by($e(this,ei),$e(this,oi),$e(this,si),n)}add(t,n){if(!Io(this))throw new TypeError("invalid receiver");const i=Y0(t),u=Ao(n);return Pc($e(this,tr),this,i,u)}subtract(t,n){if(!Io(this))throw new TypeError("invalid receiver");const i=ID(Y0(t)),u=Ao(n);return Pc($e(this,tr),this,i,u)}until(t,n){if(!Io(this))throw new TypeError("invalid receiver");return m_("until",this,t,n)}since(t,n){if(!Io(this))throw new TypeError("invalid receiver");return m_("since",this,t,n)}equals(t){if(!Io(this))throw new TypeError("invalid receiver");const n=ss(t);for(const i of[ei,oi,si])if($e(this,i)!==$e(n,i))return!1;return iy($e(this,tr),$e(n,tr))}toString(t){if(!Io(this))throw new TypeError("invalid receiver");return nx(this,cv(Ao(t)))}toJSON(){if(!Io(this))throw new TypeError("invalid receiver");return nx(this)}toLocaleString(t,n){if(!Io(this))throw new TypeError("invalid receiver");return new Nf(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!Io(this))throw new TypeError("invalid receiver");const n=$e(this,ei),i=$e(this,oi),u=$e(this,si),h=$e(this,tr);if(void 0===t)return kc(n,i,u,0,0,0,0,0,0,h);const l=Vl(t);return kc(n,i,u,$e(l,eo),$e(l,to),$e(l,io),$e(l,oo),$e(l,uo),$e(l,fo),h)}toZonedDateTime(t){if(!Io(this))throw new TypeError("invalid receiver");let n,i;if(xs(t))if(Al(t))n=t;else{const Ke=t.timeZone;void 0===Ke?n=jc(t):(n=jc(Ke),i=t.plainTime)}else n=jc(t);const u=$e(this,ei),h=$e(this,oi),l=$e(this,si),f=$e(this,tr);let X=0,W=0,k=0,re=0,Oe=0,je=0;return void 0!==i&&(i=Vl(i),X=$e(i,eo),W=$e(i,to),k=$e(i,io),re=$e(i,oo),Oe=$e(i,uo),je=$e(i,fo)),Fa($e(id(n,kc(u,h,l,X,W,k,re,Oe,je,f),"compatible"),Di),n,f)}toPlainYearMonth(){if(!Io(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return Bm(t,yo(this,Xs(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Io(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return oy(t,yo(this,Xs(t,["day","monthCode"]),[]))}getISOFields(){if(!Io(this))throw new TypeError("invalid receiver");return{calendar:$e(this,tr),isoDay:$e(this,si),isoMonth:$e(this,oi),isoYear:$e(this,ei)}}getCalendar(){if(!Io(this))throw new TypeError("invalid receiver");return ry($e(this,tr))}static from(t,n){const i=Ao(n);return Io(t)?(Ka(i),fl($e(t,ei),$e(t,oi),$e(t,si),$e(t,tr))):ss(t,i)}static compare(t,n){const i=ss(t),u=ss(n);return Sh($e(i,ei),$e(i,oi),$e(i,si),$e(u,ei),$e(u,oi),$e(u,si))}}Ef(by,"Temporal.PlainDate");class wy{constructor(t,n,i,u=0,h=0,l=0,f=0,X=0,W=0,k="iso8601"){km(this,Wo(t),Wo(n),Wo(i),void 0===u?0:Wo(u),void 0===h?0:Wo(h),void 0===l?0:Wo(l),void 0===f?0:Wo(f),void 0===X?0:Wo(X),void 0===W?0:Wo(W),Dl(k))}get calendarId(){if(!Ni(this))throw new TypeError("invalid receiver");return Fc($e(this,tr))}get year(){if(!Ni(this))throw new TypeError("invalid receiver");return fv($e(this,tr),this)}get month(){if(!Ni(this))throw new TypeError("invalid receiver");return hv($e(this,tr),this)}get monthCode(){if(!Ni(this))throw new TypeError("invalid receiver");return q0($e(this,tr),this)}get day(){if(!Ni(this))throw new TypeError("invalid receiver");return Q0($e(this,tr),this)}get hour(){if(!Ni(this))throw new TypeError("invalid receiver");return $e(this,eo)}get minute(){if(!Ni(this))throw new TypeError("invalid receiver");return $e(this,to)}get second(){if(!Ni(this))throw new TypeError("invalid receiver");return $e(this,io)}get millisecond(){if(!Ni(this))throw new TypeError("invalid receiver");return $e(this,oo)}get microsecond(){if(!Ni(this))throw new TypeError("invalid receiver");return $e(this,uo)}get nanosecond(){if(!Ni(this))throw new TypeError("invalid receiver");return $e(this,fo)}get era(){if(!Ni(this))throw new TypeError("invalid receiver");return pv($e(this,tr),this)}get eraYear(){if(!Ni(this))throw new TypeError("invalid receiver");return mv($e(this,tr),this)}get dayOfWeek(){if(!Ni(this))throw new TypeError("invalid receiver");return ey($e(this,tr),this)}get dayOfYear(){if(!Ni(this))throw new TypeError("invalid receiver");return Df($e(this,tr),this)}get weekOfYear(){if(!Ni(this))throw new TypeError("invalid receiver");return Y2($e(this,tr),this)}get yearOfWeek(){if(!Ni(this))throw new TypeError("invalid receiver");return Z2($e(this,tr),this)}get daysInWeek(){if(!Ni(this))throw new TypeError("invalid receiver");return yv($e(this,tr),this)}get daysInYear(){if(!Ni(this))throw new TypeError("invalid receiver");return ty($e(this,tr),this)}get daysInMonth(){if(!Ni(this))throw new TypeError("invalid receiver");return If($e(this,tr),this)}get monthsInYear(){if(!Ni(this))throw new TypeError("invalid receiver");return n_($e(this,tr),this)}get inLeapYear(){if(!Ni(this))throw new TypeError("invalid receiver");return ny($e(this,tr),this)}with(t,n){if(!Ni(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("invalid argument");W0(t);const i=Ao(n),u=$e(this,tr),h=Xs(u,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let l=yo(this,h,[]);l=wp(u,l,yo(t,h,"partial")),l=yo(l,h,[]);const{year:f,month:X,day:W,hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:tt}=uv(u,l,i);return kc(f,X,W,k,re,Oe,je,Ke,tt,u)}withPlainTime(t){if(!Ni(this))throw new TypeError("invalid receiver");const n=$e(this,ei),i=$e(this,oi),u=$e(this,si),h=$e(this,tr);if(void 0===t)return kc(n,i,u,0,0,0,0,0,0,h);const l=Vl(t);return kc(n,i,u,$e(l,eo),$e(l,to),$e(l,io),$e(l,oo),$e(l,uo),$e(l,fo),h)}withPlainDate(t){if(!Ni(this))throw new TypeError("invalid receiver");const n=ss(t),i=$e(n,ei),u=$e(n,oi),h=$e(n,si);let l=$e(n,tr);const f=$e(this,eo),X=$e(this,to),W=$e(this,io),k=$e(this,oo),re=$e(this,uo),Oe=$e(this,fo);return l=Oc($e(this,tr),l),kc(i,u,h,f,X,W,k,re,Oe,l)}withCalendar(t){if(!Ni(this))throw new TypeError("invalid receiver");const n=Dl(t);return new wy($e(this,ei),$e(this,oi),$e(this,si),$e(this,eo),$e(this,to),$e(this,io),$e(this,oo),$e(this,uo),$e(this,fo),n)}add(t,n){if(!Ni(this))throw new TypeError("invalid receiver");return BD("add",this,t,n)}subtract(t,n){if(!Ni(this))throw new TypeError("invalid receiver");return BD("subtract",this,t,n)}until(t,n){if(!Ni(this))throw new TypeError("invalid receiver");return PD("until",this,t,n)}since(t,n){if(!Ni(this))throw new TypeError("invalid receiver");return PD("since",this,t,n)}round(t){if(!Ni(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?$c("smallestUnit",t):Ao(t),i=J0(n),u=Nu(n,"halfExpand"),h=ul(n,"smallestUnit","time",Dm,["day"]),l={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h];X0(i,l,1===l);let f=$e(this,ei),X=$e(this,oi),W=$e(this,si),k=$e(this,eo),re=$e(this,to),Oe=$e(this,io),je=$e(this,oo),Ke=$e(this,uo),tt=$e(this,fo);return({year:f,month:X,day:W,hour:k,minute:re,second:Oe,millisecond:je,microsecond:Ke,nanosecond:tt}=yx(f,X,W,k,re,Oe,je,Ke,tt,i,h,u)),kc(f,X,W,k,re,Oe,je,Ke,tt,$e(this,tr))}equals(t){if(!Ni(this))throw new TypeError("invalid receiver");const n=bp(t);for(const i of[ei,oi,si,eo,to,io,oo,uo,fo])if($e(this,i)!==$e(n,i))return!1;return iy($e(this,tr),$e(n,tr))}toString(t){if(!Ni(this))throw new TypeError("invalid receiver");const n=Ao(t),i=cv(n),u=dv(n),h=Nu(n,"trunc"),l=ul(n,"smallestUnit","time",void 0);if("hour"===l)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:f,unit:X,increment:W}=lv(l,u);return ju(this,f,i,{unit:X,increment:W,roundingMode:h})}toJSON(){if(!Ni(this))throw new TypeError("invalid receiver");return ju(this,"auto")}toLocaleString(t,n){if(!Ni(this))throw new TypeError("invalid receiver");return new Nf(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,n){if(!Ni(this))throw new TypeError("invalid receiver");const i=jc(t);return Fa($e(id(i,this,G0(Ao(n))),Di),i,$e(this,tr))}toPlainDate(){if(!Ni(this))throw new TypeError("invalid receiver");return Lu(this)}toPlainYearMonth(){if(!Ni(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return Bm(t,yo(this,Xs(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Ni(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return oy(t,yo(this,Xs(t,["day","monthCode"]),[]))}toPlainTime(){if(!Ni(this))throw new TypeError("invalid receiver");return ex(this)}getISOFields(){if(!Ni(this))throw new TypeError("invalid receiver");return{calendar:$e(this,tr),isoDay:$e(this,si),isoHour:$e(this,eo),isoMicrosecond:$e(this,uo),isoMillisecond:$e(this,oo),isoMinute:$e(this,to),isoMonth:$e(this,oi),isoNanosecond:$e(this,fo),isoSecond:$e(this,io),isoYear:$e(this,ei)}}getCalendar(){if(!Ni(this))throw new TypeError("invalid receiver");return ry($e(this,tr))}static from(t,n){const i=Ao(n);return Ni(t)?(Ka(i),kc($e(t,ei),$e(t,oi),$e(t,si),$e(t,eo),$e(t,to),$e(t,io),$e(t,oo),$e(t,uo),$e(t,fo),$e(t,tr))):bp(t,i)}static compare(t,n){const i=bp(t),u=bp(n);for(const h of[ei,oi,si,eo,to,io,oo,uo,fo]){const l=$e(i,h),f=$e(u,h);if(l!==f)return Bf(l-f)}return 0}}Ef(wy,"Temporal.PlainDateTime");class Ph{constructor(t=0,n=0,i=0,u=0,h=0,l=0,f=0,X=0,W=0,k=0){const re=void 0===t?0:bc(t),Oe=void 0===n?0:bc(n),je=void 0===i?0:bc(i),Ke=void 0===u?0:bc(u),tt=void 0===h?0:bc(h),bt=void 0===l?0:bc(l),kt=void 0===f?0:bc(f),_t=void 0===X?0:bc(X),xt=void 0===W?0:bc(W),Nt=void 0===k?0:bc(k);bv(re,Oe,je,Ke,tt,bt,kt,_t,xt,Nt),mh(this),so(this,mc,re),so(this,Dc,Oe),so(this,ll,je),so(this,td,Ke),so(this,Sd,tt),so(this,Jd,bt),so(this,Td,kt),so(this,Ad,_t),so(this,Dd,xt),so(this,Ic,Nt)}get years(){if(!ta(this))throw new TypeError("invalid receiver");return $e(this,mc)}get months(){if(!ta(this))throw new TypeError("invalid receiver");return $e(this,Dc)}get weeks(){if(!ta(this))throw new TypeError("invalid receiver");return $e(this,ll)}get days(){if(!ta(this))throw new TypeError("invalid receiver");return $e(this,td)}get hours(){if(!ta(this))throw new TypeError("invalid receiver");return $e(this,Sd)}get minutes(){if(!ta(this))throw new TypeError("invalid receiver");return $e(this,Jd)}get seconds(){if(!ta(this))throw new TypeError("invalid receiver");return $e(this,Td)}get milliseconds(){if(!ta(this))throw new TypeError("invalid receiver");return $e(this,Ad)}get microseconds(){if(!ta(this))throw new TypeError("invalid receiver");return $e(this,Dd)}get nanoseconds(){if(!ta(this))throw new TypeError("invalid receiver");return $e(this,Ic)}get sign(){if(!ta(this))throw new TypeError("invalid receiver");return kf($e(this,mc),$e(this,Dc),$e(this,ll),$e(this,td),$e(this,Sd),$e(this,Jd),$e(this,Td),$e(this,Ad),$e(this,Dd),$e(this,Ic))}get blank(){if(!ta(this))throw new TypeError("invalid receiver");return 0===kf($e(this,mc),$e(this,Dc),$e(this,ll),$e(this,td),$e(this,Sd),$e(this,Jd),$e(this,Td),$e(this,Ad),$e(this,Dd),$e(this,Ic))}with(t){if(!ta(this))throw new TypeError("invalid receiver");const n=yo(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=$e(this,mc),months:u=$e(this,Dc),weeks:h=$e(this,ll),days:l=$e(this,td),hours:f=$e(this,Sd),minutes:X=$e(this,Jd),seconds:W=$e(this,Td),milliseconds:k=$e(this,Ad),microseconds:re=$e(this,Dd),nanoseconds:Oe=$e(this,Ic)}=n;return new Ph(i,u,h,l,f,X,W,k,re,Oe)}negated(){if(!ta(this))throw new TypeError("invalid receiver");return ID(this)}abs(){if(!ta(this))throw new TypeError("invalid receiver");return new Ph(Math.abs($e(this,mc)),Math.abs($e(this,Dc)),Math.abs($e(this,ll)),Math.abs($e(this,td)),Math.abs($e(this,Sd)),Math.abs($e(this,Jd)),Math.abs($e(this,Td)),Math.abs($e(this,Ad)),Math.abs($e(this,Dd)),Math.abs($e(this,Ic)))}add(t,n){if(!ta(this))throw new TypeError("invalid receiver");return g_("add",this,t,n)}subtract(t,n){if(!ta(this))throw new TypeError("invalid receiver");return g_("subtract",this,t,n)}round(t){if(!ta(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");let n=$e(this,mc),i=$e(this,Dc),u=$e(this,ll),h=$e(this,td),l=$e(this,Sd),f=$e(this,Jd),X=$e(this,Td),W=$e(this,Ad),k=$e(this,Dd),re=$e(this,Ic),Oe=J2(n,i,u,h,l,f,X,W,k,re);const je="string"==typeof t?$c("smallestUnit",t):Ao(t);let Ke=ul(je,"largestUnit","datetime",void 0,["auto"]),tt=t_(je);const bt=J0(je),kt=Nu(je,"halfExpand");let _t=ul(je,"smallestUnit","datetime",void 0),xt=!0;_t||(xt=!1,_t="nanosecond"),Oe=vp(Oe,_t);let Nt=!0;if(Ke||(Nt=!1,Ke=Oe),"auto"===Ke&&(Ke=Oe),!xt&&!Nt)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(vp(Ke,_t)!==Ke)throw new RangeError(`largestUnit ${Ke} cannot be smaller than smallestUnit ${_t}`);const Xt={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[_t];return void 0!==Xt&&X0(bt,Xt,!1),({years:n,months:i,weeks:u,days:h}=dy(n,i,u,h,Ke,tt)),({years:n,months:i,weeks:u,days:h,hours:l,minutes:f,seconds:X,milliseconds:W,microseconds:k,nanoseconds:re}=Of(n,i,u,h,l,f,X,W,k,re,bt,_t,kt,tt)),({years:n,months:i,weeks:u,days:h,hours:l,minutes:f,seconds:X,milliseconds:W,microseconds:k,nanoseconds:re}=I5(n,i,u,h,l,f,X,W,k,re,bt,_t,kt,tt)),({days:h,hours:l,minutes:f,seconds:X,milliseconds:W,microseconds:k,nanoseconds:re}=mu(h,l,f,X,W,k,re,Ke,tt)),({years:n,months:i,weeks:u,days:h}=function(un,Ht,Sn,Jn,Yn,cr){const $n=Rr("%Temporal.Duration%"),jn=kf(un,Ht,Sn,Jn,0,0,0,0,0,0);if(0===jn)return{years:un,months:Ht,weeks:Sn,days:Jn};const Kn=Bt.BigInt(jn);let Xn,Dn,gr=Bt.BigInt(un),vr=Bt.BigInt(Ht),Er=Bt.BigInt(Sn),Yr=Bt.BigInt(Jn);cr&&(Dn=ss(cr),Xn=$e(Dn,tr));const hi=new $n(jn),kn=new $n(0,jn),yi=new $n(0,0,jn);switch(Yn){case"year":{if(!Xn)throw new RangeError("a starting point is required for years balancing");const bo="string"!=typeof Xn?Qo(Xn,"dateAdd"):void 0;let Ir,rr,Tr;for(({relativeTo:Ir,days:rr}=kd(Xn,Dn,hi,bo));Bt.greaterThanOrEqual(lu(Yr),Bt.BigInt(Fs(rr)));)Yr=Bt.subtract(Yr,Bt.BigInt(rr)),gr=Bt.add(gr,Kn),Dn=Ir,({relativeTo:Ir,days:rr}=kd(Xn,Dn,hi,bo));for(({relativeTo:Ir,days:Tr}=kd(Xn,Dn,kn,bo));Bt.greaterThanOrEqual(lu(Yr),Bt.BigInt(Fs(Tr)));)Yr=Bt.subtract(Yr,Bt.BigInt(Tr)),vr=Bt.add(vr,Kn),Dn=Ir,({relativeTo:Ir,days:Tr}=kd(Xn,Dn,kn,bo));Ir=Pc(Xn,Dn,hi,void 0,bo);const ui="string"!=typeof Xn?Qo(Xn,"dateUntil"):void 0,Wi=nd(null);Wi.largestUnit="month";let Gi=bh(Xn,Dn,Ir,Wi,ui),Mi=$e(Gi,Dc);for(;Bt.greaterThanOrEqual(lu(vr),Bt.BigInt(Fs(Mi)));){vr=Bt.subtract(vr,Bt.BigInt(Mi)),gr=Bt.add(gr,Kn),Dn=Ir,Ir=Pc(Xn,Dn,hi,void 0,bo);const ki=nd(null);ki.largestUnit="month",Gi=bh(Xn,Dn,Ir,ki,ui),Mi=$e(Gi,Dc)}break}case"month":{if(!Xn)throw new RangeError("a starting point is required for months balancing");const bo="string"!=typeof Xn?Qo(Xn,"dateAdd"):void 0;let Ir,rr;for(({relativeTo:Ir,days:rr}=kd(Xn,Dn,kn,bo));Bt.greaterThanOrEqual(lu(Yr),Bt.BigInt(Fs(rr)));)Yr=Bt.subtract(Yr,Bt.BigInt(rr)),vr=Bt.add(vr,Kn),Dn=Ir,({relativeTo:Ir,days:rr}=kd(Xn,Dn,kn,bo));break}case"week":{if(!Xn)throw new RangeError("a starting point is required for weeks balancing");const bo="string"!=typeof Xn?Qo(Xn,"dateAdd"):void 0;let Ir,rr;for(({relativeTo:Ir,days:rr}=kd(Xn,Dn,yi,bo));Bt.greaterThanOrEqual(lu(Yr),Bt.BigInt(Fs(rr)));)Yr=Bt.subtract(Yr,Bt.BigInt(rr)),Er=Bt.add(Er,Kn),Dn=Ir,({relativeTo:Ir,days:rr}=kd(Xn,Dn,yi,bo));break}}return{years:Bt.toNumber(gr),months:Bt.toNumber(vr),weeks:Bt.toNumber(Er),days:Bt.toNumber(Yr)}}(n,i,u,h,Ke,tt)),new Ph(n,i,u,h,l,f,X,W,k,re)}total(t){if(!ta(this))throw new TypeError("invalid receiver");let n=$e(this,mc),i=$e(this,Dc),u=$e(this,ll),h=$e(this,td),l=$e(this,Sd),f=$e(this,Jd),X=$e(this,Td),W=$e(this,Ad),k=$e(this,Dd),re=$e(this,Ic);if(void 0===t)throw new TypeError("options argument is required");const Oe="string"==typeof t?$c("unit",t):Ao(t),je=t_(Oe),Ke=ul(Oe,"unit","datetime",Dm);let tt;({years:n,months:i,weeks:u,days:h}=dy(n,i,u,h,Ke,je)),fi(je)&&(tt=b_(je,n,i,u,0));let bt=DD(h,l,f,X,W,k,re,Ke,tt);if("positive overflow"===bt)return 1/0;if("negative overflow"===bt)return-1/0;({days:h,hours:l,minutes:f,seconds:X,milliseconds:W,microseconds:k,nanoseconds:re}=bt);const{total:kt}=Of(n,i,u,h,l,f,X,W,k,re,1,Ke,"trunc",je);return kt}toString(t){if(!ta(this))throw new TypeError("invalid receiver");const n=Ao(t),i=dv(n),u=Nu(n,"trunc"),h=ul(n,"smallestUnit","time",void 0);if("hour"===h||"minute"===h)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:l,unit:f,increment:X}=lv(h,i);return tx(this,l,{unit:f,increment:X,roundingMode:u})}toJSON(){if(!ta(this))throw new TypeError("invalid receiver");return tx(this)}toLocaleString(t,n){if(!ta(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),tx(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return ta(t)?new Ph($e(t,mc),$e(t,Dc),$e(t,ll),$e(t,td),$e(t,Sd),$e(t,Jd),$e(t,Td),$e(t,Ad),$e(t,Dd),$e(t,Ic)):Y0(t)}static compare(t,n,i){const u=Y0(t),h=Y0(n),l=t_(Ao(i)),f=$e(u,mc),X=$e(u,Dc),W=$e(u,ll);let k=$e(u,td);const re=$e(u,Sd),Oe=$e(u,Jd),je=$e(u,Td),Ke=$e(u,Ad),tt=$e(u,Dd);let bt=$e(u,Ic);const kt=$e(h,mc),_t=$e(h,Dc),xt=$e(h,ll);let Nt=$e(h,td);const Xt=$e(h,Sd),qt=$e(h,Jd),un=$e(h,Td),Ht=$e(h,Ad),Sn=$e(h,Dd);let Jn=$e(h,Ic);const Yn=A5(l,f,X,W,k),cr=A5(l,kt,_t,xt,Nt);0===f&&0===kt&&0===X&&0===_t&&0===W&&0===xt||(({days:k}=dy(f,X,W,k,"day",l)),({days:Nt}=dy(kt,_t,xt,Nt,"day",l)));const $n=cy(k,re,Oe,je,Ke,tt,bt,Yn),jn=cy(Nt,Xt,qt,un,Ht,Sn,Jn,cr);return Bf(Bt.toNumber(Bt.subtract($n,jn)))}}Ef(Ph,"Temporal.Duration");const sI=Object.create;class T_{constructor(t,n,i="iso8601",u=1972){Pm(this,Wo(t),Wo(n),Dl(i),Wo(u))}get monthCode(){if(!wc(this))throw new TypeError("invalid receiver");return q0($e(this,tr),this)}get day(){if(!wc(this))throw new TypeError("invalid receiver");return Q0($e(this,tr),this)}get calendarId(){if(!wc(this))throw new TypeError("invalid receiver");return Fc($e(this,tr))}with(t,n){if(!wc(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("invalid argument");W0(t);const i=Ao(n),u=$e(this,tr),h=Xs(u,["day","month","monthCode","year"]);let l=yo(this,h,[]);return l=wp(u,l,yo(t,h,"partial")),l=yo(l,h,[]),oy(u,l,i)}equals(t){if(!wc(this))throw new TypeError("invalid receiver");const n=X2(t);for(const i of[oi,si,ei])if($e(this,i)!==$e(n,i))return!1;return iy($e(this,tr),$e(n,tr))}toString(t){if(!wc(this))throw new TypeError("invalid receiver");return fu(this,cv(Ao(t)))}toJSON(){if(!wc(this))throw new TypeError("invalid receiver");return fu(this)}toLocaleString(t,n){if(!wc(this))throw new TypeError("invalid receiver");return new Nf(t,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!wc(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("argument should be an object");const n=$e(this,tr),i=Xs(n,["day","monthCode"]),u=yo(this,i,[]),h=Xs(n,["year"]);let l=wp(n,u,yo(t,h,[]));l=yo(l,[...new Set([...i,...h])],[]);const f=sI(null);return f.overflow="reject",Cf(n,l,f)}getISOFields(){if(!wc(this))throw new TypeError("invalid receiver");return{calendar:$e(this,tr),isoDay:$e(this,si),isoMonth:$e(this,oi),isoYear:$e(this,ei)}}getCalendar(){if(!wc(this))throw new TypeError("invalid receiver");return ry($e(this,tr))}static from(t,n){const i=Ao(n);return wc(t)?(Ka(i),Tf($e(t,oi),$e(t,si),$e(t,tr),$e(t,ei))):X2(t,i)}}Ef(T_,"Temporal.PlainMonthDay");const A_=()=>new(Rr("%Temporal.Instant%"))(xp()),Ox=(r,t=Mp())=>{const n=jc(t),i=Dl(r);return Il(n,A_(),i)},D_=(r=Mp())=>Il(jc(r),A_(),"iso8601"),Rx=(r,t=Mp())=>{const n=jc(t),i=Dl(r);return Fa(xp(),n,i)},Bx={instant:A_,plainDateTime:Ox,plainDateTimeISO:D_,plainDate:(r,t=Mp())=>Lu(Ox(r,t)),plainDateISO:(r=Mp())=>Lu(D_(r)),plainTimeISO:(r=Mp())=>ex(D_(r)),timeZoneId:()=>Mp(),zonedDateTime:Rx,zonedDateTimeISO:(r=Mp())=>Rx("iso8601",r),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(Bx,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const aI=Object.assign;function cI(r,t,n){let i=$e(r,eo),u=$e(r,to),h=$e(r,io),l=$e(r,oo),f=$e(r,uo),X=$e(r,fo);if(n){const{unit:W,increment:k,roundingMode:re}=n;({hour:i,minute:u,second:h,millisecond:l,microsecond:f,nanosecond:X}=gx(i,u,h,l,f,X,k,W,re))}return`${Os(i)}:${Os(u)}${ay(h,l,f,X,t)}`}class $m{constructor(t=0,n=0,i=0,u=0,h=0,l=0){const f=void 0===t?0:Wo(t),X=void 0===n?0:Wo(n),W=void 0===i?0:Wo(i),k=void 0===u?0:Wo(u),re=void 0===h?0:Wo(h),Oe=void 0===l?0:Wo(l);f_(f,X,W,k,re,Oe),mh(this),so(this,eo,f),so(this,to,X),so(this,io,W),so(this,oo,k),so(this,uo,re),so(this,fo,Oe)}get hour(){if(!pa(this))throw new TypeError("invalid receiver");return $e(this,eo)}get minute(){if(!pa(this))throw new TypeError("invalid receiver");return $e(this,to)}get second(){if(!pa(this))throw new TypeError("invalid receiver");return $e(this,io)}get millisecond(){if(!pa(this))throw new TypeError("invalid receiver");return $e(this,oo)}get microsecond(){if(!pa(this))throw new TypeError("invalid receiver");return $e(this,uo)}get nanosecond(){if(!pa(this))throw new TypeError("invalid receiver");return $e(this,fo)}with(t,n){if(!pa(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("invalid argument");W0(t);const i=Ka(Ao(n)),u=Uu(t,"partial"),h=Uu(this);let{hour:l,minute:f,second:X,millisecond:W,microsecond:k,nanosecond:re}=aI(h,u);return({hour:l,minute:f,second:X,millisecond:W,microsecond:k,nanosecond:re}=Qw(l,f,X,W,k,re,i)),new $m(l,f,X,W,k,re)}add(t){if(!pa(this))throw new TypeError("invalid receiver");return ND("add",this,t)}subtract(t){if(!pa(this))throw new TypeError("invalid receiver");return ND("subtract",this,t)}until(t,n){if(!pa(this))throw new TypeError("invalid receiver");return _v("until",this,t,n)}since(t,n){if(!pa(this))throw new TypeError("invalid receiver");return _v("since",this,t,n)}round(t){if(!pa(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?$c("smallestUnit",t):Ao(t),i=J0(n),u=Nu(n,"halfExpand"),h=ul(n,"smallestUnit","time",Dm);X0(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h],!1);let l=$e(this,eo),f=$e(this,to),X=$e(this,io),W=$e(this,oo),k=$e(this,uo),re=$e(this,fo);return({hour:l,minute:f,second:X,millisecond:W,microsecond:k,nanosecond:re}=gx(l,f,X,W,k,re,i,h,u)),new $m(l,f,X,W,k,re)}equals(t){if(!pa(this))throw new TypeError("invalid receiver");const n=Vl(t);for(const i of[eo,to,io,oo,uo,fo])if($e(this,i)!==$e(n,i))return!1;return!0}toString(t){if(!pa(this))throw new TypeError("invalid receiver");const n=Ao(t),i=dv(n),u=Nu(n,"trunc"),h=ul(n,"smallestUnit","time",void 0);if("hour"===h)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:l,unit:f,increment:X}=lv(h,i);return cI(this,l,{unit:f,increment:X,roundingMode:u})}toJSON(){if(!pa(this))throw new TypeError("invalid receiver");return cI(this,"auto")}toLocaleString(t,n){if(!pa(this))throw new TypeError("invalid receiver");return new Nf(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!pa(this))throw new TypeError("invalid receiver");const n=ss(t),i=$e(n,ei),u=$e(n,oi),h=$e(n,si),l=$e(n,tr);return kc(i,u,h,$e(this,eo),$e(this,to),$e(this,io),$e(this,oo),$e(this,uo),$e(this,fo),l)}toZonedDateTime(t){if(!pa(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("invalid argument");const n=t.plainDate;if(void 0===n)throw new TypeError("missing date property");const i=ss(n),u=t.timeZone;if(void 0===u)throw new TypeError("missing timeZone property");const h=jc(u),l=$e(i,ei),f=$e(i,oi),X=$e(i,si),W=$e(i,tr),k=$e(this,eo),re=$e(this,to),Oe=$e(this,io),je=$e(this,oo),Ke=$e(this,uo),tt=$e(this,fo);return Fa($e(id(h,new(Rr("%Temporal.PlainDateTime%"))(l,f,X,k,re,Oe,je,Ke,tt,W),"compatible"),Di),h,W)}getISOFields(){if(!pa(this))throw new TypeError("invalid receiver");return{isoHour:$e(this,eo),isoMicrosecond:$e(this,uo),isoMillisecond:$e(this,oo),isoMinute:$e(this,to),isoNanosecond:$e(this,fo),isoSecond:$e(this,io)}}static from(t,n){const i=Ka(Ao(n));return pa(t)?new $m($e(t,eo),$e(t,to),$e(t,io),$e(t,oo),$e(t,uo),$e(t,fo)):Vl(t,i)}static compare(t,n){const i=Vl(t),u=Vl(n);for(const h of[eo,to,io,oo,uo,fo]){const l=$e(i,h),f=$e(u,h);if(l!==f)return Bf(l-f)}return 0}}Ef($m,"Temporal.PlainTime");class Av{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=ix(t);mh(this),so(this,ph,n)}get id(){if(!Al(this))throw new TypeError("invalid receiver");return $e(this,ph)}getOffsetNanosecondsFor(t){if(!Al(this))throw new TypeError("invalid receiver");const n=uu(t),i=$e(this,ph);return Nm(i)?_p(i):_h(i,$e(n,Di))}getOffsetStringFor(t){if(!Al(this))throw new TypeError("invalid receiver");return o_(this,uu(t))}getPlainDateTimeFor(t,n="iso8601"){if(!Al(this))throw new TypeError("invalid receiver");return Il(this,uu(t),Dl(n))}getInstantFor(t,n){if(!Al(this))throw new TypeError("invalid receiver");return id(this,bp(t),G0(Ao(n)))}getPossibleInstantsFor(t){if(!Al(this))throw new TypeError("invalid receiver");const n=bp(t),i=Rr("%Temporal.Instant%"),u=$e(this,ph);if(Nm(u)){const l=pu($e(n,ei),$e(n,oi),$e(n,si),$e(n,eo),$e(n,to),$e(n,io),$e(n,oo),$e(n,uo),$e(n,fo));if(null===l)throw new RangeError("DateTime outside of supported range");const f=_p(u);return[new i(Bt.subtract(l,Bt.BigInt(f)))]}return function(f,X,W,k,re,Oe,je,Ke,tt,bt){const kt=pu(X,W,k,re,Oe,je,Ke,tt,bt);if(null===kt)throw new RangeError("DateTime outside of supported range");let _t=Bt.subtract(kt,Mf);Bt.lessThan(_t,Sa)&&(_t=kt);let xt=Bt.add(kt,Mf);Bt.greaterThan(xt,xm)&&(xt=kt);const Nt=_h(f,_t),Xt=_h(f,xt);return(Nt===Xt?[Nt]:[Nt,Xt]).map(qt=>{const un=Bt.subtract(kt,Bt.BigInt(qt)),Ht=ox(f,un);if(X===Ht.year&&W===Ht.month&&k===Ht.day&&re===Ht.hour&&Oe===Ht.minute&&je===Ht.second&&Ke===Ht.millisecond&&tt===Ht.microsecond&&bt===Ht.nanosecond)return un}).filter(qt=>void 0!==qt)}(u,$e(n,ei),$e(n,oi),$e(n,si),$e(n,eo),$e(n,to),$e(n,io),$e(n,oo),$e(n,uo),$e(n,fo)).map(l=>new i(l))}getNextTransition(t){if(!Al(this))throw new TypeError("invalid receiver");const n=uu(t),i=$e(this,ph);if(Nm(i)||"UTC"===i)return null;let u=$e(n,Di);const h=Rr("%Temporal.Instant%");return u=sx(i,u),null===u?null:new h(u)}getPreviousTransition(t){if(!Al(this))throw new TypeError("invalid receiver");const n=uu(t),i=$e(this,ph);if(Nm(i)||"UTC"===i)return null;let u=$e(n,Di);const h=Rr("%Temporal.Instant%");return u=c_(i,u),null===u?null:new h(u)}toString(){if(!Al(this))throw new TypeError("invalid receiver");return $e(this,ph)}toJSON(){if(!Al(this))throw new TypeError("invalid receiver");return $e(this,ph)}static from(t){return q2(jc(t))}}Ef(Av,"Temporal.TimeZone"),ha("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",Av.prototype.getOffsetNanosecondsFor),ha("Temporal.TimeZone.prototype.getPossibleInstantsFor",Av.prototype.getPossibleInstantsFor);const Nx=Object.create;class I_{constructor(t,n,i="iso8601",u=1){Om(this,Wo(t),Wo(n),Dl(i),Wo(u))}get year(){if(!Go(this))throw new TypeError("invalid receiver");return fv($e(this,tr),this)}get month(){if(!Go(this))throw new TypeError("invalid receiver");return hv($e(this,tr),this)}get monthCode(){if(!Go(this))throw new TypeError("invalid receiver");return q0($e(this,tr),this)}get calendarId(){if(!Go(this))throw new TypeError("invalid receiver");return Fc($e(this,tr))}get era(){if(!Go(this))throw new TypeError("invalid receiver");return pv($e(this,tr),this)}get eraYear(){if(!Go(this))throw new TypeError("invalid receiver");return mv($e(this,tr),this)}get daysInMonth(){if(!Go(this))throw new TypeError("invalid receiver");return If($e(this,tr),this)}get daysInYear(){if(!Go(this))throw new TypeError("invalid receiver");return ty($e(this,tr),this)}get monthsInYear(){if(!Go(this))throw new TypeError("invalid receiver");return n_($e(this,tr),this)}get inLeapYear(){if(!Go(this))throw new TypeError("invalid receiver");return ny($e(this,tr),this)}with(t,n){if(!Go(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("invalid argument");W0(t);const i=Ao(n),u=$e(this,tr),h=Xs(u,["month","monthCode","year"]);let l=yo(this,h,[]);return l=wp(u,l,yo(t,h,"partial")),l=yo(l,h,[]),Bm(u,l,i)}add(t,n){if(!Go(this))throw new TypeError("invalid receiver");return mx("add",this,t,n)}subtract(t,n){if(!Go(this))throw new TypeError("invalid receiver");return mx("subtract",this,t,n)}until(t,n){if(!Go(this))throw new TypeError("invalid receiver");return Ev("until",this,t,n)}since(t,n){if(!Go(this))throw new TypeError("invalid receiver");return Ev("since",this,t,n)}equals(t){if(!Go(this))throw new TypeError("invalid receiver");const n=Im(t);for(const i of[ei,oi,si])if($e(this,i)!==$e(n,i))return!1;return iy($e(this,tr),$e(n,tr))}toString(t){if(!Go(this))throw new TypeError("invalid receiver");return hu(this,cv(Ao(t)))}toJSON(){if(!Go(this))throw new TypeError("invalid receiver");return hu(this)}toLocaleString(t,n){if(!Go(this))throw new TypeError("invalid receiver");return new Nf(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!Go(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("argument should be an object");const n=$e(this,tr),i=Xs(n,["monthCode","year"]),u=yo(this,i,[]),h=Xs(n,["day"]);let l=wp(n,u,yo(t,h,[]));l=yo(l,[...new Set([...i,...h])],[]);const f=Nx(null);return f.overflow="reject",Cf(n,l,f)}getISOFields(){if(!Go(this))throw new TypeError("invalid receiver");return{calendar:$e(this,tr),isoDay:$e(this,si),isoMonth:$e(this,oi),isoYear:$e(this,ei)}}getCalendar(){if(!Go(this))throw new TypeError("invalid receiver");return ry($e(this,tr))}static from(t,n){const i=Ao(n);return Go(t)?(Ka(i),Af($e(t,ei),$e(t,oi),$e(t,tr),$e(t,si))):Im(t,i)}static compare(t,n){const i=Im(t),u=Im(n);return Sh($e(i,ei),$e(i,oi),$e(i,si),$e(u,ei),$e(u,oi),$e(u,si))}}Ef(I_,"Temporal.PlainYearMonth");const $5=Nf.prototype.resolvedOptions,V5=Object.create;class Ux{constructor(t,n,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");Rm(this,xv(t),jc(n),Dl(i))}get calendarId(){if(!fi(this))throw new TypeError("invalid receiver");return Fc($e(this,tr))}get timeZoneId(){if(!fi(this))throw new TypeError("invalid receiver");return gv($e(this,Vo))}get year(){if(!fi(this))throw new TypeError("invalid receiver");return fv($e(this,tr),Rs(this))}get month(){if(!fi(this))throw new TypeError("invalid receiver");return hv($e(this,tr),Rs(this))}get monthCode(){if(!fi(this))throw new TypeError("invalid receiver");return q0($e(this,tr),Rs(this))}get day(){if(!fi(this))throw new TypeError("invalid receiver");return Q0($e(this,tr),Rs(this))}get hour(){if(!fi(this))throw new TypeError("invalid receiver");return $e(Rs(this),eo)}get minute(){if(!fi(this))throw new TypeError("invalid receiver");return $e(Rs(this),to)}get second(){if(!fi(this))throw new TypeError("invalid receiver");return $e(Rs(this),io)}get millisecond(){if(!fi(this))throw new TypeError("invalid receiver");return $e(Rs(this),oo)}get microsecond(){if(!fi(this))throw new TypeError("invalid receiver");return $e(Rs(this),uo)}get nanosecond(){if(!fi(this))throw new TypeError("invalid receiver");return $e(Rs(this),fo)}get era(){if(!fi(this))throw new TypeError("invalid receiver");return pv($e(this,tr),Rs(this))}get eraYear(){if(!fi(this))throw new TypeError("invalid receiver");return mv($e(this,tr),Rs(this))}get epochSeconds(){if(!fi(this))throw new TypeError("invalid receiver");const t=$e(this,Di);return Bt.toNumber(zu(t,du))}get epochMilliseconds(){if(!fi(this))throw new TypeError("invalid receiver");const t=$e(this,Di);return Bt.toNumber(zu(t,rd))}get epochMicroseconds(){if(!fi(this))throw new TypeError("invalid receiver");return w_(zu($e(this,Di),qo))}get epochNanoseconds(){if(!fi(this))throw new TypeError("invalid receiver");return w_($e(this,Di))}get dayOfWeek(){if(!fi(this))throw new TypeError("invalid receiver");return ey($e(this,tr),Rs(this))}get dayOfYear(){if(!fi(this))throw new TypeError("invalid receiver");return Df($e(this,tr),Rs(this))}get weekOfYear(){if(!fi(this))throw new TypeError("invalid receiver");return Y2($e(this,tr),Rs(this))}get yearOfWeek(){if(!fi(this))throw new TypeError("invalid receiver");return Z2($e(this,tr),Rs(this))}get hoursInDay(){if(!fi(this))throw new TypeError("invalid receiver");const t=Rs(this),n=Rr("%Temporal.PlainDateTime%"),i=$e(t,ei),u=$e(t,oi),h=$e(t,si),l=new n(i,u,h,0,0,0,0,0,0),f=Ep(i,u,h,0,0,0,1,"reject"),X=new n(f.year,f.month,f.day,0,0,0,0,0,0),W=$e(this,Vo),k=$e(id(W,l,"compatible"),Di),re=$e(id(W,X,"compatible"),Di);return Rf(Bt.subtract(re,k),F2)}get daysInWeek(){if(!fi(this))throw new TypeError("invalid receiver");return yv($e(this,tr),Rs(this))}get daysInMonth(){if(!fi(this))throw new TypeError("invalid receiver");return If($e(this,tr),Rs(this))}get daysInYear(){if(!fi(this))throw new TypeError("invalid receiver");return ty($e(this,tr),Rs(this))}get monthsInYear(){if(!fi(this))throw new TypeError("invalid receiver");return n_($e(this,tr),Rs(this))}get inLeapYear(){if(!fi(this))throw new TypeError("invalid receiver");return ny($e(this,tr),Rs(this))}get offset(){if(!fi(this))throw new TypeError("invalid receiver");return o_($e(this,Vo),$e(this,ed))}get offsetNanoseconds(){if(!fi(this))throw new TypeError("invalid receiver");return Ku($e(this,Vo),$e(this,ed))}with(t,n){if(!fi(this))throw new TypeError("invalid receiver");if(!xs(t))throw new TypeError("invalid zoned-date-time-like");W0(t);const i=Ao(n),u=$e(this,tr);let h=Xs(u,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);h.push("offset");let l=yo(this,h,["offset"]);l=wp(u,l,yo(t,h,"partial")),l=yo(l,h,["offset"]);const f=G0(i),X=e_(i,"prefer");let{year:W,month:k,day:re,hour:Oe,minute:je,second:Ke,millisecond:tt,microsecond:bt,nanosecond:kt}=uv(u,l,i);const _t=_p(l.offset),xt=$e(this,Vo);return Fa(vh(W,k,re,Oe,je,Ke,tt,bt,kt,"option",_t,xt,f,X,!1),xt,u)}withPlainDate(t){if(!fi(this))throw new TypeError("invalid receiver");const n=ss(t),i=$e(n,ei),u=$e(n,oi),h=$e(n,si);let l=$e(n,tr);const f=Rs(this),X=$e(f,eo),W=$e(f,to),k=$e(f,io),re=$e(f,oo),Oe=$e(f,uo),je=$e(f,fo);l=Oc($e(this,tr),l);const Ke=$e(this,Vo);return Fa($e(id(Ke,new(Rr("%Temporal.PlainDateTime%"))(i,u,h,X,W,k,re,Oe,je,l),"compatible"),Di),Ke,l)}withPlainTime(t){if(!fi(this))throw new TypeError("invalid receiver");const n=Rr("%Temporal.PlainTime%"),i=void 0===t?new n:Vl(t),u=Rs(this),h=$e(u,ei),l=$e(u,oi),f=$e(u,si),X=$e(this,tr),W=$e(i,eo),k=$e(i,to),re=$e(i,io),Oe=$e(i,oo),je=$e(i,uo),Ke=$e(i,fo),tt=$e(this,Vo);return Fa($e(id(tt,new(Rr("%Temporal.PlainDateTime%"))(h,l,f,W,k,re,Oe,je,Ke,X),"compatible"),Di),tt,X)}withTimeZone(t){if(!fi(this))throw new TypeError("invalid receiver");const n=jc(t);return Fa($e(this,Di),n,$e(this,tr))}withCalendar(t){if(!fi(this))throw new TypeError("invalid receiver");const n=Dl(t);return Fa($e(this,Di),$e(this,Vo),n)}add(t,n){if(!fi(this))throw new TypeError("invalid receiver");return v_("add",this,t,n)}subtract(t,n){if(!fi(this))throw new TypeError("invalid receiver");return v_("subtract",this,t,n)}until(t,n){if(!fi(this))throw new TypeError("invalid receiver");return y_("until",this,t,n)}since(t,n){if(!fi(this))throw new TypeError("invalid receiver");return y_("since",this,t,n)}round(t){if(!fi(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?$c("smallestUnit",t):Ao(t),i=J0(n),u=Nu(n,"halfExpand"),h=ul(n,"smallestUnit","time",Dm,["day"]),l={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[h];X0(i,l,1===l);const f=Rs(this);let X=$e(f,ei),W=$e(f,oi),k=$e(f,si),re=$e(f,eo),Oe=$e(f,to),je=$e(f,io),Ke=$e(f,oo),tt=$e(f,uo),bt=$e(f,fo);const kt=Rr("%Temporal.PlainDateTime%"),_t=$e(this,Vo),xt=$e(this,tr),Nt=id(_t,new kt($e(f,ei),$e(f,oi),$e(f,si),0,0,0,0,0,0),"compatible"),Xt=Yd(Nt,_t,xt,0,0,0,1,0,0,0,0,0,0),qt=Bt.subtract(Xt,Bt.BigInt($e(Nt,Di)));if(Bt.lessThanOrEqual(qt,Es))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:X,month:W,day:k,hour:re,minute:Oe,second:je,millisecond:Ke,microsecond:tt,nanosecond:bt}=yx(X,W,k,re,Oe,je,Ke,tt,bt,i,h,u,Bt.toNumber(qt))),Fa(vh(X,W,k,re,Oe,je,Ke,tt,bt,"option",Ku(_t,$e(this,ed)),_t,"compatible","prefer",!1),_t,$e(this,tr))}equals(t){if(!fi(this))throw new TypeError("invalid receiver");const n=Z0(t),i=$e(this,Di),u=$e(n,Di);return!!Bt.equal(Bt.BigInt(i),Bt.BigInt(u))&&!!Q2($e(this,Vo),$e(n,Vo))&&iy($e(this,tr),$e(n,tr))}toString(t){if(!fi(this))throw new TypeError("invalid receiver");const n=Ao(t),i=cv(n),u=dv(n),h=Ah(n,"offset",["auto","never"],"auto"),l=Nu(n,"trunc"),f=ul(n,"smallestUnit","time",void 0);if("hour"===f)throw new RangeError('smallestUnit must be a time unit other than "hour"');const X=Ah(n,"timeZoneName",["auto","never","critical"],"auto"),{precision:W,unit:k,increment:re}=lv(f,u);return rx(this,W,i,X,h,{unit:k,increment:re,roundingMode:l})}toLocaleString(t,n){if(!fi(this))throw new TypeError("invalid receiver");const i=Ao(n),u=V5(null);if(gp(u,i,["timeZone"]),void 0!==i.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===u.year&&void 0===u.month&&void 0===u.day&&void 0===u.weekday&&void 0===u.dateStyle&&void 0===u.hour&&void 0===u.minute&&void 0===u.second&&void 0===u.timeStyle&&void 0===u.dayPeriod&&void 0===u.timeZoneName&&(u.timeZoneName="short");let h=gv($e(this,Vo));if(Nm(h))throw new RangeError("toLocaleString does not support offset string time zones");h=ix(h),u.timeZone=h;const l=new Nf(t,u),f=mi($5,l,[]).calendar,X=Fc($e(this,tr));if("iso8601"!==X&&"iso8601"!==f&&f!==X)throw new RangeError(`cannot format ZonedDateTime with calendar ${X} in locale with calendar ${f}`);return l.format($e(this,ed))}toJSON(){if(!fi(this))throw new TypeError("invalid receiver");return rx(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!fi(this))throw new TypeError("invalid receiver");const t=Rs(this),n=Rr("%Temporal.PlainDateTime%"),i=$e(this,tr),u=new n($e(t,ei),$e(t,oi),$e(t,si),0,0,0,0,0,0,i),h=$e(this,Vo);return Fa($e(id(h,u,"compatible"),Di),h,i)}toInstant(){if(!fi(this))throw new TypeError("invalid receiver");return new(Rr("%Temporal.Instant%"))($e(this,Di))}toPlainDate(){if(!fi(this))throw new TypeError("invalid receiver");return Lu(Rs(this))}toPlainTime(){if(!fi(this))throw new TypeError("invalid receiver");return ex(Rs(this))}toPlainDateTime(){if(!fi(this))throw new TypeError("invalid receiver");return Rs(this)}toPlainYearMonth(){if(!fi(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return Bm(t,yo(this,Xs(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!fi(this))throw new TypeError("invalid receiver");const t=$e(this,tr);return oy(t,yo(this,Xs(t,["day","monthCode"]),[]))}getISOFields(){if(!fi(this))throw new TypeError("invalid receiver");const t=Rs(this),n=$e(this,Vo);return{calendar:$e(this,tr),isoDay:$e(t,si),isoHour:$e(t,eo),isoMicrosecond:$e(t,uo),isoMillisecond:$e(t,oo),isoMinute:$e(t,to),isoMonth:$e(t,oi),isoNanosecond:$e(t,fo),isoSecond:$e(t,io),isoYear:$e(t,ei),offset:o_(n,$e(this,ed)),timeZone:n}}getCalendar(){if(!fi(this))throw new TypeError("invalid receiver");return ry($e(this,tr))}getTimeZone(){if(!fi(this))throw new TypeError("invalid receiver");return q2($e(this,Vo))}static from(t,n){const i=Ao(n);return fi(t)?(G0(i),e_(i,"reject"),Ka(i),Fa($e(t,Di),$e(t,Vo),$e(t,tr))):Z0(t,i)}static compare(t,n){const i=Z0(t),u=Z0(n),h=$e(i,Di),l=$e(u,Di);return Bt.lessThan(Bt.BigInt(h),Bt.BigInt(l))?-1:Bt.greaterThan(Bt.BigInt(h),Bt.BigInt(l))?1:0}}function Rs(r){return Il($e(r,Vo),$e(r,ed),$e(r,tr))}Ef(Ux,"Temporal.ZonedDateTime");var _y=Object.freeze({__proto__:null,Calendar:ma,Duration:Ph,Instant:zl,Now:Bx,PlainDate:by,PlainDateTime:wy,PlainMonthDay:T_,PlainTime:$m,PlainYearMonth:I_,TimeZone:Av,ZonedDateTime:Ux});const z5=[zl,ma,by,wy,Ph,T_,$m,Av,I_,Ux];for(const r of z5){const t=Object.getOwnPropertyDescriptor(r,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(r,"prototype",t))}var dI=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class ra{static sleep(t){return dI(this,void 0,void 0,function*(){return new Promise(n=>setTimeout(n,t))})}static minimalSleep(){return dI(this,void 0,void 0,function*(){yield ra.sleep(2)})}static getCurrentTimestamp(){return _y.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(t){const{year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W}=t;return _y.ZonedDateTime.from({timeZone:"UTC",year:n,month:i,day:u,hour:h,minute:l,second:f,millisecond:X,microsecond:W}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(t,n){const i=n?_y.Instant.from(n):_y.Now.instant(),u=_y.Duration.from(t);return i.add(u).toString({smallestUnit:"microseconds"})}static validateTimestamp(t){try{_y.Instant.from(t)}catch{throw new ne(le.TimestampInvalid,`Invalid timestamp: ${t}`)}}}var nc=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Jo{get message(){if(void 0===this._message.authorization)throw new ne(le.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return Hr.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return Hr.isSignedByOwnerDelegate(this._message)}get signer(){return Hr.getSigner(this._message)}get ownerSignatureSigner(){var t;return void 0===(null===(t=this._message.authorization)||void 0===t?void 0:t.ownerSignature)?void 0:dr.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(t,n){this.parentContextId=n,this._message=t,void 0!==t.authorization&&(this._author=vo.getAuthor(t),this._signaturePayload=dr.decodePlainObjectPayload(t.authorization.signature),void 0!==t.authorization.ownerSignature&&(this._owner=void 0!==t.authorization.ownerDelegatedGrant?Hr.getSigner(t.authorization.ownerDelegatedGrant):dr.getSignerDid(t.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=dr.decodePlainObjectPayload(t.authorization.ownerSignature))),this.attesters=Jo.getAttesters(t)}static parse(t){return nc(this,void 0,void 0,function*(){const n=JSON.parse(JSON.stringify(t));yield Hr.validateSignatureStructure(n.authorization.signature,n.descriptor,"RecordsWriteSignaturePayload"),void 0!==n.authorization.ownerSignature&&(yield Hr.validateSignatureStructure(n.authorization.ownerSignature,n.descriptor)),yield Jo.validateAttestationIntegrity(n);const i=new Jo(n);return yield i.validateIntegrity(),i})}static create(t){var n,i,u,h;return nc(this,void 0,void 0,function*(){if(void 0===t.protocol&&void 0!==t.protocolPath||void 0!==t.protocol&&void 0===t.protocolPath)throw new ne(le.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===t.data&&void 0===t.dataCid||void 0!==t.data&&void 0!==t.dataCid)throw new ne(le.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===t.dataCid&&void 0!==t.dataSize||void 0!==t.dataCid&&void 0===t.dataSize)throw new ne(le.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===t.signer&&void 0!==t.delegatedGrant)throw new ne(le.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const l=null!==(n=t.dataCid)&&void 0!==n?n:yield xd.computeDagPbCidFromBytes(t.data),f=null!==(i=t.dataSize)&&void 0!==i?i:t.data.length,X=ra.getCurrentTimestamp(),W={interface:Qi.Records,method:wi.Write,protocol:void 0!==t.protocol?vm(t.protocol):void 0,protocolPath:t.protocolPath,recipient:t.recipient,schema:void 0!==t.schema?bm(t.schema):void 0,tags:t.tags,parentId:Jo.getRecordIdFromContextId(t.parentContextId),dataCid:l,dataSize:f,dateCreated:null!==(u=t.dateCreated)&&void 0!==u?u:X,messageTimestamp:null!==(h=t.messageTimestamp)&&void 0!==h?h:X,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};!0===t.published&&void 0===t.datePublished&&(W.datePublished=X),Wd(W);const k=t.recordId,re=yield xd.computeCid(W),Oe=yield Jo.createAttestation(re,t.attestationSigners),je=yield Jo.createEncryptionProperty(W,t.encryptionInput),Ke={recordId:k,descriptor:W};void 0!==Oe&&(Ke.attestation=Oe),void 0!==je&&(Ke.encryption=je);const tt=new Jo(Ke,t.parentContextId);return void 0!==t.signer&&(yield tt.sign({signer:t.signer,delegatedGrant:t.delegatedGrant,permissionGrantId:t.permissionGrantId,protocolRole:t.protocolRole})),tt})}static getRecordIdFromContextId(t){return t?.split("/").filter(n=>""!==n).pop()}static createFrom(t){var n,i,u,h;return nc(this,void 0,void 0,function*(){const l=t.recordsWriteMessage,f=yield Jo.parse(l),X=ra.getCurrentTimestamp(),W=null!==(n=t.published)&&void 0!==n?n:!!t.datePublished||l.descriptor.published;let k;t.datePublished?k=t.datePublished:W&&(k=l.descriptor.published?l.descriptor.datePublished:X);const re={recipient:l.descriptor.recipient,recordId:l.recordId,dateCreated:l.descriptor.dateCreated,protocol:l.descriptor.protocol,protocolPath:l.descriptor.protocolPath,schema:l.descriptor.schema,parentContextId:vo.getParentContextFromOfContextId(l.contextId),messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:X,published:W,datePublished:k,tags:t.tags,data:t.data,dataCid:t.data?void 0:l.descriptor.dataCid,dataSize:t.data?void 0:l.descriptor.dataSize,dataFormat:null!==(u=t.dataFormat)&&void 0!==u?u:l.descriptor.dataFormat,protocolRole:null!==(h=t.protocolRole)&&void 0!==h?h:f.signaturePayload.protocolRole,delegatedGrant:t.delegatedGrant,signer:t.signer,attestationSigners:t.attestationSigners};return yield Jo.create(re)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(t){return nc(this,void 0,void 0,function*(){this._message.encryption=yield Jo.createEncryptionProperty(this._message.descriptor,t),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(t){var n;return nc(this,void 0,void 0,function*(){const{signer:i,delegatedGrant:u,permissionGrantId:h,protocolRole:l}=t;let f,X;void 0!==u?(f=yield Hr.getCid(u),X=dr.getSignerDid(u.authorization.signature.signatures[0])):X=dr.extractDid(i.keyId);const W=this._message.descriptor,k=yield xd.computeCid(W);this._message.recordId=null!==(n=this._message.recordId)&&void 0!==n?n:yield Jo.getEntryId(X,W),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const re=yield Jo.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:k,attestation:this._message.attestation,encryption:this._message.encryption,signer:i,delegatedGrantId:f,permissionGrantId:h,protocolRole:l});this._message.authorization={signature:re},void 0!==u&&(this._message.authorization.authorDelegatedGrant=u),this._signaturePayload=dr.decodePlainObjectPayload(re),this._author=X})}signAsOwner(t){return nc(this,void 0,void 0,function*(){if(void 0===this._author)throw new ne(le.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,i=yield Hr.createSignature(n,t);this._message.authorization.ownerSignature=i,this._ownerSignaturePayload=dr.decodePlainObjectPayload(i),this._owner=dr.extractDid(t.keyId)})}signAsOwnerDelegate(t,n){return nc(this,void 0,void 0,function*(){if(void 0===this._author)throw new ne(le.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const i=yield Hr.getCid(n),u=this._message.descriptor,h=yield Hr.createSignature(u,t,{delegatedGrantId:i});this._message.authorization.ownerSignature=h,this._message.authorization.ownerDelegatedGrant=n,this._ownerSignaturePayload=dr.decodePlainObjectPayload(h),this._owner=dr.getSignerDid(n.authorization.signature.signatures[0])})}validateIntegrity(){return nc(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const i=this.message.descriptor.dateCreated,u=this.message.descriptor.messageTimestamp;if(u!==i)throw new ne(le.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${u} must match dateCreated ${i} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const h=yield this.getEntryId();if(this.message.contextId!==h)throw new ne(le.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${h}`)}}const n=this.signaturePayload;if(this.message.recordId!==n.recordId)throw new ne(le.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${n.recordId}`);if(this.message.contextId!==n.contextId)throw new ne(le.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${n.contextId}`);if(yield vo.validateDelegatedGrantReferentialIntegrity(this.message,n,this.ownerSignaturePayload),void 0!==n.attestationCid){const i=yield xd.computeCid(this.message.attestation),u=n.attestationCid;if(u!==i)throw new ne(le.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${i} of attestation property in message does not match attestationCid in authorization: ${u}`)}if(void 0!==n.encryptionCid){const i=yield xd.computeCid(this.message.encryption),u=n.encryptionCid;if(u!==i)throw new ne(le.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${u}`)}void 0!==this.message.descriptor.protocol&&gm(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&$0(this.message.descriptor.schema),ra.validateTimestamp(this.message.descriptor.messageTimestamp),ra.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&ra.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(t){return nc(this,void 0,void 0,function*(){if(void 0===t.attestation)return;if(1!==t.attestation.signatures.length)throw new ne(le.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);const n=dr.decodePlainObjectPayload(t.attestation),{descriptorCid:i}=n,u=yield xd.computeCid(t.descriptor);if(i!==u)throw new ne(le.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${i} does not match expected descriptorCid ${u}`);const h=Object.keys(n).length;if(h>1)throw new ne(le.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${h} properties.`)})}getEntryId(){return nc(this,void 0,void 0,function*(){return yield Jo.getEntryId(this.author,this.message.descriptor)})}static getEntryId(t,n){return nc(this,void 0,void 0,function*(){if(void 0===t)throw new ne(le.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const i=Object.assign({},n);return i.author=t,yield xd.computeCid(i)})}isInitialWrite(){return nc(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(t){return nc(this,void 0,void 0,function*(){const n=this.message,i=n.descriptor,{tags:u}=i,h=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(i,["tags"]);delete h.published;let l=Object.assign(Object.assign({},h),{isLatestBaseState:t,published:!!n.descriptor.published,author:this.author,recordId:n.recordId,entryId:yield Jo.getEntryId(this.author,this.message.descriptor)});if(void 0!==u&&!0===t){const f=vo.buildTagIndexes(Object.assign({},u));l=Object.assign(Object.assign({},l),f)}return this.attesters.length>0&&(l.attester=this.attesters[0]),void 0!==n.contextId&&(l.contextId=n.contextId),l})}authorizeAuthorDelegate(t){return nc(this,void 0,void 0,function*(){const n=yield Bu.parse(this.message.authorization.authorDelegatedGrant);yield Gd.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}authorizeOwnerDelegate(t){return nc(this,void 0,void 0,function*(){const n=yield Bu.parse(this.message.authorization.ownerDelegatedGrant);yield Gd.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:n,messageStore:t})})}static isInitialWrite(t){return nc(this,void 0,void 0,function*(){if(t.descriptor.interface!==Qi.Records||t.descriptor.method!==wi.Write)return!1;const n=t,i=vo.getAuthor(n);return(yield Jo.getEntryId(i,n.descriptor))===n.recordId})}static createEncryptionProperty(t,n){var i,u;return nc(this,void 0,void 0,function*(){if(void 0===n)return;const h=[];for(const f of n.keyEncryptionInputs){if(f.derivationScheme===cu.ProtocolPath&&void 0===t.protocol)throw new ne(le.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(f.derivationScheme===cu.Schemas&&void 0===t.schema)throw new ne(le.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const X=pe.publicJwkToBytes(f.publicKey),W=yield j0.eciesSecp256k1Encrypt(X,n.key),k=me.bytesToBase64Url(W.ciphertext),re=yield pe.publicKeyToJwk(W.ephemeralPublicKey),Oe=me.bytesToBase64Url(W.initializationVector),je=me.bytesToBase64Url(W.messageAuthenticationCode),Ke={rootKeyId:f.publicKeyId,algorithm:null!==(i=f.algorithm)&&void 0!==i?i:I2.EciesSecp256k1,derivationScheme:f.derivationScheme,ephemeralPublicKey:re,initializationVector:Oe,messageAuthenticationCode:je,encryptedKey:k};f.derivationScheme===cu.ProtocolContext&&(Ke.derivedPublicKey=f.publicKey),h.push(Ke)}return{algorithm:null!==(u=n.algorithm)&&void 0!==u?u:I2.Aes256Ctr,initializationVector:me.bytesToBase64Url(n.initializationVector),keyEncryption:h}})}static createAttestation(t,n){return nc(this,void 0,void 0,function*(){if(void 0===n||0===n.length)return;const u=me.objectToBytes({descriptorCid:t});return(yield ym.create(u,n)).getJws()})}static createSignerSignature(t){return nc(this,void 0,void 0,function*(){const{recordId:n,contextId:i,descriptorCid:u,attestation:h,encryption:l,signer:f,delegatedGrantId:X,permissionGrantId:W,protocolRole:k}=t,je={recordId:n,descriptorCid:u,contextId:i,attestationCid:h?yield xd.computeCid(h):void 0,encryptionCid:l?yield xd.computeCid(l):void 0,delegatedGrantId:X,permissionGrantId:W,protocolRole:k};Wd(je);const Ke=me.objectToBytes(je);return(yield ym.create(Ke,[f])).getJws()})}static getInitialWrite(t){return nc(this,void 0,void 0,function*(){for(const n of t)if(yield Jo.isInitialWrite(n))return n;throw new ne(le.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(t,n){const i=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let u=[];u.push(...Object.keys(t.descriptor)),u.push(...Object.keys(n.descriptor)),u=[...new Set(u)];for(const h of u)if(-1===i.indexOf(h)){const l=t.descriptor[h],f=n.descriptor[h];if(f!==l)throw new ne(le.RecordsWriteImmutablePropertyChanged,`${h} is an immutable property: cannot change '${l}' to '${f}'`)}return!0}static getAttesters(t){var n,i;return(null!==(i=null===(n=t.attestation)||void 0===n?void 0:n.signatures)&&void 0!==i?i:[]).map(l=>dr.getSignerDid(l))}static fetchInitialRecordsWrite(t,n,i){return nc(this,void 0,void 0,function*(){const u={entryId:i},{messages:h}=yield t.query(n,[u]);return 0===h.length?void 0:yield Jo.parse(h[0])})}}var Lx=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function gu(r,t){return Lx(this,void 0,void 0,function*(){if(void 0===r)throw new ne(le.AuthenticateJwsMissing,"Missing JWS.");if(yield Yc.verifySignatures(r.signature,t),void 0!==r.ownerSignature&&(yield Yc.verifySignatures(r.ownerSignature,t)),void 0!==r.authorDelegatedGrant){const n=yield Jo.parse(r.authorDelegatedGrant);yield Yc.verifySignatures(n.message.authorization.signature,t)}if(void 0!==r.ownerDelegatedGrant){const n=yield Jo.parse(r.ownerDelegatedGrant);yield Yc.verifySignatures(n.message.authorization.signature,t)}})}function Ey(r,t){return Lx(this,void 0,void 0,function*(){if(t.author!==r)throw new ne(le.AuthorizationAuthorNotOwner,`Message authored by ${t.author}, not authored by expected owner ${r}.`)})}class fI{isActiveTenant(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class Hu{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(t){this._message=t,void 0!==t.authorization&&(this._signer=Hr.getSigner(t),this._author=void 0!==t.authorization.authorDelegatedGrant?Hr.getSigner(t.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=dr.decodePlainObjectPayload(t.authorization.signature))}toJSON(){return this.message}}var C_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class xy extends Hu{static parse(t){return C_(this,void 0,void 0,function*(){if(!1===t.descriptor.filter.published&&(t.descriptor.dateSort===Ml.PublishedAscending||t.descriptor.dateSort===Ml.PublishedDescending))throw new ne(le.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.descriptor.dateSort}`);let n;if(void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield vo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new ne(le.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&gm(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&$0(t.descriptor.filter.schema),ra.validateTimestamp(t.descriptor.messageTimestamp),new xy(t)})}static create(t){var n;return C_(this,void 0,void 0,function*(){const i={interface:Qi.Records,method:wi.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ra.getCurrentTimestamp(),filter:vo.normalizeFilter(t.filter),dateSort:t.dateSort,pagination:t.pagination};if(!1===t.filter.published&&(t.dateSort===Ml.PublishedAscending||t.dateSort===Ml.PublishedDescending))throw new ne(le.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.dateSort}`);Wd(i);const u=t.signer;let h;u&&(h=yield Hr.createAuthorization({descriptor:i,signer:u,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const l={descriptor:i,authorization:h};return Hr.validateJsonSchema(l),new xy(l)})}authorizeDelegate(t){return C_(this,void 0,void 0,function*(){const n=yield Bu.parse(this.message.authorization.authorDelegatedGrant);yield Gd.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:n,messageStore:t})})}}var hI=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Tp{static toBytes(t){return hI(this,void 0,void 0,function*(){return new Promise((n,i)=>{const u=[];t.on("data",h=>{u.push(h)}),t.on("end",()=>{const h=Tp.concatenateArrayOfBytes(u);n(h)}),t.on("error",i)})})}static toObject(t){return hI(this,void 0,void 0,function*(){const n=yield Tp.toBytes(t);return me.bytesToObject(n)})}static concatenateArrayOfBytes(t){const n=t.reduce((h,l)=>h+l.length,0),i=new Uint8Array(n);let u=0;for(const h of t)i.set(h,u),u+=h.length;return i}static fromBytes(t){let i=0;return new K0.Readable({read(h){i+1e5>t.length?(this.push(t.subarray(i)),this.push(null)):(this.push(t.subarray(i,i+1e5)),i+=1e5)}})}static fromObject(t){const n=me.objectToBytes(t);return Tp.fromBytes(n)}static duplicateDataStream(t,n){const i=[];for(let u=0;u<n;u++){const h=new K0.PassThrough;t.pipe(h),i.push(h)}return i}}var k_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Ap extends Hu{static parse(t){return k_(this,void 0,void 0,function*(){return Hr.validateJsonSchema(t),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor),ra.validateTimestamp(t.descriptor.messageTimestamp),new Ap(t)})}static create(t){var n;return k_(this,void 0,void 0,function*(){const i={interface:Qi.Events,method:wi.Get,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ra.getCurrentTimestamp()};t.cursor&&(i.cursor=t.cursor);const h={descriptor:i,authorization:yield Hr.createAuthorization({descriptor:i,signer:t.signer})};return Hr.validateJsonSchema(h),new Ap(h)})}}function Ms(r,t){return{status:{code:t,detail:r instanceof Error?r.message:"Error"}}}class mI{constructor(t,n){this.didResolver=t,this.eventLog=n}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield Ap.parse(n)}catch(f){return Ms(f,400)}try{yield gu(n.authorization,this.didResolver),yield Ey(t,i)}catch(f){return Ms(f,401)}const{cursor:u}=n.descriptor,{events:h,cursor:l}=yield this.eventLog.getEvents(t,u);return{status:{code:200,detail:"OK"},entries:h,cursor:l}})}}class P_{static normalizeFilters(t){const n=[];for(const i of t){let u;u=this.isRecordsFilter(i)?vo.normalizeFilter(i):i,Wd(u),Qg(u)||n.push(u)}return n}static convertFilters(t){const n=[];for(const i of t)this.isRecordsFilter(i)?n.push(vo.convertFilter(i)):n.push(this.convertFilter(i));return n}static convertFilter(t){const n=Object.assign({},t),{dateUpdated:i}=t,u=i?Md.convertRangeCriterion(i):void 0;return u&&(n.messageTimestamp=u,delete n.dateUpdated),n}static isRecordsFilter(t){return"author"in t||"dateCreated"in t||"dataFormat"in t||"dataSize"in t||"parentId"in t||"recordId"in t||"schema"in t||"protocol"in t||"protocolPath"in t||"recipient"in t}}var Kx=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class My extends Hu{static parse(t){return Kx(this,void 0,void 0,function*(){Hr.validateJsonSchema(t),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&gm(n.protocol),"schema"in n&&void 0!==n.schema&&$0(n.schema);return new My(t)})}static create(t){var n;return Kx(this,void 0,void 0,function*(){const i={interface:Qi.Events,method:wi.Query,filters:P_.normalizeFilters(t.filters),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ra.getCurrentTimestamp(),cursor:t.cursor};Wd(i);const h={descriptor:i,authorization:yield Hr.createAuthorization({descriptor:i,signer:t.signer})};return Hr.validateJsonSchema(h),new My(h)})}}class gI{constructor(t,n){this.didResolver=t,this.eventLog=n}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield My.parse(n)}catch(f){return Ms(f,400)}try{yield gu(n.authorization,this.didResolver),yield Ey(t,i)}catch(f){return Ms(f,401)}const u=P_.convertFilters(n.descriptor.filters),{events:h,cursor:l}=yield this.eventLog.queryEvents(t,u,n.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:h,cursor:l}})}}var O_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Sy extends Hu{static parse(t){return O_(this,void 0,void 0,function*(){Hr.validateJsonSchema(t),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&gm(n.protocol),"schema"in n&&void 0!==n.schema&&$0(n.schema);return ra.validateTimestamp(t.descriptor.messageTimestamp),new Sy(t)})}static create(t){var n,i;return O_(this,void 0,void 0,function*(){const u=ra.getCurrentTimestamp(),h={interface:Qi.Events,method:wi.Subscribe,filters:null!==(n=t.filters)&&void 0!==n?n:[],messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:u};Wd(h);const f={descriptor:h,authorization:yield Hr.createAuthorization({descriptor:h,signer:t.signer})};return Hr.validateJsonSchema(f),new Sy(f)})}}class vI{constructor(t,n){this.didResolver=t,this.eventStream=n}handle({tenant:t,message:n,subscriptionHandler:i}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Ms(new ne(le.EventsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let u;try{u=yield Sy.parse(n)}catch(k){return Ms(k,400)}try{yield gu(n.authorization,this.didResolver),yield Ey(t,u)}catch(k){return Ms(k,401)}const{filters:h}=n.descriptor,l=P_.convertFilters(h),f=yield Hr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,f,(k,re,Oe)=>{t===k&&Md.matchAnyFilter(Oe,l)&&i(re)})}})}}var jx=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Ty extends Hu{static parse(t){return jx(this,void 0,void 0,function*(){return Hr.validateJsonSchema(t),this.validateMessageCids(t.descriptor.messageCids),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor),ra.validateTimestamp(t.descriptor.messageTimestamp),new Ty(t)})}static create(t){var n;return jx(this,void 0,void 0,function*(){const i={interface:Qi.Messages,method:wi.Get,messageCids:t.messageCids,messageTimestamp:null!==(n=t?.messageTimestamp)&&void 0!==n?n:ra.getCurrentTimestamp()},h={descriptor:i,authorization:yield Hr.createAuthorization({descriptor:i,signer:t.signer})};return Hr.validateJsonSchema(h),Ty.validateMessageCids(t.messageCids),new Ty(h)})}static validateMessageCids(t){for(const n of t)try{xd.parseCid(n)}catch{throw new ne(le.MessageGetInvalidCid,`${n} is not a valid CID`)}}}class W5{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield Ty.parse(n)}catch(f){return Ms(f,400)}try{yield gu(n.authorization,this.didResolver),yield Ey(t,i)}catch(f){return Ms(f,401)}const u=[],h=new Set(n.descriptor.messageCids);for(const f of h){const X=this.messageStore.get(t,f).then(W=>({messageCid:f,message:W})).catch(W=>({messageCid:f,message:void 0,error:`Failed to get message ${f}`}));u.push(X)}const l=yield Promise.all(u);for(const f of l){const{message:X}=f;if(!X)continue;const{interface:W,method:k}=X.descriptor;if(W!==Qi.Records||k!==wi.Write)continue;const re=X;void 0!==re.encodedData&&(f.encodedData=re.encodedData,delete re.encodedData)}return{status:{code:200,detail:"OK"},entries:l}})}}var R_=_(20844),Dp=function(r){return r.Anyone="anyone",r.Author="author",r.Recipient="recipient",r}(Dp||{}),Nc=function(r){return r.CoDelete="co-delete",r.CoPrune="co-prune",r.CoUpdate="co-update",r.Create="create",r.Delete="delete",r.Prune="prune",r.Query="query",r.Read="read",r.Subscribe="subscribe",r.Update="update",r}(Nc||{}),B_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Hl extends Hu{static parse(t){return B_(this,void 0,void 0,function*(){return Hr.validateJsonSchema(t),Hl.validateProtocolDefinition(t.descriptor.definition),yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor),ra.validateTimestamp(t.descriptor.messageTimestamp),new Hl(t)})}static create(t){var n;return B_(this,void 0,void 0,function*(){const i={interface:Qi.Protocols,method:wi.Configure,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ra.getCurrentTimestamp(),definition:Hl.normalizeDefinition(t.definition)},h={descriptor:i,authorization:yield Hr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId})};return Hr.validateJsonSchema(h),Hl.validateProtocolDefinition(h.descriptor.definition),new Hl(h)})}static validateProtocolDefinition(t){const{protocol:n,types:i}=t;gm(n);for(const u in i){const h=i[u].schema;void 0!==h&&$0(h)}Hl.validateStructure(t)}static validateStructure(t){const n=Object.keys(t.types),i=Hl.fetchAllRolePathsRecursively("",t.structure,[]);Hl.validateRuleSetRecursively({ruleSet:t.structure,ruleSetProtocolPath:"",recordTypes:n,roles:i})}static fetchAllRolePathsRecursively(t,n,i){if(t.split("/").length>10)throw new ne(le.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const u in n){if(u.startsWith("$"))continue;const h=n[u];let l;l=""===t?u:`${t}/${u}`,h.$role?i.push(l):Hl.fetchAllRolePathsRecursively(l,h,i)}return i}static validateRuleSetRecursively(t){var n;const{ruleSet:i,ruleSetProtocolPath:u,recordTypes:h,roles:l}=t;if(void 0!==i.$size){const{min:X=0,max:W}=i.$size;if(void 0!==W&&W<X)throw new ne(le.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${W} less than min limit ${X} at protocol path '${u}'`)}if(i.$tags){const X=new R_.default,Oe=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(i.$tags,["$allowUndefinedTags","$requiredTags"]);for(const je in Oe)if(!X.validateSchema(Oe[je])){const tt=X.errorsText(X.errors,{dataVar:`${u}/$tags/${je}`});throw new ne(le.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${tt}`)}}const f=null!==(n=i.$actions)&&void 0!==n?n:[];for(let X=0;X<f.length;X++){const W=f[X];if(void 0!==W.role&&!l.includes(W.role))throw new ne(le.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify(W)} for rule set ${u} does not exist.`);if("anyone"===W.who&&W.of)throw new ne(le.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${u})`);if(W.who===Dp.Recipient&&void 0===W.of&&W.can.some(re=>![Nc.CoUpdate,Nc.CoDelete,Nc.CoPrune].includes(re)))throw new ne(le.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if(W.who===Dp.Author&&!W.of)throw new ne(le.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==W.can){if(W.can.includes(Nc.Update)&&!W.can.includes(Nc.Create))throw new ne(le.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify(W)} contains 'update' action but missing the required 'create' action.`);if(W.can.includes(Nc.Delete)&&!W.can.includes(Nc.Create))throw new ne(le.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify(W)} contains 'delete' action but missing the required 'create' action.`)}for(let k=X+1;k<f.length;k++){const re=f[k];if(void 0!==W.who){if(W.who===re.who&&W.of===re.of)throw new ne(le.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${W.who} of ${W.of} not allowed within a rule set: ${JSON.stringify(W)}`)}else if(W.role===re.role)throw new ne(le.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${W.role} not allowed within a rule set: ${JSON.stringify(W)}`)}}for(const X in i){if(X.startsWith("$"))continue;if(!h.includes(X))throw new ne(le.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${X} is not declared as an allowed type in the protocol definition.`);let k;k=""===u?X:`${u}/${X}`,Hl.validateRuleSetRecursively({ruleSet:i[X],ruleSetProtocolPath:k,recordTypes:h,roles:l})}}static normalizeDefinition(t){const n=Object.assign({},t.types);for(const i in n){const u=n[i].schema;void 0!==u&&(n[i].schema=bm(u))}return Object.assign(Object.assign({},t),{protocol:vm(t.protocol),types:n})}}class N_{constructor(t,n,i,u){this.didResolver=t,this.messageStore=n,this.eventLog=i,this.eventStream=u}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield Hl.parse(n)}catch(k){return Ms(k,400)}try{yield gu(n.authorization,this.didResolver),yield Ey(t,i)}catch(k){return Ms(k,401)}const u={interface:Qi.Protocols,method:wi.Configure,protocol:n.descriptor.definition.protocol},{messages:h}=yield this.messageStore.query(t,[u]);let X,l=yield Hr.getNewestMessage(h),f=!1;if((void 0===l||(yield Hr.isNewer(n,l)))&&(f=!0,l=n),f){const k=N_.constructIndexes(i);yield this.messageStore.put(t,n,k);const re=yield Hr.getCid(n);yield this.eventLog.append(t,re,k),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n},k),X={status:{code:202,detail:"Accepted"}}}else X={status:{code:409,detail:"Conflict"}};const W=[];for(const k of h)if(yield Hr.isNewer(l,k)){const re=yield Hr.getCid(k);W.push(re),yield this.messageStore.delete(t,re)}return yield this.eventLog.deleteEventsByCid(t,W),X})}static constructIndexes(t){const n=t.message.descriptor,{definition:i}=n,u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(n,["definition"]),{author:h}=t;return Object.assign(Object.assign({},u),{author:h,protocol:i.protocol,published:i.published})}}var U_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Ds{static parseRequest(t){return me.base64UrlToObject(t)}static createRequest(t){return U_(this,void 0,void 0,function*(){const n=Ds.normalizePermissionScope(t.scope),i={description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions},u=me.objectToBytes(i);return{recordsWrite:yield Jo.create({signer:t.signer,messageTimestamp:t.dateRequested,protocol:Ds.uri,protocolPath:Ds.requestPath,dataFormat:"application/json",data:u}),permissionRequestData:i,permissionRequestBytes:u}})}static createGrant(t){return U_(this,void 0,void 0,function*(){const n=Ds.normalizePermissionScope(t.scope),i={dateExpires:t.dateExpires,requestId:t.requestId,description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions},u=me.objectToBytes(i),h=yield Jo.create({signer:t.signer,messageTimestamp:t.dateGranted,dateCreated:t.dateGranted,recipient:t.grantedTo,protocol:Ds.uri,protocolPath:Ds.grantPath,dataFormat:"application/json",data:u});return{recordsWrite:h,permissionGrantData:i,permissionGrantBytes:u,dataEncodedMessage:Object.assign(Object.assign({},h.message),{encodedData:me.bytesToBase64Url(u)})}})}static createRevocation(t){return U_(this,void 0,void 0,function*(){const n={description:t.description},i=me.objectToBytes(n);return{recordsWrite:yield Jo.create({signer:t.signer,parentContextId:t.grantId,protocol:Ds.uri,protocolPath:Ds.revocationPath,dataFormat:"application/json",data:i}),permissionRevocationData:n,permissionRevocationBytes:i}})}static validateSchema(t,n){const i=me.bytesToString(n),u=JSON.parse(i);if(t.descriptor.protocolPath===Ds.requestPath)ol("PermissionRequestData",u);else if(t.descriptor.protocolPath===Ds.grantPath){ol("PermissionGrantData",u);const h=u;Ds.validateScope(h.scope),ra.validateTimestamp(h.dateExpires)}else{if(t.descriptor.protocolPath!==Ds.revocationPath)throw new ne(le.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${t.descriptor.protocolPath}`);ol("PermissionRevocationData",u)}}static fetchGrant(t,n,i){return U_(this,void 0,void 0,function*(){const u={recordId:i,isLatestBaseState:!0},{messages:h}=yield n.query(t,[u]),l=h[0],f=l?.descriptor.interface,X=l?.descriptor.method;if(f!==Qi.Records||X!==wi.Write||l.descriptor.protocolPath!==Ds.grantPath)throw new ne(le.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${i}.`);const W=l;return yield Bu.parse(W)})}static normalizePermissionScope(t){const n=Object.assign({},t);return Ds.isRecordPermissionScope(n)&&(void 0!==n.protocol&&(n.protocol=vm(n.protocol)),void 0!==n.schema&&(n.schema=bm(n.schema))),n}static isRecordPermissionScope(t){return"Records"===t.interface}static validateScope(t){if(this.isRecordPermissionScope(t)){if(void 0!==t.schema&&(void 0!==t.protocol||void 0!==t.contextId||t.protocolPath))throw new ne(le.PermissionsProtocolValidateScopeSchemaProhibitedProperties,"Permission grants that have `schema` present cannot also have protocol-related properties present");if(void 0!==t.protocol&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new ne(le.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}}Ds.uri="https://tbd.website/dwn/permissions",Ds.requestPath="request",Ds.grantPath="grant",Ds.revocationPath="grant/revocation",Ds.definition={published:!0,protocol:Ds.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};var Vx=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Ay extends Hu{static parse(t){return Vx(this,void 0,void 0,function*(){return void 0!==t.authorization&&(yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),void 0!==t.descriptor.filter&&gm(t.descriptor.filter.protocol),ra.validateTimestamp(t.descriptor.messageTimestamp),new Ay(t)})}static create(t){var n;return Vx(this,void 0,void 0,function*(){const i={interface:Qi.Protocols,method:wi.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ra.getCurrentTimestamp(),filter:t.filter?Ay.normalizeFilter(t.filter):void 0};let u;Wd(i),void 0!==t.signer&&(u=yield Hr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId}));const h={descriptor:i,authorization:u};return Hr.validateJsonSchema(h),new Ay(h)})}static normalizeFilter(t){return Object.assign(Object.assign({},t),{protocol:vm(t.protocol)})}authorize(t,n){return Vx(this,void 0,void 0,function*(){if(this.author!==t){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new ne(le.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const i=yield Ds.fetchGrant(t,n,this.signaturePayload.permissionGrantId);yield _f.performBaseValidation({incomingMessage:this.message,expectedGrantor:t,expectedGrantee:this.author,permissionGrant:i,messageStore:n})}}})}}var Dv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class bI{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return Dv(this,void 0,void 0,function*(){let i;try{i=yield Ay.parse(n)}catch(l){return Ms(l,400)}try{yield gu(n.authorization,this.didResolver),yield i.authorize(t,this.messageStore)}catch(l){return l.code===le.AuthenticateJwsMissing||l.code===le.ProtocolsQueryUnauthorized?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(t,i)}:Ms(l,401)}const u=Object.assign(Object.assign({},n.descriptor.filter),{interface:Qi.Protocols,method:wi.Configure});Wd(u);const{messages:h}=yield this.messageStore.query(t,[u]);return{status:{code:200,detail:"OK"},entries:h}})}fetchPublishedProtocolsConfigure(t,n){return Dv(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},n.message.descriptor.filter),{interface:Qi.Protocols,method:wi.Configure,published:!0}),{messages:u}=yield this.messageStore.query(t,[i]);return u})}}var Pd=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Oo{static validateReferentialIntegrity(t,n,i){return Pd(this,void 0,void 0,function*(){const u=yield Oo.fetchProtocolDefinition(t,n.message.descriptor.protocol,i);Oo.verifyType(n.message,u.types),yield Oo.verifyProtocolPathAndContextId(t,n,i);const h=Oo.getRuleSet(n.message.descriptor.protocolPath,u);yield Oo.verifyAsRoleRecordIfNeeded(t,n,h,i),Oo.verifySizeLimit(n,h),Oo.verifyTagsIfNeeded(n,h)})}static authorizeWrite(t,n,i){return Pd(this,void 0,void 0,function*(){let h;h=void 0===(yield Oo.fetchInitialWrite(t,n.message.recordId,i))?yield Oo.constructRecordChain(t,n.message.descriptor.parentId,i):yield Oo.constructRecordChain(t,n.message.recordId,i);const l=yield Oo.fetchProtocolDefinition(t,n.message.descriptor.protocol,i),f=Oo.getRuleSet(n.message.descriptor.protocolPath,l);yield Oo.verifyInvokedRole(t,n,n.message.descriptor.protocol,n.message.contextId,l,i),yield Oo.authorizeAgainstAllowedActions(t,n,f,h,i)})}static authorizeRead(t,n,i,u){return Pd(this,void 0,void 0,function*(){const h=yield Oo.constructRecordChain(t,i.message.recordId,u),l=yield Oo.fetchProtocolDefinition(t,i.message.descriptor.protocol,u),f=Oo.getRuleSet(i.message.descriptor.protocolPath,l);yield Oo.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,l,u),yield Oo.authorizeAgainstAllowedActions(t,n,f,h,u)})}static authorizeQueryOrSubscribe(t,n,i){return Pd(this,void 0,void 0,function*(){const{protocol:u,protocolPath:h,contextId:l}=n.message.descriptor.filter,f=yield Oo.fetchProtocolDefinition(t,u,i),X=Oo.getRuleSet(h,f);yield Oo.verifyInvokedRole(t,n,u,l,f,i),yield Oo.authorizeAgainstAllowedActions(t,n,X,[],i)})}static authorizeDelete(t,n,i,u){return Pd(this,void 0,void 0,function*(){const h=yield Oo.constructRecordChain(t,n.message.descriptor.recordId,u),l=yield Oo.fetchProtocolDefinition(t,i.message.descriptor.protocol,u),f=Oo.getRuleSet(i.message.descriptor.protocolPath,l);yield Oo.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,l,u),yield Oo.authorizeAgainstAllowedActions(t,n,f,h,u)})}static fetchProtocolDefinition(t,n,i){return Pd(this,void 0,void 0,function*(){if(n===Ds.uri)return Ds.definition;const u={interface:Qi.Protocols,method:wi.Configure,protocol:n},{messages:h}=yield i.query(t,[u]);if(0===h.length)throw new ne(le.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${n}`);return h[0].descriptor.definition})}static constructRecordChain(t,n,i){return Pd(this,void 0,void 0,function*(){if(void 0===n)return[];const u=[];let h=n;for(;void 0!==h;){const l=yield Oo.fetchInitialWrite(t,h,i);if(void 0===l)throw new ne(le.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${h} when constructing record chain.`);u.push(l),h=l.descriptor.parentId}return u.reverse()})}static fetchInitialWrite(t,n,i){return Pd(this,void 0,void 0,function*(){const u={interface:Qi.Records,method:wi.Write,recordId:n},{messages:h}=yield i.query(t,[u]);return 0===h.length?void 0:yield Jo.getInitialWrite(h)})}static getRuleSet(t,n){const i=Oo.getRuleSetAtProtocolPath(t,n);if(void 0===i)throw new ne(le.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${t}`);return i}static verifyProtocolPathAndContextId(t,n,i){var u;return Pd(this,void 0,void 0,function*(){const h=n.message.descriptor.protocolPath,l=Oo.getTypeName(h),f=n.message.descriptor.parentId;if(void 0===f){if(h!==l)throw new ne(le.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${h}' is not valid for records with no parent'.`);return}const W={isLatestBaseState:!0,interface:Qi.Records,method:wi.Write,protocol:n.message.descriptor.protocol,recordId:f},{messages:k}=yield i.query(t,[W]),re=k[0];if(`${null===(u=re?.descriptor)||void 0===u?void 0:u.protocolPath}/${l}`!==h)throw new ne(le.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${h}'.`);const Ke=`${re.contextId}/${n.message.recordId}`,tt=n.message.contextId;if(tt!==Ke)throw new ne(le.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${tt}' is not the same as expected: '${Ke}'.`)})}static verifyType(t,n){const i=Object.keys(n),h=Oo.getTypeName(t.descriptor.protocolPath);if(!i.includes(h))throw new ne(le.ProtocolAuthorizationInvalidType,`record with type ${h} not allowed in protocol`);const f=Oo.getTypeName(t.descriptor.protocolPath),X=n[f],{schema:W}=t.descriptor;if(void 0!==X.schema&&X.schema!==W)throw new ne(le.ProtocolAuthorizationInvalidSchema,`type '${f}' must have schema '${X.schema}',         instead has '${W}'`);const{dataFormat:k}=t.descriptor;if(void 0!==X.dataFormats&&!X.dataFormats.includes(k))throw new ne(le.ProtocolAuthorizationIncorrectDataFormat,`type '${f}' must have data format in (${X.dataFormats}),         instead has '${k}'`)}static verifyInvokedRole(t,n,i,u,h,l){var f;return Pd(this,void 0,void 0,function*(){const X=null===(f=n.signaturePayload)||void 0===f?void 0:f.protocolRole;if(void 0===X)return;const W=Oo.getRuleSetAtProtocolPath(X,h);if(void 0===W||!W.$role)throw new ne(le.ProtocolAuthorizationNotARole,`Protocol path ${X} does not match role record type.`);const k={interface:Qi.Records,method:wi.Write,protocol:i,protocolPath:X,recipient:n.author,isLatestBaseState:!0},re=X.split("/").length-1;if(void 0===u&&re>0)throw new ne(le.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(re>0){const Ke=u.split("/").slice(0,re).join("/"),tt=Md.constructPrefixFilterAsRangeFilter(Ke);k.contextId=tt}const{messages:Oe}=yield l.query(t,[k]);if(0===Oe.length)throw new ne(le.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${X}`)})}static getActionsSeekingARuleMatch(t,n,i){return Pd(this,void 0,void 0,function*(){switch(n.message.descriptor.method){case wi.Delete:const u=n,h=u.message.descriptor.recordId,l=yield Jo.fetchInitialRecordsWrite(i,t,h);if(void 0===l)return[];const f=[];return u.message.descriptor.prune?(f.push(Nc.CoPrune),n.author===l.author&&f.push(Nc.Prune)):(f.push(Nc.CoDelete),n.author===l.author&&f.push(Nc.Delete)),f;case wi.Query:return[Nc.Query];case wi.Read:return[Nc.Read];case wi.Subscribe:return[Nc.Subscribe];case wi.Write:if(yield n.isInitialWrite())return[Nc.Create];{const k=n.message.recordId,re=yield Jo.fetchInitialRecordsWrite(i,t,k);return void 0===re?[]:n.author===re.author?[Nc.CoUpdate,Nc.Update]:[Nc.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(t,n,i,u,h){var l;return Pd(this,void 0,void 0,function*(){const f=n.message.descriptor.method,X=yield Oo.getActionsSeekingARuleMatch(t,n,h),W=n.author,k=i.$actions;if(void 0===k)throw new ne(le.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${f}, ${W} is unauthorized`);const re=null===(l=n.signaturePayload)||void 0===l?void 0:l.protocolRole;for(const Oe of k)if(Oe.can.some(tt=>X.includes(tt))){if(Oe.who===Dp.Anyone)return;if(void 0!==W)if(void 0===re)if(Oe.who!==Dp.Recipient||void 0!==Oe.of){if(yield Oo.checkActor(W,Oe,u))return}else{let tt;if(tt=n.message.descriptor.method===wi.Write?n.message:u[u.length-1],tt.descriptor.recipient===W)return}else if(Oe.role===re)return}throw new ne(le.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${f} by author ${n.author} not allowed.`)})}static verifySizeLimit(t,n){const{min:i=0,max:u}=n.$size||{},h=t.message.descriptor.dataSize;if(h<i)throw new ne(le.ProtocolAuthorizationMinSizeInvalid,`data size ${h} is less than allowed ${i}`);if(void 0!==u&&h>u)throw new ne(le.ProtocolAuthorizationMaxSizeInvalid,`data size ${h} is more than allowed ${u}`)}static verifyTagsIfNeeded(t,n){if(void 0!==n.$tags){const{tags:i={},protocol:u,protocolPath:h}=t.message.descriptor,l=n.$tags,{$allowUndefinedTags:f,$requiredTags:X}=l,W=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(l,["$allowUndefinedTags","$requiredTags"]),k=f||!1,re=X||[],Oe=new R_.default,je=Oe.compile({type:"object",properties:W,required:re,additionalProperties:k});if(!je(i)){const tt=Oe.errorsText(je.errors,{dataVar:`${u}/${h}/$tags`});throw new ne(le.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${tt}`)}}}static verifyAsRoleRecordIfNeeded(t,n,i,u){return Pd(this,void 0,void 0,function*(){if(!i.$role)return;const h=n,l=h.message.descriptor.recipient;if(void 0===l)throw new ne(le.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const f=h.message.descriptor.protocolPath,X={interface:Qi.Records,method:wi.Write,isLatestBaseState:!0,protocol:h.message.descriptor.protocol,protocolPath:f,recipient:l},W=vo.getParentContextFromOfContextId(h.message.contextId);if(""!==W){const je=Md.constructPrefixFilterAsRangeFilter(W);X.contextId=je}const{messages:k}=yield u.query(t,[X]);if(k.filter(je=>je.recordId!==h.message.recordId).length>0)throw new ne(le.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${l}' is already recipient of a role record at protocol path '${f} under the parent context ${W}.`)})}static getRuleSetAtProtocolPath(t,n){const i=t.split("/");let u=n.structure,h=0;for(;h<i.length;){const f=u[i[h]];if(void 0===f)return;u=f,h++}return u}static checkActor(t,n,i){return Pd(this,void 0,void 0,function*(){const u=i.find(h=>h.descriptor.protocolPath===n.of);if(void 0===u)return!1;if(n.who===Dp.Recipient)return t===u.descriptor.recipient;{const h=(yield Jo.parse(u)).author;return t===h}})}static getTypeName(t){return t.split("/").slice(-1)[0]}}var L_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Dy extends Hu{static parse(t){return L_(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield vo.validateDelegatedGrantReferentialIntegrity(t,n),ra.validateTimestamp(t.descriptor.messageTimestamp),new Dy(t)})}static create(t){var n,i;return L_(this,void 0,void 0,function*(){const u=t.recordId,h=ra.getCurrentTimestamp(),l={interface:Qi.Records,method:wi.Delete,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:h,recordId:u,prune:null!==(i=t.prune)&&void 0!==i&&i},X={descriptor:l,authorization:yield Hr.createAuthorization({descriptor:l,signer:t.signer,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant})};return Hr.validateJsonSchema(X),new Dy(X)})}constructIndexes(t){const i=Object.assign({},this.message.descriptor),{protocol:u,protocolPath:h,recipient:l,schema:f,parentId:X,dateCreated:W}=t.descriptor,k=Object.assign({protocol:u,protocolPath:h,recipient:l,schema:f,parentId:X,dateCreated:W,contextId:t.contextId,author:this.author},i);return Wd(k),k}authorizeDelegate(t,n){return L_(this,void 0,void 0,function*(){const i=yield Bu.parse(this.message.authorization.authorDelegatedGrant);yield Gd.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}let K_=(()=>{class r{}return r.maxDataSizeAllowedToBeEncoded=3e4,r})();var Iv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Vm{static deleteFromDataStoreIfNeeded(t,n,i,u){return Iv(this,void 0,void 0,function*(){if(i.descriptor.method!==wi.Write)return;const h=i;h.descriptor.dataSize<=K_.maxDataSizeAllowedToBeEncoded||h.descriptor.dataCid!==u.descriptor.dataCid&&(yield t.delete(n,h.recordId,h.descriptor.dataCid))})}static purgeRecordDescendants(t,n,i,u,h){return Iv(this,void 0,void 0,function*(){const l={interface:Qi.Records,parentId:n},{messages:f}=yield i.query(t,[l]),X=new Map;for(const W of f){let k;k=vo.isRecordsWrite(W)?W.recordId:W.descriptor.recordId,X.has(k)||X.set(k,[]),X.get(k).push(W)}for(const W of X.keys())yield Vm.purgeRecordDescendants(t,W,i,u,h);for(const W of X.keys())yield Vm.purgeRecordMessages(t,X.get(W),i,u,h)})}static purgeRecordMessages(t,n,i,u,h){return Iv(this,void 0,void 0,function*(){const l=n.filter(W=>W.descriptor.method===wi.Write),f=yield Hr.getNewestMessage(l);yield u.delete(t,f.recordId,f.descriptor.dataCid);const X=yield Promise.all(n.map(W=>Hr.getCid(W)));yield h.deleteEventsByCid(t,X),yield Promise.all(X.map(W=>i.delete(t,W)))})}static deleteAllOlderMessagesButKeepInitialWrite(t,n,i,u,h,l){return Iv(this,void 0,void 0,function*(){const f=[];for(const X of n){if(yield Hr.isOlder(X,i)){yield Vm.deleteFromDataStoreIfNeeded(h,t,X,i);const k=yield Hr.getCid(X);if(yield u.delete(t,k),yield Jo.isInitialWrite(X)){const Ke=yield(yield Jo.parse(X)).constructIndexes(!1),tt=X;delete tt.encodedData,yield u.put(t,tt,Ke)}else{const Oe=yield Hr.getCid(X);f.push(Oe)}}yield l.deleteEventsByCid(t,f)}})}}var wI=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class zx{constructor(t,n,i,u,h){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=u,this.eventStream=h}handle({tenant:t,message:n}){return wI(this,void 0,void 0,function*(){let i;try{i=yield Dy.parse(n)}catch(je){return Ms(je,400)}try{yield gu(n.authorization,this.didResolver)}catch(je){return Ms(je,401)}const u={interface:Qi.Records,recordId:n.descriptor.recordId},{messages:h}=yield this.messageStore.query(t,[u]),l=yield Hr.getNewestMessage(h);let X,f=!1;if(void 0===l||(yield Hr.isNewer(n,l))?(f=!0,X=n):X=l,!f)return{status:{code:409,detail:"Conflict"}};if(void 0===l||l.descriptor.method===wi.Delete)return{status:{code:404,detail:"Not Found"}};try{yield zx.authorizeRecordsDelete(t,i,yield Jo.parse(l),this.messageStore)}catch(je){return Ms(je,401)}const W=yield Jo.getInitialWrite(h),k=i.constructIndexes(W),re=yield Hr.getCid(n);return yield this.messageStore.put(t,n,k),yield this.eventLog.append(t,re,k),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n,initialWrite:W},k),n.descriptor.prune&&(yield Vm.purgeRecordDescendants(t,n.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield Vm.deleteAllOlderMessagesButKeepInitialWrite(t,h,X,this.messageStore,this.dataStore,this.eventLog),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(t,n,i,u){return wI(this,void 0,void 0,function*(){if(Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,u)),n.author!==t){if(void 0===i.message.descriptor.protocol)throw new ne(le.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield Oo.authorizeDelete(t,n,i,u)}})}}var vu=function(r){return r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r}(vu||{}),Cv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Ip{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return Cv(this,void 0,void 0,function*(){let i,u,h;try{i=yield xy.parse(n)}catch(l){return Ms(l,400)}if(vo.filterIncludesPublishedRecords(i.message.descriptor.filter)&&void 0===i.author){const l=yield this.fetchPublishedRecords(t,i);u=l.messages,h=l.cursor}else{try{yield gu(n.authorization,this.didResolver),yield Ip.authorizeRecordsQuery(t,i,this.messageStore)}catch(l){return Ms(l,401)}if(i.author===t){const l=yield this.fetchRecordsAsOwner(t,i);u=l.messages,h=l.cursor}else{const l=yield this.fetchRecordsAsNonOwner(t,i);u=l.messages,h=l.cursor}}for(const l of u)if(!(yield Jo.isInitialWrite(l))){const X=(yield this.messageStore.query(t,[{recordId:l.recordId,isLatestBaseState:!1,method:wi.Write}])).messages[0];delete X.encodedData,l.initialWrite=X}return{status:{code:200,detail:"OK"},entries:u,cursor:h}})}convertDateSort(t){switch(t){case Ml.CreatedAscending:return{dateCreated:vu.Ascending};case Ml.CreatedDescending:return{dateCreated:vu.Descending};case Ml.PublishedAscending:return{datePublished:vu.Ascending};case Ml.PublishedDescending:return{datePublished:vu.Descending};default:return{dateCreated:vu.Ascending}}}fetchRecordsAsOwner(t,n){return Cv(this,void 0,void 0,function*(){const{dateSort:i,filter:u,pagination:h}=n.message.descriptor,l=Object.assign(Object.assign({},vo.convertFilter(u,i)),{interface:Qi.Records,method:wi.Write,isLatestBaseState:!0}),f=this.convertDateSort(i);return this.messageStore.query(t,[l],f,h)})}fetchRecordsAsNonOwner(t,n){return Cv(this,void 0,void 0,function*(){const{dateSort:i,pagination:u,filter:h}=n.message.descriptor,l=[];if(vo.filterIncludesPublishedRecords(h)&&l.push(Ip.buildPublishedRecordsFilter(n)),vo.filterIncludesUnpublishedRecords(h)){l.push(Ip.buildUnpublishedRecordsByQueryAuthorFilter(n));const X=n.message.descriptor.filter.recipient;(void 0===X||X===n.author)&&l.push(Ip.buildUnpublishedRecordsForQueryAuthorFilter(n)),vo.shouldProtocolAuthorize(n.signaturePayload)&&l.push(Ip.buildUnpublishedProtocolAuthorizedRecordsFilter(n))}const f=this.convertDateSort(i);return this.messageStore.query(t,l,f,u)})}fetchPublishedRecords(t,n){return Cv(this,void 0,void 0,function*(){const{dateSort:i,pagination:u}=n.message.descriptor,h=Ip.buildPublishedRecordsFilter(n),l=this.convertDateSort(i);return this.messageStore.query(t,[h],l,u)})}static buildPublishedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},vo.convertFilter(i,n)),{interface:Qi.Records,method:wi.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},vo.convertFilter(i,n)),{interface:Qi.Records,method:wi.Write,recipient:t.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},vo.convertFilter(i,n)),{interface:Qi.Records,method:wi.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},vo.convertFilter(i,n)),{author:t.author,interface:Qi.Records,method:wi.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(t,n,i){return Cv(this,void 0,void 0,function*(){Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),vo.shouldProtocolAuthorize(n.signaturePayload)&&(yield Oo.authorizeQueryOrSubscribe(t,n,i))})}}var Hx=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Oh extends Hu{static parse(t){return Hx(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield vo.validateDelegatedGrantReferentialIntegrity(t,n),ra.validateTimestamp(t.descriptor.messageTimestamp),new Oh(t)})}static create(t){var n;return Hx(this,void 0,void 0,function*(){const{filter:i,signer:u,permissionGrantId:h,protocolRole:l}=t,f=ra.getCurrentTimestamp(),X={interface:Qi.Records,method:wi.Read,filter:vo.normalizeFilter(i),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:f};let W;Wd(X),void 0!==u&&(W=yield Hr.createAuthorization({descriptor:X,signer:u,permissionGrantId:h,protocolRole:l,delegatedGrant:t.delegatedGrant}));const k={descriptor:X,authorization:W};return Hr.validateJsonSchema(k),new Oh(k)})}authorizeDelegate(t,n){return Hx(this,void 0,void 0,function*(){const i=yield Bu.parse(this.message.authorization.authorDelegatedGrant);yield Gd.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var Wx=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class F_{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return Wx(this,void 0,void 0,function*(){let i;try{i=yield Oh.parse(n)}catch(k){return Ms(k,400)}try{void 0!==i.author&&(yield gu(n.authorization,this.didResolver))}catch(k){return Ms(k,401)}const u=Object.assign({interface:Qi.Records,isLatestBaseState:!0},vo.convertFilter(n.descriptor.filter)),{messages:h}=yield this.messageStore.query(t,[u]);if(0===h.length)return{status:{code:404,detail:"Not Found"}};if(h.length>1)return Ms(new ne(le.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const l=h[0];try{yield F_.authorizeRecordsRead(t,i,yield Jo.parse(l),this.messageStore)}catch(k){return Ms(k,401)}let f;if(void 0!==l.encodedData){const k=me.base64UrlToBytes(l.encodedData);f=Tp.fromBytes(k),delete l.encodedData}else{const k=yield this.dataStore.get(t,l.recordId,l.descriptor.dataCid);if(void 0===k?.dataStream)return{status:{code:404,detail:"Not Found"}};f=k.dataStream}const X=Object.assign(Object.assign({},l),{data:f});if(!(yield Jo.isInitialWrite(X))){const re=(yield this.messageStore.query(t,[{recordId:X.recordId,isLatestBaseState:!1,method:wi.Write}])).messages[0];delete re.encodedData,X.initialWrite=re}return{status:{code:200,detail:"OK"},record:X}})}static authorizeRecordsRead(t,n,i,u){return Wx(this,void 0,void 0,function*(){Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,u));const{descriptor:h}=i.message;if(n.author!==t){if(!0===h.published)return;if(void 0!==n.author&&n.author===h.recipient)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const l=yield Ds.fetchGrant(t,u,n.signaturePayload.permissionGrantId);yield Gd.authorizeRead({recordsReadMessage:n.message,recordsWriteMessageToBeRead:i.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:l,messageStore:u})}else{if(void 0===h.protocol)throw new ne(le.RecordsReadAuthorizationFailed,"message failed authorization");yield Oo.authorizeRead(t,n,i,u)}}})}}var j_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Iy extends Hu{static parse(t){return j_(this,void 0,void 0,function*(){let n;if(void 0!==t.authorization&&(n=yield Hr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield vo.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new ne(le.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&gm(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&$0(t.descriptor.filter.schema),ra.validateTimestamp(t.descriptor.messageTimestamp),new Iy(t)})}static create(t){var n;return j_(this,void 0,void 0,function*(){const i={interface:Qi.Records,method:wi.Subscribe,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:ra.getCurrentTimestamp(),filter:vo.normalizeFilter(t.filter)};Wd(i);const u=t.signer;let h;u&&(h=yield Hr.createAuthorization({descriptor:i,signer:u,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const l={descriptor:i,authorization:h};return Hr.validateJsonSchema(l),new Iy(l)})}authorizeDelegate(t){return j_(this,void 0,void 0,function*(){const n=yield Bu.parse(this.message.authorization.authorDelegatedGrant);yield Gd.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}}var kv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Wu{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return kv(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Ms(new ne(le.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let u;try{u=yield Iy.parse(n)}catch(W){return Ms(W,400)}let h=[];if(vo.filterIncludesPublishedRecords(u.message.descriptor.filter)&&void 0===u.author)h=[Wu.buildPublishedRecordsFilter(u)],delete n.authorization;else{try{yield gu(n.authorization,this.didResolver),yield Wu.authorizeRecordsSubscribe(t,u,this.messageStore)}catch(W){return Ms(W,401)}h=u.author===t?yield Wu.filterAsOwner(u):yield Wu.filterAsNonOwner(u)}const f=yield Hr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,f,(W,k,re)=>{t===W&&Md.matchAnyFilter(re,h)&&i(k)})}})}static filterAsOwner(t){return kv(this,void 0,void 0,function*(){const{filter:n}=t.message.descriptor;return[Object.assign(Object.assign({},vo.convertFilter(n)),{interface:Qi.Records,method:[wi.Write,wi.Delete]})]})}static filterAsNonOwner(t){return kv(this,void 0,void 0,function*(){const n=[],{filter:i}=t.message.descriptor;if(vo.filterIncludesPublishedRecords(i)&&n.push(Wu.buildPublishedRecordsFilter(t)),vo.filterIncludesUnpublishedRecords(i)){n.push(Wu.buildUnpublishedRecordsBySubscribeAuthorFilter(t));const u=t.message.descriptor.filter.recipient;(void 0===u||u===t.author)&&n.push(Wu.buildUnpublishedRecordsForSubscribeAuthorFilter(t)),vo.shouldProtocolAuthorize(t.signaturePayload)&&n.push(Wu.buildUnpublishedProtocolAuthorizedRecordsFilter(t))}return n})}static buildPublishedRecordsFilter(t){return Object.assign(Object.assign({},vo.convertFilter(t.message.descriptor.filter)),{interface:Qi.Records,method:[wi.Write,wi.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(t){return Object.assign(Object.assign({},vo.convertFilter(t.message.descriptor.filter)),{interface:Qi.Records,method:[wi.Write,wi.Delete],recipient:t.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){return Object.assign(Object.assign({},vo.convertFilter(t.message.descriptor.filter)),{interface:Qi.Records,method:[wi.Write,wi.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(t){return Object.assign(Object.assign({},vo.convertFilter(t.message.descriptor.filter)),{author:t.author,interface:Qi.Records,method:[wi.Write,wi.Delete],published:!1})}static authorizeRecordsSubscribe(t,n,i){return kv(this,void 0,void 0,function*(){Hr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),vo.shouldProtocolAuthorize(n.signaturePayload)&&(yield Oo.authorizeQueryOrSubscribe(t,n,i))})}}var Cy=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class ky{constructor(t,n,i,u,h){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=u,this.eventStream=h}handle({tenant:t,message:n,dataStream:i}){return Cy(this,void 0,void 0,function*(){let u;try{u=yield Jo.parse(n),void 0!==n.descriptor.protocol&&(yield Oo.validateReferentialIntegrity(t,u,this.messageStore))}catch(je){return Ms(je,400)}try{yield gu(n.authorization,this.didResolver),yield ky.authorizeRecordsWrite(t,u,this.messageStore)}catch(je){return Ms(je,401)}const h={interface:Qi.Records,recordId:n.recordId},{messages:l}=yield this.messageStore.query(t,[h]),f=yield u.isInitialWrite();let X;if(!f)try{X=yield Jo.getInitialWrite(l),Jo.verifyEqualityOfImmutableProperties(X,n)}catch(je){return Ms(je,400)}const W=yield Hr.getNewestMessage(l);let re,k=!1;if(void 0===W||(yield Hr.isNewer(n,W))?(k=!0,re=n):re=W,!k)return{status:{code:409,detail:"Conflict"}};try{let je=!1,Ke=n;if(void 0!==i)Ke=yield this.processMessageWithDataStream(t,n,i),je=!0;else{if(W?.descriptor.method===wi.Delete)throw new ne(le.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!f){const bt=W;Ke=yield this.processMessageWithoutDataStream(t,n,bt),je=!0}}const tt=yield u.constructIndexes(je);yield this.messageStore.put(t,Ke,tt),yield this.eventLog.append(t,yield Hr.getCid(n),tt),void 0!==this.eventStream&&je&&this.eventStream.emit(t,{message:n,initialWrite:X},tt)}catch(je){const Ke=je;if(void 0!==Ke.code&&(Ke.code===le.RecordsWriteMissingEncodedDataInPrevious||Ke.code===le.RecordsWriteMissingDataInPrevious||Ke.code===le.RecordsWriteMissingDataStream||Ke.code===le.RecordsWriteDataCidMismatch||Ke.code===le.RecordsWriteDataSizeMismatch||Ke.code.startsWith("PermissionsProtocolValidate")||Ke.code.startsWith("SchemaValidator")))return Ms(je,400);throw je}return yield Vm.deleteAllOlderMessagesButKeepInitialWrite(t,l,re,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(t,u),{status:{code:202,detail:"Accepted"}}})}static validateSchemaForCoreRecordsWrite(t,n){t.descriptor.protocol===Ds.uri&&Ds.validateSchema(t,n)}postProcessingForCoreRecordsWrite(t,n){return Cy(this,void 0,void 0,function*(){if(n.message.descriptor.protocol===Ds.uri&&n.message.descriptor.protocolPath===Ds.revocationPath){const u={permissionGrantId:n.message.descriptor.parentId,dateCreated:{gte:n.message.descriptor.messageTimestamp}},{messages:h}=yield this.messageStore.query(t,[u]),l=[];for(const f of h){const X=yield Hr.getCid(f);yield this.messageStore.delete(t,X)}this.eventLog.deleteEventsByCid(t,l)}})}cloneAndAddEncodedData(t,n){return Cy(this,void 0,void 0,function*(){const i=Object.assign({},t);return i.encodedData=me.bytesToBase64Url(n),i})}processMessageWithDataStream(t,n,i){return Cy(this,void 0,void 0,function*(){let u=n;if(n.descriptor.dataSize<=K_.maxDataSizeAllowedToBeEncoded){const h=yield Tp.toBytes(i),l=yield xd.computeDagPbCidFromBytes(h);ky.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,l,h.length),ky.validateSchemaForCoreRecordsWrite(n,h),u=yield this.cloneAndAddEncodedData(n,h)}else{const[h,l]=Tp.duplicateDataStream(i,2);try{const[f,X]=yield Promise.all([xd.computeDagPbCidFromStream(h),this.dataStore.put(t,n.recordId,n.descriptor.dataCid,l)]);ky.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,f,X.dataSize)}catch(f){throw yield this.dataStore.delete(t,n.recordId,n.descriptor.dataCid),f}}return u})}processMessageWithoutDataStream(t,n,i){return Cy(this,void 0,void 0,function*(){const u=Object.assign({},n),{dataCid:h,dataSize:l}=n.descriptor;if(ky.validateDataIntegrity(h,l,i.descriptor.dataCid,i.descriptor.dataSize),l<=K_.maxDataSizeAllowedToBeEncoded){if(void 0===i.encodedData)throw new ne(le.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");u.encodedData=i.encodedData}else if(void 0===(yield this.dataStore.get(t,i.recordId,n.descriptor.dataCid)))throw new ne(le.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return u})}static validateDataIntegrity(t,n,i,u){if(t!==i)throw new ne(le.RecordsWriteDataCidMismatch,`actual data CID ${i} does not match dataCid in descriptor: ${t}`);if(n!==u)throw new ne(le.RecordsWriteDataSizeMismatch,`actual data size ${u} bytes does not match dataSize in descriptor: ${n}`)}static authorizeRecordsWrite(t,n,i){return Cy(this,void 0,void 0,function*(){if(void 0!==n.owner&&n.owner!==t)throw new ne(le.RecordsWriteOwnerAndTenantMismatch,`Owner ${n.owner} must be the same as tenant ${t} when specified.`);if(n.isSignedByAuthorDelegate&&(yield n.authorizeAuthorDelegate(i)),n.isSignedByOwnerDelegate&&(yield n.authorizeOwnerDelegate(i)),void 0===n.owner){if(n.author===t)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const u=yield Ds.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Gd.authorizeWrite({recordsWriteMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:u,messageStore:i})}else{if(void 0===n.message.descriptor.protocol)throw new ne(le.RecordsWriteAuthorizationFailed,"message failed authorization");yield Oo.authorizeWrite(t,n,i)}}})}}var Gx=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(Gx||{});const Gu={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Bs{constructor({method:t,id:n,path:i,query:u,fragment:h,params:l}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=u,this.fragment=h,this.params=l}static parse(t){if(!t)return null;const n=Bs.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:u,path:h,query:l,fragment:f}=n.groups,X={uri:`did:${i}:${u}`,method:i,id:u};if(h&&(X.path=h),l&&(X.query=l.slice(1)),f&&(X.fragment=f.slice(1)),l){const W={},k=l.slice(1).split("&");for(const re of k){const[Oe,je]=re.split("=");W[Oe]=je}X.params=W}return X}}Bs.METHOD_PATTERN="([a-z0-9]+)",Bs.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Bs.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Bs.PCT_ENCODED_PATTERN})`,Bs.METHOD_ID_PATTERN=`((?:${Bs.ID_CHAR_PATTERN}*:)*(${Bs.ID_CHAR_PATTERN}+))`,Bs.PATH_PATTERN="(/[^#?]*)?",Bs.QUERY_PATTERN="([?][^#]*)?",Bs.FRAGMENT_PATTERN="(#.*)?",Bs.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Bs.METHOD_PATTERN}):(?<id>${Bs.METHOD_ID_PATTERN})(?<path>${Bs.PATH_PATTERN})(?<query>${Bs.QUERY_PATTERN})(?<fragment>${Bs.FRAGMENT_PATTERN})$`);class Yi extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yi)}}var Zi=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Zi||{}),nr=_(37475),qd=_(47565);class EI{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,qd.s)(t)})}}class Jx{}var ja=_(94256),Cp=_(91006);const Oy="urn:jwk:";function Ys({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,nr.E8)(n);const i=function dR(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const u=Object.keys(i).sort(),h={};for(const l of u)h[l]=t(i[l]);return h}return i},n=t(r);return JSON.stringify(n)}(n),u=nr.U$.string(i).toUint8Array(),h=yield EI.digest({data:u});return nr.U$.uint8Array(h).toBase64Url()})}function Rh(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function Xx(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function zm(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function Yx(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var od=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class ya{static adjustSignatureToLowS({signature:t}){return od(this,void 0,void 0,function*(){const n=ja.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return od(this,void 0,void 0,function*(){const n=yield ya.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Ys({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return od(this,void 0,void 0,function*(){const n=yield ya.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Ys({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return od(this,void 0,void 0,function*(){return ja.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return od(this,void 0,void 0,function*(){const n=yield ya.privateKeyToBytes({privateKey:t}),i=yield ya.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield Ys({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return od(this,void 0,void 0,function*(){return ja.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return od(this,void 0,void 0,function*(){return ja.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return od(this,void 0,void 0,function*(){const t=ja.bI.utils.randomPrivateKey(),n=yield ya.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Ys({jwk:n}),n})}static getPublicKey({key:t}){var n;return od(this,void 0,void 0,function*(){if(!Rh(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Ys({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return od(this,void 0,void 0,function*(){if(!Rh(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return od(this,void 0,void 0,function*(){if(!Xx(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),u=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return od(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield ya.privateKeyToBytes({privateKey:t}),u=yield ya.publicKeyToBytes({publicKey:n});return ja.bI.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return od(this,void 0,void 0,function*(){const i=yield ya.privateKeyToBytes({privateKey:n}),u=(0,qd.s)(t);return ja.bI.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return od(this,void 0,void 0,function*(){return ja.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return od(this,void 0,void 0,function*(){try{ja.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return od(this,void 0,void 0,function*(){const u=yield ya.publicKeyToBytes({publicKey:t}),h=(0,qd.s)(i);return ja.bI.verify(n,h,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return od(this,void 0,void 0,function*(){32===t.byteLength&&(t=ja.bI.getPublicKey(t));const n=ja.bI.ProjectivePoint.fromHex(t);return{x:(0,Cp.lq)(n.x,32),y:(0,Cp.lq)(n.y,32)}})}}var Vc=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Xa{static adjustSignatureToLowS({signature:t}){return Vc(this,void 0,void 0,function*(){const n=ke.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Vc(this,void 0,void 0,function*(){const n=yield Xa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Ys({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Vc(this,void 0,void 0,function*(){const n=yield Xa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield Ys({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Vc(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Vc(this,void 0,void 0,function*(){const n=yield Xa.privateKeyToBytes({privateKey:t}),i=yield Xa.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield Ys({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return Vc(this,void 0,void 0,function*(){return ke.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Vc(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Vc(this,void 0,void 0,function*(){const t=ke.Ag.utils.randomPrivateKey(),n=yield Xa.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Ys({jwk:n}),n})}static getPublicKey({key:t}){var n;return Vc(this,void 0,void 0,function*(){if(!Rh(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Ys({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return Vc(this,void 0,void 0,function*(){if(!Rh(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Vc(this,void 0,void 0,function*(){if(!Xx(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),u=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Vc(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Xa.privateKeyToBytes({privateKey:t}),u=yield Xa.publicKeyToBytes({publicKey:n});return ke.Ag.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return Vc(this,void 0,void 0,function*(){const i=yield Xa.privateKeyToBytes({privateKey:n}),u=(0,qd.s)(t);return ke.Ag.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Vc(this,void 0,void 0,function*(){return ke.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Vc(this,void 0,void 0,function*(){try{ke.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Vc(this,void 0,void 0,function*(){const u=yield Xa.publicKeyToBytes({publicKey:t}),h=(0,qd.s)(i);return ke.Ag.verify(n,h,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Vc(this,void 0,void 0,function*(){32===t.byteLength&&(t=ke.Ag.getPublicKey(t));const n=ke.Ag.ProjectivePoint.fromHex(t);return{x:(0,Cp.lq)(n.x,32),y:(0,Cp.lq)(n.y,32)}})}}var Pv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Zx extends Jx{computePublicKey({key:t}){return Pv(this,void 0,void 0,function*(){if(!Rh(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ya.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Xa.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return Pv(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield ya.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield Xa.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return Pv(this,void 0,void 0,function*(){if(!Rh(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ya.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Xa.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return Pv(this,void 0,void 0,function*(){if(!Rh(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield ya.sign({key:t,data:n});case"P-256":return yield Xa.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return Pv(this,void 0,void 0,function*(){if(!Xx(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield ya.verify({key:t,signature:n,data:i});case"P-256":return yield Xa.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var ps=_(86295),bu=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class $a{static bytesToPrivateKey({privateKeyBytes:t}){return bu(this,void 0,void 0,function*(){const n=ps.ev.getPublicKey(t),i={crv:"Ed25519",d:nr.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield Ys({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return bu(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield Ys({jwk:n}),n})}static computePublicKey({key:t}){return bu(this,void 0,void 0,function*(){const n=yield $a.privateKeyToBytes({privateKey:t}),i=ps.ev.getPublicKey(n),u={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(i).toBase64Url()};return u.kid=yield Ys({jwk:u}),u})}static convertPrivateKeyToX25519({privateKey:t}){return bu(this,void 0,void 0,function*(){const n=yield $a.privateKeyToBytes({privateKey:t}),i=(0,ps.OA)(n),u=ps.TU.getPublicKey(i),h={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(i).toBase64Url(),x:nr.U$.uint8Array(u).toBase64Url()};return h.kid=yield Ys({jwk:h}),h})}static convertPublicKeyToX25519({publicKey:t}){return bu(this,void 0,void 0,function*(){const n=yield $a.publicKeyToBytes({publicKey:t});if(!(yield $a.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const u=(0,ps.GU)(n),h={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(u).toBase64Url()};return h.kid=yield Ys({jwk:h}),h})}static generateKey(){return bu(this,void 0,void 0,function*(){const t=ps.ev.utils.randomPrivateKey(),n=yield $a.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Ys({jwk:n}),n})}static getPublicKey({key:t}){var n;return bu(this,void 0,void 0,function*(){if(!zm(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Ys({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return bu(this,void 0,void 0,function*(){if(!zm(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return bu(this,void 0,void 0,function*(){if(!Yx(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return bu(this,void 0,void 0,function*(){const i=yield $a.privateKeyToBytes({privateKey:t});return ps.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return bu(this,void 0,void 0,function*(){try{ps.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return bu(this,void 0,void 0,function*(){const u=yield $a.publicKeyToBytes({publicKey:t});return ps.ev.verify(n,i,u)})}}var $_=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},Bh=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const qx={Ed25519:{implementation:class q5 extends Jx{computePublicKey({key:t}){return $_(this,void 0,void 0,function*(){if(!zm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield $a.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return $_(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield $a.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return $_(this,void 0,void 0,function*(){if(!zm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield $a.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return $_(this,void 0,void 0,function*(){if(!zm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield $a.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return $_(this,void 0,void 0,function*(){if(!Yx(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield $a.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:Zx,names:["ES256K","secp256k1"]},secp256r1:{implementation:Zx,names:["ES256","secp256r1"]},"SHA-256":{implementation:class Py extends Jx{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield EI.digest({data:n})})}},names:["SHA-256"]}};class kp{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new nr.ny}digest({algorithm:t,data:n}){return Bh(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return Bh(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return Bh(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const u=`${Oy}${i.kid}`;return yield this._keyStore.set(u,i),u})}getKeyUri({key:t}){return Bh(this,void 0,void 0,function*(){const n=yield Ys({jwk:t});return`${Oy}${n}`})}getPublicKey({keyUri:t}){return Bh(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return Bh(this,void 0,void 0,function*(){if(!function Y5(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield Ys({jwk:i}));const u=yield this.getKeyUri({key:i});return yield this._keyStore.set(u,i),u})}sign({keyUri:t,data:n}){return Bh(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),u=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:u}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return Bh(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=qx[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const u in qx){const h=qx[u];if(n&&h.names.includes(n))return u;if(i&&h.names.includes(i))return u}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return Bh(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}var Qx=_(86703),Od=_(62953);function tP(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis;const Nh=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));function V_(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function DI(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function eM(r){if("string"==typeof r)r=DI(r);else{if(!V_(r))throw new Error("expected Uint8Array, got "+typeof r);r=r.slice()}return r}function Ov(r,t){if(!V_(r))throw new Error("Uint8Array expected");if("number"==typeof t&&r.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function W_(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const u=BigInt(32),h=BigInt(4294967295),l=Number(n>>u&h),f=Number(n&h),W=i?0:4;r.setUint32(t+(i?4:0),l,i),r.setUint32(t+W,f,i)}function Hm(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`wrong positive integer: ${r}`)}function tM(r){if("boolean"!=typeof r)throw new Error(`boolean expected, not ${r}`)}function Ry(r,...t){if(!function uP(r){return null!=r&&"object"==typeof r&&(r instanceof Uint8Array||"Uint8Array"===r.constructor.name)}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function nM(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}var Uf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Ny{static bytesToPrivateKey({privateKeyBytes:t}){return Uf(this,void 0,void 0,function*(){const n=ps.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield Ys({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Uf(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield Ys({jwk:n}),n})}static computePublicKey({key:t}){return Uf(this,void 0,void 0,function*(){const n=yield Ny.privateKeyToBytes({privateKey:t}),i=ps.TU.getPublicKey(n),u={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(i).toBase64Url()};return u.kid=yield Ys({jwk:u}),u})}static generateKey(){return Uf(this,void 0,void 0,function*(){const t=ps.TU.utils.randomPrivateKey(),n=yield Ny.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield Ys({jwk:n}),n})}static getPublicKey({key:t}){var n;return Uf(this,void 0,void 0,function*(){if(!zm(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield Ys({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return Uf(this,void 0,void 0,function*(){if(!zm(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Uf(this,void 0,void 0,function*(){if(!Yx(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Uf(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Ny.privateKeyToBytes({privateKey:t}),u=yield Ny.publicKeyToBytes({publicKey:n});return ps.TU.getSharedSecret(i,u)})}}const sd=(r,t)=>255&r[t++]|(255&r[t++])<<8;class yP{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,Ov(t=eM(t),32);const n=sd(t,0),i=sd(t,2),u=sd(t,4),h=sd(t,6),l=sd(t,8),f=sd(t,10),X=sd(t,12),W=sd(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|i<<3),this.r[2]=7939&(i>>>10|u<<6),this.r[3]=8191&(u>>>7|h<<9),this.r[4]=255&(h>>>4|l<<12),this.r[5]=l>>>1&8190,this.r[6]=8191&(l>>>14|f<<2),this.r[7]=8065&(f>>>11|X<<5),this.r[8]=8191&(X>>>8|W<<8),this.r[9]=W>>>5&127;for(let k=0;k<8;k++)this.pad[k]=sd(t,16+2*k)}process(t,n,i=!1){const u=i?0:2048,{h,r:l}=this,f=l[0],X=l[1],W=l[2],k=l[3],re=l[4],Oe=l[5],je=l[6],Ke=l[7],tt=l[8],bt=l[9],kt=sd(t,n+0),_t=sd(t,n+2),xt=sd(t,n+4),Nt=sd(t,n+6),Xt=sd(t,n+8),qt=sd(t,n+10),un=sd(t,n+12),Ht=sd(t,n+14);let Sn=h[0]+(8191&kt),Jn=h[1]+(8191&(kt>>>13|_t<<3)),Yn=h[2]+(8191&(_t>>>10|xt<<6)),cr=h[3]+(8191&(xt>>>7|Nt<<9)),$n=h[4]+(8191&(Nt>>>4|Xt<<12)),jn=h[5]+(Xt>>>1&8191),Kn=h[6]+(8191&(Xt>>>14|qt<<2)),Xn=h[7]+(8191&(qt>>>11|un<<5)),Dn=h[8]+(8191&(un>>>8|Ht<<8)),gr=h[9]+(Ht>>>5|u),vr=0,Er=vr+Sn*f+Jn*(5*bt)+Yn*(5*tt)+cr*(5*Ke)+$n*(5*je);vr=Er>>>13,Er&=8191,Er+=jn*(5*Oe)+Kn*(5*re)+Xn*(5*k)+Dn*(5*W)+gr*(5*X),vr+=Er>>>13,Er&=8191;let Yr=vr+Sn*X+Jn*f+Yn*(5*bt)+cr*(5*tt)+$n*(5*Ke);vr=Yr>>>13,Yr&=8191,Yr+=jn*(5*je)+Kn*(5*Oe)+Xn*(5*re)+Dn*(5*k)+gr*(5*W),vr+=Yr>>>13,Yr&=8191;let hi=vr+Sn*W+Jn*X+Yn*f+cr*(5*bt)+$n*(5*tt);vr=hi>>>13,hi&=8191,hi+=jn*(5*Ke)+Kn*(5*je)+Xn*(5*Oe)+Dn*(5*re)+gr*(5*k),vr+=hi>>>13,hi&=8191;let kn=vr+Sn*k+Jn*W+Yn*X+cr*f+$n*(5*bt);vr=kn>>>13,kn&=8191,kn+=jn*(5*tt)+Kn*(5*Ke)+Xn*(5*je)+Dn*(5*Oe)+gr*(5*re),vr+=kn>>>13,kn&=8191;let yi=vr+Sn*re+Jn*k+Yn*W+cr*X+$n*f;vr=yi>>>13,yi&=8191,yi+=jn*(5*bt)+Kn*(5*tt)+Xn*(5*Ke)+Dn*(5*je)+gr*(5*Oe),vr+=yi>>>13,yi&=8191;let bo=vr+Sn*Oe+Jn*re+Yn*k+cr*W+$n*X;vr=bo>>>13,bo&=8191,bo+=jn*f+Kn*(5*bt)+Xn*(5*tt)+Dn*(5*Ke)+gr*(5*je),vr+=bo>>>13,bo&=8191;let Ir=vr+Sn*je+Jn*Oe+Yn*re+cr*k+$n*W;vr=Ir>>>13,Ir&=8191,Ir+=jn*X+Kn*f+Xn*(5*bt)+Dn*(5*tt)+gr*(5*Ke),vr+=Ir>>>13,Ir&=8191;let rr=vr+Sn*Ke+Jn*je+Yn*Oe+cr*re+$n*k;vr=rr>>>13,rr&=8191,rr+=jn*W+Kn*X+Xn*f+Dn*(5*bt)+gr*(5*tt),vr+=rr>>>13,rr&=8191;let Tr=vr+Sn*tt+Jn*Ke+Yn*je+cr*Oe+$n*re;vr=Tr>>>13,Tr&=8191,Tr+=jn*k+Kn*W+Xn*X+Dn*f+gr*(5*bt),vr+=Tr>>>13,Tr&=8191;let ui=vr+Sn*bt+Jn*tt+Yn*Ke+cr*je+$n*Oe;vr=ui>>>13,ui&=8191,ui+=jn*re+Kn*k+Xn*W+Dn*X+gr*f,vr+=ui>>>13,ui&=8191,vr=(vr<<2)+vr|0,vr=vr+Er|0,Er=8191&vr,vr>>>=13,Yr+=vr,h[0]=Er,h[1]=Yr,h[2]=hi,h[3]=kn,h[4]=yi,h[5]=bo,h[6]=Ir,h[7]=rr,h[8]=Tr,h[9]=ui}finalize(){const{h:t,pad:n}=this,i=new Uint16Array(10);let u=t[1]>>>13;t[1]&=8191;for(let f=2;f<10;f++)t[f]+=u,u=t[f]>>>13,t[f]&=8191;t[0]+=5*u,u=t[0]>>>13,t[0]&=8191,t[1]+=u,u=t[1]>>>13,t[1]&=8191,t[2]+=u,i[0]=t[0]+5,u=i[0]>>>13,i[0]&=8191;for(let f=1;f<10;f++)i[f]=t[f]+u,u=i[f]>>>13,i[f]&=8191;i[9]-=8192;let h=(1^u)-1;for(let f=0;f<10;f++)i[f]&=h;h=~h;for(let f=0;f<10;f++)t[f]=t[f]&h|i[f];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let l=t[0]+n[0];t[0]=65535&l;for(let f=1;f<8;f++)l=(t[f]+n[f]|0)+(l>>>16)|0,t[f]=65535&l}update(t){nM(this);const{buffer:n,blockLen:i}=this,u=(t=eM(t)).length;for(let h=0;h<u;){const l=Math.min(i-this.pos,u-h);if(l!==i)n.set(t.subarray(h,h+l),this.pos),this.pos+=l,h+=l,this.pos===i&&(this.process(n,0,!1),this.pos=0);else for(;i<=u-h;h+=i)this.process(t,h)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){nM(this),function CI(r,t){Ry(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:u}=this;if(u){for(n[u++]=1;u<16;u++)n[u]=0;this.process(n,0,!0)}this.finalize();let h=0;for(let l=0;l<8;l++)t[h++]=i[l]>>>0,t[h++]=i[l]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}}const gP=function IR(r){const t=(i,u)=>r(u).update(eM(i)).digest(),n=r(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=i=>r(i),t}(r=>new yP(r)),PI=DI("expand 16-byte k"),OI=DI("expand 32-byte k"),Ju=Nh(PI),Q_=Nh(OI);function gi(r,t){return r<<t|r>>>32-t}function e1(r){return r.byteOffset%4==0}const RI=2**32-1,BI=new Uint32Array;function Uv(r,t){const{allowShortKeys:n,extendNonceFn:i,counterLength:u,counterRight:h,rounds:l}=function dP(r,t){if(void 0!==t&&("object"!=typeof t||!(r=>"[object Object]"===Object.prototype.toString.call(r)&&r.constructor===Object)(t)))throw new Error("options must be object or undefined");return Object.assign(r,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof r)throw new Error("core must be a function");return Hm(u),Hm(l),tM(h),tM(n),(f,X,W,k,re=0)=>{Ry(f),Ry(X),Ry(W);const Oe=W.length;if(k||(k=new Uint8Array(Oe)),Ry(k),Hm(re),re<0||re>=RI)throw new Error("arx: counter overflow");if(k.length<Oe)throw new Error(`arx: output (${k.length}) is shorter than data (${Oe})`);const je=[];let tt,bt,Ke=f.length;if(32===Ke)tt=f.slice(),je.push(tt),bt=Q_;else{if(16!==Ke||!n)throw new Error(`arx: invalid 32-byte key, got length=${Ke}`);tt=new Uint8Array(32),tt.set(f),tt.set(f,16),bt=Ju,je.push(tt)}e1(X)||(X=X.slice(),je.push(X));const kt=Nh(tt);if(i){if(24!==X.length)throw new Error("arx: extended nonce must be 24 bytes");i(bt,kt,Nh(X.subarray(0,16)),kt),X=X.subarray(16)}const _t=16-u;if(_t!==X.length)throw new Error(`arx: nonce must be ${_t} or 16 bytes`);if(12!==_t){const Nt=new Uint8Array(12);Nt.set(X,h?0:12-X.length),je.push(X=Nt)}const xt=Nh(X);for(function CR(r,t,n,i,u,h,l,f){const X=u.length,W=new Uint8Array(64),k=Nh(W),re=e1(u)&&e1(h),Oe=re?Nh(u):BI,je=re?Nh(h):BI;for(let Ke=0;Ke<X;l++){if(r(t,n,i,k,l,f),l>=RI)throw new Error("arx: counter overflow");const tt=Math.min(64,X-Ke);if(re&&64===tt){const bt=Ke/4;if(Ke%4!=0)throw new Error("arx: invalid block position");for(let _t,kt=0;kt<16;kt++)_t=bt+kt,je[_t]=Oe[_t]^k[kt];Ke+=64}else{for(let kt,bt=0;bt<tt;bt++)kt=Ke+bt,h[kt]=u[kt]^W[bt];Ke+=tt}}}(r,bt,kt,xt,W,k,re,l);je.length>0;)je.pop().fill(0);return k}}function Uy(r,t,n,i,u,h=20){let l=r[0],f=r[1],X=r[2],W=r[3],k=t[0],re=t[1],Oe=t[2],je=t[3],Ke=t[4],tt=t[5],bt=t[6],kt=t[7],_t=u,xt=n[0],Nt=n[1],Xt=n[2],qt=l,un=f,Ht=X,Sn=W,Jn=k,Yn=re,cr=Oe,$n=je,jn=Ke,Kn=tt,Xn=bt,Dn=kt,gr=_t,vr=xt,Er=Nt,Yr=Xt;for(let kn=0;kn<h;kn+=2)qt=qt+Jn|0,gr=gi(gr^qt,16),jn=jn+gr|0,Jn=gi(Jn^jn,12),qt=qt+Jn|0,gr=gi(gr^qt,8),jn=jn+gr|0,Jn=gi(Jn^jn,7),un=un+Yn|0,vr=gi(vr^un,16),Kn=Kn+vr|0,Yn=gi(Yn^Kn,12),un=un+Yn|0,vr=gi(vr^un,8),Kn=Kn+vr|0,Yn=gi(Yn^Kn,7),Ht=Ht+cr|0,Er=gi(Er^Ht,16),Xn=Xn+Er|0,cr=gi(cr^Xn,12),Ht=Ht+cr|0,Er=gi(Er^Ht,8),Xn=Xn+Er|0,cr=gi(cr^Xn,7),Sn=Sn+$n|0,Yr=gi(Yr^Sn,16),Dn=Dn+Yr|0,$n=gi($n^Dn,12),Sn=Sn+$n|0,Yr=gi(Yr^Sn,8),Dn=Dn+Yr|0,$n=gi($n^Dn,7),qt=qt+Yn|0,Yr=gi(Yr^qt,16),Xn=Xn+Yr|0,Yn=gi(Yn^Xn,12),qt=qt+Yn|0,Yr=gi(Yr^qt,8),Xn=Xn+Yr|0,Yn=gi(Yn^Xn,7),un=un+cr|0,gr=gi(gr^un,16),Dn=Dn+gr|0,cr=gi(cr^Dn,12),un=un+cr|0,gr=gi(gr^un,8),Dn=Dn+gr|0,cr=gi(cr^Dn,7),Ht=Ht+$n|0,vr=gi(vr^Ht,16),jn=jn+vr|0,$n=gi($n^jn,12),Ht=Ht+$n|0,vr=gi(vr^Ht,8),jn=jn+vr|0,$n=gi($n^jn,7),Sn=Sn+Jn|0,Er=gi(Er^Sn,16),Kn=Kn+Er|0,Jn=gi(Jn^Kn,12),Sn=Sn+Jn|0,Er=gi(Er^Sn,8),Kn=Kn+Er|0,Jn=gi(Jn^Kn,7);let hi=0;i[hi++]=l+qt|0,i[hi++]=f+un|0,i[hi++]=X+Ht|0,i[hi++]=W+Sn|0,i[hi++]=k+Jn|0,i[hi++]=re+Yn|0,i[hi++]=Oe+cr|0,i[hi++]=je+$n|0,i[hi++]=Ke+jn|0,i[hi++]=tt+Kn|0,i[hi++]=bt+Xn|0,i[hi++]=kt+Dn|0,i[hi++]=_t+gr|0,i[hi++]=xt+vr|0,i[hi++]=Nt+Er|0,i[hi++]=Xt+Yr|0}const oM=Uv(Uy,{counterRight:!1,counterLength:4,allowShortKeys:!1}),wP=Uv(Uy,{counterRight:!1,counterLength:8,extendNonceFn:function bP(r,t,n,i){let u=r[0],h=r[1],l=r[2],f=r[3],X=t[0],W=t[1],k=t[2],re=t[3],Oe=t[4],je=t[5],Ke=t[6],tt=t[7],bt=n[0],kt=n[1],_t=n[2],xt=n[3];for(let Xt=0;Xt<20;Xt+=2)u=u+X|0,bt=gi(bt^u,16),Oe=Oe+bt|0,X=gi(X^Oe,12),u=u+X|0,bt=gi(bt^u,8),Oe=Oe+bt|0,X=gi(X^Oe,7),h=h+W|0,kt=gi(kt^h,16),je=je+kt|0,W=gi(W^je,12),h=h+W|0,kt=gi(kt^h,8),je=je+kt|0,W=gi(W^je,7),l=l+k|0,_t=gi(_t^l,16),Ke=Ke+_t|0,k=gi(k^Ke,12),l=l+k|0,_t=gi(_t^l,8),Ke=Ke+_t|0,k=gi(k^Ke,7),f=f+re|0,xt=gi(xt^f,16),tt=tt+xt|0,re=gi(re^tt,12),f=f+re|0,xt=gi(xt^f,8),tt=tt+xt|0,re=gi(re^tt,7),u=u+W|0,xt=gi(xt^u,16),Ke=Ke+xt|0,W=gi(W^Ke,12),u=u+W|0,xt=gi(xt^u,8),Ke=Ke+xt|0,W=gi(W^Ke,7),h=h+k|0,bt=gi(bt^h,16),tt=tt+bt|0,k=gi(k^tt,12),h=h+k|0,bt=gi(bt^h,8),tt=tt+bt|0,k=gi(k^tt,7),l=l+re|0,kt=gi(kt^l,16),Oe=Oe+kt|0,re=gi(re^Oe,12),l=l+re|0,kt=gi(kt^l,8),Oe=Oe+kt|0,re=gi(re^Oe,7),f=f+X|0,_t=gi(_t^f,16),je=je+_t|0,X=gi(X^je,12),f=f+X|0,_t=gi(_t^f,8),je=je+_t|0,X=gi(X^je,7);let Nt=0;i[Nt++]=u,i[Nt++]=h,i[Nt++]=l,i[Nt++]=f,i[Nt++]=bt,i[Nt++]=kt,i[Nt++]=_t,i[Nt++]=xt},allowShortKeys:!1}),_P=new Uint8Array(16),sM=(r,t)=>{r.update(t);const n=t.length%16;n&&r.update(_P.subarray(n))},aM=new Uint8Array(32);function cM(r,t,n,i,u){const h=r(t,n,aM),l=gP.create(h);u&&sM(l,u),sM(l,i);const f=new Uint8Array(16),X=(r=>new DataView(r.buffer,r.byteOffset,r.byteLength))(f);W_(X,0,BigInt(u?u.length:0),!0),W_(X,8,BigInt(i.length),!0),l.update(f);const W=l.digest();return h.fill(0),W}const EP=r=>(t,n,i)=>(Ov(t,32),Ov(n),{encrypt:(h,l)=>{const f=h.length,X=f+16;l?Ov(l,X):l=new Uint8Array(X),r(t,n,h,l,1);const W=cM(r,t,n,l.subarray(0,-16),i);return l.set(W,f),l},decrypt:(h,l)=>{const f=h.length,X=f-16;if(f<16)throw new Error("encrypted data must be at least 16 bytes");l?Ov(l,X):l=new Uint8Array(X);const W=h.subarray(0,-16);if(!function lP(r,t){if(r.length!==t.length)return!1;let n=0;for(let i=0;i<r.length;i++)n|=r[i]^t[i];return 0===n}(h.subarray(-16),cM(r,t,n,W,i)))throw new Error("invalid tag");return r(t,n,W,l,1),l}});function ad(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function LI({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(uM))&&void 0!==n?n:[]),Object.keys(Gx).forEach(u=>{var h,l;i.push(...null!==(l=null===(h=r[u])||void 0===h?void 0:h.filter(uM))&&void 0!==l?l:[])}),i}function MP({didDocument:r,methodId:t}){const n=[];return Object.keys(Gx).forEach(i=>{if(Array.isArray(r[i])){const u=r[i],h=ad(t);u.some(f=>{const X=ad(f)===h,W=uM(f)&&ad(f.id)===h;return X||W})&&n.push(i)}}),n}function uM(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function fM({keyBytes:r,multicodecCode:t,multicodecName:n}){const i=nr.Gs.addPrefix({code:t,data:r,name:n}),u=nr.U$.uint8Array(i).toBase58Btc();return nr.U$.base58Btc(u).toMultibase()}function SP({multibaseKeyId:r}){try{const t=nr.U$.multibase(r).toBase58Btc(),n=nr.U$.base58Btc(t).toUint8Array(),{code:i,data:u,name:h}=nr.Gs.removePrefix({prefixedData:n});return{keyBytes:u,multicodecCode:i,multicodecName:h}}catch{throw new Yi(Zi.InvalidDid,`Invalid multibase identifier: ${r}`)}}EP(oM),EP(wP);var s1=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Wm{constructor({uri:t,document:n,metadata:i,keyManager:u}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=u}export(){return s1(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.exportKey({keyUri:u});n.push(Object.assign({},h))}t.privateKeys=n}return t})}getSigner(t){return s1(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(X=>{var W,k;return ad(X.id)===(null!==(W=ad(t?.methodId))&&void 0!==W?W:ad(null===(k=this.document.assertionMethod)||void 0===k?void 0:k[0]))});if(!i||!i.publicKeyJwk)throw new Yi(Zi.InternalError,"A verification method intended for signing could not be determined from the DID Document");const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.getPublicKey({keyUri:u}),l=this.keyManager;return{algorithm:tP(h),keyId:i.id,sign(X){return s1(this,arguments,void 0,function*({data:W}){return yield l.sign({data:W,keyUri:u})})},verify(X){return s1(this,arguments,void 0,function*({data:W,signature:k}){return yield l.verify({data:W,key:h,signature:k})})}}})}static import(t){return s1(this,arguments,void 0,function*({portableDid:n,keyManager:i=new kp}){var u;const h=LI({didDocument:n.document});if(0===h.length)throw new Yi(Zi.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let f of null!==(u=n.privateKeys)&&void 0!==u?u:[])yield i.importKey({key:f});for(let f of h){if(!f.publicKeyJwk)throw new Error(`Verification method '${f.id}' does not contain a public key in JWK format`);const X=yield i.getKeyUri({key:f.publicKeyJwk});yield i.getPublicKey({keyUri:X})}return new Wm({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var a1=_(2198),Fv=_(49402),TP=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class FI{static getSigningMethod(t){return TP(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return TP(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var zc=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},hM=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const jI="https://diddht.tbddev.org",Gm=7200,kl=",";var DP=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(DP||{}),Wl=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(Wl||{}),mM=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(mM||{});const jv={Ed25519:Wl.Ed25519,ES256K:Wl.secp256k1,ES256:Wl.secp256r1,"P-256":Wl.secp256r1,secp256k1:Wl.secp256k1,secp256r1:Wl.secp256r1,X25519:Wl.X25519},$I={[Wl.Ed25519]:"Ed25519",[Wl.secp256k1]:"ES256K",[Wl.secp256r1]:"ES256",[Wl.X25519]:"ECDH-ES+A256KW"};let yM=(()=>{class r extends FI{static create(){return zc(this,arguments,void 0,function*({keyManager:n=new kp,options:i={}}={}){var u,h,l,f,X,W,k,re,Oe,je,Ke;if(null!==(u=i.verificationMethods)&&void 0!==u&&u.some(qt=>!(qt.algorithm in jv)))throw new Error("One or more verification method algorithms are not supported");const tt=null===(h=i.verificationMethods)||void 0===h?void 0:h.filter(qt=>"id"in qt).map(qt=>qt.id);if(tt&&tt.length!==new Set(tt).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=i.services)&&void 0!==l&&l.some(qt=>!qt.id||!qt.type||!qt.serviceEndpoint))throw new Error("One or more services are missing required properties");const bt=yield n.generateKey({algorithm:"Ed25519"}),kt=yield n.getPublicKey({keyUri:bt}),_t=yield ga.identityKeyToIdentifier({identityKey:kt}),xt=Object.assign(Object.assign({id:_t},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),Nt=[...null!==(f=i.verificationMethods)&&void 0!==f?f:[]];Nt?.some(qt=>{var un;return"0"===(null===(un=qt.id)||void 0===un?void 0:un.split("#").pop())})||Nt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const qt of Nt){const un=qt.id&&"0"===qt.id.split("#").pop()?bt:yield n.generateKey({algorithm:qt.algorithm}),Ht=yield n.getPublicKey({keyUri:un});let Sn=null!==(W=null!==(X=qt.id)&&void 0!==X?X:Ht.kid)&&void 0!==W?W:yield Ys({jwk:Ht});Sn=`${_t}#${ad(Sn)}`,null!==(k=xt.verificationMethod)&&void 0!==k||(xt.verificationMethod=[]),xt.verificationMethod.push({id:Sn,type:"JsonWebKey",controller:null!==(re=qt.controller)&&void 0!==re?re:_t,publicKeyJwk:Ht});for(const Jn of null!==(Oe=qt.purposes)&&void 0!==Oe?Oe:[])xt[Jn]||(xt[Jn]=[]),xt[Jn].push(Sn)}null===(je=i.services)||void 0===je||je.forEach(qt=>{var un;null!==(un=xt.service)&&void 0!==un||(xt.service=[]),qt.id=`${_t}#${qt.id.split("#").pop()}`,xt.service.push(qt)});const Xt=new Wm({uri:_t,document:xt,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Ke=i.publish)||void 0===Ke||Ke){const qt=yield r.publish({did:Xt,gatewayUri:i.gatewayUri});Xt.metadata=qt.didDocumentMetadata}return Xt})}static import(n){return zc(this,arguments,void 0,function*({portableDid:i,keyManager:u=new kp}){var h;const l=Bs.parse(i.uri);if(l?.method!==r.methodName)throw new Yi(Zi.MethodNotSupported,"Method not supported");const f=yield Wm.import({portableDid:i,keyManager:u});if(null===(h=f.document.verificationMethod)||void 0===h||!h.some(X=>{var W;return"0"===(null===(W=X.id)||void 0===W?void 0:W.split("#").pop())}))throw new Yi(Zi.InvalidDidDocument,"DID document must contain an Identity Key");return f})}static getSigningMethod(n){return zc(this,arguments,void 0,function*({didDocument:i,methodId:u="#0"}){var h;const l=Bs.parse(i.id);if(l&&l.method!==this.methodName)throw new Yi(Zi.MethodNotSupported,`Method not supported: ${l.method}`);const f=null===(h=i.verificationMethod)||void 0===h?void 0:h.find(X=>{var W,k;return ad(X.id)===(null!==(W=ad(u))&&void 0!==W?W:ad(null===(k=i.assertionMethod)||void 0===k?void 0:k[0]))});if(!f||!f.publicKeyJwk)throw new Yi(Zi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static publish(n){return zc(this,arguments,void 0,function*({did:i,gatewayUri:u=jI}){return yield Lf.put({did:i,gatewayUri:u})})}static resolve(n){return zc(this,arguments,void 0,function*(i,u={}){var h;const l=null!==(h=u?.gatewayUri)&&void 0!==h?h:jI;try{yield ga.identifierToIdentityKey({didUri:i});const{didDocument:f,didDocumentMetadata:X}=yield Lf.get({didUri:i,gatewayUri:l});return Object.assign(Object.assign({},Gu),{didDocument:f,didDocumentMetadata:X})}catch(f){if(!(f instanceof Yi))throw new Error(f);return Object.assign(Object.assign({},Gu),{didResolutionMetadata:Object.assign({error:f.code},f.message&&{errorMessage:f.message})})}})}}return r.methodName="dht",r})();class Lf{static get(t){return zc(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const u=ga.identifierToIdentityKeyBytes({didUri:n}),h=yield Lf.pkarrGet({gatewayUri:i,publicKeyBytes:u}),l=yield ga.parseBep44GetMessage({bep44Message:h}),f=yield Lf.fromDnsPacket({didUri:n,dnsPacket:l});return f.didDocumentMetadata.versionId=h.seq.toString(),f})}static put(t){return zc(this,arguments,void 0,function*({did:n,gatewayUri:i}){const u=yield Lf.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),h=yield ga.createBep44PutMessage({dnsPacket:u,publicKeyBytes:ga.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),l=yield Lf.pkarrPut({gatewayUri:i,bep44Message:h});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:l,versionId:h.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return zc(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const u=nr.U$.uint8Array(i).toBase32Z(),h=new URL(u,n).href;let l;try{if(l=yield fetch(h,{method:"GET"}),!l.ok)throw new Yi(Zi.NotFound,`Pkarr record not found for: ${u}`)}catch(W){throw W instanceof Yi?W:new Yi(Zi.InternalError,`Failed to fetch Pkarr record: ${W.message}`)}const f=yield l.arrayBuffer();if(!f)throw new Yi(Zi.NotFound,`Pkarr record not found for: ${u}`);if(f.byteLength<72)throw new Yi(Zi.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${f.byteLength}`);if(f.byteLength>1072)throw new Yi(Zi.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${f.byteLength}`);return{k:i,seq:Number(new DataView(f).getBigUint64(64)),sig:new Uint8Array(f,0,64),v:new Uint8Array(f,72)}})}static pkarrPut(t){return zc(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const u=nr.U$.uint8Array(i.k).toBase32Z(),h=new URL(u,n).href,l=new Uint8Array(i.v.length+72);let f;l.set(i.sig,0),new DataView(l.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),l.set(i.v,i.sig.length+8);try{f=yield fetch(h,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:l})}catch(X){throw new Yi(Zi.InternalError,`Failed to put Pkarr record for identifier ${u}: ${X.message}`)}return f.ok})}static fromDnsPacket(t){return zc(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var u,h,l;const f={id:n},X={published:!0},W=new Map;for(const k of null!==(u=i?.answers)&&void 0!==u?u:[]){if("TXT"!==k.type)continue;const re=k.name.split(".")[0].substring(1);switch(!0){case re.startsWith("aka"):{const Oe=ga.parseTxtDataToString(k.data);f.alsoKnownAs=Oe.split(kl);break}case re.startsWith("cnt"):{const Oe=ga.parseTxtDataToString(k.data);f.controller=Oe.includes(kl)?Oe.split(kl):Oe;break}case re.startsWith("k"):{const{id:Oe,t:je,k:Ke,c:tt,a:bt}=ga.parseTxtDataToObject(k.data),kt=nr.U$.base64Url(Ke).toUint8Array(),_t=Wl[Number(je)];let xt=yield ga.keyConverter(_t).bytesToPublicKey({publicKeyBytes:kt});xt.alg=bt||$I[Number(je)];const Nt="k0"===re?"0":void 0!==Oe?Oe:yield Ys({jwk:xt});null!==(h=f.verificationMethod)&&void 0!==h||(f.verificationMethod=[]);const Xt=`${n}#${Nt}`;f.verificationMethod.push({id:Xt,type:"JsonWebKey",controller:tt??n,publicKeyJwk:xt}),W.set(re,Xt);break}case re.startsWith("s"):{const Oe=ga.parseTxtDataToObject(k.data),{id:je,t:Ke,se:tt}=Oe,bt=hM(Oe,["id","t","se"]),kt=tt.includes(kl)?tt.split(kl):[tt],_t=Object.fromEntries(Object.entries(bt).map(([xt,Nt])=>[xt,Nt.includes(kl)?Nt.split(kl):Nt]));null!==(l=f.service)&&void 0!==l||(f.service=[]),f.service.push(Object.assign(Object.assign({},_t),{id:`${n}#${je}`,type:Ke,serviceEndpoint:kt}));break}case re.startsWith("typ"):{const{id:Oe}=ga.parseTxtDataToObject(k.data);X.types=Oe.split(kl).map(je=>Number(je));break}case re.startsWith("did"):{const Oe=_t=>_t.split(kl).map(xt=>W.get(xt)).filter(xt=>"string"==typeof xt),{auth:je,asm:Ke,del:tt,inv:bt,agm:kt}=ga.parseTxtDataToObject(k.data);je&&(f.authentication=Oe(je)),Ke&&(f.assertionMethod=Oe(Ke)),tt&&(f.capabilityDelegation=Oe(tt)),bt&&(f.capabilityInvocation=Oe(bt)),kt&&(f.keyAgreement=Oe(kt));break}}}return{didDocument:f,didDocumentMetadata:X,didResolutionMetadata:{}}})}static toDnsPacket(t){return zc(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:u,previousDidProof:h}){var l,f,X,W,k;const re=[],Oe=[],je=new Map,Ke=[],tt=[];if(void 0!==h){const{signature:_t,previousDid:xt}=h;yield ga.validatePreviousDidProof({newDid:n.id,previousDidProof:h}),re.push({type:"TXT",name:"_prv._did.",ttl:Gm,data:`id=${xt};s=${_t}`})}if(n.alsoKnownAs&&re.push({type:"TXT",name:"_aka._did.",ttl:Gm,data:n.alsoKnownAs.join(kl)}),n.controller){const _t=Array.isArray(n.controller)?n.controller.join(kl):n.controller;re.push({type:"TXT",name:"_cnt._did.",ttl:Gm,data:_t})}for(const[_t,xt]of null!==(f=null===(l=n.verificationMethod)||void 0===l?void 0:l.entries())&&void 0!==f?f:[]){const Nt=`k${_t}`;tt.push(Nt);let Xt=xt.id.split("#").pop();je.set(Xt,Nt);const qt=xt.publicKeyJwk;if(!qt?.crv||!(qt.crv in jv))throw new Yi(Zi.InvalidPublicKeyType,`Verification method '${xt.id}' contains an unsupported key type: ${null!==(X=qt?.crv)&&void 0!==X?X:"undefined"}`);const un=Wl[qt.crv],Ht=yield ga.keyConverter(qt.crv).publicKeyToBytes({publicKey:qt}),Jn=[`t=${un}`,`k=${nr.U$.uint8Array(Ht).toBase64Url()}`];"0"!==Xt&&(yield Ys({jwk:qt}))!==Xt&&Jn.unshift(`id=${Xt}`),qt.alg!==$I[un]&&Jn.push(`a=${qt.alg}`),xt.controller!==n.id&&Jn.push(`c=${xt.controller}`),re.push({type:"TXT",name:`_${Nt}._did.`,ttl:Gm,data:Jn.join(";")})}null===(W=n.service)||void 0===W||W.forEach((_t,xt)=>{const Nt=`s${xt}`;Ke.push(Nt);let{id:Xt,type:qt,serviceEndpoint:un}=_t,Ht=hM(_t,["id","type","serviceEndpoint"]);Xt=ad(Xt),un=Array.isArray(un)?un.join(","):un;const Jn=Object.entries(Object.assign({id:Xt,t:qt,se:un},Ht)).map(([cr,$n])=>`${cr}=${$n}`).join(";"),Yn=ga.chunkDataIfNeeded(Jn);re.push({type:"TXT",name:`_${Nt}._did.`,ttl:Gm,data:Yn})});const bt=["v=0"];if(tt.length&&bt.push(`vm=${tt.join(kl)}`),Object.keys(Gx).forEach(_t=>{var xt;const Nt=null===(xt=n[_t])||void 0===xt?void 0:xt.map(Xt=>je.get(Xt.split("#").pop()));Nt&&bt.push(`${mM[_t]}=${Nt.join(kl)}`)}),Ke.length&&bt.push(`svc=${Ke.join(kl)}`),null!==(k=i.types)&&void 0!==k&&k.length){const xt=i.types.map(Nt=>"string"==typeof Nt?DP[Nt]:Nt);re.push({type:"TXT",name:"_typ._did.",ttl:Gm,data:`id=${xt.join(kl)}`})}re.push({type:"TXT",name:"_did."+Lf.getUniqueDidSuffix(n.id)+".",ttl:Gm,data:bt.join(";")});for(const _t of u||[])Oe.push({type:"NS",name:"_did."+Lf.getUniqueDidSuffix(n.id)+".",ttl:Gm,data:_t+"."});return{id:0,type:"response",flags:Fv.hB,answers:[...re,...Oe]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class ga{static createBep44PutMessage(t){return zc(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:u}){const h=Math.ceil(Date.now()/1e3),l=(0,Fv.lF)(n),f=a1.A.encode({seq:h,v:l}).subarray(1,-1);if(f.length>1e3)throw new Yi(Zi.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${f.length} bytes`);return{k:i,seq:h,sig:yield u.sign({data:f}),v:l}})}static identifierToIdentityKey(t){return zc(this,arguments,void 0,function*({didUri:n}){let i=ga.identifierToIdentityKeyBytes({didUri:n});return yield $a.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Bs.parse(t);if(!n)throw new Yi(Zi.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==yM.methodName)throw new Yi(Zi.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=nr.U$.base32Z(n.id).toUint8Array()}catch{throw new Yi(Zi.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Yi(Zi.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return zc(this,arguments,void 0,function*({identityKey:n}){const i=yield $a.publicKeyToBytes({publicKey:n}),u=nr.U$.uint8Array(i).toBase32Z();return`did:${yM.methodName}:${u}`})}static keyConverter(t){const i={Ed25519:$a,"P-256":{publicKeyToBytes:u=>zc(this,[u],void 0,function*({publicKey:h}){const l=yield Xa.publicKeyToBytes({publicKey:h});return yield Xa.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:Xa.bytesToPublicKey,privateKeyToBytes:Xa.privateKeyToBytes,bytesToPrivateKey:Xa.bytesToPrivateKey},secp256k1:{publicKeyToBytes:u=>zc(this,[u],void 0,function*({publicKey:h}){const l=yield ya.publicKeyToBytes({publicKey:h});return yield ya.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:ya.bytesToPublicKey,privateKeyToBytes:ya.privateKeyToBytes,bytesToPrivateKey:ya.bytesToPrivateKey},X25519:Ny}[t];if(!i)throw new Yi(Zi.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return zc(this,arguments,void 0,function*({bep44Message:n}){const i=yield $a.bytesToPublicKey({publicKeyBytes:n.k}),u=a1.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield $a.verify({key:i,signature:n.sig,data:u})))throw new Yi(Zi.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,Fv.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[u,h]=i.split("=");return n[u]=h,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return nr.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Yi(Zi.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return zc(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const u=yield ga.identifierToIdentityKey({didUri:i.previousDid}),h=ga.identifierToIdentityKeyBytes({didUri:n}),l=nr.U$.base64Url(i.signature).toUint8Array();if(!(yield $a.verify({key:u,data:h,signature:l})))throw new Yi(Zi.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var gM=_(52039),Kf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},Xu=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Xu||{});const IP={Ed25519:Xu.Ed25519,ES256K:Xu.secp256k1,ES256:Xu.secp256r1,"P-256":Xu.secp256r1,secp256k1:Xu.secp256k1,secp256r1:Xu.secp256r1},c1="https://ion.tbd.engineering";let vM=(()=>{class r extends FI{static create(){return Kf(this,arguments,void 0,function*({keyManager:n=new kp,options:i={}}={}){var u,h,l,f,X,W,k;if(null!==(u=i.verificationMethods)&&void 0!==u&&u.some(qt=>!(qt.algorithm in IP)))throw new Error("One or more verification method algorithms are not supported");const re=null===(h=i.verificationMethods)||void 0===h?void 0:h.filter(qt=>"id"in qt).map(qt=>qt.id);if(re&&re.length!==new Set(re).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=i.services)&&void 0!==l&&l.some(qt=>!qt.id||!qt.type||!qt.serviceEndpoint))throw new Error("One or more services are missing required properties");const Oe={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},je=[];for(const qt of null!==(f=i.verificationMethods)&&void 0!==f?f:[Oe]){const un=yield n.generateKey({algorithm:qt.algorithm}),Ht=yield n.getPublicKey({keyUri:un});je.push({id:qt.id,publicKeyJwk:Ht,purposes:null!==(X=qt.purposes)&&void 0!==X?X:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Ke=yield n.generateKey({algorithm:Xu.secp256k1}),tt=yield n.getPublicKey({keyUri:Ke}),bt=yield n.generateKey({algorithm:Xu.secp256k1}),kt=yield n.getPublicKey({keyUri:bt}),_t=yield pl.computeLongFormDidUri({recoveryKey:tt,updateKey:kt,services:null!==(W=i.services)&&void 0!==W?W:[],verificationMethods:je}),{didDocument:xt,didResolutionMetadata:Nt}=yield r.resolve(_t,{gatewayUri:i.gatewayUri});if(null===xt)throw new Error(`Unable to resolve DID during creation: ${Nt?.error}`);const Xt=new Wm({uri:_t,document:xt,metadata:{published:!1,canonicalId:_t.split(":",3).join(":"),recoveryKey:tt,updateKey:kt},keyManager:n});if(null===(k=i.publish)||void 0===k||k){const qt=yield r.publish({did:Xt,gatewayUri:i.gatewayUri});Xt.metadata=qt.didDocumentMetadata}return Xt})}static getSigningMethod(n){return Kf(this,arguments,void 0,function*({didDocument:i,methodId:u}){var h;const l=Bs.parse(i.id);if(l&&l.method!==this.methodName)throw new Yi(Zi.MethodNotSupported,`Method not supported: ${l.method}`);const f=null===(h=i.verificationMethod)||void 0===h?void 0:h.find(X=>{var W;return X.id===(u??(null===(W=i.assertionMethod)||void 0===W?void 0:W[0]))});if(!f||!f.publicKeyJwk)throw new Yi(Zi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static import(n){return Kf(this,arguments,void 0,function*({portableDid:i,keyManager:u=new kp}){const h=Bs.parse(i.uri);if(h?.method!==r.methodName)throw new Yi(Zi.MethodNotSupported,"Method not supported");return yield Wm.import({portableDid:i,keyManager:u})})}static publish(n){return Kf(this,arguments,void 0,function*({did:i,gatewayUri:u=c1}){var h,l,f;const X=null!==(l=null===(h=i.document.verificationMethod)||void 0===h?void 0:h.map(re=>({id:re.id,publicKeyJwk:re.publicKeyJwk,purposes:MP({didDocument:i.document,methodId:re.id})})))&&void 0!==l?l:[],W=yield pl.createIonDocument({services:null!==(f=i.document.service)&&void 0!==f?f:[],verificationMethods:X}),k=yield pl.constructCreateRequest({ionDocument:W,recoveryKey:i.metadata.recoveryKey,updateKey:i.metadata.updateKey});try{const re=pl.appendPathToUrl({baseUrl:u,path:"/operations"}),Oe=yield fetch(re,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});return{didDocument:i.document,didDocumentMetadata:Object.assign(Object.assign({},i.metadata),{published:Oe.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Zi.InternalError,errorMessage:`Failed to publish DID document for: ${i.uri}`}}}})}static resolve(n){return Kf(this,arguments,void 0,function*(i,u={}){var h,l;const f=Bs.parse(i);if(!f)return Object.assign(Object.assign({},Gu),{didResolutionMetadata:{error:"invalidDid"}});if(f.method!==r.methodName)return Object.assign(Object.assign({},Gu),{didResolutionMetadata:{error:"methodNotSupported"}});const X=null!==(h=u?.gatewayUri)&&void 0!==h?h:c1;try{const W=pl.appendPathToUrl({baseUrl:X,path:`/identifiers/${i}`}),k=yield fetch(W);if(!k.ok)throw new Yi(Zi.NotFound,`Unable to find DID document for: ${i}`);const{didDocument:re,didDocumentMetadata:Oe}=yield k.json();return Object.assign(Object.assign(Object.assign({},Gu),re&&{didDocument:re}),{didDocumentMetadata:Object.assign({published:null===(l=Oe?.method)||void 0===l?void 0:l.published},Oe)})}catch(W){if(!(W instanceof Yi))throw new Error(W);return Object.assign(Object.assign({},Gu),{didResolutionMetadata:Object.assign({error:W.code},W.message&&{errorMessage:W.message})})}})}}return r.methodName="ion",r})();class pl{static appendPathToUrl({baseUrl:t,path:n}){const i=new URL(t);return i.pathname=i.pathname.endsWith("/")?i.pathname:i.pathname+"/",i.pathname+=n.startsWith("/")?n.substring(1):n,i.toString()}static computeLongFormDidUri(t){return Kf(this,arguments,void 0,function*({recoveryKey:n,updateKey:i,services:u,verificationMethods:h}){const l=yield pl.createIonDocument({services:u,verificationMethods:h}),f=pl.normalizeJwk(n),X=pl.normalizeJwk(i);return yield gM.oU.createLongFormDid({document:l,recoveryKey:f,updateKey:X})})}static constructCreateRequest(t){return Kf(this,arguments,void 0,function*({ionDocument:n,recoveryKey:i,updateKey:u}){return yield gM.Q2.createCreateRequest({document:n,recoveryKey:pl.normalizeJwk(i),updateKey:pl.normalizeJwk(u)})})}static createIonDocument(t){return Kf(this,arguments,void 0,function*({services:n,verificationMethods:i}){var u,h;const l=[];for(const W of i){let k=null!==(h=null!==(u=W.id)&&void 0!==u?u:W.publicKeyJwk.kid)&&void 0!==h?h:yield Ys({jwk:W.publicKeyJwk});k=`${k.split("#").pop()}`;const re={id:k,publicKeyJwk:pl.normalizeJwk(W.publicKeyJwk),purposes:W.purposes,type:"JsonWebKey2020"};l.push(re)}return{publicKeys:l,services:n.map(W=>Object.assign(Object.assign({},W),{id:`${W.id.split("#").pop()}`}))}})}static normalizeJwk(t){const n=t.kty;let i;if("EC"===n)i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===n)i={k:t.k,kty:t.kty};else if("OKP"===n)i={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==n)throw new Error(`Unsupported key type: ${n}`);i={e:t.e,kty:t.kty,n:t.n}}return i}}var Ff=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},Lh=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(Lh||{});const bM={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},CP={Ed25519:Lh.Ed25519,ES256K:Lh.secp256k1,ES256:Lh.secp256r1,"P-256":Lh.secp256r1,secp256k1:Lh.secp256k1,secp256r1:Lh.secp256r1,X25519:Lh.X25519};let kP=(()=>{class r extends FI{static create(){return Ff(this,arguments,void 0,function*({keyManager:n=new kp,options:i={}}={}){var u,h,l,f;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const X=null!==(f=null!==(u=i.algorithm)&&void 0!==u?u:null===(l=null===(h=i.verificationMethods)||void 0===h?void 0:h[0])||void 0===l?void 0:l.algorithm)&&void 0!==f?f:"Ed25519",W=yield n.generateKey({algorithm:X}),k=yield n.getPublicKey({keyUri:W}),re=yield Kh.publicKeyToMultibaseId({publicKey:k}),Oe=`did:${r.methodName}:${re}`,Ke=(yield r.resolve(Oe,i)).didDocument;return new Wm({uri:Oe,document:Ke,metadata:{},keyManager:n})})}static getSigningMethod(n){return Ff(this,arguments,void 0,function*({didDocument:i}){var u;const h=Bs.parse(i.id);if(h&&h.method!==this.methodName)throw new Yi(Zi.MethodNotSupported,`Method not supported: ${h.method}`);const[l]=i.assertionMethod||[],f=null===(u=i.verificationMethod)||void 0===u?void 0:u.find(X=>X.id===l);if(!f||!f.publicKeyJwk)throw new Yi(Zi.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static import(n){return Ff(this,arguments,void 0,function*({portableDid:i,keyManager:u=new kp}){const h=Bs.parse(i.uri);if(h?.method!==r.methodName)throw new Yi(Zi.MethodNotSupported,"Method not supported");const l=yield Wm.import({portableDid:i,keyManager:u});if(1!==l.document.verificationMethod.length)throw new Yi(Zi.InvalidDidDocument,"DID document must contain exactly one verification method");return l})}static resolve(n,i){return Ff(this,void 0,void 0,function*(){try{const u=yield r.createDocument({didUri:n,options:i});return Object.assign(Object.assign({},Gu),{didDocument:u})}catch(u){if(!(u instanceof Yi))throw new Error(u);return Object.assign(Object.assign({},Gu),{didResolutionMetadata:Object.assign({error:u.code},u.message&&{errorMessage:u.message})})}})}static createDocument(n){return Ff(this,arguments,void 0,function*({didUri:i,options:u={}}){const{defaultContext:h="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:l=!1,enableExperimentalPublicKeyTypes:f=!1,publicKeyFormat:X="JsonWebKey2020"}=u,W={id:""},k=Bs.parse(i);if(!k)throw new Yi(Zi.InvalidDid,`Invalid DID URI: ${i}`);const re=k.id;if(k.method!==r.methodName)throw new Yi(Zi.MethodNotSupported,`Method not supported: ${k.method}`);if(!r.validateIdentifier(k))throw new Yi(Zi.InvalidDid,`Invalid DID URI: ${i}`);const Oe=yield r.createSignatureMethod({didUri:i,multibaseValue:re,options:{enableExperimentalPublicKeyTypes:f,publicKeyFormat:X}});if(W.id=k.uri,W.verificationMethod=[Oe],W.authentication=[Oe.id],W.assertionMethod=[Oe.id],W.capabilityInvocation=[Oe.id],W.capabilityDelegation=[Oe.id],!0===l){const tt="Ed25519VerificationKey2020"===X?"X25519KeyAgreementKey2020":"JsonWebKey2020",bt=yield this.createEncryptionMethod({didUri:i,multibaseValue:re,options:{enableExperimentalPublicKeyTypes:f,publicKeyFormat:tt}});W.verificationMethod.push(bt),W.keyAgreement=[bt.id]}const je=[h];return function KI({didDocument:r}){const n=LI({didDocument:r}).map(i=>i.type);return[...new Set(n)]}({didDocument:W}).forEach(tt=>{je.push(bM[tt])}),W["@context"]=je,W})}static createEncryptionMethod(n){return Ff(this,arguments,void 0,function*({didUri:i,multibaseValue:u,options:h}){const{enableExperimentalPublicKeyTypes:l,publicKeyFormat:f}=h,X={id:"",type:"",controller:""},{keyBytes:W,multicodecCode:k}=yield r.deriveEncryptionKey({multibaseValue:u}),re=W.byteLength,Oe=Kh.MULTICODEC_PUBLIC_KEY_LENGTH[k];if(re!==Oe)throw new Yi(Zi.InvalidPublicKeyLength,`Expected ${re} bytes. Actual: ${Oe}`);const je=fM({keyBytes:W,multicodecCode:k});X.id=`${i}#${je}`;try{new URL(X.id)}catch{throw new Yi(Zi.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(f in bM))throw new Yi(Zi.UnsupportedPublicKeyType,`Unsupported format: ${f}`);if(!1===l&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(f))throw new Yi(Zi.InvalidPublicKeyType,`Specified '${f}' without setting enableExperimentalPublicKeyTypes to true.`);if(X.type=f,X.controller=i,"X25519KeyAgreementKey2020"===f&&(X.publicKeyMultibase=je),"JsonWebKey2020"===f){const{crv:tt}=yield Kh.multicodecToJwk({code:k});X.publicKeyJwk=yield Kh.keyConverter(tt).bytesToPublicKey({publicKeyBytes:W})}return X})}static createSignatureMethod(n){return Ff(this,arguments,void 0,function*({didUri:i,multibaseValue:u,options:h}){const{enableExperimentalPublicKeyTypes:l,publicKeyFormat:f}=h,X={id:"",type:"",controller:""},{keyBytes:W,multicodecCode:k,multicodecName:re}=SP({multibaseKeyId:u}),Oe=W.byteLength,je=Kh.MULTICODEC_PUBLIC_KEY_LENGTH[k];if(Oe!==je)throw new Yi(Zi.InvalidPublicKeyLength,`Expected ${Oe} bytes. Actual: ${je}`);let Ke=!1;switch(re){case"secp256k1-pub":Ke=yield ya.validatePublicKey({publicKeyBytes:W});break;case"ed25519-pub":Ke=yield $a.validatePublicKey({publicKeyBytes:W});break;case"x25519-pub":Ke=!0}if(!Ke)throw new Yi(Zi.InvalidPublicKey,"Invalid public key detected.");X.id=`${i}#${u}`;try{new URL(X.id)}catch{throw new Yi(Zi.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(f in bM))throw new Yi(Zi.UnsupportedPublicKeyType,`Unsupported format: ${f}`);if(!1===l&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(f))throw new Yi(Zi.InvalidPublicKeyType,`Specified '${f}' without setting enableExperimentalPublicKeyTypes to true.`);if(X.type=f,X.controller=i,"Ed25519VerificationKey2020"===f&&(X.publicKeyMultibase=u),"JsonWebKey2020"===f){const{crv:bt}=yield Kh.multicodecToJwk({code:k});X.publicKeyJwk=yield Kh.keyConverter(bt).bytesToPublicKey({publicKeyBytes:W})}return X})}static deriveEncryptionKey(n){return Ff(this,arguments,void 0,function*({multibaseValue:i}){let u={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:h,multicodecCode:l}=SP({multibaseKeyId:i});if(237===l){const f=yield Kh.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:h}),X=yield $a.convertPublicKeyToX25519({publicKey:f});u={keyBytes:yield Kh.keyConverter("Ed25519").publicKeyToBytes({publicKey:X}),multicodecCode:236}}return u})}static validateIdentifier(n){const{method:i,id:u}=n,[h]=n.uri.split(":",1);return"did"===h&&"key"===i&&Number("1")>0&&"String"===(0,nr.fc)(u)&&u.startsWith("z")}}return r.methodName="key",r})(),Kh=(()=>{class r{static jwkToMulticodec(n){return Ff(this,arguments,void 0,function*({jwk:i}){const u=[];i.crv&&(u.push(i.crv),u.push(i.d?"private":"public"));const h=u.join(":"),l=r.JWK_TO_MULTICODEC[h];if(void 0===l)throw new Error(`Unsupported JWK to Multicodec conversion: '${h}'`);return{code:nr.Gs.getCodeFromName({name:l}),name:l}})}static keyCompressor(n){const u={"P-256":Xa.compressPublicKey,secp256k1:ya.compressPublicKey}[n];if(!u)throw new Yi(Zi.InvalidPublicKeyType,`Unsupported curve: ${n}`);return u}static keyConverter(n){const u={Ed25519:$a,"P-256":Xa,secp256k1:ya,X25519:Ny}[n];if(!u)throw new Yi(Zi.InvalidPublicKeyType,`Unsupported curve: ${n}`);return u}static multicodecToJwk(n){return Ff(this,arguments,void 0,function*({code:i,name:u}){if(!(u?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");u=void 0===u?nr.Gs.getNameFromCode({code:i}):u;const l=r.MULTICODEC_TO_JWK[u];if(void 0===l)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},l)})}static publicKeyToMultibaseId(n){return Ff(this,arguments,void 0,function*({publicKey:i}){var u;if(!i?.crv||!(i.crv in CP))throw new Yi(Zi.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(u=i?.crv)&&void 0!==u?u:"undefined"}`);let h=yield r.keyConverter(i.crv).publicKeyToBytes({publicKey:i});/^(secp256k1|P-256|P-384|P-521)$/.test(i.crv)&&(h=yield r.keyCompressor(i.crv)({publicKeyBytes:h}));const{name:l}=yield r.jwkToMulticodec({jwk:i});return fM({keyBytes:h,multicodecName:l})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();var VI=_(14078),RP=_(42064);class zI{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new RP.Level(n),this.ttl=VI(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},u=JSON.stringify(i);return this.cache.put(t,u)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const wM={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var NP=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class HI{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||wM;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return NP(this,void 0,void 0,function*(){const i=Bs.parse(t);if(!i)return Object.assign(Object.assign({},Gu),{didResolutionMetadata:{error:Zi.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const u=this.didResolvers.get(i.method);if(!u)return Object.assign(Object.assign({},Gu),{didResolutionMetadata:{error:Zi.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const h=yield this.cache.get(i.uri);if(h)return h;{const l=yield u.resolve(i.uri,n);return l.didResolutionMetadata.error||(yield this.cache.set(i.uri,l)),l}})}dereference(t,n){return NP(this,void 0,void 0,function*(){const i=Bs.parse(t);if(!i)return{dereferencingMetadata:{error:Zi.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:u,didResolutionMetadata:h,didDocumentMetadata:l}=yield this.resolve(i.uri);if(!u)return{dereferencingMetadata:{error:h.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:u,contentMetadata:l};const{service:f=[],verificationMethod:X=[]}=u,W=new Set([t,i.fragment,`#${i.fragment}`]);let k;for(let re of X)if(W.has(re.id)){k=re;break}for(let re of f)if(W.has(re.id)){k=re;break}return k?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:k,contentMetadata:h}:{dereferencingMetadata:{error:Zi.NotFound},contentStream:null,contentMetadata:{}}})}}var Op=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class _M{constructor(t){this.didResolver=t.didResolver,this.tenantGate=t.tenantGate,this.eventStream=t.eventStream,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.eventLog=t.eventLog,this.eventStream=t.eventStream,this.methodHandlers={[Qi.Events+wi.Get]:new mI(this.didResolver,this.eventLog),[Qi.Events+wi.Query]:new gI(this.didResolver,this.eventLog),[Qi.Events+wi.Subscribe]:new vI(this.didResolver,this.eventStream),[Qi.Messages+wi.Get]:new W5(this.didResolver,this.messageStore,this.dataStore),[Qi.Protocols+wi.Configure]:new N_(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[Qi.Protocols+wi.Query]:new bI(this.didResolver,this.messageStore,this.dataStore),[Qi.Records+wi.Delete]:new zx(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream),[Qi.Records+wi.Query]:new Ip(this.didResolver,this.messageStore,this.dataStore),[Qi.Records+wi.Read]:new F_(this.didResolver,this.messageStore,this.dataStore),[Qi.Records+wi.Subscribe]:new Wu(this.didResolver,this.messageStore,this.eventStream),[Qi.Records+wi.Write]:new ky(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(t){var n,i;return Op(this,void 0,void 0,function*(){null!==(n=t.didResolver)&&void 0!==n||(t.didResolver=new HI({didResolvers:[yM,vM,kP],cache:new zI({location:"RESOLVERCACHE"})})),null!==(i=t.tenantGate)&&void 0!==i||(t.tenantGate=new fI);const u=new _M(t);return yield u.open(),u})}open(){var t;return Op(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.eventLog.open(),yield null===(t=this.eventStream)||void 0===t?void 0:t.open()})}close(){var t;return Op(this,void 0,void 0,function*(){yield null===(t=this.eventStream)||void 0===t?void 0:t.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.eventLog.close()})}processMessage(t,n,i={}){var u;return Op(this,void 0,void 0,function*(){const h=null!==(u=yield this.validateTenant(t))&&void 0!==u?u:yield this.validateMessageIntegrity(n);if(void 0!==h)return h;const{dataStream:l,subscriptionHandler:f}=i,X=n.descriptor.interface+n.descriptor.method;return yield this.methodHandlers[X].handle({tenant:t,message:n,dataStream:l,subscriptionHandler:f})})}validateTenant(t){var n;return Op(this,void 0,void 0,function*(){const i=yield this.tenantGate.isActiveTenant(t);if(!i.isActiveTenant)return{status:{code:401,detail:null!==(n=i.detail)&&void 0!==n?n:`DID ${t} is not an active tenant.`}}})}validateMessageIntegrity(t){var n,i;return Op(this,void 0,void 0,function*(){const u=null===(n=t?.descriptor)||void 0===n?void 0:n.interface,h=null===(i=t?.descriptor)||void 0===i?void 0:i.method;if(void 0===u||void 0===h)return{status:{code:400,detail:`Both interface and method must be present, interface: ${u}, method: ${h}`}};try{Hr.validateJsonSchema(t)}catch(l){return Ms(l,400)}})}}function NR(r){return new Promise((t,n)=>{r.aborted?n(r.reason):r.addEventListener("abort",()=>{n(r.reason)})})}function Qd(r,t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return t?Promise.race([r,NR(t)]):r})}var KP=_(54626),Is=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},ml=function(r){return this instanceof ml?(this.v=r,this):new ml(r)},Ly=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}},$v=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),h=[];return u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u;function l(Oe){i[Oe]&&(u[Oe]=function(je){return new Promise(function(Ke,tt){h.push([Oe,je,Ke,tt])>1||f(Oe,je)})})}function f(Oe,je){try{!function X(Oe){Oe.value instanceof ml?Promise.resolve(Oe.value.v).then(W,k):re(h[0][2],Oe)}(i[Oe](je))}catch(Ke){re(h[0][3],Ke)}}function W(Oe){f("next",Oe)}function k(Oe){f("throw",Oe)}function re(Oe,je){Oe(je),h.shift(),h.length&&f(h[0][0],h[0][1])}};function Jm(r,t){return Is(this,void 0,void 0,function*(){return new KP.Level(r,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))})}class d1{constructor(t,n){this.config=Object.assign({createLevelDatabase:Jm},t),this.db=n}open(){return Is(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(t=>{this.db.once("open",t)});case"closing":return new Promise((t,n)=>{this.db.once("closed",()=>{this.db.open().then(t).catch(n)})});case"closed":return this.db.open()}})}close(){return Is(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((t,n)=>{this.db.once("open",()=>{this.db.close().then(t).catch(n)})});case"closing":return new Promise(t=>{this.db.once("closed",t)});case"closed":return}})}partition(t){return Is(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new d1(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(t,n){var i;return Is(this,void 0,void 0,function*(){null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Qd(this.createLevelDatabase(),n?.signal);try{return yield Qd(this.db.get(String(t)),n?.signal)}catch(u){if("LEVEL_NOT_FOUND"===u.code)return;throw u}})}has(t,n){return Is(this,void 0,void 0,function*(){return!!(yield this.get(t,n))})}keys(t){var n,i;return $v(this,arguments,function*(){var h,l,f;null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield ml(Qd(this.createLevelDatabase(),t?.signal));try{for(var re,W=!0,k=Ly(this.db.keys());!(h=(re=yield ml(k.next())).done);W=!0){W=!1;const Oe=re.value;null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield yield ml(Oe)}}catch(Oe){l={error:Oe}}finally{try{!W&&!h&&(f=k.return)&&(yield ml(f.call(k)))}finally{if(l)throw l.error}}})}iterator(t,n){var i,u;return $v(this,arguments,function*(){var l,f,X;null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield ml(Qd(this.createLevelDatabase(),n?.signal));try{for(var Oe,k=!0,re=Ly(this.db.iterator(t));!(l=(Oe=yield ml(re.next())).done);k=!0){k=!1;const je=Oe.value;null===(u=n?.signal)||void 0===u||u.throwIfAborted(),yield yield ml(je)}}catch(je){f={error:je}}finally{try{!k&&!l&&(X=re.return)&&(yield ml(X.call(re)))}finally{if(f)throw f.error}}})}put(t,n,i){var u;return Is(this,void 0,void 0,function*(){return null===(u=i?.signal)||void 0===u||u.throwIfAborted(),yield Qd(this.createLevelDatabase(),i?.signal),Qd(this.db.put(String(t),n),i?.signal)})}delete(t,n){var i;return Is(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Qd(this.createLevelDatabase(),n?.signal),Qd(this.db.del(String(t)),n?.signal)})}isEmpty(t){var n,i,u;return Is(this,void 0,void 0,function*(){try{for(var X,l=!0,f=Ly(this.keys(t));X=yield f.next(),!(n=X.done);l=!0)return l=!1,!1}catch(W){i={error:W}}finally{try{!l&&!n&&(u=f.return)&&(yield u.call(f))}finally{if(i)throw i.error}}return!0})}clear(){return Is(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(t,n){var i;return Is(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Qd(this.createLevelDatabase(),n?.signal),Qd(this.db.batch(t),n?.signal)})}createPartitionOperation(t,n){return Object.assign(Object.assign({},n),{sublevel:this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(t){var n,i,u;return Is(this,void 0,void 0,function*(){null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Qd(this.createLevelDatabase(),t?.signal);const h=this.sublevelRange;if(!h)return;const l=this.root;return l.db.supports.additionalMethods.compactRange?Qd(null===(u=(i=l.db).compactRange)||void 0===u?void 0:u.call(i,...h),t?.signal):void 0})}get sublevelRange(){const t=this.db.prefix;if(!t)return;const n=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return[t,n]}get root(){let t=this.db;for(const n=t.db;n&&n!==t;)t=n;return new d1(this.config,t)}createLevelDatabase(){var t;return Is(this,void 0,void 0,function*(){null!==(t=this.db)&&void 0!==t||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var Fh=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},EM=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}},Rd=function(r){return this instanceof Rd?(this.v=r,this):new Rd(r)},Ky=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),h=[];return u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u;function l(Oe){i[Oe]&&(u[Oe]=function(je){return new Promise(function(Ke,tt){h.push([Oe,je,Ke,tt])>1||f(Oe,je)})})}function f(Oe,je){try{!function X(Oe){Oe.value instanceof Rd?Promise.resolve(Oe.value.v).then(W,k):re(h[0][2],Oe)}(i[Oe](je))}catch(Ke){re(h[0][3],Ke)}}function W(Oe){f("next",Oe)}function k(Oe){f("throw",Oe)}function re(Oe,je){Oe(je),h.shift(),h.length&&f(h[0][0],h[0][1])}};class l1{constructor(t,n){this.config=Object.assign({createLevelDatabase:Jm},t),this.db=n??new d1(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return Fh(this,void 0,void 0,function*(){return this.db.open()})}close(){return Fh(this,void 0,void 0,function*(){return this.db.close()})}partition(t){return Fh(this,void 0,void 0,function*(){const n=yield this.db.partition(t);return new l1(Object.assign(Object.assign({},this.config),{location:""}),n)})}put(t,n,i){return Fh(this,void 0,void 0,function*(){return yield this.db.put(String(t),n,i),df.TO.parse(t.toString())})}get(t,n){return Fh(this,void 0,void 0,function*(){return yield this.db.get(String(t),n)})}has(t,n){return Fh(this,void 0,void 0,function*(){return this.db.has(String(t),n)})}delete(t,n){return Fh(this,void 0,void 0,function*(){return this.db.delete(String(t),n)})}isEmpty(t){return Fh(this,void 0,void 0,function*(){return this.db.isEmpty(t)})}putMany(t,n){return Ky(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=EM(t);!(u=(k=yield Rd(W.next())).done);X=!0){X=!1;const re=k.value;yield Rd(this.put(re.cid,re.block,n)),yield yield Rd(re.cid)}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield Rd(l.call(W)))}finally{if(h)throw h.error}}})}getMany(t,n){return Ky(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=EM(t);!(u=(k=yield Rd(W.next())).done);X=!0){X=!1;const re=k.value;yield yield Rd({cid:re,block:yield Rd(this.get(re,n))})}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield Rd(l.call(W)))}finally{if(h)throw h.error}}})}getAll(t){return Ky(this,arguments,function*(){var i,u,h,l;const f=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var k,X=!0,W=EM(f);!(i=(k=yield Rd(W.next())).done);X=!0){l=k.value,X=!1;const[re,Oe]=l;yield yield Rd({cid:df.TO.decode(re),block:Oe})}}catch(re){u={error:re}}finally{try{!X&&!i&&(h=W.return)&&(yield Rd(h.call(W)))}finally{if(u)throw u.error}}})}deleteMany(t,n){return Ky(this,arguments,function*(){var u,h,l;try{for(var k,X=!0,W=EM(t);!(u=(k=yield Rd(W.next())).done);X=!0){X=!1;const re=k.value;yield Rd(this.delete(re,n)),yield yield Rd(re)}}catch(re){h={error:re}}finally{try{!X&&!u&&(l=W.return)&&(yield Rd(l.call(W)))}finally{if(h)throw h.error}}})}clear(){return Fh(this,void 0,void 0,function*(){return this.db.clear()})}}var rc=_(42853);const JI=function GI(r){if(function WI(r){return null!=r[Symbol.asyncIterator]}(r))return(0,Xe.A)(function*(){let n;var h,i=!1,u=!1;try{for(var f,l=Ho(r);i=!(f=yield l.next()).done;i=!1)n=f.value}catch(X){u=!0,h=X}finally{try{i&&null!=l.return&&(yield l.return())}finally{if(u)throw h}}return n})();let t;for(const n of r)t=n;return t};var XI=_(56580);const h1=function(){var r=(0,Xe.A)(function*(t,n,i,u,h,l,f,X){const W=yield f.get(t,X),k=Bk(W);let re=k,Oe=i;for(;u.length>0;){const je=u[0];if(!(je in re))throw rc(new Error(`No property named ${je} found in cbor node ${t}`),"ERR_NO_PROP");{u.shift(),Oe=`${Oe}/${je}`;const Ke=al.TO.asCID(re[je]);if(null!=Ke)return{entry:{type:"object",name:n,path:i,cid:t,node:W,depth:l,size:BigInt(W.length),content:function(){var tt=_s(function*(){yield k});return function(){return tt.apply(this,arguments)}}()},next:{cid:Ke,name:je,path:Oe,toResolve:u}};re=re[je]}}return{entry:{type:"object",name:n,path:i,cid:t,node:W,depth:l,size:BigInt(W.length),content:(je=_s(function*(){yield k}),function(){return je.apply(this,arguments)})}};var je});return function(n,i,u,h,l,f,X,W){return r.apply(this,arguments)}}(),Vv=function QI(r,t,n,i){const u=BigInt(r.length),h=BigInt(t+u);return n>=h||i<t?new Uint8Array(0):(i>=t&&i<h&&(r=r.subarray(0,Number(i-t))),n>=t&&n<h&&(r=r.subarray(Number(n-t))),r)},eC=(r,t=0,n=r)=>{const i=BigInt(r),u=BigInt(t??0);let h=BigInt(n);if(h!==i&&(h=u+h),h>i&&(h=i),u<0n)throw rc(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(u>i)throw rc(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(h<0n)throw rc(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(h>i)throw rc(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:u,end:h}},UR=r=>{function n(){return(n=_s(function*(i={}){const{start:u,end:h}=eC(r.length,i.offset,i.length),l=Vv(r,0n,u,h);i.onProgress?.(new su("unixfs:exporter:progress:identity",{bytesRead:BigInt(l.byteLength),totalBytes:h-u,fileSize:BigInt(r.byteLength)})),yield l})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},jP=function(){var r=(0,Xe.A)(function*(t,n,i,u,h,l,f,X){if(u.length>0)throw rc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const W=XI.D4(t.multihash.bytes);return{entry:{type:"identity",name:n,path:i,cid:t,content:UR(W.digest),depth:l,size:BigInt(W.digest.length),node:W.digest}}});return function(n,i,u,h,l,f,X,W){return r.apply(this,arguments)}}(),KR=r=>{function n(){return(n=_s(function*(i={}){const{start:u,end:h}=eC(r.length,i.offset,i.length),l=Vv(r,0n,u,h);i.onProgress?.(new su("unixfs:exporter:progress:raw",{bytesRead:BigInt(l.byteLength),totalBytes:h-u,fileSize:BigInt(r.byteLength)})),yield l})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},tC=function(){var r=(0,Xe.A)(function*(t,n,i,u,h,l,f,X){if(u.length>0)throw rc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const W=yield f.get(t,X);return{entry:{type:"raw",name:n,path:i,cid:t,content:KR(W),depth:l,size:BigInt(W.length),node:W}}});return function(n,i,u,h,l,f,X,W){return r.apply(this,arguments)}}(),FR=function(){var r=(0,Xe.A)(function*(t){return(yield EA.encode(t)).slice(0,8).reverse()});return function(n){return r.apply(this,arguments)}}(),p1=function(){var r=(0,Xe.A)(function*(t,n,i){yield Promise.all(t.map(function(){var u=(0,Xe.A)(function*(h){if(null==h.Name)throw new Error("Unexpected Link without a Name");if(2!==h.Name.length)yield i.put(h.Name.substring(2),!0);else{const l=parseInt(h.Name,16);n._putObjectAt(l,new xl({hash:i._options.hash,bits:i._options.bits},n,l))}});return function(h){return u.apply(this,arguments)}}()))});return function(n,i,u){return r.apply(this,arguments)}}(),VP=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),zP=function(){var r=(0,Xe.A)(function*(t,n,i,u,h){if(null==u){const re=uh({hashFn:FR});u={rootBucket:re,hamtDepth:1,lastBucket:re}}yield p1(t.Links,u.lastBucket,u.rootBucket);const l=yield u.rootBucket._findNewBucketAndPos(n);let f=VP(l.pos);const X=(r=>{let t=r.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(l);X.length>u.hamtDepth&&(u.lastBucket=X[u.hamtDepth],f=VP(u.lastBucket._posAtParent));const W=t.Links.find(re=>{if(null==re.Name)return!1;const Oe=re.Name.substring(0,2),je=re.Name.substring(2);return!(Oe!==f||""!==je&&je!==n)});if(null!=W)return null!=W.Name&&W.Name.substring(2)===n?W.Hash:(u.hamtDepth++,t=E0(yield i.get(W.Hash,h)),zP(t,n,i,u,h))});return function(n,i,u,h,l){return r.apply(this,arguments)}}(),HP=zP,WP=function $R(r){const[t,n]=null!=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>t.next(),push:u=>{i.push(u)},next:()=>i.length>0?{done:!1,value:i.shift()}:t.next(),[n](){return this}}},rC=function XP(r,t){let n=0;if(function nC(r){return null!=r[Symbol.asyncIterator]}(r))return _s(function*(){var k,X=!1,W=!1;try{for(var Oe,re=Ho(r);X=!(Oe=yield bi(re.next())).done;X=!1){const je=Oe.value;yield t(je,n++)}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield bi(re.return()))}finally{if(W)throw k}}})();const i=WP(r),{value:u,done:h}=i.next();if(!0===h)return function*(){}();const l=t(u,n++);if("function"==typeof l.then)return _s(function*(){yield yield bi(l);var k,X=!1,W=!1;try{for(var Oe,re=Ho(i);X=!(Oe=yield bi(re.next())).done;X=!1){const je=Oe.value;yield t(je,n++)}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield bi(re.return()))}finally{if(W)throw k}}})();const f=t;return function*(){yield l;for(const X of i)yield f(X,n++)}()};function Fy(){const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}const zv=globalThis.CustomEvent??Event;function iC(r){return xM.apply(this,arguments)}function xM(){return(xM=_s(function*(r,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const i=null!=t.ordered&&t.ordered,u=new EventTarget,h=[];let W,l=Fy(),f=Fy(),X=!1,k=!1;function re(){return i?h[0]?.done:!!h.find(Ke=>Ke.done)}function*Oe(){for(;h.length>0&&h[0].done;){const Ke=h[0];if(h.shift(),!Ke.ok)throw k=!0,l.resolve(),Ke.err;yield Ke.value,l.resolve()}}function*je(){for(;re();)for(let Ke=0;Ke<h.length;Ke++)if(h[Ke].done){const tt=h[Ke];if(h.splice(Ke,1),Ke--,!tt.ok)throw k=!0,l.resolve(),tt.err;yield tt.value,l.resolve()}}for(u.addEventListener("task-complete",()=>{f.resolve()}),Promise.resolve().then((0,Xe.A)(function*(){try{var bt,Ke=!1,tt=!1;try{for(var _t,kt=Ho(r);Ke=!(_t=yield kt.next()).done;Ke=!1){const xt=_t.value;{if(h.length===n&&(l=Fy(),yield l.promise),k)break;const Nt={done:!1};h.push(Nt),xt().then(Xt=>{Nt.done=!0,Nt.ok=!0,Nt.value=Xt,u.dispatchEvent(new zv("task-complete"))},Xt=>{Nt.done=!0,Nt.err=Xt,u.dispatchEvent(new zv("task-complete"))})}}}catch(xt){tt=!0,bt=xt}finally{try{Ke&&null!=kt.return&&(yield kt.return())}finally{if(tt)throw bt}}X=!0,u.dispatchEvent(new zv("task-complete"))}catch(xt){W=xt,u.dispatchEvent(new zv("task-complete"))}}));;){if(re()||(f=Fy(),yield bi(f.promise)),null!=W)throw W;if(i?yield*Ou(Ho(Oe())):yield*Ou(Ho(je())),X&&0===h.length)break}})).apply(this,arguments)}class oC{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return void 0===this.buffer[this.btm]}}class MM{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new oC(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return null!=t?.byteLength?t.byteLength:1}push(t){null!=t?.value&&(this.size+=this.calculateSize(t.value)),this.head.push(t)||(this.head=this.head.next=new oC(2*this.head.buffer.length),this.head.push(t))}shift(){let t=this.tail.shift();if(void 0===t&&null!=this.tail.next){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return null!=t?.value&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}class sC extends Error{type;code;constructor(t,n){super(t??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}}function m1(r={}){return function SM(r,t){let u,h,l,n=(t=t??{}).onEnd,i=new MM,f=Fy();const X=function(){var bt=(0,Xe.A)(function*(){try{return i.isEmpty()?l?{done:!0}:yield new Promise((kt,_t)=>{h=xt=>{h=null,i.push(xt);try{kt(r(i))}catch(Nt){_t(Nt)}return u}}):r(i)}finally{i.isEmpty()&&queueMicrotask(()=>{f.resolve(),f=Fy()})}});return function(){return bt.apply(this,arguments)}}(),W=bt=>null!=h?h(bt):(i.push(bt),u),re=bt=>{if(l)return u;if(!0!==t?.objectMode&&null==bt?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return W({done:!1,value:bt})},Oe=bt=>l?u:(l=!0,null!=bt?(bt=>(i=new MM,null!=h?h({error:bt}):(i.push({error:bt}),u)))(bt):W({done:!0}));if(u={[Symbol.asyncIterator](){return this},next:X,return:()=>(i=new MM,Oe(),{done:!0}),throw:bt=>(Oe(bt),{done:!0}),push:re,end:Oe,get readableLength(){return i.size},onEmpty:(bt=(0,Xe.A)(function*(kt){const _t=kt?.signal;if(_t?.throwIfAborted(),i.isEmpty())return;let xt,Nt;null!=_t&&(xt=new Promise((Xt,qt)=>{Nt=()=>{qt(new sC)},_t.addEventListener("abort",Nt)}));try{yield Promise.race([f.promise,xt])}finally{null!=Nt&&null!=_t&&_t?.removeEventListener("abort",Nt)}}),function(_t){return bt.apply(this,arguments)})},null==n)return u;var bt;const tt=u;return u={[Symbol.asyncIterator](){return this},next:()=>tt.next(),throw:bt=>(tt.throw(bt),null!=n&&(n(bt),n=void 0),{done:!0}),return:()=>(tt.return(),null!=n&&(n(),n=void 0),{done:!0}),push:re,end:bt=>(tt.end(bt),null!=n&&(n(bt),n=void 0),u),get readableLength(){return tt.readableLength},onEmpty:bt=>tt.onEmpty(bt)},u}(n=>{const i=n.shift();if(null==i)return{done:!0};if(null!=i.error)throw i.error;return{done:!0===i.done,value:i.value}},r)}function YP(r){return null!=r[Symbol.asyncIterator]}function AM(r,...t){if(null==r)throw new Error("Empty pipeline");if(CM(r)){const i=r;r=()=>i.source}else if(IM(r)||DM(r)){const i=r;r=()=>i}const n=[r,...t];if(n.length>1&&CM(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let i=1;i<n.length-1;i++)CM(n[i])&&(n[i]=cC(n[i]));return ZP(...n)}const ZP=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},DM=r=>null!=r?.[Symbol.asyncIterator],IM=r=>null!=r?.[Symbol.iterator],CM=r=>null!=r&&null!=r.sink&&null!=r.source,cC=r=>t=>{const n=r.sink(t);if(null!=n?.then){const i=m1({objectMode:!0});let u;n.then(()=>{i.end()},l=>{i.end(l)});const h=r.source;if(DM(h))u=function(){var l=_s(function*(){yield*Ou(Ho(h)),i.end()});return function(){return l.apply(this,arguments)}}();else{if(!IM(h))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");u=function*(){yield*h,i.end()}}return function TM(...r){const t=[];for(const n of r)YP(n)||t.push(n);return t.length===r.length?function*(){for(const n of t)yield*n}():_s(function*(){const n=m1({objectMode:!0});Promise.resolve().then((0,Xe.A)(function*(){try{yield Promise.all(r.map(function(){var i=(0,Xe.A)(function*(u){var f,h=!1,l=!1;try{for(var W,X=Ho(u);h=!(W=yield X.next()).done;h=!1)n.push(W.value)}catch(k){l=!0,f=k}finally{try{h&&null!=X.return&&(yield X.return())}finally{if(l)throw f}}});return function(u){return i.apply(this,arguments)}}())),n.end()}catch(i){n.end(i)}})),yield*Ou(Ho(n))})()}(i,u())}return r.source};var QP=_(50233);class dC extends Error{constructor(t){super(t),this.name="TimeoutError"}}class eO extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const kM=r=>void 0===globalThis.DOMException?new eO(r):new DOMException(r),PM=r=>{const t=void 0===r.reason?kM("This operation was aborted."):r.reason;return t instanceof Error?t:kM(t)};var Bp,Rp=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};Bp=new WeakMap;const Hv=class nO{constructor(){Bp.set(this,[])}enqueue(t,n){const i={priority:(n={priority:0,...n}).priority,run:t};if(this.size&&Rp(this,Bp,"f")[this.size-1].priority>=n.priority)return void Rp(this,Bp,"f").push(i);const u=function lC(r,t,n){let i=0,u=r.length;for(;u>0;){const h=Math.trunc(u/2);let l=i+h;n(r[l],t)<=0?(i=++l,u-=h+1):u=h}return i}(Rp(this,Bp,"f"),i,(h,l)=>l.priority-h.priority);Rp(this,Bp,"f").splice(u,0,i)}dequeue(){const t=Rp(this,Bp,"f").shift();return t?.run}filter(t){return Rp(this,Bp,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return Rp(this,Bp,"f").length}};var _c,Wv,Np,Up,y1,jy,Gv,jf,Jv,Gl,OM,Jl,g1,Xm,RM,uC,rO,fC,hC,pC,BM,mC,yC,NM,iO,v1,Ta=function(r,t,n,i,u){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!u)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!u:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?u.call(r,n):u?u.value=n:t.set(r,n),n},_i=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};class oO extends Error{}Wv=new WeakMap,Np=new WeakMap,Up=new WeakMap,y1=new WeakMap,jy=new WeakMap,Gv=new WeakMap,jf=new WeakMap,Jv=new WeakMap,Gl=new WeakMap,OM=new WeakMap,Jl=new WeakMap,g1=new WeakMap,Xm=new WeakMap,RM=new WeakMap,_c=new WeakSet,uC=function(){return _i(this,Np,"f")||_i(this,Up,"f")<_i(this,y1,"f")},rO=function(){return _i(this,Jl,"f")<_i(this,g1,"f")},fC=function(){var t;Ta(this,Jl,(t=_i(this,Jl,"f"),--t),"f"),_i(this,_c,"m",BM).call(this),this.emit("next")},hC=function(){_i(this,_c,"m",yC).call(this),_i(this,_c,"m",mC).call(this),Ta(this,Jv,void 0,"f")},pC=function(){const t=Date.now();if(void 0===_i(this,jf,"f")){const n=_i(this,Gv,"f")-t;if(!(n<0))return void 0===_i(this,Jv,"f")&&Ta(this,Jv,setTimeout(()=>{_i(this,_c,"m",hC).call(this)},n),"f"),!0;Ta(this,Up,_i(this,Wv,"f")?_i(this,Jl,"f"):0,"f")}return!1},BM=function(){if(0===_i(this,Gl,"f").size)return _i(this,jf,"f")&&clearInterval(_i(this,jf,"f")),Ta(this,jf,void 0,"f"),this.emit("empty"),0===_i(this,Jl,"f")&&this.emit("idle"),!1;if(!_i(this,Xm,"f")){const t=!_i(this,_c,"a",pC);if(_i(this,_c,"a",uC)&&_i(this,_c,"a",rO)){const n=_i(this,Gl,"f").dequeue();return!!n&&(this.emit("active"),n(),t&&_i(this,_c,"m",mC).call(this),!0)}}return!1},mC=function(){_i(this,Np,"f")||void 0!==_i(this,jf,"f")||(Ta(this,jf,setInterval(()=>{_i(this,_c,"m",yC).call(this)},_i(this,jy,"f")),"f"),Ta(this,Gv,Date.now()+_i(this,jy,"f"),"f"))},yC=function(){0===_i(this,Up,"f")&&0===_i(this,Jl,"f")&&_i(this,jf,"f")&&(clearInterval(_i(this,jf,"f")),Ta(this,jf,void 0,"f")),Ta(this,Up,_i(this,Wv,"f")?_i(this,Jl,"f"):0,"f"),_i(this,_c,"m",NM).call(this)},NM=function(){for(;_i(this,_c,"m",BM).call(this););},iO=function(){var r=(0,Xe.A)(function*(n){return new Promise((i,u)=>{n.addEventListener("abort",()=>{u(new oO("The task was aborted."))},{once:!0})})});return function t(n){return r.apply(this,arguments)}}(),v1=function(){var r=(0,Xe.A)(function*(n,i){return new Promise(u=>{const h=()=>{i&&!i()||(this.off(n,h),u())};this.on(n,h)})});return function t(n,i){return r.apply(this,arguments)}}();const GR=class WR extends QP{constructor(t){var n,i,u,h;if(super(),_c.add(this),Wv.set(this,void 0),Np.set(this,void 0),Up.set(this,0),y1.set(this,void 0),jy.set(this,void 0),Gv.set(this,0),jf.set(this,void 0),Jv.set(this,void 0),Gl.set(this,void 0),OM.set(this,void 0),Jl.set(this,0),g1.set(this,void 0),Xm.set(this,void 0),RM.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Hv,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(h=null===(u=t.interval)||void 0===u?void 0:u.toString())&&void 0!==h?h:""}\` (${typeof t.interval})`);Ta(this,Wv,t.carryoverConcurrencyCount,"f"),Ta(this,Np,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),Ta(this,y1,t.intervalCap,"f"),Ta(this,jy,t.interval,"f"),Ta(this,Gl,new t.queueClass,"f"),Ta(this,OM,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,Ta(this,RM,!0===t.throwOnTimeout,"f"),Ta(this,Xm,!1===t.autoStart,"f")}get concurrency(){return _i(this,g1,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);Ta(this,g1,t,"f"),_i(this,_c,"m",NM).call(this)}add(t,n={}){var i=this;return(0,Xe.A)(function*(){return n={timeout:i.timeout,throwOnTimeout:_i(i,RM,"f"),...n},new Promise((u,h)=>{_i(i,Gl,"f").enqueue((0,Xe.A)(function*(){var l,f,X;Ta(i,Jl,(f=_i(i,Jl,"f"),++f),"f"),Ta(i,Up,(X=_i(i,Up,"f"),++X),"f");try{if(null!==(l=n.signal)&&void 0!==l&&l.aborted)throw new oO("The task was aborted.");let W=t({signal:n.signal});n.timeout&&(W=function tO(r,t,n,i){let u;const h=new Promise((l,f)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:X}=i;X.aborted&&f(PM(X)),X.addEventListener("abort",()=>{f(PM(X))})}u=i.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{l(n())}catch(k){f(k)}return}const W=n instanceof Error?n:new dC("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof r.cancel&&r.cancel(),f(W)},t),(0,Xe.A)(function*(){try{l(yield r)}catch(X){f(X)}finally{i.customTimers.clearTimeout.call(void 0,u)}})()}else l(r)});return h.clear=()=>{clearTimeout(u),u=void 0},h}(Promise.resolve(W),n.timeout)),n.signal&&(W=Promise.race([W,_i(i,_c,"m",iO).call(i,n.signal)]));const k=yield W;u(k),i.emit("completed",k)}catch(W){if(W instanceof dC&&!n.throwOnTimeout)return void u();h(W),i.emit("error",W)}finally{_i(i,_c,"m",fC).call(i)}}),n),i.emit("add"),_i(i,_c,"m",BM).call(i)})})()}addAll(t,n){var i=this;return(0,Xe.A)(function*(){return Promise.all(t.map(function(){var u=(0,Xe.A)(function*(h){return i.add(h,n)});return function(h){return u.apply(this,arguments)}}()))})()}start(){return _i(this,Xm,"f")?(Ta(this,Xm,!1,"f"),_i(this,_c,"m",NM).call(this),this):this}pause(){Ta(this,Xm,!0,"f")}clear(){Ta(this,Gl,new(_i(this,OM,"f")),"f")}onEmpty(){var t=this;return(0,Xe.A)(function*(){0!==_i(t,Gl,"f").size&&(yield _i(t,_c,"m",v1).call(t,"empty"))})()}onSizeLessThan(t){var n=this;return(0,Xe.A)(function*(){_i(n,Gl,"f").size<t||(yield _i(n,_c,"m",v1).call(n,"next",()=>_i(n,Gl,"f").size<t))})()}onIdle(){var t=this;return(0,Xe.A)(function*(){0===_i(t,Jl,"f")&&0===_i(t,Gl,"f").size||(yield _i(t,_c,"m",v1).call(t,"idle"))})()}get size(){return _i(this,Gl,"f").size}sizeBy(t){return _i(this,Gl,"f").filter(t).length}get pending(){return _i(this,Jl,"f")}get isPaused(){return _i(this,Xm,"f")}};function sO(r,t,n,i,u,h,l){return UM.apply(this,arguments)}function UM(){return UM=(0,Xe.A)(function*(r,t,n,i,u,h,l){if(t instanceof Uint8Array){const W=Vv(t,i,u,h);return void n.push(W)}if(null==t.Data)throw rc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let f;try{f=_d.unmarshal(t.Data)}catch(W){throw rc(W,"ERR_NOT_UNIXFS")}if(null!=f.data){const k=Vv(f.data,i,u,h);n.push(k),i+=BigInt(k.byteLength)}const X=[];if(t.Links.length!==f.blockSizes.length)throw rc(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let W=0;W<t.Links.length;W++){const Oe=i+f.blockSizes[W];if((u>=i&&u<Oe||h>=i&&h<=Oe||u<i&&h>Oe)&&X.push({link:t.Links[W],blockStart:i}),(i=Oe)>h)break}yield AM(X,W=>rC(W,k=>(0,Xe.A)(function*(){const re=yield r.get(k.link.Hash,l);return{...k,block:re}})),W=>iC(W,{ordered:!0}),function(){var W=(0,Xe.A)(function*(k){var je,re=!1,Oe=!1;try{for(var tt,Ke=Ho(k);re=!(tt=yield Ke.next()).done;re=!1){const{link:bt,block:kt,blockStart:_t}=tt.value;{let xt;switch(bt.Hash.code){case lT:xt=E0(kt);break;case Ng:xt=kt;break;default:return void n.end(rc(new Error(`Unsupported codec: ${bt.Hash.code}`),"ERR_NOT_UNIXFS"))}const Nt=new GR({concurrency:1});Nt.on("error",Xt=>{n.end(Xt)}),Nt.add((0,Xe.A)(function*(){l.onProgress?.(new su("unixfs:exporter:walk:file",{cid:bt.Hash})),yield sO(r,xt,n,_t,u,h,l)})),yield Nt.onIdle()}}}catch(bt){Oe=!0,je=bt}finally{try{re&&null!=Ke.return&&(yield Ke.return())}finally{if(Oe)throw je}}});return function(k){return W.apply(this,arguments)}}()),i>=h&&n.end()}),UM.apply(this,arguments)}const gC=(r,t,n,i,u,h,l)=>{function X(){return(X=_s(function*(W={}){const k=n.fileSize();if(void 0===k)throw new Error("File was a directory");const{start:re,end:Oe}=eC(k,W.offset,W.length);if(0n===Oe)return;let je=0n;const Ke=Oe-re,tt=m1();W.onProgress?.(new su("unixfs:exporter:walk:file",{cid:r})),sO(l,t,tt,0n,re,Oe,W).catch(Xt=>{tt.end(Xt)});var _t,bt=!1,kt=!1;try{for(var Nt,xt=Ho(tt);bt=!(Nt=yield bi(xt.next())).done;bt=!1){const Xt=Nt.value;if(null!=Xt){if(je+=BigInt(Xt.byteLength),je>Ke)throw tt.end(),rc(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");je===Ke&&tt.end(),W.onProgress?.(new su("unixfs:exporter:progress:unixfs:file",{bytesRead:je,totalBytes:Ke,fileSize:k})),yield Xt}}}catch(Xt){kt=!0,_t=Xt}finally{try{bt&&null!=xt.return&&(yield bi(xt.return()))}finally{if(kt)throw _t}}if(je<Ke)throw rc(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function f(){return X.apply(this,arguments)}};function vC(r,t,n,i,u,h){return LM.apply(this,arguments)}function LM(){return(LM=_s(function*(r,t,n,i,u,h){const f=AM(r.Links,je=>rC(je,Ke=>(0,Xe.A)(function*(){const tt=null!=Ke.Name?Ke.Name.substring(2):null;if(null!=tt&&""!==tt){const bt=yield n(Ke.Hash,tt,`${t}/${tt}`,[],i+1,u,h);return{entries:null==bt.entry?[]:[bt.entry]}}{const bt=yield u.get(Ke.Hash,h);return r=E0(bt),h.onProgress?.(new su("unixfs:exporter:walk:hamt-sharded-directory",{cid:Ke.Hash})),{entries:vC(r,t,n,i,u,h)}}})),je=>iC(je,{ordered:!0}));var k,X=!1,W=!1;try{for(var Oe,re=Ho(f);X=!(Oe=yield bi(re.next())).done;X=!1){const{entries:je}=Oe.value;yield*Ou(Ho(je))}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield bi(re.return()))}finally{if(W)throw k}}})).apply(this,arguments)}const dO={raw:gC,file:gC,directory:(r,t,n,i,u,h,l)=>{function X(){return(X=_s(function*(W={}){const Oe=t.Links.slice(W.offset??0,W.length??t.Links.length);W.onProgress?.(new su("unixfs:exporter:walk:directory",{cid:r})),yield*Ou(Ho(AM(Oe,je=>rC(je,Ke=>(0,Xe.A)(function*(){const tt=Ke.Name??"",bt=`${i}/${tt}`;return(yield u(Ke.Hash,tt,bt,[],h+1,l,W)).entry})),je=>iC(je,{ordered:!0}),je=>function JP(r,t){let n=0;if(function GP(r){return null!=r[Symbol.asyncIterator]}(r))return _s(function*(){var k,X=!1,W=!1;try{for(var Oe,re=Ho(r);X=!(Oe=yield bi(re.next())).done;X=!1){const je=Oe.value;(yield bi(t(je,n++)))&&(yield je)}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield bi(re.return()))}finally{if(W)throw k}}})();const i=WP(r),{value:u,done:h}=i.next();if(!0===h)return function*(){}();const l=t(u,n++);if("function"==typeof l.then)return _s(function*(){(yield bi(l))&&(yield u);var k,X=!1,W=!1;try{for(var Oe,re=Ho(i);X=!(Oe=yield bi(re.next())).done;X=!1){const je=Oe.value;(yield bi(t(je,n++)))&&(yield je)}}catch(je){W=!0,k=je}finally{try{X&&null!=re.return&&(yield bi(re.return()))}finally{if(W)throw k}}})();const f=t;return function*(){!0===l&&(yield u);for(const X of i)f(X,n++)&&(yield X)}()}(je,Ke=>null!=Ke))))})).apply(this,arguments)}return function f(){return X.apply(this,arguments)}},"hamt-sharded-directory":(r,t,n,i,u,h,l)=>function f(X={}){return X.onProgress?.(new su("unixfs:exporter:walk:hamt-sharded-directory",{cid:r})),vC(t,i,u,h,l,X)},metadata:(r,t,n,i,u,h,l)=>()=>[],symlink:(r,t,n,i,u,h,l)=>()=>[]},c={[lT]:function(){var r=(0,Xe.A)(function*(t,n,i,u,h,l,f,X){const k=E0(yield f.get(t,X));let re,Oe;if(null==n&&(n=t.toString()),null==k.Data)throw rc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{re=_d.unmarshal(k.Data)}catch(Ke){throw rc(Ke,"ERR_NOT_UNIXFS")}if(null==i&&(i=n),u.length>0){let Ke;if(Ke="hamt-sharded-directory"===re?.type?yield HP(k,u[0],f):((r,t)=>r.Links.find(i=>i.Name===t)?.Hash)(k,u[0]),null==Ke)throw rc(new Error("file does not exist"),"ERR_NOT_FOUND");const tt=u.shift();Oe={cid:Ke,toResolve:u,name:tt??"",path:`${i}/${tt}`}}const je=dO[re.type](t,k,re,i,h,l,f);if(null==je)throw rc(new Error("could not find content exporter"),"ERR_NOT_FOUND");return re.isDirectory()?{entry:{type:"directory",name:n,path:i,cid:t,content:je,unixfs:re,depth:l,node:k,size:re.fileSize()},next:Oe}:{entry:{type:"file",name:n,path:i,cid:t,content:je,unixfs:re,depth:l,node:k,size:re.fileSize()},next:Oe}});return function(n,i,u,h,l,f,X,W){return r.apply(this,arguments)}}(),[Ng]:tC,[Mb]:h1,0:jP},g=function(){var r=(0,Xe.A)(function*(t,n,i,u,h,l,f){const X=c[t.code];if(null==X)throw rc(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return X(t,n,i,u,g,h,l,f)});return function(n,i,u,h,l,f,X){return r.apply(this,arguments)}}(),I=g,ue=r=>{if(r instanceof Uint8Array)return{cid:al.TO.decode(r),toResolve:[]};const t=al.TO.asCID(r);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof r){0===r.indexOf("/ipfs/")&&(r=r.substring(6));const n=((r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(r);return{cid:al.TO.parse(n[0]),toResolve:n.slice(1)}}throw rc(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};function Le(){return(Le=_s(function*(r,t,n={}){let{cid:i,toResolve:u}=ue(r),h=i.toString(),l=h;const f=u.length;for(;;){const X=yield bi(I(i,h,l,u,f,t,n));if(null==X.entry&&null==X.next)throw rc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(null!=X.entry&&(yield X.entry),null==X.next)return;u=X.next.toResolve,i=X.next.cid,h=X.next.name,l=X.next.path}})).apply(this,arguments)}function Ct(){return Ct=(0,Xe.A)(function*(r,t,n={}){const i=yield JI(function Se(r,t){return Le.apply(this,arguments)}(r,t,n));if(null==i)throw rc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return i}),Ct.apply(this,arguments)}var Pn=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class qn{constructor(t={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:Jm},t),this.blockstore=new l1({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Pn(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return Pn(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(t,n,i,u){var h,l,f,W,k;return Pn(this,void 0,void 0,function*(){const re=yield this.getBlockstoreForStoringData(t,n,i),Oe=lp([{content:u}],re,{cidVersion:1});let je;try{for(var bt,Ke=!0,tt=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}}(Oe);bt=yield tt.next(),!(h=bt.done);Ke=!0)Ke=!1,je=bt.value}catch(kt){l={error:kt}}finally{try{!Ke&&!h&&(f=tt.return)&&(yield f.call(tt))}finally{if(l)throw l.error}}return{dataSize:Number(null!==(k=null===(W=je.unixfs)||void 0===W?void 0:W.fileSize())&&void 0!==k?k:je.size)}})}get(t,n,i){return Pn(this,void 0,void 0,function*(){const u=yield this.getBlockstoreForStoringData(t,n,i);if(!(yield u.has(i)))return;const l=yield function nt(r,t){return Ct.apply(this,arguments)}(i,u),f=l.content(),X=new K0.Readable({read(){return Pn(this,void 0,void 0,function*(){const k=yield f.next();this.push(k.done?null:k.value)})}});let W=l.size;return("file"===l.type||"directory"===l.type)&&(W=l.unixfs.fileSize()),{dataSize:Number(W),dataStream:X}})}delete(t,n,i){return Pn(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(t,n,i)).clear()})}clear(){return Pn(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(t,n,i){return Pn(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(t)).partition(n)).partition(i)})}}var hr=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},Br=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(h){n[h]=r[h]&&function(l){return new Promise(function(f,X){!function u(h,l,f,X){Promise.resolve(X).then(function(W){h({value:W,done:f})},l)}(f,X,(l=r[h](l)).done,l.value)})}}},Wr=function(r){return this instanceof Wr?(this.v=r,this):new Wr(r)};let ns=(()=>{class r{constructor(n){this.config=Object.assign({createLevelDatabase:Jm},n),this.db=new d1({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return hr(this,void 0,void 0,function*(){yield this.db.open()})}close(){return hr(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return hr(this,void 0,void 0,function*(){yield this.db.clear()})}put(n,i,u,h){return hr(this,void 0,void 0,function*(){if(Qg(u))throw new ne(le.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const l={messageCid:i,indexes:u},f=[];for(const re in u){const Oe=u[re];if(Array.isArray(Oe))for(const je of Oe){const Ke=this.createPutIndexedItemOperation(n,l,re,je);f.push(Ke)}else{const je=this.createPutIndexedItemOperation(n,l,re,Oe);f.push(je)}}const X=this.createOperationForIndexesLookupPartition(n,{type:"put",key:i,value:JSON.stringify(u)});f.push(X);const W=yield Promise.all(f);yield(yield this.db.partition(n)).batch(W,h)})}delete(n,i,u){return hr(this,void 0,void 0,function*(){const h=[],l=yield this.getIndexes(n,i);if(void 0===l)return;const f=this.createOperationForIndexesLookupPartition(n,{type:"del",key:i});h.push(f);for(const k in l){const re=l[k];if(Array.isArray(re))for(const Oe of re){const je=this.createDeleteIndexedItemOperation(n,i,k,Oe);h.push(je)}else{const Oe=this.createDeleteIndexedItemOperation(n,i,k,re);h.push(Oe)}}const X=yield Promise.all(h);yield(yield this.db.partition(n)).batch(X,u)})}createPutIndexedItemOperation(n,i,u,h){return hr(this,void 0,void 0,function*(){const{messageCid:l}=i,f=r.keySegmentJoin(r.encodeValue(h),l);return this.createOperationForIndexPartition(n,u,{type:"put",key:f,value:JSON.stringify(i)})})}createDeleteIndexedItemOperation(n,i,u,h){return hr(this,void 0,void 0,function*(){const l=r.keySegmentJoin(r.encodeValue(h),i);return this.createOperationForIndexPartition(n,u,{type:"del",key:l})})}createOperationForIndexPartition(n,i,u){return hr(this,void 0,void 0,function*(){const h=yield this.db.partition(n),l=r.getIndexPartitionName(i);return h.createPartitionOperation(l,u)})}createOperationForIndexesLookupPartition(n,i){return hr(this,void 0,void 0,function*(){return(yield this.db.partition(n)).createPartitionOperation("index",i)})}static getIndexPartitionName(n){return`__${n}__`}getIndexPartition(n,i){return hr(this,void 0,void 0,function*(){const u=r.getIndexPartitionName(i);return(yield this.db.partition(n)).partition(u)})}getIndexesLookupPartition(n){return hr(this,void 0,void 0,function*(){return(yield this.db.partition(n)).partition("index")})}query(n,i,u,h){return hr(this,void 0,void 0,function*(){return r.shouldQueryWithInMemoryPaging(i,u)?this.queryWithInMemoryPaging(n,i,u,h):this.queryWithIteratorPaging(n,i,u,h)})}queryWithIteratorPaging(n,i,u,h){var l,f,X;return hr(this,void 0,void 0,function*(){const{cursor:k,limit:re}=u,Oe=k?this.createStartingKeyFromCursor(k):"",je=[];try{for(var bt,Ke=!0,tt=Br(this.getIndexIterator(n,Oe,u,h));bt=yield tt.next(),!(l=bt.done);Ke=!0){Ke=!1;const kt=bt.value;if(void 0!==re&&re===je.length)break;const{indexes:_t}=kt;Md.matchAnyFilter(_t,i)&&je.push(kt)}}catch(kt){f={error:kt}}finally{try{!Ke&&!l&&(X=tt.return)&&(yield X.call(tt))}finally{if(f)throw f.error}}return je})}getIndexIterator(n,i,u,h){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u,i=n.apply(r,t||[]),h=[];return u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u;function l(Oe){i[Oe]&&(u[Oe]=function(je){return new Promise(function(Ke,tt){h.push([Oe,je,Ke,tt])>1||f(Oe,je)})})}function f(Oe,je){try{!function X(Oe){Oe.value instanceof Wr?Promise.resolve(Oe.value.v).then(W,k):re(h[0][2],Oe)}(i[Oe](je))}catch(Ke){re(h[0][3],Ke)}}function W(Oe){f("next",Oe)}function k(Oe){f("throw",Oe)}function re(Oe,je){Oe(je),h.shift(),h.length&&f(h[0][0],h[0][1])}}(this,arguments,function*(){var f,X,W,k;const{sortProperty:re,sortDirection:Oe=vu.Ascending,cursor:je}=u,Ke={gt:i};Oe===vu.Descending&&(Ke.reverse=!0,void 0!==je&&(Ke.lt=i,delete Ke.gt));const tt=yield Wr(this.getIndexPartition(n,re));try{for(var _t,bt=!0,kt=Br(tt.iterator(Ke,h));!(f=(_t=yield Wr(kt.next())).done);bt=!0){k=_t.value,bt=!1;const[xt,Nt]=k,{indexes:Xt,messageCid:qt}=JSON.parse(Nt);yield yield Wr({indexes:Xt,messageCid:qt})}}catch(xt){X={error:xt}}finally{try{!bt&&!f&&(W=kt.return)&&(yield Wr(W.call(kt)))}finally{if(X)throw X.error}}})}createStartingKeyFromCursor(n){const{messageCid:i,value:u}=n;return r.keySegmentJoin(r.encodeValue(u),i)}static createCursorFromLastArrayItem(n,i){if(n.length>0)return this.createCursorFromItem(n.at(-1),i)}static createCursorFromItem(n,i){const{messageCid:u,indexes:h}=n,l=h[i];if(void 0===l)throw new ne(le.IndexInvalidCursorSortProperty,`the sort property '${i}' is not defined within the given item.`);if("boolean"==typeof l||Array.isArray(l))throw new ne(le.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof l} was given.`);return{messageCid:u,value:l}}queryWithInMemoryPaging(n,i,u,h){return hr(this,void 0,void 0,function*(){const{sortProperty:l,sortDirection:f=vu.Ascending,cursor:X,limit:W}=u,k=X?this.createStartingKeyFromCursor(X):void 0,re=new Map;0===i.length&&(i=[{}]);try{yield Promise.all(i.map(tt=>this.executeSingleFilterQuery(n,tt,l,re,h)))}catch(tt){if(tt.code===le.IndexInvalidSortPropertyInMemory)return[]}const Oe=[...re.values()].sort((tt,bt)=>this.sortItems(tt,bt,l,f)),je=void 0!==k?this.findCursorStartingIndex(Oe,f,l,k):0;return je<0?[]:Oe.slice(je,void 0!==W?je+W:void 0)})}executeSingleFilterQuery(n,i,u,h,l){return hr(this,void 0,void 0,function*(){const f=[];if(Qg(i)){const W=this.getAllItems(n,u);f.push(W)}const X=aD.reduceFilter(i);for(const W in X){const k=X[W];if(Md.isEqualFilter(k)){const re=this.filterExactMatches(n,W,k,l);f.push(re)}else if(Md.isOneOfFilter(k))for(const re of new Set(k)){const Oe=this.filterExactMatches(n,W,re,l);f.push(Oe)}else if(Md.isRangeFilter(k)){const re=this.filterRangeMatches(n,W,k,l);f.push(re)}}for(const W of f){const k=yield W;for(const re of k)if(!h.has(re.messageCid)&&Md.matchFilter(re.indexes,i)){if(void 0===re.indexes[u])throw new ne(le.IndexInvalidSortPropertyInMemory,`invalid sort property ${u}`);h.set(re.messageCid,re)}}})}getAllItems(n,i){var u,h,l,f;return hr(this,void 0,void 0,function*(){const X=yield this.getIndexPartition(n,i),W=[];try{for(var Oe,k=!0,re=Br(X.iterator());Oe=yield re.next(),!(u=Oe.done);k=!0){f=Oe.value,k=!1;const[je,Ke]=f;W.push(JSON.parse(Ke))}}catch(je){h={error:je}}finally{try{!k&&!u&&(l=re.return)&&(yield l.call(re))}finally{if(h)throw h.error}}return W})}filterExactMatches(n,i,u,h){var l,f,X,W;return hr(this,void 0,void 0,function*(){const k=r.keySegmentJoin(r.encodeValue(u)),re={gt:k},Oe=yield this.getIndexPartition(n,i),je=[];try{for(var bt,Ke=!0,tt=Br(Oe.iterator(re,h));bt=yield tt.next(),!(l=bt.done);Ke=!0){W=bt.value,Ke=!1;const[kt,_t]=W;if(!kt.startsWith(k))break;je.push(JSON.parse(_t))}}catch(kt){f={error:kt}}finally{try{!Ke&&!l&&(X=tt.return)&&(yield X.call(tt))}finally{if(f)throw f.error}}return je})}filterRangeMatches(n,i,u,h){var l,f,X,W;return hr(this,void 0,void 0,function*(){const k={};for(const bt in u)k[bt]=r.encodeValue(u[bt]);void 0===k.gt&&void 0===k.gte&&(k.reverse=!0);const re=[],Oe=yield this.getIndexPartition(n,i);try{for(var tt,je=!0,Ke=Br(Oe.iterator(k,h));tt=yield Ke.next(),!(l=tt.done);je=!0){W=tt.value,je=!1;const[bt,kt]=W;"gt"in u&&this.extractIndexValueFromKey(bt)===r.encodeValue(u.gt)||re.push(JSON.parse(kt))}}catch(bt){f={error:bt}}finally{try{!je&&!l&&(X=Ke.return)&&(yield X.call(Ke))}finally{if(f)throw f.error}}if("lte"in u)for(const bt of yield this.filterExactMatches(n,i,u.lte,h))re.push(bt);return re})}sortItems(n,i,u,h){const f=i.indexes[u],X=r.encodeValue(n.indexes[u])+n.messageCid,W=r.encodeValue(f)+i.messageCid;return h===vu.Ascending?qg(X,W):qg(W,X)}findCursorStartingIndex(n,i,u,h){return n.findIndex(f=>{const{messageCid:X,indexes:W}=f,re=r.keySegmentJoin(r.encodeValue(W[u]),X);return i===vu.Ascending?re>h:re<h})}getIndexes(n,i){return hr(this,void 0,void 0,function*(){const h=yield(yield this.getIndexesLookupPartition(n)).get(i);if(void 0!==h)return JSON.parse(h)})}extractIndexValueFromKey(n){const[i]=n.split(r.delimiter);return i}static keySegmentJoin(...n){return n.join(r.delimiter)}static encodeNumberValue(n){const i=Number.MAX_SAFE_INTEGER,h=String(Number.MAX_SAFE_INTEGER).length;return(n<0?"!":"")+String(n+(n<0?i:0)).padStart(h,"0")}static encodeValue(n){return"number"==typeof n?this.encodeNumberValue(n):JSON.stringify(n)}static shouldQueryWithInMemoryPaging(n,i){for(const u of n)if(!r.isFilterConcise(u,i))return!1;return!0}static isFilterConcise(n,i){return void 0!==n.recordId||void 0===i.cursor&&(void 0!==n.protocolPath||void 0!==n.contextId||void 0!==n.parentId||void 0!==n.schema)}}return r.delimiter="\0",r})();function Ns(r){if(!Ec(r))throw new Error("Parameter was not an error")}function Ec(r){return"[object Error]"===function Pl(r){return Object.prototype.toString.call(r)}(r)||r instanceof Error}class Ol extends Error{constructor(t,n){const i=[...arguments],{options:u,shortMessage:h}=function $y(r){let t,n="";if(0===r.length)t={};else if(Ec(r[0]))t={cause:r[0]},n=r.slice(1).join(" ")||"";else if(r[0]&&"object"==typeof r[0])t=Object.assign({},r[0]),n=r.slice(1).join(" ")||"";else{if("string"!=typeof r[0])throw new Error("Invalid arguments passed to Layerr");t={},n=n=r.join(" ")||""}return{options:t,shortMessage:n}}(i);let l=h;u.cause&&(l=`${l}: ${u.cause.message}`),super(l),this.message=l,this.name=u.name&&"string"==typeof u.name?u.name:"Layerr",u.cause&&Object.defineProperty(this,"_cause",{value:u.cause}),Object.defineProperty(this,"_info",{value:{}}),u.info&&"object"==typeof u.info&&Object.assign(this._info,u.info),Error.captureStackTrace&&Error.captureStackTrace(this,u.constructorOpt||this.constructor)}static cause(t){return Ns(t),t._cause&&Ec(t._cause)?t._cause:null}static fullStack(t){Ns(t);const n=Ol.cause(t);return n?`${t.stack}\ncaused by: ${Ol.fullStack(n)}`:t.stack}static info(t){Ns(t);const n={},i=Ol.cause(t);return i&&Object.assign(n,Ol.info(i)),t._info&&Object.assign(n,t._info),n}cause(){return Ol.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const Ym="0123456789ABCDEFGHJKMNPQRSTVWXYZ",Xv=32,lO=0xffffffffffff,Lp=Object.freeze({source:"ulid"});function uO(r,t){if(isNaN(r))throw new Ol({info:{code:"ENC_TIME_NAN",...Lp}},`Time must be a number: ${r}`);if(r>lO)throw new Ol({info:{code:"ENC_TIME_SIZE_EXCEED",...Lp}},`Cannot encode a time larger than ${lO}: ${r}`);if(r<0)throw new Ol({info:{code:"ENC_TIME_NEG",...Lp}},`Time must be positive: ${r}`);if(!1===Number.isInteger(r))throw new Ol({info:{code:"ENC_TIME_TYPE",...Lp}},`Time must be an integer: ${r}`);let n,i="";for(let u=t;u>0;u--)n=r%Xv,i=Ym.charAt(n)+i,r=(r-n)/Xv;return i}function ZR(r){const t=r||function XR(r){const t=r||function fB(){return function pB(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),n=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof n?.getRandomValues)return()=>{const i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};if("function"==typeof n?.randomBytes)return()=>n.randomBytes(1).readUInt8()/255;throw new Ol({info:{code:"PRNG_DETECT",...Lp}},"Failed to find a reliable PRNG")}();let i,n=0;return function(h){const l=isNaN(h)?Date.now():h;if(l<=n){const X=i=function hB(r){let t,i,u,n=r.length,h=r;const l=Xv-1;for(;!t&&n-- >=0;){if(i=h[n],u=Ym.indexOf(i),-1===u)throw new Ol({info:{code:"B32_INC_ENC",...Lp}},"Incorrectly encoded string");u!==l?t=qR(h,n,Ym[u+1]):h=qR(h,n,Ym[0])}if("string"==typeof t)return t;throw new Ol({info:{code:"B32_INC_INVALID",...Lp}},"Failed incrementing string")}(i);return uO(n,10)+X}n=l;const f=i=function YR(r,t){let n="";for(;r>0;r--)n=mB(t)+n;return n}(16,t);return uO(l,10)+f}}function mB(r){let t=Math.floor(r()*Xv);return t===Xv&&(t=Xv-1),Ym.charAt(t)}function qR(r,t,n){return t>r.length-1?r:r.substr(0,t)+n+r.substr(t+1)}var Yv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class yB{constructor(t){this.index=new ns(Object.assign({location:"EVENTLOG",createLevelDatabase:Jm},t)),this.ulidFactory=ZR()}open(){return Yv(this,void 0,void 0,function*(){return this.index.open()})}close(){return Yv(this,void 0,void 0,function*(){return this.index.close()})}clear(){return Yv(this,void 0,void 0,function*(){return this.index.clear()})}append(t,n,i){return Yv(this,void 0,void 0,function*(){const u=this.ulidFactory();yield this.index.put(t,n,Object.assign(Object.assign({},i),{watermark:u}))})}queryEvents(t,n,i){return Yv(this,void 0,void 0,function*(){const u=yield this.index.query(t,n,{sortProperty:"watermark",cursor:i});return{events:u.map(({messageCid:h})=>h),cursor:ns.createCursorFromLastArrayItem(u,"watermark")}})}getEvents(t,n){return Yv(this,void 0,void 0,function*(){return this.queryEvents(t,[],n)})}deleteEventsByCid(t,n){return Yv(this,void 0,void 0,function*(){const i=[];for(const u of n)i.push(this.index.delete(t,u));yield Promise.all(i)})}}function _C({enumerable:r=!0,configurable:t=!1}={}){return{enumerable:r,configurable:t,writable:!1}}function*gB(r,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,i]of t.entries()){const u=[...r,n],h=df.TO.asCID(i);h?yield[u.join("/"),h]:"object"==typeof i&&(yield*fO(i,u))}else{const n=df.TO.asCID(t);n?yield[r.join("/"),n]:yield*fO(t,r)}}function*fO(r,t){if(null==r||r instanceof Uint8Array)return;const n=df.TO.asCID(r);n&&(yield[t.join("/"),n]);for(const[i,u]of Object.entries(r)){const h=[...t,i];yield*gB(h,u)}}function*vB(r,t){if(Array.isArray(t))for(const[n,i]of t.entries()){const u=[...r,n];yield u.join("/"),"object"==typeof i&&!df.TO.asCID(i)&&(yield*hO(i,u))}else yield*hO(t,r)}function*hO(r,t){if(null!=r&&"object"==typeof r)for(const[n,i]of Object.entries(r)){const u=[...t,n];yield u.join("/"),null!=i&&!(i instanceof Uint8Array)&&"object"==typeof i&&!df.TO.asCID(i)&&(yield*vB(u,i))}}class pO{constructor({cid:t,bytes:n,value:i}){if(!t||!n||typeof i>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:_C(),bytes:_C(),value:_C(),asBlock:_C()})}links(){return fO(this.value,[])}tree(){return hO(this.value,[])}get(t="/"){return function bB(r,t){let n=r;for(const[i,u]of t.entries()){if(n=n[u],null==n)throw new Error(`Object has no property at ${t.slice(0,i+1).map(l=>`[${JSON.stringify(l)}]`).join("")}`);const h=df.TO.asCID(n);if(h)return{value:h,remaining:t.slice(i+1).join("/")}}return{value:n}}(this.value,t.split("/").filter(Boolean))}}function mO(){return(mO=(0,Xe.A)(function*({value:r,codec:t,hasher:n}){if(typeof r>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.encode(r),u=yield n.digest(i),h=df.TO.create(1,t.code,u);return new pO({value:r,bytes:i,cid:h})})).apply(this,arguments)}function yO(){return(yO=(0,Xe.A)(function*({bytes:r,codec:t,hasher:n}){if(!r)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.decode(r),u=yield n.digest(r),h=df.TO.create(1,t.code,u);return new pO({value:i,bytes:r,cid:h})})).apply(this,arguments)}var Zv=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class vO{constructor(t={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:Jm},t),this.blockstore=new l1({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new ns({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return Zv(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return Zv(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(t,n,i){var u;return Zv(this,void 0,void 0,function*(){null===(u=i?.signal)||void 0===u||u.throwIfAborted();const h=yield Qd(this.blockstore.partition(t),i?.signal),l=al.TO.parse(n),f=yield h.get(l,i);return f?(yield Qd(function _B(r){return yO.apply(this,arguments)}({bytes:f,codec:q,hasher:K}),i?.signal)).value:void 0})}query(t,n,i,u,h){var l;return Zv(this,void 0,void 0,function*(){null===(l=h?.signal)||void 0===l||l.throwIfAborted();const f=vO.buildQueryOptions(i,u),X=yield this.index.query(t,n,f,h);let W;void 0!==u?.limit&&u.limit<X.length&&(X.splice(-1),W=ns.createCursorFromLastArrayItem(X,f.sortProperty));const k=[];for(let re=0;re<X.length;re++){const{messageCid:Oe}=X[re],je=yield this.get(t,Oe,h);je&&k.push(je)}return{messages:k,cursor:W}})}static buildQueryOptions(t={},n={}){let{limit:i,cursor:u}=n;const{dateCreated:h,datePublished:l,messageTimestamp:f}=t;let X=vu.Ascending,W="messageTimestamp";return void 0!==h?W="dateCreated":void 0!==l?W="datePublished":void 0!==f&&(W="messageTimestamp"),void 0!==t[W]&&(X=t[W]),void 0!==i&&i>0&&(i+=1),{sortDirection:X,sortProperty:W,limit:i,cursor:u}}delete(t,n,i){var u;return Zv(this,void 0,void 0,function*(){null===(u=i?.signal)||void 0===u||u.throwIfAborted();const h=yield Qd(this.blockstore.partition(t),i?.signal),l=al.TO.parse(n);yield h.delete(l,i),yield this.index.delete(t,n,i)})}put(t,n,i,u){var h;return Zv(this,void 0,void 0,function*(){null===(h=u?.signal)||void 0===h||h.throwIfAborted();const l=yield Qd(this.blockstore.partition(t),u?.signal),f=yield Qd(function wB(r){return mO.apply(this,arguments)}({value:n,codec:q,hasher:K}),u?.signal),X=xd.parseCid(yield Hr.getCid(n));yield l.put(X,f.bytes,u);const W=X.toString();yield this.index.put(t,W,i,u)})}clear(){return Zv(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}_(44356);var va=function(r){return r.EventsGet="EventsGet",r.EventsQuery="EventsQuery",r.EventsSubscribe="EventsSubscribe",r.MessagesGet="MessagesGet",r.ProtocolsConfigure="ProtocolsConfigure",r.ProtocolsQuery="ProtocolsQuery",r.RecordsDelete="RecordsDelete",r.RecordsQuery="RecordsQuery",r.RecordsRead="RecordsRead",r.RecordsSubscribe="RecordsSubscribe",r.RecordsWrite="RecordsWrite",r}(va||{});const xC={[va.EventsGet]:Ap,[va.EventsQuery]:My,[va.EventsSubscribe]:Sy,[va.MessagesGet]:Ty,[va.ProtocolsConfigure]:Hl,[va.ProtocolsQuery]:Ay,[va.RecordsDelete]:Dy,[va.RecordsQuery]:xy,[va.RecordsRead]:Oh,[va.RecordsSubscribe]:Iy,[va.RecordsWrite]:Jo};class MC{constructor({did:t,metadata:n}){this.did=t,this.metadata=n}export(){return r=this,t=void 0,i=function*(){return{portableDid:yield this.did.export(),metadata:this.metadata}},new((n=void 0)||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())});var r,t,n,i}}class QR{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,qd.s)(t)})}}class Kp{}class wO extends Kp{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield QR.digest({data:n})})}}const SC="urn:jwk:";function rs({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}(0,nr.E8)(n);const i=function TB(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const u=Object.keys(i).sort(),h={};for(const l of u)h[l]=t(i[l]);return h}return i},n=t(r);return JSON.stringify(n)}(n),u=nr.U$.string(i).toUint8Array(),h=yield QR.digest({data:u});return nr.U$.uint8Array(h).toBase64Url()})}function Fp(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function TC(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function e4(r){return!(!r||"object"!=typeof r||!("kty"in r)||!("k"in r)||"oct"!==r.kty||"string"!=typeof r.k)}function jp(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function AC(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}function _O(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}var yl=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class ia{static adjustSignatureToLowS({signature:t}){return yl(this,void 0,void 0,function*(){const n=ja.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return yl(this,void 0,void 0,function*(){const n=yield ia.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield rs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return yl(this,void 0,void 0,function*(){const n=yield ia.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield rs({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return yl(this,void 0,void 0,function*(){return ja.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return yl(this,void 0,void 0,function*(){const n=yield ia.privateKeyToBytes({privateKey:t}),i=yield ia.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"secp256k1",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield rs({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return yl(this,void 0,void 0,function*(){return ja.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return yl(this,void 0,void 0,function*(){return ja.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return yl(this,void 0,void 0,function*(){const t=ja.bI.utils.randomPrivateKey(),n=yield ia.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield rs({jwk:n}),n})}static getPublicKey({key:t}){var n;return yl(this,void 0,void 0,function*(){if(!Fp(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield rs({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return yl(this,void 0,void 0,function*(){if(!Fp(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return yl(this,void 0,void 0,function*(){if(!TC(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),u=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return yl(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield ia.privateKeyToBytes({privateKey:t}),u=yield ia.publicKeyToBytes({publicKey:n});return ja.bI.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return yl(this,void 0,void 0,function*(){const i=yield ia.privateKeyToBytes({privateKey:n}),u=(0,qd.s)(t);return ja.bI.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return yl(this,void 0,void 0,function*(){return ja.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return yl(this,void 0,void 0,function*(){try{ja.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return yl(this,void 0,void 0,function*(){const u=yield ia.publicKeyToBytes({publicKey:t}),h=(0,qd.s)(i);return ja.bI.verify(n,h,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return yl(this,void 0,void 0,function*(){32===t.byteLength&&(t=ja.bI.getPublicKey(t));const n=ja.bI.ProjectivePoint.fromHex(t);return{x:(0,Cp.lq)(n.x,32),y:(0,Cp.lq)(n.y,32)}})}}var gl=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class oa{static adjustSignatureToLowS({signature:t}){return gl(this,void 0,void 0,function*(){const n=ke.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return gl(this,void 0,void 0,function*(){const n=yield oa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield rs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return gl(this,void 0,void 0,function*(){const n=yield oa.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(n.x).toBase64Url(),y:nr.U$.uint8Array(n.y).toBase64Url()};return i.kid=yield rs({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return gl(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return gl(this,void 0,void 0,function*(){const n=yield oa.privateKeyToBytes({privateKey:t}),i=yield oa.getCurvePoint({keyBytes:n}),u={kty:"EC",crv:"P-256",x:nr.U$.uint8Array(i.x).toBase64Url(),y:nr.U$.uint8Array(i.y).toBase64Url()};return u.kid=yield rs({jwk:u}),u})}static convertDerToCompactSignature({derSignature:t}){return gl(this,void 0,void 0,function*(){return ke.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return gl(this,void 0,void 0,function*(){return ke.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return gl(this,void 0,void 0,function*(){const t=ke.Ag.utils.randomPrivateKey(),n=yield oa.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield rs({jwk:n}),n})}static getPublicKey({key:t}){var n;return gl(this,void 0,void 0,function*(){if(!Fp(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield rs({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return gl(this,void 0,void 0,function*(){if(!Fp(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return gl(this,void 0,void 0,function*(){if(!TC(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=nr.U$.base64Url(t.x).toUint8Array(),u=nr.U$.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...u])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return gl(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield oa.privateKeyToBytes({privateKey:t}),u=yield oa.publicKeyToBytes({publicKey:n});return ke.Ag.getSharedSecret(i,u,!0).slice(1)})}static sign({data:t,key:n}){return gl(this,void 0,void 0,function*(){const i=yield oa.privateKeyToBytes({privateKey:n}),u=(0,qd.s)(t);return ke.Ag.sign(u,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return gl(this,void 0,void 0,function*(){return ke.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return gl(this,void 0,void 0,function*(){try{ke.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return gl(this,void 0,void 0,function*(){const u=yield oa.publicKeyToBytes({publicKey:t}),h=(0,qd.s)(i);return ke.Ag.verify(n,h,u,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return gl(this,void 0,void 0,function*(){32===t.byteLength&&(t=ke.Ag.getPublicKey(t));const n=ke.Ag.ProjectivePoint.fromHex(t);return{x:(0,Cp.lq)(n.x,32),y:(0,Cp.lq)(n.y,32)}})}}var KM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class DC extends Kp{computePublicKey({key:t}){return KM(this,void 0,void 0,function*(){if(!Fp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ia.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield oa.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return KM(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield ia.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield oa.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return KM(this,void 0,void 0,function*(){if(!Fp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ia.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield oa.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return KM(this,void 0,void 0,function*(){if(!Fp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield ia.sign({key:t,data:n});case"P-256":return yield oa.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return KM(this,void 0,void 0,function*(){if(!TC(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield ia.verify({key:t,signature:n,data:i});case"P-256":return yield oa.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var $f=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class sa{static bytesToPrivateKey({privateKeyBytes:t}){return $f(this,void 0,void 0,function*(){const n=ps.ev.getPublicKey(t),i={crv:"Ed25519",d:nr.U$.uint8Array(t).toBase64Url(),kty:"OKP",x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield rs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return $f(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield rs({jwk:n}),n})}static computePublicKey({key:t}){return $f(this,void 0,void 0,function*(){const n=yield sa.privateKeyToBytes({privateKey:t}),i=ps.ev.getPublicKey(n),u={kty:"OKP",crv:"Ed25519",x:nr.U$.uint8Array(i).toBase64Url()};return u.kid=yield rs({jwk:u}),u})}static convertPrivateKeyToX25519({privateKey:t}){return $f(this,void 0,void 0,function*(){const n=yield sa.privateKeyToBytes({privateKey:t}),i=(0,ps.OA)(n),u=ps.TU.getPublicKey(i),h={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(i).toBase64Url(),x:nr.U$.uint8Array(u).toBase64Url()};return h.kid=yield rs({jwk:h}),h})}static convertPublicKeyToX25519({publicKey:t}){return $f(this,void 0,void 0,function*(){const n=yield sa.publicKeyToBytes({publicKey:t});if(!(yield sa.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const u=(0,ps.GU)(n),h={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(u).toBase64Url()};return h.kid=yield rs({jwk:h}),h})}static generateKey(){return $f(this,void 0,void 0,function*(){const t=ps.ev.utils.randomPrivateKey(),n=yield sa.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield rs({jwk:n}),n})}static getPublicKey({key:t}){var n;return $f(this,void 0,void 0,function*(){if(!jp(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield rs({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return $f(this,void 0,void 0,function*(){if(!jp(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return $f(this,void 0,void 0,function*(){if(!AC(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return $f(this,void 0,void 0,function*(){const i=yield sa.privateKeyToBytes({privateKey:t});return ps.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return $f(this,void 0,void 0,function*(){try{ps.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return $f(this,void 0,void 0,function*(){const u=yield sa.publicKeyToBytes({publicKey:t});return ps.ev.verify(n,i,u)})}}var FM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class t4 extends Kp{computePublicKey({key:t}){return FM(this,void 0,void 0,function*(){if(!jp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield sa.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return FM(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield sa.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return FM(this,void 0,void 0,function*(){if(!jp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield sa.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return FM(this,void 0,void 0,function*(){if(!jp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield sa.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return FM(this,void 0,void 0,function*(){if(!AC(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield sa.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}}var Zm=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const EO={Ed25519:{implementation:t4,names:["Ed25519"]},secp256k1:{implementation:DC,names:["ES256K","secp256k1"]},secp256r1:{implementation:DC,names:["ES256","secp256r1"]},"SHA-256":{implementation:wO,names:["SHA-256"]}};class $p{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new nr.ny}digest({algorithm:t,data:n}){return Zm(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return Zm(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return Zm(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const u=`${SC}${i.kid}`;return yield this._keyStore.set(u,i),u})}getKeyUri({key:t}){return Zm(this,void 0,void 0,function*(){const n=yield rs({jwk:t});return`${SC}${n}`})}getPublicKey({keyUri:t}){return Zm(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return Zm(this,void 0,void 0,function*(){if(!_O(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield rs({jwk:i}));const u=yield this.getKeyUri({key:i});return yield this._keyStore.set(u,i),u})}sign({keyUri:t,data:n}){return Zm(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),u=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:u}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return Zm(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=EO[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const u in EO){const h=EO[u];if(n&&h.names.includes(n))return u;if(i&&h.names.includes(i))return u}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return Zm(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function n4(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}function qv(){return Qx.E.randomUUID()}var Vy=_(91879),$M=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const i4=[128,192,256],PC=[96,104,112,120,128];class zy{static bytesToPrivateKey({privateKeyBytes:t}){return $M(this,void 0,void 0,function*(){const n={k:nr.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield rs({jwk:n}),n})}static decrypt({key:t,data:n,iv:i,additionalData:u,tagLength:h}){return $M(this,void 0,void 0,function*(){if(12!==i.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(h&&!PC.includes(h))throw new RangeError(`The tag length is invalid: Must be ${PC.join(", ")} bits`);const l=(0,Vy.NZ)(),f=yield l.importKey("jwk",t,{name:"AES-GCM"},!0,["decrypt"]),X=Object.assign(Object.assign({name:"AES-GCM",iv:i},h&&{tagLength:h}),u&&{additionalData:u}),W=yield l.decrypt(X,f,n);return new Uint8Array(W)})}static encrypt({data:t,iv:n,key:i,additionalData:u,tagLength:h}){return $M(this,void 0,void 0,function*(){if(12!==n.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(h&&!PC.includes(h))throw new RangeError(`The tag length is invalid: Must be ${PC.join(", ")} bits`);const l=(0,Vy.NZ)(),f=yield l.importKey("jwk",i,{name:"AES-GCM"},!0,["encrypt"]),X=Object.assign(Object.assign({name:"AES-GCM",iv:n},h&&{tagLength:h}),u&&{additionalData:u}),W=yield l.encrypt(X,f,t);return new Uint8Array(W)})}static generateKey({length:t}){return $M(this,void 0,void 0,function*(){if(!i4.includes(t))throw new RangeError(`The key length is invalid: Must be ${i4.join(", ")} bits`);const n=(0,Vy.NZ)(),i=yield n.generateKey({name:"AES-GCM",length:t},!0,["encrypt"]),f=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(yield n.exportKey("jwk",i),["ext","key_ops"]);return f.kid=yield rs({jwk:f}),f})}static privateKeyToBytes({privateKey:t}){return $M(this,void 0,void 0,function*(){if(!e4(t))throw new Error("AesGcm: The provided key is not a valid oct private key.");return nr.U$.base64Url(t.k).toUint8Array()})}}var MO=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},Hy=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class w1{static bytesToPrivateKey({privateKeyBytes:t}){return Hy(this,void 0,void 0,function*(){const n=ps.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:nr.U$.uint8Array(t).toBase64Url(),x:nr.U$.uint8Array(n).toBase64Url()};return i.kid=yield rs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Hy(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(t).toBase64Url()};return n.kid=yield rs({jwk:n}),n})}static computePublicKey({key:t}){return Hy(this,void 0,void 0,function*(){const n=yield w1.privateKeyToBytes({privateKey:t}),i=ps.TU.getPublicKey(n),u={kty:"OKP",crv:"X25519",x:nr.U$.uint8Array(i).toBase64Url()};return u.kid=yield rs({jwk:u}),u})}static generateKey(){return Hy(this,void 0,void 0,function*(){const t=ps.TU.utils.randomPrivateKey(),n=yield w1.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield rs({jwk:n}),n})}static getPublicKey({key:t}){var n;return Hy(this,void 0,void 0,function*(){if(!jp(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let u=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["d"]);return null!==(n=u.kid)&&void 0!==n||(u.kid=yield rs({jwk:u})),u})}static privateKeyToBytes({privateKey:t}){return Hy(this,void 0,void 0,function*(){if(!jp(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return nr.U$.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Hy(this,void 0,void 0,function*(){if(!AC(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return nr.U$.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Hy(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield w1.privateKeyToBytes({privateKey:t}),u=yield w1.publicKeyToBytes({publicKey:n});return ps.TU.getSharedSecret(i,u)})}}_(94730);class jB{static deriveKeyBytes({baseKeyBytes:t,length:n,hash:i,salt:u,info:h=new Uint8Array}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const f=yield(0,Vy.NZ)().importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]);u="string"==typeof u?nr.U$.string(u).toUint8Array():u,h="string"==typeof h?nr.U$.string(h).toUint8Array():h;const X=yield crypto.subtle.deriveBits({name:"HKDF",hash:i,salt:u,info:h},f,n);return new Uint8Array(X)})}}class zi extends Error{constructor(t,n){super(n),this.code=t,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zi)}}var Hi=function(r){return r.AlgorithmNotSupported="algorithmNotSupported",r.EncodingError="encodingError",r.InvalidJwe="invalidJwe",r.InvalidJwk="invalidJwk",r.OperationNotSupported="operationNotSupported",r}(Hi||{}),qm=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class o4 extends Kp{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return qm(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield ia.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield oa.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}default:throw new zi(Hi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return qm(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield ia.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield oa.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}default:throw new zi(Hi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}computePublicKey({key:t}){return qm(this,void 0,void 0,function*(){if(!Fp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ia.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield oa.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return qm(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield ia.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield oa.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return qm(this,void 0,void 0,function*(){if(!Fp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield ia.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield oa.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}privateKeyToBytes({privateKey:t}){return qm(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield ia.privateKeyToBytes({privateKey:t});case"P-256":return yield oa.privateKeyToBytes({privateKey:t});default:throw new zi(Hi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}publicKeyToBytes({publicKey:t}){return qm(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield ia.publicKeyToBytes({publicKey:t});case"P-256":return yield oa.publicKeyToBytes({publicKey:t});default:throw new zi(Hi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}sign({key:t,data:n}){return qm(this,void 0,void 0,function*(){if(!Fp(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield ia.sign({key:t,data:n});case"P-256":return yield oa.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return qm(this,void 0,void 0,function*(){if(!TC(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield ia.verify({key:t,signature:n,data:i});case"P-256":return yield oa.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Qm=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},HM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},s4=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const a4=[128,192,256];class WM{static bytesToPrivateKey({privateKeyBytes:t}){return HM(this,void 0,void 0,function*(){const n={k:nr.U$.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield rs({jwk:n}),n.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*t.length],n})}static generateKey({length:t}){return HM(this,void 0,void 0,function*(){if(!a4.includes(t))throw new RangeError(`The key length is invalid: Must be ${a4.join(", ")} bits`);const n=(0,Vy.NZ)(),i=yield n.generateKey({name:"AES-KW",length:t},!0,["wrapKey","unwrapKey"]),u=yield n.exportKey("jwk",i),f=s4(u,["ext","key_ops"]);return f.kid=yield rs({jwk:f}),f})}static privateKeyToBytes({privateKey:t}){return HM(this,void 0,void 0,function*(){if(!e4(t))throw new Error("AesKw: The provided key is not a valid oct private key.");return nr.U$.base64Url(t.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:i}){return HM(this,void 0,void 0,function*(){if(!("alg"in i)||!i.alg)throw new zi(Hi.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(i.alg))throw new zi(Hi.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${i.alg}`);const u=(0,Vy.NZ)(),h=yield u.importKey("jwk",i,{name:"AES-KW"},!0,["unwrapKey"]),l={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[n];if(!l)throw new zi(Hi.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${n}`);const f=yield u.unwrapKey("raw",t.buffer,h,"AES-KW",{name:l},!0,["unwrapKey"]),X=yield u.exportKey("jwk",f),Oe=s4(X,["ext","key_ops"]);return Oe.kid=yield rs({jwk:Oe}),Oe})}static wrapKey({unwrappedKey:t,encryptionKey:n}){return HM(this,void 0,void 0,function*(){if(!("alg"in n)||!n.alg)throw new zi(Hi.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(n.alg))throw new zi(Hi.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${n.alg}`);if(!("alg"in t)||!t.alg)throw new zi(Hi.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const i=(0,Vy.NZ)(),u=yield i.importKey("jwk",n,{name:"AES-KW"},!0,["wrapKey"]),h={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t.alg];if(!h)throw new zi(Hi.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${t.alg}`);const l=yield i.importKey("jwk",t,{name:h},!0,["unwrapKey"]),f=yield i.wrapKey("raw",l,u,"AES-KW");return new Uint8Array(f)})}}var GM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class c4 extends Kp{bytesToPrivateKey({privateKeyBytes:t}){return GM(this,void 0,void 0,function*(){const n=yield WM.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[t.length],n})}generateKey({algorithm:t}){return GM(this,void 0,void 0,function*(){const n={A128KW:128,A192KW:192,A256KW:256}[t],i=yield WM.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return GM(this,void 0,void 0,function*(){return yield WM.privateKeyToBytes({privateKey:t})})}unwrapKey(t){return GM(this,void 0,void 0,function*(){return yield WM.unwrapKey(t)})}wrapKey(t){return GM(this,void 0,void 0,function*(){return WM.wrapKey(t)})}}class GB{static deriveKeyBytes({baseKeyBytes:t,hash:n,salt:i,iterations:u,length:h}){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const l=(0,Vy.NZ)(),f=yield l.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),X=yield l.deriveBits({name:"PBKDF2",hash:n,salt:i,iterations:u},f,h);return new Uint8Array(X)})}}var JM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},Bl=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const AO={"AES-GCM":{implementation:class ZB extends Kp{bytesToPrivateKey({privateKeyBytes:t}){return JM(this,void 0,void 0,function*(){const n=yield zy.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[t.length],n})}decrypt(t){return JM(this,void 0,void 0,function*(){return zy.decrypt(t)})}encrypt(t){return JM(this,void 0,void 0,function*(){return zy.encrypt(t)})}generateKey({algorithm:t}){return JM(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield zy.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return JM(this,void 0,void 0,function*(){return yield zy.privateKeyToBytes({privateKey:t})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:c4,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class HB extends Kp{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Qm(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield sa.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}throw new zi(Hi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Qm(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield sa.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}throw new zi(Hi.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}computePublicKey({key:t}){return Qm(this,void 0,void 0,function*(){if(!jp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield sa.computePublicKey({key:t});return n.alg="EdDSA",n}throw new zi(Hi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}generateKey({algorithm:t}){return Qm(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield sa.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return Qm(this,void 0,void 0,function*(){if(!jp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield sa.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}privateKeyToBytes({privateKey:t}){return Qm(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield sa.privateKeyToBytes({privateKey:t});throw new zi(Hi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}publicKeyToBytes({publicKey:t}){return Qm(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield sa.publicKeyToBytes({publicKey:t});throw new zi(Hi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}sign({key:t,data:n}){return Qm(this,void 0,void 0,function*(){if(!jp(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield sa.sign({key:t,data:n});throw new zi(Hi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return Qm(this,void 0,void 0,function*(){if(!AC(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield sa.verify({key:t,signature:n,data:i});throw new zi(Hi.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class zB extends Kp{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const u={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[n];return yield jB.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:u}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class YB extends Kp{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const[,u]=n.split(/[-+]/),h={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[u];return yield GB.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:h}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:o4,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:o4,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:wO,names:["SHA-256"],operations:["digest"]}};class _1{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return Bl(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPrivateKey({algorithm:t,privateKeyBytes:n})})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return Bl(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPublicKey({algorithm:t,publicKeyBytes:n})})}decrypt(t){return Bl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).decrypt(t)})}deriveKey(t){var n,i;return Bl(this,void 0,void 0,function*(){const u=this.getAlgorithmName({algorithm:t.algorithm}),h=this.getAlgorithm({algorithm:u});let l;switch(t.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":l=t.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":l=t.algorithm.split(/[-+]/)[2];break;default:throw new zi(Hi.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${t.algorithm}`)}const f=+(null!==(i=null===(n=l.match(/\d+/))||void 0===n?void 0:n[0])&&void 0!==i?i:-1);if(-1===f)throw new zi(Hi.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${l}`);const X=yield h.deriveKeyBytes(Object.assign(Object.assign({},t),{length:f}));return yield this.bytesToPrivateKey({algorithm:l,privateKeyBytes:X})})}deriveKeyBytes(t){return Bl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({algorithm:t.algorithm});return yield this.getAlgorithm({algorithm:n}).deriveKeyBytes(t)})}digest({algorithm:t,data:n}){return Bl(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}encrypt(t){return Bl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).encrypt(t)})}generateKey(t){var n;return Bl(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t.algorithm}),h=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t.algorithm});return null!==(n=h.kid)&&void 0!==n||(h.kid=yield rs({jwk:h})),h})}getKeyUri(t){return Bl(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:t}){return Bl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:t})})}privateKeyToBytes({privateKey:t}){return Bl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).privateKeyToBytes({privateKey:t})})}publicKeyToBytes({publicKey:t}){return Bl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).publicKeyToBytes({publicKey:t})})}sign({key:t,data:n}){return Bl(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:i}).sign({data:n,key:t})})}unwrapKey(t){return Bl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.decryptionKey});return yield this.getAlgorithm({algorithm:n}).unwrapKey(t)})}verify({key:t,signature:n,data:i}){return Bl(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}wrapKey(t){return Bl(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.encryptionKey});return yield this.getAlgorithm({algorithm:n}).wrapKey(t)})}getAlgorithm({algorithm:t}){var n;const i=null===(n=AO[t])||void 0===n?void 0:n.implementation;if(!i)throw new zi(Hi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({algorithm:t,key:n}){var i;const u=null!==(i=n?.alg)&&void 0!==i?i:t,h=n?.crv;for(const l of Object.keys(AO)){const f=AO[l].names;if(u&&f.includes(u))return l;if(h&&f.includes(h))return l}throw new zi(Hi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${u}, crv=${h}. Please check the documentation for the list of supported algorithms.`)}}var OC=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(OC||{});const eb={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Da{constructor({method:t,id:n,path:i,query:u,fragment:h,params:l}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=u,this.fragment=h,this.params=l}static parse(t){if(!t)return null;const n=Da.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:u,path:h,query:l,fragment:f}=n.groups,X={uri:`did:${i}:${u}`,method:i,id:u};if(h&&(X.path=h),l&&(X.query=l.slice(1)),f&&(X.fragment=f.slice(1)),l){const W={},k=l.slice(1).split("&");for(const re of k){const[Oe,je]=re.split("=");W[Oe]=je}X.params=W}return X}}Da.METHOD_PATTERN="([a-z0-9]+)",Da.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Da.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Da.PCT_ENCODED_PATTERN})`,Da.METHOD_ID_PATTERN=`((?:${Da.ID_CHAR_PATTERN}*:)*(${Da.ID_CHAR_PATTERN}+))`,Da.PATH_PATTERN="(/[^#?]*)?",Da.QUERY_PATTERN="([?][^#]*)?",Da.FRAGMENT_PATTERN="(#.*)?",Da.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Da.METHOD_PATTERN}):(?<id>${Da.METHOD_ID_PATTERN})(?<path>${Da.PATH_PATTERN})(?<query>${Da.QUERY_PATTERN})(?<fragment>${Da.FRAGMENT_PATTERN})$`);class $s extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$s)}}var Us=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Us||{});function jh(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function IO(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var XM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class e0{constructor({uri:t,document:n,metadata:i,keyManager:u}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=u}export(){return XM(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.exportKey({keyUri:u});n.push(Object.assign({},h))}t.privateKeys=n}return t})}getSigner(t){return XM(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(X=>{var W,k;return jh(X.id)===(null!==(W=jh(t?.methodId))&&void 0!==W?W:jh(null===(k=this.document.assertionMethod)||void 0===k?void 0:k[0]))});if(!i||!i.publicKeyJwk)throw new $s(Us.InternalError,"A verification method intended for signing could not be determined from the DID Document");const u=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),h=yield this.keyManager.getPublicKey({keyUri:u}),l=this.keyManager;return{algorithm:n4(h),keyId:i.id,sign(X){return XM(this,arguments,void 0,function*({data:W}){return yield l.sign({data:W,keyUri:u})})},verify(X){return XM(this,arguments,void 0,function*({data:W,signature:k}){return yield l.verify({data:W,key:h,signature:k})})}}})}static import(t){return XM(this,arguments,void 0,function*({portableDid:n,keyManager:i=new $p}){var u;const h=function DO({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(IO))&&void 0!==n?n:[]),Object.keys(OC).forEach(u=>{var h,l;i.push(...null!==(l=null===(h=r[u])||void 0===h?void 0:h.filter(IO))&&void 0!==l?l:[])}),i}({didDocument:n.document});if(0===h.length)throw new $s(Us.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let f of null!==(u=n.privateKeys)&&void 0!==u?u:[])yield i.importKey({key:f});for(let f of h){if(!f.publicKeyJwk)throw new Error(`Verification method '${f.id}' does not contain a public key in JWK format`);const X=yield i.getKeyUri({key:f.publicKeyJwk});yield i.getPublicKey({keyUri:X})}return new e0({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var d4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class l4{static getSigningMethod(t){return d4(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return d4(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var el=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},u4=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const f4="https://diddht.tbddev.org",Wy=7200,Xl=",";var h4=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(h4||{}),wu=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(wu||{}),p4=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(p4||{});const m4={Ed25519:wu.Ed25519,ES256K:wu.secp256k1,ES256:wu.secp256r1,"P-256":wu.secp256r1,secp256k1:wu.secp256k1,secp256r1:wu.secp256r1,X25519:wu.X25519},y4={[wu.Ed25519]:"Ed25519",[wu.secp256k1]:"ES256K",[wu.secp256r1]:"ES256",[wu.X25519]:"ECDH-ES+A256KW"};let BC=(()=>{class r extends l4{static create(){return el(this,arguments,void 0,function*({keyManager:n=new $p,options:i={}}={}){var u,h,l,f,X,W,k,re,Oe,je,Ke;if(null!==(u=i.verificationMethods)&&void 0!==u&&u.some(qt=>!(qt.algorithm in m4)))throw new Error("One or more verification method algorithms are not supported");const tt=null===(h=i.verificationMethods)||void 0===h?void 0:h.filter(qt=>"id"in qt).map(qt=>qt.id);if(tt&&tt.length!==new Set(tt).size)throw new Error("One or more verification method IDs are not unique");if(null!==(l=i.services)&&void 0!==l&&l.some(qt=>!qt.id||!qt.type||!qt.serviceEndpoint))throw new Error("One or more services are missing required properties");const bt=yield n.generateKey({algorithm:"Ed25519"}),kt=yield n.getPublicKey({keyUri:bt}),_t=yield cd.identityKeyToIdentifier({identityKey:kt}),xt=Object.assign(Object.assign({id:_t},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),Nt=[...null!==(f=i.verificationMethods)&&void 0!==f?f:[]];Nt?.some(qt=>{var un;return"0"===(null===(un=qt.id)||void 0===un?void 0:un.split("#").pop())})||Nt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const qt of Nt){const un=qt.id&&"0"===qt.id.split("#").pop()?bt:yield n.generateKey({algorithm:qt.algorithm}),Ht=yield n.getPublicKey({keyUri:un});let Sn=null!==(W=null!==(X=qt.id)&&void 0!==X?X:Ht.kid)&&void 0!==W?W:yield rs({jwk:Ht});Sn=`${_t}#${jh(Sn)}`,null!==(k=xt.verificationMethod)&&void 0!==k||(xt.verificationMethod=[]),xt.verificationMethod.push({id:Sn,type:"JsonWebKey",controller:null!==(re=qt.controller)&&void 0!==re?re:_t,publicKeyJwk:Ht});for(const Jn of null!==(Oe=qt.purposes)&&void 0!==Oe?Oe:[])xt[Jn]||(xt[Jn]=[]),xt[Jn].push(Sn)}null===(je=i.services)||void 0===je||je.forEach(qt=>{var un;null!==(un=xt.service)&&void 0!==un||(xt.service=[]),qt.id=`${_t}#${qt.id.split("#").pop()}`,xt.service.push(qt)});const Xt=new e0({uri:_t,document:xt,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Ke=i.publish)||void 0===Ke||Ke){const qt=yield r.publish({did:Xt,gatewayUri:i.gatewayUri});Xt.metadata=qt.didDocumentMetadata}return Xt})}static import(n){return el(this,arguments,void 0,function*({portableDid:i,keyManager:u=new $p}){var h;const l=Da.parse(i.uri);if(l?.method!==r.methodName)throw new $s(Us.MethodNotSupported,"Method not supported");const f=yield e0.import({portableDid:i,keyManager:u});if(null===(h=f.document.verificationMethod)||void 0===h||!h.some(X=>{var W;return"0"===(null===(W=X.id)||void 0===W?void 0:W.split("#").pop())}))throw new $s(Us.InvalidDidDocument,"DID document must contain an Identity Key");return f})}static getSigningMethod(n){return el(this,arguments,void 0,function*({didDocument:i,methodId:u="#0"}){var h;const l=Da.parse(i.id);if(l&&l.method!==this.methodName)throw new $s(Us.MethodNotSupported,`Method not supported: ${l.method}`);const f=null===(h=i.verificationMethod)||void 0===h?void 0:h.find(X=>{var W,k;return jh(X.id)===(null!==(W=jh(u))&&void 0!==W?W:jh(null===(k=i.assertionMethod)||void 0===k?void 0:k[0]))});if(!f||!f.publicKeyJwk)throw new $s(Us.InternalError,"A verification method intended for signing could not be determined from the DID Document");return f})}static publish(n){return el(this,arguments,void 0,function*({did:i,gatewayUri:u=f4}){return yield t0.put({did:i,gatewayUri:u})})}static resolve(n){return el(this,arguments,void 0,function*(i,u={}){var h;const l=null!==(h=u?.gatewayUri)&&void 0!==h?h:f4;try{yield cd.identifierToIdentityKey({didUri:i});const{didDocument:f,didDocumentMetadata:X}=yield t0.get({didUri:i,gatewayUri:l});return Object.assign(Object.assign({},eb),{didDocument:f,didDocumentMetadata:X})}catch(f){if(!(f instanceof $s))throw new Error(f);return Object.assign(Object.assign({},eb),{didResolutionMetadata:Object.assign({error:f.code},f.message&&{errorMessage:f.message})})}})}}return r.methodName="dht",r})();class t0{static get(t){return el(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const u=cd.identifierToIdentityKeyBytes({didUri:n}),h=yield t0.pkarrGet({gatewayUri:i,publicKeyBytes:u}),l=yield cd.parseBep44GetMessage({bep44Message:h}),f=yield t0.fromDnsPacket({didUri:n,dnsPacket:l});return f.didDocumentMetadata.versionId=h.seq.toString(),f})}static put(t){return el(this,arguments,void 0,function*({did:n,gatewayUri:i}){const u=yield t0.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),h=yield cd.createBep44PutMessage({dnsPacket:u,publicKeyBytes:cd.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),l=yield t0.pkarrPut({gatewayUri:i,bep44Message:h});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:l,versionId:h.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return el(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const u=nr.U$.uint8Array(i).toBase32Z(),h=new URL(u,n).href;let l;try{if(l=yield fetch(h,{method:"GET"}),!l.ok)throw new $s(Us.NotFound,`Pkarr record not found for: ${u}`)}catch(W){throw W instanceof $s?W:new $s(Us.InternalError,`Failed to fetch Pkarr record: ${W.message}`)}const f=yield l.arrayBuffer();if(!f)throw new $s(Us.NotFound,`Pkarr record not found for: ${u}`);if(f.byteLength<72)throw new $s(Us.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${f.byteLength}`);if(f.byteLength>1072)throw new $s(Us.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${f.byteLength}`);return{k:i,seq:Number(new DataView(f).getBigUint64(64)),sig:new Uint8Array(f,0,64),v:new Uint8Array(f,72)}})}static pkarrPut(t){return el(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const u=nr.U$.uint8Array(i.k).toBase32Z(),h=new URL(u,n).href,l=new Uint8Array(i.v.length+72);let f;l.set(i.sig,0),new DataView(l.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),l.set(i.v,i.sig.length+8);try{f=yield fetch(h,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:l})}catch(X){throw new $s(Us.InternalError,`Failed to put Pkarr record for identifier ${u}: ${X.message}`)}return f.ok})}static fromDnsPacket(t){return el(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var u,h,l;const f={id:n},X={published:!0},W=new Map;for(const k of null!==(u=i?.answers)&&void 0!==u?u:[]){if("TXT"!==k.type)continue;const re=k.name.split(".")[0].substring(1);switch(!0){case re.startsWith("aka"):{const Oe=cd.parseTxtDataToString(k.data);f.alsoKnownAs=Oe.split(Xl);break}case re.startsWith("cnt"):{const Oe=cd.parseTxtDataToString(k.data);f.controller=Oe.includes(Xl)?Oe.split(Xl):Oe;break}case re.startsWith("k"):{const{id:Oe,t:je,k:Ke,c:tt,a:bt}=cd.parseTxtDataToObject(k.data),kt=nr.U$.base64Url(Ke).toUint8Array(),_t=wu[Number(je)];let xt=yield cd.keyConverter(_t).bytesToPublicKey({publicKeyBytes:kt});xt.alg=bt||y4[Number(je)];const Nt="k0"===re?"0":void 0!==Oe?Oe:yield rs({jwk:xt});null!==(h=f.verificationMethod)&&void 0!==h||(f.verificationMethod=[]);const Xt=`${n}#${Nt}`;f.verificationMethod.push({id:Xt,type:"JsonWebKey",controller:tt??n,publicKeyJwk:xt}),W.set(re,Xt);break}case re.startsWith("s"):{const Oe=cd.parseTxtDataToObject(k.data),{id:je,t:Ke,se:tt}=Oe,bt=u4(Oe,["id","t","se"]),kt=tt.includes(Xl)?tt.split(Xl):[tt],_t=Object.fromEntries(Object.entries(bt).map(([xt,Nt])=>[xt,Nt.includes(Xl)?Nt.split(Xl):Nt]));null!==(l=f.service)&&void 0!==l||(f.service=[]),f.service.push(Object.assign(Object.assign({},_t),{id:`${n}#${je}`,type:Ke,serviceEndpoint:kt}));break}case re.startsWith("typ"):{const{id:Oe}=cd.parseTxtDataToObject(k.data);X.types=Oe.split(Xl).map(je=>Number(je));break}case re.startsWith("did"):{const Oe=_t=>_t.split(Xl).map(xt=>W.get(xt)).filter(xt=>"string"==typeof xt),{auth:je,asm:Ke,del:tt,inv:bt,agm:kt}=cd.parseTxtDataToObject(k.data);je&&(f.authentication=Oe(je)),Ke&&(f.assertionMethod=Oe(Ke)),tt&&(f.capabilityDelegation=Oe(tt)),bt&&(f.capabilityInvocation=Oe(bt)),kt&&(f.keyAgreement=Oe(kt));break}}}return{didDocument:f,didDocumentMetadata:X,didResolutionMetadata:{}}})}static toDnsPacket(t){return el(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:u,previousDidProof:h}){var l,f,X,W,k;const re=[],Oe=[],je=new Map,Ke=[],tt=[];if(void 0!==h){const{signature:_t,previousDid:xt}=h;yield cd.validatePreviousDidProof({newDid:n.id,previousDidProof:h}),re.push({type:"TXT",name:"_prv._did.",ttl:Wy,data:`id=${xt};s=${_t}`})}if(n.alsoKnownAs&&re.push({type:"TXT",name:"_aka._did.",ttl:Wy,data:n.alsoKnownAs.join(Xl)}),n.controller){const _t=Array.isArray(n.controller)?n.controller.join(Xl):n.controller;re.push({type:"TXT",name:"_cnt._did.",ttl:Wy,data:_t})}for(const[_t,xt]of null!==(f=null===(l=n.verificationMethod)||void 0===l?void 0:l.entries())&&void 0!==f?f:[]){const Nt=`k${_t}`;tt.push(Nt);let Xt=xt.id.split("#").pop();je.set(Xt,Nt);const qt=xt.publicKeyJwk;if(!qt?.crv||!(qt.crv in m4))throw new $s(Us.InvalidPublicKeyType,`Verification method '${xt.id}' contains an unsupported key type: ${null!==(X=qt?.crv)&&void 0!==X?X:"undefined"}`);const un=wu[qt.crv],Ht=yield cd.keyConverter(qt.crv).publicKeyToBytes({publicKey:qt}),Jn=[`t=${un}`,`k=${nr.U$.uint8Array(Ht).toBase64Url()}`];"0"!==Xt&&(yield rs({jwk:qt}))!==Xt&&Jn.unshift(`id=${Xt}`),qt.alg!==y4[un]&&Jn.push(`a=${qt.alg}`),xt.controller!==n.id&&Jn.push(`c=${xt.controller}`),re.push({type:"TXT",name:`_${Nt}._did.`,ttl:Wy,data:Jn.join(";")})}null===(W=n.service)||void 0===W||W.forEach((_t,xt)=>{const Nt=`s${xt}`;Ke.push(Nt);let{id:Xt,type:qt,serviceEndpoint:un}=_t,Ht=u4(_t,["id","type","serviceEndpoint"]);Xt=jh(Xt),un=Array.isArray(un)?un.join(","):un;const Jn=Object.entries(Object.assign({id:Xt,t:qt,se:un},Ht)).map(([cr,$n])=>`${cr}=${$n}`).join(";"),Yn=cd.chunkDataIfNeeded(Jn);re.push({type:"TXT",name:`_${Nt}._did.`,ttl:Wy,data:Yn})});const bt=["v=0"];if(tt.length&&bt.push(`vm=${tt.join(Xl)}`),Object.keys(OC).forEach(_t=>{var xt;const Nt=null===(xt=n[_t])||void 0===xt?void 0:xt.map(Xt=>je.get(Xt.split("#").pop()));Nt&&bt.push(`${p4[_t]}=${Nt.join(Xl)}`)}),Ke.length&&bt.push(`svc=${Ke.join(Xl)}`),null!==(k=i.types)&&void 0!==k&&k.length){const xt=i.types.map(Nt=>"string"==typeof Nt?h4[Nt]:Nt);re.push({type:"TXT",name:"_typ._did.",ttl:Wy,data:`id=${xt.join(Xl)}`})}re.push({type:"TXT",name:"_did."+t0.getUniqueDidSuffix(n.id)+".",ttl:Wy,data:bt.join(";")});for(const _t of u||[])Oe.push({type:"NS",name:"_did."+t0.getUniqueDidSuffix(n.id)+".",ttl:Wy,data:_t+"."});return{id:0,type:"response",flags:Fv.hB,answers:[...re,...Oe]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class cd{static createBep44PutMessage(t){return el(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:u}){const h=Math.ceil(Date.now()/1e3),l=(0,Fv.lF)(n),f=a1.A.encode({seq:h,v:l}).subarray(1,-1);if(f.length>1e3)throw new $s(Us.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${f.length} bytes`);return{k:i,seq:h,sig:yield u.sign({data:f}),v:l}})}static identifierToIdentityKey(t){return el(this,arguments,void 0,function*({didUri:n}){let i=cd.identifierToIdentityKeyBytes({didUri:n});return yield sa.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Da.parse(t);if(!n)throw new $s(Us.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==BC.methodName)throw new $s(Us.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=nr.U$.base32Z(n.id).toUint8Array()}catch{throw new $s(Us.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new $s(Us.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return el(this,arguments,void 0,function*({identityKey:n}){const i=yield sa.publicKeyToBytes({publicKey:n}),u=nr.U$.uint8Array(i).toBase32Z();return`did:${BC.methodName}:${u}`})}static keyConverter(t){const i={Ed25519:sa,"P-256":{publicKeyToBytes:u=>el(this,[u],void 0,function*({publicKey:h}){const l=yield oa.publicKeyToBytes({publicKey:h});return yield oa.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:oa.bytesToPublicKey,privateKeyToBytes:oa.privateKeyToBytes,bytesToPrivateKey:oa.bytesToPrivateKey},secp256k1:{publicKeyToBytes:u=>el(this,[u],void 0,function*({publicKey:h}){const l=yield ia.publicKeyToBytes({publicKey:h});return yield ia.compressPublicKey({publicKeyBytes:l})}),bytesToPublicKey:ia.bytesToPublicKey,privateKeyToBytes:ia.privateKeyToBytes,bytesToPrivateKey:ia.bytesToPrivateKey},X25519:w1}[t];if(!i)throw new $s(Us.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return el(this,arguments,void 0,function*({bep44Message:n}){const i=yield sa.bytesToPublicKey({publicKeyBytes:n.k}),u=a1.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield sa.verify({key:i,signature:n.sig,data:u})))throw new $s(Us.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,Fv.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[u,h]=i.split("=");return n[u]=h,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return nr.U$.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new $s(Us.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return el(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const u=yield cd.identifierToIdentityKey({didUri:i.previousDid}),h=cd.identifierToIdentityKeyBytes({didUri:n}),l=nr.U$.base64Url(i.signature).toUint8Array();if(!(yield sa.verify({key:u,data:h,signature:l})))throw new $s(Us.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var NC=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};let nN=(()=>{class r extends l4{static create(){return NC(this,arguments,void 0,function*({keyManager:n=new $p,options:i={}}={}){var u,h,l,f;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const X=null!==(f=null!==(u=i.algorithm)&&void 0!==u?u:null===(l=null===(h=i.verificationMethods)||void 0===h?void 0:h[0])||void 0===l?void 0:l.algorithm)&&void 0!==f?f:"Ed25519",W=yield n.generateKey({algorithm:X}),k=yield n.getPublicKey({keyUri:W}),re=nr.U$.object(k).toBase64Url(),Oe=`did:${r.methodName}:${re}`,Ke=(yield r.resolve(Oe)).didDocument;return new e0({uri:Oe,document:Ke,metadata:{},keyManager:n})})}static getSigningMethod(n){return NC(this,arguments,void 0,function*({didDocument:i}){var u;const h=Da.parse(i.id);if(h&&h.method!==this.methodName)throw new $s(Us.MethodNotSupported,`Method not supported: ${h.method}`);const[l]=null!==(u=i.verificationMethod)&&void 0!==u?u:[];if(!l||!l.publicKeyJwk)throw new $s(Us.InternalError,"A verification method intended for signing could not be determined from the DID Document");return l})}static import(n){return NC(this,arguments,void 0,function*({portableDid:i,keyManager:u=new $p}){const h=Da.parse(i.uri);if(h?.method!==r.methodName)throw new $s(Us.MethodNotSupported,"Method not supported");const l=yield e0.import({portableDid:i,keyManager:u});if(1!==l.document.verificationMethod.length)throw new $s(Us.InvalidDidDocument,"DID document must contain exactly one verification method");return l})}static resolve(n,i){return NC(this,void 0,void 0,function*(){const u=Da.parse(n);let h;try{h=nr.U$.base64Url(u.id).toObject()}catch{}if(!u||!h)return Object.assign(Object.assign({},eb),{didResolutionMetadata:{error:"invalidDid"}});if(u.method!==r.methodName)return Object.assign(Object.assign({},eb),{didResolutionMetadata:{error:"methodNotSupported"}});const l={"@context":["https://www.w3.org/ns/did/v1"],id:u.uri},f=`${l.id}#0`;switch(l.verificationMethod=[{id:f,type:"JsonWebKey",controller:l.id,publicKeyJwk:h}],l.authentication=[f],l.assertionMethod=[f],l.capabilityInvocation=[f],l.capabilityDelegation=[f],l.keyAgreement=[f],h.use){case"sig":delete l.keyAgreement;break;case"enc":delete l.authentication,delete l.assertionMethod,delete l.capabilityInvocation,delete l.capabilityDelegation}return Object.assign(Object.assign({},eb),{didDocument:l})})}}return r.methodName="jwk",r})();var E1=_(81447),rN=_(94787);class oN{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new rN.Level(n),this.ttl=E1(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},u=JSON.stringify(i);return this.cache.put(t,u)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const sN={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var g4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class v4{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||sN;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return g4(this,void 0,void 0,function*(){const i=Da.parse(t);if(!i)return Object.assign(Object.assign({},eb),{didResolutionMetadata:{error:Us.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const u=this.didResolvers.get(i.method);if(!u)return Object.assign(Object.assign({},eb),{didResolutionMetadata:{error:Us.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const h=yield this.cache.get(i.uri);if(h)return h;{const l=yield u.resolve(i.uri,n);return l.didResolutionMetadata.error||(yield this.cache.set(i.uri,l)),l}})}dereference(t,n){return g4(this,void 0,void 0,function*(){const i=Da.parse(t);if(!i)return{dereferencingMetadata:{error:Us.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:u,didResolutionMetadata:h,didDocumentMetadata:l}=yield this.resolve(i.uri);if(!u)return{dereferencingMetadata:{error:h.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:u,contentMetadata:l};const{service:f=[],verificationMethod:X=[]}=u,W=new Set([t,i.fragment,`#${i.fragment}`]);let k;for(let re of X)if(W.has(re.id)){k=re;break}for(let re of f)if(W.has(re.id)){k=re;break}return k?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:k,contentMetadata:h}:{dereferencingMetadata:{error:Us.NotFound},contentStream:null,contentMetadata:{}}})}}var x1=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const Yu="^";class cN extends $p{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:t}){var n;return x1(this,void 0,void 0,function*(){const i={};for(const u of t)null!==(n=u.kid)&&void 0!==n||(u.kid=yield rs({jwk:u})),i[yield this.getKeyUri({key:u})]=u;this._predefinedKeys=new Map(Object.entries(i)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:t}){return x1(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${t}`);return n})}generateKey(t){return x1(this,void 0,void 0,function*(){const{value:n,done:i}=this._keyGenerator.next();if(i)throw new Error("Ran out of predefined keys");return n})}getPublicKey({keyUri:t}){return x1(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${t}`);return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n}(n,["d"])})}sign({keyUri:t,data:n}){return x1(this,void 0,void 0,function*(){const i=this._predefinedKeys.get(t);if(!i)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${t}`);return yield sa.sign({data:n,key:i})})}}function Jy({agent:r,tenant:t,didUri:n}){return x1(this,void 0,void 0,function*(){if(t)return t;if(r.agentDid)return r.agentDid.uri;if(!n)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return n})}function b4(r){return!(!r||"object"!=typeof r||null===r)&&"uri"in r&&"document"in r&&"metadata"in r&&(!("keyManager"in r)||void 0===r.keyManager)}var $h=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class kO{constructor(){this.name="DwnDataStore",this._cache=new nr.LC({ttl:E1("15 minutes"),max:100}),this._index=new nr.LC({ttl:E1("2 hours"),max:1e3}),this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/private-jwk"}}delete({id:t,agent:n,tenant:i}){return $h(this,void 0,void 0,function*(){const u=yield Jy({agent:n,tenant:i,didUri:t});let h=yield this.lookupRecordId({id:t,tenantDid:u,agent:n});if(!h)return!1;const{reply:{status:l}}=yield n.dwn.processRequest({author:u,target:u,messageType:va.RecordsDelete,messageParams:{recordId:h}});if(202===l.code)return this._index.delete(`${u}${Yu}${t}`),this._cache.delete(h),!0;throw new Error(`${this.name}: Failed to delete '${t}' from store: (${l.code}) ${l.detail}`)})}get({id:t,agent:n,tenant:i,useCache:u=!1}){return $h(this,void 0,void 0,function*(){const h=yield Jy({agent:n,tenant:i,didUri:t});let l=yield this.lookupRecordId({id:t,tenantDid:h,agent:n});if(l)return yield this.getRecord({recordId:l,tenantDid:h,agent:n,useCache:u})})}list({agent:t,tenant:n}){return $h(this,void 0,void 0,function*(){const i=yield Jy({tenant:n,agent:t});return yield this.getAllRecords({agent:t,tenantDid:i})})}set({id:t,data:n,tenant:i,agent:u,preventDuplicates:h=!0,useCache:l=!1}){return $h(this,void 0,void 0,function*(){const f=yield Jy({agent:u,tenant:i,didUri:t});if(h&&(yield this.lookupRecordId({id:t,tenantDid:f,agent:u})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const X=nr.U$.object(n).toUint8Array(),{message:W,reply:{status:k}}=yield u.dwn.processRequest({author:f,target:f,messageType:va.RecordsWrite,messageParams:Object.assign({},this._recordProperties),dataStream:new Blob([X],{type:"application/json"})});if(!W||202!==k.code)throw new Error(`${this.name}: Failed to write data to store for: ${t}`);this._index.set(`${f}${Yu}${t}`,W.recordId),l&&this._cache.set(W.recordId,n)})}getAllRecords(t){return $h(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:t,tenantDid:n,agent:i,useCache:u}){var h;return $h(this,void 0,void 0,function*(){if(u){const X=this._cache.get(t);if(X)return X}const{reply:l}=yield i.dwn.processRequest({author:n,target:n,messageType:va.RecordsRead,messageParams:{filter:{recordId:t}}});if(null===(h=l.record)||void 0===h||!h.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${t}`);const f=yield nr.VS.consumeToJson({readable:l.record.data});return u&&this._cache.set(t,f),f})}lookupRecordId({id:t,tenantDid:n,agent:i}){return $h(this,void 0,void 0,function*(){let u=this._index.get(`${n}${Yu}${t}`,{updateAgeOnGet:!0});return u||(yield this.getAllRecords({agent:i,tenantDid:n}),u=this._index.get(`${n}${Yu}${t}`)),u})}}class PO{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:t,agent:n,tenant:i}){return $h(this,void 0,void 0,function*(){const u=yield Jy({agent:n,tenant:i,didUri:t});return!!this.store.has(`${u}${Yu}${t}`)&&(this.store.delete(`${u}${Yu}${t}`),!0)})}get({id:t,agent:n,tenant:i}){return $h(this,void 0,void 0,function*(){const u=yield Jy({agent:n,tenant:i,didUri:t});return this.store.get(`${u}${Yu}${t}`)})}list({agent:t,tenant:n}){return $h(this,void 0,void 0,function*(){const i=yield Jy({tenant:n,agent:t}),u=[];for(const[h,l]of this.store.entries())h.startsWith(`${i}${Yu}`)&&u.push(l);return u})}set({id:t,data:n,tenant:i,agent:u,preventDuplicates:h}){return $h(this,void 0,void 0,function*(){const l=yield Jy({agent:u,tenant:i,didUri:t});if(h&&this.store.has(`${l}${Yu}${t}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const f=structuredClone(n);this.store.set(`${l}${Yu}${t}`,f)})}}var n0=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class dN extends kO{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/portable-did"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return n0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return n0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return n0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return n0(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return n0(this,void 0,void 0,function*(){this._index.clear();const{reply:u}=yield t.dwn.processRequest({author:n,target:n,messageType:va.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let h=[];for(const l of null!==(i=u.entries)&&void 0!==i?i:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const f=nr.U$.base64Url(l.encodedData).toObject();b4(f)&&(this._index.set(`${n}${Yu}${f.uri}`,l.recordId),this._cache.set(l.recordId,f),h.push(f))}return h})}}class lN extends PO{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return n0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return n0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return n0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return n0(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var YM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class uN{constructor({ttl:t="15m"}={}){this.cache=new nr.LC({ttl:E1(t)})}get(t){return YM(this,void 0,void 0,function*(){if(!t)throw new Error("Key cannot be null or undefined");return this.cache.get(t)})}set(t,n){return YM(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return YM(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return YM(this,void 0,void 0,function*(){this.cache.clear()})}close(){return YM(this,void 0,void 0,function*(){})}}var M1=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},UC=function(r){return r.Create="Create",r.Resolve="Resolve",r}(UC||{});function w4(r,t){return r.messageType===t}class fN extends v4{constructor({agent:t,didMethods:n,resolverCache:i,store:u}){if(!n)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:n,cache:i??new uN}),this._didMethods=new Map,this._agent=t,this._store=u??new lN;for(const h of n)this._didMethods.set(h.methodName,h)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({method:t,tenant:n,options:i,store:u}){return M1(this,void 0,void 0,function*(){const l=yield this.getMethod(t).create({keyManager:this.agent.keyManager,options:i});if(u??1){const{uri:f,document:X,metadata:W}=l,k={uri:f,document:X,metadata:W};yield this._store.set({id:k.uri,data:k,agent:this.agent,tenant:n??k.uri,preventDuplicates:!1,useCache:!0})}return l})}export({didUri:t,tenant:n}){return M1(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return M1(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});return i?yield e0.import({portableDid:i,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:t,methodId:n}){return M1(this,void 0,void 0,function*(){const i=Da.parse(t);if(!i)throw new Error(`Invalid DID URI: ${t}`);const u=this.getMethod(i.method),{didDocument:h,didResolutionMetadata:l}=yield this.resolve(t);if(!h)throw new Error(`DID resolution failed for '${t}': ${JSON.stringify(l)}`);return yield u.getSigningMethod({didDocument:h,methodId:n})})}import({portableDid:t,tenant:n}){return M1(this,void 0,void 0,function*(){const i=yield e0.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:u,document:h,metadata:l}=i,f={uri:u,document:h,metadata:l};return yield this._store.set({id:f.uri,data:f,agent:this.agent,tenant:n??f.uri,preventDuplicates:!0,useCache:!0}),i})}processRequest(t){var n;return M1(this,void 0,void 0,function*(){if(w4(t,UC.Create))try{const i=yield this.create(Object.assign({},t.messageParams));return{result:{uri:i.uri,document:i.document,metadata:i.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(i){return{ok:!1,status:{code:500,message:null!==(n=i.message)&&void 0!==n?n:"Unknown error occurred"}}}if(w4(t,UC.Resolve)){const{didUri:i,options:u}=t.messageParams;return{result:yield this.resolve(i,u),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${t.messageType}`)})}getMethod(t){const n=this._didMethods.get(t);if(void 0===n)throw new Error(`DID Method not supported: ${t}`);return n}}var hN=_(85493),_4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function E4(r){return OO(r.stream())}function x4(r,t){return _4(this,void 0,void 0,function*(){const n=yield t.dereference(`${r}#dwn`);if(n.dereferencingMetadata.error)throw new Error(`Failed to dereference '${r}#dwn': ${n.dereferencingMetadata.error}`);if(function eN(r){if(!function QB(r){return!(!r||"object"!=typeof r||null===r)&&"id"in r&&"type"in r&&"serviceEndpoint"in r}(r)||"DecentralizedWebNode"!==r.type||!("enc"in r)||!("sig"in r))return!1;const t=n=>"string"==typeof n||Array.isArray(n)&&n.every(i=>"string"==typeof i);return t(r.enc)&&t(r.sig)}(n.contentStream)){const{serviceEndpoint:i}=n.contentStream,u="string"==typeof i?[i]:Array.isArray(i)&&i.every(h=>"string"==typeof h)?i:[];if(u.length>0)return u}return[]})}function pN(r){return vo.getAuthor(r)}function LC(r){return!(!r||"object"!=typeof r||null===r)&&"message"in r&&"object"==typeof r.message&&null!==r.message&&"descriptor"in r.message&&"object"==typeof r.message.descriptor&&null!==r.message.descriptor&&"interface"in r.message.descriptor&&r.message.descriptor.interface===Qi.Records&&"method"in r.message.descriptor&&r.message.descriptor.method===wi.Write}function mN(r){return Hr.getCid(r)}function yN(r,t){return _4(this,void 0,void 0,function*(){const n=t===Ml.CreatedAscending||t===Ml.CreatedDescending?r.descriptor.dateCreated:r.descriptor.datePublished;if(void 0===n)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield mN(r),value:n}})}function OO(r){return new hN.s(r)}var Vh=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class vN{constructor({agent:t,dwn:n}){this._agent=t,this._dwn=n}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}get node(){return this._dwn}static createDwn({dataPath:t,dataStore:n,didResolver:i,eventLog:u,eventStream:h,messageStore:l,tenantGate:f}){return Vh(this,void 0,void 0,function*(){return n??(n=new qn({blockstoreLocation:`${t}/DWN_DATASTORE`})),i??(i=new v4({didResolvers:[BC,nN],cache:new oN({location:`${t}/DID_RESOLVERCACHE`})})),u??(u=new yB({location:`${t}/DWN_EVENTLOG`})),l??(l=new vO({blockstoreLocation:`${t}/DWN_MESSAGESTORE`,indexLocation:`${t}/DWN_MESSAGEINDEX`})),yield _M.create({dataStore:n,didResolver:i,eventLog:u,eventStream:h,messageStore:l,tenantGate:f})})}processRequest(t){return Vh(this,void 0,void 0,function*(){const{message:n,dataStream:i}=yield this.constructDwnMessage({request:t}),{subscriptionHandler:u}=t;return{reply:!1!==t.store?yield this._dwn.processMessage(t.target,n,{dataStream:i,subscriptionHandler:u}):{status:{code:202,detail:"Accepted"}},message:n,messageCid:yield Hr.getCid(n)}})}sendRequest(t){return Vh(this,void 0,void 0,function*(){const n=yield x4(t.target,this.agent.did);if(0===n.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${t.target}#dwn`);let i,u,h,l;if("messageCid"in t)({message:u,data:h}=yield this.getDwnMessage({author:t.author,messageCid:t.messageCid,messageType:t.messageType})),i=t.messageCid;else{if(({message:u}=yield this.constructDwnMessage({request:t})),t.dataStream&&!(t.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");h=t.dataStream,l=t.subscriptionHandler}const f=yield this.sendDwnRpcRequest({targetDid:t.target,dwnEndpointUrls:n,message:u,data:h,subscriptionHandler:l});return i??(i=yield Hr.getCid(u)),{reply:f,message:u,messageCid:i}})}sendDwnRpcRequest({targetDid:t,dwnEndpointUrls:n,message:i,data:u,subscriptionHandler:h}){return Vh(this,void 0,void 0,function*(){const l=[];if(i.descriptor.method===wi.Subscribe&&void 0===h)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let f of n)try{if(void 0!==h){if(!(yield this.agent.rpc.getServerInfo(f)).webSocketSupport){l.push({url:f,message:"WebSocket support is not enabled on the server."});continue}const k=new URL(f);k.protocol="http:"===k.protocol?"ws:":"wss:",f=k.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:f,targetDid:t,message:i,data:u,subscriptionHandler:h})}catch(X){l.push({url:f,message:X instanceof Error?X.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(l)}`)})}constructDwnMessage({request:t}){var n;return Vh(this,void 0,void 0,function*(){const i=t.rawMessage;let u;if(function gN(r,t){return r.messageType===t}(t,va.RecordsWrite)){const X=t.messageParams;if(t.dataStream&&!X?.data){const{dataStream:W}=t;let k;if(W instanceof Blob)k=E4(W),u=E4(W);else if(W instanceof ReadableStream){const[re,Oe]=W.tee();k=OO(re),u=OO(Oe)}i||(X.dataCid=yield xd.computeDagPbCidFromStream(k),null!==(n=X.dataSize)&&void 0!==n||(X.dataSize=k.bytesRead))}}const h=yield this.getSigner(t.author),l=xC[t.messageType],f=i?yield l.parse(i):yield l.create(Object.assign(Object.assign({},t.messageParams),{signer:h}));return LC(f)&&t.signAsOwner&&(yield f.signAsOwner(h)),{message:f.message,dataStream:u}})}getSigner(t){return Vh(this,void 0,void 0,function*(){if(t===this.agent.agentDid.uri){const n=yield this.agent.agentDid.getSigner();return{algorithm:n.algorithm,keyId:n.keyId,sign:i=>Vh(this,void 0,void 0,function*(){return yield n.sign({data:i})})}}try{const n=yield this.agent.did.getSigningMethod({didUri:t});if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk}),u=yield this.agent.keyManager.getPublicKey({keyUri:i}),h=this.agent.keyManager;return{algorithm:n4(u),keyId:n.id,sign:l=>Vh(this,void 0,void 0,function*(){return yield h.sign({data:l,keyUri:i})})}}catch(n){throw new Error(`AgentDwnApi: Unable to get signer for author '${t}': ${n.message}`)}})}getDwnMessage({author:t,messageCid:n}){return Vh(this,void 0,void 0,function*(){const i=yield this.getSigner(t),u=yield xC[va.MessagesGet].create({messageCids:[n],signer:i}),h=yield this._dwn.processMessage(t,u.message);if(!h.entries||1!==h.entries.length)throw new Error("AgentDwnApi: Expected 1 message entry in the MessagesGet response but received none or more than one.");const[l]=h.entries,f=l.message;if(!f)throw new Error(`AgentDwnApi: Message not found with CID: ${n}`);let X={message:f};if(LC(l))if(l.encodedData){const W=nr.U$.base64Url(l.encodedData).toUint8Array();X.data=new Blob([W])}else{const W=yield xC[va.RecordsRead].create({filter:{recordId:l.message.recordId},signer:i}),k=yield this._dwn.processMessage(t,W.message);if(k.status.code>=400){const{status:{code:re,detail:Oe}}=k;throw new Error(`AgentDwnApi: (${re}) Failed to read data associated with record ${l.message.recordId}. ${Oe}}`)}if(k.record){const re=yield nr.VS.consumeToBytes({readable:k.record.data});X.data=new Blob([re])}}return X})}createMessage({author:t,messageParams:n,messageType:i}){return Vh(this,void 0,void 0,function*(){const u=yield this.getSigner(t);return yield xC[i].create(Object.assign(Object.assign({},n),{signer:u}))})}processMessage({dataStream:t,message:n,targetDid:i}){return Vh(this,void 0,void 0,function*(){return yield this._dwn.processMessage(i,n,{dataStream:t})})}}var RO=_(75781),bN=_(36405);const wN=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),M4=Uint8Array.from({length:16},(r,t)=>t);let BO=[M4],NO=[M4.map(r=>(9*r+5)%16)];for(let r=0;r<4;r++)for(let t of[BO,NO])t.push(t[r].map(n=>wN[n]));const S4=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),EN=BO.map((r,t)=>r.map(n=>S4[t][n])),xN=NO.map((r,t)=>r.map(n=>S4[t][n])),MN=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),SN=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),KC=(r,t)=>r<<t|r>>>32-t;function T4(r,t,n,i){return 0===r?t^n^i:1===r?t&n|~t&i:2===r?(t|~n)^i:3===r?t&i|n&~i:t^(n|~i)}const FC=new Uint32Array(16);class TN extends bN.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:i,h3:u,h4:h}=this;return[t,n,i,u,h]}set(t,n,i,u,h){this.h0=0|t,this.h1=0|n,this.h2=0|i,this.h3=0|u,this.h4=0|h}process(t,n){for(let je=0;je<16;je++,n+=4)FC[je]=t.getUint32(n,!0);let i=0|this.h0,u=i,h=0|this.h1,l=h,f=0|this.h2,X=f,W=0|this.h3,k=W,re=0|this.h4,Oe=re;for(let je=0;je<5;je++){const Ke=4-je,tt=MN[je],bt=SN[je],kt=BO[je],_t=NO[je],xt=EN[je],Nt=xN[je];for(let Xt=0;Xt<16;Xt++){const qt=KC(i+T4(je,h,f,W)+FC[kt[Xt]]+tt,xt[Xt])+re|0;i=re,re=W,W=0|KC(f,10),f=h,h=qt}for(let Xt=0;Xt<16;Xt++){const qt=KC(u+T4(Ke,l,X,k)+FC[_t[Xt]]+bt,Nt[Xt])+Oe|0;u=Oe,Oe=k,k=0|KC(X,10),X=l,l=qt}}this.set(this.h1+f+k|0,this.h2+W+Oe|0,this.h3+re+u|0,this.h4+i+l|0,this.h0+h+X|0)}roundClean(){FC.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const AN=(0,Od.ld)(()=>new TN);var UO=_(25431),r0=_(37099);const DN=(0,Od.AI)("ed25519 seed"),LO=2147483648,A4=new Uint8Array([0]);function D4(r,...t){return"string"==typeof r&&(r=(0,Od.aT)(r)),(0,r0.ee)(r,...t),r}const KO=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,Od.O8)(t).setUint32(0,r,!1),t};class jC{get publicKeyRaw(){return ps.ev.getPublicKey(this.privateKey)}get publicKey(){return(0,Od.Id)(A4,this.publicKeyRaw)}get pubHash(){return AN((0,qd.s)(this.publicKey))}get fingerprint(){return(0,Od.O8)(this.pubHash).getUint32(0,!1)}get fingerprintHex(){return(0,Od.My)(KO(this.fingerprint))}get parentFingerprintHex(){return(0,Od.My)(KO(this.parentFingerprint))}static fromMasterSeed(t){if(8*(t=D4(t)).length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,RO.w)(UO.Zf,DN,t);return new jC({privateKey:n.slice(0,32),chainCode:n.slice(32)})}constructor(t){if(this.depth=0,this.index=0,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if((0,r0.ee)(t.privateKey,32),(0,r0.ee)(t.chainCode,32),this.depth=t.depth||0,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=t.chainCode,this.privateKey=t.privateKey}derive(t,n=!1){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const i=t.replace(/^[mM]'?\//,"").split("/");let u=this;for(const h of i){const l=/^(\d+)('?)$/.exec(h);if(!l||3!==l.length)throw new Error(`Invalid child index: ${h}`);let f=+l[1];if(!Number.isSafeInteger(f)||f>=LO)throw new Error("Invalid index");(n||"'"===l[2])&&(f+=LO),u=u.deriveChild(f)}return u}deriveChild(t){if(t<LO)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const n=(0,Od.Id)(A4,this.privateKey,KO(t)),i=(0,RO.w)(UO.Zf,this.chainCode,n);return new jC({chainCode:i.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:i.slice(0,32)})}sign(t){return ps.ev.sign(t,this.privateKey)}verify(t,n){return n=D4(n,64),ps.ev.verify(n,t,this.publicKeyRaw)}}const I4="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function FO(){return(FO=(0,Xe.A)(function*(r,t,n,i){const{c:u,dkLen:h,asyncTick:l,DK:f,PRF:X,PRFSalt:W}=function C4(r,t,n,i){(0,r0.tW)(r);const u=(0,Od.tY)({dkLen:32,asyncTick:10},i),{c:h,dkLen:l,asyncTick:f}=u;if((0,r0.ai)(h),(0,r0.ai)(l),(0,r0.ai)(f),h<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const X=(0,Od.ZJ)(t),W=(0,Od.ZJ)(n),k=new Uint8Array(l),re=RO.w.create(r,X),Oe=re._cloneInto().update(W);return{c:h,dkLen:l,asyncTick:f,DK:k,PRF:re,PRFSalt:Oe}}(r,t,n,i);let k;const re=new Uint8Array(4),Oe=(0,Od.O8)(re),je=new Uint8Array(X.outputLen);for(let Ke=1,tt=0;tt<h;Ke++,tt+=X.outputLen){const bt=f.subarray(tt,tt+X.outputLen);Oe.setInt32(0,Ke,!1),(k=W._cloneInto(k)).update(re).digestInto(je),bt.set(je.subarray(0,bt.length)),yield(0,Od.$h)(u-1,l,()=>{X._cloneInto(k).update(je).digestInto(je);for(let kt=0;kt<bt.length;kt++)bt[kt]^=je[kt]})}return function k4(r,t,n,i,u){return r.destroy(),t.destroy(),i&&i.destroy(),u.fill(0),n}(X,W,f,k,je)})).apply(this,arguments)}var $C=_(53813);function P4(r){if("string"!=typeof r)throw new TypeError("Invalid mnemonic type: "+typeof r);return r.normalize("NFKD")}function jO(r){const t=P4(r),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function O4(r){(0,r0.ee)(r,16,20,24,28,32)}const RN=r=>{const t=8-r.length/4;return new Uint8Array([(0,qd.s)(r)[0]>>t<<t])};function R4(r){if(!Array.isArray(r)||2048!==r.length||"string"!=typeof r[0])throw new Error("Wordlist: expected array of 2048 strings");return r.forEach(t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)}),$C.Wp.chain($C.Wp.checksum(1,RN),$C.Wp.radix2(11,!0),$C.Wp.alphabet(r))}function LN(r,t=""){return function kN(r,t,n,i){return FO.apply(this,arguments)}(UO.Zf,jO(r).nfkd,(r=>P4(`mnemonic${r}`))(t),{c:2048,dkLen:64})}var o0=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class KN extends kO{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/private-jwk"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return o0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return o0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return o0(this,void 0,void 0,function*(){yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return o0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return o0(this,void 0,void 0,function*(){this._index.clear();const{reply:u}=yield t.dwn.processRequest({author:n,target:n,messageType:va.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let h=[];for(const l of null!==(i=u.entries)&&void 0!==i?i:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const f=nr.U$.base64Url(l.encodedData).toObject();_O(f)&&(this._index.set(`${n}${Yu}${SC}${f.kid}`,l.recordId),this._cache.set(l.recordId,f),h.push(f))}return h})}}class FN extends PO{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return o0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return o0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return o0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return o0(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var Vf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})},N4=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(i=Object.getOwnPropertySymbols(r);u<i.length;u++)t.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(n[i[u]]=r[i[u]])}return n};const $O={"AES-GCM":{implementation:class RB extends Kp{decrypt(t){return MO(this,void 0,void 0,function*(){return zy.decrypt(t)})}encrypt(t){return MO(this,void 0,void 0,function*(){return zy.encrypt(t)})}generateKey({algorithm:t}){return MO(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield zy.generateKey({length:n});return i.alg=t,i})}},names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:c4,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:t4,names:["Ed25519"]},secp256k1:{implementation:DC,names:["ES256K","secp256k1"]},secp256r1:{implementation:DC,names:["ES256","secp256r1"]},"SHA-256":{implementation:wO,names:["SHA-256"]}};class rb{constructor({agent:t,keyStore:n}={}){this._algorithmInstances=new Map,this._agent=t,this._keyStore=n??new FN}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}decrypt(t){var{keyUri:n}=t,i=N4(t,["keyUri"]);return Vf(this,void 0,void 0,function*(){const u=yield this.getPrivateKey({keyUri:n}),h=this.getAlgorithmName({key:u});return yield this.getAlgorithm({algorithm:h}).decrypt(Object.assign({key:u},i))})}digest(t){throw new Error("Method not implemented.")}encrypt(t){var{keyUri:n}=t,i=N4(t,["keyUri"]);return Vf(this,void 0,void 0,function*(){const u=yield this.getPrivateKey({keyUri:n}),h=this.getAlgorithmName({key:u});return yield this.getAlgorithm({algorithm:h}).encrypt(Object.assign({key:u},i))})}exportKey({keyUri:t}){return Vf(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){var n;return Vf(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:{alg:t}}),h=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t});null!==(n=h.kid)&&void 0!==n||(h.kid=yield rs({jwk:h}));const l=yield this.getKeyUri({key:h});return yield this._keyStore.set({id:l,data:h,agent:this.agent,preventDuplicates:!1,useCache:!0}),l})}getKeyUri({key:t}){return Vf(this,void 0,void 0,function*(){const n=yield rs({jwk:t});return`${SC}${n}`})}getPublicKey({keyUri:t}){return Vf(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return Vf(this,void 0,void 0,function*(){if(!_O(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield rs({jwk:i}));const u=yield this.getKeyUri({key:i});return yield this._keyStore.set({id:u,data:i,agent:this.agent,preventDuplicates:!0,useCache:!0}),u})}sign({keyUri:t,data:n}){return Vf(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),u=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:u}).sign({data:n,key:i})})}unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKeyUri:i}){return Vf(this,void 0,void 0,function*(){const u=yield this.getPrivateKey({keyUri:i}),h=this.getAlgorithmName({key:u});return yield this.getAlgorithm({algorithm:h}).unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:u})})}verify({key:t,signature:n,data:i}){return Vf(this,void 0,void 0,function*(){const u=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:u}).verify({key:t,signature:n,data:i})})}wrapKey({unwrappedKey:t,encryptionKeyUri:n}){return Vf(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:n}),u=this.getAlgorithmName({key:i});return yield this.getAlgorithm({algorithm:u}).wrapKey({unwrappedKey:t,encryptionKey:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=$O[t])||void 0===n?void 0:n.implementation;if(!i)throw new zi(Hi.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const u of Object.keys($O)){const h=$O[u].names;if(n&&h.includes(n))return u;if(i&&h.includes(i))return u}throw new zi(Hi.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${n}, crv=${i}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:t}){return Vf(this,void 0,void 0,function*(){const n=yield this._keyStore.get({id:t,agent:this.agent,useCache:!0});if(!n)throw new Error(`Key not found: ${t}`);return n})}}var U4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function VO(r){return"object"==typeof r&&null!==r&&"alg"in r&&void 0!==r.alg&&"enc"in r&&void 0!==r.enc}class L4{static decrypt({key:t,encryptedKey:n,joseHeader:i,crypto:u}){return U4(this,void 0,void 0,function*(){switch(i.alg){case"dir":if(void 0!==n)throw new zi(Hi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new zi(Hi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return t;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof i.p2c)throw new zi(Hi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof i.p2s)throw new zi(Hi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new zi(Hi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===n)throw new zi(Hi.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let h;try{h=new Uint8Array([...nr.U$.string(i.alg).toUint8Array(),0,...nr.U$.base64Url(i.p2s).toUint8Array()])}catch{throw new zi(Hi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const l=yield u.deriveKey({algorithm:i.alg,baseKeyBytes:t,iterations:i.p2c,salt:h});if(!l.alg||!["A128KW","A192KW","A256KW"].includes(l.alg))throw new zi(Hi.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${l.alg}`);return yield u.unwrapKey({decryptionKey:l,wrappedKeyBytes:n,wrappedKeyAlgorithm:i.enc})}default:throw new zi(Hi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${i.alg}`)}})}static encrypt({key:t,joseHeader:n,crypto:i}){return U4(this,void 0,void 0,function*(){let u,h;switch(n.alg){case"dir":if(void 0!==h)throw new zi(Hi.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new zi(Hi.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');u=t;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof n.p2c)throw new zi(Hi.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof n.p2s)throw new zi(Hi.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new zi(Hi.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let l;u=yield i.generateKey({algorithm:n.enc});try{l=new Uint8Array([...nr.U$.string(n.alg).toUint8Array(),0,...nr.U$.base64Url(n.p2s).toUint8Array()])}catch{throw new zi(Hi.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const f=yield i.deriveKey({algorithm:n.alg,baseKeyBytes:t,iterations:n.p2c,salt:l});h=yield i.wrapKey({encryptionKey:f,unwrappedKey:u});break}default:throw new zi(Hi.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${n.alg}`)}return{cek:u,encryptedKey:h}})}}function VC(r){return null!==r&&"object"==typeof r&&"encrypt"in r&&"function"==typeof r.encrypt&&"decrypt"in r&&"function"==typeof r.decrypt}function K4(...r){const t=new Set,n=r.filter(Boolean);for(const i of n)for(const u in i){if(t.has(u))return!0;t.add(u)}return!1}var F4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function zO(r,t){if(void 0!==t)try{if("string"!=typeof t)throw new Error;return nr.U$.base64Url(t).toUint8Array()}catch{throw new zi(Hi.InvalidJwe,`Failed to decode the JWE Header parameter '${r}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class zC{constructor(t){this.ciphertext="",Object.assign(this,t)}static decrypt({jwe:t,key:n,keyManager:i=new $p,crypto:u=new _1,options:h={}}){var l,f;return F4(this,void 0,void 0,function*(){if(!VC(u))throw new zi(Hi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!VC(i))throw new zi(Hi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!t.protected&&!t.header&&!t.unprotected)throw new zi(Hi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof t.ciphertext)throw new zi(Hi.InvalidJwe,"JWE Ciphertext is missing or not a string.");let X;if(t.protected)try{X=nr.U$.base64Url(t.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(K4(X,t.header,t.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const W=Object.assign(Object.assign(Object.assign({},X),t.header),t.unprotected);if(!VO(W))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(h.allowedAlgValues)&&!h.allowedAlgValues.includes(W.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${W.alg}`);if(Array.isArray(h.allowedEncValues)&&!h.allowedEncValues.includes(W.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${W.enc}`);let k;try{const bt=t.encrypted_key?nr.U$.base64Url(t.encrypted_key).toUint8Array():void 0;k=yield L4.decrypt({key:n,encryptedKey:bt,joseHeader:W,keyManager:i,crypto:u})}catch(bt){if(bt instanceof zi&&(bt.code===Hi.InvalidJwe||bt.code===Hi.AlgorithmNotSupported))throw bt;k="string"==typeof n?yield i.generateKey({algorithm:W.enc}):yield u.generateKey({algorithm:W.enc})}const re=zO("iv",t.iv),Oe=zO("tag",t.tag),je=void 0!==Oe?new Uint8Array([...nr.U$.base64Url(t.ciphertext).toUint8Array(),...Oe??[]]):nr.U$.base64Url(t.ciphertext).toUint8Array(),Ke=void 0!==t.aad?new Uint8Array([...nr.U$.string(null!==(l=t.protected)&&void 0!==l?l:"").toUint8Array(),...nr.U$.string(".").toUint8Array(),...nr.U$.string(t.aad).toUint8Array()]):nr.U$.string(null!==(f=t.protected)&&void 0!==f?f:"").toUint8Array();return{plaintext:"string"==typeof k?yield i.decrypt({keyUri:k,data:je,iv:re,additionalData:Ke}):yield u.decrypt({key:k,data:je,iv:re,additionalData:Ke}),protectedHeader:X,additionalAuthenticatedData:zO("aad",t.aad),sharedUnprotectedHeader:t.unprotected,unprotectedHeader:t.header}})}static encrypt({key:t,plaintext:n,additionalAuthenticatedData:i,protectedHeader:u,sharedUnprotectedHeader:h,unprotectedHeader:l,keyManager:f=new $p,crypto:X=new _1}){return F4(this,void 0,void 0,function*(){if(!VC(X))throw new zi(Hi.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!VC(f))throw new zi(Hi.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!u&&!h&&!l)throw new zi(Hi.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(n instanceof Uint8Array))throw new zi(Hi.InvalidJwe,"Plaintext is missing or not a byte array.");if(K4(u,h,l))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const W=Object.assign(Object.assign(Object.assign({},u),h),l);if(!VO(W))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:k,encryptedKey:re}=yield L4.encrypt({key:t,joseHeader:W,keyManager:f,crypto:X});let Oe;switch(W.enc){case"A128GCM":case"A192GCM":case"A256GCM":Oe=function kB(r){return(0,Od.po)(r)}(12);break;default:Oe=new Uint8Array(0)}const je=u?nr.U$.object(u).toBase64Url():"";let Ke,tt;i?(tt=nr.U$.uint8Array(i).toBase64Url(),Ke=nr.U$.string(je+"."+tt).toUint8Array()):Ke=nr.U$.string(je).toUint8Array();const bt="string"==typeof k?yield f.encrypt({keyUri:k,data:n,iv:Oe,additionalData:Ke}):yield X.encrypt({key:k,data:n,iv:Oe,additionalData:Ke}),kt=bt.slice(0,-16),_t=bt.slice(-16),xt=new zC({ciphertext:nr.U$.uint8Array(kt).toBase64Url()});return re&&(xt.encrypted_key=nr.U$.uint8Array(re).toBase64Url()),u&&(xt.protected=je),h&&(xt.unprotected=h),l&&(xt.header=l),Oe&&(xt.iv=nr.U$.uint8Array(Oe).toBase64Url()),tt&&(xt.aad=tt),_t&&(xt.tag=nr.U$.uint8Array(_t).toBase64Url()),xt})}}var j4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class S1{static decrypt({jwe:t,key:n,keyManager:i=new $p,crypto:u=new _1,options:h={}}){return j4(this,void 0,void 0,function*(){if("string"!=typeof t)throw new zi(Hi.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:l,1:f,2:X,3:W,4:k,length:re}=t.split(".");if(5!==re)throw new zi(Hi.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const Oe=yield zC.decrypt({jwe:{ciphertext:W,encrypted_key:f||void 0,iv:X||void 0,protected:l,tag:k||void 0},key:n,keyManager:i,crypto:u,options:h});if(!VO(Oe.protectedHeader))throw new zi(Hi.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:Oe.plaintext,protectedHeader:Oe.protectedHeader}})}static encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:u=new $p,crypto:h=new _1,options:l={}}){return j4(this,void 0,void 0,function*(){const f=yield zC.encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:u,crypto:h,options:l});return[f.protected,f.encrypted_key,f.iv,f.ciphertext,f.tag].join(".")})}}var zf=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};function $4(r){return"string"!=typeof r||0===r.trim().length}class VN{constructor({keyDerivationWorkFactor:t,store:n}={}){this.crypto=new _1,this._keyDerivationWorkFactor=t??21e4,this._store=n??new nr.ny}backup(){return zf(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const t={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},n=nr.U$.object(t).toBase64Url(),i={data:n,dateCreated:(new Date).toISOString(),size:n.length};return yield this.setStatus({lastBackup:i.dateCreated}),i})}changePassword({oldPassword:t,newPassword:n}){return zf(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const i=yield this.getStoredContentEncryptionKey();let u,h;try{let f;({plaintext:f,protectedHeader:u}=yield S1.decrypt({jwe:i,key:nr.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new rb})),h=nr.U$.uint8Array(f).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const l=yield S1.encrypt({key:nr.U$.string(n).toUint8Array(),protectedHeader:u,plaintext:nr.U$.object(h).toUint8Array(),crypto:this.crypto,keyManager:new rb});yield this._store.set("contentEncryptionKey",l),this._contentEncryptionKey=h})}getDid(){return zf(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const t=yield this.getStoredDid(),{plaintext:n}=yield S1.decrypt({jwe:t,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new rb}),i=nr.U$.uint8Array(n).toObject();if(!b4(i))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield e0.import({portableDid:i})})}getStatus(){return zf(this,void 0,void 0,function*(){const t=yield this._store.get("vaultStatus");if(!t)return{initialized:!1,lastBackup:null,lastRestore:null};const n=nr.U$.string(t).toObject();if(!function $N(r){return"object"==typeof r&&null!==r&&"initialized"in r&&"boolean"==typeof r.initialized&&"lastBackup"in r&&"lastRestore"in r}(n))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return n})}initialize({password:t,recoveryPhrase:n}){return zf(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if($4(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n&&$4(n))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n??(n=function ON(r,t=128){if((0,r0.ai)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function NN(r,t){return O4(r),R4(t).encode(r).join((r=>"\u3042\u3044\u3053\u304f\u3057\u3093"===r[0])(t)?"\u3000":" ")}((0,Od.po)(t/8),r)}(I4,128)),!function UN(r,t){try{!function BN(r,t){const{words:n}=jO(r);O4(R4(t).decode(n))}(r,t)}catch{return!1}return!0}(n,I4))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const i=yield LN(n),u=jC.fromMasterSeed(i),h=u.derive("m/44'/0'/0'/0'/0'"),l=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:h.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),f=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:h.publicKey,salt:"",info:"vault_unlock_salt",length:256}),X={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:nr.U$.uint8Array(f).toBase64Url()},W=yield S1.encrypt({key:nr.U$.string(t).toUint8Array(),protectedHeader:X,plaintext:nr.U$.object(l).toUint8Array(),crypto:this.crypto,keyManager:new rb});yield this._store.set("contentEncryptionKey",W);const k=u.derive("m/44'/0'/1708523827'/0'/0'"),re=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:k.privateKey});let Oe=u.derive("m/44'/0'/1708523827'/0'/1'");const je=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:Oe.privateKey}),Ke=new cN;yield Ke.addPredefinedKeys({privateKeys:[re,je]});const bt=yield(yield BC.create({keyManager:Ke,options:{verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]}})).export(),_t=yield S1.encrypt({key:l,plaintext:nr.U$.object(bt).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new rb});return yield this._store.set("did",_t),this._contentEncryptionKey=l,yield this.setStatus({initialized:!0}),n})}isInitialized(){return zf(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:t})=>t)})}isLocked(){return!this._contentEncryptionKey}lock(){return zf(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:t,password:n}){return zf(this,void 0,void 0,function*(){if(!function jN(r){return"object"==typeof r&&null!==r&&"dateCreated"in r&&"string"==typeof r.dateCreated&&"size"in r&&"number"==typeof r.size&&"data"in r&&"string"==typeof r.data}(t))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let i,u,h;try{h=yield this.getStoredDid(),u=yield this.getStoredContentEncryptionKey(),i=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const l=nr.U$.base64Url(t.data).toObject();yield this._store.set("did",l.did),yield this._store.set("contentEncryptionKey",l.contentEncryptionKey),yield this.setStatus(l.status),yield this.unlock({password:n})}catch{throw yield this.setStatus(i),yield this._store.set("contentEncryptionKey",u),yield this._store.set("did",h),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:t}){return zf(this,void 0,void 0,function*(){yield this.lock();const n=yield this.getStoredContentEncryptionKey();try{const{plaintext:i}=yield S1.decrypt({jwe:n,key:nr.U$.string(t).toUint8Array(),crypto:this.crypto,keyManager:new rb}),u=nr.U$.uint8Array(i).toObject();this._contentEncryptionKey=u}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return zf(this,void 0,void 0,function*(){const t=yield this._store.get("did");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}getStoredContentEncryptionKey(){return zf(this,void 0,void 0,function*(){const t=yield this._store.get("contentEncryptionKey");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}setStatus({initialized:t,lastBackup:n,lastRestore:i}){return zf(this,void 0,void 0,function*(){let u=yield this.getStatus();return u.initialized=t??u.initialized,u.lastBackup=n??u.lastBackup,u.lastRestore=i??u.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(u)),!0})}}var s0=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class HN extends kO{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProperties={dataFormat:"application/json",schema:"https://identity.foundation/schemas/web5/identity-metadata"}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return s0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return s0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return s0(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return s0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return s0(this,void 0,void 0,function*(){this._index.clear();const{reply:u}=yield t.dwn.processRequest({author:n,target:n,messageType:va.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let h=[];for(const l of null!==(i=u.entries)&&void 0!==i?i:[]){if(!l.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const f=nr.U$.base64Url(l.encodedData).toObject();(r=f)&&"object"==typeof r&&null!==r&&"name"in r&&(this._index.set(`${n}${Yu}${f.uri}`,l.recordId),this._cache.set(l.recordId,f),h.push(f))}var r;return h})}}class WN extends PO{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return s0(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return s0(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return s0(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return s0(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var T1=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class GN{constructor({agent:t,store:n}={}){this._agent=t,this._store=n??new WN}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({metadata:t,didMethod:n="dht",didOptions:i,store:u,tenant:h}){return T1(this,void 0,void 0,function*(){const l=yield this.agent.did.create({method:n,options:i,store:u,tenant:h}),f=new MC({did:l,metadata:Object.assign(Object.assign({},t),{uri:l.uri,tenant:h??l.uri})});return(u??!0)&&(yield this._store.set({id:f.did.uri,data:f.metadata,agent:this.agent,tenant:f.metadata.tenant,preventDuplicates:!1,useCache:!0})),f})}export({didUri:t,tenant:n}){return T1(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return T1(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});if(!i)return;const u=yield this.agent.did.get({didUri:t,tenant:i.tenant});if(!u)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${t}`);return new MC({did:u,metadata:i})})}import({portableIdentity:t}){return T1(this,void 0,void 0,function*(){const n=yield this.agent.did.import({portableDid:t.portableDid,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to import Identity: ${t.metadata.uri}`);const i=new MC({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,tenant:i.metadata.tenant,preventDuplicates:!0,useCache:!0}),i})}list({tenant:t}={}){return T1(this,void 0,void 0,function*(){const n=yield this._store.list({agent:this.agent,tenant:t}),i=[];for(const u of n){const h=yield this.get({didUri:u.uri,tenant:u.tenant});i.push(h)}return i})}manage({portableIdentity:t}){return T1(this,void 0,void 0,function*(){const n=yield this.agent.did.get({didUri:t.metadata.uri,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to manage Identity: ${t.metadata.uri}`);const i=new MC({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,preventDuplicates:!0,useCache:!0}),i})}}const HO=(r,t,n)=>({jsonrpc:"2.0",id:r,method:t,params:n}),V4=(r,t,n,i)=>({jsonrpc:"2.0",id:r,method:`rpc.subscribe.${t}`,params:i,subscription:{id:n}});function HC(r){try{return JSON.parse(r)}catch{return null}}var ZM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class XN{constructor({ttl:t="15m"}={}){this.cache=new nr.LC({ttl:E1(t)})}get(t){return ZM(this,void 0,void 0,function*(){return this.cache.get(t)})}set(t,n){return ZM(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return ZM(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return ZM(this,void 0,void 0,function*(){this.cache.clear()})}close(){return ZM(this,void 0,void 0,function*(){})}}var z4=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class YN{constructor(t){this.serverInfoCache=t??new XN}get transportProtocols(){return["http:","https:"]}sendDwnRequest(t){return z4(this,void 0,void 0,function*(){const n=qv(),i=HO(n,"dwn.processMessage",{target:t.targetDid,message:t.message}),u={method:"POST",headers:{"dwn-request":JSON.stringify(i)}};t.data&&(u.headers["content-type"]="application/octet-stream",u.body=t.data);const h=yield fetch(t.dwnUrl,u);let l,f;const{headers:X}=h;if(X.has("dwn-response")){const k=HC(X.get("dwn-response"));if(null==k)throw new Error(`failed to parse json rpc response. dwn url: ${t.dwnUrl}`);f=h.body,l=k}else{const k=yield h.text();l=JSON.parse(k)}if(l.error){const{code:k,message:re}=l.error;throw new Error(`(${k}) - ${re}`)}const{reply:W}=l.result;return f&&(W.record.data=f),W})}getServerInfo(t){return z4(this,void 0,void 0,function*(){const n=yield this.serverInfoCache.get(t);if(n)return n;const i=new URL(t);i.pathname.endsWith("/")?i.pathname+="info":i.pathname+="/info";try{const u=yield fetch(i.toString());if(u.ok){const h=yield u.json(),l={registrationRequirements:h.registrationRequirements,maxFileSize:h.maxFileSize,webSocketSupport:h.webSocketSupport};return this.serverInfoCache.set(t,l),l}throw new Error(`HTTP (${u.status}) - ${u.statusText}`)}catch(u){throw new Error(`Error encountered while processing response from ${i.toString()}: ${u.message}`)}})}}var A1=null;typeof WebSocket<"u"?A1=WebSocket:typeof MozWebSocket<"u"?A1=MozWebSocket:typeof globalThis<"u"?A1=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?A1=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(A1=self.WebSocket||self.MozWebSocket);const ZN=A1;var WC=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const qN=3e3,QN=3e4;class WO{constructor(t,n){this.socket=t,this.responseTimeout=n,this.messageHandlers=new Map}static connect(t,n={}){return WC(this,void 0,void 0,function*(){const{connectTimeout:i=qN,responseTimeout:u=QN,onclose:h,onerror:l}=n,f=new ZN(t);return f.onclose=h||(()=>{console.info(`JSON RPC Socket close ${t}`)}),f.onerror=l||(X=>{console.error(`JSON RPC Socket error ${t}`,X)}),new Promise((X,W)=>{f.addEventListener("open",()=>{const k=new WO(f,u);f.addEventListener("message",re=>{const Oe=HC(re.data),je=k.messageHandlers.get(Oe.id);je&&je(re)}),X(k)}),f.addEventListener("error",k=>{W(k)}),setTimeout(()=>W,i)})})}close(){this.socket.close()}request(t){return WC(this,void 0,void 0,function*(){return new Promise((n,i)=>{var u;null!==(u=t.id)&&void 0!==u||(t.id=qv()),this.messageHandlers.set(t.id,l=>{const f=HC(l.data);if(f.id===t.id)return this.messageHandlers.delete(t.id),n(f)}),this.send(t),setTimeout(()=>{this.messageHandlers.delete(t.id),i(new Error("request timed out"))},this.responseTimeout)})})}subscribe(t,n){return WC(this,void 0,void 0,function*(){if(!t.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!t.subscription)throw new Error("subscribe rpc requests must include subscribe options");const i=t.subscription.id;this.messageHandlers.set(i,f=>{const X=HC(f.data.toString());X.id===i&&(void 0!==X.error&&(this.messageHandlers.delete(i),this.closeSubscription(i)),n(X))});const h=yield this.request(t);return h.error?(this.messageHandlers.delete(i),{response:h}):{response:h,close:()=>WC(this,void 0,void 0,function*(){this.messageHandlers.delete(i),yield this.closeSubscription(i)})}})}closeSubscription(t){const n=qv(),i=V4(n,"close",t,{});return this.request(i)}send(t){this.socket.send(JSON.stringify(t))}}var GO=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class Xy{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(t,n){return GO(this,void 0,void 0,function*(){const i=new URL(t.dwnUrl);if("ws:"!==i.protocol&&"wss:"!==i.protocol)throw new Error(`Invalid websocket protocol ${i.protocol}`);if(!Xy.connections.has(i.host))try{const W=yield WO.connect(i.toString(),n);Xy.connections.set(i.host,{socket:W,subscriptions:new Map})}catch(W){throw new Error(`Error connecting to ${i.host}: ${W.message}`)}const h=Xy.connections.get(i.host),{targetDid:l,message:f,subscriptionHandler:X}=t;return X?Xy.subscriptionRequest(h,l,f,X):Xy.processMessage(h,l,f)})}static processMessage(t,n,i){return GO(this,void 0,void 0,function*(){const u=qv(),h=HO(u,"dwn.processMessage",{target:n,message:i}),{socket:l}=t,f=yield l.request(h),{error:X,result:W}=f;if(void 0!==X)throw new Error(`error sending DWN request: ${X.message}`);return W.reply})}static subscriptionRequest(t,n,i,u){return GO(this,void 0,void 0,function*(){const h=qv(),l=qv(),f=V4(h,"dwn.processMessage",l,{target:n,message:i}),{socket:X,subscriptions:W}=t,{response:k,close:re}=yield X.subscribe(f,tt=>{const{result:bt,error:kt}=tt;if(kt){const xt=W.get(l);return xt&&xt.close(),void W.delete(l)}const{event:_t}=bt;u(_t)}),{error:Oe,result:je}=k;if(Oe)throw new Error(`could not subscribe via jsonrpc socket: ${Oe.message}`);const{reply:Ke}=je;return Ke.subscription&&re&&(W.set(l,Object.assign(Object.assign({},Ke.subscription),{close:re})),Ke.subscription.close=re),Ke})}}Xy.connections=new Map;var qM=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};class t9{constructor(t=[]){this.transportClients=new Map,t=[new n9,new r9,...t];for(let n of t)for(let i of n.transportProtocols)this.transportClients.set(i,n)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(t){return qM(this,void 0,void 0,function*(){const n=new URL(t.url),i=this.transportClients.get(n.protocol);if(!i){const u=new Error(`no ${n.protocol} transport client available`);throw u.name="NO_TRANSPORT_CLIENT",u}return i.sendDidRequest(t)})}sendDwnRequest(t){const n=new URL(t.dwnUrl),i=this.transportClients.get(n.protocol);if(!i){const u=new Error(`no ${n.protocol} transport client available`);throw u.name="NO_TRANSPORT_CLIENT",u}return i.sendDwnRequest(t)}getServerInfo(t){return qM(this,void 0,void 0,function*(){const n=new URL(t),i=this.transportClients.get(n.protocol);if(!i){const u=new Error(`no ${n.protocol} transport client available`);throw u.name="NO_TRANSPORT_CLIENT",u}return i.getServerInfo(t)})}}class n9 extends YN{sendDidRequest(t){return qM(this,void 0,void 0,function*(){const n=qv(),i=HO(n,t.method,{data:t.data}),u=new Request(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let h;try{const l=yield fetch(u);if(!l.ok)throw new Error(`HTTP (${l.status}) - ${l.statusText}`);if(h=yield l.json(),h.error){const{code:f,message:X}=h.error;throw new Error(`JSON RPC (${f}) - ${X}`)}}catch(l){throw new Error(`Error encountered while processing response from ${t.url}: ${l.message}`)}return h.result})}}class r9 extends Xy{sendDidRequest(t){return qM(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(t){return qM(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}class o9{constructor({agent:t,syncEngine:n}){this._syncEngine=n,this._agent=t}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t,this._syncEngine.agent=t}registerIdentity(t){return function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(t)})}startSync(t){return this._syncEngine.startSync(t)}stopSync(){this._syncEngine.stopSync()}}var _u=function(r,t,n,i){return new(n||(n=Promise))(function(h,l){function f(k){try{W(i.next(k))}catch(re){l(re)}}function X(k){try{W(i.throw(k))}catch(re){l(re)}}function W(k){k.done?h(k.value):function u(h){return h instanceof n?h:new n(function(l){l(h)})}(k.value).then(f,X)}W((i=i.apply(r,t||[])).next())})};const H4=r=>r>=200&&r<=299;class a9{constructor({agent:t,dataPath:n,db:i}){this._agent=t,this._db=i||new KP.Level(n??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=ZR()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}clear(){return _u(this,void 0,void 0,function*(){yield this._db.clear()})}close(){return _u(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var t;return _u(this,void 0,void 0,function*(){const n=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:n});const i=this.getPullQueue(),u=yield i.iterator().all(),h=[],l=new Set;for(let f of u){const[X]=f,[W,k,re,Oe]=X.split("~");if(l.has(k))continue;if(yield this.messageExists(W,Oe)){h.push({type:"del",key:X});continue}const Ke=yield this.agent.dwn.createMessage({author:W,messageType:va.MessagesGet,messageParams:{messageCids:[Oe]}});let tt;try{tt=yield this.agent.rpc.sendDwnRequest({dwnUrl:k,targetDid:W,message:Ke})}catch{l.add(k);continue}for(let bt of null!==(t=tt.entries)&&void 0!==t?t:[]){if(bt.error||!bt.message){yield this.addMessage(W,Oe),h.push({type:"del",key:X});continue}let kt;if(LC(bt)){const{encodedData:xt}=bt,Nt=bt.message;if(xt){const Xt=nr.U$.base64Url(xt).toUint8Array();kt=Tp.fromBytes(Xt)}else{const Xt=yield this.agent.dwn.createMessage({author:W,messageType:va.RecordsRead,messageParams:{filter:{recordId:Nt.recordId}}}),qt=yield this.agent.rpc.sendDwnRequest({dwnUrl:k,targetDid:W,message:Xt.message}),{record:un,status:Ht}=qt;if(H4(Ht.code)&&un)kt=nr.VS.fromWebReadable({readableStream:un.data});else if(Ht.code>=400){const Sn=yield this.agent.dwn.processMessage({targetDid:W,message:Nt});if(202===Sn.status.code||409===Sn.status.code){yield this.addMessage(W,Oe),h.push({type:"del",key:X});continue}throw new Error(`SyncManager: Failed to sync tombstone for message '${Oe}'`)}}}const _t=yield this.agent.dwn.processMessage({targetDid:W,message:bt.message,dataStream:kt});(202===_t.status.code||409===_t.status.code)&&(yield this.addMessage(W,Oe),h.push({type:"del",key:X}))}}yield i.batch(h)})}push(){return _u(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:t});const n=this.getPushQueue(),i=yield n.iterator().all(),u=[],h=new Set;for(let l of i){const[f]=l,[X,W,k,re]=f.split("~");if(h.has(W))continue;const Oe=yield this.getDwnMessage({author:X,messageCid:re});if(Oe)try{const je=yield this.agent.rpc.sendDwnRequest({dwnUrl:W,targetDid:X,data:Oe.data,message:Oe.message});(202===je.status.code||409===je.status.code)&&(yield this.addMessage(X,re),u.push({type:"del",key:f}))}catch{h.add(W)}else u.push({type:"del",key:f}),yield this.addMessage(X,re)}yield n.batch(u)})}registerIdentity({did:t}){return _u(this,void 0,void 0,function*(){yield this._db.sublevel("registeredIdentities").put(t,"")})}startSync({interval:t}){const n=E1(t);return new Promise((i,u)=>{const h=()=>_u(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(l){this.stopSync(),u(l)}this._syncIntervalId=setInterval(h,n)});this._syncIntervalId=setInterval(h,n)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}enqueueOperations({syncDirection:t,syncPeerState:n}){return _u(this,void 0,void 0,function*(){for(let i of n){const u=yield this.getDwnEventLog({did:i.did,dwnUrl:i.dwnUrl,cursor:i.cursor,syncDirection:t}),h=[];for(let l of u){const f=this._ulidFactory(),X=[i.did,i.dwnUrl,f,l].join("~");h.push({type:"put",key:X,value:""})}h.length>0&&(yield("pull"===t?this.getPullQueue():this.getPushQueue()).batch(h))}})}getDwnEventLog({did:t,dwnUrl:n,syncDirection:i,cursor:u}){var h;return _u(this,void 0,void 0,function*(){let l={};if("pull"===i){const X=yield this.agent.dwn.createMessage({author:t,messageType:va.EventsGet,messageParams:{cursor:u}});try{l=yield this.agent.rpc.sendDwnRequest({dwnUrl:n,targetDid:t,message:X})}catch{}}else"push"===i&&(l=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:va.EventsGet,messageParams:{cursor:u}})).reply);const f=null!==(h=l.entries)&&void 0!==h?h:[];return l.cursor&&this.setCursor(t,n,i,l.cursor),f})}getDwnMessage({author:t,messageCid:n}){return _u(this,void 0,void 0,function*(){let{reply:i}=yield this.agent.dwn.processRequest({author:t,target:t,messageType:va.MessagesGet,messageParams:{messageCids:[n]}});if(!i.entries||1!==i.entries.length)return;const[u]=i.entries,h=u.message;if(!h)return;let l={message:h};if(LC(u))if(u.encodedData){const f=nr.U$.base64Url(u.encodedData).toUint8Array();l.data=new Blob([f])}else{const X=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:va.RecordsRead,messageParams:{filter:{recordId:u.message.recordId}}})).reply;if(H4(X.status.code)&&X.record)l.data=yield nr.VS.consumeToBlob({readable:X.record.data});else if(!((r=X.status.code)>=400&&r<=499)){const{status:{code:W,detail:k}}=X;throw new Error(`SyncEngineLevel: (${W}) Failed to read data associated with record ${u.message.recordId}. ${k}}`)}}var r;return l})}getSyncPeerState({syncDirection:t}){return _u(this,void 0,void 0,function*(){const n=yield this._db.sublevel("registeredIdentities").keys().all(),i=[];for(let u of n){const h=yield x4(u,this.agent.did);if(0!==h.length)for(let l of h){const f=yield this.getCursor(u,l,t);i.push({did:u,dwnUrl:l,cursor:f})}}return i})}getCursor(t,n,i){return _u(this,void 0,void 0,function*(){const u=`${t}~${n}~${i}`,h=this.getCursorStore();try{const l=yield h.get(u);if(l)return JSON.parse(l)}catch(l){if(l.notFound)return}})}setCursor(t,n,i,u){return _u(this,void 0,void 0,function*(){const h=`${t}~${n}~${i}`;yield this.getCursorStore().put(h,JSON.stringify(u))})}messageExists(t,n){return _u(this,void 0,void 0,function*(){const i=this.getMessageStore(t);try{return yield i.get(n),!0}catch(u){if(u.notFound)return!1;throw u}})}addMessage(t,n){return _u(this,void 0,void 0,function*(){return yield this.getMessageStore(t).put(n,"")})}getMessageStore(t){return this._db.sublevel("history").sublevel(t).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}},8332:(We,j,_)=>{"use strict";_.d(j,{uW:()=>In});var y=_(848),b=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class H{constructor(ie){this.agent=ie.agent,this.connectedDid=ie.connectedDid}create(ie){return b(this,void 0,void 0,function*(){const oe=yield this.agent.processDidRequest({messageType:y.B2.Create,messageParams:Object.assign({},ie)}),{result:ye}=oe,Je=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(ye=Object.getOwnPropertySymbols(Ie);Je<ye.length;Je++)ie.indexOf(ye[Je])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[Je])&&(oe[ye[Je]]=Ie[ye[Je]])}return oe}(oe,["result"]);return Object.assign({did:ye},Je)})}resolve(ie,oe){return b(this,void 0,void 0,function*(){const{result:ye}=yield this.agent.processDidRequest({messageParams:{didUri:ie,options:oe},messageType:y.B2.Resolve});return ye})}}var w=_(37475);function O(Ie,ie){let oe;const ye=(0,w.fc)(Ie);if("text/plain"===ie||"String"===ye)oe=new Blob([Ie],{type:"text/plain"});else if("application/json"===ie||"Object"===ye){const Je=w.U$.object(Ie).toUint8Array();oe=new Blob([Je],{type:"application/json"})}else if("Uint8Array"===ye||"ArrayBuffer"===ye)oe=new Blob([Ie],{type:"application/octet-stream"});else{if("Blob"!==ye)throw new Error("data type not supported.");oe=Ie}return{dataBlob:oe,dataFormat:ie=ie||oe.type||"application/octet-stream"}}class S{static check(ie,oe){let ye=S.cache.get(ie);return!!ye&&ye.has(oe)}static set(ie,oe){let ye=S.cache.get(ie)||new Set;if(S.cache.delete(ie),S.cache.set(ie,ye),this.cache.size>S.sendCacheLimit){const Je=S.cache.keys().next().value;S.cache.delete(Je)}if(ye.delete(oe),ye.add(oe),ye.size>S.sendCacheLimit){const Je=ye.keys().next().value;ye.delete(Je)}}}S.cache=new Map,S.sendCacheLimit=100;var B=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})},N=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(ye=Object.getOwnPropertySymbols(Ie);Je<ye.length;Je++)ie.indexOf(ye[Je])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[Je])&&(oe[ye[Je]]=Ie[ye[Je]])}return oe};let U=(()=>{class Ie{get attestation(){return this._attestation}get authorization(){return this._authorization}get author(){return this._author}get contextId(){return this._contextId}get dataFormat(){return this._descriptor.dataFormat}get dateCreated(){return this._descriptor.dateCreated}get encryption(){return this._encryption}get initialWrite(){return this._initialWrite}get id(){return this._recordId}get interface(){return this._descriptor.interface}get method(){return this._descriptor.method}get parentId(){return this._descriptor.parentId}get protocol(){return this._descriptor.protocol}get protocolPath(){return this._descriptor.protocolPath}get protocolRole(){return this._protocolRole}get recipient(){return this._descriptor.recipient}get schema(){return this._descriptor.schema}get dataCid(){return this._descriptor.dataCid}get dataSize(){return this._descriptor.dataSize}get dateModified(){return this._descriptor.messageTimestamp}get datePublished(){return this._descriptor.datePublished}get messageTimestamp(){return this._descriptor.messageTimestamp}get published(){return this._descriptor.published}get tags(){return this._descriptor.tags}get rawMessage(){const oe=JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption}));return(0,w.E8)(oe),oe}constructor(oe,ye){this._agent=oe,this._author=ye.author,this._connectedDid=ye.connectedDid,this._remoteOrigin=ye.remoteOrigin,this._attestation=ye.attestation,this._authorization=ye.authorization,this._contextId=ye.contextId,this._descriptor=ye.descriptor,this._encryption=ye.encryption,this._initialWrite=ye.initialWrite,this._recordId=ye.recordId,this._protocolRole=ye.protocolRole,ye.encodedData&&(this._encodedData="string"==typeof ye.encodedData?new Blob([w.U$.base64Url(ye.encodedData).toUint8Array()],{type:this.dataFormat}):ye.encodedData),ye.data&&(this._readableStream=w.Z6.isReadableStream(ye.data)?w.VS.fromWebReadable({readableStream:ye.data}):ye.data)}get data(){const oe=this;return{blob(){return B(this,void 0,void 0,function*(){return new Blob([yield w.VS.consumeToBytes({readable:yield this.stream()})],{type:oe.dataFormat})})},bytes(){return B(this,void 0,void 0,function*(){return yield w.VS.consumeToBytes({readable:yield this.stream()})})},json(){return B(this,void 0,void 0,function*(){return yield w.VS.consumeToJson({readable:yield this.stream()})})},text(){return B(this,void 0,void 0,function*(){return yield w.VS.consumeToText({readable:yield this.stream()})})},stream(){return B(this,void 0,void 0,function*(){if(oe._encodedData?oe._readableStream=w.VS.fromWebReadable({readableStream:oe._encodedData.stream()}):w.VS.isReadable({readable:oe._readableStream})||(oe._readableStream=oe._remoteOrigin?yield oe.readRecordData({target:oe._remoteOrigin,isRemote:!0}):yield oe.readRecordData({target:oe._connectedDid,isRemote:!1})),!oe._readableStream)throw new Error("Record data is not available.");return oe._readableStream})},then(Je,Ze){return this.stream().then(Je,Ze)},catch(Je){return this.stream().catch(Je)}}}store(oe=!1){return B(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:oe,store:!0})})}import(oe=!0){return B(this,void 0,void 0,function*(){return this.processRecord({store:oe,signAsOwner:!0})})}send(oe){return B(this,void 0,void 0,function*(){const ye=this._initialWrite;if(oe??(oe=this._connectedDid),ye&&!Ie._sendCache.check(this._recordId,oe)){const Ze=Object.assign({},ye);(0,w.E8)(Ze),yield this._agent.sendDwnRequest({messageType:y.nx.RecordsWrite,author:this._connectedDid,target:oe,rawMessage:Ze}),Ie._sendCache.set(this._recordId,oe)}const{reply:Je}=yield this._agent.sendDwnRequest({messageType:y.nx.RecordsWrite,author:this._connectedDid,dataStream:yield this.data.blob(),target:oe,rawMessage:Object.assign({},this.rawMessage)});return Je})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,interface:this.interface,method:this.method,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let oe="Record: {\n";return oe+=`  ID: ${this.id}\n`,oe+=this.contextId?`  Context ID: ${this.contextId}\n`:"",oe+=this.protocol?`  Protocol: ${this.protocol}\n`:"",oe+=this.schema?`  Schema: ${this.schema}\n`:"",oe+=`  Data CID: ${this.dataCid}\n`,oe+=`  Data Format: ${this.dataFormat}\n`,oe+=`  Data Size: ${this.dataSize}\n`,oe+=`  Created: ${this.dateCreated}\n`,oe+=`  Modified: ${this.dateModified}\n`,oe+="}",oe}paginationCursor(oe){return B(this,void 0,void 0,function*(){return(0,y.X7)(this.rawMessage,oe)})}update(oe){var{dateModified:ye,data:Je}=oe,Ze=N(oe,["dateModified","data"]);return B(this,void 0,void 0,function*(){const ht=this._descriptor,{parentId:Vt}=ht,vn=N(ht,["parentId"]),zt=Vt?this._contextId.split("/").slice(0,-1).join("/"):void 0;let tn,dt=Object.assign(Object.assign(Object.assign({},vn),Ze),{parentContextId:zt,messageTimestamp:ye,recordId:this._recordId});((0,w.RI)(dt.tags)||null===dt.tags)&&delete dt.tags,void 0!==Je&&(delete dt.dataCid,delete dt.dataSize,({dataBlob:tn}=O(Je,dt.dataFormat)));const pr=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published","tags"]);Ie.verifyPermittedMutation(Object.keys(Ze),pr),!1===Ze.published&&void 0!==dt.datePublished&&delete dt.datePublished;const ur=yield this._agent.processDwnRequest({author:this._connectedDid,dataStream:tn,messageParams:Object.assign({},dt),messageType:y.nx.RecordsWrite,target:this._connectedDid}),{message:Vr,reply:{status:ai}}=ur,pi=Vr;return 200<=ai.code&&ai.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=pi.authorization,this._protocolRole=Ze.protocolRole,pr.forEach(Oi=>{this._descriptor[Oi]=pi.descriptor[Oi]}),void 0!==Je&&(this._encodedData=tn)),{status:ai}})}processRecord({store:oe,signAsOwner:ye}){return B(this,void 0,void 0,function*(){if(this._initialWrite&&(ye&&!this._initialWriteSigned||oe&&!this._initialWriteStored)){const zt={messageType:y.nx.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:ye,store:oe},dt=yield this._agent.processDwnRequest(zt),{message:tn,reply:{status:pr}}=dt,ur=tn;200<=pr.code&&pr.code<=299&&(oe&&(this._initialWriteStored=!0),ye&&(this._initialWriteSigned=!0,this.initialWrite.authorization=ur.authorization))}const Je={messageType:y.nx.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:ye,store:oe},Ze=yield this._agent.processDwnRequest(Je),{message:ht,reply:{status:Vt}}=Ze;return 200<=Vt.code&&Vt.code<=299&&ye&&(this._authorization=ht.authorization),{status:Vt}})}readRecordData({target:oe,isRemote:ye}){return B(this,void 0,void 0,function*(){const Je={author:this._connectedDid,messageParams:{filter:{recordId:this.id}},messageType:y.nx.RecordsRead,target:oe},Ze=ye?this._agent.sendDwnRequest(Je):this._agent.processDwnRequest(Je);try{const{reply:{record:ht}}=yield Ze,Vt=ht.data;return w.Z6.isReadableStream(Vt)?w.VS.fromWebReadable({readableStream:Vt}):Vt}catch(ht){throw new Error(`Error encountered while attempting to read data: ${ht.message}`)}})}static verifyPermittedMutation(oe,ye){for(const Je of oe)if(!ye.has(Je))throw new Error(`${Je} is an immutable property. Its value cannot be changed.`)}}return Ie._sendCache=S,Ie})();class G{constructor(ie,oe,ye){this._agent=ie,this._metadata=ye,this._protocolsConfigureMessage=oe}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(ie){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){const{reply:oe}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:y.nx.ProtocolsConfigure,target:ie});return{status:oe.status}})}}var L=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class ee{constructor(ie){this.agent=ie.agent,this.connectedDid=ie.connectedDid}get protocols(){return{configure:ie=>L(this,void 0,void 0,function*(){const oe=yield this.agent.processDwnRequest({author:this.connectedDid,messageParams:ie.message,messageType:y.nx.ProtocolsConfigure,target:this.connectedDid}),{message:ye,messageCid:Je,reply:{status:Ze}}=oe,ht={status:Ze};return Ze.code<300&&(ht.protocol=new G(this.agent,ye,{author:this.connectedDid,messageCid:Je})),ht}),query:ie=>L(this,void 0,void 0,function*(){const oe={author:this.connectedDid,messageParams:ie.message,messageType:y.nx.ProtocolsQuery,target:ie.from||this.connectedDid};let ye;ye=ie.from?yield this.agent.sendDwnRequest(oe):yield this.agent.processDwnRequest(oe);const Je=ye.reply,{entries:Ze=[],status:ht}=Je;return{protocols:Ze.map(vn=>new G(this.agent,vn,{author:this.connectedDid})),status:ht}})}}get records(){return{create:ie=>L(this,void 0,void 0,function*(){return this.records.write(ie)}),createFrom:ie=>L(this,void 0,void 0,function*(){var oe;const ye=ie.record.toJSON(),{author:Je}=ye,Ze=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(ye=Object.getOwnPropertySymbols(Ie);Je<ye.length;Je++)ie.indexOf(ye[Je])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[Je])&&(oe[ye[Je]]=Ie[ye[Je]])}return oe}(ye,["author"]);return void 0!==ie.data&&(delete Ze.dataCid,delete Ze.dataSize),!1===(null===(oe=ie.message)||void 0===oe?void 0:oe.published)&&void 0!==Ze.datePublished&&(delete Ze.datePublished,delete Ze.published),(!(0,w.RI)(ie.message)||ie.author&&ie.author!==Je)&&delete Ze.recordId,this.records.write({data:ie.data,message:Object.assign(Object.assign({},Ze),ie.message)})}),delete:ie=>L(this,void 0,void 0,function*(){const oe={author:this.connectedDid,messageParams:ie.message,messageType:y.nx.RecordsDelete,target:ie.from||this.connectedDid};let ye;ye=ie.from?yield this.agent.sendDwnRequest(oe):yield this.agent.processDwnRequest(oe);const{reply:{status:Je}}=ye;return{status:Je}}),query:ie=>L(this,void 0,void 0,function*(){const oe={author:this.connectedDid,messageParams:ie.message,messageType:y.nx.RecordsQuery,target:ie.from||this.connectedDid};let ye;ye=ie.from?yield this.agent.sendDwnRequest(oe):yield this.agent.processDwnRequest(oe);const Je=ye.reply,{entries:Ze,status:ht,cursor:Vt}=Je;return{records:Ze.map(zt=>{const dt=Object.assign({author:(0,y.dK)(zt),connectedDid:this.connectedDid,remoteOrigin:ie.from},zt);return new U(this.agent,dt)}),status:ht,cursor:Vt}}),read:ie=>L(this,void 0,void 0,function*(){const oe={author:this.connectedDid,messageParams:ie.message,messageType:y.nx.RecordsRead,target:ie.from||this.connectedDid};let ye;ye=ie.from?yield this.agent.sendDwnRequest(oe):yield this.agent.processDwnRequest(oe);const{reply:{record:Je,status:Ze}}=ye;let ht;if(200<=Ze.code&&Ze.code<=299){const Vt=Object.assign({author:(0,y.dK)(Je),connectedDid:this.connectedDid,remoteOrigin:ie.from},Je);ht=new U(this.agent,Vt)}return{record:ht,status:Ze}}),write:ie=>L(this,void 0,void 0,function*(){var oe;const{dataBlob:ye,dataFormat:Je}=O(ie.data,null===(oe=ie.message)||void 0===oe?void 0:oe.dataFormat),Ze=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:ye,messageParams:Object.assign(Object.assign({},ie.message),{dataFormat:Je}),messageType:y.nx.RecordsWrite,store:ie.store,target:this.connectedDid}),{message:ht,reply:{status:Vt}}=Ze;let vn;if(200<=Vt.code&&Vt.code<=299){const zt=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:ye},ht);vn=new U(this.agent,zt)}return{record:vn,status:Vt}})}}}class Z{constructor(ie){this.agent=ie.agent,this.connectedDid=ie.connectedDid}create(){return Ie=this,ie=void 0,ye=function*(){throw new Error("Not implemented.")},new((oe=void 0)||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())});var Ie,ie,oe,ye}}var J=function(Ie){return Ie.authentication="authentication",Ie.assertionMethod="assertionMethod",Ie.keyAgreement="keyAgreement",Ie.capabilityInvocation="capabilityInvocation",Ie.capabilityDelegation="capabilityDelegation",Ie}(J||{});const se={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class ce{constructor({method:ie,id:oe,path:ye,query:Je,fragment:Ze,params:ht}){this.uri=`did:${ie}:${oe}`,this.method=ie,this.id=oe,this.path=ye,this.query=Je,this.fragment=Ze,this.params=ht}static parse(ie){if(!ie)return null;const oe=ce.DID_URI_PATTERN.exec(ie);if(!oe||!oe.groups)return null;const{method:ye,id:Je,path:Ze,query:ht,fragment:Vt}=oe.groups,vn={uri:`did:${ye}:${Je}`,method:ye,id:Je};if(Ze&&(vn.path=Ze),ht&&(vn.query=ht.slice(1)),Vt&&(vn.fragment=Vt.slice(1)),ht){const zt={},dt=ht.slice(1).split("&");for(const tn of dt){const[pr,ur]=tn.split("=");zt[pr]=ur}vn.params=zt}return vn}}ce.METHOD_PATTERN="([a-z0-9]+)",ce.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",ce.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${ce.PCT_ENCODED_PATTERN})`,ce.METHOD_ID_PATTERN=`((?:${ce.ID_CHAR_PATTERN}*:)*(${ce.ID_CHAR_PATTERN}+))`,ce.PATH_PATTERN="(/[^#?]*)?",ce.QUERY_PATTERN="([?][^#]*)?",ce.FRAGMENT_PATTERN="(#.*)?",ce.DID_URI_PATTERN=new RegExp(`^did:(?<method>${ce.METHOD_PATTERN}):(?<id>${ce.METHOD_ID_PATTERN})(?<path>${ce.PATH_PATTERN})(?<query>${ce.QUERY_PATTERN})(?<fragment>${ce.FRAGMENT_PATTERN})$`);class ae extends Error{constructor(ie,oe){super(`${ie}: ${oe}`),this.code=ie,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ae)}}var fe=function(Ie){return Ie.InvalidDid="invalidDid",Ie.MethodNotSupported="methodNotSupported",Ie.InternalError="internalError",Ie.InvalidDidDocument="invalidDidDocument",Ie.InvalidDidDocumentLength="invalidDidDocumentLength",Ie.InvalidDidUrl="invalidDidUrl",Ie.InvalidPreviousDidProof="invalidPreviousDidProof",Ie.InvalidPublicKey="invalidPublicKey",Ie.InvalidPublicKeyLength="invalidPublicKeyLength",Ie.InvalidPublicKeyType="invalidPublicKeyType",Ie.InvalidSignature="invalidSignature",Ie.NotFound="notFound",Ie.RepresentationNotSupported="representationNotSupported",Ie.UnsupportedPublicKeyType="unsupportedPublicKeyType",Ie}(fe||{}),he=_(47565);class Me{static digest({data:ie}){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){return(0,he.s)(ie)})}}class Pe{}var d=_(94256),m=_(91006);const D="urn:jwk:";function R({jwk:Ie}){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){const ie=Ie.kty;let oe;if("EC"===ie)oe={crv:Ie.crv,kty:Ie.kty,x:Ie.x,y:Ie.y};else if("oct"===ie)oe={k:Ie.k,kty:Ie.kty};else if("OKP"===ie)oe={crv:Ie.crv,kty:Ie.kty,x:Ie.x};else{if("RSA"!==ie)throw new Error(`Unsupported key type: ${ie}`);oe={e:Ie.e,kty:Ie.kty,n:Ie.n}}(0,w.E8)(oe);const ye=function p(Ie){const ie=ye=>{if(null!==ye&&"object"==typeof ye&&!Array.isArray(ye)){const Je=Object.keys(ye).sort(),Ze={};for(const ht of Je)Ze[ht]=ie(ye[ht]);return Ze}return ye},oe=ie(Ie);return JSON.stringify(oe)}(oe),Je=w.U$.string(ye).toUint8Array(),Ze=yield Me.digest({data:Je});return w.U$.uint8Array(Ze).toBase64Url()})}function x(Ie){return!(!Ie||"object"!=typeof Ie||!("kty"in Ie&&"crv"in Ie&&"x"in Ie&&"d"in Ie)||"EC"!==Ie.kty||"string"!=typeof Ie.d||"string"!=typeof Ie.x)}function s(Ie){return!(!Ie||"object"!=typeof Ie||!("kty"in Ie&&"crv"in Ie&&"x"in Ie)||"d"in Ie||"EC"!==Ie.kty||"string"!=typeof Ie.x)}function $(Ie){return!(!Ie||"object"!=typeof Ie||!("kty"in Ie&&"crv"in Ie&&"x"in Ie&&"d"in Ie)||"OKP"!==Ie.kty||"string"!=typeof Ie.d||"string"!=typeof Ie.x)}function F(Ie){return!(!Ie||"object"!=typeof Ie||"d"in Ie||!("kty"in Ie&&"crv"in Ie&&"x"in Ie)||"OKP"!==Ie.kty||"string"!=typeof Ie.x)}var De=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class Ve{static adjustSignatureToLowS({signature:ie}){return De(this,void 0,void 0,function*(){const oe=d.bI.Signature.fromCompact(ie);return oe.hasHighS()?oe.normalizeS().toCompactRawBytes():ie})}static bytesToPrivateKey({privateKeyBytes:ie}){return De(this,void 0,void 0,function*(){const oe=yield Ve.getCurvePoint({keyBytes:ie}),ye={kty:"EC",crv:"secp256k1",d:w.U$.uint8Array(ie).toBase64Url(),x:w.U$.uint8Array(oe.x).toBase64Url(),y:w.U$.uint8Array(oe.y).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static bytesToPublicKey({publicKeyBytes:ie}){return De(this,void 0,void 0,function*(){const oe=yield Ve.getCurvePoint({keyBytes:ie}),ye={kty:"EC",crv:"secp256k1",x:w.U$.uint8Array(oe.x).toBase64Url(),y:w.U$.uint8Array(oe.y).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static compressPublicKey({publicKeyBytes:ie}){return De(this,void 0,void 0,function*(){return d.bI.ProjectivePoint.fromHex(ie).toRawBytes(!0)})}static computePublicKey({key:ie}){return De(this,void 0,void 0,function*(){const oe=yield Ve.privateKeyToBytes({privateKey:ie}),ye=yield Ve.getCurvePoint({keyBytes:oe}),Je={kty:"EC",crv:"secp256k1",x:w.U$.uint8Array(ye.x).toBase64Url(),y:w.U$.uint8Array(ye.y).toBase64Url()};return Je.kid=yield R({jwk:Je}),Je})}static convertDerToCompactSignature({derSignature:ie}){return De(this,void 0,void 0,function*(){return d.bI.Signature.fromDER(ie).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:ie}){return De(this,void 0,void 0,function*(){return d.bI.ProjectivePoint.fromHex(ie).toRawBytes(!1)})}static generateKey(){return De(this,void 0,void 0,function*(){const ie=d.bI.utils.randomPrivateKey(),oe=yield Ve.bytesToPrivateKey({privateKeyBytes:ie});return oe.kid=yield R({jwk:oe}),oe})}static getPublicKey({key:ie}){var oe;return De(this,void 0,void 0,function*(){if(!x(ie)||"secp256k1"!==ie.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let Je=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(ye=Object.getOwnPropertySymbols(Ie);Je<ye.length;Je++)ie.indexOf(ye[Je])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[Je])&&(oe[ye[Je]]=Ie[ye[Je]])}return oe}(ie,["d"]);return null!==(oe=Je.kid)&&void 0!==oe||(Je.kid=yield R({jwk:Je})),Je})}static privateKeyToBytes({privateKey:ie}){return De(this,void 0,void 0,function*(){if(!x(ie))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return w.U$.base64Url(ie.d).toUint8Array()})}static publicKeyToBytes({publicKey:ie}){return De(this,void 0,void 0,function*(){if(!s(ie)||!ie.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const oe=new Uint8Array([4]),ye=w.U$.base64Url(ie.x).toUint8Array(),Je=w.U$.base64Url(ie.y).toUint8Array();return new Uint8Array([...oe,...ye,...Je])})}static sharedSecret({privateKeyA:ie,publicKeyB:oe}){return De(this,void 0,void 0,function*(){if("x"in ie&&"x"in oe&&ie.x===oe.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ye=yield Ve.privateKeyToBytes({privateKey:ie}),Je=yield Ve.publicKeyToBytes({publicKey:oe});return d.bI.getSharedSecret(ye,Je,!0).slice(1)})}static sign({data:ie,key:oe}){return De(this,void 0,void 0,function*(){const ye=yield Ve.privateKeyToBytes({privateKey:oe}),Je=(0,he.s)(ie);return d.bI.sign(Je,ye).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:ie}){return De(this,void 0,void 0,function*(){return d.bI.utils.isValidPrivateKey(ie)})}static validatePublicKey({publicKeyBytes:ie}){return De(this,void 0,void 0,function*(){try{d.bI.ProjectivePoint.fromHex(ie).assertValidity()}catch{return!1}return!0})}static verify({key:ie,signature:oe,data:ye}){return De(this,void 0,void 0,function*(){const Je=yield Ve.publicKeyToBytes({publicKey:ie}),Ze=(0,he.s)(ye);return d.bI.verify(oe,Ze,Je,{lowS:!1})})}static getCurvePoint({keyBytes:ie}){return De(this,void 0,void 0,function*(){32===ie.byteLength&&(ie=d.bI.getPublicKey(ie));const oe=d.bI.ProjectivePoint.fromHex(ie);return{x:(0,m.lq)(oe.x,32),y:(0,m.lq)(oe.y,32)}})}}var Ee=_(40499),_e=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class ve{static adjustSignatureToLowS({signature:ie}){return _e(this,void 0,void 0,function*(){const oe=Ee.Ag.Signature.fromCompact(ie);return oe.hasHighS()?oe.normalizeS().toCompactRawBytes():ie})}static bytesToPrivateKey({privateKeyBytes:ie}){return _e(this,void 0,void 0,function*(){const oe=yield ve.getCurvePoint({keyBytes:ie}),ye={kty:"EC",crv:"P-256",d:w.U$.uint8Array(ie).toBase64Url(),x:w.U$.uint8Array(oe.x).toBase64Url(),y:w.U$.uint8Array(oe.y).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static bytesToPublicKey({publicKeyBytes:ie}){return _e(this,void 0,void 0,function*(){const oe=yield ve.getCurvePoint({keyBytes:ie}),ye={kty:"EC",crv:"P-256",x:w.U$.uint8Array(oe.x).toBase64Url(),y:w.U$.uint8Array(oe.y).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static compressPublicKey({publicKeyBytes:ie}){return _e(this,void 0,void 0,function*(){return Ee.Ag.ProjectivePoint.fromHex(ie).toRawBytes(!0)})}static computePublicKey({key:ie}){return _e(this,void 0,void 0,function*(){const oe=yield ve.privateKeyToBytes({privateKey:ie}),ye=yield ve.getCurvePoint({keyBytes:oe}),Je={kty:"EC",crv:"P-256",x:w.U$.uint8Array(ye.x).toBase64Url(),y:w.U$.uint8Array(ye.y).toBase64Url()};return Je.kid=yield R({jwk:Je}),Je})}static convertDerToCompactSignature({derSignature:ie}){return _e(this,void 0,void 0,function*(){return Ee.Ag.Signature.fromDER(ie).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:ie}){return _e(this,void 0,void 0,function*(){return Ee.Ag.ProjectivePoint.fromHex(ie).toRawBytes(!1)})}static generateKey(){return _e(this,void 0,void 0,function*(){const ie=Ee.Ag.utils.randomPrivateKey(),oe=yield ve.bytesToPrivateKey({privateKeyBytes:ie});return oe.kid=yield R({jwk:oe}),oe})}static getPublicKey({key:ie}){var oe;return _e(this,void 0,void 0,function*(){if(!x(ie)||"P-256"!==ie.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let Je=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(ye=Object.getOwnPropertySymbols(Ie);Je<ye.length;Je++)ie.indexOf(ye[Je])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[Je])&&(oe[ye[Je]]=Ie[ye[Je]])}return oe}(ie,["d"]);return null!==(oe=Je.kid)&&void 0!==oe||(Je.kid=yield R({jwk:Je})),Je})}static privateKeyToBytes({privateKey:ie}){return _e(this,void 0,void 0,function*(){if(!x(ie))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return w.U$.base64Url(ie.d).toUint8Array()})}static publicKeyToBytes({publicKey:ie}){return _e(this,void 0,void 0,function*(){if(!s(ie)||!ie.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const oe=new Uint8Array([4]),ye=w.U$.base64Url(ie.x).toUint8Array(),Je=w.U$.base64Url(ie.y).toUint8Array();return new Uint8Array([...oe,...ye,...Je])})}static sharedSecret({privateKeyA:ie,publicKeyB:oe}){return _e(this,void 0,void 0,function*(){if("x"in ie&&"x"in oe&&ie.x===oe.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ye=yield ve.privateKeyToBytes({privateKey:ie}),Je=yield ve.publicKeyToBytes({publicKey:oe});return Ee.Ag.getSharedSecret(ye,Je,!0).slice(1)})}static sign({data:ie,key:oe}){return _e(this,void 0,void 0,function*(){const ye=yield ve.privateKeyToBytes({privateKey:oe}),Je=(0,he.s)(ie);return Ee.Ag.sign(Je,ye).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:ie}){return _e(this,void 0,void 0,function*(){return Ee.Ag.utils.isValidPrivateKey(ie)})}static validatePublicKey({publicKeyBytes:ie}){return _e(this,void 0,void 0,function*(){try{Ee.Ag.ProjectivePoint.fromHex(ie).assertValidity()}catch{return!1}return!0})}static verify({key:ie,signature:oe,data:ye}){return _e(this,void 0,void 0,function*(){const Je=yield ve.publicKeyToBytes({publicKey:ie}),Ze=(0,he.s)(ye);return Ee.Ag.verify(oe,Ze,Je,{lowS:!1})})}static getCurvePoint({keyBytes:ie}){return _e(this,void 0,void 0,function*(){32===ie.byteLength&&(ie=Ee.Ag.getPublicKey(ie));const oe=Ee.Ag.ProjectivePoint.fromHex(ie);return{x:(0,m.lq)(oe.x,32),y:(0,m.lq)(oe.y,32)}})}}var Te=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class ge extends Pe{computePublicKey({key:ie}){return Te(this,void 0,void 0,function*(){if(!x(ie))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(ie.crv){case"secp256k1":{const oe=yield Ve.computePublicKey({key:ie});return oe.alg="ES256K",oe}case"P-256":{const oe=yield ve.computePublicKey({key:ie});return oe.alg="ES256",oe}default:throw new Error(`Unsupported curve: ${ie.crv}`)}})}generateKey({algorithm:ie}){return Te(this,void 0,void 0,function*(){switch(ie){case"ES256K":case"secp256k1":{const oe=yield Ve.generateKey();return oe.alg="ES256K",oe}case"ES256":case"secp256r1":{const oe=yield ve.generateKey();return oe.alg="ES256",oe}}})}getPublicKey({key:ie}){return Te(this,void 0,void 0,function*(){if(!x(ie))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(ie.crv){case"secp256k1":{const oe=yield Ve.getPublicKey({key:ie});return oe.alg="ES256K",oe}case"P-256":{const oe=yield ve.getPublicKey({key:ie});return oe.alg="ES256",oe}default:throw new Error(`Unsupported curve: ${ie.crv}`)}})}sign({key:ie,data:oe}){return Te(this,void 0,void 0,function*(){if(!x(ie))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(ie.crv){case"secp256k1":return yield Ve.sign({key:ie,data:oe});case"P-256":return yield ve.sign({key:ie,data:oe});default:throw new Error(`Unsupported curve: ${ie.crv}`)}})}verify({key:ie,signature:oe,data:ye}){return Te(this,void 0,void 0,function*(){if(!s(ie))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(ie.crv){case"secp256k1":return yield Ve.verify({key:ie,signature:oe,data:ye});case"P-256":return yield ve.verify({key:ie,signature:oe,data:ye});default:throw new Error(`Unsupported curve: ${ie.crv}`)}})}}var me=_(86295),te=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class le{static bytesToPrivateKey({privateKeyBytes:ie}){return te(this,void 0,void 0,function*(){const oe=me.ev.getPublicKey(ie),ye={crv:"Ed25519",d:w.U$.uint8Array(ie).toBase64Url(),kty:"OKP",x:w.U$.uint8Array(oe).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static bytesToPublicKey({publicKeyBytes:ie}){return te(this,void 0,void 0,function*(){const oe={kty:"OKP",crv:"Ed25519",x:w.U$.uint8Array(ie).toBase64Url()};return oe.kid=yield R({jwk:oe}),oe})}static computePublicKey({key:ie}){return te(this,void 0,void 0,function*(){const oe=yield le.privateKeyToBytes({privateKey:ie}),ye=me.ev.getPublicKey(oe),Je={kty:"OKP",crv:"Ed25519",x:w.U$.uint8Array(ye).toBase64Url()};return Je.kid=yield R({jwk:Je}),Je})}static convertPrivateKeyToX25519({privateKey:ie}){return te(this,void 0,void 0,function*(){const oe=yield le.privateKeyToBytes({privateKey:ie}),ye=(0,me.OA)(oe),Je=me.TU.getPublicKey(ye),Ze={kty:"OKP",crv:"X25519",d:w.U$.uint8Array(ye).toBase64Url(),x:w.U$.uint8Array(Je).toBase64Url()};return Ze.kid=yield R({jwk:Ze}),Ze})}static convertPublicKeyToX25519({publicKey:ie}){return te(this,void 0,void 0,function*(){const oe=yield le.publicKeyToBytes({publicKey:ie});if(!(yield le.validatePublicKey({publicKeyBytes:oe})))throw new Error("Ed25519: Invalid public key.");const Je=(0,me.GU)(oe),Ze={kty:"OKP",crv:"X25519",x:w.U$.uint8Array(Je).toBase64Url()};return Ze.kid=yield R({jwk:Ze}),Ze})}static generateKey(){return te(this,void 0,void 0,function*(){const ie=me.ev.utils.randomPrivateKey(),oe=yield le.bytesToPrivateKey({privateKeyBytes:ie});return oe.kid=yield R({jwk:oe}),oe})}static getPublicKey({key:ie}){var oe;return te(this,void 0,void 0,function*(){if(!$(ie)||"Ed25519"!==ie.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let Je=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(ye=Object.getOwnPropertySymbols(Ie);Je<ye.length;Je++)ie.indexOf(ye[Je])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[Je])&&(oe[ye[Je]]=Ie[ye[Je]])}return oe}(ie,["d"]);return null!==(oe=Je.kid)&&void 0!==oe||(Je.kid=yield R({jwk:Je})),Je})}static privateKeyToBytes({privateKey:ie}){return te(this,void 0,void 0,function*(){if(!$(ie))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return w.U$.base64Url(ie.d).toUint8Array()})}static publicKeyToBytes({publicKey:ie}){return te(this,void 0,void 0,function*(){if(!F(ie))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return w.U$.base64Url(ie.x).toUint8Array()})}static sign({key:ie,data:oe}){return te(this,void 0,void 0,function*(){const ye=yield le.privateKeyToBytes({privateKey:ie});return me.ev.sign(oe,ye)})}static validatePublicKey({publicKeyBytes:ie}){return te(this,void 0,void 0,function*(){try{me.ev.ExtendedPoint.fromHex(ie).assertValidity()}catch{return!1}return!0})}static verify({key:ie,signature:oe,data:ye}){return te(this,void 0,void 0,function*(){const Je=yield le.publicKeyToBytes({publicKey:ie});return me.ev.verify(oe,ye,Je)})}}var Ae=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})},qe=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};const ze={Ed25519:{implementation:class Be extends Pe{computePublicKey({key:ie}){return Ae(this,void 0,void 0,function*(){if(!$(ie))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===ie.crv){const oe=yield le.computePublicKey({key:ie});return oe.alg="EdDSA",oe}throw new Error(`Unsupported curve: ${ie.crv}`)})}generateKey({algorithm:ie}){return Ae(this,void 0,void 0,function*(){if("Ed25519"===ie){const oe=yield le.generateKey();return oe.alg="EdDSA",oe}})}getPublicKey({key:ie}){return Ae(this,void 0,void 0,function*(){if(!$(ie))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===ie.crv){const oe=yield le.getPublicKey({key:ie});return oe.alg="EdDSA",oe}throw new Error(`Unsupported curve: ${ie.crv}`)})}sign({key:ie,data:oe}){return Ae(this,void 0,void 0,function*(){if(!$(ie))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===ie.crv)return yield le.sign({key:ie,data:oe});throw new Error(`Unsupported curve: ${ie.crv}`)})}verify({key:ie,signature:oe,data:ye}){return Ae(this,void 0,void 0,function*(){if(!F(ie))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===ie.crv)return yield le.verify({key:ie,signature:oe,data:ye});throw new Error(`Unsupported curve: ${ie.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:ge,names:["ES256K","secp256k1"]},secp256r1:{implementation:ge,names:["ES256","secp256r1"]},"SHA-256":{implementation:class a extends Pe{digest({algorithm:ie,data:oe}){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===ie)return yield Me.digest({data:oe})})}},names:["SHA-256"]}};class Dt{constructor(ie){var oe;this._algorithmInstances=new Map,this._keyStore=null!==(oe=ie?.keyStore)&&void 0!==oe?oe:new w.ny}digest({algorithm:ie,data:oe}){return qe(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:ie}).digest({algorithm:ie,data:oe})})}exportKey({keyUri:ie}){return qe(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:ie})})}generateKey({algorithm:ie}){return qe(this,void 0,void 0,function*(){const ye=yield this.getAlgorithm({algorithm:ie}).generateKey({algorithm:ie});if(void 0===ye?.kid)throw new Error("Generated key is missing a required property: kid");const Je=`${D}${ye.kid}`;return yield this._keyStore.set(Je,ye),Je})}getKeyUri({key:ie}){return qe(this,void 0,void 0,function*(){const oe=yield R({jwk:ie});return`${D}${oe}`})}getPublicKey({keyUri:ie}){return qe(this,void 0,void 0,function*(){const oe=yield this.getPrivateKey({keyUri:ie}),ye=this.getAlgorithmName({key:oe});return yield this.getAlgorithm({algorithm:ye}).getPublicKey({key:oe})})}importKey({key:ie}){var oe;return qe(this,void 0,void 0,function*(){if(!function Q(Ie){if(!Ie||"object"!=typeof Ie)return!1;switch(Ie.kty){case"EC":case"OKP":case"RSA":return"d"in Ie;case"oct":return"k"in Ie;default:return!1}}(ie))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const ye=structuredClone(ie);null!==(oe=ye.kid)&&void 0!==oe||(ye.kid=yield R({jwk:ye}));const Je=yield this.getKeyUri({key:ye});return yield this._keyStore.set(Je,ye),Je})}sign({keyUri:ie,data:oe}){return qe(this,void 0,void 0,function*(){const ye=yield this.getPrivateKey({keyUri:ie}),Je=this.getAlgorithmName({key:ye});return this.getAlgorithm({algorithm:Je}).sign({data:oe,key:ye})})}verify({key:ie,signature:oe,data:ye}){return qe(this,void 0,void 0,function*(){const Je=this.getAlgorithmName({key:ie});return this.getAlgorithm({algorithm:Je}).verify({key:ie,signature:oe,data:ye})})}getAlgorithm({algorithm:ie}){var oe;const ye=null===(oe=ze[ie])||void 0===oe?void 0:oe.implementation;if(!ye)throw new Error(`Algorithm not supported: ${ie}`);return this._algorithmInstances.has(ye)||this._algorithmInstances.set(ye,new ye),this._algorithmInstances.get(ye)}getAlgorithmName({key:ie}){const oe=ie.alg,ye=ie.crv;for(const Je in ze){const Ze=ze[Je];if(oe&&Ze.names.includes(oe))return Je;if(ye&&Ze.names.includes(ye))return Je}throw new Error(`Unable to determine algorithm based on provided input: alg=${oe}, crv=${ye}`)}getPrivateKey({keyUri:ie}){return qe(this,void 0,void 0,function*(){const oe=yield this._keyStore.get(ie);if(!oe)throw new Error(`Key not found: ${ie}`);return oe})}}function T(Ie){const ie={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(Ie.alg&&Object.values(ie).includes(Ie.alg))return Ie.alg;if(Ie.crv&&Object.keys(ie).includes(Ie.crv))return ie[Ie.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${Ie.alg}, crv=${Ie.crv}. Supported 'alg' values: ${Object.values(ie).join(", ")}. Supported 'crv' values: ${Object.keys(ie).join(", ")}.`)}_(86703),_(62953),_(91879);var Et=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class et{static bytesToPrivateKey({privateKeyBytes:ie}){return Et(this,void 0,void 0,function*(){const oe=me.TU.getPublicKey(ie),ye={kty:"OKP",crv:"X25519",d:w.U$.uint8Array(ie).toBase64Url(),x:w.U$.uint8Array(oe).toBase64Url()};return ye.kid=yield R({jwk:ye}),ye})}static bytesToPublicKey({publicKeyBytes:ie}){return Et(this,void 0,void 0,function*(){const oe={kty:"OKP",crv:"X25519",x:w.U$.uint8Array(ie).toBase64Url()};return oe.kid=yield R({jwk:oe}),oe})}static computePublicKey({key:ie}){return Et(this,void 0,void 0,function*(){const oe=yield et.privateKeyToBytes({privateKey:ie}),ye=me.TU.getPublicKey(oe),Je={kty:"OKP",crv:"X25519",x:w.U$.uint8Array(ye).toBase64Url()};return Je.kid=yield R({jwk:Je}),Je})}static generateKey(){return Et(this,void 0,void 0,function*(){const ie=me.TU.utils.randomPrivateKey(),oe=yield et.bytesToPrivateKey({privateKeyBytes:ie});return oe.kid=yield R({jwk:oe}),oe})}static getPublicKey({key:ie}){var oe;return Et(this,void 0,void 0,function*(){if(!$(ie)||"X25519"!==ie.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let Je=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(ye=Object.getOwnPropertySymbols(Ie);Je<ye.length;Je++)ie.indexOf(ye[Je])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[Je])&&(oe[ye[Je]]=Ie[ye[Je]])}return oe}(ie,["d"]);return null!==(oe=Je.kid)&&void 0!==oe||(Je.kid=yield R({jwk:Je})),Je})}static privateKeyToBytes({privateKey:ie}){return Et(this,void 0,void 0,function*(){if(!$(ie))throw new Error("X25519: The provided key is not a valid OKP private key.");return w.U$.base64Url(ie.d).toUint8Array()})}static publicKeyToBytes({publicKey:ie}){return Et(this,void 0,void 0,function*(){if(!F(ie))throw new Error("X25519: The provided key is not a valid OKP public key.");return w.U$.base64Url(ie.x).toUint8Array()})}static sharedSecret({privateKeyA:ie,publicKeyB:oe}){return Et(this,void 0,void 0,function*(){if("x"in ie&&"x"in oe&&ie.x===oe.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const ye=yield et.privateKeyToBytes({privateKey:ie}),Je=yield et.publicKeyToBytes({publicKey:oe});return me.TU.getSharedSecret(ye,Je)})}}function Ln(Ie){if("string"==typeof Ie&&0!==Ie.length)return Ie.split("#").pop()}function mr(Ie){return!(!Ie||"object"!=typeof Ie||null===Ie||!("id"in Ie&&"type"in Ie&&"controller"in Ie)||"string"!=typeof Ie.id||"string"!=typeof Ie.type||"string"!=typeof Ie.controller)}_(94730);var Kr=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class Fr{constructor({uri:ie,document:oe,metadata:ye,keyManager:Je}){this.uri=ie,this.document=oe,this.metadata=ye,this.keyManager=Je}export(){return Kr(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let ie={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const oe=[];for(let ye of this.document.verificationMethod){if(!ye.publicKeyJwk)throw new Error(`Verification method '${ye.id}' does not contain a public key in JWK format`);const Je=yield this.keyManager.getKeyUri({key:ye.publicKeyJwk}),Ze=yield this.keyManager.exportKey({keyUri:Je});oe.push(Object.assign({},Ze))}ie.privateKeys=oe}return ie})}getSigner(ie){return Kr(this,void 0,void 0,function*(){var oe;const ye=null===(oe=this.document.verificationMethod)||void 0===oe?void 0:oe.find(vn=>{var zt,dt;return Ln(vn.id)===(null!==(zt=Ln(ie?.methodId))&&void 0!==zt?zt:Ln(null===(dt=this.document.assertionMethod)||void 0===dt?void 0:dt[0]))});if(!ye||!ye.publicKeyJwk)throw new ae(fe.InternalError,"A verification method intended for signing could not be determined from the DID Document");const Je=yield this.keyManager.getKeyUri({key:ye.publicKeyJwk}),Ze=yield this.keyManager.getPublicKey({keyUri:Je}),ht=this.keyManager;return{algorithm:T(Ze),keyId:ye.id,sign(vn){return Kr(this,arguments,void 0,function*({data:zt}){return yield ht.sign({data:zt,keyUri:Je})})},verify(vn){return Kr(this,arguments,void 0,function*({data:zt,signature:dt}){return yield ht.verify({data:zt,key:Ze,signature:dt})})}}})}static import(ie){return Kr(this,arguments,void 0,function*({portableDid:oe,keyManager:ye=new Dt}){var Je;const Ze=function ct({didDocument:Ie}){var ie,oe;if(!Ie)throw new TypeError("Required parameter missing: 'didDocument'");const ye=[];return ye.push(...null!==(oe=null===(ie=Ie.verificationMethod)||void 0===ie?void 0:ie.filter(mr))&&void 0!==oe?oe:[]),Object.keys(J).forEach(Je=>{var Ze,ht;ye.push(...null!==(ht=null===(Ze=Ie[Je])||void 0===Ze?void 0:Ze.filter(mr))&&void 0!==ht?ht:[])}),ye}({didDocument:oe.document});if(0===Ze.length)throw new ae(fe.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let Vt of null!==(Je=oe.privateKeys)&&void 0!==Je?Je:[])yield ye.importKey({key:Vt});for(let Vt of Ze){if(!Vt.publicKeyJwk)throw new Error(`Verification method '${Vt.id}' does not contain a public key in JWK format`);const vn=yield ye.getKeyUri({key:Vt.publicKeyJwk});yield ye.getPublicKey({keyUri:vn})}return new Fr({uri:oe.uri,document:oe.document,metadata:oe.metadata,keyManager:ye})})}}var di=_(2198),on=_(49402),wn=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class Tn{static getSigningMethod(ie){return wn(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(ie,oe){return wn(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Hn=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})},Gn=function(Ie,ie){var oe={};for(var ye in Ie)Object.prototype.hasOwnProperty.call(Ie,ye)&&ie.indexOf(ye)<0&&(oe[ye]=Ie[ye]);if(null!=Ie&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(ye=Object.getOwnPropertySymbols(Ie);Je<ye.length;Je++)ie.indexOf(ye[Je])<0&&Object.prototype.propertyIsEnumerable.call(Ie,ye[Je])&&(oe[ye[Je]]=Ie[ye[Je]])}return oe};const _r="https://diddht.tbddev.org",$r=7200,Ii=",";var Mo=function(Ie){return Ie[Ie.Discoverable=0]="Discoverable",Ie[Ie.Organization=1]="Organization",Ie[Ie.Government=2]="Government",Ie[Ie.Corporation=3]="Corporation",Ie[Ie.LocalBusiness=4]="LocalBusiness",Ie[Ie.SoftwarePackage=5]="SoftwarePackage",Ie[Ie.WebApp=6]="WebApp",Ie[Ie.FinancialInstitution=7]="FinancialInstitution",Ie}(Mo||{}),li=function(Ie){return Ie[Ie.Ed25519=0]="Ed25519",Ie[Ie.secp256k1=1]="secp256k1",Ie[Ie.secp256r1=2]="secp256r1",Ie[Ie.X25519=3]="X25519",Ie}(li||{}),go=function(Ie){return Ie.authentication="auth",Ie.assertionMethod="asm",Ie.capabilityDelegation="del",Ie.capabilityInvocation="inv",Ie.keyAgreement="agm",Ie}(go||{});const wo={Ed25519:li.Ed25519,ES256K:li.secp256k1,ES256:li.secp256r1,"P-256":li.secp256r1,secp256k1:li.secp256k1,secp256r1:li.secp256r1,X25519:li.X25519},Ro={[li.Ed25519]:"Ed25519",[li.secp256k1]:"ES256K",[li.secp256r1]:"ES256",[li.X25519]:"ECDH-ES+A256KW"};let vi=(()=>{class Ie extends Tn{static create(){return Hn(this,arguments,void 0,function*({keyManager:oe=new Dt,options:ye={}}={}){var Je,Ze,ht,Vt,vn,zt,dt,tn,pr,ur,Vr;if(null!==(Je=ye.verificationMethods)&&void 0!==Je&&Je.some(qr=>!(qr.algorithm in wo)))throw new Error("One or more verification method algorithms are not supported");const ai=null===(Ze=ye.verificationMethods)||void 0===Ze?void 0:Ze.filter(qr=>"id"in qr).map(qr=>qr.id);if(ai&&ai.length!==new Set(ai).size)throw new Error("One or more verification method IDs are not unique");if(null!==(ht=ye.services)&&void 0!==ht&&ht.some(qr=>!qr.id||!qr.type||!qr.serviceEndpoint))throw new Error("One or more services are missing required properties");const pi=yield oe.generateKey({algorithm:"Ed25519"}),Oi=yield oe.getPublicKey({keyUri:pi}),Xr=yield ji.identityKeyToIdentifier({identityKey:Oi}),ni=Object.assign(Object.assign({id:Xr},ye.alsoKnownAs&&{alsoKnownAs:ye.alsoKnownAs}),ye.controllers&&{controller:ye.controllers}),Ei=[...null!==(Vt=ye.verificationMethods)&&void 0!==Vt?Vt:[]];Ei?.some(qr=>{var jo;return"0"===(null===(jo=qr.id)||void 0===jo?void 0:jo.split("#").pop())})||Ei.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const qr of Ei){const jo=qr.id&&"0"===qr.id.split("#").pop()?pi:yield oe.generateKey({algorithm:qr.algorithm}),As=yield oe.getPublicKey({keyUri:jo});let ws=null!==(zt=null!==(vn=qr.id)&&void 0!==vn?vn:As.kid)&&void 0!==zt?zt:yield R({jwk:As});ws=`${Xr}#${Ln(ws)}`,null!==(dt=ni.verificationMethod)&&void 0!==dt||(ni.verificationMethod=[]),ni.verificationMethod.push({id:ws,type:"JsonWebKey",controller:null!==(tn=qr.controller)&&void 0!==tn?tn:Xr,publicKeyJwk:As});for(const lc of null!==(pr=qr.purposes)&&void 0!==pr?pr:[])ni[lc]||(ni[lc]=[]),ni[lc].push(ws)}null===(ur=ye.services)||void 0===ur||ur.forEach(qr=>{var jo;null!==(jo=ni.service)&&void 0!==jo||(ni.service=[]),qr.id=`${Xr}#${qr.id.split("#").pop()}`,ni.service.push(qr)});const Ti=new Fr({uri:Xr,document:ni,metadata:Object.assign({published:!1},ye.types&&{types:ye.types}),keyManager:oe});if(null===(Vr=ye.publish)||void 0===Vr||Vr){const qr=yield Ie.publish({did:Ti,gatewayUri:ye.gatewayUri});Ti.metadata=qr.didDocumentMetadata}return Ti})}static import(oe){return Hn(this,arguments,void 0,function*({portableDid:ye,keyManager:Je=new Dt}){var Ze;const ht=ce.parse(ye.uri);if(ht?.method!==Ie.methodName)throw new ae(fe.MethodNotSupported,"Method not supported");const Vt=yield Fr.import({portableDid:ye,keyManager:Je});if(null===(Ze=Vt.document.verificationMethod)||void 0===Ze||!Ze.some(vn=>{var zt;return"0"===(null===(zt=vn.id)||void 0===zt?void 0:zt.split("#").pop())}))throw new ae(fe.InvalidDidDocument,"DID document must contain an Identity Key");return Vt})}static getSigningMethod(oe){return Hn(this,arguments,void 0,function*({didDocument:ye,methodId:Je="#0"}){var Ze;const ht=ce.parse(ye.id);if(ht&&ht.method!==this.methodName)throw new ae(fe.MethodNotSupported,`Method not supported: ${ht.method}`);const Vt=null===(Ze=ye.verificationMethod)||void 0===Ze?void 0:Ze.find(vn=>{var zt,dt;return Ln(vn.id)===(null!==(zt=Ln(Je))&&void 0!==zt?zt:Ln(null===(dt=ye.assertionMethod)||void 0===dt?void 0:dt[0]))});if(!Vt||!Vt.publicKeyJwk)throw new ae(fe.InternalError,"A verification method intended for signing could not be determined from the DID Document");return Vt})}static publish(oe){return Hn(this,arguments,void 0,function*({did:ye,gatewayUri:Je=_r}){return yield Vi.put({did:ye,gatewayUri:Je})})}static resolve(oe){return Hn(this,arguments,void 0,function*(ye,Je={}){var Ze;const ht=null!==(Ze=Je?.gatewayUri)&&void 0!==Ze?Ze:_r;try{yield ji.identifierToIdentityKey({didUri:ye});const{didDocument:Vt,didDocumentMetadata:vn}=yield Vi.get({didUri:ye,gatewayUri:ht});return Object.assign(Object.assign({},se),{didDocument:Vt,didDocumentMetadata:vn})}catch(Vt){if(!(Vt instanceof ae))throw new Error(Vt);return Object.assign(Object.assign({},se),{didResolutionMetadata:Object.assign({error:Vt.code},Vt.message&&{errorMessage:Vt.message})})}})}}return Ie.methodName="dht",Ie})();class Vi{static get(ie){return Hn(this,arguments,void 0,function*({didUri:oe,gatewayUri:ye}){const Je=ji.identifierToIdentityKeyBytes({didUri:oe}),Ze=yield Vi.pkarrGet({gatewayUri:ye,publicKeyBytes:Je}),ht=yield ji.parseBep44GetMessage({bep44Message:Ze}),Vt=yield Vi.fromDnsPacket({didUri:oe,dnsPacket:ht});return Vt.didDocumentMetadata.versionId=Ze.seq.toString(),Vt})}static put(ie){return Hn(this,arguments,void 0,function*({did:oe,gatewayUri:ye}){const Je=yield Vi.toDnsPacket({didDocument:oe.document,didMetadata:oe.metadata,authoritativeGatewayUris:[ye]}),Ze=yield ji.createBep44PutMessage({dnsPacket:Je,publicKeyBytes:ji.identifierToIdentityKeyBytes({didUri:oe.uri}),signer:yield oe.getSigner({methodId:"0"})}),ht=yield Vi.pkarrPut({gatewayUri:ye,bep44Message:Ze});return{didDocument:oe.document,didDocumentMetadata:Object.assign(Object.assign({},oe.metadata),{published:ht,versionId:Ze.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(ie){return Hn(this,arguments,void 0,function*({gatewayUri:oe,publicKeyBytes:ye}){const Je=w.U$.uint8Array(ye).toBase32Z(),Ze=new URL(Je,oe).href;let ht;try{if(ht=yield fetch(Ze,{method:"GET"}),!ht.ok)throw new ae(fe.NotFound,`Pkarr record not found for: ${Je}`)}catch(zt){throw zt instanceof ae?zt:new ae(fe.InternalError,`Failed to fetch Pkarr record: ${zt.message}`)}const Vt=yield ht.arrayBuffer();if(!Vt)throw new ae(fe.NotFound,`Pkarr record not found for: ${Je}`);if(Vt.byteLength<72)throw new ae(fe.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${Vt.byteLength}`);if(Vt.byteLength>1072)throw new ae(fe.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${Vt.byteLength}`);return{k:ye,seq:Number(new DataView(Vt).getBigUint64(64)),sig:new Uint8Array(Vt,0,64),v:new Uint8Array(Vt,72)}})}static pkarrPut(ie){return Hn(this,arguments,void 0,function*({gatewayUri:oe,bep44Message:ye}){const Je=w.U$.uint8Array(ye.k).toBase32Z(),Ze=new URL(Je,oe).href,ht=new Uint8Array(ye.v.length+72);let Vt;ht.set(ye.sig,0),new DataView(ht.buffer).setBigUint64(ye.sig.length,BigInt(ye.seq)),ht.set(ye.v,ye.sig.length+8);try{Vt=yield fetch(Ze,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:ht})}catch(vn){throw new ae(fe.InternalError,`Failed to put Pkarr record for identifier ${Je}: ${vn.message}`)}return Vt.ok})}static fromDnsPacket(ie){return Hn(this,arguments,void 0,function*({didUri:oe,dnsPacket:ye}){var Je,Ze,ht;const Vt={id:oe},vn={published:!0},zt=new Map;for(const dt of null!==(Je=ye?.answers)&&void 0!==Je?Je:[]){if("TXT"!==dt.type)continue;const tn=dt.name.split(".")[0].substring(1);switch(!0){case tn.startsWith("aka"):{const pr=ji.parseTxtDataToString(dt.data);Vt.alsoKnownAs=pr.split(Ii);break}case tn.startsWith("cnt"):{const pr=ji.parseTxtDataToString(dt.data);Vt.controller=pr.includes(Ii)?pr.split(Ii):pr;break}case tn.startsWith("k"):{const{id:pr,t:ur,k:Vr,c:ai,a:pi}=ji.parseTxtDataToObject(dt.data),Oi=w.U$.base64Url(Vr).toUint8Array(),Xr=li[Number(ur)];let ni=yield ji.keyConverter(Xr).bytesToPublicKey({publicKeyBytes:Oi});ni.alg=pi||Ro[Number(ur)];const Ei="k0"===tn?"0":void 0!==pr?pr:yield R({jwk:ni});null!==(Ze=Vt.verificationMethod)&&void 0!==Ze||(Vt.verificationMethod=[]);const Ti=`${oe}#${Ei}`;Vt.verificationMethod.push({id:Ti,type:"JsonWebKey",controller:ai??oe,publicKeyJwk:ni}),zt.set(tn,Ti);break}case tn.startsWith("s"):{const pr=ji.parseTxtDataToObject(dt.data),{id:ur,t:Vr,se:ai}=pr,pi=Gn(pr,["id","t","se"]),Oi=ai.includes(Ii)?ai.split(Ii):[ai],Xr=Object.fromEntries(Object.entries(pi).map(([ni,Ei])=>[ni,Ei.includes(Ii)?Ei.split(Ii):Ei]));null!==(ht=Vt.service)&&void 0!==ht||(Vt.service=[]),Vt.service.push(Object.assign(Object.assign({},Xr),{id:`${oe}#${ur}`,type:Vr,serviceEndpoint:Oi}));break}case tn.startsWith("typ"):{const{id:pr}=ji.parseTxtDataToObject(dt.data);vn.types=pr.split(Ii).map(ur=>Number(ur));break}case tn.startsWith("did"):{const pr=Xr=>Xr.split(Ii).map(ni=>zt.get(ni)).filter(ni=>"string"==typeof ni),{auth:ur,asm:Vr,del:ai,inv:pi,agm:Oi}=ji.parseTxtDataToObject(dt.data);ur&&(Vt.authentication=pr(ur)),Vr&&(Vt.assertionMethod=pr(Vr)),ai&&(Vt.capabilityDelegation=pr(ai)),pi&&(Vt.capabilityInvocation=pr(pi)),Oi&&(Vt.keyAgreement=pr(Oi));break}}}return{didDocument:Vt,didDocumentMetadata:vn,didResolutionMetadata:{}}})}static toDnsPacket(ie){return Hn(this,arguments,void 0,function*({didDocument:oe,didMetadata:ye,authoritativeGatewayUris:Je,previousDidProof:Ze}){var ht,Vt,vn,zt,dt;const tn=[],pr=[],ur=new Map,Vr=[],ai=[];if(void 0!==Ze){const{signature:Xr,previousDid:ni}=Ze;yield ji.validatePreviousDidProof({newDid:oe.id,previousDidProof:Ze}),tn.push({type:"TXT",name:"_prv._did.",ttl:$r,data:`id=${ni};s=${Xr}`})}if(oe.alsoKnownAs&&tn.push({type:"TXT",name:"_aka._did.",ttl:$r,data:oe.alsoKnownAs.join(Ii)}),oe.controller){const Xr=Array.isArray(oe.controller)?oe.controller.join(Ii):oe.controller;tn.push({type:"TXT",name:"_cnt._did.",ttl:$r,data:Xr})}for(const[Xr,ni]of null!==(Vt=null===(ht=oe.verificationMethod)||void 0===ht?void 0:ht.entries())&&void 0!==Vt?Vt:[]){const Ei=`k${Xr}`;ai.push(Ei);let Ti=ni.id.split("#").pop();ur.set(Ti,Ei);const qr=ni.publicKeyJwk;if(!qr?.crv||!(qr.crv in wo))throw new ae(fe.InvalidPublicKeyType,`Verification method '${ni.id}' contains an unsupported key type: ${null!==(vn=qr?.crv)&&void 0!==vn?vn:"undefined"}`);const jo=li[qr.crv],As=yield ji.keyConverter(qr.crv).publicKeyToBytes({publicKey:qr}),lc=[`t=${jo}`,`k=${w.U$.uint8Array(As).toBase64Url()}`];"0"!==Ti&&(yield R({jwk:qr}))!==Ti&&lc.unshift(`id=${Ti}`),qr.alg!==Ro[jo]&&lc.push(`a=${qr.alg}`),ni.controller!==oe.id&&lc.push(`c=${ni.controller}`),tn.push({type:"TXT",name:`_${Ei}._did.`,ttl:$r,data:lc.join(";")})}null===(zt=oe.service)||void 0===zt||zt.forEach((Xr,ni)=>{const Ei=`s${ni}`;Vr.push(Ei);let{id:Ti,type:qr,serviceEndpoint:jo}=Xr,As=Gn(Xr,["id","type","serviceEndpoint"]);Ti=Ln(Ti),jo=Array.isArray(jo)?jo.join(","):jo;const lc=Object.entries(Object.assign({id:Ti,t:qr,se:jo},As)).map(([il,zp])=>`${il}=${zp}`).join(";"),Jf=ji.chunkDataIfNeeded(lc);tn.push({type:"TXT",name:`_${Ei}._did.`,ttl:$r,data:Jf})});const pi=["v=0"];if(ai.length&&pi.push(`vm=${ai.join(Ii)}`),Object.keys(J).forEach(Xr=>{var ni;const Ei=null===(ni=oe[Xr])||void 0===ni?void 0:ni.map(Ti=>ur.get(Ti.split("#").pop()));Ei&&pi.push(`${go[Xr]}=${Ei.join(Ii)}`)}),Vr.length&&pi.push(`svc=${Vr.join(Ii)}`),null!==(dt=ye.types)&&void 0!==dt&&dt.length){const ni=ye.types.map(Ei=>"string"==typeof Ei?Mo[Ei]:Ei);tn.push({type:"TXT",name:"_typ._did.",ttl:$r,data:`id=${ni.join(Ii)}`})}tn.push({type:"TXT",name:"_did."+Vi.getUniqueDidSuffix(oe.id)+".",ttl:$r,data:pi.join(";")});for(const Xr of Je||[])pr.push({type:"NS",name:"_did."+Vi.getUniqueDidSuffix(oe.id)+".",ttl:$r,data:Xr+"."});return{id:0,type:"response",flags:on.hB,answers:[...tn,...pr]}})}static getUniqueDidSuffix(ie){return ie.split(":")[2]}}class ji{static createBep44PutMessage(ie){return Hn(this,arguments,void 0,function*({dnsPacket:oe,publicKeyBytes:ye,signer:Je}){const Ze=Math.ceil(Date.now()/1e3),ht=(0,on.lF)(oe),Vt=di.A.encode({seq:Ze,v:ht}).subarray(1,-1);if(Vt.length>1e3)throw new ae(fe.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${Vt.length} bytes`);return{k:ye,seq:Ze,sig:yield Je.sign({data:Vt}),v:ht}})}static identifierToIdentityKey(ie){return Hn(this,arguments,void 0,function*({didUri:oe}){let ye=ji.identifierToIdentityKeyBytes({didUri:oe});return yield le.bytesToPublicKey({publicKeyBytes:ye})})}static identifierToIdentityKeyBytes({didUri:ie}){const oe=ce.parse(ie);if(!oe)throw new ae(fe.InvalidDid,`Invalid DID URI: ${ie}`);if(oe.method!==vi.methodName)throw new ae(fe.MethodNotSupported,`Method not supported: ${oe.method}`);let ye;try{ye=w.U$.base32Z(oe.id).toUint8Array()}catch{throw new ae(fe.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==ye.length)throw new ae(fe.InvalidPublicKeyLength,`Invalid public key length: ${ye.length}`);return ye}static identityKeyToIdentifier(ie){return Hn(this,arguments,void 0,function*({identityKey:oe}){const ye=yield le.publicKeyToBytes({publicKey:oe}),Je=w.U$.uint8Array(ye).toBase32Z();return`did:${vi.methodName}:${Je}`})}static keyConverter(ie){const ye={Ed25519:le,"P-256":{publicKeyToBytes:Je=>Hn(this,[Je],void 0,function*({publicKey:Ze}){const ht=yield ve.publicKeyToBytes({publicKey:Ze});return yield ve.compressPublicKey({publicKeyBytes:ht})}),bytesToPublicKey:ve.bytesToPublicKey,privateKeyToBytes:ve.privateKeyToBytes,bytesToPrivateKey:ve.bytesToPrivateKey},secp256k1:{publicKeyToBytes:Je=>Hn(this,[Je],void 0,function*({publicKey:Ze}){const ht=yield Ve.publicKeyToBytes({publicKey:Ze});return yield Ve.compressPublicKey({publicKeyBytes:ht})}),bytesToPublicKey:Ve.bytesToPublicKey,privateKeyToBytes:Ve.privateKeyToBytes,bytesToPrivateKey:Ve.bytesToPrivateKey},X25519:et}[ie];if(!ye)throw new ae(fe.InvalidPublicKeyType,`Unsupported curve: ${ie}`);return ye}static parseBep44GetMessage(ie){return Hn(this,arguments,void 0,function*({bep44Message:oe}){const ye=yield le.bytesToPublicKey({publicKeyBytes:oe.k}),Je=di.A.encode({seq:oe.seq,v:oe.v}).subarray(1,-1);if(!(yield le.verify({key:ye,signature:oe.sig,data:Je})))throw new ae(fe.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,on.D4)(oe.v)})}static parseTxtDataToObject(ie){return this.parseTxtDataToString(ie).split(";").reduce((oe,ye)=>{const[Je,Ze]=ye.split("=");return oe[Je]=Ze,oe},{})}static parseTxtDataToString(ie){if("string"==typeof ie)return ie;if(ie instanceof Uint8Array)return w.U$.uint8Array(ie).toString();if(Array.isArray(ie))return ie.map(oe=>this.parseTxtDataToString(oe)).join("");throw new ae(fe.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(ie){return Hn(this,arguments,void 0,function*({newDid:oe,previousDidProof:ye}){const Je=yield ji.identifierToIdentityKey({didUri:ye.previousDid}),Ze=ji.identifierToIdentityKeyBytes({didUri:oe}),ht=w.U$.base64Url(ye.signature).toUint8Array();if(!(yield le.verify({key:Je,data:Ze,signature:ht})))throw new ae(fe.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(ie){if(ie.length<=255)return ie;const oe=[];for(let ye=0;ye<ie.length;ye+=255)oe.push(ie.slice(ye,ye+255));return oe}}_(52039);var Gr=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};let ri=(()=>{class Ie extends Tn{static create(){return Gr(this,arguments,void 0,function*({keyManager:oe=new Dt,options:ye={}}={}){var Je,Ze,ht,Vt;if(ye.algorithm&&ye.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(ye.verificationMethods&&1!==ye.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const vn=null!==(Vt=null!==(Je=ye.algorithm)&&void 0!==Je?Je:null===(ht=null===(Ze=ye.verificationMethods)||void 0===Ze?void 0:Ze[0])||void 0===ht?void 0:ht.algorithm)&&void 0!==Vt?Vt:"Ed25519",zt=yield oe.generateKey({algorithm:vn}),dt=yield oe.getPublicKey({keyUri:zt}),tn=w.U$.object(dt).toBase64Url(),pr=`did:${Ie.methodName}:${tn}`,Vr=(yield Ie.resolve(pr)).didDocument;return new Fr({uri:pr,document:Vr,metadata:{},keyManager:oe})})}static getSigningMethod(oe){return Gr(this,arguments,void 0,function*({didDocument:ye}){var Je;const Ze=ce.parse(ye.id);if(Ze&&Ze.method!==this.methodName)throw new ae(fe.MethodNotSupported,`Method not supported: ${Ze.method}`);const[ht]=null!==(Je=ye.verificationMethod)&&void 0!==Je?Je:[];if(!ht||!ht.publicKeyJwk)throw new ae(fe.InternalError,"A verification method intended for signing could not be determined from the DID Document");return ht})}static import(oe){return Gr(this,arguments,void 0,function*({portableDid:ye,keyManager:Je=new Dt}){const Ze=ce.parse(ye.uri);if(Ze?.method!==Ie.methodName)throw new ae(fe.MethodNotSupported,"Method not supported");const ht=yield Fr.import({portableDid:ye,keyManager:Je});if(1!==ht.document.verificationMethod.length)throw new ae(fe.InvalidDidDocument,"DID document must contain exactly one verification method");return ht})}static resolve(oe,ye){return Gr(this,void 0,void 0,function*(){const Je=ce.parse(oe);let Ze;try{Ze=w.U$.base64Url(Je.id).toObject()}catch{}if(!Je||!Ze)return Object.assign(Object.assign({},se),{didResolutionMetadata:{error:"invalidDid"}});if(Je.method!==Ie.methodName)return Object.assign(Object.assign({},se),{didResolutionMetadata:{error:"methodNotSupported"}});const ht={"@context":["https://www.w3.org/ns/did/v1"],id:Je.uri},Vt=`${ht.id}#0`;switch(ht.verificationMethod=[{id:Vt,type:"JsonWebKey",controller:ht.id,publicKeyJwk:Ze}],ht.authentication=[Vt],ht.assertionMethod=[Vt],ht.capabilityInvocation=[Vt],ht.capabilityDelegation=[Vt],ht.keyAgreement=[Vt],Ze.use){case"sig":delete ht.keyAgreement;break;case"enc":delete ht.authentication,delete ht.assertionMethod,delete ht.capabilityInvocation,delete ht.capabilityDelegation}return Object.assign(Object.assign({},se),{didDocument:ht})})}}return Ie.methodName="jwk",Ie})();var Ul=_(97829),dd=_(67449);class Hc{constructor({db:ie,location:oe="DATA/DID_RESOLVERCACHE",ttl:ye="15m"}={}){this.cache=ie??new dd.Level(oe),this.ttl=Ul(ye)}get(ie){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){try{const oe=yield this.cache.get(ie),ye=JSON.parse(oe);return Date.now()>=ye.ttlMillis?void this.cache.nextTick(()=>this.cache.del(ie)):ye.value}catch(oe){if(oe.notFound)return;throw oe}})}set(ie,oe){const ye={ttlMillis:Date.now()+this.ttl,value:oe},Je=JSON.stringify(ye);return this.cache.put(ie,Je)}delete(ie){return this.cache.del(ie)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var Ji=function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})};class ca{constructor(ie){this._agentDid=ie.agentDid,this.crypto=ie.cryptoApi,this.did=ie.didApi,this.dwn=ie.dwnApi,this.identity=ie.identityApi,this.keyManager=ie.keyManager,this.rpc=ie.rpcClient,this.sync=ie.syncApi,this.vault=ie.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(ie){this._agentDid=ie}static create({dataPath:ie="DATA/AGENT",agentDid:oe,agentVault:ye,cryptoApi:Je,didApi:Ze,dwnApi:ht,identityApi:Vt,keyManager:vn,rpcClient:zt,syncApi:dt}={}){return Ji(this,void 0,void 0,function*(){return ye??(ye=new y.TX({keyDerivationWorkFactor:21e4,store:new w.cG({location:`${ie}/VAULT_STORE`})})),Je??(Je=new y.DP),Ze??(Ze=new y.Bq({didMethods:[vi,ri],resolverCache:new Hc({location:`${ie}/DID_RESOLVERCACHE`}),store:new y.QZ})),ht??(ht=new y.rr({dwn:yield y.rr.createDwn({dataPath:ie,didResolver:Ze})})),Vt??(Vt=new y.yc({store:new y.dk})),vn??(vn=new y.eP({keyStore:new y.cW})),zt??(zt=new y.oN),dt??(dt=new y.rM({syncEngine:new y.qB({dataPath:ie})})),new ca({agentDid:oe,agentVault:ye,cryptoApi:Je,didApi:Ze,dwnApi:ht,keyManager:vn,identityApi:Vt,rpcClient:zt,syncApi:dt})})}firstLaunch(){return Ji(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:ie,recoveryPhrase:oe}){return Ji(this,void 0,void 0,function*(){return oe=yield this.vault.initialize({password:ie,recoveryPhrase:oe})})}processDidRequest(ie){return Ji(this,void 0,void 0,function*(){return this.did.processRequest(ie)})}processDwnRequest(ie){return Ji(this,void 0,void 0,function*(){return this.dwn.processRequest(ie)})}processVcRequest(ie){return Ji(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(ie){return Ji(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(ie){return Ji(this,void 0,void 0,function*(){return this.dwn.sendRequest(ie)})}sendVcRequest(ie){return Ji(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:ie}){return Ji(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:ie})),this.agentDid=yield this.vault.getDid()})}}class Ko{constructor({method:ie,id:oe,path:ye,query:Je,fragment:Ze,params:ht}){this.uri=`did:${ie}:${oe}`,this.method=ie,this.id=oe,this.path=ye,this.query=Je,this.fragment=Ze,this.params=ht}static parse(ie){if(!ie)return null;const oe=Ko.DID_URI_PATTERN.exec(ie);if(!oe||!oe.groups)return null;const{method:ye,id:Je,path:Ze,query:ht,fragment:Vt}=oe.groups,vn={uri:`did:${ye}:${Je}`,method:ye,id:Je};if(Ze&&(vn.path=Ze),ht&&(vn.query=ht.slice(1)),Vt&&(vn.fragment=Vt.slice(1)),ht){const zt={},dt=ht.slice(1).split("&");for(const tn of dt){const[pr,ur]=tn.split("=");zt[pr]=ur}vn.params=zt}return vn}}Ko.METHOD_PATTERN="([a-z0-9]+)",Ko.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ko.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ko.PCT_ENCODED_PATTERN})`,Ko.METHOD_ID_PATTERN=`((?:${Ko.ID_CHAR_PATTERN}*:)*(${Ko.ID_CHAR_PATTERN}+))`,Ko.PATH_PATTERN="(/[^#?]*)?",Ko.QUERY_PATTERN="([?][^#]*)?",Ko.FRAGMENT_PATTERN="(#.*)?",Ko.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ko.METHOD_PATTERN}):(?<id>${Ko.METHOD_ID_PATTERN})(?<path>${Ko.PATH_PATTERN})(?<query>${Ko.QUERY_PATTERN})(?<fragment>${Ko.FRAGMENT_PATTERN})$`),Error,_(44514),_(1424);function Mt(Ie,ie){return Ie=Math.ceil(Ie),ie=Math.floor(ie),Math.floor(Math.random()*(ie-Ie))+Ie}class In{constructor({agent:ie,connectedDid:oe}){this.agent=ie,this.connectedDid=oe,this.did=new H({agent:ie,connectedDid:oe}),this.dwn=new ee({agent:ie,connectedDid:oe}),this.vc=new Z({agent:ie,connectedDid:oe})}static connect({agent:ie,agentVault:oe,connectedDid:ye,password:Je,recoveryPhrase:Ze,sync:ht,techPreview:Vt}={}){var vn;return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){if(void 0===ie){const dt=yield ca.create({agentVault:oe});ie=dt,void 0===Je&&(Je="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;")),(yield dt.firstLaunch())&&(Ze=yield dt.initialize({password:Je,recoveryPhrase:Ze})),yield dt.start({password:Je});{let pr;const ur=yield dt.identity.list(),Vr=ur.length;if(0===Vr){const ai=null!==(vn=Vt?.dwnEndpoints)&&void 0!==vn?vn:yield function st(){return function(Ie,ie,oe,ye){return new(oe||(oe=Promise))(function(Ze,ht){function Vt(dt){try{zt(ye.next(dt))}catch(tn){ht(tn)}}function vn(dt){try{zt(ye.throw(dt))}catch(tn){ht(tn)}}function zt(dt){dt.done?Ze(dt.value):function Je(Ze){return Ze instanceof oe?Ze:new oe(function(ht){ht(Ze)})}(dt.value).then(Vt,vn)}zt((ye=ye.apply(Ie,ie||[])).next())})}(this,void 0,void 0,function*(){let Ie;try{if(Ie=yield fetch("https://dwn.tbddev.org/.well-known/did.json"),!Ie.ok)throw new Error(`HTTP Error: ${Ie.status} ${Ie.statusText}`)}catch(Je){return console.warn("failed to get tech preview dwn endpoints:",Je.message),[]}const ie=yield Ie.json(),[oe]=function qu({didDocument:Ie,id:ie,type:oe}){var ye,Je;return null!==(Je=null===(ye=Ie?.service)||void 0===ye?void 0:ye.filter(Ze=>!(ie&&Ze.id!==ie||oe&&Ze.type!==oe)))&&void 0!==Je?Je:[]}({didDocument:ie,id:"#dwn",type:"DecentralizedWebNode"}),ye=new Set;if("serviceEndpoint"in oe&&!Array.isArray(oe.serviceEndpoint)&&"string"!=typeof oe.serviceEndpoint&&Array.isArray(oe.serviceEndpoint.nodes)){const Je=oe.serviceEndpoint.nodes,Ze=Math.min(Je.length,2);for(let ht=0;ht<Je.length&&ye.size<Ze;ht+=1){const vn=Je[Mt(0,Je.length)];try{(yield fetch(`${vn}/health`)).ok&&ye.add(vn)}catch{}}}return Array.from(ye)})}();pr=yield dt.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:ai,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}}),yield dt.identity.manage({portableIdentity:yield pr.export()})}else{if(1!==Vr)throw new Error(`connect() failed due to unexpected state: Expected 1 but found ${Vr} stored identities.`);pr=ur[0]}ye=pr.did.uri}"off"!==ht&&(yield dt.sync.registerIdentity({did:ye}),ht??(ht="2m"),dt.sync.startSync({interval:ht}).catch(pr=>{console.error(`Sync failed: ${pr}`)}))}return{web5:new In({agent:ie,connectedDid:ye}),did:ye,recoveryPhrase:Ze}})}}},37475:(We,j,_)=>{"use strict";_.d(j,{U$:()=>L,cG:()=>ae,ny:()=>fe,Gs:()=>ee,VS:()=>d,Z6:()=>Pe,LC:()=>y,RI:()=>q,E8:()=>J,fc:()=>B});var y=_(52191),b=_(15130),P=_(80286),H=_(14725);function B(m){const E=Object.prototype.toString.call(m).match(/\s([a-zA-Z0-9]+)/),[D,R]=E;return R}var N=function(m,p,E,D){return new(E||(E=Promise))(function(x,s){function v(Q){try{F(D.next(Q))}catch(de){s(de)}}function $(Q){try{F(D.throw(Q))}catch(de){s(de)}}function F(Q){Q.done?x(Q.value):function R(x){return x instanceof E?x:new E(function(s){s(x)})}(Q.value).then(v,$)}F((D=D.apply(m,p||[])).next())})},U=function(m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var E,p=m[Symbol.asyncIterator];return p?p.call(m):(m="function"==typeof __values?__values(m):m[Symbol.iterator](),E={},D("next"),D("throw"),D("return"),E[Symbol.asyncIterator]=function(){return this},E);function D(x){E[x]=m[x]&&function(s){return new Promise(function(v,$){!function R(x,s,v,$){Promise.resolve($).then(function(F){x({value:F,done:v})},s)}(v,$,(s=m[x](s)).done,s.value)})}}};const A=new TextEncoder,G=new TextDecoder;class L{constructor(p,E){this.data=p,this.format=E}static arrayBuffer(p){return new L(p,"ArrayBuffer")}static asyncIterable(p){if(!function O(m){return"object"==typeof m&&null!==m&&"function"==typeof m[Symbol.asyncIterator]}(p))throw new TypeError("Input must be of type AsyncIterable.");return new L(p,"AsyncIterable")}static base32Z(p){return new L(p,"Base32Z")}static base58Btc(p){return new L(p,"Base58Btc")}static base64Url(p){return new L(p,"Base64Url")}static bufferSource(p){return new L(p,"BufferSource")}static hex(p){if("string"!=typeof p)throw new TypeError("Hex input must be a string.");if(p.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new L(p,"Hex")}static multibase(p){return new L(p,"Multibase")}static object(p){return new L(p,"Object")}static string(p){return new L(p,"String")}static uint8Array(p){return new L(p,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return P.s.baseDecode(this.data).buffer;case"Base64Url":return H.r0.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===B(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function w(m){return 0!==m.byteOffset||m.byteLength!==m.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return N(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return b.jd.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const p=new Uint8Array(this.data);return P.s.baseEncode(p)}case"Multibase":return this.data.substring(1);case"Uint8Array":return P.s.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const p=new Uint8Array(this.data);return H.r0.baseEncode(p)}case"BufferSource":{const p=this.toUint8Array();return H.r0.baseEncode(p)}case"Object":{const p=JSON.stringify(this.data),E=A.encode(p);return H.r0.baseEncode(E)}case"String":{const p=A.encode(this.data);return H.r0.baseEncode(p)}case"Uint8Array":return H.r0.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var p,E,D;return N(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const $=[];try{for(var v,x=!0,s=U(this.data);v=yield s.next(),!(p=v.done);x=!0)x=!1,$.push(v.value)}catch(Q){E={error:Q}}finally{try{!x&&!p&&(D=s.return)&&(yield D.call(s))}finally{if(E)throw E.error}}return new Blob($)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const p=Array.from({length:256},(E,D)=>D.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const E=this.toUint8Array();return L.uint8Array(E).toHex()}case"Base64Url":{const E=this.toUint8Array();return L.uint8Array(E).toHex()}case"Uint8Array":{let E="";for(let D=0;D<this.data.length;D++)E+=p[this.data[D]];return E}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const p=H.r0.baseDecode(this.data),E=G.decode(p);return JSON.parse(E)}case"String":return JSON.parse(this.data);case"Uint8Array":{const p=G.decode(this.data);return JSON.parse(p)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return N(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const p=yield this.toStringAsync();return JSON.parse(p)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return G.decode(this.data);case"Base64Url":{const p=H.r0.baseDecode(this.data);return G.decode(p)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var p,E,D,R;return N(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let $="";try{for(var v,x=!0,s=U(this.data);v=yield s.next(),!(p=v.done);x=!0)x=!1,$+="string"==typeof(R=v.value)?R:G.decode(R,{stream:!0})}catch(F){E={error:F}}finally{try{!x&&!p&&(D=s.return)&&(yield D.call(s))}finally{if(E)throw E.error}}return $+=G.decode(void 0,{stream:!1}),$}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return b.jd.baseDecode(this.data);case"Base58Btc":return P.s.baseDecode(this.data);case"Base64Url":return H.r0.baseDecode(this.data);case"BufferSource":{const p=B(this.data);if("Uint8Array"===p)return this.data;if("ArrayBuffer"===p)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const p=new Uint8Array(this.data.length/2);for(let E=0;E<this.data.length;E+=2){const D=parseInt(this.data.substring(E,E+2),16);if(isNaN(D))throw new TypeError("Input is not a valid hexadecimal string.");p[E/2]=D}return p}case"Object":{const p=JSON.stringify(this.data);return A.encode(p)}case"String":return A.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return N(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const p=yield this.toArrayBufferAsync();return new Uint8Array(p)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var z=_(41405);class ee{static addPrefix(p){var E;let{code:D,data:R,name:x}=p;if(!(x?!D:D))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(D=ee.codeToName.has(D)?D:ee.nameToCode.get(x),void 0===D)throw new Error(`Unsupported multicodec: ${null!==(E=p.name)&&void 0!==E?E:p.code}`);const s=z.L8.encodingLength(D),v=new Uint8Array(s+R.byteLength);return v.set(R,s),z.L8.encodeTo(D,v),v}static getCodeFromData(p){const{prefixedData:E}=p,[D,R]=z.L8.decode(E);return D}static getCodeFromName(p){const{name:E}=p,D=ee.nameToCode.get(E);if(void 0===D)throw new Error(`Unsupported multicodec: ${E}`);return D}static getNameFromCode(p){const{code:E}=p,D=ee.codeToName.get(E);if(void 0===D)throw new Error(`Unsupported multicodec: ${E}`);return D}static registerCodec(p){ee.codeToName.set(p.code,p.name),ee.nameToCode.set(p.name,p.code)}static removePrefix(p){const{prefixedData:E}=p,[D,R]=z.L8.decode(E),x=ee.codeToName.get(D);if(void 0===x)throw new Error(`Unsupported multicodec: ${D}`);return{code:D,data:E.slice(R),name:x}}}function q(m){return!("object"!=typeof m||null===m||Object.getOwnPropertySymbols(m).length>0)&&0===Object.keys(m).length}function J(m){Object.keys(m).forEach(p=>{void 0===m[p]?delete m[p]:"object"==typeof m[p]&&J(m[p])})}ee.codeToName=new Map,ee.nameToCode=new Map,ee.registerCodec({code:237,name:"ed25519-pub"}),ee.registerCodec({code:4864,name:"ed25519-priv"}),ee.registerCodec({code:236,name:"x25519-pub"}),ee.registerCodec({code:4866,name:"x25519-priv"}),ee.registerCodec({code:231,name:"secp256k1-pub"}),ee.registerCodec({code:4865,name:"secp256k1-priv"});var se=_(54626),ce=function(m,p,E,D){return new(E||(E=Promise))(function(x,s){function v(Q){try{F(D.next(Q))}catch(de){s(de)}}function $(Q){try{F(D.throw(Q))}catch(de){s(de)}}function F(Q){Q.done?x(Q.value):function R(x){return x instanceof E?x:new E(function(s){s(x)})}(Q.value).then(v,$)}F((D=D.apply(m,p||[])).next())})};class ae{constructor({db:p,location:E="DATASTORE"}={}){this.store=p??new se.Level(E)}clear(){return ce(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return ce(this,void 0,void 0,function*(){yield this.store.close()})}delete(p){return ce(this,void 0,void 0,function*(){yield this.store.del(p)})}get(p){return ce(this,void 0,void 0,function*(){try{return yield this.store.get(p)}catch(E){if(E.notFound)return;throw E}})}set(p,E){return ce(this,void 0,void 0,function*(){yield this.store.put(p,E)})}}class fe{constructor(){this.store=new Map}clear(){return ce(this,void 0,void 0,function*(){this.store.clear()})}close(){return ce(this,void 0,void 0,function*(){})}delete(p){return ce(this,void 0,void 0,function*(){return this.store.delete(p)})}get(p){return ce(this,void 0,void 0,function*(){return this.store.get(p)})}has(p){return ce(this,void 0,void 0,function*(){return this.store.has(p)})}list(){return ce(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(p,E){return ce(this,void 0,void 0,function*(){this.store.set(p,E)})}}var he=function(m,p,E,D){return new(E||(E=Promise))(function(x,s){function v(Q){try{F(D.next(Q))}catch(de){s(de)}}function $(Q){try{F(D.throw(Q))}catch(de){s(de)}}function F(Q){Q.done?x(Q.value):function R(x){return x instanceof E?x:new E(function(s){s(x)})}(Q.value).then(v,$)}F((D=D.apply(m,p||[])).next())})},we=function(m){return this instanceof we?(this.v=m,this):new we(m)};class Pe{static asAsyncIterator(p){return function(m,p,E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var R,D=E.apply(m,p||[]),x=[];return R={},s("next"),s("throw"),s("return"),R[Symbol.asyncIterator]=function(){return this},R;function s(De){D[De]&&(R[De]=function(Re){return new Promise(function(Ve,Ee){x.push([De,Re,Ve,Ee])>1||v(De,Re)})})}function v(De,Re){try{!function $(De){De.value instanceof we?Promise.resolve(De.value.v).then(F,Q):de(x[0][2],De)}(D[De](Re))}catch(Ve){de(x[0][3],Ve)}}function F(De){v("next",De)}function Q(De){v("throw",De)}function de(De,Re){De(Re),x.shift(),x.length&&v(x[0][0],x[0][1])}}(this,arguments,function*(){const D=p.getReader();try{for(;;){const{done:R,value:x}=yield we(D.read());if(R)break;yield yield we(x)}}finally{D.releaseLock()}})}static consumeToArrayBuffer({readableStream:p}){return he(this,void 0,void 0,function*(){const E=Pe.asAsyncIterator(p);return yield L.asyncIterable(E).toArrayBufferAsync()})}static consumeToBlob({readableStream:p}){return he(this,void 0,void 0,function*(){const E=Pe.asAsyncIterator(p);return yield L.asyncIterable(E).toBlobAsync()})}static consumeToBytes({readableStream:p}){return he(this,void 0,void 0,function*(){const E=Pe.asAsyncIterator(p);return yield L.asyncIterable(E).toUint8ArrayAsync()})}static consumeToJson({readableStream:p}){return he(this,void 0,void 0,function*(){const E=Pe.asAsyncIterator(p);return yield L.asyncIterable(E).toObjectAsync()})}static consumeToText({readableStream:p}){return he(this,void 0,void 0,function*(){const E=Pe.asAsyncIterator(p);return yield L.asyncIterable(E).toStringAsync()})}static generateByteStream({streamLength:p,chunkLength:E,fillValue:D}){let x,R=p??1/0;function s(){const v=Math.min(R,E??1/0);let $;if(R-=v,"number"==typeof D)$=new Uint8Array(v).fill(D);else if(Array.isArray(D)){$=new Uint8Array(v);const[F,Q]=D,de=Q-F+1;for(let De=0;De<v;De++)$[De]=Math.floor(Math.random()*de)+F}else $=new Uint8Array(v);x.enqueue($),R<=0&&x.close()}return new ReadableStream({start(v){x=v,s()},pull(){s()}})}static isReadable({readableStream:p}){if(!Pe.isReadableStream(p)||p.locked)return!1;try{return p.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(p){return"object"==typeof p&&null!==p&&"getReader"in p&&"function"==typeof p.getReader}static isStream(p){return Pe.isReadableStream(p)||Pe.isWritableStream(p)||Pe.isTransformStream(p)}static isTransformStream(p){return"object"==typeof p&&null!==p&&"readable"in p&&"object"==typeof p.readable&&"writable"in p&&"object"==typeof p.writable}static isWritableStream(p){return"object"==typeof p&&null!==p&&"getWriter"in p&&"function"==typeof p.getWriter&&"abort"in p&&"function"==typeof p.abort}}var C=_(95424),a=function(m,p,E,D){return new(E||(E=Promise))(function(x,s){function v(Q){try{F(D.next(Q))}catch(de){s(de)}}function $(Q){try{F(D.throw(Q))}catch(de){s(de)}}function F(Q){Q.done?x(Q.value):function R(x){return x instanceof E?x:new E(function(s){s(x)})}(Q.value).then(v,$)}F((D=D.apply(m,p||[])).next())})};class d{static consumeToArrayBuffer({readable:p}){return a(this,void 0,void 0,function*(){return yield L.asyncIterable(p).toArrayBufferAsync()})}static consumeToBlob({readable:p}){return a(this,void 0,void 0,function*(){return yield L.asyncIterable(p).toBlobAsync()})}static consumeToBytes({readable:p}){return a(this,void 0,void 0,function*(){return yield L.asyncIterable(p).toUint8ArrayAsync()})}static consumeToJson({readable:p}){return a(this,void 0,void 0,function*(){return yield L.asyncIterable(p).toObjectAsync()})}static consumeToText({readable:p}){return a(this,void 0,void 0,function*(){return yield L.asyncIterable(p).toStringAsync()})}static fromWebReadable({readableStream:p,readableOptions:E}){if(!Pe.isReadableStream(p))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const D=p.getReader();let R=!1;const x=new C.Readable(Object.assign(Object.assign({},E),{read:function(){D.read().then(({done:s,value:v})=>{if(s)this.push(null);else if(!this.push(v))return}).catch(s=>{this.destroy(s)})},destroy:function(s,v){function $(){v(s)}R?$():D.cancel(s).then($).catch($)}}));return D.closed.then(()=>{R=!0}).catch(s=>{R=!0,x.destroy(s)}),x}static isDestroyed({stream:p}){if(!d.isStream(p))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!p.destroyed&&!(("_writableState"in p?p._writableState:void 0)||p._readableState).destroyed)}static isReadable({readable:p}){return!!d.isReadableStream(p)&&p.readable&&"boolean"==typeof p._readableState.ended&&!p._readableState.ended&&"boolean"==typeof p._readableState.endEmitted&&!p._readableState.endEmitted&&!p.destroyed&&!p.isPaused()}static isReadableStream(p){return"object"==typeof p&&null!==p&&"pipe"in p&&"function"==typeof p.pipe&&"on"in p&&"function"==typeof p.on&&!("_writableState"in p)&&"_readableState"in p}static isStream(p){return"object"==typeof p&&null!==p&&("_readableState"in p||"_writableState"in p)}static toWebReadable({readable:p}){if(!d.isReadableStream(p))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(d.isDestroyed({stream:p})){const E=new ReadableStream;return E.cancel(),E}return new ReadableStream({start(E){p.on("data",D=>{E.enqueue(D)}),p.on("end",()=>{E.close()}),p.on("error",D=>{E.error(D)})},cancel(){p.destroy()}})}}},2198:(We,j,_)=>{"use strict";_.d(j,{A:()=>me});const y="0123456789abcdef",b=[],P=[];for(let te=0;te<256;te++)b[te]=y[te>>4&15]+y[15&te],te<16&&(te<10?P[48+te]=te:P[87+te]=te);const H=te=>{const ne=te.length;let le="",Ae=0;for(;Ae<ne;)le+=b[te[Ae++]];return le};for(var N=typeof Uint8Array>"u"?[]:new Uint8Array(256),U=0;U<64;U++)N["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(U)]=U;const L=new TextDecoder,z=(te,ne)=>ne?new TextDecoder(ne).decode(te):L.decode(te),ee=new TextEncoder,q=te=>ee.encode(te);function a(te){const ne=te<0?1:0;return te=Math.abs(Number(te||1)),Math.floor(Math.log10(te))+1+ne}function d(te){return ArrayBuffer.isView(te)?"arraybufferview":Array.isArray(te)?"array":te instanceof Number?"number":te instanceof Boolean?"boolean":te instanceof Set?"set":te instanceof Map?"map":te instanceof String?"string":te instanceof ArrayBuffer?"arraybuffer":typeof te}function m(te,ne,le){const Ae=[];let Be=null;return m._encode(Ae,te),Be=((te,ne=0)=>{const le=te.length||0;if(!ne){let ze=le;for(;ze--;)ne+=te[ze].length}const Ae=new Uint8Array(ne);let Be=ne,qe=le;for(;qe--;)Be-=te[qe].length,Ae.set(te[qe],Be);return Ae})(Ae),m.bytes=Be.length,ArrayBuffer.isView(ne)?(ne.set(Be,le),ne):Be}typeof window<"u"?window:self,m.bytes=-1,m._floatConversionDetected=!1,m._encode=function(te,ne){if(null!=ne)switch(d(ne)){case"object":m.dict(te,ne);break;case"map":m.dictMap(te,ne);break;case"array":m.list(te,ne);break;case"set":m.listSet(te,ne);break;case"string":m.string(te,ne);break;case"number":case"boolean":m.number(te,ne);break;case"arraybufferview":m.buffer(te,new Uint8Array(ne.buffer,ne.byteOffset,ne.byteLength));break;case"arraybuffer":m.buffer(te,new Uint8Array(ne))}};const p=new Uint8Array([101]),E=new Uint8Array([100]),D=new Uint8Array([108]);m.buffer=function(te,ne){te.push(q(ne.length+":"),ne)},m.string=function(te,ne){te.push(q(q(ne).byteLength+":"+ne))},m.number=function(te,ne){if(Number.isInteger(ne))return te.push(q("i"+BigInt(ne)+"e"));const le=2147483648,qe=(ne/le|0)*le+(ne%le|0);te.push(q("i"+qe+"e")),qe!==ne&&!m._floatConversionDetected&&(m._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+ne+'":','Bencoding only defines support for integers, value was converted to "'+qe+'"'),console.trace())},m.dict=function(te,ne){te.push(E);let Ae,le=0;const Be=Object.keys(ne).sort(),qe=Be.length;for(;le<qe;le++)Ae=Be[le],null!=ne[Ae]&&(m.string(te,Ae),m._encode(te,ne[Ae]));te.push(p)},m.dictMap=function(te,ne){te.push(E);const le=Array.from(ne.keys()).sort();for(const Ae of le)null!=ne.get(Ae)&&(ArrayBuffer.isView(Ae)?m._encode(te,Ae):m.string(te,String(Ae)),m._encode(te,ne.get(Ae)));te.push(p)},m.list=function(te,ne){let le=0;const Ae=ne.length;for(te.push(D);le<Ae;le++)null!=ne[le]&&m._encode(te,ne[le]);te.push(p)},m.listSet=function(te,ne){te.push(D);for(const le of ne)null!=le&&m._encode(te,le);te.push(p)};const R=m;function Q(te,ne,le){let Ae=0,Be=1;for(let qe=ne;qe<le;qe++){const ze=te[qe];if(ze<58&&ze>=48)Ae=10*Ae+(ze-48);else if(qe!==ne||43!==ze){if(qe===ne&&45===ze){Be=-1;continue}if(46===ze)break;throw new Error("not a number: buffer["+qe+"] = "+ze)}}return Ae*Be}function de(te,ne,le,Ae){return null==te||0===te.length?null:("number"!=typeof ne&&null==Ae&&(Ae=ne,ne=void 0),"number"!=typeof le&&null==Ae&&(Ae=le,le=void 0),de.position=0,de.encoding=Ae||null,de.data=ArrayBuffer.isView(te)?new Uint8Array(te.slice(ne,le)):q(te),de.bytes=de.data.length,de.next())}function ve(te){if(null==te)return 0;const le=d(te);switch(le){case"arraybufferview":return function Fe(te){const ne=te.byteLength-te.byteOffset;return a(ne)+1+ne}(te);case"string":return function _e(te){const ne=q(te).byteLength;return a(ne)+1+ne}(te);case"array":case"set":return function Re(te){let ne=2;for(const le of te)ne+=ve(le);return ne}(te);case"number":return 1+a(Math.floor(te))+1;case"bigint":return 1+te.toString().length+1;case"object":return function Ee(te){let ne=2;const le=Object.keys(te);for(let Ae=0;Ae<le.length;Ae++){const Be=q(le[Ae]).byteLength;ne+=a(Be)+1+Be,ne+=ve(te[le[Ae]])}return ne}(te);case"map":return function Ve(te){let ne=2;for(const[le,Ae]of te){const Be=q(le).byteLength;ne+=a(Be)+1+Be,ne+=ve(Ae)}return ne}(te);default:throw new TypeError(`Unsupported value of type "${le}"`)}}de.bytes=0,de.position=0,de.data=null,de.encoding=null,de.next=function(){switch(de.data[de.position]){case 100:return de.dictionary();case 108:return de.list();case 105:return de.integer();default:return de.buffer()}},de.find=function(te){let ne=de.position;const le=de.data.length,Ae=de.data;for(;ne<le;){if(Ae[ne]===te)return ne;ne++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(te)+'" [0x'+te.toString(16)+"]")},de.dictionary=function(){de.position++;const te={};for(;101!==de.data[de.position];){const ne=de.buffer();let le=z(ne);le.includes("\ufffd")&&(le=H(ne)),te[le]=de.next()}return de.position++,te},de.list=function(){de.position++;const te=[];for(;101!==de.data[de.position];)te.push(de.next());return de.position++,te},de.integer=function(){const te=de.find(101),ne=Q(de.data,de.position+1,te);return de.position+=te+1-de.position,ne},de.buffer=function(){let te=de.find(58);const ne=Q(de.data,de.position,te),le=++te+ne;return de.position=le,de.encoding?z(de.data.slice(te,le)):de.data.slice(te,le)};const me={encode:R,decode:de,byteLength:ve,encodingLength:ve}},10797:(We,j,_)=>{"use strict";_.d(j,{_Q:()=>G,yE:()=>ee});var w=_(52054);class O{constructor(Z,J,se){this.name=Z,this.prefix=J,this.baseEncode=se}encode(Z){if(Z instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Z)}`;throw Error("Unknown type, must be binary type")}}class S{constructor(Z,J,se){if(this.name=Z,this.prefix=J,void 0===J.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=J.codePointAt(0),this.baseDecode=se}decode(Z){if("string"==typeof Z){if(Z.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Z)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Z.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(Z){return N(this,Z)}}class B{constructor(Z){this.decoders=Z}or(Z){return N(this,Z)}decode(Z){const se=this.decoders[Z[0]];if(se)return se.decode(Z);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Z)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const N=(q,Z)=>new B({...q.decoders||{[q.prefix]:q},...Z.decoders||{[Z.prefix]:Z}});class U{constructor(Z,J,se,ce){this.name=Z,this.prefix=J,this.baseEncode=se,this.baseDecode=ce,this.encoder=new O(Z,J,se),this.decoder=new S(Z,J,ce)}encode(Z){return this.encoder.encode(Z)}decode(Z){return this.decoder.decode(Z)}}const A=({name:q,prefix:Z,encode:J,decode:se})=>new U(q,Z,J,se),G=({prefix:q,name:Z,alphabet:J})=>{const{encode:se,decode:ce}=function y(q,Z){if(q.length>=255)throw new TypeError("Alphabet too long");for(var J=new Uint8Array(256),se=0;se<J.length;se++)J[se]=255;for(var ce=0;ce<q.length;ce++){var ae=q.charAt(ce),fe=ae.charCodeAt(0);if(255!==J[fe])throw new TypeError(ae+" is ambiguous");J[fe]=ce}var he=q.length,we=q.charAt(0),Me=Math.log(he)/Math.log(256),Pe=Math.log(256)/Math.log(he);function a(m){if("string"!=typeof m)throw new TypeError("Expected String");if(0===m.length)return new Uint8Array;var p=0;if(" "!==m[p]){for(var E=0,D=0;m[p]===we;)E++,p++;for(var R=(m.length-p)*Me+1>>>0,x=new Uint8Array(R);m[p];){var s=J[m.charCodeAt(p)];if(255===s)return;for(var v=0,$=R-1;(0!==s||v<D)&&-1!==$;$--,v++)x[$]=(s+=he*x[$]>>>0)%256>>>0,s=s/256>>>0;if(0!==s)throw new Error("Non-zero carry");D=v,p++}if(" "!==m[p]){for(var F=R-D;F!==R&&0===x[F];)F++;for(var Q=new Uint8Array(E+(R-F)),de=E;F!==R;)Q[de++]=x[F++];return Q}}}return{encode:function C(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===m.length)return"";for(var p=0,E=0,D=0,R=m.length;D!==R&&0===m[D];)D++,p++;for(var x=(R-D)*Pe+1>>>0,s=new Uint8Array(x);D!==R;){for(var v=m[D],$=0,F=x-1;(0!==v||$<E)&&-1!==F;F--,$++)s[F]=(v+=256*s[F]>>>0)%he>>>0,v=v/he>>>0;if(0!==v)throw new Error("Non-zero carry");E=$,D++}for(var Q=x-E;Q!==x&&0===s[Q];)Q++;for(var de=we.repeat(p);Q<x;++Q)de+=q.charAt(s[Q]);return de},decodeUnsafe:a,decode:function d(m){var p=a(m);if(p)return p;throw new Error(`Non-${Z} character`)}}}(J,Z);return A({prefix:q,name:Z,encode:se,decode:ae=>(0,w.au)(ce(ae))})},ee=({name:q,prefix:Z,bitsPerChar:J,alphabet:se})=>A({prefix:Z,name:q,encode:ce=>((q,Z,J)=>{const se="="===Z[Z.length-1],ce=(1<<J)-1;let ae="",fe=0,he=0;for(let we=0;we<q.length;++we)for(he=he<<8|q[we],fe+=8;fe>J;)fe-=J,ae+=Z[ce&he>>fe];if(fe&&(ae+=Z[ce&he<<J-fe]),se)for(;ae.length*J&7;)ae+="=";return ae})(ce,se,J),decode:ce=>((q,Z,J,se)=>{const ce={};for(let Pe=0;Pe<Z.length;++Pe)ce[Z[Pe]]=Pe;let ae=q.length;for(;"="===q[ae-1];)--ae;const fe=new Uint8Array(ae*J/8|0);let he=0,we=0,Me=0;for(let Pe=0;Pe<ae;++Pe){const C=ce[q[Pe]];if(void 0===C)throw new SyntaxError(`Non-${se} character`);we=we<<J|C,he+=J,he>=8&&(he-=8,fe[Me++]=255&we>>he)}if(he>=J||255&we<<8-he)throw new SyntaxError("Unexpected end of data");return fe})(ce,se,J,q)})},15130:(We,j,_)=>{"use strict";_.d(j,{RG:()=>b,jd:()=>U});var y=_(10797);const b=(0,y.yE)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),U=((0,y.yE)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,y.yE)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,y.yE)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,y.yE)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,y.yE)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,y.yE)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,y.yE)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,y.yE)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}))},80286:(We,j,_)=>{"use strict";_.d(j,{s:()=>b});var y=_(10797);const b=(0,y._Q)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,y._Q)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},14725:(We,j,_)=>{"use strict";_.d(j,{r0:()=>H});var y=_(10797);(0,y.yE)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),(0,y.yE)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6});const H=(0,y.yE)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6});(0,y.yE)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},52054:(We,j,_)=>{"use strict";_.d(j,{aI:()=>H,au:()=>w}),new Uint8Array(0);const H=(N,U)=>{if(N===U)return!0;if(N.byteLength!==U.byteLength)return!1;for(let A=0;A<N.byteLength;A++)if(N[A]!==U[A])return!1;return!0},w=N=>{if(N instanceof Uint8Array&&"Uint8Array"===N.constructor.name)return N;if(N instanceof ArrayBuffer)return new Uint8Array(N);if(ArrayBuffer.isView(N))return new Uint8Array(N.buffer,N.byteOffset,N.byteLength);throw new Error("Unknown type, must be binary type")}},41861:(We,j,_)=>{"use strict";_.d(j,{TO:()=>A});var y=_(28206),b=_(56580),P=_(80286),H=_(15130),w=_(52054);const O=(se,ce)=>{const{bytes:ae,version:fe}=se;return 0===fe?L(ae,U(se),ce||P.s.encoder):z(ae,U(se),ce||H.RG.encoder)},N=new WeakMap,U=se=>{const ce=N.get(se);if(null==ce){const ae=new Map;return N.set(se,ae),ae}return ce};class A{constructor(ce,ae,fe,he){this.code=ae,this.version=ce,this.multihash=fe,this.bytes=he,this["/"]=he}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:ce,multihash:ae}=this;if(ce!==ee)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(ae.code!==q)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return A.createV0(ae)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:ce,digest:ae}=this.multihash,fe=b.vt(ce,ae);return A.createV1(this.code,fe)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(ce){return A.equals(this,ce)}static equals(ce,ae){return ae&&ce.code===ae.code&&ce.version===ae.version&&b.aI(ce.multihash,ae.multihash)}toString(ce){return O(this,ce)}toJSON(){return{"/":O(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(ce){if(null==ce)return null;const ae=ce;if(ae instanceof A)return ae;if(null!=ae["/"]&&ae["/"]===ae.bytes||ae.asCID===ae){const{version:fe,code:he,multihash:we,bytes:Me}=ae;return new A(fe,he,we,Me||Z(fe,he,we.bytes))}if(!0===ae[J]){const{version:fe,multihash:he,code:we}=ae,Me=b.D4(he);return A.create(fe,we,Me)}return null}static create(ce,ae,fe){if("number"!=typeof ae)throw new Error("String codecs are no longer supported");if(!(fe.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(ce){case 0:if(ae!==ee)throw new Error(`Version 0 CID must use dag-pb (code: ${ee}) block encoding`);return new A(ce,ae,fe,fe.bytes);case 1:{const he=Z(ce,ae,fe.bytes);return new A(ce,ae,fe,he)}default:throw new Error("Invalid version")}}static createV0(ce){return A.create(0,ee,ce)}static createV1(ce,ae){return A.create(1,ce,ae)}static decode(ce){const[ae,fe]=A.decodeFirst(ce);if(fe.length)throw new Error("Incorrect length");return ae}static decodeFirst(ce){const ae=A.inspectBytes(ce),fe=ae.size-ae.multihashSize,he=(0,w.au)(ce.subarray(fe,fe+ae.multihashSize));if(he.byteLength!==ae.multihashSize)throw new Error("Incorrect length");const we=he.subarray(ae.multihashSize-ae.digestSize),Me=new b.np(ae.multihashCode,ae.digestSize,we,he);return[0===ae.version?A.createV0(Me):A.createV1(ae.codec,Me),ce.subarray(ae.size)]}static inspectBytes(ce){let ae=0;const fe=()=>{const[m,p]=y.decode(ce.subarray(ae));return ae+=p,m};let he=fe(),we=ee;if(18===he?(he=0,ae=0):we=fe(),0!==he&&1!==he)throw new RangeError(`Invalid CID version ${he}`);const Me=ae,Pe=fe(),C=fe(),a=ae+C;return{version:he,codec:we,multihashCode:Pe,digestSize:C,multihashSize:a-Me,size:a}}static parse(ce,ae){const[fe,he]=G(ce,ae),we=A.decode(he);if(0===we.version&&"Q"!==ce[0])throw Error("Version 0 CID string must not include multibase prefix");return U(we).set(fe,ce),we}}const G=(se,ce)=>{switch(se[0]){case"Q":return[P.s.prefix,(ce||P.s).decode(`${P.s.prefix}${se}`)];case P.s.prefix:return[P.s.prefix,(ce||P.s).decode(se)];case H.RG.prefix:return[H.RG.prefix,(ce||H.RG).decode(se)];default:if(null==ce)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[se[0],ce.decode(se)]}},L=(se,ce,ae)=>{const{prefix:fe}=ae;if(fe!==P.s.prefix)throw Error(`Cannot string encode V0 in ${ae.name} encoding`);const he=ce.get(fe);if(null==he){const we=ae.encode(se).slice(1);return ce.set(fe,we),we}return he},z=(se,ce,ae)=>{const{prefix:fe}=ae,he=ce.get(fe);if(null==he){const we=ae.encode(se);return ce.set(fe,we),we}return he},ee=112,q=18,Z=(se,ce,ae)=>{const fe=y.encodingLength(se),he=fe+y.encodingLength(ce),we=new Uint8Array(he+ae.byteLength);return y.encodeTo(se,we,0),y.encodeTo(ce,we,fe),we.set(ae,he),we},J=Symbol.for("@ipld/js-cid/CID")},56580:(We,j,_)=>{"use strict";_.d(j,{D4:()=>H,aI:()=>w,np:()=>O,vt:()=>P});var y=_(52054),b=_(28206);const P=(S,B)=>{const N=B.byteLength,U=b.encodingLength(S),A=U+b.encodingLength(N),G=new Uint8Array(A+N);return b.encodeTo(S,G,0),b.encodeTo(N,G,U),G.set(B,A),new O(S,N,B,G)},H=S=>{const B=(0,y.au)(S),[N,U]=b.decode(B),[A,G]=b.decode(B.subarray(U)),L=B.subarray(U+G);if(L.byteLength!==A)throw new Error("Incorrect length");return new O(N,A,L,B)},w=(S,B)=>S===B||S.code===B.code&&S.size===B.size&&B.bytes instanceof Uint8Array&&(0,y.aI)(S.bytes,B.bytes);class O{constructor(B,N,U,A){this.code=B,this.size=N,this.digest=U,this.bytes=A}}},92059:(We,j,_)=>{"use strict";_.d(j,{H:()=>b});var y=_(56580);const b=({name:H,code:w,encode:O})=>new P(H,w,O);class P{constructor(w,O,S){this.name=w,this.code=O,this.encode=S}digest(w){if(w instanceof Uint8Array){const O=this.encode(w);return O instanceof Uint8Array?y.vt(this.code,O):O.then(S=>y.vt(this.code,S))}throw Error("Unknown type, must be binary type")}}},41405:(We,j,_)=>{"use strict";_.d(j,{L8:()=>b,TO:()=>y.TO});var y=_(41861),b=_(28206);_(52054),_(92059),_(56580)},28206:(We,j,_)=>{"use strict";_.r(j),_.d(j,{decode:()=>we,encodeTo:()=>Me,encodingLength:()=>Pe});var b=128,H=-128,w=Math.pow(2,31),B=128,N=127,A=Math.pow(2,7),G=Math.pow(2,14),L=Math.pow(2,21),z=Math.pow(2,28),ee=Math.pow(2,35),q=Math.pow(2,42),Z=Math.pow(2,49),J=Math.pow(2,56),se=Math.pow(2,63);const he={encode:function O(C,a,d){a=a||[];for(var m=d=d||0;C>=w;)a[d++]=255&C|b,C/=128;for(;C&H;)a[d++]=255&C|b,C>>>=7;return a[d]=0|C,O.bytes=d-m+1,a},decode:function U(C,m){var D,d=0,p=0,E=m=m||0,R=C.length;do{if(E>=R)throw U.bytes=0,new RangeError("Could not decode varint");D=C[E++],d+=p<28?(D&N)<<p:(D&N)*Math.pow(2,p),p+=7}while(D>=B);return U.bytes=E-m,d},encodingLength:function(C){return C<A?1:C<G?2:C<L?3:C<z?4:C<ee?5:C<q?6:C<Z?7:C<J?8:C<se?9:10}},we=(C,a=0)=>[he.decode(C,a),he.decode.bytes],Me=(C,a,d=0)=>(he.encode(C,a,d),a),Pe=C=>he.encodingLength(C)},10467:(We,j,_)=>{"use strict";function y(P,H,w,O,S,B,N){try{var U=P[B](N),A=U.value}catch(G){return void w(G)}U.done?H(A):Promise.resolve(A).then(O,S)}function b(P){return function(){var H=this,w=arguments;return new Promise(function(O,S){var B=P.apply(H,w);function N(A){y(B,O,S,N,U,"next",A)}function U(A){y(B,O,S,N,U,"throw",A)}N(void 0)})}}_.d(j,{A:()=>b})},31635:(We,j,_)=>{"use strict";function G(s,v,$,F){return new($||($=Promise))(function(de,De){function Re(_e){try{Ee(F.next(_e))}catch(Fe){De(Fe)}}function Ve(_e){try{Ee(F.throw(_e))}catch(Fe){De(Fe)}}function Ee(_e){_e.done?de(_e.value):function Q(de){return de instanceof $?de:new $(function(De){De(de)})}(_e.value).then(Re,Ve)}Ee((F=F.apply(s,v||[])).next())})}function ae(s){return this instanceof ae?(this.v=s,this):new ae(s)}function fe(s,v,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,F=$.apply(s,v||[]),de=[];return Q={},Re("next"),Re("throw"),Re("return",function De(Te){return function(ge){return Promise.resolve(ge).then(Te,Fe)}}),Q[Symbol.asyncIterator]=function(){return this},Q;function Re(Te,ge){F[Te]&&(Q[Te]=function(me){return new Promise(function(te,ne){de.push([Te,me,te,ne])>1||Ve(Te,me)})},ge&&(Q[Te]=ge(Q[Te])))}function Ve(Te,ge){try{!function Ee(Te){Te.value instanceof ae?Promise.resolve(Te.value.v).then(_e,Fe):ve(de[0][2],Te)}(F[Te](ge))}catch(me){ve(de[0][3],me)}}function _e(Te){Ve("next",Te)}function Fe(Te){Ve("throw",Te)}function ve(Te,ge){Te(ge),de.shift(),de.length&&Ve(de[0][0],de[0][1])}}function we(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $,v=s[Symbol.asyncIterator];return v?v.call(s):(s=function q(s){var v="function"==typeof Symbol&&Symbol.iterator,$=v&&s[v],F=0;if($)return $.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&F>=s.length&&(s=void 0),{value:s&&s[F++],done:!s}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),$={},F("next"),F("throw"),F("return"),$[Symbol.asyncIterator]=function(){return this},$);function F(de){$[de]=s[de]&&function(De){return new Promise(function(Re,Ve){!function Q(de,De,Re,Ve){Promise.resolve(Ve).then(function(Ee){de({value:Ee,done:Re})},De)}(Re,Ve,(De=s[de](De)).done,De.value)})}}}_.d(j,{AQ:()=>fe,N3:()=>ae,sH:()=>G,xN:()=>we}),"function"==typeof SuppressedError&&SuppressedError},83813:We=>{"use strict";We.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:We=>{"use strict";We.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:We=>{"use strict";We.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:We=>{"use strict";We.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:We=>{"use strict";We.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:We=>{"use strict";We.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:We=>{"use strict";We.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:We=>{"use strict";We.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:We=>{"use strict";We.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},3219:We=>{"use strict";We.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:We=>{"use strict";We.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:We=>{"use strict";We.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:We=>{"use strict";We.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:We=>{"use strict";We.exports={rE:"6.5.5"}},15579:We=>{"use strict";We.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},We=>{var j=y=>We(We.s=y);j(94073),j(13159)}]);