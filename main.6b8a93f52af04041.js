(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{52191:(Le,z,E)=>{var m=E(40573);const x="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,R=()=>x.now(),S=M=>M===1/0||(M=>M&&M===Math.floor(M)&&M>0&&isFinite(M))(M);class L{constructor({max:N=1/0,ttl:$,updateAgeOnGet:F=!1,checkAgeOnGet:I=!1,noUpdateTTL:X=!1,dispose:V,noDisposeOnSet:Z=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,void 0!==$&&!S($))throw new TypeError("ttl must be positive integer or Infinity if set");if(!S(N))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=$,this.max=N,this.updateAgeOnGet=!!F,this.checkAgeOnGet=!!I,this.noUpdateTTL=!!X,this.noDisposeOnSet=!!Z,void 0!==V){if("function"!=typeof V)throw new TypeError("dispose must be function if set");this.dispose=V}this.timer=void 0,this.timerExpiration=void 0}setTimer(N,$){if(this.timerExpiration<N)return;this.timer&&clearTimeout(this.timer);const F=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(const I in this.expirations){this.setTimer(I,I-R());break}},$);F.unref&&F.unref(),this.timerExpiration=N,this.timer=F}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return m.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){const N=this.dispose!==L.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(const[$,F]of N)this.dispose(F,$,"delete")}setTTL(N,$=this.ttl){const F=this.expirationMap.get(N);if(void 0!==F){const I=this.expirations[F];!I||I.length<=1?delete this.expirations[F]:this.expirations[F]=I.filter(X=>X!==N)}if($!==1/0){const I=Math.floor(R()+$);this.expirationMap.set(N,I),this.expirations[I]||(this.expirations[I]=[],this.setTimer(I,$)),this.expirations[I].push(N)}else this.expirationMap.set(N,1/0)}set(N,$,{ttl:F=this.ttl,noUpdateTTL:I=this.noUpdateTTL,noDisposeOnSet:X=this.noDisposeOnSet}={}){if(!S(F))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(N)){I||this.setTTL(N,F);const V=this.data.get(N);V!==$&&(this.data.set(N,$),X||this.dispose(V,N,"set"))}else this.setTTL(N,F),this.data.set(N,$);for(;this.size>this.max;)this.purgeToCapacity();return this}has(N){return this.data.has(N)}getRemainingTTL(N){const $=this.expirationMap.get(N);return $===1/0?$:void 0!==$?Math.max(0,Math.ceil($-R())):0}get(N,{updateAgeOnGet:$=this.updateAgeOnGet,ttl:F=this.ttl,checkAgeOnGet:I=this.checkAgeOnGet}={}){const X=this.data.get(N);if(!I||0!==this.getRemainingTTL(N))return $&&this.setTTL(N,F),X;this.delete(N)}dispose(N,$){}delete(N){const $=this.expirationMap.get(N);if(void 0!==$){const F=this.data.get(N);this.data.delete(N),this.expirationMap.delete(N);const I=this.expirations[$];return I&&(I.length<=1?delete this.expirations[$]:this.expirations[$]=I.filter(X=>X!==N)),this.dispose(F,N,"delete"),0===this.size&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(const N in this.expirations){const $=this.expirations[N];if(!(this.size-$.length>=this.max)){const F=this.size-this.max,I=[];for(const X of $.splice(0,F))I.push([X,this.data.get(X)]),this.data.delete(X),this.expirationMap.delete(X);for(const[X,V]of I)this.dispose(V,X,"evict");return}{delete this.expirations[N];const F=[];for(const I of $)F.push([I,this.data.get(I)]),this.data.delete(I),this.expirationMap.delete(I);for(const[I,X]of F)this.dispose(X,I,"evict")}}}get size(){return this.data.size}purgeStale(){const N=Math.ceil(R());for(const $ in this.expirations){if("Infinity"===$||$>N)return;const F=[...this.expirations[$]||[]],I=[];delete this.expirations[$];for(const X of F)I.push([X,this.data.get(X)]),this.data.delete(X),this.expirationMap.delete(X);for(const[X,V]of I)this.dispose(V,X,"stale")}0===this.size&&this.cancelTimer()}*entries(){for(const N in this.expirations)for(const $ of this.expirations[N])yield[$,this.data.get($)]}*keys(){for(const N in this.expirations)for(const $ of this.expirations[N])yield $}*values(){for(const N in this.expirations)for(const $ of this.expirations[N])yield this.data.get($)}[Symbol.iterator](){return this.entries()}}Le.exports=L},33065:(Le,z,E)=>{"use strict";E.r(z),E.d(z,{RestoreComponent:()=>re});var m=E(10467),x=E(93953),R=E(89417),W=E(88834),S=E(25596),L=E(99213),M=E(99631),N=E(5951),$=E(82798),F=E(34635),I=E(60132),X=E(31439),V=E(53719);function Z(te,Q){1&te&&(x.j41(0,"mat-error"),x.EFF(1,"Recovery phrase is "),x.j41(2,"strong"),x.EFF(3,"required"),x.k0s()())}let re=(()=>{class te{constructor(){this.fb=(0,x.WQX)(R.ok),this.crypto=(0,x.WQX)(I.j),this.app=(0,x.WQX)(X.d),this.identity=(0,x.WQX)(F.K),this.addressForm=this.fb.group({recoveryPhrase:[null,R.k0.required]})}onSubmit(){var J=this;return(0,m.A)(function*(){console.log(J.addressForm.controls.recoveryPhrase.value),J.addressForm.disable(),J.app.loading.set(!0);let oe=yield J.crypto.createPassword();const se={did:"",recoveryPhrase:J.addressForm.controls.recoveryPhrase.value,password:oe,passwordHash:""};oe="123";const ae=yield J.identity.restore(oe,J.addressForm.controls.recoveryPhrase.value);if(console.log("RESTORE Result: ",ae),!ae)return alert("Failed to restore account."),void J.addressForm.enable();se.did=ae.did,J.app.addAccount(se),J.app.initialized.set(!0),J.app.loading.set(!1)})()}static#e=this.\u0275fac=function(oe){return new(oe||te)};static#t=this.\u0275cmp=x.VBU({type:te,selectors:[["app-restore"]],standalone:!0,features:[x.aNF],decls:20,vars:3,consts:[["recoveryPhrase",""],["novalidate","",3,"ngSubmit","formGroup"],[1,"shipping-card"],[1,"full-width"],["matInput","","placeholder","Secret Recovery Phrase","formControlName","recoveryPhrase"],["align","end"],["mat-flat-button","","color","primary","type","submit",3,"disabled"]],template:function(oe,se){if(1&oe){const ae=x.RV6();x.j41(0,"h1"),x.EFF(1,"Restore your account"),x.k0s(),x.j41(2,"form",1),x.bIt("ngSubmit",function(){return x.eBV(ae),x.Njj(se.onSubmit())}),x.j41(3,"mat-card",2)(4,"mat-card-header")(5,"mat-card-title"),x.EFF(6,"Secret Recovery Phrase"),x.k0s(),x.j41(7,"mat-card-subtitle"),x.EFF(8,"Enter your 12 words backup"),x.k0s()(),x.j41(9,"mat-card-content"),x.nrm(10,"br"),x.j41(11,"mat-form-field",3)(12,"mat-label"),x.EFF(13,"Secret Recovery Phrase"),x.k0s(),x.nrm(14,"textarea",4,0),x.DNE(16,Z,4,0,"mat-error"),x.k0s()(),x.j41(17,"mat-card-actions",5)(18,"button",6),x.EFF(19,"Restore"),x.k0s()()()()}2&oe&&(x.R7$(2),x.Y8G("formGroup",se.addressForm),x.R7$(14),x.vxM(se.addressForm.controls.recoveryPhrase.hasError("required")?16:-1),x.R7$(2),x.Y8G("disabled",se.app.loading()))},dependencies:[M.fS,M.fg,V.rl,V.nJ,V.TL,W.Hl,W.$z,$.Ve,L.m_,N.Wk,S.Hu,S.RN,S.YY,S.m2,S.MM,S.Lc,S.dh,R.X1,R.qT,R.me,R.BC,R.cb,R.j4,R.JD],styles:[".shipping-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.link-input[_ngcontent-%COMP%]{display:flex;align-items:baseline}.link-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.4em}"]})}return te})()},31439:(Le,z,E)=>{"use strict";E.d(z,{d:()=>pe,f:()=>ae});var m=E(10467),x=E(93953),R=E(43794),W=E(60132),S=E(34635),M=E.t(JSON.parse('{"name":"ariton","version":"0.0.1","scripts":{"ng":"ng","start":"ng serve","build":"ng build","watch":"ng build --watch --configuration development","test":"ng test","deploy":"ng deploy app","i18n":"ng extract-i18n --format=json --output-path src/locale"},"repository":{"type":"git","url":"git+https://github.com/block-core/ariton.git"},"private":true,"dependencies":{"@angular-builders/custom-webpack":"^18.0.0","@angular/animations":"^18.1.3","@angular/cdk":"^18.1.3","@angular/common":"^18.1.3","@angular/compiler":"^18.1.3","@angular/core":"^18.1.3","@angular/forms":"^18.1.3","@angular/material":"^18.1.3","@angular/platform-browser":"^18.1.3","@angular/platform-browser-dynamic":"^18.1.3","@angular/router":"^18.1.3","@angular/service-worker":"^18.1.3","@scure/bip39":"^1.3.0","@web5/agent":"^0.4.1","@web5/api":"^0.10.0","@web5/credentials":"^1.0.4","@web5/crypto":"^1.0.2","@web5/dids":"^1.1.2","@web5/identity-agent":"^0.4.1","cropperjs":"^1.6.2","crypto-browserify":"^3.12.0","process":"^0.11.10","qrcode":"^1.5.3","rxjs":"~7.8.1","stream":"^0.0.3","stream-browserify":"^3.0.0","tslib":"^2.6.3","zone.js":"~0.14.8"},"devDependencies":{"@angular-devkit/build-angular":"^18.1.3","@angular/cli":"^18.1.3","@angular/compiler-cli":"^18.1.3","@angular/localize":"^18.1.3","@types/jasmine":"~5.1.4","@types/qrcode":"^1.5.5","angular-cli-ghpages":"^2.0.1","jasmine-core":"~5.2.0","karma":"~6.4.4","karma-chrome-launcher":"~3.2.0","karma-coverage":"~2.2.1","karma-jasmine":"~5.1.0","karma-jasmine-html-reporter":"~2.1.0","typescript":"~5.5.4"}}'),2),N=E(4053),$=E(77949),F=E(45189),I=E(49245),X=E(62060),V=E(67136),Z=E(1639),re=E(69371),te=E(2685),Q=E(69314),J=E(97372);let oe=(()=>{class le{constructor(){this.identityService=(0,x.WQX)(S.K)}register(){var we=this;return(0,m.A)(function*(){const De=[Q.Q,N.Q,$.Q,F.Q,I.Q,X.Q,V.Q,Z.Q,re.Q,te.Q,J.Q];for(const k of De){const{protocol:u,status:h}=yield we.identityService.web5.dwn.protocols.configure({message:{definition:k}});console.log("Install status:",h),console.log("Protocol:",u)}})()}static#e=this.\u0275fac=function(De){return new(De||le)};static#t=this.\u0275prov=x.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();var se=E(39434),ae=function(le){return le[le.Initial=0]="Initial",le[le.NewUser=1]="NewUser",le[le.Locked=2]="Locked",le[le.Unlocked=3]="Unlocked",le[le.Error=4]="Error",le}(ae||{});let pe=(()=>{class le{constructor(){var we=this;this.onboardingState=(0,x.vPA)(ae.Initial),this.initialized=(0,x.vPA)(!1),this.loading=(0,x.vPA)(!1),this.storage=(0,x.WQX)(R.n),this.crypto=(0,x.WQX)(W.j),this.identity=(0,x.WQX)(S.K),this.profile=(0,x.WQX)(se.p),this.protocol=(0,x.WQX)(oe),this.state=(0,x.vPA)({loginAction:"/dashboard",selectedAccount:"",hidden:{}}),this.account=(0,x.vPA)({did:"",recoveryPhrase:"",password:"",passwordHash:""}),this.accounts=(0,x.vPA)([]),this.params=(0,x.vPA)({}),this.package=M,console.log(`Ariton v${this.package.version} initialized.`),this.dependencies=Object.entries(this.package.dependencies).map(([De,k])=>({name:De,version:k})),(0,x.QZP)((0,m.A)(function*(){we.identity.locked()||(yield we.onUnlocked())}))}saveAccounts(){this.storage.save("accounts",this.accounts())}saveState(){this.storage.save("state",this.state())}hasStateBeenSet(){return!!this.storage.read("state")}addAccount(we){this.accounts().push(we),this.saveAccounts(),this.state().selectedAccount=we.did,this.saveState()}createAccount(){var we=this;return(0,m.A)(function*(){we.storage.save("state",{selectedAccount:"",hidden:{},loginAction:"/introduction"}),yield we.initialize()})()}initialize(){var we=this;return(0,m.A)(function*(){we.loading.set(!0),console.log("Initializing Ariton...");let De=we.storage.read("state");if(!De)return we.onboardingState.set(ae.NewUser),void we.loading.set(!1);let u,k=we.storage.read("accounts");if(k){const h=k.find(y=>y.did===De.selectedAccount);we.accounts.set(k),we.account?.set(h),h.password?(u=yield we.identity.connect(h.did,h.password),u?(we.onboardingState.set(ae.Unlocked),we.identity.locked.set(!1)):we.loading.set(!1)):(we.identity.locked.set(!0),we.onboardingState.set(ae.Locked))}else{console.log("No accounts found");const h=yield we.crypto.createPassword();if(u=yield we.identity.initialConnect(h),void 0===u)return we.storage.remove("state"),we.onboardingState.set(ae.Error),void we.loading.set(!1);console.log(u),console.log("Initialize connect finished."),k=[{did:u.did,recoveryPhrase:u.recoveryPhrase,password:h}],we.storage.save("accounts",k),De.selectedAccount=u.did,we.accounts.set(k),we.account?.set(k[0]),we.storage.save("state",De),we.onboardingState.set(ae.Unlocked),we.identity.locked.set(!1)}we.state.set(De)})()}onUnlocked(){var we=this;return(0,m.A)(function*(){yield we.profile.openCurrentUserProfile(we.account().did),we.initialized.set(!0),we.loading.set(!1),we.protocol.register()})()}static#e=this.\u0275fac=function(De){return new(De||le)};static#t=this.\u0275prov=x.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})()},61748:(Le,z,E)=>{"use strict";E.d(z,{b:()=>W});var m=E(18498),x=E(5964),R=E(93953);let W=(()=>{class S{constructor(M,N){this.router=M,this.activatedRoute=N,this.breadcrumbs=[],this.router.events.pipe((0,x.p)($=>$ instanceof m.wF)).subscribe(()=>{this.breadcrumbs=this.createBreadcrumbs(this.activatedRoute.root)})}createBreadcrumbs(M,N="",$=[]){const F=M.children;if(0===F.length)return $;for(const I of F){const X=I.snapshot.url.map(V=>V.path).join("/");return""!==X&&(N+=`/${X}`),$.push({label:I.snapshot.data.breadcrumb,url:N}),this.createBreadcrumbs(I,N,$)}return $}static#e=this.\u0275fac=function(N){return new(N||S)(R.KVO(m.Ix),R.KVO(m.nX))};static#t=this.\u0275prov=R.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},60132:(Le,z,E)=>{"use strict";E.d(z,{j:()=>$m});var m=E(10467);E(52191),new Uint8Array(0);class re{name;prefix;baseEncode;constructor(Ye,We,tt){this.name=Ye,this.prefix=We,this.baseEncode=tt}encode(Ye){if(Ye instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Ye)}`;throw Error("Unknown type, must be binary type")}}class te{name;prefix;baseDecode;prefixCodePoint;constructor(Ye,We,tt){if(this.name=Ye,this.prefix=We,void 0===We.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=We.codePointAt(0),this.baseDecode=tt}decode(Ye){if("string"==typeof Ye){if(Ye.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Ye)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Ye.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(Ye){return J(this,Ye)}}class Q{decoders;constructor(Ye){this.decoders=Ye}or(Ye){return J(this,Ye)}decode(Ye){const tt=this.decoders[Ye[0]];if(null!=tt)return tt.decode(Ye);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Ye)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function J(at,Ye){return new Q({...at.decoders??{[at.prefix]:at},...Ye.decoders??{[Ye.prefix]:Ye}})}class oe{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(Ye,We,tt,Ot){this.name=Ye,this.prefix=We,this.baseEncode=tt,this.baseDecode=Ot,this.encoder=new re(Ye,We,tt),this.decoder=new te(Ye,We,Ot)}encode(Ye){return this.encoder.encode(Ye)}decode(Ye){return this.decoder.decode(Ye)}}function se({name:at,prefix:Ye,encode:We,decode:tt}){return new oe(at,Ye,We,tt)}function ae({name:at,prefix:Ye,alphabet:We}){const{encode:tt,decode:Ot}=function I(at,Ye){if(at.length>=255)throw new TypeError("Alphabet too long");for(var We=new Uint8Array(256),tt=0;tt<We.length;tt++)We[tt]=255;for(var Ot=0;Ot<at.length;Ot++){var Ut=at.charAt(Ot),tn=Ut.charCodeAt(0);if(255!==We[tn])throw new TypeError(Ut+" is ambiguous");We[tn]=Ot}var kn=at.length,Xn=at.charAt(0),Qn=Math.log(kn)/Math.log(256),Tn=Math.log(256)/Math.log(kn);function oi(Vi){if("string"!=typeof Vi)throw new TypeError("Expected String");if(0===Vi.length)return new Uint8Array;var Wo=0;if(" "!==Vi[Wo]){for(var Il=0,xc=0;Vi[Wo]===Xn;)Il++,Wo++;for(var Ua=(Vi.length-Wo)*Qn+1>>>0,Fa=new Uint8Array(Ua);Vi[Wo];){var Dl=We[Vi.charCodeAt(Wo)];if(255===Dl)return;for(var cl=0,cu=Ua-1;(0!==Dl||cl<xc)&&-1!==cu;cu--,cl++)Fa[cu]=(Dl+=kn*Fa[cu]>>>0)%256>>>0,Dl=Dl/256>>>0;if(0!==Dl)throw new Error("Non-zero carry");xc=cl,Wo++}if(" "!==Vi[Wo]){for(var ll=Ua-xc;ll!==Ua&&0===Fa[ll];)ll++;for(var Sc=new Uint8Array(Il+(Ua-ll)),Kh=Il;ll!==Ua;)Sc[Kh++]=Fa[ll++];return Sc}}}return{encode:function Hn(Vi){if(Vi instanceof Uint8Array||(ArrayBuffer.isView(Vi)?Vi=new Uint8Array(Vi.buffer,Vi.byteOffset,Vi.byteLength):Array.isArray(Vi)&&(Vi=Uint8Array.from(Vi))),!(Vi instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Vi.length)return"";for(var Wo=0,Il=0,xc=0,Ua=Vi.length;xc!==Ua&&0===Vi[xc];)xc++,Wo++;for(var Fa=(Ua-xc)*Tn+1>>>0,Dl=new Uint8Array(Fa);xc!==Ua;){for(var cl=Vi[xc],cu=0,ll=Fa-1;(0!==cl||cu<Il)&&-1!==ll;ll--,cu++)Dl[ll]=(cl+=256*Dl[ll]>>>0)%kn>>>0,cl=cl/kn>>>0;if(0!==cl)throw new Error("Non-zero carry");Il=cu,xc++}for(var Sc=Fa-Il;Sc!==Fa&&0===Dl[Sc];)Sc++;for(var Kh=Xn.repeat(Wo);Sc<Fa;++Sc)Kh+=at.charAt(Dl[Sc]);return Kh},decodeUnsafe:oi,decode:function Ii(Vi){var Wo=oi(Vi);if(Wo)return Wo;throw new Error(`Non-${Ye} character`)}}}(We,at);return se({prefix:Ye,name:at,encode:tt,decode:Ut=>function M(at){if(at instanceof Uint8Array&&"Uint8Array"===at.constructor.name)return at;if(at instanceof ArrayBuffer)return new Uint8Array(at);if(ArrayBuffer.isView(at))return new Uint8Array(at.buffer,at.byteOffset,at.byteLength);throw new Error("Unknown type, must be binary type")}(Ot(Ut))})}function ve({name:at,prefix:Ye,bitsPerChar:We,alphabet:tt}){return se({prefix:Ye,name:at,encode:Ot=>function le(at,Ye,We){const tt="="===Ye[Ye.length-1],Ot=(1<<We)-1;let Ut="",tn=0,kn=0;for(let Xn=0;Xn<at.length;++Xn)for(kn=kn<<8|at[Xn],tn+=8;tn>We;)tn-=We,Ut+=Ye[Ot&kn>>tn];if(0!==tn&&(Ut+=Ye[Ot&kn<<We-tn]),tt)for(;Ut.length*We&7;)Ut+="=";return Ut}(Ot,tt,We),decode:Ot=>function pe(at,Ye,We,tt){const Ot={};for(let Tn=0;Tn<Ye.length;++Tn)Ot[Ye[Tn]]=Tn;let Ut=at.length;for(;"="===at[Ut-1];)--Ut;const tn=new Uint8Array(Ut*We/8|0);let kn=0,Xn=0,Qn=0;for(let Tn=0;Tn<Ut;++Tn){const Hn=Ot[at[Tn]];if(void 0===Hn)throw new SyntaxError(`Non-${tt} character`);Xn=Xn<<We|Hn,kn+=We,kn>=8&&(kn-=8,tn[Qn++]=255&Xn>>kn)}if(kn>=We||255&Xn<<8-kn)throw new SyntaxError("Unexpected end of data");return tn}(Ot,tt,We,at)})}ve({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ve({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ve({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ve({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ve({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ve({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ve({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ve({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ve({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ae({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ae({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ve({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ve({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ve({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ve({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),new TextEncoder,new TextDecoder;var he=128,ee=-128,ie=Math.pow(2,31),Ie=128,Ne=127,yt=Math.pow(2,7),Ke=Math.pow(2,14),Re=Math.pow(2,21),ot=Math.pow(2,28),U=Math.pow(2,35),_=Math.pow(2,42),p=Math.pow(2,49),O=Math.pow(2,56),q=Math.pow(2,63);const At={encode:function ue(at,Ye,We){Ye=Ye||[];for(var tt=We=We||0;at>=ie;)Ye[We++]=255&at|he,at/=128;for(;at&ee;)Ye[We++]=255&at|he,at>>>=7;return Ye[We]=0|at,ue.bytes=We-tt+1,Ye},decode:function Be(at,tt){var tn,We=0,Ot=0,Ut=tt=tt||0,kn=at.length;do{if(Ut>=kn)throw Be.bytes=0,new RangeError("Could not decode varint");tn=at[Ut++],We+=Ot<28?(tn&Ne)<<Ot:(tn&Ne)*Math.pow(2,Ot),Ot+=7}while(tn>=Ie);return Be.bytes=Ut-tt,We},encodingLength:function(at){return at<yt?1:at<Ke?2:at<Re?3:at<ot?4:at<U?5:at<_?6:at<p?7:at<O?8:at<q?9:10}};function ut(at,Ye=0){return[At.decode(at,Ye),At.decode.bytes]}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class Yt{static addPrefix(Ye){var We;let{code:tt,data:Ot,name:Ut}=Ye;if(!(Ut?!tt:tt))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(tt=Yt.codeToName.has(tt)?tt:Yt.nameToCode.get(Ut),void 0===tt)throw new Error(`Unsupported multicodec: ${null!==(We=Ye.name)&&void 0!==We?We:Ye.code}`);const tn=function Lt(at){return At.encodingLength(at)}(tt),kn=new Uint8Array(tn+Ot.byteLength);return kn.set(Ot,tn),function bt(at,Ye,We=0){return At.encode(at,Ye,We),Ye}(tt,kn),kn}static getCodeFromData(Ye){const{prefixedData:We}=Ye,[tt,Ot]=ut(We);return tt}static getCodeFromName(Ye){const{name:We}=Ye,tt=Yt.nameToCode.get(We);if(void 0===tt)throw new Error(`Unsupported multicodec: ${We}`);return tt}static getNameFromCode(Ye){const{code:We}=Ye,tt=Yt.codeToName.get(We);if(void 0===tt)throw new Error(`Unsupported multicodec: ${We}`);return tt}static registerCodec(Ye){Yt.codeToName.set(Ye.code,Ye.name),Yt.nameToCode.set(Ye.name,Ye.code)}static removePrefix(Ye){const{prefixedData:We}=Ye,[tt,Ot]=ut(We),Ut=Yt.codeToName.get(tt);if(void 0===Ut)throw new Error(`Unsupported multicodec: ${tt}`);return{code:tt,data:We.slice(Ot),name:Ut}}}Yt.codeToName=new Map,Yt.nameToCode=new Map,Yt.registerCodec({code:237,name:"ed25519-pub"}),Yt.registerCodec({code:4864,name:"ed25519-priv"}),Yt.registerCodec({code:236,name:"x25519-pub"}),Yt.registerCodec({code:4866,name:"x25519-priv"}),Yt.registerCodec({code:231,name:"secp256k1-pub"}),Yt.registerCodec({code:4865,name:"secp256k1-priv"}),E(95099),E(80868);const Dn="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function id(at){return function ku(at=32){if(Dn&&"function"==typeof Dn.getRandomValues)return Dn.getRandomValues(new Uint8Array(at));throw new Error("crypto.getRandomValues must be defined")}(at)}new Uint8Array(new Uint32Array([287454020]).buffer),E(94256),E(91006),E(40499),E(86295),E(91879);class Np{static deriveKey(Ye){return function(at,Ye,We,tt){return new(We||(We=Promise))(function(Ut,tn){function kn(Tn){try{Qn(tt.next(Tn))}catch(Hn){tn(Hn)}}function Xn(Tn){try{Qn(tt.throw(Tn))}catch(Hn){tn(Hn)}}function Qn(Tn){Tn.done?Ut(Tn.value):function Ot(Ut){return Ut instanceof We?Ut:new We(function(tn){tn(Ut)})}(Tn.value).then(kn,Xn)}Qn((tt=tt.apply(at,Ye||[])).next())})}(this,arguments,void 0,function*({hash:We,password:tt,salt:Ot,iterations:Ut,length:tn}){const kn=yield Dn.subtle.importKey("raw",tt,{name:"PBKDF2"},!1,["deriveBits"]),Xn=yield Dn.subtle.deriveBits({name:"PBKDF2",hash:We,salt:Ot,iterations:Ut},kn,tn);return new Uint8Array(Xn)})}}function ou(at,...Ye){if(!function wi(at){return at instanceof Uint8Array||null!=at&&"object"==typeof at&&"Uint8Array"===at.constructor.name}(at))throw new Error("Uint8Array expected");if(Ye.length>0&&!Ye.includes(at.length))throw new Error(`Uint8Array expected of length ${Ye}, not of length=${at.length}`)}function Uc(at,Ye=!0){if(at.destroyed)throw new Error("Hash instance has been destroyed");if(Ye&&at.finished)throw new Error("Hash#digest() has already been called")}E(94730);const Fm="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Wf=at=>new DataView(at.buffer,at.byteOffset,at.byteLength),vs=(at,Ye)=>at<<32-Ye|at>>>Ye;function Ki(at){return"string"==typeof at&&(at=function Lh(at){if("string"!=typeof at)throw new Error("utf8ToBytes expected string, got "+typeof at);return new Uint8Array((new TextEncoder).encode(at))}(at)),ou(at),at}new Uint8Array(new Uint32Array([287454020]).buffer);class Uh{clone(){return this._cloneInto()}}function My(at){const Ye=tt=>at().update(Ki(tt)).digest(),We=at();return Ye.outputLen=We.outputLen,Ye.blockLen=We.blockLen,Ye.create=()=>at(),Ye}const Ft=(at,Ye,We)=>at&Ye^~at&We,wt=(at,Ye,We)=>at&Ye^at&We^Ye&We;class kt extends Uh{constructor(Ye,We,tt,Ot){super(),this.blockLen=Ye,this.outputLen=We,this.padOffset=tt,this.isLE=Ot,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(Ye),this.view=Wf(this.buffer)}update(Ye){Uc(this);const{view:We,buffer:tt,blockLen:Ot}=this,Ut=(Ye=Ki(Ye)).length;for(let tn=0;tn<Ut;){const kn=Math.min(Ot-this.pos,Ut-tn);if(kn!==Ot)tt.set(Ye.subarray(tn,tn+kn),this.pos),this.pos+=kn,tn+=kn,this.pos===Ot&&(this.process(We,0),this.pos=0);else{const Xn=Wf(Ye);for(;Ot<=Ut-tn;tn+=Ot)this.process(Xn,tn)}}return this.length+=Ye.length,this.roundClean(),this}digestInto(Ye){Uc(this),function Bh(at,Ye){ou(at);const We=Ye.outputLen;if(at.length<We)throw new Error(`digestInto() expects output buffer of length at least ${We}`)}(Ye,this),this.finished=!0;const{buffer:We,view:tt,blockLen:Ot,isLE:Ut}=this;let{pos:tn}=this;We[tn++]=128,this.buffer.subarray(tn).fill(0),this.padOffset>Ot-tn&&(this.process(tt,0),tn=0);for(let Hn=tn;Hn<Ot;Hn++)We[Hn]=0;(function et(at,Ye,We,tt){if("function"==typeof at.setBigUint64)return at.setBigUint64(Ye,We,tt);const Ot=BigInt(32),Ut=BigInt(4294967295),tn=Number(We>>Ot&Ut),kn=Number(We&Ut),Qn=tt?0:4;at.setUint32(Ye+(tt?4:0),tn,tt),at.setUint32(Ye+Qn,kn,tt)})(tt,Ot-8,BigInt(8*this.length),Ut),this.process(tt,0);const kn=Wf(Ye),Xn=this.outputLen;if(Xn%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Qn=Xn/4,Tn=this.get();if(Qn>Tn.length)throw new Error("_sha2: outputLen bigger than state");for(let Hn=0;Hn<Qn;Hn++)kn.setUint32(4*Hn,Tn[Hn],Ut)}digest(){const{buffer:Ye,outputLen:We}=this;this.digestInto(Ye);const tt=Ye.slice(0,We);return this.destroy(),tt}_cloneInto(Ye){Ye||(Ye=new this.constructor),Ye.set(...this.get());const{blockLen:We,buffer:tt,length:Ot,finished:Ut,destroyed:tn,pos:kn}=this;return Ye.length=Ot,Ye.pos=kn,Ye.finished=Ut,Ye.destroyed=tn,Ot%We&&Ye.buffer.set(tt),Ye}}const fn=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),cr=new Uint32Array(64);class Or extends kt{constructor(){super(64,32,8,!1),this.A=0|zn[0],this.B=0|zn[1],this.C=0|zn[2],this.D=0|zn[3],this.E=0|zn[4],this.F=0|zn[5],this.G=0|zn[6],this.H=0|zn[7]}get(){const{A:Ye,B:We,C:tt,D:Ot,E:Ut,F:tn,G:kn,H:Xn}=this;return[Ye,We,tt,Ot,Ut,tn,kn,Xn]}set(Ye,We,tt,Ot,Ut,tn,kn,Xn){this.A=0|Ye,this.B=0|We,this.C=0|tt,this.D=0|Ot,this.E=0|Ut,this.F=0|tn,this.G=0|kn,this.H=0|Xn}process(Ye,We){for(let Hn=0;Hn<16;Hn++,We+=4)cr[Hn]=Ye.getUint32(We,!1);for(let Hn=16;Hn<64;Hn++){const oi=cr[Hn-15],Ii=cr[Hn-2],Vi=vs(oi,7)^vs(oi,18)^oi>>>3,Wo=vs(Ii,17)^vs(Ii,19)^Ii>>>10;cr[Hn]=Wo+cr[Hn-7]+Vi+cr[Hn-16]|0}let{A:tt,B:Ot,C:Ut,D:tn,E:kn,F:Xn,G:Qn,H:Tn}=this;for(let Hn=0;Hn<64;Hn++){const Ii=Tn+(vs(kn,6)^vs(kn,11)^vs(kn,25))+Ft(kn,Xn,Qn)+fn[Hn]+cr[Hn]|0,Wo=(vs(tt,2)^vs(tt,13)^vs(tt,22))+wt(tt,Ot,Ut)|0;Tn=Qn,Qn=Xn,Xn=kn,kn=tn+Ii|0,tn=Ut,Ut=Ot,Ot=tt,tt=Ii+Wo|0}tt=tt+this.A|0,Ot=Ot+this.B|0,Ut=Ut+this.C|0,tn=tn+this.D|0,kn=kn+this.E|0,Xn=Xn+this.F|0,Qn=Qn+this.G|0,Tn=Tn+this.H|0,this.set(tt,Ot,Ut,tn,kn,Xn,Qn,Tn)}roundClean(){cr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ri=My(()=>new Or);var br=E(53813);function Fs(at,Ye=128){if(function Mo(at){if(!Number.isSafeInteger(at)||at<0)throw new Error(`positive integer expected, not ${at}`)}(Ye),Ye%32!=0||Ye>256)throw new TypeError("Invalid entropy");return function cd(at,Ye){return function ad(at){ou(at,16,20,24,28,32)}(at),function Tl(at){if(!Array.isArray(at)||2048!==at.length||"string"!=typeof at[0])throw new Error("Wordlist: expected array of 2048 strings");return at.forEach(Ye=>{if("string"!=typeof Ye)throw new Error(`Wordlist: non-string element: ${Ye}`)}),br.Wp.chain(br.Wp.checksum(1,Nu),br.Wp.radix2(11,!0),br.Wp.alphabet(at))}(Ye).encode(at).join((at=>"\u3042\u3044\u3053\u304f\u3057\u3093"===at[0])(Ye)?"\u3000":" ")}(function Bu(at=32){if(Fm&&"function"==typeof Fm.getRandomValues)return Fm.getRandomValues(new Uint8Array(at));throw new Error("crypto.getRandomValues must be defined")}(Ye/8),at)}const Nu=at=>{const Ye=8-at.length/4;return new Uint8Array([Ri(at)[0]>>Ye<<Ye])};const js="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");var Lu=E(93953);let $m=(()=>{class at{constructor(){}createPassword(We=6,tt=128){return(0,m.A)(function*(){try{const Ot=Fs(js,tt).split(" "),Ut=[];for(let tn=0;tn<We;tn++){const kn=Math.floor(Math.random()*Ot.length);Ut.push(Ot[kn])}return Ut.join(" ")}catch(Ot){throw console.error(Ot),Ot}})()}encrypt(We,tt){return this.deriveKey(tt),We}encryptData(We,tt){return(0,m.A)(function*(){})()}deriveKey(We){return(0,m.A)(function*(){return yield Np.deriveKey({hash:"SHA-256",password:(new TextEncoder).encode(We),salt:id(16),iterations:1e3,length:256})})()}static#e=this.\u0275fac=function(tt){return new(tt||at)};static#t=this.\u0275prov=Lu.jDH({token:at,factory:at.\u0275fac,providedIn:"root"})}return at})()},34635:(Le,z,E)=>{"use strict";E.d(z,{K:()=>S});var m=E(10467),x=E(93953),R=E(95555),W=E(60132);let S=(()=>{class L{constructor(N){this.cryptoService=N,this.syncInterval="10s",this.agents=(0,x.vPA)([]),this.preinitialized=(0,x.vPA)(!1),this.initialized=(0,x.vPA)(!1),this.locked=(0,x.vPA)(!0)}initialConnect(N){var $=this;return(0,m.A)(function*(){try{const F=yield R.uW.connect({password:N,sync:$.syncInterval});return $.web5=F.web5,$.did=F.did,console.log("Web5 Connected.",$.did),$.preinitialized.set(!0),$.initialized.set(!0),F}catch(F){console.error(F)}})()}connect(N,$){var F=this;return(0,m.A)(function*(){try{const I=yield R.uW.connect({connectedDid:N,password:$,sync:F.syncInterval});return F.web5=I.web5,F.did=I.did,console.log("Web5 Connected."),F.preinitialized.set(!0),F.initialized.set(!0),I}catch{alert("Failed to initialize Web5")}})()}restore(N,$){var F=this;return(0,m.A)(function*(){try{const I=yield R.uW.connect({recoveryPhrase:$,password:N,sync:F.syncInterval});return F.web5=I.web5,F.did=I.did,console.log("Web5 Connected."),F.preinitialized.set(!0),F.initialized.set(!0),I}catch{alert("Failed to initialize Web5")}})()}activeAgent(){return this.web5.agent}changePassword(N,$){var F=this;return(0,m.A)(function*(){yield F.web5.agent.vault.changePassword({oldPassword:N,newPassword:$})})()}lock(){var N=this;return(0,m.A)(function*(){console.log("Locking account..."),yield N.web5.agent.vault.lock(),console.log("Vault locked"),N.locked.set(!0)})()}unlock(N){var $=this;return(0,m.A)(function*(){console.log("Connecting to Web5...");try{const{did:F,web5:I}=yield R.uW.connect({sync:"5s",password:N});return $.did=F,$.web5=I,$.initialized.set(!0),$.locked.set(!1),!0}catch(F){return console.error(F),console.log("Show unlock screen!"),$.locked.set(!0),!1}})()}static#e=this.\u0275fac=function($){return new($||L)(x.KVO(W.j))};static#t=this.\u0275prov=x.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})()},36815:(Le,z,E)=>{"use strict";E.d(z,{Y:()=>x});var m=E(93953);let x=(()=>{class R{constructor(){this.scrolling=(0,m.vPA)(!0),this.navigation=(0,m.vPA)(!1),this.actions=(0,m.vPA)([]),(0,m.QZP)(()=>{const S=document.querySelector(".sidenav-scroll-wrapper");S&&(S.style.overflow=this.scrolling()?"auto":"hidden");const L=document.querySelector(".sidenav-content");L&&(L.style.overflow=this.scrolling()?"auto":"hidden")})}addAction(S){this.actions.update(L=>[...L,S])}resetActions(){this.actions.set([])}enableScrolling(){this.scrolling.set(!0)}disableScrolling(){this.scrolling.set(!1)}enableNavigation(){this.navigation.set(!0)}disableNavigation(){this.navigation.set(!1)}static#e=this.\u0275fac=function(L){return new(L||R)};static#t=this.\u0275prov=m.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},55619:(Le,z,E)=>{"use strict";E.d(z,{o:()=>W});var m=E(18498),x=E(93953),R=E(60177);let W=(()=>{class S{constructor(M,N){this.router=M,this.location=N,this.history=[],this.router.events.subscribe($=>{$ instanceof m.wF&&this.history.push($.urlAfterRedirects)})}back(){this.history.pop(),this.history.length>0?this.location.back():this.router.navigateByUrl("/")}static#e=this.\u0275fac=function(N){return new(N||S)(x.KVO(m.Ix),x.KVO(R.aZ))};static#t=this.\u0275prov=x.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}return S})()},39434:(Le,z,E)=>{"use strict";E.d(z,{p:()=>S});var m=E(10467),x=E(93953),R=E(34635),W=E(22312);let S=(()=>{class L{constructor(){this.identity=(0,x.WQX)(R.K),this.current=(0,x.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.selected=(0,x.vPA)({did:"",name:"",title:"",bio:"",profileImage:"",profileBanner:"",status:"",location:"",links:[],birthDate:""}),this.avatar=(0,x.vPA)(null),this.avatarSelected=(0,x.vPA)(null)}loadProfile(N){var $=this;return(0,m.A)(function*(){const F=yield $.identity.web5.dwn.records.query({from:N,message:{filter:{protocol:W.ME.uri,protocolPath:"profile",dataFormat:"application/json"}}});let I={},X=null;if(console.log("RESPONSE FOUND FOR PROFILE:",F),console.log("RECORDS FOUND FOR PROFILE:",F.records),F.records)for(const te of F.records)X=te,I={...yield te.data.json(),id:te.dataCid,did:te.author,created:te.dateCreated};var V=null,Z=null;const re=yield $.identity.web5.dwn.records.query({from:N,message:{filter:{protocol:W.ME.uri,protocolPath:"avatar",dataFormat:"image/png"}}});if(re.records&&re.records.length>0){const te=re.records[0];V=te,Z=yield te.data.text()}return{record:X,avatarRecord:V,avatar:Z,profile:I,did:N}})()}openCurrentUserProfile(N){var $=this;return(0,m.A)(function*(){console.log("Open current user profile",N);const F=yield $.loadProfile(N);$.current.set(F.profile)})()}openProfile(N){var $=this;return(0,m.A)(function*(){console.log("Open profile",N);const F=yield $.loadProfile(N);$.avatarSelected.set(F.avatar),$.selected.set(F.profile),N==$.identity.did&&($.avatar.set(F.avatar),$.current.set(F.profile))})()}static#e=this.\u0275fac=function($){return new($||L)};static#t=this.\u0275prov=x.jDH({token:L,factory:L.\u0275fac,providedIn:"root"})}return L})()},98703:(Le,z,E)=>{"use strict";E.d(z,{g:()=>x});var m=E(93953);let x=(()=>{class R{transform(S,L){if(S){const M=Math.floor((+new Date-+new Date(S))/1e3);if(M<29)return"Just now";const N={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};let $;for(const F in N)if($=Math.floor(M/N[F]),$>0)return 1===$?$+" "+F+" ago":$+" "+F+"s ago"}return S}static#e=this.\u0275fac=function(L){return new(L||R)};static#t=this.\u0275pipe=m.EJ8({name:"ago",type:R,pure:!0,standalone:!0})}return R})()},33347:(Le,z,E)=>{"use strict";E.d(z,{k:()=>x});var m=E(93953);let x=(()=>{class R{transform(S,L){if(S){const M=S.lastIndexOf(":");if(-1!==M){const N=S.slice(0,M+1),$=S.slice(M+1);return N+$.slice(0,5)+"..."+$.slice(-5)}return S.slice(0,5)+"..."+S.slice(-5)}return S}static#e=this.\u0275fac=function(L){return new(L||R)};static#t=this.\u0275pipe=m.EJ8({name:"did",type:R,pure:!0,standalone:!0})}return R})()},78013:(Le,z,E)=>{"use strict";E.d(z,{d:()=>R});var m=E(93953),x=E(345);let R=(()=>{class W{constructor(L){this.sanitizer=L}transform(L){return this.sanitizer.bypassSecurityTrustResourceUrl(L)}static#e=this.\u0275fac=function(M){return new(M||W)(m.rXU(x.up,16))};static#t=this.\u0275pipe=m.EJ8({name:"safeResourceUrl",type:W,pure:!0,standalone:!0})}return W})()},28741:(Le,z,E)=>{"use strict";E.d(z,{M:()=>x});var m=E(93953);let x=(()=>{class R{transform(S,L){if(0===S)return"0 Bytes";const $=Math.floor(Math.log(S)/Math.log(1024));return parseFloat((S/Math.pow(1024,$)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB","PB"][$]}static#e=this.\u0275fac=function(L){return new(L||R)};static#t=this.\u0275pipe=m.EJ8({name:"size",type:R,pure:!0,standalone:!0})}return R})()},43794:(Le,z,E)=>{"use strict";E.d(z,{n:()=>x});var m=E(93953);let x=(()=>{class R{constructor(){this.prefix="ariton-"}save(S,L){localStorage.setItem(this.prefix+S,JSON.stringify(L))}read(S){const L=localStorage.getItem(this.prefix+S);return L?JSON.parse(L):null}remove(S){localStorage.removeItem(this.prefix+S)}clear(){Object.keys(localStorage).forEach(S=>{S.startsWith(this.prefix)&&localStorage.removeItem(S)})}static#e=this.\u0275fac=function(L){return new(L||R)};static#t=this.\u0275prov=m.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})()},5312:(Le,z,E)=>{"use strict";var m=E(345),x=E(93953),R=E(18498),W=E(10467),S=E(31439),L=E(36815),M=E(34635),N=E(97372),$=E(60177),F=E(89417),I=E(88834),X=E(75351),V=E(99213),Z=E(99631),re=E(59115),te=E(14823),Q=E(53719);let J=(()=>{class Jt{constructor(Rt,on){this.dialogRef=Rt,this.data=on,this.fb=(0,x.WQX)(F.ok),this.form=this.fb.group({name:[null,F.k0.required]})}ngAfterViewInit(){}static#e=this.\u0275fac=function(on){return new(on||Jt)(x.rXU(X.CP),x.rXU(X.Vh))};static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["app-folder-dialog"]],standalone:!0,features:[x.aNF],decls:10,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["appearance","outline",1,"full-width"],["matInput","","required","true","placeholder","Name","maxlength","200",3,"ngModelChange","ngModel"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","type","submit","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(on,gn){1&on&&(x.j41(0,"h2",0),x.EFF(1,"New folder"),x.k0s(),x.j41(2,"mat-dialog-content",1)(3,"mat-form-field",2)(4,"input",3),x.mxI("ngModelChange",function(lr){return x.DH7(gn.data.name,lr)||(gn.data.name=lr),lr}),x.k0s()()(),x.j41(5,"mat-dialog-actions",4)(6,"button",5),x.EFF(7,"Cancel"),x.k0s(),x.j41(8,"button",6),x.EFF(9,"Create"),x.k0s()()),2&on&&(x.R7$(4),x.R50("ngModel",gn.data.name),x.R7$(4),x.Y8G("mat-dialog-close",!0))},dependencies:[$.MD,te.uc,re.Cn,V.m_,I.Hl,I.$z,Z.fS,Z.fg,Q.rl,X.hM,X.tx,X.BI,X.E7,X.Yi,F.YN,F.me,F.BC,F.YS,F.tU,F.vS],styles:["form[_ngcontent-%COMP%]{display:inline}"]})}return Jt})();var oe=E(3902),se=E(98703),ae=E(61748);let pe=(()=>{class Jt{constructor(){}registerActions(Rt){}static#e=this.\u0275fac=function(on){return new(on||Jt)};static#t=this.\u0275prov=x.jDH({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})();var le=E(28741);function ve(Jt,qn){1&Jt&&(x.j41(0,"mat-icon",2),x.EFF(1,"folder"),x.k0s())}function we(Jt,qn){1&Jt&&(x.j41(0,"mat-icon",2),x.EFF(1,"note"),x.k0s())}function De(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"mat-list-item",1),x.bIt("click",function(){const gn=x.eBV(Rt).$implicit,mr=x.XpG();return x.Njj(mr.openEntry(gn))}),x.DNE(1,ve,2,0,"mat-icon",2)(2,we,2,0,"mat-icon",2),x.j41(3,"div",3),x.EFF(4),x.k0s(),x.j41(5,"div",4),x.EFF(6),x.nI1(7,"ago"),x.nI1(8,"size"),x.k0s()()}if(2&Jt){const Rt=qn.$implicit;x.R7$(),x.vxM("folder"===Rt.data.entryType?1:-1),x.R7$(),x.vxM("file"===Rt.data.entryType?2:-1),x.R7$(2),x.JRh(Rt.data.name),x.R7$(2),x.E5c(" ",x.bMT(7,6,Rt.data.lastModified)," | ",x.bMT(8,8,Rt.data.size)," | ",Rt.data.type," ")}}let k=(()=>{class Jt{constructor(){var Rt=this;this.entries=(0,x.vPA)([]),this.app=(0,x.WQX)(S.d),this.breadcrumb=(0,x.WQX)(ae.b),this.layout=(0,x.WQX)(L.Y),this.identity=(0,x.WQX)(M.K),this.dialog=(0,x.WQX)(X.bZ),this.router=(0,x.WQX)(R.Ix),this.route=(0,x.WQX)(R.nX),this.fileService=(0,x.WQX)(pe),this.uploadProgress=null,this.isUploading=!1,this.file=null,this.uploadSuccess=!1,this.fileError=null,(0,x.QZP)((0,W.A)(function*(){Rt.app.initialized()&&(yield Rt.loadEntries())})),this.route.paramMap.subscribe(on=>{console.log("ROUTING!!!",on.get("id")),this.breadcrumb.parentId=on.get("id")}),this.layout.disableNavigation(),this.layout.addAction({name:"Upload files",icon:"upload_file",action:()=>{this.editFile({data:{title:"",body:"",background:"",collaborators:[],labels:[]}})}}),this.layout.addAction({name:"New folder",icon:"create_new_folder",action:()=>{this.editFolder({data:{name:"Untitled folder"}})}})}editFile(Rt){return(0,W.A)(function*(){document.getElementById("input")?.click()})()}onFileSelected(Rt){var on=this;return(0,W.A)(function*(){const gn=Rt.currentTarget.files;if(0!=gn.length){console.log("Uploading number of files:",gn.length);for(let mr=0;mr<gn.length;mr++){const lr=gn[mr];console.log(lr);const pi=new Blob([lr],{type:lr.type});console.log(pi),console.log("Parent ID:",on.breadcrumb.parentId);const{status:ur,record:Ni}=yield on.identity.web5.dwn.records.create({data:pi,message:{protocol:N.Q.protocol,protocolPath:"attachment",schema:N.Q.types.attachment.schema,dataFormat:pi.type}});console.log("Record created:",Ni),console.log("Record status:",ur);const qr={name:lr.name,size:lr.size,type:lr.type,lastModified:lr.lastModified,entryType:"file",attachment:Ni.id},{status:ro,record:ns}=yield on.identity.web5.dwn.records.create({data:qr,message:{tags:{type:lr.type,entryType:"file",attachment:Ni.id},protocol:N.Q.protocol,protocolPath:"entry",parentContextId:on.breadcrumb.parentId??=void 0,schema:N.Q.types.entry.schema,dataFormat:N.Q.types.entry.dataFormats[0]}});console.log("Record created:",ns),console.log("Record status:",ro),ns&&on.entries.update(eo=>[...eo,{record:ns,data:qr}])}}})()}cancelUpload(){return(0,W.A)(function*(){})()}upload(){var Rt=this;return(0,W.A)(function*(){console.log("Uploading file");const{status:on,record:gn}=yield Rt.identity.web5.dwn.records.create({data:Rt.file,message:{schema:N.Q.types.attachment.schema}});return console.log("Record created:",gn),console.log("Record status:",on),gn})()}editFolder(Rt){var on=this;return(0,W.A)(function*(){let gn={name:Rt.data.name,entryType:"folder"};const mr=JSON.parse(JSON.stringify(gn)),lr=on.dialog.open(J,{maxWidth:"80vw",maxHeight:"80vh",data:gn});return lr.afterClosed().subscribe(function(){var pi=(0,W.A)(function*(ur){ur?(console.log("data result for saving:",gn),Rt.data=gn,yield on.saveFolder(Rt,gn)):gn=mr});return function(ur){return pi.apply(this,arguments)}}()),lr.afterClosed()})()}saveFolder(Rt,on){var gn=this;return(0,W.A)(function*(){if(Rt.record){const{status:mr,record:lr}=yield Rt.record.update({data:on});console.log("Record created:",lr),console.log("Record status:",mr)}else{const{record:mr,status:lr}=yield gn.identity.web5.dwn.records.create({data:on,message:{tags:{entryType:on.entryType},protocol:N.Q.protocol,protocolPath:"entry",schema:N.Q.types.entry.schema,dataFormat:N.Q.types.entry.dataFormats[0]}});console.log("Record created:",mr),console.log("Record status:",lr),mr&&(Rt.record=mr,gn.entries.update(pi=>[...pi,Rt]))}})()}openEntry(Rt){var on=this;return(0,W.A)(function*(){on.router.navigate("folder"===Rt.entryType?["/app/files/folder",Rt.record.id]:["/app/files/file",Rt.record.id])})()}loadEntries(Rt){var on=this;return(0,W.A)(function*(){console.log("VALUE OF TAGS:",Rt);var{records:gn}=yield on.identity.web5.dwn.records.query({message:{filter:{protocol:N.Q.protocol,protocolPath:"entry",schema:N.Q.types.entry.schema,dataFormat:N.Q.types.entry.dataFormats[0]}}});if(on.entries.set([]),gn)for(const mr of gn){let lr=yield mr.data.json(),pi={record:mr,data:lr};on.entries.update(ur=>[...ur,pi])}console.log("All requests:",on.entries())})()}static#e=this.\u0275fac=function(on){return new(on||Jt)};static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["app-folder"]],standalone:!0,features:[x.aNF],decls:4,vars:0,consts:[["type","file","id","input","multiple","",2,"display","none",3,"change"],[3,"click"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""]],template:function(on,gn){1&on&&(x.j41(0,"mat-list"),x.Z7z(1,De,9,10,"mat-list-item",null,x.fX1),x.k0s(),x.j41(3,"input",0),x.bIt("change",function(lr){return gn.onFileSelected(lr)}),x.k0s()),2&on&&(x.R7$(),x.Dyx(gn.entries()))},dependencies:[le.M,$.MD,oe.Fg,oe.jt,oe.YE,oe.ZV,oe.C_,oe.yE,V.m_,V.An,se.g]})}return Jt})();var u=function(Jt){return Jt.PDF="application/pdf",Jt.JPEG="image/jpeg",Jt.PNG="image/png",Jt.MP4="video/mp4",Jt}(u||{});const h=["*"];function y(Jt,qn){if(1&Jt&&(x.j41(0,"div",1),x.nrm(1,"iframe",2),x.k0s()),2&Jt){const Rt=x.XpG();x.R7$(),x.Y8G("src",Rt.src,x.f$h)}}function w(Jt,qn){if(1&Jt&&x.nrm(0,"iframe",2),2&Jt){const Rt=x.XpG();x.Y8G("src",Rt.src,x.f$h)}}function T(Jt,qn){if(1&Jt&&x.nrm(0,"iframe",2),2&Jt){const Rt=x.XpG();x.Y8G("src",Rt.src,x.f$h)}}function D(Jt,qn){if(1&Jt&&(x.j41(0,"video",3),x.nrm(1,"source",4),x.EFF(2," Your browser does not support HTML5 video. "),x.k0s()),2&Jt){const Rt=x.XpG();x.R7$(),x.Y8G("src",Rt.src,x.B4B)}}function j(Jt,qn){1&Jt&&(x.j41(0,"span",null,0),x.SdG(2),x.k0s())}let A=(()=>{class Jt{ngAfterViewInit(){const Rt=document.getElementById("frame"),on=document.createElement("style");on.textContent="\n    body {\n        background-color: #f0f0f0;\n   margin: 0;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n    }\n\n    img {\n      width: 100%;\n  height: 100%;\n  object-fit: contain; /* Adjust as needed: contain, cover, fill */\n    }\n",console.log("iframe:"),console.log(Rt),Rt.contentDocument.head.appendChild(on),console.log("iframe:"),console.log(Rt)}ngOnInit(){}zoomIn(){this.zoomLevel+=10}zoomOut(){this.zoomLevel>10&&(this.zoomLevel-=10)}goToPage(){this.currentPage<1?this.currentPage=1:this.currentPage>this.totalPages&&(this.currentPage=this.totalPages)}constructor(){this.fileMimeType=u,this.pdfZoom=1,this.currentPage=1,this.totalPages=1,this.zoomLevel=100,this.totalPages=this.getPdfTotalPages()}getPdfTotalPages(){return 10}goToPreviousPage(){this.currentPage>1&&this.currentPage--}goToNextPage(){this.currentPage<this.totalPages&&this.currentPage++}static#e=this.\u0275fac=function(on){return new(on||Jt)};static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["app-file-viewer"]],inputs:{type:"type",src:"src",pdfZoom:"pdfZoom"},standalone:!0,features:[x.aNF],ngContentSelectors:h,decls:6,vars:1,consts:[["content",""],[1,"pdf-viewer"],["id","frame","width","100%","height","100%",1,"file-frame",3,"src"],["controls","","width","100%"],["type","video/mp4",3,"src"]],template:function(on,gn){if(1&on&&(x.NAR(),x.j41(0,"span"),x.DNE(1,y,2,1,"div",1)(2,w,1,1,"iframe",2)(3,T,1,1,"iframe",2)(4,D,3,1,"video",3)(5,j,3,0,"span"),x.k0s()),2&on){let mr;x.R7$(),x.vxM((mr=gn.type)===gn.fileMimeType.PDF?1:mr===gn.fileMimeType.JPEG?2:mr===gn.fileMimeType.PNG?3:mr===gn.fileMimeType.MP4?4:5)}},dependencies:[$.MD,F.YN],styles:[".pdf-viewer[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;overflow:hidden}object[_ngcontent-%COMP%]{width:100%;height:100%}.controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.page-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px}@media screen and (max-width: 768px){.controls[_ngcontent-%COMP%]{flex-direction:column}}"]})}return Jt})();var l=E(55911);function g(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"button",2),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG();return x.Njj(gn.toggleFullscreen())}),x.j41(1,"mat-icon"),x.EFF(2,"fullscreen_exit"),x.k0s()()}2&Jt&&x.Y8G("title","Exit fullscreen")}function G(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"button",2),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG();return x.Njj(gn.toggleFullscreen())}),x.j41(1,"mat-icon"),x.EFF(2,"fullscreen"),x.k0s()()}2&Jt&&x.Y8G("title","Fullscreen")}function H(Jt,qn){if(1&Jt&&(x.j41(0,"app-file-viewer",5)(1,"h2"),x.EFF(2,"This file type is unsupported (yet :)"),x.k0s()()),2&Jt){const Rt=x.XpG();x.Y8G("src",Rt.src)("type",Rt.type)("pdfZoom",Rt.pdfZoom)}}const ce=[{path:"",pathMatch:"full",redirectTo:"dashboard"},{path:"introduction",loadComponent:()=>E.e(4630).then(E.bind(E,64630)).then(Jt=>Jt.IntroductionComponent),title:"Introduction",data:{hide:!0,icon:"lightbulb"}},{path:"dashboard",loadComponent:()=>Promise.all([E.e(6195),E.e(2320)]).then(E.bind(E,62320)).then(Jt=>Jt.DashboardComponent),title:"Dashboard",data:{icon:"dashboard"}},{path:"communities",loadComponent:()=>Promise.all([E.e(5571),E.e(4516),E.e(450),E.e(6702)]).then(E.bind(E,6702)).then(Jt=>Jt.CommunitiesComponent),title:"Communities",data:{icon:"diversity_2"}},{path:"communities/create",loadComponent:()=>Promise.all([E.e(3475),E.e(3672)]).then(E.bind(E,23672)).then(Jt=>Jt.CreateComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"community/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(3028)]).then(E.bind(E,73028)).then(Jt=>Jt.CommunityComponent),title:"Communities",data:{hide:!0,icon:"diversity_2"}},{path:"friends",loadComponent:()=>Promise.all([E.e(6850),E.e(8834)]).then(E.bind(E,38834)).then(Jt=>Jt.FriendsComponent),title:"Friends",data:{hide:!1,icon:"people"}},{path:"marketplace",loadComponent:()=>E.e(4392).then(E.bind(E,94392)).then(Jt=>Jt.MarketplaceComponent),title:"Marketplace",data:{icon:"storefront"}},{path:"apps",loadComponent:()=>Promise.all([E.e(5571),E.e(4516),E.e(6195),E.e(450),E.e(8487)]).then(E.bind(E,8487)).then(Jt=>Jt.AppsComponent),title:"Apps",data:{icon:"apps"}},{path:"app/files",loadComponent:()=>E.e(5706).then(E.bind(E,55706)).then(Jt=>Jt.FilesComponent),title:"Files",data:{icon:"folder",breadcrumb:"Files"},children:[{path:"",component:k,data:{breadcrumb:"Folder"}},{path:"folder/:id",component:k,data:{breadcrumb:"Folder"}},{path:"file/:id",component:(()=>{class Jt{constructor(){var Rt=this;this.entries=(0,x.vPA)([]),this.app=(0,x.WQX)(S.d),this.breadcrumb=(0,x.WQX)(ae.b),this.layout=(0,x.WQX)(L.Y),this.identity=(0,x.WQX)(M.K),this.dialog=(0,x.WQX)(X.bZ),this.router=(0,x.WQX)(R.Ix),this.route=(0,x.WQX)(R.nX),this.fileService=(0,x.WQX)(pe),this.uploadProgress=null,this.isUploading=!1,this.file=null,this.uploadSuccess=!1,this.fileError=null,this.fileId=null,this.sanitizer=(0,x.WQX)(m.up),this.fullscreen=(0,x.vPA)(!1),this.fileMimeType=u,this.pdfZoom=1,(0,x.QZP)((0,W.A)(function*(){Rt.app.initialized()&&(yield Rt.loadEntries())})),this.route.paramMap.subscribe(on=>{console.log("ROUTING!!!",on.get("id")),this.fileId=on.get("id")})}toggleFullscreen(){var Rt=document.getElementById("file-viewer");this.fullscreen()?(document.exitFullscreen(),this.fullscreen.set(!1)):(Rt.requestFullscreen(),this.fullscreen.set(!0))}download(){const Rt=URL.createObjectURL(this.fileUrl),on=document.createElement("a");console.log("File URL"),console.log(Rt),on.href=Rt,on.download=this.data.name,on.click(),URL.revokeObjectURL(Rt)}pdfZoomIn(){this.pdfZoom++}pdfZoomOut(){this.pdfZoom>1&&this.pdfZoom--}editFile(Rt){return(0,W.A)(function*(){document.getElementById("input")?.click()})()}onFileSelected(Rt){var on=this;return(0,W.A)(function*(){const gn=Rt.currentTarget.files;if(0!=gn.length){console.log("Uploading number of files:",gn.length);for(let mr=0;mr<gn.length;mr++){const lr=gn[mr];console.log(lr);const pi=new Blob([lr],{type:lr.type});console.log(pi),console.log("Parent ID:",on.breadcrumb.parentId);const{status:ur,record:Ni}=yield on.identity.web5.dwn.records.create({data:pi,message:{protocol:N.Q.protocol,protocolPath:"attachment",schema:N.Q.types.attachment.schema,dataFormat:pi.type}});console.log("Record created:",Ni),console.log("Record status:",ur);const qr={name:lr.name,size:lr.size,type:lr.type,lastModified:lr.lastModified,entryType:"file"},{status:ro,record:ns}=yield on.identity.web5.dwn.records.create({data:qr,message:{tags:{type:lr.type,entryType:"file",attachment:Ni.id},protocol:N.Q.protocol,protocolPath:"entry",parentContextId:on.breadcrumb.parentId??=void 0,schema:N.Q.types.entry.schema,dataFormat:N.Q.types.entry.dataFormats[0]}});console.log("Record created:",ns),console.log("Record status:",ro),ns&&on.entries.update(eo=>[...eo,{record:ns,data:qr}])}}})()}cancelUpload(){return(0,W.A)(function*(){})()}upload(){var Rt=this;return(0,W.A)(function*(){console.log("Uploading file");const{status:on,record:gn}=yield Rt.identity.web5.dwn.records.create({data:Rt.file,message:{schema:N.Q.types.attachment.schema}});return console.log("Record created:",gn),console.log("Record status:",on),gn})()}editFolder(Rt){var on=this;return(0,W.A)(function*(){let gn={name:Rt.data.name,entryType:"folder"};const mr=JSON.parse(JSON.stringify(gn)),lr=on.dialog.open(J,{maxWidth:"80vw",maxHeight:"80vh",data:gn});return lr.afterClosed().subscribe(function(){var pi=(0,W.A)(function*(ur){ur?(console.log("data result for saving:",gn),Rt.data=gn,yield on.saveFolder(Rt,gn)):gn=mr});return function(ur){return pi.apply(this,arguments)}}()),lr.afterClosed()})()}saveFolder(Rt,on){var gn=this;return(0,W.A)(function*(){if(Rt.record){const{status:mr,record:lr}=yield Rt.record.update({data:on});console.log("Record created:",lr),console.log("Record status:",mr)}else{const{record:mr,status:lr}=yield gn.identity.web5.dwn.records.create({data:on,message:{tags:{entryType:on.entryType},protocol:N.Q.protocol,protocolPath:"entry",schema:N.Q.types.entry.schema,dataFormat:N.Q.types.entry.dataFormats[0]}});console.log("Record created:",mr),console.log("Record status:",lr),mr&&(Rt.record=mr,gn.entries.update(pi=>[...pi,Rt]))}})()}openEntry(Rt){var on=this;return(0,W.A)(function*(){on.router.navigate("folder"===Rt.entryType?["/app/files/folder",Rt.record.id]:["/app/files/file",Rt.record.id])})()}loadEntries(Rt){var on=this;return(0,W.A)(function*(){if(console.log("VALUE OF TAGS:",Rt),!on.fileId)return;const{record:gn}=yield on.identity.web5.dwn.records.read({message:{filter:{recordId:on.fileId}}}),mr=yield gn.data.json();on.data=mr;const{record:lr}=yield on.identity.web5.dwn.records.read({message:{filter:{recordId:mr.attachment}}});if(on.fileUrl=yield lr.data.blob(),console.log(gn),console.log(lr),on.type=lr.dataFormat,"application/pdf"===lr.dataFormat){const pi=URL.createObjectURL(on.fileUrl)+"#toolbar=0&navpanes=0&scrollbar=0&view=FitH";on.src=on.sanitizer.bypassSecurityTrustResourceUrl(pi)}else{const pi=URL.createObjectURL(on.fileUrl);on.src=on.sanitizer.bypassSecurityTrustResourceUrl(pi)}})()}static#e=this.\u0275fac=function(on){return new(on||Jt)};static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["app-file"]],standalone:!0,features:[x.aNF],decls:18,vars:6,consts:[["id","file-viewer"],["mat-icon-button","",3,"disabled"],["mat-icon-button","",3,"click","title"],[1,"toolbar-spacer"],["mat-icon-button","",3,"title"],[3,"src","type","pdfZoom"]],template:function(on,gn){1&on&&(x.j41(0,"div",0)(1,"mat-toolbar")(2,"button",1)(3,"mat-icon"),x.EFF(4,"delete"),x.k0s()(),x.j41(5,"button",2),x.bIt("click",function(){return gn.download()}),x.j41(6,"mat-icon"),x.EFF(7,"file_download"),x.k0s()(),x.nrm(8,"span",3),x.j41(9,"button",1)(10,"mat-icon"),x.EFF(11,"zoom_in"),x.k0s()(),x.j41(12,"button",1)(13,"mat-icon"),x.EFF(14,"zoom_out"),x.k0s()(),x.DNE(15,g,3,1,"button",4)(16,G,3,1,"button",4),x.k0s(),x.DNE(17,H,3,3,"app-file-viewer",5),x.k0s()),2&on&&(x.R7$(2),x.Y8G("disabled",!0),x.R7$(3),x.Y8G("title","Download"),x.R7$(4),x.Y8G("disabled",!0),x.R7$(3),x.Y8G("disabled",!0),x.R7$(3),x.vxM(gn.fullscreen()?15:16),x.R7$(2),x.vxM(gn.src?17:-1))},dependencies:[A,$.MD,oe.Fg,V.m_,V.An,l.s5,l.KQ,I.Hl,I.iY]})}return Jt})(),data:{breadcrumb:"Folder"}}]},{path:"app/notes",loadComponent:()=>Promise.all([E.e(5571),E.e(6471),E.e(9770)]).then(E.bind(E,99770)).then(Jt=>Jt.NotesComponent),title:"Notes",data:{icon:"note"}},{path:"app/chat",loadComponent:()=>Promise.all([E.e(5571),E.e(8515)]).then(E.bind(E,38515)).then(Jt=>Jt.ChatComponent),title:"Chat",data:{icon:"chat"}},{path:"app/todo",loadComponent:()=>Promise.all([E.e(1391),E.e(1811)]).then(E.bind(E,11811)).then(Jt=>Jt.TodoComponent),title:"Todo",data:{icon:"task"}},{path:"registries",loadComponent:()=>Promise.all([E.e(4516),E.e(9466)]).then(E.bind(E,69466)).then(Jt=>Jt.RegistriesComponent),title:"Registries",data:{icon:"folder_shared"}},{path:"registries/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(4516),E.e(6471),E.e(2076),E.e(5026)]).then(E.bind(E,65026)).then(Jt=>Jt.RegistryComponent),title:"Registry",data:{hide:!0,icon:"folder_shared"}},{path:"data/view/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(3474)]).then(E.bind(E,53474)).then(Jt=>Jt.DataViewComponent),title:"Data View",data:{hide:!0,icon:"folder_shared"}},{path:"data",loadComponent:()=>Promise.all([E.e(6850),E.e(7358),E.e(9454),E.e(5416),E.e(3287)]).then(E.bind(E,63287)).then(Jt=>Jt.DataComponent),title:"Data",data:{icon:"source"}},{path:"data/:source/:id",loadComponent:()=>Promise.all([E.e(2076),E.e(9533)]).then(E.bind(E,29533)).then(Jt=>Jt.DataEntryComponent),title:"Data Entry",data:{hide:!0,icon:"source"}},{path:"profile/:id",loadComponent:()=>Promise.all([E.e(6850),E.e(5416),E.e(1289)]).then(E.bind(E,1289)).then(Jt=>Jt.ProfileComponent),title:"Profile",data:{hide:!0,icon:"account_circle"}},{path:"profile/:id/edit",loadComponent:()=>Promise.all([E.e(3475),E.e(7380)]).then(E.bind(E,37380)).then(Jt=>Jt.ProfileEditComponent),title:"Edit Profile",data:{hide:!0,icon:"account_circle"}},{path:"notifications",loadComponent:()=>E.e(2228).then(E.bind(E,92228)).then(Jt=>Jt.NotificationsComponent),title:"Notifications",data:{hide:!1,icon:"notifications"}},{path:"accounts",loadComponent:()=>Promise.all([E.e(6850),E.e(9454),E.e(6486)]).then(E.bind(E,96486)).then(Jt=>Jt.AccountsComponent),title:"Accounts",data:{hide:!0,icon:"account_circle"}},{path:"account/password",loadComponent:()=>E.e(8012).then(E.bind(E,88012)).then(Jt=>Jt.PasswordComponent),title:"Password",data:{hide:!0,icon:"account_circle"}},{path:"account/backup",loadComponent:()=>E.e(5962).then(E.bind(E,75962)).then(Jt=>Jt.BackupComponent),title:"Backup",data:{hide:!0,icon:"account_circle"}},{path:"account/create",loadComponent:()=>E.e(5806).then(E.bind(E,75806)).then(Jt=>Jt.CreateComponent),title:"Create Account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/new",loadComponent:()=>E.e(9613).then(E.bind(E,29613)).then(Jt=>Jt.NewComponent),title:"Create new account",data:{hide:!0,icon:"account_circle"}},{path:"account/create/restore",loadComponent:()=>Promise.resolve().then(E.bind(E,33065)).then(Jt=>Jt.RestoreComponent),title:"Restore existing account",data:{hide:!0,icon:"account_circle"}},{path:"account/:id",loadComponent:()=>E.e(7880).then(E.bind(E,17880)).then(Jt=>Jt.AccountComponent),title:"Account",data:{hide:!0,icon:"account_circle"}},{path:"identity",loadComponent:()=>E.e(5854).then(E.bind(E,85854)).then(Jt=>Jt.IdentityComponent),title:"Identity",data:{hide:!0,icon:"account_circle"}},{path:"settings",loadComponent:()=>E.e(959).then(E.bind(E,60959)).then(Jt=>Jt.SettingsComponent),title:"Settings",data:{hide:!0,icon:"settings"}},{path:"settings/about",loadComponent:()=>E.e(5216).then(E.bind(E,85216)).then(Jt=>Jt.AboutComponent),title:"About",data:{hide:!0,icon:"settings"}},{path:"settings/licenses",loadComponent:()=>E.e(9727).then(E.bind(E,19727)).then(Jt=>Jt.LicensesComponent),title:"Licenses",data:{hide:!0,icon:"settings"}},{path:"settings/privacy",loadComponent:()=>E.e(9128).then(E.bind(E,99128)).then(Jt=>Jt.PrivacyComponent),title:"Privacy",data:{hide:!0,icon:"settings"}},{path:"settings/handler",loadComponent:()=>E.e(8552).then(E.bind(E,18552)).then(Jt=>Jt.HandlerComponent),title:"Protocol Handler",data:{hide:!0,icon:"search"}},{path:"tree",loadComponent:()=>Promise.all([E.e(7358),E.e(9238)]).then(E.bind(E,9238)).then(Jt=>Jt.TreeComponent),title:"Tree",data:{hide:!0,icon:"folder"}},{path:"drag-drop",loadComponent:()=>Promise.all([E.e(1391),E.e(7988)]).then(E.bind(E,77988)).then(Jt=>Jt.DragDropComponent),title:"Drag-Drop",data:{hide:!0,icon:"folder"}},{path:"help",loadComponent:()=>E.e(2492).then(E.bind(E,12492)).then(Jt=>Jt.HelpComponent),title:"Help",data:{hide:!0,icon:"help"}},{path:"storage",loadComponent:()=>Promise.all([E.e(5571),E.e(6471),E.e(7848)]).then(E.bind(E,17848)).then(Jt=>Jt.StorageComponent),title:"Storage",data:{icon:"cloud"}},{path:"management",loadComponent:()=>Promise.all([E.e(6850),E.e(8864)]).then(E.bind(E,48864)).then(Jt=>Jt.ManagementComponent),title:"Management",data:{icon:"manage_accounts"}}];let ke=(()=>{class Jt{constructor(Rt,on,gn,mr,lr){this.doc=Rt,this.delegate=on,this.zone=gn,this.animationType=mr,this.moduleImpl=lr,this._rendererFactoryPromise=null,this.scheduler=(0,x.WQX)(x.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??E.e(8008).then(E.bind(E,68008)).then(on=>on)).catch(on=>{throw new x.wOt(5300,!1)}).then(({\u0275createEngine:on,\u0275AnimationRendererFactory:gn})=>{this._engine=on(this.animationType,this.doc);const mr=new gn(this.delegate,this._engine,this.zone);return this.delegate=mr,mr})}createRenderer(Rt,on){const gn=this.delegate.createRenderer(Rt,on);if(0===gn.\u0275type)return gn;"boolean"==typeof gn.throwOnSyntheticProps&&(gn.throwOnSyntheticProps=!1);const mr=new Fe(gn);return on?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(lr=>{const pi=lr.createRenderer(Rt,on);mr.use(pi),this.scheduler?.notify(9)}).catch(lr=>{mr.use(gn)}),mr}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(on){x.QTQ()};static#t=this.\u0275prov=x.jDH({token:Jt,factory:Jt.\u0275fac})}return Jt})();class Fe{constructor(qn){this.delegate=qn,this.replay=[],this.\u0275type=1}use(qn){if(this.delegate=qn,null!==this.replay){for(const Rt of this.replay)Rt(qn);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(qn,Rt){return this.delegate.createElement(qn,Rt)}createComment(qn){return this.delegate.createComment(qn)}createText(qn){return this.delegate.createText(qn)}get destroyNode(){return this.delegate.destroyNode}appendChild(qn,Rt){this.delegate.appendChild(qn,Rt)}insertBefore(qn,Rt,on,gn){this.delegate.insertBefore(qn,Rt,on,gn)}removeChild(qn,Rt,on){this.delegate.removeChild(qn,Rt,on)}selectRootElement(qn,Rt){return this.delegate.selectRootElement(qn,Rt)}parentNode(qn){return this.delegate.parentNode(qn)}nextSibling(qn){return this.delegate.nextSibling(qn)}setAttribute(qn,Rt,on,gn){this.delegate.setAttribute(qn,Rt,on,gn)}removeAttribute(qn,Rt,on){this.delegate.removeAttribute(qn,Rt,on)}addClass(qn,Rt){this.delegate.addClass(qn,Rt)}removeClass(qn,Rt){this.delegate.removeClass(qn,Rt)}setStyle(qn,Rt,on,gn){this.delegate.setStyle(qn,Rt,on,gn)}removeStyle(qn,Rt,on){this.delegate.removeStyle(qn,Rt,on)}setProperty(qn,Rt,on){this.shouldReplay(Rt)&&this.replay.push(gn=>gn.setProperty(qn,Rt,on)),this.delegate.setProperty(qn,Rt,on)}setValue(qn,Rt){this.delegate.setValue(qn,Rt)}listen(qn,Rt,on){return this.shouldReplay(Rt)&&this.replay.push(gn=>gn.listen(qn,Rt,on)),this.delegate.listen(qn,Rt,on)}shouldReplay(qn){return null!==this.replay&&qn.startsWith("@")}}var ge=E(59030),Oe=E(18810),ye=E(33726),Se=E(7673),he=E(28793),fe=E(21413),ee=E(71985),ie=E(85343);const ue=new ee.c(ie.l);var Ie=E(57786),Ne=E(96354),Be=E(5964),yt=E(25558),Ke=E(30017),Re=E(98071),ot=E(58750),U=E(39974);const p={connector:()=>new fe.B};function O(Jt,qn=p){const{connector:Rt}=qn;return(0,U.N)((on,gn)=>{const mr=Rt();(0,ot.Tg)(Jt(function _(Jt){return new ee.c(qn=>Jt.subscribe(qn))}(mr))).subscribe(gn),gn.add(on.subscribe(mr))})}var xe=E(96697),qe=E(88141),At=E(91986);const ut="Service workers are disabled or not supported by this browser";class Lt{constructor(qn){if(this.serviceWorker=qn,qn){const on=(0,ye.R)(qn,"controllerchange").pipe((0,Ne.T)(()=>qn.controller)),gn=(0,ge.v)(()=>(0,Se.of)(qn.controller)),mr=(0,he.x)(gn,on);this.worker=mr.pipe((0,Be.p)(qr=>!!qr)),this.registration=this.worker.pipe((0,yt.n)(()=>qn.getRegistration()));const Ni=(0,ye.R)(qn,"message").pipe((0,Ne.T)(qr=>qr.data)).pipe((0,Be.p)(qr=>qr&&qr.type)).pipe(function me(Jt){return Jt?qn=>O(Jt)(qn):qn=>function q(Jt,qn){const Rt=(0,Re.T)(Jt)?Jt:()=>Jt;return(0,Re.T)(qn)?O(qn,{connector:Rt}):on=>new Ke.G(on,Rt)}(new fe.B)(qn)}());Ni.connect(),this.events=Ni}else this.worker=this.events=this.registration=function bt(Jt){return(0,ge.v)(()=>(0,Oe.$)(new Error(Jt)))}(ut)}postMessage(qn,Rt){return this.worker.pipe((0,xe.s)(1),(0,qe.M)(on=>{on.postMessage({action:qn,...Rt})})).toPromise().then(()=>{})}postMessageWithOperation(qn,Rt,on){const gn=this.waitForOperationCompleted(on),mr=this.postMessage(qn,Rt);return Promise.all([mr,gn]).then(([,lr])=>lr)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(qn){let Rt;return Rt="string"==typeof qn?on=>on.type===qn:on=>qn.includes(on.type),this.events.pipe((0,Be.p)(Rt))}nextEventOfType(qn){return this.eventsOfType(qn).pipe((0,xe.s)(1))}waitForOperationCompleted(qn){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Be.p)(Rt=>Rt.nonce===qn),(0,xe.s)(1),(0,Ne.T)(Rt=>{if(void 0!==Rt.result)return Rt.result;throw new Error(Rt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let en=(()=>{class Jt{get isEnabled(){return this.sw.isEnabled}constructor(Rt){if(this.sw=Rt,this.pushManager=null,this.subscriptionChanges=new fe.B,!Rt.isEnabled)return this.messages=ue,this.notificationClicks=ue,void(this.subscription=ue);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ne.T)(gn=>gn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ne.T)(gn=>gn.data)),this.pushManager=this.sw.registration.pipe((0,Ne.T)(gn=>gn.pushManager));const on=this.pushManager.pipe((0,yt.n)(gn=>gn.getSubscription()));this.subscription=(0,Ie.h)(on,this.subscriptionChanges)}requestSubscription(Rt){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ut));const on={userVisibleOnly:!0};let gn=this.decodeBase64(Rt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),mr=new Uint8Array(new ArrayBuffer(gn.length));for(let lr=0;lr<gn.length;lr++)mr[lr]=gn.charCodeAt(lr);return on.applicationServerKey=mr,this.pushManager.pipe((0,yt.n)(lr=>lr.subscribe(on)),(0,xe.s)(1)).toPromise().then(lr=>(this.subscriptionChanges.next(lr),lr))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,xe.s)(1),(0,yt.n)(on=>{if(null===on)throw new Error("Not subscribed to push notifications.");return on.unsubscribe().then(gn=>{if(!gn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ut))}decodeBase64(Rt){return atob(Rt)}static#e=this.\u0275fac=function(on){return new(on||Jt)(x.KVO(Lt))};static#t=this.\u0275prov=x.jDH({token:Jt,factory:Jt.\u0275fac})}return Jt})(),Zt=(()=>{class Jt{get isEnabled(){return this.sw.isEnabled}constructor(Rt){if(this.sw=Rt,!Rt.isEnabled)return this.versionUpdates=ue,void(this.unrecoverable=ue);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ut));const Rt=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Rt},Rt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ut));const Rt=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Rt},Rt)}static#e=this.\u0275fac=function(on){return new(on||Jt)(x.KVO(Lt))};static#t=this.\u0275prov=x.jDH({token:Jt,factory:Jt.\u0275fac})}return Jt})();const Jn=new x.nKC("");function yn(Jt,qn,Rt,on){return()=>{if(!(0,$.UE)(on)||!("serviceWorker"in navigator)||!1===Rt.enabled)return;const gn=Jt.get(x.SKi),mr=Jt.get(x.o8S);let lr;if(gn.runOutsideAngular(()=>{const pi=navigator.serviceWorker,ur=()=>pi.controller?.postMessage({action:"INITIALIZE"});pi.addEventListener("controllerchange",ur),mr.onDestroy(()=>{pi.removeEventListener("controllerchange",ur)})}),"function"==typeof Rt.registrationStrategy)lr=Rt.registrationStrategy();else{const[pi,...ur]=(Rt.registrationStrategy||"registerWhenStable:30000").split(":");switch(pi){case"registerImmediately":lr=(0,Se.of)(null);break;case"registerWithDelay":lr=Vt(+ur[0]||0);break;case"registerWhenStable":lr=ur[0]?(0,Ie.h)($t(Jt),Vt(+ur[0])):$t(Jt);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Rt.registrationStrategy}`)}}gn.runOutsideAngular(()=>lr.pipe((0,xe.s)(1)).subscribe(()=>navigator.serviceWorker.register(qn,{scope:Rt.scope}).catch(pi=>console.error("Service worker registration failed with:",pi))))}}function Vt(Jt){return(0,Se.of)(null).pipe((0,At.c)(Jt))}function $t(Jt){return Jt.get(x.o8S).isStable.pipe((0,Be.p)(Rt=>Rt))}function mt(Jt,qn){return new Lt((0,$.UE)(qn)&&!1!==Jt.enabled?navigator.serviceWorker:void 0)}class st{}const qt={providers:[(0,x.Jn2)({eventCoalescing:!0}),(0,R.lh)(ce,(0,R.Sn)(R.Kp)),function Ee(Jt="animations"){return(0,x.ngT)("NgAsyncAnimations"),(0,x.EmA)([{provide:x._9s,useFactory:(qn,Rt,on)=>new ke(qn,Rt,on,Jt),deps:[$.qQ,m.B7,x.SKi]},{provide:x.bc$,useValue:"noop"===Jt?"NoopAnimations":"BrowserAnimations"}])}(),function Nt(Jt,qn={}){return(0,x.EmA)([en,Zt,{provide:Jn,useValue:Jt},{provide:st,useValue:qn},{provide:Lt,useFactory:mt,deps:[st,x.Agw]},{provide:x.hnV,useFactory:yn,deps:[x.zZn,Jn,st,x.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,x.naY)(),registrationStrategy:"registerWhenStable:30000"})]};var or=E(99327),ft=E(67333),gt=E(86600),vt=E(18617),He=E(28203),Je=E(14085),Bt=E(67336),Tt=E(36860),Yt=E(73703),Pn=E(56977),cn=E(23294),pn=E(99172),vr=E(70152),Un=E(49969);const An=["*"],On=["content"],nt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],$e=["mat-drawer","mat-drawer-content","*"];function it(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"div",1),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG();return x.Njj(gn._onBackdropClicked())}),x.k0s()}if(2&Jt){const Rt=x.XpG();x.AVh("mat-drawer-shown",Rt._isShowingBackdrop())}}function jt(Jt,qn){1&Jt&&(x.j41(0,"mat-drawer-content"),x.SdG(1,2),x.k0s())}const dn=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Rn=["mat-sidenav","mat-sidenav-content","*"];function Kn(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"div",1),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG();return x.Njj(gn._onBackdropClicked())}),x.k0s()}if(2&Jt){const Rt=x.XpG();x.AVh("mat-drawer-shown",Rt._isShowingBackdrop())}}function tr(Jt,qn){1&Jt&&(x.j41(0,"mat-sidenav-content"),x.SdG(1,2),x.k0s())}const _r={transformDrawer:(0,Un.hZ)("transform",[(0,Un.wk)("open, open-instant",(0,Un.iF)({transform:"none",visibility:"visible"})),(0,Un.wk)("void",(0,Un.iF)({"box-shadow":"none",visibility:"hidden"})),(0,Un.kY)("void => open-instant",(0,Un.i0)("0ms")),(0,Un.kY)("void <=> open, open-instant => void",(0,Un.i0)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},$r=new x.nKC("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Ht(){return!1}}),zr=new x.nKC("MAT_DRAWER_CONTAINER");let ln=(()=>{class Jt extends ft.uv{constructor(Rt,on,gn,mr,lr){super(gn,mr,lr),this._changeDetectorRef=Rt,this._container=on}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(on){return new(on||Jt)(x.rXU(x.gRc),x.rXU((0,x.Rfq)(()=>Dn)),x.rXU(x.aKT),x.rXU(ft.R),x.rXU(x.SKi))};static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(on,gn){2&on&&x.xc7("margin-left",gn._container._contentMargins.left,"px")("margin-right",gn._container._contentMargins.right,"px")},standalone:!0,features:[x.Jv_([{provide:ft.uv,useExisting:Jt}]),x.Vt3,x.aNF],ngContentSelectors:An,decls:1,vars:0,template:function(on,gn){1&on&&(x.NAR(),x.SdG(0))},encapsulation:2,changeDetection:0})}return Jt})(),vn=(()=>{class Jt{get position(){return this._position}set position(Rt){(Rt="end"===Rt?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(Rt),this._position=Rt,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(Rt){this._mode=Rt,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(Rt){this._disableClose=(0,Je.he)(Rt)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(Rt){("true"===Rt||"false"===Rt||null==Rt)&&(Rt=(0,Je.he)(Rt)),this._autoFocus=Rt}get opened(){return this._opened}set opened(Rt){this.toggle((0,Je.he)(Rt))}constructor(Rt,on,gn,mr,lr,pi,ur,Ni){this._elementRef=Rt,this._focusTrapFactory=on,this._focusMonitor=gn,this._platform=mr,this._ngZone=lr,this._interactivityChecker=pi,this._doc=ur,this._container=Ni,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new fe.B,this._animationEnd=new fe.B,this._animationState="void",this.openedChange=new x.bkB(!0),this._openedStream=this.openedChange.pipe((0,Be.p)(qr=>qr),(0,Ne.T)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Be.p)(qr=>qr.fromState!==qr.toState&&0===qr.toState.indexOf("open")),(0,Yt.u)(void 0)),this._closedStream=this.openedChange.pipe((0,Be.p)(qr=>!qr),(0,Ne.T)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Be.p)(qr=>qr.fromState!==qr.toState&&"void"===qr.toState),(0,Yt.u)(void 0)),this._destroyed=new fe.B,this.onPositionChanged=new x.bkB,this._modeChanged=new fe.B,this._injector=(0,x.WQX)(x.zZn),this._changeDetectorRef=(0,x.WQX)(x.gRc),this.openedChange.pipe((0,Pn.Q)(this._destroyed)).subscribe(qr=>{qr?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,ye.R)(this._elementRef.nativeElement,"keydown").pipe((0,Be.p)(qr=>qr.keyCode===Bt._f&&!this.disableClose&&!(0,Bt.rp)(qr)),(0,Pn.Q)(this._destroyed)).subscribe(qr=>this._ngZone.run(()=>{this.close(),qr.stopPropagation(),qr.preventDefault()}))}),this._animationEnd.pipe((0,cn.F)((qr,ro)=>qr.fromState===ro.fromState&&qr.toState===ro.toState)).subscribe(qr=>{const{fromState:ro,toState:ns}=qr;(0===ns.indexOf("open")&&"void"===ro||"void"===ns&&0===ro.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(Rt,on){this._interactivityChecker.isFocusable(Rt)||(Rt.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const gn=()=>{Rt.removeEventListener("blur",gn),Rt.removeEventListener("mousedown",gn),Rt.removeAttribute("tabindex")};Rt.addEventListener("blur",gn),Rt.addEventListener("mousedown",gn)})),Rt.focus(on)}_focusByCssSelector(Rt,on){let gn=this._elementRef.nativeElement.querySelector(Rt);gn&&this._forceFocus(gn,on)}_takeFocus(){if(!this._focusTrap)return;const Rt=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":(0,x.mal)(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof Rt.focus&&Rt.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(Rt){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,Rt):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const Rt=this._doc.activeElement;return!!Rt&&this._elementRef.nativeElement.contains(Rt)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(Rt){return this.toggle(!0,Rt)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(Rt=!this.opened,on){Rt&&on&&(this._openedVia=on);const gn=this._setOpen(Rt,!Rt&&this._isFocusWithinDrawer(),this._openedVia||"program");return Rt||(this._openedVia=null),gn}_setOpen(Rt,on,gn){return this._opened=Rt,Rt?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",on&&this._restoreFocus(gn)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(mr=>{this.openedChange.pipe((0,xe.s)(1)).subscribe(lr=>mr(lr?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(Rt){if(!this._platform.isBrowser)return;const on=this._elementRef.nativeElement,gn=on.parentNode;"end"===Rt?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),gn.insertBefore(this._anchor,on)),gn.appendChild(on)):this._anchor&&this._anchor.parentNode.insertBefore(on,this._anchor)}static#e=this.\u0275fac=function(on){return new(on||Jt)(x.rXU(x.aKT),x.rXU(vt.GX),x.rXU(vt.FN),x.rXU(Tt.OD),x.rXU(x.SKi),x.rXU(vt.Z7),x.rXU($.qQ,8),x.rXU(zr,8))};static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["mat-drawer"]],viewQuery:function(on,gn){if(1&on&&x.GBs(On,5),2&on){let mr;x.mGM(mr=x.lsd())&&(gn._content=mr.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(on,gn){1&on&&x.Kam("@transform.start",function(lr){return gn._animationStarted.next(lr)})("@transform.done",function(lr){return gn._animationEnd.next(lr)}),2&on&&(x.zvX("@transform",gn._animationState),x.BMQ("align",null),x.AVh("mat-drawer-end","end"===gn.position)("mat-drawer-over","over"===gn.mode)("mat-drawer-push","push"===gn.mode)("mat-drawer-side","side"===gn.mode)("mat-drawer-opened",gn.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[x.aNF],ngContentSelectors:An,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(on,gn){1&on&&(x.NAR(),x.j41(0,"div",1,0),x.SdG(2),x.k0s())},dependencies:[ft.uv],encapsulation:2,data:{animation:[_r.transformDrawer]},changeDetection:0})}return Jt})(),Dn=(()=>{class Jt{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(Rt){this._autosize=(0,Je.he)(Rt)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(Rt){this._backdropOverride=null==Rt?null:(0,Je.he)(Rt)}get scrollable(){return this._userContent||this._content}constructor(Rt,on,gn,mr,lr,pi=!1,ur){this._dir=Rt,this._element=on,this._ngZone=gn,this._changeDetectorRef=mr,this._animationMode=ur,this._drawers=new x.rOR,this.backdropClick=new x.bkB,this._destroyed=new fe.B,this._doCheckSubject=new fe.B,this._contentMargins={left:null,right:null},this._contentMarginChanges=new fe.B,this._injector=(0,x.WQX)(x.zZn),Rt&&Rt.change.pipe((0,Pn.Q)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),lr.change().pipe((0,Pn.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=pi}ngAfterContentInit(){this._allDrawers.changes.pipe((0,pn.Z)(this._allDrawers),(0,Pn.Q)(this._destroyed)).subscribe(Rt=>{this._drawers.reset(Rt.filter(on=>!on._container||on._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,pn.Z)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(Rt=>{this._watchDrawerToggle(Rt),this._watchDrawerPosition(Rt),this._watchDrawerMode(Rt)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,vr.B)(10),(0,Pn.Q)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(Rt=>Rt.open())}close(){this._drawers.forEach(Rt=>Rt.close())}updateContentMargins(){let Rt=0,on=0;if(this._left&&this._left.opened)if("side"==this._left.mode)Rt+=this._left._getWidth();else if("push"==this._left.mode){const gn=this._left._getWidth();Rt+=gn,on-=gn}if(this._right&&this._right.opened)if("side"==this._right.mode)on+=this._right._getWidth();else if("push"==this._right.mode){const gn=this._right._getWidth();on+=gn,Rt-=gn}Rt=Rt||null,on=on||null,(Rt!==this._contentMargins.left||on!==this._contentMargins.right)&&(this._contentMargins={left:Rt,right:on},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(Rt){Rt._animationStarted.pipe((0,Be.p)(on=>on.fromState!==on.toState),(0,Pn.Q)(this._drawers.changes)).subscribe(on=>{"open-instant"!==on.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==Rt.mode&&Rt.openedChange.pipe((0,Pn.Q)(this._drawers.changes)).subscribe(()=>this._setContainerClass(Rt.opened))}_watchDrawerPosition(Rt){Rt&&Rt.onPositionChanged.pipe((0,Pn.Q)(this._drawers.changes)).subscribe(()=>{(0,x.mal)(()=>{this._validateDrawers()},{injector:this._injector,phase:x.wjH.Read})})}_watchDrawerMode(Rt){Rt&&Rt._modeChanged.pipe((0,Pn.Q)((0,Ie.h)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(Rt){const on=this._element.nativeElement.classList,gn="mat-drawer-container-has-open";Rt?on.add(gn):on.remove(gn)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(Rt=>{"end"==Rt.position?this._end=Rt:this._start=Rt}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(Rt=>Rt&&!Rt.disableClose&&this._drawerHasBackdrop(Rt)).forEach(Rt=>Rt._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(Rt){return null!=Rt&&Rt.opened}_drawerHasBackdrop(Rt){return null==this._backdropOverride?!!Rt&&"side"!==Rt.mode:this._backdropOverride}static#e=this.\u0275fac=function(on){return new(on||Jt)(x.rXU(He.dS,8),x.rXU(x.aKT),x.rXU(x.SKi),x.rXU(x.gRc),x.rXU(ft.Xj),x.rXU($r),x.rXU(x.bc$,8))};static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["mat-drawer-container"]],contentQueries:function(on,gn,mr){if(1&on&&(x.wni(mr,ln,5),x.wni(mr,vn,5)),2&on){let lr;x.mGM(lr=x.lsd())&&(gn._content=lr.first),x.mGM(lr=x.lsd())&&(gn._allDrawers=lr)}},viewQuery:function(on,gn){if(1&on&&x.GBs(ln,5),2&on){let mr;x.mGM(mr=x.lsd())&&(gn._userContent=mr.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(on,gn){2&on&&x.AVh("mat-drawer-container-explicit-backdrop",gn._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[x.Jv_([{provide:zr,useExisting:Jt}]),x.aNF],ngContentSelectors:$e,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(on,gn){1&on&&(x.NAR(nt),x.DNE(0,it,1,2,"div",0),x.SdG(1),x.SdG(2,1),x.DNE(3,jt,2,0,"mat-drawer-content")),2&on&&(x.vxM(gn.hasBackdrop?0:-1),x.R7$(3),x.vxM(gn._content?-1:3))},dependencies:[ln],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return Jt})(),er=(()=>{class Jt extends ln{constructor(Rt,on,gn,mr,lr){super(Rt,on,gn,mr,lr)}static#e=this.\u0275fac=function(on){return new(on||Jt)(x.rXU(x.gRc),x.rXU((0,x.Rfq)(()=>pr)),x.rXU(x.aKT),x.rXU(ft.R),x.rXU(x.SKi))};static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(on,gn){2&on&&x.xc7("margin-left",gn._container._contentMargins.left,"px")("margin-right",gn._container._contentMargins.right,"px")},standalone:!0,features:[x.Jv_([{provide:ft.uv,useExisting:Jt}]),x.Vt3,x.aNF],ngContentSelectors:An,decls:1,vars:0,template:function(on,gn){1&on&&(x.NAR(),x.SdG(0))},encapsulation:2,changeDetection:0})}return Jt})(),yr=(()=>{class Jt extends vn{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(Rt){this._fixedInViewport=(0,Je.he)(Rt)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(Rt){this._fixedTopGap=(0,Je.OE)(Rt)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(Rt){this._fixedBottomGap=(0,Je.OE)(Rt)}static#e=this.\u0275fac=(()=>{let Rt;return function(gn){return(Rt||(Rt=x.xGo(Jt)))(gn||Jt)}})();static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(on,gn){2&on&&(x.BMQ("align",null),x.xc7("top",gn.fixedInViewport?gn.fixedTopGap:null,"px")("bottom",gn.fixedInViewport?gn.fixedBottomGap:null,"px"),x.AVh("mat-drawer-end","end"===gn.position)("mat-drawer-over","over"===gn.mode)("mat-drawer-push","push"===gn.mode)("mat-drawer-side","side"===gn.mode)("mat-drawer-opened",gn.opened)("mat-sidenav-fixed",gn.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[x.Vt3,x.aNF],ngContentSelectors:An,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(on,gn){1&on&&(x.NAR(),x.j41(0,"div",1,0),x.SdG(2),x.k0s())},dependencies:[ft.uv],encapsulation:2,data:{animation:[_r.transformDrawer]},changeDetection:0})}return Jt})(),pr=(()=>{class Jt extends Dn{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static#e=this.\u0275fac=(()=>{let Rt;return function(gn){return(Rt||(Rt=x.xGo(Jt)))(gn||Jt)}})();static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["mat-sidenav-container"]],contentQueries:function(on,gn,mr){if(1&on&&(x.wni(mr,er,5),x.wni(mr,yr,5)),2&on){let lr;x.mGM(lr=x.lsd())&&(gn._content=lr.first),x.mGM(lr=x.lsd())&&(gn._allDrawers=lr)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(on,gn){2&on&&x.AVh("mat-drawer-container-explicit-backdrop",gn._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[x.Jv_([{provide:zr,useExisting:Jt}]),x.Vt3,x.aNF],ngContentSelectors:Rn,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(on,gn){1&on&&(x.NAR(dn),x.DNE(0,Kn,1,2,"div",0),x.SdG(1),x.SdG(2,1),x.DNE(3,tr,2,0,"mat-sidenav-content")),2&on&&(x.vxM(gn.hasBackdrop?0:-1),x.R7$(3),x.vxM(gn._content?-1:3))},dependencies:[er],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return Jt})(),Nr=(()=>{class Jt{static#e=this.\u0275fac=function(on){return new(on||Jt)};static#t=this.\u0275mod=x.$C({type:Jt});static#n=this.\u0275inj=x.G2t({imports:[gt.yE,ft.Gj,ft.Gj,gt.yE]})}return Jt})();var Cr=E(44668),$i=E(43794),fo=E(40605);let ci=(()=>{class Jt{constructor(Rt,on){this.swUpdate=Rt,this.zone=on,this.isNewVersionAvailable=!1,this.intervalSource=(0,fo.Y)(9e5),this.checkForUpdateOnInterval(),this.checkForUpdateOnLoad()}applyUpdate(){this.swUpdate.activateUpdate().then(()=>document.location.reload()).catch(Rt=>console.error("Failed to apply updates:",Rt))}checkForUpdateOnInterval(){var Rt=this;this.intervalSubscription?.unsubscribe(),this.swUpdate.isEnabled&&this.zone.runOutsideAngular(()=>{this.intervalSubscription=this.intervalSource.subscribe((0,W.A)(function*(){if(Rt.isNewVersionAvailable)yield Rt.swUpdate.checkForUpdate();else try{Rt.isNewVersionAvailable=yield Rt.swUpdate.checkForUpdate(),console.log(Rt.isNewVersionAvailable?"A new version is available.":"Already on the latest version.")}catch(on){console.error("Failed to check for updates:",on)}}))})}checkForUpdateOnLoad(){this.newVersionSubscription?.unsubscribe(),this.swUpdate.isEnabled?(this.newVersionSubscription=this.swUpdate.versionUpdates.subscribe(Rt=>{switch(console.log("New version update event:"),console.log(Rt),Rt.type){case"VERSION_DETECTED":console.log(`Downloading new app version: ${Rt.version.hash}`);break;case"VERSION_READY":console.log(`Current app version: ${Rt.currentVersion.hash}`),console.log(`New app version ready for use: ${Rt.latestVersion.hash}`),this.isNewVersionAvailable=!0;break;case"VERSION_INSTALLATION_FAILED":console.log(`Failed to install app version '${Rt.version.hash}': ${Rt.error}`)}}),console.log("Subscribed to new version updates.")):console.log("Service worker updates are disabled for this app.")}static#e=this.\u0275fac=function(on){return new(on||Jt)(x.KVO(Zt),x.KVO(x.SKi))};static#t=this.\u0275prov=x.jDH({token:Jt,factory:Jt.\u0275fac,providedIn:"root"})}return Jt})();var lo=E(55619),ho=E(33347),Do=E(39434),Di=E(78013),ki=E(71997);const Vo=["*"],Ya=Jt=>({"sidenav-collapsed":Jt}),Gr=()=>["/settings"],Ts=Jt=>["/profile",Jt],Ba=()=>["/help"],ca=()=>["/accounts"],Is=()=>["/account","did:dht:umj7apgmkodtrb7mdpjo4h7xinqdnatzgy38j7wi67k9c7sdns1o"],Ja=()=>["/account/create"];function Na(Jt,qn){1&Jt&&x.nrm(0,"img",12)}function la(Jt,qn){if(1&Jt&&x.EFF(0),2&Jt){const Rt=x.XpG().$implicit;x.SpI(" ",Rt.title," ")}}function ed(Jt,qn){if(1&Jt&&(x.j41(0,"a",13,6)(2,"mat-icon",15),x.EFF(3),x.k0s(),x.DNE(4,la,1,1),x.k0s()),2&Jt){const Rt=qn.$implicit,on=x.sdS(1),gn=x.XpG();x.Y8G("routerLink",Rt.path)("activated",on.isActive),x.R7$(3),x.JRh(Rt.data.icon),x.R7$(),x.vxM(gn.collapsed()?-1:4)}}function Qd(Jt,qn){1&Jt&&(x.j41(0,"mat-icon",15),x.EFF(1,"chevron_right"),x.k0s())}function lf(Jt,qn){1&Jt&&(x.j41(0,"mat-icon",15),x.EFF(1,"chevron_left"),x.k0s())}function Kf(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"button",32),x.bIt("click",function(){x.eBV(Rt),x.XpG();const gn=x.sdS(2);return x.Njj(gn.toggle())}),x.j41(1,"mat-icon",33),x.EFF(2,"menu"),x.k0s()()}}function ku(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"button",34),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG();return x.Njj(gn.navigateBack())}),x.j41(1,"mat-icon"),x.EFF(2,"arrow_back"),x.k0s()()}}function df(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"button",35),x.bIt("click",function(){const gn=x.eBV(Rt).$implicit;return x.Njj(gn.action())}),x.j41(1,"mat-icon"),x.EFF(2),x.k0s()()}if(2&Jt){const Rt=qn.$implicit;x.Y8G("title",Rt.name),x.R7$(2),x.JRh(Rt.icon)}}function Rh(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"button",36),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG();return x.Njj(gn.applyUpdate())}),x.j41(1,"mat-icon"),x.EFF(2,"get_app"),x.k0s()()}}let eu=(()=>{class Jt{constructor(){this.breakpointObserver=(0,x.WQX)(or.QP),this.storage=(0,x.WQX)($i.n),this.identity=(0,x.WQX)(M.K),this.updateService=(0,x.WQX)(ci),this.profileService=(0,x.WQX)(Do.p),this.layout=(0,x.WQX)(L.Y),this.navigation=(0,x.WQX)(lo.o),this.rootRoutes=ce.filter(Rt=>Rt.path).filter(Rt=>Rt.data&&1!=Rt.data.hide),this.isHandset$=this.breakpointObserver.observe("(max-width: 700px)").pipe((0,Ne.T)(Rt=>Rt.matches),(0,Cr.t)()),this.collapsed=(0,x.vPA)(!1)}wipe(){var Rt=this;return(0,W.A)(function*(){Rt.storage.clear(),console.log("Local storage data has been wiped!"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DID_RESOLVERCACHE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_DATASTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_EVENTLOG"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGEINDEX"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/DWN_MESSAGESTORE"),yield indexedDB.deleteDatabase("level-js-DATA/AGENT/VAULT_STORE"),console.log("Data has been wiped!"),window.location.reload()})()}applyUpdate(){this.updateService.applyUpdate()}lock(){this.identity.lock()}navigateBack(){this.navigation.back()}collapseToggle(){this.collapsed.set(!this.collapsed())}static#e=this.\u0275fac=function(on){return new(on||Jt)};static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["app-layout"]],standalone:!0,features:[x.aNF],ngContentSelectors:Vo,decls:158,vars:51,consts:[["drawer",""],["menuDebug","matMenu"],["menuNotifications","matMenu"],["menu","matMenu"],["menuAccounts","matMenu"],["menuLanguages","matMenu"],["link","routerLinkActive"],["autosize","",1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"ngClass","mode","opened"],["src","ariton-icon-dark.svg",1,"toolbar-logo"],[1,"toolbar-text"],["srcset","ariton-text-light.svg","media","(prefers-color-scheme: dark)"],["src","ariton-text-dark.svg"],["mat-list-item","","routerLinkActive","",3,"routerLink","activated"],[3,"click"],["matListItemIcon",""],["type","button","aria-label","Toggle sidenav","mat-icon-button",""],["mat-icon-button",""],["mat-icon-button","",3,"title"],[1,"toolbar-spacer"],[1,"toolbar-items"],["matTooltip","Update available. Click to update now.","mat-icon-button",""],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"routerLink"],["mat-menu-item",""],[1,"account-menu-profile"],["onerror","this.src='/avatar-placeholder.png';this.onerror='';",1,"account-menu-profile-icon",3,"src"],["mat-menu-item","",1,"account-menu-item",3,"routerLink"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"sidenav-scroll-wrapper"],[1,"sidenav-content"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-icon-button","",3,"click"],["mat-icon-button","",3,"click","title"],["matTooltip","Update available. Click to update now.","mat-icon-button","",3,"click"]],template:function(on,gn){if(1&on){const mr=x.RV6();x.NAR(),x.j41(0,"mat-sidenav-container",7)(1,"mat-sidenav",8,0),x.nI1(3,"async"),x.nI1(4,"async"),x.nI1(5,"async"),x.j41(6,"mat-toolbar"),x.nrm(7,"img",9),x.j41(8,"picture",10),x.nrm(9,"source",11),x.DNE(10,Na,1,0,"img",12),x.k0s()(),x.j41(11,"mat-nav-list"),x.Z7z(12,ed,5,4,"a",13,x.Vm6),x.j41(14,"mat-list-item",14),x.bIt("click",function(){return x.eBV(mr),x.Njj(gn.collapseToggle())}),x.DNE(15,Qd,2,0,"mat-icon",15)(16,lf,2,0,"mat-icon",15),x.k0s()()(),x.j41(17,"mat-sidenav-content")(18,"mat-toolbar"),x.DNE(19,Kf,3,0,"button",16),x.nI1(20,"async"),x.DNE(21,ku,3,0,"button",17),x.Z7z(22,df,3,2,"button",18,x.fX1),x.nrm(24,"span",19),x.j41(25,"span",20),x.DNE(26,Rh,3,0,"button",21),x.j41(27,"button",22)(28,"mat-icon"),x.EFF(29,"warning"),x.k0s()(),x.j41(30,"mat-menu",null,1)(32,"button",23),x.bIt("click",function(){return x.eBV(mr),x.Njj(gn.wipe())}),x.j41(33,"mat-icon"),x.EFF(34,"settings"),x.k0s(),x.j41(35,"span"),x.EFF(36,"Reset All Data (Wipe)"),x.k0s()()(),x.j41(37,"button",22)(38,"mat-icon"),x.EFF(39,"notifications"),x.k0s()(),x.j41(40,"mat-menu",null,2)(42,"button",24)(43,"mat-icon"),x.EFF(44,"settings"),x.k0s(),x.j41(45,"span"),x.EFF(46,"Notification Settings"),x.k0s()(),x.nrm(47,"mat-divider"),x.j41(48,"button",25)(49,"mat-icon"),x.EFF(50,"forum"),x.k0s(),x.j41(51,"span"),x.EFF(52,"Knitting Community posted new pattern"),x.k0s()(),x.j41(53,"button",25)(54,"mat-icon"),x.EFF(55,"face"),x.k0s(),x.j41(56,"span"),x.EFF(57,"Joe sent you a message"),x.k0s()(),x.j41(58,"button",25)(59,"mat-icon"),x.EFF(60,"key"),x.k0s(),x.j41(61,"span"),x.EFF(62,"New security request"),x.k0s()(),x.j41(63,"button",25)(64,"mat-icon"),x.EFF(65,"verified_user"),x.k0s(),x.j41(66,"span"),x.EFF(67,"Social account recovery request"),x.k0s()()(),x.j41(68,"button",22)(69,"mat-icon"),x.EFF(70,"account_circle"),x.k0s()(),x.j41(71,"mat-menu",null,3)(73,"div",26),x.nrm(74,"img",27),x.nI1(75,"safeResourceUrl"),x.j41(76,"div")(77,"h2"),x.EFF(78),x.k0s(),x.EFF(79),x.nrm(80,"br"),x.EFF(81),x.nI1(82,"did"),x.nrm(83,"br"),x.k0s()(),x.j41(84,"button",28)(85,"mat-icon"),x.EFF(86,"account_circle"),x.k0s(),x.j41(87,"span"),x.EFF(88,"View Profile"),x.k0s()(),x.nrm(89,"mat-divider"),x.j41(90,"button",29)(91,"mat-icon"),x.EFF(92,"switch_account"),x.k0s(),x.j41(93,"span"),x.EFF(94,"Accounts"),x.k0s()(),x.j41(95,"button",23),x.bIt("click",function(){return x.eBV(mr),x.Njj(gn.lock())}),x.j41(96,"mat-icon"),x.EFF(97,"lock"),x.k0s(),x.j41(98,"span"),x.EFF(99,"Lock account"),x.k0s()(),x.nrm(100,"mat-divider"),x.j41(101,"button",29)(102,"mat-icon"),x.EFF(103,"translate"),x.k0s(),x.j41(104,"span"),x.EFF(105,"Language: English"),x.k0s()(),x.nrm(106,"mat-divider"),x.j41(107,"button",24)(108,"mat-icon"),x.EFF(109,"settings"),x.k0s(),x.j41(110,"span"),x.EFF(111,"Settings"),x.k0s()(),x.nrm(112,"mat-divider"),x.j41(113,"button",24)(114,"mat-icon"),x.EFF(115,"help"),x.k0s(),x.j41(116,"span"),x.EFF(117,"Help"),x.k0s()()(),x.j41(118,"mat-menu",null,4)(120,"button",24)(121,"mat-icon"),x.EFF(122,"manage_accounts"),x.k0s(),x.j41(123,"span"),x.EFF(124,"Manage Accounts"),x.k0s()(),x.nrm(125,"mat-divider"),x.j41(126,"button",24)(127,"mat-icon"),x.EFF(128,"account_circle"),x.k0s(),x.j41(129,"span"),x.EFF(130,"Account 1"),x.k0s()(),x.j41(131,"button",24)(132,"mat-icon"),x.EFF(133,"account_circle"),x.k0s(),x.j41(134,"span"),x.EFF(135,"Account 2"),x.k0s()(),x.j41(136,"button",24)(137,"mat-icon"),x.EFF(138,"account_circle"),x.k0s(),x.j41(139,"span"),x.EFF(140,"Account 3"),x.k0s()(),x.nrm(141,"mat-divider"),x.j41(142,"button",24)(143,"mat-icon"),x.EFF(144,"person_add"),x.k0s(),x.j41(145,"span"),x.EFF(146,"Add account"),x.k0s()()(),x.j41(147,"mat-menu",null,5)(149,"button",25)(150,"span"),x.EFF(151,"English"),x.k0s()(),x.j41(152,"button",25)(153,"span"),x.EFF(154,"Norwegian"),x.k0s()()()()(),x.j41(155,"div",30)(156,"div",31),x.SdG(157),x.k0s()()()()}if(2&on){const mr=x.sdS(31),lr=x.sdS(41),pi=x.sdS(72),ur=x.sdS(119),Ni=x.sdS(148);x.R7$(),x.Y8G("ngClass",x.eq3(39,Ya,gn.collapsed()))("mode",x.bMT(3,27,gn.isHandset$)?"over":"side")("opened",!1===x.bMT(4,29,gn.isHandset$)),x.BMQ("role",x.bMT(5,31,gn.isHandset$)?"dialog":"navigation"),x.R7$(9),x.vxM(gn.collapsed()?-1:10),x.R7$(2),x.Dyx(gn.rootRoutes),x.R7$(3),x.vxM(gn.collapsed()?15:16),x.R7$(4),x.vxM(x.bMT(20,33,gn.isHandset$)?19:-1),x.R7$(2),x.vxM(gn.layout.navigation()?21:-1),x.R7$(),x.Dyx(gn.layout.actions()),x.R7$(4),x.vxM(gn.updateService.isNewVersionAvailable?26:-1),x.R7$(),x.Y8G("matMenuTriggerFor",mr),x.R7$(10),x.Y8G("matMenuTriggerFor",lr),x.R7$(5),x.Y8G("routerLink",x.lJ4(41,Gr)),x.R7$(26),x.Y8G("matMenuTriggerFor",pi),x.R7$(6),x.Y8G("src",x.bMT(75,35,gn.profileService.avatar()),x.B4B),x.R7$(4),x.JRh(gn.profileService.current().name),x.R7$(),x.SpI(" @",gn.profileService.current().title,""),x.R7$(2),x.SpI(" ",x.bMT(82,37,gn.identity.did),""),x.R7$(3),x.Y8G("routerLink",x.eq3(42,Ts,gn.identity.did)),x.R7$(6),x.Y8G("matMenuTriggerFor",ur),x.R7$(11),x.Y8G("matMenuTriggerFor",Ni),x.R7$(6),x.Y8G("routerLink",x.lJ4(44,Gr)),x.R7$(6),x.Y8G("routerLink",x.lJ4(45,Ba)),x.R7$(7),x.Y8G("routerLink",x.lJ4(46,ca)),x.R7$(6),x.Y8G("routerLink",x.lJ4(47,Is)),x.R7$(5),x.Y8G("routerLink",x.lJ4(48,Is)),x.R7$(5),x.Y8G("routerLink",x.lJ4(49,Is)),x.R7$(6),x.Y8G("routerLink",x.lJ4(50,Ja))}},dependencies:[$.MD,$.YU,$.Jj,Di.d,l.s5,l.KQ,I.Hl,I.iY,Nr,yr,pr,er,oe.Fg,oe._L,oe.YE,oe.ZV,ki.q,V.m_,V.An,re.Cn,re.kk,re.fb,re.Cp,R.Wk,R.wQ,te.uc,te.oV,ho.k],styles:[".toolbar-logo[_ngcontent-%COMP%]{max-height:54px}.account-menu-profile[_ngcontent-%COMP%]{color:var(--mat-menu-item-label-text-color);display:flex;gap:8px;margin:8px;align-items:center}.account-menu-profile[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0}.account-menu-profile-icon[_ngcontent-%COMP%]{width:64px;border-radius:50%}.account-menu-profile[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-grow:2}.toolbar-text[_ngcontent-%COMP%]{margin-left:.3em;margin-top:.5em;width:100px;height:32px}.sidenav-container[_ngcontent-%COMP%]{height:100%}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}mat-sidenav-content[_ngcontent-%COMP%]{padding-right:16px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 80px);overflow:auto;border-radius:16px;box-sizing:border-box}.sidenav-content[_ngcontent-%COMP%]{max-height:100%;overflow-y:auto;padding:16px;box-sizing:border-box}.column-content[_ngcontent-%COMP%]{overflow-y:scroll;box-sizing:border-box}.sidenav[_ngcontent-%COMP%]{width:240px;padding:0 8px;box-sizing:border-box}.sidenav-collapsed[_ngcontent-%COMP%]{width:72px}@media (max-width: 959.98px){mat-sidenav-content[_ngcontent-%COMP%]{padding-right:8px;padding-left:8px}.sidenav-scroll-wrapper[_ngcontent-%COMP%]{height:calc(100dvh - 64px)}}"]})}return Jt})();var kd=E(9183);function da(Jt,qn){1&Jt&&x.nrm(0,"mat-spinner",4)}function qa(Jt,qn){1&Jt&&(x.j41(0,"span"),x.EFF(1,"Unlock"),x.k0s())}function Sa(Jt,qn){1&Jt&&(x.j41(0,"mat-error"),x.EFF(1,"Password is "),x.j41(2,"strong"),x.EFF(3,"invalid"),x.k0s()())}let td=(()=>{class Jt{constructor(Rt){this.identityService=Rt,this.passwordInput=new F.MJ("",F.k0.required),this.unlocking=(0,x.vPA)(!1),this.invalidPassword=(0,x.vPA)(!1)}onSubmit(){var Rt=this;return(0,W.A)(function*(){Rt.unlocking.set(!0),(yield Rt.identityService.unlock(Rt.passwordInput.value))?(console.log("Vault unlocked"),Rt.invalidPassword.set(!1)):(console.log("Failed to unlock vault"),Rt.invalidPassword.set(!0)),Rt.unlocking.set(!1)})()}static#e=this.\u0275fac=function(on){return new(on||Jt)(x.rXU(M.K))};static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["app-unlock"]],standalone:!0,features:[x.aNF],decls:18,vars:4,consts:[["src","ariton-icon-dark.svg",1,"unlock-logo"],[3,"ngSubmit"],["matInput","","type","password",3,"formControl"],["mat-flat-button","","type","submit","color","primary",3,"disabled"],["diameter","20"]],template:function(on,gn){1&on&&(x.nrm(0,"img",0),x.j41(1,"h1"),x.EFF(2,"Unlock your account"),x.k0s(),x.j41(3,"p"),x.EFF(4,"You have configured your Ariton account with a secure personal password."),x.nrm(5,"br"),x.EFF(6,"Enter password to unlock your account."),x.k0s(),x.j41(7,"form",1),x.bIt("ngSubmit",function(){return gn.onSubmit()}),x.j41(8,"mat-form-field")(9,"mat-label"),x.EFF(10,"Enter your password"),x.k0s(),x.nrm(11,"input",2),x.k0s(),x.EFF(12," \xa0 "),x.j41(13,"button",3),x.DNE(14,da,1,0,"mat-spinner",4)(15,qa,2,0,"span"),x.k0s(),x.j41(16,"p"),x.DNE(17,Sa,4,0,"mat-error"),x.k0s()()),2&on&&(x.R7$(11),x.Y8G("formControl",gn.passwordInput),x.R7$(2),x.Y8G("disabled",!(gn.passwordInput.valid&&!gn.unlocking())),x.R7$(),x.vxM(gn.unlocking()?14:15),x.R7$(3),x.vxM(gn.invalidPassword()?17:-1))},dependencies:[F.YN,F.qT,F.me,F.BC,F.cb,F.cV,kd.D6,kd.LG,F.X1,F.l_,Q.RG,Q.rl,Q.nJ,Q.TL,Z.fS,Z.fg,I.Hl,I.$z,V.m_],styles:["button[_ngcontent-%COMP%]{width:100px}.unlock-logo[_ngcontent-%COMP%]{max-width:200px}"]})}return Jt})();var La=E(33065);function Ls(Jt,qn){1&Jt&&(x.j41(0,"p"),x.EFF(1,"Initializing Ariton..."),x.k0s())}function bc(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"button",7),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG(3);return x.Njj(gn.back())}),x.EFF(1,"Back"),x.k0s()}if(2&Jt){const Rt=x.XpG(3);x.Y8G("disabled",Rt.appService.loading())}}function nd(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"button",8),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG(3);return x.Njj(gn.createAccount())}),x.EFF(1,"Create a new account"),x.k0s(),x.j41(2,"button",7),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG(3);return x.Njj(gn.restoreAccount())}),x.EFF(3,"Restore existing account"),x.k0s()}if(2&Jt){const Rt=x.XpG(3);x.Y8G("disabled",Rt.appService.loading()),x.R7$(2),x.Y8G("disabled",!0)}}function ua(Jt,qn){1&Jt&&x.nrm(0,"app-restore")}function Qa(Jt,qn){if(1&Jt&&(x.j41(0,"div",2),x.DNE(1,bc,2,1,"button",6)(2,nd,4,2)(3,ua,1,0,"app-restore"),x.k0s()),2&Jt){const Rt=x.XpG(2);x.R7$(),x.vxM(Rt.restore()?1:2),x.R7$(2),x.vxM(Rt.restore()?3:-1)}}function rd(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"div",3),x.nrm(1,"app-unlock"),x.j41(2,"p"),x.EFF(3,"Issues? "),x.j41(4,"button",5),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG(2);return x.Njj(gn.forceClose())}),x.EFF(5,"Close loading sceen"),x.k0s()()()}}function tu(Jt,qn){1&Jt&&(x.j41(0,"div",0),x.nrm(1,"img",1),x.j41(2,"div"),x.EFF(3,"Initializing... please wait..."),x.k0s()())}function Us(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"div",4)(1,"h1"),x.EFF(2,"Error during initialization. Offline?"),x.k0s(),x.j41(3,"p"),x.EFF(4,"You must be online to create your account."),x.nrm(5,"br"),x.EFF(6,"Please verify network connection and try again."),x.k0s(),x.j41(7,"p")(8,"button",5),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG(2);return x.Njj(gn.reload())}),x.EFF(9,"Reload"),x.k0s()()()}}function fa(Jt,qn){1&Jt&&x.nrm(0,"mat-spinner")}function ol(Jt,qn){if(1&Jt){const Rt=x.RV6();x.j41(0,"div",0),x.nrm(1,"img",1),x.DNE(2,Ls,2,0,"p")(3,Qa,4,2,"div",2)(4,rd,6,0,"div",3)(5,tu,4,0,"div",0)(6,Us,10,0,"div",4)(7,fa,1,0,"mat-spinner"),x.j41(8,"p"),x.EFF(9,"Issues? "),x.j41(10,"button",5),x.bIt("click",function(){x.eBV(Rt);const gn=x.XpG();return x.Njj(gn.forceClose())}),x.EFF(11,"Close loading sceen"),x.k0s()()()}if(2&Jt){let Rt;const on=x.XpG();x.R7$(2),x.vxM(0===(Rt=on.appService.onboardingState())?2:1===Rt?3:2===Rt?4:3===Rt?5:4===Rt?6:-1),x.R7$(5),x.vxM(on.appService.loading()?7:-1)}}(0,m.B8)((()=>{class Jt{countChar(Rt,on){return on.split(Rt).length-1}constructor(Rt,on,gn){this.router=Rt,this.layout=on,this.identityService=gn,this.title="app",this.appService=(0,x.WQX)(S.d),this.restore=(0,x.vPA)(!1);const mr=globalThis.location.search;if(mr){const lr=Object.fromEntries(new URLSearchParams(mr));this.appService.params=lr}console.log(mr),console.log(this.appService.params),this.router.events.subscribe(lr=>{lr instanceof R.Z?(this.layout.enableScrolling(),this.layout.resetActions()):lr instanceof R.wF&&(this.countChar("/",lr.url)>1?this.layout.enableNavigation():this.layout.disableNavigation())}),(0,x.QZP)(()=>{this.appService.initialized()&&console.log("App has been initialized!!!!")})}forceClose(){this.appService.onboardingState.set(S.f.Unlocked),this.appService.initialized.set(!0)}restoreAccount(){var Rt=this;return(0,W.A)(function*(){Rt.restore.set(!0)})()}back(){this.restore.set(!1)}createAccount(){var Rt=this;return(0,W.A)(function*(){console.log("Creating new account..."),yield Rt.appService.createAccount(),Rt.router.navigate([Rt.appService.state().loginAction])})()}reload(){document.location=document.location}ngOnInit(){var Rt=this;return(0,W.A)(function*(){yield Rt.appService.initialize()})()}static#e=this.\u0275fac=function(on){return new(on||Jt)(x.rXU(R.Ix),x.rXU(L.Y),x.rXU(M.K))};static#t=this.\u0275cmp=x.VBU({type:Jt,selectors:[["app-root"]],standalone:!0,features:[x.Jv_([{provide:Q.U$,useValue:{appearance:"outline"}}]),x.aNF],decls:3,vars:1,consts:[[1,"loading-container"],["src","ariton-icon-dark.svg",1,"loading-logo"],[1,"new-user-actions"],[1,"unlock-container"],[1,"loading-error"],["mat-button","",3,"click"],["mat-button","",3,"disabled"],["mat-button","",3,"click","disabled"],["mat-flat-button","",3,"click","disabled"]],template:function(on,gn){1&on&&(x.DNE(0,ol,12,2,"div",0),x.j41(1,"app-layout"),x.nrm(2,"router-outlet"),x.k0s()),2&on&&x.vxM(gn.appService.initialized()?-1:0)},dependencies:[La.RestoreComponent,I.Hl,I.$z,kd.D6,kd.LG,R.n3,eu,td],styles:[".unlock-container[_ngcontent-%COMP%]{background-color:var(--mat-app-background-color);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1000;display:flex;justify-content:center;align-items:center;align-content:center;text-align:center}.loading-container[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(18px);backdrop-filter:blur(18px);color:var(--mat-app-text-color);padding:2em;position:absolute;box-sizing:border-box;width:100%;inset:0;z-index:1001;display:flex;flex-direction:column;align-items:center;justify-content:center}.loading-logo[_ngcontent-%COMP%]{max-width:128px;position:absolute;right:1em;bottom:1em}mat-spinner[_ngcontent-%COMP%]{margin:2em}.new-user-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1em;margin-bottom:1em}"]})}return Jt})(),qt).catch(Jt=>console.error(Jt))},49245:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>m});const m={protocol:"http://anyone-collaborate-protocol.xyz",published:!0,types:{doc:{}},structure:{doc:{$actions:[{who:"anyone",can:["read","co-update","co-delete"]}]}}}},62060:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>m});const m={protocol:"http://chat-protocol.xyz",published:!0,types:{thread:{schema:"thread",dataFormats:["application/json"]},message:{schema:"message",dataFormats:["application/json"]}},structure:{thread:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread",can:["read"]},{who:"recipient",of:"thread",can:["read"]}],message:{$actions:[{who:"anyone",can:["create","update"]},{who:"author",of:"thread/message",can:["read"]},{who:"recipient",of:"thread/message",can:["read"]}]}}}}},77949:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>m});const m={protocol:"https://schema.ariton.app/community/entry",published:!0,types:{community:{schema:"https://schema.ariton.app/community/schema/community",dataFormats:["application/json"]},album:{schema:"https://schema.ariton.app/community/schema/album",dataFormats:["text/plain"]},photo:{schema:"https://schema.ariton.app/community/schema/photo",dataFormats:["text/plain"]},friend:{schema:"https://schema.ariton.app/community/schema/friend",dataFormats:["text/plain"]},participant:{schema:"https://schema.ariton.app/community/schema/participant",dataFormats:["text/plain"]},updater:{schema:"https://schema.ariton.app/community/schema/updater",dataFormats:["text/plain"]},globalAdmin:{schema:"https://schema.ariton.app/community/schema/globalAdmin",dataFormats:["application/json"]},admin:{schema:"https://schema.ariton.app/community/schema/admin",dataFormats:["application/json"]}},structure:{globalAdmin:{$role:!0},friend:{$role:!0},community:{$actions:[{role:"globalAdmin",can:["create","update"]}],admin:{$role:!0,$actions:[{role:"globalAdmin",can:["create","update"]}]}}}}},97372:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>m});const m={protocol:"https://schema.ariton.app/file",published:!0,types:{entry:{schema:"https://schema.ariton.app/file/schema/entry",dataFormats:["application/json"]},attachment:{schema:"https://schema.ariton.app/file/schema/attachment"},collaborator:{schema:"https://schema.ariton.app/file/schema/collaborator",dataFormats:["application/json"]}},structure:{collaborator:{$role:!0},entry:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]},attachment:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]}}}},67136:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>m});const m={protocol:"http://free-for-all-protocol.xyz",published:!0,types:{post:{schema:"eph",dataFormats:["application/json"]},attachment:{}},structure:{post:{$actions:[{who:"anyone",can:["create","update","delete","prune","read","co-delete","co-prune"]}],attachment:{$actions:[{who:"anyone",can:["create","update","delete","read","co-delete"]}]}}}}},22312:(Le,z,E)=>{"use strict";E.d(z,{Aq:()=>$,ME:()=>L,iU:()=>F,u5:()=>N});var m=E(4053),x=E(77949),W=(E(45189),E(2685)),S=E(69371);const L={uri:m.Q.protocol,definition:m.Q},N={uri:W.Q.protocol,definition:W.Q},$={uri:x.Q.protocol,definition:x.Q},F={uri:S.Q.protocol,definition:S.Q}},69371:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>m});const m={protocol:"https://schema.ariton.app/message",published:!0,types:{message:{schema:"https://schema.ariton.app/message/schema/message",dataFormats:["application/json"]},writer:{schema:"https://schema.ariton.app/message/schema/writer",dataFormats:["application/json"]},request:{schema:"https://schema.ariton.app/message/schema/request",dataFormats:["application/json"]}},structure:{writer:{$role:!0},message:{$actions:[{role:"writer",can:["create","update"]},{who:"author",of:"message",can:["read"]},{who:"recipient",of:"message",can:["read"]}]},request:{$actions:[{who:"anyone",can:["create","update","delete"]},{who:"author",of:"request",can:["read","create","delete"]},{who:"recipient",of:"request",can:["read","create","delete","co-delete"]}]}}}},1639:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>m});const m={protocol:"http://minimal.xyz",published:!1,types:{foo:{}},structure:{foo:{}}}},69314:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>m});const m={protocol:"https://schema.ariton.app/note",published:!0,types:{note:{schema:"https://schema.ariton.app/note/schema/note",dataFormats:["application/json"]},collaborator:{schema:"https://schema.ariton.app/note/schema/collaborator",dataFormats:["application/json"]}},structure:{collaborator:{$role:!0},note:{$actions:[{role:"collaborator",can:["create","update","read","delete"]}]}}}},4053:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>m});const m={published:!0,protocol:"https://schema.ariton.app/profile/entry",types:{profile:{schema:"https://schema.ariton.app/profile/schema/profile",dataFormats:["application/json"]},bio:{dataFormats:["application/json"]},status:{dataFormats:["application/json"]},location:{dataFormats:["application/json"]},birthDate:{dataFormats:["application/json"]},social:{dataFormats:["application/json"]},messaging:{dataFormats:["application/json"]},phone:{dataFormats:["application/json"]},address:{dataFormats:["application/json"]},career:{dataFormats:["application/json"]},payment:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{$actions:[{who:"anyone",can:["read"]}]},bio:{},status:{},location:{},birthDate:{},social:{},career:{},avatar:{$actions:[{who:"anyone",can:["read"]}]},hero:{$actions:[{who:"anyone",can:["read"]}]},messaging:{},address:{},phone:{},payment:{}}}},2685:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>m});const m={published:!0,protocol:"https://schema.ariton.app/registry/entry",types:{profile:{dataFormats:["application/json"]},avatar:{dataFormats:["image/gif","image/png","image/jpeg"]},hero:{dataFormats:["image/gif","image/png","image/jpeg"]}},structure:{profile:{},avatar:{},hero:{}}}},45189:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>m});const m={protocol:"https://social-media.xyz",published:!0,types:{post:{schema:"https://social-media.xyz/schemas/postSchema",dataFormats:["text/plain"]},reply:{schema:"https://social-media.xyz/schemas/replySchema",dataFormats:["text/plain"]},image:{dataFormats:["image/jpeg"]},caption:{schema:"https://social-media.xyz/schemas/captionSchema",dataFormats:["text/plain"]}},structure:{post:{$actions:[{who:"anyone",can:["create","read"]}],reply:{$actions:[{who:"recipient",of:"post",can:["create"]},{who:"author",of:"post",can:["create"]}]}},image:{$actions:[{who:"anyone",can:["create","read"]}],caption:{$actions:[{who:"anyone",can:["read"]},{who:"author",of:"image",can:["create"]}]},reply:{$actions:[{who:"author",of:"image",can:["read"]},{who:"recipient",of:"image",can:["create"]}]}}}}},4521:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.createCurve=z.getHash=void 0;const m=E(44882),x=E(96492),R=E(73040);function W(L){return{hash:L,hmac:(M,...N)=>(0,m.hmac)(L,M,(0,x.concatBytes)(...N)),randomBytes:x.randomBytes}}z.getHash=W,z.createCurve=function S(L,M){const N=$=>(0,R.weierstrass)({...L,...W($)});return Object.freeze({...N(M),create:N})}},25299:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateBasic=z.wNAF=void 0;const m=E(63834),x=E(84097),R=BigInt(0),W=BigInt(1);z.wNAF=function S(M,N){const $=(I,X)=>{const V=X.negate();return I?V:X},F=I=>({windows:Math.ceil(N/I)+1,windowSize:2**(I-1)});return{constTimeNegate:$,unsafeLadder(I,X){let V=M.ZERO,Z=I;for(;X>R;)X&W&&(V=V.add(Z)),Z=Z.double(),X>>=W;return V},precomputeWindow(I,X){const{windows:V,windowSize:Z}=F(X),re=[];let te=I,Q=te;for(let J=0;J<V;J++){Q=te,re.push(Q);for(let oe=1;oe<Z;oe++)Q=Q.add(te),re.push(Q);te=Q.double()}return re},wNAF(I,X,V){const{windows:Z,windowSize:re}=F(I);let te=M.ZERO,Q=M.BASE;const J=BigInt(2**I-1),oe=2**I,se=BigInt(I);for(let ae=0;ae<Z;ae++){const pe=ae*re;let le=Number(V&J);V>>=se,le>re&&(le-=oe,V+=W);const ve=pe,we=pe+Math.abs(le)-1,k=le<0;0===le?Q=Q.add($(ae%2!=0,X[ve])):te=te.add($(k,X[we]))}return{p:te,f:Q}},wNAFCached(I,X,V,Z){const re=I._WINDOW_SIZE||1;let te=X.get(I);return te||(te=this.precomputeWindow(I,re),1!==re&&X.set(I,Z(te))),this.wNAF(re,te,V)}}},z.validateBasic=function L(M){return(0,m.validateField)(M.Fp),(0,x.validateObject)(M,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,m.nLength)(M.n,M.nBitLength),...M,p:M.Fp.ORDER})}},45068:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.twistedEdwards=void 0;const m=E(63834),x=E(84097),R=E(84097),W=E(25299),S=BigInt(0),L=BigInt(1),M=BigInt(2),N=BigInt(8),$={zip215:!0};z.twistedEdwards=function I(X){const V=function F(X){const V=(0,W.validateBasic)(X);return x.validateObject(X,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...V})}(X),{Fp:Z,n:re,prehash:te,hash:Q,randomBytes:J,nByteLength:oe,h:se}=V,ae=M<<BigInt(8*oe)-L,pe=Z.create,le=V.uvRatio||((ge,Oe)=>{try{return{isValid:!0,value:Z.sqrt(ge*Z.inv(Oe))}}catch{return{isValid:!1,value:S}}}),ve=V.adjustScalarBytes||(ge=>ge),we=V.domain||((ge,Oe,ye)=>{if(Oe.length||ye)throw new Error("Contexts/pre-hash are not supported");return ge}),De=ge=>"bigint"==typeof ge&&S<ge,k=(ge,Oe)=>De(ge)&&De(Oe)&&ge<Oe,u=ge=>ge===S||k(ge,ae);function h(ge,Oe){if(k(ge,Oe))return ge;throw new Error(`Expected valid scalar < ${Oe}, got ${typeof ge} ${ge}`)}function y(ge){return ge===S?ge:h(ge,re)}const w=new Map;function T(ge){if(!(ge instanceof D))throw new Error("ExtendedPoint expected")}class D{constructor(Oe,ye,Se,he){if(this.ex=Oe,this.ey=ye,this.ez=Se,this.et=he,!u(Oe))throw new Error("x required");if(!u(ye))throw new Error("y required");if(!u(Se))throw new Error("z required");if(!u(he))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Oe){if(Oe instanceof D)throw new Error("extended point not allowed");const{x:ye,y:Se}=Oe||{};if(!u(ye)||!u(Se))throw new Error("invalid affine point");return new D(ye,Se,L,pe(ye*Se))}static normalizeZ(Oe){const ye=Z.invertBatch(Oe.map(Se=>Se.ez));return Oe.map((Se,he)=>Se.toAffine(ye[he])).map(D.fromAffine)}_setWindowSize(Oe){this._WINDOW_SIZE=Oe,w.delete(this)}assertValidity(){const{a:Oe,d:ye}=V;if(this.is0())throw new Error("bad point: ZERO");const{ex:Se,ey:he,ez:fe,et:ee}=this,ie=pe(Se*Se),ue=pe(he*he),be=pe(fe*fe),Ie=pe(be*be),Ne=pe(ie*Oe);if(pe(be*pe(Ne+ue))!==pe(Ie+pe(ye*pe(ie*ue))))throw new Error("bad point: equation left != right (1)");if(pe(Se*he)!==pe(fe*ee))throw new Error("bad point: equation left != right (2)")}equals(Oe){T(Oe);const{ex:ye,ey:Se,ez:he}=this,{ex:fe,ey:ee,ez:ie}=Oe,ue=pe(ye*ie),be=pe(fe*he),Ie=pe(Se*ie),Ne=pe(ee*he);return ue===be&&Ie===Ne}is0(){return this.equals(D.ZERO)}negate(){return new D(pe(-this.ex),this.ey,this.ez,pe(-this.et))}double(){const{a:Oe}=V,{ex:ye,ey:Se,ez:he}=this,fe=pe(ye*ye),ee=pe(Se*Se),ie=pe(M*pe(he*he)),ue=pe(Oe*fe),be=ye+Se,Ie=pe(pe(be*be)-fe-ee),Ne=ue+ee,Be=Ne-ie,yt=ue-ee,Ke=pe(Ie*Be),Re=pe(Ne*yt),ot=pe(Ie*yt),U=pe(Be*Ne);return new D(Ke,Re,U,ot)}add(Oe){T(Oe);const{a:ye,d:Se}=V,{ex:he,ey:fe,ez:ee,et:ie}=this,{ex:ue,ey:be,ez:Ie,et:Ne}=Oe;if(ye===BigInt(-1)){const qe=pe((fe-he)*(be+ue)),At=pe((fe+he)*(be-ue)),ut=pe(At-qe);if(ut===S)return this.double();const bt=pe(ee*M*Ne),Lt=pe(ie*M*Ie),en=Lt+bt,Zt=At+qe,Jn=Lt-bt,yn=pe(en*ut),Vt=pe(Zt*Jn),$t=pe(en*Jn),mt=pe(ut*Zt);return new D(yn,Vt,mt,$t)}const Be=pe(he*ue),yt=pe(fe*be),Ke=pe(ie*Se*Ne),Re=pe(ee*Ie),ot=pe((he+fe)*(ue+be)-Be-yt),U=Re-Ke,_=Re+Ke,p=pe(yt-ye*Be),O=pe(ot*U),q=pe(_*p),me=pe(ot*p),xe=pe(U*_);return new D(O,q,xe,me)}subtract(Oe){return this.add(Oe.negate())}wNAF(Oe){return l.wNAFCached(this,w,Oe,D.normalizeZ)}multiply(Oe){const{p:ye,f:Se}=this.wNAF(h(Oe,re));return D.normalizeZ([ye,Se])[0]}multiplyUnsafe(Oe){let ye=y(Oe);return ye===S?A:this.equals(A)||ye===L?this:this.equals(j)?this.wNAF(ye).p:l.unsafeLadder(this,ye)}isSmallOrder(){return this.multiplyUnsafe(se).is0()}isTorsionFree(){return l.unsafeLadder(this,re).is0()}toAffine(Oe){const{ex:ye,ey:Se,ez:he}=this,fe=this.is0();null==Oe&&(Oe=fe?N:Z.inv(he));const ee=pe(ye*Oe),ie=pe(Se*Oe),ue=pe(he*Oe);if(fe)return{x:S,y:L};if(ue!==L)throw new Error("invZ was invalid");return{x:ee,y:ie}}clearCofactor(){const{h:Oe}=V;return Oe===L?this:this.multiplyUnsafe(Oe)}static fromHex(Oe,ye=!1){const{d:Se,a:he}=V,fe=Z.BYTES,ee=(Oe=(0,R.ensureBytes)("pointHex",Oe,fe)).slice(),ie=Oe[fe-1];ee[fe-1]=-129&ie;const ue=x.bytesToNumberLE(ee);ue===S||h(ue,ye?ae:Z.ORDER);const be=pe(ue*ue),Ie=pe(be-L),Ne=pe(Se*be-he);let{isValid:Be,value:yt}=le(Ie,Ne);if(!Be)throw new Error("Point.fromHex: invalid y coordinate");const Ke=(yt&L)===L,Re=!!(128&ie);if(!ye&&yt===S&&Re)throw new Error("Point.fromHex: x=0 and x_0=1");return Re!==Ke&&(yt=pe(-yt)),D.fromAffine({x:yt,y:ue})}static fromPrivateKey(Oe){return H(Oe).point}toRawBytes(){const{x:Oe,y:ye}=this.toAffine(),Se=x.numberToBytesLE(ye,Z.BYTES);return Se[Se.length-1]|=Oe&L?128:0,Se}toHex(){return x.bytesToHex(this.toRawBytes())}}D.BASE=new D(V.Gx,V.Gy,L,pe(V.Gx*V.Gy)),D.ZERO=new D(S,L,L,S);const{BASE:j,ZERO:A}=D,l=(0,W.wNAF)(D,8*oe);function g(ge){return(0,m.mod)(ge,re)}function G(ge){return g(x.bytesToNumberLE(ge))}function H(ge){const Oe=oe;ge=(0,R.ensureBytes)("private key",ge,Oe);const ye=(0,R.ensureBytes)("hashed private key",Q(ge),2*Oe),Se=ve(ye.slice(0,Oe)),he=ye.slice(Oe,2*Oe),fe=G(Se),ee=j.multiply(fe),ie=ee.toRawBytes();return{head:Se,prefix:he,scalar:fe,point:ee,pointBytes:ie}}function ce(ge=new Uint8Array,...Oe){const ye=x.concatBytes(...Oe);return G(Q(we(ye,(0,R.ensureBytes)("context",ge),!!te)))}const ke=$;return j._setWindowSize(8),{CURVE:V,getPublicKey:function ne(ge){return H(ge).pointBytes},sign:function Ae(ge,Oe,ye={}){ge=(0,R.ensureBytes)("message",ge),te&&(ge=te(ge));const{prefix:Se,scalar:he,pointBytes:fe}=H(Oe),ee=ce(ye.context,Se,ge),ie=j.multiply(ee).toRawBytes(),be=g(ee+ce(ye.context,ie,fe,ge)*he);y(be);const Ie=x.concatBytes(ie,x.numberToBytesLE(be,Z.BYTES));return(0,R.ensureBytes)("result",Ie,2*oe)},verify:function Fe(ge,Oe,ye,Se=ke){const{context:he,zip215:fe}=Se,ee=Z.BYTES;ge=(0,R.ensureBytes)("signature",ge,2*ee),Oe=(0,R.ensureBytes)("message",Oe),te&&(Oe=te(Oe));const ie=x.bytesToNumberLE(ge.slice(ee,2*ee));let ue,be,Ie;try{ue=D.fromHex(ye,fe),be=D.fromHex(ge.slice(0,ee),fe),Ie=j.multiplyUnsafe(ie)}catch{return!1}if(!fe&&ue.isSmallOrder())return!1;const Ne=ce(he,be.toRawBytes(),ue.toRawBytes(),Oe);return be.add(ue.multiplyUnsafe(Ne)).subtract(Ie).clearCofactor().equals(D.ZERO)},ExtendedPoint:D,utils:{getExtendedPublicKey:H,randomPrivateKey:()=>J(Z.BYTES),precompute:(ge=8,Oe=D.BASE)=>(Oe._setWindowSize(ge),Oe.multiply(BigInt(3)),Oe)}}}},75752:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.createHasher=z.isogenyMap=z.hash_to_field=z.expand_message_xof=z.expand_message_xmd=void 0;const m=E(63834),x=E(84097),W=x.bytesToNumberBE;function S(Z,re){if(Z<0||Z>=1<<8*re)throw new Error(`bad I2OSP call: value=${Z} length=${re}`);const te=Array.from({length:re}).fill(0);for(let Q=re-1;Q>=0;Q--)te[Q]=255&Z,Z>>>=8;return new Uint8Array(te)}function L(Z,re){const te=new Uint8Array(Z.length);for(let Q=0;Q<Z.length;Q++)te[Q]=Z[Q]^re[Q];return te}function M(Z){if(!(0,x.isBytes)(Z))throw new Error("Uint8Array expected")}function N(Z){if(!Number.isSafeInteger(Z))throw new Error("number expected")}function $(Z,re,te,Q){M(Z),M(re),N(te),re.length>255&&(re=Q((0,x.concatBytes)((0,x.utf8ToBytes)("H2C-OVERSIZE-DST-"),re)));const{outputLen:J,blockLen:oe}=Q,se=Math.ceil(te/J);if(se>255)throw new Error("Invalid xmd length");const ae=(0,x.concatBytes)(re,S(re.length,1)),pe=S(0,oe),le=S(te,2),ve=new Array(se),we=Q((0,x.concatBytes)(pe,Z,le,S(0,1),ae));ve[0]=Q((0,x.concatBytes)(we,S(1,1),ae));for(let k=1;k<=se;k++){const u=[L(we,ve[k-1]),S(k+1,1),ae];ve[k]=Q((0,x.concatBytes)(...u))}return(0,x.concatBytes)(...ve).slice(0,te)}function F(Z,re,te,Q,J){if(M(Z),M(re),N(te),re.length>255){const oe=Math.ceil(2*Q/8);re=J.create({dkLen:oe}).update((0,x.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(re).digest()}if(te>65535||re.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return J.create({dkLen:te}).update(Z).update(S(te,2)).update(re).update(S(re.length,1)).digest()}function I(Z,re,te){(0,x.validateObject)(te,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:Q,k:J,m:oe,hash:se,expand:ae,DST:pe}=te;M(Z),N(re);const le=function R(Z){if((0,x.isBytes)(Z))return Z;if("string"==typeof Z)return(0,x.utf8ToBytes)(Z);throw new Error("DST must be Uint8Array or string")}(pe),ve=Q.toString(2).length,we=Math.ceil((ve+J)/8),De=re*oe*we;let k;if("xmd"===ae)k=$(Z,le,De,se);else if("xof"===ae)k=F(Z,le,De,J,se);else{if("_internal_pass"!==ae)throw new Error('expand must be "xmd" or "xof"');k=Z}const u=new Array(re);for(let h=0;h<re;h++){const y=new Array(oe);for(let w=0;w<oe;w++){const T=we*(w+h*oe),D=k.subarray(T,T+we);y[w]=(0,m.mod)(W(D),Q)}u[h]=y}return u}z.expand_message_xmd=$,z.expand_message_xof=F,z.hash_to_field=I,z.isogenyMap=function X(Z,re){const te=re.map(Q=>Array.from(Q).reverse());return(Q,J)=>{const[oe,se,ae,pe]=te.map(le=>le.reduce((ve,we)=>Z.add(Z.mul(ve,Q),we)));return Q=Z.div(oe,se),J=Z.mul(J,Z.div(ae,pe)),{x:Q,y:J}}},z.createHasher=function V(Z,re,te){if("function"!=typeof re)throw new Error("mapToCurve() must be defined");return{hashToCurve(Q,J){const oe=I(Q,2,{...te,DST:te.DST,...J}),se=Z.fromAffine(re(oe[0])),ae=Z.fromAffine(re(oe[1])),pe=se.add(ae).clearCofactor();return pe.assertValidity(),pe},encodeToCurve(Q,J){const oe=I(Q,1,{...te,DST:te.encodeDST,...J}),se=Z.fromAffine(re(oe[0])).clearCofactor();return se.assertValidity(),se}}}},63834:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.mapHashToField=z.getMinHashLength=z.getFieldBytesLength=z.hashToPrivateScalar=z.FpSqrtEven=z.FpSqrtOdd=z.Field=z.nLength=z.FpIsSquare=z.FpDiv=z.FpInvertBatch=z.FpPow=z.validateField=z.isNegativeLE=z.FpSqrt=z.tonelliShanks=z.invert=z.pow2=z.pow=z.mod=void 0;const m=E(84097),x=BigInt(0),R=BigInt(1),W=BigInt(2),S=BigInt(3),L=BigInt(4),M=BigInt(5),N=BigInt(8);function I(T,D){const j=T%D;return j>=x?j:D+j}function X(T,D,j){if(j<=x||D<x)throw new Error("Expected power/modulo > 0");if(j===R)return x;let A=R;for(;D>x;)D&R&&(A=A*T%j),T=T*T%j,D>>=R;return A}function Z(T,D){if(T===x||D<=x)throw new Error(`invert: expected positive integers, got n=${T} mod=${D}`);let j=I(T,D),A=D,l=x,g=R,G=R,H=x;for(;j!==x;){const ce=A/j,Ae=A%j,ke=l-G*ce,Fe=g-H*ce;A=j,j=Ae,l=G,g=H,G=ke,H=Fe}if(A!==R)throw new Error("invert: does not exist");return I(l,D)}function re(T){const D=(T-R)/W;let j,A,l;for(j=T-R,A=0;j%W===x;j/=W,A++);for(l=W;l<T&&X(l,D,T)!==T-R;l++);if(1===A){const G=(T+R)/L;return function(ne,ce){const Ae=ne.pow(ce,G);if(!ne.eql(ne.sqr(Ae),ce))throw new Error("Cannot find square root");return Ae}}const g=(j+R)/W;return function(H,ne){if(H.pow(ne,D)===H.neg(H.ONE))throw new Error("Cannot find square root");let ce=A,Ae=H.pow(H.mul(H.ONE,l),j),ke=H.pow(ne,g),Fe=H.pow(ne,j);for(;!H.eql(Fe,H.ONE);){if(H.eql(Fe,H.ZERO))return H.ZERO;let Ee=1;for(let Oe=H.sqr(Fe);Ee<ce&&!H.eql(Oe,H.ONE);Ee++)Oe=H.sqr(Oe);const ge=H.pow(Ae,R<<BigInt(ce-Ee-1));Ae=H.sqr(ge),ke=H.mul(ke,ge),Fe=H.mul(Fe,Ae),ce=Ee}return ke}}function te(T){if(T%L===S){const D=(T+R)/L;return function(A,l){const g=A.pow(l,D);if(!A.eql(A.sqr(g),l))throw new Error("Cannot find square root");return g}}if(T%N===M){const D=(T-M)/N;return function(A,l){const g=A.mul(l,W),G=A.pow(g,D),H=A.mul(l,G),ne=A.mul(A.mul(H,W),G),ce=A.mul(H,A.sub(ne,A.ONE));if(!A.eql(A.sqr(ce),l))throw new Error("Cannot find square root");return ce}}return re(T)}BigInt(9),BigInt(16),z.mod=I,z.pow=X,z.pow2=function V(T,D,j){let A=T;for(;D-- >x;)A*=A,A%=j;return A},z.invert=Z,z.tonelliShanks=re,z.FpSqrt=te,z.isNegativeLE=(T,D)=>(I(T,D)&R)===R;const J=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function se(T,D,j){if(j<x)throw new Error("Expected power > 0");if(j===x)return T.ONE;if(j===R)return D;let A=T.ONE,l=D;for(;j>x;)j&R&&(A=T.mul(A,l)),l=T.sqr(l),j>>=R;return A}function ae(T,D){const j=new Array(D.length),A=D.reduce((g,G,H)=>T.is0(G)?g:(j[H]=g,T.mul(g,G)),T.ONE),l=T.inv(A);return D.reduceRight((g,G,H)=>T.is0(G)?g:(j[H]=T.mul(g,j[H]),T.mul(g,G)),l),j}function ve(T,D){const j=void 0!==D?D:T.toString(2).length;return{nBitLength:j,nByteLength:Math.ceil(j/8)}}function h(T){if("bigint"!=typeof T)throw new Error("field order must be bigint");const D=T.toString(2).length;return Math.ceil(D/8)}function y(T){const D=h(T);return D+Math.ceil(D/2)}z.validateField=function oe(T){const j=J.reduce((A,l)=>(A[l]="function",A),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,m.validateObject)(T,j)},z.FpPow=se,z.FpInvertBatch=ae,z.FpDiv=function pe(T,D,j){return T.mul(D,"bigint"==typeof j?Z(j,T.ORDER):T.inv(j))},z.FpIsSquare=function le(T){const D=(T.ORDER-R)/W;return j=>{const A=T.pow(j,D);return T.eql(A,T.ZERO)||T.eql(A,T.ONE)}},z.nLength=ve,z.Field=function we(T,D,j=!1,A={}){if(T<=x)throw new Error(`Expected Field ORDER > 0, got ${T}`);const{nBitLength:l,nByteLength:g}=ve(T,D);if(g>2048)throw new Error("Field lengths over 2048 bytes are not supported");const G=te(T),H=Object.freeze({ORDER:T,BITS:l,BYTES:g,MASK:(0,m.bitMask)(l),ZERO:x,ONE:R,create:ne=>I(ne,T),isValid:ne=>{if("bigint"!=typeof ne)throw new Error("Invalid field element: expected bigint, got "+typeof ne);return x<=ne&&ne<T},is0:ne=>ne===x,isOdd:ne=>(ne&R)===R,neg:ne=>I(-ne,T),eql:(ne,ce)=>ne===ce,sqr:ne=>I(ne*ne,T),add:(ne,ce)=>I(ne+ce,T),sub:(ne,ce)=>I(ne-ce,T),mul:(ne,ce)=>I(ne*ce,T),pow:(ne,ce)=>se(H,ne,ce),div:(ne,ce)=>I(ne*Z(ce,T),T),sqrN:ne=>ne*ne,addN:(ne,ce)=>ne+ce,subN:(ne,ce)=>ne-ce,mulN:(ne,ce)=>ne*ce,inv:ne=>Z(ne,T),sqrt:A.sqrt||(ne=>G(H,ne)),invertBatch:ne=>ae(H,ne),cmov:(ne,ce,Ae)=>Ae?ce:ne,toBytes:ne=>j?(0,m.numberToBytesLE)(ne,g):(0,m.numberToBytesBE)(ne,g),fromBytes:ne=>{if(ne.length!==g)throw new Error(`Fp.fromBytes: expected ${g}, got ${ne.length}`);return j?(0,m.bytesToNumberLE)(ne):(0,m.bytesToNumberBE)(ne)}});return Object.freeze(H)},z.FpSqrtOdd=function De(T,D){if(!T.isOdd)throw new Error("Field doesn't have isOdd");const j=T.sqrt(D);return T.isOdd(j)?j:T.neg(j)},z.FpSqrtEven=function k(T,D){if(!T.isOdd)throw new Error("Field doesn't have isOdd");const j=T.sqrt(D);return T.isOdd(j)?T.neg(j):j},z.hashToPrivateScalar=function u(T,D,j=!1){const A=(T=(0,m.ensureBytes)("privateHash",T)).length,l=ve(D).nByteLength+8;if(l<24||A<l||A>1024)throw new Error(`hashToPrivateScalar: expected ${l}-1024 bytes of input, got ${A}`);return I(j?(0,m.bytesToNumberLE)(T):(0,m.bytesToNumberBE)(T),D-R)+R},z.getFieldBytesLength=h,z.getMinHashLength=y,z.mapHashToField=function w(T,D,j=!1){const A=T.length,l=h(D),g=y(D);if(A<16||A<g||A>1024)throw new Error(`expected ${g}-1024 bytes of input, got ${A}`);const H=I(j?(0,m.bytesToNumberBE)(T):(0,m.bytesToNumberLE)(T),D-R)+R;return j?(0,m.numberToBytesLE)(H,l):(0,m.numberToBytesBE)(H,l)}},27661:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.montgomery=void 0;const m=E(63834),x=E(84097),R=BigInt(0),W=BigInt(1);z.montgomery=function L(M){const N=function S(M){return(0,x.validateObject)(M,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...M})}(M),{P:$}=N,F=De=>(0,m.mod)(De,$),I=N.montgomeryBits,X=Math.ceil(I/8),V=N.nByteLength,Z=N.adjustScalarBytes||(De=>De),re=N.powPminus2||(De=>(0,m.pow)(De,$-BigInt(2),$));function te(De,k,u){const h=F(De*(k-u));return[k=F(k-h),u=F(u+h)]}function Q(De){if("bigint"==typeof De&&R<=De&&De<$)return De;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const J=(N.a-BigInt(2))/BigInt(4);function se(De){return(0,x.numberToBytesLE)(F(De),X)}function le(De,k){const u=function ae(De){const k=(0,x.ensureBytes)("u coordinate",De,X);return 32===V&&(k[31]&=127),(0,x.bytesToNumberLE)(k)}(k),h=function pe(De){const k=(0,x.ensureBytes)("scalar",De),u=k.length;if(u!==X&&u!==V)throw new Error(`Expected ${X} or ${V} bytes, got ${u}`);return(0,x.bytesToNumberLE)(Z(k))}(De),y=function oe(De,k){const u=Q(De),h=Q(k),y=u;let l,w=W,T=R,D=u,j=W,A=R;for(let G=BigInt(I-1);G>=R;G--){const H=h>>G&W;A^=H,l=te(A,w,D),w=l[0],D=l[1],l=te(A,T,j),T=l[0],j=l[1],A=H;const ne=w+T,ce=F(ne*ne),Ae=w-T,ke=F(Ae*Ae),Fe=ce-ke,Ee=D+j,Oe=F((D-j)*ne),ye=F(Ee*Ae),Se=Oe+ye,he=Oe-ye;D=F(Se*Se),j=F(y*F(he*he)),w=F(ce*ke),T=F(Fe*(ce+F(J*Fe)))}l=te(A,w,D),w=l[0],D=l[1],l=te(A,T,j),T=l[0],j=l[1];const g=re(T);return F(w*g)}(u,h);if(y===R)throw new Error("Invalid private or public key received");return se(y)}const ve=se(N.Gu);function we(De){return le(De,ve)}return{scalarMult:le,scalarMultBase:we,getSharedSecret:(De,k)=>le(De,k),getPublicKey:De=>we(De),utils:{randomPrivateKey:()=>N.randomBytes(N.nByteLength)},GuBytes:ve}}},84097:(Le,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateObject=z.createHmacDrbg=z.bitMask=z.bitSet=z.bitGet=z.bitLen=z.utf8ToBytes=z.equalBytes=z.concatBytes=z.ensureBytes=z.numberToVarBytesBE=z.numberToBytesLE=z.numberToBytesBE=z.bytesToNumberLE=z.bytesToNumberBE=z.hexToBytes=z.hexToNumber=z.numberToHexUnpadded=z.bytesToHex=z.isBytes=void 0;const E=BigInt(0),m=BigInt(1),x=BigInt(2);function R(h){return h instanceof Uint8Array||null!=h&&"object"==typeof h&&"Uint8Array"===h.constructor.name}z.isBytes=R;const W=Array.from({length:256},(h,y)=>y.toString(16).padStart(2,"0"));function S(h){if(!R(h))throw new Error("Uint8Array expected");let y="";for(let w=0;w<h.length;w++)y+=W[h[w]];return y}function L(h){const y=h.toString(16);return 1&y.length?`0${y}`:y}function M(h){if("string"!=typeof h)throw new Error("hex string expected, got "+typeof h);return BigInt(""===h?"0":`0x${h}`)}z.bytesToHex=S,z.numberToHexUnpadded=L,z.hexToNumber=M;const N={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function $(h){return h>=N._0&&h<=N._9?h-N._0:h>=N._A&&h<=N._F?h-(N._A-10):h>=N._a&&h<=N._f?h-(N._a-10):void 0}function F(h){if("string"!=typeof h)throw new Error("hex string expected, got "+typeof h);const y=h.length,w=y/2;if(y%2)throw new Error("padded hex string expected, got unpadded hex of length "+y);const T=new Uint8Array(w);for(let D=0,j=0;D<w;D++,j+=2){const A=$(h.charCodeAt(j)),l=$(h.charCodeAt(j+1));if(void 0===A||void 0===l)throw new Error('hex string expected, got non-hex character "'+(h[j]+h[j+1])+'" at index '+j);T[D]=16*A+l}return T}function V(h,y){return F(h.toString(16).padStart(2*y,"0"))}function Q(...h){let y=0;for(let D=0;D<h.length;D++){const j=h[D];if(!R(j))throw new Error("Uint8Array expected");y+=j.length}let w=new Uint8Array(y),T=0;for(let D=0;D<h.length;D++){const j=h[D];w.set(j,T),T+=j.length}return w}z.hexToBytes=F,z.bytesToNumberBE=function I(h){return M(S(h))},z.bytesToNumberLE=function X(h){if(!R(h))throw new Error("Uint8Array expected");return M(S(Uint8Array.from(h).reverse()))},z.numberToBytesBE=V,z.numberToBytesLE=function Z(h,y){return V(h,y).reverse()},z.numberToVarBytesBE=function re(h){return F(L(h))},z.ensureBytes=function te(h,y,w){let T;if("string"==typeof y)try{T=F(y)}catch(j){throw new Error(`${h} must be valid hex string, got "${y}". Cause: ${j}`)}else{if(!R(y))throw new Error(`${h} must be hex string or Uint8Array`);T=Uint8Array.from(y)}const D=T.length;if("number"==typeof w&&D!==w)throw new Error(`${h} expected ${w} bytes, got ${D}`);return T},z.concatBytes=Q,z.equalBytes=function J(h,y){if(h.length!==y.length)return!1;let w=0;for(let T=0;T<h.length;T++)w|=h[T]^y[T];return 0===w},z.utf8ToBytes=function oe(h){if("string"!=typeof h)throw new Error("utf8ToBytes expected string, got "+typeof h);return new Uint8Array((new TextEncoder).encode(h))},z.bitLen=function se(h){let y;for(y=0;h>E;h>>=m,y+=1);return y},z.bitGet=function ae(h,y){return h>>BigInt(y)&m},z.bitSet=(h,y,w)=>h|(w?m:E)<<BigInt(y),z.bitMask=h=>(x<<BigInt(h-1))-m;const ve=h=>new Uint8Array(h),we=h=>Uint8Array.from(h);z.createHmacDrbg=function De(h,y,w){if("number"!=typeof h||h<2)throw new Error("hashLen must be a number");if("number"!=typeof y||y<2)throw new Error("qByteLen must be a number");if("function"!=typeof w)throw new Error("hmacFn must be a function");let T=ve(h),D=ve(h),j=0;const A=()=>{T.fill(1),D.fill(0),j=0},l=(...ne)=>w(D,T,...ne),g=(ne=ve())=>{D=l(we([0]),ne),T=l(),0!==ne.length&&(D=l(we([1]),ne),T=l())},G=()=>{if(j++>=1e3)throw new Error("drbg: tried 1000 values");let ne=0;const ce=[];for(;ne<y;){T=l();const Ae=T.slice();ce.push(Ae),ne+=T.length}return Q(...ce)};return(ne,ce)=>{let Ae;for(A(),g(ne);!(Ae=ce(G()));)g();return A(),Ae}};const k={bigint:h=>"bigint"==typeof h,function:h=>"function"==typeof h,boolean:h=>"boolean"==typeof h,string:h=>"string"==typeof h,stringOrUint8Array:h=>"string"==typeof h||R(h),isSafeInteger:h=>Number.isSafeInteger(h),array:h=>Array.isArray(h),field:(h,y)=>y.Fp.isValid(h),hash:h=>"function"==typeof h&&Number.isSafeInteger(h.outputLen)};z.validateObject=function u(h,y,w={}){const T=(D,j,A)=>{const l=k[j];if("function"!=typeof l)throw new Error(`Invalid validator "${j}", expected function`);const g=h[D];if(!(A&&void 0===g||l(g,h)))throw new Error(`Invalid param ${String(D)}=${g} (${typeof g}), expected ${j}`)};for(const[D,j]of Object.entries(y))T(D,j,!1);for(const[D,j]of Object.entries(w))T(D,j,!0);return h}},73040:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.mapToCurveSimpleSWU=z.SWUFpSqrtRatio=z.weierstrass=z.weierstrassPoints=z.DER=void 0;const m=E(63834),x=E(84097),R=E(84097),W=E(25299),{bytesToNumberBE:L,hexToBytes:M}=x;z.DER={Err:class extends Error{constructor(oe=""){super(oe)}},_parseInt(J){const{Err:oe}=z.DER;if(J.length<2||2!==J[0])throw new oe("Invalid signature integer tag");const se=J[1],ae=J.subarray(2,se+2);if(!se||ae.length!==se)throw new oe("Invalid signature integer: wrong length");if(128&ae[0])throw new oe("Invalid signature integer: negative");if(0===ae[0]&&!(128&ae[1]))throw new oe("Invalid signature integer: unnecessary leading zero");return{d:L(ae),l:J.subarray(se+2)}},toSig(J){const{Err:oe}=z.DER,se="string"==typeof J?M(J):J;if(!x.isBytes(se))throw new Error("ui8a expected");let ae=se.length;if(ae<2||48!=se[0])throw new oe("Invalid signature tag");if(se[1]!==ae-2)throw new oe("Invalid signature: incorrect length");const{d:pe,l:le}=z.DER._parseInt(se.subarray(2)),{d:ve,l:we}=z.DER._parseInt(le);if(we.length)throw new oe("Invalid signature: left bytes after parsing");return{r:pe,s:ve}},hexFromSig(J){const oe=k=>8&Number.parseInt(k[0],16)?"00"+k:k,se=k=>{const u=k.toString(16);return 1&u.length?`0${u}`:u},ae=oe(se(J.s)),pe=oe(se(J.r)),le=ae.length/2,ve=pe.length/2,we=se(le),De=se(ve);return`30${se(ve+le+4)}02${De}${pe}02${we}${ae}`}};const N=BigInt(0),$=BigInt(1),F=BigInt(2),I=BigInt(3),X=BigInt(4);function V(J){const oe=function S(J){const oe=(0,W.validateBasic)(J);x.validateObject(oe,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:se,Fp:ae,a:pe}=oe;if(se){if(!ae.eql(pe,ae.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof se||"bigint"!=typeof se.beta||"function"!=typeof se.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...oe})}(J),{Fp:se}=oe,ae=oe.toBytes||((T,D,j)=>{const A=D.toAffine();return x.concatBytes(Uint8Array.from([4]),se.toBytes(A.x),se.toBytes(A.y))}),pe=oe.fromBytes||(T=>{const D=T.subarray(1);return{x:se.fromBytes(D.subarray(0,se.BYTES)),y:se.fromBytes(D.subarray(se.BYTES,2*se.BYTES))}});function le(T){const{a:D,b:j}=oe,A=se.sqr(T),l=se.mul(A,T);return se.add(se.add(l,se.mul(T,D)),j)}if(!se.eql(se.sqr(oe.Gy),le(oe.Gx)))throw new Error("bad generator point: equation left != right");function ve(T){return"bigint"==typeof T&&N<T&&T<oe.n}function we(T){if(!ve(T))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function De(T){const{allowedPrivateKeyLengths:D,nByteLength:j,wrapPrivateKey:A,n:l}=oe;if(D&&"bigint"!=typeof T){if(x.isBytes(T)&&(T=x.bytesToHex(T)),"string"!=typeof T||!D.includes(T.length))throw new Error("Invalid key");T=T.padStart(2*j,"0")}let g;try{g="bigint"==typeof T?T:x.bytesToNumberBE((0,R.ensureBytes)("private key",T,j))}catch{throw new Error(`private key must be ${j} bytes, hex or bigint, not ${typeof T}`)}return A&&(g=m.mod(g,l)),we(g),g}const k=new Map;function u(T){if(!(T instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(D,j,A){if(this.px=D,this.py=j,this.pz=A,null==D||!se.isValid(D))throw new Error("x required");if(null==j||!se.isValid(j))throw new Error("y required");if(null==A||!se.isValid(A))throw new Error("z required")}static fromAffine(D){const{x:j,y:A}=D||{};if(!D||!se.isValid(j)||!se.isValid(A))throw new Error("invalid affine point");if(D instanceof h)throw new Error("projective point not allowed");const l=g=>se.eql(g,se.ZERO);return l(j)&&l(A)?h.ZERO:new h(j,A,se.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(D){const j=se.invertBatch(D.map(A=>A.pz));return D.map((A,l)=>A.toAffine(j[l])).map(h.fromAffine)}static fromHex(D){const j=h.fromAffine(pe((0,R.ensureBytes)("pointHex",D)));return j.assertValidity(),j}static fromPrivateKey(D){return h.BASE.multiply(De(D))}_setWindowSize(D){this._WINDOW_SIZE=D,k.delete(this)}assertValidity(){if(this.is0()){if(oe.allowInfinityPoint&&!se.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:D,y:j}=this.toAffine();if(!se.isValid(D)||!se.isValid(j))throw new Error("bad point: x or y not FE");const A=se.sqr(j),l=le(D);if(!se.eql(A,l))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:D}=this.toAffine();if(se.isOdd)return!se.isOdd(D);throw new Error("Field doesn't support isOdd")}equals(D){u(D);const{px:j,py:A,pz:l}=this,{px:g,py:G,pz:H}=D,ne=se.eql(se.mul(j,H),se.mul(g,l)),ce=se.eql(se.mul(A,H),se.mul(G,l));return ne&&ce}negate(){return new h(this.px,se.neg(this.py),this.pz)}double(){const{a:D,b:j}=oe,A=se.mul(j,I),{px:l,py:g,pz:G}=this;let H=se.ZERO,ne=se.ZERO,ce=se.ZERO,Ae=se.mul(l,l),ke=se.mul(g,g),Fe=se.mul(G,G),Ee=se.mul(l,g);return Ee=se.add(Ee,Ee),ce=se.mul(l,G),ce=se.add(ce,ce),H=se.mul(D,ce),ne=se.mul(A,Fe),ne=se.add(H,ne),H=se.sub(ke,ne),ne=se.add(ke,ne),ne=se.mul(H,ne),H=se.mul(Ee,H),ce=se.mul(A,ce),Fe=se.mul(D,Fe),Ee=se.sub(Ae,Fe),Ee=se.mul(D,Ee),Ee=se.add(Ee,ce),ce=se.add(Ae,Ae),Ae=se.add(ce,Ae),Ae=se.add(Ae,Fe),Ae=se.mul(Ae,Ee),ne=se.add(ne,Ae),Fe=se.mul(g,G),Fe=se.add(Fe,Fe),Ae=se.mul(Fe,Ee),H=se.sub(H,Ae),ce=se.mul(Fe,ke),ce=se.add(ce,ce),ce=se.add(ce,ce),new h(H,ne,ce)}add(D){u(D);const{px:j,py:A,pz:l}=this,{px:g,py:G,pz:H}=D;let ne=se.ZERO,ce=se.ZERO,Ae=se.ZERO;const ke=oe.a,Fe=se.mul(oe.b,I);let Ee=se.mul(j,g),ge=se.mul(A,G),Oe=se.mul(l,H),ye=se.add(j,A),Se=se.add(g,G);ye=se.mul(ye,Se),Se=se.add(Ee,ge),ye=se.sub(ye,Se),Se=se.add(j,l);let he=se.add(g,H);return Se=se.mul(Se,he),he=se.add(Ee,Oe),Se=se.sub(Se,he),he=se.add(A,l),ne=se.add(G,H),he=se.mul(he,ne),ne=se.add(ge,Oe),he=se.sub(he,ne),Ae=se.mul(ke,Se),ne=se.mul(Fe,Oe),Ae=se.add(ne,Ae),ne=se.sub(ge,Ae),Ae=se.add(ge,Ae),ce=se.mul(ne,Ae),ge=se.add(Ee,Ee),ge=se.add(ge,Ee),Oe=se.mul(ke,Oe),Se=se.mul(Fe,Se),ge=se.add(ge,Oe),Oe=se.sub(Ee,Oe),Oe=se.mul(ke,Oe),Se=se.add(Se,Oe),Ee=se.mul(ge,Se),ce=se.add(ce,Ee),Ee=se.mul(he,Se),ne=se.mul(ye,ne),ne=se.sub(ne,Ee),Ee=se.mul(ye,ge),Ae=se.mul(he,Ae),Ae=se.add(Ae,Ee),new h(ne,ce,Ae)}subtract(D){return this.add(D.negate())}is0(){return this.equals(h.ZERO)}wNAF(D){return w.wNAFCached(this,k,D,j=>{const A=se.invertBatch(j.map(l=>l.pz));return j.map((l,g)=>l.toAffine(A[g])).map(h.fromAffine)})}multiplyUnsafe(D){const j=h.ZERO;if(D===N)return j;if(we(D),D===$)return this;const{endo:A}=oe;if(!A)return w.unsafeLadder(this,D);let{k1neg:l,k1:g,k2neg:G,k2:H}=A.splitScalar(D),ne=j,ce=j,Ae=this;for(;g>N||H>N;)g&$&&(ne=ne.add(Ae)),H&$&&(ce=ce.add(Ae)),Ae=Ae.double(),g>>=$,H>>=$;return l&&(ne=ne.negate()),G&&(ce=ce.negate()),ce=new h(se.mul(ce.px,A.beta),ce.py,ce.pz),ne.add(ce)}multiply(D){we(D);let A,l,j=D;const{endo:g}=oe;if(g){const{k1neg:G,k1:H,k2neg:ne,k2:ce}=g.splitScalar(j);let{p:Ae,f:ke}=this.wNAF(H),{p:Fe,f:Ee}=this.wNAF(ce);Ae=w.constTimeNegate(G,Ae),Fe=w.constTimeNegate(ne,Fe),Fe=new h(se.mul(Fe.px,g.beta),Fe.py,Fe.pz),A=Ae.add(Fe),l=ke.add(Ee)}else{const{p:G,f:H}=this.wNAF(j);A=G,l=H}return h.normalizeZ([A,l])[0]}multiplyAndAddUnsafe(D,j,A){const l=h.BASE,g=(H,ne)=>ne!==N&&ne!==$&&H.equals(l)?H.multiply(ne):H.multiplyUnsafe(ne),G=g(this,j).add(g(D,A));return G.is0()?void 0:G}toAffine(D){const{px:j,py:A,pz:l}=this,g=this.is0();null==D&&(D=g?se.ONE:se.inv(l));const G=se.mul(j,D),H=se.mul(A,D),ne=se.mul(l,D);if(g)return{x:se.ZERO,y:se.ZERO};if(!se.eql(ne,se.ONE))throw new Error("invZ was invalid");return{x:G,y:H}}isTorsionFree(){const{h:D,isTorsionFree:j}=oe;if(D===$)return!0;if(j)return j(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:D,clearCofactor:j}=oe;return D===$?this:j?j(h,this):this.multiplyUnsafe(oe.h)}toRawBytes(D=!0){return this.assertValidity(),ae(h,this,D)}toHex(D=!0){return x.bytesToHex(this.toRawBytes(D))}}h.BASE=new h(oe.Gx,oe.Gy,se.ONE),h.ZERO=new h(se.ZERO,se.ONE,se.ZERO);const y=oe.nBitLength,w=(0,W.wNAF)(h,oe.endo?Math.ceil(y/2):y);return{CURVE:oe,ProjectivePoint:h,normPrivateKeyToScalar:De,weierstrassEquation:le,isWithinCurveOrder:ve}}function te(J,oe){const se=J.ORDER;let ae=N;for(let T=se-$;T%F===N;T/=F)ae+=$;const pe=ae,le=F<<pe-$-$,ve=le*F,we=(se-$)/ve,De=(we-$)/F,k=ve-$,u=le,h=J.pow(oe,we),y=J.pow(oe,(we+$)/F);let w=(T,D)=>{let j=h,A=J.pow(D,k),l=J.sqr(A);l=J.mul(l,D);let g=J.mul(T,l);g=J.pow(g,De),g=J.mul(g,A),A=J.mul(g,D),l=J.mul(g,T);let G=J.mul(l,A);g=J.pow(G,u);let H=J.eql(g,J.ONE);A=J.mul(l,y),g=J.mul(G,j),l=J.cmov(A,l,H),G=J.cmov(g,G,H);for(let ne=pe;ne>$;ne--){let ce=ne-F;ce=F<<ce-$;let Ae=J.pow(G,ce);const ke=J.eql(Ae,J.ONE);A=J.mul(l,j),j=J.mul(j,j),Ae=J.mul(G,j),l=J.cmov(A,l,ke),G=J.cmov(Ae,G,ke)}return{isValid:H,value:l}};if(J.ORDER%X===I){const T=(J.ORDER-I)/X,D=J.sqrt(J.neg(oe));w=(j,A)=>{let l=J.sqr(A);const g=J.mul(j,A);l=J.mul(l,g);let G=J.pow(l,T);G=J.mul(G,g);const H=J.mul(G,D),ne=J.mul(J.sqr(G),A),ce=J.eql(ne,j);return{isValid:ce,value:J.cmov(H,G,ce)}}}return w}z.weierstrassPoints=V,z.weierstrass=function re(J){const oe=function Z(J){const oe=(0,W.validateBasic)(J);return x.validateObject(oe,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...oe})}(J),{Fp:se,n:ae}=oe,pe=se.BYTES+1,le=2*se.BYTES+1;function we(Se){return m.mod(Se,ae)}function De(Se){return m.invert(Se,ae)}const{ProjectivePoint:k,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:y}=V({...oe,toBytes(Se,he,fe){const ee=he.toAffine(),ie=se.toBytes(ee.x),ue=x.concatBytes;return fe?ue(Uint8Array.from([he.hasEvenY()?2:3]),ie):ue(Uint8Array.from([4]),ie,se.toBytes(ee.y))},fromBytes(Se){const he=Se.length,fe=Se[0],ee=Se.subarray(1);if(he!==pe||2!==fe&&3!==fe){if(he===le&&4===fe)return{x:se.fromBytes(ee.subarray(0,se.BYTES)),y:se.fromBytes(ee.subarray(se.BYTES,2*se.BYTES))};throw new Error(`Point of length ${he} was invalid. Expected ${pe} compressed bytes or ${le} uncompressed bytes`)}{const ie=x.bytesToNumberBE(ee);if(!function ve(Se){return N<Se&&Se<se.ORDER}(ie))throw new Error("Point is not on curve");const ue=h(ie);let be=se.sqrt(ue);return!(1&~fe)!=((be&$)===$)&&(be=se.neg(be)),{x:ie,y:be}}}}),w=Se=>x.bytesToHex(x.numberToBytesBE(Se,oe.nByteLength));function T(Se){return Se>ae>>$}const j=(Se,he,fe)=>x.bytesToNumberBE(Se.slice(he,fe));class A{constructor(he,fe,ee){this.r=he,this.s=fe,this.recovery=ee,this.assertValidity()}static fromCompact(he){const fe=oe.nByteLength;return he=(0,R.ensureBytes)("compactSignature",he,2*fe),new A(j(he,0,fe),j(he,fe,2*fe))}static fromDER(he){const{r:fe,s:ee}=z.DER.toSig((0,R.ensureBytes)("DER",he));return new A(fe,ee)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(he){return new A(this.r,this.s,he)}recoverPublicKey(he){const{r:fe,s:ee,recovery:ie}=this,ue=ce((0,R.ensureBytes)("msgHash",he));if(null==ie||![0,1,2,3].includes(ie))throw new Error("recovery id invalid");const be=2===ie||3===ie?fe+oe.n:fe;if(be>=se.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ne=k.fromHex((1&ie?"03":"02")+w(be)),Be=De(be),yt=we(-ue*Be),Ke=we(ee*Be),Re=k.BASE.multiplyAndAddUnsafe(Ne,yt,Ke);if(!Re)throw new Error("point at infinify");return Re.assertValidity(),Re}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,we(-this.s),this.recovery):this}toDERRawBytes(){return x.hexToBytes(this.toDERHex())}toDERHex(){return z.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return x.hexToBytes(this.toCompactHex())}toCompactHex(){return w(this.r)+w(this.s)}}const l={isValidPrivateKey(Se){try{return u(Se),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const Se=m.getMinHashLength(oe.n);return m.mapHashToField(oe.randomBytes(Se),oe.n)},precompute:(Se=8,he=k.BASE)=>(he._setWindowSize(Se),he.multiply(BigInt(3)),he)};function G(Se){const he=x.isBytes(Se),fe="string"==typeof Se,ee=(he||fe)&&Se.length;return he?ee===pe||ee===le:fe?ee===2*pe||ee===2*le:Se instanceof k}const ne=oe.bits2int||function(Se){const he=x.bytesToNumberBE(Se),fe=8*Se.length-oe.nBitLength;return fe>0?he>>BigInt(fe):he},ce=oe.bits2int_modN||function(Se){return we(ne(Se))},Ae=x.bitMask(oe.nBitLength);function ke(Se){if("bigint"!=typeof Se)throw new Error("bigint expected");if(!(N<=Se&&Se<Ae))throw new Error(`bigint expected < 2^${oe.nBitLength}`);return x.numberToBytesBE(Se,oe.nByteLength)}const Ee={lowS:oe.lowS,prehash:!1},ge={lowS:oe.lowS,prehash:!1};return k.BASE._setWindowSize(8),{CURVE:oe,getPublicKey:function g(Se,he=!0){return k.fromPrivateKey(Se).toRawBytes(he)},getSharedSecret:function H(Se,he,fe=!0){if(G(Se))throw new Error("first arg must be private key");if(!G(he))throw new Error("second arg must be public key");return k.fromHex(he).multiply(u(Se)).toRawBytes(fe)},sign:function Oe(Se,he,fe=Ee){const{seed:ee,k2sig:ie}=function Fe(Se,he,fe=Ee){if(["recovered","canonical"].some(U=>U in fe))throw new Error("sign() legacy options not supported");const{hash:ee,randomBytes:ie}=oe;let{lowS:ue,prehash:be,extraEntropy:Ie}=fe;null==ue&&(ue=!0),Se=(0,R.ensureBytes)("msgHash",Se),be&&(Se=(0,R.ensureBytes)("prehashed msgHash",ee(Se)));const Ne=ce(Se),Be=u(he),yt=[ke(Be),ke(Ne)];if(null!=Ie){const U=!0===Ie?ie(se.BYTES):Ie;yt.push((0,R.ensureBytes)("extraEntropy",U))}const Ke=x.concatBytes(...yt),Re=Ne;return{seed:Ke,k2sig:function ot(U){const _=ne(U);if(!y(_))return;const p=De(_),O=k.BASE.multiply(_).toAffine(),q=we(O.x);if(q===N)return;const me=we(p*we(Re+q*Be));if(me===N)return;let xe=(O.x===q?0:2)|Number(O.y&$),qe=me;return ue&&T(me)&&(qe=function D(Se){return T(Se)?we(-Se):Se}(me),xe^=1),new A(q,qe,xe)}}}(Se,he,fe);return x.createHmacDrbg(oe.hash.outputLen,oe.nByteLength,oe.hmac)(ee,ie)},verify:function ye(Se,he,fe,ee=ge){const ie=Se;if(he=(0,R.ensureBytes)("msgHash",he),fe=(0,R.ensureBytes)("publicKey",fe),"strict"in ee)throw new Error("options.strict was renamed to lowS");const{lowS:ue,prehash:be}=ee;let Ie,Ne;try{if("string"==typeof ie||x.isBytes(ie))try{Ie=A.fromDER(ie)}catch(O){if(!(O instanceof z.DER.Err))throw O;Ie=A.fromCompact(ie)}else{if("object"!=typeof ie||"bigint"!=typeof ie.r||"bigint"!=typeof ie.s)throw new Error("PARSE");{const{r:O,s:q}=ie;Ie=new A(O,q)}}Ne=k.fromHex(fe)}catch(O){if("PARSE"===O.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ue&&Ie.hasHighS())return!1;be&&(he=oe.hash(he));const{r:Be,s:yt}=Ie,Ke=ce(he),Re=De(yt),ot=we(Ke*Re),U=we(Be*Re),_=k.BASE.multiplyAndAddUnsafe(Ne,ot,U)?.toAffine();return!!_&&we(_.x)===Be},ProjectivePoint:k,Signature:A,utils:l}},z.SWUFpSqrtRatio=te,z.mapToCurveSimpleSWU=function Q(J,oe){if(m.validateField(J),!J.isValid(oe.A)||!J.isValid(oe.B)||!J.isValid(oe.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const se=te(J,oe.Z);if(!J.isOdd)throw new Error("Fp.isOdd is not implemented!");return ae=>{let pe,le,ve,we,De,k,u,h;pe=J.sqr(ae),pe=J.mul(pe,oe.Z),le=J.sqr(pe),le=J.add(le,pe),ve=J.add(le,J.ONE),ve=J.mul(ve,oe.B),we=J.cmov(oe.Z,J.neg(le),!J.eql(le,J.ZERO)),we=J.mul(we,oe.A),le=J.sqr(ve),k=J.sqr(we),De=J.mul(k,oe.A),le=J.add(le,De),le=J.mul(le,ve),k=J.mul(k,we),De=J.mul(k,oe.B),le=J.add(le,De),u=J.mul(pe,ve);const{isValid:y,value:w}=se(le,k);h=J.mul(pe,ae),h=J.mul(h,w),u=J.cmov(u,ve,y),h=J.cmov(h,w,y);const T=J.isOdd(ae)===J.isOdd(h);return h=J.cmov(J.neg(h),h,T),u=J.div(u,we),{x:u,y:h}}}},57340:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hash_to_ristretto255=z.hashToRistretto255=z.RistrettoPoint=z.encodeToCurve=z.hashToCurve=z.edwardsToMontgomeryPriv=z.edwardsToMontgomery=z.edwardsToMontgomeryPub=z.x25519=z.ed25519ph=z.ed25519ctx=z.ed25519=z.ED25519_TORSION_SUBGROUP=void 0;const m=E(44207),x=E(96492),R=E(45068),W=E(27661),S=E(63834),L=E(84097),M=E(75752),N=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),$=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),F=BigInt(0),I=BigInt(1),X=BigInt(2),V=BigInt(5),Z=BigInt(10),re=BigInt(20),te=BigInt(40),Q=BigInt(80);function J(Oe){const ye=N,he=Oe*Oe%ye*Oe%ye,fe=(0,S.pow2)(he,X,ye)*he%ye,ee=(0,S.pow2)(fe,I,ye)*Oe%ye,ie=(0,S.pow2)(ee,V,ye)*ee%ye,ue=(0,S.pow2)(ie,Z,ye)*ie%ye,be=(0,S.pow2)(ue,re,ye)*ue%ye,Ie=(0,S.pow2)(be,te,ye)*be%ye,Ne=(0,S.pow2)(Ie,Q,ye)*Ie%ye,Be=(0,S.pow2)(Ne,Q,ye)*Ie%ye,yt=(0,S.pow2)(Be,Z,ye)*ie%ye;return{pow_p_5_8:(0,S.pow2)(yt,X,ye)*Oe%ye,b2:he}}function oe(Oe){return Oe[0]&=248,Oe[31]&=127,Oe[31]|=64,Oe}function se(Oe,ye){const Se=N,he=(0,S.mod)(ye*ye*ye,Se),ee=J(Oe*(0,S.mod)(he*he*ye,Se)).pow_p_5_8;let ie=(0,S.mod)(Oe*he*ee,Se);const ue=(0,S.mod)(ye*ie*ie,Se),be=ie,Ie=(0,S.mod)(ie*$,Se),Ne=ue===Oe,Be=ue===(0,S.mod)(-Oe,Se),yt=ue===(0,S.mod)(-Oe*$,Se);return Ne&&(ie=be),(Be||yt)&&(ie=Ie),(0,S.isNegativeLE)(ie,Se)&&(ie=(0,S.mod)(-ie,Se)),{isValid:Ne||Be,value:ie}}z.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const ae=(0,S.Field)(N,void 0,!0),pe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:ae,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:m.sha512,randomBytes:x.randomBytes,adjustScalarBytes:oe,uvRatio:se};function le(Oe,ye,Se){if(ye.length>255)throw new Error("Context is too big");return(0,x.concatBytes)((0,x.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([Se?1:0,ye.length]),ye,Oe)}function ve(Oe){const{y:ye}=z.ed25519.ExtendedPoint.fromHex(Oe),Se=BigInt(1);return ae.toBytes(ae.create((Se+ye)*ae.inv(Se-ye)))}z.ed25519=(0,R.twistedEdwards)(pe),z.ed25519ctx=(0,R.twistedEdwards)({...pe,domain:le}),z.ed25519ph=(0,R.twistedEdwards)({...pe,domain:le,prehash:m.sha512}),z.x25519=(0,W.montgomery)({P:N,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Oe=>{const ye=N,{pow_p_5_8:Se,b2:he}=J(Oe);return(0,S.mod)((0,S.pow2)(Se,BigInt(3),ye)*he,ye)},adjustScalarBytes:oe,randomBytes:x.randomBytes}),z.edwardsToMontgomeryPub=ve,z.edwardsToMontgomery=ve,z.edwardsToMontgomeryPriv=function we(Oe){const ye=pe.hash(Oe.subarray(0,32));return pe.adjustScalarBytes(ye).subarray(0,32)};const De=(ae.ORDER+BigInt(3))/BigInt(8),k=ae.pow(X,De),u=ae.sqrt(ae.neg(ae.ONE)),h=(ae.ORDER-BigInt(5))/BigInt(8),y=BigInt(486662),T=(0,S.FpSqrtEven)(ae,ae.neg(BigInt(486664)));const j=(0,M.createHasher)(z.ed25519.ExtendedPoint,Oe=>function D(Oe){const{xMn:ye,xMd:Se,yMn:he,yMd:fe}=function w(Oe){let ye=ae.sqr(Oe);ye=ae.mul(ye,X);let Se=ae.add(ye,ae.ONE),he=ae.neg(y),fe=ae.sqr(Se),ee=ae.mul(fe,Se),ie=ae.mul(ye,y);ie=ae.mul(ie,he),ie=ae.add(ie,fe),ie=ae.mul(ie,he);let ue=ae.sqr(ee);fe=ae.sqr(ue),ue=ae.mul(ue,ee),ue=ae.mul(ue,ie),fe=ae.mul(fe,ue);let be=ae.pow(fe,h);be=ae.mul(be,ue);let Ie=ae.mul(be,u);fe=ae.sqr(be),fe=ae.mul(fe,ee);let Ne=ae.eql(fe,ie),Be=ae.cmov(Ie,be,Ne),yt=ae.mul(he,ye),Ke=ae.mul(be,Oe);Ke=ae.mul(Ke,k);let Re=ae.mul(Ke,u),ot=ae.mul(ie,ye);fe=ae.sqr(Ke),fe=ae.mul(fe,ee);let U=ae.eql(fe,ot),_=ae.cmov(Re,Ke,U);fe=ae.sqr(Be),fe=ae.mul(fe,ee);let p=ae.eql(fe,ie),O=ae.cmov(yt,he,p),q=ae.cmov(_,Be,p),me=ae.isOdd(q);return q=ae.cmov(q,ae.neg(q),p!==me),{xMn:O,xMd:Se,yMn:q,yMd:I}}(Oe);let ee=ae.mul(ye,fe);ee=ae.mul(ee,T);let ie=ae.mul(Se,he),ue=ae.sub(ye,Se),be=ae.add(ye,Se),Ie=ae.mul(ie,be),Ne=ae.eql(Ie,ae.ZERO);ee=ae.cmov(ee,ae.ZERO,Ne),ie=ae.cmov(ie,ae.ONE,Ne),ue=ae.cmov(ue,ae.ONE,Ne),be=ae.cmov(be,ae.ONE,Ne);const Be=ae.invertBatch([ie,be]);return{x:ae.mul(ee,Be[0]),y:ae.mul(ue,Be[1])}}(Oe[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:ae.ORDER,m:1,k:128,expand:"xmd",hash:m.sha512});function A(Oe){if(!(Oe instanceof Ee))throw new Error("RistrettoPoint expected")}z.hashToCurve=j.hashToCurve,z.encodeToCurve=j.encodeToCurve;const l=$,g=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),G=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),H=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ne=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),ce=Oe=>se(I,Oe),Ae=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),ke=Oe=>z.ed25519.CURVE.Fp.create((0,L.bytesToNumberLE)(Oe)&Ae);function Fe(Oe){const{d:ye}=z.ed25519.CURVE,Se=z.ed25519.CURVE.Fp.ORDER,he=z.ed25519.CURVE.Fp.create,fe=he(l*Oe*Oe),ee=he((fe+I)*H);let ie=BigInt(-1);const ue=he((ie-ye*fe)*he(fe+ye));let{isValid:be,value:Ie}=se(ee,ue),Ne=he(Ie*Oe);(0,S.isNegativeLE)(Ne,Se)||(Ne=he(-Ne)),be||(Ie=Ne),be||(ie=fe);const Be=he(ie*(fe-I)*ne-ue),yt=Ie*Ie,Ke=he((Ie+Ie)*ue),Re=he(Be*g),ot=he(I-yt),U=he(I+yt);return new z.ed25519.ExtendedPoint(he(Ke*U),he(ot*Re),he(Re*U),he(Ke*ot))}class Ee{constructor(ye){this.ep=ye}static fromAffine(ye){return new Ee(z.ed25519.ExtendedPoint.fromAffine(ye))}static hashToCurve(ye){ye=(0,L.ensureBytes)("ristrettoHash",ye,64);const he=Fe(ke(ye.slice(0,32))),ee=Fe(ke(ye.slice(32,64)));return new Ee(he.add(ee))}static fromHex(ye){ye=(0,L.ensureBytes)("ristrettoHex",ye,32);const{a:Se,d:he}=z.ed25519.CURVE,fe=z.ed25519.CURVE.Fp.ORDER,ee=z.ed25519.CURVE.Fp.create,ie="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ue=ke(ye);if(!(0,L.equalBytes)((0,L.numberToBytesLE)(ue,32),ye)||(0,S.isNegativeLE)(ue,fe))throw new Error(ie);const be=ee(ue*ue),Ie=ee(I+Se*be),Ne=ee(I-Se*be),Be=ee(Ie*Ie),yt=ee(Ne*Ne),Ke=ee(Se*he*Be-yt),{isValid:Re,value:ot}=ce(ee(Ke*yt)),U=ee(ot*Ne),_=ee(ot*U*Ke);let p=ee((ue+ue)*U);(0,S.isNegativeLE)(p,fe)&&(p=ee(-p));const O=ee(Ie*_),q=ee(p*O);if(!Re||(0,S.isNegativeLE)(q,fe)||O===F)throw new Error(ie);return new Ee(new z.ed25519.ExtendedPoint(p,O,I,q))}toRawBytes(){let{ex:ye,ey:Se,ez:he,et:fe}=this.ep;const ee=z.ed25519.CURVE.Fp.ORDER,ie=z.ed25519.CURVE.Fp.create,ue=ie(ie(he+Se)*ie(he-Se)),be=ie(ye*Se),Ie=ie(be*be),{value:Ne}=ce(ie(ue*Ie)),Be=ie(Ne*ue),yt=ie(Ne*be),Ke=ie(Be*yt*fe);let Re;if((0,S.isNegativeLE)(fe*Ke,ee)){let U=ie(Se*l),_=ie(ye*l);ye=U,Se=_,Re=ie(Be*G)}else Re=yt;(0,S.isNegativeLE)(ye*Ke,ee)&&(Se=ie(-Se));let ot=ie((he-Se)*Re);return(0,S.isNegativeLE)(ot,ee)&&(ot=ie(-ot)),(0,L.numberToBytesLE)(ot,32)}toHex(){return(0,L.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(ye){A(ye);const{ex:Se,ey:he}=this.ep,{ex:fe,ey:ee}=ye.ep,ie=z.ed25519.CURVE.Fp.create,ue=ie(Se*ee)===ie(he*fe),be=ie(he*ee)===ie(Se*fe);return ue||be}add(ye){return A(ye),new Ee(this.ep.add(ye.ep))}subtract(ye){return A(ye),new Ee(this.ep.subtract(ye.ep))}multiply(ye){return new Ee(this.ep.multiply(ye))}multiplyUnsafe(ye){return new Ee(this.ep.multiplyUnsafe(ye))}double(){return new Ee(this.ep.double())}negate(){return new Ee(this.ep.negate())}}z.RistrettoPoint=(Ee.BASE||(Ee.BASE=new Ee(z.ed25519.ExtendedPoint.BASE)),Ee.ZERO||(Ee.ZERO=new Ee(z.ed25519.ExtendedPoint.ZERO)),Ee),z.hashToRistretto255=(Oe,ye)=>{const Se=ye.DST,he="string"==typeof Se?(0,x.utf8ToBytes)(Se):Se,fe=(0,M.expand_message_xmd)(Oe,he,64,m.sha512);return Ee.hashToCurve(fe)},z.hash_to_ristretto255=z.hashToRistretto255},91717:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.encodeToCurve=z.hashToCurve=z.schnorr=z.secp256k1=void 0;const m=E(1806),x=E(96492),R=E(63834),W=E(73040),S=E(84097),L=E(75752),M=E(4521),N=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),F=BigInt(1),I=BigInt(2),X=(A,l)=>(A+l/I)/l;function V(A){const l=N,g=BigInt(3),G=BigInt(6),H=BigInt(11),ne=BigInt(22),ce=BigInt(23),Ae=BigInt(44),ke=BigInt(88),Fe=A*A*A%l,Ee=Fe*Fe*A%l,ge=(0,R.pow2)(Ee,g,l)*Ee%l,Oe=(0,R.pow2)(ge,g,l)*Ee%l,ye=(0,R.pow2)(Oe,I,l)*Fe%l,Se=(0,R.pow2)(ye,H,l)*ye%l,he=(0,R.pow2)(Se,ne,l)*Se%l,fe=(0,R.pow2)(he,Ae,l)*he%l,ee=(0,R.pow2)(fe,ke,l)*fe%l,ie=(0,R.pow2)(ee,Ae,l)*he%l,ue=(0,R.pow2)(ie,g,l)*Ee%l,be=(0,R.pow2)(ue,ce,l)*Se%l,Ie=(0,R.pow2)(be,G,l)*Fe%l,Ne=(0,R.pow2)(Ie,I,l);if(!Z.eql(Z.sqr(Ne),A))throw new Error("Cannot find square root");return Ne}const Z=(0,R.Field)(N,void 0,void 0,{sqrt:V});z.secp256k1=(0,M.createCurve)({a:BigInt(0),b:BigInt(7),Fp:Z,n:$,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:A=>{const l=$,g=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),G=-F*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),H=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ne=g,ce=BigInt("0x100000000000000000000000000000000"),Ae=X(ne*A,l),ke=X(-G*A,l);let Fe=(0,R.mod)(A-Ae*g-ke*H,l),Ee=(0,R.mod)(-Ae*G-ke*ne,l);const ge=Fe>ce,Oe=Ee>ce;if(ge&&(Fe=l-Fe),Oe&&(Ee=l-Ee),Fe>ce||Ee>ce)throw new Error("splitScalar: Endomorphism failed, k="+A);return{k1neg:ge,k1:Fe,k2neg:Oe,k2:Ee}}}},m.sha256);const re=BigInt(0),te=A=>"bigint"==typeof A&&re<A&&A<N,J={};function oe(A,...l){let g=J[A];if(void 0===g){const G=(0,m.sha256)(Uint8Array.from(A,H=>H.charCodeAt(0)));g=(0,S.concatBytes)(G,G),J[A]=g}return(0,m.sha256)((0,S.concatBytes)(g,...l))}const se=A=>A.toRawBytes(!0).slice(1),ae=A=>(0,S.numberToBytesBE)(A,32),pe=A=>(0,R.mod)(A,N),le=A=>(0,R.mod)(A,$),ve=z.secp256k1.ProjectivePoint;function De(A){let l=z.secp256k1.utils.normPrivateKeyToScalar(A),g=ve.fromPrivateKey(l);return{scalar:g.hasEvenY()?l:le(-l),bytes:se(g)}}function k(A){if(!te(A))throw new Error("bad x: need 0 < x < p");const l=pe(A*A);let G=V(pe(l*A+BigInt(7)));G%I!==re&&(G=pe(-G));const H=new ve(A,G,F);return H.assertValidity(),H}function u(...A){return le((0,S.bytesToNumberBE)(oe("BIP0340/challenge",...A)))}function w(A,l,g){const G=(0,S.ensureBytes)("signature",A,64),H=(0,S.ensureBytes)("message",l),ne=(0,S.ensureBytes)("publicKey",g,32);try{const ce=k((0,S.bytesToNumberBE)(ne)),Ae=(0,S.bytesToNumberBE)(G.subarray(0,32));if(!te(Ae))return!1;const ke=(0,S.bytesToNumberBE)(G.subarray(32,64));if(!(A=>"bigint"==typeof A&&re<A&&A<$)(ke))return!1;const Fe=u(ae(Ae),se(ce),H),Ee=((A,l,g)=>ve.BASE.multiplyAndAddUnsafe(A,l,g))(ce,ke,le(-Fe));return!(!Ee||!Ee.hasEvenY()||Ee.toAffine().x!==Ae)}catch{return!1}}z.schnorr={getPublicKey:function h(A){return De(A).bytes},sign:function y(A,l,g=(0,x.randomBytes)(32)){const G=(0,S.ensureBytes)("message",A),{bytes:H,scalar:ne}=De(l),ce=(0,S.ensureBytes)("auxRand",g,32),Ae=ae(ne^(0,S.bytesToNumberBE)(oe("BIP0340/aux",ce))),ke=oe("BIP0340/nonce",Ae,H,G),Fe=le((0,S.bytesToNumberBE)(ke));if(Fe===re)throw new Error("sign failed: k is zero");const{bytes:Ee,scalar:ge}=De(Fe),Oe=u(Ee,H,G),ye=new Uint8Array(64);if(ye.set(Ee,0),ye.set(ae(le(ge+Oe*ne)),32),!w(ye,G,H))throw new Error("sign: Invalid signature produced");return ye},verify:w,utils:{randomPrivateKey:z.secp256k1.utils.randomPrivateKey,lift_x:k,pointToBytes:se,numberToBytesBE:S.numberToBytesBE,bytesToNumberBE:S.bytesToNumberBE,taggedHash:oe,mod:R.mod}};const T=(0,L.isogenyMap)(Z,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(A=>A.map(l=>BigInt(l)))),D=(0,W.mapToCurveSimpleSWU)(Z,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:Z.create(BigInt("-11"))}),j=(0,L.createHasher)(z.secp256k1.ProjectivePoint,A=>{const{x:l,y:g}=D(Z.create(A[0]));return T(l,g)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:Z.ORDER,m:1,k:128,expand:"xmd",hash:m.sha256});z.hashToCurve=j.hashToCurve,z.encodeToCurve=j.encodeToCurve},68578:(Le,z)=>{"use strict";function E(N){if(!Number.isSafeInteger(N)||N<0)throw new Error(`Wrong positive integer: ${N}`)}function m(N){if("boolean"!=typeof N)throw new Error(`Expected boolean, not ${N}`)}function R(N,...$){if(!function x(N){return N instanceof Uint8Array||null!=N&&"object"==typeof N&&"Uint8Array"===N.constructor.name}(N))throw new Error("Expected Uint8Array");if($.length>0&&!$.includes(N.length))throw new Error(`Expected Uint8Array of length ${$}, not of length=${N.length}`)}function W(N){if("function"!=typeof N||"function"!=typeof N.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");E(N.outputLen),E(N.blockLen)}function S(N,$=!0){if(N.destroyed)throw new Error("Hash instance has been destroyed");if($&&N.finished)throw new Error("Hash#digest() has already been called")}function L(N,$){R(N);const F=$.outputLen;if(N.length<F)throw new Error(`digestInto() expects output buffer of length at least ${F}`)}Object.defineProperty(z,"__esModule",{value:!0}),z.output=z.exists=z.hash=z.bytes=z.bool=z.number=void 0,z.number=E,z.bool=m,z.bytes=R,z.hash=W,z.exists=S,z.output=L,z.default={number:E,bool:m,bytes:R,hash:W,exists:S,output:L}},25724:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.SHA2=void 0;const m=E(68578),x=E(96492);z.SHA2=class W extends x.Hash{constructor(L,M,N,$){super(),this.blockLen=L,this.outputLen=M,this.padOffset=N,this.isLE=$,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(L),this.view=(0,x.createView)(this.buffer)}update(L){(0,m.exists)(this);const{view:M,buffer:N,blockLen:$}=this,F=(L=(0,x.toBytes)(L)).length;for(let I=0;I<F;){const X=Math.min($-this.pos,F-I);if(X!==$)N.set(L.subarray(I,I+X),this.pos),this.pos+=X,I+=X,this.pos===$&&(this.process(M,0),this.pos=0);else{const V=(0,x.createView)(L);for(;$<=F-I;I+=$)this.process(V,I)}}return this.length+=L.length,this.roundClean(),this}digestInto(L){(0,m.exists)(this),(0,m.output)(L,this),this.finished=!0;const{buffer:M,view:N,blockLen:$,isLE:F}=this;let{pos:I}=this;M[I++]=128,this.buffer.subarray(I).fill(0),this.padOffset>$-I&&(this.process(N,0),I=0);for(let te=I;te<$;te++)M[te]=0;(function R(S,L,M,N){if("function"==typeof S.setBigUint64)return S.setBigUint64(L,M,N);const $=BigInt(32),F=BigInt(4294967295),I=Number(M>>$&F),X=Number(M&F),Z=N?0:4;S.setUint32(L+(N?4:0),I,N),S.setUint32(L+Z,X,N)})(N,$-8,BigInt(8*this.length),F),this.process(N,0);const X=(0,x.createView)(L),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Z=V/4,re=this.get();if(Z>re.length)throw new Error("_sha2: outputLen bigger than state");for(let te=0;te<Z;te++)X.setUint32(4*te,re[te],F)}digest(){const{buffer:L,outputLen:M}=this;this.digestInto(L);const N=L.slice(0,M);return this.destroy(),N}_cloneInto(L){L||(L=new this.constructor),L.set(...this.get());const{blockLen:M,buffer:N,length:$,finished:F,destroyed:I,pos:X}=this;return L.length=$,L.pos=X,L.finished=F,L.destroyed=I,$%M&&L.buffer.set(N),L}}},35059:(Le,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.add5L=z.add5H=z.add4H=z.add4L=z.add3H=z.add3L=z.add=z.rotlBL=z.rotlBH=z.rotlSL=z.rotlSH=z.rotr32L=z.rotr32H=z.rotrBL=z.rotrBH=z.rotrSL=z.rotrSH=z.shrSL=z.shrSH=z.toBig=z.split=z.fromBig=void 0;const E=BigInt(2**32-1),m=BigInt(32);function x(we,De=!1){return De?{h:Number(we&E),l:Number(we>>m&E)}:{h:0|Number(we>>m&E),l:0|Number(we&E)}}function R(we,De=!1){let k=new Uint32Array(we.length),u=new Uint32Array(we.length);for(let h=0;h<we.length;h++){const{h:y,l:w}=x(we[h],De);[k[h],u[h]]=[y,w]}return[k,u]}z.fromBig=x,z.split=R;const W=(we,De)=>BigInt(we>>>0)<<m|BigInt(De>>>0);z.toBig=W;const S=(we,De,k)=>we>>>k;z.shrSH=S;const L=(we,De,k)=>we<<32-k|De>>>k;z.shrSL=L;const M=(we,De,k)=>we>>>k|De<<32-k;z.rotrSH=M;const N=(we,De,k)=>we<<32-k|De>>>k;z.rotrSL=N;const $=(we,De,k)=>we<<64-k|De>>>k-32;z.rotrBH=$;const F=(we,De,k)=>we>>>k-32|De<<64-k;z.rotrBL=F;const I=(we,De)=>De;z.rotr32H=I;const X=(we,De)=>we;z.rotr32L=X;const V=(we,De,k)=>we<<k|De>>>32-k;z.rotlSH=V;const Z=(we,De,k)=>De<<k|we>>>32-k;z.rotlSL=Z;const re=(we,De,k)=>De<<k-32|we>>>64-k;z.rotlBH=re;const te=(we,De,k)=>we<<k-32|De>>>64-k;function Q(we,De,k,u){const h=(De>>>0)+(u>>>0);return{h:we+k+(h/2**32|0)|0,l:0|h}}z.rotlBL=te,z.add=Q;const J=(we,De,k)=>(we>>>0)+(De>>>0)+(k>>>0);z.add3L=J;const oe=(we,De,k,u)=>De+k+u+(we/2**32|0)|0;z.add3H=oe;const se=(we,De,k,u)=>(we>>>0)+(De>>>0)+(k>>>0)+(u>>>0);z.add4L=se;const ae=(we,De,k,u,h)=>De+k+u+h+(we/2**32|0)|0;z.add4H=ae;const pe=(we,De,k,u,h)=>(we>>>0)+(De>>>0)+(k>>>0)+(u>>>0)+(h>>>0);z.add5L=pe;const le=(we,De,k,u,h,y)=>De+k+u+h+y+(we/2**32|0)|0;z.add5H=le,z.default={fromBig:x,split:R,toBig:W,shrSH:S,shrSL:L,rotrSH:M,rotrSL:N,rotrBH:$,rotrBL:F,rotr32H:I,rotr32L:X,rotlSH:V,rotlSL:Z,rotlBH:re,rotlBL:te,add:Q,add3L:J,add3H:oe,add4L:se,add4H:ae,add5H:le,add5L:pe}},89948:(Le,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.crypto=void 0,z.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},57334:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hkdf=z.expand=z.extract=void 0;const m=E(68578),x=E(96492),R=E(44882);function W($,F,I){return(0,m.hash)($),void 0===I&&(I=new Uint8Array($.outputLen)),(0,R.hmac)($,(0,x.toBytes)(I),(0,x.toBytes)(F))}z.extract=W;const S=new Uint8Array([0]),L=new Uint8Array;function M($,F,I,X=32){if((0,m.hash)($),(0,m.number)(X),X>255*$.outputLen)throw new Error("Length should be <= 255*HashLen");const V=Math.ceil(X/$.outputLen);void 0===I&&(I=L);const Z=new Uint8Array(V*$.outputLen),re=R.hmac.create($,F),te=re._cloneInto(),Q=new Uint8Array(re.outputLen);for(let J=0;J<V;J++)S[0]=J+1,te.update(0===J?L:Q).update(I).update(S).digestInto(Q),Z.set(Q,$.outputLen*J),re._cloneInto(te);return re.destroy(),te.destroy(),Q.fill(0),S.fill(0),Z.slice(0,X)}z.expand=M,z.hkdf=($,F,I,X,V)=>M($,W($,F,I),X,V)},44882:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hmac=z.HMAC=void 0;const m=E(68578),x=E(96492);class R extends x.Hash{constructor(L,M){super(),this.finished=!1,this.destroyed=!1,(0,m.hash)(L);const N=(0,x.toBytes)(M);if(this.iHash=L.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const $=this.blockLen,F=new Uint8Array($);F.set(N.length>$?L.create().update(N).digest():N);for(let I=0;I<F.length;I++)F[I]^=54;this.iHash.update(F),this.oHash=L.create();for(let I=0;I<F.length;I++)F[I]^=106;this.oHash.update(F),F.fill(0)}update(L){return(0,m.exists)(this),this.iHash.update(L),this}digestInto(L){(0,m.exists)(this),(0,m.bytes)(L,this.outputLen),this.finished=!0,this.iHash.digestInto(L),this.oHash.update(L),this.oHash.digestInto(L),this.destroy()}digest(){const L=new Uint8Array(this.oHash.outputLen);return this.digestInto(L),L}_cloneInto(L){L||(L=Object.create(Object.getPrototypeOf(this),{}));const{oHash:M,iHash:N,finished:$,destroyed:F,blockLen:I,outputLen:X}=this;return L.finished=$,L.destroyed=F,L.blockLen=I,L.outputLen=X,L.oHash=M._cloneInto(L.oHash),L.iHash=N._cloneInto(L.iHash),L}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}z.HMAC=R,z.hmac=(S,L,M)=>new R(S,L).update(M).digest(),z.hmac.create=(S,L)=>new R(S,L)},1806:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.sha224=z.sha256=void 0;const m=E(25724),x=E(96492),R=(F,I,X)=>F&I^~F&X,W=(F,I,X)=>F&I^F&X^I&X,S=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),L=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),M=new Uint32Array(64);class N extends m.SHA2{constructor(){super(64,32,8,!1),this.A=0|L[0],this.B=0|L[1],this.C=0|L[2],this.D=0|L[3],this.E=0|L[4],this.F=0|L[5],this.G=0|L[6],this.H=0|L[7]}get(){const{A:I,B:X,C:V,D:Z,E:re,F:te,G:Q,H:J}=this;return[I,X,V,Z,re,te,Q,J]}set(I,X,V,Z,re,te,Q,J){this.A=0|I,this.B=0|X,this.C=0|V,this.D=0|Z,this.E=0|re,this.F=0|te,this.G=0|Q,this.H=0|J}process(I,X){for(let ae=0;ae<16;ae++,X+=4)M[ae]=I.getUint32(X,!1);for(let ae=16;ae<64;ae++){const pe=M[ae-15],le=M[ae-2],ve=(0,x.rotr)(pe,7)^(0,x.rotr)(pe,18)^pe>>>3,we=(0,x.rotr)(le,17)^(0,x.rotr)(le,19)^le>>>10;M[ae]=we+M[ae-7]+ve+M[ae-16]|0}let{A:V,B:Z,C:re,D:te,E:Q,F:J,G:oe,H:se}=this;for(let ae=0;ae<64;ae++){const le=se+((0,x.rotr)(Q,6)^(0,x.rotr)(Q,11)^(0,x.rotr)(Q,25))+R(Q,J,oe)+S[ae]+M[ae]|0,we=((0,x.rotr)(V,2)^(0,x.rotr)(V,13)^(0,x.rotr)(V,22))+W(V,Z,re)|0;se=oe,oe=J,J=Q,Q=te+le|0,te=re,re=Z,Z=V,V=le+we|0}V=V+this.A|0,Z=Z+this.B|0,re=re+this.C|0,te=te+this.D|0,Q=Q+this.E|0,J=J+this.F|0,oe=oe+this.G|0,se=se+this.H|0,this.set(V,Z,re,te,Q,J,oe,se)}roundClean(){M.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class $ extends N{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}z.sha256=(0,x.wrapConstructor)(()=>new N),z.sha224=(0,x.wrapConstructor)(()=>new $)},44207:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.sha384=z.sha512_256=z.sha512_224=z.sha512=z.SHA512=void 0;const m=E(25724),x=E(35059),R=E(96492),[W,S]=x.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(X=>BigInt(X))),L=new Uint32Array(80),M=new Uint32Array(80);class N extends m.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:V,Al:Z,Bh:re,Bl:te,Ch:Q,Cl:J,Dh:oe,Dl:se,Eh:ae,El:pe,Fh:le,Fl:ve,Gh:we,Gl:De,Hh:k,Hl:u}=this;return[V,Z,re,te,Q,J,oe,se,ae,pe,le,ve,we,De,k,u]}set(V,Z,re,te,Q,J,oe,se,ae,pe,le,ve,we,De,k,u){this.Ah=0|V,this.Al=0|Z,this.Bh=0|re,this.Bl=0|te,this.Ch=0|Q,this.Cl=0|J,this.Dh=0|oe,this.Dl=0|se,this.Eh=0|ae,this.El=0|pe,this.Fh=0|le,this.Fl=0|ve,this.Gh=0|we,this.Gl=0|De,this.Hh=0|k,this.Hl=0|u}process(V,Z){for(let w=0;w<16;w++,Z+=4)L[w]=V.getUint32(Z),M[w]=V.getUint32(Z+=4);for(let w=16;w<80;w++){const T=0|L[w-15],D=0|M[w-15],j=x.default.rotrSH(T,D,1)^x.default.rotrSH(T,D,8)^x.default.shrSH(T,D,7),A=x.default.rotrSL(T,D,1)^x.default.rotrSL(T,D,8)^x.default.shrSL(T,D,7),l=0|L[w-2],g=0|M[w-2],G=x.default.rotrSH(l,g,19)^x.default.rotrBH(l,g,61)^x.default.shrSH(l,g,6),H=x.default.rotrSL(l,g,19)^x.default.rotrBL(l,g,61)^x.default.shrSL(l,g,6),ne=x.default.add4L(A,H,M[w-7],M[w-16]),ce=x.default.add4H(ne,j,G,L[w-7],L[w-16]);L[w]=0|ce,M[w]=0|ne}let{Ah:re,Al:te,Bh:Q,Bl:J,Ch:oe,Cl:se,Dh:ae,Dl:pe,Eh:le,El:ve,Fh:we,Fl:De,Gh:k,Gl:u,Hh:h,Hl:y}=this;for(let w=0;w<80;w++){const T=x.default.rotrSH(le,ve,14)^x.default.rotrSH(le,ve,18)^x.default.rotrBH(le,ve,41),D=x.default.rotrSL(le,ve,14)^x.default.rotrSL(le,ve,18)^x.default.rotrBL(le,ve,41),j=le&we^~le&k,l=x.default.add5L(y,D,ve&De^~ve&u,S[w],M[w]),g=x.default.add5H(l,h,T,j,W[w],L[w]),G=0|l,H=x.default.rotrSH(re,te,28)^x.default.rotrBH(re,te,34)^x.default.rotrBH(re,te,39),ne=x.default.rotrSL(re,te,28)^x.default.rotrBL(re,te,34)^x.default.rotrBL(re,te,39),ce=re&Q^re&oe^Q&oe,Ae=te&J^te&se^J&se;h=0|k,y=0|u,k=0|we,u=0|De,we=0|le,De=0|ve,({h:le,l:ve}=x.default.add(0|ae,0|pe,0|g,0|G)),ae=0|oe,pe=0|se,oe=0|Q,se=0|J,Q=0|re,J=0|te;const ke=x.default.add3L(G,ne,Ae);re=x.default.add3H(ke,g,H,ce),te=0|ke}({h:re,l:te}=x.default.add(0|this.Ah,0|this.Al,0|re,0|te)),({h:Q,l:J}=x.default.add(0|this.Bh,0|this.Bl,0|Q,0|J)),({h:oe,l:se}=x.default.add(0|this.Ch,0|this.Cl,0|oe,0|se)),({h:ae,l:pe}=x.default.add(0|this.Dh,0|this.Dl,0|ae,0|pe)),({h:le,l:ve}=x.default.add(0|this.Eh,0|this.El,0|le,0|ve)),({h:we,l:De}=x.default.add(0|this.Fh,0|this.Fl,0|we,0|De)),({h:k,l:u}=x.default.add(0|this.Gh,0|this.Gl,0|k,0|u)),({h,l:y}=x.default.add(0|this.Hh,0|this.Hl,0|h,0|y)),this.set(re,te,Q,J,oe,se,ae,pe,le,ve,we,De,k,u,h,y)}roundClean(){L.fill(0),M.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}z.SHA512=N;class $ extends N{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class F extends N{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class I extends N{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}z.sha512=(0,R.wrapConstructor)(()=>new N),z.sha512_224=(0,R.wrapConstructor)(()=>new $),z.sha512_256=(0,R.wrapConstructor)(()=>new F),z.sha384=(0,R.wrapConstructor)(()=>new I)},96492:(Le,z,E)=>{"use strict";var m=E(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.randomBytes=z.wrapXOFConstructorWithOpts=z.wrapConstructorWithOpts=z.wrapConstructor=z.checkOpts=z.Hash=z.concatBytes=z.toBytes=z.utf8ToBytes=z.asyncLoop=z.nextTick=z.hexToBytes=z.bytesToHex=z.isLE=z.rotr=z.createView=z.u32=z.u8=void 0;const x=E(89948);function S(De){return De instanceof Uint8Array||null!=De&&"object"==typeof De&&"Uint8Array"===De.constructor.name}if(z.u8=De=>new Uint8Array(De.buffer,De.byteOffset,De.byteLength),z.u32=De=>new Uint32Array(De.buffer,De.byteOffset,Math.floor(De.byteLength/4)),z.createView=De=>new DataView(De.buffer,De.byteOffset,De.byteLength),z.rotr=(De,k)=>De<<32-k|De>>>k,z.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!z.isLE)throw new Error("Non little-endian hardware is not supported");const N=Array.from({length:256},(De,k)=>k.toString(16).padStart(2,"0"));z.bytesToHex=function $(De){if(!S(De))throw new Error("Uint8Array expected");let k="";for(let u=0;u<De.length;u++)k+=N[De[u]];return k};const F__0=48,F__9=57,F__A=65,F__F=70,F__a=97,F__f=102;function I(De){return De>=F__0&&De<=F__9?De-F__0:De>=F__A&&De<=F__F?De-(F__A-10):De>=F__a&&De<=F__f?De-(F__a-10):void 0}function re(){return(re=m(function*(De,k,u){let h=Date.now();for(let y=0;y<De;y++){u(y);const w=Date.now()-h;w>=0&&w<k||(yield(0,z.nextTick)(),h+=w)}})).apply(this,arguments)}function te(De){if("string"!=typeof De)throw new Error("utf8ToBytes expected string, got "+typeof De);return new Uint8Array((new TextEncoder).encode(De))}function Q(De){if("string"==typeof De&&(De=te(De)),!S(De))throw new Error("expected Uint8Array, got "+typeof De);return De}z.hexToBytes=function X(De){if("string"!=typeof De)throw new Error("hex string expected, got "+typeof De);const k=De.length,u=k/2;if(k%2)throw new Error("padded hex string expected, got unpadded hex of length "+k);const h=new Uint8Array(u);for(let y=0,w=0;y<u;y++,w+=2){const T=I(De.charCodeAt(w)),D=I(De.charCodeAt(w+1));if(void 0===T||void 0===D)throw new Error('hex string expected, got non-hex character "'+(De[w]+De[w+1])+'" at index '+w);h[y]=16*T+D}return h},z.nextTick=function(){var De=m(function*(){});return function(){return De.apply(this,arguments)}}(),z.asyncLoop=function Z(De,k,u){return re.apply(this,arguments)},z.utf8ToBytes=te,z.toBytes=Q,z.concatBytes=function J(...De){let k=0;for(let h=0;h<De.length;h++){const y=De[h];if(!S(y))throw new Error("Uint8Array expected");k+=y.length}const u=new Uint8Array(k);for(let h=0,y=0;h<De.length;h++){const w=De[h];u.set(w,y),y+=w.length}return u},z.Hash=class oe{clone(){return this._cloneInto()}};const se={}.toString;z.checkOpts=function ae(De,k){if(void 0!==k&&"[object Object]"!==se.call(k))throw new Error("Options should be object or undefined");return Object.assign(De,k)},z.wrapConstructor=function pe(De){const k=h=>De().update(Q(h)).digest(),u=De();return k.outputLen=u.outputLen,k.blockLen=u.blockLen,k.create=()=>De(),k},z.wrapConstructorWithOpts=function le(De){const k=(h,y)=>De(y).update(Q(h)).digest(),u=De({});return k.outputLen=u.outputLen,k.blockLen=u.blockLen,k.create=h=>De(h),k},z.wrapXOFConstructorWithOpts=function ve(De){const k=(h,y)=>De(y).update(Q(h)).digest(),u=De({});return k.outputLen=u.outputLen,k.blockLen=u.blockLen,k.create=h=>De(h),k},z.randomBytes=function we(De=32){if(x.crypto&&"function"==typeof x.crypto.getRandomValues)return x.crypto.getRandomValues(new Uint8Array(De));throw new Error("crypto.getRandomValues must be defined")}},42064:(Le,z,E)=>{z.Level=E(23963).BrowserLevel},20844:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.MissingRefError=z.ValidationError=z.CodeGen=z.Name=z.nil=z.stringify=z.str=z._=z.KeywordCxt=void 0;const m=E(35419),x=E(98496),R=E(86980),W=E(87577),S="https://json-schema.org/draft/2020-12/schema";class L extends m.default{constructor(X={}){super({...X,dynamicRef:!0,next:!0,unevaluated:!0})}_addVocabularies(){super._addVocabularies(),x.default.forEach(X=>this.addVocabulary(X)),this.opts.discriminator&&this.addKeyword(R.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();const{$data:X,meta:V}=this.opts;V&&(W.default.call(this,X),this.refs["http://json-schema.org/schema"]=S)}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(S)?S:void 0)}}Le.exports=z=L,Object.defineProperty(z,"__esModule",{value:!0}),z.default=L;var M=E(40339);Object.defineProperty(z,"KeywordCxt",{enumerable:!0,get:function(){return M.KeywordCxt}});var N=E(1038);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return N._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return N.str}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return N.stringify}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return N.nil}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return N.Name}}),Object.defineProperty(z,"CodeGen",{enumerable:!0,get:function(){return N.CodeGen}});var $=E(42467);Object.defineProperty(z,"ValidationError",{enumerable:!0,get:function(){return $.default}});var F=E(26288);Object.defineProperty(z,"MissingRefError",{enumerable:!0,get:function(){return F.default}})},33337:(Le,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.regexpCode=z.getEsmExportName=z.getProperty=z.safeStringify=z.stringify=z.strConcat=z.addCodeArg=z.str=z._=z.nil=z._Code=z.Name=z.IDENTIFIER=z._CodeOrName=void 0;class E{}z._CodeOrName=E,z.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class m extends E{constructor(Q){if(super(),!z.IDENTIFIER.test(Q))throw new Error("CodeGen: name must be a valid identifier");this.str=Q}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}z.Name=m;class x extends E{constructor(Q){super(),this._items="string"==typeof Q?[Q]:Q}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const Q=this._items[0];return""===Q||'""'===Q}get str(){var Q;return null!==(Q=this._str)&&void 0!==Q?Q:this._str=this._items.reduce((J,oe)=>`${J}${oe}`,"")}get names(){var Q;return null!==(Q=this._names)&&void 0!==Q?Q:this._names=this._items.reduce((J,oe)=>(oe instanceof m&&(J[oe.str]=(J[oe.str]||0)+1),J),{})}}function R(te,...Q){const J=[te[0]];let oe=0;for(;oe<Q.length;)L(J,Q[oe]),J.push(te[++oe]);return new x(J)}z._Code=x,z.nil=new x(""),z._=R;const W=new x("+");function S(te,...Q){const J=[X(te[0])];let oe=0;for(;oe<Q.length;)J.push(W),L(J,Q[oe]),J.push(W,X(te[++oe]));return function M(te){let Q=1;for(;Q<te.length-1;){if(te[Q]===W){const J=N(te[Q-1],te[Q+1]);if(void 0!==J){te.splice(Q-1,3,J);continue}te[Q++]="+"}Q++}}(J),new x(J)}function L(te,Q){Q instanceof x?te.push(...Q._items):te.push(Q instanceof m?Q:function F(te){return"number"==typeof te||"boolean"==typeof te||null===te?te:X(Array.isArray(te)?te.join(","):te)}(Q))}function N(te,Q){return'""'===Q?te:'""'===te?Q:"string"==typeof te?Q instanceof m||'"'!==te[te.length-1]?void 0:"string"!=typeof Q?`${te.slice(0,-1)}${Q}"`:'"'===Q[0]?te.slice(0,-1)+Q.slice(1):void 0:"string"!=typeof Q||'"'!==Q[0]||te instanceof m?void 0:`"${te}${Q.slice(1)}`}function X(te){return JSON.stringify(te).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}z.str=S,z.addCodeArg=L,z.strConcat=function $(te,Q){return Q.emptyStr()?te:te.emptyStr()?Q:S`${te}${Q}`},z.stringify=function I(te){return new x(X(te))},z.safeStringify=X,z.getProperty=function V(te){return"string"==typeof te&&z.IDENTIFIER.test(te)?new x(`.${te}`):R`[${te}]`},z.getEsmExportName=function Z(te){if("string"==typeof te&&z.IDENTIFIER.test(te))return new x(`${te}`);throw new Error(`CodeGen: invalid export name: ${te}, use explicit $id name mapping`)},z.regexpCode=function re(te){return new x(te.toString())}},1038:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.or=z.and=z.not=z.CodeGen=z.operators=z.varKinds=z.ValueScopeName=z.ValueScope=z.Scope=z.Name=z.regexpCode=z.stringify=z.getProperty=z.nil=z.strConcat=z.str=z._=void 0;const m=E(33337),x=E(85934);var R=E(33337);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return R._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return R.str}}),Object.defineProperty(z,"strConcat",{enumerable:!0,get:function(){return R.strConcat}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return R.nil}}),Object.defineProperty(z,"getProperty",{enumerable:!0,get:function(){return R.getProperty}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return R.stringify}}),Object.defineProperty(z,"regexpCode",{enumerable:!0,get:function(){return R.regexpCode}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return R.Name}});var W=E(85934);Object.defineProperty(z,"Scope",{enumerable:!0,get:function(){return W.Scope}}),Object.defineProperty(z,"ValueScope",{enumerable:!0,get:function(){return W.ValueScope}}),Object.defineProperty(z,"ValueScopeName",{enumerable:!0,get:function(){return W.ValueScopeName}}),Object.defineProperty(z,"varKinds",{enumerable:!0,get:function(){return W.varKinds}}),z.operators={GT:new m._Code(">"),GTE:new m._Code(">="),LT:new m._Code("<"),LTE:new m._Code("<="),EQ:new m._Code("==="),NEQ:new m._Code("!=="),NOT:new m._Code("!"),OR:new m._Code("||"),AND:new m._Code("&&"),ADD:new m._Code("+")};class S{optimizeNodes(){return this}optimizeNames(ne,ce){return this}}class L extends S{constructor(ne,ce,Ae){super(),this.varKind=ne,this.name=ce,this.rhs=Ae}render({es5:ne,_n:ce}){return`${ne?x.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+ce}optimizeNames(ne,ce){if(ne[this.name.str])return this.rhs&&(this.rhs=y(this.rhs,ne,ce)),this}get names(){return this.rhs instanceof m._CodeOrName?this.rhs.names:{}}}class M extends S{constructor(ne,ce,Ae){super(),this.lhs=ne,this.rhs=ce,this.sideEffects=Ae}render({_n:ne}){return`${this.lhs} = ${this.rhs};`+ne}optimizeNames(ne,ce){if(!(this.lhs instanceof m.Name)||ne[this.lhs.str]||this.sideEffects)return this.rhs=y(this.rhs,ne,ce),this}get names(){return h(this.lhs instanceof m.Name?{}:{...this.lhs.names},this.rhs)}}class N extends M{constructor(ne,ce,Ae,ke){super(ne,Ae,ke),this.op=ce}render({_n:ne}){return`${this.lhs} ${this.op}= ${this.rhs};`+ne}}class $ extends S{constructor(ne){super(),this.label=ne,this.names={}}render({_n:ne}){return`${this.label}:`+ne}}class F extends S{constructor(ne){super(),this.label=ne,this.names={}}render({_n:ne}){return`break${this.label?` ${this.label}`:""};`+ne}}class I extends S{constructor(ne){super(),this.error=ne}render({_n:ne}){return`throw ${this.error};`+ne}get names(){return this.error.names}}class X extends S{constructor(ne){super(),this.code=ne}render({_n:ne}){return`${this.code};`+ne}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ne,ce){return this.code=y(this.code,ne,ce),this}get names(){return this.code instanceof m._CodeOrName?this.code.names:{}}}class V extends S{constructor(ne=[]){super(),this.nodes=ne}render(ne){return this.nodes.reduce((ce,Ae)=>ce+Ae.render(ne),"")}optimizeNodes(){const{nodes:ne}=this;let ce=ne.length;for(;ce--;){const Ae=ne[ce].optimizeNodes();Array.isArray(Ae)?ne.splice(ce,1,...Ae):Ae?ne[ce]=Ae:ne.splice(ce,1)}return ne.length>0?this:void 0}optimizeNames(ne,ce){const{nodes:Ae}=this;let ke=Ae.length;for(;ke--;){const Fe=Ae[ke];Fe.optimizeNames(ne,ce)||(w(ne,Fe.names),Ae.splice(ke,1))}return Ae.length>0?this:void 0}get names(){return this.nodes.reduce((ne,ce)=>u(ne,ce.names),{})}}class Z extends V{render(ne){return"{"+ne._n+super.render(ne)+"}"+ne._n}}class re extends V{}let te=(()=>{class H extends Z{}return H.kind="else",H})(),Q=(()=>{class H extends Z{constructor(ce,Ae){super(Ae),this.condition=ce}render(ce){let Ae=`if(${this.condition})`+super.render(ce);return this.else&&(Ae+="else "+this.else.render(ce)),Ae}optimizeNodes(){super.optimizeNodes();const ce=this.condition;if(!0===ce)return this.nodes;let Ae=this.else;if(Ae){const ke=Ae.optimizeNodes();Ae=this.else=Array.isArray(ke)?new te(ke):ke}return Ae?!1===ce?Ae instanceof H?Ae:Ae.nodes:this.nodes.length?this:new H(T(ce),Ae instanceof H?[Ae]:Ae.nodes):!1!==ce&&this.nodes.length?this:void 0}optimizeNames(ce,Ae){var ke;if(this.else=null===(ke=this.else)||void 0===ke?void 0:ke.optimizeNames(ce,Ae),super.optimizeNames(ce,Ae)||this.else)return this.condition=y(this.condition,ce,Ae),this}get names(){const ce=super.names;return h(ce,this.condition),this.else&&u(ce,this.else.names),ce}}return H.kind="if",H})(),J=(()=>{class H extends Z{}return H.kind="for",H})();class oe extends J{constructor(ne){super(),this.iteration=ne}render(ne){return`for(${this.iteration})`+super.render(ne)}optimizeNames(ne,ce){if(super.optimizeNames(ne,ce))return this.iteration=y(this.iteration,ne,ce),this}get names(){return u(super.names,this.iteration.names)}}class se extends J{constructor(ne,ce,Ae,ke){super(),this.varKind=ne,this.name=ce,this.from=Ae,this.to=ke}render(ne){const ce=ne.es5?x.varKinds.var:this.varKind,{name:Ae,from:ke,to:Fe}=this;return`for(${ce} ${Ae}=${ke}; ${Ae}<${Fe}; ${Ae}++)`+super.render(ne)}get names(){const ne=h(super.names,this.from);return h(ne,this.to)}}class ae extends J{constructor(ne,ce,Ae,ke){super(),this.loop=ne,this.varKind=ce,this.name=Ae,this.iterable=ke}render(ne){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ne)}optimizeNames(ne,ce){if(super.optimizeNames(ne,ce))return this.iterable=y(this.iterable,ne,ce),this}get names(){return u(super.names,this.iterable.names)}}let pe=(()=>{class H extends Z{constructor(ce,Ae,ke){super(),this.name=ce,this.args=Ae,this.async=ke}render(ce){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(ce)}}return H.kind="func",H})(),le=(()=>{class H extends V{render(ce){return"return "+super.render(ce)}}return H.kind="return",H})();class ve extends Z{render(ne){let ce="try"+super.render(ne);return this.catch&&(ce+=this.catch.render(ne)),this.finally&&(ce+=this.finally.render(ne)),ce}optimizeNodes(){var ne,ce;return super.optimizeNodes(),null===(ne=this.catch)||void 0===ne||ne.optimizeNodes(),null===(ce=this.finally)||void 0===ce||ce.optimizeNodes(),this}optimizeNames(ne,ce){var Ae,ke;return super.optimizeNames(ne,ce),null===(Ae=this.catch)||void 0===Ae||Ae.optimizeNames(ne,ce),null===(ke=this.finally)||void 0===ke||ke.optimizeNames(ne,ce),this}get names(){const ne=super.names;return this.catch&&u(ne,this.catch.names),this.finally&&u(ne,this.finally.names),ne}}let we=(()=>{class H extends Z{constructor(ce){super(),this.error=ce}render(ce){return`catch(${this.error})`+super.render(ce)}}return H.kind="catch",H})(),De=(()=>{class H extends Z{render(ce){return"finally"+super.render(ce)}}return H.kind="finally",H})();function u(H,ne){for(const ce in ne)H[ce]=(H[ce]||0)+(ne[ce]||0);return H}function h(H,ne){return ne instanceof m._CodeOrName?u(H,ne.names):H}function y(H,ne,ce){return H instanceof m.Name?Ae(H):function ke(Fe){return Fe instanceof m._Code&&Fe._items.some(Ee=>Ee instanceof m.Name&&1===ne[Ee.str]&&void 0!==ce[Ee.str])}(H)?new m._Code(H._items.reduce((Fe,Ee)=>(Ee instanceof m.Name&&(Ee=Ae(Ee)),Ee instanceof m._Code?Fe.push(...Ee._items):Fe.push(Ee),Fe),[])):H;function Ae(Fe){const Ee=ce[Fe.str];return void 0===Ee||1!==ne[Fe.str]?Fe:(delete ne[Fe.str],Ee)}}function w(H,ne){for(const ce in ne)H[ce]=(H[ce]||0)-(ne[ce]||0)}function T(H){return"boolean"==typeof H||"number"==typeof H||null===H?!H:m._`!${G(H)}`}z.CodeGen=class k{constructor(ne,ce={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...ce,_n:ce.lines?"\n":""},this._extScope=ne,this._scope=new x.Scope({parent:ne}),this._nodes=[new re]}toString(){return this._root.render(this.opts)}name(ne){return this._scope.name(ne)}scopeName(ne){return this._extScope.name(ne)}scopeValue(ne,ce){const Ae=this._extScope.value(ne,ce);return(this._values[Ae.prefix]||(this._values[Ae.prefix]=new Set)).add(Ae),Ae}getScopeValue(ne,ce){return this._extScope.getValue(ne,ce)}scopeRefs(ne){return this._extScope.scopeRefs(ne,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ne,ce,Ae,ke){const Fe=this._scope.toName(ce);return void 0!==Ae&&ke&&(this._constants[Fe.str]=Ae),this._leafNode(new L(ne,Fe,Ae)),Fe}const(ne,ce,Ae){return this._def(x.varKinds.const,ne,ce,Ae)}let(ne,ce,Ae){return this._def(x.varKinds.let,ne,ce,Ae)}var(ne,ce,Ae){return this._def(x.varKinds.var,ne,ce,Ae)}assign(ne,ce,Ae){return this._leafNode(new M(ne,ce,Ae))}add(ne,ce){return this._leafNode(new N(ne,z.operators.ADD,ce))}code(ne){return"function"==typeof ne?ne():ne!==m.nil&&this._leafNode(new X(ne)),this}object(...ne){const ce=["{"];for(const[Ae,ke]of ne)ce.length>1&&ce.push(","),ce.push(Ae),(Ae!==ke||this.opts.es5)&&(ce.push(":"),(0,m.addCodeArg)(ce,ke));return ce.push("}"),new m._Code(ce)}if(ne,ce,Ae){if(this._blockNode(new Q(ne)),ce&&Ae)this.code(ce).else().code(Ae).endIf();else if(ce)this.code(ce).endIf();else if(Ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ne){return this._elseNode(new Q(ne))}else(){return this._elseNode(new te)}endIf(){return this._endBlockNode(Q,te)}_for(ne,ce){return this._blockNode(ne),ce&&this.code(ce).endFor(),this}for(ne,ce){return this._for(new oe(ne),ce)}forRange(ne,ce,Ae,ke,Fe=(this.opts.es5?x.varKinds.var:x.varKinds.let)){const Ee=this._scope.toName(ne);return this._for(new se(Fe,Ee,ce,Ae),()=>ke(Ee))}forOf(ne,ce,Ae,ke=x.varKinds.const){const Fe=this._scope.toName(ne);if(this.opts.es5){const Ee=ce instanceof m.Name?ce:this.var("_arr",ce);return this.forRange("_i",0,m._`${Ee}.length`,ge=>{this.var(Fe,m._`${Ee}[${ge}]`),Ae(Fe)})}return this._for(new ae("of",ke,Fe,ce),()=>Ae(Fe))}forIn(ne,ce,Ae,ke=(this.opts.es5?x.varKinds.var:x.varKinds.const)){if(this.opts.ownProperties)return this.forOf(ne,m._`Object.keys(${ce})`,Ae);const Fe=this._scope.toName(ne);return this._for(new ae("in",ke,Fe,ce),()=>Ae(Fe))}endFor(){return this._endBlockNode(J)}label(ne){return this._leafNode(new $(ne))}break(ne){return this._leafNode(new F(ne))}return(ne){const ce=new le;if(this._blockNode(ce),this.code(ne),1!==ce.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(le)}try(ne,ce,Ae){if(!ce&&!Ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const ke=new ve;if(this._blockNode(ke),this.code(ne),ce){const Fe=this.name("e");this._currNode=ke.catch=new we(Fe),ce(Fe)}return Ae&&(this._currNode=ke.finally=new De,this.code(Ae)),this._endBlockNode(we,De)}throw(ne){return this._leafNode(new I(ne))}block(ne,ce){return this._blockStarts.push(this._nodes.length),ne&&this.code(ne).endBlock(ce),this}endBlock(ne){const ce=this._blockStarts.pop();if(void 0===ce)throw new Error("CodeGen: not in self-balancing block");const Ae=this._nodes.length-ce;if(Ae<0||void 0!==ne&&Ae!==ne)throw new Error(`CodeGen: wrong number of nodes: ${Ae} vs ${ne} expected`);return this._nodes.length=ce,this}func(ne,ce=m.nil,Ae,ke){return this._blockNode(new pe(ne,ce,Ae)),ke&&this.code(ke).endFunc(),this}endFunc(){return this._endBlockNode(pe)}optimize(ne=1){for(;ne-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ne){return this._currNode.nodes.push(ne),this}_blockNode(ne){this._currNode.nodes.push(ne),this._nodes.push(ne)}_endBlockNode(ne,ce){const Ae=this._currNode;if(Ae instanceof ne||ce&&Ae instanceof ce)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${ce?`${ne.kind}/${ce.kind}`:ne.kind}"`)}_elseNode(ne){const ce=this._currNode;if(!(ce instanceof Q))throw new Error('CodeGen: "else" without "if"');return this._currNode=ce.else=ne,this}get _root(){return this._nodes[0]}get _currNode(){const ne=this._nodes;return ne[ne.length-1]}set _currNode(ne){const ce=this._nodes;ce[ce.length-1]=ne}},z.not=T;const D=g(z.operators.AND);z.and=function j(...H){return H.reduce(D)};const A=g(z.operators.OR);function g(H){return(ne,ce)=>ne===m.nil?ce:ce===m.nil?ne:m._`${G(ne)} ${H} ${G(ce)}`}function G(H){return H instanceof m.Name?H:m._`(${H})`}z.or=function l(...H){return H.reduce(A)}},85934:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.ValueScope=z.ValueScopeName=z.Scope=z.varKinds=z.UsedValueState=void 0;const m=E(33337);class x extends Error{constructor($){super(`CodeGen: "code" for ${$} not defined`),this.value=$.value}}var R,N;(N=R=z.UsedValueState||(z.UsedValueState={}))[N.Started=0]="Started",N[N.Completed=1]="Completed",z.varKinds={const:new m.Name("const"),let:new m.Name("let"),var:new m.Name("var")};class W{constructor({prefixes:$,parent:F}={}){this._names={},this._prefixes=$,this._parent=F}toName($){return $ instanceof m.Name?$:this.name($)}name($){return new m.Name(this._newName($))}_newName($){return`${$}${(this._names[$]||this._nameGroup($)).index++}`}_nameGroup($){var F,I;if(null!==(I=null===(F=this._parent)||void 0===F?void 0:F._prefixes)&&void 0!==I&&I.has($)||this._prefixes&&!this._prefixes.has($))throw new Error(`CodeGen: prefix "${$}" is not allowed in this scope`);return this._names[$]={prefix:$,index:0}}}z.Scope=W;class S extends m.Name{constructor($,F){super(F),this.prefix=$}setValue($,{property:F,itemIndex:I}){this.value=$,this.scopePath=m._`.${new m.Name(F)}[${I}]`}}z.ValueScopeName=S;const L=m._`\n`;z.ValueScope=class M extends W{constructor($){super($),this._values={},this._scope=$.scope,this.opts={...$,_n:$.lines?L:m.nil}}get(){return this._scope}name($){return new S($,this._newName($))}value($,F){var I;if(void 0===F.ref)throw new Error("CodeGen: ref must be passed in value");const X=this.toName($),{prefix:V}=X,Z=null!==(I=F.key)&&void 0!==I?I:F.ref;let re=this._values[V];if(re){const J=re.get(Z);if(J)return J}else re=this._values[V]=new Map;re.set(Z,X);const te=this._scope[V]||(this._scope[V]=[]),Q=te.length;return te[Q]=F.ref,X.setValue(F,{property:V,itemIndex:Q}),X}getValue($,F){const I=this._values[$];if(I)return I.get(F)}scopeRefs($,F=this._values){return this._reduceValues(F,I=>{if(void 0===I.scopePath)throw new Error(`CodeGen: name "${I}" has no value`);return m._`${$}${I.scopePath}`})}scopeCode($=this._values,F,I){return this._reduceValues($,X=>{if(void 0===X.value)throw new Error(`CodeGen: name "${X}" has no value`);return X.value.code},F,I)}_reduceValues($,F,I={},X){let V=m.nil;for(const Z in $){const re=$[Z];if(!re)continue;const te=I[Z]=I[Z]||new Map;re.forEach(Q=>{if(te.has(Q))return;te.set(Q,R.Started);let J=F(Q);if(J)V=m._`${V}${this.opts.es5?z.varKinds.var:z.varKinds.const} ${Q} = ${J};${this.opts._n}`;else{if(!(J=X?.(Q)))throw new x(Q);V=m._`${V}${J}${this.opts._n}`}te.set(Q,R.Completed)})}return V}}},53421:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.extendErrors=z.resetErrorsCount=z.reportExtraError=z.reportError=z.keyword$DataError=z.keywordError=void 0;const m=E(1038),x=E(27006),R=E(23432);function N(te,Q){const J=te.const("err",Q);te.if(m._`${R.default.vErrors} === null`,()=>te.assign(R.default.vErrors,m._`[${J}]`),m._`${R.default.vErrors}.push(${J})`),te.code(m._`${R.default.errors}++`)}function $(te,Q){const{gen:J,validateName:oe,schemaEnv:se}=te;se.$async?J.throw(m._`new ${te.ValidationError}(${Q})`):(J.assign(m._`${oe}.errors`,Q),J.return(!1))}z.keywordError={message:({keyword:te})=>m.str`must pass "${te}" keyword validation`},z.keyword$DataError={message:({keyword:te,schemaType:Q})=>Q?m.str`"${te}" keyword must be ${Q} ($data)`:m.str`"${te}" keyword is invalid ($data)`},z.reportError=function W(te,Q=z.keywordError,J,oe){const{it:se}=te,{gen:ae,compositeRule:pe,allErrors:le}=se,ve=I(te,Q,J);oe??(pe||le)?N(ae,ve):$(se,m._`[${ve}]`)},z.reportExtraError=function S(te,Q=z.keywordError,J){const{it:oe}=te,{gen:se,compositeRule:ae,allErrors:pe}=oe;N(se,I(te,Q,J)),ae||pe||$(oe,R.default.vErrors)},z.resetErrorsCount=function L(te,Q){te.assign(R.default.errors,Q),te.if(m._`${R.default.vErrors} !== null`,()=>te.if(Q,()=>te.assign(m._`${R.default.vErrors}.length`,Q),()=>te.assign(R.default.vErrors,null)))},z.extendErrors=function M({gen:te,keyword:Q,schemaValue:J,data:oe,errsCount:se,it:ae}){if(void 0===se)throw new Error("ajv implementation error");const pe=te.name("err");te.forRange("i",se,R.default.errors,le=>{te.const(pe,m._`${R.default.vErrors}[${le}]`),te.if(m._`${pe}.instancePath === undefined`,()=>te.assign(m._`${pe}.instancePath`,(0,m.strConcat)(R.default.instancePath,ae.errorPath))),te.assign(m._`${pe}.schemaPath`,m.str`${ae.errSchemaPath}/${Q}`),ae.opts.verbose&&(te.assign(m._`${pe}.schema`,J),te.assign(m._`${pe}.data`,oe))})};const F={keyword:new m.Name("keyword"),schemaPath:new m.Name("schemaPath"),params:new m.Name("params"),propertyName:new m.Name("propertyName"),message:new m.Name("message"),schema:new m.Name("schema"),parentSchema:new m.Name("parentSchema")};function I(te,Q,J){const{createErrors:oe}=te.it;return!1===oe?m._`{}`:function X(te,Q,J={}){const{gen:oe,it:se}=te,ae=[V(se,J),Z(te,J)];return function re(te,{params:Q,message:J},oe){const{keyword:se,data:ae,schemaValue:pe,it:le}=te,{opts:ve,propertyName:we,topSchemaRef:De,schemaPath:k}=le;oe.push([F.keyword,se],[F.params,"function"==typeof Q?Q(te):Q||m._`{}`]),ve.messages&&oe.push([F.message,"function"==typeof J?J(te):J]),ve.verbose&&oe.push([F.schema,pe],[F.parentSchema,m._`${De}${k}`],[R.default.data,ae]),we&&oe.push([F.propertyName,we])}(te,Q,ae),oe.object(...ae)}(te,Q,J)}function V({errorPath:te},{instancePath:Q}){const J=Q?m.str`${te}${(0,x.getErrorPath)(Q,x.Type.Str)}`:te;return[R.default.instancePath,(0,m.strConcat)(R.default.instancePath,J)]}function Z({keyword:te,it:{errSchemaPath:Q}},{schemaPath:J,parentSchema:oe}){let se=oe?Q:m.str`${Q}/${te}`;return J&&(se=m.str`${se}${(0,x.getErrorPath)(J,x.Type.Str)}`),[F.schemaPath,se]}},97692:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.resolveSchema=z.getCompilingSchema=z.resolveRef=z.compileSchema=z.SchemaEnv=void 0;const m=E(1038),x=E(42467),R=E(23432),W=E(77172),S=E(27006),L=E(40339);class M{constructor(J){var oe;let se;this.refs={},this.dynamicAnchors={},"object"==typeof J.schema&&(se=J.schema),this.schema=J.schema,this.schemaId=J.schemaId,this.root=J.root||this,this.baseId=null!==(oe=J.baseId)&&void 0!==oe?oe:(0,W.normalizeId)(se?.[J.schemaId||"$id"]),this.schemaPath=J.schemaPath,this.localRefs=J.localRefs,this.meta=J.meta,this.$async=se?.$async,this.refs={}}}function N(Q){const J=I.call(this,Q);if(J)return J;const oe=(0,W.getFullPath)(this.opts.uriResolver,Q.root.baseId),{es5:se,lines:ae}=this.opts.code,{ownProperties:pe}=this.opts,le=new m.CodeGen(this.scope,{es5:se,lines:ae,ownProperties:pe});let ve;Q.$async&&(ve=le.scopeValue("Error",{ref:x.default,code:m._`require("ajv/dist/runtime/validation_error").default`}));const we=le.scopeName("validate");Q.validateName=we;const De={gen:le,allErrors:this.opts.allErrors,data:R.default.data,parentData:R.default.parentData,parentDataProperty:R.default.parentDataProperty,dataNames:[R.default.data],dataPathArr:[m.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:le.scopeValue("schema",!0===this.opts.code.source?{ref:Q.schema,code:(0,m.stringify)(Q.schema)}:{ref:Q.schema}),validateName:we,ValidationError:ve,schema:Q.schema,schemaEnv:Q,rootId:oe,baseId:Q.baseId||oe,schemaPath:m.nil,errSchemaPath:Q.schemaPath||(this.opts.jtd?"":"#"),errorPath:m._`""`,opts:this.opts,self:this};let k;try{this._compilations.add(Q),(0,L.validateFunctionCode)(De),le.optimize(this.opts.code.optimize);const u=le.toString();k=`${le.scopeRefs(R.default.scope)}return ${u}`,this.opts.code.process&&(k=this.opts.code.process(k,Q));const y=new Function(`${R.default.self}`,`${R.default.scope}`,k)(this,this.scope.get());if(this.scope.value(we,{ref:y}),y.errors=null,y.schema=Q.schema,y.schemaEnv=Q,Q.$async&&(y.$async=!0),!0===this.opts.code.source&&(y.source={validateName:we,validateCode:u,scopeValues:le._values}),this.opts.unevaluated){const{props:w,items:T}=De;y.evaluated={props:w instanceof m.Name?void 0:w,items:T instanceof m.Name?void 0:T,dynamicProps:w instanceof m.Name,dynamicItems:T instanceof m.Name},y.source&&(y.source.evaluated=(0,m.stringify)(y.evaluated))}return Q.validate=y,Q}catch(u){throw delete Q.validate,delete Q.validateName,k&&this.logger.error("Error compiling schema, function code:",k),u}finally{this._compilations.delete(Q)}}function F(Q){return(0,W.inlineRef)(Q.schema,this.opts.inlineRefs)?Q.schema:Q.validate?Q:N.call(this,Q)}function I(Q){for(const J of this._compilations)if(X(J,Q))return J}function X(Q,J){return Q.schema===J.schema&&Q.root===J.root&&Q.baseId===J.baseId}function V(Q,J){let oe;for(;"string"==typeof(oe=this.refs[J]);)J=oe;return oe||this.schemas[J]||Z.call(this,Q,J)}function Z(Q,J){const oe=this.opts.uriResolver.parse(J),se=(0,W._getFullPath)(this.opts.uriResolver,oe);let ae=(0,W.getFullPath)(this.opts.uriResolver,Q.baseId,void 0);if(Object.keys(Q.schema).length>0&&se===ae)return te.call(this,oe,Q);const pe=(0,W.normalizeId)(se),le=this.refs[pe]||this.schemas[pe];if("string"==typeof le){const ve=Z.call(this,Q,le);return"object"!=typeof ve?.schema?void 0:te.call(this,oe,ve)}if("object"==typeof le?.schema){if(le.validate||N.call(this,le),pe===(0,W.normalizeId)(J)){const{schema:ve}=le,{schemaId:we}=this.opts,De=ve[we];return De&&(ae=(0,W.resolveUrl)(this.opts.uriResolver,ae,De)),new M({schema:ve,schemaId:we,root:Q,baseId:ae})}return te.call(this,oe,le)}}z.SchemaEnv=M,z.compileSchema=N,z.resolveRef=function $(Q,J,oe){var se;oe=(0,W.resolveUrl)(this.opts.uriResolver,J,oe);const ae=Q.refs[oe];if(ae)return ae;let pe=V.call(this,Q,oe);if(void 0===pe){const le=null===(se=Q.localRefs)||void 0===se?void 0:se[oe],{schemaId:ve}=this.opts;le&&(pe=new M({schema:le,schemaId:ve,root:Q,baseId:J}))}return void 0!==pe?Q.refs[oe]=F.call(this,pe):void 0},z.getCompilingSchema=I,z.resolveSchema=Z;const re=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function te(Q,{baseId:J,schema:oe,root:se}){var ae;if("/"!==(null===(ae=Q.fragment)||void 0===ae?void 0:ae[0]))return;for(const ve of Q.fragment.slice(1).split("/")){if("boolean"==typeof oe)return;const we=oe[(0,S.unescapeFragment)(ve)];if(void 0===we)return;const De="object"==typeof(oe=we)&&oe[this.opts.schemaId];!re.has(ve)&&De&&(J=(0,W.resolveUrl)(this.opts.uriResolver,J,De))}let pe;if("boolean"!=typeof oe&&oe.$ref&&!(0,S.schemaHasRulesButRef)(oe,this.RULES)){const ve=(0,W.resolveUrl)(this.opts.uriResolver,J,oe.$ref);pe=Z.call(this,se,ve)}const{schemaId:le}=this.opts;return pe=pe||new M({schema:oe,schemaId:le,root:se,baseId:J}),pe.schema!==pe.root.schema?pe:void 0}},23432:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x={data:new m.Name("data"),valCxt:new m.Name("valCxt"),instancePath:new m.Name("instancePath"),parentData:new m.Name("parentData"),parentDataProperty:new m.Name("parentDataProperty"),rootData:new m.Name("rootData"),dynamicAnchors:new m.Name("dynamicAnchors"),vErrors:new m.Name("vErrors"),errors:new m.Name("errors"),this:new m.Name("this"),self:new m.Name("self"),scope:new m.Name("scope"),json:new m.Name("json"),jsonPos:new m.Name("jsonPos"),jsonLen:new m.Name("jsonLen"),jsonPart:new m.Name("jsonPart")};z.default=x},26288:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(77172);class x extends Error{constructor(W,S,L,M){super(M||`can't resolve reference ${L} from id ${S}`),this.missingRef=(0,m.resolveUrl)(W,S,L),this.missingSchema=(0,m.normalizeId)((0,m.getFullPath)(W,this.missingRef))}}z.default=x},77172:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getSchemaRefs=z.resolveUrl=z.normalizeId=z._getFullPath=z.getFullPath=z.inlineRef=void 0;const m=E(27006),x=E(40362),R=E(44331),W=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);z.inlineRef=function S(te,Q=!0){return"boolean"==typeof te||(!0===Q?!M(te):!!Q&&N(te)<=Q)};const L=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function M(te){for(const Q in te){if(L.has(Q))return!0;const J=te[Q];if(Array.isArray(J)&&J.some(M)||"object"==typeof J&&M(J))return!0}return!1}function N(te){let Q=0;for(const J in te){if("$ref"===J)return 1/0;if(Q++,!W.has(J)&&("object"==typeof te[J]&&(0,m.eachItem)(te[J],oe=>Q+=N(oe)),Q===1/0))return 1/0}return Q}function $(te,Q="",J){!1!==J&&(Q=X(Q));const oe=te.parse(Q);return F(te,oe)}function F(te,Q){return te.serialize(Q).split("#")[0]+"#"}z.getFullPath=$,z._getFullPath=F;const I=/#\/?$/;function X(te){return te?te.replace(I,""):""}z.normalizeId=X,z.resolveUrl=function V(te,Q,J){return J=X(J),te.resolve(Q,J)};const Z=/^[a-z_][-a-z0-9._]*$/i;z.getSchemaRefs=function re(te,Q){if("boolean"==typeof te)return{};const{schemaId:J,uriResolver:oe}=this.opts,se=X(te[J]||Q),ae={"":se},pe=$(oe,se,!1),le={},ve=new Set;return R(te,{allKeys:!0},(k,u,h,y)=>{if(void 0===y)return;const w=pe+u;let T=ae[y];function D(A){if(A=X(T?(0,this.opts.uriResolver.resolve)(T,A):A),ve.has(A))throw De(A);ve.add(A);let g=this.refs[A];return"string"==typeof g&&(g=this.refs[g]),"object"==typeof g?we(k,g.schema,A):A!==X(w)&&("#"===A[0]?(we(k,le[A],A),le[A]=k):this.refs[A]=w),A}function j(A){if("string"==typeof A){if(!Z.test(A))throw new Error(`invalid anchor "${A}"`);D.call(this,`#${A}`)}}"string"==typeof k[J]&&(T=D.call(this,k[J])),j.call(this,k.$anchor),j.call(this,k.$dynamicAnchor),ae[u]=T}),le;function we(k,u,h){if(void 0!==u&&!x(k,u))throw De(h)}function De(k){return new Error(`reference "${k}" resolves to more than one schema`)}}},32203:(Le,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getRules=z.isJSONType=void 0;const m=new Set(["string","number","integer","boolean","null","object","array"]);z.isJSONType=function x(W){return"string"==typeof W&&m.has(W)},z.getRules=function R(){const W={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...W,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},W.number,W.string,W.array,W.object],post:{rules:[]},all:{},keywords:{}}}},27006:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.checkStrictMode=z.getErrorPath=z.Type=z.useFunc=z.setEvaluated=z.evaluatedPropsToName=z.mergeEvaluated=z.eachItem=z.unescapeJsonPointer=z.escapeJsonPointer=z.escapeFragment=z.unescapeFragment=z.schemaRefOrVal=z.schemaHasRulesButRef=z.schemaHasRules=z.checkUnknownRules=z.alwaysValidSchema=z.toHash=void 0;const m=E(1038),x=E(33337);function S(pe,le=pe.schema){const{opts:ve,self:we}=pe;if(!ve.strictSchema||"boolean"==typeof le)return;const De=we.RULES.keywords;for(const k in le)De[k]||ae(pe,`unknown keyword: "${k}"`)}function L(pe,le){if("boolean"==typeof pe)return!pe;for(const ve in pe)if(le[ve])return!0;return!1}function I(pe){return"number"==typeof pe?`${pe}`:pe.replace(/~/g,"~0").replace(/\//g,"~1")}function X(pe){return pe.replace(/~1/g,"/").replace(/~0/g,"~")}function Z({mergeNames:pe,mergeToName:le,mergeValues:ve,resultToName:we}){return(De,k,u,h)=>{const y=void 0===u?k:u instanceof m.Name?(k instanceof m.Name?pe(De,k,u):le(De,k,u),u):k instanceof m.Name?(le(De,u,k),k):ve(k,u);return h!==m.Name||y instanceof m.Name?y:we(De,y)}}function re(pe,le){if(!0===le)return pe.var("props",!0);const ve=pe.var("props",m._`{}`);return void 0!==le&&te(pe,ve,le),ve}function te(pe,le,ve){Object.keys(ve).forEach(we=>pe.assign(m._`${le}${(0,m.getProperty)(we)}`,!0))}z.toHash=function R(pe){const le={};for(const ve of pe)le[ve]=!0;return le},z.alwaysValidSchema=function W(pe,le){return"boolean"==typeof le?le:0===Object.keys(le).length||(S(pe,le),!L(le,pe.self.RULES.all))},z.checkUnknownRules=S,z.schemaHasRules=L,z.schemaHasRulesButRef=function M(pe,le){if("boolean"==typeof pe)return!pe;for(const ve in pe)if("$ref"!==ve&&le.all[ve])return!0;return!1},z.schemaRefOrVal=function N({topSchemaRef:pe,schemaPath:le},ve,we,De){if(!De){if("number"==typeof ve||"boolean"==typeof ve)return ve;if("string"==typeof ve)return m._`${ve}`}return m._`${pe}${le}${(0,m.getProperty)(we)}`},z.unescapeFragment=function $(pe){return X(decodeURIComponent(pe))},z.escapeFragment=function F(pe){return encodeURIComponent(I(pe))},z.escapeJsonPointer=I,z.unescapeJsonPointer=X,z.eachItem=function V(pe,le){if(Array.isArray(pe))for(const ve of pe)le(ve);else le(pe)},z.mergeEvaluated={props:Z({mergeNames:(pe,le,ve)=>pe.if(m._`${ve} !== true && ${le} !== undefined`,()=>{pe.if(m._`${le} === true`,()=>pe.assign(ve,!0),()=>pe.assign(ve,m._`${ve} || {}`).code(m._`Object.assign(${ve}, ${le})`))}),mergeToName:(pe,le,ve)=>pe.if(m._`${ve} !== true`,()=>{!0===le?pe.assign(ve,!0):(pe.assign(ve,m._`${ve} || {}`),te(pe,ve,le))}),mergeValues:(pe,le)=>!0===pe||{...pe,...le},resultToName:re}),items:Z({mergeNames:(pe,le,ve)=>pe.if(m._`${ve} !== true && ${le} !== undefined`,()=>pe.assign(ve,m._`${le} === true ? true : ${ve} > ${le} ? ${ve} : ${le}`)),mergeToName:(pe,le,ve)=>pe.if(m._`${ve} !== true`,()=>pe.assign(ve,!0===le||m._`${ve} > ${le} ? ${ve} : ${le}`)),mergeValues:(pe,le)=>!0===pe||Math.max(pe,le),resultToName:(pe,le)=>pe.var("items",le)})},z.evaluatedPropsToName=re,z.setEvaluated=te;const Q={};var oe,pe;function ae(pe,le,ve=pe.opts.strictSchema){if(ve){if(le=`strict mode: ${le}`,!0===ve)throw new Error(le);pe.self.logger.warn(le)}}z.useFunc=function J(pe,le){return pe.scopeValue("func",{ref:le,code:Q[le.code]||(Q[le.code]=new x._Code(le.code))})},(pe=oe=z.Type||(z.Type={}))[pe.Num=0]="Num",pe[pe.Str=1]="Str",z.getErrorPath=function se(pe,le,ve){if(pe instanceof m.Name){const we=le===oe.Num;return ve?we?m._`"[" + ${pe} + "]"`:m._`"['" + ${pe} + "']"`:we?m._`"/" + ${pe}`:m._`"/" + ${pe}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return ve?(0,m.getProperty)(pe).toString():"/"+I(pe)},z.checkStrictMode=ae},22650:(Le,z)=>{"use strict";function m(R,W){return W.rules.some(S=>x(R,S))}function x(R,W){var S;return void 0!==R[W.keyword]||(null===(S=W.definition.implements)||void 0===S?void 0:S.some(L=>void 0!==R[L]))}Object.defineProperty(z,"__esModule",{value:!0}),z.shouldUseRule=z.shouldUseGroup=z.schemaHasRulesForType=void 0,z.schemaHasRulesForType=function E({schema:R,self:W},S){const L=W.RULES.types[S];return L&&!0!==L&&m(R,L)},z.shouldUseGroup=m,z.shouldUseRule=x},37864:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.boolOrEmptySchema=z.topBoolOrEmptySchema=void 0;const m=E(53421),x=E(1038),R=E(23432),W={message:"boolean schema is false"};function M(N,$){const{gen:F,data:I}=N;(0,m.reportError)({gen:F,keyword:"false schema",data:I,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:N},W,void 0,$)}z.topBoolOrEmptySchema=function S(N){const{gen:$,schema:F,validateName:I}=N;!1===F?M(N,!1):"object"==typeof F&&!0===F.$async?$.return(R.default.data):($.assign(x._`${I}.errors`,null),$.return(!0))},z.boolOrEmptySchema=function L(N,$){const{gen:F,schema:I}=N;!1===I?(F.var($,!1),M(N)):F.var($,!0)}},55999:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.reportTypeError=z.checkDataTypes=z.checkDataType=z.coerceAndCheckDataType=z.getJSONTypes=z.getSchemaTypes=z.DataType=void 0;const m=E(32203),x=E(22650),R=E(53421),W=E(1038),S=E(27006);var L,oe;function N(oe){const se=Array.isArray(oe)?oe:oe?[oe]:[];if(se.every(m.isJSONType))return se;throw new Error("type must be JSONType or JSONType[]: "+se.join(","))}(oe=L=z.DataType||(z.DataType={}))[oe.Correct=0]="Correct",oe[oe.Wrong=1]="Wrong",z.getSchemaTypes=function M(oe){const se=N(oe.type);if(se.includes("null")){if(!1===oe.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!se.length&&void 0!==oe.nullable)throw new Error('"nullable" cannot be used without "type"');!0===oe.nullable&&se.push("null")}return se},z.getJSONTypes=N,z.coerceAndCheckDataType=function $(oe,se){const{gen:ae,data:pe,opts:le}=oe,ve=function I(oe,se){return se?oe.filter(ae=>F.has(ae)||"array"===se&&"array"===ae):[]}(se,le.coerceTypes),we=se.length>0&&!(0===ve.length&&1===se.length&&(0,x.schemaHasRulesForType)(oe,se[0]));if(we){const De=re(se,pe,le.strictNumbers,L.Wrong);ae.if(De,()=>{ve.length?function X(oe,se,ae){const{gen:pe,data:le,opts:ve}=oe,we=pe.let("dataType",W._`typeof ${le}`),De=pe.let("coerced",W._`undefined`);"array"===ve.coerceTypes&&pe.if(W._`${we} == 'object' && Array.isArray(${le}) && ${le}.length == 1`,()=>pe.assign(le,W._`${le}[0]`).assign(we,W._`typeof ${le}`).if(re(se,le,ve.strictNumbers),()=>pe.assign(De,le))),pe.if(W._`${De} !== undefined`);for(const u of ae)(F.has(u)||"array"===u&&"array"===ve.coerceTypes)&&k(u);function k(u){switch(u){case"string":return void pe.elseIf(W._`${we} == "number" || ${we} == "boolean"`).assign(De,W._`"" + ${le}`).elseIf(W._`${le} === null`).assign(De,W._`""`);case"number":return void pe.elseIf(W._`${we} == "boolean" || ${le} === null
              || (${we} == "string" && ${le} && ${le} == +${le})`).assign(De,W._`+${le}`);case"integer":return void pe.elseIf(W._`${we} === "boolean" || ${le} === null
              || (${we} === "string" && ${le} && ${le} == +${le} && !(${le} % 1))`).assign(De,W._`+${le}`);case"boolean":return void pe.elseIf(W._`${le} === "false" || ${le} === 0 || ${le} === null`).assign(De,!1).elseIf(W._`${le} === "true" || ${le} === 1`).assign(De,!0);case"null":return pe.elseIf(W._`${le} === "" || ${le} === 0 || ${le} === false`),void pe.assign(De,null);case"array":pe.elseIf(W._`${we} === "string" || ${we} === "number"
              || ${we} === "boolean" || ${le} === null`).assign(De,W._`[${le}]`)}}pe.else(),Q(oe),pe.endIf(),pe.if(W._`${De} !== undefined`,()=>{pe.assign(le,De),function V({gen:oe,parentData:se,parentDataProperty:ae},pe){oe.if(W._`${se} !== undefined`,()=>oe.assign(W._`${se}[${ae}]`,pe))}(oe,De)})}(oe,se,ve):Q(oe)})}return we};const F=new Set(["string","number","integer","boolean","null"]);function Z(oe,se,ae,pe=L.Correct){const le=pe===L.Correct?W.operators.EQ:W.operators.NEQ;let ve;switch(oe){case"null":return W._`${se} ${le} null`;case"array":ve=W._`Array.isArray(${se})`;break;case"object":ve=W._`${se} && typeof ${se} == "object" && !Array.isArray(${se})`;break;case"integer":ve=we(W._`!(${se} % 1) && !isNaN(${se})`);break;case"number":ve=we();break;default:return W._`typeof ${se} ${le} ${oe}`}return pe===L.Correct?ve:(0,W.not)(ve);function we(De=W.nil){return(0,W.and)(W._`typeof ${se} == "number"`,De,ae?W._`isFinite(${se})`:W.nil)}}function re(oe,se,ae,pe){if(1===oe.length)return Z(oe[0],se,ae,pe);let le;const ve=(0,S.toHash)(oe);if(ve.array&&ve.object){const we=W._`typeof ${se} != "object"`;le=ve.null?we:W._`!${se} || ${we}`,delete ve.null,delete ve.array,delete ve.object}else le=W.nil;ve.number&&delete ve.integer;for(const we in ve)le=(0,W.and)(le,Z(we,se,ae,pe));return le}z.checkDataType=Z,z.checkDataTypes=re;const te={message:({schema:oe})=>`must be ${oe}`,params:({schema:oe,schemaValue:se})=>"string"==typeof oe?W._`{type: ${oe}}`:W._`{type: ${se}}`};function Q(oe){const se=function J(oe){const{gen:se,data:ae,schema:pe}=oe,le=(0,S.schemaRefOrVal)(oe,pe,"type");return{gen:se,keyword:"type",data:ae,schema:pe.type,schemaCode:le,schemaValue:le,parentSchema:pe,params:{},it:oe}}(oe);(0,R.reportError)(se,te)}z.reportTypeError=Q},48733:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.assignDefaults=void 0;const m=E(1038),x=E(27006);function W(S,L,M){const{gen:N,compositeRule:$,data:F,opts:I}=S;if(void 0===M)return;const X=m._`${F}${(0,m.getProperty)(L)}`;if($)return void(0,x.checkStrictMode)(S,`default is ignored for: ${X}`);let V=m._`${X} === undefined`;"empty"===I.useDefaults&&(V=m._`${V} || ${X} === null || ${X} === ""`),N.if(V,m._`${X} = ${(0,m.stringify)(M)}`)}z.assignDefaults=function R(S,L){const{properties:M,items:N}=S.schema;if("object"===L&&M)for(const $ in M)W(S,$,M[$].default);else"array"===L&&Array.isArray(N)&&N.forEach(($,F)=>W(S,F,$.default))}},40339:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getData=z.KeywordCxt=z.validateFunctionCode=void 0;const m=E(37864),x=E(55999),R=E(22650),W=E(55999),S=E(48733),L=E(76800),M=E(16334),N=E(1038),$=E(23432),F=E(77172),I=E(27006),X=E(53421);function Z({gen:ye,validateName:Se,schema:he,schemaEnv:fe,opts:ee},ie){ee.code.es5?ye.func(Se,N._`${$.default.data}, ${$.default.valCxt}`,fe.$async,()=>{ye.code(N._`"use strict"; ${oe(he,ee)}`),function te(ye,Se){ye.if($.default.valCxt,()=>{ye.var($.default.instancePath,N._`${$.default.valCxt}.${$.default.instancePath}`),ye.var($.default.parentData,N._`${$.default.valCxt}.${$.default.parentData}`),ye.var($.default.parentDataProperty,N._`${$.default.valCxt}.${$.default.parentDataProperty}`),ye.var($.default.rootData,N._`${$.default.valCxt}.${$.default.rootData}`),Se.dynamicRef&&ye.var($.default.dynamicAnchors,N._`${$.default.valCxt}.${$.default.dynamicAnchors}`)},()=>{ye.var($.default.instancePath,N._`""`),ye.var($.default.parentData,N._`undefined`),ye.var($.default.parentDataProperty,N._`undefined`),ye.var($.default.rootData,$.default.data),Se.dynamicRef&&ye.var($.default.dynamicAnchors,N._`{}`)})}(ye,ee),ye.code(ie)}):ye.func(Se,N._`${$.default.data}, ${function re(ye){return N._`{${$.default.instancePath}="", ${$.default.parentData}, ${$.default.parentDataProperty}, ${$.default.rootData}=${$.default.data}${ye.dynamicRef?N._`, ${$.default.dynamicAnchors}={}`:N.nil}}={}`}(ee)}`,fe.$async,()=>ye.code(oe(he,ee)).code(ie))}function oe(ye,Se){const he="object"==typeof ye&&ye[Se.schemaId];return he&&(Se.code.source||Se.code.process)?N._`/*# sourceURL=${he} */`:N.nil}function ae({schema:ye,self:Se}){if("boolean"==typeof ye)return!ye;for(const he in ye)if(Se.RULES.all[he])return!0;return!1}function pe(ye){return"boolean"!=typeof ye.schema}function ve(ye){(0,I.checkUnknownRules)(ye),function De(ye){const{schema:Se,errSchemaPath:he,opts:fe,self:ee}=ye;Se.$ref&&fe.ignoreKeywordsWithRef&&(0,I.schemaHasRulesButRef)(Se,ee.RULES)&&ee.logger.warn(`$ref: keywords ignored in schema at path "${he}"`)}(ye)}function we(ye,Se){if(ye.opts.jtd)return D(ye,[],!1,Se);const he=(0,x.getSchemaTypes)(ye.schema);D(ye,he,!(0,x.coerceAndCheckDataType)(ye,he),Se)}function y({gen:ye,schemaEnv:Se,schema:he,errSchemaPath:fe,opts:ee}){const ie=he.$comment;if(!0===ee.$comment)ye.code(N._`${$.default.self}.logger.log(${ie})`);else if("function"==typeof ee.$comment){const ue=N.str`${fe}/$comment`,be=ye.scopeValue("root",{ref:Se.root});ye.code(N._`${$.default.self}.opts.$comment(${ie}, ${ue}, ${be}.schema)`)}}function D(ye,Se,he,fe){const{gen:ee,schema:ie,data:ue,allErrors:be,opts:Ie,self:Ne}=ye,{RULES:Be}=Ne;function yt(Ke){(0,R.shouldUseGroup)(ie,Ke)&&(Ke.type?(ee.if((0,W.checkDataType)(Ke.type,ue,Ie.strictNumbers)),j(ye,Ke),1===Se.length&&Se[0]===Ke.type&&he&&(ee.else(),(0,W.reportTypeError)(ye)),ee.endIf()):j(ye,Ke),be||ee.if(N._`${$.default.errors} === ${fe||0}`))}!ie.$ref||!Ie.ignoreKeywordsWithRef&&(0,I.schemaHasRulesButRef)(ie,Be)?(Ie.jtd||function A(ye,Se){ye.schemaEnv.meta||!ye.opts.strictTypes||(function l(ye,Se){if(Se.length){if(!ye.dataTypes.length)return void(ye.dataTypes=Se);Se.forEach(he=>{ne(ye.dataTypes,he)||Ae(ye,`type "${he}" not allowed by context "${ye.dataTypes.join(",")}"`)}),function ce(ye,Se){const he=[];for(const fe of ye.dataTypes)ne(Se,fe)?he.push(fe):Se.includes("integer")&&"number"===fe&&he.push("integer");ye.dataTypes=he}(ye,Se)}}(ye,Se),ye.opts.allowUnionTypes||function g(ye,Se){Se.length>1&&(2!==Se.length||!Se.includes("null"))&&Ae(ye,"use allowUnionTypes to allow union type keyword")}(ye,Se),function G(ye,Se){const he=ye.self.RULES.all;for(const fe in he){const ee=he[fe];if("object"==typeof ee&&(0,R.shouldUseRule)(ye.schema,ee)){const{type:ie}=ee.definition;ie.length&&!ie.some(ue=>H(Se,ue))&&Ae(ye,`missing type "${ie.join(",")}" for keyword "${fe}"`)}}}(ye,ye.dataTypes))}(ye,Se),ee.block(()=>{for(const Ke of Be.rules)yt(Ke);yt(Be.post)})):ee.block(()=>Fe(ye,"$ref",Be.all.$ref.definition))}function j(ye,Se){const{gen:he,schema:fe,opts:{useDefaults:ee}}=ye;ee&&(0,S.assignDefaults)(ye,Se.type),he.block(()=>{for(const ie of Se.rules)(0,R.shouldUseRule)(fe,ie)&&Fe(ye,ie.keyword,ie.definition,Se.type)})}function H(ye,Se){return ye.includes(Se)||"number"===Se&&ye.includes("integer")}function ne(ye,Se){return ye.includes(Se)||"integer"===Se&&ye.includes("number")}function Ae(ye,Se){(0,I.checkStrictMode)(ye,Se+=` at "${ye.schemaEnv.baseId+ye.errSchemaPath}" (strictTypes)`,ye.opts.strictTypes)}z.validateFunctionCode=function V(ye){pe(ye)&&(ve(ye),ae(ye))?function Q(ye){const{schema:Se,opts:he,gen:fe}=ye;Z(ye,()=>{he.$comment&&Se.$comment&&y(ye),function k(ye){const{schema:Se,opts:he}=ye;void 0!==Se.default&&he.useDefaults&&he.strictSchema&&(0,I.checkStrictMode)(ye,"default is ignored in the schema root")}(ye),fe.let($.default.vErrors,null),fe.let($.default.errors,0),he.unevaluated&&function J(ye){const{gen:Se,validateName:he}=ye;ye.evaluated=Se.const("evaluated",N._`${he}.evaluated`),Se.if(N._`${ye.evaluated}.dynamicProps`,()=>Se.assign(N._`${ye.evaluated}.props`,N._`undefined`)),Se.if(N._`${ye.evaluated}.dynamicItems`,()=>Se.assign(N._`${ye.evaluated}.items`,N._`undefined`))}(ye),we(ye),function w(ye){const{gen:Se,schemaEnv:he,validateName:fe,ValidationError:ee,opts:ie}=ye;he.$async?Se.if(N._`${$.default.errors} === 0`,()=>Se.return($.default.data),()=>Se.throw(N._`new ${ee}(${$.default.vErrors})`)):(Se.assign(N._`${fe}.errors`,$.default.vErrors),ie.unevaluated&&function T({gen:ye,evaluated:Se,props:he,items:fe}){he instanceof N.Name&&ye.assign(N._`${Se}.props`,he),fe instanceof N.Name&&ye.assign(N._`${Se}.items`,fe)}(ye),Se.return(N._`${$.default.errors} === 0`))}(ye)})}(ye):Z(ye,()=>(0,m.topBoolOrEmptySchema)(ye))};class ke{constructor(Se,he,fe){if((0,L.validateKeywordUsage)(Se,he,fe),this.gen=Se.gen,this.allErrors=Se.allErrors,this.keyword=fe,this.data=Se.data,this.schema=Se.schema[fe],this.$data=he.$data&&Se.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,I.schemaRefOrVal)(Se,this.schema,fe,this.$data),this.schemaType=he.schemaType,this.parentSchema=Se.schema,this.params={},this.it=Se,this.def=he,this.$data)this.schemaCode=Se.gen.const("vSchema",Oe(this.$data,Se));else if(this.schemaCode=this.schemaValue,!(0,L.validSchemaType)(this.schema,he.schemaType,he.allowUndefined))throw new Error(`${fe} value must be ${JSON.stringify(he.schemaType)}`);("code"in he?he.trackErrors:!1!==he.errors)&&(this.errsCount=Se.gen.const("_errs",$.default.errors))}result(Se,he,fe){this.failResult((0,N.not)(Se),he,fe)}failResult(Se,he,fe){this.gen.if(Se),fe?fe():this.error(),he?(this.gen.else(),he(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Se,he){this.failResult((0,N.not)(Se),void 0,he)}fail(Se){if(void 0===Se)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Se),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Se){if(!this.$data)return this.fail(Se);const{schemaCode:he}=this;this.fail(N._`${he} !== undefined && (${(0,N.or)(this.invalid$data(),Se)})`)}error(Se,he,fe){if(he)return this.setParams(he),this._error(Se,fe),void this.setParams({});this._error(Se,fe)}_error(Se,he){(Se?X.reportExtraError:X.reportError)(this,this.def.error,he)}$dataError(){(0,X.reportError)(this,this.def.$dataError||X.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,X.resetErrorsCount)(this.gen,this.errsCount)}ok(Se){this.allErrors||this.gen.if(Se)}setParams(Se,he){he?Object.assign(this.params,Se):this.params=Se}block$data(Se,he,fe=N.nil){this.gen.block(()=>{this.check$data(Se,fe),he()})}check$data(Se=N.nil,he=N.nil){if(!this.$data)return;const{gen:fe,schemaCode:ee,schemaType:ie,def:ue}=this;fe.if((0,N.or)(N._`${ee} === undefined`,he)),Se!==N.nil&&fe.assign(Se,!0),(ie.length||ue.validateSchema)&&(fe.elseIf(this.invalid$data()),this.$dataError(),Se!==N.nil&&fe.assign(Se,!1)),fe.else()}invalid$data(){const{gen:Se,schemaCode:he,schemaType:fe,def:ee,it:ie}=this;return(0,N.or)(function ue(){if(fe.length){if(!(he instanceof N.Name))throw new Error("ajv implementation error");const Ie=Array.isArray(fe)?fe:[fe];return N._`${(0,W.checkDataTypes)(Ie,he,ie.opts.strictNumbers,W.DataType.Wrong)}`}return N.nil}(),function be(){if(ee.validateSchema){const Ie=Se.scopeValue("validate$data",{ref:ee.validateSchema});return N._`!${Ie}(${he})`}return N.nil}())}subschema(Se,he){const fe=(0,M.getSubschema)(this.it,Se);(0,M.extendSubschemaData)(fe,this.it,Se),(0,M.extendSubschemaMode)(fe,Se);const ee={...this.it,...fe,items:void 0,props:void 0};return function se(ye,Se){pe(ye)&&(ve(ye),ae(ye))?function le(ye,Se){const{schema:he,gen:fe,opts:ee}=ye;ee.$comment&&he.$comment&&y(ye),function u(ye){const Se=ye.schema[ye.opts.schemaId];Se&&(ye.baseId=(0,F.resolveUrl)(ye.opts.uriResolver,ye.baseId,Se))}(ye),function h(ye){if(ye.schema.$async&&!ye.schemaEnv.$async)throw new Error("async schema in sync schema")}(ye);const ie=fe.const("_errs",$.default.errors);we(ye,ie),fe.var(Se,N._`${ie} === ${$.default.errors}`)}(ye,Se):(0,m.boolOrEmptySchema)(ye,Se)}(ee,he),ee}mergeEvaluated(Se,he){const{it:fe,gen:ee}=this;fe.opts.unevaluated&&(!0!==fe.props&&void 0!==Se.props&&(fe.props=I.mergeEvaluated.props(ee,Se.props,fe.props,he)),!0!==fe.items&&void 0!==Se.items&&(fe.items=I.mergeEvaluated.items(ee,Se.items,fe.items,he)))}mergeValidEvaluated(Se,he){const{it:fe,gen:ee}=this;if(fe.opts.unevaluated&&(!0!==fe.props||!0!==fe.items))return ee.if(he,()=>this.mergeEvaluated(Se,N.Name)),!0}}function Fe(ye,Se,he,fe){const ee=new ke(ye,he,Se);"code"in he?he.code(ee,fe):ee.$data&&he.validate?(0,L.funcKeywordCode)(ee,he):"macro"in he?(0,L.macroKeywordCode)(ee,he):(he.compile||he.validate)&&(0,L.funcKeywordCode)(ee,he)}z.KeywordCxt=ke;const Ee=/^\/(?:[^~]|~0|~1)*$/,ge=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Oe(ye,{dataLevel:Se,dataNames:he,dataPathArr:fe}){let ee,ie;if(""===ye)return $.default.rootData;if("/"===ye[0]){if(!Ee.test(ye))throw new Error(`Invalid JSON-pointer: ${ye}`);ee=ye,ie=$.default.rootData}else{const Ne=ge.exec(ye);if(!Ne)throw new Error(`Invalid JSON-pointer: ${ye}`);const Be=+Ne[1];if(ee=Ne[2],"#"===ee){if(Be>=Se)throw new Error(Ie("property/index",Be));return fe[Se-Be]}if(Be>Se)throw new Error(Ie("data",Be));if(ie=he[Se-Be],!ee)return ie}let ue=ie;const be=ee.split("/");for(const Ne of be)Ne&&(ie=N._`${ie}${(0,N.getProperty)((0,I.unescapeJsonPointer)(Ne))}`,ue=N._`${ue} && ${ie}`);return ue;function Ie(Ne,Be){return`Cannot access ${Ne} ${Be} levels up, current level is ${Se}`}}z.getData=Oe},76800:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateKeywordUsage=z.validSchemaType=z.funcKeywordCode=z.macroKeywordCode=void 0;const m=E(1038),x=E(23432),R=E(42406),W=E(53421);function M(V){const{gen:Z,data:re,it:te}=V;Z.if(te.parentData,()=>Z.assign(re,m._`${te.parentData}[${te.parentDataProperty}]`))}function F(V,Z,re){if(void 0===re)throw new Error(`keyword "${Z}" failed to compile`);return V.scopeValue("keyword","function"==typeof re?{ref:re}:{ref:re,code:(0,m.stringify)(re)})}z.macroKeywordCode=function S(V,Z){const{gen:re,keyword:te,schema:Q,parentSchema:J,it:oe}=V,se=Z.macro.call(oe.self,Q,J,oe),ae=F(re,te,se);!1!==oe.opts.validateSchema&&oe.self.validateSchema(se,!0);const pe=re.name("valid");V.subschema({schema:se,schemaPath:m.nil,errSchemaPath:`${oe.errSchemaPath}/${te}`,topSchemaRef:ae,compositeRule:!0},pe),V.pass(pe,()=>V.error(!0))},z.funcKeywordCode=function L(V,Z){var re;const{gen:te,keyword:Q,schema:J,parentSchema:oe,$data:se,it:ae}=V;!function $({schemaEnv:V},Z){if(Z.async&&!V.$async)throw new Error("async keyword in sync schema")}(ae,Z);const pe=!se&&Z.compile?Z.compile.call(ae.self,J,oe,ae):Z.validate,le=F(te,Q,pe),ve=te.let("valid");function u(y=(Z.async?m._`await `:m.nil)){te.assign(ve,m._`${y}${(0,R.callValidateCode)(V,le,ae.opts.passContext?x.default.this:x.default.self,!("compile"in Z&&!se||!1===Z.schema))}`,Z.modifying)}function h(y){var w;te.if((0,m.not)(null!==(w=Z.valid)&&void 0!==w?w:ve),y)}V.block$data(ve,function we(){if(!1===Z.errors)u(),Z.modifying&&M(V),h(()=>V.error());else{const y=Z.async?function De(){const y=te.let("ruleErrs",null);return te.try(()=>u(m._`await `),w=>te.assign(ve,!1).if(m._`${w} instanceof ${ae.ValidationError}`,()=>te.assign(y,m._`${w}.errors`),()=>te.throw(w))),y}():function k(){const y=m._`${le}.errors`;return te.assign(y,null),u(m.nil),y}();Z.modifying&&M(V),h(()=>function N(V,Z){const{gen:re}=V;re.if(m._`Array.isArray(${Z})`,()=>{re.assign(x.default.vErrors,m._`${x.default.vErrors} === null ? ${Z} : ${x.default.vErrors}.concat(${Z})`).assign(x.default.errors,m._`${x.default.vErrors}.length`),(0,W.extendErrors)(V)},()=>V.error())}(V,y))}}),V.ok(null!==(re=Z.valid)&&void 0!==re?re:ve)},z.validSchemaType=function I(V,Z,re=!1){return!Z.length||Z.some(te=>"array"===te?Array.isArray(V):"object"===te?V&&"object"==typeof V&&!Array.isArray(V):typeof V==te||re&&typeof V>"u")},z.validateKeywordUsage=function X({schema:V,opts:Z,self:re,errSchemaPath:te},Q,J){if(Array.isArray(Q.keyword)?!Q.keyword.includes(J):Q.keyword!==J)throw new Error("ajv implementation error");const oe=Q.dependencies;if(oe?.some(se=>!Object.prototype.hasOwnProperty.call(V,se)))throw new Error(`parent schema must have dependencies of ${J}: ${oe.join(",")}`);if(Q.validateSchema&&!Q.validateSchema(V[J])){const ae=`keyword "${J}" value is invalid at path "${te}": `+re.errorsText(Q.validateSchema.errors);if("log"!==Z.validateSchema)throw new Error(ae);re.logger.error(ae)}}},16334:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.extendSubschemaMode=z.extendSubschemaData=z.getSubschema=void 0;const m=E(1038),x=E(27006);z.getSubschema=function R(L,{keyword:M,schemaProp:N,schema:$,schemaPath:F,errSchemaPath:I,topSchemaRef:X}){if(void 0!==M&&void 0!==$)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==M){const V=L.schema[M];return void 0===N?{schema:V,schemaPath:m._`${L.schemaPath}${(0,m.getProperty)(M)}`,errSchemaPath:`${L.errSchemaPath}/${M}`}:{schema:V[N],schemaPath:m._`${L.schemaPath}${(0,m.getProperty)(M)}${(0,m.getProperty)(N)}`,errSchemaPath:`${L.errSchemaPath}/${M}/${(0,x.escapeFragment)(N)}`}}if(void 0!==$){if(void 0===F||void 0===I||void 0===X)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:$,schemaPath:F,topSchemaRef:X,errSchemaPath:I}}throw new Error('either "keyword" or "schema" must be passed')},z.extendSubschemaData=function W(L,M,{dataProp:N,dataPropType:$,data:F,dataTypes:I,propertyName:X}){if(void 0!==F&&void 0!==N)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:V}=M;if(void 0!==N){const{errorPath:re,dataPathArr:te,opts:Q}=M;Z(V.let("data",m._`${M.data}${(0,m.getProperty)(N)}`,!0)),L.errorPath=m.str`${re}${(0,x.getErrorPath)(N,$,Q.jsPropertySyntax)}`,L.parentDataProperty=m._`${N}`,L.dataPathArr=[...te,L.parentDataProperty]}function Z(re){L.data=re,L.dataLevel=M.dataLevel+1,L.dataTypes=[],M.definedProperties=new Set,L.parentData=M.data,L.dataNames=[...M.dataNames,re]}void 0!==F&&(Z(F instanceof m.Name?F:V.let("data",F,!0)),void 0!==X&&(L.propertyName=X)),I&&(L.dataTypes=I)},z.extendSubschemaMode=function S(L,{jtdDiscriminator:M,jtdMetadata:N,compositeRule:$,createErrors:F,allErrors:I}){void 0!==$&&(L.compositeRule=$),void 0!==F&&(L.createErrors=F),void 0!==I&&(L.allErrors=I),L.jtdDiscriminator=M,L.jtdMetadata=N}},35419:(Le,z,E)=>{"use strict";var m=E(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.CodeGen=z.Name=z.nil=z.stringify=z.str=z._=z.KeywordCxt=void 0;var x=E(40339);Object.defineProperty(z,"KeywordCxt",{enumerable:!0,get:function(){return x.KeywordCxt}});var R=E(1038);Object.defineProperty(z,"_",{enumerable:!0,get:function(){return R._}}),Object.defineProperty(z,"str",{enumerable:!0,get:function(){return R.str}}),Object.defineProperty(z,"stringify",{enumerable:!0,get:function(){return R.stringify}}),Object.defineProperty(z,"nil",{enumerable:!0,get:function(){return R.nil}}),Object.defineProperty(z,"Name",{enumerable:!0,get:function(){return R.Name}}),Object.defineProperty(z,"CodeGen",{enumerable:!0,get:function(){return R.CodeGen}});const W=E(42467),S=E(26288),L=E(32203),M=E(97692),N=E(1038),$=E(77172),F=E(55999),I=E(27006),X=E(83813),V=E(13203),Z=(g,G)=>new RegExp(g,G);Z.code="new RegExp";const re=["removeAdditional","useDefaults","coerceTypes"],te=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),Q={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},J={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function se(g){var G,H,ne,ce,Ae,ke,Fe,Ee,ge,Oe,ye,Se,he,fe,ee,ie,ue,be,Ie,Ne,Be,yt,Ke,Re,ot;const U=g.strict,_=null===(G=g.code)||void 0===G?void 0:G.optimize,p=!0===_||void 0===_?1:_||0,O=null!==(ne=null===(H=g.code)||void 0===H?void 0:H.regExp)&&void 0!==ne?ne:Z,q=null!==(ce=g.uriResolver)&&void 0!==ce?ce:V.default;return{strictSchema:null===(ke=null!==(Ae=g.strictSchema)&&void 0!==Ae?Ae:U)||void 0===ke||ke,strictNumbers:null===(Ee=null!==(Fe=g.strictNumbers)&&void 0!==Fe?Fe:U)||void 0===Ee||Ee,strictTypes:null!==(Oe=null!==(ge=g.strictTypes)&&void 0!==ge?ge:U)&&void 0!==Oe?Oe:"log",strictTuples:null!==(Se=null!==(ye=g.strictTuples)&&void 0!==ye?ye:U)&&void 0!==Se?Se:"log",strictRequired:null!==(fe=null!==(he=g.strictRequired)&&void 0!==he?he:U)&&void 0!==fe&&fe,code:g.code?{...g.code,optimize:p,regExp:O}:{optimize:p,regExp:O},loopRequired:null!==(ee=g.loopRequired)&&void 0!==ee?ee:200,loopEnum:null!==(ie=g.loopEnum)&&void 0!==ie?ie:200,meta:null===(ue=g.meta)||void 0===ue||ue,messages:null===(be=g.messages)||void 0===be||be,inlineRefs:null===(Ie=g.inlineRefs)||void 0===Ie||Ie,schemaId:null!==(Ne=g.schemaId)&&void 0!==Ne?Ne:"$id",addUsedSchema:null===(Be=g.addUsedSchema)||void 0===Be||Be,validateSchema:null===(yt=g.validateSchema)||void 0===yt||yt,validateFormats:null===(Ke=g.validateFormats)||void 0===Ke||Ke,unicodeRegExp:null===(Re=g.unicodeRegExp)||void 0===Re||Re,int32range:null===(ot=g.int32range)||void 0===ot||ot,uriResolver:q}}class ae{constructor(G={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,G=this.opts={...G,...se(G)};const{es5:H,lines:ne}=this.opts.code;this.scope=new N.ValueScope({scope:{},prefixes:te,es5:H,lines:ne}),this.logger=function h(g){if(!1===g)return u;if(void 0===g)return console;if(g.log&&g.warn&&g.error)return g;throw new Error("logger must implement log, warn and error methods")}(G.logger);const ce=G.validateFormats;G.validateFormats=!1,this.RULES=(0,L.getRules)(),pe.call(this,Q,G,"NOT SUPPORTED"),pe.call(this,J,G,"DEPRECATED","warn"),this._metaOpts=k.call(this),G.formats&&we.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),G.keywords&&De.call(this,G.keywords),"object"==typeof G.meta&&this.addMetaSchema(G.meta),ve.call(this),G.validateFormats=ce}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:G,meta:H,schemaId:ne}=this.opts;let ce=X;"id"===ne&&(ce={...X},ce.id=ce.$id,delete ce.$id),H&&G&&this.addMetaSchema(ce,ce[ne],!1)}defaultMeta(){const{meta:G,schemaId:H}=this.opts;return this.opts.defaultMeta="object"==typeof G?G[H]||G:void 0}validate(G,H){let ne;if("string"==typeof G){if(ne=this.getSchema(G),!ne)throw new Error(`no schema with key or ref "${G}"`)}else ne=this.compile(G);const ce=ne(H);return"$async"in ne||(this.errors=ne.errors),ce}compile(G,H){const ne=this._addSchema(G,H);return ne.validate||this._compileSchemaEnv(ne)}compileAsync(G,H){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:ne}=this.opts;return ce.call(this,G,H);function ce(ee,ie){return Ae.apply(this,arguments)}function Ae(){return(Ae=m(function*(ee,ie){yield ke.call(this,ee.$schema);const ue=this._addSchema(ee,ie);return ue.validate||Ee.call(this,ue)})).apply(this,arguments)}function ke(ee){return Fe.apply(this,arguments)}function Fe(){return(Fe=m(function*(ee){ee&&!this.getSchema(ee)&&(yield ce.call(this,{$ref:ee},!0))})).apply(this,arguments)}function Ee(ee){return ge.apply(this,arguments)}function ge(){return(ge=m(function*(ee){try{return this._compileSchemaEnv(ee)}catch(ie){if(!(ie instanceof S.default))throw ie;return Oe.call(this,ie),yield ye.call(this,ie.missingSchema),Ee.call(this,ee)}})).apply(this,arguments)}function Oe({missingSchema:ee,missingRef:ie}){if(this.refs[ee])throw new Error(`AnySchema ${ee} is loaded but ${ie} cannot be resolved`)}function ye(ee){return Se.apply(this,arguments)}function Se(){return(Se=m(function*(ee){const ie=yield he.call(this,ee);this.refs[ee]||(yield ke.call(this,ie.$schema)),this.refs[ee]||this.addSchema(ie,ee,H)})).apply(this,arguments)}function he(ee){return fe.apply(this,arguments)}function fe(){return(fe=m(function*(ee){const ie=this._loading[ee];if(ie)return ie;try{return yield this._loading[ee]=ne(ee)}finally{delete this._loading[ee]}})).apply(this,arguments)}}addSchema(G,H,ne,ce=this.opts.validateSchema){if(Array.isArray(G)){for(const ke of G)this.addSchema(ke,void 0,ne,ce);return this}let Ae;if("object"==typeof G){const{schemaId:ke}=this.opts;if(Ae=G[ke],void 0!==Ae&&"string"!=typeof Ae)throw new Error(`schema ${ke} must be string`)}return H=(0,$.normalizeId)(H||Ae),this._checkUnique(H),this.schemas[H]=this._addSchema(G,ne,H,ce,!0),this}addMetaSchema(G,H,ne=this.opts.validateSchema){return this.addSchema(G,H,!0,ne),this}validateSchema(G,H){if("boolean"==typeof G)return!0;let ne;if(ne=G.$schema,void 0!==ne&&"string"!=typeof ne)throw new Error("$schema must be a string");if(ne=ne||this.opts.defaultMeta||this.defaultMeta(),!ne)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const ce=this.validate(ne,G);if(!ce&&H){const Ae="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(Ae);this.logger.error(Ae)}return ce}getSchema(G){let H;for(;"string"==typeof(H=le.call(this,G));)G=H;if(void 0===H){const{schemaId:ne}=this.opts,ce=new M.SchemaEnv({schema:{},schemaId:ne});if(H=M.resolveSchema.call(this,ce,G),!H)return;this.refs[G]=H}return H.validate||this._compileSchemaEnv(H)}removeSchema(G){if(G instanceof RegExp)return this._removeAllSchemas(this.schemas,G),this._removeAllSchemas(this.refs,G),this;switch(typeof G){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const H=le.call(this,G);return"object"==typeof H&&this._cache.delete(H.schema),delete this.schemas[G],delete this.refs[G],this}case"object":{this._cache.delete(G);let ne=G[this.opts.schemaId];return ne&&(ne=(0,$.normalizeId)(ne),delete this.schemas[ne],delete this.refs[ne]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(G){for(const H of G)this.addKeyword(H);return this}addKeyword(G,H){let ne;if("string"==typeof G)ne=G,"object"==typeof H&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),H.keyword=ne);else{if("object"!=typeof G||void 0!==H)throw new Error("invalid addKeywords parameters");if(ne=(H=G).keyword,Array.isArray(ne)&&!ne.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(w.call(this,ne,H),!H)return(0,I.eachItem)(ne,Ae=>T.call(this,Ae)),this;j.call(this,H);const ce={...H,type:(0,F.getJSONTypes)(H.type),schemaType:(0,F.getJSONTypes)(H.schemaType)};return(0,I.eachItem)(ne,0===ce.type.length?Ae=>T.call(this,Ae,ce):Ae=>ce.type.forEach(ke=>T.call(this,Ae,ce,ke))),this}getKeyword(G){const H=this.RULES.all[G];return"object"==typeof H?H.definition:!!H}removeKeyword(G){const{RULES:H}=this;delete H.keywords[G],delete H.all[G];for(const ne of H.rules){const ce=ne.rules.findIndex(Ae=>Ae.keyword===G);ce>=0&&ne.rules.splice(ce,1)}return this}addFormat(G,H){return"string"==typeof H&&(H=new RegExp(H)),this.formats[G]=H,this}errorsText(G=this.errors,{separator:H=", ",dataVar:ne="data"}={}){return G&&0!==G.length?G.map(ce=>`${ne}${ce.instancePath} ${ce.message}`).reduce((ce,Ae)=>ce+H+Ae):"No errors"}$dataMetaSchema(G,H){const ne=this.RULES.all;G=JSON.parse(JSON.stringify(G));for(const ce of H){const Ae=ce.split("/").slice(1);let ke=G;for(const Fe of Ae)ke=ke[Fe];for(const Fe in ne){const Ee=ne[Fe];if("object"!=typeof Ee)continue;const{$data:ge}=Ee.definition,Oe=ke[Fe];ge&&Oe&&(ke[Fe]=l(Oe))}}return G}_removeAllSchemas(G,H){for(const ne in G){const ce=G[ne];(!H||H.test(ne))&&("string"==typeof ce?delete G[ne]:ce&&!ce.meta&&(this._cache.delete(ce.schema),delete G[ne]))}}_addSchema(G,H,ne,ce=this.opts.validateSchema,Ae=this.opts.addUsedSchema){let ke;const{schemaId:Fe}=this.opts;if("object"==typeof G)ke=G[Fe];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof G)throw new Error("schema must be object or boolean")}let Ee=this._cache.get(G);if(void 0!==Ee)return Ee;ne=(0,$.normalizeId)(ke||ne);const ge=$.getSchemaRefs.call(this,G,ne);return Ee=new M.SchemaEnv({schema:G,schemaId:Fe,meta:H,baseId:ne,localRefs:ge}),this._cache.set(Ee.schema,Ee),Ae&&!ne.startsWith("#")&&(ne&&this._checkUnique(ne),this.refs[ne]=Ee),ce&&this.validateSchema(G,!0),Ee}_checkUnique(G){if(this.schemas[G]||this.refs[G])throw new Error(`schema with key or id "${G}" already exists`)}_compileSchemaEnv(G){if(G.meta?this._compileMetaSchema(G):M.compileSchema.call(this,G),!G.validate)throw new Error("ajv implementation error");return G.validate}_compileMetaSchema(G){const H=this.opts;this.opts=this._metaOpts;try{M.compileSchema.call(this,G)}finally{this.opts=H}}}function pe(g,G,H,ne="error"){for(const ce in g)ce in G&&this.logger[ne](`${H}: option ${ce}. ${g[ce]}`)}function le(g){return g=(0,$.normalizeId)(g),this.schemas[g]||this.refs[g]}function ve(){const g=this.opts.schemas;if(g)if(Array.isArray(g))this.addSchema(g);else for(const G in g)this.addSchema(g[G],G)}function we(){for(const g in this.opts.formats){const G=this.opts.formats[g];G&&this.addFormat(g,G)}}function De(g){if(Array.isArray(g))this.addVocabulary(g);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const G in g){const H=g[G];H.keyword||(H.keyword=G),this.addKeyword(H)}}}function k(){const g={...this.opts};for(const G of re)delete g[G];return g}z.default=ae,ae.ValidationError=W.default,ae.MissingRefError=S.default;const u={log(){},warn(){},error(){}},y=/^[a-z_$][a-z0-9_$:-]*$/i;function w(g,G){const{RULES:H}=this;if((0,I.eachItem)(g,ne=>{if(H.keywords[ne])throw new Error(`Keyword ${ne} is already defined`);if(!y.test(ne))throw new Error(`Keyword ${ne} has invalid name`)}),G&&G.$data&&!("code"in G)&&!("validate"in G))throw new Error('$data keyword must have "code" or "validate" function')}function T(g,G,H){var ne;const ce=G?.post;if(H&&ce)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:Ae}=this;let ke=ce?Ae.post:Ae.rules.find(({type:Ee})=>Ee===H);if(ke||(ke={type:H,rules:[]},Ae.rules.push(ke)),Ae.keywords[g]=!0,!G)return;const Fe={keyword:g,definition:{...G,type:(0,F.getJSONTypes)(G.type),schemaType:(0,F.getJSONTypes)(G.schemaType)}};G.before?D.call(this,ke,Fe,G.before):ke.rules.push(Fe),Ae.all[g]=Fe,null===(ne=G.implements)||void 0===ne||ne.forEach(Ee=>this.addKeyword(Ee))}function D(g,G,H){const ne=g.rules.findIndex(ce=>ce.keyword===H);ne>=0?g.rules.splice(ne,0,G):(g.rules.push(G),this.logger.warn(`rule ${H} is not defined`))}function j(g){let{metaSchema:G}=g;void 0!==G&&(g.$data&&this.opts.$data&&(G=l(G)),g.validateSchema=this.compile(G,!0))}const A={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function l(g){return{anyOf:[g,A]}}},87577:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(6438),x=E(59608),R=E(8307),W=E(11082),S=E(93406),L=E(14516),M=E(3059),N=E(18738),$=["/properties"];z.default=function F(I){return[m,x,R,W,S,X(this,L),M,X(this,N)].forEach(V=>this.addMetaSchema(V,void 0,!1)),this;function X(V,Z){return I?V.$dataMetaSchema(Z,$):Z}}},92281:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(40362);m.code='require("ajv/dist/runtime/equal").default',z.default=m},26488:(Le,z)=>{"use strict";function E(m){const x=m.length;let S,R=0,W=0;for(;W<x;)R++,S=m.charCodeAt(W++),S>=55296&&S<=56319&&W<x&&(S=m.charCodeAt(W),56320==(64512&S)&&W++);return R}Object.defineProperty(z,"__esModule",{value:!0}),z.default=E,E.code='require("ajv/dist/runtime/ucs2length").default'},13203:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(95568);m.code='require("ajv/dist/runtime/uri").default',z.default=m},42467:(Le,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});class E extends Error{constructor(x){super("validation failed"),this.errors=x,this.ajv=this.validation=!0}}z.default=E},46934:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateAdditionalItems=void 0;const m=E(1038),x=E(27006),W={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:L}})=>m.str`must NOT have more than ${L} items`,params:({params:{len:L}})=>m._`{limit: ${L}}`},code(L){const{parentSchema:M,it:N}=L,{items:$}=M;Array.isArray($)?S(L,$):(0,x.checkStrictMode)(N,'"additionalItems" is ignored when "items" is not an array of schemas')}};function S(L,M){const{gen:N,schema:$,data:F,keyword:I,it:X}=L;X.items=!0;const V=N.const("len",m._`${F}.length`);if(!1===$)L.setParams({len:M.length}),L.pass(m._`${V} <= ${M.length}`);else if("object"==typeof $&&!(0,x.alwaysValidSchema)(X,$)){const re=N.var("valid",m._`${V} <= ${M.length}`);N.if((0,m.not)(re),()=>function Z(re){N.forRange("i",M.length,V,te=>{L.subschema({keyword:I,dataProp:te,dataPropType:x.Type.Num},re),X.allErrors||N.if((0,m.not)(re),()=>N.break())})}(re)),L.ok(re)}}z.validateAdditionalItems=S,z.default=W},18445:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(42406),x=E(1038),R=E(23432),W=E(27006);z.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:M})=>x._`{additionalProperty: ${M.additionalProperty}}`},code(M){const{gen:N,schema:$,parentSchema:F,data:I,errsCount:X,it:V}=M;if(!X)throw new Error("ajv implementation error");const{allErrors:Z,opts:re}=V;if(V.props=!0,"all"!==re.removeAdditional&&(0,W.alwaysValidSchema)(V,$))return;const te=(0,m.allSchemaProperties)(F.properties),Q=(0,m.allSchemaProperties)(F.patternProperties);function se(le){N.code(x._`delete ${I}[${le}]`)}function ae(le){if("all"===re.removeAdditional||re.removeAdditional&&!1===$)se(le);else{if(!1===$)return M.setParams({additionalProperty:le}),M.error(),void(Z||N.break());if("object"==typeof $&&!(0,W.alwaysValidSchema)(V,$)){const ve=N.name("valid");"failing"===re.removeAdditional?(pe(le,ve,!1),N.if((0,x.not)(ve),()=>{M.reset(),se(le)})):(pe(le,ve),Z||N.if((0,x.not)(ve),()=>N.break()))}}}function pe(le,ve,we){const De={keyword:"additionalProperties",dataProp:le,dataPropType:W.Type.Str};!1===we&&Object.assign(De,{compositeRule:!0,createErrors:!1,allErrors:!1}),M.subschema(De,ve)}(function J(){N.forIn("key",I,le=>{te.length||Q.length?N.if(function oe(le){let ve;if(te.length>8){const we=(0,W.schemaRefOrVal)(V,F.properties,"properties");ve=(0,m.isOwnProperty)(N,we,le)}else ve=te.length?(0,x.or)(...te.map(we=>x._`${le} === ${we}`)):x.nil;return Q.length&&(ve=(0,x.or)(ve,...Q.map(we=>x._`${(0,m.usePattern)(M,we)}.test(${le})`))),(0,x.not)(ve)}(le),()=>ae(le)):ae(le)})})(),M.ok(x._`${X} === ${R.default.errors}`)}}},77783:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(27006);z.default={keyword:"allOf",schemaType:"array",code(R){const{gen:W,schema:S,it:L}=R;if(!Array.isArray(S))throw new Error("ajv implementation error");const M=W.name("valid");S.forEach((N,$)=>{if((0,m.alwaysValidSchema)(L,N))return;const F=R.subschema({keyword:"allOf",schemaProp:$},M);R.ok(M),R.mergeEvaluated(F)})}}},60922:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const x={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:E(42406).validateUnion,error:{message:"must match a schema in anyOf"}};z.default=x},57568:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=E(27006);z.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:S,max:L}})=>void 0===L?m.str`must contain at least ${S} valid item(s)`:m.str`must contain at least ${S} and no more than ${L} valid item(s)`,params:({params:{min:S,max:L}})=>void 0===L?m._`{minContains: ${S}}`:m._`{minContains: ${S}, maxContains: ${L}}`},code(S){const{gen:L,schema:M,parentSchema:N,data:$,it:F}=S;let I,X;const{minContains:V,maxContains:Z}=N;F.opts.next?(I=void 0===V?1:V,X=Z):I=1;const re=L.const("len",m._`${$}.length`);if(S.setParams({min:I,max:X}),void 0===X&&0===I)return void(0,x.checkStrictMode)(F,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==X&&I>X)return(0,x.checkStrictMode)(F,'"minContains" > "maxContains" is always invalid'),void S.fail();if((0,x.alwaysValidSchema)(F,M)){let se=m._`${re} >= ${I}`;return void 0!==X&&(se=m._`${se} && ${re} <= ${X}`),void S.pass(se)}F.items=!0;const te=L.name("valid");function Q(){const se=L.name("_valid"),ae=L.let("count",0);J(se,()=>L.if(se,()=>function oe(se){L.code(m._`${se}++`),void 0===X?L.if(m._`${se} >= ${I}`,()=>L.assign(te,!0).break()):(L.if(m._`${se} > ${X}`,()=>L.assign(te,!1).break()),1===I?L.assign(te,!0):L.if(m._`${se} >= ${I}`,()=>L.assign(te,!0)))}(ae)))}function J(se,ae){L.forRange("i",0,re,pe=>{S.subschema({keyword:"contains",dataProp:pe,dataPropType:x.Type.Num,compositeRule:!0},se),ae()})}void 0===X&&1===I?J(te,()=>L.if(te,()=>L.break())):0===I?(L.let(te,!0),void 0!==X&&L.if(m._`${$}.length > 0`,Q)):(L.let(te,!1),Q()),S.result(te,()=>S.reset())}}},68032:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateSchemaDeps=z.validatePropertyDeps=z.error=void 0;const m=E(1038),x=E(27006),R=E(42406);z.error={message:({params:{property:N,depsCount:$,deps:F}})=>m.str`must have ${1===$?"property":"properties"} ${F} when property ${N} is present`,params:({params:{property:N,depsCount:$,deps:F,missingProperty:I}})=>m._`{property: ${N},
    missingProperty: ${I},
    depsCount: ${$},
    deps: ${F}}`};const W={keyword:"dependencies",type:"object",schemaType:"object",error:z.error,code(N){const[$,F]=function S({schema:N}){const $={},F={};for(const I in N)"__proto__"!==I&&((Array.isArray(N[I])?$:F)[I]=N[I]);return[$,F]}(N);L(N,$),M(N,F)}};function L(N,$=N.schema){const{gen:F,data:I,it:X}=N;if(0===Object.keys($).length)return;const V=F.let("missing");for(const Z in $){const re=$[Z];if(0===re.length)continue;const te=(0,R.propertyInData)(F,I,Z,X.opts.ownProperties);N.setParams({property:Z,depsCount:re.length,deps:re.join(", ")}),X.allErrors?F.if(te,()=>{for(const Q of re)(0,R.checkReportMissingProp)(N,Q)}):(F.if(m._`${te} && (${(0,R.checkMissingProp)(N,re,V)})`),(0,R.reportMissingProp)(N,V),F.else())}}function M(N,$=N.schema){const{gen:F,data:I,keyword:X,it:V}=N,Z=F.name("valid");for(const re in $)(0,x.alwaysValidSchema)(V,$[re])||(F.if((0,R.propertyInData)(F,I,re,V.opts.ownProperties),()=>{const te=N.subschema({keyword:X,schemaProp:re},Z);N.mergeValidEvaluated(te,Z)},()=>F.var(Z,!0)),N.ok(Z))}z.validatePropertyDeps=L,z.validateSchemaDeps=M,z.default=W},85164:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(68032);z.default={keyword:"dependentSchemas",type:"object",schemaType:"object",code:R=>(0,m.validateSchemaDeps)(R)}},45226:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=E(27006);function S(L,M){const N=L.schema[M];return void 0!==N&&!(0,x.alwaysValidSchema)(L,N)}z.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:L})=>m.str`must match "${L.ifClause}" schema`,params:({params:L})=>m._`{failingKeyword: ${L.ifClause}}`},code(L){const{gen:M,parentSchema:N,it:$}=L;void 0===N.then&&void 0===N.else&&(0,x.checkStrictMode)($,'"if" without "then" and "else" is ignored');const F=S($,"then"),I=S($,"else");if(!F&&!I)return;const X=M.let("valid",!0),V=M.name("_valid");if(function Z(){const te=L.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},V);L.mergeEvaluated(te)}(),L.reset(),F&&I){const te=M.let("ifClause");L.setParams({ifClause:te}),M.if(V,re("then",te),re("else",te))}else F?M.if(V,re("then")):M.if((0,m.not)(V),re("else"));function re(te,Q){return()=>{const J=L.subschema({keyword:te},V);M.assign(X,V),L.mergeValidEvaluated(J,X),Q?M.assign(Q,m._`${te}`):L.setParams({ifClause:te})}}L.pass(X,()=>L.error(!0))}}},68261:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(46934),x=E(96537),R=E(2941),W=E(5261),S=E(57568),L=E(68032),M=E(36474),N=E(18445),$=E(34032),F=E(17330),I=E(3408),X=E(60922),V=E(88388),Z=E(77783),re=E(45226),te=E(98779);z.default=function Q(J=!1){const oe=[I.default,X.default,V.default,Z.default,re.default,te.default,M.default,N.default,L.default,$.default,F.default];return J?oe.push(x.default,W.default):oe.push(m.default,R.default),oe.push(S.default),oe}},2941:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateTuple=void 0;const m=E(1038),x=E(27006),R=E(42406),W={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(L){const{schema:M,it:N}=L;if(Array.isArray(M))return S(L,"additionalItems",M);N.items=!0,!(0,x.alwaysValidSchema)(N,M)&&L.ok((0,R.validateArray)(L))}};function S(L,M,N=L.schema){const{gen:$,parentSchema:F,data:I,keyword:X,it:V}=L;(function te(Q){const{opts:J,errSchemaPath:oe}=V,se=N.length;J.strictTuples&&!(se===Q.minItems&&(se===Q.maxItems||!1===Q[M]))&&(0,x.checkStrictMode)(V,`"${X}" is ${se}-tuple, but minItems or maxItems/${M} are not specified or different at path "${oe}"`,J.strictTuples)})(F),V.opts.unevaluated&&N.length&&!0!==V.items&&(V.items=x.mergeEvaluated.items($,N.length,V.items));const Z=$.name("valid"),re=$.const("len",m._`${I}.length`);N.forEach((Q,J)=>{(0,x.alwaysValidSchema)(V,Q)||($.if(m._`${re} > ${J}`,()=>L.subschema({keyword:X,schemaProp:J,dataProp:J},Z)),L.ok(Z))})}z.validateTuple=S,z.default=W},5261:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=E(27006),R=E(42406),W=E(46934);z.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:M}})=>m.str`must NOT have more than ${M} items`,params:({params:{len:M}})=>m._`{limit: ${M}}`},code(M){const{schema:N,parentSchema:$,it:F}=M,{prefixItems:I}=$;F.items=!0,!(0,x.alwaysValidSchema)(F,N)&&(I?(0,W.validateAdditionalItems)(M,I):M.ok((0,R.validateArray)(M)))}}},3408:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(27006);z.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(R){const{gen:W,schema:S,it:L}=R;if((0,m.alwaysValidSchema)(L,S))return void R.fail();const M=W.name("valid");R.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},M),R.failResult(M,()=>R.reset(),()=>R.error())},error:{message:"must NOT be valid"}}},88388:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=E(27006);z.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:S})=>m._`{passingSchemas: ${S.passing}}`},code(S){const{gen:L,schema:M,parentSchema:N,it:$}=S;if(!Array.isArray(M))throw new Error("ajv implementation error");if($.opts.discriminator&&N.discriminator)return;const F=M,I=L.let("valid",!1),X=L.let("passing",null),V=L.name("_valid");S.setParams({passing:X}),L.block(function Z(){F.forEach((re,te)=>{let Q;(0,x.alwaysValidSchema)($,re)?L.var(V,!0):Q=S.subschema({keyword:"oneOf",schemaProp:te,compositeRule:!0},V),te>0&&L.if(m._`${V} && ${I}`).assign(I,!1).assign(X,m._`[${X}, ${te}]`).else(),L.if(V,()=>{L.assign(I,!0),L.assign(X,te),Q&&S.mergeEvaluated(Q,m.Name)})})}),S.result(I,()=>S.reset(),()=>S.error(!0))}}},17330:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(42406),x=E(1038),R=E(27006),W=E(27006);z.default={keyword:"patternProperties",type:"object",schemaType:"object",code(L){const{gen:M,schema:N,data:$,parentSchema:F,it:I}=L,{opts:X}=I,V=(0,m.allSchemaProperties)(N),Z=V.filter(ae=>(0,R.alwaysValidSchema)(I,N[ae]));if(0===V.length||Z.length===V.length&&(!I.opts.unevaluated||!0===I.props))return;const re=X.strictSchema&&!X.allowMatchingProperties&&F.properties,te=M.name("valid");!0!==I.props&&!(I.props instanceof x.Name)&&(I.props=(0,W.evaluatedPropsToName)(M,I.props));const{props:Q}=I;function oe(ae){for(const pe in re)new RegExp(ae).test(pe)&&(0,R.checkStrictMode)(I,`property ${pe} matches pattern ${ae} (use allowMatchingProperties)`)}function se(ae){M.forIn("key",$,pe=>{M.if(x._`${(0,m.usePattern)(L,ae)}.test(${pe})`,()=>{const le=Z.includes(ae);le||L.subschema({keyword:"patternProperties",schemaProp:ae,dataProp:pe,dataPropType:W.Type.Str},te),I.opts.unevaluated&&!0!==Q?M.assign(x._`${Q}[${pe}]`,!0):!le&&!I.allErrors&&M.if((0,x.not)(te),()=>M.break())})})}!function J(){for(const ae of V)re&&oe(ae),I.allErrors?se(ae):(M.var(te,!0),se(ae),M.if(te))}()}}},96537:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(2941);z.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:R=>(0,m.validateTuple)(R,"items")}},34032:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(40339),x=E(42406),R=E(27006),W=E(18445);z.default={keyword:"properties",type:"object",schemaType:"object",code(L){const{gen:M,schema:N,parentSchema:$,data:F,it:I}=L;"all"===I.opts.removeAdditional&&void 0===$.additionalProperties&&W.default.code(new m.KeywordCxt(I,W.default,"additionalProperties"));const X=(0,x.allSchemaProperties)(N);for(const Q of X)I.definedProperties.add(Q);I.opts.unevaluated&&X.length&&!0!==I.props&&(I.props=R.mergeEvaluated.props(M,(0,R.toHash)(X),I.props));const V=X.filter(Q=>!(0,R.alwaysValidSchema)(I,N[Q]));if(0===V.length)return;const Z=M.name("valid");for(const Q of V)re(Q)?te(Q):(M.if((0,x.propertyInData)(M,F,Q,I.opts.ownProperties)),te(Q),I.allErrors||M.else().var(Z,!0),M.endIf()),L.it.definedProperties.add(Q),L.ok(Z);function re(Q){return I.opts.useDefaults&&!I.compositeRule&&void 0!==N[Q].default}function te(Q){L.subschema({keyword:"properties",schemaProp:Q,dataProp:Q},Z)}}}},36474:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=E(27006);z.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:S})=>m._`{propertyName: ${S.propertyName}}`},code(S){const{gen:L,schema:M,data:N,it:$}=S;if((0,x.alwaysValidSchema)($,M))return;const F=L.name("valid");L.forIn("key",N,I=>{S.setParams({propertyName:I}),S.subschema({keyword:"propertyNames",data:I,dataTypes:["string"],propertyName:I,compositeRule:!0},F),L.if((0,m.not)(F),()=>{S.error(!0),$.allErrors||L.break()})}),S.ok(F)}}},98779:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(27006);z.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:R,parentSchema:W,it:S}){void 0===W.if&&(0,m.checkStrictMode)(S,`"${R}" without "if" is ignored`)}}},42406:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.validateUnion=z.validateArray=z.usePattern=z.callValidateCode=z.schemaProperties=z.allSchemaProperties=z.noPropertyInData=z.propertyInData=z.isOwnProperty=z.hasPropFunc=z.reportMissingProp=z.checkMissingProp=z.checkReportMissingProp=void 0;const m=E(1038),x=E(27006),R=E(23432),W=E(27006);function N(oe){return oe.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:m._`Object.prototype.hasOwnProperty`})}function $(oe,se,ae){return m._`${N(oe)}.call(${se}, ${ae})`}function I(oe,se,ae,pe){const le=m._`${se}${(0,m.getProperty)(ae)} === undefined`;return pe?(0,m.or)(le,(0,m.not)($(oe,se,ae))):le}function X(oe){return oe?Object.keys(oe).filter(se=>"__proto__"!==se):[]}z.checkReportMissingProp=function S(oe,se){const{gen:ae,data:pe,it:le}=oe;ae.if(I(ae,pe,se,le.opts.ownProperties),()=>{oe.setParams({missingProperty:m._`${se}`},!0),oe.error()})},z.checkMissingProp=function L({gen:oe,data:se,it:{opts:ae}},pe,le){return(0,m.or)(...pe.map(ve=>(0,m.and)(I(oe,se,ve,ae.ownProperties),m._`${le} = ${ve}`)))},z.reportMissingProp=function M(oe,se){oe.setParams({missingProperty:se},!0),oe.error()},z.hasPropFunc=N,z.isOwnProperty=$,z.propertyInData=function F(oe,se,ae,pe){const le=m._`${se}${(0,m.getProperty)(ae)} !== undefined`;return pe?m._`${le} && ${$(oe,se,ae)}`:le},z.noPropertyInData=I,z.allSchemaProperties=X,z.schemaProperties=function V(oe,se){return X(se).filter(ae=>!(0,x.alwaysValidSchema)(oe,se[ae]))},z.callValidateCode=function Z({schemaCode:oe,data:se,it:{gen:ae,topSchemaRef:pe,schemaPath:le,errorPath:ve},it:we},De,k,u){const h=u?m._`${oe}, ${se}, ${pe}${le}`:se,y=[[R.default.instancePath,(0,m.strConcat)(R.default.instancePath,ve)],[R.default.parentData,we.parentData],[R.default.parentDataProperty,we.parentDataProperty],[R.default.rootData,R.default.rootData]];we.opts.dynamicRef&&y.push([R.default.dynamicAnchors,R.default.dynamicAnchors]);const w=m._`${h}, ${ae.object(...y)}`;return k!==m.nil?m._`${De}.call(${k}, ${w})`:m._`${De}(${w})`};const re=m._`new RegExp`;z.usePattern=function te({gen:oe,it:{opts:se}},ae){const pe=se.unicodeRegExp?"u":"",{regExp:le}=se.code,ve=le(ae,pe);return oe.scopeValue("pattern",{key:ve.toString(),ref:ve,code:m._`${"new RegExp"===le.code?re:(0,W.useFunc)(oe,le)}(${ae}, ${pe})`})},z.validateArray=function Q(oe){const{gen:se,data:ae,keyword:pe,it:le}=oe,ve=se.name("valid");if(le.allErrors){const De=se.let("valid",!0);return we(()=>se.assign(De,!1)),De}return se.var(ve,!0),we(()=>se.break()),ve;function we(De){const k=se.const("len",m._`${ae}.length`);se.forRange("i",0,k,u=>{oe.subschema({keyword:pe,dataProp:u,dataPropType:x.Type.Num},ve),se.if((0,m.not)(ve),De)})}},z.validateUnion=function J(oe){const{gen:se,schema:ae,keyword:pe,it:le}=oe;if(!Array.isArray(ae))throw new Error("ajv implementation error");if(ae.some(k=>(0,x.alwaysValidSchema)(le,k))&&!le.opts.unevaluated)return;const we=se.let("valid",!1),De=se.name("_valid");se.block(()=>ae.forEach((k,u)=>{const h=oe.subschema({keyword:pe,schemaProp:u,compositeRule:!0},De);se.assign(we,m._`${we} || ${De}`),oe.mergeValidEvaluated(h,De)||se.if((0,m.not)(we))})),oe.result(we,()=>oe.reset(),()=>oe.error(!0))}},36846:(Le,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},11867:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(36846),x=E(84862);z.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",m.default,x.default]},84862:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.callRef=z.getValidate=void 0;const m=E(26288),x=E(42406),R=E(1038),W=E(23432),S=E(97692),L=E(27006),M={keyword:"$ref",schemaType:"string",code(F){const{gen:I,schema:X,it:V}=F,{baseId:Z,schemaEnv:re,validateName:te,opts:Q,self:J}=V,{root:oe}=re;if(("#"===X||"#/"===X)&&Z===oe.baseId)return function ae(){if(re===oe)return $(F,te,re,re.$async);const ve=I.scopeValue("root",{ref:oe});return $(F,R._`${ve}.validate`,oe,oe.$async)}();const se=S.resolveRef.call(J,oe,Z,X);if(void 0===se)throw new m.default(V.opts.uriResolver,Z,X);return se instanceof S.SchemaEnv?function pe(ve){const we=N(F,ve);$(F,we,ve,ve.$async)}(se):function le(ve){const we=I.scopeValue("schema",!0===Q.code.source?{ref:ve,code:(0,R.stringify)(ve)}:{ref:ve}),De=I.name("valid"),k=F.subschema({schema:ve,dataTypes:[],schemaPath:R.nil,topSchemaRef:we,errSchemaPath:X},De);F.mergeEvaluated(k),F.ok(De)}(se)}};function N(F,I){const{gen:X}=F;return I.validate?X.scopeValue("validate",{ref:I.validate}):R._`${X.scopeValue("wrapper",{ref:I})}.validate`}function $(F,I,X,V){const{gen:Z,it:re}=F,{allErrors:te,schemaEnv:Q,opts:J}=re,oe=J.passContext?W.default.this:R.nil;function pe(ve){const we=R._`${ve}.errors`;Z.assign(W.default.vErrors,R._`${W.default.vErrors} === null ? ${we} : ${W.default.vErrors}.concat(${we})`),Z.assign(W.default.errors,R._`${W.default.vErrors}.length`)}function le(ve){var we;if(!re.opts.unevaluated)return;const De=null===(we=X?.validate)||void 0===we?void 0:we.evaluated;if(!0!==re.props)if(De&&!De.dynamicProps)void 0!==De.props&&(re.props=L.mergeEvaluated.props(Z,De.props,re.props));else{const k=Z.var("props",R._`${ve}.evaluated.props`);re.props=L.mergeEvaluated.props(Z,k,re.props,R.Name)}if(!0!==re.items)if(De&&!De.dynamicItems)void 0!==De.items&&(re.items=L.mergeEvaluated.items(Z,De.items,re.items));else{const k=Z.var("items",R._`${ve}.evaluated.items`);re.items=L.mergeEvaluated.items(Z,k,re.items,R.Name)}}V?function se(){if(!Q.$async)throw new Error("async schema referenced by sync schema");const ve=Z.let("valid");Z.try(()=>{Z.code(R._`await ${(0,x.callValidateCode)(F,I,oe)}`),le(I),te||Z.assign(ve,!0)},we=>{Z.if(R._`!(${we} instanceof ${re.ValidationError})`,()=>Z.throw(we)),pe(we),te||Z.assign(ve,!1)}),F.ok(ve)}():function ae(){F.result((0,x.callValidateCode)(F,I,oe),()=>le(I),()=>pe(I))}()}z.getValidate=N,z.callRef=$,z.default=M},86980:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=E(22145),R=E(97692),W=E(27006);z.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:M,tagName:N}})=>M===x.DiscrError.Tag?`tag "${N}" must be string`:`value of tag "${N}" must be in oneOf`,params:({params:{discrError:M,tag:N,tagName:$}})=>m._`{error: ${M}, tag: ${$}, tagValue: ${N}}`},code(M){const{gen:N,data:$,schema:F,parentSchema:I,it:X}=M,{oneOf:V}=I;if(!X.opts.discriminator)throw new Error("discriminator: requires discriminator option");const Z=F.propertyName;if("string"!=typeof Z)throw new Error("discriminator: requires propertyName");if(F.mapping)throw new Error("discriminator: mapping is not supported");if(!V)throw new Error("discriminator: requires oneOf keyword");const re=N.let("valid",!1),te=N.const("tag",m._`${$}${(0,m.getProperty)(Z)}`);function J(se){const ae=N.name("valid"),pe=M.subschema({keyword:"oneOf",schemaProp:se},ae);return M.mergeEvaluated(pe,m.Name),ae}N.if(m._`typeof ${te} == "string"`,()=>function Q(){const se=function oe(){var se;const ae={},pe=ve(I);let le=!0;for(let k=0;k<V.length;k++){let u=V[k];u?.$ref&&!(0,W.schemaHasRulesButRef)(u,X.self.RULES)&&(u=R.resolveRef.call(X.self,X.schemaEnv.root,X.baseId,u?.$ref),u instanceof R.SchemaEnv&&(u=u.schema));const h=null===(se=u?.properties)||void 0===se?void 0:se[Z];if("object"!=typeof h)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${Z}"`);le=le&&(pe||ve(u)),we(h,k)}if(!le)throw new Error(`discriminator: "${Z}" must be required`);return ae;function ve({required:k}){return Array.isArray(k)&&k.includes(Z)}function we(k,u){if(k.const)De(k.const,u);else{if(!k.enum)throw new Error(`discriminator: "properties/${Z}" must have "const" or "enum"`);for(const h of k.enum)De(h,u)}}function De(k,u){if("string"!=typeof k||k in ae)throw new Error(`discriminator: "${Z}" values must be unique strings`);ae[k]=u}}();N.if(!1);for(const ae in se)N.elseIf(m._`${te} === ${ae}`),N.assign(re,J(se[ae]));N.else(),M.error(!1,{discrError:x.DiscrError.Mapping,tag:te,tagName:Z}),N.endIf()}(),()=>M.error(!1,{discrError:x.DiscrError.Tag,tag:te,tagName:Z})),M.ok(re)}}},22145:(Le,z)=>{"use strict";var m;Object.defineProperty(z,"__esModule",{value:!0}),z.DiscrError=void 0,(m=z.DiscrError||(z.DiscrError={})).Tag="tag",m.Mapping="mapping"},98496:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(11867),x=E(64023),R=E(68261),W=E(79745),S=E(54458),L=E(77616),M=E(23463),N=E(3462),$=[W.default,m.default,x.default,(0,R.default)(!0),M.default,N.metadataVocabulary,N.contentVocabulary,S.default,L.default];z.default=$},61281:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.dynamicAnchor=void 0;const m=E(1038),x=E(23432),R=E(97692),W=E(84862),S={keyword:"$dynamicAnchor",schemaType:"string",code:N=>L(N,N.schema)};function L(N,$){const{gen:F,it:I}=N;I.schemaEnv.root.dynamicAnchors[$]=!0;const X=m._`${x.default.dynamicAnchors}${(0,m.getProperty)($)}`,V="#"===I.errSchemaPath?I.validateName:function M(N){const{schemaEnv:$,schema:F,self:I}=N.it,{root:X,baseId:V,localRefs:Z,meta:re}=$.root,{schemaId:te}=I.opts,Q=new R.SchemaEnv({schema:F,schemaId:te,root:X,baseId:V,localRefs:Z,meta:re});return R.compileSchema.call(I,Q),(0,W.getValidate)(N,Q)}(N);F.if(m._`!${X}`,()=>F.assign(X,V))}z.dynamicAnchor=L,z.default=S},35207:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.dynamicRef=void 0;const m=E(1038),x=E(23432),R=E(84862),W={keyword:"$dynamicRef",schemaType:"string",code:L=>S(L,L.schema)};function S(L,M){const{gen:N,keyword:$,it:F}=L;if("#"!==M[0])throw new Error(`"${$}" only supports hash fragment reference`);const I=M.slice(1);if(F.allErrors)X();else{const Z=N.let("valid",!1);X(Z),L.ok(Z)}function X(Z){if(F.schemaEnv.root.dynamicAnchors[I]){const re=N.let("_v",m._`${x.default.dynamicAnchors}${(0,m.getProperty)(I)}`);N.if(re,V(re,Z),V(F.validateName,Z))}else V(F.validateName,Z)()}function V(Z,re){return re?()=>N.block(()=>{(0,R.callRef)(L,Z),N.let(re,!0)}):()=>(0,R.callRef)(L,Z)}}z.dynamicRef=S,z.default=W},79745:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(61281),x=E(35207),R=E(34028),W=E(65684);z.default=[m.default,x.default,R.default,W.default]},34028:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(61281),x=E(27006);z.default={keyword:"$recursiveAnchor",schemaType:"boolean",code(W){W.schema?(0,m.dynamicAnchor)(W,""):(0,x.checkStrictMode)(W.it,"$recursiveAnchor: false is ignored")}}},65684:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(35207);z.default={keyword:"$recursiveRef",schemaType:"string",code:R=>(0,m.dynamicRef)(R,R.schema)}},98140:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038);z.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:W})=>m.str`must match format "${W}"`,params:({schemaCode:W})=>m._`{format: ${W}}`},code(W,S){const{gen:L,data:M,$data:N,schema:$,schemaCode:F,it:I}=W,{opts:X,errSchemaPath:V,schemaEnv:Z,self:re}=I;X.validateFormats&&(N?function te(){const J=L.scopeValue("formats",{ref:re.formats,code:X.code.formats}),oe=L.const("fDef",m._`${J}[${F}]`),se=L.let("fType"),ae=L.let("format");L.if(m._`typeof ${oe} == "object" && !(${oe} instanceof RegExp)`,()=>L.assign(se,m._`${oe}.type || "string"`).assign(ae,m._`${oe}.validate`),()=>L.assign(se,m._`"string"`).assign(ae,oe)),W.fail$data((0,m.or)(function pe(){return!1===X.strictSchema?m.nil:m._`${F} && !${ae}`}(),function le(){const ve=Z.$async?m._`(${oe}.async ? await ${ae}(${M}) : ${ae}(${M}))`:m._`${ae}(${M})`,we=m._`(typeof ${ae} == "function" ? ${ve} : ${ae}.test(${M}))`;return m._`${ae} && ${ae} !== true && ${se} === ${S} && !${we}`}()))}():function Q(){const J=re.formats[$];if(!J)return void function pe(){if(!1!==X.strictSchema)throw new Error(we());function we(){return`unknown format "${$}" ignored in schema at path "${V}"`}re.logger.warn(we())}();if(!0===J)return;const[oe,se,ae]=function le(we){const De=we instanceof RegExp?(0,m.regexpCode)(we):X.code.formats?m._`${X.code.formats}${(0,m.getProperty)($)}`:void 0,k=L.scopeValue("formats",{key:$,ref:we,code:De});return"object"!=typeof we||we instanceof RegExp?["string",we,k]:[we.type||"string",we.validate,m._`${k}.validate`]}(J);oe===S&&W.pass(function ve(){if("object"==typeof J&&!(J instanceof RegExp)&&J.async){if(!Z.$async)throw new Error("async format in sync schema");return m._`await ${ae}(${M})`}return"function"==typeof se?m._`${ae}(${M})`:m._`${ae}.test(${M})`}())}())}}},23463:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const x=[E(98140).default];z.default=x},3462:(Le,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.contentVocabulary=z.metadataVocabulary=void 0,z.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],z.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},54458:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(53037),x=E(85164),R=E(22705);z.default=[m.default,x.default,R.default]},77616:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(40425),x=E(89826);z.default=[m.default,x.default]},89826:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=E(27006);z.default={keyword:"unevaluatedItems",type:"array",schemaType:["boolean","object"],error:{message:({params:{len:S}})=>m.str`must NOT have more than ${S} items`,params:({params:{len:S}})=>m._`{limit: ${S}}`},code(S){const{gen:L,schema:M,data:N,it:$}=S,F=$.items||0;if(!0===F)return;const I=L.const("len",m._`${N}.length`);if(!1===M)S.setParams({len:F}),S.fail(m._`${I} > ${F}`);else if("object"==typeof M&&!(0,x.alwaysValidSchema)($,M)){const V=L.var("valid",m._`${I} <= ${F}`);L.if((0,m.not)(V),()=>function X(V,Z){L.forRange("i",Z,I,re=>{S.subschema({keyword:"unevaluatedItems",dataProp:re,dataPropType:x.Type.Num},V),$.allErrors||L.if((0,m.not)(V),()=>L.break())})}(V,F)),S.ok(V)}$.items=!0}}},40425:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=E(27006),R=E(23432);z.default={keyword:"unevaluatedProperties",type:"object",schemaType:["boolean","object"],trackErrors:!0,error:{message:"must NOT have unevaluated properties",params:({params:L})=>m._`{unevaluatedProperty: ${L.unevaluatedProperty}}`},code(L){const{gen:M,schema:N,data:$,errsCount:F,it:I}=L;if(!F)throw new Error("ajv implementation error");const{allErrors:X,props:V}=I;function Z(Q){if(!1===N)return L.setParams({unevaluatedProperty:Q}),L.error(),void(X||M.break());if(!(0,x.alwaysValidSchema)(I,N)){const J=M.name("valid");L.subschema({keyword:"unevaluatedProperties",dataProp:Q,dataPropType:x.Type.Str},J),X||M.if((0,m.not)(J),()=>M.break())}}V instanceof m.Name?M.if(m._`${V} !== true`,()=>M.forIn("key",$,Q=>M.if(function re(Q,J){return m._`!${Q} || !${Q}[${J}]`}(V,Q),()=>Z(Q)))):!0!==V&&M.forIn("key",$,Q=>void 0===V?Z(Q):M.if(function te(Q,J){const oe=[];for(const se in Q)!0===Q[se]&&oe.push(m._`${J} !== ${se}`);return(0,m.and)(...oe)}(V,Q),()=>Z(Q))),I.props=!0,L.ok(m._`${F} === ${R.default.errors}`)}}},90796:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=E(27006),R=E(92281);z.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:L})=>m._`{allowedValue: ${L}}`},code(L){const{gen:M,data:N,$data:$,schemaCode:F,schema:I}=L;$||I&&"object"==typeof I?L.fail$data(m._`!${(0,x.useFunc)(M,R.default)}(${N}, ${F})`):L.fail(m._`${I} !== ${N}`)}}},53037:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(68032);z.default={keyword:"dependentRequired",type:"object",schemaType:"object",error:m.error,code:R=>(0,m.validatePropertyDeps)(R)}},65266:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=E(27006),R=E(92281);z.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:L})=>m._`{allowedValues: ${L}}`},code(L){const{gen:M,data:N,$data:$,schema:F,schemaCode:I,it:X}=L;if(!$&&0===F.length)throw new Error("enum must have non-empty array");let Z;const re=()=>Z??(Z=(0,x.useFunc)(M,R.default));let te;if(F.length>=X.opts.loopEnum||$)te=M.let("valid"),L.block$data(te,function Q(){M.assign(te,!1),M.forOf("v",I,oe=>M.if(m._`${re()}(${N}, ${oe})`,()=>M.assign(te,!0).break()))});else{if(!Array.isArray(F))throw new Error("ajv implementation error");const oe=M.const("vSchema",I);te=(0,m.or)(...F.map((se,ae)=>function J(oe,se){const ae=F[se];return"object"==typeof ae&&null!==ae?m._`${re()}(${N}, ${oe}[${se}])`:m._`${N} === ${ae}`}(oe,ae)))}L.pass(te)}}},64023:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(78665),x=E(30554),R=E(13972),W=E(68753),S=E(99169),L=E(56454),M=E(85962),N=E(16598),$=E(90796),F=E(65266);z.default=[m.default,x.default,R.default,W.default,S.default,L.default,M.default,N.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},$.default,F.default]},22705:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(27006);z.default={keyword:["maxContains","minContains"],type:"array",schemaType:"number",code({keyword:R,parentSchema:W,it:S}){void 0===W.contains&&(0,m.checkStrictMode)(S,`"${R}" without "contains" is ignored`)}}},85962:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038);z.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:W,schemaCode:S})=>m.str`must NOT have ${"maxItems"===W?"more":"fewer"} than ${S} items`,params:({schemaCode:W})=>m._`{limit: ${W}}`},code(W){const{keyword:S,data:L,schemaCode:M}=W;W.fail$data(m._`${L}.length ${"maxItems"===S?m.operators.GT:m.operators.LT} ${M}`)}}},13972:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=E(27006),R=E(26488);z.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:L,schemaCode:M})=>m.str`must NOT have ${"maxLength"===L?"more":"fewer"} than ${M} characters`,params:({schemaCode:L})=>m._`{limit: ${L}}`},code(L){const{keyword:M,data:N,schemaCode:$,it:F}=L,I="maxLength"===M?m.operators.GT:m.operators.LT,X=!1===F.opts.unicode?m._`${N}.length`:m._`${(0,x.useFunc)(L.gen,R.default)}(${N})`;L.fail$data(m._`${X} ${I} ${$}`)}}},78665:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038),x=m.operators,R={maximum:{okStr:"<=",ok:x.LTE,fail:x.GT},minimum:{okStr:">=",ok:x.GTE,fail:x.LT},exclusiveMaximum:{okStr:"<",ok:x.LT,fail:x.GTE},exclusiveMinimum:{okStr:">",ok:x.GT,fail:x.LTE}},W={message:({keyword:L,schemaCode:M})=>m.str`must be ${R[L].okStr} ${M}`,params:({keyword:L,schemaCode:M})=>m._`{comparison: ${R[L].okStr}, limit: ${M}}`},S={keyword:Object.keys(R),type:"number",schemaType:"number",$data:!0,error:W,code(L){const{keyword:M,data:N,schemaCode:$}=L;L.fail$data(m._`${N} ${R[M].fail} ${$} || isNaN(${N})`)}};z.default=S},99169:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038);z.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:W,schemaCode:S})=>m.str`must NOT have ${"maxProperties"===W?"more":"fewer"} than ${S} properties`,params:({schemaCode:W})=>m._`{limit: ${W}}`},code(W){const{keyword:S,data:L,schemaCode:M}=W;W.fail$data(m._`Object.keys(${L}).length ${"maxProperties"===S?m.operators.GT:m.operators.LT} ${M}`)}}},30554:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(1038);z.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:W})=>m.str`must be multiple of ${W}`,params:({schemaCode:W})=>m._`{multipleOf: ${W}}`},code(W){const{gen:S,data:L,schemaCode:M,it:N}=W,$=N.opts.multipleOfPrecision,F=S.let("res"),I=$?m._`Math.abs(Math.round(${F}) - ${F}) > 1e-${$}`:m._`${F} !== parseInt(${F})`;W.fail$data(m._`(${M} === 0 || (${F} = ${L}/${M}, ${I}))`)}}},68753:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(42406),x=E(1038);z.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:S})=>x.str`must match pattern "${S}"`,params:({schemaCode:S})=>x._`{pattern: ${S}}`},code(S){const{data:L,$data:M,schema:N,schemaCode:$,it:F}=S,X=M?x._`(new RegExp(${$}, ${F.opts.unicodeRegExp?"u":""}))`:(0,m.usePattern)(S,N);S.fail$data(x._`!${X}.test(${L})`)}}},56454:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(42406),x=E(1038),R=E(27006);z.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:L}})=>x.str`must have required property '${L}'`,params:({params:{missingProperty:L}})=>x._`{missingProperty: ${L}}`},code(L){const{gen:M,schema:N,schemaCode:$,data:F,$data:I,it:X}=L,{opts:V}=X;if(!I&&0===N.length)return;const Z=N.length>=V.loopRequired;if(X.allErrors?function re(){if(Z||I)L.block$data(x.nil,Q);else for(const oe of N)(0,m.checkReportMissingProp)(L,oe)}():function te(){const oe=M.let("missing");if(Z||I){const se=M.let("valid",!0);L.block$data(se,()=>function J(oe,se){L.setParams({missingProperty:oe}),M.forOf(oe,$,()=>{M.assign(se,(0,m.propertyInData)(M,F,oe,V.ownProperties)),M.if((0,x.not)(se),()=>{L.error(),M.break()})},x.nil)}(oe,se)),L.ok(se)}else M.if((0,m.checkMissingProp)(L,N,oe)),(0,m.reportMissingProp)(L,oe),M.else()}(),V.strictRequired){const oe=L.parentSchema.properties,{definedProperties:se}=L.it;for(const ae of N)void 0!==oe?.[ae]||se.has(ae)||(0,R.checkStrictMode)(X,`required property "${ae}" is not defined at "${X.schemaEnv.baseId+X.errSchemaPath}" (strictRequired)`,X.opts.strictRequired)}function Q(){M.forOf("prop",$,oe=>{L.setParams({missingProperty:oe}),M.if((0,m.noPropertyInData)(M,F,oe,V.ownProperties),()=>L.error())})}}}},16598:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});const m=E(55999),x=E(1038),R=E(27006),W=E(92281);z.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:M,j:N}})=>x.str`must NOT have duplicate items (items ## ${N} and ${M} are identical)`,params:({params:{i:M,j:N}})=>x._`{i: ${M}, j: ${N}}`},code(M){const{gen:N,data:$,$data:F,schema:I,parentSchema:X,schemaCode:V,it:Z}=M;if(!F&&!I)return;const re=N.let("valid"),te=X.items?(0,m.getSchemaTypes)(X.items):[];function oe(ae,pe){const le=N.name("item"),ve=(0,m.checkDataTypes)(te,le,Z.opts.strictNumbers,m.DataType.Wrong),we=N.const("indices",x._`{}`);N.for(x._`;${ae}--;`,()=>{N.let(le,x._`${$}[${ae}]`),N.if(ve,x._`continue`),te.length>1&&N.if(x._`typeof ${le} == "string"`,x._`${le} += "_"`),N.if(x._`typeof ${we}[${le}] == "number"`,()=>{N.assign(pe,x._`${we}[${le}]`),M.error(),N.assign(re,!1).break()}).code(x._`${we}[${le}] = ${ae}`)})}function se(ae,pe){const le=(0,R.useFunc)(N,W.default),ve=N.name("outer");N.label(ve).for(x._`;${ae}--;`,()=>N.for(x._`${pe} = ${ae}; ${pe}--;`,()=>N.if(x._`${le}(${$}[${ae}], ${$}[${pe}])`,()=>{M.error(),N.assign(re,!1).break(ve)})))}M.block$data(re,function Q(){const ae=N.let("i",x._`${$}.length`),pe=N.let("j");M.setParams({i:ae,j:pe}),N.assign(re,!0),N.if(x._`${ae} > 1`,()=>(function J(){return te.length>0&&!te.some(ae=>"object"===ae||"array"===ae)}()?oe:se)(ae,pe))},x._`${V} === false`),M.ok(re)}}},68316:(Le,z,E)=>{"use strict";const m=E(13981),x=E(22020),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function J(U){return+U!=U&&(U=0),M.alloc(+U)},z.INSPECT_MAX_BYTES=50;const W=2147483647;function L(U){if(U>W)throw new RangeError('The value "'+U+'" is invalid for option "size"');const _=new Uint8Array(U);return Object.setPrototypeOf(_,M.prototype),_}function M(U,_,p){if("number"==typeof U){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return I(U)}return N(U,_,p)}function N(U,_,p){if("string"==typeof U)return function X(U,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!M.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const p=0|oe(U,_);let O=L(p);const q=O.write(U,_);return q!==p&&(O=O.slice(0,q)),O}(U,_);if(ArrayBuffer.isView(U))return function Z(U){if(Be(U,Uint8Array)){const _=new Uint8Array(U);return re(_.buffer,_.byteOffset,_.byteLength)}return V(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Be(U,ArrayBuffer)||U&&Be(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(U,SharedArrayBuffer)||U&&Be(U.buffer,SharedArrayBuffer)))return re(U,_,p);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');const O=U.valueOf&&U.valueOf();if(null!=O&&O!==U)return M.from(O,_,p);const q=function te(U){if(M.isBuffer(U)){const _=0|Q(U.length),p=L(_);return 0===p.length||U.copy(p,0,0,_),p}return void 0!==U.length?"number"!=typeof U.length||yt(U.length)?L(0):V(U):"Buffer"===U.type&&Array.isArray(U.data)?V(U.data):void 0}(U);if(q)return q;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return M.from(U[Symbol.toPrimitive]("string"),_,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function $(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function I(U){return $(U),L(U<0?0:0|Q(U))}function V(U){const _=U.length<0?0:0|Q(U.length),p=L(_);for(let O=0;O<_;O+=1)p[O]=255&U[O];return p}function re(U,_,p){if(_<0||U.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<_+(p||0))throw new RangeError('"length" is outside of buffer bounds');let O;return O=void 0===_&&void 0===p?new Uint8Array(U):void 0===p?new Uint8Array(U,_):new Uint8Array(U,_,p),Object.setPrototypeOf(O,M.prototype),O}function Q(U){if(U>=W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");return 0|U}function oe(U,_){if(M.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Be(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const p=U.length,O=arguments.length>2&&!0===arguments[2];if(!O&&0===p)return 0;let q=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return ie(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return Ie(U).length;default:if(q)return O?-1:ie(U).length;_=(""+_).toLowerCase(),q=!0}}function se(U,_,p){let O=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===p||p>this.length)&&(p=this.length),p<=0)||(p>>>=0)<=(_>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return A(this,_,p);case"utf8":case"utf-8":return y(this,_,p);case"ascii":return D(this,_,p);case"latin1":case"binary":return j(this,_,p);case"base64":return h(this,_,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,_,p);default:if(O)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),O=!0}}function ae(U,_,p){const O=U[_];U[_]=U[p],U[p]=O}function pe(U,_,p,O,q){if(0===U.length)return-1;if("string"==typeof p?(O=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),yt(p=+p)&&(p=q?0:U.length-1),p<0&&(p=U.length+p),p>=U.length){if(q)return-1;p=U.length-1}else if(p<0){if(!q)return-1;p=0}if("string"==typeof _&&(_=M.from(_,O)),M.isBuffer(_))return 0===_.length?-1:le(U,_,p,O,q);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?q?Uint8Array.prototype.indexOf.call(U,_,p):Uint8Array.prototype.lastIndexOf.call(U,_,p):le(U,[_],p,O,q);throw new TypeError("val must be string, number or Buffer")}function le(U,_,p,O,q){let ut,me=1,xe=U.length,qe=_.length;if(void 0!==O&&("ucs2"===(O=String(O).toLowerCase())||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(U.length<2||_.length<2)return-1;me=2,xe/=2,qe/=2,p/=2}function At(bt,Lt){return 1===me?bt[Lt]:bt.readUInt16BE(Lt*me)}if(q){let bt=-1;for(ut=p;ut<xe;ut++)if(At(U,ut)===At(_,-1===bt?0:ut-bt)){if(-1===bt&&(bt=ut),ut-bt+1===qe)return bt*me}else-1!==bt&&(ut-=ut-bt),bt=-1}else for(p+qe>xe&&(p=xe-qe),ut=p;ut>=0;ut--){let bt=!0;for(let Lt=0;Lt<qe;Lt++)if(At(U,ut+Lt)!==At(_,Lt)){bt=!1;break}if(bt)return ut}return-1}function ve(U,_,p,O){p=Number(p)||0;const q=U.length-p;O?(O=Number(O))>q&&(O=q):O=q;const me=_.length;let xe;for(O>me/2&&(O=me/2),xe=0;xe<O;++xe){const qe=parseInt(_.substr(2*xe,2),16);if(yt(qe))return xe;U[p+xe]=qe}return xe}function we(U,_,p,O){return Ne(ie(_,U.length-p),U,p,O)}function De(U,_,p,O){return Ne(function ue(U){const _=[];for(let p=0;p<U.length;++p)_.push(255&U.charCodeAt(p));return _}(_),U,p,O)}function k(U,_,p,O){return Ne(Ie(_),U,p,O)}function u(U,_,p,O){return Ne(function be(U,_){let p,O,q;const me=[];for(let xe=0;xe<U.length&&!((_-=2)<0);++xe)p=U.charCodeAt(xe),O=p>>8,q=p%256,me.push(q),me.push(O);return me}(_,U.length-p),U,p,O)}function h(U,_,p){return m.fromByteArray(0===_&&p===U.length?U:U.slice(_,p))}function y(U,_,p){p=Math.min(U.length,p);const O=[];let q=_;for(;q<p;){const me=U[q];let xe=null,qe=me>239?4:me>223?3:me>191?2:1;if(q+qe<=p){let At,ut,bt,Lt;switch(qe){case 1:me<128&&(xe=me);break;case 2:At=U[q+1],128==(192&At)&&(Lt=(31&me)<<6|63&At,Lt>127&&(xe=Lt));break;case 3:At=U[q+1],ut=U[q+2],128==(192&At)&&128==(192&ut)&&(Lt=(15&me)<<12|(63&At)<<6|63&ut,Lt>2047&&(Lt<55296||Lt>57343)&&(xe=Lt));break;case 4:At=U[q+1],ut=U[q+2],bt=U[q+3],128==(192&At)&&128==(192&ut)&&128==(192&bt)&&(Lt=(15&me)<<18|(63&At)<<12|(63&ut)<<6|63&bt,Lt>65535&&Lt<1114112&&(xe=Lt))}}null===xe?(xe=65533,qe=1):xe>65535&&(xe-=65536,O.push(xe>>>10&1023|55296),xe=56320|1023&xe),O.push(xe),q+=qe}return function T(U){const _=U.length;if(_<=w)return String.fromCharCode.apply(String,U);let p="",O=0;for(;O<_;)p+=String.fromCharCode.apply(String,U.slice(O,O+=w));return p}(O)}z.kMaxLength=W,!(M.TYPED_ARRAY_SUPPORT=function S(){try{const U=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(U,_),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(U,_,p){return N(U,_,p)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(U,_,p){return function F(U,_,p){return $(U),U<=0?L(U):void 0!==_?"string"==typeof p?L(U).fill(_,p):L(U).fill(_):L(U)}(U,_,p)},M.allocUnsafe=function(U){return I(U)},M.allocUnsafeSlow=function(U){return I(U)},M.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==M.prototype},M.compare=function(_,p){if(Be(_,Uint8Array)&&(_=M.from(_,_.offset,_.byteLength)),Be(p,Uint8Array)&&(p=M.from(p,p.offset,p.byteLength)),!M.isBuffer(_)||!M.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===p)return 0;let O=_.length,q=p.length;for(let me=0,xe=Math.min(O,q);me<xe;++me)if(_[me]!==p[me]){O=_[me],q=p[me];break}return O<q?-1:q<O?1:0},M.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(_,p){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return M.alloc(0);let O;if(void 0===p)for(p=0,O=0;O<_.length;++O)p+=_[O].length;const q=M.allocUnsafe(p);let me=0;for(O=0;O<_.length;++O){let xe=_[O];if(Be(xe,Uint8Array))me+xe.length>q.length?(M.isBuffer(xe)||(xe=M.from(xe)),xe.copy(q,me)):Uint8Array.prototype.set.call(q,xe,me);else{if(!M.isBuffer(xe))throw new TypeError('"list" argument must be an Array of Buffers');xe.copy(q,me)}me+=xe.length}return q},M.byteLength=oe,M.prototype._isBuffer=!0,M.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<_;p+=2)ae(this,p,p+1);return this},M.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<_;p+=4)ae(this,p,p+3),ae(this,p+1,p+2);return this},M.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<_;p+=8)ae(this,p,p+7),ae(this,p+1,p+6),ae(this,p+2,p+5),ae(this,p+3,p+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?y(this,0,_):se.apply(this,arguments)},M.prototype.equals=function(_){if(!M.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===M.compare(this,_)},M.prototype.inspect=function(){let _="";const p=z.INSPECT_MAX_BYTES;return _=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(_+=" ... "),"<Buffer "+_+">"},R&&(M.prototype[R]=M.prototype.inspect),M.prototype.compare=function(_,p,O,q,me){if(Be(_,Uint8Array)&&(_=M.from(_,_.offset,_.byteLength)),!M.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===p&&(p=0),void 0===O&&(O=_?_.length:0),void 0===q&&(q=0),void 0===me&&(me=this.length),p<0||O>_.length||q<0||me>this.length)throw new RangeError("out of range index");if(q>=me&&p>=O)return 0;if(q>=me)return-1;if(p>=O)return 1;if(this===_)return 0;let xe=(me>>>=0)-(q>>>=0),qe=(O>>>=0)-(p>>>=0);const At=Math.min(xe,qe),ut=this.slice(q,me),bt=_.slice(p,O);for(let Lt=0;Lt<At;++Lt)if(ut[Lt]!==bt[Lt]){xe=ut[Lt],qe=bt[Lt];break}return xe<qe?-1:qe<xe?1:0},M.prototype.includes=function(_,p,O){return-1!==this.indexOf(_,p,O)},M.prototype.indexOf=function(_,p,O){return pe(this,_,p,O,!0)},M.prototype.lastIndexOf=function(_,p,O){return pe(this,_,p,O,!1)},M.prototype.write=function(_,p,O,q){if(void 0===p)q="utf8",O=this.length,p=0;else if(void 0===O&&"string"==typeof p)q=p,O=this.length,p=0;else{if(!isFinite(p))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");p>>>=0,isFinite(O)?(O>>>=0,void 0===q&&(q="utf8")):(q=O,O=void 0)}const me=this.length-p;if((void 0===O||O>me)&&(O=me),_.length>0&&(O<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let xe=!1;for(;;)switch(q){case"hex":return ve(this,_,p,O);case"utf8":case"utf-8":return we(this,_,p,O);case"ascii":case"latin1":case"binary":return De(this,_,p,O);case"base64":return k(this,_,p,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,_,p,O);default:if(xe)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),xe=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const w=4096;function D(U,_,p){let O="";p=Math.min(U.length,p);for(let q=_;q<p;++q)O+=String.fromCharCode(127&U[q]);return O}function j(U,_,p){let O="";p=Math.min(U.length,p);for(let q=_;q<p;++q)O+=String.fromCharCode(U[q]);return O}function A(U,_,p){const O=U.length;(!_||_<0)&&(_=0),(!p||p<0||p>O)&&(p=O);let q="";for(let me=_;me<p;++me)q+=Ke[U[me]];return q}function l(U,_,p){const O=U.slice(_,p);let q="";for(let me=0;me<O.length-1;me+=2)q+=String.fromCharCode(O[me]+256*O[me+1]);return q}function g(U,_,p){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+_>p)throw new RangeError("Trying to access beyond buffer length")}function G(U,_,p,O,q,me){if(!M.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>q||_<me)throw new RangeError('"value" argument is out of bounds');if(p+O>U.length)throw new RangeError("Index out of range")}function H(U,_,p,O,q){ye(_,O,q,U,p,7);let me=Number(_&BigInt(4294967295));U[p++]=me,me>>=8,U[p++]=me,me>>=8,U[p++]=me,me>>=8,U[p++]=me;let xe=Number(_>>BigInt(32)&BigInt(4294967295));return U[p++]=xe,xe>>=8,U[p++]=xe,xe>>=8,U[p++]=xe,xe>>=8,U[p++]=xe,p}function ne(U,_,p,O,q){ye(_,O,q,U,p,7);let me=Number(_&BigInt(4294967295));U[p+7]=me,me>>=8,U[p+6]=me,me>>=8,U[p+5]=me,me>>=8,U[p+4]=me;let xe=Number(_>>BigInt(32)&BigInt(4294967295));return U[p+3]=xe,xe>>=8,U[p+2]=xe,xe>>=8,U[p+1]=xe,xe>>=8,U[p]=xe,p+8}function ce(U,_,p,O,q,me){if(p+O>U.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function Ae(U,_,p,O,q){return _=+_,p>>>=0,q||ce(U,0,p,4),x.write(U,_,p,O,23,4),p+4}function ke(U,_,p,O,q){return _=+_,p>>>=0,q||ce(U,0,p,8),x.write(U,_,p,O,52,8),p+8}M.prototype.slice=function(_,p){const O=this.length;(_=~~_)<0?(_+=O)<0&&(_=0):_>O&&(_=O),(p=void 0===p?O:~~p)<0?(p+=O)<0&&(p=0):p>O&&(p=O),p<_&&(p=_);const q=this.subarray(_,p);return Object.setPrototypeOf(q,M.prototype),q},M.prototype.readUintLE=M.prototype.readUIntLE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_],me=1,xe=0;for(;++xe<p&&(me*=256);)q+=this[_+xe]*me;return q},M.prototype.readUintBE=M.prototype.readUIntBE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_+--p],me=1;for(;p>0&&(me*=256);)q+=this[_+--p]*me;return q},M.prototype.readUint8=M.prototype.readUInt8=function(_,p){return _>>>=0,p||g(_,1,this.length),this[_]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(_,p){return _>>>=0,p||g(_,2,this.length),this[_]|this[_+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(_,p){return _>>>=0,p||g(_,2,this.length),this[_]<<8|this[_+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(_,p){return _>>>=0,p||g(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(_,p){return _>>>=0,p||g(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},M.prototype.readBigUInt64LE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=p+256*this[++_]+65536*this[++_]+this[++_]*2**24,me=this[++_]+256*this[++_]+65536*this[++_]+O*2**24;return BigInt(q)+(BigInt(me)<<BigInt(32))}),M.prototype.readBigUInt64BE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=p*2**24+65536*this[++_]+256*this[++_]+this[++_],me=this[++_]*2**24+65536*this[++_]+256*this[++_]+O;return(BigInt(q)<<BigInt(32))+BigInt(me)}),M.prototype.readIntLE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_],me=1,xe=0;for(;++xe<p&&(me*=256);)q+=this[_+xe]*me;return me*=128,q>=me&&(q-=Math.pow(2,8*p)),q},M.prototype.readIntBE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=p,me=1,xe=this[_+--q];for(;q>0&&(me*=256);)xe+=this[_+--q]*me;return me*=128,xe>=me&&(xe-=Math.pow(2,8*p)),xe},M.prototype.readInt8=function(_,p){return _>>>=0,p||g(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},M.prototype.readInt16LE=function(_,p){_>>>=0,p||g(_,2,this.length);const O=this[_]|this[_+1]<<8;return 32768&O?4294901760|O:O},M.prototype.readInt16BE=function(_,p){_>>>=0,p||g(_,2,this.length);const O=this[_+1]|this[_]<<8;return 32768&O?4294901760|O:O},M.prototype.readInt32LE=function(_,p){return _>>>=0,p||g(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},M.prototype.readInt32BE=function(_,p){return _>>>=0,p||g(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},M.prototype.readBigInt64LE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];return(void 0===p||void 0===O)&&he(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(O<<24))<<BigInt(32))+BigInt(p+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),M.prototype.readBigInt64BE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=(p<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(q)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+O)}),M.prototype.readFloatLE=function(_,p){return _>>>=0,p||g(_,4,this.length),x.read(this,_,!0,23,4)},M.prototype.readFloatBE=function(_,p){return _>>>=0,p||g(_,4,this.length),x.read(this,_,!1,23,4)},M.prototype.readDoubleLE=function(_,p){return _>>>=0,p||g(_,8,this.length),x.read(this,_,!0,52,8)},M.prototype.readDoubleBE=function(_,p){return _>>>=0,p||g(_,8,this.length),x.read(this,_,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(_,p,O,q){_=+_,p>>>=0,O>>>=0,q||G(this,_,p,O,Math.pow(2,8*O)-1,0);let me=1,xe=0;for(this[p]=255&_;++xe<O&&(me*=256);)this[p+xe]=_/me&255;return p+O},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(_,p,O,q){_=+_,p>>>=0,O>>>=0,q||G(this,_,p,O,Math.pow(2,8*O)-1,0);let me=O-1,xe=1;for(this[p+me]=255&_;--me>=0&&(xe*=256);)this[p+me]=_/xe&255;return p+O},M.prototype.writeUint8=M.prototype.writeUInt8=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,1,255,0),this[p]=255&_,p+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,65535,0),this[p]=255&_,this[p+1]=_>>>8,p+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,65535,0),this[p]=_>>>8,this[p+1]=255&_,p+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,4294967295,0),this[p+3]=_>>>24,this[p+2]=_>>>16,this[p+1]=_>>>8,this[p]=255&_,p+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,4294967295,0),this[p]=_>>>24,this[p+1]=_>>>16,this[p+2]=_>>>8,this[p+3]=255&_,p+4},M.prototype.writeBigUInt64LE=Re(function(_,p=0){return H(this,_,p,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Re(function(_,p=0){return ne(this,_,p,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(_,p,O,q){if(_=+_,p>>>=0,!q){const At=Math.pow(2,8*O-1);G(this,_,p,O,At-1,-At)}let me=0,xe=1,qe=0;for(this[p]=255&_;++me<O&&(xe*=256);)_<0&&0===qe&&0!==this[p+me-1]&&(qe=1),this[p+me]=(_/xe|0)-qe&255;return p+O},M.prototype.writeIntBE=function(_,p,O,q){if(_=+_,p>>>=0,!q){const At=Math.pow(2,8*O-1);G(this,_,p,O,At-1,-At)}let me=O-1,xe=1,qe=0;for(this[p+me]=255&_;--me>=0&&(xe*=256);)_<0&&0===qe&&0!==this[p+me+1]&&(qe=1),this[p+me]=(_/xe|0)-qe&255;return p+O},M.prototype.writeInt8=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,1,127,-128),_<0&&(_=255+_+1),this[p]=255&_,p+1},M.prototype.writeInt16LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,32767,-32768),this[p]=255&_,this[p+1]=_>>>8,p+2},M.prototype.writeInt16BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,32767,-32768),this[p]=_>>>8,this[p+1]=255&_,p+2},M.prototype.writeInt32LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,2147483647,-2147483648),this[p]=255&_,this[p+1]=_>>>8,this[p+2]=_>>>16,this[p+3]=_>>>24,p+4},M.prototype.writeInt32BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[p]=_>>>24,this[p+1]=_>>>16,this[p+2]=_>>>8,this[p+3]=255&_,p+4},M.prototype.writeBigInt64LE=Re(function(_,p=0){return H(this,_,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Re(function(_,p=0){return ne(this,_,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeFloatLE=function(_,p,O){return Ae(this,_,p,!0,O)},M.prototype.writeFloatBE=function(_,p,O){return Ae(this,_,p,!1,O)},M.prototype.writeDoubleLE=function(_,p,O){return ke(this,_,p,!0,O)},M.prototype.writeDoubleBE=function(_,p,O){return ke(this,_,p,!1,O)},M.prototype.copy=function(_,p,O,q){if(!M.isBuffer(_))throw new TypeError("argument should be a Buffer");if(O||(O=0),!q&&0!==q&&(q=this.length),p>=_.length&&(p=_.length),p||(p=0),q>0&&q<O&&(q=O),q===O||0===_.length||0===this.length)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),_.length-p<q-O&&(q=_.length-p+O);const me=q-O;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(p,O,q):Uint8Array.prototype.set.call(_,this.subarray(O,q),p),me},M.prototype.fill=function(_,p,O,q){if("string"==typeof _){if("string"==typeof p?(q=p,p=0,O=this.length):"string"==typeof O&&(q=O,O=this.length),void 0!==q&&"string"!=typeof q)throw new TypeError("encoding must be a string");if("string"==typeof q&&!M.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(1===_.length){const xe=_.charCodeAt(0);("utf8"===q&&xe<128||"latin1"===q)&&(_=xe)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(p<0||this.length<p||this.length<O)throw new RangeError("Out of range index");if(O<=p)return this;let me;if(p>>>=0,O=void 0===O?this.length:O>>>0,_||(_=0),"number"==typeof _)for(me=p;me<O;++me)this[me]=_;else{const xe=M.isBuffer(_)?_:M.from(_,q),qe=xe.length;if(0===qe)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(me=0;me<O-p;++me)this[me+p]=xe[me%qe]}return this};const Fe={};function Ee(U,_,p){Fe[U]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,delete this.name}get code(){return U}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}function ge(U){let _="",p=U.length;const O="-"===U[0]?1:0;for(;p>=O+4;p-=3)_=`_${U.slice(p-3,p)}${_}`;return`${U.slice(0,p)}${_}`}function ye(U,_,p,O,q,me){if(U>p||U<_){const xe="bigint"==typeof _?"n":"";let qe;throw qe=me>3?0===_||_===BigInt(0)?`>= 0${xe} and < 2${xe} ** ${8*(me+1)}${xe}`:`>= -(2${xe} ** ${8*(me+1)-1}${xe}) and < 2 ** ${8*(me+1)-1}${xe}`:`>= ${_}${xe} and <= ${p}${xe}`,new Fe.ERR_OUT_OF_RANGE("value",qe,U)}!function Oe(U,_,p){Se(_,"offset"),(void 0===U[_]||void 0===U[_+p])&&he(_,U.length-(p+1))}(O,q,me)}function Se(U,_){if("number"!=typeof U)throw new Fe.ERR_INVALID_ARG_TYPE(_,"number",U)}function he(U,_,p){throw Math.floor(U)!==U?(Se(U,p),new Fe.ERR_OUT_OF_RANGE(p||"offset","an integer",U)):_<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${_}`,U)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(U,_){return`The "${U}" argument must be of type number. Received type ${typeof _}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(U,_,p){let O=`The value of "${U}" is out of range.`,q=p;return Number.isInteger(p)&&Math.abs(p)>2**32?q=ge(String(p)):"bigint"==typeof p&&(q=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(q=ge(q)),q+="n"),O+=` It must be ${_}. Received ${q}`,O},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function ie(U,_){let p;_=_||1/0;const O=U.length;let q=null;const me=[];for(let xe=0;xe<O;++xe){if(p=U.charCodeAt(xe),p>55295&&p<57344){if(!q){if(p>56319){(_-=3)>-1&&me.push(239,191,189);continue}if(xe+1===O){(_-=3)>-1&&me.push(239,191,189);continue}q=p;continue}if(p<56320){(_-=3)>-1&&me.push(239,191,189),q=p;continue}p=65536+(q-55296<<10|p-56320)}else q&&(_-=3)>-1&&me.push(239,191,189);if(q=null,p<128){if((_-=1)<0)break;me.push(p)}else if(p<2048){if((_-=2)<0)break;me.push(p>>6|192,63&p|128)}else if(p<65536){if((_-=3)<0)break;me.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(p<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;me.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}return me}function Ie(U){return m.toByteArray(function ee(U){if((U=(U=U.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Ne(U,_,p,O){let q;for(q=0;q<O&&!(q+p>=_.length||q>=U.length);++q)_[q+p]=U[q];return q}function Be(U,_){return U instanceof _||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===_.name}function yt(U){return U!=U}const Ke=function(){const U="0123456789abcdef",_=new Array(256);for(let p=0;p<16;++p){const O=16*p;for(let q=0;q<16;++q)_[O+q]=U[p]+U[q]}return _}();function Re(U){return typeof BigInt>"u"?ot:U}function ot(){throw new Error("BigInt not supported")}},14078:Le=>{var z=1e3,E=60*z,m=60*E,x=24*m,R=7*x;function N($,F,I,X){var V=F>=1.5*I;return Math.round($/I)+" "+X+(V?"s":"")}Le.exports=function($,F){F=F||{};var I=typeof $;if("string"===I&&$.length>0)return function S($){if(!(($=String($)).length>100)){var F=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(F){var I=parseFloat(F[1]);switch((F[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*I;case"weeks":case"week":case"w":return I*R;case"days":case"day":case"d":return I*x;case"hours":case"hour":case"hrs":case"hr":case"h":return I*m;case"minutes":case"minute":case"mins":case"min":case"m":return I*E;case"seconds":case"second":case"secs":case"sec":case"s":return I*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return I;default:return}}}}($);if("number"===I&&isFinite($))return F.long?function M($){var F=Math.abs($);return F>=x?N($,F,x,"day"):F>=m?N($,F,m,"hour"):F>=E?N($,F,E,"minute"):F>=z?N($,F,z,"second"):$+" ms"}($):function L($){var F=Math.abs($);return F>=x?Math.round($/x)+"d":F>=m?Math.round($/m)+"h":F>=E?Math.round($/E)+"m":F>=z?Math.round($/z)+"s":$+"ms"}($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))}},57062:(Le,z,E)=>{"use strict";const{SymbolDispose:m}=E(56389),{AbortError:x,codes:R}=E(68154),{isNodeStream:W,isWebStream:S,kControllerErrorFunction:L}=E(32924),M=E(46017),{ERR_INVALID_ARG_TYPE:N}=R;let $;Le.exports.addAbortSignal=function(X,V){if(((I,X)=>{if("object"!=typeof I||!("aborted"in I))throw new N("signal","AbortSignal",I)})(X),!W(V)&&!S(V))throw new N("stream",["ReadableStream","WritableStream","Stream"],V);return Le.exports.addAbortSignalNoValidate(X,V)},Le.exports.addAbortSignalNoValidate=function(I,X){if("object"!=typeof I||!("aborted"in I))return X;const V=W(X)?()=>{X.destroy(new x(void 0,{cause:I.reason}))}:()=>{X[L](new x(void 0,{cause:I.reason}))};if(I.aborted)V();else{$=$||E(13509).addAbortListener;const Z=$(I,V);M(X,Z[m])}return X}},16630:(Le,z,E)=>{"use strict";const{StringPrototypeSlice:m,SymbolIterator:x,TypedArrayPrototypeSet:R,Uint8Array:W}=E(56389),{Buffer:S}=E(68316),{inspect:L}=E(13509);Le.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(N){const $={data:N,next:null};this.length>0?this.tail.next=$:this.head=$,this.tail=$,++this.length}unshift(N){const $={data:N,next:this.head};0===this.length&&(this.tail=$),this.head=$,++this.length}shift(){if(0===this.length)return;const N=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,N}clear(){this.head=this.tail=null,this.length=0}join(N){if(0===this.length)return"";let $=this.head,F=""+$.data;for(;null!==($=$.next);)F+=N+$.data;return F}concat(N){if(0===this.length)return S.alloc(0);const $=S.allocUnsafe(N>>>0);let F=this.head,I=0;for(;F;)R($,F.data,I),I+=F.data.length,F=F.next;return $}consume(N,$){const F=this.head.data;if(N<F.length){const I=F.slice(0,N);return this.head.data=F.slice(N),I}return N===F.length?this.shift():$?this._getString(N):this._getBuffer(N)}first(){return this.head.data}*[x](){for(let N=this.head;N;N=N.next)yield N.data}_getString(N){let $="",F=this.head,I=0;do{const X=F.data;if(!(N>X.length)){N===X.length?($+=X,++I,this.head=F.next?F.next:this.tail=null):($+=m(X,0,N),this.head=F,F.data=m(X,N));break}$+=X,N-=X.length,++I}while(null!==(F=F.next));return this.length-=I,$}_getBuffer(N){const $=S.allocUnsafe(N),F=N;let I=this.head,X=0;do{const V=I.data;if(!(N>V.length)){N===V.length?(R($,V,F-N),++X,this.head=I.next?I.next:this.tail=null):(R($,new W(V.buffer,V.byteOffset,N),F-N),this.head=I,I.data=V.slice(N));break}R($,V,F-N),N-=V.length,++X}while(null!==(I=I.next));return this.length-=X,$}[Symbol.for("nodejs.util.inspect.custom")](N,$){return L(this,{...$,depth:0,customInspect:!1})}}},373:(Le,z,E)=>{"use strict";var m=E(29293).default;const{pipeline:x}=E(67843),R=E(13323),{destroyer:W}=E(96507),{isNodeStream:S,isReadable:L,isWritable:M,isWebStream:N,isTransformStream:$,isWritableStream:F,isReadableStream:I}=E(32924),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:V,ERR_MISSING_ARGS:Z}}=E(68154),re=E(46017);Le.exports=function(...Q){if(0===Q.length)throw new Z("streams");if(1===Q.length)return R.from(Q[0]);const J=[...Q];if("function"==typeof Q[0]&&(Q[0]=R.from(Q[0])),"function"==typeof Q[Q.length-1]){const h=Q.length-1;Q[h]=R.from(Q[h])}for(let h=0;h<Q.length;++h)if(S(Q[h])||N(Q[h])){if(h<Q.length-1&&!(L(Q[h])||I(Q[h])||$(Q[h])))throw new V(`streams[${h}]`,J[h],"must be readable");if(h>0&&!(M(Q[h])||F(Q[h])||$(Q[h])))throw new V(`streams[${h}]`,J[h],"must be writable")}let oe,se,ae,pe,le;const we=Q[0],De=x(Q,function ve(h){const y=pe;pe=null,y?y(h):h?le.destroy(h):!u&&!k&&le.destroy()}),k=!!(M(we)||F(we)||$(we)),u=!!(L(De)||I(De)||$(De));if(le=new R({writableObjectMode:!(null==we||!we.writableObjectMode),readableObjectMode:!(null==De||!De.readableObjectMode),writable:k,readable:u}),k){if(S(we))le._write=function(y,w,T){we.write(y,w)?T():oe=T},le._final=function(y){we.end(),se=y},we.on("drain",function(){if(oe){const y=oe;oe=null,y()}});else if(N(we)){const w=($(we)?we.writable:we).getWriter();le._write=function(){var T=m(function*(D,j,A){try{yield w.ready,w.write(D).catch(()=>{}),A()}catch(l){A(l)}});return function(D,j,A){return T.apply(this,arguments)}}(),le._final=function(){var T=m(function*(D){try{yield w.ready,w.close().catch(()=>{}),se=D}catch(j){D(j)}});return function(D){return T.apply(this,arguments)}}()}const h=$(De)?De.readable:De;re(h,()=>{if(se){const y=se;se=null,y()}})}if(u)if(S(De))De.on("readable",function(){if(ae){const h=ae;ae=null,h()}}),De.on("end",function(){le.push(null)}),le._read=function(){for(;;){const h=De.read();if(null===h)return void(ae=le._read);if(!le.push(h))return}};else if(N(De)){const y=($(De)?De.readable:De).getReader();le._read=m(function*(){for(;;)try{const{value:w,done:T}=yield y.read();if(!le.push(w))return;if(T)return void le.push(null)}catch{return}})}return le._destroy=function(h,y){!h&&null!==pe&&(h=new X),ae=null,oe=null,se=null,null===pe?y(h):(pe=y,S(De)&&W(De,h))},le}},96507:(Le,z,E)=>{"use strict";const m=E(40573),{aggregateTwoErrors:x,codes:{ERR_MULTIPLE_CALLBACK:R},AbortError:W}=E(68154),{Symbol:S}=E(56389),{kIsDestroyed:L,isDestroyed:M,isFinished:N,isServerRequest:$}=E(32924),F=S("kDestroy"),I=S("kConstruct");function X(k,u,h){k&&(u&&!u.errored&&(u.errored=k),h&&!h.errored&&(h.errored=k))}function Z(k,u,h){let y=!1;function w(T){if(y)return;y=!0;const D=k._readableState,j=k._writableState;X(T,j,D),j&&(j.closed=!0),D&&(D.closed=!0),"function"==typeof h&&h(T),T?m.nextTick(re,k,T):m.nextTick(te,k)}try{k._destroy(u||null,w)}catch(T){w(T)}}function re(k,u){Q(k,u),te(k)}function te(k){const u=k._readableState,h=k._writableState;h&&(h.closeEmitted=!0),u&&(u.closeEmitted=!0),(null!=h&&h.emitClose||null!=u&&u.emitClose)&&k.emit("close")}function Q(k,u){const h=k._readableState,y=k._writableState;null!=y&&y.errorEmitted||null!=h&&h.errorEmitted||(y&&(y.errorEmitted=!0),h&&(h.errorEmitted=!0),k.emit("error",u))}function oe(k,u,h){const y=k._readableState,w=k._writableState;if(null!=w&&w.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=w&&w.autoDestroy?k.destroy(u):u&&(w&&!w.errored&&(w.errored=u),y&&!y.errored&&(y.errored=u),h?m.nextTick(Q,k,u):Q(k,u))}function ae(k){let u=!1;function h(y){if(u)return void oe(k,y??new R);u=!0;const w=k._readableState,T=k._writableState,D=T||w;w&&(w.constructed=!0),T&&(T.constructed=!0),D.destroyed?k.emit(F,y):y?oe(k,y,!0):m.nextTick(pe,k)}try{k._construct(y=>{m.nextTick(h,y)})}catch(y){m.nextTick(h,y)}}function pe(k){k.emit(I)}function le(k){return k?.setHeader&&"function"==typeof k.abort}function ve(k){k.emit("close")}function we(k,u){k.emit("error",u),m.nextTick(ve,k)}Le.exports={construct:function se(k,u){if("function"!=typeof k._construct)return;const h=k._readableState,y=k._writableState;h&&(h.constructed=!1),y&&(y.constructed=!1),k.once(I,u),!(k.listenerCount(I)>1)&&m.nextTick(ae,k)},destroyer:function De(k,u){!k||M(k)||(!u&&!N(k)&&(u=new W),$(k)?(k.socket=null,k.destroy(u)):le(k)?k.abort():le(k.req)?k.req.abort():"function"==typeof k.destroy?k.destroy(u):"function"==typeof k.close?k.close():u?m.nextTick(we,k,u):m.nextTick(ve,k),k.destroyed||(k[L]=!0))},destroy:function V(k,u){const h=this._readableState,y=this._writableState,w=y||h;return null!=y&&y.destroyed||null!=h&&h.destroyed?("function"==typeof u&&u(),this):(X(k,y,h),y&&(y.destroyed=!0),h&&(h.destroyed=!0),w.constructed?Z(this,k,u):this.once(F,function(T){Z(this,x(T,k),u)}),this)},undestroy:function J(){const k=this._readableState,u=this._writableState;k&&(k.constructed=!0,k.closed=!1,k.closeEmitted=!1,k.destroyed=!1,k.errored=null,k.errorEmitted=!1,k.reading=!1,k.ended=!1===k.readable,k.endEmitted=!1===k.readable),u&&(u.constructed=!0,u.destroyed=!1,u.closed=!1,u.closeEmitted=!1,u.errored=null,u.errorEmitted=!1,u.finalCalled=!1,u.prefinished=!1,u.ended=!1===u.writable,u.ending=!1===u.writable,u.finished=!1===u.writable)},errorOrDestroy:oe}},13323:(Le,z,E)=>{"use strict";const{ObjectDefineProperties:m,ObjectGetOwnPropertyDescriptor:x,ObjectKeys:R,ObjectSetPrototypeOf:W}=E(56389);Le.exports=M;const S=E(84553),L=E(30009);W(M.prototype,S.prototype),W(M,S);{const I=R(L.prototype);for(let X=0;X<I.length;X++){const V=I[X];M.prototype[V]||(M.prototype[V]=L.prototype[V])}}function M(I){if(!(this instanceof M))return new M(I);S.call(this,I),L.call(this,I),I?(this.allowHalfOpen=!1!==I.allowHalfOpen,!1===I.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===I.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let N,F;function $(){return void 0===N&&(N={}),N}m(M.prototype,{writable:{__proto__:null,...x(L.prototype,"writable")},writableHighWaterMark:{__proto__:null,...x(L.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...x(L.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...x(L.prototype,"writableBuffer")},writableLength:{__proto__:null,...x(L.prototype,"writableLength")},writableFinished:{__proto__:null,...x(L.prototype,"writableFinished")},writableCorked:{__proto__:null,...x(L.prototype,"writableCorked")},writableEnded:{__proto__:null,...x(L.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...x(L.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(I){this._readableState&&this._writableState&&(this._readableState.destroyed=I,this._writableState.destroyed=I)}}}),M.fromWeb=function(I,X){return $().newStreamDuplexFromReadableWritablePair(I,X)},M.toWeb=function(I){return $().newReadableWritablePairFromDuplex(I)},M.from=function(I){return F||(F=E(44425)),F(I,"body")}},44425:(Le,z,E)=>{var m=E(29293).default,x=E(53344).default,R=E(42958).default;const W=E(40573),S=E(68316),{isReadable:L,isWritable:M,isIterable:N,isNodeStream:$,isReadableNodeStream:F,isWritableNodeStream:I,isDuplexNodeStream:X,isReadableStream:V,isWritableStream:Z}=E(32924),re=E(46017),{AbortError:te,codes:{ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_RETURN_VALUE:J}}=E(68154),{destroyer:oe}=E(96507),se=E(13323),ae=E(84553),pe=E(30009),{createDeferredPromise:le}=E(13509),ve=E(45737),we=globalThis.Blob||S.Blob,De=typeof we<"u"?function(D){return D instanceof we}:function(D){return!1},k=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:u}=E(56389);class h extends se{constructor(D){super(D),!1===D?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===D?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function w(T){const D=T.readable&&"function"!=typeof T.readable.read?ae.wrap(T.readable):T.readable,j=T.writable;let g,G,H,ne,ce,A=!!L(D),l=!!M(j);function Ae(ke){const Fe=ne;ne=null,Fe?Fe(ke):ke&&ce.destroy(ke)}return ce=new h({readableObjectMode:!(null==D||!D.readableObjectMode),writableObjectMode:!(null==j||!j.writableObjectMode),readable:A,writable:l}),l&&(re(j,ke=>{l=!1,ke&&oe(D,ke),Ae(ke)}),ce._write=function(ke,Fe,Ee){j.write(ke,Fe)?Ee():g=Ee},ce._final=function(ke){j.end(),G=ke},j.on("drain",function(){if(g){const ke=g;g=null,ke()}}),j.on("finish",function(){if(G){const ke=G;G=null,ke()}})),A&&(re(D,ke=>{A=!1,ke&&oe(D,ke),Ae(ke)}),D.on("readable",function(){if(H){const ke=H;H=null,ke()}}),D.on("end",function(){ce.push(null)}),ce._read=function(){for(;;){const ke=D.read();if(null===ke)return void(H=ce._read);if(!ce.push(ke))return}}),ce._destroy=function(ke,Fe){!ke&&null!==ne&&(ke=new te),H=null,g=null,G=null,null===ne?Fe(ke):(ne=Fe,oe(j,ke),oe(D,ke))},ce}Le.exports=function T(D,j){if(X(D))return D;if(F(D))return w({readable:D});if(I(D))return w({writable:D});if($(D))return w({writable:!1,readable:!1});if(V(D))return w({readable:ae.fromWeb(D)});if(Z(D))return w({writable:pe.fromWeb(D)});if("function"==typeof D){const{value:l,write:g,final:G,destroy:H}=function y(T){let{promise:D,resolve:j}=le();const A=new k,l=A.signal;return{value:T(R(function*(){for(;;){const G=D;D=null;const{chunk:H,done:ne,cb:ce}=yield x(G);if(W.nextTick(ce),ne)return;if(l.aborted)throw new te(void 0,{cause:l.reason});({promise:D,resolve:j}=le()),yield H}})(),{signal:l}),write(G,H,ne){const ce=j;j=null,ce({chunk:G,done:!1,cb:ne})},final(G){const H=j;j=null,H({done:!0,cb:G})},destroy(G,H){A.abort(),H(G)}}}(D);if(N(l))return ve(h,l,{objectMode:!0,write:g,final:G,destroy:H});const ne=l?.then;if("function"==typeof ne){let ce;const Ae=u(ne,l,ke=>{if(null!=ke)throw new J("nully","body",ke)},ke=>{oe(ce,ke)});return ce=new h({objectMode:!0,readable:!1,write:g,final(ke){G(m(function*(){try{yield Ae,W.nextTick(ke,null)}catch(Fe){W.nextTick(ke,Fe)}}))},destroy:H})}throw new J("Iterable, AsyncIterable or AsyncFunction",j,l)}if(De(D))return T(D.arrayBuffer());if(N(D))return ve(h,D,{objectMode:!0,writable:!1});if(V(D?.readable)&&Z(D?.writable))return h.fromWeb(D);if("object"==typeof D?.writable||"object"==typeof D?.readable)return w({readable:null!=D&&D.readable?F(D?.readable)?D?.readable:T(D.readable):void 0,writable:null!=D&&D.writable?I(D?.writable)?D?.writable:T(D.writable):void 0});const A=D?.then;if("function"==typeof A){let l;return u(A,D,g=>{null!=g&&l.push(g),l.push(null)},g=>{oe(l,g)}),l=new h({objectMode:!0,writable:!1,read(){}})}throw new Q(j,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],D)}},46017:(Le,z,E)=>{const m=E(40573),{AbortError:x,codes:R}=E(68154),{ERR_INVALID_ARG_TYPE:W,ERR_STREAM_PREMATURE_CLOSE:S}=R,{kEmptyObject:L,once:M}=E(13509),{validateAbortSignal:N,validateFunction:$,validateObject:F,validateBoolean:I}=E(99852),{Promise:X,PromisePrototypeThen:V,SymbolDispose:Z}=E(56389),{isClosed:re,isReadable:te,isReadableNodeStream:Q,isReadableStream:J,isReadableFinished:oe,isReadableErrored:se,isWritable:ae,isWritableNodeStream:pe,isWritableStream:le,isWritableFinished:ve,isWritableErrored:we,isNodeStream:De,willEmitClose:k,kIsClosedPromise:u}=E(32924);let h;const w=()=>{};function T(A,l,g){var G,H;if(2===arguments.length?(g=l,l=L):null==l?l=L:F(l,"options"),$(g,"callback"),N(l.signal,"options.signal"),g=M(g),J(A)||le(A))return function D(A,l,g){let G=!1,H=w;if(l.signal)if(H=()=>{G=!0,g.call(A,new x(void 0,{cause:l.signal.reason}))},l.signal.aborted)m.nextTick(H);else{h=h||E(13509).addAbortListener;const ce=h(l.signal,H),Ae=g;g=M((...ke)=>{ce[Z](),Ae.apply(A,ke)})}const ne=(...ce)=>{G||m.nextTick(()=>g.apply(A,ce))};return V(A[u].promise,ne,ne),w}(A,l,g);if(!De(A))throw new W("stream",["ReadableStream","WritableStream","Stream"],A);const ne=null!==(G=l.readable)&&void 0!==G?G:Q(A),ce=null!==(H=l.writable)&&void 0!==H?H:pe(A),Ae=A._writableState,ke=A._readableState,Fe=()=>{A.writable||Oe()};let Ee=k(A)&&Q(A)===ne&&pe(A)===ce,ge=ve(A,!1);const Oe=()=>{ge=!0,A.destroyed&&(Ee=!1),(!Ee||A.readable&&!ne)&&(!ne||ye)&&g.call(A)};let ye=oe(A,!1);const Se=()=>{ye=!0,A.destroyed&&(Ee=!1),(!Ee||A.writable&&!ce)&&(!ce||ge)&&g.call(A)},he=Ie=>{g.call(A,Ie)};let fe=re(A);const ee=()=>{fe=!0;const Ie=we(A)||se(A);return Ie&&"boolean"!=typeof Ie?g.call(A,Ie):ne&&!ye&&Q(A,!0)&&!oe(A,!1)?g.call(A,new S):!ce||ge||ve(A,!1)?void g.call(A):g.call(A,new S)},ie=()=>{fe=!0;const Ie=we(A)||se(A);if(Ie&&"boolean"!=typeof Ie)return g.call(A,Ie);g.call(A)},ue=()=>{A.req.on("finish",Oe)};!function y(A){return A.setHeader&&"function"==typeof A.abort}(A)?ce&&!Ae&&(A.on("end",Fe),A.on("close",Fe)):(A.on("complete",Oe),Ee||A.on("abort",ee),A.req?ue():A.on("request",ue)),!Ee&&"boolean"==typeof A.aborted&&A.on("aborted",ee),A.on("end",Se),A.on("finish",Oe),!1!==l.error&&A.on("error",he),A.on("close",ee),fe?m.nextTick(ee):null!=Ae&&Ae.errorEmitted||null!=ke&&ke.errorEmitted?Ee||m.nextTick(ie):(!ne&&(!Ee||te(A))&&(ge||!1===ae(A))||!ce&&(!Ee||ae(A))&&(ye||!1===te(A))||ke&&A.req&&A.aborted)&&m.nextTick(ie);const be=()=>{g=w,A.removeListener("aborted",ee),A.removeListener("complete",Oe),A.removeListener("abort",ee),A.removeListener("request",ue),A.req&&A.req.removeListener("finish",Oe),A.removeListener("end",Fe),A.removeListener("close",Fe),A.removeListener("finish",Oe),A.removeListener("end",Se),A.removeListener("error",he),A.removeListener("close",ee)};if(l.signal&&!fe){const Ie=()=>{const Ne=g;be(),Ne.call(A,new x(void 0,{cause:l.signal.reason}))};if(l.signal.aborted)m.nextTick(Ie);else{h=h||E(13509).addAbortListener;const Ne=h(l.signal,Ie),Be=g;g=M((...yt)=>{Ne[Z](),Be.apply(A,yt)})}}return be}Le.exports=T,Le.exports.finished=function j(A,l){var g;let G=!1;return null===l&&(l=L),null!==(g=l)&&void 0!==g&&g.cleanup&&(I(l.cleanup,"cleanup"),G=l.cleanup),new X((H,ne)=>{const ce=T(A,l,Ae=>{G&&ce(),Ae?ne(Ae):H()})})}},45737:(Le,z,E)=>{"use strict";var m=E(29293).default;const x=E(40573),{PromisePrototypeThen:R,SymbolAsyncIterator:W,SymbolIterator:S}=E(56389),{Buffer:L}=E(68316),{ERR_INVALID_ARG_TYPE:M,ERR_STREAM_NULL_VALUES:N}=E(68154).codes;Le.exports=function $(F,I,X){let V,Z;if("string"==typeof I||I instanceof L)return new F({objectMode:!0,...X,read(){this.push(I),this.push(null)}});if(I&&I[W])Z=!0,V=I[W]();else{if(!I||!I[S])throw new M("iterable",["Iterable"],I);Z=!1,V=I[S]()}const re=new F({objectMode:!0,highWaterMark:1,...X});let te=!1;function J(){return(J=m(function*(ae){if(null!=ae&&"function"==typeof V.throw){const{value:ve,done:we}=yield V.throw(ae);if(yield ve,we)return}if("function"==typeof V.return){const{value:ve}=yield V.return();yield ve}})).apply(this,arguments)}function se(){return(se=m(function*(){for(;;){try{const{value:ae,done:pe}=Z?yield V.next():V.next();if(pe)re.push(null);else{const le=ae&&"function"==typeof ae.then?yield ae:ae;if(null===le)throw te=!1,new N;if(re.push(le))continue;te=!1}}catch(ae){re.destroy(ae)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function oe(){se.apply(this,arguments)}())},re._destroy=function(ae,pe){R(function Q(ae){return J.apply(this,arguments)}(ae),()=>x.nextTick(pe,ae),le=>x.nextTick(pe,le||ae))},re}},91242:(Le,z,E)=>{"use strict";const{ArrayIsArray:m,ObjectSetPrototypeOf:x}=E(56389),{EventEmitter:R}=E(44356);function W(L){R.call(this,L)}function S(L,M,N){if("function"==typeof L.prependListener)return L.prependListener(M,N);L._events&&L._events[M]?m(L._events[M])?L._events[M].unshift(N):L._events[M]=[N,L._events[M]]:L.on(M,N)}x(W.prototype,R.prototype),x(W,R),W.prototype.pipe=function(L,M){const N=this;function $(te){L.writable&&!1===L.write(te)&&N.pause&&N.pause()}function F(){N.readable&&N.resume&&N.resume()}N.on("data",$),L.on("drain",F),!L._isStdio&&(!M||!1!==M.end)&&(N.on("end",X),N.on("close",V));let I=!1;function X(){I||(I=!0,L.end())}function V(){I||(I=!0,"function"==typeof L.destroy&&L.destroy())}function Z(te){re(),0===R.listenerCount(this,"error")&&this.emit("error",te)}function re(){N.removeListener("data",$),L.removeListener("drain",F),N.removeListener("end",X),N.removeListener("close",V),N.removeListener("error",Z),L.removeListener("error",Z),N.removeListener("end",re),N.removeListener("close",re),L.removeListener("close",re)}return S(N,"error",Z),S(L,"error",Z),N.on("end",re),N.on("close",re),L.on("close",re),L.emit("pipe",N),L},Le.exports={Stream:W,prependListener:S}},21840:(Le,z,E)=>{"use strict";var m=E(29293).default,x=E(93513).default,R=E(82881).default,W=E(53344).default,S=E(42958).default;const L=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:M,ERR_INVALID_ARG_TYPE:N,ERR_MISSING_ARGS:$,ERR_OUT_OF_RANGE:F},AbortError:I}=E(68154),{validateAbortSignal:X,validateInteger:V,validateObject:Z}=E(99852),re=E(56389).Symbol("kWeak"),te=E(56389).Symbol("kResistStopPropagation"),{finished:Q}=E(46017),J=E(373),{addAbortSignalNoValidate:oe}=E(57062),{isWritable:se,isNodeStream:ae}=E(32924),{deprecate:pe}=E(13509),{ArrayPrototypePush:le,Boolean:ve,MathFloor:we,Number:De,NumberIsNaN:k,Promise:u,PromiseReject:h,PromiseResolve:y,PromisePrototypeThen:w,Symbol:T}=E(56389),D=T("kEmpty"),j=T("kEof");function l(Ie,Ne){if("function"!=typeof Ie)throw new N("fn",["Function","AsyncFunction"],Ie);null!=Ne&&Z(Ne,"options"),null!=Ne?.signal&&X(Ne.signal,"options.signal");let Be=1;null!=Ne?.concurrency&&(Be=we(Ne.concurrency));let yt=Be-1;return null!=Ne?.highWaterMark&&(yt=we(Ne.highWaterMark)),V(Be,"options.concurrency",1),V(yt,"options.highWaterMark",0),yt+=Be,function(){var Ke=S(function*(){const ot=E(13509).AbortSignalAny([Ne?.signal].filter(ve)),U=this,_=[],p={signal:ot};let O,q,me=!1,xe=0;function qe(){me=!0,At()}function At(){xe-=1,ut()}function ut(){q&&!me&&xe<Be&&_.length<yt&&(q(),q=null)}function Lt(){return(Lt=m(function*(){try{var Jn,en=!1,Zt=!1;try{for(var Vt,yn=R(U);en=!(Vt=yield yn.next()).done;en=!1){let $t=Vt.value;if(me)return;if(ot.aborted)throw new I;try{if($t=Ie($t,p),$t===D)continue;$t=y($t)}catch(mt){$t=h(mt)}xe+=1,w($t,At,qe),_.push($t),O&&(O(),O=null),!me&&(_.length>=yt||xe>=Be)&&(yield new u(mt=>{q=mt}))}}catch($t){Zt=!0,Jn=$t}finally{try{en&&null!=yn.return&&(yield yn.return())}finally{if(Zt)throw Jn}}_.push(j)}catch($t){const mt=h($t);w(mt,At,qe),_.push(mt)}finally{me=!0,O&&(O(),O=null)}})).apply(this,arguments)}!function bt(){Lt.apply(this,arguments)}();try{for(;;){for(;_.length>0;){const en=yield W(_[0]);if(en===j)return;if(ot.aborted)throw new I;en!==D&&(yield en),_.shift(),ut()}yield W(new u(en=>{O=en}))}}finally{me=!0,q&&(q(),q=null)}});return function Re(){return Ke.apply(this,arguments)}}().call(this)}function G(Ie){return H.apply(this,arguments)}function H(){return(H=m(function*(Ie,Ne=void 0){var Ke,Be=!1,yt=!1;try{for(var Re=R(ge.call(this,Ie,Ne));Be=!(yield Re.next()).done;Be=!1)return!0}catch(U){yt=!0,Ke=U}finally{try{Be&&null!=Re.return&&(yield Re.return())}finally{if(yt)throw Ke}}return!1})).apply(this,arguments)}function ce(){return(ce=m(function*(Ie,Ne=void 0){if("function"!=typeof Ie)throw new N("fn",["Function","AsyncFunction"],Ie);return!(yield G.call(this,m(function*(...Be){return!(yield Ie(...Be))}),Ne))})).apply(this,arguments)}function ke(){return(ke=m(function*(Ie,Ne){var Ke,Be=!1,yt=!1;try{for(var ot,Re=R(ge.call(this,Ie,Ne));Be=!(ot=yield Re.next()).done;Be=!1)return ot.value}catch(U){yt=!0,Ke=U}finally{try{Be&&null!=Re.return&&(yield Re.return())}finally{if(yt)throw Ke}}})).apply(this,arguments)}function Ee(){return Ee=m(function*(Ie,Ne){if("function"!=typeof Ie)throw new N("fn",["Function","AsyncFunction"],Ie);function yt(){return(yt=m(function*(p,O){return yield Ie(p,O),D})).apply(this,arguments)}var ot,Ke=!1,Re=!1;try{for(var U=R(l.call(this,function Be(p,O){return yt.apply(this,arguments)},Ne));Ke=!(yield U.next()).done;Ke=!1);}catch(p){Re=!0,ot=p}finally{try{Ke&&null!=U.return&&(yield U.return())}finally{if(Re)throw ot}}}),Ee.apply(this,arguments)}function ge(Ie,Ne){if("function"!=typeof Ie)throw new N("fn",["Function","AsyncFunction"],Ie);function yt(){return(yt=m(function*(Ke,Re){return(yield Ie(Ke,Re))?Ke:D})).apply(this,arguments)}return l.call(this,function Be(Ke,Re){return yt.apply(this,arguments)},Ne)}class Oe extends ${constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Se(){return Se=m(function*(Ie,Ne,Be){var yt;if("function"!=typeof Ie)throw new N("reducer",["Function","AsyncFunction"],Ie);null!=Be&&Z(Be,"options"),null!=Be?.signal&&X(Be.signal,"options.signal");let Ke=arguments.length>1;if(null!=Be&&null!==(yt=Be.signal)&&void 0!==yt&&yt.aborted){const qe=new I(void 0,{cause:Be.signal.reason});throw this.once("error",()=>{}),yield Q(this.destroy(qe)),qe}const Re=new L,ot=Re.signal;null!=Be&&Be.signal&&Be.signal.addEventListener("abort",()=>Re.abort(),{once:!0,[re]:this,[te]:!0});let U=!1;try{var O,_=!1,p=!1;try{for(var me,q=R(this);_=!(me=yield q.next()).done;_=!1){const qe=me.value;var xe;if(U=!0,null!=Be&&null!==(xe=Be.signal)&&void 0!==xe&&xe.aborted)throw new I;Ke?Ne=yield Ie(Ne,qe,{signal:ot}):(Ne=qe,Ke=!0)}}catch(qe){p=!0,O=qe}finally{try{_&&null!=q.return&&(yield q.return())}finally{if(p)throw O}}if(!U&&!Ke)throw new Oe}finally{Re.abort()}return Ne}),Se.apply(this,arguments)}function fe(){return(fe=m(function*(Ie){null!=Ie&&Z(Ie,"options"),null!=Ie?.signal&&X(Ie.signal,"options.signal");const Ne=[];var Ke,Be=!1,yt=!1;try{for(var ot,Re=R(this);Be=!(ot=yield Re.next()).done;Be=!1){const _=ot.value;var U;if(null!=Ie&&null!==(U=Ie.signal)&&void 0!==U&&U.aborted)throw new I(void 0,{cause:Ie.signal.reason});le(Ne,_)}}catch(_){yt=!0,Ke=_}finally{try{Be&&null!=Re.return&&(yield Re.return())}finally{if(yt)throw Ke}}return Ne})).apply(this,arguments)}function ie(Ie){if(Ie=De(Ie),k(Ie))return 0;if(Ie<0)throw new F("number",">= 0",Ie);return Ie}Le.exports.streamReturningOperators={asIndexedPairs:pe(function g(Ie=void 0){return null!=Ie&&Z(Ie,"options"),null!=Ie?.signal&&X(Ie.signal,"options.signal"),function(){var Ne=S(function*(){let yt=0;var ot,Ke=!1,Re=!1;try{for(var _,U=R(this);Ke=!(_=yield W(U.next())).done;Ke=!1){const O=_.value;var p;if(null!=Ie&&null!==(p=Ie.signal)&&void 0!==p&&p.aborted)throw new I({cause:Ie.signal.reason});yield[yt++,O]}}catch(O){Re=!0,ot=O}finally{try{Ke&&null!=U.return&&(yield W(U.return()))}finally{if(Re)throw ot}}});return function Be(){return Ne.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function ue(Ie,Ne=void 0){return null!=Ne&&Z(Ne,"options"),null!=Ne?.signal&&X(Ne.signal,"options.signal"),Ie=ie(Ie),function(){var Be=S(function*(){var Ke;if(null!=Ne&&null!==(Ke=Ne.signal)&&void 0!==Ke&&Ke.aborted)throw new I;var U,Re=!1,ot=!1;try{for(var p,_=R(this);Re=!(p=yield W(_.next())).done;Re=!1){const q=p.value;var O;if(null!=Ne&&null!==(O=Ne.signal)&&void 0!==O&&O.aborted)throw new I;Ie--<=0&&(yield q)}}catch(q){ot=!0,U=q}finally{try{Re&&null!=_.return&&(yield W(_.return()))}finally{if(ot)throw U}}});return function yt(){return Be.apply(this,arguments)}}().call(this)},filter:ge,flatMap:function ee(Ie,Ne){const Be=l.call(this,Ie,Ne);return function(){var yt=S(function*(){var U,Re=!1,ot=!1;try{for(var p,_=R(Be);Re=!(p=yield W(_.next())).done;Re=!1){const O=p.value;yield*x(R(O),W)}}catch(O){ot=!0,U=O}finally{try{Re&&null!=_.return&&(yield W(_.return()))}finally{if(ot)throw U}}});return function Ke(){return yt.apply(this,arguments)}}().call(this)},map:l,take:function be(Ie,Ne=void 0){return null!=Ne&&Z(Ne,"options"),null!=Ne?.signal&&X(Ne.signal,"options.signal"),Ie=ie(Ie),function(){var Be=S(function*(){var Ke;if(null!=Ne&&null!==(Ke=Ne.signal)&&void 0!==Ke&&Ke.aborted)throw new I;var U,Re=!1,ot=!1;try{for(var p,_=R(this);Re=!(p=yield W(_.next())).done;Re=!1){const q=p.value;var O;if(null!=Ne&&null!==(O=Ne.signal)&&void 0!==O&&O.aborted)throw new I;if(Ie-- >0&&(yield q),Ie<=0)return}}catch(q){ot=!0,U=q}finally{try{Re&&null!=_.return&&(yield W(_.return()))}finally{if(ot)throw U}}});return function yt(){return Be.apply(this,arguments)}}().call(this)},compose:function A(Ie,Ne){if(null!=Ne&&Z(Ne,"options"),null!=Ne?.signal&&X(Ne.signal,"options.signal"),ae(Ie)&&!se(Ie))throw new M("stream",Ie,"must be writable");const Be=J(this,Ie);return null!=Ne&&Ne.signal&&oe(Ne.signal,Be),Be}},Le.exports.promiseReturningOperators={every:function ne(Ie){return ce.apply(this,arguments)},forEach:function Fe(Ie,Ne){return Ee.apply(this,arguments)},reduce:function ye(Ie,Ne,Be){return Se.apply(this,arguments)},toArray:function he(Ie){return fe.apply(this,arguments)},some:G,find:function Ae(Ie,Ne){return ke.apply(this,arguments)}}},59447:(Le,z,E)=>{"use strict";const{ObjectSetPrototypeOf:m}=E(56389);Le.exports=R;const x=E(71981);function R(W){if(!(this instanceof R))return new R(W);x.call(this,W)}m(R.prototype,x.prototype),m(R,x),R.prototype._transform=function(W,S,L){L(null,W)}},67843:(Le,z,E)=>{var m=E(29293).default,x=E(42958).default,R=E(53344).default,W=E(93513).default,S=E(82881).default;const L=E(40573),{ArrayIsArray:M,Promise:N,SymbolAsyncIterator:$,SymbolDispose:F}=E(56389),I=E(46017),{once:X}=E(13509),V=E(96507),Z=E(13323),{aggregateTwoErrors:re,codes:{ERR_INVALID_ARG_TYPE:te,ERR_INVALID_RETURN_VALUE:Q,ERR_MISSING_ARGS:J,ERR_STREAM_DESTROYED:oe,ERR_STREAM_PREMATURE_CLOSE:se},AbortError:ae}=E(68154),{validateFunction:pe,validateAbortSignal:le}=E(99852),{isIterable:ve,isReadable:we,isReadableNodeStream:De,isNodeStream:k,isTransformStream:u,isWebStream:h,isReadableStream:y,isReadableFinished:w}=E(32924),T=globalThis.AbortController||E(9465).AbortController;let D,j,A;function l(ye,Se,he){let fe=!1;return ye.on("close",()=>{fe=!0}),{destroy:ie=>{fe||(fe=!0,V.destroyer(ye,ie||new oe("pipe")))},cleanup:I(ye,{readable:Se,writable:he},ie=>{fe=!ie})}}function G(ye){if(ve(ye))return ye;if(De(ye))return function H(ye){return ne.apply(this,arguments)}(ye);throw new te("val",["Readable","Iterable","AsyncIterable"],ye)}function ne(){return(ne=x(function*(ye){j||(j=E(84553)),yield*W(S(j.prototype[$].call(ye)),R)})).apply(this,arguments)}function ce(ye,Se,he,fe){return Ae.apply(this,arguments)}function Ae(){return(Ae=m(function*(ye,Se,he,{end:fe}){let ee,ie=null;const ue=ot=>{if(ot&&(ee=ot),ie){const U=ie;ie=null,U()}},be=()=>new N((ot,U)=>{ee?U(ee):ie=()=>{ee?U(ee):ot()}});Se.on("drain",ue);const Ie=I(Se,{readable:!1},ue);try{Se.writableNeedDrain&&(yield be());var yt,Ne=!1,Be=!1;try{for(var Re,Ke=S(ye);Ne=!(Re=yield Ke.next()).done;Ne=!1)Se.write(Re.value)||(yield be())}catch(ot){Be=!0,yt=ot}finally{try{Ne&&null!=Ke.return&&(yield Ke.return())}finally{if(Be)throw yt}}fe&&(Se.end(),yield be()),he()}catch(ot){he(ee!==ot?re(ee,ot):ot)}finally{Ie(),Se.off("drain",ue)}})).apply(this,arguments)}function ke(ye,Se,he,fe){return Fe.apply(this,arguments)}function Fe(){return(Fe=m(function*(ye,Se,he,{end:fe}){u(Se)&&(Se=Se.writable);const ee=Se.getWriter();try{var be,ie=!1,ue=!1;try{for(var Ne,Ie=S(ye);ie=!(Ne=yield Ie.next()).done;ie=!1){const Be=Ne.value;yield ee.ready,ee.write(Be).catch(()=>{})}}catch(Be){ue=!0,be=Be}finally{try{ie&&null!=Ie.return&&(yield Ie.return())}finally{if(ue)throw be}}yield ee.ready,fe&&(yield ee.close()),he()}catch(Be){try{yield ee.abort(Be),he(Be)}catch(yt){he(yt)}}})).apply(this,arguments)}function ge(ye,Se,he){if(1===ye.length&&M(ye[0])&&(ye=ye[0]),ye.length<2)throw new J("streams");const fe=new T,ee=fe.signal,ie=he?.signal,ue=[];function be(){ot(new ae)}let Ie,Ne,Be;le(ie,"options.signal"),A=A||E(13509).addAbortListener,ie&&(Ie=A(ie,be));const yt=[];let U,Ke=0;function Re(q){ot(q,0==--Ke)}function ot(q,me){var xe;if(q&&(!Ne||"ERR_STREAM_PREMATURE_CLOSE"===Ne.code)&&(Ne=q),Ne||me){for(;yt.length;)yt.shift()(Ne);null===(xe=Ie)||void 0===xe||xe[F](),fe.abort(),me&&(Ne||ue.forEach(qe=>qe()),L.nextTick(Se,Ne,Be))}}for(let q=0;q<ye.length;q++){const me=ye[q],xe=q<ye.length-1,qe=q>0,At=xe||!1!==he?.end,ut=q===ye.length-1;if(k(me)){let bt=function(Lt){Lt&&"AbortError"!==Lt.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Lt.code&&Re(Lt)};if(At){const{destroy:Lt,cleanup:en}=l(me,xe,qe);yt.push(Lt),we(me)&&ut&&ue.push(en)}me.on("error",bt),we(me)&&ut&&ue.push(()=>{me.removeListener("error",bt)})}if(0===q)if("function"==typeof me){if(U=me({signal:ee}),!ve(U))throw new Q("Iterable, AsyncIterable or Stream","source",U)}else U=ve(me)||De(me)||u(me)?me:Z.from(me);else if("function"==typeof me){var _;if(U=u(U)?G(null===(_=U)||void 0===_?void 0:_.readable):G(U),U=me(U,{signal:ee}),xe){if(!ve(U,!0))throw new Q("AsyncIterable",`transform[${q-1}]`,U)}else{var p;D||(D=E(59447));const bt=new D({objectMode:!0}),Lt=null===(p=U)||void 0===p?void 0:p.then;if("function"==typeof Lt)Ke++,Lt.call(U,Jn=>{Be=Jn,null!=Jn&&bt.write(Jn),At&&bt.end(),L.nextTick(Re)},Jn=>{bt.destroy(Jn),L.nextTick(Re,Jn)});else if(ve(U,!0))Ke++,ce(U,bt,Re,{end:At});else{if(!y(U)&&!u(U))throw new Q("AsyncIterable or Promise","destination",U);Ke++,ce(U.readable||U,bt,Re,{end:At})}U=bt;const{destroy:en,cleanup:Zt}=l(U,!1,!0);yt.push(en),ut&&ue.push(Zt)}}else if(k(me)){if(De(U)){Ke+=2;const bt=Oe(U,me,Re,{end:At});we(me)&&ut&&ue.push(bt)}else if(u(U)||y(U))Ke++,ce(U.readable||U,me,Re,{end:At});else{if(!ve(U))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],U);Ke++,ce(U,me,Re,{end:At})}U=me}else if(h(me)){if(De(U))Ke++,ke(G(U),me,Re,{end:At});else if(y(U)||ve(U))Ke++,ke(U,me,Re,{end:At});else{if(!u(U))throw new te("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],U);Ke++,ke(U.readable,me,Re,{end:At})}U=me}else U=Z.from(me)}return(null!=ee&&ee.aborted||null!=ie&&ie.aborted)&&L.nextTick(be),U}function Oe(ye,Se,he,{end:fe}){let ee=!1;if(Se.on("close",()=>{ee||he(new se)}),ye.pipe(Se,{end:!1}),fe){let ue=function(){ee=!0,Se.end()};w(ye)?L.nextTick(ue):ye.once("end",ue)}else he();return I(ye,{readable:!0,writable:!1},ue=>{const be=ye._readableState;ue&&"ERR_STREAM_PREMATURE_CLOSE"===ue.code&&be&&be.ended&&!be.errored&&!be.errorEmitted?ye.once("end",he).once("error",he):he(ue)}),I(Se,{readable:!1,writable:!0},he)}Le.exports={pipelineImpl:ge,pipeline:function Ee(...ye){return ge(ye,X(function g(ye){return pe(ye[ye.length-1],"streams[stream.length - 1]"),ye.pop()}(ye)))}}},84553:(Le,z,E)=>{var m=E(53344).default,x=E(42958).default;const R=E(40573),{ArrayPrototypeIndexOf:W,NumberIsInteger:S,NumberIsNaN:L,NumberParseInt:M,ObjectDefineProperties:N,ObjectKeys:$,ObjectSetPrototypeOf:F,Promise:I,SafeSet:X,SymbolAsyncDispose:V,SymbolAsyncIterator:Z,Symbol:re}=E(56389);Le.exports=Re,Re.ReadableState=Ke;const{EventEmitter:te}=E(44356),{Stream:Q,prependListener:J}=E(91242),{Buffer:oe}=E(68316),{addAbortSignal:se}=E(57062),ae=E(46017);let pe=E(13509).debuglog("stream",ft=>{pe=ft});const le=E(16630),ve=E(96507),{getHighWaterMark:we,getDefaultHighWaterMark:De}=E(18212),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:u,ERR_METHOD_NOT_IMPLEMENTED:h,ERR_OUT_OF_RANGE:y,ERR_STREAM_PUSH_AFTER_EOF:w,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:T},AbortError:D}=E(68154),{validateObject:j}=E(99852),A=re("kPaused"),{StringDecoder:l}=E(78454),g=E(45737);F(Re.prototype,Q.prototype),F(Re,Q);const G=()=>{},{errorOrDestroy:H}=ve,ne=1,Fe=16,Ee=32,ge=64,fe=2048,ee=4096,Ie=65536;function yt(ft){return{enumerable:!1,get(){return!!(this.state&ft)},set(gt){gt?this.state|=ft:this.state&=~ft}}}function Ke(ft,gt,vt){"boolean"!=typeof vt&&(vt=gt instanceof E(13323)),this.state=fe|ee|Fe|Ee,ft&&ft.objectMode&&(this.state|=ne),vt&&ft&&ft.readableObjectMode&&(this.state|=ne),this.highWaterMark=ft?we(this,ft,"readableHighWaterMark",vt):De(!1),this.buffer=new le,this.length=0,this.pipes=[],this.flowing=null,this[A]=null,ft&&!1===ft.emitClose&&(this.state&=~fe),ft&&!1===ft.autoDestroy&&(this.state&=~ee),this.errored=null,this.defaultEncoding=ft&&ft.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ft&&ft.encoding&&(this.decoder=new l(ft.encoding),this.encoding=ft.encoding)}function Re(ft){if(!(this instanceof Re))return new Re(ft);const gt=this instanceof E(13323);this._readableState=new Ke(ft,this,gt),ft&&("function"==typeof ft.read&&(this._read=ft.read),"function"==typeof ft.destroy&&(this._destroy=ft.destroy),"function"==typeof ft.construct&&(this._construct=ft.construct),ft.signal&&!gt&&se(ft.signal,this)),Q.call(this,ft),ve.construct(this,()=>{this._readableState.needReadable&&qe(this,this._readableState)})}function ot(ft,gt,vt,He){pe("readableAddChunk",gt);const Je=ft._readableState;let Bt;if(Je.state&ne||("string"==typeof gt?Je.encoding!==(vt=vt||Je.defaultEncoding)&&(He&&Je.encoding?gt=oe.from(gt,vt).toString(Je.encoding):(gt=oe.from(gt,vt),vt="")):gt instanceof oe?vt="":Q._isUint8Array(gt)?(gt=Q._uint8ArrayToBuffer(gt),vt=""):null!=gt&&(Bt=new u("chunk",["string","Buffer","Uint8Array"],gt))),Bt)H(ft,Bt);else if(null===gt)Je.state&=-9,function q(ft,gt){if(pe("onEofChunk"),!gt.ended){if(gt.decoder){const vt=gt.decoder.end();vt&&vt.length&&(gt.buffer.push(vt),gt.length+=gt.objectMode?1:vt.length)}gt.ended=!0,gt.sync?me(ft):(gt.needReadable=!1,gt.emittedReadable=!0,xe(ft))}}(ft,Je);else if(Je.state&ne||gt&&gt.length>0)if(He)if(4&Je.state)H(ft,new T);else{if(Je.destroyed||Je.errored)return!1;U(ft,Je,gt,!0)}else if(Je.ended)H(ft,new w);else{if(Je.destroyed||Je.errored)return!1;Je.state&=-9,Je.decoder&&!vt?(gt=Je.decoder.write(gt),Je.objectMode||0!==gt.length?U(ft,Je,gt,!1):qe(ft,Je)):U(ft,Je,gt,!1)}else He||(Je.state&=-9,qe(ft,Je));return!Je.ended&&(Je.length<Je.highWaterMark||0===Je.length)}function U(ft,gt,vt,He){gt.flowing&&0===gt.length&&!gt.sync&&ft.listenerCount("data")>0?(gt.state&Ie?gt.awaitDrainWriters.clear():gt.awaitDrainWriters=null,gt.dataEmitted=!0,ft.emit("data",vt)):(gt.length+=gt.objectMode?1:vt.length,He?gt.buffer.unshift(vt):gt.buffer.push(vt),gt.state&ge&&me(ft)),qe(ft,gt)}function O(ft,gt){return ft<=0||0===gt.length&&gt.ended?0:gt.state&ne?1:L(ft)?gt.flowing&&gt.length?gt.buffer.first().length:gt.length:ft<=gt.length?ft:gt.ended?gt.length:0}function me(ft){const gt=ft._readableState;pe("emitReadable",gt.needReadable,gt.emittedReadable),gt.needReadable=!1,gt.emittedReadable||(pe("emitReadable",gt.flowing),gt.emittedReadable=!0,R.nextTick(xe,ft))}function xe(ft){const gt=ft._readableState;pe("emitReadable_",gt.destroyed,gt.length,gt.ended),!gt.destroyed&&!gt.errored&&(gt.length||gt.ended)&&(ft.emit("readable"),gt.emittedReadable=!1),gt.needReadable=!gt.flowing&&!gt.ended&&gt.length<=gt.highWaterMark,Jn(ft)}function qe(ft,gt){!gt.readingMore&&gt.constructed&&(gt.readingMore=!0,R.nextTick(At,ft,gt))}function At(ft,gt){for(;!gt.reading&&!gt.ended&&(gt.length<gt.highWaterMark||gt.flowing&&0===gt.length);){const vt=gt.length;if(pe("maybeReadMore read 0"),ft.read(0),vt===gt.length)break}gt.readingMore=!1}function bt(ft){const gt=ft._readableState;gt.readableListening=ft.listenerCount("readable")>0,gt.resumeScheduled&&!1===gt[A]?gt.flowing=!0:ft.listenerCount("data")>0?ft.resume():gt.readableListening||(gt.flowing=null)}function Lt(ft){pe("readable nexttick read 0"),ft.read(0)}function Zt(ft,gt){pe("resume",gt.reading),gt.reading||ft.read(0),gt.resumeScheduled=!1,ft.emit("resume"),Jn(ft),gt.flowing&&!gt.reading&&ft.read(0)}function Jn(ft){const gt=ft._readableState;for(pe("flow",gt.flowing);gt.flowing&&null!==ft.read(););}function yn(ft,gt){"function"!=typeof ft.read&&(ft=Re.wrap(ft,{objectMode:!0}));const vt=function Vt(ft,gt){return $t.apply(this,arguments)}(ft,gt);return vt.stream=ft,vt}function $t(){return($t=x(function*(ft,gt){let Je,vt=G;function He(Tt){this===ft?(vt(),vt=G):vt=Tt}ft.on("readable",He);const Bt=ae(ft,{writable:!1},Tt=>{Je=Tt?k(Je,Tt):null,vt(),vt=G});try{for(;;){const Tt=ft.destroyed?null:ft.read();if(null!==Tt)yield Tt;else{if(Je)throw Je;if(null===Je)return;yield m(new I(He))}}}catch(Tt){throw Je=k(Je,Tt),Je}finally{!Je&&!1===gt?.destroyOnReturn||void 0!==Je&&!ft._readableState.autoDestroy?(ft.off("readable",He),Bt()):ve.destroyer(ft,null)}})).apply(this,arguments)}function mt(ft,gt){if(0===gt.length)return null;let vt;return gt.objectMode?vt=gt.buffer.shift():!ft||ft>=gt.length?(vt=gt.decoder?gt.buffer.join(""):1===gt.buffer.length?gt.buffer.first():gt.buffer.concat(gt.length),gt.buffer.clear()):vt=gt.buffer.consume(ft,gt.decoder),vt}function st(ft){const gt=ft._readableState;pe("endReadable",gt.endEmitted),gt.endEmitted||(gt.ended=!0,R.nextTick(Nt,gt,ft))}function Nt(ft,gt){if(pe("endReadableNT",ft.endEmitted,ft.length),!ft.errored&&!ft.closeEmitted&&!ft.endEmitted&&0===ft.length)if(ft.endEmitted=!0,gt.emit("end"),gt.writable&&!1===gt.allowHalfOpen)R.nextTick(Kt,gt);else if(ft.autoDestroy){const vt=gt._writableState;(!vt||vt.autoDestroy&&(vt.finished||!1===vt.writable))&&gt.destroy()}}function Kt(ft){ft.writable&&!ft.writableEnded&&!ft.destroyed&&ft.end()}let qt;function or(){return void 0===qt&&(qt={}),qt}N(Ke.prototype,{objectMode:yt(ne),ended:yt(2),endEmitted:yt(4),reading:yt(8),constructed:yt(Fe),sync:yt(Ee),needReadable:yt(ge),emittedReadable:yt(128),readableListening:yt(256),resumeScheduled:yt(512),errorEmitted:yt(1024),emitClose:yt(fe),autoDestroy:yt(ee),destroyed:yt(8192),closed:yt(16384),closeEmitted:yt(32768),multiAwaitDrain:yt(Ie),readingMore:yt(1<<17),dataEmitted:yt(1<<18)}),Re.prototype.destroy=ve.destroy,Re.prototype._undestroy=ve.undestroy,Re.prototype._destroy=function(ft,gt){gt(ft)},Re.prototype[te.captureRejectionSymbol]=function(ft){this.destroy(ft)},Re.prototype[V]=function(){let ft;return this.destroyed||(ft=this.readableEnded?null:new D,this.destroy(ft)),new I((gt,vt)=>ae(this,He=>He&&He!==ft?vt(He):gt(null)))},Re.prototype.push=function(ft,gt){return ot(this,ft,gt,!1)},Re.prototype.unshift=function(ft,gt){return ot(this,ft,gt,!0)},Re.prototype.isPaused=function(){const ft=this._readableState;return!0===ft[A]||!1===ft.flowing},Re.prototype.setEncoding=function(ft){const gt=new l(ft);this._readableState.decoder=gt,this._readableState.encoding=this._readableState.decoder.encoding;const vt=this._readableState.buffer;let He="";for(const Je of vt)He+=gt.write(Je);return vt.clear(),""!==He&&vt.push(He),this._readableState.length=He.length,this},Re.prototype.read=function(ft){pe("read",ft),void 0===ft?ft=NaN:S(ft)||(ft=M(ft,10));const gt=this._readableState,vt=ft;if(ft>gt.highWaterMark&&(gt.highWaterMark=function p(ft){if(ft>1073741824)throw new y("size","<= 1GiB",ft);return ft--,ft|=ft>>>1,ft|=ft>>>2,ft|=ft>>>4,ft|=ft>>>8,ft|=ft>>>16,++ft}(ft)),0!==ft&&(gt.state&=-129),0===ft&&gt.needReadable&&((0!==gt.highWaterMark?gt.length>=gt.highWaterMark:gt.length>0)||gt.ended))return pe("read: emitReadable",gt.length,gt.ended),0===gt.length&&gt.ended?st(this):me(this),null;if(0===(ft=O(ft,gt))&&gt.ended)return 0===gt.length&&st(this),null;let Je,He=!!(gt.state&ge);if(pe("need readable",He),(0===gt.length||gt.length-ft<gt.highWaterMark)&&(He=!0,pe("length less than watermark",He)),gt.ended||gt.reading||gt.destroyed||gt.errored||!gt.constructed)He=!1,pe("reading, ended or constructing",He);else if(He){pe("do read"),gt.state|=8|Ee,0===gt.length&&(gt.state|=ge);try{this._read(gt.highWaterMark)}catch(Bt){H(this,Bt)}gt.state&=~Ee,gt.reading||(ft=O(vt,gt))}return Je=ft>0?mt(ft,gt):null,null===Je?(gt.needReadable=gt.length<=gt.highWaterMark,ft=0):(gt.length-=ft,gt.multiAwaitDrain?gt.awaitDrainWriters.clear():gt.awaitDrainWriters=null),0===gt.length&&(gt.ended||(gt.needReadable=!0),vt!==ft&&gt.ended&&st(this)),null!==Je&&!gt.errorEmitted&&!gt.closeEmitted&&(gt.dataEmitted=!0,this.emit("data",Je)),Je},Re.prototype._read=function(ft){throw new h("_read()")},Re.prototype.pipe=function(ft,gt){const vt=this,He=this._readableState;1===He.pipes.length&&(He.multiAwaitDrain||(He.multiAwaitDrain=!0,He.awaitDrainWriters=new X(He.awaitDrainWriters?[He.awaitDrainWriters]:[]))),He.pipes.push(ft),pe("pipe count=%d opts=%j",He.pipes.length,gt);const Bt=gt&&!1===gt.end||ft===R.stdout||ft===R.stderr?$e:Yt;function Yt(){pe("onend"),ft.end()}He.endEmitted?R.nextTick(Bt):vt.once("end",Bt),ft.on("unpipe",function Tt(it,jt){pe("onunpipe"),it===vt&&jt&&!1===jt.hasUnpiped&&(jt.hasUnpiped=!0,function pn(){pe("cleanup"),ft.removeListener("close",On),ft.removeListener("finish",nt),Pn&&ft.removeListener("drain",Pn),ft.removeListener("error",An),ft.removeListener("unpipe",Tt),vt.removeListener("end",Yt),vt.removeListener("end",$e),vt.removeListener("data",Un),cn=!0,Pn&&He.awaitDrainWriters&&(!ft._writableState||ft._writableState.needDrain)&&Pn()}())});let Pn,cn=!1;function vr(){cn||(1===He.pipes.length&&He.pipes[0]===ft?(pe("false write response, pause",0),He.awaitDrainWriters=ft,He.multiAwaitDrain=!1):He.pipes.length>1&&He.pipes.includes(ft)&&(pe("false write response, pause",He.awaitDrainWriters.size),He.awaitDrainWriters.add(ft)),vt.pause()),Pn||(Pn=function ut(ft,gt){return function(){const He=ft._readableState;He.awaitDrainWriters===gt?(pe("pipeOnDrain",1),He.awaitDrainWriters=null):He.multiAwaitDrain&&(pe("pipeOnDrain",He.awaitDrainWriters.size),He.awaitDrainWriters.delete(gt)),(!He.awaitDrainWriters||0===He.awaitDrainWriters.size)&&ft.listenerCount("data")&&ft.resume()}}(vt,ft),ft.on("drain",Pn))}function Un(it){pe("ondata");const jt=ft.write(it);pe("dest.write",jt),!1===jt&&vr()}function An(it){if(pe("onerror",it),$e(),ft.removeListener("error",An),0===ft.listenerCount("error")){const jt=ft._writableState||ft._readableState;jt&&!jt.errorEmitted?H(ft,it):ft.emit("error",it)}}function On(){ft.removeListener("finish",nt),$e()}function nt(){pe("onfinish"),ft.removeListener("close",On),$e()}function $e(){pe("unpipe"),vt.unpipe(ft)}return vt.on("data",Un),J(ft,"error",An),ft.once("close",On),ft.once("finish",nt),ft.emit("pipe",vt),!0===ft.writableNeedDrain?vr():He.flowing||(pe("pipe resume"),vt.resume()),ft},Re.prototype.unpipe=function(ft){const gt=this._readableState;if(0===gt.pipes.length)return this;if(!ft){const Je=gt.pipes;gt.pipes=[],this.pause();for(let Bt=0;Bt<Je.length;Bt++)Je[Bt].emit("unpipe",this,{hasUnpiped:!1});return this}const He=W(gt.pipes,ft);return-1===He||(gt.pipes.splice(He,1),0===gt.pipes.length&&this.pause(),ft.emit("unpipe",this,{hasUnpiped:!1})),this},Re.prototype.addListener=Re.prototype.on=function(ft,gt){const vt=Q.prototype.on.call(this,ft,gt),He=this._readableState;return"data"===ft?(He.readableListening=this.listenerCount("readable")>0,!1!==He.flowing&&this.resume()):"readable"===ft&&!He.endEmitted&&!He.readableListening&&(He.readableListening=He.needReadable=!0,He.flowing=!1,He.emittedReadable=!1,pe("on readable",He.length,He.reading),He.length?me(this):He.reading||R.nextTick(Lt,this)),vt},Re.prototype.off=Re.prototype.removeListener=function(ft,gt){const vt=Q.prototype.removeListener.call(this,ft,gt);return"readable"===ft&&R.nextTick(bt,this),vt},Re.prototype.removeAllListeners=function(ft){const gt=Q.prototype.removeAllListeners.apply(this,arguments);return("readable"===ft||void 0===ft)&&R.nextTick(bt,this),gt},Re.prototype.resume=function(){const ft=this._readableState;return ft.flowing||(pe("resume"),ft.flowing=!ft.readableListening,function en(ft,gt){gt.resumeScheduled||(gt.resumeScheduled=!0,R.nextTick(Zt,ft,gt))}(this,ft)),ft[A]=!1,this},Re.prototype.pause=function(){return pe("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(pe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[A]=!0,this},Re.prototype.wrap=function(ft){let gt=!1;ft.on("data",He=>{!this.push(He)&&ft.pause&&(gt=!0,ft.pause())}),ft.on("end",()=>{this.push(null)}),ft.on("error",He=>{H(this,He)}),ft.on("close",()=>{this.destroy()}),ft.on("destroy",()=>{this.destroy()}),this._read=()=>{gt&&ft.resume&&(gt=!1,ft.resume())};const vt=$(ft);for(let He=1;He<vt.length;He++){const Je=vt[He];void 0===this[Je]&&"function"==typeof ft[Je]&&(this[Je]=ft[Je].bind(ft))}return this},Re.prototype[Z]=function(){return yn(this)},Re.prototype.iterator=function(ft){return void 0!==ft&&j(ft,"options"),yn(this,ft)},N(Re.prototype,{readable:{__proto__:null,get(){const ft=this._readableState;return!(!ft||!1===ft.readable||ft.destroyed||ft.errorEmitted||ft.endEmitted)},set(ft){this._readableState&&(this._readableState.readable=!!ft)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ft){this._readableState&&(this._readableState.flowing=ft)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(ft){this._readableState&&(this._readableState.destroyed=ft)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),N(Ke.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[A]},set(ft){this[A]=!!ft}}}),Re._fromList=mt,Re.from=function(ft,gt){return g(Re,ft,gt)},Re.fromWeb=function(ft,gt){return or().newStreamReadableFromReadableStream(ft,gt)},Re.toWeb=function(ft,gt){return or().newReadableStreamFromStreamReadable(ft,gt)},Re.wrap=function(ft,gt){var vt,He;return new Re({objectMode:null===(vt=null!==(He=ft.readableObjectMode)&&void 0!==He?He:ft.objectMode)||void 0===vt||vt,...gt,destroy(Je,Bt){ve.destroyer(ft,Je),Bt(Je)}}).wrap(ft)}},18212:(Le,z,E)=>{"use strict";const{MathFloor:m,NumberIsInteger:x}=E(56389),{validateInteger:R}=E(99852),{ERR_INVALID_ARG_VALUE:W}=E(68154).codes;let S=16384,L=16;function N(I){return I?L:S}Le.exports={getHighWaterMark:function F(I,X,V,Z){const re=function M(I,X,V){return null!=I.highWaterMark?I.highWaterMark:X?I[V]:null}(X,Z,V);if(null!=re){if(!x(re)||re<0)throw new W(Z?`options.${V}`:"options.highWaterMark",re);return m(re)}return N(I.objectMode)},getDefaultHighWaterMark:N,setDefaultHighWaterMark:function $(I,X){R(X,"value",0),I?L=X:S=X}}},71981:(Le,z,E)=>{"use strict";const{ObjectSetPrototypeOf:m,Symbol:x}=E(56389);Le.exports=M;const{ERR_METHOD_NOT_IMPLEMENTED:R}=E(68154).codes,W=E(13323),{getHighWaterMark:S}=E(18212);m(M.prototype,W.prototype),m(M,W);const L=x("kCallback");function M(F){if(!(this instanceof M))return new M(F);const I=F?S(this,F,"readableHighWaterMark",!0):null;0===I&&(F={...F,highWaterMark:null,readableHighWaterMark:I,writableHighWaterMark:F.writableHighWaterMark||0}),W.call(this,F),this._readableState.sync=!1,this[L]=null,F&&("function"==typeof F.transform&&(this._transform=F.transform),"function"==typeof F.flush&&(this._flush=F.flush)),this.on("prefinish",$)}function N(F){"function"!=typeof this._flush||this.destroyed?(this.push(null),F&&F()):this._flush((I,X)=>{I?F?F(I):this.destroy(I):(null!=X&&this.push(X),this.push(null),F&&F())})}function $(){this._final!==N&&N.call(this)}M.prototype._final=N,M.prototype._transform=function(F,I,X){throw new R("_transform()")},M.prototype._write=function(F,I,X){const V=this._readableState,Z=this._writableState,re=V.length;this._transform(F,I,(te,Q)=>{te?X(te):(null!=Q&&this.push(Q),Z.ended||re===V.length||V.length<V.highWaterMark?X():this[L]=X)})},M.prototype._read=function(){if(this[L]){const F=this[L];this[L]=null,F()}}},32924:(Le,z,E)=>{"use strict";const{SymbolAsyncIterator:m,SymbolIterator:x,SymbolFor:R}=E(56389),W=R("nodejs.stream.destroyed"),S=R("nodejs.stream.errored"),L=R("nodejs.stream.readable"),M=R("nodejs.stream.writable"),N=R("nodejs.stream.disturbed"),$=R("nodejs.webstream.isClosedPromise"),F=R("nodejs.webstream.controllerErrorFunction");function I(g,G=!1){var H;return!(!g||"function"!=typeof g.pipe||"function"!=typeof g.on||G&&("function"!=typeof g.pause||"function"!=typeof g.resume)||g._writableState&&!1===(null===(H=g._readableState)||void 0===H?void 0:H.readable)||g._writableState&&!g._readableState)}function X(g){var G;return!(!g||"function"!=typeof g.write||"function"!=typeof g.on||g._readableState&&!1===(null===(G=g._writableState)||void 0===G?void 0:G.writable))}function Z(g){return g&&(g._readableState||g._writableState||"function"==typeof g.write&&"function"==typeof g.on||"function"==typeof g.pipe&&"function"==typeof g.on)}function re(g){return!(!g||Z(g)||"function"!=typeof g.pipeThrough||"function"!=typeof g.getReader||"function"!=typeof g.cancel)}function te(g){return!(!g||Z(g)||"function"!=typeof g.getWriter||"function"!=typeof g.abort)}function Q(g){return!(!g||Z(g)||"object"!=typeof g.readable||"object"!=typeof g.writable)}function se(g){if(!Z(g))return null;const ne=g._writableState||g._readableState;return!!(g.destroyed||g[W]||null!=ne&&ne.destroyed)}function ae(g){if(!X(g))return null;if(!0===g.writableEnded)return!0;const G=g._writableState;return(null==G||!G.errored)&&("boolean"!=typeof G?.ended?null:G.ended)}function ve(g,G){if(!I(g))return null;const H=g._readableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.endEmitted?null:!!(H.endEmitted||!1===G&&!0===H.ended&&0===H.length))}function we(g){return g&&null!=g[L]?g[L]:"boolean"!=typeof g?.readable?null:!se(g)&&I(g)&&g.readable&&!ve(g)}function De(g){return g&&null!=g[M]?g[M]:"boolean"!=typeof g?.writable?null:!se(g)&&X(g)&&g.writable&&!ae(g)}function w(g){return"boolean"==typeof g._closed&&"boolean"==typeof g._defaultKeepAlive&&"boolean"==typeof g._removedConnection&&"boolean"==typeof g._removedContLen}function T(g){return"boolean"==typeof g._sent100&&w(g)}Le.exports={isDestroyed:se,kIsDestroyed:W,isDisturbed:function A(g){var G;return!(!g||!(null!==(G=g[N])&&void 0!==G?G:g.readableDidRead||g.readableAborted))},kIsDisturbed:N,isErrored:function l(g){var G,H,ne,ce,Ae,ke,Fe,Ee,ge,Oe;return!(!g||!(null!==(G=null!==(H=null!==(ne=null!==(ce=null!==(Ae=null!==(ke=g[S])&&void 0!==ke?ke:g.readableErrored)&&void 0!==Ae?Ae:g.writableErrored)&&void 0!==ce?ce:null===(Fe=g._readableState)||void 0===Fe?void 0:Fe.errorEmitted)&&void 0!==ne?ne:null===(Ee=g._writableState)||void 0===Ee?void 0:Ee.errorEmitted)&&void 0!==H?H:null===(ge=g._readableState)||void 0===ge?void 0:ge.errored)&&void 0!==G?G:null!==(Oe=g._writableState)&&void 0!==Oe&&Oe.errored))},kIsErrored:S,isReadable:we,kIsReadable:L,kIsClosedPromise:$,kControllerErrorFunction:F,kIsWritable:M,isClosed:function y(g){if(!Z(g))return null;if("boolean"==typeof g.closed)return g.closed;const G=g._writableState,H=g._readableState;return"boolean"==typeof G?.closed||"boolean"==typeof H?.closed?G?.closed||H?.closed:"boolean"==typeof g._closed&&w(g)?g._closed:null},isDuplexNodeStream:function V(g){return!(!g||"function"!=typeof g.pipe||!g._readableState||"function"!=typeof g.on||"function"!=typeof g.write)},isFinished:function k(g,G){return Z(g)?!!se(g)||!(!1!==G?.readable&&we(g)||!1!==G?.writable&&De(g)):null},isIterable:function oe(g,G){return null!=g&&(!0===G?"function"==typeof g[m]:!1===G?"function"==typeof g[x]:"function"==typeof g[m]||"function"==typeof g[x])},isReadableNodeStream:I,isReadableStream:re,isReadableEnded:function le(g){if(!I(g))return null;if(!0===g.readableEnded)return!0;const G=g._readableState;return!(!G||G.errored)&&("boolean"!=typeof G?.ended?null:G.ended)},isReadableFinished:ve,isReadableErrored:function h(g){var G,H;return Z(g)?g.readableErrored?g.readableErrored:null!==(G=null===(H=g._readableState)||void 0===H?void 0:H.errored)&&void 0!==G?G:null:null},isNodeStream:Z,isWebStream:function J(g){return re(g)||te(g)||Q(g)},isWritable:De,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:ae,isWritableFinished:function pe(g,G){if(!X(g))return null;if(!0===g.writableFinished)return!0;const H=g._writableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.finished?null:!!(H.finished||!1===G&&!0===H.ended&&0===H.length))},isWritableErrored:function u(g){var G,H;return Z(g)?g.writableErrored?g.writableErrored:null!==(G=null===(H=g._writableState)||void 0===H?void 0:H.errored)&&void 0!==G?G:null:null},isServerRequest:function D(g){var G;return"boolean"==typeof g._consuming&&"boolean"==typeof g._dumped&&void 0===(null===(G=g.req)||void 0===G?void 0:G.upgradeOrConnect)},isServerResponse:T,willEmitClose:function j(g){if(!Z(g))return null;const ne=g._writableState||g._readableState;return!ne&&T(g)||!!(ne&&ne.autoDestroy&&ne.emitClose&&!1===ne.closed)},isTransformStream:Q}},30009:(Le,z,E)=>{const m=E(40573),{ArrayPrototypeSlice:x,Error:R,FunctionPrototypeSymbolHasInstance:W,ObjectDefineProperty:S,ObjectDefineProperties:L,ObjectSetPrototypeOf:M,StringPrototypeToLowerCase:N,Symbol:$,SymbolHasInstance:F}=E(56389);Le.exports=T,T.WritableState=y;const{EventEmitter:I}=E(44356),X=E(91242).Stream,{Buffer:V}=E(68316),Z=E(96507),{addAbortSignal:re}=E(57062),{getHighWaterMark:te,getDefaultHighWaterMark:Q}=E(18212),{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:oe,ERR_MULTIPLE_CALLBACK:se,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:pe,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:ve,ERR_STREAM_WRITE_AFTER_END:we,ERR_UNKNOWN_ENCODING:De}=E(68154).codes,{errorOrDestroy:k}=Z;function u(){}M(T.prototype,X.prototype),M(T,X);const h=$("kOnFinished");function y(he,fe,ee){"boolean"!=typeof ee&&(ee=fe instanceof E(13323)),this.objectMode=!(!he||!he.objectMode),ee&&(this.objectMode=this.objectMode||!(!he||!he.writableObjectMode)),this.highWaterMark=he?te(this,he,"writableHighWaterMark",ee):Q(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(he&&!1===he.decodeStrings),this.defaultEncoding=he&&he.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=g.bind(void 0,fe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,w(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!he||!1!==he.emitClose,this.autoDestroy=!he||!1!==he.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[h]=[]}function w(he){he.buffered=[],he.bufferedIndex=0,he.allBuffers=!0,he.allNoop=!0}function T(he){const fe=this instanceof E(13323);if(!fe&&!W(T,this))return new T(he);this._writableState=new y(he,this,fe),he&&("function"==typeof he.write&&(this._write=he.write),"function"==typeof he.writev&&(this._writev=he.writev),"function"==typeof he.destroy&&(this._destroy=he.destroy),"function"==typeof he.final&&(this._final=he.final),"function"==typeof he.construct&&(this._construct=he.construct),he.signal&&re(he.signal,this)),X.call(this,he),Z.construct(this,()=>{const ee=this._writableState;ee.writing||ce(this,ee),Ee(this,ee)})}function D(he,fe,ee,ie){const ue=he._writableState;if("function"==typeof ee)ie=ee,ee=ue.defaultEncoding;else{if(ee){if("buffer"!==ee&&!V.isEncoding(ee))throw new De(ee)}else ee=ue.defaultEncoding;"function"!=typeof ie&&(ie=u)}if(null===fe)throw new ve;if(!ue.objectMode)if("string"==typeof fe)!1!==ue.decodeStrings&&(fe=V.from(fe,ee),ee="buffer");else if(fe instanceof V)ee="buffer";else{if(!X._isUint8Array(fe))throw new J("chunk",["string","Buffer","Uint8Array"],fe);fe=X._uint8ArrayToBuffer(fe),ee="buffer"}let be;return ue.ending?be=new we:ue.destroyed&&(be=new pe("write")),be?(m.nextTick(ie,be),k(he,be,!0),be):(ue.pendingcb++,function j(he,fe,ee,ie,ue){const be=fe.objectMode?1:ee.length;fe.length+=be;const Ie=fe.length<fe.highWaterMark;return Ie||(fe.needDrain=!0),fe.writing||fe.corked||fe.errored||!fe.constructed?(fe.buffered.push({chunk:ee,encoding:ie,callback:ue}),fe.allBuffers&&"buffer"!==ie&&(fe.allBuffers=!1),fe.allNoop&&ue!==u&&(fe.allNoop=!1)):(fe.writelen=be,fe.writecb=ue,fe.writing=!0,fe.sync=!0,he._write(ee,ie,fe.onwrite),fe.sync=!1),Ie&&!fe.errored&&!fe.destroyed}(he,ue,fe,ee,ie))}function A(he,fe,ee,ie,ue,be,Ie){fe.writelen=ie,fe.writecb=Ie,fe.writing=!0,fe.sync=!0,fe.destroyed?fe.onwrite(new pe("write")):ee?he._writev(ue,fe.onwrite):he._write(ue,be,fe.onwrite),fe.sync=!1}function l(he,fe,ee,ie){--fe.pendingcb,ie(ee),ne(fe),k(he,ee)}function g(he,fe){const ee=he._writableState,ie=ee.sync,ue=ee.writecb;"function"==typeof ue?(ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0,fe?(ee.errored||(ee.errored=fe),he._readableState&&!he._readableState.errored&&(he._readableState.errored=fe),ie?m.nextTick(l,he,ee,fe,ue):l(he,ee,fe,ue)):(ee.buffered.length>ee.bufferedIndex&&ce(he,ee),ie?null!==ee.afterWriteTickInfo&&ee.afterWriteTickInfo.cb===ue?ee.afterWriteTickInfo.count++:(ee.afterWriteTickInfo={count:1,cb:ue,stream:he,state:ee},m.nextTick(G,ee.afterWriteTickInfo)):H(he,ee,1,ue))):k(he,new se)}function G({stream:he,state:fe,count:ee,cb:ie}){return fe.afterWriteTickInfo=null,H(he,fe,ee,ie)}function H(he,fe,ee,ie){for(!fe.ending&&!he.destroyed&&0===fe.length&&fe.needDrain&&(fe.needDrain=!1,he.emit("drain"));ee-- >0;)fe.pendingcb--,ie();fe.destroyed&&ne(fe),Ee(he,fe)}function ne(he){if(he.writing)return;for(let ue=he.bufferedIndex;ue<he.buffered.length;++ue){var fe;const{chunk:be,callback:Ie}=he.buffered[ue];he.length-=he.objectMode?1:be.length,Ie(null!==(fe=he.errored)&&void 0!==fe?fe:new pe("write"))}const ee=he[h].splice(0);for(let ue=0;ue<ee.length;ue++){var ie;ee[ue](null!==(ie=he.errored)&&void 0!==ie?ie:new pe("end"))}w(he)}function ce(he,fe){if(fe.corked||fe.bufferProcessing||fe.destroyed||!fe.constructed)return;const{buffered:ee,bufferedIndex:ie,objectMode:ue}=fe,be=ee.length-ie;if(!be)return;let Ie=ie;if(fe.bufferProcessing=!0,be>1&&he._writev){fe.pendingcb-=be-1;const Ne=fe.allNoop?u:yt=>{for(let Ke=Ie;Ke<ee.length;++Ke)ee[Ke].callback(yt)},Be=fe.allNoop&&0===Ie?ee:x(ee,Ie);Be.allBuffers=fe.allBuffers,A(he,fe,!0,fe.length,Be,"",Ne),w(fe)}else{do{const{chunk:Ne,encoding:Be,callback:yt}=ee[Ie];ee[Ie++]=null,A(he,fe,!1,ue?1:Ne.length,Ne,Be,yt)}while(Ie<ee.length&&!fe.writing);Ie===ee.length?w(fe):Ie>256?(ee.splice(0,Ie),fe.bufferedIndex=0):fe.bufferedIndex=Ie}fe.bufferProcessing=!1}function Ae(he){return he.ending&&!he.destroyed&&he.constructed&&0===he.length&&!he.errored&&0===he.buffered.length&&!he.finished&&!he.writing&&!he.errorEmitted&&!he.closeEmitted}function Ee(he,fe,ee){Ae(fe)&&(function Fe(he,fe){!fe.prefinished&&!fe.finalCalled&&("function"!=typeof he._final||fe.destroyed?(fe.prefinished=!0,he.emit("prefinish")):(fe.finalCalled=!0,function ke(he,fe){let ee=!1;function ie(ue){if(ee)k(he,ue??se());else if(ee=!0,fe.pendingcb--,ue){const be=fe[h].splice(0);for(let Ie=0;Ie<be.length;Ie++)be[Ie](ue);k(he,ue,fe.sync)}else Ae(fe)&&(fe.prefinished=!0,he.emit("prefinish"),fe.pendingcb++,m.nextTick(ge,he,fe))}fe.sync=!0,fe.pendingcb++;try{he._final(ie)}catch(ue){ie(ue)}fe.sync=!1}(he,fe)))}(he,fe),0===fe.pendingcb&&(ee?(fe.pendingcb++,m.nextTick((ie,ue)=>{Ae(ue)?ge(ie,ue):ue.pendingcb--},he,fe)):Ae(fe)&&(fe.pendingcb++,ge(he,fe))))}function ge(he,fe){fe.pendingcb--,fe.finished=!0;const ee=fe[h].splice(0);for(let ie=0;ie<ee.length;ie++)ee[ie]();if(he.emit("finish"),fe.autoDestroy){const ie=he._readableState;(!ie||ie.autoDestroy&&(ie.endEmitted||!1===ie.readable))&&he.destroy()}}y.prototype.getBuffer=function(){return x(this.buffered,this.bufferedIndex)},S(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),S(T,F,{__proto__:null,value:function(he){return!!W(this,he)||this===T&&he&&he._writableState instanceof y}}),T.prototype.pipe=function(){k(this,new ae)},T.prototype.write=function(he,fe,ee){return!0===D(this,he,fe,ee)},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){const he=this._writableState;he.corked&&(he.corked--,he.writing||ce(this,he))},T.prototype.setDefaultEncoding=function(fe){if("string"==typeof fe&&(fe=N(fe)),!V.isEncoding(fe))throw new De(fe);return this._writableState.defaultEncoding=fe,this},T.prototype._write=function(he,fe,ee){if(!this._writev)throw new oe("_write()");this._writev([{chunk:he,encoding:fe}],ee)},T.prototype._writev=null,T.prototype.end=function(he,fe,ee){const ie=this._writableState;let ue;if("function"==typeof he?(ee=he,he=null,fe=null):"function"==typeof fe&&(ee=fe,fe=null),null!=he){const be=D(this,he,fe);be instanceof R&&(ue=be)}return ie.corked&&(ie.corked=1,this.uncork()),ue||(ie.errored||ie.ending?ie.finished?ue=new le("end"):ie.destroyed&&(ue=new pe("end")):(ie.ending=!0,Ee(this,ie,!0),ie.ended=!0)),"function"==typeof ee&&(ue||ie.finished?m.nextTick(ee,ue):ie[h].push(ee)),this},L(T.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(he){this._writableState&&(this._writableState.destroyed=he)}},writable:{__proto__:null,get(){const he=this._writableState;return!(!he||!1===he.writable||he.destroyed||he.errored||he.ending||he.ended)},set(he){this._writableState&&(this._writableState.writable=!!he)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const he=this._writableState;return!!he&&!he.destroyed&&!he.ending&&he.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Oe=Z.destroy;let ye;function Se(){return void 0===ye&&(ye={}),ye}T.prototype.destroy=function(he,fe){const ee=this._writableState;return!ee.destroyed&&(ee.bufferedIndex<ee.buffered.length||ee[h].length)&&m.nextTick(ne,ee),Oe.call(this,he,fe),this},T.prototype._undestroy=Z.undestroy,T.prototype._destroy=function(he,fe){fe(he)},T.prototype[I.captureRejectionSymbol]=function(he){this.destroy(he)},T.fromWeb=function(he,fe){return Se().newStreamWritableFromWritableStream(he,fe)},T.toWeb=function(he){return Se().newWritableStreamFromStreamWritable(he)}},99852:(Le,z,E)=>{"use strict";const{ArrayIsArray:m,ArrayPrototypeIncludes:x,ArrayPrototypeJoin:R,ArrayPrototypeMap:W,NumberIsInteger:S,NumberIsNaN:L,NumberMAX_SAFE_INTEGER:M,NumberMIN_SAFE_INTEGER:N,NumberParseInt:$,ObjectPrototypeHasOwnProperty:F,RegExpPrototypeExec:I,String:X,StringPrototypeToUpperCase:V,StringPrototypeTrim:Z}=E(56389),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_ARG_VALUE:J,ERR_OUT_OF_RANGE:oe,ERR_UNKNOWN_SIGNAL:se}}=E(68154),{normalizeEncoding:ae}=E(13509),{isAsyncFunction:pe,isArrayBufferView:le}=E(13509).types,ve={},k=/^[0-7]+$/,y=re((Ie,Ne,Be=N,yt=M)=>{if("number"!=typeof Ie)throw new Q(Ne,"number",Ie);if(!S(Ie))throw new oe(Ne,"an integer",Ie);if(Ie<Be||Ie>yt)throw new oe(Ne,`>= ${Be} && <= ${yt}`,Ie)}),w=re((Ie,Ne,Be=-2147483648,yt=2147483647)=>{if("number"!=typeof Ie)throw new Q(Ne,"number",Ie);if(!S(Ie))throw new oe(Ne,"an integer",Ie);if(Ie<Be||Ie>yt)throw new oe(Ne,`>= ${Be} && <= ${yt}`,Ie)}),T=re((Ie,Ne,Be=!1)=>{if("number"!=typeof Ie)throw new Q(Ne,"number",Ie);if(!S(Ie))throw new oe(Ne,"an integer",Ie);const yt=Be?1:0,Ke=4294967295;if(Ie<yt||Ie>Ke)throw new oe(Ne,`>= ${yt} && <= ${Ke}`,Ie)});function D(Ie,Ne){if("string"!=typeof Ie)throw new Q(Ne,"string",Ie)}const A=re((Ie,Ne,Be)=>{if(!x(Be,Ie)){const Ke="must be one of: "+R(W(Be,Re=>"string"==typeof Re?`'${Re}'`:X(Re)),", ");throw new J(Ne,Ie,Ke)}});function l(Ie,Ne){if("boolean"!=typeof Ie)throw new Q(Ne,"boolean",Ie)}function g(Ie,Ne,Be){return null!=Ie&&F(Ie,Ne)?Ie[Ne]:Be}const G=re((Ie,Ne,Be=null)=>{const yt=g(Be,"allowArray",!1),Ke=g(Be,"allowFunction",!1);if(!g(Be,"nullable",!1)&&null===Ie||!yt&&m(Ie)||"object"!=typeof Ie&&(!Ke||"function"!=typeof Ie))throw new Q(Ne,"Object",Ie)}),H=re((Ie,Ne)=>{if(null!=Ie&&"object"!=typeof Ie&&"function"!=typeof Ie)throw new Q(Ne,"a dictionary",Ie)}),ne=re((Ie,Ne,Be=0)=>{if(!m(Ie))throw new Q(Ne,"Array",Ie);if(Ie.length<Be)throw new J(Ne,Ie,`must be longer than ${Be}`)}),Ee=re((Ie,Ne="buffer")=>{if(!le(Ie))throw new Q(Ne,["Buffer","TypedArray","DataView"],Ie)}),ye=re((Ie,Ne)=>{if(void 0!==Ie&&(null===Ie||"object"!=typeof Ie||!("aborted"in Ie)))throw new Q(Ne,"AbortSignal",Ie)}),Se=re((Ie,Ne)=>{if("function"!=typeof Ie)throw new Q(Ne,"Function",Ie)}),he=re((Ie,Ne)=>{if("function"!=typeof Ie||pe(Ie))throw new Q(Ne,"Function",Ie)}),fe=re((Ie,Ne)=>{if(void 0!==Ie)throw new Q(Ne,"undefined",Ie)}),ie=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ue(Ie,Ne){if(typeof Ie>"u"||!I(ie,Ie))throw new J(Ne,Ie,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Le.exports={isInt32:function we(Ie){return Ie===(0|Ie)},isUint32:function De(Ie){return Ie===Ie>>>0},parseFileMode:function h(Ie,Ne,Be){if(typeof Ie>"u"&&(Ie=Be),"string"==typeof Ie){if(null===I(k,Ie))throw new J(Ne,Ie,"must be a 32-bit unsigned integer or an octal string");Ie=$(Ie,8)}return T(Ie,Ne),Ie},validateArray:ne,validateStringArray:function ce(Ie,Ne){ne(Ie,Ne);for(let Be=0;Be<Ie.length;Be++)D(Ie[Be],`${Ne}[${Be}]`)},validateBooleanArray:function Ae(Ie,Ne){ne(Ie,Ne);for(let Be=0;Be<Ie.length;Be++)l(Ie[Be],`${Ne}[${Be}]`)},validateAbortSignalArray:function ke(Ie,Ne){ne(Ie,Ne);for(let Be=0;Be<Ie.length;Be++){const yt=Ie[Be],Ke=`${Ne}[${Be}]`;if(null==yt)throw new Q(Ke,"AbortSignal",yt);ye(yt,Ke)}},validateBoolean:l,validateBuffer:Ee,validateDictionary:H,validateEncoding:function ge(Ie,Ne){const Be=ae(Ne),yt=Ie.length;if("hex"===Be&&yt%2!=0)throw new J("encoding",Ne,`is invalid for data of length ${yt}`)},validateFunction:Se,validateInt32:w,validateInteger:y,validateNumber:function j(Ie,Ne,Be=void 0,yt){if("number"!=typeof Ie)throw new Q(Ne,"number",Ie);if(null!=Be&&Ie<Be||null!=yt&&Ie>yt||(null!=Be||null!=yt)&&L(Ie))throw new oe(Ne,`${null!=Be?`>= ${Be}`:""}${null!=Be&&null!=yt?" && ":""}${null!=yt?`<= ${yt}`:""}`,Ie)},validateObject:G,validateOneOf:A,validatePlainFunction:he,validatePort:function Oe(Ie,Ne="Port",Be=!0){if("number"!=typeof Ie&&"string"!=typeof Ie||"string"==typeof Ie&&0===Z(Ie).length||+Ie!=+Ie>>>0||Ie>65535||0===Ie&&!Be)throw new te(Ne,Ie,Be);return 0|Ie},validateSignalName:function Fe(Ie,Ne="signal"){if(D(Ie,Ne),void 0===ve[Ie])throw void 0!==ve[V(Ie)]?new se(Ie+" (signals must use all capital letters)"):new se(Ie)},validateString:D,validateUint32:T,validateUndefined:fe,validateUnion:function ee(Ie,Ne,Be){if(!x(Be,Ie))throw new Q(Ne,`('${R(Be,"|")}')`,Ie)},validateAbortSignal:ye,validateLinkHeaderValue:function be(Ie){if("string"==typeof Ie)return ue(Ie,"hints"),Ie;if(m(Ie)){const Ne=Ie.length;let Be="";if(0===Ne)return Be;for(let yt=0;yt<Ne;yt++){const Ke=Ie[yt];ue(Ke,"hints"),Be+=Ke,yt!==Ne-1&&(Be+=", ")}return Be}throw new J("hints",Ie,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},65797:(Le,z,E)=>{"use strict";const m=E(33885),x=E(74870),R=m.Readable.destroy;Le.exports=m.Readable,Le.exports._uint8ArrayToBuffer=m._uint8ArrayToBuffer,Le.exports._isUint8Array=m._isUint8Array,Le.exports.isDisturbed=m.isDisturbed,Le.exports.isErrored=m.isErrored,Le.exports.isReadable=m.isReadable,Le.exports.Readable=m.Readable,Le.exports.Writable=m.Writable,Le.exports.Duplex=m.Duplex,Le.exports.Transform=m.Transform,Le.exports.PassThrough=m.PassThrough,Le.exports.addAbortSignal=m.addAbortSignal,Le.exports.finished=m.finished,Le.exports.destroy=m.destroy,Le.exports.destroy=R,Le.exports.pipeline=m.pipeline,Le.exports.compose=m.compose,Object.defineProperty(m,"promises",{configurable:!0,enumerable:!0,get:()=>x}),Le.exports.Stream=m.Stream,Le.exports.default=Le.exports},68154:(Le,z,E)=>{"use strict";const{format:m,inspect:x,AggregateError:R}=E(13509),W=globalThis.AggregateError||R,S=Symbol("kIsNodeError"),L=["string","function","number","object","Function","Object","boolean","bigint","symbol"],M=/^([A-Z][a-z0-9]*)+$/,$={};function F(Q,J){if(!Q)throw new $.ERR_INTERNAL_ASSERTION(J)}function I(Q){let J="",oe=Q.length;const se="-"===Q[0]?1:0;for(;oe>=se+4;oe-=3)J=`_${Q.slice(oe-3,oe)}${J}`;return`${Q.slice(0,oe)}${J}`}function V(Q,J,oe){oe||(oe=Error);class se extends oe{constructor(...pe){super(function X(Q,J,oe){if("function"==typeof J)return F(J.length<=oe.length,`Code: ${Q}; The provided arguments length (${oe.length}) does not match the required ones (${J.length}).`),J(...oe);const se=(J.match(/%[dfijoOs]/g)||[]).length;return F(se===oe.length,`Code: ${Q}; The provided arguments length (${oe.length}) does not match the required ones (${se}).`),0===oe.length?J:m(J,...oe)}(Q,J,pe))}toString(){return`${this.name} [${Q}]: ${this.message}`}}Object.defineProperties(se.prototype,{name:{value:oe.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Q}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),se.prototype.code=Q,se.prototype[S]=!0,$[Q]=se}function Z(Q){return Object.defineProperty(Q,"name",{value:"__node_internal_"+Q.name}),Q}class te extends Error{constructor(J="The operation was aborted",oe=void 0){if(void 0!==oe&&"object"!=typeof oe)throw new $.ERR_INVALID_ARG_TYPE("options","Object",oe);super(J,oe),this.code="ABORT_ERR",this.name="AbortError"}}V("ERR_ASSERTION","%s",Error),V("ERR_INVALID_ARG_TYPE",(Q,J,oe)=>{F("string"==typeof Q,"'name' must be a string"),Array.isArray(J)||(J=[J]);let se="The ";Q.endsWith(" argument")?se+=`${Q} `:se+=`"${Q}" ${Q.includes(".")?"property":"argument"} `,se+="must be ";const ae=[],pe=[],le=[];for(const we of J)F("string"==typeof we,"All expected entries have to be of type string"),L.includes(we)?ae.push(we.toLowerCase()):M.test(we)?pe.push(we):(F("object"!==we,'The value "object" should be written as "Object"'),le.push(we));if(pe.length>0){const we=ae.indexOf("object");-1!==we&&(ae.splice(ae,we,1),pe.push("Object"))}if(ae.length>0){switch(ae.length){case 1:se+=`of type ${ae[0]}`;break;case 2:se+=`one of type ${ae[0]} or ${ae[1]}`;break;default:{const we=ae.pop();se+=`one of type ${ae.join(", ")}, or ${we}`}}(pe.length>0||le.length>0)&&(se+=" or ")}if(pe.length>0){switch(pe.length){case 1:se+=`an instance of ${pe[0]}`;break;case 2:se+=`an instance of ${pe[0]} or ${pe[1]}`;break;default:{const we=pe.pop();se+=`an instance of ${pe.join(", ")}, or ${we}`}}le.length>0&&(se+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(se+="an "),se+=`${le[0]}`;break;case 2:se+=`one of ${le[0]} or ${le[1]}`;break;default:{const we=le.pop();se+=`one of ${le.join(", ")}, or ${we}`}}if(null==oe)se+=`. Received ${oe}`;else if("function"==typeof oe&&oe.name)se+=`. Received function ${oe.name}`;else if("object"==typeof oe){var ve;null!==(ve=oe.constructor)&&void 0!==ve&&ve.name?se+=`. Received an instance of ${oe.constructor.name}`:se+=`. Received ${x(oe,{depth:-1})}`}else{let we=x(oe,{colors:!1});we.length>25&&(we=`${we.slice(0,25)}...`),se+=`. Received type ${typeof oe} (${we})`}return se},TypeError),V("ERR_INVALID_ARG_VALUE",(Q,J,oe="is invalid")=>{let se=x(J);return se.length>128&&(se=se.slice(0,128)+"..."),`The ${Q.includes(".")?"property":"argument"} '${Q}' ${oe}. Received ${se}`},TypeError),V("ERR_INVALID_RETURN_VALUE",(Q,J,oe)=>{var se;return`Expected ${Q} to be returned from the "${J}" function but got ${null!=oe&&null!==(se=oe.constructor)&&void 0!==se&&se.name?`instance of ${oe.constructor.name}`:"type "+typeof oe}.`},TypeError),V("ERR_MISSING_ARGS",(...Q)=>{let J;F(Q.length>0,"At least one arg needs to be specified");const oe=Q.length;switch(Q=(Array.isArray(Q)?Q:[Q]).map(se=>`"${se}"`).join(" or "),oe){case 1:J+=`The ${Q[0]} argument`;break;case 2:J+=`The ${Q[0]} and ${Q[1]} arguments`;break;default:{const se=Q.pop();J+=`The ${Q.join(", ")}, and ${se} arguments`}}return`${J} must be specified`},TypeError),V("ERR_OUT_OF_RANGE",(Q,J,oe)=>{let se;return F(J,'Missing "range" argument'),Number.isInteger(oe)&&Math.abs(oe)>2**32?se=I(String(oe)):"bigint"==typeof oe?(se=String(oe),(oe>2n**32n||oe<-(2n**32n))&&(se=I(se)),se+="n"):se=x(oe),`The value of "${Q}" is out of range. It must be ${J}. Received ${se}`},RangeError),V("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),V("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),V("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),V("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),V("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),V("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),V("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),V("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),V("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),V("ERR_STREAM_WRITE_AFTER_END","write after end",Error),V("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Le.exports={AbortError:te,aggregateTwoErrors:Z(function re(Q,J){if(Q&&J&&Q!==J){if(Array.isArray(J.errors))return J.errors.push(Q),J;const oe=new W([J,Q],J.message);return oe.code=J.code,oe}return Q||J}),hideStackFrames:Z,codes:$}},56389:Le=>{"use strict";Le.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,E)=>z.includes(E),ArrayPrototypeIndexOf:(z,E)=>z.indexOf(E),ArrayPrototypeJoin:(z,E)=>z.join(E),ArrayPrototypeMap:(z,E)=>z.map(E),ArrayPrototypePop:(z,E)=>z.pop(E),ArrayPrototypePush:(z,E)=>z.push(E),ArrayPrototypeSlice:(z,E,m)=>z.slice(E,m),Error,FunctionPrototypeCall:(z,E,...m)=>z.call(E,...m),FunctionPrototypeSymbolHasInstance:(z,E)=>Function.prototype[Symbol.hasInstance].call(z,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,E)=>Object.defineProperties(z,E),ObjectDefineProperty:(z,E,m)=>Object.defineProperty(z,E,m),ObjectGetOwnPropertyDescriptor:(z,E)=>Object.getOwnPropertyDescriptor(z,E),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,E)=>Object.setPrototypeOf(z,E),Promise,PromisePrototypeCatch:(z,E)=>z.catch(E),PromisePrototypeThen:(z,E,m)=>z.then(E,m),PromiseReject:z=>Promise.reject(z),PromiseResolve:z=>Promise.resolve(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,E)=>z.test(E),SafeSet:Set,String,StringPrototypeSlice:(z,E,m)=>z.slice(E,m),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(z,E,m)=>z.set(E,m),Boolean,Uint8Array}},13509:(Le,z,E)=>{"use strict";var m=E(29293).default;const x=E(68316),{kResistStopPropagation:R,SymbolDispose:W}=E(56389),S=globalThis.AbortSignal||E(9465).AbortSignal,L=globalThis.AbortController||E(9465).AbortController,M=Object.getPrototypeOf(m(function*(){})).constructor,N=globalThis.Blob||x.Blob,$=typeof N<"u"?function(Z){return Z instanceof N}:function(Z){return!1},F=(V,Z)=>{if(void 0!==V&&(null===V||"object"!=typeof V||!("aborted"in V)))throw new ERR_INVALID_ARG_TYPE(Z,"AbortSignal",V)};class X extends Error{constructor(Z){if(!Array.isArray(Z))throw new TypeError("Expected input to be an Array, got "+typeof Z);let re="";for(let te=0;te<Z.length;te++)re+=`    ${Z[te].stack}\n`;super(re),this.name="AggregateError",this.errors=Z}}Le.exports={AggregateError:X,kEmptyObject:Object.freeze({}),once(V){let Z=!1;return function(...re){Z||(Z=!0,V.apply(this,re))}},createDeferredPromise:function(){let V,Z;return{promise:new Promise((te,Q)=>{V=te,Z=Q}),resolve:V,reject:Z}},promisify:V=>new Promise((Z,re)=>{V((te,...Q)=>te?re(te):Z(...Q))}),debuglog:()=>function(){},format:(V,...Z)=>V.replace(/%([sdifj])/g,function(...[re,te]){const Q=Z.shift();return"f"===te?Q.toFixed(6):"j"===te?JSON.stringify(Q):"s"===te&&"object"==typeof Q?`${Q.constructor!==Object?Q.constructor.name:""} {}`.trim():Q.toString()}),inspect(V){switch(typeof V){case"string":if(V.includes("'")){if(!V.includes('"'))return`"${V}"`;if(!V.includes("`")&&!V.includes("${"))return`\`${V}\``}return`'${V}'`;case"number":return isNaN(V)?"NaN":Object.is(V,-0)?String(V):V;case"bigint":return`${String(V)}n`;case"boolean":case"undefined":return String(V);case"object":return"{}"}},types:{isAsyncFunction:V=>V instanceof M,isArrayBufferView:V=>ArrayBuffer.isView(V)},isBlob:$,deprecate:(V,Z)=>V,addAbortListener:E(44356).addAbortListener||function(Z,re){if(void 0===Z)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",Z);let te;return F(Z,"signal"),((V,Z)=>{if("function"!=typeof V)throw new ERR_INVALID_ARG_TYPE("listener","Function",V)})(re),Z.aborted?queueMicrotask(()=>re()):(Z.addEventListener("abort",re,{__proto__:null,once:!0,[R]:!0}),te=()=>{Z.removeEventListener("abort",re)}),{__proto__:null,[W](){var Q;null===(Q=te)||void 0===Q||Q()}}},AbortSignalAny:S.any||function(Z){if(1===Z.length)return Z[0];const re=new L,te=()=>re.abort();return Z.forEach(Q=>{F(Q,"signals"),Q.addEventListener("abort",te,{once:!0})}),re.signal.addEventListener("abort",()=>{Z.forEach(Q=>Q.removeEventListener("abort",te))},{once:!0}),re.signal}},Le.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},33885:(Le,z,E)=>{const{Buffer:m}=E(68316),{ObjectDefineProperty:x,ObjectKeys:R,ReflectApply:W}=E(56389),{promisify:{custom:S}}=E(13509),{streamReturningOperators:L,promiseReturningOperators:M}=E(21840),{codes:{ERR_ILLEGAL_CONSTRUCTOR:N}}=E(68154),$=E(373),{setDefaultHighWaterMark:F,getDefaultHighWaterMark:I}=E(18212),{pipeline:X}=E(67843),{destroyer:V}=E(96507),Z=E(46017),te=E(74870),Q=E(32924),J=Le.exports=E(91242).Stream;J.isDestroyed=Q.isDestroyed,J.isDisturbed=Q.isDisturbed,J.isErrored=Q.isErrored,J.isReadable=Q.isReadable,J.isWritable=Q.isWritable,J.Readable=E(84553);for(const ae of R(L)){let le=function(...ve){if(new.target)throw N();return J.Readable.from(W(pe,this,ve))};const pe=L[ae];x(le,"name",{__proto__:null,value:pe.name}),x(le,"length",{__proto__:null,value:pe.length}),x(J.Readable.prototype,ae,{__proto__:null,value:le,enumerable:!1,configurable:!0,writable:!0})}for(const ae of R(M)){let le=function(...we){if(new.target)throw N();return W(pe,this,we)};const pe=M[ae];x(le,"name",{__proto__:null,value:pe.name}),x(le,"length",{__proto__:null,value:pe.length}),x(J.Readable.prototype,ae,{__proto__:null,value:le,enumerable:!1,configurable:!0,writable:!0})}J.Writable=E(30009),J.Duplex=E(13323),J.Transform=E(71981),J.PassThrough=E(59447),J.pipeline=X;const{addAbortSignal:oe}=E(57062);J.addAbortSignal=oe,J.finished=Z,J.destroy=V,J.compose=$,J.setDefaultHighWaterMark=F,J.getDefaultHighWaterMark=I,x(J,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>te}),x(X,S,{__proto__:null,enumerable:!0,get:()=>te.pipeline}),x(Z,S,{__proto__:null,enumerable:!0,get:()=>te.finished}),J.Stream=J,J._isUint8Array=function(pe){return pe instanceof Uint8Array},J._uint8ArrayToBuffer=function(pe){return m.from(pe.buffer,pe.byteOffset,pe.byteLength)}},74870:(Le,z,E)=>{"use strict";const{ArrayPrototypePop:m,Promise:x}=E(56389),{isIterable:R,isNodeStream:W,isWebStream:S}=E(32924),{pipelineImpl:L}=E(67843),{finished:M}=E(46017);E(33885),Le.exports={finished:M,pipeline:function N(...$){return new x((F,I)=>{let X,V;const Z=$[$.length-1];if(Z&&"object"==typeof Z&&!W(Z)&&!R(Z)&&!S(Z)){const re=m($);X=re.signal,V=re.end}L($,(re,te)=>{re?I(re):F(te)},{signal:X,end:V})})}}},94787:(Le,z,E)=>{z.Level=E(23963).BrowserLevel},81447:Le=>{var z=1e3,E=60*z,m=60*E,x=24*m,R=7*x;function N($,F,I,X){var V=F>=1.5*I;return Math.round($/I)+" "+X+(V?"s":"")}Le.exports=function($,F){F=F||{};var I=typeof $;if("string"===I&&$.length>0)return function S($){if(!(($=String($)).length>100)){var F=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(F){var I=parseFloat(F[1]);switch((F[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*I;case"weeks":case"week":case"w":return I*R;case"days":case"day":case"d":return I*x;case"hours":case"hour":case"hrs":case"hr":case"h":return I*m;case"minutes":case"minute":case"mins":case"min":case"m":return I*E;case"seconds":case"second":case"secs":case"sec":case"s":return I*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return I;default:return}}}}($);if("number"===I&&isFinite($))return F.long?function M($){var F=Math.abs($);return F>=x?N($,F,x,"day"):F>=m?N($,F,m,"hour"):F>=E?N($,F,E,"minute"):F>=z?N($,F,z,"second"):$+" ms"}($):function L($){var F=Math.abs($);return F>=x?Math.round($/x)+"d":F>=m?Math.round($/m)+"h":F>=E?Math.round($/E)+"m":F>=z?Math.round($/z)+"s":$+"ms"}($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))}},1424:(Le,z,E)=>{E(23963)},44514:Le=>{var z=1e3,E=60*z,m=60*E,x=24*m,R=7*x;function N($,F,I,X){var V=F>=1.5*I;return Math.round($/I)+" "+X+(V?"s":"")}Le.exports=function($,F){F=F||{};var I=typeof $;if("string"===I&&$.length>0)return function S($){if(!(($=String($)).length>100)){var F=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(F){var I=parseFloat(F[1]);switch((F[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*I;case"weeks":case"week":case"w":return I*R;case"days":case"day":case"d":return I*x;case"hours":case"hour":case"hrs":case"hr":case"h":return I*m;case"minutes":case"minute":case"mins":case"min":case"m":return I*E;case"seconds":case"second":case"secs":case"sec":case"s":return I*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return I;default:return}}}}($);if("number"===I&&isFinite($))return F.long?function M($){var F=Math.abs($);return F>=x?N($,F,x,"day"):F>=m?N($,F,m,"hour"):F>=E?N($,F,E,"minute"):F>=z?N($,F,z,"second"):$+" ms"}($):function L($){var F=Math.abs($);return F>=x?Math.round($/x)+"d":F>=m?Math.round($/m)+"h":F>=E?Math.round($/E)+"m":F>=z?Math.round($/z)+"s":$+"ms"}($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))}},89565:(Le,z,E)=>{"use strict";const m=E(13981),x=E(22020),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function J(U){return+U!=U&&(U=0),M.alloc(+U)},z.INSPECT_MAX_BYTES=50;const W=2147483647;function L(U){if(U>W)throw new RangeError('The value "'+U+'" is invalid for option "size"');const _=new Uint8Array(U);return Object.setPrototypeOf(_,M.prototype),_}function M(U,_,p){if("number"==typeof U){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return I(U)}return N(U,_,p)}function N(U,_,p){if("string"==typeof U)return function X(U,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!M.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const p=0|oe(U,_);let O=L(p);const q=O.write(U,_);return q!==p&&(O=O.slice(0,q)),O}(U,_);if(ArrayBuffer.isView(U))return function Z(U){if(Be(U,Uint8Array)){const _=new Uint8Array(U);return re(_.buffer,_.byteOffset,_.byteLength)}return V(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Be(U,ArrayBuffer)||U&&Be(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(U,SharedArrayBuffer)||U&&Be(U.buffer,SharedArrayBuffer)))return re(U,_,p);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');const O=U.valueOf&&U.valueOf();if(null!=O&&O!==U)return M.from(O,_,p);const q=function te(U){if(M.isBuffer(U)){const _=0|Q(U.length),p=L(_);return 0===p.length||U.copy(p,0,0,_),p}return void 0!==U.length?"number"!=typeof U.length||yt(U.length)?L(0):V(U):"Buffer"===U.type&&Array.isArray(U.data)?V(U.data):void 0}(U);if(q)return q;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return M.from(U[Symbol.toPrimitive]("string"),_,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function $(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function I(U){return $(U),L(U<0?0:0|Q(U))}function V(U){const _=U.length<0?0:0|Q(U.length),p=L(_);for(let O=0;O<_;O+=1)p[O]=255&U[O];return p}function re(U,_,p){if(_<0||U.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<_+(p||0))throw new RangeError('"length" is outside of buffer bounds');let O;return O=void 0===_&&void 0===p?new Uint8Array(U):void 0===p?new Uint8Array(U,_):new Uint8Array(U,_,p),Object.setPrototypeOf(O,M.prototype),O}function Q(U){if(U>=W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");return 0|U}function oe(U,_){if(M.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Be(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const p=U.length,O=arguments.length>2&&!0===arguments[2];if(!O&&0===p)return 0;let q=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return ie(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return Ie(U).length;default:if(q)return O?-1:ie(U).length;_=(""+_).toLowerCase(),q=!0}}function se(U,_,p){let O=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===p||p>this.length)&&(p=this.length),p<=0)||(p>>>=0)<=(_>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return A(this,_,p);case"utf8":case"utf-8":return y(this,_,p);case"ascii":return D(this,_,p);case"latin1":case"binary":return j(this,_,p);case"base64":return h(this,_,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,_,p);default:if(O)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),O=!0}}function ae(U,_,p){const O=U[_];U[_]=U[p],U[p]=O}function pe(U,_,p,O,q){if(0===U.length)return-1;if("string"==typeof p?(O=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),yt(p=+p)&&(p=q?0:U.length-1),p<0&&(p=U.length+p),p>=U.length){if(q)return-1;p=U.length-1}else if(p<0){if(!q)return-1;p=0}if("string"==typeof _&&(_=M.from(_,O)),M.isBuffer(_))return 0===_.length?-1:le(U,_,p,O,q);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?q?Uint8Array.prototype.indexOf.call(U,_,p):Uint8Array.prototype.lastIndexOf.call(U,_,p):le(U,[_],p,O,q);throw new TypeError("val must be string, number or Buffer")}function le(U,_,p,O,q){let ut,me=1,xe=U.length,qe=_.length;if(void 0!==O&&("ucs2"===(O=String(O).toLowerCase())||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(U.length<2||_.length<2)return-1;me=2,xe/=2,qe/=2,p/=2}function At(bt,Lt){return 1===me?bt[Lt]:bt.readUInt16BE(Lt*me)}if(q){let bt=-1;for(ut=p;ut<xe;ut++)if(At(U,ut)===At(_,-1===bt?0:ut-bt)){if(-1===bt&&(bt=ut),ut-bt+1===qe)return bt*me}else-1!==bt&&(ut-=ut-bt),bt=-1}else for(p+qe>xe&&(p=xe-qe),ut=p;ut>=0;ut--){let bt=!0;for(let Lt=0;Lt<qe;Lt++)if(At(U,ut+Lt)!==At(_,Lt)){bt=!1;break}if(bt)return ut}return-1}function ve(U,_,p,O){p=Number(p)||0;const q=U.length-p;O?(O=Number(O))>q&&(O=q):O=q;const me=_.length;let xe;for(O>me/2&&(O=me/2),xe=0;xe<O;++xe){const qe=parseInt(_.substr(2*xe,2),16);if(yt(qe))return xe;U[p+xe]=qe}return xe}function we(U,_,p,O){return Ne(ie(_,U.length-p),U,p,O)}function De(U,_,p,O){return Ne(function ue(U){const _=[];for(let p=0;p<U.length;++p)_.push(255&U.charCodeAt(p));return _}(_),U,p,O)}function k(U,_,p,O){return Ne(Ie(_),U,p,O)}function u(U,_,p,O){return Ne(function be(U,_){let p,O,q;const me=[];for(let xe=0;xe<U.length&&!((_-=2)<0);++xe)p=U.charCodeAt(xe),O=p>>8,q=p%256,me.push(q),me.push(O);return me}(_,U.length-p),U,p,O)}function h(U,_,p){return m.fromByteArray(0===_&&p===U.length?U:U.slice(_,p))}function y(U,_,p){p=Math.min(U.length,p);const O=[];let q=_;for(;q<p;){const me=U[q];let xe=null,qe=me>239?4:me>223?3:me>191?2:1;if(q+qe<=p){let At,ut,bt,Lt;switch(qe){case 1:me<128&&(xe=me);break;case 2:At=U[q+1],128==(192&At)&&(Lt=(31&me)<<6|63&At,Lt>127&&(xe=Lt));break;case 3:At=U[q+1],ut=U[q+2],128==(192&At)&&128==(192&ut)&&(Lt=(15&me)<<12|(63&At)<<6|63&ut,Lt>2047&&(Lt<55296||Lt>57343)&&(xe=Lt));break;case 4:At=U[q+1],ut=U[q+2],bt=U[q+3],128==(192&At)&&128==(192&ut)&&128==(192&bt)&&(Lt=(15&me)<<18|(63&At)<<12|(63&ut)<<6|63&bt,Lt>65535&&Lt<1114112&&(xe=Lt))}}null===xe?(xe=65533,qe=1):xe>65535&&(xe-=65536,O.push(xe>>>10&1023|55296),xe=56320|1023&xe),O.push(xe),q+=qe}return function T(U){const _=U.length;if(_<=w)return String.fromCharCode.apply(String,U);let p="",O=0;for(;O<_;)p+=String.fromCharCode.apply(String,U.slice(O,O+=w));return p}(O)}z.kMaxLength=W,!(M.TYPED_ARRAY_SUPPORT=function S(){try{const U=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(U,_),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(U,_,p){return N(U,_,p)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(U,_,p){return function F(U,_,p){return $(U),U<=0?L(U):void 0!==_?"string"==typeof p?L(U).fill(_,p):L(U).fill(_):L(U)}(U,_,p)},M.allocUnsafe=function(U){return I(U)},M.allocUnsafeSlow=function(U){return I(U)},M.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==M.prototype},M.compare=function(_,p){if(Be(_,Uint8Array)&&(_=M.from(_,_.offset,_.byteLength)),Be(p,Uint8Array)&&(p=M.from(p,p.offset,p.byteLength)),!M.isBuffer(_)||!M.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===p)return 0;let O=_.length,q=p.length;for(let me=0,xe=Math.min(O,q);me<xe;++me)if(_[me]!==p[me]){O=_[me],q=p[me];break}return O<q?-1:q<O?1:0},M.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(_,p){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return M.alloc(0);let O;if(void 0===p)for(p=0,O=0;O<_.length;++O)p+=_[O].length;const q=M.allocUnsafe(p);let me=0;for(O=0;O<_.length;++O){let xe=_[O];if(Be(xe,Uint8Array))me+xe.length>q.length?(M.isBuffer(xe)||(xe=M.from(xe)),xe.copy(q,me)):Uint8Array.prototype.set.call(q,xe,me);else{if(!M.isBuffer(xe))throw new TypeError('"list" argument must be an Array of Buffers');xe.copy(q,me)}me+=xe.length}return q},M.byteLength=oe,M.prototype._isBuffer=!0,M.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<_;p+=2)ae(this,p,p+1);return this},M.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<_;p+=4)ae(this,p,p+3),ae(this,p+1,p+2);return this},M.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<_;p+=8)ae(this,p,p+7),ae(this,p+1,p+6),ae(this,p+2,p+5),ae(this,p+3,p+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?y(this,0,_):se.apply(this,arguments)},M.prototype.equals=function(_){if(!M.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===M.compare(this,_)},M.prototype.inspect=function(){let _="";const p=z.INSPECT_MAX_BYTES;return _=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(_+=" ... "),"<Buffer "+_+">"},R&&(M.prototype[R]=M.prototype.inspect),M.prototype.compare=function(_,p,O,q,me){if(Be(_,Uint8Array)&&(_=M.from(_,_.offset,_.byteLength)),!M.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===p&&(p=0),void 0===O&&(O=_?_.length:0),void 0===q&&(q=0),void 0===me&&(me=this.length),p<0||O>_.length||q<0||me>this.length)throw new RangeError("out of range index");if(q>=me&&p>=O)return 0;if(q>=me)return-1;if(p>=O)return 1;if(this===_)return 0;let xe=(me>>>=0)-(q>>>=0),qe=(O>>>=0)-(p>>>=0);const At=Math.min(xe,qe),ut=this.slice(q,me),bt=_.slice(p,O);for(let Lt=0;Lt<At;++Lt)if(ut[Lt]!==bt[Lt]){xe=ut[Lt],qe=bt[Lt];break}return xe<qe?-1:qe<xe?1:0},M.prototype.includes=function(_,p,O){return-1!==this.indexOf(_,p,O)},M.prototype.indexOf=function(_,p,O){return pe(this,_,p,O,!0)},M.prototype.lastIndexOf=function(_,p,O){return pe(this,_,p,O,!1)},M.prototype.write=function(_,p,O,q){if(void 0===p)q="utf8",O=this.length,p=0;else if(void 0===O&&"string"==typeof p)q=p,O=this.length,p=0;else{if(!isFinite(p))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");p>>>=0,isFinite(O)?(O>>>=0,void 0===q&&(q="utf8")):(q=O,O=void 0)}const me=this.length-p;if((void 0===O||O>me)&&(O=me),_.length>0&&(O<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let xe=!1;for(;;)switch(q){case"hex":return ve(this,_,p,O);case"utf8":case"utf-8":return we(this,_,p,O);case"ascii":case"latin1":case"binary":return De(this,_,p,O);case"base64":return k(this,_,p,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,_,p,O);default:if(xe)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),xe=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const w=4096;function D(U,_,p){let O="";p=Math.min(U.length,p);for(let q=_;q<p;++q)O+=String.fromCharCode(127&U[q]);return O}function j(U,_,p){let O="";p=Math.min(U.length,p);for(let q=_;q<p;++q)O+=String.fromCharCode(U[q]);return O}function A(U,_,p){const O=U.length;(!_||_<0)&&(_=0),(!p||p<0||p>O)&&(p=O);let q="";for(let me=_;me<p;++me)q+=Ke[U[me]];return q}function l(U,_,p){const O=U.slice(_,p);let q="";for(let me=0;me<O.length-1;me+=2)q+=String.fromCharCode(O[me]+256*O[me+1]);return q}function g(U,_,p){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+_>p)throw new RangeError("Trying to access beyond buffer length")}function G(U,_,p,O,q,me){if(!M.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>q||_<me)throw new RangeError('"value" argument is out of bounds');if(p+O>U.length)throw new RangeError("Index out of range")}function H(U,_,p,O,q){ye(_,O,q,U,p,7);let me=Number(_&BigInt(4294967295));U[p++]=me,me>>=8,U[p++]=me,me>>=8,U[p++]=me,me>>=8,U[p++]=me;let xe=Number(_>>BigInt(32)&BigInt(4294967295));return U[p++]=xe,xe>>=8,U[p++]=xe,xe>>=8,U[p++]=xe,xe>>=8,U[p++]=xe,p}function ne(U,_,p,O,q){ye(_,O,q,U,p,7);let me=Number(_&BigInt(4294967295));U[p+7]=me,me>>=8,U[p+6]=me,me>>=8,U[p+5]=me,me>>=8,U[p+4]=me;let xe=Number(_>>BigInt(32)&BigInt(4294967295));return U[p+3]=xe,xe>>=8,U[p+2]=xe,xe>>=8,U[p+1]=xe,xe>>=8,U[p]=xe,p+8}function ce(U,_,p,O,q,me){if(p+O>U.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function Ae(U,_,p,O,q){return _=+_,p>>>=0,q||ce(U,0,p,4),x.write(U,_,p,O,23,4),p+4}function ke(U,_,p,O,q){return _=+_,p>>>=0,q||ce(U,0,p,8),x.write(U,_,p,O,52,8),p+8}M.prototype.slice=function(_,p){const O=this.length;(_=~~_)<0?(_+=O)<0&&(_=0):_>O&&(_=O),(p=void 0===p?O:~~p)<0?(p+=O)<0&&(p=0):p>O&&(p=O),p<_&&(p=_);const q=this.subarray(_,p);return Object.setPrototypeOf(q,M.prototype),q},M.prototype.readUintLE=M.prototype.readUIntLE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_],me=1,xe=0;for(;++xe<p&&(me*=256);)q+=this[_+xe]*me;return q},M.prototype.readUintBE=M.prototype.readUIntBE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_+--p],me=1;for(;p>0&&(me*=256);)q+=this[_+--p]*me;return q},M.prototype.readUint8=M.prototype.readUInt8=function(_,p){return _>>>=0,p||g(_,1,this.length),this[_]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(_,p){return _>>>=0,p||g(_,2,this.length),this[_]|this[_+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(_,p){return _>>>=0,p||g(_,2,this.length),this[_]<<8|this[_+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(_,p){return _>>>=0,p||g(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(_,p){return _>>>=0,p||g(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},M.prototype.readBigUInt64LE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=p+256*this[++_]+65536*this[++_]+this[++_]*2**24,me=this[++_]+256*this[++_]+65536*this[++_]+O*2**24;return BigInt(q)+(BigInt(me)<<BigInt(32))}),M.prototype.readBigUInt64BE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=p*2**24+65536*this[++_]+256*this[++_]+this[++_],me=this[++_]*2**24+65536*this[++_]+256*this[++_]+O;return(BigInt(q)<<BigInt(32))+BigInt(me)}),M.prototype.readIntLE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_],me=1,xe=0;for(;++xe<p&&(me*=256);)q+=this[_+xe]*me;return me*=128,q>=me&&(q-=Math.pow(2,8*p)),q},M.prototype.readIntBE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=p,me=1,xe=this[_+--q];for(;q>0&&(me*=256);)xe+=this[_+--q]*me;return me*=128,xe>=me&&(xe-=Math.pow(2,8*p)),xe},M.prototype.readInt8=function(_,p){return _>>>=0,p||g(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},M.prototype.readInt16LE=function(_,p){_>>>=0,p||g(_,2,this.length);const O=this[_]|this[_+1]<<8;return 32768&O?4294901760|O:O},M.prototype.readInt16BE=function(_,p){_>>>=0,p||g(_,2,this.length);const O=this[_+1]|this[_]<<8;return 32768&O?4294901760|O:O},M.prototype.readInt32LE=function(_,p){return _>>>=0,p||g(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},M.prototype.readInt32BE=function(_,p){return _>>>=0,p||g(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},M.prototype.readBigInt64LE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];return(void 0===p||void 0===O)&&he(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(O<<24))<<BigInt(32))+BigInt(p+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),M.prototype.readBigInt64BE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=(p<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(q)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+O)}),M.prototype.readFloatLE=function(_,p){return _>>>=0,p||g(_,4,this.length),x.read(this,_,!0,23,4)},M.prototype.readFloatBE=function(_,p){return _>>>=0,p||g(_,4,this.length),x.read(this,_,!1,23,4)},M.prototype.readDoubleLE=function(_,p){return _>>>=0,p||g(_,8,this.length),x.read(this,_,!0,52,8)},M.prototype.readDoubleBE=function(_,p){return _>>>=0,p||g(_,8,this.length),x.read(this,_,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(_,p,O,q){_=+_,p>>>=0,O>>>=0,q||G(this,_,p,O,Math.pow(2,8*O)-1,0);let me=1,xe=0;for(this[p]=255&_;++xe<O&&(me*=256);)this[p+xe]=_/me&255;return p+O},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(_,p,O,q){_=+_,p>>>=0,O>>>=0,q||G(this,_,p,O,Math.pow(2,8*O)-1,0);let me=O-1,xe=1;for(this[p+me]=255&_;--me>=0&&(xe*=256);)this[p+me]=_/xe&255;return p+O},M.prototype.writeUint8=M.prototype.writeUInt8=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,1,255,0),this[p]=255&_,p+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,65535,0),this[p]=255&_,this[p+1]=_>>>8,p+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,65535,0),this[p]=_>>>8,this[p+1]=255&_,p+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,4294967295,0),this[p+3]=_>>>24,this[p+2]=_>>>16,this[p+1]=_>>>8,this[p]=255&_,p+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,4294967295,0),this[p]=_>>>24,this[p+1]=_>>>16,this[p+2]=_>>>8,this[p+3]=255&_,p+4},M.prototype.writeBigUInt64LE=Re(function(_,p=0){return H(this,_,p,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Re(function(_,p=0){return ne(this,_,p,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(_,p,O,q){if(_=+_,p>>>=0,!q){const At=Math.pow(2,8*O-1);G(this,_,p,O,At-1,-At)}let me=0,xe=1,qe=0;for(this[p]=255&_;++me<O&&(xe*=256);)_<0&&0===qe&&0!==this[p+me-1]&&(qe=1),this[p+me]=(_/xe|0)-qe&255;return p+O},M.prototype.writeIntBE=function(_,p,O,q){if(_=+_,p>>>=0,!q){const At=Math.pow(2,8*O-1);G(this,_,p,O,At-1,-At)}let me=O-1,xe=1,qe=0;for(this[p+me]=255&_;--me>=0&&(xe*=256);)_<0&&0===qe&&0!==this[p+me+1]&&(qe=1),this[p+me]=(_/xe|0)-qe&255;return p+O},M.prototype.writeInt8=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,1,127,-128),_<0&&(_=255+_+1),this[p]=255&_,p+1},M.prototype.writeInt16LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,32767,-32768),this[p]=255&_,this[p+1]=_>>>8,p+2},M.prototype.writeInt16BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,32767,-32768),this[p]=_>>>8,this[p+1]=255&_,p+2},M.prototype.writeInt32LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,2147483647,-2147483648),this[p]=255&_,this[p+1]=_>>>8,this[p+2]=_>>>16,this[p+3]=_>>>24,p+4},M.prototype.writeInt32BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[p]=_>>>24,this[p+1]=_>>>16,this[p+2]=_>>>8,this[p+3]=255&_,p+4},M.prototype.writeBigInt64LE=Re(function(_,p=0){return H(this,_,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Re(function(_,p=0){return ne(this,_,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeFloatLE=function(_,p,O){return Ae(this,_,p,!0,O)},M.prototype.writeFloatBE=function(_,p,O){return Ae(this,_,p,!1,O)},M.prototype.writeDoubleLE=function(_,p,O){return ke(this,_,p,!0,O)},M.prototype.writeDoubleBE=function(_,p,O){return ke(this,_,p,!1,O)},M.prototype.copy=function(_,p,O,q){if(!M.isBuffer(_))throw new TypeError("argument should be a Buffer");if(O||(O=0),!q&&0!==q&&(q=this.length),p>=_.length&&(p=_.length),p||(p=0),q>0&&q<O&&(q=O),q===O||0===_.length||0===this.length)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),_.length-p<q-O&&(q=_.length-p+O);const me=q-O;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(p,O,q):Uint8Array.prototype.set.call(_,this.subarray(O,q),p),me},M.prototype.fill=function(_,p,O,q){if("string"==typeof _){if("string"==typeof p?(q=p,p=0,O=this.length):"string"==typeof O&&(q=O,O=this.length),void 0!==q&&"string"!=typeof q)throw new TypeError("encoding must be a string");if("string"==typeof q&&!M.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(1===_.length){const xe=_.charCodeAt(0);("utf8"===q&&xe<128||"latin1"===q)&&(_=xe)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(p<0||this.length<p||this.length<O)throw new RangeError("Out of range index");if(O<=p)return this;let me;if(p>>>=0,O=void 0===O?this.length:O>>>0,_||(_=0),"number"==typeof _)for(me=p;me<O;++me)this[me]=_;else{const xe=M.isBuffer(_)?_:M.from(_,q),qe=xe.length;if(0===qe)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(me=0;me<O-p;++me)this[me+p]=xe[me%qe]}return this};const Fe={};function Ee(U,_,p){Fe[U]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,delete this.name}get code(){return U}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}function ge(U){let _="",p=U.length;const O="-"===U[0]?1:0;for(;p>=O+4;p-=3)_=`_${U.slice(p-3,p)}${_}`;return`${U.slice(0,p)}${_}`}function ye(U,_,p,O,q,me){if(U>p||U<_){const xe="bigint"==typeof _?"n":"";let qe;throw qe=me>3?0===_||_===BigInt(0)?`>= 0${xe} and < 2${xe} ** ${8*(me+1)}${xe}`:`>= -(2${xe} ** ${8*(me+1)-1}${xe}) and < 2 ** ${8*(me+1)-1}${xe}`:`>= ${_}${xe} and <= ${p}${xe}`,new Fe.ERR_OUT_OF_RANGE("value",qe,U)}!function Oe(U,_,p){Se(_,"offset"),(void 0===U[_]||void 0===U[_+p])&&he(_,U.length-(p+1))}(O,q,me)}function Se(U,_){if("number"!=typeof U)throw new Fe.ERR_INVALID_ARG_TYPE(_,"number",U)}function he(U,_,p){throw Math.floor(U)!==U?(Se(U,p),new Fe.ERR_OUT_OF_RANGE(p||"offset","an integer",U)):_<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${_}`,U)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(U,_){return`The "${U}" argument must be of type number. Received type ${typeof _}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(U,_,p){let O=`The value of "${U}" is out of range.`,q=p;return Number.isInteger(p)&&Math.abs(p)>2**32?q=ge(String(p)):"bigint"==typeof p&&(q=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(q=ge(q)),q+="n"),O+=` It must be ${_}. Received ${q}`,O},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function ie(U,_){let p;_=_||1/0;const O=U.length;let q=null;const me=[];for(let xe=0;xe<O;++xe){if(p=U.charCodeAt(xe),p>55295&&p<57344){if(!q){if(p>56319){(_-=3)>-1&&me.push(239,191,189);continue}if(xe+1===O){(_-=3)>-1&&me.push(239,191,189);continue}q=p;continue}if(p<56320){(_-=3)>-1&&me.push(239,191,189),q=p;continue}p=65536+(q-55296<<10|p-56320)}else q&&(_-=3)>-1&&me.push(239,191,189);if(q=null,p<128){if((_-=1)<0)break;me.push(p)}else if(p<2048){if((_-=2)<0)break;me.push(p>>6|192,63&p|128)}else if(p<65536){if((_-=3)<0)break;me.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(p<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;me.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}return me}function Ie(U){return m.toByteArray(function ee(U){if((U=(U=U.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Ne(U,_,p,O){let q;for(q=0;q<O&&!(q+p>=_.length||q>=U.length);++q)_[q+p]=U[q];return q}function Be(U,_){return U instanceof _||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===_.name}function yt(U){return U!=U}const Ke=function(){const U="0123456789abcdef",_=new Array(256);for(let p=0;p<16;++p){const O=16*p;for(let q=0;q<16;++q)_[O+q]=U[p]+U[q]}return _}();function Re(U){return typeof BigInt>"u"?ot:U}function ot(){throw new Error("BigInt not supported")}},24785:(Le,z,E)=>{"use strict";const{AbortError:m,codes:x}=E(65109),{isNodeStream:R,isWebStream:W,kControllerErrorFunction:S}=E(51233),L=E(44268),{ERR_INVALID_ARG_TYPE:M}=x;Le.exports.addAbortSignal=function(F,I){if((($,F)=>{if("object"!=typeof $||!("aborted"in $))throw new M("signal","AbortSignal",$)})(F),!R(I)&&!W(I))throw new M("stream",["ReadableStream","WritableStream","Stream"],I);return Le.exports.addAbortSignalNoValidate(F,I)},Le.exports.addAbortSignalNoValidate=function($,F){if("object"!=typeof $||!("aborted"in $))return F;const I=R(F)?()=>{F.destroy(new m(void 0,{cause:$.reason}))}:()=>{F[S](new m(void 0,{cause:$.reason}))};return $.aborted?I():($.addEventListener("abort",I),L(F,()=>$.removeEventListener("abort",I))),F}},58579:(Le,z,E)=>{"use strict";const{StringPrototypeSlice:m,SymbolIterator:x,TypedArrayPrototypeSet:R,Uint8Array:W}=E(43856),{Buffer:S}=E(89565),{inspect:L}=E(55830);Le.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(N){const $={data:N,next:null};this.length>0?this.tail.next=$:this.head=$,this.tail=$,++this.length}unshift(N){const $={data:N,next:this.head};0===this.length&&(this.tail=$),this.head=$,++this.length}shift(){if(0===this.length)return;const N=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,N}clear(){this.head=this.tail=null,this.length=0}join(N){if(0===this.length)return"";let $=this.head,F=""+$.data;for(;null!==($=$.next);)F+=N+$.data;return F}concat(N){if(0===this.length)return S.alloc(0);const $=S.allocUnsafe(N>>>0);let F=this.head,I=0;for(;F;)R($,F.data,I),I+=F.data.length,F=F.next;return $}consume(N,$){const F=this.head.data;if(N<F.length){const I=F.slice(0,N);return this.head.data=F.slice(N),I}return N===F.length?this.shift():$?this._getString(N):this._getBuffer(N)}first(){return this.head.data}*[x](){for(let N=this.head;N;N=N.next)yield N.data}_getString(N){let $="",F=this.head,I=0;do{const X=F.data;if(!(N>X.length)){N===X.length?($+=X,++I,this.head=F.next?F.next:this.tail=null):($+=m(X,0,N),this.head=F,F.data=m(X,N));break}$+=X,N-=X.length,++I}while(null!==(F=F.next));return this.length-=I,$}_getBuffer(N){const $=S.allocUnsafe(N),F=N;let I=this.head,X=0;do{const V=I.data;if(!(N>V.length)){N===V.length?(R($,V,F-N),++X,this.head=I.next?I.next:this.tail=null):(R($,new W(V.buffer,V.byteOffset,N),F-N),this.head=I,I.data=V.slice(N));break}R($,V,F-N),N-=V.length,++X}while(null!==(I=I.next));return this.length-=X,$}[Symbol.for("nodejs.util.inspect.custom")](N,$){return L(this,{...$,depth:0,customInspect:!1})}}},5464:(Le,z,E)=>{"use strict";var m=E(29293).default;const{pipeline:x}=E(96208),R=E(97464),{destroyer:W}=E(45078),{isNodeStream:S,isReadable:L,isWritable:M,isWebStream:N,isTransformStream:$,isWritableStream:F,isReadableStream:I}=E(51233),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:V,ERR_MISSING_ARGS:Z}}=E(65109),re=E(44268);Le.exports=function(...Q){if(0===Q.length)throw new Z("streams");if(1===Q.length)return R.from(Q[0]);const J=[...Q];if("function"==typeof Q[0]&&(Q[0]=R.from(Q[0])),"function"==typeof Q[Q.length-1]){const h=Q.length-1;Q[h]=R.from(Q[h])}for(let h=0;h<Q.length;++h)if(S(Q[h])||N(Q[h])){if(h<Q.length-1&&!(L(Q[h])||I(Q[h])||$(Q[h])))throw new V(`streams[${h}]`,J[h],"must be readable");if(h>0&&!(M(Q[h])||F(Q[h])||$(Q[h])))throw new V(`streams[${h}]`,J[h],"must be writable")}let oe,se,ae,pe,le;const we=Q[0],De=x(Q,function ve(h){const y=pe;pe=null,y?y(h):h?le.destroy(h):!u&&!k&&le.destroy()}),k=!!(M(we)||F(we)||$(we)),u=!!(L(De)||I(De)||$(De));if(le=new R({writableObjectMode:!(null==we||!we.writableObjectMode),readableObjectMode:!(null==De||!De.writableObjectMode),writable:k,readable:u}),k){if(S(we))le._write=function(y,w,T){we.write(y,w)?T():oe=T},le._final=function(y){we.end(),se=y},we.on("drain",function(){if(oe){const y=oe;oe=null,y()}});else if(N(we)){const w=($(we)?we.writable:we).getWriter();le._write=function(){var T=m(function*(D,j,A){try{yield w.ready,w.write(D).catch(()=>{}),A()}catch(l){A(l)}});return function(D,j,A){return T.apply(this,arguments)}}(),le._final=function(){var T=m(function*(D){try{yield w.ready,w.close().catch(()=>{}),se=D}catch(j){D(j)}});return function(D){return T.apply(this,arguments)}}()}const h=$(De)?De.readable:De;re(h,()=>{if(se){const y=se;se=null,y()}})}if(u)if(S(De))De.on("readable",function(){if(ae){const h=ae;ae=null,h()}}),De.on("end",function(){le.push(null)}),le._read=function(){for(;;){const h=De.read();if(null===h)return void(ae=le._read);if(!le.push(h))return}};else if(N(De)){const y=($(De)?De.readable:De).getReader();le._read=m(function*(){for(;;)try{const{value:w,done:T}=yield y.read();if(!le.push(w))return;if(T)return void le.push(null)}catch{return}})}return le._destroy=function(h,y){!h&&null!==pe&&(h=new X),ae=null,oe=null,se=null,null===pe?y(h):(pe=y,S(De)&&W(De,h))},le}},45078:(Le,z,E)=>{"use strict";const m=E(40573),{aggregateTwoErrors:x,codes:{ERR_MULTIPLE_CALLBACK:R},AbortError:W}=E(65109),{Symbol:S}=E(43856),{kDestroyed:L,isDestroyed:M,isFinished:N,isServerRequest:$}=E(51233),F=S("kDestroy"),I=S("kConstruct");function X(k,u,h){k&&(u&&!u.errored&&(u.errored=k),h&&!h.errored&&(h.errored=k))}function Z(k,u,h){let y=!1;function w(T){if(y)return;y=!0;const D=k._readableState,j=k._writableState;X(T,j,D),j&&(j.closed=!0),D&&(D.closed=!0),"function"==typeof h&&h(T),T?m.nextTick(re,k,T):m.nextTick(te,k)}try{k._destroy(u||null,w)}catch(T){w(T)}}function re(k,u){Q(k,u),te(k)}function te(k){const u=k._readableState,h=k._writableState;h&&(h.closeEmitted=!0),u&&(u.closeEmitted=!0),(null!=h&&h.emitClose||null!=u&&u.emitClose)&&k.emit("close")}function Q(k,u){const h=k._readableState,y=k._writableState;null!=y&&y.errorEmitted||null!=h&&h.errorEmitted||(y&&(y.errorEmitted=!0),h&&(h.errorEmitted=!0),k.emit("error",u))}function oe(k,u,h){const y=k._readableState,w=k._writableState;if(null!=w&&w.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=w&&w.autoDestroy?k.destroy(u):u&&(w&&!w.errored&&(w.errored=u),y&&!y.errored&&(y.errored=u),h?m.nextTick(Q,k,u):Q(k,u))}function ae(k){let u=!1;function h(y){if(u)return void oe(k,y??new R);u=!0;const w=k._readableState,T=k._writableState,D=T||w;w&&(w.constructed=!0),T&&(T.constructed=!0),D.destroyed?k.emit(F,y):y?oe(k,y,!0):m.nextTick(pe,k)}try{k._construct(y=>{m.nextTick(h,y)})}catch(y){m.nextTick(h,y)}}function pe(k){k.emit(I)}function le(k){return k?.setHeader&&"function"==typeof k.abort}function ve(k){k.emit("close")}function we(k,u){k.emit("error",u),m.nextTick(ve,k)}Le.exports={construct:function se(k,u){if("function"!=typeof k._construct)return;const h=k._readableState,y=k._writableState;h&&(h.constructed=!1),y&&(y.constructed=!1),k.once(I,u),!(k.listenerCount(I)>1)&&m.nextTick(ae,k)},destroyer:function De(k,u){!k||M(k)||(!u&&!N(k)&&(u=new W),$(k)?(k.socket=null,k.destroy(u)):le(k)?k.abort():le(k.req)?k.req.abort():"function"==typeof k.destroy?k.destroy(u):"function"==typeof k.close?k.close():u?m.nextTick(we,k,u):m.nextTick(ve,k),k.destroyed||(k[L]=!0))},destroy:function V(k,u){const h=this._readableState,y=this._writableState,w=y||h;return null!=y&&y.destroyed||null!=h&&h.destroyed?("function"==typeof u&&u(),this):(X(k,y,h),y&&(y.destroyed=!0),h&&(h.destroyed=!0),w.constructed?Z(this,k,u):this.once(F,function(T){Z(this,x(T,k),u)}),this)},undestroy:function J(){const k=this._readableState,u=this._writableState;k&&(k.constructed=!0,k.closed=!1,k.closeEmitted=!1,k.destroyed=!1,k.errored=null,k.errorEmitted=!1,k.reading=!1,k.ended=!1===k.readable,k.endEmitted=!1===k.readable),u&&(u.constructed=!0,u.destroyed=!1,u.closed=!1,u.closeEmitted=!1,u.errored=null,u.errorEmitted=!1,u.finalCalled=!1,u.prefinished=!1,u.ended=!1===u.writable,u.ending=!1===u.writable,u.finished=!1===u.writable)},errorOrDestroy:oe}},97464:(Le,z,E)=>{"use strict";const{ObjectDefineProperties:m,ObjectGetOwnPropertyDescriptor:x,ObjectKeys:R,ObjectSetPrototypeOf:W}=E(43856);Le.exports=M;const S=E(29710),L=E(40258);W(M.prototype,S.prototype),W(M,S);{const I=R(L.prototype);for(let X=0;X<I.length;X++){const V=I[X];M.prototype[V]||(M.prototype[V]=L.prototype[V])}}function M(I){if(!(this instanceof M))return new M(I);S.call(this,I),L.call(this,I),I?(this.allowHalfOpen=!1!==I.allowHalfOpen,!1===I.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===I.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let N,F;function $(){return void 0===N&&(N={}),N}m(M.prototype,{writable:{__proto__:null,...x(L.prototype,"writable")},writableHighWaterMark:{__proto__:null,...x(L.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...x(L.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...x(L.prototype,"writableBuffer")},writableLength:{__proto__:null,...x(L.prototype,"writableLength")},writableFinished:{__proto__:null,...x(L.prototype,"writableFinished")},writableCorked:{__proto__:null,...x(L.prototype,"writableCorked")},writableEnded:{__proto__:null,...x(L.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...x(L.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(I){this._readableState&&this._writableState&&(this._readableState.destroyed=I,this._writableState.destroyed=I)}}}),M.fromWeb=function(I,X){return $().newStreamDuplexFromReadableWritablePair(I,X)},M.toWeb=function(I){return $().newReadableWritablePairFromDuplex(I)},M.from=function(I){return F||(F=E(56840)),F(I,"body")}},56840:(Le,z,E)=>{var m=E(29293).default,x=E(53344).default,R=E(42958).default;const W=E(40573),S=E(89565),{isReadable:L,isWritable:M,isIterable:N,isNodeStream:$,isReadableNodeStream:F,isWritableNodeStream:I,isDuplexNodeStream:X}=E(51233),V=E(44268),{AbortError:Z,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te}}=E(65109),{destroyer:Q}=E(45078),J=E(97464),oe=E(29710),{createDeferredPromise:se}=E(55830),ae=E(24246),pe=globalThis.Blob||S.Blob,le=typeof pe<"u"?function(y){return y instanceof pe}:function(y){return!1},ve=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:we}=E(43856);class De extends J{constructor(y){super(y),!1===y?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===y?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function u(h){const y=h.readable&&"function"!=typeof h.readable.read?oe.wrap(h.readable):h.readable,w=h.writable;let j,A,l,g,G,T=!!L(y),D=!!M(w);function H(ne){const ce=g;g=null,ce?ce(ne):ne&&G.destroy(ne)}return G=new De({readableObjectMode:!(null==y||!y.readableObjectMode),writableObjectMode:!(null==w||!w.writableObjectMode),readable:T,writable:D}),D&&(V(w,ne=>{D=!1,ne&&Q(y,ne),H(ne)}),G._write=function(ne,ce,Ae){w.write(ne,ce)?Ae():j=Ae},G._final=function(ne){w.end(),A=ne},w.on("drain",function(){if(j){const ne=j;j=null,ne()}}),w.on("finish",function(){if(A){const ne=A;A=null,ne()}})),T&&(V(y,ne=>{T=!1,ne&&Q(y,ne),H(ne)}),y.on("readable",function(){if(l){const ne=l;l=null,ne()}}),y.on("end",function(){G.push(null)}),G._read=function(){for(;;){const ne=y.read();if(null===ne)return void(l=G._read);if(!G.push(ne))return}}),G._destroy=function(ne,ce){!ne&&null!==g&&(ne=new Z),l=null,j=null,A=null,null===g?ce(ne):(g=ce,Q(w,ne),Q(y,ne))},G}Le.exports=function h(y,w){if(X(y))return y;if(F(y))return u({readable:y});if(I(y))return u({writable:y});if($(y))return u({writable:!1,readable:!1});if("function"==typeof y){const{value:D,write:j,final:A,destroy:l}=function k(h){let{promise:y,resolve:w}=se();const T=new ve,D=T.signal;return{value:h(R(function*(){for(;;){const A=y;y=null;const{chunk:l,done:g,cb:G}=yield x(A);if(W.nextTick(G),g)return;if(D.aborted)throw new Z(void 0,{cause:D.reason});({promise:y,resolve:w}=se()),yield l}})(),{signal:D}),write(A,l,g){const G=w;w=null,G({chunk:A,done:!1,cb:g})},final(A){const l=w;w=null,l({done:!0,cb:A})},destroy(A,l){T.abort(),l(A)}}}(y);if(N(D))return ae(De,D,{objectMode:!0,write:j,final:A,destroy:l});const g=D?.then;if("function"==typeof g){let G;const H=we(g,D,ne=>{if(null!=ne)throw new te("nully","body",ne)},ne=>{Q(G,ne)});return G=new De({objectMode:!0,readable:!1,write:j,final(ne){A(m(function*(){try{yield H,W.nextTick(ne,null)}catch(ce){W.nextTick(ne,ce)}}))},destroy:l})}throw new te("Iterable, AsyncIterable or AsyncFunction",w,D)}if(le(y))return h(y.arrayBuffer());if(N(y))return ae(De,y,{objectMode:!0,writable:!1});if("object"==typeof y?.writable||"object"==typeof y?.readable)return u({readable:null!=y&&y.readable?F(y?.readable)?y?.readable:h(y.readable):void 0,writable:null!=y&&y.writable?I(y?.writable)?y?.writable:h(y.writable):void 0});const T=y?.then;if("function"==typeof T){let D;return we(T,y,j=>{null!=j&&D.push(j),D.push(null)},j=>{Q(D,j)}),D=new De({objectMode:!0,writable:!1,read(){}})}throw new re(w,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],y)}},44268:(Le,z,E)=>{const m=E(40573),{AbortError:x,codes:R}=E(65109),{ERR_INVALID_ARG_TYPE:W,ERR_STREAM_PREMATURE_CLOSE:S}=R,{kEmptyObject:L,once:M}=E(55830),{validateAbortSignal:N,validateFunction:$,validateObject:F,validateBoolean:I}=E(44323),{Promise:X,PromisePrototypeThen:V}=E(43856),{isClosed:Z,isReadable:re,isReadableNodeStream:te,isReadableStream:Q,isReadableFinished:J,isReadableErrored:oe,isWritable:se,isWritableNodeStream:ae,isWritableStream:pe,isWritableFinished:le,isWritableErrored:ve,isNodeStream:we,willEmitClose:De,kIsClosedPromise:k}=E(51233),h=()=>{};function y(D,j,A){var l,g;if(2===arguments.length?(A=j,j=L):null==j?j=L:F(j,"options"),$(A,"callback"),N(j.signal,"options.signal"),A=M(A),Q(D)||pe(D))return function w(D,j,A){let l=!1,g=h;if(j.signal)if(g=()=>{l=!0,A.call(D,new x(void 0,{cause:j.signal.reason}))},j.signal.aborted)m.nextTick(g);else{const H=A;A=M((...ne)=>{j.signal.removeEventListener("abort",g),H.apply(D,ne)}),j.signal.addEventListener("abort",g)}const G=(...H)=>{l||m.nextTick(()=>A.apply(D,H))};return V(D[k].promise,G,G),h}(D,j,A);if(!we(D))throw new W("stream",["ReadableStream","WritableStream","Stream"],D);const G=null!==(l=j.readable)&&void 0!==l?l:te(D),H=null!==(g=j.writable)&&void 0!==g?g:ae(D),ne=D._writableState,ce=D._readableState,Ae=()=>{D.writable||Ee()};let ke=De(D)&&te(D)===G&&ae(D)===H,Fe=le(D,!1);const Ee=()=>{Fe=!0,D.destroyed&&(ke=!1),(!ke||D.readable&&!G)&&(!G||ge)&&A.call(D)};let ge=J(D,!1);const Oe=()=>{ge=!0,D.destroyed&&(ke=!1),(!ke||D.writable&&!H)&&(!H||Fe)&&A.call(D)},ye=ue=>{A.call(D,ue)};let Se=Z(D);const he=()=>{Se=!0;const ue=ve(D)||oe(D);return ue&&"boolean"!=typeof ue?A.call(D,ue):G&&!ge&&te(D,!0)&&!J(D,!1)?A.call(D,new S):!H||Fe||le(D,!1)?void A.call(D):A.call(D,new S)},fe=()=>{Se=!0;const ue=ve(D)||oe(D);if(ue&&"boolean"!=typeof ue)return A.call(D,ue);A.call(D)},ee=()=>{D.req.on("finish",Ee)};!function u(D){return D.setHeader&&"function"==typeof D.abort}(D)?H&&!ne&&(D.on("end",Ae),D.on("close",Ae)):(D.on("complete",Ee),ke||D.on("abort",he),D.req?ee():D.on("request",ee)),!ke&&"boolean"==typeof D.aborted&&D.on("aborted",he),D.on("end",Oe),D.on("finish",Ee),!1!==j.error&&D.on("error",ye),D.on("close",he),Se?m.nextTick(he):null!=ne&&ne.errorEmitted||null!=ce&&ce.errorEmitted?ke||m.nextTick(fe):(!G&&(!ke||re(D))&&(Fe||!1===se(D))||!H&&(!ke||se(D))&&(ge||!1===re(D))||ce&&D.req&&D.aborted)&&m.nextTick(fe);const ie=()=>{A=h,D.removeListener("aborted",he),D.removeListener("complete",Ee),D.removeListener("abort",he),D.removeListener("request",ee),D.req&&D.req.removeListener("finish",Ee),D.removeListener("end",Ae),D.removeListener("close",Ae),D.removeListener("finish",Ee),D.removeListener("end",Oe),D.removeListener("error",ye),D.removeListener("close",he)};if(j.signal&&!Se){const ue=()=>{const be=A;ie(),be.call(D,new x(void 0,{cause:j.signal.reason}))};if(j.signal.aborted)m.nextTick(ue);else{const be=A;A=M((...Ie)=>{j.signal.removeEventListener("abort",ue),be.apply(D,Ie)}),j.signal.addEventListener("abort",ue)}}return ie}Le.exports=y,Le.exports.finished=function T(D,j){var A;let l=!1;return null===j&&(j=L),null!==(A=j)&&void 0!==A&&A.cleanup&&(I(j.cleanup,"cleanup"),l=j.cleanup),new X((g,G)=>{const H=y(D,j,ne=>{l&&H(),ne?G(ne):g()})})}},24246:(Le,z,E)=>{"use strict";var m=E(29293).default;const x=E(40573),{PromisePrototypeThen:R,SymbolAsyncIterator:W,SymbolIterator:S}=E(43856),{Buffer:L}=E(89565),{ERR_INVALID_ARG_TYPE:M,ERR_STREAM_NULL_VALUES:N}=E(65109).codes;Le.exports=function $(F,I,X){let V,Z;if("string"==typeof I||I instanceof L)return new F({objectMode:!0,...X,read(){this.push(I),this.push(null)}});if(I&&I[W])Z=!0,V=I[W]();else{if(!I||!I[S])throw new M("iterable",["Iterable"],I);Z=!1,V=I[S]()}const re=new F({objectMode:!0,highWaterMark:1,...X});let te=!1;function J(){return(J=m(function*(ae){if(null!=ae&&"function"==typeof V.throw){const{value:ve,done:we}=yield V.throw(ae);if(yield ve,we)return}if("function"==typeof V.return){const{value:ve}=yield V.return();yield ve}})).apply(this,arguments)}function se(){return(se=m(function*(){for(;;){try{const{value:ae,done:pe}=Z?yield V.next():V.next();if(pe)re.push(null);else{const le=ae&&"function"==typeof ae.then?yield ae:ae;if(null===le)throw te=!1,new N;if(re.push(le))continue;te=!1}}catch(ae){re.destroy(ae)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function oe(){se.apply(this,arguments)}())},re._destroy=function(ae,pe){R(function Q(ae){return J.apply(this,arguments)}(ae),()=>x.nextTick(pe,ae),le=>x.nextTick(pe,le||ae))},re}},2649:(Le,z,E)=>{"use strict";const{ArrayIsArray:m,ObjectSetPrototypeOf:x}=E(43856),{EventEmitter:R}=E(44356);function W(L){R.call(this,L)}function S(L,M,N){if("function"==typeof L.prependListener)return L.prependListener(M,N);L._events&&L._events[M]?m(L._events[M])?L._events[M].unshift(N):L._events[M]=[N,L._events[M]]:L.on(M,N)}x(W.prototype,R.prototype),x(W,R),W.prototype.pipe=function(L,M){const N=this;function $(te){L.writable&&!1===L.write(te)&&N.pause&&N.pause()}function F(){N.readable&&N.resume&&N.resume()}N.on("data",$),L.on("drain",F),!L._isStdio&&(!M||!1!==M.end)&&(N.on("end",X),N.on("close",V));let I=!1;function X(){I||(I=!0,L.end())}function V(){I||(I=!0,"function"==typeof L.destroy&&L.destroy())}function Z(te){re(),0===R.listenerCount(this,"error")&&this.emit("error",te)}function re(){N.removeListener("data",$),L.removeListener("drain",F),N.removeListener("end",X),N.removeListener("close",V),N.removeListener("error",Z),L.removeListener("error",Z),N.removeListener("end",re),N.removeListener("close",re),L.removeListener("close",re)}return S(N,"error",Z),S(L,"error",Z),N.on("end",re),N.on("close",re),L.on("close",re),L.emit("pipe",N),L},Le.exports={Stream:W,prependListener:S}},37325:(Le,z,E)=>{"use strict";var m=E(29293).default,x=E(93513).default,R=E(82881).default,W=E(53344).default,S=E(42958).default;const L=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:M,ERR_INVALID_ARG_TYPE:N,ERR_MISSING_ARGS:$,ERR_OUT_OF_RANGE:F},AbortError:I}=E(65109),{validateAbortSignal:X,validateInteger:V,validateObject:Z}=E(44323),re=E(43856).Symbol("kWeak"),{finished:te}=E(44268),Q=E(5464),{addAbortSignalNoValidate:J}=E(24785),{isWritable:oe,isNodeStream:se}=E(51233),{ArrayPrototypePush:ae,MathFloor:pe,Number:le,NumberIsNaN:ve,Promise:we,PromiseReject:De,PromisePrototypeThen:k,Symbol:u}=E(43856),h=u("kEmpty"),y=u("kEof");function T(ee,ie){if("function"!=typeof ee)throw new N("fn",["Function","AsyncFunction"],ee);null!=ie&&Z(ie,"options"),null!=ie?.signal&&X(ie.signal,"options.signal");let ue=1;return null!=ie?.concurrency&&(ue=pe(ie.concurrency)),V(ue,"concurrency",1),function(){var be=S(function*(){var Ne,Be;const yt=new L,Ke=this,Re=[],ot=yt.signal,U={signal:ot},_=()=>yt.abort();null!=ie&&null!==(Ne=ie.signal)&&void 0!==Ne&&Ne.aborted&&_(),null==ie||null===(Be=ie.signal)||void 0===Be||Be.addEventListener("abort",_);let p,O,q=!1;function me(){q=!0}function qe(){return(qe=m(function*(){try{var bt,At=!1,ut=!1;try{for(var en,Lt=R(Ke);At=!(en=yield Lt.next()).done;At=!1){let yn=en.value;var Zt;if(q)return;if(ot.aborted)throw new I;try{yn=ee(yn,U)}catch(Vt){yn=De(Vt)}yn!==h&&("function"==typeof(null===(Zt=yn)||void 0===Zt?void 0:Zt.catch)&&yn.catch(me),Re.push(yn),p&&(p(),p=null),!q&&Re.length&&Re.length>=ue&&(yield new we(Vt=>{O=Vt})))}}catch(yn){ut=!0,bt=yn}finally{try{At&&null!=Lt.return&&(yield Lt.return())}finally{if(ut)throw bt}}Re.push(y)}catch(yn){const Vt=De(yn);k(Vt,void 0,me),Re.push(Vt)}finally{var Jn;q=!0,p&&(p(),p=null),null==ie||null===(Jn=ie.signal)||void 0===Jn||Jn.removeEventListener("abort",_)}})).apply(this,arguments)}!function xe(){qe.apply(this,arguments)}();try{for(;;){for(;Re.length>0;){const At=yield W(Re[0]);if(At===y)return;if(ot.aborted)throw new I;At!==h&&(yield At),Re.shift(),O&&(O(),O=null)}yield W(new we(At=>{p=At}))}}finally{yt.abort(),q=!0,O&&(O(),O=null)}});return function Ie(){return be.apply(this,arguments)}}().call(this)}function j(ee){return A.apply(this,arguments)}function A(){return(A=m(function*(ee,ie=void 0){var Ie,ue=!1,be=!1;try{for(var Ne=R(Ae.call(this,ee,ie));ue=!(yield Ne.next()).done;ue=!1)return!0}catch(yt){be=!0,Ie=yt}finally{try{ue&&null!=Ne.return&&(yield Ne.return())}finally{if(be)throw Ie}}return!1})).apply(this,arguments)}function g(){return(g=m(function*(ee,ie=void 0){if("function"!=typeof ee)throw new N("fn",["Function","AsyncFunction"],ee);return!(yield j.call(this,m(function*(...ue){return!(yield ee(...ue))}),ie))})).apply(this,arguments)}function H(){return(H=m(function*(ee,ie){var Ie,ue=!1,be=!1;try{for(var Be,Ne=R(Ae.call(this,ee,ie));ue=!(Be=yield Ne.next()).done;ue=!1)return Be.value}catch(yt){be=!0,Ie=yt}finally{try{ue&&null!=Ne.return&&(yield Ne.return())}finally{if(be)throw Ie}}})).apply(this,arguments)}function ce(){return ce=m(function*(ee,ie){if("function"!=typeof ee)throw new N("fn",["Function","AsyncFunction"],ee);function be(){return(be=m(function*(Re,ot){return yield ee(Re,ot),h})).apply(this,arguments)}var Be,Ie=!1,Ne=!1;try{for(var yt=R(T.call(this,function ue(Re,ot){return be.apply(this,arguments)},ie));Ie=!(yield yt.next()).done;Ie=!1);}catch(Re){Ne=!0,Be=Re}finally{try{Ie&&null!=yt.return&&(yield yt.return())}finally{if(Ne)throw Be}}}),ce.apply(this,arguments)}function Ae(ee,ie){if("function"!=typeof ee)throw new N("fn",["Function","AsyncFunction"],ee);function be(){return(be=m(function*(Ie,Ne){return(yield ee(Ie,Ne))?Ie:h})).apply(this,arguments)}return T.call(this,function ue(Ie,Ne){return be.apply(this,arguments)},ie)}class ke extends ${constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Ee(){return Ee=m(function*(ee,ie,ue){var be;if("function"!=typeof ee)throw new N("reducer",["Function","AsyncFunction"],ee);null!=ue&&Z(ue,"options"),null!=ue?.signal&&X(ue.signal,"options.signal");let Ie=arguments.length>1;if(null!=ue&&null!==(be=ue.signal)&&void 0!==be&&be.aborted){const O=new I(void 0,{cause:ue.signal.reason});throw this.once("error",()=>{}),yield te(this.destroy(O)),O}const Ne=new L,Be=Ne.signal;null!=ue&&ue.signal&&ue.signal.addEventListener("abort",()=>Ne.abort(),{once:!0,[re]:this});let yt=!1;try{var ot,Ke=!1,Re=!1;try{for(var _,U=R(this);Ke=!(_=yield U.next()).done;Ke=!1){const O=_.value;var p;if(yt=!0,null!=ue&&null!==(p=ue.signal)&&void 0!==p&&p.aborted)throw new I;Ie?ie=yield ee(ie,O,{signal:Be}):(ie=O,Ie=!0)}}catch(O){Re=!0,ot=O}finally{try{Ke&&null!=U.return&&(yield U.return())}finally{if(Re)throw ot}}if(!yt&&!Ie)throw new ke}finally{Ne.abort()}return ie}),Ee.apply(this,arguments)}function Oe(){return(Oe=m(function*(ee){null!=ee&&Z(ee,"options"),null!=ee?.signal&&X(ee.signal,"options.signal");const ie=[];var Ie,ue=!1,be=!1;try{for(var Be,Ne=R(this);ue=!(Be=yield Ne.next()).done;ue=!1){const Ke=Be.value;var yt;if(null!=ee&&null!==(yt=ee.signal)&&void 0!==yt&&yt.aborted)throw new I(void 0,{cause:ee.signal.reason});ae(ie,Ke)}}catch(Ke){be=!0,Ie=Ke}finally{try{ue&&null!=Ne.return&&(yield Ne.return())}finally{if(be)throw Ie}}return ie})).apply(this,arguments)}function Se(ee){if(ee=le(ee),ve(ee))return 0;if(ee<0)throw new F("number",">= 0",ee);return ee}Le.exports.streamReturningOperators={asIndexedPairs:function D(ee=void 0){return null!=ee&&Z(ee,"options"),null!=ee?.signal&&X(ee.signal,"options.signal"),function(){var ie=S(function*(){let be=0;var Be,Ie=!1,Ne=!1;try{for(var Ke,yt=R(this);Ie=!(Ke=yield W(yt.next())).done;Ie=!1){const ot=Ke.value;var Re;if(null!=ee&&null!==(Re=ee.signal)&&void 0!==Re&&Re.aborted)throw new I({cause:ee.signal.reason});yield[be++,ot]}}catch(ot){Ne=!0,Be=ot}finally{try{Ie&&null!=yt.return&&(yield W(yt.return()))}finally{if(Ne)throw Be}}});return function ue(){return ie.apply(this,arguments)}}().call(this)},drop:function he(ee,ie=void 0){return null!=ie&&Z(ie,"options"),null!=ie?.signal&&X(ie.signal,"options.signal"),ee=Se(ee),function(){var ue=S(function*(){var Ie;if(null!=ie&&null!==(Ie=ie.signal)&&void 0!==Ie&&Ie.aborted)throw new I;var yt,Ne=!1,Be=!1;try{for(var Re,Ke=R(this);Ne=!(Re=yield W(Ke.next())).done;Ne=!1){const U=Re.value;var ot;if(null!=ie&&null!==(ot=ie.signal)&&void 0!==ot&&ot.aborted)throw new I;ee--<=0&&(yield U)}}catch(U){Be=!0,yt=U}finally{try{Ne&&null!=Ke.return&&(yield W(Ke.return()))}finally{if(Be)throw yt}}});return function be(){return ue.apply(this,arguments)}}().call(this)},filter:Ae,flatMap:function ye(ee,ie){const ue=T.call(this,ee,ie);return function(){var be=S(function*(){var yt,Ne=!1,Be=!1;try{for(var Re,Ke=R(ue);Ne=!(Re=yield W(Ke.next())).done;Ne=!1){const ot=Re.value;yield*x(R(ot),W)}}catch(ot){Be=!0,yt=ot}finally{try{Ne&&null!=Ke.return&&(yield W(Ke.return()))}finally{if(Be)throw yt}}});return function Ie(){return be.apply(this,arguments)}}().call(this)},map:T,take:function fe(ee,ie=void 0){return null!=ie&&Z(ie,"options"),null!=ie?.signal&&X(ie.signal,"options.signal"),ee=Se(ee),function(){var ue=S(function*(){var Ie;if(null!=ie&&null!==(Ie=ie.signal)&&void 0!==Ie&&Ie.aborted)throw new I;var yt,Ne=!1,Be=!1;try{for(var Re,Ke=R(this);Ne=!(Re=yield W(Ke.next())).done;Ne=!1){const U=Re.value;var ot;if(null!=ie&&null!==(ot=ie.signal)&&void 0!==ot&&ot.aborted)throw new I;if(!(ee-- >0))return;yield U}}catch(U){Be=!0,yt=U}finally{try{Ne&&null!=Ke.return&&(yield W(Ke.return()))}finally{if(Be)throw yt}}});return function be(){return ue.apply(this,arguments)}}().call(this)},compose:function w(ee,ie){if(null!=ie&&Z(ie,"options"),null!=ie?.signal&&X(ie.signal,"options.signal"),se(ee)&&!oe(ee))throw new M("stream",ee,"must be writable");const ue=Q(this,ee);return null!=ie&&ie.signal&&J(ie.signal,ue),ue}},Le.exports.promiseReturningOperators={every:function l(ee){return g.apply(this,arguments)},forEach:function ne(ee,ie){return ce.apply(this,arguments)},reduce:function Fe(ee,ie,ue){return Ee.apply(this,arguments)},toArray:function ge(ee){return Oe.apply(this,arguments)},some:j,find:function G(ee,ie){return H.apply(this,arguments)}}},70874:(Le,z,E)=>{"use strict";const{ObjectSetPrototypeOf:m}=E(43856);Le.exports=R;const x=E(66344);function R(W){if(!(this instanceof R))return new R(W);x.call(this,W)}m(R.prototype,x.prototype),m(R,x),R.prototype._transform=function(W,S,L){L(null,W)}},96208:(Le,z,E)=>{var m=E(29293).default,x=E(42958).default,R=E(53344).default,W=E(93513).default,S=E(82881).default;const L=E(40573),{ArrayIsArray:M,Promise:N,SymbolAsyncIterator:$}=E(43856),F=E(44268),{once:I}=E(55830),X=E(45078),V=E(97464),{aggregateTwoErrors:Z,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te,ERR_MISSING_ARGS:Q,ERR_STREAM_DESTROYED:J,ERR_STREAM_PREMATURE_CLOSE:oe},AbortError:se}=E(65109),{validateFunction:ae,validateAbortSignal:pe}=E(44323),{isIterable:le,isReadable:ve,isReadableNodeStream:we,isNodeStream:De,isTransformStream:k,isWebStream:u,isReadableStream:h,isReadableEnded:y}=E(51233),w=globalThis.AbortController||E(9465).AbortController;let T,D;function j(ge,Oe,ye){let Se=!1;return ge.on("close",()=>{Se=!0}),{destroy:fe=>{Se||(Se=!0,X.destroyer(ge,fe||new J("pipe")))},cleanup:F(ge,{readable:Oe,writable:ye},fe=>{Se=!fe})}}function l(ge){if(le(ge))return ge;if(we(ge))return function g(ge){return G.apply(this,arguments)}(ge);throw new re("val",["Readable","Iterable","AsyncIterable"],ge)}function G(){return(G=x(function*(ge){D||(D=E(29710)),yield*W(S(D.prototype[$].call(ge)),R)})).apply(this,arguments)}function H(ge,Oe,ye,Se){return ne.apply(this,arguments)}function ne(){return(ne=m(function*(ge,Oe,ye,{end:Se}){let he,fe=null;const ee=Ke=>{if(Ke&&(he=Ke),fe){const Re=fe;fe=null,Re()}},ie=()=>new N((Ke,Re)=>{he?Re(he):fe=()=>{he?Re(he):Ke()}});Oe.on("drain",ee);const ue=F(Oe,{readable:!1},ee);try{Oe.writableNeedDrain&&(yield ie());var Ne,be=!1,Ie=!1;try{for(var yt,Be=S(ge);be=!(yt=yield Be.next()).done;be=!1)Oe.write(yt.value)||(yield ie())}catch(Ke){Ie=!0,Ne=Ke}finally{try{be&&null!=Be.return&&(yield Be.return())}finally{if(Ie)throw Ne}}Se&&Oe.end(),yield ie(),ye()}catch(Ke){ye(he!==Ke?Z(he,Ke):Ke)}finally{ue(),Oe.off("drain",ee)}})).apply(this,arguments)}function ce(ge,Oe,ye,Se){return Ae.apply(this,arguments)}function Ae(){return(Ae=m(function*(ge,Oe,ye,{end:Se}){k(Oe)&&(Oe=Oe.writable);const he=Oe.getWriter();try{var ie,fe=!1,ee=!1;try{for(var be,ue=S(ge);fe=!(be=yield ue.next()).done;fe=!1){const Ie=be.value;yield he.ready,he.write(Ie).catch(()=>{})}}catch(Ie){ee=!0,ie=Ie}finally{try{fe&&null!=ue.return&&(yield ue.return())}finally{if(ee)throw ie}}yield he.ready,Se&&(yield he.close()),ye()}catch(Ie){try{yield he.abort(Ie),ye(Ie)}catch(Ne){ye(Ne)}}})).apply(this,arguments)}function Fe(ge,Oe,ye){if(1===ge.length&&M(ge[0])&&(ge=ge[0]),ge.length<2)throw new Q("streams");const Se=new w,he=Se.signal,fe=ye?.signal,ee=[];function ie(){yt(new se)}let ue,be;pe(fe,"options.signal"),fe?.addEventListener("abort",ie);const Ie=[];let Ke,Ne=0;function Be(_){yt(_,0==--Ne)}function yt(_,p){if(_&&(!ue||"ERR_STREAM_PREMATURE_CLOSE"===ue.code)&&(ue=_),ue||p){for(;Ie.length;)Ie.shift()(ue);fe?.removeEventListener("abort",ie),Se.abort(),p&&(ue||ee.forEach(O=>O()),L.nextTick(Oe,ue,be))}}for(let _=0;_<ge.length;_++){const p=ge[_],O=_<ge.length-1,q=_>0,me=O||!1!==ye?.end,xe=_===ge.length-1;if(De(p)){let qe=function(At){At&&"AbortError"!==At.name&&"ERR_STREAM_PREMATURE_CLOSE"!==At.code&&Be(At)};if(me){const{destroy:At,cleanup:ut}=j(p,O,q);Ie.push(At),ve(p)&&xe&&ee.push(ut)}p.on("error",qe),ve(p)&&xe&&ee.push(()=>{p.removeListener("error",qe)})}if(0===_)if("function"==typeof p){if(Ke=p({signal:he}),!le(Ke))throw new te("Iterable, AsyncIterable or Stream","source",Ke)}else Ke=le(p)||we(p)||k(p)?p:V.from(p);else if("function"==typeof p){var Re;if(Ke=k(Ke)?l(null===(Re=Ke)||void 0===Re?void 0:Re.readable):l(Ke),Ke=p(Ke,{signal:he}),O){if(!le(Ke,!0))throw new te("AsyncIterable",`transform[${_-1}]`,Ke)}else{var ot;T||(T=E(70874));const qe=new T({objectMode:!0}),At=null===(ot=Ke)||void 0===ot?void 0:ot.then;if("function"==typeof At)Ne++,At.call(Ke,Lt=>{be=Lt,null!=Lt&&qe.write(Lt),me&&qe.end(),L.nextTick(Be)},Lt=>{qe.destroy(Lt),L.nextTick(Be,Lt)});else if(le(Ke,!0))Ne++,H(Ke,qe,Be,{end:me});else{if(!h(Ke)&&!k(Ke))throw new te("AsyncIterable or Promise","destination",Ke);Ne++,H(Ke.readable||Ke,qe,Be,{end:me})}Ke=qe;const{destroy:ut,cleanup:bt}=j(Ke,!1,!0);Ie.push(ut),xe&&ee.push(bt)}}else if(De(p)){if(we(Ke)){Ne+=2;const qe=Ee(Ke,p,Be,{end:me});ve(p)&&xe&&ee.push(qe)}else if(k(Ke)||h(Ke))Ne++,H(Ke.readable||Ke,p,Be,{end:me});else{if(!le(Ke))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ke);Ne++,H(Ke,p,Be,{end:me})}Ke=p}else if(u(p)){if(we(Ke))Ne++,ce(l(Ke),p,Be,{end:me});else if(h(Ke)||le(Ke))Ne++,ce(Ke,p,Be,{end:me});else{if(!k(Ke))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ke);Ne++,ce(Ke.readable,p,Be,{end:me})}Ke=p}else Ke=V.from(p)}return(null!=he&&he.aborted||null!=fe&&fe.aborted)&&L.nextTick(ie),Ke}function Ee(ge,Oe,ye,{end:Se}){let he=!1;if(Oe.on("close",()=>{he||ye(new oe)}),ge.pipe(Oe,{end:!1}),Se){let ee=function(){he=!0,Oe.end()};y(ge)?L.nextTick(ee):ge.once("end",ee)}else ye();return F(ge,{readable:!0,writable:!1},ee=>{const ie=ge._readableState;ee&&"ERR_STREAM_PREMATURE_CLOSE"===ee.code&&ie&&ie.ended&&!ie.errored&&!ie.errorEmitted?ge.once("end",ye).once("error",ye):ye(ee)}),F(Oe,{readable:!1,writable:!0},ye)}Le.exports={pipelineImpl:Fe,pipeline:function ke(...ge){return Fe(ge,I(function A(ge){return ae(ge[ge.length-1],"streams[stream.length - 1]"),ge.pop()}(ge)))}}},29710:(Le,z,E)=>{var m=E(53344).default,x=E(42958).default;const R=E(40573),{ArrayPrototypeIndexOf:W,NumberIsInteger:S,NumberIsNaN:L,NumberParseInt:M,ObjectDefineProperties:N,ObjectKeys:$,ObjectSetPrototypeOf:F,Promise:I,SafeSet:X,SymbolAsyncIterator:V,Symbol:Z}=E(43856);Le.exports=H,H.ReadableState=G;const{EventEmitter:re}=E(44356),{Stream:te,prependListener:Q}=E(2649),{Buffer:J}=E(89565),{addAbortSignal:oe}=E(24785),se=E(44268);let ae=E(55830).debuglog("stream",p=>{ae=p});const pe=E(58579),le=E(45078),{getHighWaterMark:ve,getDefaultHighWaterMark:we}=E(31081),{aggregateTwoErrors:De,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:u,ERR_OUT_OF_RANGE:h,ERR_STREAM_PUSH_AFTER_EOF:y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:w}}=E(65109),{validateObject:T}=E(44323),D=Z("kPaused"),{StringDecoder:j}=E(78454),A=E(24246);F(H.prototype,te.prototype),F(H,te);const l=()=>{},{errorOrDestroy:g}=le;function G(p,O,q){"boolean"!=typeof q&&(q=O instanceof E(97464)),this.objectMode=!(!p||!p.objectMode),q&&(this.objectMode=this.objectMode||!(!p||!p.readableObjectMode)),this.highWaterMark=p?ve(this,p,"readableHighWaterMark",q):we(!1),this.buffer=new pe,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[D]=null,this.errorEmitted=!1,this.emitClose=!p||!1!==p.emitClose,this.autoDestroy=!p||!1!==p.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=p&&p.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,p&&p.encoding&&(this.decoder=new j(p.encoding),this.encoding=p.encoding)}function H(p){if(!(this instanceof H))return new H(p);const O=this instanceof E(97464);this._readableState=new G(p,this,O),p&&("function"==typeof p.read&&(this._read=p.read),"function"==typeof p.destroy&&(this._destroy=p.destroy),"function"==typeof p.construct&&(this._construct=p.construct),p.signal&&!O&&oe(p.signal,this)),te.call(this,p),le.construct(this,()=>{this._readableState.needReadable&&ye(this,this._readableState)})}function ne(p,O,q,me){ae("readableAddChunk",O);const xe=p._readableState;let qe;if(xe.objectMode||("string"==typeof O?xe.encoding!==(q=q||xe.defaultEncoding)&&(me&&xe.encoding?O=J.from(O,q).toString(xe.encoding):(O=J.from(O,q),q="")):O instanceof J?q="":te._isUint8Array(O)?(O=te._uint8ArrayToBuffer(O),q=""):null!=O&&(qe=new k("chunk",["string","Buffer","Uint8Array"],O))),qe)g(p,qe);else if(null===O)xe.reading=!1,function Ee(p,O){if(ae("onEofChunk"),!O.ended){if(O.decoder){const q=O.decoder.end();q&&q.length&&(O.buffer.push(q),O.length+=O.objectMode?1:q.length)}O.ended=!0,O.sync?ge(p):(O.needReadable=!1,O.emittedReadable=!0,Oe(p))}}(p,xe);else if(xe.objectMode||O&&O.length>0)if(me)if(xe.endEmitted)g(p,new w);else{if(xe.destroyed||xe.errored)return!1;ce(p,xe,O,!0)}else if(xe.ended)g(p,new y);else{if(xe.destroyed||xe.errored)return!1;xe.reading=!1,xe.decoder&&!q?(O=xe.decoder.write(O),xe.objectMode||0!==O.length?ce(p,xe,O,!1):ye(p,xe)):ce(p,xe,O,!1)}else me||(xe.reading=!1,ye(p,xe));return!xe.ended&&(xe.length<xe.highWaterMark||0===xe.length)}function ce(p,O,q,me){O.flowing&&0===O.length&&!O.sync&&p.listenerCount("data")>0?(O.multiAwaitDrain?O.awaitDrainWriters.clear():O.awaitDrainWriters=null,O.dataEmitted=!0,p.emit("data",q)):(O.length+=O.objectMode?1:q.length,me?O.buffer.unshift(q):O.buffer.push(q),O.needReadable&&ge(p)),ye(p,O)}function Fe(p,O){return p<=0||0===O.length&&O.ended?0:O.objectMode?1:L(p)?O.flowing&&O.length?O.buffer.first().length:O.length:p<=O.length?p:O.ended?O.length:0}function ge(p){const O=p._readableState;ae("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(ae("emitReadable",O.flowing),O.emittedReadable=!0,R.nextTick(Oe,p))}function Oe(p){const O=p._readableState;ae("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&!O.errored&&(O.length||O.ended)&&(p.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,be(p)}function ye(p,O){!O.readingMore&&O.constructed&&(O.readingMore=!0,R.nextTick(Se,p,O))}function Se(p,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&0===O.length);){const q=O.length;if(ae("maybeReadMore read 0"),p.read(0),q===O.length)break}O.readingMore=!1}function fe(p){const O=p._readableState;O.readableListening=p.listenerCount("readable")>0,O.resumeScheduled&&!1===O[D]?O.flowing=!0:p.listenerCount("data")>0?p.resume():O.readableListening||(O.flowing=null)}function ee(p){ae("readable nexttick read 0"),p.read(0)}function ue(p,O){ae("resume",O.reading),O.reading||p.read(0),O.resumeScheduled=!1,p.emit("resume"),be(p),O.flowing&&!O.reading&&p.read(0)}function be(p){const O=p._readableState;for(ae("flow",O.flowing);O.flowing&&null!==p.read(););}function Ie(p,O){"function"!=typeof p.read&&(p=H.wrap(p,{objectMode:!0}));const q=function Ne(p,O){return Be.apply(this,arguments)}(p,O);return q.stream=p,q}function Be(){return(Be=x(function*(p,O){let xe,q=l;function me(At){this===p?(q(),q=l):q=At}p.on("readable",me);const qe=se(p,{writable:!1},At=>{xe=At?De(xe,At):null,q(),q=l});try{for(;;){const At=p.destroyed?null:p.read();if(null!==At)yield At;else{if(xe)throw xe;if(null===xe)return;yield m(new I(me))}}}catch(At){throw xe=De(xe,At),xe}finally{!xe&&!1===O?.destroyOnReturn||void 0!==xe&&!p._readableState.autoDestroy?(p.off("readable",me),qe()):le.destroyer(p,null)}})).apply(this,arguments)}function yt(p,O){if(0===O.length)return null;let q;return O.objectMode?q=O.buffer.shift():!p||p>=O.length?(q=O.decoder?O.buffer.join(""):1===O.buffer.length?O.buffer.first():O.buffer.concat(O.length),O.buffer.clear()):q=O.buffer.consume(p,O.decoder),q}function Ke(p){const O=p._readableState;ae("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,R.nextTick(Re,O,p))}function Re(p,O){if(ae("endReadableNT",p.endEmitted,p.length),!p.errored&&!p.closeEmitted&&!p.endEmitted&&0===p.length)if(p.endEmitted=!0,O.emit("end"),O.writable&&!1===O.allowHalfOpen)R.nextTick(ot,O);else if(p.autoDestroy){const q=O._writableState;(!q||q.autoDestroy&&(q.finished||!1===q.writable))&&O.destroy()}}function ot(p){p.writable&&!p.writableEnded&&!p.destroyed&&p.end()}let U;function _(){return void 0===U&&(U={}),U}H.prototype.destroy=le.destroy,H.prototype._undestroy=le.undestroy,H.prototype._destroy=function(p,O){O(p)},H.prototype[re.captureRejectionSymbol]=function(p){this.destroy(p)},H.prototype.push=function(p,O){return ne(this,p,O,!1)},H.prototype.unshift=function(p,O){return ne(this,p,O,!0)},H.prototype.isPaused=function(){const p=this._readableState;return!0===p[D]||!1===p.flowing},H.prototype.setEncoding=function(p){const O=new j(p);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;const q=this._readableState.buffer;let me="";for(const xe of q)me+=O.write(xe);return q.clear(),""!==me&&q.push(me),this._readableState.length=me.length,this},H.prototype.read=function(p){ae("read",p),void 0===p?p=NaN:S(p)||(p=M(p,10));const O=this._readableState,q=p;if(p>O.highWaterMark&&(O.highWaterMark=function ke(p){if(p>1073741824)throw new h("size","<= 1GiB",p);return p--,p|=p>>>1,p|=p>>>2,p|=p>>>4,p|=p>>>8,p|=p>>>16,++p}(p)),0!==p&&(O.emittedReadable=!1),0===p&&O.needReadable&&((0!==O.highWaterMark?O.length>=O.highWaterMark:O.length>0)||O.ended))return ae("read: emitReadable",O.length,O.ended),0===O.length&&O.ended?Ke(this):ge(this),null;if(0===(p=Fe(p,O))&&O.ended)return 0===O.length&&Ke(this),null;let xe,me=O.needReadable;if(ae("need readable",me),(0===O.length||O.length-p<O.highWaterMark)&&(me=!0,ae("length less than watermark",me)),O.ended||O.reading||O.destroyed||O.errored||!O.constructed)me=!1,ae("reading, ended or constructing",me);else if(me){ae("do read"),O.reading=!0,O.sync=!0,0===O.length&&(O.needReadable=!0);try{this._read(O.highWaterMark)}catch(qe){g(this,qe)}O.sync=!1,O.reading||(p=Fe(q,O))}return xe=p>0?yt(p,O):null,null===xe?(O.needReadable=O.length<=O.highWaterMark,p=0):(O.length-=p,O.multiAwaitDrain?O.awaitDrainWriters.clear():O.awaitDrainWriters=null),0===O.length&&(O.ended||(O.needReadable=!0),q!==p&&O.ended&&Ke(this)),null!==xe&&!O.errorEmitted&&!O.closeEmitted&&(O.dataEmitted=!0,this.emit("data",xe)),xe},H.prototype._read=function(p){throw new u("_read()")},H.prototype.pipe=function(p,O){const q=this,me=this._readableState;1===me.pipes.length&&(me.multiAwaitDrain||(me.multiAwaitDrain=!0,me.awaitDrainWriters=new X(me.awaitDrainWriters?[me.awaitDrainWriters]:[]))),me.pipes.push(p),ae("pipe count=%d opts=%j",me.pipes.length,O);const qe=O&&!1===O.end||p===R.stdout||p===R.stderr?mt:ut;function ut(){ae("onend"),p.end()}me.endEmitted?R.nextTick(qe):q.once("end",qe),p.on("unpipe",function At(st,Nt){ae("onunpipe"),st===q&&Nt&&!1===Nt.hasUnpiped&&(Nt.hasUnpiped=!0,function en(){ae("cleanup"),p.removeListener("close",Vt),p.removeListener("finish",$t),bt&&p.removeListener("drain",bt),p.removeListener("error",yn),p.removeListener("unpipe",At),q.removeListener("end",ut),q.removeListener("end",mt),q.removeListener("data",Jn),Lt=!0,bt&&me.awaitDrainWriters&&(!p._writableState||p._writableState.needDrain)&&bt()}())});let bt,Lt=!1;function Zt(){Lt||(1===me.pipes.length&&me.pipes[0]===p?(ae("false write response, pause",0),me.awaitDrainWriters=p,me.multiAwaitDrain=!1):me.pipes.length>1&&me.pipes.includes(p)&&(ae("false write response, pause",me.awaitDrainWriters.size),me.awaitDrainWriters.add(p)),q.pause()),bt||(bt=function he(p,O){return function(){const me=p._readableState;me.awaitDrainWriters===O?(ae("pipeOnDrain",1),me.awaitDrainWriters=null):me.multiAwaitDrain&&(ae("pipeOnDrain",me.awaitDrainWriters.size),me.awaitDrainWriters.delete(O)),(!me.awaitDrainWriters||0===me.awaitDrainWriters.size)&&p.listenerCount("data")&&p.resume()}}(q,p),p.on("drain",bt))}function Jn(st){ae("ondata");const Nt=p.write(st);ae("dest.write",Nt),!1===Nt&&Zt()}function yn(st){if(ae("onerror",st),mt(),p.removeListener("error",yn),0===p.listenerCount("error")){const Nt=p._writableState||p._readableState;Nt&&!Nt.errorEmitted?g(p,st):p.emit("error",st)}}function Vt(){p.removeListener("finish",$t),mt()}function $t(){ae("onfinish"),p.removeListener("close",Vt),mt()}function mt(){ae("unpipe"),q.unpipe(p)}return q.on("data",Jn),Q(p,"error",yn),p.once("close",Vt),p.once("finish",$t),p.emit("pipe",q),!0===p.writableNeedDrain?me.flowing&&Zt():me.flowing||(ae("pipe resume"),q.resume()),p},H.prototype.unpipe=function(p){const O=this._readableState;if(0===O.pipes.length)return this;if(!p){const xe=O.pipes;O.pipes=[],this.pause();for(let qe=0;qe<xe.length;qe++)xe[qe].emit("unpipe",this,{hasUnpiped:!1});return this}const me=W(O.pipes,p);return-1===me||(O.pipes.splice(me,1),0===O.pipes.length&&this.pause(),p.emit("unpipe",this,{hasUnpiped:!1})),this},H.prototype.addListener=H.prototype.on=function(p,O){const q=te.prototype.on.call(this,p,O),me=this._readableState;return"data"===p?(me.readableListening=this.listenerCount("readable")>0,!1!==me.flowing&&this.resume()):"readable"===p&&!me.endEmitted&&!me.readableListening&&(me.readableListening=me.needReadable=!0,me.flowing=!1,me.emittedReadable=!1,ae("on readable",me.length,me.reading),me.length?ge(this):me.reading||R.nextTick(ee,this)),q},H.prototype.off=H.prototype.removeListener=function(p,O){const q=te.prototype.removeListener.call(this,p,O);return"readable"===p&&R.nextTick(fe,this),q},H.prototype.removeAllListeners=function(p){const O=te.prototype.removeAllListeners.apply(this,arguments);return("readable"===p||void 0===p)&&R.nextTick(fe,this),O},H.prototype.resume=function(){const p=this._readableState;return p.flowing||(ae("resume"),p.flowing=!p.readableListening,function ie(p,O){O.resumeScheduled||(O.resumeScheduled=!0,R.nextTick(ue,p,O))}(this,p)),p[D]=!1,this},H.prototype.pause=function(){return ae("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ae("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},H.prototype.wrap=function(p){let O=!1;p.on("data",me=>{!this.push(me)&&p.pause&&(O=!0,p.pause())}),p.on("end",()=>{this.push(null)}),p.on("error",me=>{g(this,me)}),p.on("close",()=>{this.destroy()}),p.on("destroy",()=>{this.destroy()}),this._read=()=>{O&&p.resume&&(O=!1,p.resume())};const q=$(p);for(let me=1;me<q.length;me++){const xe=q[me];void 0===this[xe]&&"function"==typeof p[xe]&&(this[xe]=p[xe].bind(p))}return this},H.prototype[V]=function(){return Ie(this)},H.prototype.iterator=function(p){return void 0!==p&&T(p,"options"),Ie(this,p)},N(H.prototype,{readable:{__proto__:null,get(){const p=this._readableState;return!(!p||!1===p.readable||p.destroyed||p.errorEmitted||p.endEmitted)},set(p){this._readableState&&(this._readableState.readable=!!p)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(p){this._readableState&&(this._readableState.flowing=p)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(p){this._readableState&&(this._readableState.destroyed=p)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),N(G.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(p){this[D]=!!p}}}),H._fromList=yt,H.from=function(p,O){return A(H,p,O)},H.fromWeb=function(p,O){return _().newStreamReadableFromReadableStream(p,O)},H.toWeb=function(p,O){return _().newReadableStreamFromStreamReadable(p,O)},H.wrap=function(p,O){var q,me;return new H({objectMode:null===(q=null!==(me=p.readableObjectMode)&&void 0!==me?me:p.objectMode)||void 0===q||q,...O,destroy(xe,qe){le.destroyer(p,xe),qe(xe)}}).wrap(p)}},31081:(Le,z,E)=>{"use strict";const{MathFloor:m,NumberIsInteger:x}=E(43856),{ERR_INVALID_ARG_VALUE:R}=E(65109).codes;function S(M){return M?16:16384}Le.exports={getHighWaterMark:function L(M,N,$,F){const I=function W(M,N,$){return null!=M.highWaterMark?M.highWaterMark:N?M[$]:null}(N,F,$);if(null!=I){if(!x(I)||I<0)throw new R(F?`options.${$}`:"options.highWaterMark",I);return m(I)}return S(M.objectMode)},getDefaultHighWaterMark:S}},66344:(Le,z,E)=>{"use strict";const{ObjectSetPrototypeOf:m,Symbol:x}=E(43856);Le.exports=M;const{ERR_METHOD_NOT_IMPLEMENTED:R}=E(65109).codes,W=E(97464),{getHighWaterMark:S}=E(31081);m(M.prototype,W.prototype),m(M,W);const L=x("kCallback");function M(F){if(!(this instanceof M))return new M(F);const I=F?S(this,F,"readableHighWaterMark",!0):null;0===I&&(F={...F,highWaterMark:null,readableHighWaterMark:I,writableHighWaterMark:F.writableHighWaterMark||0}),W.call(this,F),this._readableState.sync=!1,this[L]=null,F&&("function"==typeof F.transform&&(this._transform=F.transform),"function"==typeof F.flush&&(this._flush=F.flush)),this.on("prefinish",$)}function N(F){"function"!=typeof this._flush||this.destroyed?(this.push(null),F&&F()):this._flush((I,X)=>{I?F?F(I):this.destroy(I):(null!=X&&this.push(X),this.push(null),F&&F())})}function $(){this._final!==N&&N.call(this)}M.prototype._final=N,M.prototype._transform=function(F,I,X){throw new R("_transform()")},M.prototype._write=function(F,I,X){const V=this._readableState,Z=this._writableState,re=V.length;this._transform(F,I,(te,Q)=>{te?X(te):(null!=Q&&this.push(Q),Z.ended||re===V.length||V.length<V.highWaterMark?X():this[L]=X)})},M.prototype._read=function(){if(this[L]){const F=this[L];this[L]=null,F()}}},51233:(Le,z,E)=>{"use strict";const{Symbol:m,SymbolAsyncIterator:x,SymbolIterator:R,SymbolFor:W}=E(43856),S=m("kDestroyed"),L=m("kIsErrored"),M=m("kIsReadable"),N=m("kIsDisturbed"),$=W("nodejs.webstream.isClosedPromise"),F=W("nodejs.webstream.controllerErrorFunction");function I(g,G=!1){var H;return!(!g||"function"!=typeof g.pipe||"function"!=typeof g.on||G&&("function"!=typeof g.pause||"function"!=typeof g.resume)||g._writableState&&!1===(null===(H=g._readableState)||void 0===H?void 0:H.readable)||g._writableState&&!g._readableState)}function X(g){var G;return!(!g||"function"!=typeof g.write||"function"!=typeof g.on||g._readableState&&!1===(null===(G=g._writableState)||void 0===G?void 0:G.writable))}function Z(g){return g&&(g._readableState||g._writableState||"function"==typeof g.write&&"function"==typeof g.on||"function"==typeof g.pipe&&"function"==typeof g.on)}function re(g){return!(!g||Z(g)||"function"!=typeof g.pipeThrough||"function"!=typeof g.getReader||"function"!=typeof g.cancel)}function te(g){return!(!g||Z(g)||"function"!=typeof g.getWriter||"function"!=typeof g.abort)}function Q(g){return!(!g||Z(g)||"object"!=typeof g.readable||"object"!=typeof g.writable)}function se(g){if(!Z(g))return null;const ne=g._writableState||g._readableState;return!!(g.destroyed||g[S]||null!=ne&&ne.destroyed)}function ae(g){if(!X(g))return null;if(!0===g.writableEnded)return!0;const G=g._writableState;return(null==G||!G.errored)&&("boolean"!=typeof G?.ended?null:G.ended)}function ve(g,G){if(!I(g))return null;const H=g._readableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.endEmitted?null:!!(H.endEmitted||!1===G&&!0===H.ended&&0===H.length))}function we(g){return g&&null!=g[M]?g[M]:"boolean"!=typeof g?.readable?null:!se(g)&&I(g)&&g.readable&&!ve(g)}function De(g){return"boolean"!=typeof g?.writable?null:!se(g)&&X(g)&&g.writable&&!ae(g)}function w(g){return"boolean"==typeof g._closed&&"boolean"==typeof g._defaultKeepAlive&&"boolean"==typeof g._removedConnection&&"boolean"==typeof g._removedContLen}function T(g){return"boolean"==typeof g._sent100&&w(g)}Le.exports={kDestroyed:S,isDisturbed:function A(g){var G;return!(!g||!(null!==(G=g[N])&&void 0!==G?G:g.readableDidRead||g.readableAborted))},kIsDisturbed:N,isErrored:function l(g){var G,H,ne,ce,Ae,ke,Fe,Ee,ge,Oe;return!(!g||!(null!==(G=null!==(H=null!==(ne=null!==(ce=null!==(Ae=null!==(ke=g[L])&&void 0!==ke?ke:g.readableErrored)&&void 0!==Ae?Ae:g.writableErrored)&&void 0!==ce?ce:null===(Fe=g._readableState)||void 0===Fe?void 0:Fe.errorEmitted)&&void 0!==ne?ne:null===(Ee=g._writableState)||void 0===Ee?void 0:Ee.errorEmitted)&&void 0!==H?H:null===(ge=g._readableState)||void 0===ge?void 0:ge.errored)&&void 0!==G?G:null!==(Oe=g._writableState)&&void 0!==Oe&&Oe.errored))},kIsErrored:L,isReadable:we,kIsReadable:M,kIsClosedPromise:$,kControllerErrorFunction:F,isClosed:function y(g){if(!Z(g))return null;if("boolean"==typeof g.closed)return g.closed;const G=g._writableState,H=g._readableState;return"boolean"==typeof G?.closed||"boolean"==typeof H?.closed?G?.closed||H?.closed:"boolean"==typeof g._closed&&w(g)?g._closed:null},isDestroyed:se,isDuplexNodeStream:function V(g){return!(!g||"function"!=typeof g.pipe||!g._readableState||"function"!=typeof g.on||"function"!=typeof g.write)},isFinished:function k(g,G){return Z(g)?!!se(g)||!(!1!==G?.readable&&we(g)||!1!==G?.writable&&De(g)):null},isIterable:function oe(g,G){return null!=g&&(!0===G?"function"==typeof g[x]:!1===G?"function"==typeof g[R]:"function"==typeof g[x]||"function"==typeof g[R])},isReadableNodeStream:I,isReadableStream:re,isReadableEnded:function le(g){if(!I(g))return null;if(!0===g.readableEnded)return!0;const G=g._readableState;return!(!G||G.errored)&&("boolean"!=typeof G?.ended?null:G.ended)},isReadableFinished:ve,isReadableErrored:function h(g){var G,H;return Z(g)?g.readableErrored?g.readableErrored:null!==(G=null===(H=g._readableState)||void 0===H?void 0:H.errored)&&void 0!==G?G:null:null},isNodeStream:Z,isWebStream:function J(g){return re(g)||te(g)||Q(g)},isWritable:De,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:ae,isWritableFinished:function pe(g,G){if(!X(g))return null;if(!0===g.writableFinished)return!0;const H=g._writableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.finished?null:!!(H.finished||!1===G&&!0===H.ended&&0===H.length))},isWritableErrored:function u(g){var G,H;return Z(g)?g.writableErrored?g.writableErrored:null!==(G=null===(H=g._writableState)||void 0===H?void 0:H.errored)&&void 0!==G?G:null:null},isServerRequest:function D(g){var G;return"boolean"==typeof g._consuming&&"boolean"==typeof g._dumped&&void 0===(null===(G=g.req)||void 0===G?void 0:G.upgradeOrConnect)},isServerResponse:T,willEmitClose:function j(g){if(!Z(g))return null;const ne=g._writableState||g._readableState;return!ne&&T(g)||!!(ne&&ne.autoDestroy&&ne.emitClose&&!1===ne.closed)},isTransformStream:Q}},40258:(Le,z,E)=>{const m=E(40573),{ArrayPrototypeSlice:x,Error:R,FunctionPrototypeSymbolHasInstance:W,ObjectDefineProperty:S,ObjectDefineProperties:L,ObjectSetPrototypeOf:M,StringPrototypeToLowerCase:N,Symbol:$,SymbolHasInstance:F}=E(43856);Le.exports=T,T.WritableState=y;const{EventEmitter:I}=E(44356),X=E(2649).Stream,{Buffer:V}=E(89565),Z=E(45078),{addAbortSignal:re}=E(24785),{getHighWaterMark:te,getDefaultHighWaterMark:Q}=E(31081),{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:oe,ERR_MULTIPLE_CALLBACK:se,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:pe,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:ve,ERR_STREAM_WRITE_AFTER_END:we,ERR_UNKNOWN_ENCODING:De}=E(65109).codes,{errorOrDestroy:k}=Z;function u(){}M(T.prototype,X.prototype),M(T,X);const h=$("kOnFinished");function y(he,fe,ee){"boolean"!=typeof ee&&(ee=fe instanceof E(97464)),this.objectMode=!(!he||!he.objectMode),ee&&(this.objectMode=this.objectMode||!(!he||!he.writableObjectMode)),this.highWaterMark=he?te(this,he,"writableHighWaterMark",ee):Q(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(he&&!1===he.decodeStrings),this.defaultEncoding=he&&he.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=g.bind(void 0,fe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,w(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!he||!1!==he.emitClose,this.autoDestroy=!he||!1!==he.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[h]=[]}function w(he){he.buffered=[],he.bufferedIndex=0,he.allBuffers=!0,he.allNoop=!0}function T(he){const fe=this instanceof E(97464);if(!fe&&!W(T,this))return new T(he);this._writableState=new y(he,this,fe),he&&("function"==typeof he.write&&(this._write=he.write),"function"==typeof he.writev&&(this._writev=he.writev),"function"==typeof he.destroy&&(this._destroy=he.destroy),"function"==typeof he.final&&(this._final=he.final),"function"==typeof he.construct&&(this._construct=he.construct),he.signal&&re(he.signal,this)),X.call(this,he),Z.construct(this,()=>{const ee=this._writableState;ee.writing||ce(this,ee),Ee(this,ee)})}function D(he,fe,ee,ie){const ue=he._writableState;if("function"==typeof ee)ie=ee,ee=ue.defaultEncoding;else{if(ee){if("buffer"!==ee&&!V.isEncoding(ee))throw new De(ee)}else ee=ue.defaultEncoding;"function"!=typeof ie&&(ie=u)}if(null===fe)throw new ve;if(!ue.objectMode)if("string"==typeof fe)!1!==ue.decodeStrings&&(fe=V.from(fe,ee),ee="buffer");else if(fe instanceof V)ee="buffer";else{if(!X._isUint8Array(fe))throw new J("chunk",["string","Buffer","Uint8Array"],fe);fe=X._uint8ArrayToBuffer(fe),ee="buffer"}let be;return ue.ending?be=new we:ue.destroyed&&(be=new pe("write")),be?(m.nextTick(ie,be),k(he,be,!0),be):(ue.pendingcb++,function j(he,fe,ee,ie,ue){const be=fe.objectMode?1:ee.length;fe.length+=be;const Ie=fe.length<fe.highWaterMark;return Ie||(fe.needDrain=!0),fe.writing||fe.corked||fe.errored||!fe.constructed?(fe.buffered.push({chunk:ee,encoding:ie,callback:ue}),fe.allBuffers&&"buffer"!==ie&&(fe.allBuffers=!1),fe.allNoop&&ue!==u&&(fe.allNoop=!1)):(fe.writelen=be,fe.writecb=ue,fe.writing=!0,fe.sync=!0,he._write(ee,ie,fe.onwrite),fe.sync=!1),Ie&&!fe.errored&&!fe.destroyed}(he,ue,fe,ee,ie))}function A(he,fe,ee,ie,ue,be,Ie){fe.writelen=ie,fe.writecb=Ie,fe.writing=!0,fe.sync=!0,fe.destroyed?fe.onwrite(new pe("write")):ee?he._writev(ue,fe.onwrite):he._write(ue,be,fe.onwrite),fe.sync=!1}function l(he,fe,ee,ie){--fe.pendingcb,ie(ee),ne(fe),k(he,ee)}function g(he,fe){const ee=he._writableState,ie=ee.sync,ue=ee.writecb;"function"==typeof ue?(ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0,fe?(ee.errored||(ee.errored=fe),he._readableState&&!he._readableState.errored&&(he._readableState.errored=fe),ie?m.nextTick(l,he,ee,fe,ue):l(he,ee,fe,ue)):(ee.buffered.length>ee.bufferedIndex&&ce(he,ee),ie?null!==ee.afterWriteTickInfo&&ee.afterWriteTickInfo.cb===ue?ee.afterWriteTickInfo.count++:(ee.afterWriteTickInfo={count:1,cb:ue,stream:he,state:ee},m.nextTick(G,ee.afterWriteTickInfo)):H(he,ee,1,ue))):k(he,new se)}function G({stream:he,state:fe,count:ee,cb:ie}){return fe.afterWriteTickInfo=null,H(he,fe,ee,ie)}function H(he,fe,ee,ie){for(!fe.ending&&!he.destroyed&&0===fe.length&&fe.needDrain&&(fe.needDrain=!1,he.emit("drain"));ee-- >0;)fe.pendingcb--,ie();fe.destroyed&&ne(fe),Ee(he,fe)}function ne(he){if(he.writing)return;for(let ue=he.bufferedIndex;ue<he.buffered.length;++ue){var fe;const{chunk:be,callback:Ie}=he.buffered[ue];he.length-=he.objectMode?1:be.length,Ie(null!==(fe=he.errored)&&void 0!==fe?fe:new pe("write"))}const ee=he[h].splice(0);for(let ue=0;ue<ee.length;ue++){var ie;ee[ue](null!==(ie=he.errored)&&void 0!==ie?ie:new pe("end"))}w(he)}function ce(he,fe){if(fe.corked||fe.bufferProcessing||fe.destroyed||!fe.constructed)return;const{buffered:ee,bufferedIndex:ie,objectMode:ue}=fe,be=ee.length-ie;if(!be)return;let Ie=ie;if(fe.bufferProcessing=!0,be>1&&he._writev){fe.pendingcb-=be-1;const Ne=fe.allNoop?u:yt=>{for(let Ke=Ie;Ke<ee.length;++Ke)ee[Ke].callback(yt)},Be=fe.allNoop&&0===Ie?ee:x(ee,Ie);Be.allBuffers=fe.allBuffers,A(he,fe,!0,fe.length,Be,"",Ne),w(fe)}else{do{const{chunk:Ne,encoding:Be,callback:yt}=ee[Ie];ee[Ie++]=null,A(he,fe,!1,ue?1:Ne.length,Ne,Be,yt)}while(Ie<ee.length&&!fe.writing);Ie===ee.length?w(fe):Ie>256?(ee.splice(0,Ie),fe.bufferedIndex=0):fe.bufferedIndex=Ie}fe.bufferProcessing=!1}function Ae(he){return he.ending&&!he.destroyed&&he.constructed&&0===he.length&&!he.errored&&0===he.buffered.length&&!he.finished&&!he.writing&&!he.errorEmitted&&!he.closeEmitted}function Ee(he,fe,ee){Ae(fe)&&(function Fe(he,fe){!fe.prefinished&&!fe.finalCalled&&("function"!=typeof he._final||fe.destroyed?(fe.prefinished=!0,he.emit("prefinish")):(fe.finalCalled=!0,function ke(he,fe){let ee=!1;function ie(ue){if(ee)k(he,ue??se());else if(ee=!0,fe.pendingcb--,ue){const be=fe[h].splice(0);for(let Ie=0;Ie<be.length;Ie++)be[Ie](ue);k(he,ue,fe.sync)}else Ae(fe)&&(fe.prefinished=!0,he.emit("prefinish"),fe.pendingcb++,m.nextTick(ge,he,fe))}fe.sync=!0,fe.pendingcb++;try{he._final(ie)}catch(ue){ie(ue)}fe.sync=!1}(he,fe)))}(he,fe),0===fe.pendingcb&&(ee?(fe.pendingcb++,m.nextTick((ie,ue)=>{Ae(ue)?ge(ie,ue):ue.pendingcb--},he,fe)):Ae(fe)&&(fe.pendingcb++,ge(he,fe))))}function ge(he,fe){fe.pendingcb--,fe.finished=!0;const ee=fe[h].splice(0);for(let ie=0;ie<ee.length;ie++)ee[ie]();if(he.emit("finish"),fe.autoDestroy){const ie=he._readableState;(!ie||ie.autoDestroy&&(ie.endEmitted||!1===ie.readable))&&he.destroy()}}y.prototype.getBuffer=function(){return x(this.buffered,this.bufferedIndex)},S(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),S(T,F,{__proto__:null,value:function(he){return!!W(this,he)||this===T&&he&&he._writableState instanceof y}}),T.prototype.pipe=function(){k(this,new ae)},T.prototype.write=function(he,fe,ee){return!0===D(this,he,fe,ee)},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){const he=this._writableState;he.corked&&(he.corked--,he.writing||ce(this,he))},T.prototype.setDefaultEncoding=function(fe){if("string"==typeof fe&&(fe=N(fe)),!V.isEncoding(fe))throw new De(fe);return this._writableState.defaultEncoding=fe,this},T.prototype._write=function(he,fe,ee){if(!this._writev)throw new oe("_write()");this._writev([{chunk:he,encoding:fe}],ee)},T.prototype._writev=null,T.prototype.end=function(he,fe,ee){const ie=this._writableState;let ue;if("function"==typeof he?(ee=he,he=null,fe=null):"function"==typeof fe&&(ee=fe,fe=null),null!=he){const be=D(this,he,fe);be instanceof R&&(ue=be)}return ie.corked&&(ie.corked=1,this.uncork()),ue||(ie.errored||ie.ending?ie.finished?ue=new le("end"):ie.destroyed&&(ue=new pe("end")):(ie.ending=!0,Ee(this,ie,!0),ie.ended=!0)),"function"==typeof ee&&(ue||ie.finished?m.nextTick(ee,ue):ie[h].push(ee)),this},L(T.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(he){this._writableState&&(this._writableState.destroyed=he)}},writable:{__proto__:null,get(){const he=this._writableState;return!(!he||!1===he.writable||he.destroyed||he.errored||he.ending||he.ended)},set(he){this._writableState&&(this._writableState.writable=!!he)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const he=this._writableState;return!!he&&!he.destroyed&&!he.ending&&he.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Oe=Z.destroy;let ye;function Se(){return void 0===ye&&(ye={}),ye}T.prototype.destroy=function(he,fe){const ee=this._writableState;return!ee.destroyed&&(ee.bufferedIndex<ee.buffered.length||ee[h].length)&&m.nextTick(ne,ee),Oe.call(this,he,fe),this},T.prototype._undestroy=Z.undestroy,T.prototype._destroy=function(he,fe){fe(he)},T.prototype[I.captureRejectionSymbol]=function(he){this.destroy(he)},T.fromWeb=function(he,fe){return Se().newStreamWritableFromWritableStream(he,fe)},T.toWeb=function(he){return Se().newWritableStreamFromStreamWritable(he)}},44323:(Le,z,E)=>{"use strict";const{ArrayIsArray:m,ArrayPrototypeIncludes:x,ArrayPrototypeJoin:R,ArrayPrototypeMap:W,NumberIsInteger:S,NumberIsNaN:L,NumberMAX_SAFE_INTEGER:M,NumberMIN_SAFE_INTEGER:N,NumberParseInt:$,ObjectPrototypeHasOwnProperty:F,RegExpPrototypeExec:I,String:X,StringPrototypeToUpperCase:V,StringPrototypeTrim:Z}=E(43856),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_ARG_VALUE:J,ERR_OUT_OF_RANGE:oe,ERR_UNKNOWN_SIGNAL:se}}=E(65109),{normalizeEncoding:ae}=E(55830),{isAsyncFunction:pe,isArrayBufferView:le}=E(55830).types,ve={},k=/^[0-7]+$/,y=re((be,Ie,Ne=N,Be=M)=>{if("number"!=typeof be)throw new Q(Ie,"number",be);if(!S(be))throw new oe(Ie,"an integer",be);if(be<Ne||be>Be)throw new oe(Ie,`>= ${Ne} && <= ${Be}`,be)}),w=re((be,Ie,Ne=-2147483648,Be=2147483647)=>{if("number"!=typeof be)throw new Q(Ie,"number",be);if(!S(be))throw new oe(Ie,"an integer",be);if(be<Ne||be>Be)throw new oe(Ie,`>= ${Ne} && <= ${Be}`,be)}),T=re((be,Ie,Ne=!1)=>{if("number"!=typeof be)throw new Q(Ie,"number",be);if(!S(be))throw new oe(Ie,"an integer",be);const Be=Ne?1:0,yt=4294967295;if(be<Be||be>yt)throw new oe(Ie,`>= ${Be} && <= ${yt}`,be)});function D(be,Ie){if("string"!=typeof be)throw new Q(Ie,"string",be)}const A=re((be,Ie,Ne)=>{if(!x(Ne,be)){const yt="must be one of: "+R(W(Ne,Ke=>"string"==typeof Ke?`'${Ke}'`:X(Ke)),", ");throw new J(Ie,be,yt)}});function l(be,Ie){if("boolean"!=typeof be)throw new Q(Ie,"boolean",be)}function g(be,Ie,Ne){return null!=be&&F(be,Ie)?be[Ie]:Ne}const G=re((be,Ie,Ne=null)=>{const Be=g(Ne,"allowArray",!1),yt=g(Ne,"allowFunction",!1);if(!g(Ne,"nullable",!1)&&null===be||!Be&&m(be)||"object"!=typeof be&&(!yt||"function"!=typeof be))throw new Q(Ie,"Object",be)}),H=re((be,Ie)=>{if(null!=be&&"object"!=typeof be&&"function"!=typeof be)throw new Q(Ie,"a dictionary",be)}),ne=re((be,Ie,Ne=0)=>{if(!m(be))throw new Q(Ie,"Array",be);if(be.length<Ne)throw new J(Ie,be,`must be longer than ${Ne}`)}),Fe=re((be,Ie="buffer")=>{if(!le(be))throw new Q(Ie,["Buffer","TypedArray","DataView"],be)}),Oe=re((be,Ie)=>{if(void 0!==be&&(null===be||"object"!=typeof be||!("aborted"in be)))throw new Q(Ie,"AbortSignal",be)}),ye=re((be,Ie)=>{if("function"!=typeof be)throw new Q(Ie,"Function",be)}),Se=re((be,Ie)=>{if("function"!=typeof be||pe(be))throw new Q(Ie,"Function",be)}),he=re((be,Ie)=>{if(void 0!==be)throw new Q(Ie,"undefined",be)}),ee=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ie(be,Ie){if(typeof be>"u"||!I(ee,be))throw new J(Ie,be,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Le.exports={isInt32:function we(be){return be===(0|be)},isUint32:function De(be){return be===be>>>0},parseFileMode:function h(be,Ie,Ne){if(typeof be>"u"&&(be=Ne),"string"==typeof be){if(null===I(k,be))throw new J(Ie,be,"must be a 32-bit unsigned integer or an octal string");be=$(be,8)}return T(be,Ie),be},validateArray:ne,validateStringArray:function ce(be,Ie){ne(be,Ie);for(let Ne=0;Ne<be.length;Ne++)D(be[Ne],`${Ie}[${Ne}]`)},validateBooleanArray:function Ae(be,Ie){ne(be,Ie);for(let Ne=0;Ne<be.length;Ne++)l(be[Ne],`${Ie}[${Ne}]`)},validateBoolean:l,validateBuffer:Fe,validateDictionary:H,validateEncoding:function Ee(be,Ie){const Ne=ae(Ie),Be=be.length;if("hex"===Ne&&Be%2!=0)throw new J("encoding",Ie,`is invalid for data of length ${Be}`)},validateFunction:ye,validateInt32:w,validateInteger:y,validateNumber:function j(be,Ie,Ne=void 0,Be){if("number"!=typeof be)throw new Q(Ie,"number",be);if(null!=Ne&&be<Ne||null!=Be&&be>Be||(null!=Ne||null!=Be)&&L(be))throw new oe(Ie,`${null!=Ne?`>= ${Ne}`:""}${null!=Ne&&null!=Be?" && ":""}${null!=Be?`<= ${Be}`:""}`,be)},validateObject:G,validateOneOf:A,validatePlainFunction:Se,validatePort:function ge(be,Ie="Port",Ne=!0){if("number"!=typeof be&&"string"!=typeof be||"string"==typeof be&&0===Z(be).length||+be!=+be>>>0||be>65535||0===be&&!Ne)throw new te(Ie,be,Ne);return 0|be},validateSignalName:function ke(be,Ie="signal"){if(D(be,Ie),void 0===ve[be])throw void 0!==ve[V(be)]?new se(be+" (signals must use all capital letters)"):new se(be)},validateString:D,validateUint32:T,validateUndefined:he,validateUnion:function fe(be,Ie,Ne){if(!x(Ne,be))throw new Q(Ie,`('${R(Ne,"|")}')`,be)},validateAbortSignal:Oe,validateLinkHeaderValue:function ue(be){if("string"==typeof be)return ie(be,"hints"),be;if(m(be)){const Ie=be.length;let Ne="";if(0===Ie)return Ne;for(let Be=0;Be<Ie;Be++){const yt=be[Be];ie(yt,"hints"),Ne+=yt,Be!==Ie-1&&(Ne+=", ")}return Ne}throw new J("hints",be,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},95424:(Le,z,E)=>{"use strict";const m=E(3052),x=E(19905),R=m.Readable.destroy;Le.exports=m.Readable,Le.exports._uint8ArrayToBuffer=m._uint8ArrayToBuffer,Le.exports._isUint8Array=m._isUint8Array,Le.exports.isDisturbed=m.isDisturbed,Le.exports.isErrored=m.isErrored,Le.exports.isReadable=m.isReadable,Le.exports.Readable=m.Readable,Le.exports.Writable=m.Writable,Le.exports.Duplex=m.Duplex,Le.exports.Transform=m.Transform,Le.exports.PassThrough=m.PassThrough,Le.exports.addAbortSignal=m.addAbortSignal,Le.exports.finished=m.finished,Le.exports.destroy=m.destroy,Le.exports.destroy=R,Le.exports.pipeline=m.pipeline,Le.exports.compose=m.compose,Object.defineProperty(m,"promises",{configurable:!0,enumerable:!0,get:()=>x}),Le.exports.Stream=m.Stream,Le.exports.default=Le.exports},65109:(Le,z,E)=>{"use strict";const{format:m,inspect:x,AggregateError:R}=E(55830),W=globalThis.AggregateError||R,S=Symbol("kIsNodeError"),L=["string","function","number","object","Function","Object","boolean","bigint","symbol"],M=/^([A-Z][a-z0-9]*)+$/,$={};function F(Q,J){if(!Q)throw new $.ERR_INTERNAL_ASSERTION(J)}function I(Q){let J="",oe=Q.length;const se="-"===Q[0]?1:0;for(;oe>=se+4;oe-=3)J=`_${Q.slice(oe-3,oe)}${J}`;return`${Q.slice(0,oe)}${J}`}function V(Q,J,oe){oe||(oe=Error);class se extends oe{constructor(...pe){super(function X(Q,J,oe){if("function"==typeof J)return F(J.length<=oe.length,`Code: ${Q}; The provided arguments length (${oe.length}) does not match the required ones (${J.length}).`),J(...oe);const se=(J.match(/%[dfijoOs]/g)||[]).length;return F(se===oe.length,`Code: ${Q}; The provided arguments length (${oe.length}) does not match the required ones (${se}).`),0===oe.length?J:m(J,...oe)}(Q,J,pe))}toString(){return`${this.name} [${Q}]: ${this.message}`}}Object.defineProperties(se.prototype,{name:{value:oe.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Q}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),se.prototype.code=Q,se.prototype[S]=!0,$[Q]=se}function Z(Q){return Object.defineProperty(Q,"name",{value:"__node_internal_"+Q.name}),Q}class te extends Error{constructor(J="The operation was aborted",oe=void 0){if(void 0!==oe&&"object"!=typeof oe)throw new $.ERR_INVALID_ARG_TYPE("options","Object",oe);super(J,oe),this.code="ABORT_ERR",this.name="AbortError"}}V("ERR_ASSERTION","%s",Error),V("ERR_INVALID_ARG_TYPE",(Q,J,oe)=>{F("string"==typeof Q,"'name' must be a string"),Array.isArray(J)||(J=[J]);let se="The ";Q.endsWith(" argument")?se+=`${Q} `:se+=`"${Q}" ${Q.includes(".")?"property":"argument"} `,se+="must be ";const ae=[],pe=[],le=[];for(const we of J)F("string"==typeof we,"All expected entries have to be of type string"),L.includes(we)?ae.push(we.toLowerCase()):M.test(we)?pe.push(we):(F("object"!==we,'The value "object" should be written as "Object"'),le.push(we));if(pe.length>0){const we=ae.indexOf("object");-1!==we&&(ae.splice(ae,we,1),pe.push("Object"))}if(ae.length>0){switch(ae.length){case 1:se+=`of type ${ae[0]}`;break;case 2:se+=`one of type ${ae[0]} or ${ae[1]}`;break;default:{const we=ae.pop();se+=`one of type ${ae.join(", ")}, or ${we}`}}(pe.length>0||le.length>0)&&(se+=" or ")}if(pe.length>0){switch(pe.length){case 1:se+=`an instance of ${pe[0]}`;break;case 2:se+=`an instance of ${pe[0]} or ${pe[1]}`;break;default:{const we=pe.pop();se+=`an instance of ${pe.join(", ")}, or ${we}`}}le.length>0&&(se+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(se+="an "),se+=`${le[0]}`;break;case 2:se+=`one of ${le[0]} or ${le[1]}`;break;default:{const we=le.pop();se+=`one of ${le.join(", ")}, or ${we}`}}if(null==oe)se+=`. Received ${oe}`;else if("function"==typeof oe&&oe.name)se+=`. Received function ${oe.name}`;else if("object"==typeof oe){var ve;null!==(ve=oe.constructor)&&void 0!==ve&&ve.name?se+=`. Received an instance of ${oe.constructor.name}`:se+=`. Received ${x(oe,{depth:-1})}`}else{let we=x(oe,{colors:!1});we.length>25&&(we=`${we.slice(0,25)}...`),se+=`. Received type ${typeof oe} (${we})`}return se},TypeError),V("ERR_INVALID_ARG_VALUE",(Q,J,oe="is invalid")=>{let se=x(J);return se.length>128&&(se=se.slice(0,128)+"..."),`The ${Q.includes(".")?"property":"argument"} '${Q}' ${oe}. Received ${se}`},TypeError),V("ERR_INVALID_RETURN_VALUE",(Q,J,oe)=>{var se;return`Expected ${Q} to be returned from the "${J}" function but got ${null!=oe&&null!==(se=oe.constructor)&&void 0!==se&&se.name?`instance of ${oe.constructor.name}`:"type "+typeof oe}.`},TypeError),V("ERR_MISSING_ARGS",(...Q)=>{let J;F(Q.length>0,"At least one arg needs to be specified");const oe=Q.length;switch(Q=(Array.isArray(Q)?Q:[Q]).map(se=>`"${se}"`).join(" or "),oe){case 1:J+=`The ${Q[0]} argument`;break;case 2:J+=`The ${Q[0]} and ${Q[1]} arguments`;break;default:{const se=Q.pop();J+=`The ${Q.join(", ")}, and ${se} arguments`}}return`${J} must be specified`},TypeError),V("ERR_OUT_OF_RANGE",(Q,J,oe)=>{let se;return F(J,'Missing "range" argument'),Number.isInteger(oe)&&Math.abs(oe)>2**32?se=I(String(oe)):"bigint"==typeof oe?(se=String(oe),(oe>2n**32n||oe<-(2n**32n))&&(se=I(se)),se+="n"):se=x(oe),`The value of "${Q}" is out of range. It must be ${J}. Received ${se}`},RangeError),V("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),V("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),V("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),V("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),V("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),V("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),V("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),V("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),V("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),V("ERR_STREAM_WRITE_AFTER_END","write after end",Error),V("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Le.exports={AbortError:te,aggregateTwoErrors:Z(function re(Q,J){if(Q&&J&&Q!==J){if(Array.isArray(J.errors))return J.errors.push(Q),J;const oe=new W([J,Q],J.message);return oe.code=J.code,oe}return Q||J}),hideStackFrames:Z,codes:$}},43856:Le=>{"use strict";Le.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,E)=>z.includes(E),ArrayPrototypeIndexOf:(z,E)=>z.indexOf(E),ArrayPrototypeJoin:(z,E)=>z.join(E),ArrayPrototypeMap:(z,E)=>z.map(E),ArrayPrototypePop:(z,E)=>z.pop(E),ArrayPrototypePush:(z,E)=>z.push(E),ArrayPrototypeSlice:(z,E,m)=>z.slice(E,m),Error,FunctionPrototypeCall:(z,E,...m)=>z.call(E,...m),FunctionPrototypeSymbolHasInstance:(z,E)=>Function.prototype[Symbol.hasInstance].call(z,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,E)=>Object.defineProperties(z,E),ObjectDefineProperty:(z,E,m)=>Object.defineProperty(z,E,m),ObjectGetOwnPropertyDescriptor:(z,E)=>Object.getOwnPropertyDescriptor(z,E),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,E)=>Object.setPrototypeOf(z,E),Promise,PromisePrototypeCatch:(z,E)=>z.catch(E),PromisePrototypeThen:(z,E,m)=>z.then(E,m),PromiseReject:z=>Promise.reject(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,E)=>z.test(E),SafeSet:Set,String,StringPrototypeSlice:(z,E,m)=>z.slice(E,m),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(z,E,m)=>z.set(E,m),Uint8Array}},55830:(Le,z,E)=>{"use strict";var m=E(29293).default;const x=E(89565),R=Object.getPrototypeOf(m(function*(){})).constructor,W=globalThis.Blob||x.Blob,S=typeof W<"u"?function(N){return N instanceof W}:function(N){return!1};class L extends Error{constructor(N){if(!Array.isArray(N))throw new TypeError("Expected input to be an Array, got "+typeof N);let $="";for(let F=0;F<N.length;F++)$+=`    ${N[F].stack}\n`;super($),this.name="AggregateError",this.errors=N}}Le.exports={AggregateError:L,kEmptyObject:Object.freeze({}),once(M){let N=!1;return function(...$){N||(N=!0,M.apply(this,$))}},createDeferredPromise:function(){let M,N;return{promise:new Promise((F,I)=>{M=F,N=I}),resolve:M,reject:N}},promisify:M=>new Promise((N,$)=>{M((F,...I)=>F?$(F):N(...I))}),debuglog:()=>function(){},format:(M,...N)=>M.replace(/%([sdifj])/g,function(...[$,F]){const I=N.shift();return"f"===F?I.toFixed(6):"j"===F?JSON.stringify(I):"s"===F&&"object"==typeof I?`${I.constructor!==Object?I.constructor.name:""} {}`.trim():I.toString()}),inspect(M){switch(typeof M){case"string":if(M.includes("'")){if(!M.includes('"'))return`"${M}"`;if(!M.includes("`")&&!M.includes("${"))return`\`${M}\``}return`'${M}'`;case"number":return isNaN(M)?"NaN":Object.is(M,-0)?String(M):M;case"bigint":return`${String(M)}n`;case"boolean":case"undefined":return String(M);case"object":return"{}"}},types:{isAsyncFunction:M=>M instanceof R,isArrayBufferView:M=>ArrayBuffer.isView(M)},isBlob:S},Le.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},3052:(Le,z,E)=>{const{Buffer:m}=E(89565),{ObjectDefineProperty:x,ObjectKeys:R,ReflectApply:W}=E(43856),{promisify:{custom:S}}=E(55830),{streamReturningOperators:L,promiseReturningOperators:M}=E(37325),{codes:{ERR_ILLEGAL_CONSTRUCTOR:N}}=E(65109),$=E(5464),{pipeline:F}=E(96208),{destroyer:I}=E(45078),X=E(44268),Z=E(19905),re=E(51233),te=Le.exports=E(2649).Stream;te.isDisturbed=re.isDisturbed,te.isErrored=re.isErrored,te.isReadable=re.isReadable,te.Readable=E(29710);for(const oe of R(L)){let ae=function(...pe){if(new.target)throw N();return te.Readable.from(W(se,this,pe))};const se=L[oe];x(ae,"name",{__proto__:null,value:se.name}),x(ae,"length",{__proto__:null,value:se.length}),x(te.Readable.prototype,oe,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}for(const oe of R(M)){let ae=function(...le){if(new.target)throw N();return W(se,this,le)};const se=M[oe];x(ae,"name",{__proto__:null,value:se.name}),x(ae,"length",{__proto__:null,value:se.length}),x(te.Readable.prototype,oe,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}te.Writable=E(40258),te.Duplex=E(97464),te.Transform=E(66344),te.PassThrough=E(70874),te.pipeline=F;const{addAbortSignal:Q}=E(24785);te.addAbortSignal=Q,te.finished=X,te.destroy=I,te.compose=$,x(te,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>Z}),x(F,S,{__proto__:null,enumerable:!0,get:()=>Z.pipeline}),x(X,S,{__proto__:null,enumerable:!0,get:()=>Z.finished}),te.Stream=te,te._isUint8Array=function(se){return se instanceof Uint8Array},te._uint8ArrayToBuffer=function(se){return m.from(se.buffer,se.byteOffset,se.byteLength)}},19905:(Le,z,E)=>{"use strict";const{ArrayPrototypePop:m,Promise:x}=E(43856),{isIterable:R,isNodeStream:W,isWebStream:S}=E(51233),{pipelineImpl:L}=E(96208),{finished:M}=E(44268);E(3052),Le.exports={finished:M,pipeline:function N(...$){return new x((F,I)=>{let X,V;const Z=$[$.length-1];if(Z&&"object"==typeof Z&&!W(Z)&&!R(Z)&&!S(Z)){const re=m($);X=re.signal,V=re.end}L($,(re,te)=>{re?I(re):F(te)},{signal:X,end:V})})}}},37945:(Le,z,E)=>{"use strict";const m=E(13981),x=E(22020),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function J(U){return+U!=U&&(U=0),M.alloc(+U)},z.INSPECT_MAX_BYTES=50;const W=2147483647;function L(U){if(U>W)throw new RangeError('The value "'+U+'" is invalid for option "size"');const _=new Uint8Array(U);return Object.setPrototypeOf(_,M.prototype),_}function M(U,_,p){if("number"==typeof U){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return I(U)}return N(U,_,p)}function N(U,_,p){if("string"==typeof U)return function X(U,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!M.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const p=0|oe(U,_);let O=L(p);const q=O.write(U,_);return q!==p&&(O=O.slice(0,q)),O}(U,_);if(ArrayBuffer.isView(U))return function Z(U){if(Be(U,Uint8Array)){const _=new Uint8Array(U);return re(_.buffer,_.byteOffset,_.byteLength)}return V(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Be(U,ArrayBuffer)||U&&Be(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(U,SharedArrayBuffer)||U&&Be(U.buffer,SharedArrayBuffer)))return re(U,_,p);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');const O=U.valueOf&&U.valueOf();if(null!=O&&O!==U)return M.from(O,_,p);const q=function te(U){if(M.isBuffer(U)){const _=0|Q(U.length),p=L(_);return 0===p.length||U.copy(p,0,0,_),p}return void 0!==U.length?"number"!=typeof U.length||yt(U.length)?L(0):V(U):"Buffer"===U.type&&Array.isArray(U.data)?V(U.data):void 0}(U);if(q)return q;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return M.from(U[Symbol.toPrimitive]("string"),_,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function $(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function I(U){return $(U),L(U<0?0:0|Q(U))}function V(U){const _=U.length<0?0:0|Q(U.length),p=L(_);for(let O=0;O<_;O+=1)p[O]=255&U[O];return p}function re(U,_,p){if(_<0||U.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<_+(p||0))throw new RangeError('"length" is outside of buffer bounds');let O;return O=void 0===_&&void 0===p?new Uint8Array(U):void 0===p?new Uint8Array(U,_):new Uint8Array(U,_,p),Object.setPrototypeOf(O,M.prototype),O}function Q(U){if(U>=W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");return 0|U}function oe(U,_){if(M.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Be(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const p=U.length,O=arguments.length>2&&!0===arguments[2];if(!O&&0===p)return 0;let q=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return ie(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return Ie(U).length;default:if(q)return O?-1:ie(U).length;_=(""+_).toLowerCase(),q=!0}}function se(U,_,p){let O=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===p||p>this.length)&&(p=this.length),p<=0)||(p>>>=0)<=(_>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return A(this,_,p);case"utf8":case"utf-8":return y(this,_,p);case"ascii":return D(this,_,p);case"latin1":case"binary":return j(this,_,p);case"base64":return h(this,_,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,_,p);default:if(O)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),O=!0}}function ae(U,_,p){const O=U[_];U[_]=U[p],U[p]=O}function pe(U,_,p,O,q){if(0===U.length)return-1;if("string"==typeof p?(O=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),yt(p=+p)&&(p=q?0:U.length-1),p<0&&(p=U.length+p),p>=U.length){if(q)return-1;p=U.length-1}else if(p<0){if(!q)return-1;p=0}if("string"==typeof _&&(_=M.from(_,O)),M.isBuffer(_))return 0===_.length?-1:le(U,_,p,O,q);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?q?Uint8Array.prototype.indexOf.call(U,_,p):Uint8Array.prototype.lastIndexOf.call(U,_,p):le(U,[_],p,O,q);throw new TypeError("val must be string, number or Buffer")}function le(U,_,p,O,q){let ut,me=1,xe=U.length,qe=_.length;if(void 0!==O&&("ucs2"===(O=String(O).toLowerCase())||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(U.length<2||_.length<2)return-1;me=2,xe/=2,qe/=2,p/=2}function At(bt,Lt){return 1===me?bt[Lt]:bt.readUInt16BE(Lt*me)}if(q){let bt=-1;for(ut=p;ut<xe;ut++)if(At(U,ut)===At(_,-1===bt?0:ut-bt)){if(-1===bt&&(bt=ut),ut-bt+1===qe)return bt*me}else-1!==bt&&(ut-=ut-bt),bt=-1}else for(p+qe>xe&&(p=xe-qe),ut=p;ut>=0;ut--){let bt=!0;for(let Lt=0;Lt<qe;Lt++)if(At(U,ut+Lt)!==At(_,Lt)){bt=!1;break}if(bt)return ut}return-1}function ve(U,_,p,O){p=Number(p)||0;const q=U.length-p;O?(O=Number(O))>q&&(O=q):O=q;const me=_.length;let xe;for(O>me/2&&(O=me/2),xe=0;xe<O;++xe){const qe=parseInt(_.substr(2*xe,2),16);if(yt(qe))return xe;U[p+xe]=qe}return xe}function we(U,_,p,O){return Ne(ie(_,U.length-p),U,p,O)}function De(U,_,p,O){return Ne(function ue(U){const _=[];for(let p=0;p<U.length;++p)_.push(255&U.charCodeAt(p));return _}(_),U,p,O)}function k(U,_,p,O){return Ne(Ie(_),U,p,O)}function u(U,_,p,O){return Ne(function be(U,_){let p,O,q;const me=[];for(let xe=0;xe<U.length&&!((_-=2)<0);++xe)p=U.charCodeAt(xe),O=p>>8,q=p%256,me.push(q),me.push(O);return me}(_,U.length-p),U,p,O)}function h(U,_,p){return m.fromByteArray(0===_&&p===U.length?U:U.slice(_,p))}function y(U,_,p){p=Math.min(U.length,p);const O=[];let q=_;for(;q<p;){const me=U[q];let xe=null,qe=me>239?4:me>223?3:me>191?2:1;if(q+qe<=p){let At,ut,bt,Lt;switch(qe){case 1:me<128&&(xe=me);break;case 2:At=U[q+1],128==(192&At)&&(Lt=(31&me)<<6|63&At,Lt>127&&(xe=Lt));break;case 3:At=U[q+1],ut=U[q+2],128==(192&At)&&128==(192&ut)&&(Lt=(15&me)<<12|(63&At)<<6|63&ut,Lt>2047&&(Lt<55296||Lt>57343)&&(xe=Lt));break;case 4:At=U[q+1],ut=U[q+2],bt=U[q+3],128==(192&At)&&128==(192&ut)&&128==(192&bt)&&(Lt=(15&me)<<18|(63&At)<<12|(63&ut)<<6|63&bt,Lt>65535&&Lt<1114112&&(xe=Lt))}}null===xe?(xe=65533,qe=1):xe>65535&&(xe-=65536,O.push(xe>>>10&1023|55296),xe=56320|1023&xe),O.push(xe),q+=qe}return function T(U){const _=U.length;if(_<=w)return String.fromCharCode.apply(String,U);let p="",O=0;for(;O<_;)p+=String.fromCharCode.apply(String,U.slice(O,O+=w));return p}(O)}z.kMaxLength=W,!(M.TYPED_ARRAY_SUPPORT=function S(){try{const U=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(U,_),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(U,_,p){return N(U,_,p)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(U,_,p){return function F(U,_,p){return $(U),U<=0?L(U):void 0!==_?"string"==typeof p?L(U).fill(_,p):L(U).fill(_):L(U)}(U,_,p)},M.allocUnsafe=function(U){return I(U)},M.allocUnsafeSlow=function(U){return I(U)},M.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==M.prototype},M.compare=function(_,p){if(Be(_,Uint8Array)&&(_=M.from(_,_.offset,_.byteLength)),Be(p,Uint8Array)&&(p=M.from(p,p.offset,p.byteLength)),!M.isBuffer(_)||!M.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===p)return 0;let O=_.length,q=p.length;for(let me=0,xe=Math.min(O,q);me<xe;++me)if(_[me]!==p[me]){O=_[me],q=p[me];break}return O<q?-1:q<O?1:0},M.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(_,p){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return M.alloc(0);let O;if(void 0===p)for(p=0,O=0;O<_.length;++O)p+=_[O].length;const q=M.allocUnsafe(p);let me=0;for(O=0;O<_.length;++O){let xe=_[O];if(Be(xe,Uint8Array))me+xe.length>q.length?(M.isBuffer(xe)||(xe=M.from(xe)),xe.copy(q,me)):Uint8Array.prototype.set.call(q,xe,me);else{if(!M.isBuffer(xe))throw new TypeError('"list" argument must be an Array of Buffers');xe.copy(q,me)}me+=xe.length}return q},M.byteLength=oe,M.prototype._isBuffer=!0,M.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<_;p+=2)ae(this,p,p+1);return this},M.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<_;p+=4)ae(this,p,p+3),ae(this,p+1,p+2);return this},M.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<_;p+=8)ae(this,p,p+7),ae(this,p+1,p+6),ae(this,p+2,p+5),ae(this,p+3,p+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?y(this,0,_):se.apply(this,arguments)},M.prototype.equals=function(_){if(!M.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===M.compare(this,_)},M.prototype.inspect=function(){let _="";const p=z.INSPECT_MAX_BYTES;return _=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(_+=" ... "),"<Buffer "+_+">"},R&&(M.prototype[R]=M.prototype.inspect),M.prototype.compare=function(_,p,O,q,me){if(Be(_,Uint8Array)&&(_=M.from(_,_.offset,_.byteLength)),!M.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===p&&(p=0),void 0===O&&(O=_?_.length:0),void 0===q&&(q=0),void 0===me&&(me=this.length),p<0||O>_.length||q<0||me>this.length)throw new RangeError("out of range index");if(q>=me&&p>=O)return 0;if(q>=me)return-1;if(p>=O)return 1;if(this===_)return 0;let xe=(me>>>=0)-(q>>>=0),qe=(O>>>=0)-(p>>>=0);const At=Math.min(xe,qe),ut=this.slice(q,me),bt=_.slice(p,O);for(let Lt=0;Lt<At;++Lt)if(ut[Lt]!==bt[Lt]){xe=ut[Lt],qe=bt[Lt];break}return xe<qe?-1:qe<xe?1:0},M.prototype.includes=function(_,p,O){return-1!==this.indexOf(_,p,O)},M.prototype.indexOf=function(_,p,O){return pe(this,_,p,O,!0)},M.prototype.lastIndexOf=function(_,p,O){return pe(this,_,p,O,!1)},M.prototype.write=function(_,p,O,q){if(void 0===p)q="utf8",O=this.length,p=0;else if(void 0===O&&"string"==typeof p)q=p,O=this.length,p=0;else{if(!isFinite(p))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");p>>>=0,isFinite(O)?(O>>>=0,void 0===q&&(q="utf8")):(q=O,O=void 0)}const me=this.length-p;if((void 0===O||O>me)&&(O=me),_.length>0&&(O<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let xe=!1;for(;;)switch(q){case"hex":return ve(this,_,p,O);case"utf8":case"utf-8":return we(this,_,p,O);case"ascii":case"latin1":case"binary":return De(this,_,p,O);case"base64":return k(this,_,p,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,_,p,O);default:if(xe)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),xe=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const w=4096;function D(U,_,p){let O="";p=Math.min(U.length,p);for(let q=_;q<p;++q)O+=String.fromCharCode(127&U[q]);return O}function j(U,_,p){let O="";p=Math.min(U.length,p);for(let q=_;q<p;++q)O+=String.fromCharCode(U[q]);return O}function A(U,_,p){const O=U.length;(!_||_<0)&&(_=0),(!p||p<0||p>O)&&(p=O);let q="";for(let me=_;me<p;++me)q+=Ke[U[me]];return q}function l(U,_,p){const O=U.slice(_,p);let q="";for(let me=0;me<O.length-1;me+=2)q+=String.fromCharCode(O[me]+256*O[me+1]);return q}function g(U,_,p){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+_>p)throw new RangeError("Trying to access beyond buffer length")}function G(U,_,p,O,q,me){if(!M.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>q||_<me)throw new RangeError('"value" argument is out of bounds');if(p+O>U.length)throw new RangeError("Index out of range")}function H(U,_,p,O,q){ye(_,O,q,U,p,7);let me=Number(_&BigInt(4294967295));U[p++]=me,me>>=8,U[p++]=me,me>>=8,U[p++]=me,me>>=8,U[p++]=me;let xe=Number(_>>BigInt(32)&BigInt(4294967295));return U[p++]=xe,xe>>=8,U[p++]=xe,xe>>=8,U[p++]=xe,xe>>=8,U[p++]=xe,p}function ne(U,_,p,O,q){ye(_,O,q,U,p,7);let me=Number(_&BigInt(4294967295));U[p+7]=me,me>>=8,U[p+6]=me,me>>=8,U[p+5]=me,me>>=8,U[p+4]=me;let xe=Number(_>>BigInt(32)&BigInt(4294967295));return U[p+3]=xe,xe>>=8,U[p+2]=xe,xe>>=8,U[p+1]=xe,xe>>=8,U[p]=xe,p+8}function ce(U,_,p,O,q,me){if(p+O>U.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function Ae(U,_,p,O,q){return _=+_,p>>>=0,q||ce(U,0,p,4),x.write(U,_,p,O,23,4),p+4}function ke(U,_,p,O,q){return _=+_,p>>>=0,q||ce(U,0,p,8),x.write(U,_,p,O,52,8),p+8}M.prototype.slice=function(_,p){const O=this.length;(_=~~_)<0?(_+=O)<0&&(_=0):_>O&&(_=O),(p=void 0===p?O:~~p)<0?(p+=O)<0&&(p=0):p>O&&(p=O),p<_&&(p=_);const q=this.subarray(_,p);return Object.setPrototypeOf(q,M.prototype),q},M.prototype.readUintLE=M.prototype.readUIntLE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_],me=1,xe=0;for(;++xe<p&&(me*=256);)q+=this[_+xe]*me;return q},M.prototype.readUintBE=M.prototype.readUIntBE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_+--p],me=1;for(;p>0&&(me*=256);)q+=this[_+--p]*me;return q},M.prototype.readUint8=M.prototype.readUInt8=function(_,p){return _>>>=0,p||g(_,1,this.length),this[_]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(_,p){return _>>>=0,p||g(_,2,this.length),this[_]|this[_+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(_,p){return _>>>=0,p||g(_,2,this.length),this[_]<<8|this[_+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(_,p){return _>>>=0,p||g(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(_,p){return _>>>=0,p||g(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},M.prototype.readBigUInt64LE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=p+256*this[++_]+65536*this[++_]+this[++_]*2**24,me=this[++_]+256*this[++_]+65536*this[++_]+O*2**24;return BigInt(q)+(BigInt(me)<<BigInt(32))}),M.prototype.readBigUInt64BE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=p*2**24+65536*this[++_]+256*this[++_]+this[++_],me=this[++_]*2**24+65536*this[++_]+256*this[++_]+O;return(BigInt(q)<<BigInt(32))+BigInt(me)}),M.prototype.readIntLE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_],me=1,xe=0;for(;++xe<p&&(me*=256);)q+=this[_+xe]*me;return me*=128,q>=me&&(q-=Math.pow(2,8*p)),q},M.prototype.readIntBE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=p,me=1,xe=this[_+--q];for(;q>0&&(me*=256);)xe+=this[_+--q]*me;return me*=128,xe>=me&&(xe-=Math.pow(2,8*p)),xe},M.prototype.readInt8=function(_,p){return _>>>=0,p||g(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},M.prototype.readInt16LE=function(_,p){_>>>=0,p||g(_,2,this.length);const O=this[_]|this[_+1]<<8;return 32768&O?4294901760|O:O},M.prototype.readInt16BE=function(_,p){_>>>=0,p||g(_,2,this.length);const O=this[_+1]|this[_]<<8;return 32768&O?4294901760|O:O},M.prototype.readInt32LE=function(_,p){return _>>>=0,p||g(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},M.prototype.readInt32BE=function(_,p){return _>>>=0,p||g(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},M.prototype.readBigInt64LE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];return(void 0===p||void 0===O)&&he(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(O<<24))<<BigInt(32))+BigInt(p+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),M.prototype.readBigInt64BE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=(p<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(q)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+O)}),M.prototype.readFloatLE=function(_,p){return _>>>=0,p||g(_,4,this.length),x.read(this,_,!0,23,4)},M.prototype.readFloatBE=function(_,p){return _>>>=0,p||g(_,4,this.length),x.read(this,_,!1,23,4)},M.prototype.readDoubleLE=function(_,p){return _>>>=0,p||g(_,8,this.length),x.read(this,_,!0,52,8)},M.prototype.readDoubleBE=function(_,p){return _>>>=0,p||g(_,8,this.length),x.read(this,_,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(_,p,O,q){_=+_,p>>>=0,O>>>=0,q||G(this,_,p,O,Math.pow(2,8*O)-1,0);let me=1,xe=0;for(this[p]=255&_;++xe<O&&(me*=256);)this[p+xe]=_/me&255;return p+O},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(_,p,O,q){_=+_,p>>>=0,O>>>=0,q||G(this,_,p,O,Math.pow(2,8*O)-1,0);let me=O-1,xe=1;for(this[p+me]=255&_;--me>=0&&(xe*=256);)this[p+me]=_/xe&255;return p+O},M.prototype.writeUint8=M.prototype.writeUInt8=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,1,255,0),this[p]=255&_,p+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,65535,0),this[p]=255&_,this[p+1]=_>>>8,p+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,65535,0),this[p]=_>>>8,this[p+1]=255&_,p+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,4294967295,0),this[p+3]=_>>>24,this[p+2]=_>>>16,this[p+1]=_>>>8,this[p]=255&_,p+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,4294967295,0),this[p]=_>>>24,this[p+1]=_>>>16,this[p+2]=_>>>8,this[p+3]=255&_,p+4},M.prototype.writeBigUInt64LE=Re(function(_,p=0){return H(this,_,p,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Re(function(_,p=0){return ne(this,_,p,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(_,p,O,q){if(_=+_,p>>>=0,!q){const At=Math.pow(2,8*O-1);G(this,_,p,O,At-1,-At)}let me=0,xe=1,qe=0;for(this[p]=255&_;++me<O&&(xe*=256);)_<0&&0===qe&&0!==this[p+me-1]&&(qe=1),this[p+me]=(_/xe|0)-qe&255;return p+O},M.prototype.writeIntBE=function(_,p,O,q){if(_=+_,p>>>=0,!q){const At=Math.pow(2,8*O-1);G(this,_,p,O,At-1,-At)}let me=O-1,xe=1,qe=0;for(this[p+me]=255&_;--me>=0&&(xe*=256);)_<0&&0===qe&&0!==this[p+me+1]&&(qe=1),this[p+me]=(_/xe|0)-qe&255;return p+O},M.prototype.writeInt8=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,1,127,-128),_<0&&(_=255+_+1),this[p]=255&_,p+1},M.prototype.writeInt16LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,32767,-32768),this[p]=255&_,this[p+1]=_>>>8,p+2},M.prototype.writeInt16BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,32767,-32768),this[p]=_>>>8,this[p+1]=255&_,p+2},M.prototype.writeInt32LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,2147483647,-2147483648),this[p]=255&_,this[p+1]=_>>>8,this[p+2]=_>>>16,this[p+3]=_>>>24,p+4},M.prototype.writeInt32BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[p]=_>>>24,this[p+1]=_>>>16,this[p+2]=_>>>8,this[p+3]=255&_,p+4},M.prototype.writeBigInt64LE=Re(function(_,p=0){return H(this,_,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Re(function(_,p=0){return ne(this,_,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeFloatLE=function(_,p,O){return Ae(this,_,p,!0,O)},M.prototype.writeFloatBE=function(_,p,O){return Ae(this,_,p,!1,O)},M.prototype.writeDoubleLE=function(_,p,O){return ke(this,_,p,!0,O)},M.prototype.writeDoubleBE=function(_,p,O){return ke(this,_,p,!1,O)},M.prototype.copy=function(_,p,O,q){if(!M.isBuffer(_))throw new TypeError("argument should be a Buffer");if(O||(O=0),!q&&0!==q&&(q=this.length),p>=_.length&&(p=_.length),p||(p=0),q>0&&q<O&&(q=O),q===O||0===_.length||0===this.length)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),_.length-p<q-O&&(q=_.length-p+O);const me=q-O;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(p,O,q):Uint8Array.prototype.set.call(_,this.subarray(O,q),p),me},M.prototype.fill=function(_,p,O,q){if("string"==typeof _){if("string"==typeof p?(q=p,p=0,O=this.length):"string"==typeof O&&(q=O,O=this.length),void 0!==q&&"string"!=typeof q)throw new TypeError("encoding must be a string");if("string"==typeof q&&!M.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(1===_.length){const xe=_.charCodeAt(0);("utf8"===q&&xe<128||"latin1"===q)&&(_=xe)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(p<0||this.length<p||this.length<O)throw new RangeError("Out of range index");if(O<=p)return this;let me;if(p>>>=0,O=void 0===O?this.length:O>>>0,_||(_=0),"number"==typeof _)for(me=p;me<O;++me)this[me]=_;else{const xe=M.isBuffer(_)?_:M.from(_,q),qe=xe.length;if(0===qe)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(me=0;me<O-p;++me)this[me+p]=xe[me%qe]}return this};const Fe={};function Ee(U,_,p){Fe[U]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,delete this.name}get code(){return U}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}function ge(U){let _="",p=U.length;const O="-"===U[0]?1:0;for(;p>=O+4;p-=3)_=`_${U.slice(p-3,p)}${_}`;return`${U.slice(0,p)}${_}`}function ye(U,_,p,O,q,me){if(U>p||U<_){const xe="bigint"==typeof _?"n":"";let qe;throw qe=me>3?0===_||_===BigInt(0)?`>= 0${xe} and < 2${xe} ** ${8*(me+1)}${xe}`:`>= -(2${xe} ** ${8*(me+1)-1}${xe}) and < 2 ** ${8*(me+1)-1}${xe}`:`>= ${_}${xe} and <= ${p}${xe}`,new Fe.ERR_OUT_OF_RANGE("value",qe,U)}!function Oe(U,_,p){Se(_,"offset"),(void 0===U[_]||void 0===U[_+p])&&he(_,U.length-(p+1))}(O,q,me)}function Se(U,_){if("number"!=typeof U)throw new Fe.ERR_INVALID_ARG_TYPE(_,"number",U)}function he(U,_,p){throw Math.floor(U)!==U?(Se(U,p),new Fe.ERR_OUT_OF_RANGE(p||"offset","an integer",U)):_<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${_}`,U)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(U,_){return`The "${U}" argument must be of type number. Received type ${typeof _}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(U,_,p){let O=`The value of "${U}" is out of range.`,q=p;return Number.isInteger(p)&&Math.abs(p)>2**32?q=ge(String(p)):"bigint"==typeof p&&(q=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(q=ge(q)),q+="n"),O+=` It must be ${_}. Received ${q}`,O},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function ie(U,_){let p;_=_||1/0;const O=U.length;let q=null;const me=[];for(let xe=0;xe<O;++xe){if(p=U.charCodeAt(xe),p>55295&&p<57344){if(!q){if(p>56319){(_-=3)>-1&&me.push(239,191,189);continue}if(xe+1===O){(_-=3)>-1&&me.push(239,191,189);continue}q=p;continue}if(p<56320){(_-=3)>-1&&me.push(239,191,189),q=p;continue}p=65536+(q-55296<<10|p-56320)}else q&&(_-=3)>-1&&me.push(239,191,189);if(q=null,p<128){if((_-=1)<0)break;me.push(p)}else if(p<2048){if((_-=2)<0)break;me.push(p>>6|192,63&p|128)}else if(p<65536){if((_-=3)<0)break;me.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(p<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;me.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}return me}function Ie(U){return m.toByteArray(function ee(U){if((U=(U=U.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Ne(U,_,p,O){let q;for(q=0;q<O&&!(q+p>=_.length||q>=U.length);++q)_[q+p]=U[q];return q}function Be(U,_){return U instanceof _||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===_.name}function yt(U){return U!=U}const Ke=function(){const U="0123456789abcdef",_=new Array(256);for(let p=0;p<16;++p){const O=16*p;for(let q=0;q<16;++q)_[O+q]=U[p]+U[q]}return _}();function Re(U){return typeof BigInt>"u"?ot:U}function ot(){throw new Error("BigInt not supported")}},95099:(Le,z,E)=>{E(23963)},55397:(Le,z,E)=>{"use strict";const{AbortError:m,codes:x}=E(85833),{isNodeStream:R,isWebStream:W,kControllerErrorFunction:S}=E(76989),L=E(68208),{ERR_INVALID_ARG_TYPE:M}=x;Le.exports.addAbortSignal=function(F,I){if((($,F)=>{if("object"!=typeof $||!("aborted"in $))throw new M("signal","AbortSignal",$)})(F),!R(I)&&!W(I))throw new M("stream",["ReadableStream","WritableStream","Stream"],I);return Le.exports.addAbortSignalNoValidate(F,I)},Le.exports.addAbortSignalNoValidate=function($,F){if("object"!=typeof $||!("aborted"in $))return F;const I=R(F)?()=>{F.destroy(new m(void 0,{cause:$.reason}))}:()=>{F[S](new m(void 0,{cause:$.reason}))};return $.aborted?I():($.addEventListener("abort",I),L(F,()=>$.removeEventListener("abort",I))),F}},54863:(Le,z,E)=>{"use strict";const{StringPrototypeSlice:m,SymbolIterator:x,TypedArrayPrototypeSet:R,Uint8Array:W}=E(2220),{Buffer:S}=E(37945),{inspect:L}=E(82578);Le.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(N){const $={data:N,next:null};this.length>0?this.tail.next=$:this.head=$,this.tail=$,++this.length}unshift(N){const $={data:N,next:this.head};0===this.length&&(this.tail=$),this.head=$,++this.length}shift(){if(0===this.length)return;const N=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,N}clear(){this.head=this.tail=null,this.length=0}join(N){if(0===this.length)return"";let $=this.head,F=""+$.data;for(;null!==($=$.next);)F+=N+$.data;return F}concat(N){if(0===this.length)return S.alloc(0);const $=S.allocUnsafe(N>>>0);let F=this.head,I=0;for(;F;)R($,F.data,I),I+=F.data.length,F=F.next;return $}consume(N,$){const F=this.head.data;if(N<F.length){const I=F.slice(0,N);return this.head.data=F.slice(N),I}return N===F.length?this.shift():$?this._getString(N):this._getBuffer(N)}first(){return this.head.data}*[x](){for(let N=this.head;N;N=N.next)yield N.data}_getString(N){let $="",F=this.head,I=0;do{const X=F.data;if(!(N>X.length)){N===X.length?($+=X,++I,this.head=F.next?F.next:this.tail=null):($+=m(X,0,N),this.head=F,F.data=m(X,N));break}$+=X,N-=X.length,++I}while(null!==(F=F.next));return this.length-=I,$}_getBuffer(N){const $=S.allocUnsafe(N),F=N;let I=this.head,X=0;do{const V=I.data;if(!(N>V.length)){N===V.length?(R($,V,F-N),++X,this.head=I.next?I.next:this.tail=null):(R($,new W(V.buffer,V.byteOffset,N),F-N),this.head=I,I.data=V.slice(N));break}R($,V,F-N),N-=V.length,++X}while(null!==(I=I.next));return this.length-=X,$}[Symbol.for("nodejs.util.inspect.custom")](N,$){return L(this,{...$,depth:0,customInspect:!1})}}},90972:(Le,z,E)=>{"use strict";var m=E(29293).default;const{pipeline:x}=E(63596),R=E(85892),{destroyer:W}=E(23370),{isNodeStream:S,isReadable:L,isWritable:M,isWebStream:N,isTransformStream:$,isWritableStream:F,isReadableStream:I}=E(76989),{AbortError:X,codes:{ERR_INVALID_ARG_VALUE:V,ERR_MISSING_ARGS:Z}}=E(85833),re=E(68208);Le.exports=function(...Q){if(0===Q.length)throw new Z("streams");if(1===Q.length)return R.from(Q[0]);const J=[...Q];if("function"==typeof Q[0]&&(Q[0]=R.from(Q[0])),"function"==typeof Q[Q.length-1]){const h=Q.length-1;Q[h]=R.from(Q[h])}for(let h=0;h<Q.length;++h)if(S(Q[h])||N(Q[h])){if(h<Q.length-1&&!(L(Q[h])||I(Q[h])||$(Q[h])))throw new V(`streams[${h}]`,J[h],"must be readable");if(h>0&&!(M(Q[h])||F(Q[h])||$(Q[h])))throw new V(`streams[${h}]`,J[h],"must be writable")}let oe,se,ae,pe,le;const we=Q[0],De=x(Q,function ve(h){const y=pe;pe=null,y?y(h):h?le.destroy(h):!u&&!k&&le.destroy()}),k=!!(M(we)||F(we)||$(we)),u=!!(L(De)||I(De)||$(De));if(le=new R({writableObjectMode:!(null==we||!we.writableObjectMode),readableObjectMode:!(null==De||!De.writableObjectMode),writable:k,readable:u}),k){if(S(we))le._write=function(y,w,T){we.write(y,w)?T():oe=T},le._final=function(y){we.end(),se=y},we.on("drain",function(){if(oe){const y=oe;oe=null,y()}});else if(N(we)){const w=($(we)?we.writable:we).getWriter();le._write=function(){var T=m(function*(D,j,A){try{yield w.ready,w.write(D).catch(()=>{}),A()}catch(l){A(l)}});return function(D,j,A){return T.apply(this,arguments)}}(),le._final=function(){var T=m(function*(D){try{yield w.ready,w.close().catch(()=>{}),se=D}catch(j){D(j)}});return function(D){return T.apply(this,arguments)}}()}const h=$(De)?De.readable:De;re(h,()=>{if(se){const y=se;se=null,y()}})}if(u)if(S(De))De.on("readable",function(){if(ae){const h=ae;ae=null,h()}}),De.on("end",function(){le.push(null)}),le._read=function(){for(;;){const h=De.read();if(null===h)return void(ae=le._read);if(!le.push(h))return}};else if(N(De)){const y=($(De)?De.readable:De).getReader();le._read=m(function*(){for(;;)try{const{value:w,done:T}=yield y.read();if(!le.push(w))return;if(T)return void le.push(null)}catch{return}})}return le._destroy=function(h,y){!h&&null!==pe&&(h=new X),ae=null,oe=null,se=null,null===pe?y(h):(pe=y,S(De)&&W(De,h))},le}},23370:(Le,z,E)=>{"use strict";const m=E(40573),{aggregateTwoErrors:x,codes:{ERR_MULTIPLE_CALLBACK:R},AbortError:W}=E(85833),{Symbol:S}=E(2220),{kDestroyed:L,isDestroyed:M,isFinished:N,isServerRequest:$}=E(76989),F=S("kDestroy"),I=S("kConstruct");function X(k,u,h){k&&(u&&!u.errored&&(u.errored=k),h&&!h.errored&&(h.errored=k))}function Z(k,u,h){let y=!1;function w(T){if(y)return;y=!0;const D=k._readableState,j=k._writableState;X(T,j,D),j&&(j.closed=!0),D&&(D.closed=!0),"function"==typeof h&&h(T),T?m.nextTick(re,k,T):m.nextTick(te,k)}try{k._destroy(u||null,w)}catch(T){w(T)}}function re(k,u){Q(k,u),te(k)}function te(k){const u=k._readableState,h=k._writableState;h&&(h.closeEmitted=!0),u&&(u.closeEmitted=!0),(null!=h&&h.emitClose||null!=u&&u.emitClose)&&k.emit("close")}function Q(k,u){const h=k._readableState,y=k._writableState;null!=y&&y.errorEmitted||null!=h&&h.errorEmitted||(y&&(y.errorEmitted=!0),h&&(h.errorEmitted=!0),k.emit("error",u))}function oe(k,u,h){const y=k._readableState,w=k._writableState;if(null!=w&&w.destroyed||null!=y&&y.destroyed)return this;null!=y&&y.autoDestroy||null!=w&&w.autoDestroy?k.destroy(u):u&&(w&&!w.errored&&(w.errored=u),y&&!y.errored&&(y.errored=u),h?m.nextTick(Q,k,u):Q(k,u))}function ae(k){let u=!1;function h(y){if(u)return void oe(k,y??new R);u=!0;const w=k._readableState,T=k._writableState,D=T||w;w&&(w.constructed=!0),T&&(T.constructed=!0),D.destroyed?k.emit(F,y):y?oe(k,y,!0):m.nextTick(pe,k)}try{k._construct(y=>{m.nextTick(h,y)})}catch(y){m.nextTick(h,y)}}function pe(k){k.emit(I)}function le(k){return k?.setHeader&&"function"==typeof k.abort}function ve(k){k.emit("close")}function we(k,u){k.emit("error",u),m.nextTick(ve,k)}Le.exports={construct:function se(k,u){if("function"!=typeof k._construct)return;const h=k._readableState,y=k._writableState;h&&(h.constructed=!1),y&&(y.constructed=!1),k.once(I,u),!(k.listenerCount(I)>1)&&m.nextTick(ae,k)},destroyer:function De(k,u){!k||M(k)||(!u&&!N(k)&&(u=new W),$(k)?(k.socket=null,k.destroy(u)):le(k)?k.abort():le(k.req)?k.req.abort():"function"==typeof k.destroy?k.destroy(u):"function"==typeof k.close?k.close():u?m.nextTick(we,k,u):m.nextTick(ve,k),k.destroyed||(k[L]=!0))},destroy:function V(k,u){const h=this._readableState,y=this._writableState,w=y||h;return null!=y&&y.destroyed||null!=h&&h.destroyed?("function"==typeof u&&u(),this):(X(k,y,h),y&&(y.destroyed=!0),h&&(h.destroyed=!0),w.constructed?Z(this,k,u):this.once(F,function(T){Z(this,x(T,k),u)}),this)},undestroy:function J(){const k=this._readableState,u=this._writableState;k&&(k.constructed=!0,k.closed=!1,k.closeEmitted=!1,k.destroyed=!1,k.errored=null,k.errorEmitted=!1,k.reading=!1,k.ended=!1===k.readable,k.endEmitted=!1===k.readable),u&&(u.constructed=!0,u.destroyed=!1,u.closed=!1,u.closeEmitted=!1,u.errored=null,u.errorEmitted=!1,u.finalCalled=!1,u.prefinished=!1,u.ended=!1===u.writable,u.ending=!1===u.writable,u.finished=!1===u.writable)},errorOrDestroy:oe}},85892:(Le,z,E)=>{"use strict";const{ObjectDefineProperties:m,ObjectGetOwnPropertyDescriptor:x,ObjectKeys:R,ObjectSetPrototypeOf:W}=E(2220);Le.exports=M;const S=E(84730),L=E(39070);W(M.prototype,S.prototype),W(M,S);{const I=R(L.prototype);for(let X=0;X<I.length;X++){const V=I[X];M.prototype[V]||(M.prototype[V]=L.prototype[V])}}function M(I){if(!(this instanceof M))return new M(I);S.call(this,I),L.call(this,I),I?(this.allowHalfOpen=!1!==I.allowHalfOpen,!1===I.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===I.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let N,F;function $(){return void 0===N&&(N={}),N}m(M.prototype,{writable:{__proto__:null,...x(L.prototype,"writable")},writableHighWaterMark:{__proto__:null,...x(L.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...x(L.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...x(L.prototype,"writableBuffer")},writableLength:{__proto__:null,...x(L.prototype,"writableLength")},writableFinished:{__proto__:null,...x(L.prototype,"writableFinished")},writableCorked:{__proto__:null,...x(L.prototype,"writableCorked")},writableEnded:{__proto__:null,...x(L.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...x(L.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(I){this._readableState&&this._writableState&&(this._readableState.destroyed=I,this._writableState.destroyed=I)}}}),M.fromWeb=function(I,X){return $().newStreamDuplexFromReadableWritablePair(I,X)},M.toWeb=function(I){return $().newReadableWritablePairFromDuplex(I)},M.from=function(I){return F||(F=E(99460)),F(I,"body")}},99460:(Le,z,E)=>{var m=E(29293).default,x=E(53344).default,R=E(42958).default;const W=E(40573),S=E(37945),{isReadable:L,isWritable:M,isIterable:N,isNodeStream:$,isReadableNodeStream:F,isWritableNodeStream:I,isDuplexNodeStream:X}=E(76989),V=E(68208),{AbortError:Z,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te}}=E(85833),{destroyer:Q}=E(23370),J=E(85892),oe=E(84730),{createDeferredPromise:se}=E(82578),ae=E(94506),pe=globalThis.Blob||S.Blob,le=typeof pe<"u"?function(y){return y instanceof pe}:function(y){return!1},ve=globalThis.AbortController||E(9465).AbortController,{FunctionPrototypeCall:we}=E(2220);class De extends J{constructor(y){super(y),!1===y?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===y?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function u(h){const y=h.readable&&"function"!=typeof h.readable.read?oe.wrap(h.readable):h.readable,w=h.writable;let j,A,l,g,G,T=!!L(y),D=!!M(w);function H(ne){const ce=g;g=null,ce?ce(ne):ne&&G.destroy(ne)}return G=new De({readableObjectMode:!(null==y||!y.readableObjectMode),writableObjectMode:!(null==w||!w.writableObjectMode),readable:T,writable:D}),D&&(V(w,ne=>{D=!1,ne&&Q(y,ne),H(ne)}),G._write=function(ne,ce,Ae){w.write(ne,ce)?Ae():j=Ae},G._final=function(ne){w.end(),A=ne},w.on("drain",function(){if(j){const ne=j;j=null,ne()}}),w.on("finish",function(){if(A){const ne=A;A=null,ne()}})),T&&(V(y,ne=>{T=!1,ne&&Q(y,ne),H(ne)}),y.on("readable",function(){if(l){const ne=l;l=null,ne()}}),y.on("end",function(){G.push(null)}),G._read=function(){for(;;){const ne=y.read();if(null===ne)return void(l=G._read);if(!G.push(ne))return}}),G._destroy=function(ne,ce){!ne&&null!==g&&(ne=new Z),l=null,j=null,A=null,null===g?ce(ne):(g=ce,Q(w,ne),Q(y,ne))},G}Le.exports=function h(y,w){if(X(y))return y;if(F(y))return u({readable:y});if(I(y))return u({writable:y});if($(y))return u({writable:!1,readable:!1});if("function"==typeof y){const{value:D,write:j,final:A,destroy:l}=function k(h){let{promise:y,resolve:w}=se();const T=new ve,D=T.signal;return{value:h(R(function*(){for(;;){const A=y;y=null;const{chunk:l,done:g,cb:G}=yield x(A);if(W.nextTick(G),g)return;if(D.aborted)throw new Z(void 0,{cause:D.reason});({promise:y,resolve:w}=se()),yield l}})(),{signal:D}),write(A,l,g){const G=w;w=null,G({chunk:A,done:!1,cb:g})},final(A){const l=w;w=null,l({done:!0,cb:A})},destroy(A,l){T.abort(),l(A)}}}(y);if(N(D))return ae(De,D,{objectMode:!0,write:j,final:A,destroy:l});const g=D?.then;if("function"==typeof g){let G;const H=we(g,D,ne=>{if(null!=ne)throw new te("nully","body",ne)},ne=>{Q(G,ne)});return G=new De({objectMode:!0,readable:!1,write:j,final(ne){A(m(function*(){try{yield H,W.nextTick(ne,null)}catch(ce){W.nextTick(ne,ce)}}))},destroy:l})}throw new te("Iterable, AsyncIterable or AsyncFunction",w,D)}if(le(y))return h(y.arrayBuffer());if(N(y))return ae(De,y,{objectMode:!0,writable:!1});if("object"==typeof y?.writable||"object"==typeof y?.readable)return u({readable:null!=y&&y.readable?F(y?.readable)?y?.readable:h(y.readable):void 0,writable:null!=y&&y.writable?I(y?.writable)?y?.writable:h(y.writable):void 0});const T=y?.then;if("function"==typeof T){let D;return we(T,y,j=>{null!=j&&D.push(j),D.push(null)},j=>{Q(D,j)}),D=new De({objectMode:!0,writable:!1,read(){}})}throw new re(w,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],y)}},68208:(Le,z,E)=>{const m=E(40573),{AbortError:x,codes:R}=E(85833),{ERR_INVALID_ARG_TYPE:W,ERR_STREAM_PREMATURE_CLOSE:S}=R,{kEmptyObject:L,once:M}=E(82578),{validateAbortSignal:N,validateFunction:$,validateObject:F,validateBoolean:I}=E(48119),{Promise:X,PromisePrototypeThen:V}=E(2220),{isClosed:Z,isReadable:re,isReadableNodeStream:te,isReadableStream:Q,isReadableFinished:J,isReadableErrored:oe,isWritable:se,isWritableNodeStream:ae,isWritableStream:pe,isWritableFinished:le,isWritableErrored:ve,isNodeStream:we,willEmitClose:De,kIsClosedPromise:k}=E(76989),h=()=>{};function y(D,j,A){var l,g;if(2===arguments.length?(A=j,j=L):null==j?j=L:F(j,"options"),$(A,"callback"),N(j.signal,"options.signal"),A=M(A),Q(D)||pe(D))return function w(D,j,A){let l=!1,g=h;if(j.signal)if(g=()=>{l=!0,A.call(D,new x(void 0,{cause:j.signal.reason}))},j.signal.aborted)m.nextTick(g);else{const H=A;A=M((...ne)=>{j.signal.removeEventListener("abort",g),H.apply(D,ne)}),j.signal.addEventListener("abort",g)}const G=(...H)=>{l||m.nextTick(()=>A.apply(D,H))};return V(D[k].promise,G,G),h}(D,j,A);if(!we(D))throw new W("stream",["ReadableStream","WritableStream","Stream"],D);const G=null!==(l=j.readable)&&void 0!==l?l:te(D),H=null!==(g=j.writable)&&void 0!==g?g:ae(D),ne=D._writableState,ce=D._readableState,Ae=()=>{D.writable||Ee()};let ke=De(D)&&te(D)===G&&ae(D)===H,Fe=le(D,!1);const Ee=()=>{Fe=!0,D.destroyed&&(ke=!1),(!ke||D.readable&&!G)&&(!G||ge)&&A.call(D)};let ge=J(D,!1);const Oe=()=>{ge=!0,D.destroyed&&(ke=!1),(!ke||D.writable&&!H)&&(!H||Fe)&&A.call(D)},ye=ue=>{A.call(D,ue)};let Se=Z(D);const he=()=>{Se=!0;const ue=ve(D)||oe(D);return ue&&"boolean"!=typeof ue?A.call(D,ue):G&&!ge&&te(D,!0)&&!J(D,!1)?A.call(D,new S):!H||Fe||le(D,!1)?void A.call(D):A.call(D,new S)},fe=()=>{Se=!0;const ue=ve(D)||oe(D);if(ue&&"boolean"!=typeof ue)return A.call(D,ue);A.call(D)},ee=()=>{D.req.on("finish",Ee)};!function u(D){return D.setHeader&&"function"==typeof D.abort}(D)?H&&!ne&&(D.on("end",Ae),D.on("close",Ae)):(D.on("complete",Ee),ke||D.on("abort",he),D.req?ee():D.on("request",ee)),!ke&&"boolean"==typeof D.aborted&&D.on("aborted",he),D.on("end",Oe),D.on("finish",Ee),!1!==j.error&&D.on("error",ye),D.on("close",he),Se?m.nextTick(he):null!=ne&&ne.errorEmitted||null!=ce&&ce.errorEmitted?ke||m.nextTick(fe):(!G&&(!ke||re(D))&&(Fe||!1===se(D))||!H&&(!ke||se(D))&&(ge||!1===re(D))||ce&&D.req&&D.aborted)&&m.nextTick(fe);const ie=()=>{A=h,D.removeListener("aborted",he),D.removeListener("complete",Ee),D.removeListener("abort",he),D.removeListener("request",ee),D.req&&D.req.removeListener("finish",Ee),D.removeListener("end",Ae),D.removeListener("close",Ae),D.removeListener("finish",Ee),D.removeListener("end",Oe),D.removeListener("error",ye),D.removeListener("close",he)};if(j.signal&&!Se){const ue=()=>{const be=A;ie(),be.call(D,new x(void 0,{cause:j.signal.reason}))};if(j.signal.aborted)m.nextTick(ue);else{const be=A;A=M((...Ie)=>{j.signal.removeEventListener("abort",ue),be.apply(D,Ie)}),j.signal.addEventListener("abort",ue)}}return ie}Le.exports=y,Le.exports.finished=function T(D,j){var A;let l=!1;return null===j&&(j=L),null!==(A=j)&&void 0!==A&&A.cleanup&&(I(j.cleanup,"cleanup"),l=j.cleanup),new X((g,G)=>{const H=y(D,j,ne=>{l&&H(),ne?G(ne):g()})})}},94506:(Le,z,E)=>{"use strict";var m=E(29293).default;const x=E(40573),{PromisePrototypeThen:R,SymbolAsyncIterator:W,SymbolIterator:S}=E(2220),{Buffer:L}=E(37945),{ERR_INVALID_ARG_TYPE:M,ERR_STREAM_NULL_VALUES:N}=E(85833).codes;Le.exports=function $(F,I,X){let V,Z;if("string"==typeof I||I instanceof L)return new F({objectMode:!0,...X,read(){this.push(I),this.push(null)}});if(I&&I[W])Z=!0,V=I[W]();else{if(!I||!I[S])throw new M("iterable",["Iterable"],I);Z=!1,V=I[S]()}const re=new F({objectMode:!0,highWaterMark:1,...X});let te=!1;function J(){return(J=m(function*(ae){if(null!=ae&&"function"==typeof V.throw){const{value:ve,done:we}=yield V.throw(ae);if(yield ve,we)return}if("function"==typeof V.return){const{value:ve}=yield V.return();yield ve}})).apply(this,arguments)}function se(){return(se=m(function*(){for(;;){try{const{value:ae,done:pe}=Z?yield V.next():V.next();if(pe)re.push(null);else{const le=ae&&"function"==typeof ae.then?yield ae:ae;if(null===le)throw te=!1,new N;if(re.push(le))continue;te=!1}}catch(ae){re.destroy(ae)}break}})).apply(this,arguments)}return re._read=function(){te||(te=!0,function oe(){se.apply(this,arguments)}())},re._destroy=function(ae,pe){R(function Q(ae){return J.apply(this,arguments)}(ae),()=>x.nextTick(pe,ae),le=>x.nextTick(pe,le||ae))},re}},90845:(Le,z,E)=>{"use strict";const{ArrayIsArray:m,ObjectSetPrototypeOf:x}=E(2220),{EventEmitter:R}=E(44356);function W(L){R.call(this,L)}function S(L,M,N){if("function"==typeof L.prependListener)return L.prependListener(M,N);L._events&&L._events[M]?m(L._events[M])?L._events[M].unshift(N):L._events[M]=[N,L._events[M]]:L.on(M,N)}x(W.prototype,R.prototype),x(W,R),W.prototype.pipe=function(L,M){const N=this;function $(te){L.writable&&!1===L.write(te)&&N.pause&&N.pause()}function F(){N.readable&&N.resume&&N.resume()}N.on("data",$),L.on("drain",F),!L._isStdio&&(!M||!1!==M.end)&&(N.on("end",X),N.on("close",V));let I=!1;function X(){I||(I=!0,L.end())}function V(){I||(I=!0,"function"==typeof L.destroy&&L.destroy())}function Z(te){re(),0===R.listenerCount(this,"error")&&this.emit("error",te)}function re(){N.removeListener("data",$),L.removeListener("drain",F),N.removeListener("end",X),N.removeListener("close",V),N.removeListener("error",Z),L.removeListener("error",Z),N.removeListener("end",re),N.removeListener("close",re),L.removeListener("close",re)}return S(N,"error",Z),S(L,"error",Z),N.on("end",re),N.on("close",re),L.on("close",re),L.emit("pipe",N),L},Le.exports={Stream:W,prependListener:S}},54705:(Le,z,E)=>{"use strict";var m=E(29293).default,x=E(93513).default,R=E(82881).default,W=E(53344).default,S=E(42958).default;const L=globalThis.AbortController||E(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:M,ERR_INVALID_ARG_TYPE:N,ERR_MISSING_ARGS:$,ERR_OUT_OF_RANGE:F},AbortError:I}=E(85833),{validateAbortSignal:X,validateInteger:V,validateObject:Z}=E(48119),re=E(2220).Symbol("kWeak"),{finished:te}=E(68208),Q=E(90972),{addAbortSignalNoValidate:J}=E(55397),{isWritable:oe,isNodeStream:se}=E(76989),{ArrayPrototypePush:ae,MathFloor:pe,Number:le,NumberIsNaN:ve,Promise:we,PromiseReject:De,PromisePrototypeThen:k,Symbol:u}=E(2220),h=u("kEmpty"),y=u("kEof");function T(ee,ie){if("function"!=typeof ee)throw new N("fn",["Function","AsyncFunction"],ee);null!=ie&&Z(ie,"options"),null!=ie?.signal&&X(ie.signal,"options.signal");let ue=1;return null!=ie?.concurrency&&(ue=pe(ie.concurrency)),V(ue,"concurrency",1),function(){var be=S(function*(){var Ne,Be;const yt=new L,Ke=this,Re=[],ot=yt.signal,U={signal:ot},_=()=>yt.abort();null!=ie&&null!==(Ne=ie.signal)&&void 0!==Ne&&Ne.aborted&&_(),null==ie||null===(Be=ie.signal)||void 0===Be||Be.addEventListener("abort",_);let p,O,q=!1;function me(){q=!0}function qe(){return(qe=m(function*(){try{var bt,At=!1,ut=!1;try{for(var en,Lt=R(Ke);At=!(en=yield Lt.next()).done;At=!1){let yn=en.value;var Zt;if(q)return;if(ot.aborted)throw new I;try{yn=ee(yn,U)}catch(Vt){yn=De(Vt)}yn!==h&&("function"==typeof(null===(Zt=yn)||void 0===Zt?void 0:Zt.catch)&&yn.catch(me),Re.push(yn),p&&(p(),p=null),!q&&Re.length&&Re.length>=ue&&(yield new we(Vt=>{O=Vt})))}}catch(yn){ut=!0,bt=yn}finally{try{At&&null!=Lt.return&&(yield Lt.return())}finally{if(ut)throw bt}}Re.push(y)}catch(yn){const Vt=De(yn);k(Vt,void 0,me),Re.push(Vt)}finally{var Jn;q=!0,p&&(p(),p=null),null==ie||null===(Jn=ie.signal)||void 0===Jn||Jn.removeEventListener("abort",_)}})).apply(this,arguments)}!function xe(){qe.apply(this,arguments)}();try{for(;;){for(;Re.length>0;){const At=yield W(Re[0]);if(At===y)return;if(ot.aborted)throw new I;At!==h&&(yield At),Re.shift(),O&&(O(),O=null)}yield W(new we(At=>{p=At}))}}finally{yt.abort(),q=!0,O&&(O(),O=null)}});return function Ie(){return be.apply(this,arguments)}}().call(this)}function j(ee){return A.apply(this,arguments)}function A(){return(A=m(function*(ee,ie=void 0){var Ie,ue=!1,be=!1;try{for(var Ne=R(Ae.call(this,ee,ie));ue=!(yield Ne.next()).done;ue=!1)return!0}catch(yt){be=!0,Ie=yt}finally{try{ue&&null!=Ne.return&&(yield Ne.return())}finally{if(be)throw Ie}}return!1})).apply(this,arguments)}function g(){return(g=m(function*(ee,ie=void 0){if("function"!=typeof ee)throw new N("fn",["Function","AsyncFunction"],ee);return!(yield j.call(this,m(function*(...ue){return!(yield ee(...ue))}),ie))})).apply(this,arguments)}function H(){return(H=m(function*(ee,ie){var Ie,ue=!1,be=!1;try{for(var Be,Ne=R(Ae.call(this,ee,ie));ue=!(Be=yield Ne.next()).done;ue=!1)return Be.value}catch(yt){be=!0,Ie=yt}finally{try{ue&&null!=Ne.return&&(yield Ne.return())}finally{if(be)throw Ie}}})).apply(this,arguments)}function ce(){return ce=m(function*(ee,ie){if("function"!=typeof ee)throw new N("fn",["Function","AsyncFunction"],ee);function be(){return(be=m(function*(Re,ot){return yield ee(Re,ot),h})).apply(this,arguments)}var Be,Ie=!1,Ne=!1;try{for(var yt=R(T.call(this,function ue(Re,ot){return be.apply(this,arguments)},ie));Ie=!(yield yt.next()).done;Ie=!1);}catch(Re){Ne=!0,Be=Re}finally{try{Ie&&null!=yt.return&&(yield yt.return())}finally{if(Ne)throw Be}}}),ce.apply(this,arguments)}function Ae(ee,ie){if("function"!=typeof ee)throw new N("fn",["Function","AsyncFunction"],ee);function be(){return(be=m(function*(Ie,Ne){return(yield ee(Ie,Ne))?Ie:h})).apply(this,arguments)}return T.call(this,function ue(Ie,Ne){return be.apply(this,arguments)},ie)}class ke extends ${constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function Ee(){return Ee=m(function*(ee,ie,ue){var be;if("function"!=typeof ee)throw new N("reducer",["Function","AsyncFunction"],ee);null!=ue&&Z(ue,"options"),null!=ue?.signal&&X(ue.signal,"options.signal");let Ie=arguments.length>1;if(null!=ue&&null!==(be=ue.signal)&&void 0!==be&&be.aborted){const O=new I(void 0,{cause:ue.signal.reason});throw this.once("error",()=>{}),yield te(this.destroy(O)),O}const Ne=new L,Be=Ne.signal;null!=ue&&ue.signal&&ue.signal.addEventListener("abort",()=>Ne.abort(),{once:!0,[re]:this});let yt=!1;try{var ot,Ke=!1,Re=!1;try{for(var _,U=R(this);Ke=!(_=yield U.next()).done;Ke=!1){const O=_.value;var p;if(yt=!0,null!=ue&&null!==(p=ue.signal)&&void 0!==p&&p.aborted)throw new I;Ie?ie=yield ee(ie,O,{signal:Be}):(ie=O,Ie=!0)}}catch(O){Re=!0,ot=O}finally{try{Ke&&null!=U.return&&(yield U.return())}finally{if(Re)throw ot}}if(!yt&&!Ie)throw new ke}finally{Ne.abort()}return ie}),Ee.apply(this,arguments)}function Oe(){return(Oe=m(function*(ee){null!=ee&&Z(ee,"options"),null!=ee?.signal&&X(ee.signal,"options.signal");const ie=[];var Ie,ue=!1,be=!1;try{for(var Be,Ne=R(this);ue=!(Be=yield Ne.next()).done;ue=!1){const Ke=Be.value;var yt;if(null!=ee&&null!==(yt=ee.signal)&&void 0!==yt&&yt.aborted)throw new I(void 0,{cause:ee.signal.reason});ae(ie,Ke)}}catch(Ke){be=!0,Ie=Ke}finally{try{ue&&null!=Ne.return&&(yield Ne.return())}finally{if(be)throw Ie}}return ie})).apply(this,arguments)}function Se(ee){if(ee=le(ee),ve(ee))return 0;if(ee<0)throw new F("number",">= 0",ee);return ee}Le.exports.streamReturningOperators={asIndexedPairs:function D(ee=void 0){return null!=ee&&Z(ee,"options"),null!=ee?.signal&&X(ee.signal,"options.signal"),function(){var ie=S(function*(){let be=0;var Be,Ie=!1,Ne=!1;try{for(var Ke,yt=R(this);Ie=!(Ke=yield W(yt.next())).done;Ie=!1){const ot=Ke.value;var Re;if(null!=ee&&null!==(Re=ee.signal)&&void 0!==Re&&Re.aborted)throw new I({cause:ee.signal.reason});yield[be++,ot]}}catch(ot){Ne=!0,Be=ot}finally{try{Ie&&null!=yt.return&&(yield W(yt.return()))}finally{if(Ne)throw Be}}});return function ue(){return ie.apply(this,arguments)}}().call(this)},drop:function he(ee,ie=void 0){return null!=ie&&Z(ie,"options"),null!=ie?.signal&&X(ie.signal,"options.signal"),ee=Se(ee),function(){var ue=S(function*(){var Ie;if(null!=ie&&null!==(Ie=ie.signal)&&void 0!==Ie&&Ie.aborted)throw new I;var yt,Ne=!1,Be=!1;try{for(var Re,Ke=R(this);Ne=!(Re=yield W(Ke.next())).done;Ne=!1){const U=Re.value;var ot;if(null!=ie&&null!==(ot=ie.signal)&&void 0!==ot&&ot.aborted)throw new I;ee--<=0&&(yield U)}}catch(U){Be=!0,yt=U}finally{try{Ne&&null!=Ke.return&&(yield W(Ke.return()))}finally{if(Be)throw yt}}});return function be(){return ue.apply(this,arguments)}}().call(this)},filter:Ae,flatMap:function ye(ee,ie){const ue=T.call(this,ee,ie);return function(){var be=S(function*(){var yt,Ne=!1,Be=!1;try{for(var Re,Ke=R(ue);Ne=!(Re=yield W(Ke.next())).done;Ne=!1){const ot=Re.value;yield*x(R(ot),W)}}catch(ot){Be=!0,yt=ot}finally{try{Ne&&null!=Ke.return&&(yield W(Ke.return()))}finally{if(Be)throw yt}}});return function Ie(){return be.apply(this,arguments)}}().call(this)},map:T,take:function fe(ee,ie=void 0){return null!=ie&&Z(ie,"options"),null!=ie?.signal&&X(ie.signal,"options.signal"),ee=Se(ee),function(){var ue=S(function*(){var Ie;if(null!=ie&&null!==(Ie=ie.signal)&&void 0!==Ie&&Ie.aborted)throw new I;var yt,Ne=!1,Be=!1;try{for(var Re,Ke=R(this);Ne=!(Re=yield W(Ke.next())).done;Ne=!1){const U=Re.value;var ot;if(null!=ie&&null!==(ot=ie.signal)&&void 0!==ot&&ot.aborted)throw new I;if(!(ee-- >0))return;yield U}}catch(U){Be=!0,yt=U}finally{try{Ne&&null!=Ke.return&&(yield W(Ke.return()))}finally{if(Be)throw yt}}});return function be(){return ue.apply(this,arguments)}}().call(this)},compose:function w(ee,ie){if(null!=ie&&Z(ie,"options"),null!=ie?.signal&&X(ie.signal,"options.signal"),se(ee)&&!oe(ee))throw new M("stream",ee,"must be writable");const ue=Q(this,ee);return null!=ie&&ie.signal&&J(ie.signal,ue),ue}},Le.exports.promiseReturningOperators={every:function l(ee){return g.apply(this,arguments)},forEach:function ne(ee,ie){return ce.apply(this,arguments)},reduce:function Fe(ee,ie,ue){return Ee.apply(this,arguments)},toArray:function ge(ee){return Oe.apply(this,arguments)},some:j,find:function G(ee,ie){return H.apply(this,arguments)}}},5358:(Le,z,E)=>{"use strict";const{ObjectSetPrototypeOf:m}=E(2220);Le.exports=R;const x=E(33732);function R(W){if(!(this instanceof R))return new R(W);x.call(this,W)}m(R.prototype,x.prototype),m(R,x),R.prototype._transform=function(W,S,L){L(null,W)}},63596:(Le,z,E)=>{var m=E(29293).default,x=E(42958).default,R=E(53344).default,W=E(93513).default,S=E(82881).default;const L=E(40573),{ArrayIsArray:M,Promise:N,SymbolAsyncIterator:$}=E(2220),F=E(68208),{once:I}=E(82578),X=E(23370),V=E(85892),{aggregateTwoErrors:Z,codes:{ERR_INVALID_ARG_TYPE:re,ERR_INVALID_RETURN_VALUE:te,ERR_MISSING_ARGS:Q,ERR_STREAM_DESTROYED:J,ERR_STREAM_PREMATURE_CLOSE:oe},AbortError:se}=E(85833),{validateFunction:ae,validateAbortSignal:pe}=E(48119),{isIterable:le,isReadable:ve,isReadableNodeStream:we,isNodeStream:De,isTransformStream:k,isWebStream:u,isReadableStream:h,isReadableEnded:y}=E(76989),w=globalThis.AbortController||E(9465).AbortController;let T,D;function j(ge,Oe,ye){let Se=!1;return ge.on("close",()=>{Se=!0}),{destroy:fe=>{Se||(Se=!0,X.destroyer(ge,fe||new J("pipe")))},cleanup:F(ge,{readable:Oe,writable:ye},fe=>{Se=!fe})}}function l(ge){if(le(ge))return ge;if(we(ge))return function g(ge){return G.apply(this,arguments)}(ge);throw new re("val",["Readable","Iterable","AsyncIterable"],ge)}function G(){return(G=x(function*(ge){D||(D=E(84730)),yield*W(S(D.prototype[$].call(ge)),R)})).apply(this,arguments)}function H(ge,Oe,ye,Se){return ne.apply(this,arguments)}function ne(){return(ne=m(function*(ge,Oe,ye,{end:Se}){let he,fe=null;const ee=Ke=>{if(Ke&&(he=Ke),fe){const Re=fe;fe=null,Re()}},ie=()=>new N((Ke,Re)=>{he?Re(he):fe=()=>{he?Re(he):Ke()}});Oe.on("drain",ee);const ue=F(Oe,{readable:!1},ee);try{Oe.writableNeedDrain&&(yield ie());var Ne,be=!1,Ie=!1;try{for(var yt,Be=S(ge);be=!(yt=yield Be.next()).done;be=!1)Oe.write(yt.value)||(yield ie())}catch(Ke){Ie=!0,Ne=Ke}finally{try{be&&null!=Be.return&&(yield Be.return())}finally{if(Ie)throw Ne}}Se&&Oe.end(),yield ie(),ye()}catch(Ke){ye(he!==Ke?Z(he,Ke):Ke)}finally{ue(),Oe.off("drain",ee)}})).apply(this,arguments)}function ce(ge,Oe,ye,Se){return Ae.apply(this,arguments)}function Ae(){return(Ae=m(function*(ge,Oe,ye,{end:Se}){k(Oe)&&(Oe=Oe.writable);const he=Oe.getWriter();try{var ie,fe=!1,ee=!1;try{for(var be,ue=S(ge);fe=!(be=yield ue.next()).done;fe=!1){const Ie=be.value;yield he.ready,he.write(Ie).catch(()=>{})}}catch(Ie){ee=!0,ie=Ie}finally{try{fe&&null!=ue.return&&(yield ue.return())}finally{if(ee)throw ie}}yield he.ready,Se&&(yield he.close()),ye()}catch(Ie){try{yield he.abort(Ie),ye(Ie)}catch(Ne){ye(Ne)}}})).apply(this,arguments)}function Fe(ge,Oe,ye){if(1===ge.length&&M(ge[0])&&(ge=ge[0]),ge.length<2)throw new Q("streams");const Se=new w,he=Se.signal,fe=ye?.signal,ee=[];function ie(){yt(new se)}let ue,be;pe(fe,"options.signal"),fe?.addEventListener("abort",ie);const Ie=[];let Ke,Ne=0;function Be(_){yt(_,0==--Ne)}function yt(_,p){if(_&&(!ue||"ERR_STREAM_PREMATURE_CLOSE"===ue.code)&&(ue=_),ue||p){for(;Ie.length;)Ie.shift()(ue);fe?.removeEventListener("abort",ie),Se.abort(),p&&(ue||ee.forEach(O=>O()),L.nextTick(Oe,ue,be))}}for(let _=0;_<ge.length;_++){const p=ge[_],O=_<ge.length-1,q=_>0,me=O||!1!==ye?.end,xe=_===ge.length-1;if(De(p)){let qe=function(At){At&&"AbortError"!==At.name&&"ERR_STREAM_PREMATURE_CLOSE"!==At.code&&Be(At)};if(me){const{destroy:At,cleanup:ut}=j(p,O,q);Ie.push(At),ve(p)&&xe&&ee.push(ut)}p.on("error",qe),ve(p)&&xe&&ee.push(()=>{p.removeListener("error",qe)})}if(0===_)if("function"==typeof p){if(Ke=p({signal:he}),!le(Ke))throw new te("Iterable, AsyncIterable or Stream","source",Ke)}else Ke=le(p)||we(p)||k(p)?p:V.from(p);else if("function"==typeof p){var Re;if(Ke=k(Ke)?l(null===(Re=Ke)||void 0===Re?void 0:Re.readable):l(Ke),Ke=p(Ke,{signal:he}),O){if(!le(Ke,!0))throw new te("AsyncIterable",`transform[${_-1}]`,Ke)}else{var ot;T||(T=E(5358));const qe=new T({objectMode:!0}),At=null===(ot=Ke)||void 0===ot?void 0:ot.then;if("function"==typeof At)Ne++,At.call(Ke,Lt=>{be=Lt,null!=Lt&&qe.write(Lt),me&&qe.end(),L.nextTick(Be)},Lt=>{qe.destroy(Lt),L.nextTick(Be,Lt)});else if(le(Ke,!0))Ne++,H(Ke,qe,Be,{end:me});else{if(!h(Ke)&&!k(Ke))throw new te("AsyncIterable or Promise","destination",Ke);Ne++,H(Ke.readable||Ke,qe,Be,{end:me})}Ke=qe;const{destroy:ut,cleanup:bt}=j(Ke,!1,!0);Ie.push(ut),xe&&ee.push(bt)}}else if(De(p)){if(we(Ke)){Ne+=2;const qe=Ee(Ke,p,Be,{end:me});ve(p)&&xe&&ee.push(qe)}else if(k(Ke)||h(Ke))Ne++,H(Ke.readable||Ke,p,Be,{end:me});else{if(!le(Ke))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ke);Ne++,H(Ke,p,Be,{end:me})}Ke=p}else if(u(p)){if(we(Ke))Ne++,ce(l(Ke),p,Be,{end:me});else if(h(Ke)||le(Ke))Ne++,ce(Ke,p,Be,{end:me});else{if(!k(Ke))throw new re("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Ke);Ne++,ce(Ke.readable,p,Be,{end:me})}Ke=p}else Ke=V.from(p)}return(null!=he&&he.aborted||null!=fe&&fe.aborted)&&L.nextTick(ie),Ke}function Ee(ge,Oe,ye,{end:Se}){let he=!1;if(Oe.on("close",()=>{he||ye(new oe)}),ge.pipe(Oe,{end:!1}),Se){let ee=function(){he=!0,Oe.end()};y(ge)?L.nextTick(ee):ge.once("end",ee)}else ye();return F(ge,{readable:!0,writable:!1},ee=>{const ie=ge._readableState;ee&&"ERR_STREAM_PREMATURE_CLOSE"===ee.code&&ie&&ie.ended&&!ie.errored&&!ie.errorEmitted?ge.once("end",ye).once("error",ye):ye(ee)}),F(Oe,{readable:!1,writable:!0},ye)}Le.exports={pipelineImpl:Fe,pipeline:function ke(...ge){return Fe(ge,I(function A(ge){return ae(ge[ge.length-1],"streams[stream.length - 1]"),ge.pop()}(ge)))}}},84730:(Le,z,E)=>{var m=E(53344).default,x=E(42958).default;const R=E(40573),{ArrayPrototypeIndexOf:W,NumberIsInteger:S,NumberIsNaN:L,NumberParseInt:M,ObjectDefineProperties:N,ObjectKeys:$,ObjectSetPrototypeOf:F,Promise:I,SafeSet:X,SymbolAsyncIterator:V,Symbol:Z}=E(2220);Le.exports=H,H.ReadableState=G;const{EventEmitter:re}=E(44356),{Stream:te,prependListener:Q}=E(90845),{Buffer:J}=E(37945),{addAbortSignal:oe}=E(55397),se=E(68208);let ae=E(82578).debuglog("stream",p=>{ae=p});const pe=E(54863),le=E(23370),{getHighWaterMark:ve,getDefaultHighWaterMark:we}=E(43909),{aggregateTwoErrors:De,codes:{ERR_INVALID_ARG_TYPE:k,ERR_METHOD_NOT_IMPLEMENTED:u,ERR_OUT_OF_RANGE:h,ERR_STREAM_PUSH_AFTER_EOF:y,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:w}}=E(85833),{validateObject:T}=E(48119),D=Z("kPaused"),{StringDecoder:j}=E(78454),A=E(94506);F(H.prototype,te.prototype),F(H,te);const l=()=>{},{errorOrDestroy:g}=le;function G(p,O,q){"boolean"!=typeof q&&(q=O instanceof E(85892)),this.objectMode=!(!p||!p.objectMode),q&&(this.objectMode=this.objectMode||!(!p||!p.readableObjectMode)),this.highWaterMark=p?ve(this,p,"readableHighWaterMark",q):we(!1),this.buffer=new pe,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[D]=null,this.errorEmitted=!1,this.emitClose=!p||!1!==p.emitClose,this.autoDestroy=!p||!1!==p.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=p&&p.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,p&&p.encoding&&(this.decoder=new j(p.encoding),this.encoding=p.encoding)}function H(p){if(!(this instanceof H))return new H(p);const O=this instanceof E(85892);this._readableState=new G(p,this,O),p&&("function"==typeof p.read&&(this._read=p.read),"function"==typeof p.destroy&&(this._destroy=p.destroy),"function"==typeof p.construct&&(this._construct=p.construct),p.signal&&!O&&oe(p.signal,this)),te.call(this,p),le.construct(this,()=>{this._readableState.needReadable&&ye(this,this._readableState)})}function ne(p,O,q,me){ae("readableAddChunk",O);const xe=p._readableState;let qe;if(xe.objectMode||("string"==typeof O?xe.encoding!==(q=q||xe.defaultEncoding)&&(me&&xe.encoding?O=J.from(O,q).toString(xe.encoding):(O=J.from(O,q),q="")):O instanceof J?q="":te._isUint8Array(O)?(O=te._uint8ArrayToBuffer(O),q=""):null!=O&&(qe=new k("chunk",["string","Buffer","Uint8Array"],O))),qe)g(p,qe);else if(null===O)xe.reading=!1,function Ee(p,O){if(ae("onEofChunk"),!O.ended){if(O.decoder){const q=O.decoder.end();q&&q.length&&(O.buffer.push(q),O.length+=O.objectMode?1:q.length)}O.ended=!0,O.sync?ge(p):(O.needReadable=!1,O.emittedReadable=!0,Oe(p))}}(p,xe);else if(xe.objectMode||O&&O.length>0)if(me)if(xe.endEmitted)g(p,new w);else{if(xe.destroyed||xe.errored)return!1;ce(p,xe,O,!0)}else if(xe.ended)g(p,new y);else{if(xe.destroyed||xe.errored)return!1;xe.reading=!1,xe.decoder&&!q?(O=xe.decoder.write(O),xe.objectMode||0!==O.length?ce(p,xe,O,!1):ye(p,xe)):ce(p,xe,O,!1)}else me||(xe.reading=!1,ye(p,xe));return!xe.ended&&(xe.length<xe.highWaterMark||0===xe.length)}function ce(p,O,q,me){O.flowing&&0===O.length&&!O.sync&&p.listenerCount("data")>0?(O.multiAwaitDrain?O.awaitDrainWriters.clear():O.awaitDrainWriters=null,O.dataEmitted=!0,p.emit("data",q)):(O.length+=O.objectMode?1:q.length,me?O.buffer.unshift(q):O.buffer.push(q),O.needReadable&&ge(p)),ye(p,O)}function Fe(p,O){return p<=0||0===O.length&&O.ended?0:O.objectMode?1:L(p)?O.flowing&&O.length?O.buffer.first().length:O.length:p<=O.length?p:O.ended?O.length:0}function ge(p){const O=p._readableState;ae("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(ae("emitReadable",O.flowing),O.emittedReadable=!0,R.nextTick(Oe,p))}function Oe(p){const O=p._readableState;ae("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&!O.errored&&(O.length||O.ended)&&(p.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,be(p)}function ye(p,O){!O.readingMore&&O.constructed&&(O.readingMore=!0,R.nextTick(Se,p,O))}function Se(p,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&0===O.length);){const q=O.length;if(ae("maybeReadMore read 0"),p.read(0),q===O.length)break}O.readingMore=!1}function fe(p){const O=p._readableState;O.readableListening=p.listenerCount("readable")>0,O.resumeScheduled&&!1===O[D]?O.flowing=!0:p.listenerCount("data")>0?p.resume():O.readableListening||(O.flowing=null)}function ee(p){ae("readable nexttick read 0"),p.read(0)}function ue(p,O){ae("resume",O.reading),O.reading||p.read(0),O.resumeScheduled=!1,p.emit("resume"),be(p),O.flowing&&!O.reading&&p.read(0)}function be(p){const O=p._readableState;for(ae("flow",O.flowing);O.flowing&&null!==p.read(););}function Ie(p,O){"function"!=typeof p.read&&(p=H.wrap(p,{objectMode:!0}));const q=function Ne(p,O){return Be.apply(this,arguments)}(p,O);return q.stream=p,q}function Be(){return(Be=x(function*(p,O){let xe,q=l;function me(At){this===p?(q(),q=l):q=At}p.on("readable",me);const qe=se(p,{writable:!1},At=>{xe=At?De(xe,At):null,q(),q=l});try{for(;;){const At=p.destroyed?null:p.read();if(null!==At)yield At;else{if(xe)throw xe;if(null===xe)return;yield m(new I(me))}}}catch(At){throw xe=De(xe,At),xe}finally{!xe&&!1===O?.destroyOnReturn||void 0!==xe&&!p._readableState.autoDestroy?(p.off("readable",me),qe()):le.destroyer(p,null)}})).apply(this,arguments)}function yt(p,O){if(0===O.length)return null;let q;return O.objectMode?q=O.buffer.shift():!p||p>=O.length?(q=O.decoder?O.buffer.join(""):1===O.buffer.length?O.buffer.first():O.buffer.concat(O.length),O.buffer.clear()):q=O.buffer.consume(p,O.decoder),q}function Ke(p){const O=p._readableState;ae("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,R.nextTick(Re,O,p))}function Re(p,O){if(ae("endReadableNT",p.endEmitted,p.length),!p.errored&&!p.closeEmitted&&!p.endEmitted&&0===p.length)if(p.endEmitted=!0,O.emit("end"),O.writable&&!1===O.allowHalfOpen)R.nextTick(ot,O);else if(p.autoDestroy){const q=O._writableState;(!q||q.autoDestroy&&(q.finished||!1===q.writable))&&O.destroy()}}function ot(p){p.writable&&!p.writableEnded&&!p.destroyed&&p.end()}let U;function _(){return void 0===U&&(U={}),U}H.prototype.destroy=le.destroy,H.prototype._undestroy=le.undestroy,H.prototype._destroy=function(p,O){O(p)},H.prototype[re.captureRejectionSymbol]=function(p){this.destroy(p)},H.prototype.push=function(p,O){return ne(this,p,O,!1)},H.prototype.unshift=function(p,O){return ne(this,p,O,!0)},H.prototype.isPaused=function(){const p=this._readableState;return!0===p[D]||!1===p.flowing},H.prototype.setEncoding=function(p){const O=new j(p);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;const q=this._readableState.buffer;let me="";for(const xe of q)me+=O.write(xe);return q.clear(),""!==me&&q.push(me),this._readableState.length=me.length,this},H.prototype.read=function(p){ae("read",p),void 0===p?p=NaN:S(p)||(p=M(p,10));const O=this._readableState,q=p;if(p>O.highWaterMark&&(O.highWaterMark=function ke(p){if(p>1073741824)throw new h("size","<= 1GiB",p);return p--,p|=p>>>1,p|=p>>>2,p|=p>>>4,p|=p>>>8,p|=p>>>16,++p}(p)),0!==p&&(O.emittedReadable=!1),0===p&&O.needReadable&&((0!==O.highWaterMark?O.length>=O.highWaterMark:O.length>0)||O.ended))return ae("read: emitReadable",O.length,O.ended),0===O.length&&O.ended?Ke(this):ge(this),null;if(0===(p=Fe(p,O))&&O.ended)return 0===O.length&&Ke(this),null;let xe,me=O.needReadable;if(ae("need readable",me),(0===O.length||O.length-p<O.highWaterMark)&&(me=!0,ae("length less than watermark",me)),O.ended||O.reading||O.destroyed||O.errored||!O.constructed)me=!1,ae("reading, ended or constructing",me);else if(me){ae("do read"),O.reading=!0,O.sync=!0,0===O.length&&(O.needReadable=!0);try{this._read(O.highWaterMark)}catch(qe){g(this,qe)}O.sync=!1,O.reading||(p=Fe(q,O))}return xe=p>0?yt(p,O):null,null===xe?(O.needReadable=O.length<=O.highWaterMark,p=0):(O.length-=p,O.multiAwaitDrain?O.awaitDrainWriters.clear():O.awaitDrainWriters=null),0===O.length&&(O.ended||(O.needReadable=!0),q!==p&&O.ended&&Ke(this)),null!==xe&&!O.errorEmitted&&!O.closeEmitted&&(O.dataEmitted=!0,this.emit("data",xe)),xe},H.prototype._read=function(p){throw new u("_read()")},H.prototype.pipe=function(p,O){const q=this,me=this._readableState;1===me.pipes.length&&(me.multiAwaitDrain||(me.multiAwaitDrain=!0,me.awaitDrainWriters=new X(me.awaitDrainWriters?[me.awaitDrainWriters]:[]))),me.pipes.push(p),ae("pipe count=%d opts=%j",me.pipes.length,O);const qe=O&&!1===O.end||p===R.stdout||p===R.stderr?mt:ut;function ut(){ae("onend"),p.end()}me.endEmitted?R.nextTick(qe):q.once("end",qe),p.on("unpipe",function At(st,Nt){ae("onunpipe"),st===q&&Nt&&!1===Nt.hasUnpiped&&(Nt.hasUnpiped=!0,function en(){ae("cleanup"),p.removeListener("close",Vt),p.removeListener("finish",$t),bt&&p.removeListener("drain",bt),p.removeListener("error",yn),p.removeListener("unpipe",At),q.removeListener("end",ut),q.removeListener("end",mt),q.removeListener("data",Jn),Lt=!0,bt&&me.awaitDrainWriters&&(!p._writableState||p._writableState.needDrain)&&bt()}())});let bt,Lt=!1;function Zt(){Lt||(1===me.pipes.length&&me.pipes[0]===p?(ae("false write response, pause",0),me.awaitDrainWriters=p,me.multiAwaitDrain=!1):me.pipes.length>1&&me.pipes.includes(p)&&(ae("false write response, pause",me.awaitDrainWriters.size),me.awaitDrainWriters.add(p)),q.pause()),bt||(bt=function he(p,O){return function(){const me=p._readableState;me.awaitDrainWriters===O?(ae("pipeOnDrain",1),me.awaitDrainWriters=null):me.multiAwaitDrain&&(ae("pipeOnDrain",me.awaitDrainWriters.size),me.awaitDrainWriters.delete(O)),(!me.awaitDrainWriters||0===me.awaitDrainWriters.size)&&p.listenerCount("data")&&p.resume()}}(q,p),p.on("drain",bt))}function Jn(st){ae("ondata");const Nt=p.write(st);ae("dest.write",Nt),!1===Nt&&Zt()}function yn(st){if(ae("onerror",st),mt(),p.removeListener("error",yn),0===p.listenerCount("error")){const Nt=p._writableState||p._readableState;Nt&&!Nt.errorEmitted?g(p,st):p.emit("error",st)}}function Vt(){p.removeListener("finish",$t),mt()}function $t(){ae("onfinish"),p.removeListener("close",Vt),mt()}function mt(){ae("unpipe"),q.unpipe(p)}return q.on("data",Jn),Q(p,"error",yn),p.once("close",Vt),p.once("finish",$t),p.emit("pipe",q),!0===p.writableNeedDrain?me.flowing&&Zt():me.flowing||(ae("pipe resume"),q.resume()),p},H.prototype.unpipe=function(p){const O=this._readableState;if(0===O.pipes.length)return this;if(!p){const xe=O.pipes;O.pipes=[],this.pause();for(let qe=0;qe<xe.length;qe++)xe[qe].emit("unpipe",this,{hasUnpiped:!1});return this}const me=W(O.pipes,p);return-1===me||(O.pipes.splice(me,1),0===O.pipes.length&&this.pause(),p.emit("unpipe",this,{hasUnpiped:!1})),this},H.prototype.addListener=H.prototype.on=function(p,O){const q=te.prototype.on.call(this,p,O),me=this._readableState;return"data"===p?(me.readableListening=this.listenerCount("readable")>0,!1!==me.flowing&&this.resume()):"readable"===p&&!me.endEmitted&&!me.readableListening&&(me.readableListening=me.needReadable=!0,me.flowing=!1,me.emittedReadable=!1,ae("on readable",me.length,me.reading),me.length?ge(this):me.reading||R.nextTick(ee,this)),q},H.prototype.off=H.prototype.removeListener=function(p,O){const q=te.prototype.removeListener.call(this,p,O);return"readable"===p&&R.nextTick(fe,this),q},H.prototype.removeAllListeners=function(p){const O=te.prototype.removeAllListeners.apply(this,arguments);return("readable"===p||void 0===p)&&R.nextTick(fe,this),O},H.prototype.resume=function(){const p=this._readableState;return p.flowing||(ae("resume"),p.flowing=!p.readableListening,function ie(p,O){O.resumeScheduled||(O.resumeScheduled=!0,R.nextTick(ue,p,O))}(this,p)),p[D]=!1,this},H.prototype.pause=function(){return ae("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ae("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[D]=!0,this},H.prototype.wrap=function(p){let O=!1;p.on("data",me=>{!this.push(me)&&p.pause&&(O=!0,p.pause())}),p.on("end",()=>{this.push(null)}),p.on("error",me=>{g(this,me)}),p.on("close",()=>{this.destroy()}),p.on("destroy",()=>{this.destroy()}),this._read=()=>{O&&p.resume&&(O=!1,p.resume())};const q=$(p);for(let me=1;me<q.length;me++){const xe=q[me];void 0===this[xe]&&"function"==typeof p[xe]&&(this[xe]=p[xe].bind(p))}return this},H.prototype[V]=function(){return Ie(this)},H.prototype.iterator=function(p){return void 0!==p&&T(p,"options"),Ie(this,p)},N(H.prototype,{readable:{__proto__:null,get(){const p=this._readableState;return!(!p||!1===p.readable||p.destroyed||p.errorEmitted||p.endEmitted)},set(p){this._readableState&&(this._readableState.readable=!!p)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(p){this._readableState&&(this._readableState.flowing=p)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(p){this._readableState&&(this._readableState.destroyed=p)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),N(G.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[D]},set(p){this[D]=!!p}}}),H._fromList=yt,H.from=function(p,O){return A(H,p,O)},H.fromWeb=function(p,O){return _().newStreamReadableFromReadableStream(p,O)},H.toWeb=function(p,O){return _().newReadableStreamFromStreamReadable(p,O)},H.wrap=function(p,O){var q,me;return new H({objectMode:null===(q=null!==(me=p.readableObjectMode)&&void 0!==me?me:p.objectMode)||void 0===q||q,...O,destroy(xe,qe){le.destroyer(p,xe),qe(xe)}}).wrap(p)}},43909:(Le,z,E)=>{"use strict";const{MathFloor:m,NumberIsInteger:x}=E(2220),{ERR_INVALID_ARG_VALUE:R}=E(85833).codes;function S(M){return M?16:16384}Le.exports={getHighWaterMark:function L(M,N,$,F){const I=function W(M,N,$){return null!=M.highWaterMark?M.highWaterMark:N?M[$]:null}(N,F,$);if(null!=I){if(!x(I)||I<0)throw new R(F?`options.${$}`:"options.highWaterMark",I);return m(I)}return S(M.objectMode)},getDefaultHighWaterMark:S}},33732:(Le,z,E)=>{"use strict";const{ObjectSetPrototypeOf:m,Symbol:x}=E(2220);Le.exports=M;const{ERR_METHOD_NOT_IMPLEMENTED:R}=E(85833).codes,W=E(85892),{getHighWaterMark:S}=E(43909);m(M.prototype,W.prototype),m(M,W);const L=x("kCallback");function M(F){if(!(this instanceof M))return new M(F);const I=F?S(this,F,"readableHighWaterMark",!0):null;0===I&&(F={...F,highWaterMark:null,readableHighWaterMark:I,writableHighWaterMark:F.writableHighWaterMark||0}),W.call(this,F),this._readableState.sync=!1,this[L]=null,F&&("function"==typeof F.transform&&(this._transform=F.transform),"function"==typeof F.flush&&(this._flush=F.flush)),this.on("prefinish",$)}function N(F){"function"!=typeof this._flush||this.destroyed?(this.push(null),F&&F()):this._flush((I,X)=>{I?F?F(I):this.destroy(I):(null!=X&&this.push(X),this.push(null),F&&F())})}function $(){this._final!==N&&N.call(this)}M.prototype._final=N,M.prototype._transform=function(F,I,X){throw new R("_transform()")},M.prototype._write=function(F,I,X){const V=this._readableState,Z=this._writableState,re=V.length;this._transform(F,I,(te,Q)=>{te?X(te):(null!=Q&&this.push(Q),Z.ended||re===V.length||V.length<V.highWaterMark?X():this[L]=X)})},M.prototype._read=function(){if(this[L]){const F=this[L];this[L]=null,F()}}},76989:(Le,z,E)=>{"use strict";const{Symbol:m,SymbolAsyncIterator:x,SymbolIterator:R,SymbolFor:W}=E(2220),S=m("kDestroyed"),L=m("kIsErrored"),M=m("kIsReadable"),N=m("kIsDisturbed"),$=W("nodejs.webstream.isClosedPromise"),F=W("nodejs.webstream.controllerErrorFunction");function I(g,G=!1){var H;return!(!g||"function"!=typeof g.pipe||"function"!=typeof g.on||G&&("function"!=typeof g.pause||"function"!=typeof g.resume)||g._writableState&&!1===(null===(H=g._readableState)||void 0===H?void 0:H.readable)||g._writableState&&!g._readableState)}function X(g){var G;return!(!g||"function"!=typeof g.write||"function"!=typeof g.on||g._readableState&&!1===(null===(G=g._writableState)||void 0===G?void 0:G.writable))}function Z(g){return g&&(g._readableState||g._writableState||"function"==typeof g.write&&"function"==typeof g.on||"function"==typeof g.pipe&&"function"==typeof g.on)}function re(g){return!(!g||Z(g)||"function"!=typeof g.pipeThrough||"function"!=typeof g.getReader||"function"!=typeof g.cancel)}function te(g){return!(!g||Z(g)||"function"!=typeof g.getWriter||"function"!=typeof g.abort)}function Q(g){return!(!g||Z(g)||"object"!=typeof g.readable||"object"!=typeof g.writable)}function se(g){if(!Z(g))return null;const ne=g._writableState||g._readableState;return!!(g.destroyed||g[S]||null!=ne&&ne.destroyed)}function ae(g){if(!X(g))return null;if(!0===g.writableEnded)return!0;const G=g._writableState;return(null==G||!G.errored)&&("boolean"!=typeof G?.ended?null:G.ended)}function ve(g,G){if(!I(g))return null;const H=g._readableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.endEmitted?null:!!(H.endEmitted||!1===G&&!0===H.ended&&0===H.length))}function we(g){return g&&null!=g[M]?g[M]:"boolean"!=typeof g?.readable?null:!se(g)&&I(g)&&g.readable&&!ve(g)}function De(g){return"boolean"!=typeof g?.writable?null:!se(g)&&X(g)&&g.writable&&!ae(g)}function w(g){return"boolean"==typeof g._closed&&"boolean"==typeof g._defaultKeepAlive&&"boolean"==typeof g._removedConnection&&"boolean"==typeof g._removedContLen}function T(g){return"boolean"==typeof g._sent100&&w(g)}Le.exports={kDestroyed:S,isDisturbed:function A(g){var G;return!(!g||!(null!==(G=g[N])&&void 0!==G?G:g.readableDidRead||g.readableAborted))},kIsDisturbed:N,isErrored:function l(g){var G,H,ne,ce,Ae,ke,Fe,Ee,ge,Oe;return!(!g||!(null!==(G=null!==(H=null!==(ne=null!==(ce=null!==(Ae=null!==(ke=g[L])&&void 0!==ke?ke:g.readableErrored)&&void 0!==Ae?Ae:g.writableErrored)&&void 0!==ce?ce:null===(Fe=g._readableState)||void 0===Fe?void 0:Fe.errorEmitted)&&void 0!==ne?ne:null===(Ee=g._writableState)||void 0===Ee?void 0:Ee.errorEmitted)&&void 0!==H?H:null===(ge=g._readableState)||void 0===ge?void 0:ge.errored)&&void 0!==G?G:null!==(Oe=g._writableState)&&void 0!==Oe&&Oe.errored))},kIsErrored:L,isReadable:we,kIsReadable:M,kIsClosedPromise:$,kControllerErrorFunction:F,isClosed:function y(g){if(!Z(g))return null;if("boolean"==typeof g.closed)return g.closed;const G=g._writableState,H=g._readableState;return"boolean"==typeof G?.closed||"boolean"==typeof H?.closed?G?.closed||H?.closed:"boolean"==typeof g._closed&&w(g)?g._closed:null},isDestroyed:se,isDuplexNodeStream:function V(g){return!(!g||"function"!=typeof g.pipe||!g._readableState||"function"!=typeof g.on||"function"!=typeof g.write)},isFinished:function k(g,G){return Z(g)?!!se(g)||!(!1!==G?.readable&&we(g)||!1!==G?.writable&&De(g)):null},isIterable:function oe(g,G){return null!=g&&(!0===G?"function"==typeof g[x]:!1===G?"function"==typeof g[R]:"function"==typeof g[x]||"function"==typeof g[R])},isReadableNodeStream:I,isReadableStream:re,isReadableEnded:function le(g){if(!I(g))return null;if(!0===g.readableEnded)return!0;const G=g._readableState;return!(!G||G.errored)&&("boolean"!=typeof G?.ended?null:G.ended)},isReadableFinished:ve,isReadableErrored:function h(g){var G,H;return Z(g)?g.readableErrored?g.readableErrored:null!==(G=null===(H=g._readableState)||void 0===H?void 0:H.errored)&&void 0!==G?G:null:null},isNodeStream:Z,isWebStream:function J(g){return re(g)||te(g)||Q(g)},isWritable:De,isWritableNodeStream:X,isWritableStream:te,isWritableEnded:ae,isWritableFinished:function pe(g,G){if(!X(g))return null;if(!0===g.writableFinished)return!0;const H=g._writableState;return(null==H||!H.errored)&&("boolean"!=typeof H?.finished?null:!!(H.finished||!1===G&&!0===H.ended&&0===H.length))},isWritableErrored:function u(g){var G,H;return Z(g)?g.writableErrored?g.writableErrored:null!==(G=null===(H=g._writableState)||void 0===H?void 0:H.errored)&&void 0!==G?G:null:null},isServerRequest:function D(g){var G;return"boolean"==typeof g._consuming&&"boolean"==typeof g._dumped&&void 0===(null===(G=g.req)||void 0===G?void 0:G.upgradeOrConnect)},isServerResponse:T,willEmitClose:function j(g){if(!Z(g))return null;const ne=g._writableState||g._readableState;return!ne&&T(g)||!!(ne&&ne.autoDestroy&&ne.emitClose&&!1===ne.closed)},isTransformStream:Q}},39070:(Le,z,E)=>{const m=E(40573),{ArrayPrototypeSlice:x,Error:R,FunctionPrototypeSymbolHasInstance:W,ObjectDefineProperty:S,ObjectDefineProperties:L,ObjectSetPrototypeOf:M,StringPrototypeToLowerCase:N,Symbol:$,SymbolHasInstance:F}=E(2220);Le.exports=T,T.WritableState=y;const{EventEmitter:I}=E(44356),X=E(90845).Stream,{Buffer:V}=E(37945),Z=E(23370),{addAbortSignal:re}=E(55397),{getHighWaterMark:te,getDefaultHighWaterMark:Q}=E(43909),{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:oe,ERR_MULTIPLE_CALLBACK:se,ERR_STREAM_CANNOT_PIPE:ae,ERR_STREAM_DESTROYED:pe,ERR_STREAM_ALREADY_FINISHED:le,ERR_STREAM_NULL_VALUES:ve,ERR_STREAM_WRITE_AFTER_END:we,ERR_UNKNOWN_ENCODING:De}=E(85833).codes,{errorOrDestroy:k}=Z;function u(){}M(T.prototype,X.prototype),M(T,X);const h=$("kOnFinished");function y(he,fe,ee){"boolean"!=typeof ee&&(ee=fe instanceof E(85892)),this.objectMode=!(!he||!he.objectMode),ee&&(this.objectMode=this.objectMode||!(!he||!he.writableObjectMode)),this.highWaterMark=he?te(this,he,"writableHighWaterMark",ee):Q(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(he&&!1===he.decodeStrings),this.defaultEncoding=he&&he.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=g.bind(void 0,fe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,w(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!he||!1!==he.emitClose,this.autoDestroy=!he||!1!==he.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[h]=[]}function w(he){he.buffered=[],he.bufferedIndex=0,he.allBuffers=!0,he.allNoop=!0}function T(he){const fe=this instanceof E(85892);if(!fe&&!W(T,this))return new T(he);this._writableState=new y(he,this,fe),he&&("function"==typeof he.write&&(this._write=he.write),"function"==typeof he.writev&&(this._writev=he.writev),"function"==typeof he.destroy&&(this._destroy=he.destroy),"function"==typeof he.final&&(this._final=he.final),"function"==typeof he.construct&&(this._construct=he.construct),he.signal&&re(he.signal,this)),X.call(this,he),Z.construct(this,()=>{const ee=this._writableState;ee.writing||ce(this,ee),Ee(this,ee)})}function D(he,fe,ee,ie){const ue=he._writableState;if("function"==typeof ee)ie=ee,ee=ue.defaultEncoding;else{if(ee){if("buffer"!==ee&&!V.isEncoding(ee))throw new De(ee)}else ee=ue.defaultEncoding;"function"!=typeof ie&&(ie=u)}if(null===fe)throw new ve;if(!ue.objectMode)if("string"==typeof fe)!1!==ue.decodeStrings&&(fe=V.from(fe,ee),ee="buffer");else if(fe instanceof V)ee="buffer";else{if(!X._isUint8Array(fe))throw new J("chunk",["string","Buffer","Uint8Array"],fe);fe=X._uint8ArrayToBuffer(fe),ee="buffer"}let be;return ue.ending?be=new we:ue.destroyed&&(be=new pe("write")),be?(m.nextTick(ie,be),k(he,be,!0),be):(ue.pendingcb++,function j(he,fe,ee,ie,ue){const be=fe.objectMode?1:ee.length;fe.length+=be;const Ie=fe.length<fe.highWaterMark;return Ie||(fe.needDrain=!0),fe.writing||fe.corked||fe.errored||!fe.constructed?(fe.buffered.push({chunk:ee,encoding:ie,callback:ue}),fe.allBuffers&&"buffer"!==ie&&(fe.allBuffers=!1),fe.allNoop&&ue!==u&&(fe.allNoop=!1)):(fe.writelen=be,fe.writecb=ue,fe.writing=!0,fe.sync=!0,he._write(ee,ie,fe.onwrite),fe.sync=!1),Ie&&!fe.errored&&!fe.destroyed}(he,ue,fe,ee,ie))}function A(he,fe,ee,ie,ue,be,Ie){fe.writelen=ie,fe.writecb=Ie,fe.writing=!0,fe.sync=!0,fe.destroyed?fe.onwrite(new pe("write")):ee?he._writev(ue,fe.onwrite):he._write(ue,be,fe.onwrite),fe.sync=!1}function l(he,fe,ee,ie){--fe.pendingcb,ie(ee),ne(fe),k(he,ee)}function g(he,fe){const ee=he._writableState,ie=ee.sync,ue=ee.writecb;"function"==typeof ue?(ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0,fe?(ee.errored||(ee.errored=fe),he._readableState&&!he._readableState.errored&&(he._readableState.errored=fe),ie?m.nextTick(l,he,ee,fe,ue):l(he,ee,fe,ue)):(ee.buffered.length>ee.bufferedIndex&&ce(he,ee),ie?null!==ee.afterWriteTickInfo&&ee.afterWriteTickInfo.cb===ue?ee.afterWriteTickInfo.count++:(ee.afterWriteTickInfo={count:1,cb:ue,stream:he,state:ee},m.nextTick(G,ee.afterWriteTickInfo)):H(he,ee,1,ue))):k(he,new se)}function G({stream:he,state:fe,count:ee,cb:ie}){return fe.afterWriteTickInfo=null,H(he,fe,ee,ie)}function H(he,fe,ee,ie){for(!fe.ending&&!he.destroyed&&0===fe.length&&fe.needDrain&&(fe.needDrain=!1,he.emit("drain"));ee-- >0;)fe.pendingcb--,ie();fe.destroyed&&ne(fe),Ee(he,fe)}function ne(he){if(he.writing)return;for(let ue=he.bufferedIndex;ue<he.buffered.length;++ue){var fe;const{chunk:be,callback:Ie}=he.buffered[ue];he.length-=he.objectMode?1:be.length,Ie(null!==(fe=he.errored)&&void 0!==fe?fe:new pe("write"))}const ee=he[h].splice(0);for(let ue=0;ue<ee.length;ue++){var ie;ee[ue](null!==(ie=he.errored)&&void 0!==ie?ie:new pe("end"))}w(he)}function ce(he,fe){if(fe.corked||fe.bufferProcessing||fe.destroyed||!fe.constructed)return;const{buffered:ee,bufferedIndex:ie,objectMode:ue}=fe,be=ee.length-ie;if(!be)return;let Ie=ie;if(fe.bufferProcessing=!0,be>1&&he._writev){fe.pendingcb-=be-1;const Ne=fe.allNoop?u:yt=>{for(let Ke=Ie;Ke<ee.length;++Ke)ee[Ke].callback(yt)},Be=fe.allNoop&&0===Ie?ee:x(ee,Ie);Be.allBuffers=fe.allBuffers,A(he,fe,!0,fe.length,Be,"",Ne),w(fe)}else{do{const{chunk:Ne,encoding:Be,callback:yt}=ee[Ie];ee[Ie++]=null,A(he,fe,!1,ue?1:Ne.length,Ne,Be,yt)}while(Ie<ee.length&&!fe.writing);Ie===ee.length?w(fe):Ie>256?(ee.splice(0,Ie),fe.bufferedIndex=0):fe.bufferedIndex=Ie}fe.bufferProcessing=!1}function Ae(he){return he.ending&&!he.destroyed&&he.constructed&&0===he.length&&!he.errored&&0===he.buffered.length&&!he.finished&&!he.writing&&!he.errorEmitted&&!he.closeEmitted}function Ee(he,fe,ee){Ae(fe)&&(function Fe(he,fe){!fe.prefinished&&!fe.finalCalled&&("function"!=typeof he._final||fe.destroyed?(fe.prefinished=!0,he.emit("prefinish")):(fe.finalCalled=!0,function ke(he,fe){let ee=!1;function ie(ue){if(ee)k(he,ue??se());else if(ee=!0,fe.pendingcb--,ue){const be=fe[h].splice(0);for(let Ie=0;Ie<be.length;Ie++)be[Ie](ue);k(he,ue,fe.sync)}else Ae(fe)&&(fe.prefinished=!0,he.emit("prefinish"),fe.pendingcb++,m.nextTick(ge,he,fe))}fe.sync=!0,fe.pendingcb++;try{he._final(ie)}catch(ue){ie(ue)}fe.sync=!1}(he,fe)))}(he,fe),0===fe.pendingcb&&(ee?(fe.pendingcb++,m.nextTick((ie,ue)=>{Ae(ue)?ge(ie,ue):ue.pendingcb--},he,fe)):Ae(fe)&&(fe.pendingcb++,ge(he,fe))))}function ge(he,fe){fe.pendingcb--,fe.finished=!0;const ee=fe[h].splice(0);for(let ie=0;ie<ee.length;ie++)ee[ie]();if(he.emit("finish"),fe.autoDestroy){const ie=he._readableState;(!ie||ie.autoDestroy&&(ie.endEmitted||!1===ie.readable))&&he.destroy()}}y.prototype.getBuffer=function(){return x(this.buffered,this.bufferedIndex)},S(y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),S(T,F,{__proto__:null,value:function(he){return!!W(this,he)||this===T&&he&&he._writableState instanceof y}}),T.prototype.pipe=function(){k(this,new ae)},T.prototype.write=function(he,fe,ee){return!0===D(this,he,fe,ee)},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){const he=this._writableState;he.corked&&(he.corked--,he.writing||ce(this,he))},T.prototype.setDefaultEncoding=function(fe){if("string"==typeof fe&&(fe=N(fe)),!V.isEncoding(fe))throw new De(fe);return this._writableState.defaultEncoding=fe,this},T.prototype._write=function(he,fe,ee){if(!this._writev)throw new oe("_write()");this._writev([{chunk:he,encoding:fe}],ee)},T.prototype._writev=null,T.prototype.end=function(he,fe,ee){const ie=this._writableState;let ue;if("function"==typeof he?(ee=he,he=null,fe=null):"function"==typeof fe&&(ee=fe,fe=null),null!=he){const be=D(this,he,fe);be instanceof R&&(ue=be)}return ie.corked&&(ie.corked=1,this.uncork()),ue||(ie.errored||ie.ending?ie.finished?ue=new le("end"):ie.destroyed&&(ue=new pe("end")):(ie.ending=!0,Ee(this,ie,!0),ie.ended=!0)),"function"==typeof ee&&(ue||ie.finished?m.nextTick(ee,ue):ie[h].push(ee)),this},L(T.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(he){this._writableState&&(this._writableState.destroyed=he)}},writable:{__proto__:null,get(){const he=this._writableState;return!(!he||!1===he.writable||he.destroyed||he.errored||he.ending||he.ended)},set(he){this._writableState&&(this._writableState.writable=!!he)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const he=this._writableState;return!!he&&!he.destroyed&&!he.ending&&he.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const Oe=Z.destroy;let ye;function Se(){return void 0===ye&&(ye={}),ye}T.prototype.destroy=function(he,fe){const ee=this._writableState;return!ee.destroyed&&(ee.bufferedIndex<ee.buffered.length||ee[h].length)&&m.nextTick(ne,ee),Oe.call(this,he,fe),this},T.prototype._undestroy=Z.undestroy,T.prototype._destroy=function(he,fe){fe(he)},T.prototype[I.captureRejectionSymbol]=function(he){this.destroy(he)},T.fromWeb=function(he,fe){return Se().newStreamWritableFromWritableStream(he,fe)},T.toWeb=function(he){return Se().newWritableStreamFromStreamWritable(he)}},48119:(Le,z,E)=>{"use strict";const{ArrayIsArray:m,ArrayPrototypeIncludes:x,ArrayPrototypeJoin:R,ArrayPrototypeMap:W,NumberIsInteger:S,NumberIsNaN:L,NumberMAX_SAFE_INTEGER:M,NumberMIN_SAFE_INTEGER:N,NumberParseInt:$,ObjectPrototypeHasOwnProperty:F,RegExpPrototypeExec:I,String:X,StringPrototypeToUpperCase:V,StringPrototypeTrim:Z}=E(2220),{hideStackFrames:re,codes:{ERR_SOCKET_BAD_PORT:te,ERR_INVALID_ARG_TYPE:Q,ERR_INVALID_ARG_VALUE:J,ERR_OUT_OF_RANGE:oe,ERR_UNKNOWN_SIGNAL:se}}=E(85833),{normalizeEncoding:ae}=E(82578),{isAsyncFunction:pe,isArrayBufferView:le}=E(82578).types,ve={},k=/^[0-7]+$/,y=re((be,Ie,Ne=N,Be=M)=>{if("number"!=typeof be)throw new Q(Ie,"number",be);if(!S(be))throw new oe(Ie,"an integer",be);if(be<Ne||be>Be)throw new oe(Ie,`>= ${Ne} && <= ${Be}`,be)}),w=re((be,Ie,Ne=-2147483648,Be=2147483647)=>{if("number"!=typeof be)throw new Q(Ie,"number",be);if(!S(be))throw new oe(Ie,"an integer",be);if(be<Ne||be>Be)throw new oe(Ie,`>= ${Ne} && <= ${Be}`,be)}),T=re((be,Ie,Ne=!1)=>{if("number"!=typeof be)throw new Q(Ie,"number",be);if(!S(be))throw new oe(Ie,"an integer",be);const Be=Ne?1:0,yt=4294967295;if(be<Be||be>yt)throw new oe(Ie,`>= ${Be} && <= ${yt}`,be)});function D(be,Ie){if("string"!=typeof be)throw new Q(Ie,"string",be)}const A=re((be,Ie,Ne)=>{if(!x(Ne,be)){const yt="must be one of: "+R(W(Ne,Ke=>"string"==typeof Ke?`'${Ke}'`:X(Ke)),", ");throw new J(Ie,be,yt)}});function l(be,Ie){if("boolean"!=typeof be)throw new Q(Ie,"boolean",be)}function g(be,Ie,Ne){return null!=be&&F(be,Ie)?be[Ie]:Ne}const G=re((be,Ie,Ne=null)=>{const Be=g(Ne,"allowArray",!1),yt=g(Ne,"allowFunction",!1);if(!g(Ne,"nullable",!1)&&null===be||!Be&&m(be)||"object"!=typeof be&&(!yt||"function"!=typeof be))throw new Q(Ie,"Object",be)}),H=re((be,Ie)=>{if(null!=be&&"object"!=typeof be&&"function"!=typeof be)throw new Q(Ie,"a dictionary",be)}),ne=re((be,Ie,Ne=0)=>{if(!m(be))throw new Q(Ie,"Array",be);if(be.length<Ne)throw new J(Ie,be,`must be longer than ${Ne}`)}),Fe=re((be,Ie="buffer")=>{if(!le(be))throw new Q(Ie,["Buffer","TypedArray","DataView"],be)}),Oe=re((be,Ie)=>{if(void 0!==be&&(null===be||"object"!=typeof be||!("aborted"in be)))throw new Q(Ie,"AbortSignal",be)}),ye=re((be,Ie)=>{if("function"!=typeof be)throw new Q(Ie,"Function",be)}),Se=re((be,Ie)=>{if("function"!=typeof be||pe(be))throw new Q(Ie,"Function",be)}),he=re((be,Ie)=>{if(void 0!==be)throw new Q(Ie,"undefined",be)}),ee=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ie(be,Ie){if(typeof be>"u"||!I(ee,be))throw new J(Ie,be,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Le.exports={isInt32:function we(be){return be===(0|be)},isUint32:function De(be){return be===be>>>0},parseFileMode:function h(be,Ie,Ne){if(typeof be>"u"&&(be=Ne),"string"==typeof be){if(null===I(k,be))throw new J(Ie,be,"must be a 32-bit unsigned integer or an octal string");be=$(be,8)}return T(be,Ie),be},validateArray:ne,validateStringArray:function ce(be,Ie){ne(be,Ie);for(let Ne=0;Ne<be.length;Ne++)D(be[Ne],`${Ie}[${Ne}]`)},validateBooleanArray:function Ae(be,Ie){ne(be,Ie);for(let Ne=0;Ne<be.length;Ne++)l(be[Ne],`${Ie}[${Ne}]`)},validateBoolean:l,validateBuffer:Fe,validateDictionary:H,validateEncoding:function Ee(be,Ie){const Ne=ae(Ie),Be=be.length;if("hex"===Ne&&Be%2!=0)throw new J("encoding",Ie,`is invalid for data of length ${Be}`)},validateFunction:ye,validateInt32:w,validateInteger:y,validateNumber:function j(be,Ie,Ne=void 0,Be){if("number"!=typeof be)throw new Q(Ie,"number",be);if(null!=Ne&&be<Ne||null!=Be&&be>Be||(null!=Ne||null!=Be)&&L(be))throw new oe(Ie,`${null!=Ne?`>= ${Ne}`:""}${null!=Ne&&null!=Be?" && ":""}${null!=Be?`<= ${Be}`:""}`,be)},validateObject:G,validateOneOf:A,validatePlainFunction:Se,validatePort:function ge(be,Ie="Port",Ne=!0){if("number"!=typeof be&&"string"!=typeof be||"string"==typeof be&&0===Z(be).length||+be!=+be>>>0||be>65535||0===be&&!Ne)throw new te(Ie,be,Ne);return 0|be},validateSignalName:function ke(be,Ie="signal"){if(D(be,Ie),void 0===ve[be])throw void 0!==ve[V(be)]?new se(be+" (signals must use all capital letters)"):new se(be)},validateString:D,validateUint32:T,validateUndefined:he,validateUnion:function fe(be,Ie,Ne){if(!x(Ne,be))throw new Q(Ie,`('${R(Ne,"|")}')`,be)},validateAbortSignal:Oe,validateLinkHeaderValue:function ue(be){if("string"==typeof be)return ie(be,"hints"),be;if(m(be)){const Ie=be.length;let Ne="";if(0===Ie)return Ne;for(let Be=0;Be<Ie;Be++){const yt=be[Be];ie(yt,"hints"),Ne+=yt,Be!==Ie-1&&(Ne+=", ")}return Ne}throw new J("hints",be,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},80868:(Le,z,E)=>{"use strict";const m=E(59800),x=E(4581),R=m.Readable.destroy;Le.exports=m.Readable,Le.exports._uint8ArrayToBuffer=m._uint8ArrayToBuffer,Le.exports._isUint8Array=m._isUint8Array,Le.exports.isDisturbed=m.isDisturbed,Le.exports.isErrored=m.isErrored,Le.exports.isReadable=m.isReadable,Le.exports.Readable=m.Readable,Le.exports.Writable=m.Writable,Le.exports.Duplex=m.Duplex,Le.exports.Transform=m.Transform,Le.exports.PassThrough=m.PassThrough,Le.exports.addAbortSignal=m.addAbortSignal,Le.exports.finished=m.finished,Le.exports.destroy=m.destroy,Le.exports.destroy=R,Le.exports.pipeline=m.pipeline,Le.exports.compose=m.compose,Object.defineProperty(m,"promises",{configurable:!0,enumerable:!0,get:()=>x}),Le.exports.Stream=m.Stream,Le.exports.default=Le.exports},85833:(Le,z,E)=>{"use strict";const{format:m,inspect:x,AggregateError:R}=E(82578),W=globalThis.AggregateError||R,S=Symbol("kIsNodeError"),L=["string","function","number","object","Function","Object","boolean","bigint","symbol"],M=/^([A-Z][a-z0-9]*)+$/,$={};function F(Q,J){if(!Q)throw new $.ERR_INTERNAL_ASSERTION(J)}function I(Q){let J="",oe=Q.length;const se="-"===Q[0]?1:0;for(;oe>=se+4;oe-=3)J=`_${Q.slice(oe-3,oe)}${J}`;return`${Q.slice(0,oe)}${J}`}function V(Q,J,oe){oe||(oe=Error);class se extends oe{constructor(...pe){super(function X(Q,J,oe){if("function"==typeof J)return F(J.length<=oe.length,`Code: ${Q}; The provided arguments length (${oe.length}) does not match the required ones (${J.length}).`),J(...oe);const se=(J.match(/%[dfijoOs]/g)||[]).length;return F(se===oe.length,`Code: ${Q}; The provided arguments length (${oe.length}) does not match the required ones (${se}).`),0===oe.length?J:m(J,...oe)}(Q,J,pe))}toString(){return`${this.name} [${Q}]: ${this.message}`}}Object.defineProperties(se.prototype,{name:{value:oe.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${Q}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),se.prototype.code=Q,se.prototype[S]=!0,$[Q]=se}function Z(Q){return Object.defineProperty(Q,"name",{value:"__node_internal_"+Q.name}),Q}class te extends Error{constructor(J="The operation was aborted",oe=void 0){if(void 0!==oe&&"object"!=typeof oe)throw new $.ERR_INVALID_ARG_TYPE("options","Object",oe);super(J,oe),this.code="ABORT_ERR",this.name="AbortError"}}V("ERR_ASSERTION","%s",Error),V("ERR_INVALID_ARG_TYPE",(Q,J,oe)=>{F("string"==typeof Q,"'name' must be a string"),Array.isArray(J)||(J=[J]);let se="The ";Q.endsWith(" argument")?se+=`${Q} `:se+=`"${Q}" ${Q.includes(".")?"property":"argument"} `,se+="must be ";const ae=[],pe=[],le=[];for(const we of J)F("string"==typeof we,"All expected entries have to be of type string"),L.includes(we)?ae.push(we.toLowerCase()):M.test(we)?pe.push(we):(F("object"!==we,'The value "object" should be written as "Object"'),le.push(we));if(pe.length>0){const we=ae.indexOf("object");-1!==we&&(ae.splice(ae,we,1),pe.push("Object"))}if(ae.length>0){switch(ae.length){case 1:se+=`of type ${ae[0]}`;break;case 2:se+=`one of type ${ae[0]} or ${ae[1]}`;break;default:{const we=ae.pop();se+=`one of type ${ae.join(", ")}, or ${we}`}}(pe.length>0||le.length>0)&&(se+=" or ")}if(pe.length>0){switch(pe.length){case 1:se+=`an instance of ${pe[0]}`;break;case 2:se+=`an instance of ${pe[0]} or ${pe[1]}`;break;default:{const we=pe.pop();se+=`an instance of ${pe.join(", ")}, or ${we}`}}le.length>0&&(se+=" or ")}switch(le.length){case 0:break;case 1:le[0].toLowerCase()!==le[0]&&(se+="an "),se+=`${le[0]}`;break;case 2:se+=`one of ${le[0]} or ${le[1]}`;break;default:{const we=le.pop();se+=`one of ${le.join(", ")}, or ${we}`}}if(null==oe)se+=`. Received ${oe}`;else if("function"==typeof oe&&oe.name)se+=`. Received function ${oe.name}`;else if("object"==typeof oe){var ve;null!==(ve=oe.constructor)&&void 0!==ve&&ve.name?se+=`. Received an instance of ${oe.constructor.name}`:se+=`. Received ${x(oe,{depth:-1})}`}else{let we=x(oe,{colors:!1});we.length>25&&(we=`${we.slice(0,25)}...`),se+=`. Received type ${typeof oe} (${we})`}return se},TypeError),V("ERR_INVALID_ARG_VALUE",(Q,J,oe="is invalid")=>{let se=x(J);return se.length>128&&(se=se.slice(0,128)+"..."),`The ${Q.includes(".")?"property":"argument"} '${Q}' ${oe}. Received ${se}`},TypeError),V("ERR_INVALID_RETURN_VALUE",(Q,J,oe)=>{var se;return`Expected ${Q} to be returned from the "${J}" function but got ${null!=oe&&null!==(se=oe.constructor)&&void 0!==se&&se.name?`instance of ${oe.constructor.name}`:"type "+typeof oe}.`},TypeError),V("ERR_MISSING_ARGS",(...Q)=>{let J;F(Q.length>0,"At least one arg needs to be specified");const oe=Q.length;switch(Q=(Array.isArray(Q)?Q:[Q]).map(se=>`"${se}"`).join(" or "),oe){case 1:J+=`The ${Q[0]} argument`;break;case 2:J+=`The ${Q[0]} and ${Q[1]} arguments`;break;default:{const se=Q.pop();J+=`The ${Q.join(", ")}, and ${se} arguments`}}return`${J} must be specified`},TypeError),V("ERR_OUT_OF_RANGE",(Q,J,oe)=>{let se;return F(J,'Missing "range" argument'),Number.isInteger(oe)&&Math.abs(oe)>2**32?se=I(String(oe)):"bigint"==typeof oe?(se=String(oe),(oe>2n**32n||oe<-(2n**32n))&&(se=I(se)),se+="n"):se=x(oe),`The value of "${Q}" is out of range. It must be ${J}. Received ${se}`},RangeError),V("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),V("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),V("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),V("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),V("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),V("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),V("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),V("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),V("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),V("ERR_STREAM_WRITE_AFTER_END","write after end",Error),V("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Le.exports={AbortError:te,aggregateTwoErrors:Z(function re(Q,J){if(Q&&J&&Q!==J){if(Array.isArray(J.errors))return J.errors.push(Q),J;const oe=new W([J,Q],J.message);return oe.code=J.code,oe}return Q||J}),hideStackFrames:Z,codes:$}},2220:Le=>{"use strict";Le.exports={ArrayIsArray:z=>Array.isArray(z),ArrayPrototypeIncludes:(z,E)=>z.includes(E),ArrayPrototypeIndexOf:(z,E)=>z.indexOf(E),ArrayPrototypeJoin:(z,E)=>z.join(E),ArrayPrototypeMap:(z,E)=>z.map(E),ArrayPrototypePop:(z,E)=>z.pop(E),ArrayPrototypePush:(z,E)=>z.push(E),ArrayPrototypeSlice:(z,E,m)=>z.slice(E,m),Error,FunctionPrototypeCall:(z,E,...m)=>z.call(E,...m),FunctionPrototypeSymbolHasInstance:(z,E)=>Function.prototype[Symbol.hasInstance].call(z,E),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(z,E)=>Object.defineProperties(z,E),ObjectDefineProperty:(z,E,m)=>Object.defineProperty(z,E,m),ObjectGetOwnPropertyDescriptor:(z,E)=>Object.getOwnPropertyDescriptor(z,E),ObjectKeys:z=>Object.keys(z),ObjectSetPrototypeOf:(z,E)=>Object.setPrototypeOf(z,E),Promise,PromisePrototypeCatch:(z,E)=>z.catch(E),PromisePrototypeThen:(z,E,m)=>z.then(E,m),PromiseReject:z=>Promise.reject(z),ReflectApply:Reflect.apply,RegExpPrototypeTest:(z,E)=>z.test(E),SafeSet:Set,String,StringPrototypeSlice:(z,E,m)=>z.slice(E,m),StringPrototypeToLowerCase:z=>z.toLowerCase(),StringPrototypeToUpperCase:z=>z.toUpperCase(),StringPrototypeTrim:z=>z.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(z,E,m)=>z.set(E,m),Uint8Array}},82578:(Le,z,E)=>{"use strict";var m=E(29293).default;const x=E(37945),R=Object.getPrototypeOf(m(function*(){})).constructor,W=globalThis.Blob||x.Blob,S=typeof W<"u"?function(N){return N instanceof W}:function(N){return!1};class L extends Error{constructor(N){if(!Array.isArray(N))throw new TypeError("Expected input to be an Array, got "+typeof N);let $="";for(let F=0;F<N.length;F++)$+=`    ${N[F].stack}\n`;super($),this.name="AggregateError",this.errors=N}}Le.exports={AggregateError:L,kEmptyObject:Object.freeze({}),once(M){let N=!1;return function(...$){N||(N=!0,M.apply(this,$))}},createDeferredPromise:function(){let M,N;return{promise:new Promise((F,I)=>{M=F,N=I}),resolve:M,reject:N}},promisify:M=>new Promise((N,$)=>{M((F,...I)=>F?$(F):N(...I))}),debuglog:()=>function(){},format:(M,...N)=>M.replace(/%([sdifj])/g,function(...[$,F]){const I=N.shift();return"f"===F?I.toFixed(6):"j"===F?JSON.stringify(I):"s"===F&&"object"==typeof I?`${I.constructor!==Object?I.constructor.name:""} {}`.trim():I.toString()}),inspect(M){switch(typeof M){case"string":if(M.includes("'")){if(!M.includes('"'))return`"${M}"`;if(!M.includes("`")&&!M.includes("${"))return`\`${M}\``}return`'${M}'`;case"number":return isNaN(M)?"NaN":Object.is(M,-0)?String(M):M;case"bigint":return`${String(M)}n`;case"boolean":case"undefined":return String(M);case"object":return"{}"}},types:{isAsyncFunction:M=>M instanceof R,isArrayBufferView:M=>ArrayBuffer.isView(M)},isBlob:S},Le.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},59800:(Le,z,E)=>{const{Buffer:m}=E(37945),{ObjectDefineProperty:x,ObjectKeys:R,ReflectApply:W}=E(2220),{promisify:{custom:S}}=E(82578),{streamReturningOperators:L,promiseReturningOperators:M}=E(54705),{codes:{ERR_ILLEGAL_CONSTRUCTOR:N}}=E(85833),$=E(90972),{pipeline:F}=E(63596),{destroyer:I}=E(23370),X=E(68208),Z=E(4581),re=E(76989),te=Le.exports=E(90845).Stream;te.isDisturbed=re.isDisturbed,te.isErrored=re.isErrored,te.isReadable=re.isReadable,te.Readable=E(84730);for(const oe of R(L)){let ae=function(...pe){if(new.target)throw N();return te.Readable.from(W(se,this,pe))};const se=L[oe];x(ae,"name",{__proto__:null,value:se.name}),x(ae,"length",{__proto__:null,value:se.length}),x(te.Readable.prototype,oe,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}for(const oe of R(M)){let ae=function(...le){if(new.target)throw N();return W(se,this,le)};const se=M[oe];x(ae,"name",{__proto__:null,value:se.name}),x(ae,"length",{__proto__:null,value:se.length}),x(te.Readable.prototype,oe,{__proto__:null,value:ae,enumerable:!1,configurable:!0,writable:!0})}te.Writable=E(39070),te.Duplex=E(85892),te.Transform=E(33732),te.PassThrough=E(5358),te.pipeline=F;const{addAbortSignal:Q}=E(55397);te.addAbortSignal=Q,te.finished=X,te.destroy=I,te.compose=$,x(te,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>Z}),x(F,S,{__proto__:null,enumerable:!0,get:()=>Z.pipeline}),x(X,S,{__proto__:null,enumerable:!0,get:()=>Z.finished}),te.Stream=te,te._isUint8Array=function(se){return se instanceof Uint8Array},te._uint8ArrayToBuffer=function(se){return m.from(se.buffer,se.byteOffset,se.byteLength)}},4581:(Le,z,E)=>{"use strict";const{ArrayPrototypePop:m,Promise:x}=E(2220),{isIterable:R,isNodeStream:W,isWebStream:S}=E(76989),{pipelineImpl:L}=E(63596),{finished:M}=E(68208);E(59800),Le.exports={finished:M,pipeline:function N(...$){return new x((F,I)=>{let X,V;const Z=$[$.length-1];if(Z&&"object"==typeof Z&&!W(Z)&&!R(Z)&&!S(Z)){const re=m($);X=re.signal,V=re.end}L($,(re,te)=>{re?I(re):F(te)},{signal:X,end:V})})}}},67449:(Le,z,E)=>{z.Level=E(23963).BrowserLevel},97829:Le=>{var z=1e3,E=60*z,m=60*E,x=24*m,R=7*x;function N($,F,I,X){var V=F>=1.5*I;return Math.round($/I)+" "+X+(V?"s":"")}Le.exports=function($,F){F=F||{};var I=typeof $;if("string"===I&&$.length>0)return function S($){if(!(($=String($)).length>100)){var F=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(F){var I=parseFloat(F[1]);switch((F[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*I;case"weeks":case"week":case"w":return I*R;case"days":case"day":case"d":return I*x;case"hours":case"hour":case"hrs":case"hr":case"h":return I*m;case"minutes":case"minute":case"mins":case"min":case"m":return I*E;case"seconds":case"second":case"secs":case"sec":case"s":return I*z;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return I;default:return}}}}($);if("number"===I&&isFinite($))return F.long?function M($){var F=Math.abs($);return F>=x?N($,F,x,"day"):F>=m?N($,F,m,"hour"):F>=E?N($,F,E,"minute"):F>=z?N($,F,z,"second"):$+" ms"}($):function L($){var F=Math.abs($);return F>=x?Math.round($/x)+"d":F>=m?Math.round($/m)+"h":F>=E?Math.round($/E)+"m":F>=z?Math.round($/z)+"s":$+"ms"}($);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))}},9465:Le=>{"use strict";const{AbortController:z,AbortSignal:E}=typeof self<"u"?self:typeof window<"u"?window:void 0;Le.exports=z,Le.exports.AbortSignal=E,Le.exports.default=z},91463:(Le,z,E)=>{"use strict";const{fromCallback:m}=E(42381),x=E(61747),{getCallback:R,getOptions:W}=E(32856),S=Symbol("promise"),L=Symbol("status"),M=Symbol("operations"),N=Symbol("finishClose"),$=Symbol("closeCallbacks");z.AbstractChainedBatch=class F{constructor(X){if("object"!=typeof X||null===X)throw new TypeError("The first argument must be an abstract-level database, received "+(null===X?"null":typeof X));this[M]=[],this[$]=[],this[L]="open",this[N]=this[N].bind(this),this.db=X,this.db.attachResource(this),this.nextTick=X.nextTick}get length(){return this[M].length}put(X,V,Z){if("open"!==this[L])throw new x("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const re=this.db._checkKey(X)||this.db._checkValue(V);if(re)throw re;const te=Z&&null!=Z.sublevel?Z.sublevel:this.db,Q=Z,J=te.keyEncoding(Z&&Z.keyEncoding),oe=te.valueEncoding(Z&&Z.valueEncoding),se=J.format;Z={...Z,keyEncoding:se,valueEncoding:oe.format},te!==this.db&&(Z.sublevel=null);const ae=te.prefixKey(J.encode(X),se),pe=oe.encode(V);return this._put(ae,pe,Z),this[M].push({...Q,type:"put",key:X,value:V}),this}_put(X,V,Z){}del(X,V){if("open"!==this[L])throw new x("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const Z=this.db._checkKey(X);if(Z)throw Z;const re=V&&null!=V.sublevel?V.sublevel:this.db,te=V,Q=re.keyEncoding(V&&V.keyEncoding),J=Q.format;return V={...V,keyEncoding:J},re!==this.db&&(V.sublevel=null),this._del(re.prefixKey(Q.encode(X),J),V),this[M].push({...te,type:"del",key:X}),this}_del(X,V){}clear(){if("open"!==this[L])throw new x("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[M]=[],this}_clear(){}write(X,V){return V=R(X,V),V=m(V,S),X=W(X),"open"!==this[L]?this.nextTick(V,new x("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):0===this.length?this.close(V):(this[L]="writing",this._write(X,Z=>{this[L]="closing",this[$].push(()=>V(Z)),Z||this.db.emit("batch",this[M]),this._close(this[N])})),V[S]}_write(X,V){}close(X){return X=m(X,S),"closing"===this[L]?this[$].push(X):"closed"===this[L]?this.nextTick(X):(this[$].push(X),"writing"!==this[L]&&(this[L]="closing",this._close(this[N]))),X[S]}_close(X){this.nextTick(X)}[N](){this[L]="closed",this.db.detachResource(this);const X=this[$];this[$]=[];for(const V of X)V()}}},63294:(Le,z,E)=>{"use strict";var m=E(53344).default,x=E(42958).default;const{fromCallback:R}=E(42381),W=E(61747),{getOptions:S,getCallback:L}=E(32856),M=Symbol("promise"),N=Symbol("callback"),$=Symbol("working"),F=Symbol("handleOne"),I=Symbol("handleMany"),X=Symbol("autoClose"),V=Symbol("finishWork"),Z=Symbol("returnMany"),re=Symbol("closing"),te=Symbol("handleClose"),Q=Symbol("closed"),J=Symbol("closeCallbacks"),oe=Symbol("keyEncoding"),se=Symbol("valueEncoding"),ae=Symbol("abortOnClose"),pe=Symbol("legacy"),le=Symbol("keys"),ve=Symbol("values"),we=Symbol("limit"),De=Symbol("count"),k=Object.freeze({}),u=()=>{};let h=!1;class y{constructor(l,g,G){if("object"!=typeof l||null===l)throw new TypeError("The first argument must be an abstract-level database, received "+(null===l?"null":typeof l));if("object"!=typeof g||null===g)throw new TypeError("The second argument must be an options object");this[Q]=!1,this[J]=[],this[$]=!1,this[re]=!1,this[X]=!1,this[N]=null,this[F]=this[F].bind(this),this[I]=this[I].bind(this),this[te]=this[te].bind(this),this[oe]=g[oe],this[se]=g[se],this[pe]=G,this[we]=Number.isInteger(g.limit)&&g.limit>=0?g.limit:1/0,this[De]=0,this[ae]=!!g.abortOnClose,this.db=l,this.db.attachResource(this),this.nextTick=l.nextTick}get count(){return this[De]}get limit(){return this[we]}next(l){let g;if(void 0===l)g=new Promise((G,H)=>{l=(ne,ce,Ae)=>{ne?H(ne):this[pe]?void 0===ce&&void 0===Ae?G():G([ce,Ae]):G(ce)}});else if("function"!=typeof l)throw new TypeError("Callback must be a function");return this[re]?this.nextTick(l,new W("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[$]?this.nextTick(l,new W("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[$]=!0,this[N]=l,this[De]>=this[we]?this.nextTick(this[F],null):this._next(this[F])),g}_next(l){this.nextTick(l)}nextv(l,g,G){return G=L(g,G),G=R(G,M),g=S(g,k),Number.isInteger(l)?(this[re]?this.nextTick(G,new W("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[$]?this.nextTick(G,new W("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(l<1&&(l=1),this[we]<1/0&&(l=Math.min(l,this[we]-this[De])),this[$]=!0,this[N]=G,l<=0?this.nextTick(this[I],null,[]):this._nextv(l,g,this[I])),G[M]):(this.nextTick(G,new TypeError("The first argument 'size' must be an integer")),G[M])}_nextv(l,g,G){const H=[],ne=(ce,Ae,ke)=>ce?G(ce):(this[pe]?void 0===Ae&&void 0===ke:void 0===Ae)?G(null,H):(H.push(this[pe]?[Ae,ke]:Ae),void(H.length===l?G(null,H):this._next(ne)));this._next(ne)}all(l,g){return g=L(l,g),g=R(g,M),l=S(l,k),this[re]?this.nextTick(g,new W("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[$]?this.nextTick(g,new W("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[$]=!0,this[N]=g,this[X]=!0,this[De]>=this[we]?this.nextTick(this[I],null,[]):this._all(l,this[I])),g[M]}_all(l,g){let G=this[De];const H=[],ne=()=>{const Ae=this[we]<1/0?Math.min(1e3,this[we]-G):1e3;Ae<=0?this.nextTick(g,null,H):this._nextv(Ae,k,ce)},ce=(Ae,ke)=>{Ae?g(Ae):0===ke.length?g(null,H):(H.push.apply(H,ke),G+=ke.length,ne())};ne()}[V](){const l=this[N];return this[ae]&&null===l?u:(this[$]=!1,this[N]=null,this[re]&&this._close(this[te]),l)}[Z](l,g,G){this[X]?this.close(l.bind(null,g,G)):l(g,G)}seek(l,g){if(g=S(g,k),!this[re]){if(this[$])throw new W("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const G=this.db.keyEncoding(g.keyEncoding||this[oe]),H=G.format;g.keyEncoding!==H&&(g={...g,keyEncoding:H});const ne=this.db.prefixKey(G.encode(l),H);this._seek(ne,g)}}}_seek(l,g){throw new W("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(l){return l=R(l,M),this[Q]?this.nextTick(l):this[re]?this[J].push(l):(this[re]=!0,this[J].push(l),this[$]?this[ae]&&this[V]()(new W("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[te])),l[M]}_close(l){this.nextTick(l)}[te](){this[Q]=!0,this.db.detachResource(this);const l=this[J];this[J]=[];for(const g of l)g()}[Symbol.asyncIterator](){var l=this;return x(function*(){try{let g;for(;void 0!==(g=yield m(l.next()));)yield g}finally{l[Q]||(yield m(l.close()))}})()}}class w extends y{constructor(l,g){super(l,g,!0),this[le]=!1!==g.keys,this[ve]=!1!==g.values}[F](l,g,G){const H=this[V]();if(l)return H(l);try{g=this[le]&&void 0!==g?this[oe].decode(g):void 0,G=this[ve]&&void 0!==G?this[se].decode(G):void 0}catch(ne){return H(new j("entry",ne))}void 0===g&&void 0===G||this[De]++,H(null,g,G)}[I](l,g){const G=this[V]();if(l)return this[Z](G,l);try{for(const H of g){const ne=H[0],ce=H[1];H[0]=this[le]&&void 0!==ne?this[oe].decode(ne):void 0,H[1]=this[ve]&&void 0!==ce?this[se].decode(ce):void 0}}catch(H){return this[Z](G,new j("entries",H))}this[De]+=g.length,this[Z](G,null,g)}end(l){return!h&&typeof console<"u"&&(h=!0,console.warn(new W("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(l)}}class j extends W{constructor(l,g){super(`Iterator could not decode ${l}`,{code:"LEVEL_DECODE_ERROR",cause:g})}}for(const A of["_ended property","_nexting property","_end method"])Object.defineProperty(w.prototype,A.split(" ")[0],{get(){throw new W(`The ${A} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new W(`The ${A} has been removed`,{code:"LEVEL_LEGACY"})}});w.keyEncoding=oe,w.valueEncoding=se,z.AbstractIterator=w,z.AbstractKeyIterator=class T extends y{constructor(l,g){super(l,g,!1)}[F](l,g){const G=this[V]();if(l)return G(l);try{g=void 0!==g?this[oe].decode(g):void 0}catch(H){return G(new j("key",H))}void 0!==g&&this[De]++,G(null,g)}[I](l,g){const G=this[V]();if(l)return this[Z](G,l);try{for(let H=0;H<g.length;H++){const ne=g[H];g[H]=void 0!==ne?this[oe].decode(ne):void 0}}catch(H){return this[Z](G,new j("keys",H))}this[De]+=g.length,this[Z](G,null,g)}},z.AbstractValueIterator=class D extends y{constructor(l,g){super(l,g,!1)}[F](l,g){const G=this[V]();if(l)return G(l);try{g=void 0!==g?this[se].decode(g):void 0}catch(H){return G(new j("value",H))}void 0!==g&&this[De]++,G(null,g)}[I](l,g){const G=this[V]();if(l)return this[Z](G,l);try{for(let H=0;H<g.length;H++){const ne=g[H];g[H]=void 0!==ne?this[se].decode(ne):void 0}}catch(H){return this[Z](G,new j("values",H))}this[De]+=g.length,this[Z](G,null,g)}}},83764:(Le,z,E)=>{"use strict";const{supports:m}=E(89061),{Transcoder:x}=E(25006),{EventEmitter:R}=E(44356),{fromCallback:W}=E(42381),S=E(61747),{AbstractIterator:L}=E(63294),{DefaultKeyIterator:M,DefaultValueIterator:N}=E(48335),{DeferredIterator:$,DeferredKeyIterator:F,DeferredValueIterator:I}=E(92745),{DefaultChainedBatch:X}=E(45776),{getCallback:V,getOptions:Z}=E(32856),re=E(4287),te=Symbol("promise"),Q=Symbol("landed"),J=Symbol("resources"),oe=Symbol("closeResources"),se=Symbol("operations"),ae=Symbol("undefer"),pe=Symbol("deferOpen"),le=Symbol("options"),ve=Symbol("status"),we=Symbol("defaultOptions"),De=Symbol("transcoder"),k=Symbol("keyEncoding"),u=Symbol("valueEncoding"),h=()=>{};class y extends R{constructor(A,l){if(super(),"object"!=typeof A||null===A)throw new TypeError("The first argument 'manifest' must be an object");l=Z(l);const{keyEncoding:g,valueEncoding:G,passive:H,...ne}=l;this[J]=new Set,this[se]=[],this[pe]=!0,this[le]=ne,this[ve]="opening",this.supports=m(A,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:!1!==A.snapshots,permanence:!1!==A.permanence,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:A.encodings||{},events:Object.assign({},A.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[De]=new x(D(this)),this[k]=this[De].encoding(g||"utf8"),this[u]=this[De].encoding(G||"utf8");for(const ce of this[De].encodings())this.supports.encodings[ce.commonName]||(this.supports.encodings[ce.commonName]=!0);this[we]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[k].commonName,valueEncoding:this[u].commonName}),key:Object.freeze({keyEncoding:this[k].commonName})},this.nextTick(()=>{this[pe]&&this.open({passive:!1},h)})}get status(){return this[ve]}keyEncoding(A){return this[De].encoding(A??this[k])}valueEncoding(A){return this[De].encoding(A??this[u])}open(A,l){l=V(A,l),l=W(l,te),(A={...this[le],...Z(A)}).createIfMissing=!1!==A.createIfMissing,A.errorIfExists=!!A.errorIfExists;const g=G=>{"closing"===this[ve]||"opening"===this[ve]?this.once(Q,G?()=>g(G):g):"open"!==this[ve]?l(new S("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:G})):l()};return A.passive?"opening"===this[ve]?this.once(Q,g):this.nextTick(g):"closed"===this[ve]||this[pe]?(this[pe]=!1,this[ve]="opening",this.emit("opening"),this._open(A,G=>{if(G)return this[ve]="closed",this[oe](()=>{this.emit(Q),g(G)}),void this[ae]();this[ve]="open",this[ae](),this.emit(Q),"open"===this[ve]&&this.emit("open"),"open"===this[ve]&&this.emit("ready"),g()})):"open"===this[ve]?this.nextTick(g):this.once(Q,()=>this.open(A,l)),l[te]}_open(A,l){this.nextTick(l)}close(A){A=W(A,te);const l=g=>{"opening"===this[ve]||"closing"===this[ve]?this.once(Q,g?l(g):l):"closed"!==this[ve]?A(new S("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:g})):A()};if("open"===this[ve]){this[ve]="closing",this.emit("closing");const g=G=>{this[ve]="open",this[ae](),this.emit(Q),l(G)};this[oe](()=>{this._close(G=>{if(G)return g(G);this[ve]="closed",this[ae](),this.emit(Q),"closed"===this[ve]&&this.emit("closed"),l()})})}else"closed"===this[ve]?this.nextTick(l):this.once(Q,()=>this.close(A));return A[te]}[oe](A){if(0===this[J].size)return this.nextTick(A);let l=this[J].size,g=!0;const G=()=>{0==--l&&(g?this.nextTick(A):A())};for(const H of this[J])H.close(G);g=!1,this[J].clear()}_close(A){this.nextTick(A)}get(A,l,g){if(g=V(l,g),g=W(g,te),l=Z(l,this[we].entry),"opening"===this[ve])return this.defer(()=>this.get(A,l,g)),g[te];if(T(this,g))return g[te];const G=this._checkKey(A);if(G)return this.nextTick(g,G),g[te];const H=this.keyEncoding(l.keyEncoding),ne=this.valueEncoding(l.valueEncoding),ce=H.format,Ae=ne.format;return(l.keyEncoding!==ce||l.valueEncoding!==Ae)&&(l=Object.assign({},l,{keyEncoding:ce,valueEncoding:Ae})),this._get(this.prefixKey(H.encode(A),ce),l,(ke,Fe)=>{if(ke)return("LEVEL_NOT_FOUND"===ke.code||ke.notFound||/NotFound/i.test(ke))&&(ke.code||(ke.code="LEVEL_NOT_FOUND"),ke.notFound||(ke.notFound=!0),ke.status||(ke.status=404)),g(ke);try{Fe=ne.decode(Fe)}catch(Ee){return g(new S("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:Ee}))}g(null,Fe)}),g[te]}_get(A,l,g){this.nextTick(g,new Error("NotFound"))}getMany(A,l,g){if(g=V(l,g),g=W(g,te),l=Z(l,this[we].entry),"opening"===this[ve])return this.defer(()=>this.getMany(A,l,g)),g[te];if(T(this,g))return g[te];if(!Array.isArray(A))return this.nextTick(g,new TypeError("The first argument 'keys' must be an array")),g[te];if(0===A.length)return this.nextTick(g,null,[]),g[te];const G=this.keyEncoding(l.keyEncoding),H=this.valueEncoding(l.valueEncoding),ne=G.format,ce=H.format;(l.keyEncoding!==ne||l.valueEncoding!==ce)&&(l=Object.assign({},l,{keyEncoding:ne,valueEncoding:ce}));const Ae=new Array(A.length);for(let ke=0;ke<A.length;ke++){const Fe=A[ke],Ee=this._checkKey(Fe);if(Ee)return this.nextTick(g,Ee),g[te];Ae[ke]=this.prefixKey(G.encode(Fe),ne)}return this._getMany(Ae,l,(ke,Fe)=>{if(ke)return g(ke);try{for(let Ee=0;Ee<Fe.length;Ee++)void 0!==Fe[Ee]&&(Fe[Ee]=H.decode(Fe[Ee]))}catch(Ee){return g(new S(`Could not decode one or more of ${Fe.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:Ee}))}g(null,Fe)}),g[te]}_getMany(A,l,g){this.nextTick(g,null,new Array(A.length).fill(void 0))}put(A,l,g,G){if(G=V(g,G),G=W(G,te),g=Z(g,this[we].entry),"opening"===this[ve])return this.defer(()=>this.put(A,l,g,G)),G[te];if(T(this,G))return G[te];const H=this._checkKey(A)||this._checkValue(l);if(H)return this.nextTick(G,H),G[te];const ne=this.keyEncoding(g.keyEncoding),ce=this.valueEncoding(g.valueEncoding),Ae=ne.format,ke=ce.format;(g.keyEncoding!==Ae||g.valueEncoding!==ke)&&(g=Object.assign({},g,{keyEncoding:Ae,valueEncoding:ke}));const Fe=this.prefixKey(ne.encode(A),Ae),Ee=ce.encode(l);return this._put(Fe,Ee,g,ge=>{if(ge)return G(ge);this.emit("put",A,l),G()}),G[te]}_put(A,l,g,G){this.nextTick(G)}del(A,l,g){if(g=V(l,g),g=W(g,te),l=Z(l,this[we].key),"opening"===this[ve])return this.defer(()=>this.del(A,l,g)),g[te];if(T(this,g))return g[te];const G=this._checkKey(A);if(G)return this.nextTick(g,G),g[te];const H=this.keyEncoding(l.keyEncoding),ne=H.format;return l.keyEncoding!==ne&&(l=Object.assign({},l,{keyEncoding:ne})),this._del(this.prefixKey(H.encode(A),ne),l,ce=>{if(ce)return g(ce);this.emit("del",A),g()}),g[te]}_del(A,l,g){this.nextTick(g)}batch(A,l,g){if(!arguments.length){if("opening"===this[ve])return new X(this);if("open"!==this[ve])throw new S("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(g="function"==typeof A?A:V(l,g),g=W(g,te),l=Z(l,this[we].empty),"opening"===this[ve])return this.defer(()=>this.batch(A,l,g)),g[te];if(T(this,g))return g[te];if(!Array.isArray(A))return this.nextTick(g,new TypeError("The first argument 'operations' must be an array")),g[te];if(0===A.length)return this.nextTick(g),g[te];const G=new Array(A.length),{keyEncoding:H,valueEncoding:ne,...ce}=l;for(let Ae=0;Ae<A.length;Ae++){if("object"!=typeof A[Ae]||null===A[Ae])return this.nextTick(g,new TypeError("A batch operation must be an object")),g[te];const ke=Object.assign({},A[Ae]);if("put"!==ke.type&&"del"!==ke.type)return this.nextTick(g,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),g[te];const Fe=this._checkKey(ke.key);if(Fe)return this.nextTick(g,Fe),g[te];const Ee=null!=ke.sublevel?ke.sublevel:this,ge=Ee.keyEncoding(ke.keyEncoding||H),Oe=ge.format;if(ke.key=Ee.prefixKey(ge.encode(ke.key),Oe),ke.keyEncoding=Oe,"put"===ke.type){const ye=this._checkValue(ke.value);if(ye)return this.nextTick(g,ye),g[te];const Se=Ee.valueEncoding(ke.valueEncoding||ne);ke.value=Se.encode(ke.value),ke.valueEncoding=Se.format}Ee!==this&&(ke.sublevel=null),G[Ae]=ke}return this._batch(G,ce,Ae=>{if(Ae)return g(Ae);this.emit("batch",A),g()}),g[te]}_batch(A,l,g){this.nextTick(g)}sublevel(A,l){return this._sublevel(A,w.defaults(l))}_sublevel(A,l){return new w(this,A,l)}prefixKey(A,l){return A}clear(A,l){if(l=V(A,l),l=W(l,te),A=Z(A,this[we].empty),"opening"===this[ve])return this.defer(()=>this.clear(A,l)),l[te];if(T(this,l))return l[te];const g=A,G=this.keyEncoding(A.keyEncoding);return(A=re(A,G)).keyEncoding=G.format,0===A.limit?this.nextTick(l):this._clear(A,H=>{if(H)return l(H);this.emit("clear",g),l()}),l[te]}_clear(A,l){this.nextTick(l)}iterator(A){const l=this.keyEncoding(A&&A.keyEncoding),g=this.valueEncoding(A&&A.valueEncoding);if((A=re(A,l)).keys=!1!==A.keys,A.values=!1!==A.values,A[L.keyEncoding]=l,A[L.valueEncoding]=g,A.keyEncoding=l.format,A.valueEncoding=g.format,"opening"===this[ve])return new $(this,A);if("open"!==this[ve])throw new S("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(A)}_iterator(A){return new L(this,A)}keys(A){const l=this.keyEncoding(A&&A.keyEncoding),g=this.valueEncoding(A&&A.valueEncoding);if((A=re(A,l))[L.keyEncoding]=l,A[L.valueEncoding]=g,A.keyEncoding=l.format,A.valueEncoding=g.format,"opening"===this[ve])return new F(this,A);if("open"!==this[ve])throw new S("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(A)}_keys(A){return new M(this,A)}values(A){const l=this.keyEncoding(A&&A.keyEncoding),g=this.valueEncoding(A&&A.valueEncoding);if((A=re(A,l))[L.keyEncoding]=l,A[L.valueEncoding]=g,A.keyEncoding=l.format,A.valueEncoding=g.format,"opening"===this[ve])return new I(this,A);if("open"!==this[ve])throw new S("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(A)}_values(A){return new N(this,A)}defer(A){if("function"!=typeof A)throw new TypeError("The first argument must be a function");this[se].push(A)}[ae](){if(0===this[se].length)return;const A=this[se];this[se]=[];for(const l of A)l()}attachResource(A){if("object"!=typeof A||null===A||"function"!=typeof A.close)throw new TypeError("The first argument must be a resource object");this[J].add(A)}detachResource(A){this[J].delete(A)}_chainedBatch(){return new X(this)}_checkKey(A){if(null==A)return new S("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(A){if(null==A)return new S("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}}y.prototype.nextTick=E(24585);const{AbstractSublevel:w}=E(25416)({AbstractLevel:y});z.AbstractLevel=y,z.AbstractSublevel=w;const T=function(j,A){return"open"!==j[ve]&&(j.nextTick(A,new S("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0)},D=function(j){return Object.keys(j.supports.encodings).filter(A=>!!j.supports.encodings[A])}},75929:(Le,z,E)=>{"use strict";z.AbstractLevel=E(83764).AbstractLevel,z.AbstractSublevel=E(83764).AbstractSublevel,z.AbstractIterator=E(63294).AbstractIterator,z.AbstractKeyIterator=E(63294).AbstractKeyIterator,z.AbstractValueIterator=E(63294).AbstractValueIterator,z.AbstractChainedBatch=E(91463).AbstractChainedBatch},47519:(Le,z,E)=>{"use strict";const{AbstractIterator:m,AbstractKeyIterator:x,AbstractValueIterator:R}=E(63294),W=Symbol("unfix"),S=Symbol("iterator"),L=Symbol("handleOne"),M=Symbol("handleMany"),N=Symbol("callback");class $ extends m{constructor(V,Z,re,te){super(V,Z),this[S]=re,this[W]=te,this[L]=this[L].bind(this),this[M]=this[M].bind(this),this[N]=null}[L](V,Z,re){const te=this[N];if(V)return te(V);void 0!==Z&&(Z=this[W](Z)),te(V,Z,re)}[M](V,Z){const re=this[N];if(V)return re(V);for(const te of Z){const Q=te[0];void 0!==Q&&(te[0]=this[W](Q))}re(V,Z)}}class F extends x{constructor(V,Z,re,te){super(V,Z),this[S]=re,this[W]=te,this[L]=this[L].bind(this),this[M]=this[M].bind(this),this[N]=null}[L](V,Z){const re=this[N];if(V)return re(V);void 0!==Z&&(Z=this[W](Z)),re(V,Z)}[M](V,Z){const re=this[N];if(V)return re(V);for(let te=0;te<Z.length;te++){const Q=Z[te];void 0!==Q&&(Z[te]=this[W](Q))}re(V,Z)}}class I extends R{constructor(V,Z,re){super(V,Z),this[S]=re}}for(const X of[$,F])X.prototype._next=function(V){this[N]=V,this[S].next(this[L])},X.prototype._nextv=function(V,Z,re){this[N]=re,this[S].nextv(V,Z,this[M])},X.prototype._all=function(V,Z){this[N]=Z,this[S].all(V,this[M])};for(const X of[I])X.prototype._next=function(V){this[S].next(V)},X.prototype._nextv=function(V,Z,re){this[S].nextv(V,Z,re)},X.prototype._all=function(V,Z){this[S].all(V,Z)};for(const X of[$,F,I])X.prototype._seek=function(V,Z){this[S].seek(V,Z)},X.prototype._close=function(V){this[S].close(V)};z.AbstractSublevelIterator=$,z.AbstractSublevelKeyIterator=F,z.AbstractSublevelValueIterator=I},25416:(Le,z,E)=>{"use strict";const m=E(61747),{Buffer:x}=E(1067)||{},{AbstractSublevelIterator:R,AbstractSublevelKeyIterator:W,AbstractSublevelValueIterator:S}=E(47519),L=Symbol("prefix"),M=Symbol("upperBound"),N=Symbol("prefixRange"),$=Symbol("parent"),F=Symbol("unfix"),I=new TextEncoder,X={separator:"!"};Le.exports=function({AbstractLevel:J}){class oe extends J{static defaults(ae){if("string"==typeof ae)throw new m("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(ae&&ae.open)throw new m("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return null==ae?X:ae.separator?ae:{...ae,separator:"!"}}constructor(ae,pe,le){const{separator:ve,manifest:we,...De}=oe.defaults(le);pe=Q(pe,ve);const k=ve.charCodeAt(0)+1,u=ae[$]||ae;if(!I.encode(pe).every(w=>w>k&&w<127))throw new m(`Prefix must use bytes > ${k} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(V(u,we),De);const h=(ae.prefix||"")+ve+pe+ve,y=h.slice(0,-1)+String.fromCharCode(k);this[$]=u,this[L]=new re(h),this[M]=new re(y),this[F]=new te,this.nextTick=u.nextTick}prefixKey(ae,pe){if("utf8"===pe)return this[L].utf8+ae;if(0===ae.byteLength)return this[L][pe];if("view"===pe){const le=this[L].view,ve=new Uint8Array(le.byteLength+ae.byteLength);return ve.set(le,0),ve.set(ae,le.byteLength),ve}{const le=this[L].buffer;return x.concat([le,ae],le.byteLength+ae.byteLength)}}[N](ae,pe){void 0!==ae.gte?ae.gte=this.prefixKey(ae.gte,pe):void 0!==ae.gt?ae.gt=this.prefixKey(ae.gt,pe):ae.gte=this[L][pe],void 0!==ae.lte?ae.lte=this.prefixKey(ae.lte,pe):void 0!==ae.lt?ae.lt=this.prefixKey(ae.lt,pe):ae.lte=this[M][pe]}get prefix(){return this[L].utf8}get db(){return this[$]}_open(ae,pe){this[$].open({passive:!0},pe)}_put(ae,pe,le,ve){this[$].put(ae,pe,le,ve)}_get(ae,pe,le){this[$].get(ae,pe,le)}_getMany(ae,pe,le){this[$].getMany(ae,pe,le)}_del(ae,pe,le){this[$].del(ae,pe,le)}_batch(ae,pe,le){this[$].batch(ae,pe,le)}_clear(ae,pe){this[N](ae,ae.keyEncoding),this[$].clear(ae,pe)}_iterator(ae){this[N](ae,ae.keyEncoding);const pe=this[$].iterator(ae),le=this[F].get(this[L].utf8.length,ae.keyEncoding);return new R(this,ae,pe,le)}_keys(ae){this[N](ae,ae.keyEncoding);const pe=this[$].keys(ae),le=this[F].get(this[L].utf8.length,ae.keyEncoding);return new W(this,ae,pe,le)}_values(ae){this[N](ae,ae.keyEncoding);const pe=this[$].values(ae);return new S(this,ae,pe)}}return{AbstractSublevel:oe}};const V=function(J,oe){return{...J.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...oe,encodings:{utf8:Z(J,"utf8"),buffer:Z(J,"buffer"),view:Z(J,"view")}}},Z=function(J,oe){return!!J.supports.encodings[oe]&&J.keyEncoding(oe).name===oe};class re{constructor(oe){this.utf8=oe,this.view=I.encode(oe),this.buffer=x?x.from(this.view.buffer,0,this.view.byteLength):{}}}class te{constructor(){this.cache=new Map}get(oe,se){let ae=this.cache.get(se);return void 0===ae&&(ae="view"===se?function(pe,le){return le.subarray(pe)}.bind(null,oe):function(pe,le){return le.slice(pe)}.bind(null,oe),this.cache.set(se,ae)),ae}}const Q=function(J,oe){let se=0,ae=J.length;for(;se<ae&&J[se]===oe;)se++;for(;ae>se&&J[ae-1]===oe;)ae--;return J.slice(se,ae)}},32856:(Le,z)=>{"use strict";z.getCallback=function(E,m){return"function"==typeof E?E:m},z.getOptions=function(E,m){return"object"==typeof E&&null!==E?E:void 0!==m?m:{}}},45776:(Le,z,E)=>{"use strict";const{AbstractChainedBatch:m}=E(91463),x=E(61747),R=Symbol("encoded");z.DefaultChainedBatch=class W extends m{constructor(L){super(L),this[R]=[]}_put(L,M,N){this[R].push({...N,type:"put",key:L,value:M})}_del(L,M){this[R].push({...M,type:"del",key:L})}_clear(){this[R]=[]}_write(L,M){"opening"===this.db.status?this.db.defer(()=>this._write(L,M)):"open"===this.db.status?0===this[R].length?this.nextTick(M):this.db._batch(this[R],L,M):this.nextTick(M,new x("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}}},48335:(Le,z,E)=>{"use strict";const{AbstractKeyIterator:m,AbstractValueIterator:x}=E(63294),R=Symbol("iterator"),W=Symbol("callback"),S=Symbol("handleOne"),L=Symbol("handleMany");class M extends m{constructor(F,I){super(F,I),this[R]=F.iterator({...I,keys:!0,values:!1}),this[S]=this[S].bind(this),this[L]=this[L].bind(this)}}class N extends x{constructor(F,I){super(F,I),this[R]=F.iterator({...I,keys:!1,values:!0}),this[S]=this[S].bind(this),this[L]=this[L].bind(this)}}for(const $ of[M,N]){const F=$===M,I=F?X=>X[0]:X=>X[1];$.prototype._next=function(X){this[W]=X,this[R].next(this[S])},$.prototype[S]=function(X,V,Z){const re=this[W];X?re(X):re(null,F?V:Z)},$.prototype._nextv=function(X,V,Z){this[W]=Z,this[R].nextv(X,V,this[L])},$.prototype._all=function(X,V){this[W]=V,this[R].all(X,this[L])},$.prototype[L]=function(X,V){const Z=this[W];X?Z(X):Z(null,V.map(I))},$.prototype._seek=function(X,V){this[R].seek(X,V)},$.prototype._close=function(X){this[R].close(X)}}z.DefaultKeyIterator=M,z.DefaultValueIterator=N},92745:(Le,z,E)=>{"use strict";const{AbstractIterator:m,AbstractKeyIterator:x,AbstractValueIterator:R}=E(63294),W=E(61747),S=Symbol("nut"),L=Symbol("undefer"),M=Symbol("factory");class N extends m{constructor(X,V){super(X,V),this[S]=null,this[M]=()=>X.iterator(V),this.db.defer(()=>this[L]())}}class $ extends x{constructor(X,V){super(X,V),this[S]=null,this[M]=()=>X.keys(V),this.db.defer(()=>this[L]())}}class F extends R{constructor(X,V){super(X,V),this[S]=null,this[M]=()=>X.values(V),this.db.defer(()=>this[L]())}}for(const I of[N,$,F])I.prototype[L]=function(){"open"===this.db.status&&(this[S]=this[M]())},I.prototype._next=function(X){null!==this[S]?this[S].next(X):"opening"===this.db.status?this.db.defer(()=>this._next(X)):this.nextTick(X,new W("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},I.prototype._nextv=function(X,V,Z){null!==this[S]?this[S].nextv(X,V,Z):"opening"===this.db.status?this.db.defer(()=>this._nextv(X,V,Z)):this.nextTick(Z,new W("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},I.prototype._all=function(X,V){null!==this[S]?this[S].all(V):"opening"===this.db.status?this.db.defer(()=>this._all(X,V)):this.nextTick(V,new W("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},I.prototype._seek=function(X,V){null!==this[S]?this[S]._seek(X,V):"opening"===this.db.status&&this.db.defer(()=>this._seek(X,V))},I.prototype._close=function(X){null!==this[S]?this[S].close(X):"opening"===this.db.status?this.db.defer(()=>this._close(X)):this.nextTick(X)};z.DeferredIterator=N,z.DeferredKeyIterator=$,z.DeferredValueIterator=F},24585:(Le,z,E)=>{"use strict";const m=E(24515);Le.exports=function(x,...R){m(0===R.length?x:()=>x(...R))}},4287:(Le,z,E)=>{"use strict";const m=E(61747),x=Object.prototype.hasOwnProperty,R=new Set(["lt","lte","gt","gte"]);Le.exports=function(W,S){const L={};for(const M in W)if(x.call(W,M)&&"keyEncoding"!==M&&"valueEncoding"!==M){if("start"===M||"end"===M)throw new m(`The legacy range option '${M}' has been removed`,{code:"LEVEL_LEGACY"});if("encoding"===M)throw new m("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});L[M]=R.has(M)?S.encode(W[M]):W[M]}return L.reverse=!!L.reverse,L.limit=Number.isInteger(L.limit)&&L.limit>=0?L.limit:-1,L}},1067:(Le,z,E)=>{"use strict";const m=E(13981),x=E(22020),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function J(U){return+U!=U&&(U=0),M.alloc(+U)},z.INSPECT_MAX_BYTES=50;const W=2147483647;function L(U){if(U>W)throw new RangeError('The value "'+U+'" is invalid for option "size"');const _=new Uint8Array(U);return Object.setPrototypeOf(_,M.prototype),_}function M(U,_,p){if("number"==typeof U){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return I(U)}return N(U,_,p)}function N(U,_,p){if("string"==typeof U)return function X(U,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!M.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const p=0|oe(U,_);let O=L(p);const q=O.write(U,_);return q!==p&&(O=O.slice(0,q)),O}(U,_);if(ArrayBuffer.isView(U))return function Z(U){if(Be(U,Uint8Array)){const _=new Uint8Array(U);return re(_.buffer,_.byteOffset,_.byteLength)}return V(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Be(U,ArrayBuffer)||U&&Be(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(U,SharedArrayBuffer)||U&&Be(U.buffer,SharedArrayBuffer)))return re(U,_,p);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');const O=U.valueOf&&U.valueOf();if(null!=O&&O!==U)return M.from(O,_,p);const q=function te(U){if(M.isBuffer(U)){const _=0|Q(U.length),p=L(_);return 0===p.length||U.copy(p,0,0,_),p}return void 0!==U.length?"number"!=typeof U.length||yt(U.length)?L(0):V(U):"Buffer"===U.type&&Array.isArray(U.data)?V(U.data):void 0}(U);if(q)return q;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return M.from(U[Symbol.toPrimitive]("string"),_,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function $(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function I(U){return $(U),L(U<0?0:0|Q(U))}function V(U){const _=U.length<0?0:0|Q(U.length),p=L(_);for(let O=0;O<_;O+=1)p[O]=255&U[O];return p}function re(U,_,p){if(_<0||U.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<_+(p||0))throw new RangeError('"length" is outside of buffer bounds');let O;return O=void 0===_&&void 0===p?new Uint8Array(U):void 0===p?new Uint8Array(U,_):new Uint8Array(U,_,p),Object.setPrototypeOf(O,M.prototype),O}function Q(U){if(U>=W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");return 0|U}function oe(U,_){if(M.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Be(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const p=U.length,O=arguments.length>2&&!0===arguments[2];if(!O&&0===p)return 0;let q=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return ie(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return Ie(U).length;default:if(q)return O?-1:ie(U).length;_=(""+_).toLowerCase(),q=!0}}function se(U,_,p){let O=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===p||p>this.length)&&(p=this.length),p<=0)||(p>>>=0)<=(_>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return A(this,_,p);case"utf8":case"utf-8":return y(this,_,p);case"ascii":return D(this,_,p);case"latin1":case"binary":return j(this,_,p);case"base64":return h(this,_,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,_,p);default:if(O)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),O=!0}}function ae(U,_,p){const O=U[_];U[_]=U[p],U[p]=O}function pe(U,_,p,O,q){if(0===U.length)return-1;if("string"==typeof p?(O=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),yt(p=+p)&&(p=q?0:U.length-1),p<0&&(p=U.length+p),p>=U.length){if(q)return-1;p=U.length-1}else if(p<0){if(!q)return-1;p=0}if("string"==typeof _&&(_=M.from(_,O)),M.isBuffer(_))return 0===_.length?-1:le(U,_,p,O,q);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?q?Uint8Array.prototype.indexOf.call(U,_,p):Uint8Array.prototype.lastIndexOf.call(U,_,p):le(U,[_],p,O,q);throw new TypeError("val must be string, number or Buffer")}function le(U,_,p,O,q){let ut,me=1,xe=U.length,qe=_.length;if(void 0!==O&&("ucs2"===(O=String(O).toLowerCase())||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(U.length<2||_.length<2)return-1;me=2,xe/=2,qe/=2,p/=2}function At(bt,Lt){return 1===me?bt[Lt]:bt.readUInt16BE(Lt*me)}if(q){let bt=-1;for(ut=p;ut<xe;ut++)if(At(U,ut)===At(_,-1===bt?0:ut-bt)){if(-1===bt&&(bt=ut),ut-bt+1===qe)return bt*me}else-1!==bt&&(ut-=ut-bt),bt=-1}else for(p+qe>xe&&(p=xe-qe),ut=p;ut>=0;ut--){let bt=!0;for(let Lt=0;Lt<qe;Lt++)if(At(U,ut+Lt)!==At(_,Lt)){bt=!1;break}if(bt)return ut}return-1}function ve(U,_,p,O){p=Number(p)||0;const q=U.length-p;O?(O=Number(O))>q&&(O=q):O=q;const me=_.length;let xe;for(O>me/2&&(O=me/2),xe=0;xe<O;++xe){const qe=parseInt(_.substr(2*xe,2),16);if(yt(qe))return xe;U[p+xe]=qe}return xe}function we(U,_,p,O){return Ne(ie(_,U.length-p),U,p,O)}function De(U,_,p,O){return Ne(function ue(U){const _=[];for(let p=0;p<U.length;++p)_.push(255&U.charCodeAt(p));return _}(_),U,p,O)}function k(U,_,p,O){return Ne(Ie(_),U,p,O)}function u(U,_,p,O){return Ne(function be(U,_){let p,O,q;const me=[];for(let xe=0;xe<U.length&&!((_-=2)<0);++xe)p=U.charCodeAt(xe),O=p>>8,q=p%256,me.push(q),me.push(O);return me}(_,U.length-p),U,p,O)}function h(U,_,p){return m.fromByteArray(0===_&&p===U.length?U:U.slice(_,p))}function y(U,_,p){p=Math.min(U.length,p);const O=[];let q=_;for(;q<p;){const me=U[q];let xe=null,qe=me>239?4:me>223?3:me>191?2:1;if(q+qe<=p){let At,ut,bt,Lt;switch(qe){case 1:me<128&&(xe=me);break;case 2:At=U[q+1],128==(192&At)&&(Lt=(31&me)<<6|63&At,Lt>127&&(xe=Lt));break;case 3:At=U[q+1],ut=U[q+2],128==(192&At)&&128==(192&ut)&&(Lt=(15&me)<<12|(63&At)<<6|63&ut,Lt>2047&&(Lt<55296||Lt>57343)&&(xe=Lt));break;case 4:At=U[q+1],ut=U[q+2],bt=U[q+3],128==(192&At)&&128==(192&ut)&&128==(192&bt)&&(Lt=(15&me)<<18|(63&At)<<12|(63&ut)<<6|63&bt,Lt>65535&&Lt<1114112&&(xe=Lt))}}null===xe?(xe=65533,qe=1):xe>65535&&(xe-=65536,O.push(xe>>>10&1023|55296),xe=56320|1023&xe),O.push(xe),q+=qe}return function T(U){const _=U.length;if(_<=w)return String.fromCharCode.apply(String,U);let p="",O=0;for(;O<_;)p+=String.fromCharCode.apply(String,U.slice(O,O+=w));return p}(O)}z.kMaxLength=W,!(M.TYPED_ARRAY_SUPPORT=function S(){try{const U=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(U,_),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(U,_,p){return N(U,_,p)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(U,_,p){return function F(U,_,p){return $(U),U<=0?L(U):void 0!==_?"string"==typeof p?L(U).fill(_,p):L(U).fill(_):L(U)}(U,_,p)},M.allocUnsafe=function(U){return I(U)},M.allocUnsafeSlow=function(U){return I(U)},M.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==M.prototype},M.compare=function(_,p){if(Be(_,Uint8Array)&&(_=M.from(_,_.offset,_.byteLength)),Be(p,Uint8Array)&&(p=M.from(p,p.offset,p.byteLength)),!M.isBuffer(_)||!M.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===p)return 0;let O=_.length,q=p.length;for(let me=0,xe=Math.min(O,q);me<xe;++me)if(_[me]!==p[me]){O=_[me],q=p[me];break}return O<q?-1:q<O?1:0},M.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(_,p){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return M.alloc(0);let O;if(void 0===p)for(p=0,O=0;O<_.length;++O)p+=_[O].length;const q=M.allocUnsafe(p);let me=0;for(O=0;O<_.length;++O){let xe=_[O];if(Be(xe,Uint8Array))me+xe.length>q.length?(M.isBuffer(xe)||(xe=M.from(xe)),xe.copy(q,me)):Uint8Array.prototype.set.call(q,xe,me);else{if(!M.isBuffer(xe))throw new TypeError('"list" argument must be an Array of Buffers');xe.copy(q,me)}me+=xe.length}return q},M.byteLength=oe,M.prototype._isBuffer=!0,M.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<_;p+=2)ae(this,p,p+1);return this},M.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<_;p+=4)ae(this,p,p+3),ae(this,p+1,p+2);return this},M.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<_;p+=8)ae(this,p,p+7),ae(this,p+1,p+6),ae(this,p+2,p+5),ae(this,p+3,p+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?y(this,0,_):se.apply(this,arguments)},M.prototype.equals=function(_){if(!M.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===M.compare(this,_)},M.prototype.inspect=function(){let _="";const p=z.INSPECT_MAX_BYTES;return _=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(_+=" ... "),"<Buffer "+_+">"},R&&(M.prototype[R]=M.prototype.inspect),M.prototype.compare=function(_,p,O,q,me){if(Be(_,Uint8Array)&&(_=M.from(_,_.offset,_.byteLength)),!M.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===p&&(p=0),void 0===O&&(O=_?_.length:0),void 0===q&&(q=0),void 0===me&&(me=this.length),p<0||O>_.length||q<0||me>this.length)throw new RangeError("out of range index");if(q>=me&&p>=O)return 0;if(q>=me)return-1;if(p>=O)return 1;if(this===_)return 0;let xe=(me>>>=0)-(q>>>=0),qe=(O>>>=0)-(p>>>=0);const At=Math.min(xe,qe),ut=this.slice(q,me),bt=_.slice(p,O);for(let Lt=0;Lt<At;++Lt)if(ut[Lt]!==bt[Lt]){xe=ut[Lt],qe=bt[Lt];break}return xe<qe?-1:qe<xe?1:0},M.prototype.includes=function(_,p,O){return-1!==this.indexOf(_,p,O)},M.prototype.indexOf=function(_,p,O){return pe(this,_,p,O,!0)},M.prototype.lastIndexOf=function(_,p,O){return pe(this,_,p,O,!1)},M.prototype.write=function(_,p,O,q){if(void 0===p)q="utf8",O=this.length,p=0;else if(void 0===O&&"string"==typeof p)q=p,O=this.length,p=0;else{if(!isFinite(p))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");p>>>=0,isFinite(O)?(O>>>=0,void 0===q&&(q="utf8")):(q=O,O=void 0)}const me=this.length-p;if((void 0===O||O>me)&&(O=me),_.length>0&&(O<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let xe=!1;for(;;)switch(q){case"hex":return ve(this,_,p,O);case"utf8":case"utf-8":return we(this,_,p,O);case"ascii":case"latin1":case"binary":return De(this,_,p,O);case"base64":return k(this,_,p,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,_,p,O);default:if(xe)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),xe=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const w=4096;function D(U,_,p){let O="";p=Math.min(U.length,p);for(let q=_;q<p;++q)O+=String.fromCharCode(127&U[q]);return O}function j(U,_,p){let O="";p=Math.min(U.length,p);for(let q=_;q<p;++q)O+=String.fromCharCode(U[q]);return O}function A(U,_,p){const O=U.length;(!_||_<0)&&(_=0),(!p||p<0||p>O)&&(p=O);let q="";for(let me=_;me<p;++me)q+=Ke[U[me]];return q}function l(U,_,p){const O=U.slice(_,p);let q="";for(let me=0;me<O.length-1;me+=2)q+=String.fromCharCode(O[me]+256*O[me+1]);return q}function g(U,_,p){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+_>p)throw new RangeError("Trying to access beyond buffer length")}function G(U,_,p,O,q,me){if(!M.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>q||_<me)throw new RangeError('"value" argument is out of bounds');if(p+O>U.length)throw new RangeError("Index out of range")}function H(U,_,p,O,q){ye(_,O,q,U,p,7);let me=Number(_&BigInt(4294967295));U[p++]=me,me>>=8,U[p++]=me,me>>=8,U[p++]=me,me>>=8,U[p++]=me;let xe=Number(_>>BigInt(32)&BigInt(4294967295));return U[p++]=xe,xe>>=8,U[p++]=xe,xe>>=8,U[p++]=xe,xe>>=8,U[p++]=xe,p}function ne(U,_,p,O,q){ye(_,O,q,U,p,7);let me=Number(_&BigInt(4294967295));U[p+7]=me,me>>=8,U[p+6]=me,me>>=8,U[p+5]=me,me>>=8,U[p+4]=me;let xe=Number(_>>BigInt(32)&BigInt(4294967295));return U[p+3]=xe,xe>>=8,U[p+2]=xe,xe>>=8,U[p+1]=xe,xe>>=8,U[p]=xe,p+8}function ce(U,_,p,O,q,me){if(p+O>U.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function Ae(U,_,p,O,q){return _=+_,p>>>=0,q||ce(U,0,p,4),x.write(U,_,p,O,23,4),p+4}function ke(U,_,p,O,q){return _=+_,p>>>=0,q||ce(U,0,p,8),x.write(U,_,p,O,52,8),p+8}M.prototype.slice=function(_,p){const O=this.length;(_=~~_)<0?(_+=O)<0&&(_=0):_>O&&(_=O),(p=void 0===p?O:~~p)<0?(p+=O)<0&&(p=0):p>O&&(p=O),p<_&&(p=_);const q=this.subarray(_,p);return Object.setPrototypeOf(q,M.prototype),q},M.prototype.readUintLE=M.prototype.readUIntLE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_],me=1,xe=0;for(;++xe<p&&(me*=256);)q+=this[_+xe]*me;return q},M.prototype.readUintBE=M.prototype.readUIntBE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_+--p],me=1;for(;p>0&&(me*=256);)q+=this[_+--p]*me;return q},M.prototype.readUint8=M.prototype.readUInt8=function(_,p){return _>>>=0,p||g(_,1,this.length),this[_]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(_,p){return _>>>=0,p||g(_,2,this.length),this[_]|this[_+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(_,p){return _>>>=0,p||g(_,2,this.length),this[_]<<8|this[_+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(_,p){return _>>>=0,p||g(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(_,p){return _>>>=0,p||g(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},M.prototype.readBigUInt64LE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=p+256*this[++_]+65536*this[++_]+this[++_]*2**24,me=this[++_]+256*this[++_]+65536*this[++_]+O*2**24;return BigInt(q)+(BigInt(me)<<BigInt(32))}),M.prototype.readBigUInt64BE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=p*2**24+65536*this[++_]+256*this[++_]+this[++_],me=this[++_]*2**24+65536*this[++_]+256*this[++_]+O;return(BigInt(q)<<BigInt(32))+BigInt(me)}),M.prototype.readIntLE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_],me=1,xe=0;for(;++xe<p&&(me*=256);)q+=this[_+xe]*me;return me*=128,q>=me&&(q-=Math.pow(2,8*p)),q},M.prototype.readIntBE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=p,me=1,xe=this[_+--q];for(;q>0&&(me*=256);)xe+=this[_+--q]*me;return me*=128,xe>=me&&(xe-=Math.pow(2,8*p)),xe},M.prototype.readInt8=function(_,p){return _>>>=0,p||g(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},M.prototype.readInt16LE=function(_,p){_>>>=0,p||g(_,2,this.length);const O=this[_]|this[_+1]<<8;return 32768&O?4294901760|O:O},M.prototype.readInt16BE=function(_,p){_>>>=0,p||g(_,2,this.length);const O=this[_+1]|this[_]<<8;return 32768&O?4294901760|O:O},M.prototype.readInt32LE=function(_,p){return _>>>=0,p||g(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},M.prototype.readInt32BE=function(_,p){return _>>>=0,p||g(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},M.prototype.readBigInt64LE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];return(void 0===p||void 0===O)&&he(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(O<<24))<<BigInt(32))+BigInt(p+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),M.prototype.readBigInt64BE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=(p<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(q)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+O)}),M.prototype.readFloatLE=function(_,p){return _>>>=0,p||g(_,4,this.length),x.read(this,_,!0,23,4)},M.prototype.readFloatBE=function(_,p){return _>>>=0,p||g(_,4,this.length),x.read(this,_,!1,23,4)},M.prototype.readDoubleLE=function(_,p){return _>>>=0,p||g(_,8,this.length),x.read(this,_,!0,52,8)},M.prototype.readDoubleBE=function(_,p){return _>>>=0,p||g(_,8,this.length),x.read(this,_,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(_,p,O,q){_=+_,p>>>=0,O>>>=0,q||G(this,_,p,O,Math.pow(2,8*O)-1,0);let me=1,xe=0;for(this[p]=255&_;++xe<O&&(me*=256);)this[p+xe]=_/me&255;return p+O},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(_,p,O,q){_=+_,p>>>=0,O>>>=0,q||G(this,_,p,O,Math.pow(2,8*O)-1,0);let me=O-1,xe=1;for(this[p+me]=255&_;--me>=0&&(xe*=256);)this[p+me]=_/xe&255;return p+O},M.prototype.writeUint8=M.prototype.writeUInt8=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,1,255,0),this[p]=255&_,p+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,65535,0),this[p]=255&_,this[p+1]=_>>>8,p+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,65535,0),this[p]=_>>>8,this[p+1]=255&_,p+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,4294967295,0),this[p+3]=_>>>24,this[p+2]=_>>>16,this[p+1]=_>>>8,this[p]=255&_,p+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,4294967295,0),this[p]=_>>>24,this[p+1]=_>>>16,this[p+2]=_>>>8,this[p+3]=255&_,p+4},M.prototype.writeBigUInt64LE=Re(function(_,p=0){return H(this,_,p,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Re(function(_,p=0){return ne(this,_,p,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(_,p,O,q){if(_=+_,p>>>=0,!q){const At=Math.pow(2,8*O-1);G(this,_,p,O,At-1,-At)}let me=0,xe=1,qe=0;for(this[p]=255&_;++me<O&&(xe*=256);)_<0&&0===qe&&0!==this[p+me-1]&&(qe=1),this[p+me]=(_/xe|0)-qe&255;return p+O},M.prototype.writeIntBE=function(_,p,O,q){if(_=+_,p>>>=0,!q){const At=Math.pow(2,8*O-1);G(this,_,p,O,At-1,-At)}let me=O-1,xe=1,qe=0;for(this[p+me]=255&_;--me>=0&&(xe*=256);)_<0&&0===qe&&0!==this[p+me+1]&&(qe=1),this[p+me]=(_/xe|0)-qe&255;return p+O},M.prototype.writeInt8=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,1,127,-128),_<0&&(_=255+_+1),this[p]=255&_,p+1},M.prototype.writeInt16LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,32767,-32768),this[p]=255&_,this[p+1]=_>>>8,p+2},M.prototype.writeInt16BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,32767,-32768),this[p]=_>>>8,this[p+1]=255&_,p+2},M.prototype.writeInt32LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,2147483647,-2147483648),this[p]=255&_,this[p+1]=_>>>8,this[p+2]=_>>>16,this[p+3]=_>>>24,p+4},M.prototype.writeInt32BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[p]=_>>>24,this[p+1]=_>>>16,this[p+2]=_>>>8,this[p+3]=255&_,p+4},M.prototype.writeBigInt64LE=Re(function(_,p=0){return H(this,_,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Re(function(_,p=0){return ne(this,_,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeFloatLE=function(_,p,O){return Ae(this,_,p,!0,O)},M.prototype.writeFloatBE=function(_,p,O){return Ae(this,_,p,!1,O)},M.prototype.writeDoubleLE=function(_,p,O){return ke(this,_,p,!0,O)},M.prototype.writeDoubleBE=function(_,p,O){return ke(this,_,p,!1,O)},M.prototype.copy=function(_,p,O,q){if(!M.isBuffer(_))throw new TypeError("argument should be a Buffer");if(O||(O=0),!q&&0!==q&&(q=this.length),p>=_.length&&(p=_.length),p||(p=0),q>0&&q<O&&(q=O),q===O||0===_.length||0===this.length)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),_.length-p<q-O&&(q=_.length-p+O);const me=q-O;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(p,O,q):Uint8Array.prototype.set.call(_,this.subarray(O,q),p),me},M.prototype.fill=function(_,p,O,q){if("string"==typeof _){if("string"==typeof p?(q=p,p=0,O=this.length):"string"==typeof O&&(q=O,O=this.length),void 0!==q&&"string"!=typeof q)throw new TypeError("encoding must be a string");if("string"==typeof q&&!M.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(1===_.length){const xe=_.charCodeAt(0);("utf8"===q&&xe<128||"latin1"===q)&&(_=xe)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(p<0||this.length<p||this.length<O)throw new RangeError("Out of range index");if(O<=p)return this;let me;if(p>>>=0,O=void 0===O?this.length:O>>>0,_||(_=0),"number"==typeof _)for(me=p;me<O;++me)this[me]=_;else{const xe=M.isBuffer(_)?_:M.from(_,q),qe=xe.length;if(0===qe)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(me=0;me<O-p;++me)this[me+p]=xe[me%qe]}return this};const Fe={};function Ee(U,_,p){Fe[U]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,delete this.name}get code(){return U}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}function ge(U){let _="",p=U.length;const O="-"===U[0]?1:0;for(;p>=O+4;p-=3)_=`_${U.slice(p-3,p)}${_}`;return`${U.slice(0,p)}${_}`}function ye(U,_,p,O,q,me){if(U>p||U<_){const xe="bigint"==typeof _?"n":"";let qe;throw qe=me>3?0===_||_===BigInt(0)?`>= 0${xe} and < 2${xe} ** ${8*(me+1)}${xe}`:`>= -(2${xe} ** ${8*(me+1)-1}${xe}) and < 2 ** ${8*(me+1)-1}${xe}`:`>= ${_}${xe} and <= ${p}${xe}`,new Fe.ERR_OUT_OF_RANGE("value",qe,U)}!function Oe(U,_,p){Se(_,"offset"),(void 0===U[_]||void 0===U[_+p])&&he(_,U.length-(p+1))}(O,q,me)}function Se(U,_){if("number"!=typeof U)throw new Fe.ERR_INVALID_ARG_TYPE(_,"number",U)}function he(U,_,p){throw Math.floor(U)!==U?(Se(U,p),new Fe.ERR_OUT_OF_RANGE(p||"offset","an integer",U)):_<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${_}`,U)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(U,_){return`The "${U}" argument must be of type number. Received type ${typeof _}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(U,_,p){let O=`The value of "${U}" is out of range.`,q=p;return Number.isInteger(p)&&Math.abs(p)>2**32?q=ge(String(p)):"bigint"==typeof p&&(q=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(q=ge(q)),q+="n"),O+=` It must be ${_}. Received ${q}`,O},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function ie(U,_){let p;_=_||1/0;const O=U.length;let q=null;const me=[];for(let xe=0;xe<O;++xe){if(p=U.charCodeAt(xe),p>55295&&p<57344){if(!q){if(p>56319){(_-=3)>-1&&me.push(239,191,189);continue}if(xe+1===O){(_-=3)>-1&&me.push(239,191,189);continue}q=p;continue}if(p<56320){(_-=3)>-1&&me.push(239,191,189),q=p;continue}p=65536+(q-55296<<10|p-56320)}else q&&(_-=3)>-1&&me.push(239,191,189);if(q=null,p<128){if((_-=1)<0)break;me.push(p)}else if(p<2048){if((_-=2)<0)break;me.push(p>>6|192,63&p|128)}else if(p<65536){if((_-=3)<0)break;me.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(p<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;me.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}return me}function Ie(U){return m.toByteArray(function ee(U){if((U=(U=U.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Ne(U,_,p,O){let q;for(q=0;q<O&&!(q+p>=_.length||q>=U.length);++q)_[q+p]=U[q];return q}function Be(U,_){return U instanceof _||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===_.name}function yt(U){return U!=U}const Ke=function(){const U="0123456789abcdef",_=new Array(256);for(let p=0;p<16;++p){const O=16*p;for(let q=0;q<16;++q)_[O+q]=U[p]+U[q]}return _}();function Re(U){return typeof BigInt>"u"?ot:U}function ot(){throw new Error("BigInt not supported")}},49609:(Le,z,E)=>{var m=z;m.bignum=E(96867),m.define=E(16626).define,m.base=E(15066),m.constants=E(47740),m.decoders=E(91558),m.encoders=E(22714)},16626:(Le,z,E)=>{var m=E(49609),x=E(71993);function W(S,L){this.name=S,this.body=L,this.decoders={},this.encoders={}}z.define=function(L,M){return new W(L,M)},W.prototype._createNamed=function(L){var M;try{M=Object(function(){var $=new Error("Cannot find module 'vm'");throw $.code="MODULE_NOT_FOUND",$}())("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch{M=function($){this._initNamed($)}}return x(M,L),M.prototype._initNamed=function($){L.call(this,$)},new M(this)},W.prototype._getDecoder=function(L){return this.decoders.hasOwnProperty(L=L||"der")||(this.decoders[L]=this._createNamed(m.decoders[L])),this.decoders[L]},W.prototype.decode=function(L,M,N){return this._getDecoder(M).decode(L,N)},W.prototype._getEncoder=function(L){return this.encoders.hasOwnProperty(L=L||"der")||(this.encoders[L]=this._createNamed(m.encoders[L])),this.encoders[L]},W.prototype.encode=function(L,M,N){return this._getEncoder(M).encode(L,N)}},97290:(Le,z,E)=>{var m=E(71993),x=E(15066).Reporter,R=E(83838).Buffer;function W(L,M){x.call(this,M),R.isBuffer(L)?(this.base=L,this.offset=0,this.length=L.length):this.error("Input not Buffer")}function S(L,M){if(Array.isArray(L))this.length=0,this.value=L.map(function(N){return N instanceof S||(N=new S(N,M)),this.length+=N.length,N},this);else if("number"==typeof L){if(!(0<=L&&L<=255))return M.error("non-byte EncoderBuffer value");this.value=L,this.length=1}else if("string"==typeof L)this.value=L,this.length=R.byteLength(L);else{if(!R.isBuffer(L))return M.error("Unsupported type: "+typeof L);this.value=L,this.length=L.length}}m(W,x),z.t=W,W.prototype.save=function(){return{offset:this.offset,reporter:x.prototype.save.call(this)}},W.prototype.restore=function(M){var N=new W(this.base);return N.offset=M.offset,N.length=this.offset,this.offset=M.offset,x.prototype.restore.call(this,M.reporter),N},W.prototype.isEmpty=function(){return this.offset===this.length},W.prototype.readUInt8=function(M){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(M||"DecoderBuffer overrun")},W.prototype.skip=function(M,N){if(!(this.offset+M<=this.length))return this.error(N||"DecoderBuffer overrun");var $=new W(this.base);return $._reporterState=this._reporterState,$.offset=this.offset,$.length=this.offset+M,this.offset+=M,$},W.prototype.raw=function(M){return this.base.slice(M?M.offset:this.offset,this.length)},z.d=S,S.prototype.join=function(M,N){return M||(M=new R(this.length)),N||(N=0),0===this.length||(Array.isArray(this.value)?this.value.forEach(function($){$.join(M,N),N+=$.length}):("number"==typeof this.value?M[N]=this.value:"string"==typeof this.value?M.write(this.value,N):R.isBuffer(this.value)&&this.value.copy(M,N),N+=this.length)),M}},15066:(Le,z,E)=>{var m=z;m.Reporter=E(85697).a,m.DecoderBuffer=E(97290).t,m.EncoderBuffer=E(97290).d,m.Node=E(34320)},34320:(Le,z,E)=>{var m=E(15066).Reporter,x=E(15066).EncoderBuffer,R=E(15066).DecoderBuffer,W=E(39210),S=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],L=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(S);function N(F,I){var X={};this._baseState=X,X.enc=F,X.parent=I||null,X.children=null,X.tag=null,X.args=null,X.reverseArgs=null,X.choice=null,X.optional=!1,X.any=!1,X.obj=!1,X.use=null,X.useDecoder=null,X.key=null,X.default=null,X.explicit=null,X.implicit=null,X.contains=null,X.parent||(X.children=[],this._wrap())}Le.exports=N;var $=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];N.prototype.clone=function(){var I=this._baseState,X={};$.forEach(function(Z){X[Z]=I[Z]});var V=new this.constructor(X.parent);return V._baseState=X,V},N.prototype._wrap=function(){var I=this._baseState;L.forEach(function(X){this[X]=function(){var Z=new this.constructor(this);return I.children.push(Z),Z[X].apply(Z,arguments)}},this)},N.prototype._init=function(I){var X=this._baseState;W(null===X.parent),I.call(this),X.children=X.children.filter(function(V){return V._baseState.parent===this},this),W.equal(X.children.length,1,"Root node can have only one child")},N.prototype._useArgs=function(I){var X=this._baseState,V=I.filter(function(Z){return Z instanceof this.constructor},this);I=I.filter(function(Z){return!(Z instanceof this.constructor)},this),0!==V.length&&(W(null===X.children),X.children=V,V.forEach(function(Z){Z._baseState.parent=this},this)),0!==I.length&&(W(null===X.args),X.args=I,X.reverseArgs=I.map(function(Z){if("object"!=typeof Z||Z.constructor!==Object)return Z;var re={};return Object.keys(Z).forEach(function(te){te==(0|te)&&(te|=0),re[Z[te]]=te}),re}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(F){N.prototype[F]=function(){throw new Error(F+" not implemented for encoding: "+this._baseState.enc)}}),S.forEach(function(F){N.prototype[F]=function(){var X=this._baseState,V=Array.prototype.slice.call(arguments);return W(null===X.tag),X.tag=F,this._useArgs(V),this}}),N.prototype.use=function(I){W(I);var X=this._baseState;return W(null===X.use),X.use=I,this},N.prototype.optional=function(){return this._baseState.optional=!0,this},N.prototype.def=function(I){var X=this._baseState;return W(null===X.default),X.default=I,X.optional=!0,this},N.prototype.explicit=function(I){var X=this._baseState;return W(null===X.explicit&&null===X.implicit),X.explicit=I,this},N.prototype.implicit=function(I){var X=this._baseState;return W(null===X.explicit&&null===X.implicit),X.implicit=I,this},N.prototype.obj=function(){var I=this._baseState,X=Array.prototype.slice.call(arguments);return I.obj=!0,0!==X.length&&this._useArgs(X),this},N.prototype.key=function(I){var X=this._baseState;return W(null===X.key),X.key=I,this},N.prototype.any=function(){return this._baseState.any=!0,this},N.prototype.choice=function(I){var X=this._baseState;return W(null===X.choice),X.choice=I,this._useArgs(Object.keys(I).map(function(V){return I[V]})),this},N.prototype.contains=function(I){var X=this._baseState;return W(null===X.use),X.contains=I,this},N.prototype._decode=function(I,X){var V=this._baseState;if(null===V.parent)return I.wrapResult(V.children[0]._decode(I,X));var oe,Z=V.default,re=!0,te=null;if(null!==V.key&&(te=I.enterKey(V.key)),V.optional){var Q=null;if(null!==V.explicit?Q=V.explicit:null!==V.implicit?Q=V.implicit:null!==V.tag&&(Q=V.tag),null!==Q||V.any){if(re=this._peekTag(I,Q,V.any),I.isError(re))return re}else{var J=I.save();try{null===V.choice?this._decodeGeneric(V.tag,I,X):this._decodeChoice(I,X),re=!0}catch{re=!1}I.restore(J)}}if(V.obj&&re&&(oe=I.enterObject()),re){if(null!==V.explicit){var se=this._decodeTag(I,V.explicit);if(I.isError(se))return se;I=se}var ae=I.offset;if(null===V.use&&null===V.choice){V.any&&(J=I.save());var pe=this._decodeTag(I,null!==V.implicit?V.implicit:V.tag,V.any);if(I.isError(pe))return pe;V.any?Z=I.raw(J):I=pe}if(X&&X.track&&null!==V.tag&&X.track(I.path(),ae,I.length,"tagged"),X&&X.track&&null!==V.tag&&X.track(I.path(),I.offset,I.length,"content"),V.any||(Z=null===V.choice?this._decodeGeneric(V.tag,I,X):this._decodeChoice(I,X)),I.isError(Z))return Z;if(!V.any&&null===V.choice&&null!==V.children&&V.children.forEach(function(we){we._decode(I,X)}),V.contains&&("octstr"===V.tag||"bitstr"===V.tag)){var le=new R(Z);Z=this._getUse(V.contains,I._reporterState.obj)._decode(le,X)}}return V.obj&&re&&(Z=I.leaveObject(oe)),null===V.key||null===Z&&!0!==re?null!==te&&I.exitKey(te):I.leaveKey(te,V.key,Z),Z},N.prototype._decodeGeneric=function(I,X,V){var Z=this._baseState;return"seq"===I||"set"===I?null:"seqof"===I||"setof"===I?this._decodeList(X,I,Z.args[0],V):/str$/.test(I)?this._decodeStr(X,I,V):"objid"===I&&Z.args?this._decodeObjid(X,Z.args[0],Z.args[1],V):"objid"===I?this._decodeObjid(X,null,null,V):"gentime"===I||"utctime"===I?this._decodeTime(X,I,V):"null_"===I?this._decodeNull(X,V):"bool"===I?this._decodeBool(X,V):"objDesc"===I?this._decodeStr(X,I,V):"int"===I||"enum"===I?this._decodeInt(X,Z.args&&Z.args[0],V):null!==Z.use?this._getUse(Z.use,X._reporterState.obj)._decode(X,V):X.error("unknown tag: "+I)},N.prototype._getUse=function(I,X){var V=this._baseState;return V.useDecoder=this._use(I,X),W(null===V.useDecoder._baseState.parent),V.useDecoder=V.useDecoder._baseState.children[0],V.implicit!==V.useDecoder._baseState.implicit&&(V.useDecoder=V.useDecoder.clone(),V.useDecoder._baseState.implicit=V.implicit),V.useDecoder},N.prototype._decodeChoice=function(I,X){var V=this._baseState,Z=null,re=!1;return Object.keys(V.choice).some(function(te){var Q=I.save(),J=V.choice[te];try{var oe=J._decode(I,X);if(I.isError(oe))return!1;Z={type:te,value:oe},re=!0}catch{return I.restore(Q),!1}return!0},this),re?Z:I.error("Choice not matched")},N.prototype._createEncoderBuffer=function(I){return new x(I,this.reporter)},N.prototype._encode=function(I,X,V){var Z=this._baseState;if(null===Z.default||Z.default!==I){var re=this._encodeValue(I,X,V);if(void 0!==re&&!this._skipDefault(re,X,V))return re}},N.prototype._encodeValue=function(I,X,V){var Z=this._baseState;if(null===Z.parent)return Z.children[0]._encode(I,X||new m);var J=null;if(this.reporter=X,Z.optional&&void 0===I){if(null===Z.default)return;I=Z.default}var re=null,te=!1;if(Z.any)J=this._createEncoderBuffer(I);else if(Z.choice)J=this._encodeChoice(I,X);else if(Z.contains)re=this._getUse(Z.contains,V)._encode(I,X),te=!0;else if(Z.children)re=Z.children.map(function(ae){if("null_"===ae._baseState.tag)return ae._encode(null,X,I);if(null===ae._baseState.key)return X.error("Child should have a key");var pe=X.enterKey(ae._baseState.key);if("object"!=typeof I)return X.error("Child expected, but input is not object");var le=ae._encode(I[ae._baseState.key],X,I);return X.leaveKey(pe),le},this).filter(function(ae){return ae}),re=this._createEncoderBuffer(re);else if("seqof"===Z.tag||"setof"===Z.tag){if(!Z.args||1!==Z.args.length)return X.error("Too many args for : "+Z.tag);if(!Array.isArray(I))return X.error("seqof/setof, but data is not Array");var Q=this.clone();Q._baseState.implicit=null,re=this._createEncoderBuffer(I.map(function(ae){return this._getUse(this._baseState.args[0],I)._encode(ae,X)},Q))}else null!==Z.use?J=this._getUse(Z.use,V)._encode(I,X):(re=this._encodePrimitive(Z.tag,I),te=!0);if(!Z.any&&null===Z.choice){var oe=null!==Z.implicit?Z.implicit:Z.tag,se=null===Z.implicit?"universal":"context";null===oe?null===Z.use&&X.error("Tag could be omitted only for .use()"):null===Z.use&&(J=this._encodeComposite(oe,te,se,re))}return null!==Z.explicit&&(J=this._encodeComposite(Z.explicit,!1,"context",J)),J},N.prototype._encodeChoice=function(I,X){var V=this._baseState,Z=V.choice[I.type];return Z||W(!1,I.type+" not found in "+JSON.stringify(Object.keys(V.choice))),Z._encode(I.value,X)},N.prototype._encodePrimitive=function(I,X){var V=this._baseState;if(/str$/.test(I))return this._encodeStr(X,I);if("objid"===I&&V.args)return this._encodeObjid(X,V.reverseArgs[0],V.args[1]);if("objid"===I)return this._encodeObjid(X,null,null);if("gentime"===I||"utctime"===I)return this._encodeTime(X,I);if("null_"===I)return this._encodeNull();if("int"===I||"enum"===I)return this._encodeInt(X,V.args&&V.reverseArgs[0]);if("bool"===I)return this._encodeBool(X);if("objDesc"===I)return this._encodeStr(X,I);throw new Error("Unsupported tag: "+I)},N.prototype._isNumstr=function(I){return/^[0-9 ]*$/.test(I)},N.prototype._isPrintstr=function(I){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(I)}},85697:(Le,z,E)=>{var m=E(71993);function x(W){this._reporterState={obj:null,path:[],options:W||{},errors:[]}}function R(W,S){this.path=W,this.rethrow(S)}z.a=x,x.prototype.isError=function(S){return S instanceof R},x.prototype.save=function(){var S=this._reporterState;return{obj:S.obj,pathLen:S.path.length}},x.prototype.restore=function(S){var L=this._reporterState;L.obj=S.obj,L.path=L.path.slice(0,S.pathLen)},x.prototype.enterKey=function(S){return this._reporterState.path.push(S)},x.prototype.exitKey=function(S){var L=this._reporterState;L.path=L.path.slice(0,S-1)},x.prototype.leaveKey=function(S,L,M){var N=this._reporterState;this.exitKey(S),null!==N.obj&&(N.obj[L]=M)},x.prototype.path=function(){return this._reporterState.path.join("/")},x.prototype.enterObject=function(){var S=this._reporterState,L=S.obj;return S.obj={},L},x.prototype.leaveObject=function(S){var L=this._reporterState,M=L.obj;return L.obj=S,M},x.prototype.error=function(S){var L,M=this._reporterState,N=S instanceof R;if(L=N?S:new R(M.path.map(function($){return"["+JSON.stringify($)+"]"}).join(""),S.message||S,S.stack),!M.options.partial)throw L;return N||M.errors.push(L),L},x.prototype.wrapResult=function(S){var L=this._reporterState;return L.options.partial?{result:this.isError(S)?null:S,errors:L.errors}:S},m(R,Error),R.prototype.rethrow=function(S){if(this.message=S+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,R),!this.stack)try{throw new Error(this.message)}catch(L){this.stack=L.stack}return this}},36283:(Le,z,E)=>{var m=E(47740);z.tagClass={0:"universal",1:"application",2:"context",3:"private"},z.tagClassByName=m._reverse(z.tagClass),z.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},z.tagByName=m._reverse(z.tag)},47740:(Le,z,E)=>{var m=z;m._reverse=function(R){var W={};return Object.keys(R).forEach(function(S){(0|S)==S&&(S|=0),W[R[S]]=S}),W},m.der=E(36283)},55941:(Le,z,E)=>{var m=E(71993),x=E(49609),R=x.base,W=x.bignum,S=x.constants.der;function L(F){this.enc="der",this.name=F.name,this.entity=F,this.tree=new M,this.tree._init(F.body)}function M(F){R.Node.call(this,"der",F)}function N(F,I){var X=F.readUInt8(I);if(F.isError(X))return X;var V=S.tagClass[X>>6],Z=!(32&X);if(31&~X)X&=31;else{var re=X;for(X=0;!(128&~re);){if(re=F.readUInt8(I),F.isError(re))return re;X<<=7,X|=127&re}}return{cls:V,primitive:Z,tag:X,tagStr:S.tag[X]}}function $(F,I,X){var V=F.readUInt8(X);if(F.isError(V))return V;if(!I&&128===V)return null;if(!(128&V))return V;var Z=127&V;if(Z>4)return F.error("length octect is too long");V=0;for(var re=0;re<Z;re++){V<<=8;var te=F.readUInt8(X);if(F.isError(te))return te;V|=te}return V}Le.exports=L,L.prototype.decode=function(I,X){return I instanceof R.DecoderBuffer||(I=new R.DecoderBuffer(I,X)),this.tree._decode(I,X)},m(M,R.Node),M.prototype._peekTag=function(I,X,V){if(I.isEmpty())return!1;var Z=I.save(),re=N(I,'Failed to peek tag: "'+X+'"');return I.isError(re)?re:(I.restore(Z),re.tag===X||re.tagStr===X||re.tagStr+"of"===X||V)},M.prototype._decodeTag=function(I,X,V){var Z=N(I,'Failed to decode tag of "'+X+'"');if(I.isError(Z))return Z;var re=$(I,Z.primitive,'Failed to get length of "'+X+'"');if(I.isError(re))return re;if(!V&&Z.tag!==X&&Z.tagStr!==X&&Z.tagStr+"of"!==X)return I.error('Failed to match tag: "'+X+'"');if(Z.primitive||null!==re)return I.skip(re,'Failed to match body of: "'+X+'"');var te=I.save(),Q=this._skipUntilEnd(I,'Failed to skip indefinite length body: "'+this.tag+'"');return I.isError(Q)?Q:(re=I.offset-te.offset,I.restore(te),I.skip(re,'Failed to match body of: "'+X+'"'))},M.prototype._skipUntilEnd=function(I,X){for(;;){var V=N(I,X);if(I.isError(V))return V;var re,Z=$(I,V.primitive,X);if(I.isError(Z))return Z;if(re=V.primitive||null!==Z?I.skip(Z):this._skipUntilEnd(I,X),I.isError(re))return re;if("end"===V.tagStr)break}},M.prototype._decodeList=function(I,X,V,Z){for(var re=[];!I.isEmpty();){var te=this._peekTag(I,"end");if(I.isError(te))return te;var Q=V.decode(I,"der",Z);if(I.isError(Q)&&te)break;re.push(Q)}return re},M.prototype._decodeStr=function(I,X){if("bitstr"===X){var V=I.readUInt8();return I.isError(V)?V:{unused:V,data:I.raw()}}if("bmpstr"===X){var Z=I.raw();if(Z.length%2==1)return I.error("Decoding of string type: bmpstr length mismatch");for(var re="",te=0;te<Z.length/2;te++)re+=String.fromCharCode(Z.readUInt16BE(2*te));return re}if("numstr"===X){var Q=I.raw().toString("ascii");return this._isNumstr(Q)?Q:I.error("Decoding of string type: numstr unsupported characters")}if("octstr"===X)return I.raw();if("objDesc"===X)return I.raw();if("printstr"===X){var J=I.raw().toString("ascii");return this._isPrintstr(J)?J:I.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(X)?I.raw().toString():I.error("Decoding of string type: "+X+" unsupported")},M.prototype._decodeObjid=function(I,X,V){for(var Z,re=[],te=0;!I.isEmpty();){var Q=I.readUInt8();te<<=7,te|=127&Q,128&Q||(re.push(te),te=0)}if(128&Q&&re.push(te),Z=V?re:[re[0]/40|0,re[0]%40].concat(re.slice(1)),X){var se=X[Z.join(" ")];void 0===se&&(se=X[Z.join(".")]),void 0!==se&&(Z=se)}return Z},M.prototype._decodeTime=function(I,X){var V=I.raw().toString();if("gentime"===X)var Z=0|V.slice(0,4),re=0|V.slice(4,6),te=0|V.slice(6,8),Q=0|V.slice(8,10),J=0|V.slice(10,12),oe=0|V.slice(12,14);else{if("utctime"!==X)return I.error("Decoding "+X+" time is not supported yet");Z=0|V.slice(0,2),re=0|V.slice(2,4),te=0|V.slice(4,6),Q=0|V.slice(6,8),J=0|V.slice(8,10),oe=0|V.slice(10,12),Z=Z<70?2e3+Z:1900+Z}return Date.UTC(Z,re-1,te,Q,J,oe,0)},M.prototype._decodeNull=function(I){return null},M.prototype._decodeBool=function(I){var X=I.readUInt8();return I.isError(X)?X:0!==X},M.prototype._decodeInt=function(I,X){var V=I.raw(),Z=new W(V);return X&&(Z=X[Z.toString(10)]||Z),Z},M.prototype._use=function(I,X){return"function"==typeof I&&(I=I(X)),I._getDecoder("der").tree}},91558:(Le,z,E)=>{var m=z;m.der=E(55941),m.pem=E(59316)},59316:(Le,z,E)=>{var m=E(71993),x=E(83838).Buffer,R=E(55941);function W(S){R.call(this,S),this.enc="pem"}m(W,R),Le.exports=W,W.prototype.decode=function(L,M){for(var N=L.toString().split(/[\r\n]+/g),$=M.label.toUpperCase(),F=/^-----(BEGIN|END) ([^-]+)-----$/,I=-1,X=-1,V=0;V<N.length;V++){var Z=N[V].match(F);if(null!==Z&&Z[2]===$){if(-1!==I){if("END"!==Z[1])break;X=V;break}if("BEGIN"!==Z[1])break;I=V}}if(-1===I||-1===X)throw new Error("PEM section not found for: "+$);var re=N.slice(I+1,X).join("");re.replace(/[^a-z0-9\+\/=]+/gi,"");var te=new x(re,"base64");return R.prototype.decode.call(this,te,M)}},72193:(Le,z,E)=>{var m=E(71993),x=E(83838).Buffer,R=E(49609),W=R.base,S=R.constants.der;function L(F){this.enc="der",this.name=F.name,this.entity=F,this.tree=new M,this.tree._init(F.body)}function M(F){W.Node.call(this,"der",F)}function N(F){return F<10?"0"+F:F}Le.exports=L,L.prototype.encode=function(I,X){return this.tree._encode(I,X).join()},m(M,W.Node),M.prototype._encodeComposite=function(I,X,V,Z){var J,re=function $(F,I,X,V){var Z;if("seqof"===F?F="seq":"setof"===F&&(F="set"),S.tagByName.hasOwnProperty(F))Z=S.tagByName[F];else{if("number"!=typeof F||(0|F)!==F)return V.error("Unknown tag: "+F);Z=F}return Z>=31?V.error("Multi-octet tag encoding unsupported"):(I||(Z|=32),Z|=S.tagClassByName[X||"universal"]<<6)}(I,X,V,this.reporter);if(Z.length<128)return(J=new x(2))[0]=re,J[1]=Z.length,this._createEncoderBuffer([J,Z]);for(var te=1,Q=Z.length;Q>=256;Q>>=8)te++;(J=new x(2+te))[0]=re,J[1]=128|te,Q=1+te;for(var oe=Z.length;oe>0;Q--,oe>>=8)J[Q]=255&oe;return this._createEncoderBuffer([J,Z])},M.prototype._encodeStr=function(I,X){if("bitstr"===X)return this._createEncoderBuffer([0|I.unused,I.data]);if("bmpstr"===X){for(var V=new x(2*I.length),Z=0;Z<I.length;Z++)V.writeUInt16BE(I.charCodeAt(Z),2*Z);return this._createEncoderBuffer(V)}return"numstr"===X?this._isNumstr(I)?this._createEncoderBuffer(I):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===X?this._isPrintstr(I)?this._createEncoderBuffer(I):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(X)||"objDesc"===X?this._createEncoderBuffer(I):this.reporter.error("Encoding of string type: "+X+" unsupported")},M.prototype._encodeObjid=function(I,X,V){if("string"==typeof I){if(!X)return this.reporter.error("string objid given, but no values map found");if(!X.hasOwnProperty(I))return this.reporter.error("objid not found in values map");I=X[I].split(/[\s\.]+/g);for(var Z=0;Z<I.length;Z++)I[Z]|=0}else if(Array.isArray(I))for(I=I.slice(),Z=0;Z<I.length;Z++)I[Z]|=0;if(!Array.isArray(I))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(I));if(!V){if(I[1]>=40)return this.reporter.error("Second objid identifier OOB");I.splice(0,2,40*I[0]+I[1])}var re=0;for(Z=0;Z<I.length;Z++){var te=I[Z];for(re++;te>=128;te>>=7)re++}var Q=new x(re),J=Q.length-1;for(Z=I.length-1;Z>=0;Z--)for(Q[J--]=127&(te=I[Z]);(te>>=7)>0;)Q[J--]=128|127&te;return this._createEncoderBuffer(Q)},M.prototype._encodeTime=function(I,X){var V,Z=new Date(I);return"gentime"===X?V=[N(Z.getFullYear()),N(Z.getUTCMonth()+1),N(Z.getUTCDate()),N(Z.getUTCHours()),N(Z.getUTCMinutes()),N(Z.getUTCSeconds()),"Z"].join(""):"utctime"===X?V=[N(Z.getFullYear()%100),N(Z.getUTCMonth()+1),N(Z.getUTCDate()),N(Z.getUTCHours()),N(Z.getUTCMinutes()),N(Z.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+X+" time is not supported yet"),this._encodeStr(V,"octstr")},M.prototype._encodeNull=function(){return this._createEncoderBuffer("")},M.prototype._encodeInt=function(I,X){if("string"==typeof I){if(!X)return this.reporter.error("String int or enum given, but no values map");if(!X.hasOwnProperty(I))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(I));I=X[I]}if("number"!=typeof I&&!x.isBuffer(I)){var V=I.toArray();!I.sign&&128&V[0]&&V.unshift(0),I=new x(V)}if(x.isBuffer(I)){var Z=I.length;0===I.length&&Z++;var te=new x(Z);return I.copy(te),0===I.length&&(te[0]=0),this._createEncoderBuffer(te)}if(I<128)return this._createEncoderBuffer(I);if(I<256)return this._createEncoderBuffer([0,I]);Z=1;for(var re=I;re>=256;re>>=8)Z++;for(re=(te=new Array(Z)).length-1;re>=0;re--)te[re]=255&I,I>>=8;return 128&te[0]&&te.unshift(0),this._createEncoderBuffer(new x(te))},M.prototype._encodeBool=function(I){return this._createEncoderBuffer(I?255:0)},M.prototype._use=function(I,X){return"function"==typeof I&&(I=I(X)),I._getEncoder("der").tree},M.prototype._skipDefault=function(I,X,V){var re,Z=this._baseState;if(null===Z.default)return!1;var te=I.join();if(void 0===Z.defaultBuffer&&(Z.defaultBuffer=this._encodeValue(Z.default,X,V).join()),te.length!==Z.defaultBuffer.length)return!1;for(re=0;re<te.length;re++)if(te[re]!==Z.defaultBuffer[re])return!1;return!0}},22714:(Le,z,E)=>{var m=z;m.der=E(72193),m.pem=E(24816)},24816:(Le,z,E)=>{var m=E(71993),x=E(72193);function R(W){x.call(this,W),this.enc="pem"}m(R,x),Le.exports=R,R.prototype.encode=function(S,L){for(var N=x.prototype.encode.call(this,S).toString("base64"),$=["-----BEGIN "+L.label+"-----"],F=0;F<N.length;F+=64)$.push(N.slice(F,F+64));return $.push("-----END "+L.label+"-----"),$.join("\n")}},96867:function(Le,z,E){!function(m,x){"use strict";function R(k,u){if(!k)throw new Error(u||"Assertion failed")}function W(k,u){k.super_=u;var h=function(){};h.prototype=u.prototype,k.prototype=new h,k.prototype.constructor=k}function S(k,u,h){if(S.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(k||0,u||10,h||"be"))}var L;"object"==typeof m?m.exports=S:x.BN=S,S.BN=S,S.wordSize=26;try{L=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(78982).Buffer}catch{}function M(k,u){var h=k.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,u,h){var y=M(k,h);return h-1>=u&&(y|=M(k,h-1)<<4),y}function $(k,u,h,y){for(var w=0,T=Math.min(k.length,h),D=u;D<T;D++){var j=k.charCodeAt(D)-48;w*=y,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}S.isBN=function(u){return u instanceof S||null!==u&&"object"==typeof u&&u.constructor.wordSize===S.wordSize&&Array.isArray(u.words)},S.max=function(u,h){return u.cmp(h)>0?u:h},S.min=function(u,h){return u.cmp(h)<0?u:h},S.prototype._init=function(u,h,y){if("number"==typeof u)return this._initNumber(u,h,y);if("object"==typeof u)return this._initArray(u,h,y);"hex"===h&&(h=16),R(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,y):(this._parseBase(u,h,w),"le"===y&&this._initArray(this.toArray(),h,y)))},S.prototype._initNumber=function(u,h,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(R(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),h,y)},S.prototype._initArray=function(u,h,y){if(R("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,D,j=0;if("be"===y)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(D=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===y)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(D=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},S.prototype._parseHex=function(u,h,y){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,D=0;if("be"===y)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;this.strip()},S.prototype._parseBase=function(u,h,y){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var D=u.length-y,j=D%w,A=Math.min(D,D-j)+y,l=0,g=y;g<A;g+=w)l=$(u,g,g+w,h),this.imuln(T),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==j){var G=1;for(l=$(u,g,u.length,h),g=0;g<j;g++)G*=h;this.imuln(G),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},S.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},S.prototype.clone=function(){var u=new S(null);return this.copy(u),u},S.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},S.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},S.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},S.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(k,u,h){h.negative=u.negative^k.negative;var y=k.length+u.length|0;h.length=y,y=y-1|0;var w=0|k.words[0],T=0|u.words[0],D=w*T,A=D/67108864|0;h.words[0]=67108863&D;for(var l=1;l<y;l++){for(var g=A>>>26,G=67108863&A,H=Math.min(l,u.length-1),ne=Math.max(0,l-k.length+1);ne<=H;ne++)g+=(D=(w=0|k.words[l-ne|0])*(T=0|u.words[ne])+G)/67108864|0,G=67108863&D;h.words[l]=0|G,A=0|g}return 0!==A?h.words[l]=0|A:h.length--,h.strip()}S.prototype.toString=function(u,h){var y;if(h=0|h||1,16===(u=u||10)||"hex"===u){y="";for(var w=0,T=0,D=0;D<this.length;D++){var j=this.words[D],A=(16777215&(j<<w|T)).toString(16);y=0!=(T=j>>>24-w&16777215)||D!==this.length-1?F[6-A.length]+A+y:A+y,(w+=2)>=26&&(w-=26,D--)}for(0!==T&&(y=T.toString(16)+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var l=I[u],g=X[u];y="";var G=this.clone();for(G.negative=0;!G.isZero();){var H=G.modn(g).toString(u);y=(G=G.idivn(g)).isZero()?H+y:F[l-H.length]+H+y}for(this.isZero()&&(y="0"+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}R(!1,"Base should be between 2 and 36")},S.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&R(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},S.prototype.toJSON=function(){return this.toString(16)},S.prototype.toBuffer=function(u,h){return R(typeof L<"u"),this.toArrayLike(L,u,h)},S.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},S.prototype.toArrayLike=function(u,h,y){var w=this.byteLength(),T=y||Math.max(1,w);R(w<=T,"byte array longer than desired length"),R(T>0,"Requested array length <= 0"),this.strip();var A,l,D="le"===h,j=new u(T),g=this.clone();if(D){for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[l]=A;for(;l<T;l++)j[l]=0}else{for(l=0;l<T-w;l++)j[l]=0;for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[T-l-1]=A}return j},S.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,y=0;return h>=4096&&(y+=13,h>>>=13),h>=64&&(y+=7,h>>>=7),h>=8&&(y+=4,h>>>=4),h>=2&&(y+=2,h>>>=2),y+h},S.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,y=0;return 8191&h||(y+=13,h>>>=13),127&h||(y+=7,h>>>=7),15&h||(y+=4,h>>>=4),3&h||(y+=2,h>>>=2),1&h||y++,y},S.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},S.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var y=this._zeroBits(this.words[h]);if(u+=y,26!==y)break}return u},S.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},S.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},S.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},S.prototype.isNeg=function(){return 0!==this.negative},S.prototype.neg=function(){return this.clone().ineg()},S.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},S.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},S.prototype.ior=function(u){return R(!(this.negative|u.negative)),this.iuor(u)},S.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},S.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},S.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var y=0;y<h.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=h.length,this.strip()},S.prototype.iand=function(u){return R(!(this.negative|u.negative)),this.iuand(u)},S.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},S.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},S.prototype.iuxor=function(u){var h,y;this.length>u.length?(h=this,y=u):(h=u,y=this);for(var w=0;w<y.length;w++)this.words[w]=h.words[w]^y.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},S.prototype.ixor=function(u){return R(!(this.negative|u.negative)),this.iuxor(u)},S.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},S.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},S.prototype.inotn=function(u){R("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),y=u%26;this._expand(h),y>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return y>0&&(this.words[w]=~this.words[w]&67108863>>26-y),this.strip()},S.prototype.notn=function(u){return this.clone().inotn(u)},S.prototype.setn=function(u,h){R("number"==typeof u&&u>=0);var y=u/26|0,w=u%26;return this._expand(y+1),this.words[y]=h?this.words[y]|1<<w:this.words[y]&~(1<<w),this.strip()},S.prototype.iadd=function(u){var h,y,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(y=this,w=u):(y=u,w=this);for(var T=0,D=0;D<w.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+(0|w.words[D])+T),T=h>>>26;for(;0!==T&&D<y.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+T),T=h>>>26;if(this.length=y.length,0!==T)this.words[this.length]=T,this.length++;else if(y!==this)for(;D<y.length;D++)this.words[D]=y.words[D];return this},S.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},S.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(w=this,T=u):(w=u,T=this);for(var D=0,j=0;j<T.length;j++)D=(h=(0|w.words[j])-(0|T.words[j])+D)>>26,this.words[j]=67108863&h;for(;0!==D&&j<w.length;j++)D=(h=(0|w.words[j])+D)>>26,this.words[j]=67108863&h;if(0===D&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},S.prototype.sub=function(u){return this.clone().isub(u)};var re=function(u,h,y){var A,l,g,w=u.words,T=h.words,D=y.words,j=0,G=0|w[0],H=8191&G,ne=G>>>13,ce=0|w[1],Ae=8191&ce,ke=ce>>>13,Fe=0|w[2],Ee=8191&Fe,ge=Fe>>>13,Oe=0|w[3],ye=8191&Oe,Se=Oe>>>13,he=0|w[4],fe=8191&he,ee=he>>>13,ie=0|w[5],ue=8191&ie,be=ie>>>13,Ie=0|w[6],Ne=8191&Ie,Be=Ie>>>13,yt=0|w[7],Ke=8191&yt,Re=yt>>>13,ot=0|w[8],U=8191&ot,_=ot>>>13,p=0|w[9],O=8191&p,q=p>>>13,me=0|T[0],xe=8191&me,qe=me>>>13,At=0|T[1],ut=8191&At,bt=At>>>13,Lt=0|T[2],en=8191&Lt,Zt=Lt>>>13,Jn=0|T[3],yn=8191&Jn,Vt=Jn>>>13,$t=0|T[4],mt=8191&$t,st=$t>>>13,Nt=0|T[5],Kt=8191&Nt,qt=Nt>>>13,or=0|T[6],ft=8191&or,gt=or>>>13,vt=0|T[7],He=8191&vt,Je=vt>>>13,Bt=0|T[8],Tt=8191&Bt,Yt=Bt>>>13,Pn=0|T[9],cn=8191&Pn,pn=Pn>>>13;y.negative=u.negative^h.negative,y.length=19;var vr=(j+(A=Math.imul(H,xe))|0)+((8191&(l=(l=Math.imul(H,qe))+Math.imul(ne,xe)|0))<<13)|0;j=((g=Math.imul(ne,qe))+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,A=Math.imul(Ae,xe),l=(l=Math.imul(Ae,qe))+Math.imul(ke,xe)|0,g=Math.imul(ke,qe);var Un=(j+(A=A+Math.imul(H,ut)|0)|0)+((8191&(l=(l=l+Math.imul(H,bt)|0)+Math.imul(ne,ut)|0))<<13)|0;j=((g=g+Math.imul(ne,bt)|0)+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,A=Math.imul(Ee,xe),l=(l=Math.imul(Ee,qe))+Math.imul(ge,xe)|0,g=Math.imul(ge,qe),A=A+Math.imul(Ae,ut)|0,l=(l=l+Math.imul(Ae,bt)|0)+Math.imul(ke,ut)|0,g=g+Math.imul(ke,bt)|0;var An=(j+(A=A+Math.imul(H,en)|0)|0)+((8191&(l=(l=l+Math.imul(H,Zt)|0)+Math.imul(ne,en)|0))<<13)|0;j=((g=g+Math.imul(ne,Zt)|0)+(l>>>13)|0)+(An>>>26)|0,An&=67108863,A=Math.imul(ye,xe),l=(l=Math.imul(ye,qe))+Math.imul(Se,xe)|0,g=Math.imul(Se,qe),A=A+Math.imul(Ee,ut)|0,l=(l=l+Math.imul(Ee,bt)|0)+Math.imul(ge,ut)|0,g=g+Math.imul(ge,bt)|0,A=A+Math.imul(Ae,en)|0,l=(l=l+Math.imul(Ae,Zt)|0)+Math.imul(ke,en)|0,g=g+Math.imul(ke,Zt)|0;var On=(j+(A=A+Math.imul(H,yn)|0)|0)+((8191&(l=(l=l+Math.imul(H,Vt)|0)+Math.imul(ne,yn)|0))<<13)|0;j=((g=g+Math.imul(ne,Vt)|0)+(l>>>13)|0)+(On>>>26)|0,On&=67108863,A=Math.imul(fe,xe),l=(l=Math.imul(fe,qe))+Math.imul(ee,xe)|0,g=Math.imul(ee,qe),A=A+Math.imul(ye,ut)|0,l=(l=l+Math.imul(ye,bt)|0)+Math.imul(Se,ut)|0,g=g+Math.imul(Se,bt)|0,A=A+Math.imul(Ee,en)|0,l=(l=l+Math.imul(Ee,Zt)|0)+Math.imul(ge,en)|0,g=g+Math.imul(ge,Zt)|0,A=A+Math.imul(Ae,yn)|0,l=(l=l+Math.imul(Ae,Vt)|0)+Math.imul(ke,yn)|0,g=g+Math.imul(ke,Vt)|0;var nt=(j+(A=A+Math.imul(H,mt)|0)|0)+((8191&(l=(l=l+Math.imul(H,st)|0)+Math.imul(ne,mt)|0))<<13)|0;j=((g=g+Math.imul(ne,st)|0)+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,A=Math.imul(ue,xe),l=(l=Math.imul(ue,qe))+Math.imul(be,xe)|0,g=Math.imul(be,qe),A=A+Math.imul(fe,ut)|0,l=(l=l+Math.imul(fe,bt)|0)+Math.imul(ee,ut)|0,g=g+Math.imul(ee,bt)|0,A=A+Math.imul(ye,en)|0,l=(l=l+Math.imul(ye,Zt)|0)+Math.imul(Se,en)|0,g=g+Math.imul(Se,Zt)|0,A=A+Math.imul(Ee,yn)|0,l=(l=l+Math.imul(Ee,Vt)|0)+Math.imul(ge,yn)|0,g=g+Math.imul(ge,Vt)|0,A=A+Math.imul(Ae,mt)|0,l=(l=l+Math.imul(Ae,st)|0)+Math.imul(ke,mt)|0,g=g+Math.imul(ke,st)|0;var $e=(j+(A=A+Math.imul(H,Kt)|0)|0)+((8191&(l=(l=l+Math.imul(H,qt)|0)+Math.imul(ne,Kt)|0))<<13)|0;j=((g=g+Math.imul(ne,qt)|0)+(l>>>13)|0)+($e>>>26)|0,$e&=67108863,A=Math.imul(Ne,xe),l=(l=Math.imul(Ne,qe))+Math.imul(Be,xe)|0,g=Math.imul(Be,qe),A=A+Math.imul(ue,ut)|0,l=(l=l+Math.imul(ue,bt)|0)+Math.imul(be,ut)|0,g=g+Math.imul(be,bt)|0,A=A+Math.imul(fe,en)|0,l=(l=l+Math.imul(fe,Zt)|0)+Math.imul(ee,en)|0,g=g+Math.imul(ee,Zt)|0,A=A+Math.imul(ye,yn)|0,l=(l=l+Math.imul(ye,Vt)|0)+Math.imul(Se,yn)|0,g=g+Math.imul(Se,Vt)|0,A=A+Math.imul(Ee,mt)|0,l=(l=l+Math.imul(Ee,st)|0)+Math.imul(ge,mt)|0,g=g+Math.imul(ge,st)|0,A=A+Math.imul(Ae,Kt)|0,l=(l=l+Math.imul(Ae,qt)|0)+Math.imul(ke,Kt)|0,g=g+Math.imul(ke,qt)|0;var it=(j+(A=A+Math.imul(H,ft)|0)|0)+((8191&(l=(l=l+Math.imul(H,gt)|0)+Math.imul(ne,ft)|0))<<13)|0;j=((g=g+Math.imul(ne,gt)|0)+(l>>>13)|0)+(it>>>26)|0,it&=67108863,A=Math.imul(Ke,xe),l=(l=Math.imul(Ke,qe))+Math.imul(Re,xe)|0,g=Math.imul(Re,qe),A=A+Math.imul(Ne,ut)|0,l=(l=l+Math.imul(Ne,bt)|0)+Math.imul(Be,ut)|0,g=g+Math.imul(Be,bt)|0,A=A+Math.imul(ue,en)|0,l=(l=l+Math.imul(ue,Zt)|0)+Math.imul(be,en)|0,g=g+Math.imul(be,Zt)|0,A=A+Math.imul(fe,yn)|0,l=(l=l+Math.imul(fe,Vt)|0)+Math.imul(ee,yn)|0,g=g+Math.imul(ee,Vt)|0,A=A+Math.imul(ye,mt)|0,l=(l=l+Math.imul(ye,st)|0)+Math.imul(Se,mt)|0,g=g+Math.imul(Se,st)|0,A=A+Math.imul(Ee,Kt)|0,l=(l=l+Math.imul(Ee,qt)|0)+Math.imul(ge,Kt)|0,g=g+Math.imul(ge,qt)|0,A=A+Math.imul(Ae,ft)|0,l=(l=l+Math.imul(Ae,gt)|0)+Math.imul(ke,ft)|0,g=g+Math.imul(ke,gt)|0;var jt=(j+(A=A+Math.imul(H,He)|0)|0)+((8191&(l=(l=l+Math.imul(H,Je)|0)+Math.imul(ne,He)|0))<<13)|0;j=((g=g+Math.imul(ne,Je)|0)+(l>>>13)|0)+(jt>>>26)|0,jt&=67108863,A=Math.imul(U,xe),l=(l=Math.imul(U,qe))+Math.imul(_,xe)|0,g=Math.imul(_,qe),A=A+Math.imul(Ke,ut)|0,l=(l=l+Math.imul(Ke,bt)|0)+Math.imul(Re,ut)|0,g=g+Math.imul(Re,bt)|0,A=A+Math.imul(Ne,en)|0,l=(l=l+Math.imul(Ne,Zt)|0)+Math.imul(Be,en)|0,g=g+Math.imul(Be,Zt)|0,A=A+Math.imul(ue,yn)|0,l=(l=l+Math.imul(ue,Vt)|0)+Math.imul(be,yn)|0,g=g+Math.imul(be,Vt)|0,A=A+Math.imul(fe,mt)|0,l=(l=l+Math.imul(fe,st)|0)+Math.imul(ee,mt)|0,g=g+Math.imul(ee,st)|0,A=A+Math.imul(ye,Kt)|0,l=(l=l+Math.imul(ye,qt)|0)+Math.imul(Se,Kt)|0,g=g+Math.imul(Se,qt)|0,A=A+Math.imul(Ee,ft)|0,l=(l=l+Math.imul(Ee,gt)|0)+Math.imul(ge,ft)|0,g=g+Math.imul(ge,gt)|0,A=A+Math.imul(Ae,He)|0,l=(l=l+Math.imul(Ae,Je)|0)+Math.imul(ke,He)|0,g=g+Math.imul(ke,Je)|0;var dn=(j+(A=A+Math.imul(H,Tt)|0)|0)+((8191&(l=(l=l+Math.imul(H,Yt)|0)+Math.imul(ne,Tt)|0))<<13)|0;j=((g=g+Math.imul(ne,Yt)|0)+(l>>>13)|0)+(dn>>>26)|0,dn&=67108863,A=Math.imul(O,xe),l=(l=Math.imul(O,qe))+Math.imul(q,xe)|0,g=Math.imul(q,qe),A=A+Math.imul(U,ut)|0,l=(l=l+Math.imul(U,bt)|0)+Math.imul(_,ut)|0,g=g+Math.imul(_,bt)|0,A=A+Math.imul(Ke,en)|0,l=(l=l+Math.imul(Ke,Zt)|0)+Math.imul(Re,en)|0,g=g+Math.imul(Re,Zt)|0,A=A+Math.imul(Ne,yn)|0,l=(l=l+Math.imul(Ne,Vt)|0)+Math.imul(Be,yn)|0,g=g+Math.imul(Be,Vt)|0,A=A+Math.imul(ue,mt)|0,l=(l=l+Math.imul(ue,st)|0)+Math.imul(be,mt)|0,g=g+Math.imul(be,st)|0,A=A+Math.imul(fe,Kt)|0,l=(l=l+Math.imul(fe,qt)|0)+Math.imul(ee,Kt)|0,g=g+Math.imul(ee,qt)|0,A=A+Math.imul(ye,ft)|0,l=(l=l+Math.imul(ye,gt)|0)+Math.imul(Se,ft)|0,g=g+Math.imul(Se,gt)|0,A=A+Math.imul(Ee,He)|0,l=(l=l+Math.imul(Ee,Je)|0)+Math.imul(ge,He)|0,g=g+Math.imul(ge,Je)|0,A=A+Math.imul(Ae,Tt)|0,l=(l=l+Math.imul(Ae,Yt)|0)+Math.imul(ke,Tt)|0,g=g+Math.imul(ke,Yt)|0;var Rn=(j+(A=A+Math.imul(H,cn)|0)|0)+((8191&(l=(l=l+Math.imul(H,pn)|0)+Math.imul(ne,cn)|0))<<13)|0;j=((g=g+Math.imul(ne,pn)|0)+(l>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,A=Math.imul(O,ut),l=(l=Math.imul(O,bt))+Math.imul(q,ut)|0,g=Math.imul(q,bt),A=A+Math.imul(U,en)|0,l=(l=l+Math.imul(U,Zt)|0)+Math.imul(_,en)|0,g=g+Math.imul(_,Zt)|0,A=A+Math.imul(Ke,yn)|0,l=(l=l+Math.imul(Ke,Vt)|0)+Math.imul(Re,yn)|0,g=g+Math.imul(Re,Vt)|0,A=A+Math.imul(Ne,mt)|0,l=(l=l+Math.imul(Ne,st)|0)+Math.imul(Be,mt)|0,g=g+Math.imul(Be,st)|0,A=A+Math.imul(ue,Kt)|0,l=(l=l+Math.imul(ue,qt)|0)+Math.imul(be,Kt)|0,g=g+Math.imul(be,qt)|0,A=A+Math.imul(fe,ft)|0,l=(l=l+Math.imul(fe,gt)|0)+Math.imul(ee,ft)|0,g=g+Math.imul(ee,gt)|0,A=A+Math.imul(ye,He)|0,l=(l=l+Math.imul(ye,Je)|0)+Math.imul(Se,He)|0,g=g+Math.imul(Se,Je)|0,A=A+Math.imul(Ee,Tt)|0,l=(l=l+Math.imul(Ee,Yt)|0)+Math.imul(ge,Tt)|0,g=g+Math.imul(ge,Yt)|0;var Kn=(j+(A=A+Math.imul(Ae,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ae,pn)|0)+Math.imul(ke,cn)|0))<<13)|0;j=((g=g+Math.imul(ke,pn)|0)+(l>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(O,en),l=(l=Math.imul(O,Zt))+Math.imul(q,en)|0,g=Math.imul(q,Zt),A=A+Math.imul(U,yn)|0,l=(l=l+Math.imul(U,Vt)|0)+Math.imul(_,yn)|0,g=g+Math.imul(_,Vt)|0,A=A+Math.imul(Ke,mt)|0,l=(l=l+Math.imul(Ke,st)|0)+Math.imul(Re,mt)|0,g=g+Math.imul(Re,st)|0,A=A+Math.imul(Ne,Kt)|0,l=(l=l+Math.imul(Ne,qt)|0)+Math.imul(Be,Kt)|0,g=g+Math.imul(Be,qt)|0,A=A+Math.imul(ue,ft)|0,l=(l=l+Math.imul(ue,gt)|0)+Math.imul(be,ft)|0,g=g+Math.imul(be,gt)|0,A=A+Math.imul(fe,He)|0,l=(l=l+Math.imul(fe,Je)|0)+Math.imul(ee,He)|0,g=g+Math.imul(ee,Je)|0,A=A+Math.imul(ye,Tt)|0,l=(l=l+Math.imul(ye,Yt)|0)+Math.imul(Se,Tt)|0,g=g+Math.imul(Se,Yt)|0;var tr=(j+(A=A+Math.imul(Ee,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ee,pn)|0)+Math.imul(ge,cn)|0))<<13)|0;j=((g=g+Math.imul(ge,pn)|0)+(l>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(O,yn),l=(l=Math.imul(O,Vt))+Math.imul(q,yn)|0,g=Math.imul(q,Vt),A=A+Math.imul(U,mt)|0,l=(l=l+Math.imul(U,st)|0)+Math.imul(_,mt)|0,g=g+Math.imul(_,st)|0,A=A+Math.imul(Ke,Kt)|0,l=(l=l+Math.imul(Ke,qt)|0)+Math.imul(Re,Kt)|0,g=g+Math.imul(Re,qt)|0,A=A+Math.imul(Ne,ft)|0,l=(l=l+Math.imul(Ne,gt)|0)+Math.imul(Be,ft)|0,g=g+Math.imul(Be,gt)|0,A=A+Math.imul(ue,He)|0,l=(l=l+Math.imul(ue,Je)|0)+Math.imul(be,He)|0,g=g+Math.imul(be,Je)|0,A=A+Math.imul(fe,Tt)|0,l=(l=l+Math.imul(fe,Yt)|0)+Math.imul(ee,Tt)|0,g=g+Math.imul(ee,Yt)|0;var Ar=(j+(A=A+Math.imul(ye,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ye,pn)|0)+Math.imul(Se,cn)|0))<<13)|0;j=((g=g+Math.imul(Se,pn)|0)+(l>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,A=Math.imul(O,mt),l=(l=Math.imul(O,st))+Math.imul(q,mt)|0,g=Math.imul(q,st),A=A+Math.imul(U,Kt)|0,l=(l=l+Math.imul(U,qt)|0)+Math.imul(_,Kt)|0,g=g+Math.imul(_,qt)|0,A=A+Math.imul(Ke,ft)|0,l=(l=l+Math.imul(Ke,gt)|0)+Math.imul(Re,ft)|0,g=g+Math.imul(Re,gt)|0,A=A+Math.imul(Ne,He)|0,l=(l=l+Math.imul(Ne,Je)|0)+Math.imul(Be,He)|0,g=g+Math.imul(Be,Je)|0,A=A+Math.imul(ue,Tt)|0,l=(l=l+Math.imul(ue,Yt)|0)+Math.imul(be,Tt)|0,g=g+Math.imul(be,Yt)|0;var _r=(j+(A=A+Math.imul(fe,cn)|0)|0)+((8191&(l=(l=l+Math.imul(fe,pn)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((g=g+Math.imul(ee,pn)|0)+(l>>>13)|0)+(_r>>>26)|0,_r&=67108863,A=Math.imul(O,Kt),l=(l=Math.imul(O,qt))+Math.imul(q,Kt)|0,g=Math.imul(q,qt),A=A+Math.imul(U,ft)|0,l=(l=l+Math.imul(U,gt)|0)+Math.imul(_,ft)|0,g=g+Math.imul(_,gt)|0,A=A+Math.imul(Ke,He)|0,l=(l=l+Math.imul(Ke,Je)|0)+Math.imul(Re,He)|0,g=g+Math.imul(Re,Je)|0,A=A+Math.imul(Ne,Tt)|0,l=(l=l+Math.imul(Ne,Yt)|0)+Math.imul(Be,Tt)|0,g=g+Math.imul(Be,Yt)|0;var Pr=(j+(A=A+Math.imul(ue,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ue,pn)|0)+Math.imul(be,cn)|0))<<13)|0;j=((g=g+Math.imul(be,pn)|0)+(l>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,A=Math.imul(O,ft),l=(l=Math.imul(O,gt))+Math.imul(q,ft)|0,g=Math.imul(q,gt),A=A+Math.imul(U,He)|0,l=(l=l+Math.imul(U,Je)|0)+Math.imul(_,He)|0,g=g+Math.imul(_,Je)|0,A=A+Math.imul(Ke,Tt)|0,l=(l=l+Math.imul(Ke,Yt)|0)+Math.imul(Re,Tt)|0,g=g+Math.imul(Re,Yt)|0;var $r=(j+(A=A+Math.imul(Ne,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ne,pn)|0)+Math.imul(Be,cn)|0))<<13)|0;j=((g=g+Math.imul(Be,pn)|0)+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,A=Math.imul(O,He),l=(l=Math.imul(O,Je))+Math.imul(q,He)|0,g=Math.imul(q,Je),A=A+Math.imul(U,Tt)|0,l=(l=l+Math.imul(U,Yt)|0)+Math.imul(_,Tt)|0,g=g+Math.imul(_,Yt)|0;var zr=(j+(A=A+Math.imul(Ke,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ke,pn)|0)+Math.imul(Re,cn)|0))<<13)|0;j=((g=g+Math.imul(Re,pn)|0)+(l>>>13)|0)+(zr>>>26)|0,zr&=67108863,A=Math.imul(O,Tt),l=(l=Math.imul(O,Yt))+Math.imul(q,Tt)|0,g=Math.imul(q,Yt);var Ht=(j+(A=A+Math.imul(U,cn)|0)|0)+((8191&(l=(l=l+Math.imul(U,pn)|0)+Math.imul(_,cn)|0))<<13)|0;j=((g=g+Math.imul(_,pn)|0)+(l>>>13)|0)+(Ht>>>26)|0,Ht&=67108863;var ln=(j+(A=Math.imul(O,cn))|0)+((8191&(l=(l=Math.imul(O,pn))+Math.imul(q,cn)|0))<<13)|0;return j=((g=Math.imul(q,pn))+(l>>>13)|0)+(ln>>>26)|0,ln&=67108863,D[0]=vr,D[1]=Un,D[2]=An,D[3]=On,D[4]=nt,D[5]=$e,D[6]=it,D[7]=jt,D[8]=dn,D[9]=Rn,D[10]=Kn,D[11]=tr,D[12]=Ar,D[13]=_r,D[14]=Pr,D[15]=$r,D[16]=zr,D[17]=Ht,D[18]=ln,0!==j&&(D[19]=j,y.length++),y};function Q(k,u,h){return(new J).mulp(k,u,h)}function J(k,u){this.x=k,this.y=u}Math.imul||(re=Z),S.prototype.mulTo=function(u,h){var y,w=this.length+u.length;return y=10===this.length&&10===u.length?re(this,u,h):w<63?Z(this,u,h):w<1024?function te(k,u,h){h.negative=u.negative^k.negative,h.length=k.length+u.length;for(var y=0,w=0,T=0;T<h.length-1;T++){var D=w;w=0;for(var j=67108863&y,A=Math.min(T,u.length-1),l=Math.max(0,T-k.length+1);l<=A;l++){var ne=(0|k.words[T-l])*(0|u.words[l]),ce=67108863&ne;j=67108863&(ce=ce+j|0),w+=(D=(D=D+(ne/67108864|0)|0)+(ce>>>26)|0)>>>26,D&=67108863}h.words[T]=j,y=D,D=w}return 0!==y?h.words[T]=y:h.length--,h.strip()}(this,u,h):Q(this,u,h),y},J.prototype.makeRBT=function(u){for(var h=new Array(u),y=S.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,y,u);return h},J.prototype.revBin=function(u,h,y){if(0===u||u===y-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},J.prototype.permute=function(u,h,y,w,T,D){for(var j=0;j<D;j++)w[j]=h[u[j]],T[j]=y[u[j]]},J.prototype.transform=function(u,h,y,w,T,D){this.permute(D,u,h,y,w,T);for(var j=1;j<T;j<<=1)for(var A=j<<1,l=Math.cos(2*Math.PI/A),g=Math.sin(2*Math.PI/A),G=0;G<T;G+=A)for(var H=l,ne=g,ce=0;ce<j;ce++){var Ae=y[G+ce],ke=w[G+ce],Fe=y[G+ce+j],Ee=w[G+ce+j],ge=H*Fe-ne*Ee;Ee=H*Ee+ne*Fe,y[G+ce]=Ae+(Fe=ge),w[G+ce]=ke+Ee,y[G+ce+j]=Ae-Fe,w[G+ce+j]=ke-Ee,ce!==A&&(ge=l*H-g*ne,ne=l*ne+g*H,H=ge)}},J.prototype.guessLen13b=function(u,h){var y=1|Math.max(h,u),w=1&y,T=0;for(y=y/2|0;y;y>>>=1)T++;return 1<<T+1+w},J.prototype.conjugate=function(u,h,y){if(!(y<=1))for(var w=0;w<y/2;w++){var T=u[w];u[w]=u[y-w-1],u[y-w-1]=T,T=h[w],h[w]=-h[y-w-1],h[y-w-1]=-T}},J.prototype.normalize13b=function(u,h){for(var y=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+y;u[w]=67108863&T,y=T<67108864?0:T/67108864|0}return u},J.prototype.convert13b=function(u,h,y,w){for(var T=0,D=0;D<h;D++)y[2*D]=8191&(T+=0|u[D]),y[2*D+1]=8191&(T>>>=13),T>>>=13;for(D=2*h;D<w;++D)y[D]=0;R(0===T),R(!(-8192&T))},J.prototype.stub=function(u){for(var h=new Array(u),y=0;y<u;y++)h[y]=0;return h},J.prototype.mulp=function(u,h,y){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),D=this.stub(w),j=new Array(w),A=new Array(w),l=new Array(w),g=new Array(w),G=new Array(w),H=new Array(w),ne=y.words;ne.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,g,w),this.transform(j,D,A,l,w,T),this.transform(g,D,G,H,w,T);for(var ce=0;ce<w;ce++){var Ae=A[ce]*G[ce]-l[ce]*H[ce];l[ce]=A[ce]*H[ce]+l[ce]*G[ce],A[ce]=Ae}return this.conjugate(A,l,w),this.transform(A,l,ne,D,w,T),this.conjugate(ne,D,w),this.normalize13b(ne,w),y.negative=u.negative^h.negative,y.length=u.length+h.length,y.strip()},S.prototype.mul=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},S.prototype.mulf=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),Q(this,u,h)},S.prototype.imul=function(u){return this.clone().mulTo(u,this)},S.prototype.imuln=function(u){R("number"==typeof u),R(u<67108864);for(var h=0,y=0;y<this.length;y++){var w=(0|this.words[y])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[y]=67108863&T}return 0!==h&&(this.words[y]=h,this.length++),this},S.prototype.muln=function(u){return this.clone().imuln(u)},S.prototype.sqr=function(){return this.mul(this)},S.prototype.isqr=function(){return this.imul(this.clone())},S.prototype.pow=function(u){var h=function V(k){for(var u=new Array(k.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(k.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new S(1);for(var y=this,w=0;w<h.length&&0===h[w];w++,y=y.sqr());if(++w<h.length)for(var T=y.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(y=y.mul(T));return y},S.prototype.iushln=function(u){R("number"==typeof u&&u>=0);var T,h=u%26,y=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|D,D=j>>>26-h}D&&(this.words[T]=D,this.length++)}if(0!==y){for(T=this.length-1;T>=0;T--)this.words[T+y]=this.words[T];for(T=0;T<y;T++)this.words[T]=0;this.length+=y}return this.strip()},S.prototype.ishln=function(u){return R(0===this.negative),this.iushln(u)},S.prototype.iushrn=function(u,h,y){var w;R("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,D=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,A=y;if(w-=D,w=Math.max(0,w),A){for(var l=0;l<D;l++)A.words[l]=this.words[l];A.length=D}if(0!==D)if(this.length>D)for(this.length-=D,l=0;l<this.length;l++)this.words[l]=this.words[l+D];else this.words[0]=0,this.length=1;var g=0;for(l=this.length-1;l>=0&&(0!==g||l>=w);l--){var G=0|this.words[l];this.words[l]=g<<26-T|G>>>T,g=G&j}return A&&0!==g&&(A.words[A.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},S.prototype.ishrn=function(u,h,y){return R(0===this.negative),this.iushrn(u,h,y)},S.prototype.shln=function(u){return this.clone().ishln(u)},S.prototype.ushln=function(u){return this.clone().iushln(u)},S.prototype.shrn=function(u){return this.clone().ishrn(u)},S.prototype.ushrn=function(u){return this.clone().iushrn(u)},S.prototype.testn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return!(this.length<=y||!(this.words[y]&1<<h))},S.prototype.imaskn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return R(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==h&&y++,this.length=Math.min(y,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},S.prototype.maskn=function(u){return this.clone().imaskn(u)},S.prototype.iaddn=function(u){return R("number"==typeof u),R(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},S.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},S.prototype.isubn=function(u){if(R("number"==typeof u),R(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},S.prototype.addn=function(u){return this.clone().iaddn(u)},S.prototype.subn=function(u){return this.clone().isubn(u)},S.prototype.iabs=function(){return this.negative=0,this},S.prototype.abs=function(){return this.clone().iabs()},S.prototype._ishlnsubmul=function(u,h,y){var T;this._expand(u.length+y);var D,j=0;for(T=0;T<u.length;T++){D=(0|this.words[T+y])+j;var A=(0|u.words[T])*h;j=((D-=67108863&A)>>26)-(A/67108864|0),this.words[T+y]=67108863&D}for(;T<this.length-y;T++)j=(D=(0|this.words[T+y])+j)>>26,this.words[T+y]=67108863&D;if(0===j)return this.strip();for(R(-1===j),j=0,T=0;T<this.length;T++)j=(D=-(0|this.words[T])+j)>>26,this.words[T]=67108863&D;return this.negative=1,this.strip()},S.prototype._wordDiv=function(u,h){var y,w=this.clone(),T=u,D=0|T.words[T.length-1];0!=(y=26-this._countBits(D))&&(T=T.ushln(y),w.iushln(y),D=0|T.words[T.length-1]);var l,A=w.length-T.length;if("mod"!==h){(l=new S(null)).length=A+1,l.words=new Array(l.length);for(var g=0;g<l.length;g++)l.words[g]=0}var G=w.clone()._ishlnsubmul(T,1,A);0===G.negative&&(w=G,l&&(l.words[A]=1));for(var H=A-1;H>=0;H--){var ne=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ne=Math.min(ne/D|0,67108863),w._ishlnsubmul(T,ne,H);0!==w.negative;)ne--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);l&&(l.words[H]=ne)}return l&&l.strip(),w.strip(),"div"!==h&&0!==y&&w.iushrn(y),{div:l||null,mod:w}},S.prototype.divmod=function(u,h,y){return R(!u.isZero()),this.isZero()?{div:new S(0),mod:new S(0)}:0!==this.negative&&0===u.negative?(D=this.neg().divmod(u,h),"mod"!==h&&(w=D.div.neg()),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(D=this.divmod(u.neg(),h),"mod"!==h&&(w=D.div.neg()),{div:w,mod:D.mod}):this.negative&u.negative?(D=this.neg().divmod(u.neg(),h),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.isub(u)),{div:D.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new S(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new S(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new S(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,D},S.prototype.div=function(u){return this.divmod(u,"div",!1).div},S.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},S.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},S.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var y=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),D=y.cmp(w);return D<0||1===T&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},S.prototype.modn=function(u){R(u<=67108863);for(var h=(1<<26)%u,y=0,w=this.length-1;w>=0;w--)y=(h*y+(0|this.words[w]))%u;return y},S.prototype.idivn=function(u){R(u<=67108863);for(var h=0,y=this.length-1;y>=0;y--){var w=(0|this.words[y])+67108864*h;this.words[y]=w/u|0,h=w%u}return this.strip()},S.prototype.divn=function(u){return this.clone().idivn(u)},S.prototype.egcd=function(u){R(0===u.negative),R(!u.isZero());var h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=new S(0),j=new S(1),A=0;h.isEven()&&y.isEven();)h.iushrn(1),y.iushrn(1),++A;for(var l=y.clone(),g=h.clone();!h.isZero();){for(var G=0,H=1;!(h.words[0]&H)&&G<26;++G,H<<=1);if(G>0)for(h.iushrn(G);G-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(l),T.isub(g)),w.iushrn(1),T.iushrn(1);for(var ne=0,ce=1;!(y.words[0]&ce)&&ne<26;++ne,ce<<=1);if(ne>0)for(y.iushrn(ne);ne-- >0;)(D.isOdd()||j.isOdd())&&(D.iadd(l),j.isub(g)),D.iushrn(1),j.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(D),T.isub(j)):(y.isub(h),D.isub(w),j.isub(T))}return{a:D,b:j,gcd:y.iushln(A)}},S.prototype._invmp=function(u){R(0===u.negative),R(!u.isZero());var G,h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=y.clone();h.cmpn(1)>0&&y.cmpn(1)>0;){for(var j=0,A=1;!(h.words[0]&A)&&j<26;++j,A<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(D),w.iushrn(1);for(var l=0,g=1;!(y.words[0]&g)&&l<26;++l,g<<=1);if(l>0)for(y.iushrn(l);l-- >0;)T.isOdd()&&T.iadd(D),T.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(T)):(y.isub(h),T.isub(w))}return(G=0===h.cmpn(1)?w:T).cmpn(0)<0&&G.iadd(u),G},S.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),y=u.clone();h.negative=0,y.negative=0;for(var w=0;h.isEven()&&y.isEven();w++)h.iushrn(1),y.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;y.isEven();)y.iushrn(1);var T=h.cmp(y);if(T<0){var D=h;h=y,y=D}else if(0===T||0===y.cmpn(1))break;h.isub(y)}return y.iushln(w)},S.prototype.invm=function(u){return this.egcd(u).a.umod(u)},S.prototype.isEven=function(){return!(1&this.words[0])},S.prototype.isOdd=function(){return!(1&~this.words[0])},S.prototype.andln=function(u){return this.words[0]&u},S.prototype.bincn=function(u){R("number"==typeof u);var h=u%26,y=(u-h)/26,w=1<<h;if(this.length<=y)return this._expand(y+1),this.words[y]|=w,this;for(var T=w,D=y;0!==T&&D<this.length;D++){var j=0|this.words[D];T=(j+=T)>>>26,this.words[D]=j&=67108863}return 0!==T&&(this.words[D]=T,this.length++),this},S.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},S.prototype.cmpn=function(u){var y,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)y=1;else{h&&(u=-u),R(u<=67108863,"Number is too big");var w=0|this.words[0];y=w===u?0:w<u?-1:1}return 0!==this.negative?0|-y:y},S.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},S.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,y=this.length-1;y>=0;y--){var w=0|this.words[y],T=0|u.words[y];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},S.prototype.gtn=function(u){return 1===this.cmpn(u)},S.prototype.gt=function(u){return 1===this.cmp(u)},S.prototype.gten=function(u){return this.cmpn(u)>=0},S.prototype.gte=function(u){return this.cmp(u)>=0},S.prototype.ltn=function(u){return-1===this.cmpn(u)},S.prototype.lt=function(u){return-1===this.cmp(u)},S.prototype.lten=function(u){return this.cmpn(u)<=0},S.prototype.lte=function(u){return this.cmp(u)<=0},S.prototype.eqn=function(u){return 0===this.cmpn(u)},S.prototype.eq=function(u){return 0===this.cmp(u)},S.red=function(u){return new we(u)},S.prototype.toRed=function(u){return R(!this.red,"Already a number in reduction context"),R(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},S.prototype.fromRed=function(){return R(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},S.prototype._forceRed=function(u){return this.red=u,this},S.prototype.forceRed=function(u){return R(!this.red,"Already a number in reduction context"),this._forceRed(u)},S.prototype.redAdd=function(u){return R(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},S.prototype.redIAdd=function(u){return R(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},S.prototype.redSub=function(u){return R(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},S.prototype.redISub=function(u){return R(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},S.prototype.redShl=function(u){return R(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},S.prototype.redMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},S.prototype.redIMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},S.prototype.redSqr=function(){return R(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},S.prototype.redISqr=function(){return R(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},S.prototype.redSqrt=function(){return R(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},S.prototype.redInvm=function(){return R(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},S.prototype.redNeg=function(){return R(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},S.prototype.redPow=function(u){return R(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var oe={k256:null,p224:null,p192:null,p25519:null};function se(k,u){this.name=k,this.p=new S(u,16),this.n=this.p.bitLength(),this.k=new S(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function pe(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var u=S._prime(k);this.m=u.p,this.prime=u}else R(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function De(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new S(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new S(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var y,h=u;do{this.split(h,this.tmp),y=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(y>this.n);var w=y<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},W(ae,se),ae.prototype.split=function(u,h){for(var y=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var D=u.words[9];for(h.words[h.length++]=D&y,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&y)<<4|D>>>22,D=j}u.words[T-10]=D>>>=22,u.length-=0===D&&u.length>10?10:9},ae.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,y=0;y<u.length;y++){var w=0|u.words[y];u.words[y]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},W(pe,se),W(le,se),W(ve,se),ve.prototype.imulK=function(u){for(var h=0,y=0;y<u.length;y++){var w=19*(0|u.words[y])+h,T=67108863&w;w>>>=26,u.words[y]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},S._prime=function(u){if(oe[u])return oe[u];var h;if("k256"===u)h=new ae;else if("p224"===u)h=new pe;else if("p192"===u)h=new le;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return oe[u]=h,h},we.prototype._verify1=function(u){R(0===u.negative,"red works only with positives"),R(u.red,"red works only with red numbers")},we.prototype._verify2=function(u,h){R(!(u.negative|h.negative),"red works only with positives"),R(u.red&&u.red===h.red,"red works only with red numbers")},we.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},we.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},we.prototype.add=function(u,h){this._verify2(u,h);var y=u.add(h);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},we.prototype.iadd=function(u,h){this._verify2(u,h);var y=u.iadd(h);return y.cmp(this.m)>=0&&y.isub(this.m),y},we.prototype.sub=function(u,h){this._verify2(u,h);var y=u.sub(h);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},we.prototype.isub=function(u,h){this._verify2(u,h);var y=u.isub(h);return y.cmpn(0)<0&&y.iadd(this.m),y},we.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},we.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},we.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},we.prototype.isqr=function(u){return this.imul(u,u.clone())},we.prototype.sqr=function(u){return this.mul(u,u)},we.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(R(h%2==1),3===h){var y=this.m.add(new S(1)).iushrn(2);return this.pow(u,y)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);R(!w.isZero());var D=new S(1).toRed(this),j=D.redNeg(),A=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new S(2*l*l).toRed(this);0!==this.pow(l,A).cmp(j);)l.redIAdd(j);for(var g=this.pow(l,w),G=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ne=T;0!==H.cmp(D);){for(var ce=H,Ae=0;0!==ce.cmp(D);Ae++)ce=ce.redSqr();R(Ae<ne);var ke=this.pow(g,new S(1).iushln(ne-Ae-1));G=G.redMul(ke),g=ke.redSqr(),H=H.redMul(g),ne=Ae}return G},we.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(u,h){if(h.isZero())return new S(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new S(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var D=w[0],j=0,A=0,l=h.bitLength()%26;for(0===l&&(l=26),T=h.length-1;T>=0;T--){for(var g=h.words[T],G=l-1;G>=0;G--){var H=g>>G&1;D!==w[0]&&(D=this.sqr(D)),0!==H||0!==j?(j<<=1,j|=H,(4==++A||0===T&&0===G)&&(D=this.mul(D,w[j]),A=0,j=0)):A=0}l=26}return D},we.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},we.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},S.mont=function(u){return new De(u)},W(De,we),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new S(0)._forceRed(this);var y=u.mul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Le=E.nmd(Le),this)},13981:(Le,z)=>{"use strict";z.byteLength=function M(V){var Z=L(V),te=Z[1];return 3*(Z[0]+te)/4-te},z.toByteArray=function $(V){var Z,ae,re=L(V),te=re[0],Q=re[1],J=new x(function N(V,Z,re){return 3*(Z+re)/4-re}(0,te,Q)),oe=0,se=Q>0?te-4:te;for(ae=0;ae<se;ae+=4)Z=m[V.charCodeAt(ae)]<<18|m[V.charCodeAt(ae+1)]<<12|m[V.charCodeAt(ae+2)]<<6|m[V.charCodeAt(ae+3)],J[oe++]=Z>>16&255,J[oe++]=Z>>8&255,J[oe++]=255&Z;return 2===Q&&(Z=m[V.charCodeAt(ae)]<<2|m[V.charCodeAt(ae+1)]>>4,J[oe++]=255&Z),1===Q&&(Z=m[V.charCodeAt(ae)]<<10|m[V.charCodeAt(ae+1)]<<4|m[V.charCodeAt(ae+2)]>>2,J[oe++]=Z>>8&255,J[oe++]=255&Z),J},z.fromByteArray=function X(V){for(var Z,re=V.length,te=re%3,Q=[],J=16383,oe=0,se=re-te;oe<se;oe+=J)Q.push(I(V,oe,oe+J>se?se:oe+J));return 1===te?Q.push(E[(Z=V[re-1])>>2]+E[Z<<4&63]+"=="):2===te&&Q.push(E[(Z=(V[re-2]<<8)+V[re-1])>>10]+E[Z>>4&63]+E[Z<<2&63]+"="),Q.join("")};for(var E=[],m=[],x=typeof Uint8Array<"u"?Uint8Array:Array,R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W=0;W<64;++W)E[W]=R[W],m[R.charCodeAt(W)]=W;function L(V){var Z=V.length;if(Z%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var re=V.indexOf("=");return-1===re&&(re=Z),[re,re===Z?0:4-re%4]}function F(V){return E[V>>18&63]+E[V>>12&63]+E[V>>6&63]+E[63&V]}function I(V,Z,re){for(var Q=[],J=Z;J<re;J+=3)Q.push(F((V[J]<<16&16711680)+(V[J+1]<<8&65280)+(255&V[J+2])));return Q.join("")}m[45]=62,m[95]=63},917:function(Le,z,E){!function(m,x){"use strict";function R(y,w){if(!y)throw new Error(w||"Assertion failed")}function W(y,w){y.super_=w;var T=function(){};T.prototype=w.prototype,y.prototype=new T,y.prototype.constructor=y}function S(y,w,T){if(S.isBN(y))return y;this.negative=0,this.words=null,this.length=0,this.red=null,null!==y&&(("le"===w||"be"===w)&&(T=w,w=10),this._init(y||0,w||10,T||"be"))}var L;"object"==typeof m?m.exports=S:x.BN=S,S.BN=S,S.wordSize=26;try{L=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(47790).Buffer}catch{}function M(y,w){var T=y.charCodeAt(w);return T>=48&&T<=57?T-48:T>=65&&T<=70?T-55:T>=97&&T<=102?T-87:void R(!1,"Invalid character in "+y)}function N(y,w,T){var D=M(y,T);return T-1>=w&&(D|=M(y,T-1)<<4),D}function $(y,w,T,D){for(var j=0,A=0,l=Math.min(y.length,T),g=w;g<l;g++){var G=y.charCodeAt(g)-48;j*=D,A=G>=49?G-49+10:G>=17?G-17+10:G,R(G>=0&&A<D,"Invalid character"),j+=A}return j}function F(y,w){y.words=w.words,y.length=w.length,y.negative=w.negative,y.red=w.red}if(S.isBN=function(w){return w instanceof S||null!==w&&"object"==typeof w&&w.constructor.wordSize===S.wordSize&&Array.isArray(w.words)},S.max=function(w,T){return w.cmp(T)>0?w:T},S.min=function(w,T){return w.cmp(T)<0?w:T},S.prototype._init=function(w,T,D){if("number"==typeof w)return this._initNumber(w,T,D);if("object"==typeof w)return this._initArray(w,T,D);"hex"===T&&(T=16),R(T===(0|T)&&T>=2&&T<=36);var j=0;"-"===(w=w.toString().replace(/\s+/g,""))[0]&&(j++,this.negative=1),j<w.length&&(16===T?this._parseHex(w,j,D):(this._parseBase(w,T,j),"le"===D&&this._initArray(this.toArray(),T,D)))},S.prototype._initNumber=function(w,T,D){w<0&&(this.negative=1,w=-w),w<67108864?(this.words=[67108863&w],this.length=1):w<4503599627370496?(this.words=[67108863&w,w/67108864&67108863],this.length=2):(R(w<9007199254740992),this.words=[67108863&w,w/67108864&67108863,1],this.length=3),"le"===D&&this._initArray(this.toArray(),T,D)},S.prototype._initArray=function(w,T,D){if(R("number"==typeof w.length),w.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(w.length/3),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var A,l,g=0;if("be"===D)for(j=w.length-1,A=0;j>=0;j-=3)this.words[A]|=(l=w[j]|w[j-1]<<8|w[j-2]<<16)<<g&67108863,this.words[A+1]=l>>>26-g&67108863,(g+=24)>=26&&(g-=26,A++);else if("le"===D)for(j=0,A=0;j<w.length;j+=3)this.words[A]|=(l=w[j]|w[j+1]<<8|w[j+2]<<16)<<g&67108863,this.words[A+1]=l>>>26-g&67108863,(g+=24)>=26&&(g-=26,A++);return this._strip()},S.prototype._parseHex=function(w,T,D){this.length=Math.ceil((w.length-T)/6),this.words=new Array(this.length);for(var j=0;j<this.length;j++)this.words[j]=0;var g,A=0,l=0;if("be"===D)for(j=w.length-1;j>=T;j-=2)g=N(w,T,j)<<A,this.words[l]|=67108863&g,A>=18?(A-=18,this.words[l+=1]|=g>>>26):A+=8;else for(j=(w.length-T)%2==0?T+1:T;j<w.length;j+=2)g=N(w,T,j)<<A,this.words[l]|=67108863&g,A>=18?(A-=18,this.words[l+=1]|=g>>>26):A+=8;this._strip()},S.prototype._parseBase=function(w,T,D){this.words=[0],this.length=1;for(var j=0,A=1;A<=67108863;A*=T)j++;j--,A=A/T|0;for(var l=w.length-D,g=l%j,G=Math.min(l,l-g)+D,H=0,ne=D;ne<G;ne+=j)H=$(w,ne,ne+j,T),this.imuln(A),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H);if(0!==g){var ce=1;for(H=$(w,ne,w.length,T),ne=0;ne<g;ne++)ce*=T;this.imuln(ce),this.words[0]+H<67108864?this.words[0]+=H:this._iaddn(H)}this._strip()},S.prototype.copy=function(w){w.words=new Array(this.length);for(var T=0;T<this.length;T++)w.words[T]=this.words[T];w.length=this.length,w.negative=this.negative,w.red=this.red},S.prototype._move=function(w){F(w,this)},S.prototype.clone=function(){var w=new S(null);return this.copy(w),w},S.prototype._expand=function(w){for(;this.length<w;)this.words[this.length++]=0;return this},S.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},S.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{S.prototype[Symbol.for("nodejs.util.inspect.custom")]=I}catch{S.prototype.inspect=I}else S.prototype.inspect=I;function I(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var X=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],V=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Z=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Q(y,w,T){T.negative=w.negative^y.negative;var D=y.length+w.length|0;T.length=D,D=D-1|0;var j=0|y.words[0],A=0|w.words[0],l=j*A,G=l/67108864|0;T.words[0]=67108863&l;for(var H=1;H<D;H++){for(var ne=G>>>26,ce=67108863&G,Ae=Math.min(H,w.length-1),ke=Math.max(0,H-y.length+1);ke<=Ae;ke++)ne+=(l=(j=0|y.words[H-ke|0])*(A=0|w.words[ke])+ce)/67108864|0,ce=67108863&l;T.words[H]=0|ce,G=0|ne}return 0!==G?T.words[H]=0|G:T.length--,T._strip()}S.prototype.toString=function(w,T){var D;if(T=0|T||1,16===(w=w||10)||"hex"===w){D="";for(var j=0,A=0,l=0;l<this.length;l++){var g=this.words[l],G=(16777215&(g<<j|A)).toString(16);A=g>>>24-j&16777215,(j+=2)>=26&&(j-=26,l--),D=0!==A||l!==this.length-1?X[6-G.length]+G+D:G+D}for(0!==A&&(D=A.toString(16)+D);D.length%T!=0;)D="0"+D;return 0!==this.negative&&(D="-"+D),D}if(w===(0|w)&&w>=2&&w<=36){var H=V[w],ne=Z[w];D="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var Ae=ce.modrn(ne).toString(w);D=(ce=ce.idivn(ne)).isZero()?Ae+D:X[H-Ae.length]+Ae+D}for(this.isZero()&&(D="0"+D);D.length%T!=0;)D="0"+D;return 0!==this.negative&&(D="-"+D),D}R(!1,"Base should be between 2 and 36")},S.prototype.toNumber=function(){var w=this.words[0];return 2===this.length?w+=67108864*this.words[1]:3===this.length&&1===this.words[2]?w+=4503599627370496+67108864*this.words[1]:this.length>2&&R(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-w:w},S.prototype.toJSON=function(){return this.toString(16,2)},L&&(S.prototype.toBuffer=function(w,T){return this.toArrayLike(L,w,T)}),S.prototype.toArray=function(w,T){return this.toArrayLike(Array,w,T)},S.prototype.toArrayLike=function(w,T,D){this._strip();var j=this.byteLength(),A=D||Math.max(1,j);R(j<=A,"byte array longer than desired length"),R(A>0,"Requested array length <= 0");var l=function(w,T){return w.allocUnsafe?w.allocUnsafe(T):new w(T)}(w,A);return this["_toArrayLike"+("le"===T?"LE":"BE")](l,j),l},S.prototype._toArrayLikeLE=function(w,T){for(var D=0,j=0,A=0,l=0;A<this.length;A++){var g=this.words[A]<<l|j;w[D++]=255&g,D<w.length&&(w[D++]=g>>8&255),D<w.length&&(w[D++]=g>>16&255),6===l?(D<w.length&&(w[D++]=g>>24&255),j=0,l=0):(j=g>>>24,l+=2)}if(D<w.length)for(w[D++]=j;D<w.length;)w[D++]=0},S.prototype._toArrayLikeBE=function(w,T){for(var D=w.length-1,j=0,A=0,l=0;A<this.length;A++){var g=this.words[A]<<l|j;w[D--]=255&g,D>=0&&(w[D--]=g>>8&255),D>=0&&(w[D--]=g>>16&255),6===l?(D>=0&&(w[D--]=g>>24&255),j=0,l=0):(j=g>>>24,l+=2)}if(D>=0)for(w[D--]=j;D>=0;)w[D--]=0},S.prototype._countBits=Math.clz32?function(w){return 32-Math.clz32(w)}:function(w){var T=w,D=0;return T>=4096&&(D+=13,T>>>=13),T>=64&&(D+=7,T>>>=7),T>=8&&(D+=4,T>>>=4),T>=2&&(D+=2,T>>>=2),D+T},S.prototype._zeroBits=function(w){if(0===w)return 26;var T=w,D=0;return 8191&T||(D+=13,T>>>=13),127&T||(D+=7,T>>>=7),15&T||(D+=4,T>>>=4),3&T||(D+=2,T>>>=2),1&T||D++,D},S.prototype.bitLength=function(){var T=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+T},S.prototype.zeroBits=function(){if(this.isZero())return 0;for(var w=0,T=0;T<this.length;T++){var D=this._zeroBits(this.words[T]);if(w+=D,26!==D)break}return w},S.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},S.prototype.toTwos=function(w){return 0!==this.negative?this.abs().inotn(w).iaddn(1):this.clone()},S.prototype.fromTwos=function(w){return this.testn(w-1)?this.notn(w).iaddn(1).ineg():this.clone()},S.prototype.isNeg=function(){return 0!==this.negative},S.prototype.neg=function(){return this.clone().ineg()},S.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},S.prototype.iuor=function(w){for(;this.length<w.length;)this.words[this.length++]=0;for(var T=0;T<w.length;T++)this.words[T]=this.words[T]|w.words[T];return this._strip()},S.prototype.ior=function(w){return R(!(this.negative|w.negative)),this.iuor(w)},S.prototype.or=function(w){return this.length>w.length?this.clone().ior(w):w.clone().ior(this)},S.prototype.uor=function(w){return this.length>w.length?this.clone().iuor(w):w.clone().iuor(this)},S.prototype.iuand=function(w){var T;T=this.length>w.length?w:this;for(var D=0;D<T.length;D++)this.words[D]=this.words[D]&w.words[D];return this.length=T.length,this._strip()},S.prototype.iand=function(w){return R(!(this.negative|w.negative)),this.iuand(w)},S.prototype.and=function(w){return this.length>w.length?this.clone().iand(w):w.clone().iand(this)},S.prototype.uand=function(w){return this.length>w.length?this.clone().iuand(w):w.clone().iuand(this)},S.prototype.iuxor=function(w){var T,D;this.length>w.length?(T=this,D=w):(T=w,D=this);for(var j=0;j<D.length;j++)this.words[j]=T.words[j]^D.words[j];if(this!==T)for(;j<T.length;j++)this.words[j]=T.words[j];return this.length=T.length,this._strip()},S.prototype.ixor=function(w){return R(!(this.negative|w.negative)),this.iuxor(w)},S.prototype.xor=function(w){return this.length>w.length?this.clone().ixor(w):w.clone().ixor(this)},S.prototype.uxor=function(w){return this.length>w.length?this.clone().iuxor(w):w.clone().iuxor(this)},S.prototype.inotn=function(w){R("number"==typeof w&&w>=0);var T=0|Math.ceil(w/26),D=w%26;this._expand(T),D>0&&T--;for(var j=0;j<T;j++)this.words[j]=67108863&~this.words[j];return D>0&&(this.words[j]=~this.words[j]&67108863>>26-D),this._strip()},S.prototype.notn=function(w){return this.clone().inotn(w)},S.prototype.setn=function(w,T){R("number"==typeof w&&w>=0);var D=w/26|0,j=w%26;return this._expand(D+1),this.words[D]=T?this.words[D]|1<<j:this.words[D]&~(1<<j),this._strip()},S.prototype.iadd=function(w){var T,D,j;if(0!==this.negative&&0===w.negative)return this.negative=0,T=this.isub(w),this.negative^=1,this._normSign();if(0===this.negative&&0!==w.negative)return w.negative=0,T=this.isub(w),w.negative=1,T._normSign();this.length>w.length?(D=this,j=w):(D=w,j=this);for(var A=0,l=0;l<j.length;l++)this.words[l]=67108863&(T=(0|D.words[l])+(0|j.words[l])+A),A=T>>>26;for(;0!==A&&l<D.length;l++)this.words[l]=67108863&(T=(0|D.words[l])+A),A=T>>>26;if(this.length=D.length,0!==A)this.words[this.length]=A,this.length++;else if(D!==this)for(;l<D.length;l++)this.words[l]=D.words[l];return this},S.prototype.add=function(w){var T;return 0!==w.negative&&0===this.negative?(w.negative=0,T=this.sub(w),w.negative^=1,T):0===w.negative&&0!==this.negative?(this.negative=0,T=w.sub(this),this.negative=1,T):this.length>w.length?this.clone().iadd(w):w.clone().iadd(this)},S.prototype.isub=function(w){if(0!==w.negative){w.negative=0;var T=this.iadd(w);return w.negative=1,T._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(w),this.negative=1,this._normSign();var j,A,D=this.cmp(w);if(0===D)return this.negative=0,this.length=1,this.words[0]=0,this;D>0?(j=this,A=w):(j=w,A=this);for(var l=0,g=0;g<A.length;g++)l=(T=(0|j.words[g])-(0|A.words[g])+l)>>26,this.words[g]=67108863&T;for(;0!==l&&g<j.length;g++)l=(T=(0|j.words[g])+l)>>26,this.words[g]=67108863&T;if(0===l&&g<j.length&&j!==this)for(;g<j.length;g++)this.words[g]=j.words[g];return this.length=Math.max(this.length,g),j!==this&&(this.negative=1),this._strip()},S.prototype.sub=function(w){return this.clone().isub(w)};var J=function(w,T,D){var G,H,ne,j=w.words,A=T.words,l=D.words,g=0,ce=0|j[0],Ae=8191&ce,ke=ce>>>13,Fe=0|j[1],Ee=8191&Fe,ge=Fe>>>13,Oe=0|j[2],ye=8191&Oe,Se=Oe>>>13,he=0|j[3],fe=8191&he,ee=he>>>13,ie=0|j[4],ue=8191&ie,be=ie>>>13,Ie=0|j[5],Ne=8191&Ie,Be=Ie>>>13,yt=0|j[6],Ke=8191&yt,Re=yt>>>13,ot=0|j[7],U=8191&ot,_=ot>>>13,p=0|j[8],O=8191&p,q=p>>>13,me=0|j[9],xe=8191&me,qe=me>>>13,At=0|A[0],ut=8191&At,bt=At>>>13,Lt=0|A[1],en=8191&Lt,Zt=Lt>>>13,Jn=0|A[2],yn=8191&Jn,Vt=Jn>>>13,$t=0|A[3],mt=8191&$t,st=$t>>>13,Nt=0|A[4],Kt=8191&Nt,qt=Nt>>>13,or=0|A[5],ft=8191&or,gt=or>>>13,vt=0|A[6],He=8191&vt,Je=vt>>>13,Bt=0|A[7],Tt=8191&Bt,Yt=Bt>>>13,Pn=0|A[8],cn=8191&Pn,pn=Pn>>>13,vr=0|A[9],Un=8191&vr,An=vr>>>13;D.negative=w.negative^T.negative,D.length=19;var On=(g+(G=Math.imul(Ae,ut))|0)+((8191&(H=(H=Math.imul(Ae,bt))+Math.imul(ke,ut)|0))<<13)|0;g=((ne=Math.imul(ke,bt))+(H>>>13)|0)+(On>>>26)|0,On&=67108863,G=Math.imul(Ee,ut),H=(H=Math.imul(Ee,bt))+Math.imul(ge,ut)|0,ne=Math.imul(ge,bt);var nt=(g+(G=G+Math.imul(Ae,en)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,Zt)|0)+Math.imul(ke,en)|0))<<13)|0;g=((ne=ne+Math.imul(ke,Zt)|0)+(H>>>13)|0)+(nt>>>26)|0,nt&=67108863,G=Math.imul(ye,ut),H=(H=Math.imul(ye,bt))+Math.imul(Se,ut)|0,ne=Math.imul(Se,bt),G=G+Math.imul(Ee,en)|0,H=(H=H+Math.imul(Ee,Zt)|0)+Math.imul(ge,en)|0,ne=ne+Math.imul(ge,Zt)|0;var $e=(g+(G=G+Math.imul(Ae,yn)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,Vt)|0)+Math.imul(ke,yn)|0))<<13)|0;g=((ne=ne+Math.imul(ke,Vt)|0)+(H>>>13)|0)+($e>>>26)|0,$e&=67108863,G=Math.imul(fe,ut),H=(H=Math.imul(fe,bt))+Math.imul(ee,ut)|0,ne=Math.imul(ee,bt),G=G+Math.imul(ye,en)|0,H=(H=H+Math.imul(ye,Zt)|0)+Math.imul(Se,en)|0,ne=ne+Math.imul(Se,Zt)|0,G=G+Math.imul(Ee,yn)|0,H=(H=H+Math.imul(Ee,Vt)|0)+Math.imul(ge,yn)|0,ne=ne+Math.imul(ge,Vt)|0;var it=(g+(G=G+Math.imul(Ae,mt)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,st)|0)+Math.imul(ke,mt)|0))<<13)|0;g=((ne=ne+Math.imul(ke,st)|0)+(H>>>13)|0)+(it>>>26)|0,it&=67108863,G=Math.imul(ue,ut),H=(H=Math.imul(ue,bt))+Math.imul(be,ut)|0,ne=Math.imul(be,bt),G=G+Math.imul(fe,en)|0,H=(H=H+Math.imul(fe,Zt)|0)+Math.imul(ee,en)|0,ne=ne+Math.imul(ee,Zt)|0,G=G+Math.imul(ye,yn)|0,H=(H=H+Math.imul(ye,Vt)|0)+Math.imul(Se,yn)|0,ne=ne+Math.imul(Se,Vt)|0,G=G+Math.imul(Ee,mt)|0,H=(H=H+Math.imul(Ee,st)|0)+Math.imul(ge,mt)|0,ne=ne+Math.imul(ge,st)|0;var jt=(g+(G=G+Math.imul(Ae,Kt)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,qt)|0)+Math.imul(ke,Kt)|0))<<13)|0;g=((ne=ne+Math.imul(ke,qt)|0)+(H>>>13)|0)+(jt>>>26)|0,jt&=67108863,G=Math.imul(Ne,ut),H=(H=Math.imul(Ne,bt))+Math.imul(Be,ut)|0,ne=Math.imul(Be,bt),G=G+Math.imul(ue,en)|0,H=(H=H+Math.imul(ue,Zt)|0)+Math.imul(be,en)|0,ne=ne+Math.imul(be,Zt)|0,G=G+Math.imul(fe,yn)|0,H=(H=H+Math.imul(fe,Vt)|0)+Math.imul(ee,yn)|0,ne=ne+Math.imul(ee,Vt)|0,G=G+Math.imul(ye,mt)|0,H=(H=H+Math.imul(ye,st)|0)+Math.imul(Se,mt)|0,ne=ne+Math.imul(Se,st)|0,G=G+Math.imul(Ee,Kt)|0,H=(H=H+Math.imul(Ee,qt)|0)+Math.imul(ge,Kt)|0,ne=ne+Math.imul(ge,qt)|0;var dn=(g+(G=G+Math.imul(Ae,ft)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,gt)|0)+Math.imul(ke,ft)|0))<<13)|0;g=((ne=ne+Math.imul(ke,gt)|0)+(H>>>13)|0)+(dn>>>26)|0,dn&=67108863,G=Math.imul(Ke,ut),H=(H=Math.imul(Ke,bt))+Math.imul(Re,ut)|0,ne=Math.imul(Re,bt),G=G+Math.imul(Ne,en)|0,H=(H=H+Math.imul(Ne,Zt)|0)+Math.imul(Be,en)|0,ne=ne+Math.imul(Be,Zt)|0,G=G+Math.imul(ue,yn)|0,H=(H=H+Math.imul(ue,Vt)|0)+Math.imul(be,yn)|0,ne=ne+Math.imul(be,Vt)|0,G=G+Math.imul(fe,mt)|0,H=(H=H+Math.imul(fe,st)|0)+Math.imul(ee,mt)|0,ne=ne+Math.imul(ee,st)|0,G=G+Math.imul(ye,Kt)|0,H=(H=H+Math.imul(ye,qt)|0)+Math.imul(Se,Kt)|0,ne=ne+Math.imul(Se,qt)|0,G=G+Math.imul(Ee,ft)|0,H=(H=H+Math.imul(Ee,gt)|0)+Math.imul(ge,ft)|0,ne=ne+Math.imul(ge,gt)|0;var Rn=(g+(G=G+Math.imul(Ae,He)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,Je)|0)+Math.imul(ke,He)|0))<<13)|0;g=((ne=ne+Math.imul(ke,Je)|0)+(H>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,G=Math.imul(U,ut),H=(H=Math.imul(U,bt))+Math.imul(_,ut)|0,ne=Math.imul(_,bt),G=G+Math.imul(Ke,en)|0,H=(H=H+Math.imul(Ke,Zt)|0)+Math.imul(Re,en)|0,ne=ne+Math.imul(Re,Zt)|0,G=G+Math.imul(Ne,yn)|0,H=(H=H+Math.imul(Ne,Vt)|0)+Math.imul(Be,yn)|0,ne=ne+Math.imul(Be,Vt)|0,G=G+Math.imul(ue,mt)|0,H=(H=H+Math.imul(ue,st)|0)+Math.imul(be,mt)|0,ne=ne+Math.imul(be,st)|0,G=G+Math.imul(fe,Kt)|0,H=(H=H+Math.imul(fe,qt)|0)+Math.imul(ee,Kt)|0,ne=ne+Math.imul(ee,qt)|0,G=G+Math.imul(ye,ft)|0,H=(H=H+Math.imul(ye,gt)|0)+Math.imul(Se,ft)|0,ne=ne+Math.imul(Se,gt)|0,G=G+Math.imul(Ee,He)|0,H=(H=H+Math.imul(Ee,Je)|0)+Math.imul(ge,He)|0,ne=ne+Math.imul(ge,Je)|0;var Kn=(g+(G=G+Math.imul(Ae,Tt)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,Yt)|0)+Math.imul(ke,Tt)|0))<<13)|0;g=((ne=ne+Math.imul(ke,Yt)|0)+(H>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,G=Math.imul(O,ut),H=(H=Math.imul(O,bt))+Math.imul(q,ut)|0,ne=Math.imul(q,bt),G=G+Math.imul(U,en)|0,H=(H=H+Math.imul(U,Zt)|0)+Math.imul(_,en)|0,ne=ne+Math.imul(_,Zt)|0,G=G+Math.imul(Ke,yn)|0,H=(H=H+Math.imul(Ke,Vt)|0)+Math.imul(Re,yn)|0,ne=ne+Math.imul(Re,Vt)|0,G=G+Math.imul(Ne,mt)|0,H=(H=H+Math.imul(Ne,st)|0)+Math.imul(Be,mt)|0,ne=ne+Math.imul(Be,st)|0,G=G+Math.imul(ue,Kt)|0,H=(H=H+Math.imul(ue,qt)|0)+Math.imul(be,Kt)|0,ne=ne+Math.imul(be,qt)|0,G=G+Math.imul(fe,ft)|0,H=(H=H+Math.imul(fe,gt)|0)+Math.imul(ee,ft)|0,ne=ne+Math.imul(ee,gt)|0,G=G+Math.imul(ye,He)|0,H=(H=H+Math.imul(ye,Je)|0)+Math.imul(Se,He)|0,ne=ne+Math.imul(Se,Je)|0,G=G+Math.imul(Ee,Tt)|0,H=(H=H+Math.imul(Ee,Yt)|0)+Math.imul(ge,Tt)|0,ne=ne+Math.imul(ge,Yt)|0;var tr=(g+(G=G+Math.imul(Ae,cn)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,pn)|0)+Math.imul(ke,cn)|0))<<13)|0;g=((ne=ne+Math.imul(ke,pn)|0)+(H>>>13)|0)+(tr>>>26)|0,tr&=67108863,G=Math.imul(xe,ut),H=(H=Math.imul(xe,bt))+Math.imul(qe,ut)|0,ne=Math.imul(qe,bt),G=G+Math.imul(O,en)|0,H=(H=H+Math.imul(O,Zt)|0)+Math.imul(q,en)|0,ne=ne+Math.imul(q,Zt)|0,G=G+Math.imul(U,yn)|0,H=(H=H+Math.imul(U,Vt)|0)+Math.imul(_,yn)|0,ne=ne+Math.imul(_,Vt)|0,G=G+Math.imul(Ke,mt)|0,H=(H=H+Math.imul(Ke,st)|0)+Math.imul(Re,mt)|0,ne=ne+Math.imul(Re,st)|0,G=G+Math.imul(Ne,Kt)|0,H=(H=H+Math.imul(Ne,qt)|0)+Math.imul(Be,Kt)|0,ne=ne+Math.imul(Be,qt)|0,G=G+Math.imul(ue,ft)|0,H=(H=H+Math.imul(ue,gt)|0)+Math.imul(be,ft)|0,ne=ne+Math.imul(be,gt)|0,G=G+Math.imul(fe,He)|0,H=(H=H+Math.imul(fe,Je)|0)+Math.imul(ee,He)|0,ne=ne+Math.imul(ee,Je)|0,G=G+Math.imul(ye,Tt)|0,H=(H=H+Math.imul(ye,Yt)|0)+Math.imul(Se,Tt)|0,ne=ne+Math.imul(Se,Yt)|0,G=G+Math.imul(Ee,cn)|0,H=(H=H+Math.imul(Ee,pn)|0)+Math.imul(ge,cn)|0,ne=ne+Math.imul(ge,pn)|0;var Ar=(g+(G=G+Math.imul(Ae,Un)|0)|0)+((8191&(H=(H=H+Math.imul(Ae,An)|0)+Math.imul(ke,Un)|0))<<13)|0;g=((ne=ne+Math.imul(ke,An)|0)+(H>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,G=Math.imul(xe,en),H=(H=Math.imul(xe,Zt))+Math.imul(qe,en)|0,ne=Math.imul(qe,Zt),G=G+Math.imul(O,yn)|0,H=(H=H+Math.imul(O,Vt)|0)+Math.imul(q,yn)|0,ne=ne+Math.imul(q,Vt)|0,G=G+Math.imul(U,mt)|0,H=(H=H+Math.imul(U,st)|0)+Math.imul(_,mt)|0,ne=ne+Math.imul(_,st)|0,G=G+Math.imul(Ke,Kt)|0,H=(H=H+Math.imul(Ke,qt)|0)+Math.imul(Re,Kt)|0,ne=ne+Math.imul(Re,qt)|0,G=G+Math.imul(Ne,ft)|0,H=(H=H+Math.imul(Ne,gt)|0)+Math.imul(Be,ft)|0,ne=ne+Math.imul(Be,gt)|0,G=G+Math.imul(ue,He)|0,H=(H=H+Math.imul(ue,Je)|0)+Math.imul(be,He)|0,ne=ne+Math.imul(be,Je)|0,G=G+Math.imul(fe,Tt)|0,H=(H=H+Math.imul(fe,Yt)|0)+Math.imul(ee,Tt)|0,ne=ne+Math.imul(ee,Yt)|0,G=G+Math.imul(ye,cn)|0,H=(H=H+Math.imul(ye,pn)|0)+Math.imul(Se,cn)|0,ne=ne+Math.imul(Se,pn)|0;var _r=(g+(G=G+Math.imul(Ee,Un)|0)|0)+((8191&(H=(H=H+Math.imul(Ee,An)|0)+Math.imul(ge,Un)|0))<<13)|0;g=((ne=ne+Math.imul(ge,An)|0)+(H>>>13)|0)+(_r>>>26)|0,_r&=67108863,G=Math.imul(xe,yn),H=(H=Math.imul(xe,Vt))+Math.imul(qe,yn)|0,ne=Math.imul(qe,Vt),G=G+Math.imul(O,mt)|0,H=(H=H+Math.imul(O,st)|0)+Math.imul(q,mt)|0,ne=ne+Math.imul(q,st)|0,G=G+Math.imul(U,Kt)|0,H=(H=H+Math.imul(U,qt)|0)+Math.imul(_,Kt)|0,ne=ne+Math.imul(_,qt)|0,G=G+Math.imul(Ke,ft)|0,H=(H=H+Math.imul(Ke,gt)|0)+Math.imul(Re,ft)|0,ne=ne+Math.imul(Re,gt)|0,G=G+Math.imul(Ne,He)|0,H=(H=H+Math.imul(Ne,Je)|0)+Math.imul(Be,He)|0,ne=ne+Math.imul(Be,Je)|0,G=G+Math.imul(ue,Tt)|0,H=(H=H+Math.imul(ue,Yt)|0)+Math.imul(be,Tt)|0,ne=ne+Math.imul(be,Yt)|0,G=G+Math.imul(fe,cn)|0,H=(H=H+Math.imul(fe,pn)|0)+Math.imul(ee,cn)|0,ne=ne+Math.imul(ee,pn)|0;var Pr=(g+(G=G+Math.imul(ye,Un)|0)|0)+((8191&(H=(H=H+Math.imul(ye,An)|0)+Math.imul(Se,Un)|0))<<13)|0;g=((ne=ne+Math.imul(Se,An)|0)+(H>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,G=Math.imul(xe,mt),H=(H=Math.imul(xe,st))+Math.imul(qe,mt)|0,ne=Math.imul(qe,st),G=G+Math.imul(O,Kt)|0,H=(H=H+Math.imul(O,qt)|0)+Math.imul(q,Kt)|0,ne=ne+Math.imul(q,qt)|0,G=G+Math.imul(U,ft)|0,H=(H=H+Math.imul(U,gt)|0)+Math.imul(_,ft)|0,ne=ne+Math.imul(_,gt)|0,G=G+Math.imul(Ke,He)|0,H=(H=H+Math.imul(Ke,Je)|0)+Math.imul(Re,He)|0,ne=ne+Math.imul(Re,Je)|0,G=G+Math.imul(Ne,Tt)|0,H=(H=H+Math.imul(Ne,Yt)|0)+Math.imul(Be,Tt)|0,ne=ne+Math.imul(Be,Yt)|0,G=G+Math.imul(ue,cn)|0,H=(H=H+Math.imul(ue,pn)|0)+Math.imul(be,cn)|0,ne=ne+Math.imul(be,pn)|0;var $r=(g+(G=G+Math.imul(fe,Un)|0)|0)+((8191&(H=(H=H+Math.imul(fe,An)|0)+Math.imul(ee,Un)|0))<<13)|0;g=((ne=ne+Math.imul(ee,An)|0)+(H>>>13)|0)+($r>>>26)|0,$r&=67108863,G=Math.imul(xe,Kt),H=(H=Math.imul(xe,qt))+Math.imul(qe,Kt)|0,ne=Math.imul(qe,qt),G=G+Math.imul(O,ft)|0,H=(H=H+Math.imul(O,gt)|0)+Math.imul(q,ft)|0,ne=ne+Math.imul(q,gt)|0,G=G+Math.imul(U,He)|0,H=(H=H+Math.imul(U,Je)|0)+Math.imul(_,He)|0,ne=ne+Math.imul(_,Je)|0,G=G+Math.imul(Ke,Tt)|0,H=(H=H+Math.imul(Ke,Yt)|0)+Math.imul(Re,Tt)|0,ne=ne+Math.imul(Re,Yt)|0,G=G+Math.imul(Ne,cn)|0,H=(H=H+Math.imul(Ne,pn)|0)+Math.imul(Be,cn)|0,ne=ne+Math.imul(Be,pn)|0;var zr=(g+(G=G+Math.imul(ue,Un)|0)|0)+((8191&(H=(H=H+Math.imul(ue,An)|0)+Math.imul(be,Un)|0))<<13)|0;g=((ne=ne+Math.imul(be,An)|0)+(H>>>13)|0)+(zr>>>26)|0,zr&=67108863,G=Math.imul(xe,ft),H=(H=Math.imul(xe,gt))+Math.imul(qe,ft)|0,ne=Math.imul(qe,gt),G=G+Math.imul(O,He)|0,H=(H=H+Math.imul(O,Je)|0)+Math.imul(q,He)|0,ne=ne+Math.imul(q,Je)|0,G=G+Math.imul(U,Tt)|0,H=(H=H+Math.imul(U,Yt)|0)+Math.imul(_,Tt)|0,ne=ne+Math.imul(_,Yt)|0,G=G+Math.imul(Ke,cn)|0,H=(H=H+Math.imul(Ke,pn)|0)+Math.imul(Re,cn)|0,ne=ne+Math.imul(Re,pn)|0;var Ht=(g+(G=G+Math.imul(Ne,Un)|0)|0)+((8191&(H=(H=H+Math.imul(Ne,An)|0)+Math.imul(Be,Un)|0))<<13)|0;g=((ne=ne+Math.imul(Be,An)|0)+(H>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,G=Math.imul(xe,He),H=(H=Math.imul(xe,Je))+Math.imul(qe,He)|0,ne=Math.imul(qe,Je),G=G+Math.imul(O,Tt)|0,H=(H=H+Math.imul(O,Yt)|0)+Math.imul(q,Tt)|0,ne=ne+Math.imul(q,Yt)|0,G=G+Math.imul(U,cn)|0,H=(H=H+Math.imul(U,pn)|0)+Math.imul(_,cn)|0,ne=ne+Math.imul(_,pn)|0;var ln=(g+(G=G+Math.imul(Ke,Un)|0)|0)+((8191&(H=(H=H+Math.imul(Ke,An)|0)+Math.imul(Re,Un)|0))<<13)|0;g=((ne=ne+Math.imul(Re,An)|0)+(H>>>13)|0)+(ln>>>26)|0,ln&=67108863,G=Math.imul(xe,Tt),H=(H=Math.imul(xe,Yt))+Math.imul(qe,Tt)|0,ne=Math.imul(qe,Yt),G=G+Math.imul(O,cn)|0,H=(H=H+Math.imul(O,pn)|0)+Math.imul(q,cn)|0,ne=ne+Math.imul(q,pn)|0;var vn=(g+(G=G+Math.imul(U,Un)|0)|0)+((8191&(H=(H=H+Math.imul(U,An)|0)+Math.imul(_,Un)|0))<<13)|0;g=((ne=ne+Math.imul(_,An)|0)+(H>>>13)|0)+(vn>>>26)|0,vn&=67108863,G=Math.imul(xe,cn),H=(H=Math.imul(xe,pn))+Math.imul(qe,cn)|0,ne=Math.imul(qe,pn);var Dn=(g+(G=G+Math.imul(O,Un)|0)|0)+((8191&(H=(H=H+Math.imul(O,An)|0)+Math.imul(q,Un)|0))<<13)|0;g=((ne=ne+Math.imul(q,An)|0)+(H>>>13)|0)+(Dn>>>26)|0,Dn&=67108863;var er=(g+(G=Math.imul(xe,Un))|0)+((8191&(H=(H=Math.imul(xe,An))+Math.imul(qe,Un)|0))<<13)|0;return g=((ne=Math.imul(qe,An))+(H>>>13)|0)+(er>>>26)|0,er&=67108863,l[0]=On,l[1]=nt,l[2]=$e,l[3]=it,l[4]=jt,l[5]=dn,l[6]=Rn,l[7]=Kn,l[8]=tr,l[9]=Ar,l[10]=_r,l[11]=Pr,l[12]=$r,l[13]=zr,l[14]=Ht,l[15]=ln,l[16]=vn,l[17]=Dn,l[18]=er,0!==g&&(l[19]=g,D.length++),D};function oe(y,w,T){T.negative=w.negative^y.negative,T.length=y.length+w.length;for(var D=0,j=0,A=0;A<T.length-1;A++){var l=j;j=0;for(var g=67108863&D,G=Math.min(A,w.length-1),H=Math.max(0,A-y.length+1);H<=G;H++){var ke=(0|y.words[A-H])*(0|w.words[H]),Fe=67108863&ke;g=67108863&(Fe=Fe+g|0),j+=(l=(l=l+(ke/67108864|0)|0)+(Fe>>>26)|0)>>>26,l&=67108863}T.words[A]=g,D=l,l=j}return 0!==D?T.words[A]=D:T.length--,T._strip()}function se(y,w,T){return oe(y,w,T)}function ae(y,w){this.x=y,this.y=w}Math.imul||(J=Q),S.prototype.mulTo=function(w,T){var j=this.length+w.length;return 10===this.length&&10===w.length?J(this,w,T):j<63?Q(this,w,T):j<1024?oe(this,w,T):se(this,w,T)},ae.prototype.makeRBT=function(w){for(var T=new Array(w),D=S.prototype._countBits(w)-1,j=0;j<w;j++)T[j]=this.revBin(j,D,w);return T},ae.prototype.revBin=function(w,T,D){if(0===w||w===D-1)return w;for(var j=0,A=0;A<T;A++)j|=(1&w)<<T-A-1,w>>=1;return j},ae.prototype.permute=function(w,T,D,j,A,l){for(var g=0;g<l;g++)j[g]=T[w[g]],A[g]=D[w[g]]},ae.prototype.transform=function(w,T,D,j,A,l){this.permute(l,w,T,D,j,A);for(var g=1;g<A;g<<=1)for(var G=g<<1,H=Math.cos(2*Math.PI/G),ne=Math.sin(2*Math.PI/G),ce=0;ce<A;ce+=G)for(var Ae=H,ke=ne,Fe=0;Fe<g;Fe++){var Ee=D[ce+Fe],ge=j[ce+Fe],Oe=D[ce+Fe+g],ye=j[ce+Fe+g],Se=Ae*Oe-ke*ye;ye=Ae*ye+ke*Oe,D[ce+Fe]=Ee+(Oe=Se),j[ce+Fe]=ge+ye,D[ce+Fe+g]=Ee-Oe,j[ce+Fe+g]=ge-ye,Fe!==G&&(Se=H*Ae-ne*ke,ke=H*ke+ne*Ae,Ae=Se)}},ae.prototype.guessLen13b=function(w,T){var D=1|Math.max(T,w),j=1&D,A=0;for(D=D/2|0;D;D>>>=1)A++;return 1<<A+1+j},ae.prototype.conjugate=function(w,T,D){if(!(D<=1))for(var j=0;j<D/2;j++){var A=w[j];w[j]=w[D-j-1],w[D-j-1]=A,A=T[j],T[j]=-T[D-j-1],T[D-j-1]=-A}},ae.prototype.normalize13b=function(w,T){for(var D=0,j=0;j<T/2;j++){var A=8192*Math.round(w[2*j+1]/T)+Math.round(w[2*j]/T)+D;w[j]=67108863&A,D=A<67108864?0:A/67108864|0}return w},ae.prototype.convert13b=function(w,T,D,j){for(var A=0,l=0;l<T;l++)D[2*l]=8191&(A+=0|w[l]),D[2*l+1]=8191&(A>>>=13),A>>>=13;for(l=2*T;l<j;++l)D[l]=0;R(0===A),R(!(-8192&A))},ae.prototype.stub=function(w){for(var T=new Array(w),D=0;D<w;D++)T[D]=0;return T},ae.prototype.mulp=function(w,T,D){var j=2*this.guessLen13b(w.length,T.length),A=this.makeRBT(j),l=this.stub(j),g=new Array(j),G=new Array(j),H=new Array(j),ne=new Array(j),ce=new Array(j),Ae=new Array(j),ke=D.words;ke.length=j,this.convert13b(w.words,w.length,g,j),this.convert13b(T.words,T.length,ne,j),this.transform(g,l,G,H,j,A),this.transform(ne,l,ce,Ae,j,A);for(var Fe=0;Fe<j;Fe++){var Ee=G[Fe]*ce[Fe]-H[Fe]*Ae[Fe];H[Fe]=G[Fe]*Ae[Fe]+H[Fe]*ce[Fe],G[Fe]=Ee}return this.conjugate(G,H,j),this.transform(G,H,ke,l,j,A),this.conjugate(ke,l,j),this.normalize13b(ke,j),D.negative=w.negative^T.negative,D.length=w.length+T.length,D._strip()},S.prototype.mul=function(w){var T=new S(null);return T.words=new Array(this.length+w.length),this.mulTo(w,T)},S.prototype.mulf=function(w){var T=new S(null);return T.words=new Array(this.length+w.length),se(this,w,T)},S.prototype.imul=function(w){return this.clone().mulTo(w,this)},S.prototype.imuln=function(w){var T=w<0;T&&(w=-w),R("number"==typeof w),R(w<67108864);for(var D=0,j=0;j<this.length;j++){var A=(0|this.words[j])*w,l=(67108863&A)+(67108863&D);D>>=26,D+=A/67108864|0,D+=l>>>26,this.words[j]=67108863&l}return 0!==D&&(this.words[j]=D,this.length++),T?this.ineg():this},S.prototype.muln=function(w){return this.clone().imuln(w)},S.prototype.sqr=function(){return this.mul(this)},S.prototype.isqr=function(){return this.imul(this.clone())},S.prototype.pow=function(w){var T=function te(y){for(var w=new Array(y.bitLength()),T=0;T<w.length;T++)w[T]=y.words[T/26|0]>>>T%26&1;return w}(w);if(0===T.length)return new S(1);for(var D=this,j=0;j<T.length&&0===T[j];j++,D=D.sqr());if(++j<T.length)for(var A=D.sqr();j<T.length;j++,A=A.sqr())0!==T[j]&&(D=D.mul(A));return D},S.prototype.iushln=function(w){R("number"==typeof w&&w>=0);var A,T=w%26,D=(w-T)/26,j=67108863>>>26-T<<26-T;if(0!==T){var l=0;for(A=0;A<this.length;A++){var g=this.words[A]&j;this.words[A]=(0|this.words[A])-g<<T|l,l=g>>>26-T}l&&(this.words[A]=l,this.length++)}if(0!==D){for(A=this.length-1;A>=0;A--)this.words[A+D]=this.words[A];for(A=0;A<D;A++)this.words[A]=0;this.length+=D}return this._strip()},S.prototype.ishln=function(w){return R(0===this.negative),this.iushln(w)},S.prototype.iushrn=function(w,T,D){var j;R("number"==typeof w&&w>=0),j=T?(T-T%26)/26:0;var A=w%26,l=Math.min((w-A)/26,this.length),g=67108863^67108863>>>A<<A,G=D;if(j-=l,j=Math.max(0,j),G){for(var H=0;H<l;H++)G.words[H]=this.words[H];G.length=l}if(0!==l)if(this.length>l)for(this.length-=l,H=0;H<this.length;H++)this.words[H]=this.words[H+l];else this.words[0]=0,this.length=1;var ne=0;for(H=this.length-1;H>=0&&(0!==ne||H>=j);H--){var ce=0|this.words[H];this.words[H]=ne<<26-A|ce>>>A,ne=ce&g}return G&&0!==ne&&(G.words[G.length++]=ne),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},S.prototype.ishrn=function(w,T,D){return R(0===this.negative),this.iushrn(w,T,D)},S.prototype.shln=function(w){return this.clone().ishln(w)},S.prototype.ushln=function(w){return this.clone().iushln(w)},S.prototype.shrn=function(w){return this.clone().ishrn(w)},S.prototype.ushrn=function(w){return this.clone().iushrn(w)},S.prototype.testn=function(w){R("number"==typeof w&&w>=0);var T=w%26,D=(w-T)/26;return!(this.length<=D||!(this.words[D]&1<<T))},S.prototype.imaskn=function(w){R("number"==typeof w&&w>=0);var T=w%26,D=(w-T)/26;return R(0===this.negative,"imaskn works only with positive numbers"),this.length<=D?this:(0!==T&&D++,this.length=Math.min(D,this.length),0!==T&&(this.words[this.length-1]&=67108863^67108863>>>T<<T),this._strip())},S.prototype.maskn=function(w){return this.clone().imaskn(w)},S.prototype.iaddn=function(w){return R("number"==typeof w),R(w<67108864),w<0?this.isubn(-w):0!==this.negative?1===this.length&&(0|this.words[0])<=w?(this.words[0]=w-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(w),this.negative=1,this):this._iaddn(w)},S.prototype._iaddn=function(w){this.words[0]+=w;for(var T=0;T<this.length&&this.words[T]>=67108864;T++)this.words[T]-=67108864,T===this.length-1?this.words[T+1]=1:this.words[T+1]++;return this.length=Math.max(this.length,T+1),this},S.prototype.isubn=function(w){if(R("number"==typeof w),R(w<67108864),w<0)return this.iaddn(-w);if(0!==this.negative)return this.negative=0,this.iaddn(w),this.negative=1,this;if(this.words[0]-=w,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var T=0;T<this.length&&this.words[T]<0;T++)this.words[T]+=67108864,this.words[T+1]-=1;return this._strip()},S.prototype.addn=function(w){return this.clone().iaddn(w)},S.prototype.subn=function(w){return this.clone().isubn(w)},S.prototype.iabs=function(){return this.negative=0,this},S.prototype.abs=function(){return this.clone().iabs()},S.prototype._ishlnsubmul=function(w,T,D){var A;this._expand(w.length+D);var l,g=0;for(A=0;A<w.length;A++){l=(0|this.words[A+D])+g;var G=(0|w.words[A])*T;g=((l-=67108863&G)>>26)-(G/67108864|0),this.words[A+D]=67108863&l}for(;A<this.length-D;A++)g=(l=(0|this.words[A+D])+g)>>26,this.words[A+D]=67108863&l;if(0===g)return this._strip();for(R(-1===g),g=0,A=0;A<this.length;A++)g=(l=-(0|this.words[A])+g)>>26,this.words[A]=67108863&l;return this.negative=1,this._strip()},S.prototype._wordDiv=function(w,T){var D,j=this.clone(),A=w,l=0|A.words[A.length-1];0!=(D=26-this._countBits(l))&&(A=A.ushln(D),j.iushln(D),l=0|A.words[A.length-1]);var H,G=j.length-A.length;if("mod"!==T){(H=new S(null)).length=G+1,H.words=new Array(H.length);for(var ne=0;ne<H.length;ne++)H.words[ne]=0}var ce=j.clone()._ishlnsubmul(A,1,G);0===ce.negative&&(j=ce,H&&(H.words[G]=1));for(var Ae=G-1;Ae>=0;Ae--){var ke=67108864*(0|j.words[A.length+Ae])+(0|j.words[A.length+Ae-1]);for(ke=Math.min(ke/l|0,67108863),j._ishlnsubmul(A,ke,Ae);0!==j.negative;)ke--,j.negative=0,j._ishlnsubmul(A,1,Ae),j.isZero()||(j.negative^=1);H&&(H.words[Ae]=ke)}return H&&H._strip(),j._strip(),"div"!==T&&0!==D&&j.iushrn(D),{div:H||null,mod:j}},S.prototype.divmod=function(w,T,D){return R(!w.isZero()),this.isZero()?{div:new S(0),mod:new S(0)}:0!==this.negative&&0===w.negative?(l=this.neg().divmod(w,T),"mod"!==T&&(j=l.div.neg()),"div"!==T&&(A=l.mod.neg(),D&&0!==A.negative&&A.iadd(w)),{div:j,mod:A}):0===this.negative&&0!==w.negative?(l=this.divmod(w.neg(),T),"mod"!==T&&(j=l.div.neg()),{div:j,mod:l.mod}):this.negative&w.negative?(l=this.neg().divmod(w.neg(),T),"div"!==T&&(A=l.mod.neg(),D&&0!==A.negative&&A.isub(w)),{div:l.div,mod:A}):w.length>this.length||this.cmp(w)<0?{div:new S(0),mod:this}:1===w.length?"div"===T?{div:this.divn(w.words[0]),mod:null}:"mod"===T?{div:null,mod:new S(this.modrn(w.words[0]))}:{div:this.divn(w.words[0]),mod:new S(this.modrn(w.words[0]))}:this._wordDiv(w,T);var j,A,l},S.prototype.div=function(w){return this.divmod(w,"div",!1).div},S.prototype.mod=function(w){return this.divmod(w,"mod",!1).mod},S.prototype.umod=function(w){return this.divmod(w,"mod",!0).mod},S.prototype.divRound=function(w){var T=this.divmod(w);if(T.mod.isZero())return T.div;var D=0!==T.div.negative?T.mod.isub(w):T.mod,j=w.ushrn(1),A=w.andln(1),l=D.cmp(j);return l<0||1===A&&0===l?T.div:0!==T.div.negative?T.div.isubn(1):T.div.iaddn(1)},S.prototype.modrn=function(w){var T=w<0;T&&(w=-w),R(w<=67108863);for(var D=(1<<26)%w,j=0,A=this.length-1;A>=0;A--)j=(D*j+(0|this.words[A]))%w;return T?-j:j},S.prototype.modn=function(w){return this.modrn(w)},S.prototype.idivn=function(w){var T=w<0;T&&(w=-w),R(w<=67108863);for(var D=0,j=this.length-1;j>=0;j--){var A=(0|this.words[j])+67108864*D;this.words[j]=A/w|0,D=A%w}return this._strip(),T?this.ineg():this},S.prototype.divn=function(w){return this.clone().idivn(w)},S.prototype.egcd=function(w){R(0===w.negative),R(!w.isZero());var T=this,D=w.clone();T=0!==T.negative?T.umod(w):T.clone();for(var j=new S(1),A=new S(0),l=new S(0),g=new S(1),G=0;T.isEven()&&D.isEven();)T.iushrn(1),D.iushrn(1),++G;for(var H=D.clone(),ne=T.clone();!T.isZero();){for(var ce=0,Ae=1;!(T.words[0]&Ae)&&ce<26;++ce,Ae<<=1);if(ce>0)for(T.iushrn(ce);ce-- >0;)(j.isOdd()||A.isOdd())&&(j.iadd(H),A.isub(ne)),j.iushrn(1),A.iushrn(1);for(var ke=0,Fe=1;!(D.words[0]&Fe)&&ke<26;++ke,Fe<<=1);if(ke>0)for(D.iushrn(ke);ke-- >0;)(l.isOdd()||g.isOdd())&&(l.iadd(H),g.isub(ne)),l.iushrn(1),g.iushrn(1);T.cmp(D)>=0?(T.isub(D),j.isub(l),A.isub(g)):(D.isub(T),l.isub(j),g.isub(A))}return{a:l,b:g,gcd:D.iushln(G)}},S.prototype._invmp=function(w){R(0===w.negative),R(!w.isZero());var ce,T=this,D=w.clone();T=0!==T.negative?T.umod(w):T.clone();for(var j=new S(1),A=new S(0),l=D.clone();T.cmpn(1)>0&&D.cmpn(1)>0;){for(var g=0,G=1;!(T.words[0]&G)&&g<26;++g,G<<=1);if(g>0)for(T.iushrn(g);g-- >0;)j.isOdd()&&j.iadd(l),j.iushrn(1);for(var H=0,ne=1;!(D.words[0]&ne)&&H<26;++H,ne<<=1);if(H>0)for(D.iushrn(H);H-- >0;)A.isOdd()&&A.iadd(l),A.iushrn(1);T.cmp(D)>=0?(T.isub(D),j.isub(A)):(D.isub(T),A.isub(j))}return(ce=0===T.cmpn(1)?j:A).cmpn(0)<0&&ce.iadd(w),ce},S.prototype.gcd=function(w){if(this.isZero())return w.abs();if(w.isZero())return this.abs();var T=this.clone(),D=w.clone();T.negative=0,D.negative=0;for(var j=0;T.isEven()&&D.isEven();j++)T.iushrn(1),D.iushrn(1);for(;;){for(;T.isEven();)T.iushrn(1);for(;D.isEven();)D.iushrn(1);var A=T.cmp(D);if(A<0){var l=T;T=D,D=l}else if(0===A||0===D.cmpn(1))break;T.isub(D)}return D.iushln(j)},S.prototype.invm=function(w){return this.egcd(w).a.umod(w)},S.prototype.isEven=function(){return!(1&this.words[0])},S.prototype.isOdd=function(){return!(1&~this.words[0])},S.prototype.andln=function(w){return this.words[0]&w},S.prototype.bincn=function(w){R("number"==typeof w);var T=w%26,D=(w-T)/26,j=1<<T;if(this.length<=D)return this._expand(D+1),this.words[D]|=j,this;for(var A=j,l=D;0!==A&&l<this.length;l++){var g=0|this.words[l];A=(g+=A)>>>26,this.words[l]=g&=67108863}return 0!==A&&(this.words[l]=A,this.length++),this},S.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},S.prototype.cmpn=function(w){var D,T=w<0;if(0!==this.negative&&!T)return-1;if(0===this.negative&&T)return 1;if(this._strip(),this.length>1)D=1;else{T&&(w=-w),R(w<=67108863,"Number is too big");var j=0|this.words[0];D=j===w?0:j<w?-1:1}return 0!==this.negative?0|-D:D},S.prototype.cmp=function(w){if(0!==this.negative&&0===w.negative)return-1;if(0===this.negative&&0!==w.negative)return 1;var T=this.ucmp(w);return 0!==this.negative?0|-T:T},S.prototype.ucmp=function(w){if(this.length>w.length)return 1;if(this.length<w.length)return-1;for(var T=0,D=this.length-1;D>=0;D--){var j=0|this.words[D],A=0|w.words[D];if(j!==A){j<A?T=-1:j>A&&(T=1);break}}return T},S.prototype.gtn=function(w){return 1===this.cmpn(w)},S.prototype.gt=function(w){return 1===this.cmp(w)},S.prototype.gten=function(w){return this.cmpn(w)>=0},S.prototype.gte=function(w){return this.cmp(w)>=0},S.prototype.ltn=function(w){return-1===this.cmpn(w)},S.prototype.lt=function(w){return-1===this.cmp(w)},S.prototype.lten=function(w){return this.cmpn(w)<=0},S.prototype.lte=function(w){return this.cmp(w)<=0},S.prototype.eqn=function(w){return 0===this.cmpn(w)},S.prototype.eq=function(w){return 0===this.cmp(w)},S.red=function(w){return new u(w)},S.prototype.toRed=function(w){return R(!this.red,"Already a number in reduction context"),R(0===this.negative,"red works only with positives"),w.convertTo(this)._forceRed(w)},S.prototype.fromRed=function(){return R(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},S.prototype._forceRed=function(w){return this.red=w,this},S.prototype.forceRed=function(w){return R(!this.red,"Already a number in reduction context"),this._forceRed(w)},S.prototype.redAdd=function(w){return R(this.red,"redAdd works only with red numbers"),this.red.add(this,w)},S.prototype.redIAdd=function(w){return R(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,w)},S.prototype.redSub=function(w){return R(this.red,"redSub works only with red numbers"),this.red.sub(this,w)},S.prototype.redISub=function(w){return R(this.red,"redISub works only with red numbers"),this.red.isub(this,w)},S.prototype.redShl=function(w){return R(this.red,"redShl works only with red numbers"),this.red.shl(this,w)},S.prototype.redMul=function(w){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.mul(this,w)},S.prototype.redIMul=function(w){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,w),this.red.imul(this,w)},S.prototype.redSqr=function(){return R(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},S.prototype.redISqr=function(){return R(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},S.prototype.redSqrt=function(){return R(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},S.prototype.redInvm=function(){return R(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},S.prototype.redNeg=function(){return R(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},S.prototype.redPow=function(w){return R(this.red&&!w.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,w)};var pe={k256:null,p224:null,p192:null,p25519:null};function le(y,w){this.name=y,this.p=new S(w,16),this.n=this.p.bitLength(),this.k=new S(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ve(){le.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function we(){le.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function De(){le.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){le.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function u(y){if("string"==typeof y){var w=S._prime(y);this.m=w.p,this.prime=w}else R(y.gtn(1),"modulus must be greater than 1"),this.m=y,this.prime=null}function h(y){u.call(this,y),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new S(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}le.prototype._tmp=function(){var w=new S(null);return w.words=new Array(Math.ceil(this.n/13)),w},le.prototype.ireduce=function(w){var D,T=w;do{this.split(T,this.tmp),D=(T=(T=this.imulK(T)).iadd(this.tmp)).bitLength()}while(D>this.n);var j=D<this.n?-1:T.ucmp(this.p);return 0===j?(T.words[0]=0,T.length=1):j>0?T.isub(this.p):void 0!==T.strip?T.strip():T._strip(),T},le.prototype.split=function(w,T){w.iushrn(this.n,0,T)},le.prototype.imulK=function(w){return w.imul(this.k)},W(ve,le),ve.prototype.split=function(w,T){for(var D=4194303,j=Math.min(w.length,9),A=0;A<j;A++)T.words[A]=w.words[A];if(T.length=j,w.length<=9)return w.words[0]=0,void(w.length=1);var l=w.words[9];for(T.words[T.length++]=l&D,A=10;A<w.length;A++){var g=0|w.words[A];w.words[A-10]=(g&D)<<4|l>>>22,l=g}w.words[A-10]=l>>>=22,w.length-=0===l&&w.length>10?10:9},ve.prototype.imulK=function(w){w.words[w.length]=0,w.words[w.length+1]=0,w.length+=2;for(var T=0,D=0;D<w.length;D++){var j=0|w.words[D];w.words[D]=67108863&(T+=977*j),T=64*j+(T/67108864|0)}return 0===w.words[w.length-1]&&(w.length--,0===w.words[w.length-1]&&w.length--),w},W(we,le),W(De,le),W(k,le),k.prototype.imulK=function(w){for(var T=0,D=0;D<w.length;D++){var j=19*(0|w.words[D])+T,A=67108863&j;j>>>=26,w.words[D]=A,T=j}return 0!==T&&(w.words[w.length++]=T),w},S._prime=function(w){if(pe[w])return pe[w];var T;if("k256"===w)T=new ve;else if("p224"===w)T=new we;else if("p192"===w)T=new De;else{if("p25519"!==w)throw new Error("Unknown prime "+w);T=new k}return pe[w]=T,T},u.prototype._verify1=function(w){R(0===w.negative,"red works only with positives"),R(w.red,"red works only with red numbers")},u.prototype._verify2=function(w,T){R(!(w.negative|T.negative),"red works only with positives"),R(w.red&&w.red===T.red,"red works only with red numbers")},u.prototype.imod=function(w){return this.prime?this.prime.ireduce(w)._forceRed(this):(F(w,w.umod(this.m)._forceRed(this)),w)},u.prototype.neg=function(w){return w.isZero()?w.clone():this.m.sub(w)._forceRed(this)},u.prototype.add=function(w,T){this._verify2(w,T);var D=w.add(T);return D.cmp(this.m)>=0&&D.isub(this.m),D._forceRed(this)},u.prototype.iadd=function(w,T){this._verify2(w,T);var D=w.iadd(T);return D.cmp(this.m)>=0&&D.isub(this.m),D},u.prototype.sub=function(w,T){this._verify2(w,T);var D=w.sub(T);return D.cmpn(0)<0&&D.iadd(this.m),D._forceRed(this)},u.prototype.isub=function(w,T){this._verify2(w,T);var D=w.isub(T);return D.cmpn(0)<0&&D.iadd(this.m),D},u.prototype.shl=function(w,T){return this._verify1(w),this.imod(w.ushln(T))},u.prototype.imul=function(w,T){return this._verify2(w,T),this.imod(w.imul(T))},u.prototype.mul=function(w,T){return this._verify2(w,T),this.imod(w.mul(T))},u.prototype.isqr=function(w){return this.imul(w,w.clone())},u.prototype.sqr=function(w){return this.mul(w,w)},u.prototype.sqrt=function(w){if(w.isZero())return w.clone();var T=this.m.andln(3);if(R(T%2==1),3===T){var D=this.m.add(new S(1)).iushrn(2);return this.pow(w,D)}for(var j=this.m.subn(1),A=0;!j.isZero()&&0===j.andln(1);)A++,j.iushrn(1);R(!j.isZero());var l=new S(1).toRed(this),g=l.redNeg(),G=this.m.subn(1).iushrn(1),H=this.m.bitLength();for(H=new S(2*H*H).toRed(this);0!==this.pow(H,G).cmp(g);)H.redIAdd(g);for(var ne=this.pow(H,j),ce=this.pow(w,j.addn(1).iushrn(1)),Ae=this.pow(w,j),ke=A;0!==Ae.cmp(l);){for(var Fe=Ae,Ee=0;0!==Fe.cmp(l);Ee++)Fe=Fe.redSqr();R(Ee<ke);var ge=this.pow(ne,new S(1).iushln(ke-Ee-1));ce=ce.redMul(ge),ne=ge.redSqr(),Ae=Ae.redMul(ne),ke=Ee}return ce},u.prototype.invm=function(w){var T=w._invmp(this.m);return 0!==T.negative?(T.negative=0,this.imod(T).redNeg()):this.imod(T)},u.prototype.pow=function(w,T){if(T.isZero())return new S(1).toRed(this);if(0===T.cmpn(1))return w.clone();var j=new Array(16);j[0]=new S(1).toRed(this),j[1]=w;for(var A=2;A<j.length;A++)j[A]=this.mul(j[A-1],w);var l=j[0],g=0,G=0,H=T.bitLength()%26;for(0===H&&(H=26),A=T.length-1;A>=0;A--){for(var ne=T.words[A],ce=H-1;ce>=0;ce--){var Ae=ne>>ce&1;l!==j[0]&&(l=this.sqr(l)),0!==Ae||0!==g?(g<<=1,g|=Ae,(4==++G||0===A&&0===ce)&&(l=this.mul(l,j[g]),G=0,g=0)):G=0}H=26}return l},u.prototype.convertTo=function(w){var T=w.umod(this.m);return T===w?T.clone():T},u.prototype.convertFrom=function(w){var T=w.clone();return T.red=null,T},S.mont=function(w){return new h(w)},W(h,u),h.prototype.convertTo=function(w){return this.imod(w.ushln(this.shift))},h.prototype.convertFrom=function(w){var T=this.imod(w.mul(this.rinv));return T.red=null,T},h.prototype.imul=function(w,T){if(w.isZero()||T.isZero())return w.words[0]=0,w.length=1,w;var D=w.imul(T),j=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=D.isub(j).iushrn(this.shift),l=A;return A.cmp(this.m)>=0?l=A.isub(this.m):A.cmpn(0)<0&&(l=A.iadd(this.m)),l._forceRed(this)},h.prototype.mul=function(w,T){if(w.isZero()||T.isZero())return new S(0)._forceRed(this);var D=w.mul(T),j=D.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=D.isub(j).iushrn(this.shift),l=A;return A.cmp(this.m)>=0?l=A.isub(this.m):A.cmpn(0)<0&&(l=A.iadd(this.m)),l._forceRed(this)},h.prototype.invm=function(w){return this.imod(w._invmp(this.m).mul(this.r2))._forceRed(this)}}(Le=E.nmd(Le),this)},35294:(Le,z,E)=>{var m;function x(W){this.rand=W}if(Le.exports=function(S){return m||(m=new x(null)),m.generate(S)},Le.exports.Rand=x,x.prototype.generate=function(S){return this._rand(S)},x.prototype._rand=function(S){if(this.rand.getBytes)return this.rand.getBytes(S);for(var L=new Uint8Array(S),M=0;M<L.length;M++)L[M]=this.rand.getByte();return L},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?x.prototype._rand=function(S){var L=new Uint8Array(S);return self.crypto.getRandomValues(L),L}:self.msCrypto&&self.msCrypto.getRandomValues?x.prototype._rand=function(S){var L=new Uint8Array(S);return self.msCrypto.getRandomValues(L),L}:"object"==typeof window&&(x.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var R=E(91426);if("function"!=typeof R.randomBytes)throw new Error("Not supported");x.prototype._rand=function(S){return R.randomBytes(S)}}catch{}},23963:(Le,z,E)=>{"use strict";const{AbstractLevel:m}=E(75929),x=E(61747),R=E(81725),{fromCallback:W}=E(42381),{Iterator:S}=E(18229),L=E(97899),M=E(19857),N=E(57059),$="level-js-",F=Symbol("idb"),I=Symbol("namePrefix"),X=Symbol("location"),V=Symbol("version"),Z=Symbol("store"),re=Symbol("onComplete"),te=Symbol("promise");z.BrowserLevel=(()=>{class J extends m{constructor(se,ae,pe){if("function"==typeof ae||"function"==typeof pe)throw new x("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});const{prefix:le,version:ve,...we}=ae||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},we),"string"!=typeof se)throw new Error("constructor requires a location string argument");this[X]=se,this[I]=le??$,this[V]=parseInt(ve||1,10),this[F]=null}get location(){return this[X]}get namePrefix(){return this[I]}get version(){return this[V]}get db(){return this[F]}get type(){return"browser-level"}_open(se,ae){const pe=indexedDB.open(this[I]+this[X],this[V]);pe.onerror=function(){ae(pe.error||new Error("unknown error"))},pe.onsuccess=()=>{this[F]=pe.result,ae()},pe.onupgradeneeded=le=>{const ve=le.target.result;ve.objectStoreNames.contains(this[X])||ve.createObjectStore(this[X])}}[Z](se){return this[F].transaction([this[X]],se).objectStore(this[X])}[re](se,ae){const pe=se.transaction;pe.onabort=function(){ae(pe.error||new Error("aborted by user"))},pe.oncomplete=function(){ae(null,se.result)}}_get(se,ae,pe){const le=this[Z]("readonly");let ve;try{ve=le.get(se)}catch(we){return this.nextTick(pe,we)}this[re](ve,function(we,De){return we?pe(we):void 0===De?pe(new x("Entry not found",{code:"LEVEL_NOT_FOUND"})):void pe(null,L(De))})}_getMany(se,ae,pe){const le=this[Z]("readonly"),ve=se.map(we=>De=>{let k;try{k=le.get(we)}catch(u){return De(u)}k.onsuccess=()=>{const u=k.result;De(null,void 0===u?u:L(u))},k.onerror=u=>{u.stopPropagation(),De(k.error)}});R(ve,16,pe)}_del(se,ae,pe){const le=this[Z]("readwrite");let ve;try{ve=le.delete(se)}catch(we){return this.nextTick(pe,we)}this[re](ve,pe)}_put(se,ae,pe,le){const ve=this[Z]("readwrite");let we;try{we=ve.put(ae,se)}catch(De){return this.nextTick(le,De)}this[re](we,le)}_iterator(se){return new S(this,this[X],se)}_batch(se,ae,pe){const le=this[Z]("readwrite"),ve=le.transaction;let De,we=0;ve.onabort=function(){pe(De||ve.error||new Error("aborted by user"))},ve.oncomplete=function(){pe()},function k(){const u=se[we++],h=u.key;let y;try{y="del"===u.type?le.delete(h):le.put(u.value,h)}catch(w){return De=w,void ve.abort()}we<se.length?y.onsuccess=k:"function"==typeof ve.commit&&ve.commit()}()}_clear(se,ae){let pe,le;try{pe=N(se)}catch{return this.nextTick(ae)}if(se.limit>=0)return M(this,this[X],pe,se,ae);try{const ve=this[Z]("readwrite");le=pe?ve.delete(pe):ve.clear()}catch(ve){return this.nextTick(ae,ve)}this[re](le,ae)}_close(se){this[F].close(),this.nextTick(se)}}return J.destroy=function(oe,se,ae){"function"==typeof se&&(ae=se,se=$),ae=W(ae,te);const pe=indexedDB.deleteDatabase(se+oe);return pe.onsuccess=function(){ae()},pe.onerror=function(le){ae(le)},ae[te]},J})()},18229:(Le,z,E)=>{"use strict";const{AbstractIterator:m}=E(75929),x=E(57059),R=E(97899),W=Symbol("cache"),S=Symbol("finished"),L=Symbol("options"),M=Symbol("currentOptions"),N=Symbol("position"),$=Symbol("location"),F=Symbol("first"),I={};function V(Z){"function"==typeof Z.commit&&Z.commit()}z.Iterator=class X extends m{constructor(re,te,Q){super(re,Q),this[W]=[],this[S]=0===this.limit,this[L]=Q,this[M]={...Q},this[N]=void 0,this[$]=te,this[F]=!0}_nextv(re,te,Q){if(this[F]=!1,this[S])return this.nextTick(Q,null,[]);if(this[W].length>0)return re=Math.min(re,this[W].length),this.nextTick(Q,null,this[W].splice(0,re));let J;void 0!==this[N]&&(this[L].reverse?(this[M].lt=this[N],this[M].lte=void 0):(this[M].gt=this[N],this[M].gte=void 0));try{J=x(this[M])}catch{return this[S]=!0,this.nextTick(Q,null,[])}const oe=this.db.db.transaction([this[$]],"readonly"),se=oe.objectStore(this[$]),ae=[];if(this[L].reverse)se[!this[L].values&&se.openKeyCursor?"openKeyCursor":"openCursor"](J,"prev").onsuccess=le=>{const ve=le.target.result;if(ve){const{key:we,value:De}=ve;this[N]=we,ae.push([this[L].keys&&void 0!==we?R(we):void 0,this[L].values&&void 0!==De?R(De):void 0]),ae.length<re?ve.continue():V(oe)}else this[S]=!0};else{let pe,le;const ve=()=>{if(void 0===pe||void 0===le)return;const we=Math.max(pe.length,le.length);0===we||re===1/0?this[S]=!0:this[N]=pe[we-1],ae.length=we;for(let De=0;De<we;De++){const k=pe[De],u=le[De];ae[De]=[this[L].keys&&void 0!==k?R(k):void 0,this[L].values&&void 0!==u?R(u):void 0]}V(oe)};this[L].keys||re<1/0?se.getAllKeys(J,re<1/0?re:void 0).onsuccess=we=>{pe=we.target.result,ve()}:(pe=[],this.nextTick(ve)),this[L].values?se.getAll(J,re<1/0?re:void 0).onsuccess=we=>{le=we.target.result,ve()}:(le=[],this.nextTick(ve))}oe.onabort=()=>{Q(oe.error||new Error("aborted by user")),Q=null},oe.oncomplete=()=>{Q(null,ae),Q=null}}_next(re){if(this[W].length>0){const[te,Q]=this[W].shift();this.nextTick(re,null,te,Q)}else if(this[S])this.nextTick(re);else{let te=Math.min(100,this.limit-this.count);this[F]&&(this[F]=!1,te=1),this._nextv(te,I,(Q,J)=>{if(Q)return re(Q);this[W]=J,this._next(re)})}}_all(re,te){this[F]=!1;const Q=this[W].splice(0,this[W].length),J=this.limit-this.count-Q.length;if(J<=0)return this.nextTick(te,null,Q);this._nextv(J,I,(oe,se)=>{if(oe)return te(oe);Q.length>0&&(se=Q.concat(se)),te(null,se)})}_seek(re,te){let Q;this[F]=!0,this[W]=[],this[S]=!1,this[N]=void 0,this[M]={...this[L]};try{Q=x(this[L])}catch{return void(this[S]=!0)}null===Q||Q.includes(re)?this[L].reverse?this[M].lte=re:this[M].gte=re:this[S]=!0}}},19857:Le=>{"use strict";Le.exports=function(E,m,x,R,W){if(0===R.limit)return E.nextTick(W);const S=E.db.transaction([m],"readwrite"),L=S.objectStore(m);let M=0;S.oncomplete=function(){W()},S.onabort=function(){W(S.error||new Error("aborted by user"))},L[L.openKeyCursor?"openKeyCursor":"openCursor"](x,R.reverse?"prev":"next").onsuccess=function(F){const I=F.target.result;I&&(L.delete(I.key).onsuccess=function(){(R.limit<=0||++M<R.limit)&&I.continue()})}}},97899:Le=>{"use strict";const z=new TextEncoder;Le.exports=function(E){return E instanceof Uint8Array?E:E instanceof ArrayBuffer?new Uint8Array(E):z.encode(E)}},57059:Le=>{"use strict";Le.exports=function(E){const m=void 0!==E.gte?E.gte:void 0!==E.gt?E.gt:void 0,x=void 0!==E.lte?E.lte:void 0!==E.lt?E.lt:void 0,R=void 0===E.gte,W=void 0===E.lte;return void 0!==m&&void 0!==x?IDBKeyRange.bound(m,x,R,W):void 0!==m?IDBKeyRange.lowerBound(m,R):void 0!==x?IDBKeyRange.upperBound(x,W):null}},12375:(Le,z,E)=>{var m=E(27054).Buffer;function x(N){m.isBuffer(N)||(N=m.from(N));for(var $=N.length/4|0,F=new Array($),I=0;I<$;I++)F[I]=N.readUInt32BE(4*I);return F}function R(N){for(;0<N.length;N++)N[0]=0}function W(N,$,F,I,X){for(var ae,pe,le,ve,V=F[0],Z=F[1],re=F[2],te=F[3],Q=N[0]^$[0],J=N[1]^$[1],oe=N[2]^$[2],se=N[3]^$[3],we=4,De=1;De<X;De++)ae=V[Q>>>24]^Z[J>>>16&255]^re[oe>>>8&255]^te[255&se]^$[we++],pe=V[J>>>24]^Z[oe>>>16&255]^re[se>>>8&255]^te[255&Q]^$[we++],le=V[oe>>>24]^Z[se>>>16&255]^re[Q>>>8&255]^te[255&J]^$[we++],ve=V[se>>>24]^Z[Q>>>16&255]^re[J>>>8&255]^te[255&oe]^$[we++],Q=ae,J=pe,oe=le,se=ve;return ae=(I[Q>>>24]<<24|I[J>>>16&255]<<16|I[oe>>>8&255]<<8|I[255&se])^$[we++],pe=(I[J>>>24]<<24|I[oe>>>16&255]<<16|I[se>>>8&255]<<8|I[255&Q])^$[we++],le=(I[oe>>>24]<<24|I[se>>>16&255]<<16|I[Q>>>8&255]<<8|I[255&J])^$[we++],ve=(I[se>>>24]<<24|I[Q>>>16&255]<<16|I[J>>>8&255]<<8|I[255&oe])^$[we++],[ae>>>=0,pe>>>=0,le>>>=0,ve>>>=0]}var S=[0,1,2,4,8,16,32,64,128,27,54],L=function(){for(var N=new Array(256),$=0;$<256;$++)N[$]=$<128?$<<1:$<<1^283;for(var F=[],I=[],X=[[],[],[],[]],V=[[],[],[],[]],Z=0,re=0,te=0;te<256;++te){var Q=re^re<<1^re<<2^re<<3^re<<4;F[Z]=Q=Q>>>8^255&Q^99,I[Q]=Z;var J=N[Z],oe=N[J],se=N[oe],ae=257*N[Q]^16843008*Q;X[0][Z]=ae<<24|ae>>>8,X[1][Z]=ae<<16|ae>>>16,X[2][Z]=ae<<8|ae>>>24,X[3][Z]=ae,V[0][Q]=(ae=16843009*se^65537*oe^257*J^16843008*Z)<<24|ae>>>8,V[1][Q]=ae<<16|ae>>>16,V[2][Q]=ae<<8|ae>>>24,V[3][Q]=ae,0===Z?Z=re=1:(Z=J^N[N[N[se^J]]],re^=N[N[re]])}return{SBOX:F,INV_SBOX:I,SUB_MIX:X,INV_SUB_MIX:V}}();function M(N){this._key=x(N),this._reset()}M.blockSize=16,M.keySize=32,M.prototype.blockSize=M.blockSize,M.prototype.keySize=M.keySize,M.prototype._reset=function(){for(var N=this._key,$=N.length,F=$+6,I=4*(F+1),X=[],V=0;V<$;V++)X[V]=N[V];for(V=$;V<I;V++){var Z=X[V-1];V%$==0?(Z=L.SBOX[(Z=Z<<8|Z>>>24)>>>24]<<24|L.SBOX[Z>>>16&255]<<16|L.SBOX[Z>>>8&255]<<8|L.SBOX[255&Z],Z^=S[V/$|0]<<24):$>6&&V%$==4&&(Z=L.SBOX[Z>>>24]<<24|L.SBOX[Z>>>16&255]<<16|L.SBOX[Z>>>8&255]<<8|L.SBOX[255&Z]),X[V]=X[V-$]^Z}for(var re=[],te=0;te<I;te++){var Q=I-te,J=X[Q-(te%4?0:4)];re[te]=te<4||Q<=4?J:L.INV_SUB_MIX[0][L.SBOX[J>>>24]]^L.INV_SUB_MIX[1][L.SBOX[J>>>16&255]]^L.INV_SUB_MIX[2][L.SBOX[J>>>8&255]]^L.INV_SUB_MIX[3][L.SBOX[255&J]]}this._nRounds=F,this._keySchedule=X,this._invKeySchedule=re},M.prototype.encryptBlockRaw=function(N){return W(N=x(N),this._keySchedule,L.SUB_MIX,L.SBOX,this._nRounds)},M.prototype.encryptBlock=function(N){var $=this.encryptBlockRaw(N),F=m.allocUnsafe(16);return F.writeUInt32BE($[0],0),F.writeUInt32BE($[1],4),F.writeUInt32BE($[2],8),F.writeUInt32BE($[3],12),F},M.prototype.decryptBlock=function(N){var $=(N=x(N))[1];N[1]=N[3],N[3]=$;var F=W(N,this._invKeySchedule,L.INV_SUB_MIX,L.INV_SBOX,this._nRounds),I=m.allocUnsafe(16);return I.writeUInt32BE(F[0],0),I.writeUInt32BE(F[3],4),I.writeUInt32BE(F[2],8),I.writeUInt32BE(F[1],12),I},M.prototype.scrub=function(){R(this._keySchedule),R(this._invKeySchedule),R(this._key)},Le.exports.AES=M},19307:(Le,z,E)=>{var m=E(12375),x=E(27054).Buffer,R=E(3247),W=E(71993),S=E(85917),L=E(13546),M=E(95725);function F(I,X,V,Z){R.call(this);var re=x.alloc(4,0);this._cipher=new m.AES(X);var te=this._cipher.encryptBlock(re);this._ghash=new S(te),V=function $(I,X,V){if(12===X.length)return I._finID=x.concat([X,x.from([0,0,0,1])]),x.concat([X,x.from([0,0,0,2])]);var Z=new S(V),re=X.length,te=re%16;Z.update(X),te&&Z.update(x.alloc(te=16-te,0)),Z.update(x.alloc(8,0));var Q=8*re,J=x.alloc(8);J.writeUIntBE(Q,0,8),Z.update(J),I._finID=Z.state;var oe=x.from(I._finID);return M(oe),oe}(this,V,te),this._prev=x.from(V),this._cache=x.allocUnsafe(0),this._secCache=x.allocUnsafe(0),this._decrypt=Z,this._alen=0,this._len=0,this._mode=I,this._authTag=null,this._called=!1}W(F,R),F.prototype._update=function(I){if(!this._called&&this._alen){var X=16-this._alen%16;X<16&&(X=x.alloc(X,0),this._ghash.update(X))}this._called=!0;var V=this._mode.encrypt(this,I);return this._ghash.update(this._decrypt?I:V),this._len+=I.length,V},F.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var I=L(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function N(I,X){var V=0;I.length!==X.length&&V++;for(var Z=Math.min(I.length,X.length),re=0;re<Z;++re)V+=I[re]^X[re];return V}(I,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=I,this._cipher.scrub()},F.prototype.getAuthTag=function(){if(this._decrypt||!x.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},F.prototype.setAuthTag=function(X){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=X},F.prototype.setAAD=function(X){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(X),this._alen+=X.length},Le.exports=F},43388:(Le,z,E)=>{var m=E(350),x=E(60102),R=E(3219);z.createCipher=z.Cipher=m.createCipher,z.createCipheriv=z.Cipheriv=m.createCipheriv,z.createDecipher=z.Decipher=x.createDecipher,z.createDecipheriv=z.Decipheriv=x.createDecipheriv,z.listCiphers=z.getCiphers=function W(){return Object.keys(R)}},60102:(Le,z,E)=>{var m=E(19307),x=E(27054).Buffer,R=E(60503),W=E(91821),S=E(3247),L=E(12375),M=E(18211);function $(Z,re,te){S.call(this),this._cache=new F,this._last=void 0,this._cipher=new L.AES(re),this._prev=x.from(te),this._mode=Z,this._autopadding=!0}function F(){this.cache=x.allocUnsafe(0)}function X(Z,re,te){var Q=R[Z.toLowerCase()];if(!Q)throw new TypeError("invalid suite type");if("string"==typeof te&&(te=x.from(te)),"GCM"!==Q.mode&&te.length!==Q.iv)throw new TypeError("invalid iv length "+te.length);if("string"==typeof re&&(re=x.from(re)),re.length!==Q.key/8)throw new TypeError("invalid key length "+re.length);return"stream"===Q.type?new W(Q.module,re,te,!0):"auth"===Q.type?new m(Q.module,re,te,!0):new $(Q.module,re,te)}E(71993)($,S),$.prototype._update=function(Z){this._cache.add(Z);for(var re,te,Q=[];re=this._cache.get(this._autopadding);)te=this._mode.decrypt(this,re),Q.push(te);return x.concat(Q)},$.prototype._final=function(){var Z=this._cache.flush();if(this._autopadding)return function I(Z){var re=Z[15];if(re<1||re>16)throw new Error("unable to decrypt data");for(var te=-1;++te<re;)if(Z[te+(16-re)]!==re)throw new Error("unable to decrypt data");if(16!==re)return Z.slice(0,16-re)}(this._mode.decrypt(this,Z));if(Z)throw new Error("data not multiple of block length")},$.prototype.setAutoPadding=function(Z){return this._autopadding=!!Z,this},F.prototype.add=function(Z){this.cache=x.concat([this.cache,Z])},F.prototype.get=function(Z){var re;if(Z){if(this.cache.length>16)return re=this.cache.slice(0,16),this.cache=this.cache.slice(16),re}else if(this.cache.length>=16)return re=this.cache.slice(0,16),this.cache=this.cache.slice(16),re;return null},F.prototype.flush=function(){if(this.cache.length)return this.cache},z.createDecipher=function V(Z,re){var te=R[Z.toLowerCase()];if(!te)throw new TypeError("invalid suite type");var Q=M(re,!1,te.key,te.iv);return X(Z,Q.key,Q.iv)},z.createDecipheriv=X},350:(Le,z,E)=>{var m=E(60503),x=E(19307),R=E(27054).Buffer,W=E(91821),S=E(3247),L=E(12375),M=E(18211);function $(Z,re,te){S.call(this),this._cache=new I,this._cipher=new L.AES(re),this._prev=R.from(te),this._mode=Z,this._autopadding=!0}E(71993)($,S),$.prototype._update=function(Z){this._cache.add(Z);for(var re,te,Q=[];re=this._cache.get();)te=this._mode.encrypt(this,re),Q.push(te);return R.concat(Q)};var F=R.alloc(16,16);function I(){this.cache=R.allocUnsafe(0)}function X(Z,re,te){var Q=m[Z.toLowerCase()];if(!Q)throw new TypeError("invalid suite type");if("string"==typeof re&&(re=R.from(re)),re.length!==Q.key/8)throw new TypeError("invalid key length "+re.length);if("string"==typeof te&&(te=R.from(te)),"GCM"!==Q.mode&&te.length!==Q.iv)throw new TypeError("invalid iv length "+te.length);return"stream"===Q.type?new W(Q.module,re,te):"auth"===Q.type?new x(Q.module,re,te):new $(Q.module,re,te)}$.prototype._final=function(){var Z=this._cache.flush();if(this._autopadding)return Z=this._mode.encrypt(this,Z),this._cipher.scrub(),Z;if(!Z.equals(F))throw this._cipher.scrub(),new Error("data not multiple of block length")},$.prototype.setAutoPadding=function(Z){return this._autopadding=!!Z,this},I.prototype.add=function(Z){this.cache=R.concat([this.cache,Z])},I.prototype.get=function(){if(this.cache.length>15){var Z=this.cache.slice(0,16);return this.cache=this.cache.slice(16),Z}return null},I.prototype.flush=function(){for(var Z=16-this.cache.length,re=R.allocUnsafe(Z),te=-1;++te<Z;)re.writeUInt8(Z,te);return R.concat([this.cache,re])},z.createCipheriv=X,z.createCipher=function V(Z,re){var te=m[Z.toLowerCase()];if(!te)throw new TypeError("invalid suite type");var Q=M(re,!1,te.key,te.iv);return X(Z,Q.key,Q.iv)}},85917:(Le,z,E)=>{var m=E(27054).Buffer,x=m.alloc(16,0);function W(L){var M=m.allocUnsafe(16);return M.writeUInt32BE(L[0]>>>0,0),M.writeUInt32BE(L[1]>>>0,4),M.writeUInt32BE(L[2]>>>0,8),M.writeUInt32BE(L[3]>>>0,12),M}function S(L){this.h=L,this.state=m.alloc(16,0),this.cache=m.allocUnsafe(0)}S.prototype.ghash=function(L){for(var M=-1;++M<L.length;)this.state[M]^=L[M];this._multiply()},S.prototype._multiply=function(){for(var N,F,L=function R(L){return[L.readUInt32BE(0),L.readUInt32BE(4),L.readUInt32BE(8),L.readUInt32BE(12)]}(this.h),M=[0,0,0,0],I=-1;++I<128;){for(!!(this.state[~~(I/8)]&1<<7-I%8)&&(M[0]^=L[0],M[1]^=L[1],M[2]^=L[2],M[3]^=L[3]),F=!!(1&L[3]),N=3;N>0;N--)L[N]=L[N]>>>1|(1&L[N-1])<<31;L[0]=L[0]>>>1,F&&(L[0]=L[0]^225<<24)}this.state=W(M)},S.prototype.update=function(L){this.cache=m.concat([this.cache,L]);for(var M;this.cache.length>=16;)M=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(M)},S.prototype.final=function(L,M){return this.cache.length&&this.ghash(m.concat([this.cache,x],16)),this.ghash(W([0,L,0,M])),this.state},Le.exports=S},95725:Le=>{Le.exports=function z(E){for(var x,m=E.length;m--;){if(255!==(x=E.readUInt8(m))){x++,E.writeUInt8(x,m);break}E.writeUInt8(0,m)}}},34133:(Le,z,E)=>{var m=E(13546);z.encrypt=function(x,R){var W=m(R,x._prev);return x._prev=x._cipher.encryptBlock(W),x._prev},z.decrypt=function(x,R){var W=x._prev;x._prev=R;var S=x._cipher.decryptBlock(R);return m(S,W)}},17090:(Le,z,E)=>{var m=E(27054).Buffer,x=E(13546);function R(W,S,L){var M=S.length,N=x(S,W._cache);return W._cache=W._cache.slice(M),W._prev=m.concat([W._prev,L?S:N]),N}z.encrypt=function(W,S,L){for(var N,M=m.allocUnsafe(0);S.length;){if(0===W._cache.length&&(W._cache=W._cipher.encryptBlock(W._prev),W._prev=m.allocUnsafe(0)),!(W._cache.length<=S.length)){M=m.concat([M,R(W,S,L)]);break}M=m.concat([M,R(W,S.slice(0,N=W._cache.length),L)]),S=S.slice(N)}return M}},71039:(Le,z,E)=>{var m=E(27054).Buffer;function x(W,S,L){for(var I,X,N=-1,F=0;++N<8;)F+=(128&(X=W._cipher.encryptBlock(W._prev)[0]^(I=S&1<<7-N?128:0)))>>N%8,W._prev=R(W._prev,L?I:X);return F}function R(W,S){var L=W.length,M=-1,N=m.allocUnsafe(W.length);for(W=m.concat([W,m.from([S])]);++M<L;)N[M]=W[M]<<1|W[M+1]>>7;return N}z.encrypt=function(W,S,L){for(var M=S.length,N=m.allocUnsafe(M),$=-1;++$<M;)N[$]=x(W,S[$],L);return N}},72576:(Le,z,E)=>{var m=E(27054).Buffer;function x(R,W,S){var M=R._cipher.encryptBlock(R._prev)[0]^W;return R._prev=m.concat([R._prev.slice(1),m.from([S?W:M])]),M}z.encrypt=function(R,W,S){for(var L=W.length,M=m.allocUnsafe(L),N=-1;++N<L;)M[N]=x(R,W[N],S);return M}},70336:(Le,z,E)=>{var m=E(13546),x=E(27054).Buffer,R=E(95725);function W(L){var M=L._cipher.encryptBlockRaw(L._prev);return R(L._prev),M}z.encrypt=function(L,M){var N=Math.ceil(M.length/16),$=L._cache.length;L._cache=x.concat([L._cache,x.allocUnsafe(16*N)]);for(var F=0;F<N;F++){var I=W(L),X=$+16*F;L._cache.writeUInt32BE(I[0],X+0),L._cache.writeUInt32BE(I[1],X+4),L._cache.writeUInt32BE(I[2],X+8),L._cache.writeUInt32BE(I[3],X+12)}var V=L._cache.slice(0,M.length);return L._cache=L._cache.slice(M.length),m(M,V)}},37513:(Le,z)=>{z.encrypt=function(E,m){return E._cipher.encryptBlock(m)},z.decrypt=function(E,m){return E._cipher.decryptBlock(m)}},60503:(Le,z,E)=>{var m={ECB:E(37513),CBC:E(34133),CFB:E(17090),CFB8:E(72576),CFB1:E(71039),OFB:E(46854),CTR:E(70336),GCM:E(70336)},x=E(3219);for(var R in x)x[R].module=m[x[R].mode];Le.exports=x},46854:(Le,z,E)=>{var m=E(13546);function x(R){return R._prev=R._cipher.encryptBlock(R._prev),R._prev}z.encrypt=function(R,W){for(;R._cache.length<W.length;)R._cache=Buffer.concat([R._cache,x(R)]);var S=R._cache.slice(0,W.length);return R._cache=R._cache.slice(W.length),m(W,S)}},91821:(Le,z,E)=>{var m=E(12375),x=E(27054).Buffer,R=E(3247);function S(L,M,N,$){R.call(this),this._cipher=new m.AES(M),this._prev=x.from(N),this._cache=x.allocUnsafe(0),this._secCache=x.allocUnsafe(0),this._decrypt=$,this._mode=L}E(71993)(S,R),S.prototype._update=function(L){return this._mode.encrypt(this,L,this._decrypt)},S.prototype._final=function(){this._cipher.scrub()},Le.exports=S},88862:(Le,z,E)=>{var m=E(39799),x=E(43388),R=E(60503),W=E(59571),S=E(18211);function N(I,X,V){if(I=I.toLowerCase(),R[I])return x.createCipheriv(I,X,V);if(W[I])return new m({key:X,iv:V,mode:I});throw new TypeError("invalid suite type")}function $(I,X,V){if(I=I.toLowerCase(),R[I])return x.createDecipheriv(I,X,V);if(W[I])return new m({key:X,iv:V,mode:I,decrypt:!0});throw new TypeError("invalid suite type")}z.createCipher=z.Cipher=function L(I,X){var V,Z;if(I=I.toLowerCase(),R[I])V=R[I].key,Z=R[I].iv;else{if(!W[I])throw new TypeError("invalid suite type");V=8*W[I].key,Z=W[I].iv}var re=S(X,!1,V,Z);return N(I,re.key,re.iv)},z.createCipheriv=z.Cipheriv=N,z.createDecipher=z.Decipher=function M(I,X){var V,Z;if(I=I.toLowerCase(),R[I])V=R[I].key,Z=R[I].iv;else{if(!W[I])throw new TypeError("invalid suite type");V=8*W[I].key,Z=W[I].iv}var re=S(X,!1,V,Z);return $(I,re.key,re.iv)},z.createDecipheriv=z.Decipheriv=$,z.listCiphers=z.getCiphers=function F(){return Object.keys(W).concat(x.getCiphers())}},39799:(Le,z,E)=>{var m=E(3247),x=E(71549),R=E(71993),W=E(27054).Buffer,S={"des-ede3-cbc":x.CBC.instantiate(x.EDE),"des-ede3":x.EDE,"des-ede-cbc":x.CBC.instantiate(x.EDE),"des-ede":x.EDE,"des-cbc":x.CBC.instantiate(x.DES),"des-ecb":x.DES};function L(M){m.call(this);var F,N=M.mode.toLowerCase(),$=S[N];F=M.decrypt?"decrypt":"encrypt";var I=M.key;W.isBuffer(I)||(I=W.from(I)),("des-ede"===N||"des-ede-cbc"===N)&&(I=W.concat([I,I.slice(0,8)]));var X=M.iv;W.isBuffer(X)||(X=W.from(X)),this._des=$.create({key:I,iv:X,type:F})}S.des=S["des-cbc"],S.des3=S["des-ede3-cbc"],Le.exports=L,R(L,m),L.prototype._update=function(M){return W.from(this._des.update(M))},L.prototype._final=function(){return W.from(this._des.final())}},59571:(Le,z)=>{z["des-ecb"]={key:8,iv:0},z["des-cbc"]=z.des={key:8,iv:8},z["des-ede3-cbc"]=z.des3={key:24,iv:8},z["des-ede3"]={key:24,iv:0},z["des-ede-cbc"]={key:16,iv:8},z["des-ede"]={key:16,iv:0}},14105:(Le,z,E)=>{var m=E(917),x=E(3342);function W(L){var N,M=L.modulus.byteLength();do{N=new m(x(M))}while(N.cmp(L.modulus)>=0||!N.umod(L.prime1)||!N.umod(L.prime2));return N}function S(L,M){var N=function R(L){var M=W(L);return{blinder:M.toRed(m.mont(L.modulus)).redPow(new m(L.publicExponent)).fromRed(),unblinder:M.invm(L.modulus)}}(M),$=M.modulus.byteLength(),F=new m(L).mul(N.blinder).umod(M.modulus),I=F.toRed(m.mont(M.prime1)),X=F.toRed(m.mont(M.prime2)),V=M.coefficient,Z=M.prime1,re=M.prime2,te=I.redPow(M.exponent1).fromRed(),Q=X.redPow(M.exponent2).fromRed(),J=te.isub(Q).imul(V).umod(Z).imul(re);return Q.iadd(J).imul(N.unblinder).umod(M.modulus).toArrayLike(Buffer,"be",$)}S.getr=W,Le.exports=S},99560:(Le,z,E)=>{"use strict";Le.exports=E(62951)},79143:(Le,z,E)=>{"use strict";var m=E(27054).Buffer,x=E(67211),R=E(64670),W=E(71993),S=E(43150),L=E(74754),M=E(62951);function N(X){R.Writable.call(this);var V=M[X];if(!V)throw new Error("Unknown message digest");this._hashType=V.hash,this._hash=x(V.hash),this._tag=V.id,this._signType=V.sign}function $(X){R.Writable.call(this);var V=M[X];if(!V)throw new Error("Unknown message digest");this._hash=x(V.hash),this._tag=V.id,this._signType=V.sign}function F(X){return new N(X)}function I(X){return new $(X)}Object.keys(M).forEach(function(X){M[X].id=m.from(M[X].id,"hex"),M[X.toLowerCase()]=M[X]}),W(N,R.Writable),N.prototype._write=function(V,Z,re){this._hash.update(V),re()},N.prototype.update=function(V,Z){return this._hash.update("string"==typeof V?m.from(V,Z):V),this},N.prototype.sign=function(V,Z){this.end();var re=this._hash.digest(),te=S(re,V,this._hashType,this._signType,this._tag);return Z?te.toString(Z):te},W($,R.Writable),$.prototype._write=function(V,Z,re){this._hash.update(V),re()},$.prototype.update=function(V,Z){return this._hash.update("string"==typeof V?m.from(V,Z):V),this},$.prototype.verify=function(V,Z,re){var te="string"==typeof Z?m.from(Z,re):Z;this.end();var Q=this._hash.digest();return L(te,Q,V,this._signType,this._tag)},Le.exports={Sign:F,Verify:I,createSign:F,createVerify:I}},43150:(Le,z,E)=>{"use strict";var m=E(27054).Buffer,x=E(56432),R=E(14105),W=E(90518).ec,S=E(917),L=E(65667),M=E(64589);function V(J,oe,se,ae){if((J=m.from(J.toArray())).length<oe.byteLength()){var pe=m.alloc(oe.byteLength()-J.length);J=m.concat([pe,J])}var le=se.length,ve=function re(J,oe){J=(J=Z(J,oe)).mod(oe);var se=m.from(J.toArray());if(se.length<oe.byteLength()){var ae=m.alloc(oe.byteLength()-se.length);se=m.concat([ae,se])}return se}(se,oe),we=m.alloc(le);we.fill(1);var De=m.alloc(le);return De=x(ae,De).update(we).update(m.from([0])).update(J).update(ve).digest(),we=x(ae,De).update(we).digest(),{k:De=x(ae,De).update(we).update(m.from([1])).update(J).update(ve).digest(),v:we=x(ae,De).update(we).digest()}}function Z(J,oe){var se=new S(J),ae=(J.length<<3)-oe.bitLength();return ae>0&&se.ishrn(ae),se}function te(J,oe,se){var ae,pe;do{for(ae=m.alloc(0);8*ae.length<J.bitLength();)oe.v=x(se,oe.k).update(oe.v).digest(),ae=m.concat([ae,oe.v]);pe=Z(ae,J),oe.k=x(se,oe.k).update(oe.v).update(m.from([0])).digest(),oe.v=x(se,oe.k).update(oe.v).digest()}while(-1!==pe.cmp(J));return pe}function Q(J,oe,se,ae){return J.toRed(S.mont(se)).redPow(oe).fromRed().mod(ae)}Le.exports=function $(J,oe,se,ae,pe){var le=L(oe);if(le.curve){if("ecdsa"!==ae&&"ecdsa/rsa"!==ae)throw new Error("wrong private key type");return function F(J,oe){var se=M[oe.curve.join(".")];if(!se)throw new Error("unknown curve "+oe.curve.join("."));var le=new W(se).keyFromPrivate(oe.privateKey).sign(J);return m.from(le.toDER())}(J,le)}if("dsa"===le.type){if("dsa"!==ae)throw new Error("wrong private key type");return function I(J,oe,se){for(var De,ae=oe.params.priv_key,pe=oe.params.p,le=oe.params.q,ve=oe.params.g,we=new S(0),k=Z(J,le).mod(le),u=!1,h=V(ae,le,J,se);!1===u;)we=Q(ve,De=te(le,h,se),pe,le),0===(u=De.invm(le).imul(k.add(ae.mul(we))).mod(le)).cmpn(0)&&(u=!1,we=new S(0));return function X(J,oe){J=J.toArray(),oe=oe.toArray(),128&J[0]&&(J=[0].concat(J)),128&oe[0]&&(oe=[0].concat(oe));var ae=[48,J.length+oe.length+4,2,J.length];return ae=ae.concat(J,[2,oe.length],oe),m.from(ae)}(we,u)}(J,le,se)}if("rsa"!==ae&&"ecdsa/rsa"!==ae)throw new Error("wrong private key type");if(void 0!==oe.padding&&1!==oe.padding)throw new Error("illegal or unsupported padding mode");J=m.concat([pe,J]);for(var ve=le.modulus.byteLength(),we=[0,1];J.length+we.length+1<ve;)we.push(255);we.push(0);for(var De=-1;++De<J.length;)we.push(J[De]);return R(we,le)},Le.exports.getKey=V,Le.exports.makeKey=te},74754:(Le,z,E)=>{"use strict";var m=E(27054).Buffer,x=E(917),R=E(90518).ec,W=E(65667),S=E(64589);function $(F,I){if(F.cmpn(0)<=0)throw new Error("invalid sig");if(F.cmp(I)>=0)throw new Error("invalid sig")}Le.exports=function L(F,I,X,V,Z){var re=W(X);if("ec"===re.type){if("ecdsa"!==V&&"ecdsa/rsa"!==V)throw new Error("wrong public key type");return function M(F,I,X){var V=S[X.data.algorithm.curve.join(".")];if(!V)throw new Error("unknown curve "+X.data.algorithm.curve.join("."));return new R(V).verify(I,F,X.data.subjectPrivateKey.data)}(F,I,re)}if("dsa"===re.type){if("dsa"!==V)throw new Error("wrong public key type");return function N(F,I,X){var V=X.data.p,Z=X.data.q,re=X.data.g,te=X.data.pub_key,Q=W.signature.decode(F,"der"),J=Q.s,oe=Q.r;$(J,Z),$(oe,Z);var se=x.mont(V),ae=J.invm(Z);return 0===re.toRed(se).redPow(new x(I).mul(ae).mod(Z)).fromRed().mul(te.toRed(se).redPow(oe.mul(ae).mod(Z)).fromRed()).mod(V).mod(Z).cmp(oe)}(F,I,re)}if("rsa"!==V&&"ecdsa/rsa"!==V)throw new Error("wrong public key type");I=m.concat([Z,I]);for(var te=re.modulus.byteLength(),Q=[1],J=0;I.length+Q.length+2<te;)Q.push(255),J+=1;Q.push(0);for(var oe=-1;++oe<I.length;)Q.push(I[oe]);Q=m.from(Q);var se=x.mont(re.modulus);F=(F=new x(F).toRed(se)).redPow(new x(re.publicExponent)),F=m.from(F.fromRed().toArray());var ae=J<8?1:0;for(te=Math.min(F.length,Q.length),F.length!==Q.length&&(ae=1),oe=-1;++oe<te;)ae|=F[oe]^Q[oe];return 0===ae}},23827:(Le,z,E)=>{"use strict";var m=E(9656),x=Object.keys||function(X){var V=[];for(var Z in X)V.push(Z);return V};Le.exports=$;var R=Object.create(E(27637));R.inherits=E(71993);var W=E(81217),S=E(14817);R.inherits($,W);for(var L=x(S.prototype),M=0;M<L.length;M++){var N=L[M];$.prototype[N]||($.prototype[N]=S.prototype[N])}function $(X){if(!(this instanceof $))return new $(X);W.call(this,X),S.call(this,X),X&&!1===X.readable&&(this.readable=!1),X&&!1===X.writable&&(this.writable=!1),this.allowHalfOpen=!0,X&&!1===X.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",F)}function F(){this.allowHalfOpen||this._writableState.ended||m.nextTick(I,this)}function I(X){X.end()}Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty($.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(X){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=X,this._writableState.destroyed=X)}}),$.prototype._destroy=function(X,V){this.push(null),this.end(),m.nextTick(V,X)}},75519:(Le,z,E)=>{"use strict";Le.exports=R;var m=E(93045),x=Object.create(E(27637));function R(W){if(!(this instanceof R))return new R(W);m.call(this,W)}x.inherits=E(71993),x.inherits(R,m),R.prototype._transform=function(W,S,L){L(null,W)}},81217:(Le,z,E)=>{"use strict";var m=E(40573),x=E(9656);Le.exports=ae;var W,R=E(20053);ae.ReadableState=se,E(44356);var L=function(ge,Oe){return ge.listeners(Oe).length},M=E(62078),N=E(29783).Buffer,$=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},X=Object.create(E(27637));X.inherits=E(71993);var V=E(92668),Z=void 0;Z=V&&V.debuglog?V.debuglog("stream"):function(){};var Q,re=E(10793),te=E(43357);X.inherits(ae,M);var J=["error","close","destroy","pause","resume"];function se(ge,Oe){var ye=Oe instanceof(W=W||E(23827));this.objectMode=!!(ge=ge||{}).objectMode,ye&&(this.objectMode=this.objectMode||!!ge.readableObjectMode);var Se=ge.highWaterMark,he=ge.readableHighWaterMark;this.highWaterMark=Se||0===Se?Se:ye&&(he||0===he)?he:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new re,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=ge.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ge.encoding&&(Q||(Q=E(72318).I),this.decoder=new Q(ge.encoding),this.encoding=ge.encoding)}function ae(ge){if(W=W||E(23827),!(this instanceof ae))return new ae(ge);this._readableState=new se(ge,this),this.readable=!0,ge&&("function"==typeof ge.read&&(this._read=ge.read),"function"==typeof ge.destroy&&(this._destroy=ge.destroy)),M.call(this)}function pe(ge,Oe,ye,Se,he){var ee,fe=ge._readableState;return null===Oe?(fe.reading=!1,function h(ge,Oe){if(!Oe.ended){if(Oe.decoder){var ye=Oe.decoder.end();ye&&ye.length&&(Oe.buffer.push(ye),Oe.length+=Oe.objectMode?1:ye.length)}Oe.ended=!0,y(ge)}}(ge,fe)):(he||(ee=function ve(ge,Oe){var ye;return!function I(ge){return N.isBuffer(ge)||ge instanceof $}(Oe)&&"string"!=typeof Oe&&void 0!==Oe&&!ge.objectMode&&(ye=new TypeError("Invalid non-string/buffer chunk")),ye}(fe,Oe)),ee?ge.emit("error",ee):fe.objectMode||Oe&&Oe.length>0?("string"!=typeof Oe&&!fe.objectMode&&Object.getPrototypeOf(Oe)!==N.prototype&&(Oe=function F(ge){return N.from(ge)}(Oe)),Se?fe.endEmitted?ge.emit("error",new Error("stream.unshift() after end event")):le(ge,fe,Oe,!0):fe.ended?ge.emit("error",new Error("stream.push() after EOF")):(fe.reading=!1,fe.decoder&&!ye?(Oe=fe.decoder.write(Oe),fe.objectMode||0!==Oe.length?le(ge,fe,Oe,!1):T(ge,fe)):le(ge,fe,Oe,!1))):Se||(fe.reading=!1)),function we(ge){return!ge.ended&&(ge.needReadable||ge.length<ge.highWaterMark||0===ge.length)}(fe)}function le(ge,Oe,ye,Se){Oe.flowing&&0===Oe.length&&!Oe.sync?(ge.emit("data",ye),ge.read(0)):(Oe.length+=Oe.objectMode?1:ye.length,Se?Oe.buffer.unshift(ye):Oe.buffer.push(ye),Oe.needReadable&&y(ge)),T(ge,Oe)}Object.defineProperty(ae.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(ge){this._readableState&&(this._readableState.destroyed=ge)}}),ae.prototype.destroy=te.destroy,ae.prototype._undestroy=te.undestroy,ae.prototype._destroy=function(ge,Oe){this.push(null),Oe(ge)},ae.prototype.push=function(ge,Oe){var Se,ye=this._readableState;return ye.objectMode?Se=!0:"string"==typeof ge&&((Oe=Oe||ye.defaultEncoding)!==ye.encoding&&(ge=N.from(ge,Oe),Oe=""),Se=!0),pe(this,ge,Oe,!1,Se)},ae.prototype.unshift=function(ge){return pe(this,ge,null,!0,!1)},ae.prototype.isPaused=function(){return!1===this._readableState.flowing},ae.prototype.setEncoding=function(ge){return Q||(Q=E(72318).I),this._readableState.decoder=new Q(ge),this._readableState.encoding=ge,this};function u(ge,Oe){return ge<=0||0===Oe.length&&Oe.ended?0:Oe.objectMode?1:ge!=ge?Oe.flowing&&Oe.length?Oe.buffer.head.data.length:Oe.length:(ge>Oe.highWaterMark&&(Oe.highWaterMark=function k(ge){return ge>=8388608?ge=8388608:(ge--,ge|=ge>>>1,ge|=ge>>>2,ge|=ge>>>4,ge|=ge>>>8,ge|=ge>>>16,ge++),ge}(ge)),ge<=Oe.length?ge:Oe.ended?Oe.length:(Oe.needReadable=!0,0))}function y(ge){var Oe=ge._readableState;Oe.needReadable=!1,Oe.emittedReadable||(Z("emitReadable",Oe.flowing),Oe.emittedReadable=!0,Oe.sync?x.nextTick(w,ge):w(ge))}function w(ge){Z("emit readable"),ge.emit("readable"),G(ge)}function T(ge,Oe){Oe.readingMore||(Oe.readingMore=!0,x.nextTick(D,ge,Oe))}function D(ge,Oe){for(var ye=Oe.length;!Oe.reading&&!Oe.flowing&&!Oe.ended&&Oe.length<Oe.highWaterMark&&(Z("maybeReadMore read 0"),ge.read(0),ye!==Oe.length);)ye=Oe.length;Oe.readingMore=!1}function A(ge){Z("readable nexttick read 0"),ge.read(0)}function g(ge,Oe){Oe.reading||(Z("resume read 0"),ge.read(0)),Oe.resumeScheduled=!1,Oe.awaitDrain=0,ge.emit("resume"),G(ge),Oe.flowing&&!Oe.reading&&ge.read(0)}function G(ge){var Oe=ge._readableState;for(Z("flow",Oe.flowing);Oe.flowing&&null!==ge.read(););}function H(ge,Oe){return 0===Oe.length?null:(Oe.objectMode?ye=Oe.buffer.shift():!ge||ge>=Oe.length?(ye=Oe.decoder?Oe.buffer.join(""):1===Oe.buffer.length?Oe.buffer.head.data:Oe.buffer.concat(Oe.length),Oe.buffer.clear()):ye=function ne(ge,Oe,ye){var Se;return ge<Oe.head.data.length?(Se=Oe.head.data.slice(0,ge),Oe.head.data=Oe.head.data.slice(ge)):Se=ge===Oe.head.data.length?Oe.shift():ye?function ce(ge,Oe){var ye=Oe.head,Se=1,he=ye.data;for(ge-=he.length;ye=ye.next;){var fe=ye.data,ee=ge>fe.length?fe.length:ge;if(he+=ee===fe.length?fe:fe.slice(0,ge),0==(ge-=ee)){ee===fe.length?(++Se,Oe.head=ye.next?ye.next:Oe.tail=null):(Oe.head=ye,ye.data=fe.slice(ee));break}++Se}return Oe.length-=Se,he}(ge,Oe):function Ae(ge,Oe){var ye=N.allocUnsafe(ge),Se=Oe.head,he=1;for(Se.data.copy(ye),ge-=Se.data.length;Se=Se.next;){var fe=Se.data,ee=ge>fe.length?fe.length:ge;if(fe.copy(ye,ye.length-ge,0,ee),0==(ge-=ee)){ee===fe.length?(++he,Oe.head=Se.next?Se.next:Oe.tail=null):(Oe.head=Se,Se.data=fe.slice(ee));break}++he}return Oe.length-=he,ye}(ge,Oe),Se}(ge,Oe.buffer,Oe.decoder),ye);var ye}function ke(ge){var Oe=ge._readableState;if(Oe.length>0)throw new Error('"endReadable()" called on non-empty stream');Oe.endEmitted||(Oe.ended=!0,x.nextTick(Fe,Oe,ge))}function Fe(ge,Oe){!ge.endEmitted&&0===ge.length&&(ge.endEmitted=!0,Oe.readable=!1,Oe.emit("end"))}function Ee(ge,Oe){for(var ye=0,Se=ge.length;ye<Se;ye++)if(ge[ye]===Oe)return ye;return-1}ae.prototype.read=function(ge){Z("read",ge),ge=parseInt(ge,10);var Oe=this._readableState,ye=ge;if(0!==ge&&(Oe.emittedReadable=!1),0===ge&&Oe.needReadable&&(Oe.length>=Oe.highWaterMark||Oe.ended))return Z("read: emitReadable",Oe.length,Oe.ended),0===Oe.length&&Oe.ended?ke(this):y(this),null;if(0===(ge=u(ge,Oe))&&Oe.ended)return 0===Oe.length&&ke(this),null;var he,Se=Oe.needReadable;return Z("need readable",Se),(0===Oe.length||Oe.length-ge<Oe.highWaterMark)&&Z("length less than watermark",Se=!0),Oe.ended||Oe.reading?Z("reading or ended",Se=!1):Se&&(Z("do read"),Oe.reading=!0,Oe.sync=!0,0===Oe.length&&(Oe.needReadable=!0),this._read(Oe.highWaterMark),Oe.sync=!1,Oe.reading||(ge=u(ye,Oe))),null===(he=ge>0?H(ge,Oe):null)?(Oe.needReadable=!0,ge=0):Oe.length-=ge,0===Oe.length&&(Oe.ended||(Oe.needReadable=!0),ye!==ge&&Oe.ended&&ke(this)),null!==he&&this.emit("data",he),he},ae.prototype._read=function(ge){this.emit("error",new Error("_read() is not implemented"))},ae.prototype.pipe=function(ge,Oe){var ye=this,Se=this._readableState;switch(Se.pipesCount){case 0:Se.pipes=ge;break;case 1:Se.pipes=[Se.pipes,ge];break;default:Se.pipes.push(ge)}Se.pipesCount+=1,Z("pipe count=%d opts=%j",Se.pipesCount,Oe);var fe=Oe&&!1===Oe.end||ge===m.stdout||ge===m.stderr?ot:ie;function ie(){Z("onend"),ge.end()}Se.endEmitted?x.nextTick(fe):ye.once("end",fe),ge.on("unpipe",function ee(U,_){Z("onunpipe"),U===ye&&_&&!1===_.hasUnpiped&&(_.hasUnpiped=!0,function Ie(){Z("cleanup"),ge.removeListener("close",Ke),ge.removeListener("finish",Re),ge.removeListener("drain",ue),ge.removeListener("error",yt),ge.removeListener("unpipe",ee),ye.removeListener("end",ie),ye.removeListener("end",ot),ye.removeListener("data",Be),be=!0,Se.awaitDrain&&(!ge._writableState||ge._writableState.needDrain)&&ue()}())});var ue=function j(ge){return function(){var Oe=ge._readableState;Z("pipeOnDrain",Oe.awaitDrain),Oe.awaitDrain&&Oe.awaitDrain--,0===Oe.awaitDrain&&L(ge,"data")&&(Oe.flowing=!0,G(ge))}}(ye);ge.on("drain",ue);var be=!1,Ne=!1;function Be(U){Z("ondata"),Ne=!1,!1===ge.write(U)&&!Ne&&((1===Se.pipesCount&&Se.pipes===ge||Se.pipesCount>1&&-1!==Ee(Se.pipes,ge))&&!be&&(Z("false write response, pause",Se.awaitDrain),Se.awaitDrain++,Ne=!0),ye.pause())}function yt(U){Z("onerror",U),ot(),ge.removeListener("error",yt),0===L(ge,"error")&&ge.emit("error",U)}function Ke(){ge.removeListener("finish",Re),ot()}function Re(){Z("onfinish"),ge.removeListener("close",Ke),ot()}function ot(){Z("unpipe"),ye.unpipe(ge)}return ye.on("data",Be),function oe(ge,Oe,ye){if("function"==typeof ge.prependListener)return ge.prependListener(Oe,ye);ge._events&&ge._events[Oe]?R(ge._events[Oe])?ge._events[Oe].unshift(ye):ge._events[Oe]=[ye,ge._events[Oe]]:ge.on(Oe,ye)}(ge,"error",yt),ge.once("close",Ke),ge.once("finish",Re),ge.emit("pipe",ye),Se.flowing||(Z("pipe resume"),ye.resume()),ge},ae.prototype.unpipe=function(ge){var Oe=this._readableState,ye={hasUnpiped:!1};if(0===Oe.pipesCount)return this;if(1===Oe.pipesCount)return ge&&ge!==Oe.pipes||(ge||(ge=Oe.pipes),Oe.pipes=null,Oe.pipesCount=0,Oe.flowing=!1,ge&&ge.emit("unpipe",this,ye)),this;if(!ge){var Se=Oe.pipes,he=Oe.pipesCount;Oe.pipes=null,Oe.pipesCount=0,Oe.flowing=!1;for(var fe=0;fe<he;fe++)Se[fe].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=Ee(Oe.pipes,ge);return-1===ee||(Oe.pipes.splice(ee,1),Oe.pipesCount-=1,1===Oe.pipesCount&&(Oe.pipes=Oe.pipes[0]),ge.emit("unpipe",this,ye)),this},ae.prototype.addListener=ae.prototype.on=function(ge,Oe){var ye=M.prototype.on.call(this,ge,Oe);if("data"===ge)!1!==this._readableState.flowing&&this.resume();else if("readable"===ge){var Se=this._readableState;!Se.endEmitted&&!Se.readableListening&&(Se.readableListening=Se.needReadable=!0,Se.emittedReadable=!1,Se.reading?Se.length&&y(this):x.nextTick(A,this))}return ye},ae.prototype.resume=function(){var ge=this._readableState;return ge.flowing||(Z("resume"),ge.flowing=!0,function l(ge,Oe){Oe.resumeScheduled||(Oe.resumeScheduled=!0,x.nextTick(g,ge,Oe))}(this,ge)),this},ae.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this},ae.prototype.wrap=function(ge){var Oe=this,ye=this._readableState,Se=!1;for(var he in ge.on("end",function(){if(Z("wrapped end"),ye.decoder&&!ye.ended){var ee=ye.decoder.end();ee&&ee.length&&Oe.push(ee)}Oe.push(null)}),ge.on("data",function(ee){Z("wrapped data"),ye.decoder&&(ee=ye.decoder.write(ee)),ye.objectMode&&null==ee||!(ye.objectMode||ee&&ee.length)||Oe.push(ee)||(Se=!0,ge.pause())}),ge)void 0===this[he]&&"function"==typeof ge[he]&&(this[he]=function(ee){return function(){return ge[ee].apply(ge,arguments)}}(he));for(var fe=0;fe<J.length;fe++)ge.on(J[fe],this.emit.bind(this,J[fe]));return this._read=function(ee){Z("wrapped _read",ee),Se&&(Se=!1,ge.resume())},this},Object.defineProperty(ae.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),ae._fromList=H},93045:(Le,z,E)=>{"use strict";Le.exports=W;var m=E(23827),x=Object.create(E(27637));function R(M,N){var $=this._transformState;$.transforming=!1;var F=$.writecb;if(!F)return this.emit("error",new Error("write callback called multiple times"));$.writechunk=null,$.writecb=null,null!=N&&this.push(N),F(M);var I=this._readableState;I.reading=!1,(I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}function W(M){if(!(this instanceof W))return new W(M);m.call(this,M),this._transformState={afterTransform:R.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,M&&("function"==typeof M.transform&&(this._transform=M.transform),"function"==typeof M.flush&&(this._flush=M.flush)),this.on("prefinish",S)}function S(){var M=this;"function"==typeof this._flush?this._flush(function(N,$){L(M,N,$)}):L(this,null,null)}function L(M,N,$){if(N)return M.emit("error",N);if(null!=$&&M.push($),M._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(M._transformState.transforming)throw new Error("Calling transform done when still transforming");return M.push(null)}x.inherits=E(71993),x.inherits(W,m),W.prototype.push=function(M,N){return this._transformState.needTransform=!1,m.prototype.push.call(this,M,N)},W.prototype._transform=function(M,N,$){throw new Error("_transform() is not implemented")},W.prototype._write=function(M,N,$){var F=this._transformState;if(F.writecb=$,F.writechunk=M,F.writeencoding=N,!F.transforming){var I=this._readableState;(F.needTransform||I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}},W.prototype._read=function(M){var N=this._transformState;null!==N.writechunk&&N.writecb&&!N.transforming?(N.transforming=!0,this._transform(N.writechunk,N.writeencoding,N.afterTransform)):N.needTransform=!0},W.prototype._destroy=function(M,N){var $=this;m.prototype._destroy.call(this,M,function(F){N(F),$.emit("close")})}},14817:(Le,z,E)=>{"use strict";var m=E(40573),x=E(9656);function W(l){var g=this;this.next=null,this.entry=null,this.finish=function(){!function A(l,g,G){var H=l.entry;for(l.entry=null;H;){var ne=H.callback;g.pendingcb--,ne(G),H=H.next}g.corkedRequestsFree.next=l}(g,l)}}Le.exports=J;var L,S=!m.browser&&["v0.10","v0.9."].indexOf(m.version.slice(0,5))>-1?setImmediate:x.nextTick;J.WritableState=te;var M=Object.create(E(27637));M.inherits=E(71993);var Q,N={deprecate:E(3398)},$=E(62078),F=E(29783).Buffer,I=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},Z=E(43357);function re(){}function te(l,g){L=L||E(23827);var G=g instanceof L;this.objectMode=!!(l=l||{}).objectMode,G&&(this.objectMode=this.objectMode||!!l.writableObjectMode);var H=l.highWaterMark,ne=l.writableHighWaterMark;this.highWaterMark=H||0===H?H:G&&(ne||0===ne)?ne:this.objectMode?16:16384,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===l.decodeStrings),this.defaultEncoding=l.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ke){!function De(l,g){var G=l._writableState,H=G.sync,ne=G.writecb;if(function we(l){l.writing=!1,l.writecb=null,l.length-=l.writelen,l.writelen=0}(G),g)!function ve(l,g,G,H,ne){--g.pendingcb,G?(x.nextTick(ne,H),x.nextTick(D,l,g),l._writableState.errorEmitted=!0,l.emit("error",H)):(ne(H),l._writableState.errorEmitted=!0,l.emit("error",H),D(l,g))}(l,G,H,g,ne);else{var ce=y(G);!ce&&!G.corked&&!G.bufferProcessing&&G.bufferedRequest&&h(l,G),H?S(k,l,G,ce,ne):k(l,G,ce,ne)}}(g,ke)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new W(this)}function J(l){if(L=L||E(23827),!(Q.call(J,this)||this instanceof L))return new J(l);this._writableState=new te(l,this),this.writable=!0,l&&("function"==typeof l.write&&(this._write=l.write),"function"==typeof l.writev&&(this._writev=l.writev),"function"==typeof l.destroy&&(this._destroy=l.destroy),"function"==typeof l.final&&(this._final=l.final)),$.call(this)}function le(l,g,G,H,ne,ce,Ae){g.writelen=H,g.writecb=Ae,g.writing=!0,g.sync=!0,G?l._writev(ne,g.onwrite):l._write(ne,ce,g.onwrite),g.sync=!1}function k(l,g,G,H){G||function u(l,g){0===g.length&&g.needDrain&&(g.needDrain=!1,l.emit("drain"))}(l,g),g.pendingcb--,H(),D(l,g)}function h(l,g){g.bufferProcessing=!0;var G=g.bufferedRequest;if(l._writev&&G&&G.next){var ne=new Array(g.bufferedRequestCount),ce=g.corkedRequestsFree;ce.entry=G;for(var Ae=0,ke=!0;G;)ne[Ae]=G,G.isBuf||(ke=!1),G=G.next,Ae+=1;ne.allBuffers=ke,le(l,g,!0,g.length,ne,"",ce.finish),g.pendingcb++,g.lastBufferedRequest=null,ce.next?(g.corkedRequestsFree=ce.next,ce.next=null):g.corkedRequestsFree=new W(g),g.bufferedRequestCount=0}else{for(;G;){var Fe=G.chunk;if(le(l,g,!1,g.objectMode?1:Fe.length,Fe,G.encoding,G.callback),G=G.next,g.bufferedRequestCount--,g.writing)break}null===G&&(g.lastBufferedRequest=null)}g.bufferedRequest=G,g.bufferProcessing=!1}function y(l){return l.ending&&0===l.length&&null===l.bufferedRequest&&!l.finished&&!l.writing}function w(l,g){l._final(function(G){g.pendingcb--,G&&l.emit("error",G),g.prefinished=!0,l.emit("prefinish"),D(l,g)})}function D(l,g){var G=y(g);return G&&(function T(l,g){!g.prefinished&&!g.finalCalled&&("function"==typeof l._final?(g.pendingcb++,g.finalCalled=!0,x.nextTick(w,l,g)):(g.prefinished=!0,l.emit("prefinish")))}(l,g),0===g.pendingcb&&(g.finished=!0,l.emit("finish"))),G}M.inherits(J,$),te.prototype.getBuffer=function(){for(var g=this.bufferedRequest,G=[];g;)G.push(g),g=g.next;return G},function(){try{Object.defineProperty(te.prototype,"buffer",{get:N.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(Q=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(l){return!!Q.call(this,l)||this===J&&l&&l._writableState instanceof te}})):Q=function(l){return l instanceof this},J.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},J.prototype.write=function(l,g,G){var H=this._writableState,ne=!1,ce=!H.objectMode&&function V(l){return F.isBuffer(l)||l instanceof I}(l);return ce&&!F.isBuffer(l)&&(l=function X(l){return F.from(l)}(l)),"function"==typeof g&&(G=g,g=null),ce?g="buffer":g||(g=H.defaultEncoding),"function"!=typeof G&&(G=re),H.ended?function oe(l,g){var G=new Error("write after end");l.emit("error",G),x.nextTick(g,G)}(this,G):(ce||function se(l,g,G,H){var ne=!0,ce=!1;return null===G?ce=new TypeError("May not write null values to stream"):"string"!=typeof G&&void 0!==G&&!g.objectMode&&(ce=new TypeError("Invalid non-string/buffer chunk")),ce&&(l.emit("error",ce),x.nextTick(H,ce),ne=!1),ne}(this,H,l,G))&&(H.pendingcb++,ne=function pe(l,g,G,H,ne,ce){if(!G){var Ae=function ae(l,g,G){return!l.objectMode&&!1!==l.decodeStrings&&"string"==typeof g&&(g=F.from(g,G)),g}(g,H,ne);H!==Ae&&(G=!0,ne="buffer",H=Ae)}var ke=g.objectMode?1:H.length;g.length+=ke;var Fe=g.length<g.highWaterMark;if(Fe||(g.needDrain=!0),g.writing||g.corked){var Ee=g.lastBufferedRequest;g.lastBufferedRequest={chunk:H,encoding:ne,isBuf:G,callback:ce,next:null},Ee?Ee.next=g.lastBufferedRequest:g.bufferedRequest=g.lastBufferedRequest,g.bufferedRequestCount+=1}else le(l,g,!1,ke,H,ne,ce);return Fe}(this,H,ce,l,g,G)),ne},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var l=this._writableState;l.corked&&(l.corked--,!l.writing&&!l.corked&&!l.bufferProcessing&&l.bufferedRequest&&h(this,l))},J.prototype.setDefaultEncoding=function(g){if("string"==typeof g&&(g=g.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((g+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+g);return this._writableState.defaultEncoding=g,this},Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),J.prototype._write=function(l,g,G){G(new Error("_write() is not implemented"))},J.prototype._writev=null,J.prototype.end=function(l,g,G){var H=this._writableState;"function"==typeof l?(G=l,l=null,g=null):"function"==typeof g&&(G=g,g=null),null!=l&&this.write(l,g),H.corked&&(H.corked=1,this.uncork()),H.ending||function j(l,g,G){g.ending=!0,D(l,g),G&&(g.finished?x.nextTick(G):l.once("finish",G)),g.ended=!0,l.writable=!1}(this,H,G)},Object.defineProperty(J.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(l){this._writableState&&(this._writableState.destroyed=l)}}),J.prototype.destroy=Z.destroy,J.prototype._undestroy=Z.undestroy,J.prototype._destroy=function(l,g){this.end(),g(l)}},10793:(Le,z,E)=>{"use strict";var x=E(29783).Buffer,R=E(21638);function W(S,L,M){S.copy(L,M)}Le.exports=function(){function S(){(function m(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")})(this,S),this.head=null,this.tail=null,this.length=0}return S.prototype.push=function(M){var N={data:M,next:null};this.length>0?this.tail.next=N:this.head=N,this.tail=N,++this.length},S.prototype.unshift=function(M){var N={data:M,next:this.head};0===this.length&&(this.tail=N),this.head=N,++this.length},S.prototype.shift=function(){if(0!==this.length){var M=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,M}},S.prototype.clear=function(){this.head=this.tail=null,this.length=0},S.prototype.join=function(M){if(0===this.length)return"";for(var N=this.head,$=""+N.data;N=N.next;)$+=M+N.data;return $},S.prototype.concat=function(M){if(0===this.length)return x.alloc(0);for(var N=x.allocUnsafe(M>>>0),$=this.head,F=0;$;)W($.data,N,F),F+=$.data.length,$=$.next;return N},S}(),R&&R.inspect&&R.inspect.custom&&(Le.exports.prototype[R.inspect.custom]=function(){var S=R.inspect({length:this.length});return this.constructor.name+" "+S})},43357:(Le,z,E)=>{"use strict";var m=E(9656);function W(S,L){S.emit("error",L)}Le.exports={destroy:function x(S,L){var M=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?(L?L(S):S&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(W,this,S)):m.nextTick(W,this,S)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(S||null,function(F){!L&&F?M._writableState?M._writableState.errorEmitted||(M._writableState.errorEmitted=!0,m.nextTick(W,M,F)):m.nextTick(W,M,F):L&&L(F)}),this)},undestroy:function R(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},62078:(Le,z,E)=>{Le.exports=E(44356).EventEmitter},29783:(Le,z,E)=>{var m=E(83838),x=m.Buffer;function R(S,L){for(var M in S)L[M]=S[M]}function W(S,L,M){return x(S,L,M)}x.from&&x.alloc&&x.allocUnsafe&&x.allocUnsafeSlow?Le.exports=m:(R(m,z),z.Buffer=W),R(x,W),W.from=function(S,L,M){if("number"==typeof S)throw new TypeError("Argument must not be a number");return x(S,L,M)},W.alloc=function(S,L,M){if("number"!=typeof S)throw new TypeError("Argument must be a number");var N=x(S);return void 0!==L?"string"==typeof M?N.fill(L,M):N.fill(L):N.fill(0),N},W.allocUnsafe=function(S){if("number"!=typeof S)throw new TypeError("Argument must be a number");return x(S)},W.allocUnsafeSlow=function(S){if("number"!=typeof S)throw new TypeError("Argument must be a number");return m.SlowBuffer(S)}},64670:(Le,z,E)=>{(z=Le.exports=E(81217)).Stream=z,z.Readable=z,z.Writable=E(14817),z.Duplex=E(23827),z.Transform=E(93045),z.PassThrough=E(75519)},72318:(Le,z,E)=>{"use strict";var m=E(37656).Buffer,x=m.isEncoding||function(J){switch((J=""+J)&&J.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function S(J){var oe;switch(this.encoding=function W(J){var oe=function R(J){if(!J)return"utf8";for(var oe;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(oe)return;J=(""+J).toLowerCase(),oe=!0}}(J);if("string"!=typeof oe&&(m.isEncoding===x||!x(J)))throw new Error("Unknown encoding: "+J);return oe||J}(J),this.encoding){case"utf16le":this.text=X,this.end=V,oe=4;break;case"utf8":this.fillLast=$,oe=4;break;case"base64":this.text=Z,this.end=re,oe=3;break;default:return this.write=te,void(this.end=Q)}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(oe)}function L(J){return J<=127?0:J>>5==6?2:J>>4==14?3:J>>3==30?4:J>>6==2?-1:-2}function $(J){var oe=this.lastTotal-this.lastNeed,se=function N(J,oe,se){if(128!=(192&oe[0]))return J.lastNeed=0,"\ufffd";if(J.lastNeed>1&&oe.length>1){if(128!=(192&oe[1]))return J.lastNeed=1,"\ufffd";if(J.lastNeed>2&&oe.length>2&&128!=(192&oe[2]))return J.lastNeed=2,"\ufffd"}}(this,J);return void 0!==se?se:this.lastNeed<=J.length?(J.copy(this.lastChar,oe,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(J.copy(this.lastChar,oe,0,J.length),void(this.lastNeed-=J.length))}function X(J,oe){if((J.length-oe)%2==0){var se=J.toString("utf16le",oe);if(se){var ae=se.charCodeAt(se.length-1);if(ae>=55296&&ae<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1],se.slice(0,-1)}return se}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=J[J.length-1],J.toString("utf16le",oe,J.length-1)}function V(J){var oe=J&&J.length?this.write(J):"";return this.lastNeed?oe+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):oe}function Z(J,oe){var se=(J.length-oe)%3;return 0===se?J.toString("base64",oe):(this.lastNeed=3-se,this.lastTotal=3,1===se?this.lastChar[0]=J[J.length-1]:(this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1]),J.toString("base64",oe,J.length-se))}function re(J){var oe=J&&J.length?this.write(J):"";return this.lastNeed?oe+this.lastChar.toString("base64",0,3-this.lastNeed):oe}function te(J){return J.toString(this.encoding)}function Q(J){return J&&J.length?this.write(J):""}z.I=S,S.prototype.write=function(J){if(0===J.length)return"";var oe,se;if(this.lastNeed){if(void 0===(oe=this.fillLast(J)))return"";se=this.lastNeed,this.lastNeed=0}else se=0;return se<J.length?oe?oe+this.text(J,se):this.text(J,se):oe||""},S.prototype.end=function I(J){var oe=J&&J.length?this.write(J):"";return this.lastNeed?oe+"\ufffd":oe},S.prototype.text=function F(J,oe){var se=function M(J,oe,se){var ae=oe.length-1;if(ae<se)return 0;var pe=L(oe[ae]);return pe>=0?(pe>0&&(J.lastNeed=pe-1),pe):--ae<se||-2===pe?0:(pe=L(oe[ae]))>=0?(pe>0&&(J.lastNeed=pe-2),pe):--ae<se||-2===pe?0:(pe=L(oe[ae]))>=0?(pe>0&&(2===pe?pe=0:J.lastNeed=pe-3),pe):0}(this,J,oe);if(!this.lastNeed)return J.toString("utf8",oe);this.lastTotal=se;var ae=J.length-(se-this.lastNeed);return J.copy(this.lastChar,0,ae),J.toString("utf8",oe,ae)},S.prototype.fillLast=function(J){if(this.lastNeed<=J.length)return J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,J.length),this.lastNeed-=J.length}},37656:(Le,z,E)=>{var m=E(83838),x=m.Buffer;function R(S,L){for(var M in S)L[M]=S[M]}function W(S,L,M){return x(S,L,M)}x.from&&x.alloc&&x.allocUnsafe&&x.allocUnsafeSlow?Le.exports=m:(R(m,z),z.Buffer=W),R(x,W),W.from=function(S,L,M){if("number"==typeof S)throw new TypeError("Argument must not be a number");return x(S,L,M)},W.alloc=function(S,L,M){if("number"!=typeof S)throw new TypeError("Argument must be a number");var N=x(S);return void 0!==L?"string"==typeof M?N.fill(L,M):N.fill(L):N.fill(0),N},W.allocUnsafe=function(S){if("number"!=typeof S)throw new TypeError("Argument must be a number");return x(S)},W.allocUnsafeSlow=function(S){if("number"!=typeof S)throw new TypeError("Argument must be a number");return m.SlowBuffer(S)}},13546:Le=>{Le.exports=function(E,m){for(var x=Math.min(E.length,m.length),R=new Buffer(x),W=0;W<x;++W)R[W]=E[W]^m[W];return R}},83838:(Le,z,E)=>{"use strict";var m=E(13981),x=E(22020),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function J(ee){return+ee!=ee&&(ee=0),M.alloc(+ee)},z.INSPECT_MAX_BYTES=50;var W=2147483647;function L(ee){if(ee>W)throw new RangeError('The value "'+ee+'" is invalid for option "size"');var ie=new Uint8Array(ee);return Object.setPrototypeOf(ie,M.prototype),ie}function M(ee,ie,ue){if("number"==typeof ee){if("string"==typeof ie)throw new TypeError('The "string" argument must be of type string. Received type number');return I(ee)}return N(ee,ie,ue)}function N(ee,ie,ue){if("string"==typeof ee)return function X(ee,ie){if(("string"!=typeof ie||""===ie)&&(ie="utf8"),!M.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);var ue=0|oe(ee,ie),be=L(ue),Ie=be.write(ee,ie);return Ie!==ue&&(be=be.slice(0,Ie)),be}(ee,ie);if(ArrayBuffer.isView(ee))return function Z(ee){if(Se(ee,Uint8Array)){var ie=new Uint8Array(ee);return re(ie.buffer,ie.byteOffset,ie.byteLength)}return V(ee)}(ee);if(null==ee)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(Se(ee,ArrayBuffer)||ee&&Se(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Se(ee,SharedArrayBuffer)||ee&&Se(ee.buffer,SharedArrayBuffer)))return re(ee,ie,ue);if("number"==typeof ee)throw new TypeError('The "value" argument must not be of type number. Received type number');var be=ee.valueOf&&ee.valueOf();if(null!=be&&be!==ee)return M.from(be,ie,ue);var Ie=function te(ee){if(M.isBuffer(ee)){var ie=0|Q(ee.length),ue=L(ie);return 0===ue.length||ee.copy(ue,0,0,ie),ue}return void 0!==ee.length?"number"!=typeof ee.length||he(ee.length)?L(0):V(ee):"Buffer"===ee.type&&Array.isArray(ee.data)?V(ee.data):void 0}(ee);if(Ie)return Ie;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ee[Symbol.toPrimitive])return M.from(ee[Symbol.toPrimitive]("string"),ie,ue);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}function $(ee){if("number"!=typeof ee)throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function I(ee){return $(ee),L(ee<0?0:0|Q(ee))}function V(ee){for(var ie=ee.length<0?0:0|Q(ee.length),ue=L(ie),be=0;be<ie;be+=1)ue[be]=255&ee[be];return ue}function re(ee,ie,ue){if(ie<0||ee.byteLength<ie)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<ie+(ue||0))throw new RangeError('"length" is outside of buffer bounds');var be;return be=void 0===ie&&void 0===ue?new Uint8Array(ee):void 0===ue?new Uint8Array(ee,ie):new Uint8Array(ee,ie,ue),Object.setPrototypeOf(be,M.prototype),be}function Q(ee){if(ee>=W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");return 0|ee}function oe(ee,ie){if(M.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||Se(ee,ArrayBuffer))return ee.byteLength;if("string"!=typeof ee)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);var ue=ee.length,be=arguments.length>2&&!0===arguments[2];if(!be&&0===ue)return 0;for(var Ie=!1;;)switch(ie){case"ascii":case"latin1":case"binary":return ue;case"utf8":case"utf-8":return Fe(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ue;case"hex":return ue>>>1;case"base64":return Oe(ee).length;default:if(Ie)return be?-1:Fe(ee).length;ie=(""+ie).toLowerCase(),Ie=!0}}function se(ee,ie,ue){var be=!1;if((void 0===ie||ie<0)&&(ie=0),ie>this.length||((void 0===ue||ue>this.length)&&(ue=this.length),ue<=0)||(ue>>>=0)<=(ie>>>=0))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return A(this,ie,ue);case"utf8":case"utf-8":return y(this,ie,ue);case"ascii":return D(this,ie,ue);case"latin1":case"binary":return j(this,ie,ue);case"base64":return h(this,ie,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,ie,ue);default:if(be)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),be=!0}}function ae(ee,ie,ue){var be=ee[ie];ee[ie]=ee[ue],ee[ue]=be}function pe(ee,ie,ue,be,Ie){if(0===ee.length)return-1;if("string"==typeof ue?(be=ue,ue=0):ue>2147483647?ue=2147483647:ue<-2147483648&&(ue=-2147483648),he(ue=+ue)&&(ue=Ie?0:ee.length-1),ue<0&&(ue=ee.length+ue),ue>=ee.length){if(Ie)return-1;ue=ee.length-1}else if(ue<0){if(!Ie)return-1;ue=0}if("string"==typeof ie&&(ie=M.from(ie,be)),M.isBuffer(ie))return 0===ie.length?-1:le(ee,ie,ue,be,Ie);if("number"==typeof ie)return ie&=255,"function"==typeof Uint8Array.prototype.indexOf?Ie?Uint8Array.prototype.indexOf.call(ee,ie,ue):Uint8Array.prototype.lastIndexOf.call(ee,ie,ue):le(ee,[ie],ue,be,Ie);throw new TypeError("val must be string, number or Buffer")}function le(ee,ie,ue,be,Ie){var Re,Ne=1,Be=ee.length,yt=ie.length;if(void 0!==be&&("ucs2"===(be=String(be).toLowerCase())||"ucs-2"===be||"utf16le"===be||"utf-16le"===be)){if(ee.length<2||ie.length<2)return-1;Ne=2,Be/=2,yt/=2,ue/=2}function Ke(p,O){return 1===Ne?p[O]:p.readUInt16BE(O*Ne)}if(Ie){var ot=-1;for(Re=ue;Re<Be;Re++)if(Ke(ee,Re)===Ke(ie,-1===ot?0:Re-ot)){if(-1===ot&&(ot=Re),Re-ot+1===yt)return ot*Ne}else-1!==ot&&(Re-=Re-ot),ot=-1}else for(ue+yt>Be&&(ue=Be-yt),Re=ue;Re>=0;Re--){for(var U=!0,_=0;_<yt;_++)if(Ke(ee,Re+_)!==Ke(ie,_)){U=!1;break}if(U)return Re}return-1}function ve(ee,ie,ue,be){ue=Number(ue)||0;var Ie=ee.length-ue;be?(be=Number(be))>Ie&&(be=Ie):be=Ie;var Ne=ie.length;be>Ne/2&&(be=Ne/2);for(var Be=0;Be<be;++Be){var yt=parseInt(ie.substr(2*Be,2),16);if(he(yt))return Be;ee[ue+Be]=yt}return Be}function we(ee,ie,ue,be){return ye(Fe(ie,ee.length-ue),ee,ue,be)}function De(ee,ie,ue,be){return ye(function Ee(ee){for(var ie=[],ue=0;ue<ee.length;++ue)ie.push(255&ee.charCodeAt(ue));return ie}(ie),ee,ue,be)}function k(ee,ie,ue,be){return ye(Oe(ie),ee,ue,be)}function u(ee,ie,ue,be){return ye(function ge(ee,ie){for(var ue,be,Ne=[],Be=0;Be<ee.length&&!((ie-=2)<0);++Be)be=(ue=ee.charCodeAt(Be))>>8,Ne.push(ue%256),Ne.push(be);return Ne}(ie,ee.length-ue),ee,ue,be)}function h(ee,ie,ue){return m.fromByteArray(0===ie&&ue===ee.length?ee:ee.slice(ie,ue))}function y(ee,ie,ue){ue=Math.min(ee.length,ue);for(var be=[],Ie=ie;Ie<ue;){var Ke,Re,ot,U,Ne=ee[Ie],Be=null,yt=Ne>239?4:Ne>223?3:Ne>191?2:1;if(Ie+yt<=ue)switch(yt){case 1:Ne<128&&(Be=Ne);break;case 2:128==(192&(Ke=ee[Ie+1]))&&(U=(31&Ne)<<6|63&Ke)>127&&(Be=U);break;case 3:Re=ee[Ie+2],128==(192&(Ke=ee[Ie+1]))&&128==(192&Re)&&(U=(15&Ne)<<12|(63&Ke)<<6|63&Re)>2047&&(U<55296||U>57343)&&(Be=U);break;case 4:Re=ee[Ie+2],ot=ee[Ie+3],128==(192&(Ke=ee[Ie+1]))&&128==(192&Re)&&128==(192&ot)&&(U=(15&Ne)<<18|(63&Ke)<<12|(63&Re)<<6|63&ot)>65535&&U<1114112&&(Be=U)}null===Be?(Be=65533,yt=1):Be>65535&&(be.push((Be-=65536)>>>10&1023|55296),Be=56320|1023&Be),be.push(Be),Ie+=yt}return function T(ee){var ie=ee.length;if(ie<=w)return String.fromCharCode.apply(String,ee);for(var ue="",be=0;be<ie;)ue+=String.fromCharCode.apply(String,ee.slice(be,be+=w));return ue}(be)}z.kMaxLength=W,!(M.TYPED_ARRAY_SUPPORT=function S(){try{var ee=new Uint8Array(1),ie={foo:function(){return 42}};return Object.setPrototypeOf(ie,Uint8Array.prototype),Object.setPrototypeOf(ee,ie),42===ee.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(ee,ie,ue){return N(ee,ie,ue)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(ee,ie,ue){return function F(ee,ie,ue){return $(ee),ee<=0?L(ee):void 0!==ie?"string"==typeof ue?L(ee).fill(ie,ue):L(ee).fill(ie):L(ee)}(ee,ie,ue)},M.allocUnsafe=function(ee){return I(ee)},M.allocUnsafeSlow=function(ee){return I(ee)},M.isBuffer=function(ie){return null!=ie&&!0===ie._isBuffer&&ie!==M.prototype},M.compare=function(ie,ue){if(Se(ie,Uint8Array)&&(ie=M.from(ie,ie.offset,ie.byteLength)),Se(ue,Uint8Array)&&(ue=M.from(ue,ue.offset,ue.byteLength)),!M.isBuffer(ie)||!M.isBuffer(ue))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ie===ue)return 0;for(var be=ie.length,Ie=ue.length,Ne=0,Be=Math.min(be,Ie);Ne<Be;++Ne)if(ie[Ne]!==ue[Ne]){be=ie[Ne],Ie=ue[Ne];break}return be<Ie?-1:Ie<be?1:0},M.isEncoding=function(ie){switch(String(ie).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(ie,ue){if(!Array.isArray(ie))throw new TypeError('"list" argument must be an Array of Buffers');if(0===ie.length)return M.alloc(0);var be;if(void 0===ue)for(ue=0,be=0;be<ie.length;++be)ue+=ie[be].length;var Ie=M.allocUnsafe(ue),Ne=0;for(be=0;be<ie.length;++be){var Be=ie[be];if(Se(Be,Uint8Array))Ne+Be.length>Ie.length?M.from(Be).copy(Ie,Ne):Uint8Array.prototype.set.call(Ie,Be,Ne);else{if(!M.isBuffer(Be))throw new TypeError('"list" argument must be an Array of Buffers');Be.copy(Ie,Ne)}Ne+=Be.length}return Ie},M.byteLength=oe,M.prototype._isBuffer=!0,M.prototype.swap16=function(){var ie=this.length;if(ie%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ue=0;ue<ie;ue+=2)ae(this,ue,ue+1);return this},M.prototype.swap32=function(){var ie=this.length;if(ie%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ue=0;ue<ie;ue+=4)ae(this,ue,ue+3),ae(this,ue+1,ue+2);return this},M.prototype.swap64=function(){var ie=this.length;if(ie%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ue=0;ue<ie;ue+=8)ae(this,ue,ue+7),ae(this,ue+1,ue+6),ae(this,ue+2,ue+5),ae(this,ue+3,ue+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){var ie=this.length;return 0===ie?"":0===arguments.length?y(this,0,ie):se.apply(this,arguments)},M.prototype.equals=function(ie){if(!M.isBuffer(ie))throw new TypeError("Argument must be a Buffer");return this===ie||0===M.compare(this,ie)},M.prototype.inspect=function(){var ie="",ue=z.INSPECT_MAX_BYTES;return ie=this.toString("hex",0,ue).replace(/(.{2})/g,"$1 ").trim(),this.length>ue&&(ie+=" ... "),"<Buffer "+ie+">"},R&&(M.prototype[R]=M.prototype.inspect),M.prototype.compare=function(ie,ue,be,Ie,Ne){if(Se(ie,Uint8Array)&&(ie=M.from(ie,ie.offset,ie.byteLength)),!M.isBuffer(ie))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ie);if(void 0===ue&&(ue=0),void 0===be&&(be=ie?ie.length:0),void 0===Ie&&(Ie=0),void 0===Ne&&(Ne=this.length),ue<0||be>ie.length||Ie<0||Ne>this.length)throw new RangeError("out of range index");if(Ie>=Ne&&ue>=be)return 0;if(Ie>=Ne)return-1;if(ue>=be)return 1;if(this===ie)return 0;for(var Be=(Ne>>>=0)-(Ie>>>=0),yt=(be>>>=0)-(ue>>>=0),Ke=Math.min(Be,yt),Re=this.slice(Ie,Ne),ot=ie.slice(ue,be),U=0;U<Ke;++U)if(Re[U]!==ot[U]){Be=Re[U],yt=ot[U];break}return Be<yt?-1:yt<Be?1:0},M.prototype.includes=function(ie,ue,be){return-1!==this.indexOf(ie,ue,be)},M.prototype.indexOf=function(ie,ue,be){return pe(this,ie,ue,be,!0)},M.prototype.lastIndexOf=function(ie,ue,be){return pe(this,ie,ue,be,!1)},M.prototype.write=function(ie,ue,be,Ie){if(void 0===ue)Ie="utf8",be=this.length,ue=0;else if(void 0===be&&"string"==typeof ue)Ie=ue,be=this.length,ue=0;else{if(!isFinite(ue))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ue>>>=0,isFinite(be)?(be>>>=0,void 0===Ie&&(Ie="utf8")):(Ie=be,be=void 0)}var Ne=this.length-ue;if((void 0===be||be>Ne)&&(be=Ne),ie.length>0&&(be<0||ue<0)||ue>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ie||(Ie="utf8");for(var Be=!1;;)switch(Ie){case"hex":return ve(this,ie,ue,be);case"utf8":case"utf-8":return we(this,ie,ue,be);case"ascii":case"latin1":case"binary":return De(this,ie,ue,be);case"base64":return k(this,ie,ue,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,ie,ue,be);default:if(Be)throw new TypeError("Unknown encoding: "+Ie);Ie=(""+Ie).toLowerCase(),Be=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function D(ee,ie,ue){var be="";ue=Math.min(ee.length,ue);for(var Ie=ie;Ie<ue;++Ie)be+=String.fromCharCode(127&ee[Ie]);return be}function j(ee,ie,ue){var be="";ue=Math.min(ee.length,ue);for(var Ie=ie;Ie<ue;++Ie)be+=String.fromCharCode(ee[Ie]);return be}function A(ee,ie,ue){var be=ee.length;(!ie||ie<0)&&(ie=0),(!ue||ue<0||ue>be)&&(ue=be);for(var Ie="",Ne=ie;Ne<ue;++Ne)Ie+=fe[ee[Ne]];return Ie}function l(ee,ie,ue){for(var be=ee.slice(ie,ue),Ie="",Ne=0;Ne<be.length-1;Ne+=2)Ie+=String.fromCharCode(be[Ne]+256*be[Ne+1]);return Ie}function g(ee,ie,ue){if(ee%1!=0||ee<0)throw new RangeError("offset is not uint");if(ee+ie>ue)throw new RangeError("Trying to access beyond buffer length")}function G(ee,ie,ue,be,Ie,Ne){if(!M.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(ie>Ie||ie<Ne)throw new RangeError('"value" argument is out of bounds');if(ue+be>ee.length)throw new RangeError("Index out of range")}function H(ee,ie,ue,be,Ie,Ne){if(ue+be>ee.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("Index out of range")}function ne(ee,ie,ue,be,Ie){return ie=+ie,ue>>>=0,Ie||H(ee,0,ue,4),x.write(ee,ie,ue,be,23,4),ue+4}function ce(ee,ie,ue,be,Ie){return ie=+ie,ue>>>=0,Ie||H(ee,0,ue,8),x.write(ee,ie,ue,be,52,8),ue+8}M.prototype.slice=function(ie,ue){var be=this.length;(ie=~~ie)<0?(ie+=be)<0&&(ie=0):ie>be&&(ie=be),(ue=void 0===ue?be:~~ue)<0?(ue+=be)<0&&(ue=0):ue>be&&(ue=be),ue<ie&&(ue=ie);var Ie=this.subarray(ie,ue);return Object.setPrototypeOf(Ie,M.prototype),Ie},M.prototype.readUintLE=M.prototype.readUIntLE=function(ie,ue,be){ie>>>=0,ue>>>=0,be||g(ie,ue,this.length);for(var Ie=this[ie],Ne=1,Be=0;++Be<ue&&(Ne*=256);)Ie+=this[ie+Be]*Ne;return Ie},M.prototype.readUintBE=M.prototype.readUIntBE=function(ie,ue,be){ie>>>=0,ue>>>=0,be||g(ie,ue,this.length);for(var Ie=this[ie+--ue],Ne=1;ue>0&&(Ne*=256);)Ie+=this[ie+--ue]*Ne;return Ie},M.prototype.readUint8=M.prototype.readUInt8=function(ie,ue){return ie>>>=0,ue||g(ie,1,this.length),this[ie]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(ie,ue){return ie>>>=0,ue||g(ie,2,this.length),this[ie]|this[ie+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(ie,ue){return ie>>>=0,ue||g(ie,2,this.length),this[ie]<<8|this[ie+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(ie,ue){return ie>>>=0,ue||g(ie,4,this.length),(this[ie]|this[ie+1]<<8|this[ie+2]<<16)+16777216*this[ie+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(ie,ue){return ie>>>=0,ue||g(ie,4,this.length),16777216*this[ie]+(this[ie+1]<<16|this[ie+2]<<8|this[ie+3])},M.prototype.readIntLE=function(ie,ue,be){ie>>>=0,ue>>>=0,be||g(ie,ue,this.length);for(var Ie=this[ie],Ne=1,Be=0;++Be<ue&&(Ne*=256);)Ie+=this[ie+Be]*Ne;return Ie>=(Ne*=128)&&(Ie-=Math.pow(2,8*ue)),Ie},M.prototype.readIntBE=function(ie,ue,be){ie>>>=0,ue>>>=0,be||g(ie,ue,this.length);for(var Ie=ue,Ne=1,Be=this[ie+--Ie];Ie>0&&(Ne*=256);)Be+=this[ie+--Ie]*Ne;return Be>=(Ne*=128)&&(Be-=Math.pow(2,8*ue)),Be},M.prototype.readInt8=function(ie,ue){return ie>>>=0,ue||g(ie,1,this.length),128&this[ie]?-1*(255-this[ie]+1):this[ie]},M.prototype.readInt16LE=function(ie,ue){ie>>>=0,ue||g(ie,2,this.length);var be=this[ie]|this[ie+1]<<8;return 32768&be?4294901760|be:be},M.prototype.readInt16BE=function(ie,ue){ie>>>=0,ue||g(ie,2,this.length);var be=this[ie+1]|this[ie]<<8;return 32768&be?4294901760|be:be},M.prototype.readInt32LE=function(ie,ue){return ie>>>=0,ue||g(ie,4,this.length),this[ie]|this[ie+1]<<8|this[ie+2]<<16|this[ie+3]<<24},M.prototype.readInt32BE=function(ie,ue){return ie>>>=0,ue||g(ie,4,this.length),this[ie]<<24|this[ie+1]<<16|this[ie+2]<<8|this[ie+3]},M.prototype.readFloatLE=function(ie,ue){return ie>>>=0,ue||g(ie,4,this.length),x.read(this,ie,!0,23,4)},M.prototype.readFloatBE=function(ie,ue){return ie>>>=0,ue||g(ie,4,this.length),x.read(this,ie,!1,23,4)},M.prototype.readDoubleLE=function(ie,ue){return ie>>>=0,ue||g(ie,8,this.length),x.read(this,ie,!0,52,8)},M.prototype.readDoubleBE=function(ie,ue){return ie>>>=0,ue||g(ie,8,this.length),x.read(this,ie,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(ie,ue,be,Ie){ie=+ie,ue>>>=0,be>>>=0,Ie||G(this,ie,ue,be,Math.pow(2,8*be)-1,0);var Be=1,yt=0;for(this[ue]=255&ie;++yt<be&&(Be*=256);)this[ue+yt]=ie/Be&255;return ue+be},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(ie,ue,be,Ie){ie=+ie,ue>>>=0,be>>>=0,Ie||G(this,ie,ue,be,Math.pow(2,8*be)-1,0);var Be=be-1,yt=1;for(this[ue+Be]=255&ie;--Be>=0&&(yt*=256);)this[ue+Be]=ie/yt&255;return ue+be},M.prototype.writeUint8=M.prototype.writeUInt8=function(ie,ue,be){return ie=+ie,ue>>>=0,be||G(this,ie,ue,1,255,0),this[ue]=255&ie,ue+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(ie,ue,be){return ie=+ie,ue>>>=0,be||G(this,ie,ue,2,65535,0),this[ue]=255&ie,this[ue+1]=ie>>>8,ue+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(ie,ue,be){return ie=+ie,ue>>>=0,be||G(this,ie,ue,2,65535,0),this[ue]=ie>>>8,this[ue+1]=255&ie,ue+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(ie,ue,be){return ie=+ie,ue>>>=0,be||G(this,ie,ue,4,4294967295,0),this[ue+3]=ie>>>24,this[ue+2]=ie>>>16,this[ue+1]=ie>>>8,this[ue]=255&ie,ue+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(ie,ue,be){return ie=+ie,ue>>>=0,be||G(this,ie,ue,4,4294967295,0),this[ue]=ie>>>24,this[ue+1]=ie>>>16,this[ue+2]=ie>>>8,this[ue+3]=255&ie,ue+4},M.prototype.writeIntLE=function(ie,ue,be,Ie){if(ie=+ie,ue>>>=0,!Ie){var Ne=Math.pow(2,8*be-1);G(this,ie,ue,be,Ne-1,-Ne)}var Be=0,yt=1,Ke=0;for(this[ue]=255&ie;++Be<be&&(yt*=256);)ie<0&&0===Ke&&0!==this[ue+Be-1]&&(Ke=1),this[ue+Be]=(ie/yt|0)-Ke&255;return ue+be},M.prototype.writeIntBE=function(ie,ue,be,Ie){if(ie=+ie,ue>>>=0,!Ie){var Ne=Math.pow(2,8*be-1);G(this,ie,ue,be,Ne-1,-Ne)}var Be=be-1,yt=1,Ke=0;for(this[ue+Be]=255&ie;--Be>=0&&(yt*=256);)ie<0&&0===Ke&&0!==this[ue+Be+1]&&(Ke=1),this[ue+Be]=(ie/yt|0)-Ke&255;return ue+be},M.prototype.writeInt8=function(ie,ue,be){return ie=+ie,ue>>>=0,be||G(this,ie,ue,1,127,-128),ie<0&&(ie=255+ie+1),this[ue]=255&ie,ue+1},M.prototype.writeInt16LE=function(ie,ue,be){return ie=+ie,ue>>>=0,be||G(this,ie,ue,2,32767,-32768),this[ue]=255&ie,this[ue+1]=ie>>>8,ue+2},M.prototype.writeInt16BE=function(ie,ue,be){return ie=+ie,ue>>>=0,be||G(this,ie,ue,2,32767,-32768),this[ue]=ie>>>8,this[ue+1]=255&ie,ue+2},M.prototype.writeInt32LE=function(ie,ue,be){return ie=+ie,ue>>>=0,be||G(this,ie,ue,4,2147483647,-2147483648),this[ue]=255&ie,this[ue+1]=ie>>>8,this[ue+2]=ie>>>16,this[ue+3]=ie>>>24,ue+4},M.prototype.writeInt32BE=function(ie,ue,be){return ie=+ie,ue>>>=0,be||G(this,ie,ue,4,2147483647,-2147483648),ie<0&&(ie=4294967295+ie+1),this[ue]=ie>>>24,this[ue+1]=ie>>>16,this[ue+2]=ie>>>8,this[ue+3]=255&ie,ue+4},M.prototype.writeFloatLE=function(ie,ue,be){return ne(this,ie,ue,!0,be)},M.prototype.writeFloatBE=function(ie,ue,be){return ne(this,ie,ue,!1,be)},M.prototype.writeDoubleLE=function(ie,ue,be){return ce(this,ie,ue,!0,be)},M.prototype.writeDoubleBE=function(ie,ue,be){return ce(this,ie,ue,!1,be)},M.prototype.copy=function(ie,ue,be,Ie){if(!M.isBuffer(ie))throw new TypeError("argument should be a Buffer");if(be||(be=0),!Ie&&0!==Ie&&(Ie=this.length),ue>=ie.length&&(ue=ie.length),ue||(ue=0),Ie>0&&Ie<be&&(Ie=be),Ie===be||0===ie.length||0===this.length)return 0;if(ue<0)throw new RangeError("targetStart out of bounds");if(be<0||be>=this.length)throw new RangeError("Index out of range");if(Ie<0)throw new RangeError("sourceEnd out of bounds");Ie>this.length&&(Ie=this.length),ie.length-ue<Ie-be&&(Ie=ie.length-ue+be);var Ne=Ie-be;return this===ie&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ue,be,Ie):Uint8Array.prototype.set.call(ie,this.subarray(be,Ie),ue),Ne},M.prototype.fill=function(ie,ue,be,Ie){if("string"==typeof ie){if("string"==typeof ue?(Ie=ue,ue=0,be=this.length):"string"==typeof be&&(Ie=be,be=this.length),void 0!==Ie&&"string"!=typeof Ie)throw new TypeError("encoding must be a string");if("string"==typeof Ie&&!M.isEncoding(Ie))throw new TypeError("Unknown encoding: "+Ie);if(1===ie.length){var Ne=ie.charCodeAt(0);("utf8"===Ie&&Ne<128||"latin1"===Ie)&&(ie=Ne)}}else"number"==typeof ie?ie&=255:"boolean"==typeof ie&&(ie=Number(ie));if(ue<0||this.length<ue||this.length<be)throw new RangeError("Out of range index");if(be<=ue)return this;var Be;if(ue>>>=0,be=void 0===be?this.length:be>>>0,ie||(ie=0),"number"==typeof ie)for(Be=ue;Be<be;++Be)this[Be]=ie;else{var yt=M.isBuffer(ie)?ie:M.from(ie,Ie),Ke=yt.length;if(0===Ke)throw new TypeError('The value "'+ie+'" is invalid for argument "value"');for(Be=0;Be<be-ue;++Be)this[Be+ue]=yt[Be%Ke]}return this};var Ae=/[^+/0-9A-Za-z-_]/g;function Fe(ee,ie){ie=ie||1/0;for(var ue,be=ee.length,Ie=null,Ne=[],Be=0;Be<be;++Be){if((ue=ee.charCodeAt(Be))>55295&&ue<57344){if(!Ie){if(ue>56319){(ie-=3)>-1&&Ne.push(239,191,189);continue}if(Be+1===be){(ie-=3)>-1&&Ne.push(239,191,189);continue}Ie=ue;continue}if(ue<56320){(ie-=3)>-1&&Ne.push(239,191,189),Ie=ue;continue}ue=65536+(Ie-55296<<10|ue-56320)}else Ie&&(ie-=3)>-1&&Ne.push(239,191,189);if(Ie=null,ue<128){if((ie-=1)<0)break;Ne.push(ue)}else if(ue<2048){if((ie-=2)<0)break;Ne.push(ue>>6|192,63&ue|128)}else if(ue<65536){if((ie-=3)<0)break;Ne.push(ue>>12|224,ue>>6&63|128,63&ue|128)}else{if(!(ue<1114112))throw new Error("Invalid code point");if((ie-=4)<0)break;Ne.push(ue>>18|240,ue>>12&63|128,ue>>6&63|128,63&ue|128)}}return Ne}function Oe(ee){return m.toByteArray(function ke(ee){if((ee=(ee=ee.split("=")[0]).trim().replace(Ae,"")).length<2)return"";for(;ee.length%4!=0;)ee+="=";return ee}(ee))}function ye(ee,ie,ue,be){for(var Ie=0;Ie<be&&!(Ie+ue>=ie.length||Ie>=ee.length);++Ie)ie[Ie+ue]=ee[Ie];return Ie}function Se(ee,ie){return ee instanceof ie||null!=ee&&null!=ee.constructor&&null!=ee.constructor.name&&ee.constructor.name===ie.name}function he(ee){return ee!=ee}var fe=function(){for(var ee="0123456789abcdef",ie=new Array(256),ue=0;ue<16;++ue)for(var be=16*ue,Ie=0;Ie<16;++Ie)ie[be+Ie]=ee[ue]+ee[Ie];return ie}()},28846:Le=>{"use strict";Le.exports=function z(E){if("number"==typeof E&&isNaN(E))throw new Error("NaN is not allowed");if("number"==typeof E&&!isFinite(E))throw new Error("Infinity is not allowed");return null===E||"object"!=typeof E?JSON.stringify(E):E.toJSON instanceof Function?z(E.toJSON()):Array.isArray(E)?`[${E.reduce((R,W,S)=>`${R}${0===S?"":","}${z(void 0===W||"symbol"==typeof W?null:W)}`,"")}]`:`{${Object.keys(E).sort().reduce((x,R)=>void 0===E[R]||"symbol"==typeof E[R]?x:`${x}${0===x.length?"":","}${z(R)}:${z(E[R])}`,"")}}`}},42381:(Le,z,E)=>{"use strict";var m=E(78341);z.fromCallback=function(x,R){if(void 0===x){var W=new Promise(function(S,L){x=function(M,N){M?L(M):S(N)}});x[void 0!==R?R:"promise"]=W}else if("function"!=typeof x)throw new TypeError("Callback must be a function");return x},z.fromPromise=function(x,R){if(void 0===R)return x;x.then(function(W){m(()=>R(null,W))}).catch(function(W){m(()=>R(W))})}},78341:Le=>{Le.exports="function"==typeof queueMicrotask?queueMicrotask:z=>Promise.resolve().then(z)},3247:(Le,z,E)=>{var m=E(27054).Buffer,x=E(7045).Transform,R=E(78454).StringDecoder;function S(L){x.call(this),this.hashMode="string"==typeof L,this.hashMode?this[L]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}E(71993)(S,x),S.prototype.update=function(L,M,N){"string"==typeof L&&(L=m.from(L,M));var $=this._update(L);return this.hashMode?this:(N&&($=this._toString($,N)),$)},S.prototype.setAutoPadding=function(){},S.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},S.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},S.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},S.prototype._transform=function(L,M,N){var $;try{this.hashMode?this._update(L):this.push(this._update(L))}catch(F){$=F}finally{N($)}},S.prototype._flush=function(L){var M;try{this.push(this.__final())}catch(N){M=N}L(M)},S.prototype._finalOrDigest=function(L){var M=this.__final()||m.alloc(0);return L&&(M=this._toString(M,L,!0)),M},S.prototype._toString=function(L,M,N){if(this._decoder||(this._decoder=new R(M),this._encoding=M),this._encoding!==M)throw new Error("can't switch encodings");var $=this._decoder.write(L);return N&&($+=this._decoder.end()),$},Le.exports=S},27637:(Le,z,E)=>{function re(te){return Object.prototype.toString.call(te)}z.isArray=function m(te){return Array.isArray?Array.isArray(te):"[object Array]"===re(te)},z.isBoolean=function x(te){return"boolean"==typeof te},z.isNull=function R(te){return null===te},z.isNullOrUndefined=function W(te){return null==te},z.isNumber=function S(te){return"number"==typeof te},z.isString=function L(te){return"string"==typeof te},z.isSymbol=function M(te){return"symbol"==typeof te},z.isUndefined=function N(te){return void 0===te},z.isRegExp=function $(te){return"[object RegExp]"===re(te)},z.isObject=function F(te){return"object"==typeof te&&null!==te},z.isDate=function I(te){return"[object Date]"===re(te)},z.isError=function X(te){return"[object Error]"===re(te)||te instanceof Error},z.isFunction=function V(te){return"function"==typeof te},z.isPrimitive=function Z(te){return null===te||"boolean"==typeof te||"number"==typeof te||"string"==typeof te||"symbol"==typeof te||typeof te>"u"},z.isBuffer=E(83838).Buffer.isBuffer},87303:(Le,z,E)=>{var m=E(90518),x=E(89606);Le.exports=function(M){return new W(M)};var R={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function W(L){this.curveType=R[L],this.curveType||(this.curveType={name:L}),this.curve=new m.ec(this.curveType.name),this.keys=void 0}function S(L,M,N){Array.isArray(L)||(L=L.toArray());var $=new Buffer(L);if(N&&$.length<N){var F=new Buffer(N-$.length);F.fill(0),$=Buffer.concat([F,$])}return M?$.toString(M):$}R.p224=R.secp224r1,R.p256=R.secp256r1=R.prime256v1,R.p192=R.secp192r1=R.prime192v1,R.p384=R.secp384r1,R.p521=R.secp521r1,W.prototype.generateKeys=function(L,M){return this.keys=this.curve.genKeyPair(),this.getPublicKey(L,M)},W.prototype.computeSecret=function(L,M,N){return M=M||"utf8",Buffer.isBuffer(L)||(L=new Buffer(L,M)),S(this.curve.keyFromPublic(L).getPublic().mul(this.keys.getPrivate()).getX(),N,this.curveType.byteLength)},W.prototype.getPublicKey=function(L,M){var N=this.keys.getPublic("compressed"===M,!0);return"hybrid"===M&&(N[0]=N[N.length-1]%2?7:6),S(N,L)},W.prototype.getPrivateKey=function(L){return S(this.keys.getPrivate(),L)},W.prototype.setPublicKey=function(L,M){return M=M||"utf8",Buffer.isBuffer(L)||(L=new Buffer(L,M)),this.keys._importPublic(L),this},W.prototype.setPrivateKey=function(L,M){M=M||"utf8",Buffer.isBuffer(L)||(L=new Buffer(L,M));var N=new x(L);return N=N.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(N),this}},89606:function(Le,z,E){!function(m,x){"use strict";function R(k,u){if(!k)throw new Error(u||"Assertion failed")}function W(k,u){k.super_=u;var h=function(){};h.prototype=u.prototype,k.prototype=new h,k.prototype.constructor=k}function S(k,u,h){if(S.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(k||0,u||10,h||"be"))}var L;"object"==typeof m?m.exports=S:x.BN=S,S.BN=S,S.wordSize=26;try{L=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(77965).Buffer}catch{}function M(k,u){var h=k.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,u,h){var y=M(k,h);return h-1>=u&&(y|=M(k,h-1)<<4),y}function $(k,u,h,y){for(var w=0,T=Math.min(k.length,h),D=u;D<T;D++){var j=k.charCodeAt(D)-48;w*=y,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}S.isBN=function(u){return u instanceof S||null!==u&&"object"==typeof u&&u.constructor.wordSize===S.wordSize&&Array.isArray(u.words)},S.max=function(u,h){return u.cmp(h)>0?u:h},S.min=function(u,h){return u.cmp(h)<0?u:h},S.prototype._init=function(u,h,y){if("number"==typeof u)return this._initNumber(u,h,y);if("object"==typeof u)return this._initArray(u,h,y);"hex"===h&&(h=16),R(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,y):(this._parseBase(u,h,w),"le"===y&&this._initArray(this.toArray(),h,y)))},S.prototype._initNumber=function(u,h,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(R(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),h,y)},S.prototype._initArray=function(u,h,y){if(R("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,D,j=0;if("be"===y)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(D=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===y)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(D=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},S.prototype._parseHex=function(u,h,y){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,D=0;if("be"===y)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;this.strip()},S.prototype._parseBase=function(u,h,y){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var D=u.length-y,j=D%w,A=Math.min(D,D-j)+y,l=0,g=y;g<A;g+=w)l=$(u,g,g+w,h),this.imuln(T),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==j){var G=1;for(l=$(u,g,u.length,h),g=0;g<j;g++)G*=h;this.imuln(G),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},S.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},S.prototype.clone=function(){var u=new S(null);return this.copy(u),u},S.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},S.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},S.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},S.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(k,u,h){h.negative=u.negative^k.negative;var y=k.length+u.length|0;h.length=y,y=y-1|0;var w=0|k.words[0],T=0|u.words[0],D=w*T,A=D/67108864|0;h.words[0]=67108863&D;for(var l=1;l<y;l++){for(var g=A>>>26,G=67108863&A,H=Math.min(l,u.length-1),ne=Math.max(0,l-k.length+1);ne<=H;ne++)g+=(D=(w=0|k.words[l-ne|0])*(T=0|u.words[ne])+G)/67108864|0,G=67108863&D;h.words[l]=0|G,A=0|g}return 0!==A?h.words[l]=0|A:h.length--,h.strip()}S.prototype.toString=function(u,h){var y;if(h=0|h||1,16===(u=u||10)||"hex"===u){y="";for(var w=0,T=0,D=0;D<this.length;D++){var j=this.words[D],A=(16777215&(j<<w|T)).toString(16);y=0!=(T=j>>>24-w&16777215)||D!==this.length-1?F[6-A.length]+A+y:A+y,(w+=2)>=26&&(w-=26,D--)}for(0!==T&&(y=T.toString(16)+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var l=I[u],g=X[u];y="";var G=this.clone();for(G.negative=0;!G.isZero();){var H=G.modn(g).toString(u);y=(G=G.idivn(g)).isZero()?H+y:F[l-H.length]+H+y}for(this.isZero()&&(y="0"+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}R(!1,"Base should be between 2 and 36")},S.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&R(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},S.prototype.toJSON=function(){return this.toString(16)},S.prototype.toBuffer=function(u,h){return R(typeof L<"u"),this.toArrayLike(L,u,h)},S.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},S.prototype.toArrayLike=function(u,h,y){var w=this.byteLength(),T=y||Math.max(1,w);R(w<=T,"byte array longer than desired length"),R(T>0,"Requested array length <= 0"),this.strip();var A,l,D="le"===h,j=new u(T),g=this.clone();if(D){for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[l]=A;for(;l<T;l++)j[l]=0}else{for(l=0;l<T-w;l++)j[l]=0;for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[T-l-1]=A}return j},S.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,y=0;return h>=4096&&(y+=13,h>>>=13),h>=64&&(y+=7,h>>>=7),h>=8&&(y+=4,h>>>=4),h>=2&&(y+=2,h>>>=2),y+h},S.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,y=0;return 8191&h||(y+=13,h>>>=13),127&h||(y+=7,h>>>=7),15&h||(y+=4,h>>>=4),3&h||(y+=2,h>>>=2),1&h||y++,y},S.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},S.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var y=this._zeroBits(this.words[h]);if(u+=y,26!==y)break}return u},S.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},S.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},S.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},S.prototype.isNeg=function(){return 0!==this.negative},S.prototype.neg=function(){return this.clone().ineg()},S.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},S.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},S.prototype.ior=function(u){return R(!(this.negative|u.negative)),this.iuor(u)},S.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},S.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},S.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var y=0;y<h.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=h.length,this.strip()},S.prototype.iand=function(u){return R(!(this.negative|u.negative)),this.iuand(u)},S.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},S.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},S.prototype.iuxor=function(u){var h,y;this.length>u.length?(h=this,y=u):(h=u,y=this);for(var w=0;w<y.length;w++)this.words[w]=h.words[w]^y.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},S.prototype.ixor=function(u){return R(!(this.negative|u.negative)),this.iuxor(u)},S.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},S.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},S.prototype.inotn=function(u){R("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),y=u%26;this._expand(h),y>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return y>0&&(this.words[w]=~this.words[w]&67108863>>26-y),this.strip()},S.prototype.notn=function(u){return this.clone().inotn(u)},S.prototype.setn=function(u,h){R("number"==typeof u&&u>=0);var y=u/26|0,w=u%26;return this._expand(y+1),this.words[y]=h?this.words[y]|1<<w:this.words[y]&~(1<<w),this.strip()},S.prototype.iadd=function(u){var h,y,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(y=this,w=u):(y=u,w=this);for(var T=0,D=0;D<w.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+(0|w.words[D])+T),T=h>>>26;for(;0!==T&&D<y.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+T),T=h>>>26;if(this.length=y.length,0!==T)this.words[this.length]=T,this.length++;else if(y!==this)for(;D<y.length;D++)this.words[D]=y.words[D];return this},S.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},S.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(w=this,T=u):(w=u,T=this);for(var D=0,j=0;j<T.length;j++)D=(h=(0|w.words[j])-(0|T.words[j])+D)>>26,this.words[j]=67108863&h;for(;0!==D&&j<w.length;j++)D=(h=(0|w.words[j])+D)>>26,this.words[j]=67108863&h;if(0===D&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},S.prototype.sub=function(u){return this.clone().isub(u)};var re=function(u,h,y){var A,l,g,w=u.words,T=h.words,D=y.words,j=0,G=0|w[0],H=8191&G,ne=G>>>13,ce=0|w[1],Ae=8191&ce,ke=ce>>>13,Fe=0|w[2],Ee=8191&Fe,ge=Fe>>>13,Oe=0|w[3],ye=8191&Oe,Se=Oe>>>13,he=0|w[4],fe=8191&he,ee=he>>>13,ie=0|w[5],ue=8191&ie,be=ie>>>13,Ie=0|w[6],Ne=8191&Ie,Be=Ie>>>13,yt=0|w[7],Ke=8191&yt,Re=yt>>>13,ot=0|w[8],U=8191&ot,_=ot>>>13,p=0|w[9],O=8191&p,q=p>>>13,me=0|T[0],xe=8191&me,qe=me>>>13,At=0|T[1],ut=8191&At,bt=At>>>13,Lt=0|T[2],en=8191&Lt,Zt=Lt>>>13,Jn=0|T[3],yn=8191&Jn,Vt=Jn>>>13,$t=0|T[4],mt=8191&$t,st=$t>>>13,Nt=0|T[5],Kt=8191&Nt,qt=Nt>>>13,or=0|T[6],ft=8191&or,gt=or>>>13,vt=0|T[7],He=8191&vt,Je=vt>>>13,Bt=0|T[8],Tt=8191&Bt,Yt=Bt>>>13,Pn=0|T[9],cn=8191&Pn,pn=Pn>>>13;y.negative=u.negative^h.negative,y.length=19;var vr=(j+(A=Math.imul(H,xe))|0)+((8191&(l=(l=Math.imul(H,qe))+Math.imul(ne,xe)|0))<<13)|0;j=((g=Math.imul(ne,qe))+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,A=Math.imul(Ae,xe),l=(l=Math.imul(Ae,qe))+Math.imul(ke,xe)|0,g=Math.imul(ke,qe);var Un=(j+(A=A+Math.imul(H,ut)|0)|0)+((8191&(l=(l=l+Math.imul(H,bt)|0)+Math.imul(ne,ut)|0))<<13)|0;j=((g=g+Math.imul(ne,bt)|0)+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,A=Math.imul(Ee,xe),l=(l=Math.imul(Ee,qe))+Math.imul(ge,xe)|0,g=Math.imul(ge,qe),A=A+Math.imul(Ae,ut)|0,l=(l=l+Math.imul(Ae,bt)|0)+Math.imul(ke,ut)|0,g=g+Math.imul(ke,bt)|0;var An=(j+(A=A+Math.imul(H,en)|0)|0)+((8191&(l=(l=l+Math.imul(H,Zt)|0)+Math.imul(ne,en)|0))<<13)|0;j=((g=g+Math.imul(ne,Zt)|0)+(l>>>13)|0)+(An>>>26)|0,An&=67108863,A=Math.imul(ye,xe),l=(l=Math.imul(ye,qe))+Math.imul(Se,xe)|0,g=Math.imul(Se,qe),A=A+Math.imul(Ee,ut)|0,l=(l=l+Math.imul(Ee,bt)|0)+Math.imul(ge,ut)|0,g=g+Math.imul(ge,bt)|0,A=A+Math.imul(Ae,en)|0,l=(l=l+Math.imul(Ae,Zt)|0)+Math.imul(ke,en)|0,g=g+Math.imul(ke,Zt)|0;var On=(j+(A=A+Math.imul(H,yn)|0)|0)+((8191&(l=(l=l+Math.imul(H,Vt)|0)+Math.imul(ne,yn)|0))<<13)|0;j=((g=g+Math.imul(ne,Vt)|0)+(l>>>13)|0)+(On>>>26)|0,On&=67108863,A=Math.imul(fe,xe),l=(l=Math.imul(fe,qe))+Math.imul(ee,xe)|0,g=Math.imul(ee,qe),A=A+Math.imul(ye,ut)|0,l=(l=l+Math.imul(ye,bt)|0)+Math.imul(Se,ut)|0,g=g+Math.imul(Se,bt)|0,A=A+Math.imul(Ee,en)|0,l=(l=l+Math.imul(Ee,Zt)|0)+Math.imul(ge,en)|0,g=g+Math.imul(ge,Zt)|0,A=A+Math.imul(Ae,yn)|0,l=(l=l+Math.imul(Ae,Vt)|0)+Math.imul(ke,yn)|0,g=g+Math.imul(ke,Vt)|0;var nt=(j+(A=A+Math.imul(H,mt)|0)|0)+((8191&(l=(l=l+Math.imul(H,st)|0)+Math.imul(ne,mt)|0))<<13)|0;j=((g=g+Math.imul(ne,st)|0)+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,A=Math.imul(ue,xe),l=(l=Math.imul(ue,qe))+Math.imul(be,xe)|0,g=Math.imul(be,qe),A=A+Math.imul(fe,ut)|0,l=(l=l+Math.imul(fe,bt)|0)+Math.imul(ee,ut)|0,g=g+Math.imul(ee,bt)|0,A=A+Math.imul(ye,en)|0,l=(l=l+Math.imul(ye,Zt)|0)+Math.imul(Se,en)|0,g=g+Math.imul(Se,Zt)|0,A=A+Math.imul(Ee,yn)|0,l=(l=l+Math.imul(Ee,Vt)|0)+Math.imul(ge,yn)|0,g=g+Math.imul(ge,Vt)|0,A=A+Math.imul(Ae,mt)|0,l=(l=l+Math.imul(Ae,st)|0)+Math.imul(ke,mt)|0,g=g+Math.imul(ke,st)|0;var $e=(j+(A=A+Math.imul(H,Kt)|0)|0)+((8191&(l=(l=l+Math.imul(H,qt)|0)+Math.imul(ne,Kt)|0))<<13)|0;j=((g=g+Math.imul(ne,qt)|0)+(l>>>13)|0)+($e>>>26)|0,$e&=67108863,A=Math.imul(Ne,xe),l=(l=Math.imul(Ne,qe))+Math.imul(Be,xe)|0,g=Math.imul(Be,qe),A=A+Math.imul(ue,ut)|0,l=(l=l+Math.imul(ue,bt)|0)+Math.imul(be,ut)|0,g=g+Math.imul(be,bt)|0,A=A+Math.imul(fe,en)|0,l=(l=l+Math.imul(fe,Zt)|0)+Math.imul(ee,en)|0,g=g+Math.imul(ee,Zt)|0,A=A+Math.imul(ye,yn)|0,l=(l=l+Math.imul(ye,Vt)|0)+Math.imul(Se,yn)|0,g=g+Math.imul(Se,Vt)|0,A=A+Math.imul(Ee,mt)|0,l=(l=l+Math.imul(Ee,st)|0)+Math.imul(ge,mt)|0,g=g+Math.imul(ge,st)|0,A=A+Math.imul(Ae,Kt)|0,l=(l=l+Math.imul(Ae,qt)|0)+Math.imul(ke,Kt)|0,g=g+Math.imul(ke,qt)|0;var it=(j+(A=A+Math.imul(H,ft)|0)|0)+((8191&(l=(l=l+Math.imul(H,gt)|0)+Math.imul(ne,ft)|0))<<13)|0;j=((g=g+Math.imul(ne,gt)|0)+(l>>>13)|0)+(it>>>26)|0,it&=67108863,A=Math.imul(Ke,xe),l=(l=Math.imul(Ke,qe))+Math.imul(Re,xe)|0,g=Math.imul(Re,qe),A=A+Math.imul(Ne,ut)|0,l=(l=l+Math.imul(Ne,bt)|0)+Math.imul(Be,ut)|0,g=g+Math.imul(Be,bt)|0,A=A+Math.imul(ue,en)|0,l=(l=l+Math.imul(ue,Zt)|0)+Math.imul(be,en)|0,g=g+Math.imul(be,Zt)|0,A=A+Math.imul(fe,yn)|0,l=(l=l+Math.imul(fe,Vt)|0)+Math.imul(ee,yn)|0,g=g+Math.imul(ee,Vt)|0,A=A+Math.imul(ye,mt)|0,l=(l=l+Math.imul(ye,st)|0)+Math.imul(Se,mt)|0,g=g+Math.imul(Se,st)|0,A=A+Math.imul(Ee,Kt)|0,l=(l=l+Math.imul(Ee,qt)|0)+Math.imul(ge,Kt)|0,g=g+Math.imul(ge,qt)|0,A=A+Math.imul(Ae,ft)|0,l=(l=l+Math.imul(Ae,gt)|0)+Math.imul(ke,ft)|0,g=g+Math.imul(ke,gt)|0;var jt=(j+(A=A+Math.imul(H,He)|0)|0)+((8191&(l=(l=l+Math.imul(H,Je)|0)+Math.imul(ne,He)|0))<<13)|0;j=((g=g+Math.imul(ne,Je)|0)+(l>>>13)|0)+(jt>>>26)|0,jt&=67108863,A=Math.imul(U,xe),l=(l=Math.imul(U,qe))+Math.imul(_,xe)|0,g=Math.imul(_,qe),A=A+Math.imul(Ke,ut)|0,l=(l=l+Math.imul(Ke,bt)|0)+Math.imul(Re,ut)|0,g=g+Math.imul(Re,bt)|0,A=A+Math.imul(Ne,en)|0,l=(l=l+Math.imul(Ne,Zt)|0)+Math.imul(Be,en)|0,g=g+Math.imul(Be,Zt)|0,A=A+Math.imul(ue,yn)|0,l=(l=l+Math.imul(ue,Vt)|0)+Math.imul(be,yn)|0,g=g+Math.imul(be,Vt)|0,A=A+Math.imul(fe,mt)|0,l=(l=l+Math.imul(fe,st)|0)+Math.imul(ee,mt)|0,g=g+Math.imul(ee,st)|0,A=A+Math.imul(ye,Kt)|0,l=(l=l+Math.imul(ye,qt)|0)+Math.imul(Se,Kt)|0,g=g+Math.imul(Se,qt)|0,A=A+Math.imul(Ee,ft)|0,l=(l=l+Math.imul(Ee,gt)|0)+Math.imul(ge,ft)|0,g=g+Math.imul(ge,gt)|0,A=A+Math.imul(Ae,He)|0,l=(l=l+Math.imul(Ae,Je)|0)+Math.imul(ke,He)|0,g=g+Math.imul(ke,Je)|0;var dn=(j+(A=A+Math.imul(H,Tt)|0)|0)+((8191&(l=(l=l+Math.imul(H,Yt)|0)+Math.imul(ne,Tt)|0))<<13)|0;j=((g=g+Math.imul(ne,Yt)|0)+(l>>>13)|0)+(dn>>>26)|0,dn&=67108863,A=Math.imul(O,xe),l=(l=Math.imul(O,qe))+Math.imul(q,xe)|0,g=Math.imul(q,qe),A=A+Math.imul(U,ut)|0,l=(l=l+Math.imul(U,bt)|0)+Math.imul(_,ut)|0,g=g+Math.imul(_,bt)|0,A=A+Math.imul(Ke,en)|0,l=(l=l+Math.imul(Ke,Zt)|0)+Math.imul(Re,en)|0,g=g+Math.imul(Re,Zt)|0,A=A+Math.imul(Ne,yn)|0,l=(l=l+Math.imul(Ne,Vt)|0)+Math.imul(Be,yn)|0,g=g+Math.imul(Be,Vt)|0,A=A+Math.imul(ue,mt)|0,l=(l=l+Math.imul(ue,st)|0)+Math.imul(be,mt)|0,g=g+Math.imul(be,st)|0,A=A+Math.imul(fe,Kt)|0,l=(l=l+Math.imul(fe,qt)|0)+Math.imul(ee,Kt)|0,g=g+Math.imul(ee,qt)|0,A=A+Math.imul(ye,ft)|0,l=(l=l+Math.imul(ye,gt)|0)+Math.imul(Se,ft)|0,g=g+Math.imul(Se,gt)|0,A=A+Math.imul(Ee,He)|0,l=(l=l+Math.imul(Ee,Je)|0)+Math.imul(ge,He)|0,g=g+Math.imul(ge,Je)|0,A=A+Math.imul(Ae,Tt)|0,l=(l=l+Math.imul(Ae,Yt)|0)+Math.imul(ke,Tt)|0,g=g+Math.imul(ke,Yt)|0;var Rn=(j+(A=A+Math.imul(H,cn)|0)|0)+((8191&(l=(l=l+Math.imul(H,pn)|0)+Math.imul(ne,cn)|0))<<13)|0;j=((g=g+Math.imul(ne,pn)|0)+(l>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,A=Math.imul(O,ut),l=(l=Math.imul(O,bt))+Math.imul(q,ut)|0,g=Math.imul(q,bt),A=A+Math.imul(U,en)|0,l=(l=l+Math.imul(U,Zt)|0)+Math.imul(_,en)|0,g=g+Math.imul(_,Zt)|0,A=A+Math.imul(Ke,yn)|0,l=(l=l+Math.imul(Ke,Vt)|0)+Math.imul(Re,yn)|0,g=g+Math.imul(Re,Vt)|0,A=A+Math.imul(Ne,mt)|0,l=(l=l+Math.imul(Ne,st)|0)+Math.imul(Be,mt)|0,g=g+Math.imul(Be,st)|0,A=A+Math.imul(ue,Kt)|0,l=(l=l+Math.imul(ue,qt)|0)+Math.imul(be,Kt)|0,g=g+Math.imul(be,qt)|0,A=A+Math.imul(fe,ft)|0,l=(l=l+Math.imul(fe,gt)|0)+Math.imul(ee,ft)|0,g=g+Math.imul(ee,gt)|0,A=A+Math.imul(ye,He)|0,l=(l=l+Math.imul(ye,Je)|0)+Math.imul(Se,He)|0,g=g+Math.imul(Se,Je)|0,A=A+Math.imul(Ee,Tt)|0,l=(l=l+Math.imul(Ee,Yt)|0)+Math.imul(ge,Tt)|0,g=g+Math.imul(ge,Yt)|0;var Kn=(j+(A=A+Math.imul(Ae,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ae,pn)|0)+Math.imul(ke,cn)|0))<<13)|0;j=((g=g+Math.imul(ke,pn)|0)+(l>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(O,en),l=(l=Math.imul(O,Zt))+Math.imul(q,en)|0,g=Math.imul(q,Zt),A=A+Math.imul(U,yn)|0,l=(l=l+Math.imul(U,Vt)|0)+Math.imul(_,yn)|0,g=g+Math.imul(_,Vt)|0,A=A+Math.imul(Ke,mt)|0,l=(l=l+Math.imul(Ke,st)|0)+Math.imul(Re,mt)|0,g=g+Math.imul(Re,st)|0,A=A+Math.imul(Ne,Kt)|0,l=(l=l+Math.imul(Ne,qt)|0)+Math.imul(Be,Kt)|0,g=g+Math.imul(Be,qt)|0,A=A+Math.imul(ue,ft)|0,l=(l=l+Math.imul(ue,gt)|0)+Math.imul(be,ft)|0,g=g+Math.imul(be,gt)|0,A=A+Math.imul(fe,He)|0,l=(l=l+Math.imul(fe,Je)|0)+Math.imul(ee,He)|0,g=g+Math.imul(ee,Je)|0,A=A+Math.imul(ye,Tt)|0,l=(l=l+Math.imul(ye,Yt)|0)+Math.imul(Se,Tt)|0,g=g+Math.imul(Se,Yt)|0;var tr=(j+(A=A+Math.imul(Ee,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ee,pn)|0)+Math.imul(ge,cn)|0))<<13)|0;j=((g=g+Math.imul(ge,pn)|0)+(l>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(O,yn),l=(l=Math.imul(O,Vt))+Math.imul(q,yn)|0,g=Math.imul(q,Vt),A=A+Math.imul(U,mt)|0,l=(l=l+Math.imul(U,st)|0)+Math.imul(_,mt)|0,g=g+Math.imul(_,st)|0,A=A+Math.imul(Ke,Kt)|0,l=(l=l+Math.imul(Ke,qt)|0)+Math.imul(Re,Kt)|0,g=g+Math.imul(Re,qt)|0,A=A+Math.imul(Ne,ft)|0,l=(l=l+Math.imul(Ne,gt)|0)+Math.imul(Be,ft)|0,g=g+Math.imul(Be,gt)|0,A=A+Math.imul(ue,He)|0,l=(l=l+Math.imul(ue,Je)|0)+Math.imul(be,He)|0,g=g+Math.imul(be,Je)|0,A=A+Math.imul(fe,Tt)|0,l=(l=l+Math.imul(fe,Yt)|0)+Math.imul(ee,Tt)|0,g=g+Math.imul(ee,Yt)|0;var Ar=(j+(A=A+Math.imul(ye,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ye,pn)|0)+Math.imul(Se,cn)|0))<<13)|0;j=((g=g+Math.imul(Se,pn)|0)+(l>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,A=Math.imul(O,mt),l=(l=Math.imul(O,st))+Math.imul(q,mt)|0,g=Math.imul(q,st),A=A+Math.imul(U,Kt)|0,l=(l=l+Math.imul(U,qt)|0)+Math.imul(_,Kt)|0,g=g+Math.imul(_,qt)|0,A=A+Math.imul(Ke,ft)|0,l=(l=l+Math.imul(Ke,gt)|0)+Math.imul(Re,ft)|0,g=g+Math.imul(Re,gt)|0,A=A+Math.imul(Ne,He)|0,l=(l=l+Math.imul(Ne,Je)|0)+Math.imul(Be,He)|0,g=g+Math.imul(Be,Je)|0,A=A+Math.imul(ue,Tt)|0,l=(l=l+Math.imul(ue,Yt)|0)+Math.imul(be,Tt)|0,g=g+Math.imul(be,Yt)|0;var _r=(j+(A=A+Math.imul(fe,cn)|0)|0)+((8191&(l=(l=l+Math.imul(fe,pn)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((g=g+Math.imul(ee,pn)|0)+(l>>>13)|0)+(_r>>>26)|0,_r&=67108863,A=Math.imul(O,Kt),l=(l=Math.imul(O,qt))+Math.imul(q,Kt)|0,g=Math.imul(q,qt),A=A+Math.imul(U,ft)|0,l=(l=l+Math.imul(U,gt)|0)+Math.imul(_,ft)|0,g=g+Math.imul(_,gt)|0,A=A+Math.imul(Ke,He)|0,l=(l=l+Math.imul(Ke,Je)|0)+Math.imul(Re,He)|0,g=g+Math.imul(Re,Je)|0,A=A+Math.imul(Ne,Tt)|0,l=(l=l+Math.imul(Ne,Yt)|0)+Math.imul(Be,Tt)|0,g=g+Math.imul(Be,Yt)|0;var Pr=(j+(A=A+Math.imul(ue,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ue,pn)|0)+Math.imul(be,cn)|0))<<13)|0;j=((g=g+Math.imul(be,pn)|0)+(l>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,A=Math.imul(O,ft),l=(l=Math.imul(O,gt))+Math.imul(q,ft)|0,g=Math.imul(q,gt),A=A+Math.imul(U,He)|0,l=(l=l+Math.imul(U,Je)|0)+Math.imul(_,He)|0,g=g+Math.imul(_,Je)|0,A=A+Math.imul(Ke,Tt)|0,l=(l=l+Math.imul(Ke,Yt)|0)+Math.imul(Re,Tt)|0,g=g+Math.imul(Re,Yt)|0;var $r=(j+(A=A+Math.imul(Ne,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ne,pn)|0)+Math.imul(Be,cn)|0))<<13)|0;j=((g=g+Math.imul(Be,pn)|0)+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,A=Math.imul(O,He),l=(l=Math.imul(O,Je))+Math.imul(q,He)|0,g=Math.imul(q,Je),A=A+Math.imul(U,Tt)|0,l=(l=l+Math.imul(U,Yt)|0)+Math.imul(_,Tt)|0,g=g+Math.imul(_,Yt)|0;var zr=(j+(A=A+Math.imul(Ke,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ke,pn)|0)+Math.imul(Re,cn)|0))<<13)|0;j=((g=g+Math.imul(Re,pn)|0)+(l>>>13)|0)+(zr>>>26)|0,zr&=67108863,A=Math.imul(O,Tt),l=(l=Math.imul(O,Yt))+Math.imul(q,Tt)|0,g=Math.imul(q,Yt);var Ht=(j+(A=A+Math.imul(U,cn)|0)|0)+((8191&(l=(l=l+Math.imul(U,pn)|0)+Math.imul(_,cn)|0))<<13)|0;j=((g=g+Math.imul(_,pn)|0)+(l>>>13)|0)+(Ht>>>26)|0,Ht&=67108863;var ln=(j+(A=Math.imul(O,cn))|0)+((8191&(l=(l=Math.imul(O,pn))+Math.imul(q,cn)|0))<<13)|0;return j=((g=Math.imul(q,pn))+(l>>>13)|0)+(ln>>>26)|0,ln&=67108863,D[0]=vr,D[1]=Un,D[2]=An,D[3]=On,D[4]=nt,D[5]=$e,D[6]=it,D[7]=jt,D[8]=dn,D[9]=Rn,D[10]=Kn,D[11]=tr,D[12]=Ar,D[13]=_r,D[14]=Pr,D[15]=$r,D[16]=zr,D[17]=Ht,D[18]=ln,0!==j&&(D[19]=j,y.length++),y};function Q(k,u,h){return(new J).mulp(k,u,h)}function J(k,u){this.x=k,this.y=u}Math.imul||(re=Z),S.prototype.mulTo=function(u,h){var y,w=this.length+u.length;return y=10===this.length&&10===u.length?re(this,u,h):w<63?Z(this,u,h):w<1024?function te(k,u,h){h.negative=u.negative^k.negative,h.length=k.length+u.length;for(var y=0,w=0,T=0;T<h.length-1;T++){var D=w;w=0;for(var j=67108863&y,A=Math.min(T,u.length-1),l=Math.max(0,T-k.length+1);l<=A;l++){var ne=(0|k.words[T-l])*(0|u.words[l]),ce=67108863&ne;j=67108863&(ce=ce+j|0),w+=(D=(D=D+(ne/67108864|0)|0)+(ce>>>26)|0)>>>26,D&=67108863}h.words[T]=j,y=D,D=w}return 0!==y?h.words[T]=y:h.length--,h.strip()}(this,u,h):Q(this,u,h),y},J.prototype.makeRBT=function(u){for(var h=new Array(u),y=S.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,y,u);return h},J.prototype.revBin=function(u,h,y){if(0===u||u===y-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},J.prototype.permute=function(u,h,y,w,T,D){for(var j=0;j<D;j++)w[j]=h[u[j]],T[j]=y[u[j]]},J.prototype.transform=function(u,h,y,w,T,D){this.permute(D,u,h,y,w,T);for(var j=1;j<T;j<<=1)for(var A=j<<1,l=Math.cos(2*Math.PI/A),g=Math.sin(2*Math.PI/A),G=0;G<T;G+=A)for(var H=l,ne=g,ce=0;ce<j;ce++){var Ae=y[G+ce],ke=w[G+ce],Fe=y[G+ce+j],Ee=w[G+ce+j],ge=H*Fe-ne*Ee;Ee=H*Ee+ne*Fe,y[G+ce]=Ae+(Fe=ge),w[G+ce]=ke+Ee,y[G+ce+j]=Ae-Fe,w[G+ce+j]=ke-Ee,ce!==A&&(ge=l*H-g*ne,ne=l*ne+g*H,H=ge)}},J.prototype.guessLen13b=function(u,h){var y=1|Math.max(h,u),w=1&y,T=0;for(y=y/2|0;y;y>>>=1)T++;return 1<<T+1+w},J.prototype.conjugate=function(u,h,y){if(!(y<=1))for(var w=0;w<y/2;w++){var T=u[w];u[w]=u[y-w-1],u[y-w-1]=T,T=h[w],h[w]=-h[y-w-1],h[y-w-1]=-T}},J.prototype.normalize13b=function(u,h){for(var y=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+y;u[w]=67108863&T,y=T<67108864?0:T/67108864|0}return u},J.prototype.convert13b=function(u,h,y,w){for(var T=0,D=0;D<h;D++)y[2*D]=8191&(T+=0|u[D]),y[2*D+1]=8191&(T>>>=13),T>>>=13;for(D=2*h;D<w;++D)y[D]=0;R(0===T),R(!(-8192&T))},J.prototype.stub=function(u){for(var h=new Array(u),y=0;y<u;y++)h[y]=0;return h},J.prototype.mulp=function(u,h,y){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),D=this.stub(w),j=new Array(w),A=new Array(w),l=new Array(w),g=new Array(w),G=new Array(w),H=new Array(w),ne=y.words;ne.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,g,w),this.transform(j,D,A,l,w,T),this.transform(g,D,G,H,w,T);for(var ce=0;ce<w;ce++){var Ae=A[ce]*G[ce]-l[ce]*H[ce];l[ce]=A[ce]*H[ce]+l[ce]*G[ce],A[ce]=Ae}return this.conjugate(A,l,w),this.transform(A,l,ne,D,w,T),this.conjugate(ne,D,w),this.normalize13b(ne,w),y.negative=u.negative^h.negative,y.length=u.length+h.length,y.strip()},S.prototype.mul=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},S.prototype.mulf=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),Q(this,u,h)},S.prototype.imul=function(u){return this.clone().mulTo(u,this)},S.prototype.imuln=function(u){R("number"==typeof u),R(u<67108864);for(var h=0,y=0;y<this.length;y++){var w=(0|this.words[y])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[y]=67108863&T}return 0!==h&&(this.words[y]=h,this.length++),this},S.prototype.muln=function(u){return this.clone().imuln(u)},S.prototype.sqr=function(){return this.mul(this)},S.prototype.isqr=function(){return this.imul(this.clone())},S.prototype.pow=function(u){var h=function V(k){for(var u=new Array(k.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(k.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new S(1);for(var y=this,w=0;w<h.length&&0===h[w];w++,y=y.sqr());if(++w<h.length)for(var T=y.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(y=y.mul(T));return y},S.prototype.iushln=function(u){R("number"==typeof u&&u>=0);var T,h=u%26,y=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|D,D=j>>>26-h}D&&(this.words[T]=D,this.length++)}if(0!==y){for(T=this.length-1;T>=0;T--)this.words[T+y]=this.words[T];for(T=0;T<y;T++)this.words[T]=0;this.length+=y}return this.strip()},S.prototype.ishln=function(u){return R(0===this.negative),this.iushln(u)},S.prototype.iushrn=function(u,h,y){var w;R("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,D=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,A=y;if(w-=D,w=Math.max(0,w),A){for(var l=0;l<D;l++)A.words[l]=this.words[l];A.length=D}if(0!==D)if(this.length>D)for(this.length-=D,l=0;l<this.length;l++)this.words[l]=this.words[l+D];else this.words[0]=0,this.length=1;var g=0;for(l=this.length-1;l>=0&&(0!==g||l>=w);l--){var G=0|this.words[l];this.words[l]=g<<26-T|G>>>T,g=G&j}return A&&0!==g&&(A.words[A.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},S.prototype.ishrn=function(u,h,y){return R(0===this.negative),this.iushrn(u,h,y)},S.prototype.shln=function(u){return this.clone().ishln(u)},S.prototype.ushln=function(u){return this.clone().iushln(u)},S.prototype.shrn=function(u){return this.clone().ishrn(u)},S.prototype.ushrn=function(u){return this.clone().iushrn(u)},S.prototype.testn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return!(this.length<=y||!(this.words[y]&1<<h))},S.prototype.imaskn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return R(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==h&&y++,this.length=Math.min(y,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},S.prototype.maskn=function(u){return this.clone().imaskn(u)},S.prototype.iaddn=function(u){return R("number"==typeof u),R(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},S.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},S.prototype.isubn=function(u){if(R("number"==typeof u),R(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},S.prototype.addn=function(u){return this.clone().iaddn(u)},S.prototype.subn=function(u){return this.clone().isubn(u)},S.prototype.iabs=function(){return this.negative=0,this},S.prototype.abs=function(){return this.clone().iabs()},S.prototype._ishlnsubmul=function(u,h,y){var T;this._expand(u.length+y);var D,j=0;for(T=0;T<u.length;T++){D=(0|this.words[T+y])+j;var A=(0|u.words[T])*h;j=((D-=67108863&A)>>26)-(A/67108864|0),this.words[T+y]=67108863&D}for(;T<this.length-y;T++)j=(D=(0|this.words[T+y])+j)>>26,this.words[T+y]=67108863&D;if(0===j)return this.strip();for(R(-1===j),j=0,T=0;T<this.length;T++)j=(D=-(0|this.words[T])+j)>>26,this.words[T]=67108863&D;return this.negative=1,this.strip()},S.prototype._wordDiv=function(u,h){var y,w=this.clone(),T=u,D=0|T.words[T.length-1];0!=(y=26-this._countBits(D))&&(T=T.ushln(y),w.iushln(y),D=0|T.words[T.length-1]);var l,A=w.length-T.length;if("mod"!==h){(l=new S(null)).length=A+1,l.words=new Array(l.length);for(var g=0;g<l.length;g++)l.words[g]=0}var G=w.clone()._ishlnsubmul(T,1,A);0===G.negative&&(w=G,l&&(l.words[A]=1));for(var H=A-1;H>=0;H--){var ne=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ne=Math.min(ne/D|0,67108863),w._ishlnsubmul(T,ne,H);0!==w.negative;)ne--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);l&&(l.words[H]=ne)}return l&&l.strip(),w.strip(),"div"!==h&&0!==y&&w.iushrn(y),{div:l||null,mod:w}},S.prototype.divmod=function(u,h,y){return R(!u.isZero()),this.isZero()?{div:new S(0),mod:new S(0)}:0!==this.negative&&0===u.negative?(D=this.neg().divmod(u,h),"mod"!==h&&(w=D.div.neg()),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(D=this.divmod(u.neg(),h),"mod"!==h&&(w=D.div.neg()),{div:w,mod:D.mod}):this.negative&u.negative?(D=this.neg().divmod(u.neg(),h),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.isub(u)),{div:D.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new S(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new S(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new S(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,D},S.prototype.div=function(u){return this.divmod(u,"div",!1).div},S.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},S.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},S.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var y=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),D=y.cmp(w);return D<0||1===T&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},S.prototype.modn=function(u){R(u<=67108863);for(var h=(1<<26)%u,y=0,w=this.length-1;w>=0;w--)y=(h*y+(0|this.words[w]))%u;return y},S.prototype.idivn=function(u){R(u<=67108863);for(var h=0,y=this.length-1;y>=0;y--){var w=(0|this.words[y])+67108864*h;this.words[y]=w/u|0,h=w%u}return this.strip()},S.prototype.divn=function(u){return this.clone().idivn(u)},S.prototype.egcd=function(u){R(0===u.negative),R(!u.isZero());var h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=new S(0),j=new S(1),A=0;h.isEven()&&y.isEven();)h.iushrn(1),y.iushrn(1),++A;for(var l=y.clone(),g=h.clone();!h.isZero();){for(var G=0,H=1;!(h.words[0]&H)&&G<26;++G,H<<=1);if(G>0)for(h.iushrn(G);G-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(l),T.isub(g)),w.iushrn(1),T.iushrn(1);for(var ne=0,ce=1;!(y.words[0]&ce)&&ne<26;++ne,ce<<=1);if(ne>0)for(y.iushrn(ne);ne-- >0;)(D.isOdd()||j.isOdd())&&(D.iadd(l),j.isub(g)),D.iushrn(1),j.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(D),T.isub(j)):(y.isub(h),D.isub(w),j.isub(T))}return{a:D,b:j,gcd:y.iushln(A)}},S.prototype._invmp=function(u){R(0===u.negative),R(!u.isZero());var G,h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=y.clone();h.cmpn(1)>0&&y.cmpn(1)>0;){for(var j=0,A=1;!(h.words[0]&A)&&j<26;++j,A<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(D),w.iushrn(1);for(var l=0,g=1;!(y.words[0]&g)&&l<26;++l,g<<=1);if(l>0)for(y.iushrn(l);l-- >0;)T.isOdd()&&T.iadd(D),T.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(T)):(y.isub(h),T.isub(w))}return(G=0===h.cmpn(1)?w:T).cmpn(0)<0&&G.iadd(u),G},S.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),y=u.clone();h.negative=0,y.negative=0;for(var w=0;h.isEven()&&y.isEven();w++)h.iushrn(1),y.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;y.isEven();)y.iushrn(1);var T=h.cmp(y);if(T<0){var D=h;h=y,y=D}else if(0===T||0===y.cmpn(1))break;h.isub(y)}return y.iushln(w)},S.prototype.invm=function(u){return this.egcd(u).a.umod(u)},S.prototype.isEven=function(){return!(1&this.words[0])},S.prototype.isOdd=function(){return!(1&~this.words[0])},S.prototype.andln=function(u){return this.words[0]&u},S.prototype.bincn=function(u){R("number"==typeof u);var h=u%26,y=(u-h)/26,w=1<<h;if(this.length<=y)return this._expand(y+1),this.words[y]|=w,this;for(var T=w,D=y;0!==T&&D<this.length;D++){var j=0|this.words[D];T=(j+=T)>>>26,this.words[D]=j&=67108863}return 0!==T&&(this.words[D]=T,this.length++),this},S.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},S.prototype.cmpn=function(u){var y,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)y=1;else{h&&(u=-u),R(u<=67108863,"Number is too big");var w=0|this.words[0];y=w===u?0:w<u?-1:1}return 0!==this.negative?0|-y:y},S.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},S.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,y=this.length-1;y>=0;y--){var w=0|this.words[y],T=0|u.words[y];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},S.prototype.gtn=function(u){return 1===this.cmpn(u)},S.prototype.gt=function(u){return 1===this.cmp(u)},S.prototype.gten=function(u){return this.cmpn(u)>=0},S.prototype.gte=function(u){return this.cmp(u)>=0},S.prototype.ltn=function(u){return-1===this.cmpn(u)},S.prototype.lt=function(u){return-1===this.cmp(u)},S.prototype.lten=function(u){return this.cmpn(u)<=0},S.prototype.lte=function(u){return this.cmp(u)<=0},S.prototype.eqn=function(u){return 0===this.cmpn(u)},S.prototype.eq=function(u){return 0===this.cmp(u)},S.red=function(u){return new we(u)},S.prototype.toRed=function(u){return R(!this.red,"Already a number in reduction context"),R(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},S.prototype.fromRed=function(){return R(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},S.prototype._forceRed=function(u){return this.red=u,this},S.prototype.forceRed=function(u){return R(!this.red,"Already a number in reduction context"),this._forceRed(u)},S.prototype.redAdd=function(u){return R(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},S.prototype.redIAdd=function(u){return R(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},S.prototype.redSub=function(u){return R(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},S.prototype.redISub=function(u){return R(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},S.prototype.redShl=function(u){return R(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},S.prototype.redMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},S.prototype.redIMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},S.prototype.redSqr=function(){return R(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},S.prototype.redISqr=function(){return R(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},S.prototype.redSqrt=function(){return R(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},S.prototype.redInvm=function(){return R(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},S.prototype.redNeg=function(){return R(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},S.prototype.redPow=function(u){return R(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var oe={k256:null,p224:null,p192:null,p25519:null};function se(k,u){this.name=k,this.p=new S(u,16),this.n=this.p.bitLength(),this.k=new S(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function pe(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var u=S._prime(k);this.m=u.p,this.prime=u}else R(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function De(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new S(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new S(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var y,h=u;do{this.split(h,this.tmp),y=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(y>this.n);var w=y<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},W(ae,se),ae.prototype.split=function(u,h){for(var y=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var D=u.words[9];for(h.words[h.length++]=D&y,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&y)<<4|D>>>22,D=j}u.words[T-10]=D>>>=22,u.length-=0===D&&u.length>10?10:9},ae.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,y=0;y<u.length;y++){var w=0|u.words[y];u.words[y]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},W(pe,se),W(le,se),W(ve,se),ve.prototype.imulK=function(u){for(var h=0,y=0;y<u.length;y++){var w=19*(0|u.words[y])+h,T=67108863&w;w>>>=26,u.words[y]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},S._prime=function(u){if(oe[u])return oe[u];var h;if("k256"===u)h=new ae;else if("p224"===u)h=new pe;else if("p192"===u)h=new le;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return oe[u]=h,h},we.prototype._verify1=function(u){R(0===u.negative,"red works only with positives"),R(u.red,"red works only with red numbers")},we.prototype._verify2=function(u,h){R(!(u.negative|h.negative),"red works only with positives"),R(u.red&&u.red===h.red,"red works only with red numbers")},we.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},we.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},we.prototype.add=function(u,h){this._verify2(u,h);var y=u.add(h);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},we.prototype.iadd=function(u,h){this._verify2(u,h);var y=u.iadd(h);return y.cmp(this.m)>=0&&y.isub(this.m),y},we.prototype.sub=function(u,h){this._verify2(u,h);var y=u.sub(h);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},we.prototype.isub=function(u,h){this._verify2(u,h);var y=u.isub(h);return y.cmpn(0)<0&&y.iadd(this.m),y},we.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},we.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},we.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},we.prototype.isqr=function(u){return this.imul(u,u.clone())},we.prototype.sqr=function(u){return this.mul(u,u)},we.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(R(h%2==1),3===h){var y=this.m.add(new S(1)).iushrn(2);return this.pow(u,y)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);R(!w.isZero());var D=new S(1).toRed(this),j=D.redNeg(),A=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new S(2*l*l).toRed(this);0!==this.pow(l,A).cmp(j);)l.redIAdd(j);for(var g=this.pow(l,w),G=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ne=T;0!==H.cmp(D);){for(var ce=H,Ae=0;0!==ce.cmp(D);Ae++)ce=ce.redSqr();R(Ae<ne);var ke=this.pow(g,new S(1).iushln(ne-Ae-1));G=G.redMul(ke),g=ke.redSqr(),H=H.redMul(g),ne=Ae}return G},we.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(u,h){if(h.isZero())return new S(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new S(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var D=w[0],j=0,A=0,l=h.bitLength()%26;for(0===l&&(l=26),T=h.length-1;T>=0;T--){for(var g=h.words[T],G=l-1;G>=0;G--){var H=g>>G&1;D!==w[0]&&(D=this.sqr(D)),0!==H||0!==j?(j<<=1,j|=H,(4==++A||0===T&&0===G)&&(D=this.mul(D,w[j]),A=0,j=0)):A=0}l=26}return D},we.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},we.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},S.mont=function(u){return new De(u)},W(De,we),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new S(0)._forceRed(this);var y=u.mul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Le=E.nmd(Le),this)},67211:(Le,z,E)=>{"use strict";var m=E(71993),x=E(34725),R=E(36636),W=E(25443),S=E(3247);function L(M){S.call(this,"digest"),this._hash=M}m(L,S),L.prototype._update=function(M){this._hash.update(M)},L.prototype._final=function(){return this._hash.digest()},Le.exports=function(N){return"md5"===(N=N.toLowerCase())?new x:"rmd160"===N||"ripemd160"===N?new R:new L(W(N))}},83407:(Le,z,E)=>{var m=E(34725);Le.exports=function(x){return(new m).update(x).digest()}},56432:(Le,z,E)=>{"use strict";var m=E(71993),x=E(90509),R=E(3247),W=E(27054).Buffer,S=E(83407),L=E(36636),M=E(25443),N=W.alloc(128);function $(F,I){R.call(this,"digest"),"string"==typeof I&&(I=W.from(I));var X="sha512"===F||"sha384"===F?128:64;this._alg=F,this._key=I,I.length>X?I=("rmd160"===F?new L:M(F)).update(I).digest():I.length<X&&(I=W.concat([I,N],X));for(var Z=this._ipad=W.allocUnsafe(X),re=this._opad=W.allocUnsafe(X),te=0;te<X;te++)Z[te]=54^I[te],re[te]=92^I[te];this._hash="rmd160"===F?new L:M(F),this._hash.update(Z)}m($,R),$.prototype._update=function(F){this._hash.update(F)},$.prototype._final=function(){var F=this._hash.digest();return("rmd160"===this._alg?new L:M(this._alg)).update(this._opad).update(F).digest()},Le.exports=function(I,X){return"rmd160"===(I=I.toLowerCase())||"ripemd160"===I?new $("rmd160",X):"md5"===I?new x(S,X):new $(I,X)}},90509:(Le,z,E)=>{"use strict";var m=E(71993),x=E(27054).Buffer,R=E(3247),W=x.alloc(128),S=64;function L(M,N){R.call(this,"digest"),"string"==typeof N&&(N=x.from(N)),this._alg=M,this._key=N,N.length>S?N=M(N):N.length<S&&(N=x.concat([N,W],S));for(var $=this._ipad=x.allocUnsafe(S),F=this._opad=x.allocUnsafe(S),I=0;I<S;I++)$[I]=54^N[I],F[I]=92^N[I];this._hash=[$]}m(L,R),L.prototype._update=function(M){this._hash.push(M)},L.prototype._final=function(){var M=this._alg(x.concat(this._hash));return this._alg(x.concat([this._opad,M]))},Le.exports=L},91426:(Le,z,E)=>{"use strict";z.randomBytes=z.rng=z.pseudoRandomBytes=z.prng=E(3342),z.createHash=z.Hash=E(67211),z.createHmac=z.Hmac=E(56432);var m=E(99560),x=Object.keys(m),R=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(x);z.getHashes=function(){return R};var W=E(93397);z.pbkdf2=W.pbkdf2,z.pbkdf2Sync=W.pbkdf2Sync;var S=E(88862);z.Cipher=S.Cipher,z.createCipher=S.createCipher,z.Cipheriv=S.Cipheriv,z.createCipheriv=S.createCipheriv,z.Decipher=S.Decipher,z.createDecipher=S.createDecipher,z.Decipheriv=S.Decipheriv,z.createDecipheriv=S.createDecipheriv,z.getCiphers=S.getCiphers,z.listCiphers=S.listCiphers;var L=E(4377);z.DiffieHellmanGroup=L.DiffieHellmanGroup,z.createDiffieHellmanGroup=L.createDiffieHellmanGroup,z.getDiffieHellman=L.getDiffieHellman,z.createDiffieHellman=L.createDiffieHellman,z.DiffieHellman=L.DiffieHellman;var M=E(79143);z.createSign=M.createSign,z.Sign=M.Sign,z.createVerify=M.createVerify,z.Verify=M.Verify,z.createECDH=E(87303);var N=E(52965);z.publicEncrypt=N.publicEncrypt,z.privateEncrypt=N.privateEncrypt,z.publicDecrypt=N.publicDecrypt,z.privateDecrypt=N.privateDecrypt;var $=E(9682);z.randomFill=$.randomFill,z.randomFillSync=$.randomFillSync,z.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},z.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},71549:(Le,z,E)=>{"use strict";z.utils=E(85671),z.Cipher=E(10219),z.DES=E(64166),z.CBC=E(88800),z.EDE=E(62122)},88800:(Le,z,E)=>{"use strict";var m=E(39210),x=E(71993),R={};function W(L){m.equal(L.length,8,"Invalid IV length"),this.iv=new Array(8);for(var M=0;M<this.iv.length;M++)this.iv[M]=L[M]}z.instantiate=function S(L){function M(I){L.call(this,I),this._cbcInit()}x(M,L);for(var N=Object.keys(R),$=0;$<N.length;$++){var F=N[$];M.prototype[F]=R[F]}return M.create=function(X){return new M(X)},M},R._cbcInit=function(){var M=new W(this.options.iv);this._cbcState=M},R._update=function(M,N,$,F){var X=this.constructor.super_.prototype,V=this._cbcState.iv;if("encrypt"===this.type){for(var Z=0;Z<this.blockSize;Z++)V[Z]^=M[N+Z];for(X._update.call(this,V,0,$,F),Z=0;Z<this.blockSize;Z++)V[Z]=$[F+Z]}else{for(X._update.call(this,M,N,$,F),Z=0;Z<this.blockSize;Z++)$[F+Z]^=V[Z];for(Z=0;Z<this.blockSize;Z++)V[Z]=M[N+Z]}}},10219:(Le,z,E)=>{"use strict";var m=E(39210);function x(R){this.options=R,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==R.padding}Le.exports=x,x.prototype._init=function(){},x.prototype.update=function(W){return 0===W.length?[]:"decrypt"===this.type?this._updateDecrypt(W):this._updateEncrypt(W)},x.prototype._buffer=function(W,S){for(var L=Math.min(this.buffer.length-this.bufferOff,W.length-S),M=0;M<L;M++)this.buffer[this.bufferOff+M]=W[S+M];return this.bufferOff+=L,L},x.prototype._flushBuffer=function(W,S){return this._update(this.buffer,0,W,S),this.bufferOff=0,this.blockSize},x.prototype._updateEncrypt=function(W){var S=0,L=0,N=new Array(((this.bufferOff+W.length)/this.blockSize|0)*this.blockSize);0!==this.bufferOff&&(S+=this._buffer(W,S),this.bufferOff===this.buffer.length&&(L+=this._flushBuffer(N,L)));for(var $=W.length-(W.length-S)%this.blockSize;S<$;S+=this.blockSize)this._update(W,S,N,L),L+=this.blockSize;for(;S<W.length;S++,this.bufferOff++)this.buffer[this.bufferOff]=W[S];return N},x.prototype._updateDecrypt=function(W){for(var S=0,L=0,M=Math.ceil((this.bufferOff+W.length)/this.blockSize)-1,N=new Array(M*this.blockSize);M>0;M--)S+=this._buffer(W,S),L+=this._flushBuffer(N,L);return S+=this._buffer(W,S),N},x.prototype.final=function(W){var S,L;return W&&(S=this.update(W)),L="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),S?S.concat(L):L},x.prototype._pad=function(W,S){if(0===S)return!1;for(;S<W.length;)W[S++]=0;return!0},x.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var W=new Array(this.blockSize);return this._update(this.buffer,0,W,0),W},x.prototype._unpad=function(W){return W},x.prototype._finalDecrypt=function(){m.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var W=new Array(this.blockSize);return this._flushBuffer(W,0),this._unpad(W)}},64166:(Le,z,E)=>{"use strict";var m=E(39210),x=E(71993),R=E(85671),W=E(10219);function S(){this.tmp=new Array(2),this.keys=null}function L(N){W.call(this,N);var $=new S;this._desState=$,this.deriveKeys($,N.key)}x(L,W),Le.exports=L,L.create=function($){return new L($)};var M=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];L.prototype.deriveKeys=function($,F){$.keys=new Array(32),m.equal(F.length,this.blockSize,"Invalid key length");var I=R.readUInt32BE(F,0),X=R.readUInt32BE(F,4);R.pc1(I,X,$.tmp,0),I=$.tmp[0],X=$.tmp[1];for(var V=0;V<$.keys.length;V+=2){var Z=M[V>>>1];I=R.r28shl(I,Z),X=R.r28shl(X,Z),R.pc2(I,X,$.keys,V)}},L.prototype._update=function($,F,I,X){var V=this._desState,Z=R.readUInt32BE($,F),re=R.readUInt32BE($,F+4);R.ip(Z,re,V.tmp,0),Z=V.tmp[0],re=V.tmp[1],"encrypt"===this.type?this._encrypt(V,Z,re,V.tmp,0):this._decrypt(V,Z,re,V.tmp,0),re=V.tmp[1],R.writeUInt32BE(I,Z=V.tmp[0],X),R.writeUInt32BE(I,re,X+4)},L.prototype._pad=function($,F){if(!1===this.padding)return!1;for(var I=$.length-F,X=F;X<$.length;X++)$[X]=I;return!0},L.prototype._unpad=function($){if(!1===this.padding)return $;for(var F=$[$.length-1],I=$.length-F;I<$.length;I++)m.equal($[I],F);return $.slice(0,$.length-F)},L.prototype._encrypt=function($,F,I,X,V){for(var Z=F,re=I,te=0;te<$.keys.length;te+=2){var Q=$.keys[te],J=$.keys[te+1];R.expand(re,$.tmp,0);var oe=R.substitute(Q^=$.tmp[0],J^=$.tmp[1]),ae=re;re=(Z^R.permute(oe))>>>0,Z=ae}R.rip(re,Z,X,V)},L.prototype._decrypt=function($,F,I,X,V){for(var Z=I,re=F,te=$.keys.length-2;te>=0;te-=2){var Q=$.keys[te],J=$.keys[te+1];R.expand(Z,$.tmp,0);var oe=R.substitute(Q^=$.tmp[0],J^=$.tmp[1]),ae=Z;Z=(re^R.permute(oe))>>>0,re=ae}R.rip(Z,re,X,V)}},62122:(Le,z,E)=>{"use strict";var m=E(39210),x=E(71993),R=E(10219),W=E(64166);function S(M,N){m.equal(N.length,24,"Invalid key length");var $=N.slice(0,8),F=N.slice(8,16),I=N.slice(16,24);this.ciphers="encrypt"===M?[W.create({type:"encrypt",key:$}),W.create({type:"decrypt",key:F}),W.create({type:"encrypt",key:I})]:[W.create({type:"decrypt",key:I}),W.create({type:"encrypt",key:F}),W.create({type:"decrypt",key:$})]}function L(M){R.call(this,M);var N=new S(this.type,this.options.key);this._edeState=N}x(L,R),Le.exports=L,L.create=function(N){return new L(N)},L.prototype._update=function(N,$,F,I){var X=this._edeState;X.ciphers[0]._update(N,$,F,I),X.ciphers[1]._update(F,I,F,I),X.ciphers[2]._update(F,I,F,I)},L.prototype._pad=W.prototype._pad,L.prototype._unpad=W.prototype._unpad},85671:(Le,z)=>{"use strict";z.readUInt32BE=function(W,S){return(W[0+S]<<24|W[1+S]<<16|W[2+S]<<8|W[3+S])>>>0},z.writeUInt32BE=function(W,S,L){W[0+L]=S>>>24,W[1+L]=S>>>16&255,W[2+L]=S>>>8&255,W[3+L]=255&S},z.ip=function(W,S,L,M){for(var N=0,$=0,F=6;F>=0;F-=2){for(var I=0;I<=24;I+=8)N<<=1,N|=S>>>I+F&1;for(I=0;I<=24;I+=8)N<<=1,N|=W>>>I+F&1}for(F=6;F>=0;F-=2){for(I=1;I<=25;I+=8)$<<=1,$|=S>>>I+F&1;for(I=1;I<=25;I+=8)$<<=1,$|=W>>>I+F&1}L[M+0]=N>>>0,L[M+1]=$>>>0},z.rip=function(W,S,L,M){for(var N=0,$=0,F=0;F<4;F++)for(var I=24;I>=0;I-=8)N<<=1,N|=S>>>I+F&1,N<<=1,N|=W>>>I+F&1;for(F=4;F<8;F++)for(I=24;I>=0;I-=8)$<<=1,$|=S>>>I+F&1,$<<=1,$|=W>>>I+F&1;L[M+0]=N>>>0,L[M+1]=$>>>0},z.pc1=function(W,S,L,M){for(var N=0,$=0,F=7;F>=5;F--){for(var I=0;I<=24;I+=8)N<<=1,N|=S>>I+F&1;for(I=0;I<=24;I+=8)N<<=1,N|=W>>I+F&1}for(I=0;I<=24;I+=8)N<<=1,N|=S>>I+F&1;for(F=1;F<=3;F++){for(I=0;I<=24;I+=8)$<<=1,$|=S>>I+F&1;for(I=0;I<=24;I+=8)$<<=1,$|=W>>I+F&1}for(I=0;I<=24;I+=8)$<<=1,$|=W>>I+F&1;L[M+0]=N>>>0,L[M+1]=$>>>0},z.r28shl=function(W,S){return W<<S&268435455|W>>>28-S};var E=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];z.pc2=function(W,S,L,M){for(var N=0,$=0,F=E.length>>>1,I=0;I<F;I++)N<<=1,N|=W>>>E[I]&1;for(I=F;I<E.length;I++)$<<=1,$|=S>>>E[I]&1;L[M+0]=N>>>0,L[M+1]=$>>>0},z.expand=function(W,S,L){var M=0,N=0;M=(1&W)<<5|W>>>27;for(var $=23;$>=15;$-=4)M<<=6,M|=W>>>$&63;for($=11;$>=3;$-=4)N|=W>>>$&63,N<<=6;N|=(31&W)<<1|W>>>31,S[L+0]=M>>>0,S[L+1]=N>>>0};var m=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];z.substitute=function(W,S){for(var L=0,M=0;M<4;M++)L<<=4,L|=m[64*M+(W>>>18-6*M&63)];for(M=0;M<4;M++)L<<=4,L|=m[256+64*M+(S>>>18-6*M&63)];return L>>>0};var x=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];z.permute=function(W){for(var S=0,L=0;L<x.length;L++)S<<=1,S|=W>>>x[L]&1;return S>>>0},z.padSplit=function(W,S,L){for(var M=W.toString(2);M.length<S;)M="0"+M;for(var N=[],$=0;$<S;$+=L)N.push(M.slice($,$+L));return N.join(" ")}},4377:(Le,z,E)=>{var m=E(12727),x=E(23241),R=E(94593),S={binary:!0,hex:!0,base64:!0};z.DiffieHellmanGroup=z.createDiffieHellmanGroup=z.getDiffieHellman=function W(M){var N=new Buffer(x[M].prime,"hex"),$=new Buffer(x[M].gen,"hex");return new R(N,$)},z.createDiffieHellman=z.DiffieHellman=function L(M,N,$,F){return Buffer.isBuffer(N)||void 0===S[N]?L(M,"binary",N,$):(N=N||"binary",F=F||"binary",$=$||new Buffer([2]),Buffer.isBuffer($)||($=new Buffer($,F)),"number"==typeof M?new R(m(M,$),$,!0):(Buffer.isBuffer(M)||(M=new Buffer(M,N)),new R(M,$,!0)))}},94593:(Le,z,E)=>{var m=E(38280),R=new(E(53459)),W=new m(24),S=new m(11),L=new m(10),M=new m(3),N=new m(7),$=E(12727),F=E(3342);function I(Q,J){return J=J||"utf8",Buffer.isBuffer(Q)||(Q=new Buffer(Q,J)),this._pub=new m(Q),this}function X(Q,J){return J=J||"utf8",Buffer.isBuffer(Q)||(Q=new Buffer(Q,J)),this._priv=new m(Q),this}Le.exports=re;var V={};function re(Q,J,oe){this.setGenerator(J),this.__prime=new m(Q),this._prime=m.mont(this.__prime),this._primeLen=Q.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,oe?(this.setPublicKey=I,this.setPrivateKey=X):this._primeCode=8}function te(Q,J){var oe=new Buffer(Q.toArray());return J?oe.toString(J):oe}Object.defineProperty(re.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function Z(Q,J){var oe=J.toString("hex"),se=[oe,Q.toString(16)].join("_");if(se in V)return V[se];var pe,ae=0;if(Q.isEven()||!$.simpleSieve||!$.fermatTest(Q)||!R.test(Q))return ae+=1,V[se]=ae+="02"===oe||"05"===oe?8:4,ae;switch(R.test(Q.shrn(1))||(ae+=2),oe){case"02":Q.mod(W).cmp(S)&&(ae+=8);break;case"05":(pe=Q.mod(L)).cmp(M)&&pe.cmp(N)&&(ae+=8);break;default:ae+=4}return V[se]=ae,ae}(this.__prime,this.__gen)),this._primeCode}}),re.prototype.generateKeys=function(){return this._priv||(this._priv=new m(F(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},re.prototype.computeSecret=function(Q){var J=(Q=(Q=new m(Q)).toRed(this._prime)).redPow(this._priv).fromRed(),oe=new Buffer(J.toArray()),se=this.getPrime();if(oe.length<se.length){var ae=new Buffer(se.length-oe.length);ae.fill(0),oe=Buffer.concat([ae,oe])}return oe},re.prototype.getPublicKey=function(J){return te(this._pub,J)},re.prototype.getPrivateKey=function(J){return te(this._priv,J)},re.prototype.getPrime=function(Q){return te(this.__prime,Q)},re.prototype.getGenerator=function(Q){return te(this._gen,Q)},re.prototype.setGenerator=function(Q,J){return J=J||"utf8",Buffer.isBuffer(Q)||(Q=new Buffer(Q,J)),this.__gen=Q,this._gen=new m(Q),this}},12727:(Le,z,E)=>{var m=E(3342);Le.exports=ae,ae.simpleSieve=oe,ae.fermatTest=se;var x=E(38280),R=new x(24),S=new(E(53459)),L=new x(1),M=new x(2),N=new x(5),I=(new x(16),new x(8),new x(10)),X=new x(3),Z=(new x(7),new x(11)),re=new x(4),Q=(new x(12),null);function oe(pe){for(var le=function J(){if(null!==Q)return Q;var le=[];le[0]=2;for(var ve=1,we=3;we<1048576;we+=2){for(var De=Math.ceil(Math.sqrt(we)),k=0;k<ve&&le[k]<=De&&we%le[k]!=0;k++);ve!==k&&le[k]<=De||(le[ve++]=we)}return Q=le,le}(),ve=0;ve<le.length;ve++)if(0===pe.modn(le[ve]))return 0===pe.cmpn(le[ve]);return!0}function se(pe){var le=x.mont(pe);return 0===M.toRed(le).redPow(pe.subn(1)).fromRed().cmpn(1)}function ae(pe,le){if(pe<16)return new x(2===le||5===le?[140,123]:[140,39]);le=new x(le);for(var ve,we;;){for(ve=new x(m(Math.ceil(pe/8)));ve.bitLength()>pe;)ve.ishrn(1);if(ve.isEven()&&ve.iadd(L),ve.testn(1)||ve.iadd(M),le.cmp(M)){if(!le.cmp(N))for(;ve.mod(I).cmp(X);)ve.iadd(re)}else for(;ve.mod(R).cmp(Z);)ve.iadd(re);if(oe(we=ve.shrn(1))&&oe(ve)&&se(we)&&se(ve)&&S.test(we)&&S.test(ve))return ve}}},38280:function(Le,z,E){!function(m,x){"use strict";function R(k,u){if(!k)throw new Error(u||"Assertion failed")}function W(k,u){k.super_=u;var h=function(){};h.prototype=u.prototype,k.prototype=new h,k.prototype.constructor=k}function S(k,u,h){if(S.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(k||0,u||10,h||"be"))}var L;"object"==typeof m?m.exports=S:x.BN=S,S.BN=S,S.wordSize=26;try{L=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(66089).Buffer}catch{}function M(k,u){var h=k.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,u,h){var y=M(k,h);return h-1>=u&&(y|=M(k,h-1)<<4),y}function $(k,u,h,y){for(var w=0,T=Math.min(k.length,h),D=u;D<T;D++){var j=k.charCodeAt(D)-48;w*=y,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}S.isBN=function(u){return u instanceof S||null!==u&&"object"==typeof u&&u.constructor.wordSize===S.wordSize&&Array.isArray(u.words)},S.max=function(u,h){return u.cmp(h)>0?u:h},S.min=function(u,h){return u.cmp(h)<0?u:h},S.prototype._init=function(u,h,y){if("number"==typeof u)return this._initNumber(u,h,y);if("object"==typeof u)return this._initArray(u,h,y);"hex"===h&&(h=16),R(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,y):(this._parseBase(u,h,w),"le"===y&&this._initArray(this.toArray(),h,y)))},S.prototype._initNumber=function(u,h,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(R(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),h,y)},S.prototype._initArray=function(u,h,y){if(R("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,D,j=0;if("be"===y)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(D=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===y)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(D=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},S.prototype._parseHex=function(u,h,y){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,D=0;if("be"===y)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;this.strip()},S.prototype._parseBase=function(u,h,y){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var D=u.length-y,j=D%w,A=Math.min(D,D-j)+y,l=0,g=y;g<A;g+=w)l=$(u,g,g+w,h),this.imuln(T),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==j){var G=1;for(l=$(u,g,u.length,h),g=0;g<j;g++)G*=h;this.imuln(G),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},S.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},S.prototype.clone=function(){var u=new S(null);return this.copy(u),u},S.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},S.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},S.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},S.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(k,u,h){h.negative=u.negative^k.negative;var y=k.length+u.length|0;h.length=y,y=y-1|0;var w=0|k.words[0],T=0|u.words[0],D=w*T,A=D/67108864|0;h.words[0]=67108863&D;for(var l=1;l<y;l++){for(var g=A>>>26,G=67108863&A,H=Math.min(l,u.length-1),ne=Math.max(0,l-k.length+1);ne<=H;ne++)g+=(D=(w=0|k.words[l-ne|0])*(T=0|u.words[ne])+G)/67108864|0,G=67108863&D;h.words[l]=0|G,A=0|g}return 0!==A?h.words[l]=0|A:h.length--,h.strip()}S.prototype.toString=function(u,h){var y;if(h=0|h||1,16===(u=u||10)||"hex"===u){y="";for(var w=0,T=0,D=0;D<this.length;D++){var j=this.words[D],A=(16777215&(j<<w|T)).toString(16);y=0!=(T=j>>>24-w&16777215)||D!==this.length-1?F[6-A.length]+A+y:A+y,(w+=2)>=26&&(w-=26,D--)}for(0!==T&&(y=T.toString(16)+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var l=I[u],g=X[u];y="";var G=this.clone();for(G.negative=0;!G.isZero();){var H=G.modn(g).toString(u);y=(G=G.idivn(g)).isZero()?H+y:F[l-H.length]+H+y}for(this.isZero()&&(y="0"+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}R(!1,"Base should be between 2 and 36")},S.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&R(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},S.prototype.toJSON=function(){return this.toString(16)},S.prototype.toBuffer=function(u,h){return R(typeof L<"u"),this.toArrayLike(L,u,h)},S.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},S.prototype.toArrayLike=function(u,h,y){var w=this.byteLength(),T=y||Math.max(1,w);R(w<=T,"byte array longer than desired length"),R(T>0,"Requested array length <= 0"),this.strip();var A,l,D="le"===h,j=new u(T),g=this.clone();if(D){for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[l]=A;for(;l<T;l++)j[l]=0}else{for(l=0;l<T-w;l++)j[l]=0;for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[T-l-1]=A}return j},S.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,y=0;return h>=4096&&(y+=13,h>>>=13),h>=64&&(y+=7,h>>>=7),h>=8&&(y+=4,h>>>=4),h>=2&&(y+=2,h>>>=2),y+h},S.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,y=0;return 8191&h||(y+=13,h>>>=13),127&h||(y+=7,h>>>=7),15&h||(y+=4,h>>>=4),3&h||(y+=2,h>>>=2),1&h||y++,y},S.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},S.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var y=this._zeroBits(this.words[h]);if(u+=y,26!==y)break}return u},S.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},S.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},S.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},S.prototype.isNeg=function(){return 0!==this.negative},S.prototype.neg=function(){return this.clone().ineg()},S.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},S.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},S.prototype.ior=function(u){return R(!(this.negative|u.negative)),this.iuor(u)},S.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},S.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},S.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var y=0;y<h.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=h.length,this.strip()},S.prototype.iand=function(u){return R(!(this.negative|u.negative)),this.iuand(u)},S.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},S.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},S.prototype.iuxor=function(u){var h,y;this.length>u.length?(h=this,y=u):(h=u,y=this);for(var w=0;w<y.length;w++)this.words[w]=h.words[w]^y.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},S.prototype.ixor=function(u){return R(!(this.negative|u.negative)),this.iuxor(u)},S.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},S.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},S.prototype.inotn=function(u){R("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),y=u%26;this._expand(h),y>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return y>0&&(this.words[w]=~this.words[w]&67108863>>26-y),this.strip()},S.prototype.notn=function(u){return this.clone().inotn(u)},S.prototype.setn=function(u,h){R("number"==typeof u&&u>=0);var y=u/26|0,w=u%26;return this._expand(y+1),this.words[y]=h?this.words[y]|1<<w:this.words[y]&~(1<<w),this.strip()},S.prototype.iadd=function(u){var h,y,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(y=this,w=u):(y=u,w=this);for(var T=0,D=0;D<w.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+(0|w.words[D])+T),T=h>>>26;for(;0!==T&&D<y.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+T),T=h>>>26;if(this.length=y.length,0!==T)this.words[this.length]=T,this.length++;else if(y!==this)for(;D<y.length;D++)this.words[D]=y.words[D];return this},S.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},S.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(w=this,T=u):(w=u,T=this);for(var D=0,j=0;j<T.length;j++)D=(h=(0|w.words[j])-(0|T.words[j])+D)>>26,this.words[j]=67108863&h;for(;0!==D&&j<w.length;j++)D=(h=(0|w.words[j])+D)>>26,this.words[j]=67108863&h;if(0===D&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},S.prototype.sub=function(u){return this.clone().isub(u)};var re=function(u,h,y){var A,l,g,w=u.words,T=h.words,D=y.words,j=0,G=0|w[0],H=8191&G,ne=G>>>13,ce=0|w[1],Ae=8191&ce,ke=ce>>>13,Fe=0|w[2],Ee=8191&Fe,ge=Fe>>>13,Oe=0|w[3],ye=8191&Oe,Se=Oe>>>13,he=0|w[4],fe=8191&he,ee=he>>>13,ie=0|w[5],ue=8191&ie,be=ie>>>13,Ie=0|w[6],Ne=8191&Ie,Be=Ie>>>13,yt=0|w[7],Ke=8191&yt,Re=yt>>>13,ot=0|w[8],U=8191&ot,_=ot>>>13,p=0|w[9],O=8191&p,q=p>>>13,me=0|T[0],xe=8191&me,qe=me>>>13,At=0|T[1],ut=8191&At,bt=At>>>13,Lt=0|T[2],en=8191&Lt,Zt=Lt>>>13,Jn=0|T[3],yn=8191&Jn,Vt=Jn>>>13,$t=0|T[4],mt=8191&$t,st=$t>>>13,Nt=0|T[5],Kt=8191&Nt,qt=Nt>>>13,or=0|T[6],ft=8191&or,gt=or>>>13,vt=0|T[7],He=8191&vt,Je=vt>>>13,Bt=0|T[8],Tt=8191&Bt,Yt=Bt>>>13,Pn=0|T[9],cn=8191&Pn,pn=Pn>>>13;y.negative=u.negative^h.negative,y.length=19;var vr=(j+(A=Math.imul(H,xe))|0)+((8191&(l=(l=Math.imul(H,qe))+Math.imul(ne,xe)|0))<<13)|0;j=((g=Math.imul(ne,qe))+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,A=Math.imul(Ae,xe),l=(l=Math.imul(Ae,qe))+Math.imul(ke,xe)|0,g=Math.imul(ke,qe);var Un=(j+(A=A+Math.imul(H,ut)|0)|0)+((8191&(l=(l=l+Math.imul(H,bt)|0)+Math.imul(ne,ut)|0))<<13)|0;j=((g=g+Math.imul(ne,bt)|0)+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,A=Math.imul(Ee,xe),l=(l=Math.imul(Ee,qe))+Math.imul(ge,xe)|0,g=Math.imul(ge,qe),A=A+Math.imul(Ae,ut)|0,l=(l=l+Math.imul(Ae,bt)|0)+Math.imul(ke,ut)|0,g=g+Math.imul(ke,bt)|0;var An=(j+(A=A+Math.imul(H,en)|0)|0)+((8191&(l=(l=l+Math.imul(H,Zt)|0)+Math.imul(ne,en)|0))<<13)|0;j=((g=g+Math.imul(ne,Zt)|0)+(l>>>13)|0)+(An>>>26)|0,An&=67108863,A=Math.imul(ye,xe),l=(l=Math.imul(ye,qe))+Math.imul(Se,xe)|0,g=Math.imul(Se,qe),A=A+Math.imul(Ee,ut)|0,l=(l=l+Math.imul(Ee,bt)|0)+Math.imul(ge,ut)|0,g=g+Math.imul(ge,bt)|0,A=A+Math.imul(Ae,en)|0,l=(l=l+Math.imul(Ae,Zt)|0)+Math.imul(ke,en)|0,g=g+Math.imul(ke,Zt)|0;var On=(j+(A=A+Math.imul(H,yn)|0)|0)+((8191&(l=(l=l+Math.imul(H,Vt)|0)+Math.imul(ne,yn)|0))<<13)|0;j=((g=g+Math.imul(ne,Vt)|0)+(l>>>13)|0)+(On>>>26)|0,On&=67108863,A=Math.imul(fe,xe),l=(l=Math.imul(fe,qe))+Math.imul(ee,xe)|0,g=Math.imul(ee,qe),A=A+Math.imul(ye,ut)|0,l=(l=l+Math.imul(ye,bt)|0)+Math.imul(Se,ut)|0,g=g+Math.imul(Se,bt)|0,A=A+Math.imul(Ee,en)|0,l=(l=l+Math.imul(Ee,Zt)|0)+Math.imul(ge,en)|0,g=g+Math.imul(ge,Zt)|0,A=A+Math.imul(Ae,yn)|0,l=(l=l+Math.imul(Ae,Vt)|0)+Math.imul(ke,yn)|0,g=g+Math.imul(ke,Vt)|0;var nt=(j+(A=A+Math.imul(H,mt)|0)|0)+((8191&(l=(l=l+Math.imul(H,st)|0)+Math.imul(ne,mt)|0))<<13)|0;j=((g=g+Math.imul(ne,st)|0)+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,A=Math.imul(ue,xe),l=(l=Math.imul(ue,qe))+Math.imul(be,xe)|0,g=Math.imul(be,qe),A=A+Math.imul(fe,ut)|0,l=(l=l+Math.imul(fe,bt)|0)+Math.imul(ee,ut)|0,g=g+Math.imul(ee,bt)|0,A=A+Math.imul(ye,en)|0,l=(l=l+Math.imul(ye,Zt)|0)+Math.imul(Se,en)|0,g=g+Math.imul(Se,Zt)|0,A=A+Math.imul(Ee,yn)|0,l=(l=l+Math.imul(Ee,Vt)|0)+Math.imul(ge,yn)|0,g=g+Math.imul(ge,Vt)|0,A=A+Math.imul(Ae,mt)|0,l=(l=l+Math.imul(Ae,st)|0)+Math.imul(ke,mt)|0,g=g+Math.imul(ke,st)|0;var $e=(j+(A=A+Math.imul(H,Kt)|0)|0)+((8191&(l=(l=l+Math.imul(H,qt)|0)+Math.imul(ne,Kt)|0))<<13)|0;j=((g=g+Math.imul(ne,qt)|0)+(l>>>13)|0)+($e>>>26)|0,$e&=67108863,A=Math.imul(Ne,xe),l=(l=Math.imul(Ne,qe))+Math.imul(Be,xe)|0,g=Math.imul(Be,qe),A=A+Math.imul(ue,ut)|0,l=(l=l+Math.imul(ue,bt)|0)+Math.imul(be,ut)|0,g=g+Math.imul(be,bt)|0,A=A+Math.imul(fe,en)|0,l=(l=l+Math.imul(fe,Zt)|0)+Math.imul(ee,en)|0,g=g+Math.imul(ee,Zt)|0,A=A+Math.imul(ye,yn)|0,l=(l=l+Math.imul(ye,Vt)|0)+Math.imul(Se,yn)|0,g=g+Math.imul(Se,Vt)|0,A=A+Math.imul(Ee,mt)|0,l=(l=l+Math.imul(Ee,st)|0)+Math.imul(ge,mt)|0,g=g+Math.imul(ge,st)|0,A=A+Math.imul(Ae,Kt)|0,l=(l=l+Math.imul(Ae,qt)|0)+Math.imul(ke,Kt)|0,g=g+Math.imul(ke,qt)|0;var it=(j+(A=A+Math.imul(H,ft)|0)|0)+((8191&(l=(l=l+Math.imul(H,gt)|0)+Math.imul(ne,ft)|0))<<13)|0;j=((g=g+Math.imul(ne,gt)|0)+(l>>>13)|0)+(it>>>26)|0,it&=67108863,A=Math.imul(Ke,xe),l=(l=Math.imul(Ke,qe))+Math.imul(Re,xe)|0,g=Math.imul(Re,qe),A=A+Math.imul(Ne,ut)|0,l=(l=l+Math.imul(Ne,bt)|0)+Math.imul(Be,ut)|0,g=g+Math.imul(Be,bt)|0,A=A+Math.imul(ue,en)|0,l=(l=l+Math.imul(ue,Zt)|0)+Math.imul(be,en)|0,g=g+Math.imul(be,Zt)|0,A=A+Math.imul(fe,yn)|0,l=(l=l+Math.imul(fe,Vt)|0)+Math.imul(ee,yn)|0,g=g+Math.imul(ee,Vt)|0,A=A+Math.imul(ye,mt)|0,l=(l=l+Math.imul(ye,st)|0)+Math.imul(Se,mt)|0,g=g+Math.imul(Se,st)|0,A=A+Math.imul(Ee,Kt)|0,l=(l=l+Math.imul(Ee,qt)|0)+Math.imul(ge,Kt)|0,g=g+Math.imul(ge,qt)|0,A=A+Math.imul(Ae,ft)|0,l=(l=l+Math.imul(Ae,gt)|0)+Math.imul(ke,ft)|0,g=g+Math.imul(ke,gt)|0;var jt=(j+(A=A+Math.imul(H,He)|0)|0)+((8191&(l=(l=l+Math.imul(H,Je)|0)+Math.imul(ne,He)|0))<<13)|0;j=((g=g+Math.imul(ne,Je)|0)+(l>>>13)|0)+(jt>>>26)|0,jt&=67108863,A=Math.imul(U,xe),l=(l=Math.imul(U,qe))+Math.imul(_,xe)|0,g=Math.imul(_,qe),A=A+Math.imul(Ke,ut)|0,l=(l=l+Math.imul(Ke,bt)|0)+Math.imul(Re,ut)|0,g=g+Math.imul(Re,bt)|0,A=A+Math.imul(Ne,en)|0,l=(l=l+Math.imul(Ne,Zt)|0)+Math.imul(Be,en)|0,g=g+Math.imul(Be,Zt)|0,A=A+Math.imul(ue,yn)|0,l=(l=l+Math.imul(ue,Vt)|0)+Math.imul(be,yn)|0,g=g+Math.imul(be,Vt)|0,A=A+Math.imul(fe,mt)|0,l=(l=l+Math.imul(fe,st)|0)+Math.imul(ee,mt)|0,g=g+Math.imul(ee,st)|0,A=A+Math.imul(ye,Kt)|0,l=(l=l+Math.imul(ye,qt)|0)+Math.imul(Se,Kt)|0,g=g+Math.imul(Se,qt)|0,A=A+Math.imul(Ee,ft)|0,l=(l=l+Math.imul(Ee,gt)|0)+Math.imul(ge,ft)|0,g=g+Math.imul(ge,gt)|0,A=A+Math.imul(Ae,He)|0,l=(l=l+Math.imul(Ae,Je)|0)+Math.imul(ke,He)|0,g=g+Math.imul(ke,Je)|0;var dn=(j+(A=A+Math.imul(H,Tt)|0)|0)+((8191&(l=(l=l+Math.imul(H,Yt)|0)+Math.imul(ne,Tt)|0))<<13)|0;j=((g=g+Math.imul(ne,Yt)|0)+(l>>>13)|0)+(dn>>>26)|0,dn&=67108863,A=Math.imul(O,xe),l=(l=Math.imul(O,qe))+Math.imul(q,xe)|0,g=Math.imul(q,qe),A=A+Math.imul(U,ut)|0,l=(l=l+Math.imul(U,bt)|0)+Math.imul(_,ut)|0,g=g+Math.imul(_,bt)|0,A=A+Math.imul(Ke,en)|0,l=(l=l+Math.imul(Ke,Zt)|0)+Math.imul(Re,en)|0,g=g+Math.imul(Re,Zt)|0,A=A+Math.imul(Ne,yn)|0,l=(l=l+Math.imul(Ne,Vt)|0)+Math.imul(Be,yn)|0,g=g+Math.imul(Be,Vt)|0,A=A+Math.imul(ue,mt)|0,l=(l=l+Math.imul(ue,st)|0)+Math.imul(be,mt)|0,g=g+Math.imul(be,st)|0,A=A+Math.imul(fe,Kt)|0,l=(l=l+Math.imul(fe,qt)|0)+Math.imul(ee,Kt)|0,g=g+Math.imul(ee,qt)|0,A=A+Math.imul(ye,ft)|0,l=(l=l+Math.imul(ye,gt)|0)+Math.imul(Se,ft)|0,g=g+Math.imul(Se,gt)|0,A=A+Math.imul(Ee,He)|0,l=(l=l+Math.imul(Ee,Je)|0)+Math.imul(ge,He)|0,g=g+Math.imul(ge,Je)|0,A=A+Math.imul(Ae,Tt)|0,l=(l=l+Math.imul(Ae,Yt)|0)+Math.imul(ke,Tt)|0,g=g+Math.imul(ke,Yt)|0;var Rn=(j+(A=A+Math.imul(H,cn)|0)|0)+((8191&(l=(l=l+Math.imul(H,pn)|0)+Math.imul(ne,cn)|0))<<13)|0;j=((g=g+Math.imul(ne,pn)|0)+(l>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,A=Math.imul(O,ut),l=(l=Math.imul(O,bt))+Math.imul(q,ut)|0,g=Math.imul(q,bt),A=A+Math.imul(U,en)|0,l=(l=l+Math.imul(U,Zt)|0)+Math.imul(_,en)|0,g=g+Math.imul(_,Zt)|0,A=A+Math.imul(Ke,yn)|0,l=(l=l+Math.imul(Ke,Vt)|0)+Math.imul(Re,yn)|0,g=g+Math.imul(Re,Vt)|0,A=A+Math.imul(Ne,mt)|0,l=(l=l+Math.imul(Ne,st)|0)+Math.imul(Be,mt)|0,g=g+Math.imul(Be,st)|0,A=A+Math.imul(ue,Kt)|0,l=(l=l+Math.imul(ue,qt)|0)+Math.imul(be,Kt)|0,g=g+Math.imul(be,qt)|0,A=A+Math.imul(fe,ft)|0,l=(l=l+Math.imul(fe,gt)|0)+Math.imul(ee,ft)|0,g=g+Math.imul(ee,gt)|0,A=A+Math.imul(ye,He)|0,l=(l=l+Math.imul(ye,Je)|0)+Math.imul(Se,He)|0,g=g+Math.imul(Se,Je)|0,A=A+Math.imul(Ee,Tt)|0,l=(l=l+Math.imul(Ee,Yt)|0)+Math.imul(ge,Tt)|0,g=g+Math.imul(ge,Yt)|0;var Kn=(j+(A=A+Math.imul(Ae,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ae,pn)|0)+Math.imul(ke,cn)|0))<<13)|0;j=((g=g+Math.imul(ke,pn)|0)+(l>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(O,en),l=(l=Math.imul(O,Zt))+Math.imul(q,en)|0,g=Math.imul(q,Zt),A=A+Math.imul(U,yn)|0,l=(l=l+Math.imul(U,Vt)|0)+Math.imul(_,yn)|0,g=g+Math.imul(_,Vt)|0,A=A+Math.imul(Ke,mt)|0,l=(l=l+Math.imul(Ke,st)|0)+Math.imul(Re,mt)|0,g=g+Math.imul(Re,st)|0,A=A+Math.imul(Ne,Kt)|0,l=(l=l+Math.imul(Ne,qt)|0)+Math.imul(Be,Kt)|0,g=g+Math.imul(Be,qt)|0,A=A+Math.imul(ue,ft)|0,l=(l=l+Math.imul(ue,gt)|0)+Math.imul(be,ft)|0,g=g+Math.imul(be,gt)|0,A=A+Math.imul(fe,He)|0,l=(l=l+Math.imul(fe,Je)|0)+Math.imul(ee,He)|0,g=g+Math.imul(ee,Je)|0,A=A+Math.imul(ye,Tt)|0,l=(l=l+Math.imul(ye,Yt)|0)+Math.imul(Se,Tt)|0,g=g+Math.imul(Se,Yt)|0;var tr=(j+(A=A+Math.imul(Ee,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ee,pn)|0)+Math.imul(ge,cn)|0))<<13)|0;j=((g=g+Math.imul(ge,pn)|0)+(l>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(O,yn),l=(l=Math.imul(O,Vt))+Math.imul(q,yn)|0,g=Math.imul(q,Vt),A=A+Math.imul(U,mt)|0,l=(l=l+Math.imul(U,st)|0)+Math.imul(_,mt)|0,g=g+Math.imul(_,st)|0,A=A+Math.imul(Ke,Kt)|0,l=(l=l+Math.imul(Ke,qt)|0)+Math.imul(Re,Kt)|0,g=g+Math.imul(Re,qt)|0,A=A+Math.imul(Ne,ft)|0,l=(l=l+Math.imul(Ne,gt)|0)+Math.imul(Be,ft)|0,g=g+Math.imul(Be,gt)|0,A=A+Math.imul(ue,He)|0,l=(l=l+Math.imul(ue,Je)|0)+Math.imul(be,He)|0,g=g+Math.imul(be,Je)|0,A=A+Math.imul(fe,Tt)|0,l=(l=l+Math.imul(fe,Yt)|0)+Math.imul(ee,Tt)|0,g=g+Math.imul(ee,Yt)|0;var Ar=(j+(A=A+Math.imul(ye,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ye,pn)|0)+Math.imul(Se,cn)|0))<<13)|0;j=((g=g+Math.imul(Se,pn)|0)+(l>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,A=Math.imul(O,mt),l=(l=Math.imul(O,st))+Math.imul(q,mt)|0,g=Math.imul(q,st),A=A+Math.imul(U,Kt)|0,l=(l=l+Math.imul(U,qt)|0)+Math.imul(_,Kt)|0,g=g+Math.imul(_,qt)|0,A=A+Math.imul(Ke,ft)|0,l=(l=l+Math.imul(Ke,gt)|0)+Math.imul(Re,ft)|0,g=g+Math.imul(Re,gt)|0,A=A+Math.imul(Ne,He)|0,l=(l=l+Math.imul(Ne,Je)|0)+Math.imul(Be,He)|0,g=g+Math.imul(Be,Je)|0,A=A+Math.imul(ue,Tt)|0,l=(l=l+Math.imul(ue,Yt)|0)+Math.imul(be,Tt)|0,g=g+Math.imul(be,Yt)|0;var _r=(j+(A=A+Math.imul(fe,cn)|0)|0)+((8191&(l=(l=l+Math.imul(fe,pn)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((g=g+Math.imul(ee,pn)|0)+(l>>>13)|0)+(_r>>>26)|0,_r&=67108863,A=Math.imul(O,Kt),l=(l=Math.imul(O,qt))+Math.imul(q,Kt)|0,g=Math.imul(q,qt),A=A+Math.imul(U,ft)|0,l=(l=l+Math.imul(U,gt)|0)+Math.imul(_,ft)|0,g=g+Math.imul(_,gt)|0,A=A+Math.imul(Ke,He)|0,l=(l=l+Math.imul(Ke,Je)|0)+Math.imul(Re,He)|0,g=g+Math.imul(Re,Je)|0,A=A+Math.imul(Ne,Tt)|0,l=(l=l+Math.imul(Ne,Yt)|0)+Math.imul(Be,Tt)|0,g=g+Math.imul(Be,Yt)|0;var Pr=(j+(A=A+Math.imul(ue,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ue,pn)|0)+Math.imul(be,cn)|0))<<13)|0;j=((g=g+Math.imul(be,pn)|0)+(l>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,A=Math.imul(O,ft),l=(l=Math.imul(O,gt))+Math.imul(q,ft)|0,g=Math.imul(q,gt),A=A+Math.imul(U,He)|0,l=(l=l+Math.imul(U,Je)|0)+Math.imul(_,He)|0,g=g+Math.imul(_,Je)|0,A=A+Math.imul(Ke,Tt)|0,l=(l=l+Math.imul(Ke,Yt)|0)+Math.imul(Re,Tt)|0,g=g+Math.imul(Re,Yt)|0;var $r=(j+(A=A+Math.imul(Ne,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ne,pn)|0)+Math.imul(Be,cn)|0))<<13)|0;j=((g=g+Math.imul(Be,pn)|0)+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,A=Math.imul(O,He),l=(l=Math.imul(O,Je))+Math.imul(q,He)|0,g=Math.imul(q,Je),A=A+Math.imul(U,Tt)|0,l=(l=l+Math.imul(U,Yt)|0)+Math.imul(_,Tt)|0,g=g+Math.imul(_,Yt)|0;var zr=(j+(A=A+Math.imul(Ke,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ke,pn)|0)+Math.imul(Re,cn)|0))<<13)|0;j=((g=g+Math.imul(Re,pn)|0)+(l>>>13)|0)+(zr>>>26)|0,zr&=67108863,A=Math.imul(O,Tt),l=(l=Math.imul(O,Yt))+Math.imul(q,Tt)|0,g=Math.imul(q,Yt);var Ht=(j+(A=A+Math.imul(U,cn)|0)|0)+((8191&(l=(l=l+Math.imul(U,pn)|0)+Math.imul(_,cn)|0))<<13)|0;j=((g=g+Math.imul(_,pn)|0)+(l>>>13)|0)+(Ht>>>26)|0,Ht&=67108863;var ln=(j+(A=Math.imul(O,cn))|0)+((8191&(l=(l=Math.imul(O,pn))+Math.imul(q,cn)|0))<<13)|0;return j=((g=Math.imul(q,pn))+(l>>>13)|0)+(ln>>>26)|0,ln&=67108863,D[0]=vr,D[1]=Un,D[2]=An,D[3]=On,D[4]=nt,D[5]=$e,D[6]=it,D[7]=jt,D[8]=dn,D[9]=Rn,D[10]=Kn,D[11]=tr,D[12]=Ar,D[13]=_r,D[14]=Pr,D[15]=$r,D[16]=zr,D[17]=Ht,D[18]=ln,0!==j&&(D[19]=j,y.length++),y};function Q(k,u,h){return(new J).mulp(k,u,h)}function J(k,u){this.x=k,this.y=u}Math.imul||(re=Z),S.prototype.mulTo=function(u,h){var y,w=this.length+u.length;return y=10===this.length&&10===u.length?re(this,u,h):w<63?Z(this,u,h):w<1024?function te(k,u,h){h.negative=u.negative^k.negative,h.length=k.length+u.length;for(var y=0,w=0,T=0;T<h.length-1;T++){var D=w;w=0;for(var j=67108863&y,A=Math.min(T,u.length-1),l=Math.max(0,T-k.length+1);l<=A;l++){var ne=(0|k.words[T-l])*(0|u.words[l]),ce=67108863&ne;j=67108863&(ce=ce+j|0),w+=(D=(D=D+(ne/67108864|0)|0)+(ce>>>26)|0)>>>26,D&=67108863}h.words[T]=j,y=D,D=w}return 0!==y?h.words[T]=y:h.length--,h.strip()}(this,u,h):Q(this,u,h),y},J.prototype.makeRBT=function(u){for(var h=new Array(u),y=S.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,y,u);return h},J.prototype.revBin=function(u,h,y){if(0===u||u===y-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},J.prototype.permute=function(u,h,y,w,T,D){for(var j=0;j<D;j++)w[j]=h[u[j]],T[j]=y[u[j]]},J.prototype.transform=function(u,h,y,w,T,D){this.permute(D,u,h,y,w,T);for(var j=1;j<T;j<<=1)for(var A=j<<1,l=Math.cos(2*Math.PI/A),g=Math.sin(2*Math.PI/A),G=0;G<T;G+=A)for(var H=l,ne=g,ce=0;ce<j;ce++){var Ae=y[G+ce],ke=w[G+ce],Fe=y[G+ce+j],Ee=w[G+ce+j],ge=H*Fe-ne*Ee;Ee=H*Ee+ne*Fe,y[G+ce]=Ae+(Fe=ge),w[G+ce]=ke+Ee,y[G+ce+j]=Ae-Fe,w[G+ce+j]=ke-Ee,ce!==A&&(ge=l*H-g*ne,ne=l*ne+g*H,H=ge)}},J.prototype.guessLen13b=function(u,h){var y=1|Math.max(h,u),w=1&y,T=0;for(y=y/2|0;y;y>>>=1)T++;return 1<<T+1+w},J.prototype.conjugate=function(u,h,y){if(!(y<=1))for(var w=0;w<y/2;w++){var T=u[w];u[w]=u[y-w-1],u[y-w-1]=T,T=h[w],h[w]=-h[y-w-1],h[y-w-1]=-T}},J.prototype.normalize13b=function(u,h){for(var y=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+y;u[w]=67108863&T,y=T<67108864?0:T/67108864|0}return u},J.prototype.convert13b=function(u,h,y,w){for(var T=0,D=0;D<h;D++)y[2*D]=8191&(T+=0|u[D]),y[2*D+1]=8191&(T>>>=13),T>>>=13;for(D=2*h;D<w;++D)y[D]=0;R(0===T),R(!(-8192&T))},J.prototype.stub=function(u){for(var h=new Array(u),y=0;y<u;y++)h[y]=0;return h},J.prototype.mulp=function(u,h,y){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),D=this.stub(w),j=new Array(w),A=new Array(w),l=new Array(w),g=new Array(w),G=new Array(w),H=new Array(w),ne=y.words;ne.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,g,w),this.transform(j,D,A,l,w,T),this.transform(g,D,G,H,w,T);for(var ce=0;ce<w;ce++){var Ae=A[ce]*G[ce]-l[ce]*H[ce];l[ce]=A[ce]*H[ce]+l[ce]*G[ce],A[ce]=Ae}return this.conjugate(A,l,w),this.transform(A,l,ne,D,w,T),this.conjugate(ne,D,w),this.normalize13b(ne,w),y.negative=u.negative^h.negative,y.length=u.length+h.length,y.strip()},S.prototype.mul=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},S.prototype.mulf=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),Q(this,u,h)},S.prototype.imul=function(u){return this.clone().mulTo(u,this)},S.prototype.imuln=function(u){R("number"==typeof u),R(u<67108864);for(var h=0,y=0;y<this.length;y++){var w=(0|this.words[y])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[y]=67108863&T}return 0!==h&&(this.words[y]=h,this.length++),this},S.prototype.muln=function(u){return this.clone().imuln(u)},S.prototype.sqr=function(){return this.mul(this)},S.prototype.isqr=function(){return this.imul(this.clone())},S.prototype.pow=function(u){var h=function V(k){for(var u=new Array(k.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(k.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new S(1);for(var y=this,w=0;w<h.length&&0===h[w];w++,y=y.sqr());if(++w<h.length)for(var T=y.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(y=y.mul(T));return y},S.prototype.iushln=function(u){R("number"==typeof u&&u>=0);var T,h=u%26,y=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|D,D=j>>>26-h}D&&(this.words[T]=D,this.length++)}if(0!==y){for(T=this.length-1;T>=0;T--)this.words[T+y]=this.words[T];for(T=0;T<y;T++)this.words[T]=0;this.length+=y}return this.strip()},S.prototype.ishln=function(u){return R(0===this.negative),this.iushln(u)},S.prototype.iushrn=function(u,h,y){var w;R("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,D=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,A=y;if(w-=D,w=Math.max(0,w),A){for(var l=0;l<D;l++)A.words[l]=this.words[l];A.length=D}if(0!==D)if(this.length>D)for(this.length-=D,l=0;l<this.length;l++)this.words[l]=this.words[l+D];else this.words[0]=0,this.length=1;var g=0;for(l=this.length-1;l>=0&&(0!==g||l>=w);l--){var G=0|this.words[l];this.words[l]=g<<26-T|G>>>T,g=G&j}return A&&0!==g&&(A.words[A.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},S.prototype.ishrn=function(u,h,y){return R(0===this.negative),this.iushrn(u,h,y)},S.prototype.shln=function(u){return this.clone().ishln(u)},S.prototype.ushln=function(u){return this.clone().iushln(u)},S.prototype.shrn=function(u){return this.clone().ishrn(u)},S.prototype.ushrn=function(u){return this.clone().iushrn(u)},S.prototype.testn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return!(this.length<=y||!(this.words[y]&1<<h))},S.prototype.imaskn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return R(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==h&&y++,this.length=Math.min(y,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},S.prototype.maskn=function(u){return this.clone().imaskn(u)},S.prototype.iaddn=function(u){return R("number"==typeof u),R(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},S.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},S.prototype.isubn=function(u){if(R("number"==typeof u),R(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},S.prototype.addn=function(u){return this.clone().iaddn(u)},S.prototype.subn=function(u){return this.clone().isubn(u)},S.prototype.iabs=function(){return this.negative=0,this},S.prototype.abs=function(){return this.clone().iabs()},S.prototype._ishlnsubmul=function(u,h,y){var T;this._expand(u.length+y);var D,j=0;for(T=0;T<u.length;T++){D=(0|this.words[T+y])+j;var A=(0|u.words[T])*h;j=((D-=67108863&A)>>26)-(A/67108864|0),this.words[T+y]=67108863&D}for(;T<this.length-y;T++)j=(D=(0|this.words[T+y])+j)>>26,this.words[T+y]=67108863&D;if(0===j)return this.strip();for(R(-1===j),j=0,T=0;T<this.length;T++)j=(D=-(0|this.words[T])+j)>>26,this.words[T]=67108863&D;return this.negative=1,this.strip()},S.prototype._wordDiv=function(u,h){var y,w=this.clone(),T=u,D=0|T.words[T.length-1];0!=(y=26-this._countBits(D))&&(T=T.ushln(y),w.iushln(y),D=0|T.words[T.length-1]);var l,A=w.length-T.length;if("mod"!==h){(l=new S(null)).length=A+1,l.words=new Array(l.length);for(var g=0;g<l.length;g++)l.words[g]=0}var G=w.clone()._ishlnsubmul(T,1,A);0===G.negative&&(w=G,l&&(l.words[A]=1));for(var H=A-1;H>=0;H--){var ne=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ne=Math.min(ne/D|0,67108863),w._ishlnsubmul(T,ne,H);0!==w.negative;)ne--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);l&&(l.words[H]=ne)}return l&&l.strip(),w.strip(),"div"!==h&&0!==y&&w.iushrn(y),{div:l||null,mod:w}},S.prototype.divmod=function(u,h,y){return R(!u.isZero()),this.isZero()?{div:new S(0),mod:new S(0)}:0!==this.negative&&0===u.negative?(D=this.neg().divmod(u,h),"mod"!==h&&(w=D.div.neg()),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(D=this.divmod(u.neg(),h),"mod"!==h&&(w=D.div.neg()),{div:w,mod:D.mod}):this.negative&u.negative?(D=this.neg().divmod(u.neg(),h),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.isub(u)),{div:D.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new S(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new S(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new S(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,D},S.prototype.div=function(u){return this.divmod(u,"div",!1).div},S.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},S.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},S.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var y=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),D=y.cmp(w);return D<0||1===T&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},S.prototype.modn=function(u){R(u<=67108863);for(var h=(1<<26)%u,y=0,w=this.length-1;w>=0;w--)y=(h*y+(0|this.words[w]))%u;return y},S.prototype.idivn=function(u){R(u<=67108863);for(var h=0,y=this.length-1;y>=0;y--){var w=(0|this.words[y])+67108864*h;this.words[y]=w/u|0,h=w%u}return this.strip()},S.prototype.divn=function(u){return this.clone().idivn(u)},S.prototype.egcd=function(u){R(0===u.negative),R(!u.isZero());var h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=new S(0),j=new S(1),A=0;h.isEven()&&y.isEven();)h.iushrn(1),y.iushrn(1),++A;for(var l=y.clone(),g=h.clone();!h.isZero();){for(var G=0,H=1;!(h.words[0]&H)&&G<26;++G,H<<=1);if(G>0)for(h.iushrn(G);G-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(l),T.isub(g)),w.iushrn(1),T.iushrn(1);for(var ne=0,ce=1;!(y.words[0]&ce)&&ne<26;++ne,ce<<=1);if(ne>0)for(y.iushrn(ne);ne-- >0;)(D.isOdd()||j.isOdd())&&(D.iadd(l),j.isub(g)),D.iushrn(1),j.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(D),T.isub(j)):(y.isub(h),D.isub(w),j.isub(T))}return{a:D,b:j,gcd:y.iushln(A)}},S.prototype._invmp=function(u){R(0===u.negative),R(!u.isZero());var G,h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=y.clone();h.cmpn(1)>0&&y.cmpn(1)>0;){for(var j=0,A=1;!(h.words[0]&A)&&j<26;++j,A<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(D),w.iushrn(1);for(var l=0,g=1;!(y.words[0]&g)&&l<26;++l,g<<=1);if(l>0)for(y.iushrn(l);l-- >0;)T.isOdd()&&T.iadd(D),T.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(T)):(y.isub(h),T.isub(w))}return(G=0===h.cmpn(1)?w:T).cmpn(0)<0&&G.iadd(u),G},S.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),y=u.clone();h.negative=0,y.negative=0;for(var w=0;h.isEven()&&y.isEven();w++)h.iushrn(1),y.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;y.isEven();)y.iushrn(1);var T=h.cmp(y);if(T<0){var D=h;h=y,y=D}else if(0===T||0===y.cmpn(1))break;h.isub(y)}return y.iushln(w)},S.prototype.invm=function(u){return this.egcd(u).a.umod(u)},S.prototype.isEven=function(){return!(1&this.words[0])},S.prototype.isOdd=function(){return!(1&~this.words[0])},S.prototype.andln=function(u){return this.words[0]&u},S.prototype.bincn=function(u){R("number"==typeof u);var h=u%26,y=(u-h)/26,w=1<<h;if(this.length<=y)return this._expand(y+1),this.words[y]|=w,this;for(var T=w,D=y;0!==T&&D<this.length;D++){var j=0|this.words[D];T=(j+=T)>>>26,this.words[D]=j&=67108863}return 0!==T&&(this.words[D]=T,this.length++),this},S.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},S.prototype.cmpn=function(u){var y,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)y=1;else{h&&(u=-u),R(u<=67108863,"Number is too big");var w=0|this.words[0];y=w===u?0:w<u?-1:1}return 0!==this.negative?0|-y:y},S.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},S.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,y=this.length-1;y>=0;y--){var w=0|this.words[y],T=0|u.words[y];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},S.prototype.gtn=function(u){return 1===this.cmpn(u)},S.prototype.gt=function(u){return 1===this.cmp(u)},S.prototype.gten=function(u){return this.cmpn(u)>=0},S.prototype.gte=function(u){return this.cmp(u)>=0},S.prototype.ltn=function(u){return-1===this.cmpn(u)},S.prototype.lt=function(u){return-1===this.cmp(u)},S.prototype.lten=function(u){return this.cmpn(u)<=0},S.prototype.lte=function(u){return this.cmp(u)<=0},S.prototype.eqn=function(u){return 0===this.cmpn(u)},S.prototype.eq=function(u){return 0===this.cmp(u)},S.red=function(u){return new we(u)},S.prototype.toRed=function(u){return R(!this.red,"Already a number in reduction context"),R(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},S.prototype.fromRed=function(){return R(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},S.prototype._forceRed=function(u){return this.red=u,this},S.prototype.forceRed=function(u){return R(!this.red,"Already a number in reduction context"),this._forceRed(u)},S.prototype.redAdd=function(u){return R(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},S.prototype.redIAdd=function(u){return R(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},S.prototype.redSub=function(u){return R(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},S.prototype.redISub=function(u){return R(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},S.prototype.redShl=function(u){return R(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},S.prototype.redMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},S.prototype.redIMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},S.prototype.redSqr=function(){return R(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},S.prototype.redISqr=function(){return R(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},S.prototype.redSqrt=function(){return R(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},S.prototype.redInvm=function(){return R(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},S.prototype.redNeg=function(){return R(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},S.prototype.redPow=function(u){return R(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var oe={k256:null,p224:null,p192:null,p25519:null};function se(k,u){this.name=k,this.p=new S(u,16),this.n=this.p.bitLength(),this.k=new S(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function pe(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var u=S._prime(k);this.m=u.p,this.prime=u}else R(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function De(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new S(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new S(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var y,h=u;do{this.split(h,this.tmp),y=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(y>this.n);var w=y<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},W(ae,se),ae.prototype.split=function(u,h){for(var y=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var D=u.words[9];for(h.words[h.length++]=D&y,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&y)<<4|D>>>22,D=j}u.words[T-10]=D>>>=22,u.length-=0===D&&u.length>10?10:9},ae.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,y=0;y<u.length;y++){var w=0|u.words[y];u.words[y]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},W(pe,se),W(le,se),W(ve,se),ve.prototype.imulK=function(u){for(var h=0,y=0;y<u.length;y++){var w=19*(0|u.words[y])+h,T=67108863&w;w>>>=26,u.words[y]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},S._prime=function(u){if(oe[u])return oe[u];var h;if("k256"===u)h=new ae;else if("p224"===u)h=new pe;else if("p192"===u)h=new le;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return oe[u]=h,h},we.prototype._verify1=function(u){R(0===u.negative,"red works only with positives"),R(u.red,"red works only with red numbers")},we.prototype._verify2=function(u,h){R(!(u.negative|h.negative),"red works only with positives"),R(u.red&&u.red===h.red,"red works only with red numbers")},we.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},we.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},we.prototype.add=function(u,h){this._verify2(u,h);var y=u.add(h);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},we.prototype.iadd=function(u,h){this._verify2(u,h);var y=u.iadd(h);return y.cmp(this.m)>=0&&y.isub(this.m),y},we.prototype.sub=function(u,h){this._verify2(u,h);var y=u.sub(h);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},we.prototype.isub=function(u,h){this._verify2(u,h);var y=u.isub(h);return y.cmpn(0)<0&&y.iadd(this.m),y},we.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},we.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},we.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},we.prototype.isqr=function(u){return this.imul(u,u.clone())},we.prototype.sqr=function(u){return this.mul(u,u)},we.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(R(h%2==1),3===h){var y=this.m.add(new S(1)).iushrn(2);return this.pow(u,y)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);R(!w.isZero());var D=new S(1).toRed(this),j=D.redNeg(),A=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new S(2*l*l).toRed(this);0!==this.pow(l,A).cmp(j);)l.redIAdd(j);for(var g=this.pow(l,w),G=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ne=T;0!==H.cmp(D);){for(var ce=H,Ae=0;0!==ce.cmp(D);Ae++)ce=ce.redSqr();R(Ae<ne);var ke=this.pow(g,new S(1).iushln(ne-Ae-1));G=G.redMul(ke),g=ke.redSqr(),H=H.redMul(g),ne=Ae}return G},we.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(u,h){if(h.isZero())return new S(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new S(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var D=w[0],j=0,A=0,l=h.bitLength()%26;for(0===l&&(l=26),T=h.length-1;T>=0;T--){for(var g=h.words[T],G=l-1;G>=0;G--){var H=g>>G&1;D!==w[0]&&(D=this.sqr(D)),0!==H||0!==j?(j<<=1,j|=H,(4==++A||0===T&&0===G)&&(D=this.mul(D,w[j]),A=0,j=0)):A=0}l=26}return D},we.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},we.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},S.mont=function(u){return new De(u)},W(De,we),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new S(0)._forceRed(this);var y=u.mul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Le=E.nmd(Le),this)},48967:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.ephemeralKeySize=z.symmetricNonceLength=z.symmetricAlgorithm=z.isHkdfKeyCompressed=z.isEphemeralKeyCompressed=z.ellipticCurve=z.ECIES_CONFIG=void 0;var m=E(29277);z.ECIES_CONFIG=new(function(){return function $(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16}}()),z.ellipticCurve=function(){return z.ECIES_CONFIG.ellipticCurve},z.isEphemeralKeyCompressed=function(){return z.ECIES_CONFIG.isEphemeralKeyCompressed},z.isHkdfKeyCompressed=function(){return z.ECIES_CONFIG.isHkdfKeyCompressed},z.symmetricAlgorithm=function(){return z.ECIES_CONFIG.symmetricAlgorithm},z.symmetricNonceLength=function(){return z.ECIES_CONFIG.symmetricNonceLength},z.ephemeralKeySize=function(){var $={secp256k1:z.ECIES_CONFIG.isEphemeralKeyCompressed?m.COMPRESSED_PUBLIC_KEY_SIZE:m.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:m.CURVE25519_PUBLIC_KEY_SIZE,ed25519:m.CURVE25519_PUBLIC_KEY_SIZE};if(z.ECIES_CONFIG.ellipticCurve in $)return $[z.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}},29277:(Le,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.AEAD_TAG_LENGTH=z.XCHACHA20_NONCE_LENGTH=z.CURVE25519_PUBLIC_KEY_SIZE=z.ETH_PUBLIC_KEY_SIZE=z.UNCOMPRESSED_PUBLIC_KEY_SIZE=z.COMPRESSED_PUBLIC_KEY_SIZE=z.SECRET_KEY_LENGTH=void 0,z.SECRET_KEY_LENGTH=32,z.COMPRESSED_PUBLIC_KEY_SIZE=33,z.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,z.ETH_PUBLIC_KEY_SIZE=64,z.CURVE25519_PUBLIC_KEY_SIZE=32,z.XCHACHA20_NONCE_LENGTH=24,z.AEAD_TAG_LENGTH=16},63397:(Le,z,E)=>{"use strict";z.VV=z.Yc=z.w=void 0;var x=E(23790),R=E(48967),W=E(40774),S=E(77399);z.w=function L(F,I){var te,X=new W.PrivateKey,V=F instanceof Uint8Array?new W.PublicKey(F):W.PublicKey.fromHex(F),Z=X.encapsulate(V),re=(0,S.aesEncrypt)(Z,I);return te=(0,R.isEphemeralKeyCompressed)()?X.publicKey.compressed:X.publicKey.uncompressed,Buffer.from((0,x.concatBytes)(te,re))},z.Yc=function M(F,I){var X=F instanceof Uint8Array?new W.PrivateKey(F):W.PrivateKey.fromHex(F),V=(0,R.ephemeralKeySize)(),Z=new W.PublicKey(I.subarray(0,V)),re=I.subarray(V),te=Z.decapsulate(X);return Buffer.from((0,S.aesDecrypt)(te,re))};var N=E(48967);Object.defineProperty(z,"VV",{enumerable:!0,get:function(){return N.ECIES_CONFIG}});E(40774)},1210:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PrivateKey=void 0;var m=E(23790),x=E(48967),R=E(77399),W=E(40762),S=function(){function L(M){var N=void 0===M?(0,R.getValidSecret)():M;if(!(0,R.isValidPrivateKey)(N))throw new Error("Invalid private key");this.data=N,this.publicKey=new W.PublicKey((0,R.getPublicKey)(N))}return L.fromHex=function(M){return new L((0,R.decodeHex)(M))},Object.defineProperty(L.prototype,"secret",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),L.prototype.toHex=function(){return(0,m.bytesToHex)(this.data)},L.prototype.encapsulate=function(M){var N,$;return(0,x.isHkdfKeyCompressed)()?(N=this.publicKey.compressed,$=this.multiply(M,!0)):(N=this.publicKey.uncompressed,$=this.multiply(M,!1)),(0,R.getSharedKey)(N,$)},L.prototype.multiply=function(M,N){return void 0===N&&(N=!1),(0,R.getSharedPoint)(this.data,M.compressed,N)},L.prototype.equals=function(M){return(0,m.equalBytes)(this.data,M.data)},L}();z.PrivateKey=S},40762:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PublicKey=void 0;var m=E(23790),x=E(48967),R=E(77399),W=function(){function S(L){this.data=(0,R.convertPublicKeyFormat)(L,!0)}return S.fromHex=function(L){return new S((0,R.hexToPublicKey)(L))},Object.defineProperty(S.prototype,"uncompressed",{get:function(){return Buffer.from((0,R.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"compressed",{get:function(){return Buffer.from(this.data)},enumerable:!1,configurable:!0}),S.prototype.toHex=function(L){return void 0===L&&(L=!0),(0,m.bytesToHex)(L?this.data:this.uncompressed)},S.prototype.decapsulate=function(L){var M,N;return(0,x.isHkdfKeyCompressed)()?(M=this.data,N=L.multiply(this,!0)):(M=this.uncompressed,N=L.multiply(this,!1)),(0,R.getSharedKey)(M,N)},S.prototype.equals=function(L){return(0,m.equalBytes)(this.data,L.data)},S}();z.PublicKey=W},40774:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.PublicKey=z.PrivateKey=void 0;var m=E(1210);Object.defineProperty(z,"PrivateKey",{enumerable:!0,get:function(){return m.PrivateKey}});var x=E(40762);Object.defineProperty(z,"PublicKey",{enumerable:!0,get:function(){return x.PublicKey}})},1849:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.aes256gcm=void 0;var m=E(23790),x=E(91426),R=E(29277);z.aes256gcm=function W(S,L,M){return{tagLength:R.AEAD_TAG_LENGTH,encrypt:function(F){var I=(0,x.createCipheriv)("aes-256-gcm",S,L);M&&I.setAAD(M);var X=I.update(F),V=I.final();return(0,m.concatBytes)(X,V,I.getAuthTag())},decrypt:function(F){var I=F.subarray(0,F.length-R.AEAD_TAG_LENGTH),X=F.subarray(-R.AEAD_TAG_LENGTH),V=(0,x.createDecipheriv)("aes-256-gcm",S,L);M&&V.setAAD(M),V.setAuthTag(X);var Z=V.update(I),re=V.final();return(0,m.concatBytes)(Z,re)}}}},77553:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.hexToPublicKey=z.convertPublicKeyFormat=z.getSharedPoint=z.getSharedKey=z.getPublicKey=z.isValidPrivateKey=z.getValidSecret=void 0;var m=E(23790),x=E(42098),R=E(57340),W=E(91717),S=E(48967),L=E(29277),M=E(99666),N=E(63364);function F(Q){return te(function(J){return J.utils.isValidPrivateKey(Q)},function(){return!0},function(){return!0})}function te(Q,J,oe){if("secp256k1"===(0,S.ellipticCurve)())return Q(W.secp256k1);if("x25519"===(0,S.ellipticCurve)())return J(R.x25519);if("ed25519"===(0,S.ellipticCurve)())return oe(R.ed25519);throw new Error("Not implemented")}z.getValidSecret=function $(){var Q;do{Q=(0,x.randomBytes)(L.SECRET_KEY_LENGTH)}while(!F(Q));return Q},z.isValidPrivateKey=F,z.getPublicKey=function I(Q){return te(function(J){return J.getPublicKey(Q)},function(J){return J.getPublicKey(Q)},function(J){return J.getPublicKey(Q)})},z.getSharedKey=function X(Q,J){return(0,N.deriveKey)((0,m.concatBytes)(Q,J))},z.getSharedPoint=function V(Q,J,oe){return te(function(se){return se.getSharedSecret(Q,J,oe)},function(se){return se.getSharedSecret(Q,J)},function(se){var ae=se.utils.getExtendedPublicKey(Q).scalar;return se.ExtendedPoint.fromHex(J).multiply(ae).toRawBytes()})},z.convertPublicKeyFormat=function Z(Q,J){return te(function(oe){return oe.getSharedSecret(BigInt(1),Q,J)},function(){return Q},function(){return Q})},z.hexToPublicKey=function re(Q){var J=(0,M.decodeHex)(Q);return te(function(){if(J.length===L.ETH_PUBLIC_KEY_SIZE){var oe=new Uint8Array(1+J.length);return oe.set([4]),oe.set(J,1),oe}return J},function(){return J},function(){return J})}},99666:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.decodeHex=z.remove0x=void 0;var m=E(23790);function x(W){return W.startsWith("0x")||W.startsWith("0X")?W.slice(2):W}z.remove0x=x,z.decodeHex=function R(W){return(0,m.hexToBytes)(x(W))}},77399:function(Le,z,E){"use strict";var m=this&&this.__createBinding||(Object.create?function(R,W,S,L){void 0===L&&(L=S);var M=Object.getOwnPropertyDescriptor(W,S);(!M||("get"in M?!W.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return W[S]}}),Object.defineProperty(R,L,M)}:function(R,W,S,L){void 0===L&&(L=S),R[L]=W[S]}),x=this&&this.__exportStar||function(R,W){for(var S in R)"default"!==S&&!Object.prototype.hasOwnProperty.call(W,S)&&m(W,R,S)};Object.defineProperty(z,"__esModule",{value:!0}),x(E(77553),z),x(E(99666),z),x(E(63364),z)},63364:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.deriveKey=z.aesDecrypt=z.aesEncrypt=void 0;var m=E(59219),x=E(23790),R=E(42098),W=E(57334),S=E(1806),L=E(48967),M=E(29277),N=E(1849);function X(re,te,Q){var J=(0,L.symmetricAlgorithm)(),oe=re?V:Z;if("aes-256-gcm"===J)return oe(N.aes256gcm,te,Q,(0,L.symmetricNonceLength)());if("xchacha20"===J)return oe(m.xchacha20poly1305,te,Q,M.XCHACHA20_NONCE_LENGTH);throw new Error("Not implemented")}function V(re,te,Q,J){var oe=(0,R.randomBytes)(J),ae=re(te,oe).encrypt(Q),pe=ae.subarray(0,ae.length-M.AEAD_TAG_LENGTH),le=ae.subarray(-M.AEAD_TAG_LENGTH);return(0,x.concatBytes)(oe,le,pe)}function Z(re,te,Q,J){var oe=J+M.AEAD_TAG_LENGTH,se=Q.subarray(0,J),ae=Q.subarray(J,oe),pe=Q.subarray(oe),le=re(te,Uint8Array.from(se)),ve=(0,x.concatBytes)(pe,ae);return le.decrypt(ve)}z.aesEncrypt=function $(re,te){return X(!0,re,te)},z.aesDecrypt=function F(re,te){return X(!1,re,te)},z.deriveKey=function I(re){return(0,W.hkdf)(S.sha256,re,void 0,void 0,32)}},10475:(Le,z)=>{"use strict";function E(M){if(!Number.isSafeInteger(M)||M<0)throw new Error(`Wrong positive integer: ${M}`)}function m(M){if("boolean"!=typeof M)throw new Error(`Expected boolean, not ${M}`)}function x(M,...N){if(!(M instanceof Uint8Array))throw new Error("Expected Uint8Array");if(N.length>0&&!N.includes(M.length))throw new Error(`Expected Uint8Array of length ${N}, not of length=${M.length}`)}function R(M){if("function"!=typeof M||"function"!=typeof M.create)throw new Error("hash must be wrapped by utils.wrapConstructor");E(M.outputLen),E(M.blockLen)}function W(M,N=!0){if(M.destroyed)throw new Error("Hash instance has been destroyed");if(N&&M.finished)throw new Error("Hash#digest() has already been called")}function S(M,N){x(M);const $=N.outputLen;if(M.length<$)throw new Error(`digestInto() expects output buffer of length at least ${$}`)}Object.defineProperty(z,"__esModule",{value:!0}),z.output=z.exists=z.hash=z.bytes=z.bool=z.number=void 0,z.number=E,z.bool=m,z.bytes=x,z.hash=R,z.exists=W,z.output=S,z.default={number:E,bool:m,bytes:x,hash:R,exists:W,output:S}},17035:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.poly1305=z.wrapConstructorWithKey=void 0;const m=E(23790),x=E(10475),R=(L,M)=>255&L[M++]|(255&L[M++])<<8;class W{constructor(M){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,M=(0,m.toBytes)(M),(0,m.ensureBytes)(M,32);const N=R(M,0),$=R(M,2),F=R(M,4),I=R(M,6),X=R(M,8),V=R(M,10),Z=R(M,12),re=R(M,14);this.r[0]=8191&N,this.r[1]=8191&(N>>>13|$<<3),this.r[2]=7939&($>>>10|F<<6),this.r[3]=8191&(F>>>7|I<<9),this.r[4]=255&(I>>>4|X<<12),this.r[5]=X>>>1&8190,this.r[6]=8191&(X>>>14|V<<2),this.r[7]=8065&(V>>>11|Z<<5),this.r[8]=8191&(Z>>>8|re<<8),this.r[9]=re>>>5&127;for(let te=0;te<8;te++)this.pad[te]=R(M,16+2*te)}process(M,N,$=!1){const F=$?0:2048,{h:I,r:X}=this,V=X[0],Z=X[1],re=X[2],te=X[3],Q=X[4],J=X[5],oe=X[6],se=X[7],ae=X[8],pe=X[9],le=R(M,N+0),ve=R(M,N+2),we=R(M,N+4),De=R(M,N+6),k=R(M,N+8),u=R(M,N+10),h=R(M,N+12),y=R(M,N+14);let w=I[0]+(8191&le),T=I[1]+(8191&(le>>>13|ve<<3)),D=I[2]+(8191&(ve>>>10|we<<6)),j=I[3]+(8191&(we>>>7|De<<9)),A=I[4]+(8191&(De>>>4|k<<12)),l=I[5]+(k>>>1&8191),g=I[6]+(8191&(k>>>14|u<<2)),G=I[7]+(8191&(u>>>11|h<<5)),H=I[8]+(8191&(h>>>8|y<<8)),ne=I[9]+(y>>>5|F),ce=0,Ae=ce+w*V+T*(5*pe)+D*(5*ae)+j*(5*se)+A*(5*oe);ce=Ae>>>13,Ae&=8191,Ae+=l*(5*J)+g*(5*Q)+G*(5*te)+H*(5*re)+ne*(5*Z),ce+=Ae>>>13,Ae&=8191;let ke=ce+w*Z+T*V+D*(5*pe)+j*(5*ae)+A*(5*se);ce=ke>>>13,ke&=8191,ke+=l*(5*oe)+g*(5*J)+G*(5*Q)+H*(5*te)+ne*(5*re),ce+=ke>>>13,ke&=8191;let Fe=ce+w*re+T*Z+D*V+j*(5*pe)+A*(5*ae);ce=Fe>>>13,Fe&=8191,Fe+=l*(5*se)+g*(5*oe)+G*(5*J)+H*(5*Q)+ne*(5*te),ce+=Fe>>>13,Fe&=8191;let Ee=ce+w*te+T*re+D*Z+j*V+A*(5*pe);ce=Ee>>>13,Ee&=8191,Ee+=l*(5*ae)+g*(5*se)+G*(5*oe)+H*(5*J)+ne*(5*Q),ce+=Ee>>>13,Ee&=8191;let ge=ce+w*Q+T*te+D*re+j*Z+A*V;ce=ge>>>13,ge&=8191,ge+=l*(5*pe)+g*(5*ae)+G*(5*se)+H*(5*oe)+ne*(5*J),ce+=ge>>>13,ge&=8191;let Oe=ce+w*J+T*Q+D*te+j*re+A*Z;ce=Oe>>>13,Oe&=8191,Oe+=l*V+g*(5*pe)+G*(5*ae)+H*(5*se)+ne*(5*oe),ce+=Oe>>>13,Oe&=8191;let ye=ce+w*oe+T*J+D*Q+j*te+A*re;ce=ye>>>13,ye&=8191,ye+=l*Z+g*V+G*(5*pe)+H*(5*ae)+ne*(5*se),ce+=ye>>>13,ye&=8191;let Se=ce+w*se+T*oe+D*J+j*Q+A*te;ce=Se>>>13,Se&=8191,Se+=l*re+g*Z+G*V+H*(5*pe)+ne*(5*ae),ce+=Se>>>13,Se&=8191;let he=ce+w*ae+T*se+D*oe+j*J+A*Q;ce=he>>>13,he&=8191,he+=l*te+g*re+G*Z+H*V+ne*(5*pe),ce+=he>>>13,he&=8191;let fe=ce+w*pe+T*ae+D*se+j*oe+A*J;ce=fe>>>13,fe&=8191,fe+=l*Q+g*te+G*re+H*Z+ne*V,ce+=fe>>>13,fe&=8191,ce=(ce<<2)+ce|0,ce=ce+Ae|0,Ae=8191&ce,ce>>>=13,ke+=ce,I[0]=Ae,I[1]=ke,I[2]=Fe,I[3]=Ee,I[4]=ge,I[5]=Oe,I[6]=ye,I[7]=Se,I[8]=he,I[9]=fe}finalize(){const{h:M,pad:N}=this,$=new Uint16Array(10);let F=M[1]>>>13;M[1]&=8191;for(let V=2;V<10;V++)M[V]+=F,F=M[V]>>>13,M[V]&=8191;M[0]+=5*F,F=M[0]>>>13,M[0]&=8191,M[1]+=F,F=M[1]>>>13,M[1]&=8191,M[2]+=F,$[0]=M[0]+5,F=$[0]>>>13,$[0]&=8191;for(let V=1;V<10;V++)$[V]=M[V]+F,F=$[V]>>>13,$[V]&=8191;$[9]-=8192;let I=(1^F)-1;for(let V=0;V<10;V++)$[V]&=I;I=~I;for(let V=0;V<10;V++)M[V]=M[V]&I|$[V];M[0]=65535&(M[0]|M[1]<<13),M[1]=65535&(M[1]>>>3|M[2]<<10),M[2]=65535&(M[2]>>>6|M[3]<<7),M[3]=65535&(M[3]>>>9|M[4]<<4),M[4]=65535&(M[4]>>>12|M[5]<<1|M[6]<<14),M[5]=65535&(M[6]>>>2|M[7]<<11),M[6]=65535&(M[7]>>>5|M[8]<<8),M[7]=65535&(M[8]>>>8|M[9]<<5);let X=M[0]+N[0];M[0]=65535&X;for(let V=1;V<8;V++)X=(M[V]+N[V]|0)+(X>>>16)|0,M[V]=65535&X}update(M){x.default.exists(this);const{buffer:N,blockLen:$}=this,F=(M=(0,m.toBytes)(M)).length;for(let I=0;I<F;){const X=Math.min($-this.pos,F-I);if(X!==$)N.set(M.subarray(I,I+X),this.pos),this.pos+=X,I+=X,this.pos===$&&(this.process(N,0,!1),this.pos=0);else for(;$<=F-I;I+=$)this.process(M,I)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(M){x.default.exists(this),x.default.output(M,this),this.finished=!0;const{buffer:N,h:$}=this;let{pos:F}=this;if(F){for(N[F++]=1;F<16;F++)N[F]=0;this.process(N,0,!0)}this.finalize();let I=0;for(let X=0;X<8;X++)M[I++]=$[X]>>>0,M[I++]=$[X]>>>8;return M}digest(){const{buffer:M,outputLen:N}=this;this.digestInto(M);const $=M.slice(0,N);return this.destroy(),$}}function S(L){const M=($,F)=>L(F).update((0,m.toBytes)($)).digest(),N=L(new Uint8Array(32));return M.outputLen=N.outputLen,M.blockLen=N.blockLen,M.create=$=>L($),M}z.wrapConstructorWithKey=S,z.poly1305=S(L=>new W(L))},70580:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.salsaBasic=void 0;const m=E(10475),x=E(23790),R=(0,x.utf8ToBytes)("expand 16-byte k"),W=(0,x.utf8ToBytes)("expand 32-byte k"),S=(0,x.u32)(R),L=(0,x.u32)(W),M=$=>!($.byteOffset%4);z.salsaBasic=$=>{const{core:F,rounds:I,counterRight:X,counterLen:V,allow128bitKeys:Z,extendNonceFn:re,blockLen:te}=(0,x.checkOpts)({rounds:20,counterRight:!1,counterLen:8,allow128bitKeys:!0,blockLen:64},$);m.default.number(V),m.default.number(I),m.default.number(te),m.default.bool(X),m.default.bool(Z);const Q=te/4;if(te%4!=0)throw new Error("Salsa/ChaCha: blockLen must be aligned to 4 bytes");return(J,oe,se,ae,pe=0)=>{if(m.default.bytes(J),m.default.bytes(oe),m.default.bytes(se),ae||(ae=new Uint8Array(se.length)),m.default.bytes(ae),m.default.number(pe),pe<0||pe>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");if(ae.length<se.length)throw new Error(`Salsa/ChaCha: output (${ae.length}) is shorter than data (${se.length})`);const le=[];let ve,we;if(32===J.length)M(J)?ve=J:(ve=J.slice(),le.push(ve)),we=L;else{if(16!==J.length||!Z)throw new Error(`Salsa/ChaCha: invalid 32-byte key, got length=${J.length}`);ve=new Uint8Array(32),ve.set(J),ve.set(J,16),we=S,le.push(ve)}if(M(oe)||(oe=oe.slice(),le.push(oe)),re){if(oe.length<=16)throw new Error("Salsa/ChaCha: extended nonce must be bigger than 16 bytes");ve=re(we,ve,oe.subarray(0,16),new Uint8Array(32)),le.push(ve),oe=oe.subarray(16)}const De=16-V;if(oe.length!==De)throw new Error(`Salsa/ChaCha: nonce must be ${De} or 16 bytes`);if(12!==De){const j=new Uint8Array(12);j.set(oe,X?0:12-oe.length),le.push(oe=j)}const k=new Uint8Array(te),u=(0,x.u32)(k),h=(0,x.u32)(ve),y=(0,x.u32)(oe),w=M(se)&&(0,x.u32)(se),T=M(ae)&&(0,x.u32)(ae);le.push(u);const D=se.length;for(let j=0,A=pe;j<D;A++){if(F(we,h,y,u,A,I),A>=2**32-1)throw new Error("Salsa/ChaCha: counter overflow");const l=Math.min(te,D-j);if(l===te&&T&&w){const g=j/4;if(j%4!=0)throw new Error("Salsa/ChaCha: invalid block position");for(let G=0;G<Q;G++)T[g+G]=w[g+G]^u[G];j+=te}else{for(let g=0;g<l;g++)ae[j+g]=se[j+g]^k[g];j+=l}}for(let j=0;j<le.length;j++)le[j].fill(0);return ae}}},59219:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.xchacha20poly1305=z.chacha20poly1305=z._poly1305_aead=z.chacha12=z.chacha8=z.xchacha20=z.chacha20=z.chacha20orig=z.hchacha=void 0;const m=E(23790),x=E(17035),R=E(70580),W=(I,X)=>I<<X|I>>>32-X;function S(I,X,V,Z,re,te=20){let Q=I[0],J=I[1],oe=I[2],se=I[3],ae=X[0],pe=X[1],le=X[2],ve=X[3],we=X[4],De=X[5],k=X[6],u=X[7],h=re,y=V[0],w=V[1],T=V[2],D=Q,j=J,A=oe,l=se,g=ae,G=pe,H=le,ne=ve,ce=we,Ae=De,ke=k,Fe=u,Ee=h,ge=y,Oe=w,ye=T;for(let he=0;he<te;he+=2)D=D+g|0,Ee=W(Ee^D,16),ce=ce+Ee|0,g=W(g^ce,12),D=D+g|0,Ee=W(Ee^D,8),ce=ce+Ee|0,g=W(g^ce,7),j=j+G|0,ge=W(ge^j,16),Ae=Ae+ge|0,G=W(G^Ae,12),j=j+G|0,ge=W(ge^j,8),Ae=Ae+ge|0,G=W(G^Ae,7),A=A+H|0,Oe=W(Oe^A,16),ke=ke+Oe|0,H=W(H^ke,12),A=A+H|0,Oe=W(Oe^A,8),ke=ke+Oe|0,H=W(H^ke,7),l=l+ne|0,ye=W(ye^l,16),Fe=Fe+ye|0,ne=W(ne^Fe,12),l=l+ne|0,ye=W(ye^l,8),Fe=Fe+ye|0,ne=W(ne^Fe,7),D=D+G|0,ye=W(ye^D,16),ke=ke+ye|0,G=W(G^ke,12),D=D+G|0,ye=W(ye^D,8),ke=ke+ye|0,G=W(G^ke,7),j=j+H|0,Ee=W(Ee^j,16),Fe=Fe+Ee|0,H=W(H^Fe,12),j=j+H|0,Ee=W(Ee^j,8),Fe=Fe+Ee|0,H=W(H^Fe,7),A=A+ne|0,ge=W(ge^A,16),ce=ce+ge|0,ne=W(ne^ce,12),A=A+ne|0,ge=W(ge^A,8),ce=ce+ge|0,ne=W(ne^ce,7),l=l+g|0,Oe=W(Oe^l,16),Ae=Ae+Oe|0,g=W(g^Ae,12),l=l+g|0,Oe=W(Oe^l,8),Ae=Ae+Oe|0,g=W(g^Ae,7);let Se=0;Z[Se++]=Q+D|0,Z[Se++]=J+j|0,Z[Se++]=oe+A|0,Z[Se++]=se+l|0,Z[Se++]=ae+g|0,Z[Se++]=pe+G|0,Z[Se++]=le+H|0,Z[Se++]=ve+ne|0,Z[Se++]=we+ce|0,Z[Se++]=De+Ae|0,Z[Se++]=k+ke|0,Z[Se++]=u+Fe|0,Z[Se++]=h+Ee|0,Z[Se++]=y+ge|0,Z[Se++]=w+Oe|0,Z[Se++]=T+ye|0}function L(I,X,V,Z){const re=(0,m.u32)(X),te=(0,m.u32)(V),Q=(0,m.u32)(Z);let J=I[0],oe=I[1],se=I[2],ae=I[3],pe=re[0],le=re[1],ve=re[2],we=re[3],De=re[4],k=re[5],u=re[6],h=re[7],y=te[0],w=te[1],T=te[2],D=te[3];for(let j=0;j<20;j+=2)J=J+pe|0,y=W(y^J,16),De=De+y|0,pe=W(pe^De,12),J=J+pe|0,y=W(y^J,8),De=De+y|0,pe=W(pe^De,7),oe=oe+le|0,w=W(w^oe,16),k=k+w|0,le=W(le^k,12),oe=oe+le|0,w=W(w^oe,8),k=k+w|0,le=W(le^k,7),se=se+ve|0,T=W(T^se,16),u=u+T|0,ve=W(ve^u,12),se=se+ve|0,T=W(T^se,8),u=u+T|0,ve=W(ve^u,7),ae=ae+we|0,D=W(D^ae,16),h=h+D|0,we=W(we^h,12),ae=ae+we|0,D=W(D^ae,8),h=h+D|0,we=W(we^h,7),J=J+le|0,D=W(D^J,16),u=u+D|0,le=W(le^u,12),J=J+le|0,D=W(D^J,8),u=u+D|0,le=W(le^u,7),oe=oe+ve|0,y=W(y^oe,16),h=h+y|0,ve=W(ve^h,12),oe=oe+ve|0,y=W(y^oe,8),h=h+y|0,ve=W(ve^h,7),se=se+we|0,w=W(w^se,16),De=De+w|0,we=W(we^De,12),se=se+we|0,w=W(w^se,8),De=De+w|0,we=W(we^De,7),ae=ae+pe|0,T=W(T^ae,16),k=k+T|0,pe=W(pe^k,12),ae=ae+pe|0,T=W(T^ae,8),k=k+T|0,pe=W(pe^k,7);return Q[0]=J,Q[1]=oe,Q[2]=se,Q[3]=ae,Q[4]=y,Q[5]=w,Q[6]=T,Q[7]=D,Z}z.hchacha=L,z.chacha20orig=(0,R.salsaBasic)({core:S,counterRight:!1,counterLen:8}),z.chacha20=(0,R.salsaBasic)({core:S,counterRight:!1,counterLen:4,allow128bitKeys:!1}),z.xchacha20=(0,R.salsaBasic)({core:S,counterRight:!1,counterLen:8,extendNonceFn:L,allow128bitKeys:!1}),z.chacha8=(0,R.salsaBasic)({core:S,counterRight:!1,counterLen:4,rounds:8}),z.chacha12=(0,R.salsaBasic)({core:S,counterRight:!1,counterLen:4,rounds:12});const M=new Uint8Array(16),N=(I,X)=>{I.update(X);const V=X.length%16;V&&I.update(M.subarray(V))},$=(I,X,V,Z,re)=>{const te=I(X,V,new Uint8Array(32)),Q=x.poly1305.create(te);re&&N(Q,re),N(Q,Z);const J=new Uint8Array(16),oe=(0,m.createView)(J);(0,m.setBigUint64)(oe,0,BigInt(re?re.length:0),!0),(0,m.setBigUint64)(oe,8,BigInt(Z.length),!0),Q.update(J);const se=Q.digest();return te.fill(0),se};z._poly1305_aead=I=>(X,V,Z)=>((0,m.ensureBytes)(X,32),(0,m.ensureBytes)(V),{tagLength:16,encrypt:(te,Q)=>{const J=te.length,oe=J+16;Q?(0,m.ensureBytes)(Q,oe):Q=new Uint8Array(oe),I(X,V,te,Q,1);const se=$(I,X,V,Q.subarray(0,-16),Z);return Q.set(se,J),Q},decrypt:(te,Q)=>{const J=te.length,oe=J-16;if(J<16)throw new Error("encrypted data must be at least 16 bytes");Q?(0,m.ensureBytes)(Q,oe):Q=new Uint8Array(oe);const se=te.subarray(0,-16),ae=te.subarray(-16),pe=$(I,X,V,se,Z);if(!(0,m.equalBytes)(ae,pe))throw new Error("invalid tag");return I(X,V,se,Q,1),Q}}),z.chacha20poly1305=(0,z._poly1305_aead)(z.chacha20),z.xchacha20poly1305=(0,z._poly1305_aead)(z.xchacha20)},23790:(Le,z,E)=>{"use strict";var m=E(29293).default;Object.defineProperty(z,"__esModule",{value:!0}),z.setBigUint64=z.Hash=z.equalBytes=z.ensureBytes=z.checkOpts=z.concatBytes=z.toBytes=z.bytesToUtf8=z.utf8ToBytes=z.asyncLoop=z.nextTick=z.hexToBytes=z.bytesToHex=z.isLE=z.createView=z.u32=z.u16=z.u8=void 0;const x=le=>le instanceof Uint8Array;if(z.u8=le=>new Uint8Array(le.buffer,le.byteOffset,le.byteLength),z.u16=le=>new Uint16Array(le.buffer,le.byteOffset,Math.floor(le.byteLength/2)),z.u32=le=>new Uint32Array(le.buffer,le.byteOffset,Math.floor(le.byteLength/4)),z.createView=le=>new DataView(le.buffer,le.byteOffset,le.byteLength),z.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!z.isLE)throw new Error("Non little-endian hardware is not supported");const M=Array.from({length:256},(le,ve)=>ve.toString(16).padStart(2,"0"));function X(){return(X=m(function*(le,ve,we){let De=Date.now();for(let k=0;k<le;k++){we(k);const u=Date.now()-De;u>=0&&u<ve||(yield(0,z.nextTick)(),De+=u)}})).apply(this,arguments)}function V(le){if("string"!=typeof le)throw new Error("utf8ToBytes expected string, got "+typeof le);return new Uint8Array((new TextEncoder).encode(le))}z.bytesToHex=function N(le){if(!x(le))throw new Error("Uint8Array expected");let ve="";for(let we=0;we<le.length;we++)ve+=M[le[we]];return ve},z.hexToBytes=function $(le){if("string"!=typeof le)throw new Error("hex string expected, got "+typeof le);const ve=le.length;if(ve%2)throw new Error("padded hex string expected, got unpadded hex of length "+ve);const we=new Uint8Array(ve/2);for(let De=0;De<we.length;De++){const k=2*De,u=le.slice(k,k+2),h=Number.parseInt(u,16);if(Number.isNaN(h)||h<0)throw new Error("Invalid byte sequence");we[De]=h}return we},z.nextTick=function(){var le=m(function*(){});return function(){return le.apply(this,arguments)}}(),z.asyncLoop=function I(le,ve,we){return X.apply(this,arguments)},z.utf8ToBytes=V,z.bytesToUtf8=function Z(le){return(new TextDecoder).decode(le)},z.toBytes=function re(le){if("string"==typeof le&&(le=V(le)),!x(le))throw new Error("expected Uint8Array, got "+typeof le);return le},z.concatBytes=function te(...le){const ve=new Uint8Array(le.reduce((De,k)=>De+k.length,0));let we=0;return le.forEach(De=>{if(!x(De))throw new Error("Uint8Array expected");ve.set(De,we),we+=De.length}),ve},z.checkOpts=function J(le,ve){if(void 0!==ve&&("object"!=typeof ve||!(le=>"[object Object]"===Object.prototype.toString.call(le)&&le.constructor===Object)(ve)))throw new Error("options must be object or undefined");return Object.assign(le,ve)},z.ensureBytes=function oe(le,ve){if(!(le instanceof Uint8Array))throw new Error("Uint8Array expected");if("number"==typeof ve&&le.length!==ve)throw new Error(`Uint8Array length ${ve} expected`)},z.equalBytes=function se(le,ve){if(le.length!==ve.length)throw new Error("equalBytes: Different size of Uint8Arrays");let we=!0;for(let De=0;De<le.length;De++)we&&(we=le[De]===ve[De]);return we},z.Hash=class ae{},z.setBigUint64=function pe(le,ve,we,De){if("function"==typeof le.setBigUint64)return le.setBigUint64(ve,we,De);const k=BigInt(32),u=BigInt(4294967295),h=Number(we>>k&u),y=Number(we&u),T=De?0:4;le.setUint32(ve+(De?4:0),h,De),le.setUint32(ve+T,y,De)}},89742:(Le,z)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.crypto=void 0,z.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},42098:(Le,z,E)=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getWebcryptoSubtle=z.randomBytes=void 0;const m=E(89742);z.randomBytes=function x(W=32){if(m.crypto&&"function"==typeof m.crypto.getRandomValues)return m.crypto.getRandomValues(new Uint8Array(W));throw new Error("crypto.getRandomValues must be defined")},z.getWebcryptoSubtle=function R(){if(m.crypto&&"object"==typeof m.crypto.subtle&&null!=m.crypto.subtle)return m.crypto.subtle;throw new Error("crypto.subtle must be defined")}},90518:(Le,z,E)=>{"use strict";var m=z;m.version=E(1636).rE,m.utils=E(3136),m.rand=E(35294),m.curve=E(8729),m.curves=E(23401),m.ec=E(29042),m.eddsa=E(83045)},98828:(Le,z,E)=>{"use strict";var m=E(88723),x=E(3136),R=x.getNAF,W=x.getJSF,S=x.assert;function L(N,$){this.type=N,this.p=new m($.p,16),this.red=$.prime?m.red($.prime):m.mont(this.p),this.zero=new m(0).toRed(this.red),this.one=new m(1).toRed(this.red),this.two=new m(2).toRed(this.red),this.n=$.n&&new m($.n,16),this.g=$.g&&this.pointFromJSON($.g,$.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var F=this.n&&this.p.div(this.n);!F||F.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function M(N,$){this.curve=N,this.type=$,this.precomputed=null}Le.exports=L,L.prototype.point=function(){throw new Error("Not implemented")},L.prototype.validate=function(){throw new Error("Not implemented")},L.prototype._fixedNafMul=function($,F){S($.precomputed);var I=$._getDoubles(),X=R(F,1,this._bitLength),V=(1<<I.step+1)-(I.step%2==0?2:1);V/=3;var re,te,Z=[];for(re=0;re<X.length;re+=I.step){te=0;for(var Q=re+I.step-1;Q>=re;Q--)te=(te<<1)+X[Q];Z.push(te)}for(var J=this.jpoint(null,null,null),oe=this.jpoint(null,null,null),se=V;se>0;se--){for(re=0;re<Z.length;re++)(te=Z[re])===se?oe=oe.mixedAdd(I.points[re]):te===-se&&(oe=oe.mixedAdd(I.points[re].neg()));J=J.add(oe)}return J.toP()},L.prototype._wnafMul=function($,F){for(var I=4,X=$._getNAFPoints(I),V=X.points,Z=R(F,I=X.wnd,this._bitLength),re=this.jpoint(null,null,null),te=Z.length-1;te>=0;te--){for(var Q=0;te>=0&&0===Z[te];te--)Q++;if(te>=0&&Q++,re=re.dblp(Q),te<0)break;var J=Z[te];S(0!==J),re="affine"===$.type?re.mixedAdd(J>0?V[J-1>>1]:V[-J-1>>1].neg()):re.add(J>0?V[J-1>>1]:V[-J-1>>1].neg())}return"affine"===$.type?re.toP():re},L.prototype._wnafMulAdd=function($,F,I,X,V){var J,oe,se,Z=this._wnafT1,re=this._wnafT2,te=this._wnafT3,Q=0;for(J=0;J<X;J++){var ae=(se=F[J])._getNAFPoints($);Z[J]=ae.wnd,re[J]=ae.points}for(J=X-1;J>=1;J-=2){var pe=J-1,le=J;if(1===Z[pe]&&1===Z[le]){var ve=[F[pe],null,null,F[le]];0===F[pe].y.cmp(F[le].y)?(ve[1]=F[pe].add(F[le]),ve[2]=F[pe].toJ().mixedAdd(F[le].neg())):0===F[pe].y.cmp(F[le].y.redNeg())?(ve[1]=F[pe].toJ().mixedAdd(F[le]),ve[2]=F[pe].add(F[le].neg())):(ve[1]=F[pe].toJ().mixedAdd(F[le]),ve[2]=F[pe].toJ().mixedAdd(F[le].neg()));var we=[-3,-1,-5,-7,0,7,5,1,3],De=W(I[pe],I[le]);for(Q=Math.max(De[0].length,Q),te[pe]=new Array(Q),te[le]=new Array(Q),oe=0;oe<Q;oe++)te[pe][oe]=we[3*(1+(0|De[0][oe]))+(1+(0|De[1][oe]))],te[le][oe]=0,re[pe]=ve}else te[pe]=R(I[pe],Z[pe],this._bitLength),te[le]=R(I[le],Z[le],this._bitLength),Q=Math.max(te[pe].length,Q),Q=Math.max(te[le].length,Q)}var h=this.jpoint(null,null,null),y=this._wnafT4;for(J=Q;J>=0;J--){for(var w=0;J>=0;){var T=!0;for(oe=0;oe<X;oe++)y[oe]=0|te[oe][J],0!==y[oe]&&(T=!1);if(!T)break;w++,J--}if(J>=0&&w++,h=h.dblp(w),J<0)break;for(oe=0;oe<X;oe++){var D=y[oe];0!==D&&(D>0?se=re[oe][D-1>>1]:D<0&&(se=re[oe][-D-1>>1].neg()),h="affine"===se.type?h.mixedAdd(se):h.add(se))}}for(J=0;J<X;J++)re[J]=null;return V?h:h.toP()},L.BasePoint=M,M.prototype.eq=function(){throw new Error("Not implemented")},M.prototype.validate=function(){return this.curve.validate(this)},L.prototype.decodePoint=function($,F){$=x.toArray($,F);var I=this.p.byteLength();if((4===$[0]||6===$[0]||7===$[0])&&$.length-1==2*I)return 6===$[0]?S($[$.length-1]%2==0):7===$[0]&&S($[$.length-1]%2==1),this.point($.slice(1,1+I),$.slice(1+I,1+2*I));if((2===$[0]||3===$[0])&&$.length-1===I)return this.pointFromX($.slice(1,1+I),3===$[0]);throw new Error("Unknown point format")},M.prototype.encodeCompressed=function($){return this.encode($,!0)},M.prototype._encode=function($){var F=this.curve.p.byteLength(),I=this.getX().toArray("be",F);return $?[this.getY().isEven()?2:3].concat(I):[4].concat(I,this.getY().toArray("be",F))},M.prototype.encode=function($,F){return x.encode(this._encode(F),$)},M.prototype.precompute=function($){if(this.precomputed)return this;var F={doubles:null,naf:null,beta:null};return F.naf=this._getNAFPoints(8),F.doubles=this._getDoubles(4,$),F.beta=this._getBeta(),this.precomputed=F,this},M.prototype._hasDoubles=function($){if(!this.precomputed)return!1;var F=this.precomputed.doubles;return!!F&&F.points.length>=Math.ceil(($.bitLength()+1)/F.step)},M.prototype._getDoubles=function($,F){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var I=[this],X=this,V=0;V<F;V+=$){for(var Z=0;Z<$;Z++)X=X.dbl();I.push(X)}return{step:$,points:I}},M.prototype._getNAFPoints=function($){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var F=[this],I=(1<<$)-1,X=1===I?null:this.dbl(),V=1;V<I;V++)F[V]=F[V-1].add(X);return{wnd:$,points:F}},M.prototype._getBeta=function(){return null},M.prototype.dblp=function($){for(var F=this,I=0;I<$;I++)F=F.dbl();return F}},55537:(Le,z,E)=>{"use strict";var m=E(3136),x=E(88723),R=E(71993),W=E(98828),S=m.assert;function L(N){this.twisted=1!=(0|N.a),this.mOneA=this.twisted&&-1==(0|N.a),this.extended=this.mOneA,W.call(this,"edwards",N),this.a=new x(N.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new x(N.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new x(N.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),S(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|N.c)}function M(N,$,F,I,X){W.BasePoint.call(this,N,"projective"),null===$&&null===F&&null===I?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new x($,16),this.y=new x(F,16),this.z=I?new x(I,16):this.curve.one,this.t=X&&new x(X,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}R(L,W),Le.exports=L,L.prototype._mulA=function($){return this.mOneA?$.redNeg():this.a.redMul($)},L.prototype._mulC=function($){return this.oneC?$:this.c.redMul($)},L.prototype.jpoint=function($,F,I,X){return this.point($,F,I,X)},L.prototype.pointFromX=function($,F){($=new x($,16)).red||($=$.toRed(this.red));var I=$.redSqr(),X=this.c2.redSub(this.a.redMul(I)),V=this.one.redSub(this.c2.redMul(this.d).redMul(I)),Z=X.redMul(V.redInvm()),re=Z.redSqrt();if(0!==re.redSqr().redSub(Z).cmp(this.zero))throw new Error("invalid point");var te=re.fromRed().isOdd();return(F&&!te||!F&&te)&&(re=re.redNeg()),this.point($,re)},L.prototype.pointFromY=function($,F){($=new x($,16)).red||($=$.toRed(this.red));var I=$.redSqr(),X=I.redSub(this.c2),V=I.redMul(this.d).redMul(this.c2).redSub(this.a),Z=X.redMul(V.redInvm());if(0===Z.cmp(this.zero)){if(F)throw new Error("invalid point");return this.point(this.zero,$)}var re=Z.redSqrt();if(0!==re.redSqr().redSub(Z).cmp(this.zero))throw new Error("invalid point");return re.fromRed().isOdd()!==F&&(re=re.redNeg()),this.point(re,$)},L.prototype.validate=function($){if($.isInfinity())return!0;$.normalize();var F=$.x.redSqr(),I=$.y.redSqr(),X=F.redMul(this.a).redAdd(I),V=this.c2.redMul(this.one.redAdd(this.d.redMul(F).redMul(I)));return 0===X.cmp(V)},R(M,W.BasePoint),L.prototype.pointFromJSON=function($){return M.fromJSON(this,$)},L.prototype.point=function($,F,I,X){return new M(this,$,F,I,X)},M.fromJSON=function($,F){return new M($,F[0],F[1],F[2])},M.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},M.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},M.prototype._extDbl=function(){var $=this.x.redSqr(),F=this.y.redSqr(),I=this.z.redSqr();I=I.redIAdd(I);var X=this.curve._mulA($),V=this.x.redAdd(this.y).redSqr().redISub($).redISub(F),Z=X.redAdd(F),re=Z.redSub(I),te=X.redSub(F),Q=V.redMul(re),J=Z.redMul(te),oe=V.redMul(te),se=re.redMul(Z);return this.curve.point(Q,J,se,oe)},M.prototype._projDbl=function(){var X,V,Z,re,te,Q,$=this.x.redAdd(this.y).redSqr(),F=this.x.redSqr(),I=this.y.redSqr();if(this.curve.twisted){var J=(re=this.curve._mulA(F)).redAdd(I);this.zOne?(X=$.redSub(F).redSub(I).redMul(J.redSub(this.curve.two)),V=J.redMul(re.redSub(I)),Z=J.redSqr().redSub(J).redSub(J)):(te=this.z.redSqr(),Q=J.redSub(te).redISub(te),X=$.redSub(F).redISub(I).redMul(Q),V=J.redMul(re.redSub(I)),Z=J.redMul(Q))}else re=F.redAdd(I),te=this.curve._mulC(this.z).redSqr(),Q=re.redSub(te).redSub(te),X=this.curve._mulC($.redISub(re)).redMul(Q),V=this.curve._mulC(re).redMul(F.redISub(I)),Z=re.redMul(Q);return this.curve.point(X,V,Z)},M.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},M.prototype._extAdd=function($){var F=this.y.redSub(this.x).redMul($.y.redSub($.x)),I=this.y.redAdd(this.x).redMul($.y.redAdd($.x)),X=this.t.redMul(this.curve.dd).redMul($.t),V=this.z.redMul($.z.redAdd($.z)),Z=I.redSub(F),re=V.redSub(X),te=V.redAdd(X),Q=I.redAdd(F),J=Z.redMul(re),oe=te.redMul(Q),se=Z.redMul(Q),ae=re.redMul(te);return this.curve.point(J,oe,ae,se)},M.prototype._projAdd=function($){var oe,se,F=this.z.redMul($.z),I=F.redSqr(),X=this.x.redMul($.x),V=this.y.redMul($.y),Z=this.curve.d.redMul(X).redMul(V),re=I.redSub(Z),te=I.redAdd(Z),Q=this.x.redAdd(this.y).redMul($.x.redAdd($.y)).redISub(X).redISub(V),J=F.redMul(re).redMul(Q);return this.curve.twisted?(oe=F.redMul(te).redMul(V.redSub(this.curve._mulA(X))),se=re.redMul(te)):(oe=F.redMul(te).redMul(V.redSub(X)),se=this.curve._mulC(re).redMul(te)),this.curve.point(J,oe,se)},M.prototype.add=function($){return this.isInfinity()?$:$.isInfinity()?this:this.curve.extended?this._extAdd($):this._projAdd($)},M.prototype.mul=function($){return this._hasDoubles($)?this.curve._fixedNafMul(this,$):this.curve._wnafMul(this,$)},M.prototype.mulAdd=function($,F,I){return this.curve._wnafMulAdd(1,[this,F],[$,I],2,!1)},M.prototype.jmulAdd=function($,F,I){return this.curve._wnafMulAdd(1,[this,F],[$,I],2,!0)},M.prototype.normalize=function(){if(this.zOne)return this;var $=this.z.redInvm();return this.x=this.x.redMul($),this.y=this.y.redMul($),this.t&&(this.t=this.t.redMul($)),this.z=this.curve.one,this.zOne=!0,this},M.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},M.prototype.getX=function(){return this.normalize(),this.x.fromRed()},M.prototype.getY=function(){return this.normalize(),this.y.fromRed()},M.prototype.eq=function($){return this===$||0===this.getX().cmp($.getX())&&0===this.getY().cmp($.getY())},M.prototype.eqXToP=function($){var F=$.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(F))return!0;for(var I=$.clone(),X=this.curve.redN.redMul(this.z);;){if(I.iadd(this.curve.n),I.cmp(this.curve.p)>=0)return!1;if(F.redIAdd(X),0===this.x.cmp(F))return!0}},M.prototype.toP=M.prototype.normalize,M.prototype.mixedAdd=M.prototype.add},8729:(Le,z,E)=>{"use strict";var m=z;m.base=E(98828),m.short=E(68075),m.mont=E(64947),m.edwards=E(55537)},64947:(Le,z,E)=>{"use strict";var m=E(88723),x=E(71993),R=E(98828),W=E(3136);function S(M){R.call(this,"mont",M),this.a=new m(M.a,16).toRed(this.red),this.b=new m(M.b,16).toRed(this.red),this.i4=new m(4).toRed(this.red).redInvm(),this.two=new m(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function L(M,N,$){R.BasePoint.call(this,M,"projective"),null===N&&null===$?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new m(N,16),this.z=new m($,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}x(S,R),Le.exports=S,S.prototype.validate=function(N){var $=N.normalize().x,F=$.redSqr(),I=F.redMul($).redAdd(F.redMul(this.a)).redAdd($);return 0===I.redSqrt().redSqr().cmp(I)},x(L,R.BasePoint),S.prototype.decodePoint=function(N,$){return this.point(W.toArray(N,$),1)},S.prototype.point=function(N,$){return new L(this,N,$)},S.prototype.pointFromJSON=function(N){return L.fromJSON(this,N)},L.prototype.precompute=function(){},L.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},L.fromJSON=function(N,$){return new L(N,$[0],$[1]||N.one)},L.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},L.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},L.prototype.dbl=function(){var $=this.x.redAdd(this.z).redSqr(),I=this.x.redSub(this.z).redSqr(),X=$.redSub(I),V=$.redMul(I),Z=X.redMul(I.redAdd(this.curve.a24.redMul(X)));return this.curve.point(V,Z)},L.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},L.prototype.diffAdd=function(N,$){var F=this.x.redAdd(this.z),I=this.x.redSub(this.z),X=N.x.redAdd(N.z),Z=N.x.redSub(N.z).redMul(F),re=X.redMul(I),te=$.z.redMul(Z.redAdd(re).redSqr()),Q=$.x.redMul(Z.redISub(re).redSqr());return this.curve.point(te,Q)},L.prototype.mul=function(N){for(var $=N.clone(),F=this,I=this.curve.point(null,null),V=[];0!==$.cmpn(0);$.iushrn(1))V.push($.andln(1));for(var Z=V.length-1;Z>=0;Z--)0===V[Z]?(F=F.diffAdd(I,this),I=I.dbl()):(I=F.diffAdd(I,this),F=F.dbl());return I},L.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},L.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},L.prototype.eq=function(N){return 0===this.getX().cmp(N.getX())},L.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},L.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},68075:(Le,z,E)=>{"use strict";var m=E(3136),x=E(88723),R=E(71993),W=E(98828),S=m.assert;function L($){W.call(this,"short",$),this.a=new x($.a,16).toRed(this.red),this.b=new x($.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism($),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function M($,F,I,X){W.BasePoint.call(this,$,"affine"),null===F&&null===I?(this.x=null,this.y=null,this.inf=!0):(this.x=new x(F,16),this.y=new x(I,16),X&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function N($,F,I,X){W.BasePoint.call(this,$,"jacobian"),null===F&&null===I&&null===X?(this.x=this.curve.one,this.y=this.curve.one,this.z=new x(0)):(this.x=new x(F,16),this.y=new x(I,16),this.z=new x(X,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}R(L,W),Le.exports=L,L.prototype._getEndomorphism=function(F){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var I,X;if(F.beta)I=new x(F.beta,16).toRed(this.red);else{var V=this._getEndoRoots(this.p);I=(I=V[0].cmp(V[1])<0?V[0]:V[1]).toRed(this.red)}if(F.lambda)X=new x(F.lambda,16);else{var Z=this._getEndoRoots(this.n);0===this.g.mul(Z[0]).x.cmp(this.g.x.redMul(I))?X=Z[0]:S(0===this.g.mul(X=Z[1]).x.cmp(this.g.x.redMul(I)))}return{beta:I,lambda:X,basis:F.basis?F.basis.map(function(te){return{a:new x(te.a,16),b:new x(te.b,16)}}):this._getEndoBasis(X)}}},L.prototype._getEndoRoots=function(F){var I=F===this.p?this.red:x.mont(F),X=new x(2).toRed(I).redInvm(),V=X.redNeg(),Z=new x(3).toRed(I).redNeg().redSqrt().redMul(X);return[V.redAdd(Z).fromRed(),V.redSub(Z).fromRed()]},L.prototype._getEndoBasis=function(F){for(var J,oe,se,ae,pe,le,ve,De,k,I=this.n.ushrn(Math.floor(this.n.bitLength()/2)),X=F,V=this.n.clone(),Z=new x(1),re=new x(0),te=new x(0),Q=new x(1),we=0;0!==X.cmpn(0);){var u=V.div(X);De=V.sub(u.mul(X)),k=te.sub(u.mul(Z));var h=Q.sub(u.mul(re));if(!se&&De.cmp(I)<0)J=ve.neg(),oe=Z,se=De.neg(),ae=k;else if(se&&2==++we)break;ve=De,V=X,X=De,te=Z,Z=k,Q=re,re=h}pe=De.neg(),le=k;var y=se.sqr().add(ae.sqr());return pe.sqr().add(le.sqr()).cmp(y)>=0&&(pe=J,le=oe),se.negative&&(se=se.neg(),ae=ae.neg()),pe.negative&&(pe=pe.neg(),le=le.neg()),[{a:se,b:ae},{a:pe,b:le}]},L.prototype._endoSplit=function(F){var I=this.endo.basis,X=I[0],V=I[1],Z=V.b.mul(F).divRound(this.n),re=X.b.neg().mul(F).divRound(this.n),te=Z.mul(X.a),Q=re.mul(V.a),J=Z.mul(X.b),oe=re.mul(V.b);return{k1:F.sub(te).sub(Q),k2:J.add(oe).neg()}},L.prototype.pointFromX=function(F,I){(F=new x(F,16)).red||(F=F.toRed(this.red));var X=F.redSqr().redMul(F).redIAdd(F.redMul(this.a)).redIAdd(this.b),V=X.redSqrt();if(0!==V.redSqr().redSub(X).cmp(this.zero))throw new Error("invalid point");var Z=V.fromRed().isOdd();return(I&&!Z||!I&&Z)&&(V=V.redNeg()),this.point(F,V)},L.prototype.validate=function(F){if(F.inf)return!0;var I=F.x,X=F.y,V=this.a.redMul(I),Z=I.redSqr().redMul(I).redIAdd(V).redIAdd(this.b);return 0===X.redSqr().redISub(Z).cmpn(0)},L.prototype._endoWnafMulAdd=function(F,I,X){for(var V=this._endoWnafT1,Z=this._endoWnafT2,re=0;re<F.length;re++){var te=this._endoSplit(I[re]),Q=F[re],J=Q._getBeta();te.k1.negative&&(te.k1.ineg(),Q=Q.neg(!0)),te.k2.negative&&(te.k2.ineg(),J=J.neg(!0)),V[2*re]=Q,V[2*re+1]=J,Z[2*re]=te.k1,Z[2*re+1]=te.k2}for(var oe=this._wnafMulAdd(1,V,Z,2*re,X),se=0;se<2*re;se++)V[se]=null,Z[se]=null;return oe},R(M,W.BasePoint),L.prototype.point=function(F,I,X){return new M(this,F,I,X)},L.prototype.pointFromJSON=function(F,I){return M.fromJSON(this,F,I)},M.prototype._getBeta=function(){if(this.curve.endo){var F=this.precomputed;if(F&&F.beta)return F.beta;var I=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(F){var X=this.curve,V=function(Z){return X.point(Z.x.redMul(X.endo.beta),Z.y)};F.beta=I,I.precomputed={beta:null,naf:F.naf&&{wnd:F.naf.wnd,points:F.naf.points.map(V)},doubles:F.doubles&&{step:F.doubles.step,points:F.doubles.points.map(V)}}}return I}},M.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},M.fromJSON=function(F,I,X){"string"==typeof I&&(I=JSON.parse(I));var V=F.point(I[0],I[1],X);if(!I[2])return V;function Z(te){return F.point(te[0],te[1],X)}var re=I[2];return V.precomputed={beta:null,doubles:re.doubles&&{step:re.doubles.step,points:[V].concat(re.doubles.points.map(Z))},naf:re.naf&&{wnd:re.naf.wnd,points:[V].concat(re.naf.points.map(Z))}},V},M.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},M.prototype.isInfinity=function(){return this.inf},M.prototype.add=function(F){if(this.inf)return F;if(F.inf)return this;if(this.eq(F))return this.dbl();if(this.neg().eq(F))return this.curve.point(null,null);if(0===this.x.cmp(F.x))return this.curve.point(null,null);var I=this.y.redSub(F.y);0!==I.cmpn(0)&&(I=I.redMul(this.x.redSub(F.x).redInvm()));var X=I.redSqr().redISub(this.x).redISub(F.x),V=I.redMul(this.x.redSub(X)).redISub(this.y);return this.curve.point(X,V)},M.prototype.dbl=function(){if(this.inf)return this;var F=this.y.redAdd(this.y);if(0===F.cmpn(0))return this.curve.point(null,null);var I=this.curve.a,X=this.x.redSqr(),V=F.redInvm(),Z=X.redAdd(X).redIAdd(X).redIAdd(I).redMul(V),re=Z.redSqr().redISub(this.x.redAdd(this.x)),te=Z.redMul(this.x.redSub(re)).redISub(this.y);return this.curve.point(re,te)},M.prototype.getX=function(){return this.x.fromRed()},M.prototype.getY=function(){return this.y.fromRed()},M.prototype.mul=function(F){return F=new x(F,16),this.isInfinity()?this:this._hasDoubles(F)?this.curve._fixedNafMul(this,F):this.curve.endo?this.curve._endoWnafMulAdd([this],[F]):this.curve._wnafMul(this,F)},M.prototype.mulAdd=function(F,I,X){var V=[this,I],Z=[F,X];return this.curve.endo?this.curve._endoWnafMulAdd(V,Z):this.curve._wnafMulAdd(1,V,Z,2)},M.prototype.jmulAdd=function(F,I,X){var V=[this,I],Z=[F,X];return this.curve.endo?this.curve._endoWnafMulAdd(V,Z,!0):this.curve._wnafMulAdd(1,V,Z,2,!0)},M.prototype.eq=function(F){return this===F||this.inf===F.inf&&(this.inf||0===this.x.cmp(F.x)&&0===this.y.cmp(F.y))},M.prototype.neg=function(F){if(this.inf)return this;var I=this.curve.point(this.x,this.y.redNeg());if(F&&this.precomputed){var X=this.precomputed,V=function(Z){return Z.neg()};I.precomputed={naf:X.naf&&{wnd:X.naf.wnd,points:X.naf.points.map(V)},doubles:X.doubles&&{step:X.doubles.step,points:X.doubles.points.map(V)}}}return I},M.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},R(N,W.BasePoint),L.prototype.jpoint=function(F,I,X){return new N(this,F,I,X)},N.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var F=this.z.redInvm(),I=F.redSqr(),X=this.x.redMul(I),V=this.y.redMul(I).redMul(F);return this.curve.point(X,V)},N.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},N.prototype.add=function(F){if(this.isInfinity())return F;if(F.isInfinity())return this;var I=F.z.redSqr(),X=this.z.redSqr(),V=this.x.redMul(I),Z=F.x.redMul(X),re=this.y.redMul(I.redMul(F.z)),te=F.y.redMul(X.redMul(this.z)),Q=V.redSub(Z),J=re.redSub(te);if(0===Q.cmpn(0))return 0!==J.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var oe=Q.redSqr(),se=oe.redMul(Q),ae=V.redMul(oe),pe=J.redSqr().redIAdd(se).redISub(ae).redISub(ae),le=J.redMul(ae.redISub(pe)).redISub(re.redMul(se)),ve=this.z.redMul(F.z).redMul(Q);return this.curve.jpoint(pe,le,ve)},N.prototype.mixedAdd=function(F){if(this.isInfinity())return F.toJ();if(F.isInfinity())return this;var I=this.z.redSqr(),X=this.x,V=F.x.redMul(I),Z=this.y,re=F.y.redMul(I).redMul(this.z),te=X.redSub(V),Q=Z.redSub(re);if(0===te.cmpn(0))return 0!==Q.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var J=te.redSqr(),oe=J.redMul(te),se=X.redMul(J),ae=Q.redSqr().redIAdd(oe).redISub(se).redISub(se),pe=Q.redMul(se.redISub(ae)).redISub(Z.redMul(oe)),le=this.z.redMul(te);return this.curve.jpoint(ae,pe,le)},N.prototype.dblp=function(F){if(0===F)return this;if(this.isInfinity())return this;if(!F)return this.dbl();var I;if(this.curve.zeroA||this.curve.threeA){var X=this;for(I=0;I<F;I++)X=X.dbl();return X}var V=this.curve.a,Z=this.curve.tinv,re=this.x,te=this.y,Q=this.z,J=Q.redSqr().redSqr(),oe=te.redAdd(te);for(I=0;I<F;I++){var se=re.redSqr(),ae=oe.redSqr(),pe=ae.redSqr(),le=se.redAdd(se).redIAdd(se).redIAdd(V.redMul(J)),ve=re.redMul(ae),we=le.redSqr().redISub(ve.redAdd(ve)),De=ve.redISub(we),k=le.redMul(De);k=k.redIAdd(k).redISub(pe);var u=oe.redMul(Q);I+1<F&&(J=J.redMul(pe)),re=we,Q=u,oe=k}return this.curve.jpoint(re,oe.redMul(Z),Q)},N.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},N.prototype._zeroDbl=function(){var F,I,X;if(this.zOne){var V=this.x.redSqr(),Z=this.y.redSqr(),re=Z.redSqr(),te=this.x.redAdd(Z).redSqr().redISub(V).redISub(re);te=te.redIAdd(te);var Q=V.redAdd(V).redIAdd(V),J=Q.redSqr().redISub(te).redISub(te),oe=re.redIAdd(re);oe=(oe=oe.redIAdd(oe)).redIAdd(oe),F=J,I=Q.redMul(te.redISub(J)).redISub(oe),X=this.y.redAdd(this.y)}else{var se=this.x.redSqr(),ae=this.y.redSqr(),pe=ae.redSqr(),le=this.x.redAdd(ae).redSqr().redISub(se).redISub(pe);le=le.redIAdd(le);var ve=se.redAdd(se).redIAdd(se),we=ve.redSqr(),De=pe.redIAdd(pe);De=(De=De.redIAdd(De)).redIAdd(De),F=we.redISub(le).redISub(le),I=ve.redMul(le.redISub(F)).redISub(De),X=(X=this.y.redMul(this.z)).redIAdd(X)}return this.curve.jpoint(F,I,X)},N.prototype._threeDbl=function(){var F,I,X;if(this.zOne){var V=this.x.redSqr(),Z=this.y.redSqr(),re=Z.redSqr(),te=this.x.redAdd(Z).redSqr().redISub(V).redISub(re);te=te.redIAdd(te);var Q=V.redAdd(V).redIAdd(V).redIAdd(this.curve.a),J=Q.redSqr().redISub(te).redISub(te);F=J;var oe=re.redIAdd(re);oe=(oe=oe.redIAdd(oe)).redIAdd(oe),I=Q.redMul(te.redISub(J)).redISub(oe),X=this.y.redAdd(this.y)}else{var se=this.z.redSqr(),ae=this.y.redSqr(),pe=this.x.redMul(ae),le=this.x.redSub(se).redMul(this.x.redAdd(se));le=le.redAdd(le).redIAdd(le);var ve=pe.redIAdd(pe),we=(ve=ve.redIAdd(ve)).redAdd(ve);F=le.redSqr().redISub(we),X=this.y.redAdd(this.z).redSqr().redISub(ae).redISub(se);var De=ae.redSqr();De=(De=(De=De.redIAdd(De)).redIAdd(De)).redIAdd(De),I=le.redMul(ve.redISub(F)).redISub(De)}return this.curve.jpoint(F,I,X)},N.prototype._dbl=function(){var F=this.curve.a,I=this.x,X=this.y,V=this.z,Z=V.redSqr().redSqr(),re=I.redSqr(),te=X.redSqr(),Q=re.redAdd(re).redIAdd(re).redIAdd(F.redMul(Z)),J=I.redAdd(I),oe=(J=J.redIAdd(J)).redMul(te),se=Q.redSqr().redISub(oe.redAdd(oe)),ae=oe.redISub(se),pe=te.redSqr();pe=(pe=(pe=pe.redIAdd(pe)).redIAdd(pe)).redIAdd(pe);var le=Q.redMul(ae).redISub(pe),ve=X.redAdd(X).redMul(V);return this.curve.jpoint(se,le,ve)},N.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var F=this.x.redSqr(),I=this.y.redSqr(),X=this.z.redSqr(),V=I.redSqr(),Z=F.redAdd(F).redIAdd(F),re=Z.redSqr(),te=this.x.redAdd(I).redSqr().redISub(F).redISub(V),Q=(te=(te=(te=te.redIAdd(te)).redAdd(te).redIAdd(te)).redISub(re)).redSqr(),J=V.redIAdd(V);J=(J=(J=J.redIAdd(J)).redIAdd(J)).redIAdd(J);var oe=Z.redIAdd(te).redSqr().redISub(re).redISub(Q).redISub(J),se=I.redMul(oe);se=(se=se.redIAdd(se)).redIAdd(se);var ae=this.x.redMul(Q).redISub(se);ae=(ae=ae.redIAdd(ae)).redIAdd(ae);var pe=this.y.redMul(oe.redMul(J.redISub(oe)).redISub(te.redMul(Q)));pe=(pe=(pe=pe.redIAdd(pe)).redIAdd(pe)).redIAdd(pe);var le=this.z.redAdd(te).redSqr().redISub(X).redISub(Q);return this.curve.jpoint(ae,pe,le)},N.prototype.mul=function(F,I){return F=new x(F,I),this.curve._wnafMul(this,F)},N.prototype.eq=function(F){if("affine"===F.type)return this.eq(F.toJ());if(this===F)return!0;var I=this.z.redSqr(),X=F.z.redSqr();if(0!==this.x.redMul(X).redISub(F.x.redMul(I)).cmpn(0))return!1;var V=I.redMul(this.z),Z=X.redMul(F.z);return 0===this.y.redMul(Z).redISub(F.y.redMul(V)).cmpn(0)},N.prototype.eqXToP=function(F){var I=this.z.redSqr(),X=F.toRed(this.curve.red).redMul(I);if(0===this.x.cmp(X))return!0;for(var V=F.clone(),Z=this.curve.redN.redMul(I);;){if(V.iadd(this.curve.n),V.cmp(this.curve.p)>=0)return!1;if(X.redIAdd(Z),0===this.x.cmp(X))return!0}},N.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},N.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},23401:(Le,z,E)=>{"use strict";var N,m=z,x=E(52529),R=E(8729),S=E(3136).assert;function L($){this.curve="short"===$.type?new R.short($):"edwards"===$.type?new R.edwards($):new R.mont($),this.g=this.curve.g,this.n=this.curve.n,this.hash=$.hash,S(this.g.validate(),"Invalid curve"),S(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function M($,F){Object.defineProperty(m,$,{configurable:!0,enumerable:!0,get:function(){var I=new L(F);return Object.defineProperty(m,$,{configurable:!0,enumerable:!0,value:I}),I}})}m.PresetCurve=L,M("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:x.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),M("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:x.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),M("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:x.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),M("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:x.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),M("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:x.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),M("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:x.sha256,gRed:!1,g:["9"]}),M("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:x.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{N=E(51416)}catch{N=void 0}M("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:x.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",N]})},29042:(Le,z,E)=>{"use strict";var m=E(88723),x=E(33556),R=E(3136),W=E(23401),S=E(35294),L=R.assert,M=E(60541),N=E(40484);function $(F){if(!(this instanceof $))return new $(F);"string"==typeof F&&(L(Object.prototype.hasOwnProperty.call(W,F),"Unknown curve "+F),F=W[F]),F instanceof W.PresetCurve&&(F={curve:F}),this.curve=F.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=F.curve.g,this.g.precompute(F.curve.n.bitLength()+1),this.hash=F.hash||F.curve.hash}Le.exports=$,$.prototype.keyPair=function(I){return new M(this,I)},$.prototype.keyFromPrivate=function(I,X){return M.fromPrivate(this,I,X)},$.prototype.keyFromPublic=function(I,X){return M.fromPublic(this,I,X)},$.prototype.genKeyPair=function(I){I||(I={});for(var X=new x({hash:this.hash,pers:I.pers,persEnc:I.persEnc||"utf8",entropy:I.entropy||S(this.hash.hmacStrength),entropyEnc:I.entropy&&I.entropyEnc||"utf8",nonce:this.n.toArray()}),V=this.n.byteLength(),Z=this.n.sub(new m(2));;){var re=new m(X.generate(V));if(!(re.cmp(Z)>0))return re.iaddn(1),this.keyFromPrivate(re)}},$.prototype._truncateToN=function(I,X){var V=8*I.byteLength()-this.n.bitLength();return V>0&&(I=I.ushrn(V)),!X&&I.cmp(this.n)>=0?I.sub(this.n):I},$.prototype.sign=function(I,X,V,Z){"object"==typeof V&&(Z=V,V=null),Z||(Z={}),X=this.keyFromPrivate(X,V),I=this._truncateToN(new m(I,16));for(var re=this.n.byteLength(),te=X.getPrivate().toArray("be",re),Q=I.toArray("be",re),J=new x({hash:this.hash,entropy:te,nonce:Q,pers:Z.pers,persEnc:Z.persEnc||"utf8"}),oe=this.n.sub(new m(1)),se=0;;se++){var ae=Z.k?Z.k(se):new m(J.generate(this.n.byteLength()));if(!((ae=this._truncateToN(ae,!0)).cmpn(1)<=0||ae.cmp(oe)>=0)){var pe=this.g.mul(ae);if(!pe.isInfinity()){var le=pe.getX(),ve=le.umod(this.n);if(0!==ve.cmpn(0)){var we=ae.invm(this.n).mul(ve.mul(X.getPrivate()).iadd(I));if(0!==(we=we.umod(this.n)).cmpn(0)){var De=(pe.getY().isOdd()?1:0)|(0!==le.cmp(ve)?2:0);return Z.canonical&&we.cmp(this.nh)>0&&(we=this.n.sub(we),De^=1),new N({r:ve,s:we,recoveryParam:De})}}}}}},$.prototype.verify=function(I,X,V,Z){I=this._truncateToN(new m(I,16)),V=this.keyFromPublic(V,Z);var re=(X=new N(X,"hex")).r,te=X.s;if(re.cmpn(1)<0||re.cmp(this.n)>=0||te.cmpn(1)<0||te.cmp(this.n)>=0)return!1;var se,Q=te.invm(this.n),J=Q.mul(I).umod(this.n),oe=Q.mul(re).umod(this.n);return this.curve._maxwellTrick?!(se=this.g.jmulAdd(J,V.getPublic(),oe)).isInfinity()&&se.eqXToP(re):!(se=this.g.mulAdd(J,V.getPublic(),oe)).isInfinity()&&0===se.getX().umod(this.n).cmp(re)},$.prototype.recoverPubKey=function(F,I,X,V){L((3&X)===X,"The recovery param is more than two bits"),I=new N(I,V);var Z=this.n,re=new m(F),te=I.r,Q=I.s,J=1&X,oe=X>>1;if(te.cmp(this.curve.p.umod(this.curve.n))>=0&&oe)throw new Error("Unable to find sencond key candinate");te=this.curve.pointFromX(oe?te.add(this.curve.n):te,J);var se=I.r.invm(Z),ae=Z.sub(re).mul(se).umod(Z),pe=Q.mul(se).umod(Z);return this.g.mulAdd(ae,te,pe)},$.prototype.getKeyRecoveryParam=function(F,I,X,V){if(null!==(I=new N(I,V)).recoveryParam)return I.recoveryParam;for(var Z=0;Z<4;Z++){var re;try{re=this.recoverPubKey(F,I,Z)}catch{continue}if(re.eq(X))return Z}throw new Error("Unable to find valid recovery factor")}},60541:(Le,z,E)=>{"use strict";var m=E(88723),R=E(3136).assert;function W(S,L){this.ec=S,this.priv=null,this.pub=null,L.priv&&this._importPrivate(L.priv,L.privEnc),L.pub&&this._importPublic(L.pub,L.pubEnc)}Le.exports=W,W.fromPublic=function(L,M,N){return M instanceof W?M:new W(L,{pub:M,pubEnc:N})},W.fromPrivate=function(L,M,N){return M instanceof W?M:new W(L,{priv:M,privEnc:N})},W.prototype.validate=function(){var L=this.getPublic();return L.isInfinity()?{result:!1,reason:"Invalid public key"}:L.validate()?L.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},W.prototype.getPublic=function(L,M){return"string"==typeof L&&(M=L,L=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),M?this.pub.encode(M,L):this.pub},W.prototype.getPrivate=function(L){return"hex"===L?this.priv.toString(16,2):this.priv},W.prototype._importPrivate=function(L,M){this.priv=new m(L,M||16),this.priv=this.priv.umod(this.ec.curve.n)},W.prototype._importPublic=function(L,M){if(L.x||L.y)return"mont"===this.ec.curve.type?R(L.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&R(L.x&&L.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(L.x,L.y));this.pub=this.ec.curve.decodePoint(L,M)},W.prototype.derive=function(L){return L.validate()||R(L.validate(),"public point not validated"),L.mul(this.priv).getX()},W.prototype.sign=function(L,M,N){return this.ec.sign(L,this,M,N)},W.prototype.verify=function(L,M){return this.ec.verify(L,M,this)},W.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},40484:(Le,z,E)=>{"use strict";var m=E(88723),x=E(3136),R=x.assert;function W($,F){if($ instanceof W)return $;this._importDER($,F)||(R($.r&&$.s,"Signature without r or s"),this.r=new m($.r,16),this.s=new m($.s,16),this.recoveryParam=void 0===$.recoveryParam?null:$.recoveryParam)}function S(){this.place=0}function L($,F){var I=$[F.place++];if(!(128&I))return I;var X=15&I;if(0===X||X>4)return!1;for(var V=0,Z=0,re=F.place;Z<X;Z++,re++)V<<=8,V|=$[re],V>>>=0;return!(V<=127)&&(F.place=re,V)}function M($){for(var F=0,I=$.length-1;!$[F]&&!(128&$[F+1])&&F<I;)F++;return 0===F?$:$.slice(F)}function N($,F){if(F<128)$.push(F);else{var I=1+(Math.log(F)/Math.LN2>>>3);for($.push(128|I);--I;)$.push(F>>>(I<<3)&255);$.push(F)}}Le.exports=W,W.prototype._importDER=function(F,I){F=x.toArray(F,I);var X=new S;if(48!==F[X.place++])return!1;var V=L(F,X);if(!1===V||V+X.place!==F.length||2!==F[X.place++])return!1;var Z=L(F,X);if(!1===Z)return!1;var re=F.slice(X.place,Z+X.place);if(X.place+=Z,2!==F[X.place++])return!1;var te=L(F,X);if(!1===te||F.length!==te+X.place)return!1;var Q=F.slice(X.place,te+X.place);if(0===re[0]){if(!(128&re[1]))return!1;re=re.slice(1)}if(0===Q[0]){if(!(128&Q[1]))return!1;Q=Q.slice(1)}return this.r=new m(re),this.s=new m(Q),this.recoveryParam=null,!0},W.prototype.toDER=function(F){var I=this.r.toArray(),X=this.s.toArray();for(128&I[0]&&(I=[0].concat(I)),128&X[0]&&(X=[0].concat(X)),I=M(I),X=M(X);!(X[0]||128&X[1]);)X=X.slice(1);var V=[2];N(V,I.length),(V=V.concat(I)).push(2),N(V,X.length);var Z=V.concat(X),re=[48];return N(re,Z.length),re=re.concat(Z),x.encode(re,F)}},83045:(Le,z,E)=>{"use strict";var m=E(52529),x=E(23401),R=E(3136),W=R.assert,S=R.parseBytes,L=E(87222),M=E(5451);function N($){if(W("ed25519"===$,"only tested with ed25519 so far"),!(this instanceof N))return new N($);this.curve=$=x[$].curve,this.g=$.g,this.g.precompute($.n.bitLength()+1),this.pointClass=$.point().constructor,this.encodingLength=Math.ceil($.n.bitLength()/8),this.hash=m.sha512}Le.exports=N,N.prototype.sign=function(F,I){F=S(F);var X=this.keyFromSecret(I),V=this.hashInt(X.messagePrefix(),F),Z=this.g.mul(V),re=this.encodePoint(Z),te=this.hashInt(re,X.pubBytes(),F).mul(X.priv()),Q=V.add(te).umod(this.curve.n);return this.makeSignature({R:Z,S:Q,Rencoded:re})},N.prototype.verify=function(F,I,X){F=S(F),I=this.makeSignature(I);var V=this.keyFromPublic(X),Z=this.hashInt(I.Rencoded(),V.pubBytes(),F),re=this.g.mul(I.S());return I.R().add(V.pub().mul(Z)).eq(re)},N.prototype.hashInt=function(){for(var F=this.hash(),I=0;I<arguments.length;I++)F.update(arguments[I]);return R.intFromLE(F.digest()).umod(this.curve.n)},N.prototype.keyFromPublic=function(F){return L.fromPublic(this,F)},N.prototype.keyFromSecret=function(F){return L.fromSecret(this,F)},N.prototype.makeSignature=function(F){return F instanceof M?F:new M(this,F)},N.prototype.encodePoint=function(F){var I=F.getY().toArray("le",this.encodingLength);return I[this.encodingLength-1]|=F.getX().isOdd()?128:0,I},N.prototype.decodePoint=function(F){var I=(F=R.parseBytes(F)).length-1,X=F.slice(0,I).concat(-129&F[I]),V=!!(128&F[I]),Z=R.intFromLE(X);return this.curve.pointFromY(Z,V)},N.prototype.encodeInt=function(F){return F.toArray("le",this.encodingLength)},N.prototype.decodeInt=function(F){return R.intFromLE(F)},N.prototype.isPoint=function(F){return F instanceof this.pointClass}},87222:(Le,z,E)=>{"use strict";var m=E(3136),x=m.assert,R=m.parseBytes,W=m.cachedProperty;function S(L,M){this.eddsa=L,this._secret=R(M.secret),L.isPoint(M.pub)?this._pub=M.pub:this._pubBytes=R(M.pub)}S.fromPublic=function(M,N){return N instanceof S?N:new S(M,{pub:N})},S.fromSecret=function(M,N){return N instanceof S?N:new S(M,{secret:N})},S.prototype.secret=function(){return this._secret},W(S,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),W(S,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),W(S,"privBytes",function(){var M=this.eddsa,N=this.hash(),$=M.encodingLength-1,F=N.slice(0,M.encodingLength);return F[0]&=248,F[$]&=127,F[$]|=64,F}),W(S,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),W(S,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),W(S,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),S.prototype.sign=function(M){return x(this._secret,"KeyPair can only verify"),this.eddsa.sign(M,this)},S.prototype.verify=function(M,N){return this.eddsa.verify(M,N,this)},S.prototype.getSecret=function(M){return x(this._secret,"KeyPair is public only"),m.encode(this.secret(),M)},S.prototype.getPublic=function(M){return m.encode(this.pubBytes(),M)},Le.exports=S},5451:(Le,z,E)=>{"use strict";var m=E(88723),x=E(3136),R=x.assert,W=x.cachedProperty,S=x.parseBytes;function L(M,N){this.eddsa=M,"object"!=typeof N&&(N=S(N)),Array.isArray(N)&&(N={R:N.slice(0,M.encodingLength),S:N.slice(M.encodingLength)}),R(N.R&&N.S,"Signature without R or S"),M.isPoint(N.R)&&(this._R=N.R),N.S instanceof m&&(this._S=N.S),this._Rencoded=Array.isArray(N.R)?N.R:N.Rencoded,this._Sencoded=Array.isArray(N.S)?N.S:N.Sencoded}W(L,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),W(L,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),W(L,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),W(L,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),L.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},L.prototype.toHex=function(){return x.encode(this.toBytes(),"hex").toUpperCase()},Le.exports=L},51416:Le=>{Le.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},3136:(Le,z,E)=>{"use strict";var m=z,x=E(88723),R=E(39210),W=E(21832);m.assert=R,m.toArray=W.toArray,m.zero2=W.zero2,m.toHex=W.toHex,m.encode=W.encode,m.getNAF=function S(F,I,X){var Z,V=new Array(Math.max(F.bitLength(),X)+1);for(Z=0;Z<V.length;Z+=1)V[Z]=0;var re=1<<I+1,te=F.clone();for(Z=0;Z<V.length;Z++){var Q,J=te.andln(re-1);te.isOdd()?te.isubn(Q=J>(re>>1)-1?(re>>1)-J:J):Q=0,V[Z]=Q,te.iushrn(1)}return V},m.getJSF=function L(F,I){var X=[[],[]];F=F.clone(),I=I.clone();for(var re,V=0,Z=0;F.cmpn(-V)>0||I.cmpn(-Z)>0;){var J,oe,te=F.andln(3)+V&3,Q=I.andln(3)+Z&3;3===te&&(te=-1),3===Q&&(Q=-1),J=1&te?3!=(re=F.andln(7)+V&7)&&5!==re||2!==Q?te:-te:0,X[0].push(J),oe=1&Q?3!=(re=I.andln(7)+Z&7)&&5!==re||2!==te?Q:-Q:0,X[1].push(oe),2*V===J+1&&(V=1-V),2*Z===oe+1&&(Z=1-Z),F.iushrn(1),I.iushrn(1)}return X},m.cachedProperty=function M(F,I,X){var V="_"+I;F.prototype[I]=function(){return void 0!==this[V]?this[V]:this[V]=X.call(this)}},m.parseBytes=function N(F){return"string"==typeof F?m.toArray(F,"hex"):F},m.intFromLE=function $(F){return new x(F,"hex","le")}},88723:function(Le,z,E){!function(m,x){"use strict";function R(k,u){if(!k)throw new Error(u||"Assertion failed")}function W(k,u){k.super_=u;var h=function(){};h.prototype=u.prototype,k.prototype=new h,k.prototype.constructor=k}function S(k,u,h){if(S.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(k||0,u||10,h||"be"))}var L;"object"==typeof m?m.exports=S:x.BN=S,S.BN=S,S.wordSize=26;try{L=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(79368).Buffer}catch{}function M(k,u){var h=k.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,u,h){var y=M(k,h);return h-1>=u&&(y|=M(k,h-1)<<4),y}function $(k,u,h,y){for(var w=0,T=Math.min(k.length,h),D=u;D<T;D++){var j=k.charCodeAt(D)-48;w*=y,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}S.isBN=function(u){return u instanceof S||null!==u&&"object"==typeof u&&u.constructor.wordSize===S.wordSize&&Array.isArray(u.words)},S.max=function(u,h){return u.cmp(h)>0?u:h},S.min=function(u,h){return u.cmp(h)<0?u:h},S.prototype._init=function(u,h,y){if("number"==typeof u)return this._initNumber(u,h,y);if("object"==typeof u)return this._initArray(u,h,y);"hex"===h&&(h=16),R(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,y):(this._parseBase(u,h,w),"le"===y&&this._initArray(this.toArray(),h,y)))},S.prototype._initNumber=function(u,h,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(R(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),h,y)},S.prototype._initArray=function(u,h,y){if(R("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,D,j=0;if("be"===y)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(D=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===y)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(D=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},S.prototype._parseHex=function(u,h,y){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,D=0;if("be"===y)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;this.strip()},S.prototype._parseBase=function(u,h,y){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var D=u.length-y,j=D%w,A=Math.min(D,D-j)+y,l=0,g=y;g<A;g+=w)l=$(u,g,g+w,h),this.imuln(T),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==j){var G=1;for(l=$(u,g,u.length,h),g=0;g<j;g++)G*=h;this.imuln(G),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},S.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},S.prototype.clone=function(){var u=new S(null);return this.copy(u),u},S.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},S.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},S.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},S.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(k,u,h){h.negative=u.negative^k.negative;var y=k.length+u.length|0;h.length=y,y=y-1|0;var w=0|k.words[0],T=0|u.words[0],D=w*T,A=D/67108864|0;h.words[0]=67108863&D;for(var l=1;l<y;l++){for(var g=A>>>26,G=67108863&A,H=Math.min(l,u.length-1),ne=Math.max(0,l-k.length+1);ne<=H;ne++)g+=(D=(w=0|k.words[l-ne|0])*(T=0|u.words[ne])+G)/67108864|0,G=67108863&D;h.words[l]=0|G,A=0|g}return 0!==A?h.words[l]=0|A:h.length--,h.strip()}S.prototype.toString=function(u,h){var y;if(h=0|h||1,16===(u=u||10)||"hex"===u){y="";for(var w=0,T=0,D=0;D<this.length;D++){var j=this.words[D],A=(16777215&(j<<w|T)).toString(16);y=0!=(T=j>>>24-w&16777215)||D!==this.length-1?F[6-A.length]+A+y:A+y,(w+=2)>=26&&(w-=26,D--)}for(0!==T&&(y=T.toString(16)+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var l=I[u],g=X[u];y="";var G=this.clone();for(G.negative=0;!G.isZero();){var H=G.modn(g).toString(u);y=(G=G.idivn(g)).isZero()?H+y:F[l-H.length]+H+y}for(this.isZero()&&(y="0"+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}R(!1,"Base should be between 2 and 36")},S.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&R(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},S.prototype.toJSON=function(){return this.toString(16)},S.prototype.toBuffer=function(u,h){return R(typeof L<"u"),this.toArrayLike(L,u,h)},S.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},S.prototype.toArrayLike=function(u,h,y){var w=this.byteLength(),T=y||Math.max(1,w);R(w<=T,"byte array longer than desired length"),R(T>0,"Requested array length <= 0"),this.strip();var A,l,D="le"===h,j=new u(T),g=this.clone();if(D){for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[l]=A;for(;l<T;l++)j[l]=0}else{for(l=0;l<T-w;l++)j[l]=0;for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[T-l-1]=A}return j},S.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,y=0;return h>=4096&&(y+=13,h>>>=13),h>=64&&(y+=7,h>>>=7),h>=8&&(y+=4,h>>>=4),h>=2&&(y+=2,h>>>=2),y+h},S.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,y=0;return 8191&h||(y+=13,h>>>=13),127&h||(y+=7,h>>>=7),15&h||(y+=4,h>>>=4),3&h||(y+=2,h>>>=2),1&h||y++,y},S.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},S.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var y=this._zeroBits(this.words[h]);if(u+=y,26!==y)break}return u},S.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},S.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},S.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},S.prototype.isNeg=function(){return 0!==this.negative},S.prototype.neg=function(){return this.clone().ineg()},S.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},S.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},S.prototype.ior=function(u){return R(!(this.negative|u.negative)),this.iuor(u)},S.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},S.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},S.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var y=0;y<h.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=h.length,this.strip()},S.prototype.iand=function(u){return R(!(this.negative|u.negative)),this.iuand(u)},S.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},S.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},S.prototype.iuxor=function(u){var h,y;this.length>u.length?(h=this,y=u):(h=u,y=this);for(var w=0;w<y.length;w++)this.words[w]=h.words[w]^y.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},S.prototype.ixor=function(u){return R(!(this.negative|u.negative)),this.iuxor(u)},S.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},S.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},S.prototype.inotn=function(u){R("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),y=u%26;this._expand(h),y>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return y>0&&(this.words[w]=~this.words[w]&67108863>>26-y),this.strip()},S.prototype.notn=function(u){return this.clone().inotn(u)},S.prototype.setn=function(u,h){R("number"==typeof u&&u>=0);var y=u/26|0,w=u%26;return this._expand(y+1),this.words[y]=h?this.words[y]|1<<w:this.words[y]&~(1<<w),this.strip()},S.prototype.iadd=function(u){var h,y,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(y=this,w=u):(y=u,w=this);for(var T=0,D=0;D<w.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+(0|w.words[D])+T),T=h>>>26;for(;0!==T&&D<y.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+T),T=h>>>26;if(this.length=y.length,0!==T)this.words[this.length]=T,this.length++;else if(y!==this)for(;D<y.length;D++)this.words[D]=y.words[D];return this},S.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},S.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(w=this,T=u):(w=u,T=this);for(var D=0,j=0;j<T.length;j++)D=(h=(0|w.words[j])-(0|T.words[j])+D)>>26,this.words[j]=67108863&h;for(;0!==D&&j<w.length;j++)D=(h=(0|w.words[j])+D)>>26,this.words[j]=67108863&h;if(0===D&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},S.prototype.sub=function(u){return this.clone().isub(u)};var re=function(u,h,y){var A,l,g,w=u.words,T=h.words,D=y.words,j=0,G=0|w[0],H=8191&G,ne=G>>>13,ce=0|w[1],Ae=8191&ce,ke=ce>>>13,Fe=0|w[2],Ee=8191&Fe,ge=Fe>>>13,Oe=0|w[3],ye=8191&Oe,Se=Oe>>>13,he=0|w[4],fe=8191&he,ee=he>>>13,ie=0|w[5],ue=8191&ie,be=ie>>>13,Ie=0|w[6],Ne=8191&Ie,Be=Ie>>>13,yt=0|w[7],Ke=8191&yt,Re=yt>>>13,ot=0|w[8],U=8191&ot,_=ot>>>13,p=0|w[9],O=8191&p,q=p>>>13,me=0|T[0],xe=8191&me,qe=me>>>13,At=0|T[1],ut=8191&At,bt=At>>>13,Lt=0|T[2],en=8191&Lt,Zt=Lt>>>13,Jn=0|T[3],yn=8191&Jn,Vt=Jn>>>13,$t=0|T[4],mt=8191&$t,st=$t>>>13,Nt=0|T[5],Kt=8191&Nt,qt=Nt>>>13,or=0|T[6],ft=8191&or,gt=or>>>13,vt=0|T[7],He=8191&vt,Je=vt>>>13,Bt=0|T[8],Tt=8191&Bt,Yt=Bt>>>13,Pn=0|T[9],cn=8191&Pn,pn=Pn>>>13;y.negative=u.negative^h.negative,y.length=19;var vr=(j+(A=Math.imul(H,xe))|0)+((8191&(l=(l=Math.imul(H,qe))+Math.imul(ne,xe)|0))<<13)|0;j=((g=Math.imul(ne,qe))+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,A=Math.imul(Ae,xe),l=(l=Math.imul(Ae,qe))+Math.imul(ke,xe)|0,g=Math.imul(ke,qe);var Un=(j+(A=A+Math.imul(H,ut)|0)|0)+((8191&(l=(l=l+Math.imul(H,bt)|0)+Math.imul(ne,ut)|0))<<13)|0;j=((g=g+Math.imul(ne,bt)|0)+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,A=Math.imul(Ee,xe),l=(l=Math.imul(Ee,qe))+Math.imul(ge,xe)|0,g=Math.imul(ge,qe),A=A+Math.imul(Ae,ut)|0,l=(l=l+Math.imul(Ae,bt)|0)+Math.imul(ke,ut)|0,g=g+Math.imul(ke,bt)|0;var An=(j+(A=A+Math.imul(H,en)|0)|0)+((8191&(l=(l=l+Math.imul(H,Zt)|0)+Math.imul(ne,en)|0))<<13)|0;j=((g=g+Math.imul(ne,Zt)|0)+(l>>>13)|0)+(An>>>26)|0,An&=67108863,A=Math.imul(ye,xe),l=(l=Math.imul(ye,qe))+Math.imul(Se,xe)|0,g=Math.imul(Se,qe),A=A+Math.imul(Ee,ut)|0,l=(l=l+Math.imul(Ee,bt)|0)+Math.imul(ge,ut)|0,g=g+Math.imul(ge,bt)|0,A=A+Math.imul(Ae,en)|0,l=(l=l+Math.imul(Ae,Zt)|0)+Math.imul(ke,en)|0,g=g+Math.imul(ke,Zt)|0;var On=(j+(A=A+Math.imul(H,yn)|0)|0)+((8191&(l=(l=l+Math.imul(H,Vt)|0)+Math.imul(ne,yn)|0))<<13)|0;j=((g=g+Math.imul(ne,Vt)|0)+(l>>>13)|0)+(On>>>26)|0,On&=67108863,A=Math.imul(fe,xe),l=(l=Math.imul(fe,qe))+Math.imul(ee,xe)|0,g=Math.imul(ee,qe),A=A+Math.imul(ye,ut)|0,l=(l=l+Math.imul(ye,bt)|0)+Math.imul(Se,ut)|0,g=g+Math.imul(Se,bt)|0,A=A+Math.imul(Ee,en)|0,l=(l=l+Math.imul(Ee,Zt)|0)+Math.imul(ge,en)|0,g=g+Math.imul(ge,Zt)|0,A=A+Math.imul(Ae,yn)|0,l=(l=l+Math.imul(Ae,Vt)|0)+Math.imul(ke,yn)|0,g=g+Math.imul(ke,Vt)|0;var nt=(j+(A=A+Math.imul(H,mt)|0)|0)+((8191&(l=(l=l+Math.imul(H,st)|0)+Math.imul(ne,mt)|0))<<13)|0;j=((g=g+Math.imul(ne,st)|0)+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,A=Math.imul(ue,xe),l=(l=Math.imul(ue,qe))+Math.imul(be,xe)|0,g=Math.imul(be,qe),A=A+Math.imul(fe,ut)|0,l=(l=l+Math.imul(fe,bt)|0)+Math.imul(ee,ut)|0,g=g+Math.imul(ee,bt)|0,A=A+Math.imul(ye,en)|0,l=(l=l+Math.imul(ye,Zt)|0)+Math.imul(Se,en)|0,g=g+Math.imul(Se,Zt)|0,A=A+Math.imul(Ee,yn)|0,l=(l=l+Math.imul(Ee,Vt)|0)+Math.imul(ge,yn)|0,g=g+Math.imul(ge,Vt)|0,A=A+Math.imul(Ae,mt)|0,l=(l=l+Math.imul(Ae,st)|0)+Math.imul(ke,mt)|0,g=g+Math.imul(ke,st)|0;var $e=(j+(A=A+Math.imul(H,Kt)|0)|0)+((8191&(l=(l=l+Math.imul(H,qt)|0)+Math.imul(ne,Kt)|0))<<13)|0;j=((g=g+Math.imul(ne,qt)|0)+(l>>>13)|0)+($e>>>26)|0,$e&=67108863,A=Math.imul(Ne,xe),l=(l=Math.imul(Ne,qe))+Math.imul(Be,xe)|0,g=Math.imul(Be,qe),A=A+Math.imul(ue,ut)|0,l=(l=l+Math.imul(ue,bt)|0)+Math.imul(be,ut)|0,g=g+Math.imul(be,bt)|0,A=A+Math.imul(fe,en)|0,l=(l=l+Math.imul(fe,Zt)|0)+Math.imul(ee,en)|0,g=g+Math.imul(ee,Zt)|0,A=A+Math.imul(ye,yn)|0,l=(l=l+Math.imul(ye,Vt)|0)+Math.imul(Se,yn)|0,g=g+Math.imul(Se,Vt)|0,A=A+Math.imul(Ee,mt)|0,l=(l=l+Math.imul(Ee,st)|0)+Math.imul(ge,mt)|0,g=g+Math.imul(ge,st)|0,A=A+Math.imul(Ae,Kt)|0,l=(l=l+Math.imul(Ae,qt)|0)+Math.imul(ke,Kt)|0,g=g+Math.imul(ke,qt)|0;var it=(j+(A=A+Math.imul(H,ft)|0)|0)+((8191&(l=(l=l+Math.imul(H,gt)|0)+Math.imul(ne,ft)|0))<<13)|0;j=((g=g+Math.imul(ne,gt)|0)+(l>>>13)|0)+(it>>>26)|0,it&=67108863,A=Math.imul(Ke,xe),l=(l=Math.imul(Ke,qe))+Math.imul(Re,xe)|0,g=Math.imul(Re,qe),A=A+Math.imul(Ne,ut)|0,l=(l=l+Math.imul(Ne,bt)|0)+Math.imul(Be,ut)|0,g=g+Math.imul(Be,bt)|0,A=A+Math.imul(ue,en)|0,l=(l=l+Math.imul(ue,Zt)|0)+Math.imul(be,en)|0,g=g+Math.imul(be,Zt)|0,A=A+Math.imul(fe,yn)|0,l=(l=l+Math.imul(fe,Vt)|0)+Math.imul(ee,yn)|0,g=g+Math.imul(ee,Vt)|0,A=A+Math.imul(ye,mt)|0,l=(l=l+Math.imul(ye,st)|0)+Math.imul(Se,mt)|0,g=g+Math.imul(Se,st)|0,A=A+Math.imul(Ee,Kt)|0,l=(l=l+Math.imul(Ee,qt)|0)+Math.imul(ge,Kt)|0,g=g+Math.imul(ge,qt)|0,A=A+Math.imul(Ae,ft)|0,l=(l=l+Math.imul(Ae,gt)|0)+Math.imul(ke,ft)|0,g=g+Math.imul(ke,gt)|0;var jt=(j+(A=A+Math.imul(H,He)|0)|0)+((8191&(l=(l=l+Math.imul(H,Je)|0)+Math.imul(ne,He)|0))<<13)|0;j=((g=g+Math.imul(ne,Je)|0)+(l>>>13)|0)+(jt>>>26)|0,jt&=67108863,A=Math.imul(U,xe),l=(l=Math.imul(U,qe))+Math.imul(_,xe)|0,g=Math.imul(_,qe),A=A+Math.imul(Ke,ut)|0,l=(l=l+Math.imul(Ke,bt)|0)+Math.imul(Re,ut)|0,g=g+Math.imul(Re,bt)|0,A=A+Math.imul(Ne,en)|0,l=(l=l+Math.imul(Ne,Zt)|0)+Math.imul(Be,en)|0,g=g+Math.imul(Be,Zt)|0,A=A+Math.imul(ue,yn)|0,l=(l=l+Math.imul(ue,Vt)|0)+Math.imul(be,yn)|0,g=g+Math.imul(be,Vt)|0,A=A+Math.imul(fe,mt)|0,l=(l=l+Math.imul(fe,st)|0)+Math.imul(ee,mt)|0,g=g+Math.imul(ee,st)|0,A=A+Math.imul(ye,Kt)|0,l=(l=l+Math.imul(ye,qt)|0)+Math.imul(Se,Kt)|0,g=g+Math.imul(Se,qt)|0,A=A+Math.imul(Ee,ft)|0,l=(l=l+Math.imul(Ee,gt)|0)+Math.imul(ge,ft)|0,g=g+Math.imul(ge,gt)|0,A=A+Math.imul(Ae,He)|0,l=(l=l+Math.imul(Ae,Je)|0)+Math.imul(ke,He)|0,g=g+Math.imul(ke,Je)|0;var dn=(j+(A=A+Math.imul(H,Tt)|0)|0)+((8191&(l=(l=l+Math.imul(H,Yt)|0)+Math.imul(ne,Tt)|0))<<13)|0;j=((g=g+Math.imul(ne,Yt)|0)+(l>>>13)|0)+(dn>>>26)|0,dn&=67108863,A=Math.imul(O,xe),l=(l=Math.imul(O,qe))+Math.imul(q,xe)|0,g=Math.imul(q,qe),A=A+Math.imul(U,ut)|0,l=(l=l+Math.imul(U,bt)|0)+Math.imul(_,ut)|0,g=g+Math.imul(_,bt)|0,A=A+Math.imul(Ke,en)|0,l=(l=l+Math.imul(Ke,Zt)|0)+Math.imul(Re,en)|0,g=g+Math.imul(Re,Zt)|0,A=A+Math.imul(Ne,yn)|0,l=(l=l+Math.imul(Ne,Vt)|0)+Math.imul(Be,yn)|0,g=g+Math.imul(Be,Vt)|0,A=A+Math.imul(ue,mt)|0,l=(l=l+Math.imul(ue,st)|0)+Math.imul(be,mt)|0,g=g+Math.imul(be,st)|0,A=A+Math.imul(fe,Kt)|0,l=(l=l+Math.imul(fe,qt)|0)+Math.imul(ee,Kt)|0,g=g+Math.imul(ee,qt)|0,A=A+Math.imul(ye,ft)|0,l=(l=l+Math.imul(ye,gt)|0)+Math.imul(Se,ft)|0,g=g+Math.imul(Se,gt)|0,A=A+Math.imul(Ee,He)|0,l=(l=l+Math.imul(Ee,Je)|0)+Math.imul(ge,He)|0,g=g+Math.imul(ge,Je)|0,A=A+Math.imul(Ae,Tt)|0,l=(l=l+Math.imul(Ae,Yt)|0)+Math.imul(ke,Tt)|0,g=g+Math.imul(ke,Yt)|0;var Rn=(j+(A=A+Math.imul(H,cn)|0)|0)+((8191&(l=(l=l+Math.imul(H,pn)|0)+Math.imul(ne,cn)|0))<<13)|0;j=((g=g+Math.imul(ne,pn)|0)+(l>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,A=Math.imul(O,ut),l=(l=Math.imul(O,bt))+Math.imul(q,ut)|0,g=Math.imul(q,bt),A=A+Math.imul(U,en)|0,l=(l=l+Math.imul(U,Zt)|0)+Math.imul(_,en)|0,g=g+Math.imul(_,Zt)|0,A=A+Math.imul(Ke,yn)|0,l=(l=l+Math.imul(Ke,Vt)|0)+Math.imul(Re,yn)|0,g=g+Math.imul(Re,Vt)|0,A=A+Math.imul(Ne,mt)|0,l=(l=l+Math.imul(Ne,st)|0)+Math.imul(Be,mt)|0,g=g+Math.imul(Be,st)|0,A=A+Math.imul(ue,Kt)|0,l=(l=l+Math.imul(ue,qt)|0)+Math.imul(be,Kt)|0,g=g+Math.imul(be,qt)|0,A=A+Math.imul(fe,ft)|0,l=(l=l+Math.imul(fe,gt)|0)+Math.imul(ee,ft)|0,g=g+Math.imul(ee,gt)|0,A=A+Math.imul(ye,He)|0,l=(l=l+Math.imul(ye,Je)|0)+Math.imul(Se,He)|0,g=g+Math.imul(Se,Je)|0,A=A+Math.imul(Ee,Tt)|0,l=(l=l+Math.imul(Ee,Yt)|0)+Math.imul(ge,Tt)|0,g=g+Math.imul(ge,Yt)|0;var Kn=(j+(A=A+Math.imul(Ae,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ae,pn)|0)+Math.imul(ke,cn)|0))<<13)|0;j=((g=g+Math.imul(ke,pn)|0)+(l>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(O,en),l=(l=Math.imul(O,Zt))+Math.imul(q,en)|0,g=Math.imul(q,Zt),A=A+Math.imul(U,yn)|0,l=(l=l+Math.imul(U,Vt)|0)+Math.imul(_,yn)|0,g=g+Math.imul(_,Vt)|0,A=A+Math.imul(Ke,mt)|0,l=(l=l+Math.imul(Ke,st)|0)+Math.imul(Re,mt)|0,g=g+Math.imul(Re,st)|0,A=A+Math.imul(Ne,Kt)|0,l=(l=l+Math.imul(Ne,qt)|0)+Math.imul(Be,Kt)|0,g=g+Math.imul(Be,qt)|0,A=A+Math.imul(ue,ft)|0,l=(l=l+Math.imul(ue,gt)|0)+Math.imul(be,ft)|0,g=g+Math.imul(be,gt)|0,A=A+Math.imul(fe,He)|0,l=(l=l+Math.imul(fe,Je)|0)+Math.imul(ee,He)|0,g=g+Math.imul(ee,Je)|0,A=A+Math.imul(ye,Tt)|0,l=(l=l+Math.imul(ye,Yt)|0)+Math.imul(Se,Tt)|0,g=g+Math.imul(Se,Yt)|0;var tr=(j+(A=A+Math.imul(Ee,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ee,pn)|0)+Math.imul(ge,cn)|0))<<13)|0;j=((g=g+Math.imul(ge,pn)|0)+(l>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(O,yn),l=(l=Math.imul(O,Vt))+Math.imul(q,yn)|0,g=Math.imul(q,Vt),A=A+Math.imul(U,mt)|0,l=(l=l+Math.imul(U,st)|0)+Math.imul(_,mt)|0,g=g+Math.imul(_,st)|0,A=A+Math.imul(Ke,Kt)|0,l=(l=l+Math.imul(Ke,qt)|0)+Math.imul(Re,Kt)|0,g=g+Math.imul(Re,qt)|0,A=A+Math.imul(Ne,ft)|0,l=(l=l+Math.imul(Ne,gt)|0)+Math.imul(Be,ft)|0,g=g+Math.imul(Be,gt)|0,A=A+Math.imul(ue,He)|0,l=(l=l+Math.imul(ue,Je)|0)+Math.imul(be,He)|0,g=g+Math.imul(be,Je)|0,A=A+Math.imul(fe,Tt)|0,l=(l=l+Math.imul(fe,Yt)|0)+Math.imul(ee,Tt)|0,g=g+Math.imul(ee,Yt)|0;var Ar=(j+(A=A+Math.imul(ye,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ye,pn)|0)+Math.imul(Se,cn)|0))<<13)|0;j=((g=g+Math.imul(Se,pn)|0)+(l>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,A=Math.imul(O,mt),l=(l=Math.imul(O,st))+Math.imul(q,mt)|0,g=Math.imul(q,st),A=A+Math.imul(U,Kt)|0,l=(l=l+Math.imul(U,qt)|0)+Math.imul(_,Kt)|0,g=g+Math.imul(_,qt)|0,A=A+Math.imul(Ke,ft)|0,l=(l=l+Math.imul(Ke,gt)|0)+Math.imul(Re,ft)|0,g=g+Math.imul(Re,gt)|0,A=A+Math.imul(Ne,He)|0,l=(l=l+Math.imul(Ne,Je)|0)+Math.imul(Be,He)|0,g=g+Math.imul(Be,Je)|0,A=A+Math.imul(ue,Tt)|0,l=(l=l+Math.imul(ue,Yt)|0)+Math.imul(be,Tt)|0,g=g+Math.imul(be,Yt)|0;var _r=(j+(A=A+Math.imul(fe,cn)|0)|0)+((8191&(l=(l=l+Math.imul(fe,pn)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((g=g+Math.imul(ee,pn)|0)+(l>>>13)|0)+(_r>>>26)|0,_r&=67108863,A=Math.imul(O,Kt),l=(l=Math.imul(O,qt))+Math.imul(q,Kt)|0,g=Math.imul(q,qt),A=A+Math.imul(U,ft)|0,l=(l=l+Math.imul(U,gt)|0)+Math.imul(_,ft)|0,g=g+Math.imul(_,gt)|0,A=A+Math.imul(Ke,He)|0,l=(l=l+Math.imul(Ke,Je)|0)+Math.imul(Re,He)|0,g=g+Math.imul(Re,Je)|0,A=A+Math.imul(Ne,Tt)|0,l=(l=l+Math.imul(Ne,Yt)|0)+Math.imul(Be,Tt)|0,g=g+Math.imul(Be,Yt)|0;var Pr=(j+(A=A+Math.imul(ue,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ue,pn)|0)+Math.imul(be,cn)|0))<<13)|0;j=((g=g+Math.imul(be,pn)|0)+(l>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,A=Math.imul(O,ft),l=(l=Math.imul(O,gt))+Math.imul(q,ft)|0,g=Math.imul(q,gt),A=A+Math.imul(U,He)|0,l=(l=l+Math.imul(U,Je)|0)+Math.imul(_,He)|0,g=g+Math.imul(_,Je)|0,A=A+Math.imul(Ke,Tt)|0,l=(l=l+Math.imul(Ke,Yt)|0)+Math.imul(Re,Tt)|0,g=g+Math.imul(Re,Yt)|0;var $r=(j+(A=A+Math.imul(Ne,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ne,pn)|0)+Math.imul(Be,cn)|0))<<13)|0;j=((g=g+Math.imul(Be,pn)|0)+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,A=Math.imul(O,He),l=(l=Math.imul(O,Je))+Math.imul(q,He)|0,g=Math.imul(q,Je),A=A+Math.imul(U,Tt)|0,l=(l=l+Math.imul(U,Yt)|0)+Math.imul(_,Tt)|0,g=g+Math.imul(_,Yt)|0;var zr=(j+(A=A+Math.imul(Ke,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ke,pn)|0)+Math.imul(Re,cn)|0))<<13)|0;j=((g=g+Math.imul(Re,pn)|0)+(l>>>13)|0)+(zr>>>26)|0,zr&=67108863,A=Math.imul(O,Tt),l=(l=Math.imul(O,Yt))+Math.imul(q,Tt)|0,g=Math.imul(q,Yt);var Ht=(j+(A=A+Math.imul(U,cn)|0)|0)+((8191&(l=(l=l+Math.imul(U,pn)|0)+Math.imul(_,cn)|0))<<13)|0;j=((g=g+Math.imul(_,pn)|0)+(l>>>13)|0)+(Ht>>>26)|0,Ht&=67108863;var ln=(j+(A=Math.imul(O,cn))|0)+((8191&(l=(l=Math.imul(O,pn))+Math.imul(q,cn)|0))<<13)|0;return j=((g=Math.imul(q,pn))+(l>>>13)|0)+(ln>>>26)|0,ln&=67108863,D[0]=vr,D[1]=Un,D[2]=An,D[3]=On,D[4]=nt,D[5]=$e,D[6]=it,D[7]=jt,D[8]=dn,D[9]=Rn,D[10]=Kn,D[11]=tr,D[12]=Ar,D[13]=_r,D[14]=Pr,D[15]=$r,D[16]=zr,D[17]=Ht,D[18]=ln,0!==j&&(D[19]=j,y.length++),y};function Q(k,u,h){return(new J).mulp(k,u,h)}function J(k,u){this.x=k,this.y=u}Math.imul||(re=Z),S.prototype.mulTo=function(u,h){var y,w=this.length+u.length;return y=10===this.length&&10===u.length?re(this,u,h):w<63?Z(this,u,h):w<1024?function te(k,u,h){h.negative=u.negative^k.negative,h.length=k.length+u.length;for(var y=0,w=0,T=0;T<h.length-1;T++){var D=w;w=0;for(var j=67108863&y,A=Math.min(T,u.length-1),l=Math.max(0,T-k.length+1);l<=A;l++){var ne=(0|k.words[T-l])*(0|u.words[l]),ce=67108863&ne;j=67108863&(ce=ce+j|0),w+=(D=(D=D+(ne/67108864|0)|0)+(ce>>>26)|0)>>>26,D&=67108863}h.words[T]=j,y=D,D=w}return 0!==y?h.words[T]=y:h.length--,h.strip()}(this,u,h):Q(this,u,h),y},J.prototype.makeRBT=function(u){for(var h=new Array(u),y=S.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,y,u);return h},J.prototype.revBin=function(u,h,y){if(0===u||u===y-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},J.prototype.permute=function(u,h,y,w,T,D){for(var j=0;j<D;j++)w[j]=h[u[j]],T[j]=y[u[j]]},J.prototype.transform=function(u,h,y,w,T,D){this.permute(D,u,h,y,w,T);for(var j=1;j<T;j<<=1)for(var A=j<<1,l=Math.cos(2*Math.PI/A),g=Math.sin(2*Math.PI/A),G=0;G<T;G+=A)for(var H=l,ne=g,ce=0;ce<j;ce++){var Ae=y[G+ce],ke=w[G+ce],Fe=y[G+ce+j],Ee=w[G+ce+j],ge=H*Fe-ne*Ee;Ee=H*Ee+ne*Fe,y[G+ce]=Ae+(Fe=ge),w[G+ce]=ke+Ee,y[G+ce+j]=Ae-Fe,w[G+ce+j]=ke-Ee,ce!==A&&(ge=l*H-g*ne,ne=l*ne+g*H,H=ge)}},J.prototype.guessLen13b=function(u,h){var y=1|Math.max(h,u),w=1&y,T=0;for(y=y/2|0;y;y>>>=1)T++;return 1<<T+1+w},J.prototype.conjugate=function(u,h,y){if(!(y<=1))for(var w=0;w<y/2;w++){var T=u[w];u[w]=u[y-w-1],u[y-w-1]=T,T=h[w],h[w]=-h[y-w-1],h[y-w-1]=-T}},J.prototype.normalize13b=function(u,h){for(var y=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+y;u[w]=67108863&T,y=T<67108864?0:T/67108864|0}return u},J.prototype.convert13b=function(u,h,y,w){for(var T=0,D=0;D<h;D++)y[2*D]=8191&(T+=0|u[D]),y[2*D+1]=8191&(T>>>=13),T>>>=13;for(D=2*h;D<w;++D)y[D]=0;R(0===T),R(!(-8192&T))},J.prototype.stub=function(u){for(var h=new Array(u),y=0;y<u;y++)h[y]=0;return h},J.prototype.mulp=function(u,h,y){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),D=this.stub(w),j=new Array(w),A=new Array(w),l=new Array(w),g=new Array(w),G=new Array(w),H=new Array(w),ne=y.words;ne.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,g,w),this.transform(j,D,A,l,w,T),this.transform(g,D,G,H,w,T);for(var ce=0;ce<w;ce++){var Ae=A[ce]*G[ce]-l[ce]*H[ce];l[ce]=A[ce]*H[ce]+l[ce]*G[ce],A[ce]=Ae}return this.conjugate(A,l,w),this.transform(A,l,ne,D,w,T),this.conjugate(ne,D,w),this.normalize13b(ne,w),y.negative=u.negative^h.negative,y.length=u.length+h.length,y.strip()},S.prototype.mul=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},S.prototype.mulf=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),Q(this,u,h)},S.prototype.imul=function(u){return this.clone().mulTo(u,this)},S.prototype.imuln=function(u){R("number"==typeof u),R(u<67108864);for(var h=0,y=0;y<this.length;y++){var w=(0|this.words[y])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[y]=67108863&T}return 0!==h&&(this.words[y]=h,this.length++),this},S.prototype.muln=function(u){return this.clone().imuln(u)},S.prototype.sqr=function(){return this.mul(this)},S.prototype.isqr=function(){return this.imul(this.clone())},S.prototype.pow=function(u){var h=function V(k){for(var u=new Array(k.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(k.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new S(1);for(var y=this,w=0;w<h.length&&0===h[w];w++,y=y.sqr());if(++w<h.length)for(var T=y.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(y=y.mul(T));return y},S.prototype.iushln=function(u){R("number"==typeof u&&u>=0);var T,h=u%26,y=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|D,D=j>>>26-h}D&&(this.words[T]=D,this.length++)}if(0!==y){for(T=this.length-1;T>=0;T--)this.words[T+y]=this.words[T];for(T=0;T<y;T++)this.words[T]=0;this.length+=y}return this.strip()},S.prototype.ishln=function(u){return R(0===this.negative),this.iushln(u)},S.prototype.iushrn=function(u,h,y){var w;R("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,D=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,A=y;if(w-=D,w=Math.max(0,w),A){for(var l=0;l<D;l++)A.words[l]=this.words[l];A.length=D}if(0!==D)if(this.length>D)for(this.length-=D,l=0;l<this.length;l++)this.words[l]=this.words[l+D];else this.words[0]=0,this.length=1;var g=0;for(l=this.length-1;l>=0&&(0!==g||l>=w);l--){var G=0|this.words[l];this.words[l]=g<<26-T|G>>>T,g=G&j}return A&&0!==g&&(A.words[A.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},S.prototype.ishrn=function(u,h,y){return R(0===this.negative),this.iushrn(u,h,y)},S.prototype.shln=function(u){return this.clone().ishln(u)},S.prototype.ushln=function(u){return this.clone().iushln(u)},S.prototype.shrn=function(u){return this.clone().ishrn(u)},S.prototype.ushrn=function(u){return this.clone().iushrn(u)},S.prototype.testn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return!(this.length<=y||!(this.words[y]&1<<h))},S.prototype.imaskn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return R(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==h&&y++,this.length=Math.min(y,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},S.prototype.maskn=function(u){return this.clone().imaskn(u)},S.prototype.iaddn=function(u){return R("number"==typeof u),R(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},S.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},S.prototype.isubn=function(u){if(R("number"==typeof u),R(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},S.prototype.addn=function(u){return this.clone().iaddn(u)},S.prototype.subn=function(u){return this.clone().isubn(u)},S.prototype.iabs=function(){return this.negative=0,this},S.prototype.abs=function(){return this.clone().iabs()},S.prototype._ishlnsubmul=function(u,h,y){var T;this._expand(u.length+y);var D,j=0;for(T=0;T<u.length;T++){D=(0|this.words[T+y])+j;var A=(0|u.words[T])*h;j=((D-=67108863&A)>>26)-(A/67108864|0),this.words[T+y]=67108863&D}for(;T<this.length-y;T++)j=(D=(0|this.words[T+y])+j)>>26,this.words[T+y]=67108863&D;if(0===j)return this.strip();for(R(-1===j),j=0,T=0;T<this.length;T++)j=(D=-(0|this.words[T])+j)>>26,this.words[T]=67108863&D;return this.negative=1,this.strip()},S.prototype._wordDiv=function(u,h){var y,w=this.clone(),T=u,D=0|T.words[T.length-1];0!=(y=26-this._countBits(D))&&(T=T.ushln(y),w.iushln(y),D=0|T.words[T.length-1]);var l,A=w.length-T.length;if("mod"!==h){(l=new S(null)).length=A+1,l.words=new Array(l.length);for(var g=0;g<l.length;g++)l.words[g]=0}var G=w.clone()._ishlnsubmul(T,1,A);0===G.negative&&(w=G,l&&(l.words[A]=1));for(var H=A-1;H>=0;H--){var ne=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ne=Math.min(ne/D|0,67108863),w._ishlnsubmul(T,ne,H);0!==w.negative;)ne--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);l&&(l.words[H]=ne)}return l&&l.strip(),w.strip(),"div"!==h&&0!==y&&w.iushrn(y),{div:l||null,mod:w}},S.prototype.divmod=function(u,h,y){return R(!u.isZero()),this.isZero()?{div:new S(0),mod:new S(0)}:0!==this.negative&&0===u.negative?(D=this.neg().divmod(u,h),"mod"!==h&&(w=D.div.neg()),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(D=this.divmod(u.neg(),h),"mod"!==h&&(w=D.div.neg()),{div:w,mod:D.mod}):this.negative&u.negative?(D=this.neg().divmod(u.neg(),h),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.isub(u)),{div:D.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new S(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new S(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new S(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,D},S.prototype.div=function(u){return this.divmod(u,"div",!1).div},S.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},S.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},S.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var y=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),D=y.cmp(w);return D<0||1===T&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},S.prototype.modn=function(u){R(u<=67108863);for(var h=(1<<26)%u,y=0,w=this.length-1;w>=0;w--)y=(h*y+(0|this.words[w]))%u;return y},S.prototype.idivn=function(u){R(u<=67108863);for(var h=0,y=this.length-1;y>=0;y--){var w=(0|this.words[y])+67108864*h;this.words[y]=w/u|0,h=w%u}return this.strip()},S.prototype.divn=function(u){return this.clone().idivn(u)},S.prototype.egcd=function(u){R(0===u.negative),R(!u.isZero());var h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=new S(0),j=new S(1),A=0;h.isEven()&&y.isEven();)h.iushrn(1),y.iushrn(1),++A;for(var l=y.clone(),g=h.clone();!h.isZero();){for(var G=0,H=1;!(h.words[0]&H)&&G<26;++G,H<<=1);if(G>0)for(h.iushrn(G);G-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(l),T.isub(g)),w.iushrn(1),T.iushrn(1);for(var ne=0,ce=1;!(y.words[0]&ce)&&ne<26;++ne,ce<<=1);if(ne>0)for(y.iushrn(ne);ne-- >0;)(D.isOdd()||j.isOdd())&&(D.iadd(l),j.isub(g)),D.iushrn(1),j.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(D),T.isub(j)):(y.isub(h),D.isub(w),j.isub(T))}return{a:D,b:j,gcd:y.iushln(A)}},S.prototype._invmp=function(u){R(0===u.negative),R(!u.isZero());var G,h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=y.clone();h.cmpn(1)>0&&y.cmpn(1)>0;){for(var j=0,A=1;!(h.words[0]&A)&&j<26;++j,A<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(D),w.iushrn(1);for(var l=0,g=1;!(y.words[0]&g)&&l<26;++l,g<<=1);if(l>0)for(y.iushrn(l);l-- >0;)T.isOdd()&&T.iadd(D),T.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(T)):(y.isub(h),T.isub(w))}return(G=0===h.cmpn(1)?w:T).cmpn(0)<0&&G.iadd(u),G},S.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),y=u.clone();h.negative=0,y.negative=0;for(var w=0;h.isEven()&&y.isEven();w++)h.iushrn(1),y.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;y.isEven();)y.iushrn(1);var T=h.cmp(y);if(T<0){var D=h;h=y,y=D}else if(0===T||0===y.cmpn(1))break;h.isub(y)}return y.iushln(w)},S.prototype.invm=function(u){return this.egcd(u).a.umod(u)},S.prototype.isEven=function(){return!(1&this.words[0])},S.prototype.isOdd=function(){return!(1&~this.words[0])},S.prototype.andln=function(u){return this.words[0]&u},S.prototype.bincn=function(u){R("number"==typeof u);var h=u%26,y=(u-h)/26,w=1<<h;if(this.length<=y)return this._expand(y+1),this.words[y]|=w,this;for(var T=w,D=y;0!==T&&D<this.length;D++){var j=0|this.words[D];T=(j+=T)>>>26,this.words[D]=j&=67108863}return 0!==T&&(this.words[D]=T,this.length++),this},S.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},S.prototype.cmpn=function(u){var y,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)y=1;else{h&&(u=-u),R(u<=67108863,"Number is too big");var w=0|this.words[0];y=w===u?0:w<u?-1:1}return 0!==this.negative?0|-y:y},S.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},S.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,y=this.length-1;y>=0;y--){var w=0|this.words[y],T=0|u.words[y];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},S.prototype.gtn=function(u){return 1===this.cmpn(u)},S.prototype.gt=function(u){return 1===this.cmp(u)},S.prototype.gten=function(u){return this.cmpn(u)>=0},S.prototype.gte=function(u){return this.cmp(u)>=0},S.prototype.ltn=function(u){return-1===this.cmpn(u)},S.prototype.lt=function(u){return-1===this.cmp(u)},S.prototype.lten=function(u){return this.cmpn(u)<=0},S.prototype.lte=function(u){return this.cmp(u)<=0},S.prototype.eqn=function(u){return 0===this.cmpn(u)},S.prototype.eq=function(u){return 0===this.cmp(u)},S.red=function(u){return new we(u)},S.prototype.toRed=function(u){return R(!this.red,"Already a number in reduction context"),R(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},S.prototype.fromRed=function(){return R(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},S.prototype._forceRed=function(u){return this.red=u,this},S.prototype.forceRed=function(u){return R(!this.red,"Already a number in reduction context"),this._forceRed(u)},S.prototype.redAdd=function(u){return R(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},S.prototype.redIAdd=function(u){return R(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},S.prototype.redSub=function(u){return R(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},S.prototype.redISub=function(u){return R(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},S.prototype.redShl=function(u){return R(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},S.prototype.redMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},S.prototype.redIMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},S.prototype.redSqr=function(){return R(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},S.prototype.redISqr=function(){return R(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},S.prototype.redSqrt=function(){return R(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},S.prototype.redInvm=function(){return R(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},S.prototype.redNeg=function(){return R(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},S.prototype.redPow=function(u){return R(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var oe={k256:null,p224:null,p192:null,p25519:null};function se(k,u){this.name=k,this.p=new S(u,16),this.n=this.p.bitLength(),this.k=new S(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function pe(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var u=S._prime(k);this.m=u.p,this.prime=u}else R(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function De(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new S(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new S(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var y,h=u;do{this.split(h,this.tmp),y=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(y>this.n);var w=y<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},W(ae,se),ae.prototype.split=function(u,h){for(var y=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var D=u.words[9];for(h.words[h.length++]=D&y,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&y)<<4|D>>>22,D=j}u.words[T-10]=D>>>=22,u.length-=0===D&&u.length>10?10:9},ae.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,y=0;y<u.length;y++){var w=0|u.words[y];u.words[y]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},W(pe,se),W(le,se),W(ve,se),ve.prototype.imulK=function(u){for(var h=0,y=0;y<u.length;y++){var w=19*(0|u.words[y])+h,T=67108863&w;w>>>=26,u.words[y]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},S._prime=function(u){if(oe[u])return oe[u];var h;if("k256"===u)h=new ae;else if("p224"===u)h=new pe;else if("p192"===u)h=new le;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return oe[u]=h,h},we.prototype._verify1=function(u){R(0===u.negative,"red works only with positives"),R(u.red,"red works only with red numbers")},we.prototype._verify2=function(u,h){R(!(u.negative|h.negative),"red works only with positives"),R(u.red&&u.red===h.red,"red works only with red numbers")},we.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},we.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},we.prototype.add=function(u,h){this._verify2(u,h);var y=u.add(h);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},we.prototype.iadd=function(u,h){this._verify2(u,h);var y=u.iadd(h);return y.cmp(this.m)>=0&&y.isub(this.m),y},we.prototype.sub=function(u,h){this._verify2(u,h);var y=u.sub(h);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},we.prototype.isub=function(u,h){this._verify2(u,h);var y=u.isub(h);return y.cmpn(0)<0&&y.iadd(this.m),y},we.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},we.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},we.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},we.prototype.isqr=function(u){return this.imul(u,u.clone())},we.prototype.sqr=function(u){return this.mul(u,u)},we.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(R(h%2==1),3===h){var y=this.m.add(new S(1)).iushrn(2);return this.pow(u,y)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);R(!w.isZero());var D=new S(1).toRed(this),j=D.redNeg(),A=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new S(2*l*l).toRed(this);0!==this.pow(l,A).cmp(j);)l.redIAdd(j);for(var g=this.pow(l,w),G=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ne=T;0!==H.cmp(D);){for(var ce=H,Ae=0;0!==ce.cmp(D);Ae++)ce=ce.redSqr();R(Ae<ne);var ke=this.pow(g,new S(1).iushln(ne-Ae-1));G=G.redMul(ke),g=ke.redSqr(),H=H.redMul(g),ne=Ae}return G},we.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(u,h){if(h.isZero())return new S(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new S(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var D=w[0],j=0,A=0,l=h.bitLength()%26;for(0===l&&(l=26),T=h.length-1;T>=0;T--){for(var g=h.words[T],G=l-1;G>=0;G--){var H=g>>G&1;D!==w[0]&&(D=this.sqr(D)),0!==H||0!==j?(j<<=1,j|=H,(4==++A||0===T&&0===G)&&(D=this.mul(D,w[j]),A=0,j=0)):A=0}l=26}return D},we.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},we.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},S.mont=function(u){return new De(u)},W(De,we),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new S(0)._forceRed(this);var y=u.mul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Le=E.nmd(Le),this)},44356:Le=>{"use strict";var m,z="object"==typeof Reflect?Reflect:null,E=z&&"function"==typeof z.apply?z.apply:function(se,ae,pe){return Function.prototype.apply.call(se,ae,pe)};m=z&&"function"==typeof z.ownKeys?z.ownKeys:Object.getOwnPropertySymbols?function(se){return Object.getOwnPropertyNames(se).concat(Object.getOwnPropertySymbols(se))}:function(se){return Object.getOwnPropertyNames(se)};var R=Number.isNaN||function(se){return se!=se};function W(){W.init.call(this)}Le.exports=W,Le.exports.once=function te(oe,se){return new Promise(function(ae,pe){function le(we){oe.removeListener(se,ve),pe(we)}function ve(){"function"==typeof oe.removeListener&&oe.removeListener("error",le),ae([].slice.call(arguments))}J(oe,se,ve,{once:!0}),"error"!==se&&function Q(oe,se,ae){"function"==typeof oe.on&&J(oe,"error",se,ae)}(oe,le,{once:!0})})},W.EventEmitter=W,W.prototype._events=void 0,W.prototype._eventsCount=0,W.prototype._maxListeners=void 0;var S=10;function L(oe){if("function"!=typeof oe)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof oe)}function M(oe){return void 0===oe._maxListeners?W.defaultMaxListeners:oe._maxListeners}function N(oe,se,ae,pe){var le,ve,we;if(L(ae),void 0===(ve=oe._events)?(ve=oe._events=Object.create(null),oe._eventsCount=0):(void 0!==ve.newListener&&(oe.emit("newListener",se,ae.listener?ae.listener:ae),ve=oe._events),we=ve[se]),void 0===we)we=ve[se]=ae,++oe._eventsCount;else if("function"==typeof we?we=ve[se]=pe?[ae,we]:[we,ae]:pe?we.unshift(ae):we.push(ae),(le=M(oe))>0&&we.length>le&&!we.warned){we.warned=!0;var De=new Error("Possible EventEmitter memory leak detected. "+we.length+" "+String(se)+" listeners added. Use emitter.setMaxListeners() to increase limit");De.name="MaxListenersExceededWarning",De.emitter=oe,De.type=se,De.count=we.length,function x(oe){console&&console.warn&&console.warn(oe)}(De)}return oe}function $(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function F(oe,se,ae){var pe={fired:!1,wrapFn:void 0,target:oe,type:se,listener:ae},le=$.bind(pe);return le.listener=ae,pe.wrapFn=le,le}function I(oe,se,ae){var pe=oe._events;if(void 0===pe)return[];var le=pe[se];return void 0===le?[]:"function"==typeof le?ae?[le.listener||le]:[le]:ae?function re(oe){for(var se=new Array(oe.length),ae=0;ae<se.length;++ae)se[ae]=oe[ae].listener||oe[ae];return se}(le):V(le,le.length)}function X(oe){var se=this._events;if(void 0!==se){var ae=se[oe];if("function"==typeof ae)return 1;if(void 0!==ae)return ae.length}return 0}function V(oe,se){for(var ae=new Array(se),pe=0;pe<se;++pe)ae[pe]=oe[pe];return ae}function J(oe,se,ae,pe){if("function"==typeof oe.on)pe.once?oe.once(se,ae):oe.on(se,ae);else{if("function"!=typeof oe.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof oe);oe.addEventListener(se,function le(ve){pe.once&&oe.removeEventListener(se,le),ae(ve)})}}Object.defineProperty(W,"defaultMaxListeners",{enumerable:!0,get:function(){return S},set:function(oe){if("number"!=typeof oe||oe<0||R(oe))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+oe+".");S=oe}}),W.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},W.prototype.setMaxListeners=function(se){if("number"!=typeof se||se<0||R(se))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+se+".");return this._maxListeners=se,this},W.prototype.getMaxListeners=function(){return M(this)},W.prototype.emit=function(se){for(var ae=[],pe=1;pe<arguments.length;pe++)ae.push(arguments[pe]);var le="error"===se,ve=this._events;if(void 0!==ve)le=le&&void 0===ve.error;else if(!le)return!1;if(le){var we;if(ae.length>0&&(we=ae[0]),we instanceof Error)throw we;var De=new Error("Unhandled error."+(we?" ("+we.message+")":""));throw De.context=we,De}var k=ve[se];if(void 0===k)return!1;if("function"==typeof k)E(k,this,ae);else{var u=k.length,h=V(k,u);for(pe=0;pe<u;++pe)E(h[pe],this,ae)}return!0},W.prototype.on=W.prototype.addListener=function(se,ae){return N(this,se,ae,!1)},W.prototype.prependListener=function(se,ae){return N(this,se,ae,!0)},W.prototype.once=function(se,ae){return L(ae),this.on(se,F(this,se,ae)),this},W.prototype.prependOnceListener=function(se,ae){return L(ae),this.prependListener(se,F(this,se,ae)),this},W.prototype.off=W.prototype.removeListener=function(se,ae){var pe,le,ve,we,De;if(L(ae),void 0===(le=this._events))return this;if(void 0===(pe=le[se]))return this;if(pe===ae||pe.listener===ae)0==--this._eventsCount?this._events=Object.create(null):(delete le[se],le.removeListener&&this.emit("removeListener",se,pe.listener||ae));else if("function"!=typeof pe){for(ve=-1,we=pe.length-1;we>=0;we--)if(pe[we]===ae||pe[we].listener===ae){De=pe[we].listener,ve=we;break}if(ve<0)return this;0===ve?pe.shift():function Z(oe,se){for(;se+1<oe.length;se++)oe[se]=oe[se+1];oe.pop()}(pe,ve),1===pe.length&&(le[se]=pe[0]),void 0!==le.removeListener&&this.emit("removeListener",se,De||ae)}return this},W.prototype.removeAllListeners=function(se){var ae,pe,le;if(void 0===(pe=this._events))return this;if(void 0===pe.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==pe[se]&&(0==--this._eventsCount?this._events=Object.create(null):delete pe[se]),this;if(0===arguments.length){var we,ve=Object.keys(pe);for(le=0;le<ve.length;++le)"removeListener"!==(we=ve[le])&&this.removeAllListeners(we);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ae=pe[se]))this.removeListener(se,ae);else if(void 0!==ae)for(le=ae.length-1;le>=0;le--)this.removeListener(se,ae[le]);return this},W.prototype.listeners=function(se){return I(this,se,!0)},W.prototype.rawListeners=function(se){return I(this,se,!1)},W.listenerCount=function(oe,se){return"function"==typeof oe.listenerCount?oe.listenerCount(se):X.call(oe,se)},W.prototype.listenerCount=X,W.prototype.eventNames=function(){return this._eventsCount>0?m(this._events):[]}},18211:(Le,z,E)=>{var m=E(27054).Buffer,x=E(34725);Le.exports=function R(W,S,L,M){if(m.isBuffer(W)||(W=m.from(W,"binary")),S&&(m.isBuffer(S)||(S=m.from(S,"binary")),8!==S.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var N=L/8,$=m.alloc(N),F=m.alloc(M||0),I=m.alloc(0);N>0||M>0;){var X=new x;X.update(I),X.update(W),S&&X.update(S),I=X.digest();var V=0;if(N>0){var Z=$.length-N;V=Math.min(N,I.length),I.copy($,Z,0,V),N-=V}if(V<I.length&&M>0){var re=F.length-M,te=Math.min(M,I.length-V);I.copy(F,re,V,V+te),M-=te}}return I.fill(0),{key:$,iv:F}}},40362:Le=>{"use strict";Le.exports=function z(E,m){if(E===m)return!0;if(E&&m&&"object"==typeof E&&"object"==typeof m){if(E.constructor!==m.constructor)return!1;var x,R,W;if(Array.isArray(E)){if((x=E.length)!=m.length)return!1;for(R=x;0!=R--;)if(!z(E[R],m[R]))return!1;return!0}if(E.constructor===RegExp)return E.source===m.source&&E.flags===m.flags;if(E.valueOf!==Object.prototype.valueOf)return E.valueOf()===m.valueOf();if(E.toString!==Object.prototype.toString)return E.toString()===m.toString();if((x=(W=Object.keys(E)).length)!==Object.keys(m).length)return!1;for(R=x;0!=R--;)if(!Object.prototype.hasOwnProperty.call(m,W[R]))return!1;for(R=x;0!=R--;){var S=W[R];if(!z(E[S],m[S]))return!1}return!0}return E!=E&&m!=m}},13686:(Le,z,E)=>{"use strict";var m=E(27054).Buffer,x=E(7045).Transform;function S(L){x.call(this),this._block=m.allocUnsafe(L),this._blockSize=L,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}E(71993)(S,x),S.prototype._transform=function(L,M,N){var $=null;try{this.update(L,M)}catch(F){$=F}N($)},S.prototype._flush=function(L){var M=null;try{this.push(this.digest())}catch(N){M=N}L(M)},S.prototype.update=function(L,M){if(function W(L,M){if(!m.isBuffer(L)&&"string"!=typeof L)throw new TypeError(M+" must be a string or a buffer")}(L,"Data"),this._finalized)throw new Error("Digest already called");m.isBuffer(L)||(L=m.from(L,M));for(var N=this._block,$=0;this._blockOffset+L.length-$>=this._blockSize;){for(var F=this._blockOffset;F<this._blockSize;)N[F++]=L[$++];this._update(),this._blockOffset=0}for(;$<L.length;)N[this._blockOffset++]=L[$++];for(var I=0,X=8*L.length;X>0;++I)this._length[I]+=X,(X=this._length[I]/4294967296|0)>0&&(this._length[I]-=4294967296*X);return this},S.prototype._update=function(){throw new Error("_update is not implemented")},S.prototype.digest=function(L){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var M=this._digest();void 0!==L&&(M=M.toString(L)),this._block.fill(0),this._blockOffset=0;for(var N=0;N<4;++N)this._length[N]=0;return M},S.prototype._digest=function(){throw new Error("_digest is not implemented")},Le.exports=S},52529:(Le,z,E)=>{var m=z;m.utils=E(68283),m.common=E(12901),m.sha=E(78528),m.ripemd=E(15283),m.hmac=E(37163),m.sha1=m.sha.sha1,m.sha256=m.sha.sha256,m.sha224=m.sha.sha224,m.sha384=m.sha.sha384,m.sha512=m.sha.sha512,m.ripemd160=m.ripemd.ripemd160},12901:(Le,z,E)=>{"use strict";var m=E(68283),x=E(39210);function R(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}z.BlockHash=R,R.prototype.update=function(S,L){if(S=m.toArray(S,L),this.pending=this.pending?this.pending.concat(S):S,this.pendingTotal+=S.length,this.pending.length>=this._delta8){var M=(S=this.pending).length%this._delta8;this.pending=S.slice(S.length-M,S.length),0===this.pending.length&&(this.pending=null),S=m.join32(S,0,S.length-M,this.endian);for(var N=0;N<S.length;N+=this._delta32)this._update(S,N,N+this._delta32)}return this},R.prototype.digest=function(S){return this.update(this._pad()),x(null===this.pending),this._digest(S)},R.prototype._pad=function(){var S=this.pendingTotal,L=this._delta8,M=L-(S+this.padLength)%L,N=new Array(M+this.padLength);N[0]=128;for(var $=1;$<M;$++)N[$]=0;if(S<<=3,"big"===this.endian){for(var F=8;F<this.padLength;F++)N[$++]=0;N[$++]=0,N[$++]=0,N[$++]=0,N[$++]=0,N[$++]=S>>>24&255,N[$++]=S>>>16&255,N[$++]=S>>>8&255,N[$++]=255&S}else for(N[$++]=255&S,N[$++]=S>>>8&255,N[$++]=S>>>16&255,N[$++]=S>>>24&255,N[$++]=0,N[$++]=0,N[$++]=0,N[$++]=0,F=8;F<this.padLength;F++)N[$++]=0;return N}},37163:(Le,z,E)=>{"use strict";var m=E(68283),x=E(39210);function R(W,S,L){if(!(this instanceof R))return new R(W,S,L);this.Hash=W,this.blockSize=W.blockSize/8,this.outSize=W.outSize/8,this.inner=null,this.outer=null,this._init(m.toArray(S,L))}Le.exports=R,R.prototype._init=function(S){S.length>this.blockSize&&(S=(new this.Hash).update(S).digest()),x(S.length<=this.blockSize);for(var L=S.length;L<this.blockSize;L++)S.push(0);for(L=0;L<S.length;L++)S[L]^=54;for(this.inner=(new this.Hash).update(S),L=0;L<S.length;L++)S[L]^=106;this.outer=(new this.Hash).update(S)},R.prototype.update=function(S,L){return this.inner.update(S,L),this},R.prototype.digest=function(S){return this.outer.update(this.inner.digest()),this.outer.digest(S)}},15283:(Le,z,E)=>{"use strict";var m=E(68283),x=E(12901),R=m.rotl32,W=m.sum32,S=m.sum32_3,L=m.sum32_4,M=x.BlockHash;function N(){if(!(this instanceof N))return new N;M.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function $(te,Q,J,oe){return te<=15?Q^J^oe:te<=31?Q&J|~Q&oe:te<=47?(Q|~J)^oe:te<=63?Q&oe|J&~oe:Q^(J|~oe)}function I(te){return te<=15?1352829926:te<=31?1548603684:te<=47?1836072691:te<=63?2053994217:0}m.inherits(N,M),z.ripemd160=N,N.blockSize=512,N.outSize=160,N.hmacStrength=192,N.padLength=64,N.prototype._update=function(Q,J){for(var oe=this.h[0],se=this.h[1],ae=this.h[2],pe=this.h[3],le=this.h[4],ve=oe,we=se,De=ae,k=pe,u=le,h=0;h<80;h++){var y=W(R(L(oe,$(h,se,ae,pe),Q[X[h]+J],(te=h)<=15?0:te<=31?1518500249:te<=47?1859775393:te<=63?2400959708:2840853838),Z[h]),le);oe=le,le=pe,pe=R(ae,10),ae=se,se=y,y=W(R(L(ve,$(79-h,we,De,k),Q[V[h]+J],I(h)),re[h]),u),ve=u,u=k,k=R(De,10),De=we,we=y}var te;y=S(this.h[1],ae,k),this.h[1]=S(this.h[2],pe,u),this.h[2]=S(this.h[3],le,ve),this.h[3]=S(this.h[4],oe,we),this.h[4]=S(this.h[0],se,De),this.h[0]=y},N.prototype._digest=function(Q){return"hex"===Q?m.toHex32(this.h,"little"):m.split32(this.h,"little")};var X=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],V=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Z=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],re=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},78528:(Le,z,E)=>{"use strict";z.sha1=E(33468),z.sha224=E(5563),z.sha256=E(27138),z.sha384=E(93898),z.sha512=E(10827)},33468:(Le,z,E)=>{"use strict";var m=E(68283),x=E(12901),R=E(95542),W=m.rotl32,S=m.sum32,L=m.sum32_5,M=R.ft_1,N=x.BlockHash,$=[1518500249,1859775393,2400959708,3395469782];function F(){if(!(this instanceof F))return new F;N.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}m.inherits(F,N),Le.exports=F,F.blockSize=512,F.outSize=160,F.hmacStrength=80,F.padLength=64,F.prototype._update=function(X,V){for(var Z=this.W,re=0;re<16;re++)Z[re]=X[V+re];for(;re<Z.length;re++)Z[re]=W(Z[re-3]^Z[re-8]^Z[re-14]^Z[re-16],1);var te=this.h[0],Q=this.h[1],J=this.h[2],oe=this.h[3],se=this.h[4];for(re=0;re<Z.length;re++){var ae=~~(re/20),pe=L(W(te,5),M(ae,Q,J,oe),se,Z[re],$[ae]);se=oe,oe=J,J=W(Q,30),Q=te,te=pe}this.h[0]=S(this.h[0],te),this.h[1]=S(this.h[1],Q),this.h[2]=S(this.h[2],J),this.h[3]=S(this.h[3],oe),this.h[4]=S(this.h[4],se)},F.prototype._digest=function(X){return"hex"===X?m.toHex32(this.h,"big"):m.split32(this.h,"big")}},5563:(Le,z,E)=>{"use strict";var m=E(68283),x=E(27138);function R(){if(!(this instanceof R))return new R;x.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}m.inherits(R,x),Le.exports=R,R.blockSize=512,R.outSize=224,R.hmacStrength=192,R.padLength=64,R.prototype._digest=function(S){return"hex"===S?m.toHex32(this.h.slice(0,7),"big"):m.split32(this.h.slice(0,7),"big")}},27138:(Le,z,E)=>{"use strict";var m=E(68283),x=E(12901),R=E(95542),W=E(39210),S=m.sum32,L=m.sum32_4,M=m.sum32_5,N=R.ch32,$=R.maj32,F=R.s0_256,I=R.s1_256,X=R.g0_256,V=R.g1_256,Z=x.BlockHash,re=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function te(){if(!(this instanceof te))return new te;Z.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=re,this.W=new Array(64)}m.inherits(te,Z),Le.exports=te,te.blockSize=512,te.outSize=256,te.hmacStrength=192,te.padLength=64,te.prototype._update=function(J,oe){for(var se=this.W,ae=0;ae<16;ae++)se[ae]=J[oe+ae];for(;ae<se.length;ae++)se[ae]=L(V(se[ae-2]),se[ae-7],X(se[ae-15]),se[ae-16]);var pe=this.h[0],le=this.h[1],ve=this.h[2],we=this.h[3],De=this.h[4],k=this.h[5],u=this.h[6],h=this.h[7];for(W(this.k.length===se.length),ae=0;ae<se.length;ae++){var y=M(h,I(De),N(De,k,u),this.k[ae],se[ae]),w=S(F(pe),$(pe,le,ve));h=u,u=k,k=De,De=S(we,y),we=ve,ve=le,le=pe,pe=S(y,w)}this.h[0]=S(this.h[0],pe),this.h[1]=S(this.h[1],le),this.h[2]=S(this.h[2],ve),this.h[3]=S(this.h[3],we),this.h[4]=S(this.h[4],De),this.h[5]=S(this.h[5],k),this.h[6]=S(this.h[6],u),this.h[7]=S(this.h[7],h)},te.prototype._digest=function(J){return"hex"===J?m.toHex32(this.h,"big"):m.split32(this.h,"big")}},93898:(Le,z,E)=>{"use strict";var m=E(68283),x=E(10827);function R(){if(!(this instanceof R))return new R;x.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}m.inherits(R,x),Le.exports=R,R.blockSize=1024,R.outSize=384,R.hmacStrength=192,R.padLength=128,R.prototype._digest=function(S){return"hex"===S?m.toHex32(this.h.slice(0,12),"big"):m.split32(this.h.slice(0,12),"big")}},10827:(Le,z,E)=>{"use strict";var m=E(68283),x=E(12901),R=E(39210),W=m.rotr64_hi,S=m.rotr64_lo,L=m.shr64_hi,M=m.shr64_lo,N=m.sum64,$=m.sum64_hi,F=m.sum64_lo,I=m.sum64_4_hi,X=m.sum64_4_lo,V=m.sum64_5_hi,Z=m.sum64_5_lo,re=x.BlockHash,te=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Q(){if(!(this instanceof Q))return new Q;re.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=te,this.W=new Array(160)}function J(y,w,T,D,j){var A=y&T^~y&j;return A<0&&(A+=4294967296),A}function oe(y,w,T,D,j,A){var l=w&D^~w&A;return l<0&&(l+=4294967296),l}function se(y,w,T,D,j){var A=y&T^y&j^T&j;return A<0&&(A+=4294967296),A}function ae(y,w,T,D,j,A){var l=w&D^w&A^D&A;return l<0&&(l+=4294967296),l}function pe(y,w){var A=W(y,w,28)^W(w,y,2)^W(w,y,7);return A<0&&(A+=4294967296),A}function le(y,w){var A=S(y,w,28)^S(w,y,2)^S(w,y,7);return A<0&&(A+=4294967296),A}function ve(y,w){var A=W(y,w,14)^W(y,w,18)^W(w,y,9);return A<0&&(A+=4294967296),A}function we(y,w){var A=S(y,w,14)^S(y,w,18)^S(w,y,9);return A<0&&(A+=4294967296),A}function De(y,w){var A=W(y,w,1)^W(y,w,8)^L(y,w,7);return A<0&&(A+=4294967296),A}function k(y,w){var A=S(y,w,1)^S(y,w,8)^M(y,w,7);return A<0&&(A+=4294967296),A}function u(y,w){var A=W(y,w,19)^W(w,y,29)^L(y,w,6);return A<0&&(A+=4294967296),A}function h(y,w){var A=S(y,w,19)^S(w,y,29)^M(y,w,6);return A<0&&(A+=4294967296),A}m.inherits(Q,re),Le.exports=Q,Q.blockSize=1024,Q.outSize=512,Q.hmacStrength=192,Q.padLength=128,Q.prototype._prepareBlock=function(w,T){for(var D=this.W,j=0;j<32;j++)D[j]=w[T+j];for(;j<D.length;j+=2){var A=u(D[j-4],D[j-3]),l=h(D[j-4],D[j-3]),g=D[j-14],G=D[j-13],H=De(D[j-30],D[j-29]),ne=k(D[j-30],D[j-29]),ce=D[j-32],Ae=D[j-31];D[j]=I(A,l,g,G,H,ne,ce,Ae),D[j+1]=X(A,l,g,G,H,ne,ce,Ae)}},Q.prototype._update=function(w,T){this._prepareBlock(w,T);var D=this.W,j=this.h[0],A=this.h[1],l=this.h[2],g=this.h[3],G=this.h[4],H=this.h[5],ne=this.h[6],ce=this.h[7],Ae=this.h[8],ke=this.h[9],Fe=this.h[10],Ee=this.h[11],ge=this.h[12],Oe=this.h[13],ye=this.h[14],Se=this.h[15];R(this.k.length===D.length);for(var he=0;he<D.length;he+=2){var fe=ye,ee=Se,ie=ve(Ae,ke),ue=we(Ae,ke),be=J(Ae,0,Fe,0,ge),Ie=oe(0,ke,0,Ee,0,Oe),Ne=this.k[he],Be=this.k[he+1],yt=D[he],Ke=D[he+1],Re=V(fe,ee,ie,ue,be,Ie,Ne,Be,yt,Ke),ot=Z(fe,ee,ie,ue,be,Ie,Ne,Be,yt,Ke);fe=pe(j,A),ee=le(j,A),ie=se(j,0,l,0,G),ue=ae(0,A,0,g,0,H);var U=$(fe,ee,ie,ue),_=F(fe,ee,ie,ue);ye=ge,Se=Oe,ge=Fe,Oe=Ee,Fe=Ae,Ee=ke,Ae=$(ne,ce,Re,ot),ke=F(ce,ce,Re,ot),ne=G,ce=H,G=l,H=g,l=j,g=A,j=$(Re,ot,U,_),A=F(Re,ot,U,_)}N(this.h,0,j,A),N(this.h,2,l,g),N(this.h,4,G,H),N(this.h,6,ne,ce),N(this.h,8,Ae,ke),N(this.h,10,Fe,Ee),N(this.h,12,ge,Oe),N(this.h,14,ye,Se)},Q.prototype._digest=function(w){return"hex"===w?m.toHex32(this.h,"big"):m.split32(this.h,"big")}},95542:(Le,z,E)=>{"use strict";var x=E(68283).rotr32;function W(I,X,V){return I&X^~I&V}function S(I,X,V){return I&X^I&V^X&V}function L(I,X,V){return I^X^V}z.ft_1=function R(I,X,V,Z){return 0===I?W(X,V,Z):1===I||3===I?L(X,V,Z):2===I?S(X,V,Z):void 0},z.ch32=W,z.maj32=S,z.p32=L,z.s0_256=function M(I){return x(I,2)^x(I,13)^x(I,22)},z.s1_256=function N(I){return x(I,6)^x(I,11)^x(I,25)},z.g0_256=function $(I){return x(I,7)^x(I,18)^I>>>3},z.g1_256=function F(I){return x(I,17)^x(I,19)^I>>>10}},68283:(Le,z,E)=>{"use strict";var m=E(39210),x=E(71993);function R(h,y){return!(55296!=(64512&h.charCodeAt(y))||y<0||y+1>=h.length)&&56320==(64512&h.charCodeAt(y+1))}function L(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function N(h){return 1===h.length?"0"+h:h}function $(h){return 7===h.length?"0"+h:6===h.length?"00"+h:5===h.length?"000"+h:4===h.length?"0000"+h:3===h.length?"00000"+h:2===h.length?"000000"+h:1===h.length?"0000000"+h:h}z.inherits=x,z.toArray=function W(h,y){if(Array.isArray(h))return h.slice();if(!h)return[];var w=[];if("string"==typeof h)if(y){if("hex"===y)for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),D=0;D<h.length;D+=2)w.push(parseInt(h[D]+h[D+1],16))}else for(var T=0,D=0;D<h.length;D++){var j=h.charCodeAt(D);j<128?w[T++]=j:j<2048?(w[T++]=j>>6|192,w[T++]=63&j|128):R(h,D)?(j=65536+((1023&j)<<10)+(1023&h.charCodeAt(++D)),w[T++]=j>>18|240,w[T++]=j>>12&63|128,w[T++]=j>>6&63|128,w[T++]=63&j|128):(w[T++]=j>>12|224,w[T++]=j>>6&63|128,w[T++]=63&j|128)}else for(D=0;D<h.length;D++)w[D]=0|h[D];return w},z.toHex=function S(h){for(var y="",w=0;w<h.length;w++)y+=N(h[w].toString(16));return y},z.htonl=L,z.toHex32=function M(h,y){for(var w="",T=0;T<h.length;T++){var D=h[T];"little"===y&&(D=L(D)),w+=$(D.toString(16))}return w},z.zero2=N,z.zero8=$,z.join32=function F(h,y,w,T){var D=w-y;m(D%4==0);for(var j=new Array(D/4),A=0,l=y;A<j.length;A++,l+=4)j[A]=("big"===T?h[l]<<24|h[l+1]<<16|h[l+2]<<8|h[l+3]:h[l+3]<<24|h[l+2]<<16|h[l+1]<<8|h[l])>>>0;return j},z.split32=function I(h,y){for(var w=new Array(4*h.length),T=0,D=0;T<h.length;T++,D+=4){var j=h[T];"big"===y?(w[D]=j>>>24,w[D+1]=j>>>16&255,w[D+2]=j>>>8&255,w[D+3]=255&j):(w[D+3]=j>>>24,w[D+2]=j>>>16&255,w[D+1]=j>>>8&255,w[D]=255&j)}return w},z.rotr32=function X(h,y){return h>>>y|h<<32-y},z.rotl32=function V(h,y){return h<<y|h>>>32-y},z.sum32=function Z(h,y){return h+y>>>0},z.sum32_3=function re(h,y,w){return h+y+w>>>0},z.sum32_4=function te(h,y,w,T){return h+y+w+T>>>0},z.sum32_5=function Q(h,y,w,T,D){return h+y+w+T+D>>>0},z.sum64=function J(h,y,w,T){var A=T+h[y+1]>>>0;h[y]=(A<T?1:0)+w+h[y]>>>0,h[y+1]=A},z.sum64_hi=function oe(h,y,w,T){return(y+T>>>0<y?1:0)+h+w>>>0},z.sum64_lo=function se(h,y,w,T){return y+T>>>0},z.sum64_4_hi=function ae(h,y,w,T,D,j,A,l){var g=0,G=y;return g+=(G=G+T>>>0)<y?1:0,g+=(G=G+j>>>0)<j?1:0,h+w+D+A+(g+=(G=G+l>>>0)<l?1:0)>>>0},z.sum64_4_lo=function pe(h,y,w,T,D,j,A,l){return y+T+j+l>>>0},z.sum64_5_hi=function le(h,y,w,T,D,j,A,l,g,G){var H=0,ne=y;return H+=(ne=ne+T>>>0)<y?1:0,H+=(ne=ne+j>>>0)<j?1:0,H+=(ne=ne+l>>>0)<l?1:0,h+w+D+A+g+(H+=(ne=ne+G>>>0)<G?1:0)>>>0},z.sum64_5_lo=function ve(h,y,w,T,D,j,A,l,g,G){return y+T+j+l+G>>>0},z.rotr64_hi=function we(h,y,w){return(y<<32-w|h>>>w)>>>0},z.rotr64_lo=function De(h,y,w){return(h<<32-w|y>>>w)>>>0},z.shr64_hi=function k(h,y,w){return h>>>w},z.shr64_lo=function u(h,y,w){return(h<<32-w|y>>>w)>>>0}},33556:(Le,z,E)=>{"use strict";var m=E(52529),x=E(21832),R=E(39210);function W(S){if(!(this instanceof W))return new W(S);this.hash=S.hash,this.predResist=!!S.predResist,this.outLen=this.hash.outSize,this.minEntropy=S.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var L=x.toArray(S.entropy,S.entropyEnc||"hex"),M=x.toArray(S.nonce,S.nonceEnc||"hex"),N=x.toArray(S.pers,S.persEnc||"hex");R(L.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(L,M,N)}Le.exports=W,W.prototype._init=function(L,M,N){var $=L.concat(M).concat(N);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var F=0;F<this.V.length;F++)this.K[F]=0,this.V[F]=1;this._update($),this._reseed=1,this.reseedInterval=281474976710656},W.prototype._hmac=function(){return new m.hmac(this.hash,this.K)},W.prototype._update=function(L){var M=this._hmac().update(this.V).update([0]);L&&(M=M.update(L)),this.K=M.digest(),this.V=this._hmac().update(this.V).digest(),L&&(this.K=this._hmac().update(this.V).update([1]).update(L).digest(),this.V=this._hmac().update(this.V).digest())},W.prototype.reseed=function(L,M,N,$){"string"!=typeof M&&($=N,N=M,M=null),L=x.toArray(L,M),N=x.toArray(N,$),R(L.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(L.concat(N||[])),this._reseed=1},W.prototype.generate=function(L,M,N,$){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof M&&($=N,N=M,M=null),N&&(N=x.toArray(N,$||"hex"),this._update(N));for(var F=[];F.length<L;)this.V=this._hmac().update(this.V).digest(),F=F.concat(this.V);var I=F.slice(0,L);return this._update(N),this._reseed++,x.encode(I,M)}},22020:(Le,z)=>{z.read=function(E,m,x,R,W){var S,L,M=8*W-R-1,N=(1<<M)-1,$=N>>1,F=-7,I=x?W-1:0,X=x?-1:1,V=E[m+I];for(I+=X,S=V&(1<<-F)-1,V>>=-F,F+=M;F>0;S=256*S+E[m+I],I+=X,F-=8);for(L=S&(1<<-F)-1,S>>=-F,F+=R;F>0;L=256*L+E[m+I],I+=X,F-=8);if(0===S)S=1-$;else{if(S===N)return L?NaN:1/0*(V?-1:1);L+=Math.pow(2,R),S-=$}return(V?-1:1)*L*Math.pow(2,S-R)},z.write=function(E,m,x,R,W,S){var L,M,N,$=8*S-W-1,F=(1<<$)-1,I=F>>1,X=23===W?Math.pow(2,-24)-Math.pow(2,-77):0,V=R?0:S-1,Z=R?1:-1,re=m<0||0===m&&1/m<0?1:0;for(m=Math.abs(m),isNaN(m)||m===1/0?(M=isNaN(m)?1:0,L=F):(L=Math.floor(Math.log(m)/Math.LN2),m*(N=Math.pow(2,-L))<1&&(L--,N*=2),(m+=L+I>=1?X/N:X*Math.pow(2,1-I))*N>=2&&(L++,N/=2),L+I>=F?(M=0,L=F):L+I>=1?(M=(m*N-1)*Math.pow(2,W),L+=I):(M=m*Math.pow(2,I-1)*Math.pow(2,W),L=0));W>=8;E[x+V]=255&M,V+=Z,M/=256,W-=8);for(L=L<<W|M,$+=W;$>0;E[x+V]=255&L,V+=Z,L/=256,$-=8);E[x+V-Z]|=128*re}},71993:Le=>{Le.exports="function"==typeof Object.create?function(E,m){m&&(E.super_=m,E.prototype=Object.create(m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}))}:function(E,m){if(m){E.super_=m;var x=function(){};x.prototype=m.prototype,E.prototype=new x,E.prototype.constructor=E}}},42853:Le=>{"use strict";function z(m,x){for(const R in x)Object.defineProperty(m,R,{value:x[R],enumerable:!0,configurable:!0});return m}Le.exports=function E(m,x,R){if(!m||"string"==typeof m)throw new TypeError("Please pass an Error to err-code");R||(R={}),"object"==typeof x&&(R=x,x=""),x&&(R.code=x);try{return z(m,R)}catch{R.message=m.message,R.stack=m.stack;const S=function(){};return S.prototype=Object.create(Object.getPrototypeOf(m)),z(new S,R)}}},5014:Le=>{"use strict";function z(m,x){for(const R in x)Object.defineProperty(m,R,{value:x[R],enumerable:!0,configurable:!0});return m}Le.exports=function E(m,x,R){if(!m||"string"==typeof m)throw new TypeError("Please pass an Error to err-code");R||(R={}),"object"==typeof x&&(R=x,x=""),x&&(R.code=x);try{return z(m,R)}catch{R.message=m.message,R.stack=m.stack;const S=function(){};return S.prototype=Object.create(Object.getPrototypeOf(m)),z(new S,R)}}},3087:Le=>{"use strict";function z(m,x){for(const R in x)Object.defineProperty(m,R,{value:x[R],enumerable:!0,configurable:!0});return m}Le.exports=function E(m,x,R){if(!m||"string"==typeof m)throw new TypeError("Please pass an Error to err-code");R||(R={}),"object"==typeof x&&(R=x,x=""),x&&(R.code=x);try{return z(m,R)}catch{R.message=m.message,R.stack=m.stack;const S=function(){};return S.prototype=Object.create(Object.getPrototypeOf(m)),z(new S,R)}}},20053:Le=>{var z={}.toString;Le.exports=Array.isArray||function(E){return"[object Array]"==z.call(E)}},89994:function(Le){Le.exports=function(){"use strict";var z=Math.imul,E=Math.clz32;function m(le){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ve){return typeof ve}:function(ve){return ve&&"function"==typeof Symbol&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve})(le)}function R(le,ve){for(var we,De=0;De<ve.length;De++)(we=ve[De]).enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(le,we.key,we)}function L(le){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(ve){return ve.__proto__||Object.getPrototypeOf(ve)})(le)}function M(le,ve){return(M=Object.setPrototypeOf||function(we,De){return we.__proto__=De,we})(le,ve)}function N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(){return($=N()?Reflect.construct:function(le,ve,we){var De=[null];De.push.apply(De,ve);var u=new(Function.bind.apply(le,De));return we&&M(u,we.prototype),u}).apply(null,arguments)}function I(le){var ve="function"==typeof Map?new Map:void 0;return I=function(we){function De(){return $(we,arguments,L(this).constructor)}if(null===we||!function F(le){return-1!==Function.toString.call(le).indexOf("[native code]")}(we))return we;if("function"!=typeof we)throw new TypeError("Super expression must either be null or a function");if(typeof ve<"u"){if(ve.has(we))return ve.get(we);ve.set(we,De)}return De.prototype=Object.create(we.prototype,{constructor:{value:De,enumerable:!1,writable:!0,configurable:!0}}),M(De,we)},I(le)}function X(le){if(void 0===le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le}function Z(le){var ve=N();return function(){var we,De=L(le);if(ve){var k=L(this).constructor;we=Reflect.construct(De,arguments,k)}else we=De.apply(this,arguments);return function V(le,ve){if(ve&&("object"==typeof ve||"function"==typeof ve))return ve;if(void 0!==ve)throw new TypeError("Derived constructors may only return object or undefined");return X(le)}(this,we)}}function re(le,ve){return function te(le){if(Array.isArray(le))return le}(le)||function Q(le,ve){var we=null==le?null:typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(null!=we){var De,k,u=[],h=!0,y=!1;try{for(we=we.call(le);!(h=(De=we.next()).done)&&(u.push(De.value),!ve||u.length!==ve);h=!0);}catch(w){y=!0,k=w}finally{try{h||null==we.return||we.return()}finally{if(y)throw k}}return u}}(le,ve)||J(le,ve)||function se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(le,ve){if(le){if("string"==typeof le)return oe(le,ve);var we=Object.prototype.toString.call(le).slice(8,-1);return"Object"===we&&le.constructor&&(we=le.constructor.name),"Map"===we||"Set"===we?Array.from(le):"Arguments"===we||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(we)?oe(le,ve):void 0}}function oe(le,ve){(null==ve||ve>le.length)&&(ve=le.length);for(var we=0,De=Array(ve);we<ve;we++)De[we]=le[we];return De}var pe=function(le){var ve=Math.abs,we=Math.max,De=Math.floor;function k(h,y){var w;if(function x(le,ve){if(!(le instanceof ve))throw new TypeError("Cannot call a class as a function")}(this,k),(w=u.call(this,h)).sign=y,Object.setPrototypeOf(X(w),k.prototype),h>k.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return w}!function S(le,ve){if("function"!=typeof ve&&null!==ve)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(ve&&ve.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Object.defineProperty(le,"prototype",{writable:!1}),ve&&M(le,ve)}(k,le);var u=Z(k);return function W(le,ve,we){return ve&&R(le.prototype,ve),we&&R(le,we),Object.defineProperty(le,"prototype",{writable:!1}),le}(k,[{key:"toDebugString",value:function(){var h,y=["BigInt["],w=function ae(le,ve){var we=typeof Symbol<"u"&&le[Symbol.iterator]||le["@@iterator"];if(!we){if(Array.isArray(le)||(we=J(le))||ve&&le&&"number"==typeof le.length){we&&(le=we);var De=0,k=function(){};return{s:k,n:function(){return De>=le.length?{done:!0}:{done:!1,value:le[De++]}},e:function(w){throw w},f:k}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,h=!0,y=!1;return{s:function(){we=we.call(le)},n:function(){var w=we.next();return h=w.done,w},e:function(w){y=!0,u=w},f:function(){try{h||null==we.return||we.return()}finally{if(y)throw u}}}}(this);try{for(w.s();!(h=w.n()).done;){var T=h.value;y.push((T&&(T>>>0).toString(16))+", ")}}catch(D){w.e(D)}finally{w.f()}return y.push("]"),y.join("")}},{key:"toString",value:function(){var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(2>h||36<h)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":h&h-1?k.__toStringGeneric(this,h,!1):k.__toStringBasePowerOfTwo(this,h)}},{key:"valueOf",value:function(){throw new Error("Convert JSBI instances to native numbers using `toNumber`.")}},{key:"__copy",value:function(){for(var h=new k(this.length,this.sign),y=0;y<this.length;y++)h[y]=this[y];return h}},{key:"__trim",value:function(){for(var h=this.length,y=this[h-1];0===y;)y=this[--h-1],this.pop();return 0===h&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var h=0;h<this.length;h++)this[h]=0}},{key:"__clzmsd",value:function(){return k.__clz30(this.__digit(this.length-1))}},{key:"__inplaceMultiplyAdd",value:function(h,y,w){w>this.length&&(w=this.length);for(var T=32767&h,D=h>>>15,j=0,A=y,l=0;l<w;l++){var g=this.__digit(l),G=32767&g,H=g>>>15,ne=k.__imul(G,T),ce=k.__imul(G,D),Ae=k.__imul(H,T),Fe=A+ne+j;j=Fe>>>30,Fe&=1073741823,j+=(Fe+=((32767&ce)<<15)+((32767&Ae)<<15))>>>30,A=k.__imul(H,D)+(ce>>>15)+(Ae>>>15),this.__setDigit(l,1073741823&Fe)}if(0!==j||0!==A)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(h,y,w){for(var T,D=0,j=0;j<w;j++)D=(T=this.__halfDigit(y+j)+h.__halfDigit(j)+D)>>>15,this.__setHalfDigit(y+j,32767&T);return D}},{key:"__inplaceSub",value:function(h,y,w){var T=0;if(1&y){for(var D=this.__digit(y>>=1),j=32767&D,A=0;A<w-1>>>1;A++){var l=h.__digit(A),g=(D>>>15)-(32767&l)-T;T=1&g>>>15,this.__setDigit(y+A,(32767&g)<<15|32767&j),T=1&(j=(32767&(D=this.__digit(y+A+1)))-(l>>>15)-T)>>>15}var G=h.__digit(A),H=(D>>>15)-(32767&G)-T;if(T=1&H>>>15,this.__setDigit(y+A,(32767&H)<<15|32767&j),y+A+1>=this.length)throw new RangeError("out of bounds");!(1&w)&&(T=1&(j=(32767&(D=this.__digit(y+A+1)))-(G>>>15)-T)>>>15,this.__setDigit(y+h.length,1073709056&D|32767&j))}else{y>>=1;for(var ne=0;ne<h.length-1;ne++){var ce=this.__digit(y+ne),Ae=h.__digit(ne),ke=(32767&ce)-(32767&Ae)-T,Fe=(ce>>>15)-(Ae>>>15)-(T=1&ke>>>15);T=1&Fe>>>15,this.__setDigit(y+ne,(32767&Fe)<<15|32767&ke)}var Ee=this.__digit(y+ne),ge=h.__digit(ne),Oe=(32767&Ee)-(32767&ge)-T;T=1&Oe>>>15;var ye=0;!(1&w)&&(T=1&(ye=(Ee>>>15)-(ge>>>15)-T)>>>15),this.__setDigit(y+ne,(32767&ye)<<15|32767&Oe)}return T}},{key:"__inplaceRightShift",value:function(h){if(0!==h){for(var y,w=this.__digit(0)>>>h,T=this.length-1,D=0;D<T;D++)y=this.__digit(D+1),this.__setDigit(D,1073741823&y<<30-h|w),w=y>>>h;this.__setDigit(T,w)}}},{key:"__digit",value:function(h){return this[h]}},{key:"__unsignedDigit",value:function(h){return this[h]>>>0}},{key:"__setDigit",value:function(h,y){this[h]=0|y}},{key:"__setDigitGrow",value:function(h,y){this[h]=0|y}},{key:"__halfDigitLength",value:function(){var h=this.length;return 32767>=this.__unsignedDigit(h-1)?2*h-1:2*h}},{key:"__halfDigit",value:function(h){return 32767&this[h>>>1]>>>15*(1&h)}},{key:"__setHalfDigit",value:function(h,y){var w=h>>>1,T=this.__digit(w);this.__setDigit(w,1&h?32767&T|y<<15:1073709056&T|32767&y)}}],[{key:"BigInt",value:function(h){var y=Number.isFinite;if("number"==typeof h){if(0===h)return k.__zero();if(k.__isOneDigitInt(h))return 0>h?k.__oneDigit(-h,!0):k.__oneDigit(h,!1);if(!y(h)||De(h)!==h)throw new RangeError("The number "+h+" cannot be converted to BigInt because it is not an integer");return k.__fromDouble(h)}if("string"==typeof h){var w=k.__fromString(h);if(null===w)throw new SyntaxError("Cannot convert "+h+" to a BigInt");return w}if("boolean"==typeof h)return!0===h?k.__oneDigit(1,!1):k.__zero();if("object"===m(h)){if(h.constructor===k)return h;var T=k.__toPrimitive(h);return k.BigInt(T)}throw new TypeError("Cannot convert "+h+" to a BigInt")}},{key:"toNumber",value:function(h){var y=h.length;if(0===y)return 0;if(1===y){var w=h.__unsignedDigit(0);return h.sign?-w:w}var T=h.__digit(y-1),D=k.__clz30(T),j=30*y-D;if(1024<j)return h.sign?-1/0:1/0;var A=j-1,l=T,g=y-1,G=D+3,H=32===G?0:l<<G;H>>>=12;var ne=G-12,ce=12<=G?0:l<<20+G,Ae=20+G;for(0<ne&&0<g&&(g--,H|=(l=h.__digit(g))>>>30-ne,ce=l<<ne+2,Ae=ne+2);0<Ae&&0<g;)g--,l=h.__digit(g),ce|=30<=Ae?l<<Ae-30:l>>>30-Ae,Ae-=30;var ke=k.__decideRounding(h,Ae,g,l);return 1!==ke&&(0!==ke||1&~ce)||0!=(ce=ce+1>>>0)||!(++H>>>20!=0&&(H=0,1023<++A))?(k.__kBitConversionInts[1]=(h.sign?-2147483648:0)|(A=A+1023<<20)|H,k.__kBitConversionInts[0]=ce,k.__kBitConversionDouble[0]):h.sign?-1/0:1/0}},{key:"unaryMinus",value:function(h){if(0===h.length)return h;var y=h.__copy();return y.sign=!h.sign,y}},{key:"bitwiseNot",value:function(h){return h.sign?k.__absoluteSubOne(h).__trim():k.__absoluteAddOne(h,!0)}},{key:"exponentiate",value:function(h,y){if(y.sign)throw new RangeError("Exponent must be positive");if(0===y.length)return k.__oneDigit(1,!1);if(0===h.length)return h;if(1===h.length&&1===h.__digit(0))return!h.sign||1&y.__digit(0)?h:k.unaryMinus(h);if(1<y.length)throw new RangeError("BigInt too big");var w=y.__unsignedDigit(0);if(1===w)return h;if(w>=k.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===h.length&&2===h.__digit(0)){var T=1+(0|w/30),j=new k(T,h.sign&&!!(1&w));return j.__initializeDigits(),j.__setDigit(T-1,1<<w%30),j}var l=null,g=h;for(1&w&&(l=h),w>>=1;0!==w;w>>=1)g=k.multiply(g,g),1&w&&(l=null===l?g:k.multiply(l,g));return l}},{key:"multiply",value:function(h,y){if(0===h.length)return h;if(0===y.length)return y;var w=h.length+y.length;30<=h.__clzmsd()+y.__clzmsd()&&w--;var T=new k(w,h.sign!==y.sign);T.__initializeDigits();for(var D=0;D<h.length;D++)k.__multiplyAccumulate(y,h.__digit(D),T,D);return T.__trim()}},{key:"divide",value:function(h,y){if(0===y.length)throw new RangeError("Division by zero");if(0>k.__absoluteCompare(h,y))return k.__zero();var w,T=h.sign!==y.sign,D=y.__unsignedDigit(0);if(1===y.length&&32767>=D){if(1===D)return T===h.sign?h:k.unaryMinus(h);w=k.__absoluteDivSmall(h,D,null)}else w=k.__absoluteDivLarge(h,y,!0,!1);return w.sign=T,w.__trim()}},{key:"remainder",value:function(y,w){if(0===w.length)throw new RangeError("Division by zero");if(0>k.__absoluteCompare(y,w))return y;var T=w.__unsignedDigit(0);if(1===w.length&&32767>=T){if(1===T)return k.__zero();var D=k.__absoluteModSmall(y,T);return 0===D?k.__zero():k.__oneDigit(D,y.sign)}var j=k.__absoluteDivLarge(y,w,!1,!0);return j.sign=y.sign,j.__trim()}},{key:"add",value:function(h,y){var w=h.sign;return w===y.sign?k.__absoluteAdd(h,y,w):0<=k.__absoluteCompare(h,y)?k.__absoluteSub(h,y,w):k.__absoluteSub(y,h,!w)}},{key:"subtract",value:function(h,y){var w=h.sign;return w===y.sign?0<=k.__absoluteCompare(h,y)?k.__absoluteSub(h,y,w):k.__absoluteSub(y,h,!w):k.__absoluteAdd(h,y,w)}},{key:"leftShift",value:function(h,y){return 0===y.length||0===h.length?h:y.sign?k.__rightShiftByAbsolute(h,y):k.__leftShiftByAbsolute(h,y)}},{key:"signedRightShift",value:function(h,y){return 0===y.length||0===h.length?h:y.sign?k.__leftShiftByAbsolute(h,y):k.__rightShiftByAbsolute(h,y)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(h,y){return 0>k.__compareToBigInt(h,y)}},{key:"lessThanOrEqual",value:function(h,y){return 0>=k.__compareToBigInt(h,y)}},{key:"greaterThan",value:function(h,y){return 0<k.__compareToBigInt(h,y)}},{key:"greaterThanOrEqual",value:function(h,y){return 0<=k.__compareToBigInt(h,y)}},{key:"equal",value:function(h,y){if(h.sign!==y.sign||h.length!==y.length)return!1;for(var w=0;w<h.length;w++)if(h.__digit(w)!==y.__digit(w))return!1;return!0}},{key:"notEqual",value:function(h,y){return!k.equal(h,y)}},{key:"bitwiseAnd",value:function(h,y){if(!h.sign&&!y.sign)return k.__absoluteAnd(h,y).__trim();if(h.sign&&y.sign){var w=we(h.length,y.length)+1,T=k.__absoluteSubOne(h,w),D=k.__absoluteSubOne(y);return T=k.__absoluteOr(T,D,T),k.__absoluteAddOne(T,!0,T).__trim()}if(h.sign){var j=[y,h];h=j[0],y=j[1]}return k.__absoluteAndNot(h,k.__absoluteSubOne(y)).__trim()}},{key:"bitwiseXor",value:function(h,y){if(!h.sign&&!y.sign)return k.__absoluteXor(h,y).__trim();if(h.sign&&y.sign){var w=we(h.length,y.length),T=k.__absoluteSubOne(h,w),D=k.__absoluteSubOne(y);return k.__absoluteXor(T,D,T).__trim()}var j=we(h.length,y.length)+1;if(h.sign){var A=[y,h];h=A[0],y=A[1]}var l=k.__absoluteSubOne(y,j);return l=k.__absoluteXor(l,h,l),k.__absoluteAddOne(l,!0,l).__trim()}},{key:"bitwiseOr",value:function(h,y){var w=we(h.length,y.length);if(!h.sign&&!y.sign)return k.__absoluteOr(h,y).__trim();if(h.sign&&y.sign){var T=k.__absoluteSubOne(h,w),D=k.__absoluteSubOne(y);return T=k.__absoluteAnd(T,D,T),k.__absoluteAddOne(T,!0,T).__trim()}if(h.sign){var j=[y,h];h=j[0],y=j[1]}var A=k.__absoluteSubOne(y,w);return A=k.__absoluteAndNot(A,h,A),k.__absoluteAddOne(A,!0,A).__trim()}},{key:"asIntN",value:function(h,y){if(0===y.length)return y;if(0>(h=De(h)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===h)return k.__zero();if(h>=k.__kMaxLengthBits)return y;var w=0|(h+29)/30;if(y.length<w)return y;var T=y.__unsignedDigit(w-1),D=1<<(h-1)%30;if(y.length===w&&T<D)return y;if((T&D)!==D)return k.__truncateToNBits(h,y);if(!y.sign)return k.__truncateAndSubFromPowerOfTwo(h,y,!0);if(!(T&D-1)){for(var j=w-2;0<=j;j--)if(0!==y.__digit(j))return k.__truncateAndSubFromPowerOfTwo(h,y,!1);return y.length===w&&T===D?y:k.__truncateToNBits(h,y)}return k.__truncateAndSubFromPowerOfTwo(h,y,!1)}},{key:"asUintN",value:function(h,y){if(0===y.length)return y;if(0>(h=De(h)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===h)return k.__zero();if(y.sign){if(h>k.__kMaxLengthBits)throw new RangeError("BigInt too big");return k.__truncateAndSubFromPowerOfTwo(h,y,!1)}if(h>=k.__kMaxLengthBits)return y;var w=0|(h+29)/30;if(y.length<w)return y;var T=h%30;if(y.length==w){if(0===T)return y;if(!(y.__digit(w-1)>>>T))return y}return k.__truncateToNBits(h,y)}},{key:"ADD",value:function(h,y){if(h=k.__toPrimitive(h),y=k.__toPrimitive(y),"string"==typeof h)return"string"!=typeof y&&(y=y.toString()),h+y;if("string"==typeof y)return h.toString()+y;if(h=k.__toNumeric(h),y=k.__toNumeric(y),k.__isBigInt(h)&&k.__isBigInt(y))return k.add(h,y);if("number"==typeof h&&"number"==typeof y)return h+y;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(h,y){return k.__compare(h,y,0)}},{key:"LE",value:function(h,y){return k.__compare(h,y,1)}},{key:"GT",value:function(h,y){return k.__compare(h,y,2)}},{key:"GE",value:function(h,y){return k.__compare(h,y,3)}},{key:"EQ",value:function(h,y){for(;;){if(k.__isBigInt(h))return k.__isBigInt(y)?k.equal(h,y):k.EQ(y,h);if("number"==typeof h){if(k.__isBigInt(y))return k.__equalToNumber(y,h);if("object"!==m(y))return h==y;y=k.__toPrimitive(y)}else if("string"==typeof h){if(k.__isBigInt(y))return null!==(h=k.__fromString(h))&&k.equal(h,y);if("object"!==m(y))return h==y;y=k.__toPrimitive(y)}else if("boolean"==typeof h){if(k.__isBigInt(y))return k.__equalToNumber(y,+h);if("object"!==m(y))return h==y;y=k.__toPrimitive(y)}else if("symbol"===m(h)){if(k.__isBigInt(y))return!1;if("object"!==m(y))return h==y;y=k.__toPrimitive(y)}else{if("object"!==m(h))return h==y;if("object"===m(y)&&y.constructor!==k)return h==y;h=k.__toPrimitive(h)}}}},{key:"NE",value:function(h,y){return!k.EQ(h,y)}},{key:"DataViewGetBigInt64",value:function(h,y){return k.asIntN(64,k.DataViewGetBigUint64(h,y,2<arguments.length&&void 0!==arguments[2]&&arguments[2]))}},{key:"DataViewGetBigUint64",value:function(h,y){var w=2<arguments.length&&void 0!==arguments[2]&&arguments[2],D=re(w?[4,0]:[0,4],2),A=D[1],l=h.getUint32(y+D[0],w),g=h.getUint32(y+A,w),G=new k(3,!1);return G.__setDigit(0,1073741823&g),G.__setDigit(1,(268435455&l)<<2|g>>>30),G.__setDigit(2,l>>>28),G.__trim()}},{key:"DataViewSetBigInt64",value:function(h,y,w){k.DataViewSetBigUint64(h,y,w,3<arguments.length&&void 0!==arguments[3]&&arguments[3])}},{key:"DataViewSetBigUint64",value:function(h,y,w){var T=3<arguments.length&&void 0!==arguments[3]&&arguments[3],D=0,j=0;if(0<(w=k.asUintN(64,w)).length&&(j=w.__digit(0),1<w.length)){var A=w.__digit(1);j|=A<<30,D=A>>>2,2<w.length&&(D|=w.__digit(2)<<28)}var g=re(T?[4,0]:[0,4],2),H=g[1];h.setUint32(y+g[0],D,T),h.setUint32(y+H,j,T)}},{key:"__zero",value:function(){return new k(0,!1)}},{key:"__oneDigit",value:function(h,y){var w=new k(1,y);return w.__setDigit(0,h),w}},{key:"__decideRounding",value:function(h,y,w,T){if(0<y)return-1;var D;if(0>y)D=-y-1;else{if(0===w)return-1;w--,T=h.__digit(w),D=29}var j=1<<D;if(!(T&j))return-1;if(T&(j-=1))return 1;for(;0<w;)if(w--,0!==h.__digit(w))return 1;return 0}},{key:"__fromDouble",value:function(h){k.__kBitConversionDouble[0]=h;var y,T=(2047&k.__kBitConversionInts[1]>>>20)-1023,D=1+(0|T/30),j=new k(D,0>h),A=1048575&k.__kBitConversionInts[1]|1048576,l=k.__kBitConversionInts[0],G=T%30,H=0;if(G<20){var ne=20-G;H=ne+32,y=A>>>ne,A=A<<32-ne|l>>>ne,l<<=32-ne}else if(20===G)H=32,y=A,A=l,l=0;else{var ce=G-20;H=32-ce,y=A<<ce|l>>>32-ce,A=l<<ce,l=0}j.__setDigit(D-1,y);for(var Ae=D-2;0<=Ae;Ae--)0<H?(H-=30,y=A>>>2,A=A<<30|l>>>2,l<<=30):y=0,j.__setDigit(Ae,y);return j.__trim()}},{key:"__isWhitespace",value:function(h){return 13>=h&&9<=h||(159>=h?32==h:131071>=h?160==h||5760==h:196607>=h?10>=(h&=131071)||40==h||41==h||47==h||95==h||4096==h:65279==h)}},{key:"__fromString",value:function(h){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,w=0,T=h.length,D=0;if(D===T)return k.__zero();for(var j=h.charCodeAt(D);k.__isWhitespace(j);){if(++D===T)return k.__zero();j=h.charCodeAt(D)}if(43===j){if(++D===T)return null;j=h.charCodeAt(D),w=1}else if(45===j){if(++D===T)return null;j=h.charCodeAt(D),w=-1}if(0===y){if(y=10,48===j){if(++D===T)return k.__zero();if(88===(j=h.charCodeAt(D))||120===j){if(y=16,++D===T)return null;j=h.charCodeAt(D)}else if(79===j||111===j){if(y=8,++D===T)return null;j=h.charCodeAt(D)}else if(66===j||98===j){if(y=2,++D===T)return null;j=h.charCodeAt(D)}}}else if(16===y&&48===j){if(++D===T)return k.__zero();if(88===(j=h.charCodeAt(D))||120===j){if(++D===T)return null;j=h.charCodeAt(D)}}if(0!==w&&10!==y)return null;for(;48===j;){if(++D===T)return k.__zero();j=h.charCodeAt(D)}var A=T-D,l=k.__kMaxBitsPerChar[y],g=k.__kBitsPerCharTableMultiplier-1;if(A>1073741824/l)return null;var H=new k(0|(29+(l*A+g>>>k.__kBitsPerCharTableShift))/30,!1),ne=10>y?y:10,ce=10<y?y-10:0;if(y&y-1){H.__initializeDigits();var ye=!1,Se=0;do{for(var he,fe=0,ee=1;;){if(he=void 0,j-48>>>0<ne)he=j-48;else{if(!((32|j)-97>>>0<ce)){ye=!0;break}he=(32|j)-87}var ie=ee*y;if(1073741823<ie)break;if(ee=ie,fe=fe*y+he,Se++,++D===T){ye=!0;break}j=h.charCodeAt(D)}H.__inplaceMultiplyAdd(ee,fe,0|(l*Se+(g=30*k.__kBitsPerCharTableMultiplier-1)>>>k.__kBitsPerCharTableShift)/30)}while(!ye)}else{l>>=k.__kBitsPerCharTableShift;var Ae=[],ke=[],Fe=!1;do{for(var Ee,ge=0,Oe=0;;){if(Ee=void 0,j-48>>>0<ne)Ee=j-48;else{if(!((32|j)-97>>>0<ce)){Fe=!0;break}Ee=(32|j)-87}if(Oe+=l,ge=ge<<l|Ee,++D===T){Fe=!0;break}if(j=h.charCodeAt(D),30<Oe+l)break}Ae.push(ge),ke.push(Oe)}while(!Fe);k.__fillFromParts(H,Ae,ke)}if(D!==T){if(!k.__isWhitespace(j))return null;for(D++;D<T;D++)if(j=h.charCodeAt(D),!k.__isWhitespace(j))return null}return H.sign=-1===w,H.__trim()}},{key:"__fillFromParts",value:function(h,y,w){for(var T=0,D=0,j=0,A=y.length-1;0<=A;A--){var l=y[A],g=w[A];D|=l<<j,30===(j+=g)?(h.__setDigit(T++,D),j=0,D=0):30<j&&(h.__setDigit(T++,1073741823&D),D=l>>>g-(j-=30))}if(0!==D){if(T>=h.length)throw new Error("implementation bug");h.__setDigit(T++,D)}for(;T<h.length;T++)h.__setDigit(T,0)}},{key:"__toStringBasePowerOfTwo",value:function(h,y){var w=h.length,T=y-1,D=T=(15&(T=(51&(T=(85&T>>>1)+(85&T))>>>2)+(51&T))>>>4)+(15&T),j=y-1,A=h.__digit(w-1),g=0|(30*w-k.__clz30(A)+D-1)/D;if(h.sign&&g++,268435456<g)throw new Error("string too long");for(var G=Array(g),H=g-1,ne=0,ce=0,Ae=0;Ae<w-1;Ae++){var ke=h.__digit(Ae);G[H--]=k.__kConversionChars[(ne|ke<<ce)&j];var Ee=D-ce;for(ne=ke>>>Ee,ce=30-Ee;ce>=D;)G[H--]=k.__kConversionChars[ne&j],ne>>>=D,ce-=D}for(G[H--]=k.__kConversionChars[(ne|A<<ce)&j],ne=A>>>D-ce;0!==ne;)G[H--]=k.__kConversionChars[ne&j],ne>>>=D;if(h.sign&&(G[H--]="-"),-1!==H)throw new Error("implementation bug");return G.join("")}},{key:"__toStringGeneric",value:function(h,y,w){var T=h.length;if(0===T)return"";if(1===T){var D=h.__unsignedDigit(0).toString(y);return!1===w&&h.sign&&(D="-"+D),D}var G,H,j=30*T-k.__clz30(h.__digit(T-1)),l=k.__kMaxBitsPerChar[y]-1,g=j*k.__kBitsPerCharTableMultiplier,ne=1+(g=0|(g+=l-1)/l)>>1,ce=k.exponentiate(k.__oneDigit(y,!1),k.__oneDigit(ne,!1)),Ae=ce.__unsignedDigit(0);if(1===ce.length&&32767>=Ae){(G=new k(h.length,!1)).__initializeDigits();for(var ke,Fe=0,Ee=2*h.length-1;0<=Ee;Ee--)ke=Fe<<15|h.__halfDigit(Ee),G.__setHalfDigit(Ee,0|ke/Ae),Fe=0|ke%Ae;H=Fe.toString(y)}else{var ge=k.__absoluteDivLarge(h,ce,!0,!0);G=ge.quotient;var Oe=ge.remainder.__trim();H=k.__toStringGeneric(Oe,y,!0)}G.__trim();for(var ye=k.__toStringGeneric(G,y,!0);H.length<ne;)H="0"+H;return!1===w&&h.sign&&(ye="-"+ye),ye+H}},{key:"__unequalSign",value:function(h){return h?-1:1}},{key:"__absoluteGreater",value:function(h){return h?-1:1}},{key:"__absoluteLess",value:function(h){return h?1:-1}},{key:"__compareToBigInt",value:function(h,y){var w=h.sign;if(w!==y.sign)return k.__unequalSign(w);var T=k.__absoluteCompare(h,y);return 0<T?k.__absoluteGreater(w):0>T?k.__absoluteLess(w):0}},{key:"__compareToNumber",value:function(h,y){if(k.__isOneDigitInt(y)){var w=h.sign,T=0>y;if(w!==T)return k.__unequalSign(w);if(0===h.length){if(T)throw new Error("implementation bug");return 0===y?0:-1}if(1<h.length)return k.__absoluteGreater(w);var D=ve(y),j=h.__unsignedDigit(0);return j>D?k.__absoluteGreater(w):j<D?k.__absoluteLess(w):0}return k.__compareToDouble(h,y)}},{key:"__compareToDouble",value:function(h,y){if(y!=y)return y;if(y===1/0)return-1;if(y===-1/0)return 1;var w=h.sign;if(w!==0>y)return k.__unequalSign(w);if(0===y)throw new Error("implementation bug: should be handled elsewhere");if(0===h.length)return-1;k.__kBitConversionDouble[0]=y;var T=2047&k.__kBitConversionInts[1]>>>20;if(2047==T)throw new Error("implementation bug: handled elsewhere");var D=T-1023;if(0>D)return k.__absoluteGreater(w);var j=h.length,A=h.__digit(j-1),l=k.__clz30(A),g=30*j-l,G=D+1;if(g<G)return k.__absoluteLess(w);if(g>G)return k.__absoluteGreater(w);var H=1048576|1048575&k.__kBitConversionInts[1],ne=k.__kBitConversionInts[0],Ae=29-l;if(Ae!==(0|(g-1)%30))throw new Error("implementation bug");var ke,Fe=0;if(Ae<20){var Ee=20-Ae;Fe=Ee+32,ke=H>>>Ee,H=H<<32-Ee|ne>>>Ee,ne<<=32-Ee}else if(20===Ae)Fe=32,ke=H,H=ne,ne=0;else{var ge=Ae-20;Fe=32-ge,ke=H<<ge|ne>>>32-ge,H=ne<<ge,ne=0}if((A>>>=0)>(ke>>>=0))return k.__absoluteGreater(w);if(A<ke)return k.__absoluteLess(w);for(var Oe=j-2;0<=Oe;Oe--){0<Fe?(Fe-=30,ke=H>>>2,H=H<<30|ne>>>2,ne<<=30):ke=0;var ye=h.__unsignedDigit(Oe);if(ye>ke)return k.__absoluteGreater(w);if(ye<ke)return k.__absoluteLess(w)}if(0!==H||0!==ne){if(0===Fe)throw new Error("implementation bug");return k.__absoluteLess(w)}return 0}},{key:"__equalToNumber",value:function(h,y){return k.__isOneDigitInt(y)?0===y?0===h.length:1===h.length&&h.sign===0>y&&h.__unsignedDigit(0)===ve(y):0===k.__compareToDouble(h,y)}},{key:"__comparisonResultToBool",value:function(h,y){return 0===y?0>h:1===y?0>=h:2===y?0<h:3===y?0<=h:void 0}},{key:"__compare",value:function(h,y,w){if(h=k.__toPrimitive(h),y=k.__toPrimitive(y),"string"==typeof h&&"string"==typeof y)switch(w){case 0:return h<y;case 1:return h<=y;case 2:return h>y;case 3:return h>=y}if(k.__isBigInt(h)&&"string"==typeof y)return null!==(y=k.__fromString(y))&&k.__comparisonResultToBool(k.__compareToBigInt(h,y),w);if("string"==typeof h&&k.__isBigInt(y))return null!==(h=k.__fromString(h))&&k.__comparisonResultToBool(k.__compareToBigInt(h,y),w);if(h=k.__toNumeric(h),y=k.__toNumeric(y),k.__isBigInt(h)){if(k.__isBigInt(y))return k.__comparisonResultToBool(k.__compareToBigInt(h,y),w);if("number"!=typeof y)throw new Error("implementation bug");return k.__comparisonResultToBool(k.__compareToNumber(h,y),w)}if("number"!=typeof h)throw new Error("implementation bug");if(k.__isBigInt(y))return k.__comparisonResultToBool(k.__compareToNumber(y,h),2^w);if("number"!=typeof y)throw new Error("implementation bug");return 0===w?h<y:1===w?h<=y:2===w?h>y:3===w?h>=y:void 0}},{key:"__absoluteAdd",value:function(h,y,w){if(h.length<y.length)return k.__absoluteAdd(y,h,w);if(0===h.length)return h;if(0===y.length)return h.sign===w?h:k.unaryMinus(h);var T=h.length;(0===h.__clzmsd()||y.length===h.length&&0===y.__clzmsd())&&T++;for(var D,j=new k(T,w),A=0,l=0;l<y.length;l++)A=(D=h.__digit(l)+y.__digit(l)+A)>>>30,j.__setDigit(l,1073741823&D);for(;l<h.length;l++){var g=h.__digit(l)+A;A=g>>>30,j.__setDigit(l,1073741823&g)}return l<j.length&&j.__setDigit(l,A),j.__trim()}},{key:"__absoluteSub",value:function(h,y,w){if(0===h.length)return h;if(0===y.length)return h.sign===w?h:k.unaryMinus(h);for(var T,D=new k(h.length,w),j=0,A=0;A<y.length;A++)j=1&(T=h.__digit(A)-y.__digit(A)-j)>>>30,D.__setDigit(A,1073741823&T);for(;A<h.length;A++){var l=h.__digit(A)-j;j=1&l>>>30,D.__setDigit(A,1073741823&l)}return D.__trim()}},{key:"__absoluteAddOne",value:function(h,y){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,T=h.length;null===w?w=new k(T,y):w.sign=y;for(var D,j=1,A=0;A<T;A++)j=(D=h.__digit(A)+j)>>>30,w.__setDigit(A,1073741823&D);return 0!==j&&w.__setDigitGrow(T,1),w}},{key:"__absoluteSubOne",value:function(h,y){for(var T,w=h.length,D=new k(y=y||w,!1),j=1,A=0;A<w;A++)j=1&(T=h.__digit(A)-j)>>>30,D.__setDigit(A,1073741823&T);if(0!==j)throw new Error("implementation bug");for(var l=w;l<y;l++)D.__setDigit(l,0);return D}},{key:"__absoluteAnd",value:function(h,y){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,T=h.length,D=y.length,j=D;if(T<D){j=T;var A=h,l=T;h=y,T=D,y=A,D=l}var g=j;null===w?w=new k(g,!1):g=w.length;for(var G=0;G<j;G++)w.__setDigit(G,h.__digit(G)&y.__digit(G));for(;G<g;G++)w.__setDigit(G,0);return w}},{key:"__absoluteAndNot",value:function(h,y){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,T=h.length,D=y.length,j=D;T<D&&(j=T);var A=T;null===w?w=new k(A,!1):A=w.length;for(var l=0;l<j;l++)w.__setDigit(l,h.__digit(l)&~y.__digit(l));for(;l<T;l++)w.__setDigit(l,h.__digit(l));for(;l<A;l++)w.__setDigit(l,0);return w}},{key:"__absoluteOr",value:function(h,y){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,T=h.length,D=y.length,j=D;if(T<D){j=T;var A=h,l=T;h=y,T=D,y=A,D=l}var g=T;null===w?w=new k(g,!1):g=w.length;for(var G=0;G<j;G++)w.__setDigit(G,h.__digit(G)|y.__digit(G));for(;G<T;G++)w.__setDigit(G,h.__digit(G));for(;G<g;G++)w.__setDigit(G,0);return w}},{key:"__absoluteXor",value:function(h,y){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,T=h.length,D=y.length,j=D;if(T<D){j=T;var A=h,l=T;h=y,T=D,y=A,D=l}var g=T;null===w?w=new k(g,!1):g=w.length;for(var G=0;G<j;G++)w.__setDigit(G,h.__digit(G)^y.__digit(G));for(;G<T;G++)w.__setDigit(G,h.__digit(G));for(;G<g;G++)w.__setDigit(G,0);return w}},{key:"__absoluteCompare",value:function(h,y){var w=h.length-y.length;if(0!=w)return w;for(var T=h.length-1;0<=T&&h.__digit(T)===y.__digit(T);)T--;return 0>T?0:h.__unsignedDigit(T)>y.__unsignedDigit(T)?1:-1}},{key:"__multiplyAccumulate",value:function(h,y,w,T){if(0!==y){for(var D=32767&y,j=y>>>15,A=0,l=0,g=0;g<h.length;g++,T++){var G=w.__digit(T),H=h.__digit(g),ne=32767&H,ce=H>>>15,Ae=k.__imul(ne,D),ke=k.__imul(ne,j),Fe=k.__imul(ce,D);A=(G+=l+Ae+A)>>>30,G&=1073741823,A+=(G+=((32767&ke)<<15)+((32767&Fe)<<15))>>>30,l=k.__imul(ce,j)+(ke>>>15)+(Fe>>>15),w.__setDigit(T,1073741823&G)}for(;0!==A||0!==l;T++){var ge=w.__digit(T);ge+=A+l,l=0,A=ge>>>30,w.__setDigit(T,1073741823&ge)}}}},{key:"__internalMultiplyAdd",value:function(h,y,w,T,D){for(var j=w,A=0,l=0;l<T;l++){var g=h.__digit(l),G=k.__imul(32767&g,y),H=k.__imul(g>>>15,y),ne=G+((32767&H)<<15)+A+j;j=ne>>>30,A=H>>>15,D.__setDigit(l,1073741823&ne)}if(D.length>T)for(D.__setDigit(T++,j+A);T<D.length;)D.__setDigit(T++,0);else if(j+A!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(h,y){var w=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;null===w&&(w=new k(h.length,!1));for(var T=0,D=2*h.length-1;0<=D;D-=2){var j=(T<<15|h.__halfDigit(D))>>>0,A=0|j/y;T=0|(j=((T=0|j%y)<<15|h.__halfDigit(D-1))>>>0)%y,w.__setDigit(D>>>1,A<<15|j/y)}return w}},{key:"__absoluteModSmall",value:function(h,y){for(var T=0,D=2*h.length-1;0<=D;D--)T=0|((T<<15|h.__halfDigit(D))>>>0)%y;return T}},{key:"__absoluteDivLarge",value:function(h,y,w,T){var D=y.__halfDigitLength(),j=y.length,A=h.__halfDigitLength()-D,l=null;w&&(l=new k(A+2>>>1,!1)).__initializeDigits();var g=new k(D+2>>>1,!1);g.__initializeDigits();var G=k.__clz15(y.__halfDigit(D-1));0<G&&(y=k.__specialLeftShift(y,G,0));for(var H=k.__specialLeftShift(h,G,1),ne=y.__halfDigit(D-1),ce=0,Ae=A;0<=Ae;Ae--){var ke=32767,Fe=H.__halfDigit(Ae+D);if(Fe!==ne){var Ee=(Fe<<15|H.__halfDigit(Ae+D-1))>>>0;ke=0|Ee/ne;for(var ge=0|Ee%ne,Oe=y.__halfDigit(D-2),ye=H.__halfDigit(Ae+D-2);k.__imul(ke,Oe)>>>0>(ge<<16|ye)>>>0&&(ke--,!(32767<(ge+=ne))););}k.__internalMultiplyAdd(y,ke,0,j,g);var Se=H.__inplaceSub(g,Ae,D+1);0!==Se&&(Se=H.__inplaceAdd(y,Ae,D),H.__setHalfDigit(Ae+D,32767&H.__halfDigit(Ae+D)+Se),ke--),w&&(1&Ae?ce=ke<<15:l.__setDigit(Ae>>>1,ce|ke))}if(T)return H.__inplaceRightShift(G),w?{quotient:l,remainder:H}:H;if(w)return l;throw new Error("unreachable")}},{key:"__clz15",value:function(h){return k.__clz30(h)-15}},{key:"__specialLeftShift",value:function(h,y,w){var T=h.length,D=new k(T+w,!1);if(0===y){for(var j=0;j<T;j++)D.__setDigit(j,h.__digit(j));return 0<w&&D.__setDigit(T,0),D}for(var A,l=0,g=0;g<T;g++)A=h.__digit(g),D.__setDigit(g,1073741823&A<<y|l),l=A>>>30-y;return 0<w&&D.__setDigit(T,l),D}},{key:"__leftShiftByAbsolute",value:function(h,y){var w=k.__toShiftAmount(y);if(0>w)throw new RangeError("BigInt too big");var T=0|w/30,D=w%30,j=h.length,A=0!==D&&h.__digit(j-1)>>>30-D!=0,l=j+T+(A?1:0),g=new k(l,h.sign);if(0===D){for(var G=0;G<T;G++)g.__setDigit(G,0);for(;G<l;G++)g.__setDigit(G,h.__digit(G-T))}else{for(var H=0,ne=0;ne<T;ne++)g.__setDigit(ne,0);for(var ce,Ae=0;Ae<j;Ae++)ce=h.__digit(Ae),g.__setDigit(Ae+T,1073741823&ce<<D|H),H=ce>>>30-D;if(A)g.__setDigit(j+T,H);else if(0!==H)throw new Error("implementation bug")}return g.__trim()}},{key:"__rightShiftByAbsolute",value:function(h,y){var w=h.length,T=h.sign,D=k.__toShiftAmount(y);if(0>D)return k.__rightShiftByMaximum(T);var j=0|D/30,A=D%30,l=w-j;if(0>=l)return k.__rightShiftByMaximum(T);var g=!1;if(T)if(h.__digit(j)&(1<<A)-1)g=!0;else for(var G=0;G<j;G++)if(0!==h.__digit(G)){g=!0;break}g&&0===A&&!~h.__digit(w-1)&&l++;var ne=new k(l,T);if(0===A){ne.__setDigit(l-1,0);for(var ce=j;ce<w;ce++)ne.__setDigit(ce-j,h.__digit(ce))}else{for(var Ae,ke=h.__digit(j)>>>A,Fe=w-j-1,Ee=0;Ee<Fe;Ee++)Ae=h.__digit(Ee+j+1),ne.__setDigit(Ee,1073741823&Ae<<30-A|ke),ke=Ae>>>A;ne.__setDigit(Fe,ke)}return g&&(ne=k.__absoluteAddOne(ne,!0,ne)),ne.__trim()}},{key:"__rightShiftByMaximum",value:function(h){return h?k.__oneDigit(1,!0):k.__zero()}},{key:"__toShiftAmount",value:function(h){if(1<h.length)return-1;var y=h.__unsignedDigit(0);return y>k.__kMaxLengthBits?-1:y}},{key:"__toPrimitive",value:function(h){var y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==m(h)||h.constructor===k)return h;if(typeof Symbol<"u"&&"symbol"===m(Symbol.toPrimitive)){var w=h[Symbol.toPrimitive];if(w){var T=w(y);if("object"!==m(T))return T;throw new TypeError("Cannot convert object to primitive value")}}var D=h.valueOf;if(D){var j=D.call(h);if("object"!==m(j))return j}var A=h.toString;if(A){var l=A.call(h);if("object"!==m(l))return l}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(h){return k.__isBigInt(h)?h:+h}},{key:"__isBigInt",value:function(h){return"object"===m(h)&&null!==h&&h.constructor===k}},{key:"__truncateToNBits",value:function(h,y){for(var w=0|(h+29)/30,T=new k(w,y.sign),D=w-1,j=0;j<D;j++)T.__setDigit(j,y.__digit(j));var A=y.__digit(D);if(h%30!=0){var l=32-h%30;A=A<<l>>>l}return T.__setDigit(D,A),T.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(h,y,w){for(var D,T=Math.min,j=0|(h+29)/30,A=new k(j,w),l=0,g=j-1,G=0,H=T(g,y.length);l<H;l++)G=1&(D=0-y.__digit(l)-G)>>>30,A.__setDigit(l,1073741823&D);for(;l<g;l++)A.__setDigit(l,1073741823&-G);var ne,ce=g<y.length?y.__digit(g):0,Ae=h%30;if(0===Ae)ne=0-ce-G,ne&=1073741823;else{var ke=32-Ae,Fe=1<<32-ke;ne=Fe-(ce=ce<<ke>>>ke)-G,ne&=Fe-1}return A.__setDigit(g,ne),A.__trim()}},{key:"__digitPow",value:function(h,y){for(var w=1;0<y;)1&y&&(w*=h),y>>>=1,h*=h;return w}},{key:"__isOneDigitInt",value:function(h){return(1073741823&h)===h}}]),k}(I(Array));return pe.__kMaxLength=33554432,pe.__kMaxLengthBits=pe.__kMaxLength<<5,pe.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],pe.__kBitsPerCharTableShift=5,pe.__kBitsPerCharTableMultiplier=1<<pe.__kBitsPerCharTableShift,pe.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pe.__kBitConversionBuffer=new ArrayBuffer(8),pe.__kBitConversionDouble=new Float64Array(pe.__kBitConversionBuffer),pe.__kBitConversionInts=new Int32Array(pe.__kBitConversionBuffer),pe.__clz30=E?function(le){return E(le)-2}:function(le){var ve=Math.LN2,we=Math.log;return 0===le?30:0|29-(0|we(le>>>0)/ve)},pe.__imul=z||function(le,ve){return 0|le*ve},pe}()},44331:Le=>{"use strict";var z=Le.exports=function(x,R,W){"function"==typeof R&&(W=R,R={}),E(R,"function"==typeof(W=R.cb||W)?W:W.pre||function(){},W.post||function(){},x,"",x)};function E(x,R,W,S,L,M,N,$,F,I){if(S&&"object"==typeof S&&!Array.isArray(S)){for(var X in R(S,L,M,N,$,F,I),S){var V=S[X];if(Array.isArray(V)){if(X in z.arrayKeywords)for(var Z=0;Z<V.length;Z++)E(x,R,W,V[Z],L+"/"+X+"/"+Z,M,L,X,S,Z)}else if(X in z.propsKeywords){if(V&&"object"==typeof V)for(var re in V)E(x,R,W,V[re],L+"/"+X+"/"+m(re),M,L,X,S,re)}else(X in z.keywords||x.allKeys&&!(X in z.skipKeywords))&&E(x,R,W,V,L+"/"+X,M,L,X,S)}W(S,L,M,N,$,F,I)}}function m(x){return x.replace(/~/g,"~0").replace(/\//g,"~1")}z.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},z.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},z.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},z.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},89061:(Le,z)=>{"use strict";z.supports=function(...m){const x=m.reduce((R,W)=>Object.assign(R,W),{});return Object.assign(x,{snapshots:x.snapshots||!1,permanence:x.permanence||!1,seek:x.seek||!1,clear:x.clear||!1,getMany:x.getMany||!1,keyIterator:x.keyIterator||!1,valueIterator:x.valueIterator||!1,iteratorNextv:x.iteratorNextv||!1,iteratorAll:x.iteratorAll||!1,status:x.status||!1,createIfMissing:x.createIfMissing||!1,errorIfExists:x.errorIfExists||!1,deferredOpen:x.deferredOpen||!1,promises:x.promises||!1,streams:x.streams||!1,encodings:Object.assign({},x.encodings),events:Object.assign({},x.events),additionalMethods:Object.assign({},x.additionalMethods)})}},25006:(Le,z,E)=>{"use strict";const m=E(61747),x=E(40080),{Encoding:R}=E(15045),{BufferFormat:W,ViewFormat:S,UTF8Format:L}=E(48262),M=Symbol("formats"),N=Symbol("encodings"),$=new Set(["buffer","view","utf8"]);z.Transcoder=class F{constructor(Q){if(!Array.isArray(Q))throw new TypeError("The first argument 'formats' must be an array");if(!Q.every(J=>$.has(J)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'");this[N]=new Map,this[M]=new Set(Q);for(const J in x)try{this.encoding(J)}catch(oe){if("LEVEL_ENCODING_NOT_SUPPORTED"!==oe.code)throw oe}}encodings(){return Array.from(new Set(this[N].values()))}encoding(Q){let J=this[N].get(Q);if(void 0===J){if("string"==typeof Q&&""!==Q){if(J=Z[Q],!J)throw new m(`Encoding '${Q}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if("object"!=typeof Q||null===Q)throw new TypeError("First argument 'encoding' must be a string or object");J=function I(te){if(te instanceof R)return te;const J=te.name||("type"in te&&"string"==typeof te.type?te.type:void 0)||"anonymous-"+re++;switch(function X(te){return"format"in te&&void 0!==te.format?te.format:"buffer"in te&&"boolean"==typeof te.buffer?te.buffer?"buffer":"utf8":"code"in te&&Number.isInteger(te.code)?"view":"buffer"}(te)){case"view":return new S({...te,name:J});case"utf8":return new L({...te,name:J});case"buffer":return new W({...te,name:J});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}(Q)}const{name:oe,format:se}=J;if(!this[M].has(se))if(this[M].has("view"))J=J.createViewTranscoder();else if(this[M].has("buffer"))J=J.createBufferTranscoder();else{if(!this[M].has("utf8"))throw new m(`Encoding '${oe}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});J=J.createUTF8Transcoder()}for(const ae of[Q,oe,J.name,J.commonName])this[N].set(ae,J)}return J}};const V={binary:x.buffer,"utf-8":x.utf8},Z={...x,...V};let re=0},15045:(Le,z,E)=>{"use strict";const m=E(61747),x=new Set(["buffer","view","utf8"]);z.Encoding=class R{constructor(S){if(this.encode=S.encode||this.encode,this.decode=S.decode||this.decode,this.name=S.name||this.name,this.format=S.format||this.format,"function"!=typeof this.encode)throw new TypeError("The 'encode' property must be a function");if("function"!=typeof this.decode)throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),"string"!=typeof this.name||""===this.name)throw new TypeError("The 'name' property must be a string");if("string"!=typeof this.format||!x.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");S.createViewTranscoder&&(this.createViewTranscoder=S.createViewTranscoder),S.createBufferTranscoder&&(this.createBufferTranscoder=S.createBufferTranscoder),S.createUTF8Transcoder&&(this.createUTF8Transcoder=S.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new m(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new m(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new m(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}}},40080:(Le,z,E)=>{"use strict";const{Buffer:m}=E(484)||{Buffer:{isBuffer:()=>!1}},{textEncoder:x,textDecoder:R}=E(33619)(),{BufferFormat:W,ViewFormat:S,UTF8Format:L}=E(48262),M=N=>N;z.utf8=new L({encode:function(N){return m.isBuffer(N)?N.toString("utf8"):ArrayBuffer.isView(N)?R.decode(N):String(N)},decode:M,name:"utf8",createViewTranscoder(){return new S({encode:function(N){return ArrayBuffer.isView(N)?N:x.encode(N)},decode:function(N){return R.decode(N)},name:`${this.name}+view`})},createBufferTranscoder(){return new W({encode:function(N){return m.isBuffer(N)?N:ArrayBuffer.isView(N)?m.from(N.buffer,N.byteOffset,N.byteLength):m.from(String(N),"utf8")},decode:function(N){return N.toString("utf8")},name:`${this.name}+buffer`})}}),z.json=new L({encode:JSON.stringify,decode:JSON.parse,name:"json"}),z.buffer=new W({encode:function(N){return m.isBuffer(N)?N:ArrayBuffer.isView(N)?m.from(N.buffer,N.byteOffset,N.byteLength):m.from(String(N),"utf8")},decode:M,name:"buffer",createViewTranscoder(){return new S({encode:function(N){return ArrayBuffer.isView(N)?N:m.from(String(N),"utf8")},decode:function(N){return m.from(N.buffer,N.byteOffset,N.byteLength)},name:`${this.name}+view`})}}),z.view=new S({encode:function(N){return ArrayBuffer.isView(N)?N:x.encode(N)},decode:M,name:"view",createBufferTranscoder(){return new W({encode:function(N){return m.isBuffer(N)?N:ArrayBuffer.isView(N)?m.from(N.buffer,N.byteOffset,N.byteLength):m.from(String(N),"utf8")},decode:M,name:`${this.name}+buffer`})}}),z.hex=new W({encode:function(N){return m.isBuffer(N)?N:m.from(String(N),"hex")},decode:function(N){return N.toString("hex")},name:"hex"}),z.base64=new W({encode:function(N){return m.isBuffer(N)?N:m.from(String(N),"base64")},decode:function(N){return N.toString("base64")},name:"base64"})},48262:(Le,z,E)=>{"use strict";const{Buffer:m}=E(484)||{},{Encoding:x}=E(15045),R=E(33619);class W extends x{constructor(N){super({...N,format:"buffer"})}createViewTranscoder(){return new S({encode:this.encode,decode:N=>this.decode(m.from(N.buffer,N.byteOffset,N.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}}class S extends x{constructor(N){super({...N,format:"view"})}createBufferTranscoder(){return new W({encode:N=>{const $=this.encode(N);return m.from($.buffer,$.byteOffset,$.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}}z.BufferFormat=W,z.ViewFormat=S,z.UTF8Format=class L extends x{constructor(N){super({...N,format:"utf8"})}createBufferTranscoder(){return new W({encode:N=>m.from(this.encode(N),"utf8"),decode:N=>this.decode(N.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:N,textDecoder:$}=R();return new S({encode:F=>N.encode(this.encode(F)),decode:F=>this.decode($.decode(F)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}}},33619:Le=>{"use strict";let z=null;Le.exports=function(){return null===z&&(z={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),z}},484:(Le,z,E)=>{"use strict";const m=E(13981),x=E(22020),R="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;z.Buffer=M,z.SlowBuffer=function J(U){return+U!=U&&(U=0),M.alloc(+U)},z.INSPECT_MAX_BYTES=50;const W=2147483647;function L(U){if(U>W)throw new RangeError('The value "'+U+'" is invalid for option "size"');const _=new Uint8Array(U);return Object.setPrototypeOf(_,M.prototype),_}function M(U,_,p){if("number"==typeof U){if("string"==typeof _)throw new TypeError('The "string" argument must be of type string. Received type number');return I(U)}return N(U,_,p)}function N(U,_,p){if("string"==typeof U)return function X(U,_){if(("string"!=typeof _||""===_)&&(_="utf8"),!M.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const p=0|oe(U,_);let O=L(p);const q=O.write(U,_);return q!==p&&(O=O.slice(0,q)),O}(U,_);if(ArrayBuffer.isView(U))return function Z(U){if(Be(U,Uint8Array)){const _=new Uint8Array(U);return re(_.buffer,_.byteOffset,_.byteLength)}return V(U)}(U);if(null==U)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Be(U,ArrayBuffer)||U&&Be(U.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(U,SharedArrayBuffer)||U&&Be(U.buffer,SharedArrayBuffer)))return re(U,_,p);if("number"==typeof U)throw new TypeError('The "value" argument must not be of type number. Received type number');const O=U.valueOf&&U.valueOf();if(null!=O&&O!==U)return M.from(O,_,p);const q=function te(U){if(M.isBuffer(U)){const _=0|Q(U.length),p=L(_);return 0===p.length||U.copy(p,0,0,_),p}return void 0!==U.length?"number"!=typeof U.length||yt(U.length)?L(0):V(U):"Buffer"===U.type&&Array.isArray(U.data)?V(U.data):void 0}(U);if(q)return q;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof U[Symbol.toPrimitive])return M.from(U[Symbol.toPrimitive]("string"),_,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function $(U){if("number"!=typeof U)throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function I(U){return $(U),L(U<0?0:0|Q(U))}function V(U){const _=U.length<0?0:0|Q(U.length),p=L(_);for(let O=0;O<_;O+=1)p[O]=255&U[O];return p}function re(U,_,p){if(_<0||U.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<_+(p||0))throw new RangeError('"length" is outside of buffer bounds');let O;return O=void 0===_&&void 0===p?new Uint8Array(U):void 0===p?new Uint8Array(U,_):new Uint8Array(U,_,p),Object.setPrototypeOf(O,M.prototype),O}function Q(U){if(U>=W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");return 0|U}function oe(U,_){if(M.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||Be(U,ArrayBuffer))return U.byteLength;if("string"!=typeof U)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const p=U.length,O=arguments.length>2&&!0===arguments[2];if(!O&&0===p)return 0;let q=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return ie(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*p;case"hex":return p>>>1;case"base64":return Ie(U).length;default:if(q)return O?-1:ie(U).length;_=(""+_).toLowerCase(),q=!0}}function se(U,_,p){let O=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===p||p>this.length)&&(p=this.length),p<=0)||(p>>>=0)<=(_>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return A(this,_,p);case"utf8":case"utf-8":return y(this,_,p);case"ascii":return D(this,_,p);case"latin1":case"binary":return j(this,_,p);case"base64":return h(this,_,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,_,p);default:if(O)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),O=!0}}function ae(U,_,p){const O=U[_];U[_]=U[p],U[p]=O}function pe(U,_,p,O,q){if(0===U.length)return-1;if("string"==typeof p?(O=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),yt(p=+p)&&(p=q?0:U.length-1),p<0&&(p=U.length+p),p>=U.length){if(q)return-1;p=U.length-1}else if(p<0){if(!q)return-1;p=0}if("string"==typeof _&&(_=M.from(_,O)),M.isBuffer(_))return 0===_.length?-1:le(U,_,p,O,q);if("number"==typeof _)return _&=255,"function"==typeof Uint8Array.prototype.indexOf?q?Uint8Array.prototype.indexOf.call(U,_,p):Uint8Array.prototype.lastIndexOf.call(U,_,p):le(U,[_],p,O,q);throw new TypeError("val must be string, number or Buffer")}function le(U,_,p,O,q){let ut,me=1,xe=U.length,qe=_.length;if(void 0!==O&&("ucs2"===(O=String(O).toLowerCase())||"ucs-2"===O||"utf16le"===O||"utf-16le"===O)){if(U.length<2||_.length<2)return-1;me=2,xe/=2,qe/=2,p/=2}function At(bt,Lt){return 1===me?bt[Lt]:bt.readUInt16BE(Lt*me)}if(q){let bt=-1;for(ut=p;ut<xe;ut++)if(At(U,ut)===At(_,-1===bt?0:ut-bt)){if(-1===bt&&(bt=ut),ut-bt+1===qe)return bt*me}else-1!==bt&&(ut-=ut-bt),bt=-1}else for(p+qe>xe&&(p=xe-qe),ut=p;ut>=0;ut--){let bt=!0;for(let Lt=0;Lt<qe;Lt++)if(At(U,ut+Lt)!==At(_,Lt)){bt=!1;break}if(bt)return ut}return-1}function ve(U,_,p,O){p=Number(p)||0;const q=U.length-p;O?(O=Number(O))>q&&(O=q):O=q;const me=_.length;let xe;for(O>me/2&&(O=me/2),xe=0;xe<O;++xe){const qe=parseInt(_.substr(2*xe,2),16);if(yt(qe))return xe;U[p+xe]=qe}return xe}function we(U,_,p,O){return Ne(ie(_,U.length-p),U,p,O)}function De(U,_,p,O){return Ne(function ue(U){const _=[];for(let p=0;p<U.length;++p)_.push(255&U.charCodeAt(p));return _}(_),U,p,O)}function k(U,_,p,O){return Ne(Ie(_),U,p,O)}function u(U,_,p,O){return Ne(function be(U,_){let p,O,q;const me=[];for(let xe=0;xe<U.length&&!((_-=2)<0);++xe)p=U.charCodeAt(xe),O=p>>8,q=p%256,me.push(q),me.push(O);return me}(_,U.length-p),U,p,O)}function h(U,_,p){return m.fromByteArray(0===_&&p===U.length?U:U.slice(_,p))}function y(U,_,p){p=Math.min(U.length,p);const O=[];let q=_;for(;q<p;){const me=U[q];let xe=null,qe=me>239?4:me>223?3:me>191?2:1;if(q+qe<=p){let At,ut,bt,Lt;switch(qe){case 1:me<128&&(xe=me);break;case 2:At=U[q+1],128==(192&At)&&(Lt=(31&me)<<6|63&At,Lt>127&&(xe=Lt));break;case 3:At=U[q+1],ut=U[q+2],128==(192&At)&&128==(192&ut)&&(Lt=(15&me)<<12|(63&At)<<6|63&ut,Lt>2047&&(Lt<55296||Lt>57343)&&(xe=Lt));break;case 4:At=U[q+1],ut=U[q+2],bt=U[q+3],128==(192&At)&&128==(192&ut)&&128==(192&bt)&&(Lt=(15&me)<<18|(63&At)<<12|(63&ut)<<6|63&bt,Lt>65535&&Lt<1114112&&(xe=Lt))}}null===xe?(xe=65533,qe=1):xe>65535&&(xe-=65536,O.push(xe>>>10&1023|55296),xe=56320|1023&xe),O.push(xe),q+=qe}return function T(U){const _=U.length;if(_<=w)return String.fromCharCode.apply(String,U);let p="",O=0;for(;O<_;)p+=String.fromCharCode.apply(String,U.slice(O,O+=w));return p}(O)}z.kMaxLength=W,!(M.TYPED_ARRAY_SUPPORT=function S(){try{const U=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(U,_),42===U.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}}),M.poolSize=8192,M.from=function(U,_,p){return N(U,_,p)},Object.setPrototypeOf(M.prototype,Uint8Array.prototype),Object.setPrototypeOf(M,Uint8Array),M.alloc=function(U,_,p){return function F(U,_,p){return $(U),U<=0?L(U):void 0!==_?"string"==typeof p?L(U).fill(_,p):L(U).fill(_):L(U)}(U,_,p)},M.allocUnsafe=function(U){return I(U)},M.allocUnsafeSlow=function(U){return I(U)},M.isBuffer=function(_){return null!=_&&!0===_._isBuffer&&_!==M.prototype},M.compare=function(_,p){if(Be(_,Uint8Array)&&(_=M.from(_,_.offset,_.byteLength)),Be(p,Uint8Array)&&(p=M.from(p,p.offset,p.byteLength)),!M.isBuffer(_)||!M.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===p)return 0;let O=_.length,q=p.length;for(let me=0,xe=Math.min(O,q);me<xe;++me)if(_[me]!==p[me]){O=_[me],q=p[me];break}return O<q?-1:q<O?1:0},M.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(_,p){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return M.alloc(0);let O;if(void 0===p)for(p=0,O=0;O<_.length;++O)p+=_[O].length;const q=M.allocUnsafe(p);let me=0;for(O=0;O<_.length;++O){let xe=_[O];if(Be(xe,Uint8Array))me+xe.length>q.length?(M.isBuffer(xe)||(xe=M.from(xe)),xe.copy(q,me)):Uint8Array.prototype.set.call(q,xe,me);else{if(!M.isBuffer(xe))throw new TypeError('"list" argument must be an Array of Buffers');xe.copy(q,me)}me+=xe.length}return q},M.byteLength=oe,M.prototype._isBuffer=!0,M.prototype.swap16=function(){const _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<_;p+=2)ae(this,p,p+1);return this},M.prototype.swap32=function(){const _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<_;p+=4)ae(this,p,p+3),ae(this,p+1,p+2);return this},M.prototype.swap64=function(){const _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<_;p+=8)ae(this,p,p+7),ae(this,p+1,p+6),ae(this,p+2,p+5),ae(this,p+3,p+4);return this},M.prototype.toLocaleString=M.prototype.toString=function(){const _=this.length;return 0===_?"":0===arguments.length?y(this,0,_):se.apply(this,arguments)},M.prototype.equals=function(_){if(!M.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===M.compare(this,_)},M.prototype.inspect=function(){let _="";const p=z.INSPECT_MAX_BYTES;return _=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(_+=" ... "),"<Buffer "+_+">"},R&&(M.prototype[R]=M.prototype.inspect),M.prototype.compare=function(_,p,O,q,me){if(Be(_,Uint8Array)&&(_=M.from(_,_.offset,_.byteLength)),!M.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(void 0===p&&(p=0),void 0===O&&(O=_?_.length:0),void 0===q&&(q=0),void 0===me&&(me=this.length),p<0||O>_.length||q<0||me>this.length)throw new RangeError("out of range index");if(q>=me&&p>=O)return 0;if(q>=me)return-1;if(p>=O)return 1;if(this===_)return 0;let xe=(me>>>=0)-(q>>>=0),qe=(O>>>=0)-(p>>>=0);const At=Math.min(xe,qe),ut=this.slice(q,me),bt=_.slice(p,O);for(let Lt=0;Lt<At;++Lt)if(ut[Lt]!==bt[Lt]){xe=ut[Lt],qe=bt[Lt];break}return xe<qe?-1:qe<xe?1:0},M.prototype.includes=function(_,p,O){return-1!==this.indexOf(_,p,O)},M.prototype.indexOf=function(_,p,O){return pe(this,_,p,O,!0)},M.prototype.lastIndexOf=function(_,p,O){return pe(this,_,p,O,!1)},M.prototype.write=function(_,p,O,q){if(void 0===p)q="utf8",O=this.length,p=0;else if(void 0===O&&"string"==typeof p)q=p,O=this.length,p=0;else{if(!isFinite(p))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");p>>>=0,isFinite(O)?(O>>>=0,void 0===q&&(q="utf8")):(q=O,O=void 0)}const me=this.length-p;if((void 0===O||O>me)&&(O=me),_.length>0&&(O<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let xe=!1;for(;;)switch(q){case"hex":return ve(this,_,p,O);case"utf8":case"utf-8":return we(this,_,p,O);case"ascii":case"latin1":case"binary":return De(this,_,p,O);case"base64":return k(this,_,p,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,_,p,O);default:if(xe)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),xe=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const w=4096;function D(U,_,p){let O="";p=Math.min(U.length,p);for(let q=_;q<p;++q)O+=String.fromCharCode(127&U[q]);return O}function j(U,_,p){let O="";p=Math.min(U.length,p);for(let q=_;q<p;++q)O+=String.fromCharCode(U[q]);return O}function A(U,_,p){const O=U.length;(!_||_<0)&&(_=0),(!p||p<0||p>O)&&(p=O);let q="";for(let me=_;me<p;++me)q+=Ke[U[me]];return q}function l(U,_,p){const O=U.slice(_,p);let q="";for(let me=0;me<O.length-1;me+=2)q+=String.fromCharCode(O[me]+256*O[me+1]);return q}function g(U,_,p){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+_>p)throw new RangeError("Trying to access beyond buffer length")}function G(U,_,p,O,q,me){if(!M.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>q||_<me)throw new RangeError('"value" argument is out of bounds');if(p+O>U.length)throw new RangeError("Index out of range")}function H(U,_,p,O,q){ye(_,O,q,U,p,7);let me=Number(_&BigInt(4294967295));U[p++]=me,me>>=8,U[p++]=me,me>>=8,U[p++]=me,me>>=8,U[p++]=me;let xe=Number(_>>BigInt(32)&BigInt(4294967295));return U[p++]=xe,xe>>=8,U[p++]=xe,xe>>=8,U[p++]=xe,xe>>=8,U[p++]=xe,p}function ne(U,_,p,O,q){ye(_,O,q,U,p,7);let me=Number(_&BigInt(4294967295));U[p+7]=me,me>>=8,U[p+6]=me,me>>=8,U[p+5]=me,me>>=8,U[p+4]=me;let xe=Number(_>>BigInt(32)&BigInt(4294967295));return U[p+3]=xe,xe>>=8,U[p+2]=xe,xe>>=8,U[p+1]=xe,xe>>=8,U[p]=xe,p+8}function ce(U,_,p,O,q,me){if(p+O>U.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function Ae(U,_,p,O,q){return _=+_,p>>>=0,q||ce(U,0,p,4),x.write(U,_,p,O,23,4),p+4}function ke(U,_,p,O,q){return _=+_,p>>>=0,q||ce(U,0,p,8),x.write(U,_,p,O,52,8),p+8}M.prototype.slice=function(_,p){const O=this.length;(_=~~_)<0?(_+=O)<0&&(_=0):_>O&&(_=O),(p=void 0===p?O:~~p)<0?(p+=O)<0&&(p=0):p>O&&(p=O),p<_&&(p=_);const q=this.subarray(_,p);return Object.setPrototypeOf(q,M.prototype),q},M.prototype.readUintLE=M.prototype.readUIntLE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_],me=1,xe=0;for(;++xe<p&&(me*=256);)q+=this[_+xe]*me;return q},M.prototype.readUintBE=M.prototype.readUIntBE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_+--p],me=1;for(;p>0&&(me*=256);)q+=this[_+--p]*me;return q},M.prototype.readUint8=M.prototype.readUInt8=function(_,p){return _>>>=0,p||g(_,1,this.length),this[_]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(_,p){return _>>>=0,p||g(_,2,this.length),this[_]|this[_+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(_,p){return _>>>=0,p||g(_,2,this.length),this[_]<<8|this[_+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(_,p){return _>>>=0,p||g(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(_,p){return _>>>=0,p||g(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},M.prototype.readBigUInt64LE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=p+256*this[++_]+65536*this[++_]+this[++_]*2**24,me=this[++_]+256*this[++_]+65536*this[++_]+O*2**24;return BigInt(q)+(BigInt(me)<<BigInt(32))}),M.prototype.readBigUInt64BE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=p*2**24+65536*this[++_]+256*this[++_]+this[++_],me=this[++_]*2**24+65536*this[++_]+256*this[++_]+O;return(BigInt(q)<<BigInt(32))+BigInt(me)}),M.prototype.readIntLE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=this[_],me=1,xe=0;for(;++xe<p&&(me*=256);)q+=this[_+xe]*me;return me*=128,q>=me&&(q-=Math.pow(2,8*p)),q},M.prototype.readIntBE=function(_,p,O){_>>>=0,p>>>=0,O||g(_,p,this.length);let q=p,me=1,xe=this[_+--q];for(;q>0&&(me*=256);)xe+=this[_+--q]*me;return me*=128,xe>=me&&(xe-=Math.pow(2,8*p)),xe},M.prototype.readInt8=function(_,p){return _>>>=0,p||g(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},M.prototype.readInt16LE=function(_,p){_>>>=0,p||g(_,2,this.length);const O=this[_]|this[_+1]<<8;return 32768&O?4294901760|O:O},M.prototype.readInt16BE=function(_,p){_>>>=0,p||g(_,2,this.length);const O=this[_+1]|this[_]<<8;return 32768&O?4294901760|O:O},M.prototype.readInt32LE=function(_,p){return _>>>=0,p||g(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},M.prototype.readInt32BE=function(_,p){return _>>>=0,p||g(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},M.prototype.readBigInt64LE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];return(void 0===p||void 0===O)&&he(_,this.length-8),(BigInt(this[_+4]+256*this[_+5]+65536*this[_+6]+(O<<24))<<BigInt(32))+BigInt(p+256*this[++_]+65536*this[++_]+this[++_]*2**24)}),M.prototype.readBigInt64BE=Re(function(_){Se(_>>>=0,"offset");const p=this[_],O=this[_+7];(void 0===p||void 0===O)&&he(_,this.length-8);const q=(p<<24)+65536*this[++_]+256*this[++_]+this[++_];return(BigInt(q)<<BigInt(32))+BigInt(this[++_]*2**24+65536*this[++_]+256*this[++_]+O)}),M.prototype.readFloatLE=function(_,p){return _>>>=0,p||g(_,4,this.length),x.read(this,_,!0,23,4)},M.prototype.readFloatBE=function(_,p){return _>>>=0,p||g(_,4,this.length),x.read(this,_,!1,23,4)},M.prototype.readDoubleLE=function(_,p){return _>>>=0,p||g(_,8,this.length),x.read(this,_,!0,52,8)},M.prototype.readDoubleBE=function(_,p){return _>>>=0,p||g(_,8,this.length),x.read(this,_,!1,52,8)},M.prototype.writeUintLE=M.prototype.writeUIntLE=function(_,p,O,q){_=+_,p>>>=0,O>>>=0,q||G(this,_,p,O,Math.pow(2,8*O)-1,0);let me=1,xe=0;for(this[p]=255&_;++xe<O&&(me*=256);)this[p+xe]=_/me&255;return p+O},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(_,p,O,q){_=+_,p>>>=0,O>>>=0,q||G(this,_,p,O,Math.pow(2,8*O)-1,0);let me=O-1,xe=1;for(this[p+me]=255&_;--me>=0&&(xe*=256);)this[p+me]=_/xe&255;return p+O},M.prototype.writeUint8=M.prototype.writeUInt8=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,1,255,0),this[p]=255&_,p+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,65535,0),this[p]=255&_,this[p+1]=_>>>8,p+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,65535,0),this[p]=_>>>8,this[p+1]=255&_,p+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,4294967295,0),this[p+3]=_>>>24,this[p+2]=_>>>16,this[p+1]=_>>>8,this[p]=255&_,p+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,4294967295,0),this[p]=_>>>24,this[p+1]=_>>>16,this[p+2]=_>>>8,this[p+3]=255&_,p+4},M.prototype.writeBigUInt64LE=Re(function(_,p=0){return H(this,_,p,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Re(function(_,p=0){return ne(this,_,p,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(_,p,O,q){if(_=+_,p>>>=0,!q){const At=Math.pow(2,8*O-1);G(this,_,p,O,At-1,-At)}let me=0,xe=1,qe=0;for(this[p]=255&_;++me<O&&(xe*=256);)_<0&&0===qe&&0!==this[p+me-1]&&(qe=1),this[p+me]=(_/xe|0)-qe&255;return p+O},M.prototype.writeIntBE=function(_,p,O,q){if(_=+_,p>>>=0,!q){const At=Math.pow(2,8*O-1);G(this,_,p,O,At-1,-At)}let me=O-1,xe=1,qe=0;for(this[p+me]=255&_;--me>=0&&(xe*=256);)_<0&&0===qe&&0!==this[p+me+1]&&(qe=1),this[p+me]=(_/xe|0)-qe&255;return p+O},M.prototype.writeInt8=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,1,127,-128),_<0&&(_=255+_+1),this[p]=255&_,p+1},M.prototype.writeInt16LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,32767,-32768),this[p]=255&_,this[p+1]=_>>>8,p+2},M.prototype.writeInt16BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,2,32767,-32768),this[p]=_>>>8,this[p+1]=255&_,p+2},M.prototype.writeInt32LE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,2147483647,-2147483648),this[p]=255&_,this[p+1]=_>>>8,this[p+2]=_>>>16,this[p+3]=_>>>24,p+4},M.prototype.writeInt32BE=function(_,p,O){return _=+_,p>>>=0,O||G(this,_,p,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[p]=_>>>24,this[p+1]=_>>>16,this[p+2]=_>>>8,this[p+3]=255&_,p+4},M.prototype.writeBigInt64LE=Re(function(_,p=0){return H(this,_,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Re(function(_,p=0){return ne(this,_,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeFloatLE=function(_,p,O){return Ae(this,_,p,!0,O)},M.prototype.writeFloatBE=function(_,p,O){return Ae(this,_,p,!1,O)},M.prototype.writeDoubleLE=function(_,p,O){return ke(this,_,p,!0,O)},M.prototype.writeDoubleBE=function(_,p,O){return ke(this,_,p,!1,O)},M.prototype.copy=function(_,p,O,q){if(!M.isBuffer(_))throw new TypeError("argument should be a Buffer");if(O||(O=0),!q&&0!==q&&(q=this.length),p>=_.length&&(p=_.length),p||(p=0),q>0&&q<O&&(q=O),q===O||0===_.length||0===this.length)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(O<0||O>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),_.length-p<q-O&&(q=_.length-p+O);const me=q-O;return this===_&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(p,O,q):Uint8Array.prototype.set.call(_,this.subarray(O,q),p),me},M.prototype.fill=function(_,p,O,q){if("string"==typeof _){if("string"==typeof p?(q=p,p=0,O=this.length):"string"==typeof O&&(q=O,O=this.length),void 0!==q&&"string"!=typeof q)throw new TypeError("encoding must be a string");if("string"==typeof q&&!M.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(1===_.length){const xe=_.charCodeAt(0);("utf8"===q&&xe<128||"latin1"===q)&&(_=xe)}}else"number"==typeof _?_&=255:"boolean"==typeof _&&(_=Number(_));if(p<0||this.length<p||this.length<O)throw new RangeError("Out of range index");if(O<=p)return this;let me;if(p>>>=0,O=void 0===O?this.length:O>>>0,_||(_=0),"number"==typeof _)for(me=p;me<O;++me)this[me]=_;else{const xe=M.isBuffer(_)?_:M.from(_,q),qe=xe.length;if(0===qe)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(me=0;me<O-p;++me)this[me+p]=xe[me%qe]}return this};const Fe={};function Ee(U,_,p){Fe[U]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,delete this.name}get code(){return U}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}function ge(U){let _="",p=U.length;const O="-"===U[0]?1:0;for(;p>=O+4;p-=3)_=`_${U.slice(p-3,p)}${_}`;return`${U.slice(0,p)}${_}`}function ye(U,_,p,O,q,me){if(U>p||U<_){const xe="bigint"==typeof _?"n":"";let qe;throw qe=me>3?0===_||_===BigInt(0)?`>= 0${xe} and < 2${xe} ** ${8*(me+1)}${xe}`:`>= -(2${xe} ** ${8*(me+1)-1}${xe}) and < 2 ** ${8*(me+1)-1}${xe}`:`>= ${_}${xe} and <= ${p}${xe}`,new Fe.ERR_OUT_OF_RANGE("value",qe,U)}!function Oe(U,_,p){Se(_,"offset"),(void 0===U[_]||void 0===U[_+p])&&he(_,U.length-(p+1))}(O,q,me)}function Se(U,_){if("number"!=typeof U)throw new Fe.ERR_INVALID_ARG_TYPE(_,"number",U)}function he(U,_,p){throw Math.floor(U)!==U?(Se(U,p),new Fe.ERR_OUT_OF_RANGE(p||"offset","an integer",U)):_<0?new Fe.ERR_BUFFER_OUT_OF_BOUNDS:new Fe.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${_}`,U)}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(U,_){return`The "${U}" argument must be of type number. Received type ${typeof _}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(U,_,p){let O=`The value of "${U}" is out of range.`,q=p;return Number.isInteger(p)&&Math.abs(p)>2**32?q=ge(String(p)):"bigint"==typeof p&&(q=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(q=ge(q)),q+="n"),O+=` It must be ${_}. Received ${q}`,O},RangeError);const fe=/[^+/0-9A-Za-z-_]/g;function ie(U,_){let p;_=_||1/0;const O=U.length;let q=null;const me=[];for(let xe=0;xe<O;++xe){if(p=U.charCodeAt(xe),p>55295&&p<57344){if(!q){if(p>56319){(_-=3)>-1&&me.push(239,191,189);continue}if(xe+1===O){(_-=3)>-1&&me.push(239,191,189);continue}q=p;continue}if(p<56320){(_-=3)>-1&&me.push(239,191,189),q=p;continue}p=65536+(q-55296<<10|p-56320)}else q&&(_-=3)>-1&&me.push(239,191,189);if(q=null,p<128){if((_-=1)<0)break;me.push(p)}else if(p<2048){if((_-=2)<0)break;me.push(p>>6|192,63&p|128)}else if(p<65536){if((_-=3)<0)break;me.push(p>>12|224,p>>6&63|128,63&p|128)}else{if(!(p<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;me.push(p>>18|240,p>>12&63|128,p>>6&63|128,63&p|128)}}return me}function Ie(U){return m.toByteArray(function ee(U){if((U=(U=U.split("=")[0]).trim().replace(fe,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(U))}function Ne(U,_,p,O){let q;for(q=0;q<O&&!(q+p>=_.length||q>=U.length);++q)_[q+p]=U[q];return q}function Be(U,_){return U instanceof _||null!=U&&null!=U.constructor&&null!=U.constructor.name&&U.constructor.name===_.name}function yt(U){return U!=U}const Ke=function(){const U="0123456789abcdef",_=new Array(256);for(let p=0;p<16;++p){const O=16*p;for(let q=0;q<16;++q)_[O+q]=U[p]+U[q]}return _}();function Re(U){return typeof BigInt>"u"?ot:U}function ot(){throw new Error("BigInt not supported")}},54626:(Le,z,E)=>{z.Level=E(23963).BrowserLevel},8516:(Le,z,E)=>{var m=E(81464);Le.exports=m.Symbol},61057:(Le,z,E)=>{var m=E(8516),x=E(8488),R=E(53327),L=m?m.toStringTag:void 0;Le.exports=function M(N){return null==N?void 0===N?"[object Undefined]":"[object Null]":L&&L in Object(N)?x(N):R(N)}},78657:Le=>{var z="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;Le.exports=z},46902:(Le,z,E)=>{var x=E(72852)(Object.getPrototypeOf,Object);Le.exports=x},8488:(Le,z,E)=>{var m=E(8516),x=Object.prototype,R=x.hasOwnProperty,W=x.toString,S=m?m.toStringTag:void 0;Le.exports=function L(M){var N=R.call(M,S),$=M[S];try{M[S]=void 0;var F=!0}catch{}var I=W.call(M);return F&&(N?M[S]=$:delete M[S]),I}},53327:Le=>{var E=Object.prototype.toString;Le.exports=function m(x){return E.call(x)}},72852:Le=>{Le.exports=function z(E,m){return function(x){return E(m(x))}}},81464:(Le,z,E)=>{var m=E(78657),x="object"==typeof self&&self&&self.Object===Object&&self,R=m||x||Function("return this")();Le.exports=R},57433:Le=>{Le.exports=function z(E){return null!=E&&"object"==typeof E}},49970:(Le,z,E)=>{var m=E(61057),x=E(46902),R=E(57433),M=Function.prototype.toString,N=Object.prototype.hasOwnProperty,$=M.call(Object);Le.exports=function F(I){if(!R(I)||"[object Object]"!=m(I))return!1;var X=x(I);if(null===X)return!0;var V=N.call(X,"constructor")&&X.constructor;return"function"==typeof V&&V instanceof V&&M.call(V)==$}},34725:(Le,z,E)=>{"use strict";var m=E(71993),x=E(13686),R=E(27054).Buffer,W=new Array(16);function S(){x.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function L(I,X){return I<<X|I>>>32-X}function M(I,X,V,Z,re,te,Q){return L(I+(X&V|~X&Z)+re+te|0,Q)+X|0}function N(I,X,V,Z,re,te,Q){return L(I+(X&Z|V&~Z)+re+te|0,Q)+X|0}function $(I,X,V,Z,re,te,Q){return L(I+(X^V^Z)+re+te|0,Q)+X|0}function F(I,X,V,Z,re,te,Q){return L(I+(V^(X|~Z))+re+te|0,Q)+X|0}m(S,x),S.prototype._update=function(){for(var I=W,X=0;X<16;++X)I[X]=this._block.readInt32LE(4*X);var V=this._a,Z=this._b,re=this._c,te=this._d;V=M(V,Z,re,te,I[0],3614090360,7),te=M(te,V,Z,re,I[1],3905402710,12),re=M(re,te,V,Z,I[2],606105819,17),Z=M(Z,re,te,V,I[3],3250441966,22),V=M(V,Z,re,te,I[4],4118548399,7),te=M(te,V,Z,re,I[5],1200080426,12),re=M(re,te,V,Z,I[6],2821735955,17),Z=M(Z,re,te,V,I[7],4249261313,22),V=M(V,Z,re,te,I[8],1770035416,7),te=M(te,V,Z,re,I[9],2336552879,12),re=M(re,te,V,Z,I[10],4294925233,17),Z=M(Z,re,te,V,I[11],2304563134,22),V=M(V,Z,re,te,I[12],1804603682,7),te=M(te,V,Z,re,I[13],4254626195,12),re=M(re,te,V,Z,I[14],2792965006,17),V=N(V,Z=M(Z,re,te,V,I[15],1236535329,22),re,te,I[1],4129170786,5),te=N(te,V,Z,re,I[6],3225465664,9),re=N(re,te,V,Z,I[11],643717713,14),Z=N(Z,re,te,V,I[0],3921069994,20),V=N(V,Z,re,te,I[5],3593408605,5),te=N(te,V,Z,re,I[10],38016083,9),re=N(re,te,V,Z,I[15],3634488961,14),Z=N(Z,re,te,V,I[4],3889429448,20),V=N(V,Z,re,te,I[9],568446438,5),te=N(te,V,Z,re,I[14],3275163606,9),re=N(re,te,V,Z,I[3],4107603335,14),Z=N(Z,re,te,V,I[8],1163531501,20),V=N(V,Z,re,te,I[13],2850285829,5),te=N(te,V,Z,re,I[2],4243563512,9),re=N(re,te,V,Z,I[7],1735328473,14),V=$(V,Z=N(Z,re,te,V,I[12],2368359562,20),re,te,I[5],4294588738,4),te=$(te,V,Z,re,I[8],2272392833,11),re=$(re,te,V,Z,I[11],1839030562,16),Z=$(Z,re,te,V,I[14],4259657740,23),V=$(V,Z,re,te,I[1],2763975236,4),te=$(te,V,Z,re,I[4],1272893353,11),re=$(re,te,V,Z,I[7],4139469664,16),Z=$(Z,re,te,V,I[10],3200236656,23),V=$(V,Z,re,te,I[13],681279174,4),te=$(te,V,Z,re,I[0],3936430074,11),re=$(re,te,V,Z,I[3],3572445317,16),Z=$(Z,re,te,V,I[6],76029189,23),V=$(V,Z,re,te,I[9],3654602809,4),te=$(te,V,Z,re,I[12],3873151461,11),re=$(re,te,V,Z,I[15],530742520,16),V=F(V,Z=$(Z,re,te,V,I[2],3299628645,23),re,te,I[0],4096336452,6),te=F(te,V,Z,re,I[7],1126891415,10),re=F(re,te,V,Z,I[14],2878612391,15),Z=F(Z,re,te,V,I[5],4237533241,21),V=F(V,Z,re,te,I[12],1700485571,6),te=F(te,V,Z,re,I[3],2399980690,10),re=F(re,te,V,Z,I[10],4293915773,15),Z=F(Z,re,te,V,I[1],2240044497,21),V=F(V,Z,re,te,I[8],1873313359,6),te=F(te,V,Z,re,I[15],4264355552,10),re=F(re,te,V,Z,I[6],2734768916,15),Z=F(Z,re,te,V,I[13],1309151649,21),V=F(V,Z,re,te,I[4],4149444226,6),te=F(te,V,Z,re,I[11],3174756917,10),re=F(re,te,V,Z,I[2],718787259,15),Z=F(Z,re,te,V,I[9],3951481745,21),this._a=this._a+V|0,this._b=this._b+Z|0,this._c=this._c+re|0,this._d=this._d+te|0},S.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var I=R.allocUnsafe(16);return I.writeInt32LE(this._a,0),I.writeInt32LE(this._b,4),I.writeInt32LE(this._c,8),I.writeInt32LE(this._d,12),I},Le.exports=S},53459:(Le,z,E)=>{var m=E(57223),x=E(35294);function R(W){this.rand=W||new x.Rand}Le.exports=R,R.create=function(S){return new R(S)},R.prototype._randbelow=function(S){var L=S.bitLength(),M=Math.ceil(L/8);do{var N=new m(this.rand.generate(M))}while(N.cmp(S)>=0);return N},R.prototype._randrange=function(S,L){var M=L.sub(S);return S.add(this._randbelow(M))},R.prototype.test=function(S,L,M){var N=S.bitLength(),$=m.mont(S),F=new m(1).toRed($);L||(L=Math.max(1,N/48|0));for(var I=S.subn(1),X=0;!I.testn(X);X++);for(var V=S.shrn(X),Z=I.toRed($);L>0;L--){var te=this._randrange(new m(2),I);M&&M(te);var Q=te.toRed($).redPow(V);if(0!==Q.cmp(F)&&0!==Q.cmp(Z)){for(var J=1;J<X;J++){if(0===(Q=Q.redSqr()).cmp(F))return!1;if(0===Q.cmp(Z))break}if(J===X)return!1}}return!0},R.prototype.getDivisor=function(S,L){var M=S.bitLength(),N=m.mont(S),$=new m(1).toRed(N);L||(L=Math.max(1,M/48|0));for(var F=S.subn(1),I=0;!F.testn(I);I++);for(var X=S.shrn(I),V=F.toRed(N);L>0;L--){var Z=this._randrange(new m(2),F),re=S.gcd(Z);if(0!==re.cmpn(1))return re;var te=Z.toRed(N).redPow(X);if(0!==te.cmp($)&&0!==te.cmp(V)){for(var Q=1;Q<I;Q++){if(0===(te=te.redSqr()).cmp($))return te.fromRed().subn(1).gcd(S);if(0===te.cmp(V))break}if(Q===I)return(te=te.redSqr()).fromRed().subn(1).gcd(S)}}return!1}},57223:function(Le,z,E){!function(m,x){"use strict";function R(k,u){if(!k)throw new Error(u||"Assertion failed")}function W(k,u){k.super_=u;var h=function(){};h.prototype=u.prototype,k.prototype=new h,k.prototype.constructor=k}function S(k,u,h){if(S.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(k||0,u||10,h||"be"))}var L;"object"==typeof m?m.exports=S:x.BN=S,S.BN=S,S.wordSize=26;try{L=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(64688).Buffer}catch{}function M(k,u){var h=k.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,u,h){var y=M(k,h);return h-1>=u&&(y|=M(k,h-1)<<4),y}function $(k,u,h,y){for(var w=0,T=Math.min(k.length,h),D=u;D<T;D++){var j=k.charCodeAt(D)-48;w*=y,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}S.isBN=function(u){return u instanceof S||null!==u&&"object"==typeof u&&u.constructor.wordSize===S.wordSize&&Array.isArray(u.words)},S.max=function(u,h){return u.cmp(h)>0?u:h},S.min=function(u,h){return u.cmp(h)<0?u:h},S.prototype._init=function(u,h,y){if("number"==typeof u)return this._initNumber(u,h,y);if("object"==typeof u)return this._initArray(u,h,y);"hex"===h&&(h=16),R(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,y):(this._parseBase(u,h,w),"le"===y&&this._initArray(this.toArray(),h,y)))},S.prototype._initNumber=function(u,h,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(R(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),h,y)},S.prototype._initArray=function(u,h,y){if(R("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,D,j=0;if("be"===y)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(D=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===y)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(D=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},S.prototype._parseHex=function(u,h,y){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,D=0;if("be"===y)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;this.strip()},S.prototype._parseBase=function(u,h,y){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var D=u.length-y,j=D%w,A=Math.min(D,D-j)+y,l=0,g=y;g<A;g+=w)l=$(u,g,g+w,h),this.imuln(T),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==j){var G=1;for(l=$(u,g,u.length,h),g=0;g<j;g++)G*=h;this.imuln(G),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},S.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},S.prototype.clone=function(){var u=new S(null);return this.copy(u),u},S.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},S.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},S.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},S.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(k,u,h){h.negative=u.negative^k.negative;var y=k.length+u.length|0;h.length=y,y=y-1|0;var w=0|k.words[0],T=0|u.words[0],D=w*T,A=D/67108864|0;h.words[0]=67108863&D;for(var l=1;l<y;l++){for(var g=A>>>26,G=67108863&A,H=Math.min(l,u.length-1),ne=Math.max(0,l-k.length+1);ne<=H;ne++)g+=(D=(w=0|k.words[l-ne|0])*(T=0|u.words[ne])+G)/67108864|0,G=67108863&D;h.words[l]=0|G,A=0|g}return 0!==A?h.words[l]=0|A:h.length--,h.strip()}S.prototype.toString=function(u,h){var y;if(h=0|h||1,16===(u=u||10)||"hex"===u){y="";for(var w=0,T=0,D=0;D<this.length;D++){var j=this.words[D],A=(16777215&(j<<w|T)).toString(16);y=0!=(T=j>>>24-w&16777215)||D!==this.length-1?F[6-A.length]+A+y:A+y,(w+=2)>=26&&(w-=26,D--)}for(0!==T&&(y=T.toString(16)+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var l=I[u],g=X[u];y="";var G=this.clone();for(G.negative=0;!G.isZero();){var H=G.modn(g).toString(u);y=(G=G.idivn(g)).isZero()?H+y:F[l-H.length]+H+y}for(this.isZero()&&(y="0"+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}R(!1,"Base should be between 2 and 36")},S.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&R(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},S.prototype.toJSON=function(){return this.toString(16)},S.prototype.toBuffer=function(u,h){return R(typeof L<"u"),this.toArrayLike(L,u,h)},S.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},S.prototype.toArrayLike=function(u,h,y){var w=this.byteLength(),T=y||Math.max(1,w);R(w<=T,"byte array longer than desired length"),R(T>0,"Requested array length <= 0"),this.strip();var A,l,D="le"===h,j=new u(T),g=this.clone();if(D){for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[l]=A;for(;l<T;l++)j[l]=0}else{for(l=0;l<T-w;l++)j[l]=0;for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[T-l-1]=A}return j},S.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,y=0;return h>=4096&&(y+=13,h>>>=13),h>=64&&(y+=7,h>>>=7),h>=8&&(y+=4,h>>>=4),h>=2&&(y+=2,h>>>=2),y+h},S.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,y=0;return 8191&h||(y+=13,h>>>=13),127&h||(y+=7,h>>>=7),15&h||(y+=4,h>>>=4),3&h||(y+=2,h>>>=2),1&h||y++,y},S.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},S.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var y=this._zeroBits(this.words[h]);if(u+=y,26!==y)break}return u},S.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},S.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},S.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},S.prototype.isNeg=function(){return 0!==this.negative},S.prototype.neg=function(){return this.clone().ineg()},S.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},S.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},S.prototype.ior=function(u){return R(!(this.negative|u.negative)),this.iuor(u)},S.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},S.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},S.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var y=0;y<h.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=h.length,this.strip()},S.prototype.iand=function(u){return R(!(this.negative|u.negative)),this.iuand(u)},S.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},S.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},S.prototype.iuxor=function(u){var h,y;this.length>u.length?(h=this,y=u):(h=u,y=this);for(var w=0;w<y.length;w++)this.words[w]=h.words[w]^y.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},S.prototype.ixor=function(u){return R(!(this.negative|u.negative)),this.iuxor(u)},S.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},S.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},S.prototype.inotn=function(u){R("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),y=u%26;this._expand(h),y>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return y>0&&(this.words[w]=~this.words[w]&67108863>>26-y),this.strip()},S.prototype.notn=function(u){return this.clone().inotn(u)},S.prototype.setn=function(u,h){R("number"==typeof u&&u>=0);var y=u/26|0,w=u%26;return this._expand(y+1),this.words[y]=h?this.words[y]|1<<w:this.words[y]&~(1<<w),this.strip()},S.prototype.iadd=function(u){var h,y,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(y=this,w=u):(y=u,w=this);for(var T=0,D=0;D<w.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+(0|w.words[D])+T),T=h>>>26;for(;0!==T&&D<y.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+T),T=h>>>26;if(this.length=y.length,0!==T)this.words[this.length]=T,this.length++;else if(y!==this)for(;D<y.length;D++)this.words[D]=y.words[D];return this},S.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},S.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(w=this,T=u):(w=u,T=this);for(var D=0,j=0;j<T.length;j++)D=(h=(0|w.words[j])-(0|T.words[j])+D)>>26,this.words[j]=67108863&h;for(;0!==D&&j<w.length;j++)D=(h=(0|w.words[j])+D)>>26,this.words[j]=67108863&h;if(0===D&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},S.prototype.sub=function(u){return this.clone().isub(u)};var re=function(u,h,y){var A,l,g,w=u.words,T=h.words,D=y.words,j=0,G=0|w[0],H=8191&G,ne=G>>>13,ce=0|w[1],Ae=8191&ce,ke=ce>>>13,Fe=0|w[2],Ee=8191&Fe,ge=Fe>>>13,Oe=0|w[3],ye=8191&Oe,Se=Oe>>>13,he=0|w[4],fe=8191&he,ee=he>>>13,ie=0|w[5],ue=8191&ie,be=ie>>>13,Ie=0|w[6],Ne=8191&Ie,Be=Ie>>>13,yt=0|w[7],Ke=8191&yt,Re=yt>>>13,ot=0|w[8],U=8191&ot,_=ot>>>13,p=0|w[9],O=8191&p,q=p>>>13,me=0|T[0],xe=8191&me,qe=me>>>13,At=0|T[1],ut=8191&At,bt=At>>>13,Lt=0|T[2],en=8191&Lt,Zt=Lt>>>13,Jn=0|T[3],yn=8191&Jn,Vt=Jn>>>13,$t=0|T[4],mt=8191&$t,st=$t>>>13,Nt=0|T[5],Kt=8191&Nt,qt=Nt>>>13,or=0|T[6],ft=8191&or,gt=or>>>13,vt=0|T[7],He=8191&vt,Je=vt>>>13,Bt=0|T[8],Tt=8191&Bt,Yt=Bt>>>13,Pn=0|T[9],cn=8191&Pn,pn=Pn>>>13;y.negative=u.negative^h.negative,y.length=19;var vr=(j+(A=Math.imul(H,xe))|0)+((8191&(l=(l=Math.imul(H,qe))+Math.imul(ne,xe)|0))<<13)|0;j=((g=Math.imul(ne,qe))+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,A=Math.imul(Ae,xe),l=(l=Math.imul(Ae,qe))+Math.imul(ke,xe)|0,g=Math.imul(ke,qe);var Un=(j+(A=A+Math.imul(H,ut)|0)|0)+((8191&(l=(l=l+Math.imul(H,bt)|0)+Math.imul(ne,ut)|0))<<13)|0;j=((g=g+Math.imul(ne,bt)|0)+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,A=Math.imul(Ee,xe),l=(l=Math.imul(Ee,qe))+Math.imul(ge,xe)|0,g=Math.imul(ge,qe),A=A+Math.imul(Ae,ut)|0,l=(l=l+Math.imul(Ae,bt)|0)+Math.imul(ke,ut)|0,g=g+Math.imul(ke,bt)|0;var An=(j+(A=A+Math.imul(H,en)|0)|0)+((8191&(l=(l=l+Math.imul(H,Zt)|0)+Math.imul(ne,en)|0))<<13)|0;j=((g=g+Math.imul(ne,Zt)|0)+(l>>>13)|0)+(An>>>26)|0,An&=67108863,A=Math.imul(ye,xe),l=(l=Math.imul(ye,qe))+Math.imul(Se,xe)|0,g=Math.imul(Se,qe),A=A+Math.imul(Ee,ut)|0,l=(l=l+Math.imul(Ee,bt)|0)+Math.imul(ge,ut)|0,g=g+Math.imul(ge,bt)|0,A=A+Math.imul(Ae,en)|0,l=(l=l+Math.imul(Ae,Zt)|0)+Math.imul(ke,en)|0,g=g+Math.imul(ke,Zt)|0;var On=(j+(A=A+Math.imul(H,yn)|0)|0)+((8191&(l=(l=l+Math.imul(H,Vt)|0)+Math.imul(ne,yn)|0))<<13)|0;j=((g=g+Math.imul(ne,Vt)|0)+(l>>>13)|0)+(On>>>26)|0,On&=67108863,A=Math.imul(fe,xe),l=(l=Math.imul(fe,qe))+Math.imul(ee,xe)|0,g=Math.imul(ee,qe),A=A+Math.imul(ye,ut)|0,l=(l=l+Math.imul(ye,bt)|0)+Math.imul(Se,ut)|0,g=g+Math.imul(Se,bt)|0,A=A+Math.imul(Ee,en)|0,l=(l=l+Math.imul(Ee,Zt)|0)+Math.imul(ge,en)|0,g=g+Math.imul(ge,Zt)|0,A=A+Math.imul(Ae,yn)|0,l=(l=l+Math.imul(Ae,Vt)|0)+Math.imul(ke,yn)|0,g=g+Math.imul(ke,Vt)|0;var nt=(j+(A=A+Math.imul(H,mt)|0)|0)+((8191&(l=(l=l+Math.imul(H,st)|0)+Math.imul(ne,mt)|0))<<13)|0;j=((g=g+Math.imul(ne,st)|0)+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,A=Math.imul(ue,xe),l=(l=Math.imul(ue,qe))+Math.imul(be,xe)|0,g=Math.imul(be,qe),A=A+Math.imul(fe,ut)|0,l=(l=l+Math.imul(fe,bt)|0)+Math.imul(ee,ut)|0,g=g+Math.imul(ee,bt)|0,A=A+Math.imul(ye,en)|0,l=(l=l+Math.imul(ye,Zt)|0)+Math.imul(Se,en)|0,g=g+Math.imul(Se,Zt)|0,A=A+Math.imul(Ee,yn)|0,l=(l=l+Math.imul(Ee,Vt)|0)+Math.imul(ge,yn)|0,g=g+Math.imul(ge,Vt)|0,A=A+Math.imul(Ae,mt)|0,l=(l=l+Math.imul(Ae,st)|0)+Math.imul(ke,mt)|0,g=g+Math.imul(ke,st)|0;var $e=(j+(A=A+Math.imul(H,Kt)|0)|0)+((8191&(l=(l=l+Math.imul(H,qt)|0)+Math.imul(ne,Kt)|0))<<13)|0;j=((g=g+Math.imul(ne,qt)|0)+(l>>>13)|0)+($e>>>26)|0,$e&=67108863,A=Math.imul(Ne,xe),l=(l=Math.imul(Ne,qe))+Math.imul(Be,xe)|0,g=Math.imul(Be,qe),A=A+Math.imul(ue,ut)|0,l=(l=l+Math.imul(ue,bt)|0)+Math.imul(be,ut)|0,g=g+Math.imul(be,bt)|0,A=A+Math.imul(fe,en)|0,l=(l=l+Math.imul(fe,Zt)|0)+Math.imul(ee,en)|0,g=g+Math.imul(ee,Zt)|0,A=A+Math.imul(ye,yn)|0,l=(l=l+Math.imul(ye,Vt)|0)+Math.imul(Se,yn)|0,g=g+Math.imul(Se,Vt)|0,A=A+Math.imul(Ee,mt)|0,l=(l=l+Math.imul(Ee,st)|0)+Math.imul(ge,mt)|0,g=g+Math.imul(ge,st)|0,A=A+Math.imul(Ae,Kt)|0,l=(l=l+Math.imul(Ae,qt)|0)+Math.imul(ke,Kt)|0,g=g+Math.imul(ke,qt)|0;var it=(j+(A=A+Math.imul(H,ft)|0)|0)+((8191&(l=(l=l+Math.imul(H,gt)|0)+Math.imul(ne,ft)|0))<<13)|0;j=((g=g+Math.imul(ne,gt)|0)+(l>>>13)|0)+(it>>>26)|0,it&=67108863,A=Math.imul(Ke,xe),l=(l=Math.imul(Ke,qe))+Math.imul(Re,xe)|0,g=Math.imul(Re,qe),A=A+Math.imul(Ne,ut)|0,l=(l=l+Math.imul(Ne,bt)|0)+Math.imul(Be,ut)|0,g=g+Math.imul(Be,bt)|0,A=A+Math.imul(ue,en)|0,l=(l=l+Math.imul(ue,Zt)|0)+Math.imul(be,en)|0,g=g+Math.imul(be,Zt)|0,A=A+Math.imul(fe,yn)|0,l=(l=l+Math.imul(fe,Vt)|0)+Math.imul(ee,yn)|0,g=g+Math.imul(ee,Vt)|0,A=A+Math.imul(ye,mt)|0,l=(l=l+Math.imul(ye,st)|0)+Math.imul(Se,mt)|0,g=g+Math.imul(Se,st)|0,A=A+Math.imul(Ee,Kt)|0,l=(l=l+Math.imul(Ee,qt)|0)+Math.imul(ge,Kt)|0,g=g+Math.imul(ge,qt)|0,A=A+Math.imul(Ae,ft)|0,l=(l=l+Math.imul(Ae,gt)|0)+Math.imul(ke,ft)|0,g=g+Math.imul(ke,gt)|0;var jt=(j+(A=A+Math.imul(H,He)|0)|0)+((8191&(l=(l=l+Math.imul(H,Je)|0)+Math.imul(ne,He)|0))<<13)|0;j=((g=g+Math.imul(ne,Je)|0)+(l>>>13)|0)+(jt>>>26)|0,jt&=67108863,A=Math.imul(U,xe),l=(l=Math.imul(U,qe))+Math.imul(_,xe)|0,g=Math.imul(_,qe),A=A+Math.imul(Ke,ut)|0,l=(l=l+Math.imul(Ke,bt)|0)+Math.imul(Re,ut)|0,g=g+Math.imul(Re,bt)|0,A=A+Math.imul(Ne,en)|0,l=(l=l+Math.imul(Ne,Zt)|0)+Math.imul(Be,en)|0,g=g+Math.imul(Be,Zt)|0,A=A+Math.imul(ue,yn)|0,l=(l=l+Math.imul(ue,Vt)|0)+Math.imul(be,yn)|0,g=g+Math.imul(be,Vt)|0,A=A+Math.imul(fe,mt)|0,l=(l=l+Math.imul(fe,st)|0)+Math.imul(ee,mt)|0,g=g+Math.imul(ee,st)|0,A=A+Math.imul(ye,Kt)|0,l=(l=l+Math.imul(ye,qt)|0)+Math.imul(Se,Kt)|0,g=g+Math.imul(Se,qt)|0,A=A+Math.imul(Ee,ft)|0,l=(l=l+Math.imul(Ee,gt)|0)+Math.imul(ge,ft)|0,g=g+Math.imul(ge,gt)|0,A=A+Math.imul(Ae,He)|0,l=(l=l+Math.imul(Ae,Je)|0)+Math.imul(ke,He)|0,g=g+Math.imul(ke,Je)|0;var dn=(j+(A=A+Math.imul(H,Tt)|0)|0)+((8191&(l=(l=l+Math.imul(H,Yt)|0)+Math.imul(ne,Tt)|0))<<13)|0;j=((g=g+Math.imul(ne,Yt)|0)+(l>>>13)|0)+(dn>>>26)|0,dn&=67108863,A=Math.imul(O,xe),l=(l=Math.imul(O,qe))+Math.imul(q,xe)|0,g=Math.imul(q,qe),A=A+Math.imul(U,ut)|0,l=(l=l+Math.imul(U,bt)|0)+Math.imul(_,ut)|0,g=g+Math.imul(_,bt)|0,A=A+Math.imul(Ke,en)|0,l=(l=l+Math.imul(Ke,Zt)|0)+Math.imul(Re,en)|0,g=g+Math.imul(Re,Zt)|0,A=A+Math.imul(Ne,yn)|0,l=(l=l+Math.imul(Ne,Vt)|0)+Math.imul(Be,yn)|0,g=g+Math.imul(Be,Vt)|0,A=A+Math.imul(ue,mt)|0,l=(l=l+Math.imul(ue,st)|0)+Math.imul(be,mt)|0,g=g+Math.imul(be,st)|0,A=A+Math.imul(fe,Kt)|0,l=(l=l+Math.imul(fe,qt)|0)+Math.imul(ee,Kt)|0,g=g+Math.imul(ee,qt)|0,A=A+Math.imul(ye,ft)|0,l=(l=l+Math.imul(ye,gt)|0)+Math.imul(Se,ft)|0,g=g+Math.imul(Se,gt)|0,A=A+Math.imul(Ee,He)|0,l=(l=l+Math.imul(Ee,Je)|0)+Math.imul(ge,He)|0,g=g+Math.imul(ge,Je)|0,A=A+Math.imul(Ae,Tt)|0,l=(l=l+Math.imul(Ae,Yt)|0)+Math.imul(ke,Tt)|0,g=g+Math.imul(ke,Yt)|0;var Rn=(j+(A=A+Math.imul(H,cn)|0)|0)+((8191&(l=(l=l+Math.imul(H,pn)|0)+Math.imul(ne,cn)|0))<<13)|0;j=((g=g+Math.imul(ne,pn)|0)+(l>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,A=Math.imul(O,ut),l=(l=Math.imul(O,bt))+Math.imul(q,ut)|0,g=Math.imul(q,bt),A=A+Math.imul(U,en)|0,l=(l=l+Math.imul(U,Zt)|0)+Math.imul(_,en)|0,g=g+Math.imul(_,Zt)|0,A=A+Math.imul(Ke,yn)|0,l=(l=l+Math.imul(Ke,Vt)|0)+Math.imul(Re,yn)|0,g=g+Math.imul(Re,Vt)|0,A=A+Math.imul(Ne,mt)|0,l=(l=l+Math.imul(Ne,st)|0)+Math.imul(Be,mt)|0,g=g+Math.imul(Be,st)|0,A=A+Math.imul(ue,Kt)|0,l=(l=l+Math.imul(ue,qt)|0)+Math.imul(be,Kt)|0,g=g+Math.imul(be,qt)|0,A=A+Math.imul(fe,ft)|0,l=(l=l+Math.imul(fe,gt)|0)+Math.imul(ee,ft)|0,g=g+Math.imul(ee,gt)|0,A=A+Math.imul(ye,He)|0,l=(l=l+Math.imul(ye,Je)|0)+Math.imul(Se,He)|0,g=g+Math.imul(Se,Je)|0,A=A+Math.imul(Ee,Tt)|0,l=(l=l+Math.imul(Ee,Yt)|0)+Math.imul(ge,Tt)|0,g=g+Math.imul(ge,Yt)|0;var Kn=(j+(A=A+Math.imul(Ae,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ae,pn)|0)+Math.imul(ke,cn)|0))<<13)|0;j=((g=g+Math.imul(ke,pn)|0)+(l>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(O,en),l=(l=Math.imul(O,Zt))+Math.imul(q,en)|0,g=Math.imul(q,Zt),A=A+Math.imul(U,yn)|0,l=(l=l+Math.imul(U,Vt)|0)+Math.imul(_,yn)|0,g=g+Math.imul(_,Vt)|0,A=A+Math.imul(Ke,mt)|0,l=(l=l+Math.imul(Ke,st)|0)+Math.imul(Re,mt)|0,g=g+Math.imul(Re,st)|0,A=A+Math.imul(Ne,Kt)|0,l=(l=l+Math.imul(Ne,qt)|0)+Math.imul(Be,Kt)|0,g=g+Math.imul(Be,qt)|0,A=A+Math.imul(ue,ft)|0,l=(l=l+Math.imul(ue,gt)|0)+Math.imul(be,ft)|0,g=g+Math.imul(be,gt)|0,A=A+Math.imul(fe,He)|0,l=(l=l+Math.imul(fe,Je)|0)+Math.imul(ee,He)|0,g=g+Math.imul(ee,Je)|0,A=A+Math.imul(ye,Tt)|0,l=(l=l+Math.imul(ye,Yt)|0)+Math.imul(Se,Tt)|0,g=g+Math.imul(Se,Yt)|0;var tr=(j+(A=A+Math.imul(Ee,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ee,pn)|0)+Math.imul(ge,cn)|0))<<13)|0;j=((g=g+Math.imul(ge,pn)|0)+(l>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(O,yn),l=(l=Math.imul(O,Vt))+Math.imul(q,yn)|0,g=Math.imul(q,Vt),A=A+Math.imul(U,mt)|0,l=(l=l+Math.imul(U,st)|0)+Math.imul(_,mt)|0,g=g+Math.imul(_,st)|0,A=A+Math.imul(Ke,Kt)|0,l=(l=l+Math.imul(Ke,qt)|0)+Math.imul(Re,Kt)|0,g=g+Math.imul(Re,qt)|0,A=A+Math.imul(Ne,ft)|0,l=(l=l+Math.imul(Ne,gt)|0)+Math.imul(Be,ft)|0,g=g+Math.imul(Be,gt)|0,A=A+Math.imul(ue,He)|0,l=(l=l+Math.imul(ue,Je)|0)+Math.imul(be,He)|0,g=g+Math.imul(be,Je)|0,A=A+Math.imul(fe,Tt)|0,l=(l=l+Math.imul(fe,Yt)|0)+Math.imul(ee,Tt)|0,g=g+Math.imul(ee,Yt)|0;var Ar=(j+(A=A+Math.imul(ye,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ye,pn)|0)+Math.imul(Se,cn)|0))<<13)|0;j=((g=g+Math.imul(Se,pn)|0)+(l>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,A=Math.imul(O,mt),l=(l=Math.imul(O,st))+Math.imul(q,mt)|0,g=Math.imul(q,st),A=A+Math.imul(U,Kt)|0,l=(l=l+Math.imul(U,qt)|0)+Math.imul(_,Kt)|0,g=g+Math.imul(_,qt)|0,A=A+Math.imul(Ke,ft)|0,l=(l=l+Math.imul(Ke,gt)|0)+Math.imul(Re,ft)|0,g=g+Math.imul(Re,gt)|0,A=A+Math.imul(Ne,He)|0,l=(l=l+Math.imul(Ne,Je)|0)+Math.imul(Be,He)|0,g=g+Math.imul(Be,Je)|0,A=A+Math.imul(ue,Tt)|0,l=(l=l+Math.imul(ue,Yt)|0)+Math.imul(be,Tt)|0,g=g+Math.imul(be,Yt)|0;var _r=(j+(A=A+Math.imul(fe,cn)|0)|0)+((8191&(l=(l=l+Math.imul(fe,pn)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((g=g+Math.imul(ee,pn)|0)+(l>>>13)|0)+(_r>>>26)|0,_r&=67108863,A=Math.imul(O,Kt),l=(l=Math.imul(O,qt))+Math.imul(q,Kt)|0,g=Math.imul(q,qt),A=A+Math.imul(U,ft)|0,l=(l=l+Math.imul(U,gt)|0)+Math.imul(_,ft)|0,g=g+Math.imul(_,gt)|0,A=A+Math.imul(Ke,He)|0,l=(l=l+Math.imul(Ke,Je)|0)+Math.imul(Re,He)|0,g=g+Math.imul(Re,Je)|0,A=A+Math.imul(Ne,Tt)|0,l=(l=l+Math.imul(Ne,Yt)|0)+Math.imul(Be,Tt)|0,g=g+Math.imul(Be,Yt)|0;var Pr=(j+(A=A+Math.imul(ue,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ue,pn)|0)+Math.imul(be,cn)|0))<<13)|0;j=((g=g+Math.imul(be,pn)|0)+(l>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,A=Math.imul(O,ft),l=(l=Math.imul(O,gt))+Math.imul(q,ft)|0,g=Math.imul(q,gt),A=A+Math.imul(U,He)|0,l=(l=l+Math.imul(U,Je)|0)+Math.imul(_,He)|0,g=g+Math.imul(_,Je)|0,A=A+Math.imul(Ke,Tt)|0,l=(l=l+Math.imul(Ke,Yt)|0)+Math.imul(Re,Tt)|0,g=g+Math.imul(Re,Yt)|0;var $r=(j+(A=A+Math.imul(Ne,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ne,pn)|0)+Math.imul(Be,cn)|0))<<13)|0;j=((g=g+Math.imul(Be,pn)|0)+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,A=Math.imul(O,He),l=(l=Math.imul(O,Je))+Math.imul(q,He)|0,g=Math.imul(q,Je),A=A+Math.imul(U,Tt)|0,l=(l=l+Math.imul(U,Yt)|0)+Math.imul(_,Tt)|0,g=g+Math.imul(_,Yt)|0;var zr=(j+(A=A+Math.imul(Ke,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ke,pn)|0)+Math.imul(Re,cn)|0))<<13)|0;j=((g=g+Math.imul(Re,pn)|0)+(l>>>13)|0)+(zr>>>26)|0,zr&=67108863,A=Math.imul(O,Tt),l=(l=Math.imul(O,Yt))+Math.imul(q,Tt)|0,g=Math.imul(q,Yt);var Ht=(j+(A=A+Math.imul(U,cn)|0)|0)+((8191&(l=(l=l+Math.imul(U,pn)|0)+Math.imul(_,cn)|0))<<13)|0;j=((g=g+Math.imul(_,pn)|0)+(l>>>13)|0)+(Ht>>>26)|0,Ht&=67108863;var ln=(j+(A=Math.imul(O,cn))|0)+((8191&(l=(l=Math.imul(O,pn))+Math.imul(q,cn)|0))<<13)|0;return j=((g=Math.imul(q,pn))+(l>>>13)|0)+(ln>>>26)|0,ln&=67108863,D[0]=vr,D[1]=Un,D[2]=An,D[3]=On,D[4]=nt,D[5]=$e,D[6]=it,D[7]=jt,D[8]=dn,D[9]=Rn,D[10]=Kn,D[11]=tr,D[12]=Ar,D[13]=_r,D[14]=Pr,D[15]=$r,D[16]=zr,D[17]=Ht,D[18]=ln,0!==j&&(D[19]=j,y.length++),y};function Q(k,u,h){return(new J).mulp(k,u,h)}function J(k,u){this.x=k,this.y=u}Math.imul||(re=Z),S.prototype.mulTo=function(u,h){var y,w=this.length+u.length;return y=10===this.length&&10===u.length?re(this,u,h):w<63?Z(this,u,h):w<1024?function te(k,u,h){h.negative=u.negative^k.negative,h.length=k.length+u.length;for(var y=0,w=0,T=0;T<h.length-1;T++){var D=w;w=0;for(var j=67108863&y,A=Math.min(T,u.length-1),l=Math.max(0,T-k.length+1);l<=A;l++){var ne=(0|k.words[T-l])*(0|u.words[l]),ce=67108863&ne;j=67108863&(ce=ce+j|0),w+=(D=(D=D+(ne/67108864|0)|0)+(ce>>>26)|0)>>>26,D&=67108863}h.words[T]=j,y=D,D=w}return 0!==y?h.words[T]=y:h.length--,h.strip()}(this,u,h):Q(this,u,h),y},J.prototype.makeRBT=function(u){for(var h=new Array(u),y=S.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,y,u);return h},J.prototype.revBin=function(u,h,y){if(0===u||u===y-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},J.prototype.permute=function(u,h,y,w,T,D){for(var j=0;j<D;j++)w[j]=h[u[j]],T[j]=y[u[j]]},J.prototype.transform=function(u,h,y,w,T,D){this.permute(D,u,h,y,w,T);for(var j=1;j<T;j<<=1)for(var A=j<<1,l=Math.cos(2*Math.PI/A),g=Math.sin(2*Math.PI/A),G=0;G<T;G+=A)for(var H=l,ne=g,ce=0;ce<j;ce++){var Ae=y[G+ce],ke=w[G+ce],Fe=y[G+ce+j],Ee=w[G+ce+j],ge=H*Fe-ne*Ee;Ee=H*Ee+ne*Fe,y[G+ce]=Ae+(Fe=ge),w[G+ce]=ke+Ee,y[G+ce+j]=Ae-Fe,w[G+ce+j]=ke-Ee,ce!==A&&(ge=l*H-g*ne,ne=l*ne+g*H,H=ge)}},J.prototype.guessLen13b=function(u,h){var y=1|Math.max(h,u),w=1&y,T=0;for(y=y/2|0;y;y>>>=1)T++;return 1<<T+1+w},J.prototype.conjugate=function(u,h,y){if(!(y<=1))for(var w=0;w<y/2;w++){var T=u[w];u[w]=u[y-w-1],u[y-w-1]=T,T=h[w],h[w]=-h[y-w-1],h[y-w-1]=-T}},J.prototype.normalize13b=function(u,h){for(var y=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+y;u[w]=67108863&T,y=T<67108864?0:T/67108864|0}return u},J.prototype.convert13b=function(u,h,y,w){for(var T=0,D=0;D<h;D++)y[2*D]=8191&(T+=0|u[D]),y[2*D+1]=8191&(T>>>=13),T>>>=13;for(D=2*h;D<w;++D)y[D]=0;R(0===T),R(!(-8192&T))},J.prototype.stub=function(u){for(var h=new Array(u),y=0;y<u;y++)h[y]=0;return h},J.prototype.mulp=function(u,h,y){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),D=this.stub(w),j=new Array(w),A=new Array(w),l=new Array(w),g=new Array(w),G=new Array(w),H=new Array(w),ne=y.words;ne.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,g,w),this.transform(j,D,A,l,w,T),this.transform(g,D,G,H,w,T);for(var ce=0;ce<w;ce++){var Ae=A[ce]*G[ce]-l[ce]*H[ce];l[ce]=A[ce]*H[ce]+l[ce]*G[ce],A[ce]=Ae}return this.conjugate(A,l,w),this.transform(A,l,ne,D,w,T),this.conjugate(ne,D,w),this.normalize13b(ne,w),y.negative=u.negative^h.negative,y.length=u.length+h.length,y.strip()},S.prototype.mul=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},S.prototype.mulf=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),Q(this,u,h)},S.prototype.imul=function(u){return this.clone().mulTo(u,this)},S.prototype.imuln=function(u){R("number"==typeof u),R(u<67108864);for(var h=0,y=0;y<this.length;y++){var w=(0|this.words[y])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[y]=67108863&T}return 0!==h&&(this.words[y]=h,this.length++),this},S.prototype.muln=function(u){return this.clone().imuln(u)},S.prototype.sqr=function(){return this.mul(this)},S.prototype.isqr=function(){return this.imul(this.clone())},S.prototype.pow=function(u){var h=function V(k){for(var u=new Array(k.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(k.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new S(1);for(var y=this,w=0;w<h.length&&0===h[w];w++,y=y.sqr());if(++w<h.length)for(var T=y.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(y=y.mul(T));return y},S.prototype.iushln=function(u){R("number"==typeof u&&u>=0);var T,h=u%26,y=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|D,D=j>>>26-h}D&&(this.words[T]=D,this.length++)}if(0!==y){for(T=this.length-1;T>=0;T--)this.words[T+y]=this.words[T];for(T=0;T<y;T++)this.words[T]=0;this.length+=y}return this.strip()},S.prototype.ishln=function(u){return R(0===this.negative),this.iushln(u)},S.prototype.iushrn=function(u,h,y){var w;R("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,D=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,A=y;if(w-=D,w=Math.max(0,w),A){for(var l=0;l<D;l++)A.words[l]=this.words[l];A.length=D}if(0!==D)if(this.length>D)for(this.length-=D,l=0;l<this.length;l++)this.words[l]=this.words[l+D];else this.words[0]=0,this.length=1;var g=0;for(l=this.length-1;l>=0&&(0!==g||l>=w);l--){var G=0|this.words[l];this.words[l]=g<<26-T|G>>>T,g=G&j}return A&&0!==g&&(A.words[A.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},S.prototype.ishrn=function(u,h,y){return R(0===this.negative),this.iushrn(u,h,y)},S.prototype.shln=function(u){return this.clone().ishln(u)},S.prototype.ushln=function(u){return this.clone().iushln(u)},S.prototype.shrn=function(u){return this.clone().ishrn(u)},S.prototype.ushrn=function(u){return this.clone().iushrn(u)},S.prototype.testn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return!(this.length<=y||!(this.words[y]&1<<h))},S.prototype.imaskn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return R(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==h&&y++,this.length=Math.min(y,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},S.prototype.maskn=function(u){return this.clone().imaskn(u)},S.prototype.iaddn=function(u){return R("number"==typeof u),R(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},S.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},S.prototype.isubn=function(u){if(R("number"==typeof u),R(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},S.prototype.addn=function(u){return this.clone().iaddn(u)},S.prototype.subn=function(u){return this.clone().isubn(u)},S.prototype.iabs=function(){return this.negative=0,this},S.prototype.abs=function(){return this.clone().iabs()},S.prototype._ishlnsubmul=function(u,h,y){var T;this._expand(u.length+y);var D,j=0;for(T=0;T<u.length;T++){D=(0|this.words[T+y])+j;var A=(0|u.words[T])*h;j=((D-=67108863&A)>>26)-(A/67108864|0),this.words[T+y]=67108863&D}for(;T<this.length-y;T++)j=(D=(0|this.words[T+y])+j)>>26,this.words[T+y]=67108863&D;if(0===j)return this.strip();for(R(-1===j),j=0,T=0;T<this.length;T++)j=(D=-(0|this.words[T])+j)>>26,this.words[T]=67108863&D;return this.negative=1,this.strip()},S.prototype._wordDiv=function(u,h){var y,w=this.clone(),T=u,D=0|T.words[T.length-1];0!=(y=26-this._countBits(D))&&(T=T.ushln(y),w.iushln(y),D=0|T.words[T.length-1]);var l,A=w.length-T.length;if("mod"!==h){(l=new S(null)).length=A+1,l.words=new Array(l.length);for(var g=0;g<l.length;g++)l.words[g]=0}var G=w.clone()._ishlnsubmul(T,1,A);0===G.negative&&(w=G,l&&(l.words[A]=1));for(var H=A-1;H>=0;H--){var ne=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ne=Math.min(ne/D|0,67108863),w._ishlnsubmul(T,ne,H);0!==w.negative;)ne--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);l&&(l.words[H]=ne)}return l&&l.strip(),w.strip(),"div"!==h&&0!==y&&w.iushrn(y),{div:l||null,mod:w}},S.prototype.divmod=function(u,h,y){return R(!u.isZero()),this.isZero()?{div:new S(0),mod:new S(0)}:0!==this.negative&&0===u.negative?(D=this.neg().divmod(u,h),"mod"!==h&&(w=D.div.neg()),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(D=this.divmod(u.neg(),h),"mod"!==h&&(w=D.div.neg()),{div:w,mod:D.mod}):this.negative&u.negative?(D=this.neg().divmod(u.neg(),h),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.isub(u)),{div:D.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new S(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new S(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new S(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,D},S.prototype.div=function(u){return this.divmod(u,"div",!1).div},S.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},S.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},S.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var y=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),D=y.cmp(w);return D<0||1===T&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},S.prototype.modn=function(u){R(u<=67108863);for(var h=(1<<26)%u,y=0,w=this.length-1;w>=0;w--)y=(h*y+(0|this.words[w]))%u;return y},S.prototype.idivn=function(u){R(u<=67108863);for(var h=0,y=this.length-1;y>=0;y--){var w=(0|this.words[y])+67108864*h;this.words[y]=w/u|0,h=w%u}return this.strip()},S.prototype.divn=function(u){return this.clone().idivn(u)},S.prototype.egcd=function(u){R(0===u.negative),R(!u.isZero());var h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=new S(0),j=new S(1),A=0;h.isEven()&&y.isEven();)h.iushrn(1),y.iushrn(1),++A;for(var l=y.clone(),g=h.clone();!h.isZero();){for(var G=0,H=1;!(h.words[0]&H)&&G<26;++G,H<<=1);if(G>0)for(h.iushrn(G);G-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(l),T.isub(g)),w.iushrn(1),T.iushrn(1);for(var ne=0,ce=1;!(y.words[0]&ce)&&ne<26;++ne,ce<<=1);if(ne>0)for(y.iushrn(ne);ne-- >0;)(D.isOdd()||j.isOdd())&&(D.iadd(l),j.isub(g)),D.iushrn(1),j.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(D),T.isub(j)):(y.isub(h),D.isub(w),j.isub(T))}return{a:D,b:j,gcd:y.iushln(A)}},S.prototype._invmp=function(u){R(0===u.negative),R(!u.isZero());var G,h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=y.clone();h.cmpn(1)>0&&y.cmpn(1)>0;){for(var j=0,A=1;!(h.words[0]&A)&&j<26;++j,A<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(D),w.iushrn(1);for(var l=0,g=1;!(y.words[0]&g)&&l<26;++l,g<<=1);if(l>0)for(y.iushrn(l);l-- >0;)T.isOdd()&&T.iadd(D),T.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(T)):(y.isub(h),T.isub(w))}return(G=0===h.cmpn(1)?w:T).cmpn(0)<0&&G.iadd(u),G},S.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),y=u.clone();h.negative=0,y.negative=0;for(var w=0;h.isEven()&&y.isEven();w++)h.iushrn(1),y.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;y.isEven();)y.iushrn(1);var T=h.cmp(y);if(T<0){var D=h;h=y,y=D}else if(0===T||0===y.cmpn(1))break;h.isub(y)}return y.iushln(w)},S.prototype.invm=function(u){return this.egcd(u).a.umod(u)},S.prototype.isEven=function(){return!(1&this.words[0])},S.prototype.isOdd=function(){return!(1&~this.words[0])},S.prototype.andln=function(u){return this.words[0]&u},S.prototype.bincn=function(u){R("number"==typeof u);var h=u%26,y=(u-h)/26,w=1<<h;if(this.length<=y)return this._expand(y+1),this.words[y]|=w,this;for(var T=w,D=y;0!==T&&D<this.length;D++){var j=0|this.words[D];T=(j+=T)>>>26,this.words[D]=j&=67108863}return 0!==T&&(this.words[D]=T,this.length++),this},S.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},S.prototype.cmpn=function(u){var y,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)y=1;else{h&&(u=-u),R(u<=67108863,"Number is too big");var w=0|this.words[0];y=w===u?0:w<u?-1:1}return 0!==this.negative?0|-y:y},S.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},S.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,y=this.length-1;y>=0;y--){var w=0|this.words[y],T=0|u.words[y];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},S.prototype.gtn=function(u){return 1===this.cmpn(u)},S.prototype.gt=function(u){return 1===this.cmp(u)},S.prototype.gten=function(u){return this.cmpn(u)>=0},S.prototype.gte=function(u){return this.cmp(u)>=0},S.prototype.ltn=function(u){return-1===this.cmpn(u)},S.prototype.lt=function(u){return-1===this.cmp(u)},S.prototype.lten=function(u){return this.cmpn(u)<=0},S.prototype.lte=function(u){return this.cmp(u)<=0},S.prototype.eqn=function(u){return 0===this.cmpn(u)},S.prototype.eq=function(u){return 0===this.cmp(u)},S.red=function(u){return new we(u)},S.prototype.toRed=function(u){return R(!this.red,"Already a number in reduction context"),R(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},S.prototype.fromRed=function(){return R(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},S.prototype._forceRed=function(u){return this.red=u,this},S.prototype.forceRed=function(u){return R(!this.red,"Already a number in reduction context"),this._forceRed(u)},S.prototype.redAdd=function(u){return R(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},S.prototype.redIAdd=function(u){return R(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},S.prototype.redSub=function(u){return R(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},S.prototype.redISub=function(u){return R(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},S.prototype.redShl=function(u){return R(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},S.prototype.redMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},S.prototype.redIMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},S.prototype.redSqr=function(){return R(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},S.prototype.redISqr=function(){return R(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},S.prototype.redSqrt=function(){return R(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},S.prototype.redInvm=function(){return R(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},S.prototype.redNeg=function(){return R(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},S.prototype.redPow=function(u){return R(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var oe={k256:null,p224:null,p192:null,p25519:null};function se(k,u){this.name=k,this.p=new S(u,16),this.n=this.p.bitLength(),this.k=new S(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function pe(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var u=S._prime(k);this.m=u.p,this.prime=u}else R(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function De(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new S(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new S(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var y,h=u;do{this.split(h,this.tmp),y=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(y>this.n);var w=y<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},W(ae,se),ae.prototype.split=function(u,h){for(var y=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var D=u.words[9];for(h.words[h.length++]=D&y,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&y)<<4|D>>>22,D=j}u.words[T-10]=D>>>=22,u.length-=0===D&&u.length>10?10:9},ae.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,y=0;y<u.length;y++){var w=0|u.words[y];u.words[y]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},W(pe,se),W(le,se),W(ve,se),ve.prototype.imulK=function(u){for(var h=0,y=0;y<u.length;y++){var w=19*(0|u.words[y])+h,T=67108863&w;w>>>=26,u.words[y]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},S._prime=function(u){if(oe[u])return oe[u];var h;if("k256"===u)h=new ae;else if("p224"===u)h=new pe;else if("p192"===u)h=new le;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return oe[u]=h,h},we.prototype._verify1=function(u){R(0===u.negative,"red works only with positives"),R(u.red,"red works only with red numbers")},we.prototype._verify2=function(u,h){R(!(u.negative|h.negative),"red works only with positives"),R(u.red&&u.red===h.red,"red works only with red numbers")},we.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},we.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},we.prototype.add=function(u,h){this._verify2(u,h);var y=u.add(h);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},we.prototype.iadd=function(u,h){this._verify2(u,h);var y=u.iadd(h);return y.cmp(this.m)>=0&&y.isub(this.m),y},we.prototype.sub=function(u,h){this._verify2(u,h);var y=u.sub(h);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},we.prototype.isub=function(u,h){this._verify2(u,h);var y=u.isub(h);return y.cmpn(0)<0&&y.iadd(this.m),y},we.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},we.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},we.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},we.prototype.isqr=function(u){return this.imul(u,u.clone())},we.prototype.sqr=function(u){return this.mul(u,u)},we.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(R(h%2==1),3===h){var y=this.m.add(new S(1)).iushrn(2);return this.pow(u,y)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);R(!w.isZero());var D=new S(1).toRed(this),j=D.redNeg(),A=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new S(2*l*l).toRed(this);0!==this.pow(l,A).cmp(j);)l.redIAdd(j);for(var g=this.pow(l,w),G=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ne=T;0!==H.cmp(D);){for(var ce=H,Ae=0;0!==ce.cmp(D);Ae++)ce=ce.redSqr();R(Ae<ne);var ke=this.pow(g,new S(1).iushln(ne-Ae-1));G=G.redMul(ke),g=ke.redSqr(),H=H.redMul(g),ne=Ae}return G},we.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(u,h){if(h.isZero())return new S(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new S(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var D=w[0],j=0,A=0,l=h.bitLength()%26;for(0===l&&(l=26),T=h.length-1;T>=0;T--){for(var g=h.words[T],G=l-1;G>=0;G--){var H=g>>G&1;D!==w[0]&&(D=this.sqr(D)),0!==H||0!==j?(j<<=1,j|=H,(4==++A||0===T&&0===G)&&(D=this.mul(D,w[j]),A=0,j=0)):A=0}l=26}return D},we.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},we.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},S.mont=function(u){return new De(u)},W(De,we),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new S(0)._forceRed(this);var y=u.mul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Le=E.nmd(Le),this)},39210:Le=>{function z(E,m){if(!E)throw new Error(m||"Assertion failed")}Le.exports=z,z.equal=function(m,x,R){if(m!=x)throw new Error(R||"Assertion failed: "+m+" != "+x)}},21832:(Le,z)=>{"use strict";var E=z;function x(W){return 1===W.length?"0"+W:W}function R(W){for(var S="",L=0;L<W.length;L++)S+=x(W[L].toString(16));return S}E.toArray=function m(W,S){if(Array.isArray(W))return W.slice();if(!W)return[];var L=[];if("string"!=typeof W){for(var M=0;M<W.length;M++)L[M]=0|W[M];return L}if("hex"===S)for((W=W.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(W="0"+W),M=0;M<W.length;M+=2)L.push(parseInt(W[M]+W[M+1],16));else for(M=0;M<W.length;M++){var N=W.charCodeAt(M),$=N>>8,F=255&N;$?L.push($,F):L.push(F)}return L},E.zero2=x,E.toHex=R,E.encode=function(S,L){return"hex"===L?R(S):S}},61747:Le=>{"use strict";Le.exports=class extends Error{constructor(E,m){super(E||""),"object"==typeof m&&null!==m&&(m.code&&(this.code=String(m.code)),m.expected&&(this.expected=!0),m.transient&&(this.transient=!0),m.cause&&(this.cause=m.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}},13026:(Le,z,E)=>{Le.exports=E(3116)},3116:function(Le,z){!function(E,m){"use strict";var x={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function R(V){if(!Array.isArray(V)&&!ArrayBuffer.isView(V))return!1;for(var Z=0;Z<V.length;Z++)if(!Number.isInteger(V[Z])||V[Z]<0||V[Z]>255)return!1;return!0}function W(V,Z){return(65535&V)*Z+(((V>>>16)*Z&65535)<<16)}function S(V,Z){return V<<Z|V>>>32-Z}function L(V){return V=W(V^=V>>>16,2246822507),(V=W(V^=V>>>13,3266489909))^V>>>16}function M(V,Z){var re=[0,0,0,0];return re[3]+=(V=[V[0]>>>16,65535&V[0],V[1]>>>16,65535&V[1]])[3]+(Z=[Z[0]>>>16,65535&Z[0],Z[1]>>>16,65535&Z[1]])[3],re[2]+=re[3]>>>16,re[3]&=65535,re[2]+=V[2]+Z[2],re[1]+=re[2]>>>16,re[2]&=65535,re[1]+=V[1]+Z[1],re[0]+=re[1]>>>16,re[1]&=65535,re[0]+=V[0]+Z[0],re[0]&=65535,[re[0]<<16|re[1],re[2]<<16|re[3]]}function N(V,Z){var re=[0,0,0,0];return re[3]+=(V=[V[0]>>>16,65535&V[0],V[1]>>>16,65535&V[1]])[3]*(Z=[Z[0]>>>16,65535&Z[0],Z[1]>>>16,65535&Z[1]])[3],re[2]+=re[3]>>>16,re[3]&=65535,re[2]+=V[2]*Z[3],re[1]+=re[2]>>>16,re[2]&=65535,re[2]+=V[3]*Z[2],re[1]+=re[2]>>>16,re[2]&=65535,re[1]+=V[1]*Z[3],re[0]+=re[1]>>>16,re[1]&=65535,re[1]+=V[2]*Z[2],re[0]+=re[1]>>>16,re[1]&=65535,re[1]+=V[3]*Z[1],re[0]+=re[1]>>>16,re[1]&=65535,re[0]+=V[0]*Z[3]+V[1]*Z[2]+V[2]*Z[1]+V[3]*Z[0],re[0]&=65535,[re[0]<<16|re[1],re[2]<<16|re[3]]}function $(V,Z){return 32==(Z%=64)?[V[1],V[0]]:Z<32?[V[0]<<Z|V[1]>>>32-Z,V[1]<<Z|V[0]>>>32-Z]:[V[1]<<(Z-=32)|V[0]>>>32-Z,V[0]<<Z|V[1]>>>32-Z]}function F(V,Z){return 0==(Z%=64)?V:Z<32?[V[0]<<Z|V[1]>>>32-Z,V[1]<<Z]:[V[1]<<Z-32,0]}function I(V,Z){return[V[0]^Z[0],V[1]^Z[1]]}function X(V){return V=I(V,[0,V[0]>>>1]),V=I(V=N(V,[4283543511,3981806797]),[0,V[0]>>>1]),I(V=N(V,[3301882366,444984403]),[0,V[0]>>>1])}x.x86.hash32=function(V,Z){if(x.inputValidation&&!R(V))return m;for(var re=V.length%4,te=V.length-re,Q=Z=Z||0,J=0,oe=3432918353,se=461845907,ae=0;ae<te;ae+=4)J=W(J=V[ae]|V[ae+1]<<8|V[ae+2]<<16|V[ae+3]<<24,oe),J=W(J=S(J,15),se),Q=W(Q=S(Q^=J,13),5)+3864292196;switch(J=0,re){case 3:J^=V[ae+2]<<16;case 2:J^=V[ae+1]<<8;case 1:J=W(J^=V[ae],oe),Q^=J=W(J=S(J,15),se)}return(Q=L(Q^=V.length))>>>0},x.x86.hash128=function(V,Z){if(x.inputValidation&&!R(V))return m;for(var re=V.length%16,te=V.length-re,Q=Z=Z||0,J=Z,oe=Z,se=Z,ae=0,pe=0,le=0,ve=0,we=597399067,De=2869860233,k=951274213,u=2716044179,h=0;h<te;h+=16)pe=V[h+4]|V[h+5]<<8|V[h+6]<<16|V[h+7]<<24,le=V[h+8]|V[h+9]<<8|V[h+10]<<16|V[h+11]<<24,ve=V[h+12]|V[h+13]<<8|V[h+14]<<16|V[h+15]<<24,ae=S(ae=W(ae=V[h]|V[h+1]<<8|V[h+2]<<16|V[h+3]<<24,we),15),Q=S(Q^=ae=W(ae,De),19),Q=W(Q+=J,5)+1444728091,pe=S(pe=W(pe,De),16),J=S(J^=pe=W(pe,k),17),J=W(J+=oe,5)+197830471,le=S(le=W(le,k),17),oe=S(oe^=le=W(le,u),15),oe=W(oe+=se,5)+2530024501,ve=S(ve=W(ve,u),18),se=S(se^=ve=W(ve,we),13),se=W(se+=Q,5)+850148119;switch(ae=0,pe=0,le=0,ve=0,re){case 15:ve^=V[h+14]<<16;case 14:ve^=V[h+13]<<8;case 13:ve=W(ve^=V[h+12],u),se^=ve=W(ve=S(ve,18),we);case 12:le^=V[h+11]<<24;case 11:le^=V[h+10]<<16;case 10:le^=V[h+9]<<8;case 9:le=W(le^=V[h+8],k),oe^=le=W(le=S(le,17),u);case 8:pe^=V[h+7]<<24;case 7:pe^=V[h+6]<<16;case 6:pe^=V[h+5]<<8;case 5:pe=W(pe^=V[h+4],De),J^=pe=W(pe=S(pe,16),k);case 4:ae^=V[h+3]<<24;case 3:ae^=V[h+2]<<16;case 2:ae^=V[h+1]<<8;case 1:ae=W(ae^=V[h],we),Q^=ae=W(ae=S(ae,15),De)}return Q^=V.length,Q+=J^=V.length,Q+=oe^=V.length,J+=Q+=se^=V.length,oe+=Q,se+=Q,Q=L(Q),Q+=J=L(J),Q+=oe=L(oe),J+=Q+=se=L(se),oe+=Q,se+=Q,("00000000"+(Q>>>0).toString(16)).slice(-8)+("00000000"+(J>>>0).toString(16)).slice(-8)+("00000000"+(oe>>>0).toString(16)).slice(-8)+("00000000"+(se>>>0).toString(16)).slice(-8)},x.x64.hash128=function(V,Z){if(x.inputValidation&&!R(V))return m;for(var re=V.length%16,te=V.length-re,Q=[0,Z=Z||0],J=[0,Z],oe=[0,0],se=[0,0],ae=[2277735313,289559509],pe=[1291169091,658871167],le=0;le<te;le+=16)se=[V[le+12]|V[le+13]<<8|V[le+14]<<16|V[le+15]<<24,V[le+8]|V[le+9]<<8|V[le+10]<<16|V[le+11]<<24],oe=$(oe=N(oe=[V[le+4]|V[le+5]<<8|V[le+6]<<16|V[le+7]<<24,V[le]|V[le+1]<<8|V[le+2]<<16|V[le+3]<<24],ae),31),Q=M(Q=$(Q=I(Q,oe=N(oe,pe)),27),J),Q=M(N(Q,[0,5]),[0,1390208809]),se=$(se=N(se,pe),33),J=M(J=$(J=I(J,se=N(se,ae)),31),Q),J=M(N(J,[0,5]),[0,944331445]);switch(oe=[0,0],se=[0,0],re){case 15:se=I(se,F([0,V[le+14]],48));case 14:se=I(se,F([0,V[le+13]],40));case 13:se=I(se,F([0,V[le+12]],32));case 12:se=I(se,F([0,V[le+11]],24));case 11:se=I(se,F([0,V[le+10]],16));case 10:se=I(se,F([0,V[le+9]],8));case 9:se=N(se=I(se,[0,V[le+8]]),pe),J=I(J,se=N(se=$(se,33),ae));case 8:oe=I(oe,F([0,V[le+7]],56));case 7:oe=I(oe,F([0,V[le+6]],48));case 6:oe=I(oe,F([0,V[le+5]],40));case 5:oe=I(oe,F([0,V[le+4]],32));case 4:oe=I(oe,F([0,V[le+3]],24));case 3:oe=I(oe,F([0,V[le+2]],16));case 2:oe=I(oe,F([0,V[le+1]],8));case 1:oe=N(oe=I(oe,[0,V[le]]),ae),Q=I(Q,oe=N(oe=$(oe,31),pe))}return Q=M(Q=I(Q,[0,V.length]),J=I(J,[0,V.length])),J=M(J,Q),Q=M(Q=X(Q),J=X(J)),J=M(J,Q),("00000000"+(Q[0]>>>0).toString(16)).slice(-8)+("00000000"+(Q[1]>>>0).toString(16)).slice(-8)+("00000000"+(J[0]>>>0).toString(16)).slice(-8)+("00000000"+(J[1]>>>0).toString(16)).slice(-8)},Le.exports&&(z=Le.exports=x),z.murmurHash3=x}()},50233:Le=>{"use strict";var z=Object.prototype.hasOwnProperty,E="~";function m(){}function x(L,M,N){this.fn=L,this.context=M,this.once=N||!1}function R(L,M,N,$,F){if("function"!=typeof N)throw new TypeError("The listener must be a function");var I=new x(N,$||L,F),X=E?E+M:M;return L._events[X]?L._events[X].fn?L._events[X]=[L._events[X],I]:L._events[X].push(I):(L._events[X]=I,L._eventsCount++),L}function W(L,M){0==--L._eventsCount?L._events=new m:delete L._events[M]}function S(){this._events=new m,this._eventsCount=0}Object.create&&(m.prototype=Object.create(null),(new m).__proto__||(E=!1)),S.prototype.eventNames=function(){var N,$,M=[];if(0===this._eventsCount)return M;for($ in N=this._events)z.call(N,$)&&M.push(E?$.slice(1):$);return Object.getOwnPropertySymbols?M.concat(Object.getOwnPropertySymbols(N)):M},S.prototype.listeners=function(M){var $=this._events[E?E+M:M];if(!$)return[];if($.fn)return[$.fn];for(var F=0,I=$.length,X=new Array(I);F<I;F++)X[F]=$[F].fn;return X},S.prototype.listenerCount=function(M){var $=this._events[E?E+M:M];return $?$.fn?1:$.length:0},S.prototype.emit=function(M,N,$,F,I,X){var V=E?E+M:M;if(!this._events[V])return!1;var te,Q,Z=this._events[V],re=arguments.length;if(Z.fn){switch(Z.once&&this.removeListener(M,Z.fn,void 0,!0),re){case 1:return Z.fn.call(Z.context),!0;case 2:return Z.fn.call(Z.context,N),!0;case 3:return Z.fn.call(Z.context,N,$),!0;case 4:return Z.fn.call(Z.context,N,$,F),!0;case 5:return Z.fn.call(Z.context,N,$,F,I),!0;case 6:return Z.fn.call(Z.context,N,$,F,I,X),!0}for(Q=1,te=new Array(re-1);Q<re;Q++)te[Q-1]=arguments[Q];Z.fn.apply(Z.context,te)}else{var oe,J=Z.length;for(Q=0;Q<J;Q++)switch(Z[Q].once&&this.removeListener(M,Z[Q].fn,void 0,!0),re){case 1:Z[Q].fn.call(Z[Q].context);break;case 2:Z[Q].fn.call(Z[Q].context,N);break;case 3:Z[Q].fn.call(Z[Q].context,N,$);break;case 4:Z[Q].fn.call(Z[Q].context,N,$,F);break;default:if(!te)for(oe=1,te=new Array(re-1);oe<re;oe++)te[oe-1]=arguments[oe];Z[Q].fn.apply(Z[Q].context,te)}}return!0},S.prototype.on=function(M,N,$){return R(this,M,N,$,!1)},S.prototype.once=function(M,N,$){return R(this,M,N,$,!0)},S.prototype.removeListener=function(M,N,$,F){var I=E?E+M:M;if(!this._events[I])return this;if(!N)return W(this,I),this;var X=this._events[I];if(X.fn)X.fn===N&&(!F||X.once)&&(!$||X.context===$)&&W(this,I);else{for(var V=0,Z=[],re=X.length;V<re;V++)(X[V].fn!==N||F&&!X[V].once||$&&X[V].context!==$)&&Z.push(X[V]);Z.length?this._events[I]=1===Z.length?Z[0]:Z:W(this,I)}return this},S.prototype.removeAllListeners=function(M){var N;return M?this._events[N=E?E+M:M]&&W(this,N):(this._events=new m,this._eventsCount=0),this},S.prototype.off=S.prototype.removeListener,S.prototype.addListener=S.prototype.on,S.prefixed=E,S.EventEmitter=S,Le.exports=S},83138:(Le,z,E)=>{"use strict";var m=E(49609);z.certificate=E(94772);var x=m.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});z.RSAPrivateKey=x;var R=m.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});z.RSAPublicKey=R;var W=m.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),S=m.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(W),this.key("subjectPublicKey").bitstr())});z.PublicKey=S;var L=m.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(W),this.key("subjectPrivateKey").octstr())});z.PrivateKey=L;var M=m.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});z.EncryptedPrivateKey=M;var N=m.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});z.DSAPrivateKey=N,z.DSAparam=m.define("DSAparam",function(){this.int()});var $=m.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),F=m.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use($),this.key("publicKey").optional().explicit(1).bitstr())});z.ECPrivateKey=F,z.signature=m.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},94772:(Le,z,E)=>{"use strict";var m=E(49609),x=m.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),R=m.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),W=m.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),S=m.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(W),this.key("subjectPublicKey").bitstr())}),L=m.define("RelativeDistinguishedName",function(){this.setof(R)}),M=m.define("RDNSequence",function(){this.seqof(L)}),N=m.define("Name",function(){this.choice({rdnSequence:this.use(M)})}),$=m.define("Validity",function(){this.seq().obj(this.key("notBefore").use(x),this.key("notAfter").use(x))}),F=m.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),I=m.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(W),this.key("issuer").use(N),this.key("validity").use($),this.key("subject").use(N),this.key("subjectPublicKeyInfo").use(S),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(F).optional())}),X=m.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(I),this.key("signatureAlgorithm").use(W),this.key("signatureValue").bitstr())});Le.exports=X},89472:(Le,z,E)=>{"use strict";var m=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,x=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,R=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,W=E(18211),S=E(43388),L=E(27054).Buffer;Le.exports=function(M,N){var I,$=M.toString(),F=$.match(m);if(F){var V="aes"+F[1],Z=L.from(F[2],"hex"),re=L.from(F[3].replace(/[\r\n]/g,""),"base64"),te=W(N,Z.slice(0,8),parseInt(F[1],10)).key,Q=[],J=S.createDecipheriv(V,te,Z);Q.push(J.update(re)),Q.push(J.final()),I=L.concat(Q)}else{var X=$.match(R);I=L.from(X[2].replace(/[\r\n]/g,""),"base64")}return{tag:$.match(x)[1],data:I}}},65667:(Le,z,E)=>{"use strict";var m=E(83138),x=E(15579),R=E(89472),W=E(43388),S=E(93397),L=E(27054).Buffer;function N($){var F;"object"==typeof $&&!L.isBuffer($)&&(F=$.passphrase,$=$.key),"string"==typeof $&&($=L.from($));var Z,re,I=R($,F),X=I.tag,V=I.data;switch(X){case"CERTIFICATE":re=m.certificate.decode(V,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(re||(re=m.PublicKey.decode(V,"der")),Z=re.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return m.RSAPublicKey.decode(re.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return re.subjectPrivateKey=re.subjectPublicKey,{type:"ec",data:re};case"1.2.840.10040.4.1":return re.algorithm.params.pub_key=m.DSAparam.decode(re.subjectPublicKey.data,"der"),{type:"dsa",data:re.algorithm.params};default:throw new Error("unknown key id "+Z)}case"ENCRYPTED PRIVATE KEY":V=function M($,F){var I=$.algorithm.decrypt.kde.kdeparams.salt,X=parseInt($.algorithm.decrypt.kde.kdeparams.iters.toString(),10),V=x[$.algorithm.decrypt.cipher.algo.join(".")],Z=$.algorithm.decrypt.cipher.iv,re=$.subjectPrivateKey,te=parseInt(V.split("-")[1],10)/8,Q=S.pbkdf2Sync(F,I,X,te,"sha1"),J=W.createDecipheriv(V,Q,Z),oe=[];return oe.push(J.update(re)),oe.push(J.final()),L.concat(oe)}(V=m.EncryptedPrivateKey.decode(V,"der"),F);case"PRIVATE KEY":switch(Z=(re=m.PrivateKey.decode(V,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return m.RSAPrivateKey.decode(re.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:re.algorithm.curve,privateKey:m.ECPrivateKey.decode(re.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return re.algorithm.params.priv_key=m.DSAparam.decode(re.subjectPrivateKey,"der"),{type:"dsa",params:re.algorithm.params};default:throw new Error("unknown key id "+Z)}case"RSA PUBLIC KEY":return m.RSAPublicKey.decode(V,"der");case"RSA PRIVATE KEY":return m.RSAPrivateKey.decode(V,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:m.DSAPrivateKey.decode(V,"der")};case"EC PRIVATE KEY":return{curve:(V=m.ECPrivateKey.decode(V,"der")).parameters.value,privateKey:V.privateKey};default:throw new Error("unknown key type "+X)}}N.signature=m.signature,Le.exports=N},93397:(Le,z,E)=>{z.pbkdf2=E(82685),z.pbkdf2Sync=E(59111)},82685:(Le,z,E)=>{var L,I,m=E(27054).Buffer,x=E(86111),R=E(45392),W=E(59111),S=E(76643),M=globalThis.crypto&&globalThis.crypto.subtle,N={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},$=[];function X(){return I||(I=globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.queueMicrotask?globalThis.queueMicrotask:globalThis.setImmediate?globalThis.setImmediate:globalThis.setTimeout)}function V(re,te,Q,J,oe){return M.importKey("raw",re,{name:"PBKDF2"},!1,["deriveBits"]).then(function(se){return M.deriveBits({name:"PBKDF2",salt:te,iterations:Q,hash:{name:oe}},se,J<<3)}).then(function(se){return m.from(se)})}Le.exports=function(re,te,Q,J,oe,se){"function"==typeof oe&&(se=oe,oe=void 0);var ae=N[(oe=oe||"sha1").toLowerCase()];if(ae&&"function"==typeof globalThis.Promise){if(x(Q,J),re=S(re,R,"Password"),te=S(te,R,"Salt"),"function"!=typeof se)throw new Error("No callback provided to pbkdf2");!function Z(re,te){re.then(function(Q){X()(function(){te(null,Q)})},function(Q){X()(function(){te(Q)})})}(function F(re){if(globalThis.process&&!globalThis.process.browser||!M||!M.importKey||!M.deriveBits)return Promise.resolve(!1);if(void 0!==$[re])return $[re];var te=V(L=L||m.alloc(8),L,10,128,re).then(function(){return!0}).catch(function(){return!1});return $[re]=te,te}(ae).then(function(pe){return pe?V(re,te,Q,J,ae):W(re,te,Q,J,oe)}),se)}else X()(function(){var pe;try{pe=W(re,te,Q,J,oe)}catch(le){return se(le)}se(null,pe)})}},45392:(Le,z,E)=>{var x,m=E(40573);x=globalThis.process&&globalThis.process.browser?"utf-8":globalThis.process&&globalThis.process.version?parseInt(m.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":"utf-8",Le.exports=x},86111:Le=>{var z=Math.pow(2,30)-1;Le.exports=function(E,m){if("number"!=typeof E)throw new TypeError("Iterations not a number");if(E<0)throw new TypeError("Bad iterations");if("number"!=typeof m)throw new TypeError("Key length not a number");if(m<0||m>z||m!=m)throw new TypeError("Bad key length")}},59111:(Le,z,E)=>{var m=E(83407),x=E(36636),R=E(25443),W=E(27054).Buffer,S=E(86111),L=E(45392),M=E(76643),N=W.alloc(128),$={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function F(V,Z,re){var te=function I(V){return"rmd160"===V||"ripemd160"===V?function re(te){return(new x).update(te).digest()}:"md5"===V?m:function Z(te){return R(V).update(te).digest()}}(V),Q="sha512"===V||"sha384"===V?128:64;Z.length>Q?Z=te(Z):Z.length<Q&&(Z=W.concat([Z,N],Q));for(var J=W.allocUnsafe(Q+$[V]),oe=W.allocUnsafe(Q+$[V]),se=0;se<Q;se++)J[se]=54^Z[se],oe[se]=92^Z[se];var ae=W.allocUnsafe(Q+re+4);J.copy(ae,0,0,Q),this.ipad1=ae,this.ipad2=J,this.opad=oe,this.alg=V,this.blocksize=Q,this.hash=te,this.size=$[V]}F.prototype.run=function(V,Z){return V.copy(Z,this.blocksize),this.hash(Z).copy(this.opad,this.blocksize),this.hash(this.opad)},Le.exports=function X(V,Z,re,te,Q){S(re,te);var J=new F(Q=Q||"sha1",V=M(V,L,"Password"),(Z=M(Z,L,"Salt")).length),oe=W.allocUnsafe(te),se=W.allocUnsafe(Z.length+4);Z.copy(se,0,0,Z.length);for(var ae=0,pe=$[Q],le=Math.ceil(te/pe),ve=1;ve<=le;ve++){se.writeUInt32BE(ve,Z.length);for(var we=J.run(se,J.ipad1),De=we,k=1;k<re;k++){De=J.run(De,J.ipad2);for(var u=0;u<pe;u++)we[u]^=De[u]}we.copy(oe,ae),ae+=pe}return oe}},76643:(Le,z,E)=>{var m=E(27054).Buffer;Le.exports=function(x,R,W){if(m.isBuffer(x))return x;if("string"==typeof x)return m.from(x,R);if(ArrayBuffer.isView(x))return m.from(x.buffer);throw new TypeError(W+" must be a string, a Buffer, a typed array or a DataView")}},9656:(Le,z,E)=>{"use strict";var m=E(40573);Le.exports=typeof m>"u"||!m.version||0===m.version.indexOf("v0.")||0===m.version.indexOf("v1.")&&0!==m.version.indexOf("v1.8.")?{nextTick:function x(R,W,S,L){if("function"!=typeof R)throw new TypeError('"callback" argument must be a function');var N,$,M=arguments.length;switch(M){case 0:case 1:return m.nextTick(R);case 2:return m.nextTick(function(){R.call(null,W)});case 3:return m.nextTick(function(){R.call(null,W,S)});case 4:return m.nextTick(function(){R.call(null,W,S,L)});default:for(N=new Array(M-1),$=0;$<N.length;)N[$++]=arguments[$];return m.nextTick(function(){R.apply(null,N)})}}}:m},40573:Le=>{var E,m,z=Le.exports={};function x(){throw new Error("setTimeout has not been defined")}function R(){throw new Error("clearTimeout has not been defined")}function W(Z){if(E===setTimeout)return setTimeout(Z,0);if((E===x||!E)&&setTimeout)return E=setTimeout,setTimeout(Z,0);try{return E(Z,0)}catch{try{return E.call(null,Z,0)}catch{return E.call(this,Z,0)}}}!function(){try{E="function"==typeof setTimeout?setTimeout:x}catch{E=x}try{m="function"==typeof clearTimeout?clearTimeout:R}catch{m=R}}();var N,L=[],M=!1,$=-1;function F(){!M||!N||(M=!1,N.length?L=N.concat(L):$=-1,L.length&&I())}function I(){if(!M){var Z=W(F);M=!0;for(var re=L.length;re;){for(N=L,L=[];++$<re;)N&&N[$].run();$=-1,re=L.length}N=null,M=!1,function S(Z){if(m===clearTimeout)return clearTimeout(Z);if((m===R||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(Z);try{return m(Z)}catch{try{return m.call(null,Z)}catch{return m.call(this,Z)}}}(Z)}}function X(Z,re){this.fun=Z,this.array=re}function V(){}z.nextTick=function(Z){var re=new Array(arguments.length-1);if(arguments.length>1)for(var te=1;te<arguments.length;te++)re[te-1]=arguments[te];L.push(new X(Z,re)),1===L.length&&!M&&W(I)},X.prototype.run=function(){this.fun.apply(null,this.array)},z.title="browser",z.browser=!0,z.env={},z.argv=[],z.version="",z.versions={},z.on=V,z.addListener=V,z.once=V,z.off=V,z.removeListener=V,z.removeAllListeners=V,z.emit=V,z.prependListener=V,z.prependOnceListener=V,z.listeners=function(Z){return[]},z.binding=function(Z){throw new Error("process.binding is not supported")},z.cwd=function(){return"/"},z.chdir=function(Z){throw new Error("process.chdir is not supported")},z.umask=function(){return 0}},52965:(Le,z,E)=>{z.publicEncrypt=E(87267),z.privateDecrypt=E(98613),z.privateEncrypt=function(x,R){return z.publicEncrypt(x,R,!0)},z.publicDecrypt=function(x,R){return z.privateDecrypt(x,R,!0)}},30715:(Le,z,E)=>{var m=E(67211),x=E(27054).Buffer;function R(W){var S=x.allocUnsafe(4);return S.writeUInt32BE(W,0),S}Le.exports=function(W,S){for(var N,L=x.alloc(0),M=0;L.length<S;)N=R(M++),L=x.concat([L,m("sha1").update(W).update(N).digest()]);return L.slice(0,S)}},16508:function(Le,z,E){!function(m,x){"use strict";function R(k,u){if(!k)throw new Error(u||"Assertion failed")}function W(k,u){k.super_=u;var h=function(){};h.prototype=u.prototype,k.prototype=new h,k.prototype.constructor=k}function S(k,u,h){if(S.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,null!==k&&(("le"===u||"be"===u)&&(h=u,u=10),this._init(k||0,u||10,h||"be"))}var L;"object"==typeof m?m.exports=S:x.BN=S,S.BN=S,S.wordSize=26;try{L=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:E(51069).Buffer}catch{}function M(k,u){var h=k.charCodeAt(u);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function N(k,u,h){var y=M(k,h);return h-1>=u&&(y|=M(k,h-1)<<4),y}function $(k,u,h,y){for(var w=0,T=Math.min(k.length,h),D=u;D<T;D++){var j=k.charCodeAt(D)-48;w*=y,w+=j>=49?j-49+10:j>=17?j-17+10:j}return w}S.isBN=function(u){return u instanceof S||null!==u&&"object"==typeof u&&u.constructor.wordSize===S.wordSize&&Array.isArray(u.words)},S.max=function(u,h){return u.cmp(h)>0?u:h},S.min=function(u,h){return u.cmp(h)<0?u:h},S.prototype._init=function(u,h,y){if("number"==typeof u)return this._initNumber(u,h,y);if("object"==typeof u)return this._initArray(u,h,y);"hex"===h&&(h=16),R(h===(0|h)&&h>=2&&h<=36);var w=0;"-"===(u=u.toString().replace(/\s+/g,""))[0]&&(w++,this.negative=1),w<u.length&&(16===h?this._parseHex(u,w,y):(this._parseBase(u,h,w),"le"===y&&this._initArray(this.toArray(),h,y)))},S.prototype._initNumber=function(u,h,y){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[67108863&u],this.length=1):u<4503599627370496?(this.words=[67108863&u,u/67108864&67108863],this.length=2):(R(u<9007199254740992),this.words=[67108863&u,u/67108864&67108863,1],this.length=3),"le"===y&&this._initArray(this.toArray(),h,y)},S.prototype._initArray=function(u,h,y){if(R("number"==typeof u.length),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var T,D,j=0;if("be"===y)for(w=u.length-1,T=0;w>=0;w-=3)this.words[T]|=(D=u[w]|u[w-1]<<8|u[w-2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);else if("le"===y)for(w=0,T=0;w<u.length;w+=3)this.words[T]|=(D=u[w]|u[w+1]<<8|u[w+2]<<16)<<j&67108863,this.words[T+1]=D>>>26-j&67108863,(j+=24)>=26&&(j-=26,T++);return this.strip()},S.prototype._parseHex=function(u,h,y){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var j,T=0,D=0;if("be"===y)for(w=u.length-1;w>=h;w-=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;else for(w=(u.length-h)%2==0?h+1:h;w<u.length;w+=2)j=N(u,h,w)<<T,this.words[D]|=67108863&j,T>=18?(T-=18,this.words[D+=1]|=j>>>26):T+=8;this.strip()},S.prototype._parseBase=function(u,h,y){this.words=[0],this.length=1;for(var w=0,T=1;T<=67108863;T*=h)w++;w--,T=T/h|0;for(var D=u.length-y,j=D%w,A=Math.min(D,D-j)+y,l=0,g=y;g<A;g+=w)l=$(u,g,g+w,h),this.imuln(T),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==j){var G=1;for(l=$(u,g,u.length,h),g=0;g<j;g++)G*=h;this.imuln(G),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},S.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red},S.prototype.clone=function(){var u=new S(null);return this.copy(u),u},S.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},S.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},S.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},S.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var F=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],X=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function Z(k,u,h){h.negative=u.negative^k.negative;var y=k.length+u.length|0;h.length=y,y=y-1|0;var w=0|k.words[0],T=0|u.words[0],D=w*T,A=D/67108864|0;h.words[0]=67108863&D;for(var l=1;l<y;l++){for(var g=A>>>26,G=67108863&A,H=Math.min(l,u.length-1),ne=Math.max(0,l-k.length+1);ne<=H;ne++)g+=(D=(w=0|k.words[l-ne|0])*(T=0|u.words[ne])+G)/67108864|0,G=67108863&D;h.words[l]=0|G,A=0|g}return 0!==A?h.words[l]=0|A:h.length--,h.strip()}S.prototype.toString=function(u,h){var y;if(h=0|h||1,16===(u=u||10)||"hex"===u){y="";for(var w=0,T=0,D=0;D<this.length;D++){var j=this.words[D],A=(16777215&(j<<w|T)).toString(16);y=0!=(T=j>>>24-w&16777215)||D!==this.length-1?F[6-A.length]+A+y:A+y,(w+=2)>=26&&(w-=26,D--)}for(0!==T&&(y=T.toString(16)+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}if(u===(0|u)&&u>=2&&u<=36){var l=I[u],g=X[u];y="";var G=this.clone();for(G.negative=0;!G.isZero();){var H=G.modn(g).toString(u);y=(G=G.idivn(g)).isZero()?H+y:F[l-H.length]+H+y}for(this.isZero()&&(y="0"+y);y.length%h!=0;)y="0"+y;return 0!==this.negative&&(y="-"+y),y}R(!1,"Base should be between 2 and 36")},S.prototype.toNumber=function(){var u=this.words[0];return 2===this.length?u+=67108864*this.words[1]:3===this.length&&1===this.words[2]?u+=4503599627370496+67108864*this.words[1]:this.length>2&&R(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-u:u},S.prototype.toJSON=function(){return this.toString(16)},S.prototype.toBuffer=function(u,h){return R(typeof L<"u"),this.toArrayLike(L,u,h)},S.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)},S.prototype.toArrayLike=function(u,h,y){var w=this.byteLength(),T=y||Math.max(1,w);R(w<=T,"byte array longer than desired length"),R(T>0,"Requested array length <= 0"),this.strip();var A,l,D="le"===h,j=new u(T),g=this.clone();if(D){for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[l]=A;for(;l<T;l++)j[l]=0}else{for(l=0;l<T-w;l++)j[l]=0;for(l=0;!g.isZero();l++)A=g.andln(255),g.iushrn(8),j[T-l-1]=A}return j},S.prototype._countBits=Math.clz32?function(u){return 32-Math.clz32(u)}:function(u){var h=u,y=0;return h>=4096&&(y+=13,h>>>=13),h>=64&&(y+=7,h>>>=7),h>=8&&(y+=4,h>>>=4),h>=2&&(y+=2,h>>>=2),y+h},S.prototype._zeroBits=function(u){if(0===u)return 26;var h=u,y=0;return 8191&h||(y+=13,h>>>=13),127&h||(y+=7,h>>>=7),15&h||(y+=4,h>>>=4),3&h||(y+=2,h>>>=2),1&h||y++,y},S.prototype.bitLength=function(){var h=this._countBits(this.words[this.length-1]);return 26*(this.length-1)+h},S.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var y=this._zeroBits(this.words[h]);if(u+=y,26!==y)break}return u},S.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},S.prototype.toTwos=function(u){return 0!==this.negative?this.abs().inotn(u).iaddn(1):this.clone()},S.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},S.prototype.isNeg=function(){return 0!==this.negative},S.prototype.neg=function(){return this.clone().ineg()},S.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},S.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this.strip()},S.prototype.ior=function(u){return R(!(this.negative|u.negative)),this.iuor(u)},S.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},S.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},S.prototype.iuand=function(u){var h;h=this.length>u.length?u:this;for(var y=0;y<h.length;y++)this.words[y]=this.words[y]&u.words[y];return this.length=h.length,this.strip()},S.prototype.iand=function(u){return R(!(this.negative|u.negative)),this.iuand(u)},S.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},S.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},S.prototype.iuxor=function(u){var h,y;this.length>u.length?(h=this,y=u):(h=u,y=this);for(var w=0;w<y.length;w++)this.words[w]=h.words[w]^y.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this.strip()},S.prototype.ixor=function(u){return R(!(this.negative|u.negative)),this.iuxor(u)},S.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},S.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},S.prototype.inotn=function(u){R("number"==typeof u&&u>=0);var h=0|Math.ceil(u/26),y=u%26;this._expand(h),y>0&&h--;for(var w=0;w<h;w++)this.words[w]=67108863&~this.words[w];return y>0&&(this.words[w]=~this.words[w]&67108863>>26-y),this.strip()},S.prototype.notn=function(u){return this.clone().inotn(u)},S.prototype.setn=function(u,h){R("number"==typeof u&&u>=0);var y=u/26|0,w=u%26;return this._expand(y+1),this.words[y]=h?this.words[y]|1<<w:this.words[y]&~(1<<w),this.strip()},S.prototype.iadd=function(u){var h,y,w;if(0!==this.negative&&0===u.negative)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(0===this.negative&&0!==u.negative)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();this.length>u.length?(y=this,w=u):(y=u,w=this);for(var T=0,D=0;D<w.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+(0|w.words[D])+T),T=h>>>26;for(;0!==T&&D<y.length;D++)this.words[D]=67108863&(h=(0|y.words[D])+T),T=h>>>26;if(this.length=y.length,0!==T)this.words[this.length]=T,this.length++;else if(y!==this)for(;D<y.length;D++)this.words[D]=y.words[D];return this},S.prototype.add=function(u){var h;return 0!==u.negative&&0===this.negative?(u.negative=0,h=this.sub(u),u.negative^=1,h):0===u.negative&&0!==this.negative?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},S.prototype.isub=function(u){if(0!==u.negative){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var w,T,y=this.cmp(u);if(0===y)return this.negative=0,this.length=1,this.words[0]=0,this;y>0?(w=this,T=u):(w=u,T=this);for(var D=0,j=0;j<T.length;j++)D=(h=(0|w.words[j])-(0|T.words[j])+D)>>26,this.words[j]=67108863&h;for(;0!==D&&j<w.length;j++)D=(h=(0|w.words[j])+D)>>26,this.words[j]=67108863&h;if(0===D&&j<w.length&&w!==this)for(;j<w.length;j++)this.words[j]=w.words[j];return this.length=Math.max(this.length,j),w!==this&&(this.negative=1),this.strip()},S.prototype.sub=function(u){return this.clone().isub(u)};var re=function(u,h,y){var A,l,g,w=u.words,T=h.words,D=y.words,j=0,G=0|w[0],H=8191&G,ne=G>>>13,ce=0|w[1],Ae=8191&ce,ke=ce>>>13,Fe=0|w[2],Ee=8191&Fe,ge=Fe>>>13,Oe=0|w[3],ye=8191&Oe,Se=Oe>>>13,he=0|w[4],fe=8191&he,ee=he>>>13,ie=0|w[5],ue=8191&ie,be=ie>>>13,Ie=0|w[6],Ne=8191&Ie,Be=Ie>>>13,yt=0|w[7],Ke=8191&yt,Re=yt>>>13,ot=0|w[8],U=8191&ot,_=ot>>>13,p=0|w[9],O=8191&p,q=p>>>13,me=0|T[0],xe=8191&me,qe=me>>>13,At=0|T[1],ut=8191&At,bt=At>>>13,Lt=0|T[2],en=8191&Lt,Zt=Lt>>>13,Jn=0|T[3],yn=8191&Jn,Vt=Jn>>>13,$t=0|T[4],mt=8191&$t,st=$t>>>13,Nt=0|T[5],Kt=8191&Nt,qt=Nt>>>13,or=0|T[6],ft=8191&or,gt=or>>>13,vt=0|T[7],He=8191&vt,Je=vt>>>13,Bt=0|T[8],Tt=8191&Bt,Yt=Bt>>>13,Pn=0|T[9],cn=8191&Pn,pn=Pn>>>13;y.negative=u.negative^h.negative,y.length=19;var vr=(j+(A=Math.imul(H,xe))|0)+((8191&(l=(l=Math.imul(H,qe))+Math.imul(ne,xe)|0))<<13)|0;j=((g=Math.imul(ne,qe))+(l>>>13)|0)+(vr>>>26)|0,vr&=67108863,A=Math.imul(Ae,xe),l=(l=Math.imul(Ae,qe))+Math.imul(ke,xe)|0,g=Math.imul(ke,qe);var Un=(j+(A=A+Math.imul(H,ut)|0)|0)+((8191&(l=(l=l+Math.imul(H,bt)|0)+Math.imul(ne,ut)|0))<<13)|0;j=((g=g+Math.imul(ne,bt)|0)+(l>>>13)|0)+(Un>>>26)|0,Un&=67108863,A=Math.imul(Ee,xe),l=(l=Math.imul(Ee,qe))+Math.imul(ge,xe)|0,g=Math.imul(ge,qe),A=A+Math.imul(Ae,ut)|0,l=(l=l+Math.imul(Ae,bt)|0)+Math.imul(ke,ut)|0,g=g+Math.imul(ke,bt)|0;var An=(j+(A=A+Math.imul(H,en)|0)|0)+((8191&(l=(l=l+Math.imul(H,Zt)|0)+Math.imul(ne,en)|0))<<13)|0;j=((g=g+Math.imul(ne,Zt)|0)+(l>>>13)|0)+(An>>>26)|0,An&=67108863,A=Math.imul(ye,xe),l=(l=Math.imul(ye,qe))+Math.imul(Se,xe)|0,g=Math.imul(Se,qe),A=A+Math.imul(Ee,ut)|0,l=(l=l+Math.imul(Ee,bt)|0)+Math.imul(ge,ut)|0,g=g+Math.imul(ge,bt)|0,A=A+Math.imul(Ae,en)|0,l=(l=l+Math.imul(Ae,Zt)|0)+Math.imul(ke,en)|0,g=g+Math.imul(ke,Zt)|0;var On=(j+(A=A+Math.imul(H,yn)|0)|0)+((8191&(l=(l=l+Math.imul(H,Vt)|0)+Math.imul(ne,yn)|0))<<13)|0;j=((g=g+Math.imul(ne,Vt)|0)+(l>>>13)|0)+(On>>>26)|0,On&=67108863,A=Math.imul(fe,xe),l=(l=Math.imul(fe,qe))+Math.imul(ee,xe)|0,g=Math.imul(ee,qe),A=A+Math.imul(ye,ut)|0,l=(l=l+Math.imul(ye,bt)|0)+Math.imul(Se,ut)|0,g=g+Math.imul(Se,bt)|0,A=A+Math.imul(Ee,en)|0,l=(l=l+Math.imul(Ee,Zt)|0)+Math.imul(ge,en)|0,g=g+Math.imul(ge,Zt)|0,A=A+Math.imul(Ae,yn)|0,l=(l=l+Math.imul(Ae,Vt)|0)+Math.imul(ke,yn)|0,g=g+Math.imul(ke,Vt)|0;var nt=(j+(A=A+Math.imul(H,mt)|0)|0)+((8191&(l=(l=l+Math.imul(H,st)|0)+Math.imul(ne,mt)|0))<<13)|0;j=((g=g+Math.imul(ne,st)|0)+(l>>>13)|0)+(nt>>>26)|0,nt&=67108863,A=Math.imul(ue,xe),l=(l=Math.imul(ue,qe))+Math.imul(be,xe)|0,g=Math.imul(be,qe),A=A+Math.imul(fe,ut)|0,l=(l=l+Math.imul(fe,bt)|0)+Math.imul(ee,ut)|0,g=g+Math.imul(ee,bt)|0,A=A+Math.imul(ye,en)|0,l=(l=l+Math.imul(ye,Zt)|0)+Math.imul(Se,en)|0,g=g+Math.imul(Se,Zt)|0,A=A+Math.imul(Ee,yn)|0,l=(l=l+Math.imul(Ee,Vt)|0)+Math.imul(ge,yn)|0,g=g+Math.imul(ge,Vt)|0,A=A+Math.imul(Ae,mt)|0,l=(l=l+Math.imul(Ae,st)|0)+Math.imul(ke,mt)|0,g=g+Math.imul(ke,st)|0;var $e=(j+(A=A+Math.imul(H,Kt)|0)|0)+((8191&(l=(l=l+Math.imul(H,qt)|0)+Math.imul(ne,Kt)|0))<<13)|0;j=((g=g+Math.imul(ne,qt)|0)+(l>>>13)|0)+($e>>>26)|0,$e&=67108863,A=Math.imul(Ne,xe),l=(l=Math.imul(Ne,qe))+Math.imul(Be,xe)|0,g=Math.imul(Be,qe),A=A+Math.imul(ue,ut)|0,l=(l=l+Math.imul(ue,bt)|0)+Math.imul(be,ut)|0,g=g+Math.imul(be,bt)|0,A=A+Math.imul(fe,en)|0,l=(l=l+Math.imul(fe,Zt)|0)+Math.imul(ee,en)|0,g=g+Math.imul(ee,Zt)|0,A=A+Math.imul(ye,yn)|0,l=(l=l+Math.imul(ye,Vt)|0)+Math.imul(Se,yn)|0,g=g+Math.imul(Se,Vt)|0,A=A+Math.imul(Ee,mt)|0,l=(l=l+Math.imul(Ee,st)|0)+Math.imul(ge,mt)|0,g=g+Math.imul(ge,st)|0,A=A+Math.imul(Ae,Kt)|0,l=(l=l+Math.imul(Ae,qt)|0)+Math.imul(ke,Kt)|0,g=g+Math.imul(ke,qt)|0;var it=(j+(A=A+Math.imul(H,ft)|0)|0)+((8191&(l=(l=l+Math.imul(H,gt)|0)+Math.imul(ne,ft)|0))<<13)|0;j=((g=g+Math.imul(ne,gt)|0)+(l>>>13)|0)+(it>>>26)|0,it&=67108863,A=Math.imul(Ke,xe),l=(l=Math.imul(Ke,qe))+Math.imul(Re,xe)|0,g=Math.imul(Re,qe),A=A+Math.imul(Ne,ut)|0,l=(l=l+Math.imul(Ne,bt)|0)+Math.imul(Be,ut)|0,g=g+Math.imul(Be,bt)|0,A=A+Math.imul(ue,en)|0,l=(l=l+Math.imul(ue,Zt)|0)+Math.imul(be,en)|0,g=g+Math.imul(be,Zt)|0,A=A+Math.imul(fe,yn)|0,l=(l=l+Math.imul(fe,Vt)|0)+Math.imul(ee,yn)|0,g=g+Math.imul(ee,Vt)|0,A=A+Math.imul(ye,mt)|0,l=(l=l+Math.imul(ye,st)|0)+Math.imul(Se,mt)|0,g=g+Math.imul(Se,st)|0,A=A+Math.imul(Ee,Kt)|0,l=(l=l+Math.imul(Ee,qt)|0)+Math.imul(ge,Kt)|0,g=g+Math.imul(ge,qt)|0,A=A+Math.imul(Ae,ft)|0,l=(l=l+Math.imul(Ae,gt)|0)+Math.imul(ke,ft)|0,g=g+Math.imul(ke,gt)|0;var jt=(j+(A=A+Math.imul(H,He)|0)|0)+((8191&(l=(l=l+Math.imul(H,Je)|0)+Math.imul(ne,He)|0))<<13)|0;j=((g=g+Math.imul(ne,Je)|0)+(l>>>13)|0)+(jt>>>26)|0,jt&=67108863,A=Math.imul(U,xe),l=(l=Math.imul(U,qe))+Math.imul(_,xe)|0,g=Math.imul(_,qe),A=A+Math.imul(Ke,ut)|0,l=(l=l+Math.imul(Ke,bt)|0)+Math.imul(Re,ut)|0,g=g+Math.imul(Re,bt)|0,A=A+Math.imul(Ne,en)|0,l=(l=l+Math.imul(Ne,Zt)|0)+Math.imul(Be,en)|0,g=g+Math.imul(Be,Zt)|0,A=A+Math.imul(ue,yn)|0,l=(l=l+Math.imul(ue,Vt)|0)+Math.imul(be,yn)|0,g=g+Math.imul(be,Vt)|0,A=A+Math.imul(fe,mt)|0,l=(l=l+Math.imul(fe,st)|0)+Math.imul(ee,mt)|0,g=g+Math.imul(ee,st)|0,A=A+Math.imul(ye,Kt)|0,l=(l=l+Math.imul(ye,qt)|0)+Math.imul(Se,Kt)|0,g=g+Math.imul(Se,qt)|0,A=A+Math.imul(Ee,ft)|0,l=(l=l+Math.imul(Ee,gt)|0)+Math.imul(ge,ft)|0,g=g+Math.imul(ge,gt)|0,A=A+Math.imul(Ae,He)|0,l=(l=l+Math.imul(Ae,Je)|0)+Math.imul(ke,He)|0,g=g+Math.imul(ke,Je)|0;var dn=(j+(A=A+Math.imul(H,Tt)|0)|0)+((8191&(l=(l=l+Math.imul(H,Yt)|0)+Math.imul(ne,Tt)|0))<<13)|0;j=((g=g+Math.imul(ne,Yt)|0)+(l>>>13)|0)+(dn>>>26)|0,dn&=67108863,A=Math.imul(O,xe),l=(l=Math.imul(O,qe))+Math.imul(q,xe)|0,g=Math.imul(q,qe),A=A+Math.imul(U,ut)|0,l=(l=l+Math.imul(U,bt)|0)+Math.imul(_,ut)|0,g=g+Math.imul(_,bt)|0,A=A+Math.imul(Ke,en)|0,l=(l=l+Math.imul(Ke,Zt)|0)+Math.imul(Re,en)|0,g=g+Math.imul(Re,Zt)|0,A=A+Math.imul(Ne,yn)|0,l=(l=l+Math.imul(Ne,Vt)|0)+Math.imul(Be,yn)|0,g=g+Math.imul(Be,Vt)|0,A=A+Math.imul(ue,mt)|0,l=(l=l+Math.imul(ue,st)|0)+Math.imul(be,mt)|0,g=g+Math.imul(be,st)|0,A=A+Math.imul(fe,Kt)|0,l=(l=l+Math.imul(fe,qt)|0)+Math.imul(ee,Kt)|0,g=g+Math.imul(ee,qt)|0,A=A+Math.imul(ye,ft)|0,l=(l=l+Math.imul(ye,gt)|0)+Math.imul(Se,ft)|0,g=g+Math.imul(Se,gt)|0,A=A+Math.imul(Ee,He)|0,l=(l=l+Math.imul(Ee,Je)|0)+Math.imul(ge,He)|0,g=g+Math.imul(ge,Je)|0,A=A+Math.imul(Ae,Tt)|0,l=(l=l+Math.imul(Ae,Yt)|0)+Math.imul(ke,Tt)|0,g=g+Math.imul(ke,Yt)|0;var Rn=(j+(A=A+Math.imul(H,cn)|0)|0)+((8191&(l=(l=l+Math.imul(H,pn)|0)+Math.imul(ne,cn)|0))<<13)|0;j=((g=g+Math.imul(ne,pn)|0)+(l>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,A=Math.imul(O,ut),l=(l=Math.imul(O,bt))+Math.imul(q,ut)|0,g=Math.imul(q,bt),A=A+Math.imul(U,en)|0,l=(l=l+Math.imul(U,Zt)|0)+Math.imul(_,en)|0,g=g+Math.imul(_,Zt)|0,A=A+Math.imul(Ke,yn)|0,l=(l=l+Math.imul(Ke,Vt)|0)+Math.imul(Re,yn)|0,g=g+Math.imul(Re,Vt)|0,A=A+Math.imul(Ne,mt)|0,l=(l=l+Math.imul(Ne,st)|0)+Math.imul(Be,mt)|0,g=g+Math.imul(Be,st)|0,A=A+Math.imul(ue,Kt)|0,l=(l=l+Math.imul(ue,qt)|0)+Math.imul(be,Kt)|0,g=g+Math.imul(be,qt)|0,A=A+Math.imul(fe,ft)|0,l=(l=l+Math.imul(fe,gt)|0)+Math.imul(ee,ft)|0,g=g+Math.imul(ee,gt)|0,A=A+Math.imul(ye,He)|0,l=(l=l+Math.imul(ye,Je)|0)+Math.imul(Se,He)|0,g=g+Math.imul(Se,Je)|0,A=A+Math.imul(Ee,Tt)|0,l=(l=l+Math.imul(Ee,Yt)|0)+Math.imul(ge,Tt)|0,g=g+Math.imul(ge,Yt)|0;var Kn=(j+(A=A+Math.imul(Ae,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ae,pn)|0)+Math.imul(ke,cn)|0))<<13)|0;j=((g=g+Math.imul(ke,pn)|0)+(l>>>13)|0)+(Kn>>>26)|0,Kn&=67108863,A=Math.imul(O,en),l=(l=Math.imul(O,Zt))+Math.imul(q,en)|0,g=Math.imul(q,Zt),A=A+Math.imul(U,yn)|0,l=(l=l+Math.imul(U,Vt)|0)+Math.imul(_,yn)|0,g=g+Math.imul(_,Vt)|0,A=A+Math.imul(Ke,mt)|0,l=(l=l+Math.imul(Ke,st)|0)+Math.imul(Re,mt)|0,g=g+Math.imul(Re,st)|0,A=A+Math.imul(Ne,Kt)|0,l=(l=l+Math.imul(Ne,qt)|0)+Math.imul(Be,Kt)|0,g=g+Math.imul(Be,qt)|0,A=A+Math.imul(ue,ft)|0,l=(l=l+Math.imul(ue,gt)|0)+Math.imul(be,ft)|0,g=g+Math.imul(be,gt)|0,A=A+Math.imul(fe,He)|0,l=(l=l+Math.imul(fe,Je)|0)+Math.imul(ee,He)|0,g=g+Math.imul(ee,Je)|0,A=A+Math.imul(ye,Tt)|0,l=(l=l+Math.imul(ye,Yt)|0)+Math.imul(Se,Tt)|0,g=g+Math.imul(Se,Yt)|0;var tr=(j+(A=A+Math.imul(Ee,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ee,pn)|0)+Math.imul(ge,cn)|0))<<13)|0;j=((g=g+Math.imul(ge,pn)|0)+(l>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(O,yn),l=(l=Math.imul(O,Vt))+Math.imul(q,yn)|0,g=Math.imul(q,Vt),A=A+Math.imul(U,mt)|0,l=(l=l+Math.imul(U,st)|0)+Math.imul(_,mt)|0,g=g+Math.imul(_,st)|0,A=A+Math.imul(Ke,Kt)|0,l=(l=l+Math.imul(Ke,qt)|0)+Math.imul(Re,Kt)|0,g=g+Math.imul(Re,qt)|0,A=A+Math.imul(Ne,ft)|0,l=(l=l+Math.imul(Ne,gt)|0)+Math.imul(Be,ft)|0,g=g+Math.imul(Be,gt)|0,A=A+Math.imul(ue,He)|0,l=(l=l+Math.imul(ue,Je)|0)+Math.imul(be,He)|0,g=g+Math.imul(be,Je)|0,A=A+Math.imul(fe,Tt)|0,l=(l=l+Math.imul(fe,Yt)|0)+Math.imul(ee,Tt)|0,g=g+Math.imul(ee,Yt)|0;var Ar=(j+(A=A+Math.imul(ye,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ye,pn)|0)+Math.imul(Se,cn)|0))<<13)|0;j=((g=g+Math.imul(Se,pn)|0)+(l>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,A=Math.imul(O,mt),l=(l=Math.imul(O,st))+Math.imul(q,mt)|0,g=Math.imul(q,st),A=A+Math.imul(U,Kt)|0,l=(l=l+Math.imul(U,qt)|0)+Math.imul(_,Kt)|0,g=g+Math.imul(_,qt)|0,A=A+Math.imul(Ke,ft)|0,l=(l=l+Math.imul(Ke,gt)|0)+Math.imul(Re,ft)|0,g=g+Math.imul(Re,gt)|0,A=A+Math.imul(Ne,He)|0,l=(l=l+Math.imul(Ne,Je)|0)+Math.imul(Be,He)|0,g=g+Math.imul(Be,Je)|0,A=A+Math.imul(ue,Tt)|0,l=(l=l+Math.imul(ue,Yt)|0)+Math.imul(be,Tt)|0,g=g+Math.imul(be,Yt)|0;var _r=(j+(A=A+Math.imul(fe,cn)|0)|0)+((8191&(l=(l=l+Math.imul(fe,pn)|0)+Math.imul(ee,cn)|0))<<13)|0;j=((g=g+Math.imul(ee,pn)|0)+(l>>>13)|0)+(_r>>>26)|0,_r&=67108863,A=Math.imul(O,Kt),l=(l=Math.imul(O,qt))+Math.imul(q,Kt)|0,g=Math.imul(q,qt),A=A+Math.imul(U,ft)|0,l=(l=l+Math.imul(U,gt)|0)+Math.imul(_,ft)|0,g=g+Math.imul(_,gt)|0,A=A+Math.imul(Ke,He)|0,l=(l=l+Math.imul(Ke,Je)|0)+Math.imul(Re,He)|0,g=g+Math.imul(Re,Je)|0,A=A+Math.imul(Ne,Tt)|0,l=(l=l+Math.imul(Ne,Yt)|0)+Math.imul(Be,Tt)|0,g=g+Math.imul(Be,Yt)|0;var Pr=(j+(A=A+Math.imul(ue,cn)|0)|0)+((8191&(l=(l=l+Math.imul(ue,pn)|0)+Math.imul(be,cn)|0))<<13)|0;j=((g=g+Math.imul(be,pn)|0)+(l>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,A=Math.imul(O,ft),l=(l=Math.imul(O,gt))+Math.imul(q,ft)|0,g=Math.imul(q,gt),A=A+Math.imul(U,He)|0,l=(l=l+Math.imul(U,Je)|0)+Math.imul(_,He)|0,g=g+Math.imul(_,Je)|0,A=A+Math.imul(Ke,Tt)|0,l=(l=l+Math.imul(Ke,Yt)|0)+Math.imul(Re,Tt)|0,g=g+Math.imul(Re,Yt)|0;var $r=(j+(A=A+Math.imul(Ne,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ne,pn)|0)+Math.imul(Be,cn)|0))<<13)|0;j=((g=g+Math.imul(Be,pn)|0)+(l>>>13)|0)+($r>>>26)|0,$r&=67108863,A=Math.imul(O,He),l=(l=Math.imul(O,Je))+Math.imul(q,He)|0,g=Math.imul(q,Je),A=A+Math.imul(U,Tt)|0,l=(l=l+Math.imul(U,Yt)|0)+Math.imul(_,Tt)|0,g=g+Math.imul(_,Yt)|0;var zr=(j+(A=A+Math.imul(Ke,cn)|0)|0)+((8191&(l=(l=l+Math.imul(Ke,pn)|0)+Math.imul(Re,cn)|0))<<13)|0;j=((g=g+Math.imul(Re,pn)|0)+(l>>>13)|0)+(zr>>>26)|0,zr&=67108863,A=Math.imul(O,Tt),l=(l=Math.imul(O,Yt))+Math.imul(q,Tt)|0,g=Math.imul(q,Yt);var Ht=(j+(A=A+Math.imul(U,cn)|0)|0)+((8191&(l=(l=l+Math.imul(U,pn)|0)+Math.imul(_,cn)|0))<<13)|0;j=((g=g+Math.imul(_,pn)|0)+(l>>>13)|0)+(Ht>>>26)|0,Ht&=67108863;var ln=(j+(A=Math.imul(O,cn))|0)+((8191&(l=(l=Math.imul(O,pn))+Math.imul(q,cn)|0))<<13)|0;return j=((g=Math.imul(q,pn))+(l>>>13)|0)+(ln>>>26)|0,ln&=67108863,D[0]=vr,D[1]=Un,D[2]=An,D[3]=On,D[4]=nt,D[5]=$e,D[6]=it,D[7]=jt,D[8]=dn,D[9]=Rn,D[10]=Kn,D[11]=tr,D[12]=Ar,D[13]=_r,D[14]=Pr,D[15]=$r,D[16]=zr,D[17]=Ht,D[18]=ln,0!==j&&(D[19]=j,y.length++),y};function Q(k,u,h){return(new J).mulp(k,u,h)}function J(k,u){this.x=k,this.y=u}Math.imul||(re=Z),S.prototype.mulTo=function(u,h){var y,w=this.length+u.length;return y=10===this.length&&10===u.length?re(this,u,h):w<63?Z(this,u,h):w<1024?function te(k,u,h){h.negative=u.negative^k.negative,h.length=k.length+u.length;for(var y=0,w=0,T=0;T<h.length-1;T++){var D=w;w=0;for(var j=67108863&y,A=Math.min(T,u.length-1),l=Math.max(0,T-k.length+1);l<=A;l++){var ne=(0|k.words[T-l])*(0|u.words[l]),ce=67108863&ne;j=67108863&(ce=ce+j|0),w+=(D=(D=D+(ne/67108864|0)|0)+(ce>>>26)|0)>>>26,D&=67108863}h.words[T]=j,y=D,D=w}return 0!==y?h.words[T]=y:h.length--,h.strip()}(this,u,h):Q(this,u,h),y},J.prototype.makeRBT=function(u){for(var h=new Array(u),y=S.prototype._countBits(u)-1,w=0;w<u;w++)h[w]=this.revBin(w,y,u);return h},J.prototype.revBin=function(u,h,y){if(0===u||u===y-1)return u;for(var w=0,T=0;T<h;T++)w|=(1&u)<<h-T-1,u>>=1;return w},J.prototype.permute=function(u,h,y,w,T,D){for(var j=0;j<D;j++)w[j]=h[u[j]],T[j]=y[u[j]]},J.prototype.transform=function(u,h,y,w,T,D){this.permute(D,u,h,y,w,T);for(var j=1;j<T;j<<=1)for(var A=j<<1,l=Math.cos(2*Math.PI/A),g=Math.sin(2*Math.PI/A),G=0;G<T;G+=A)for(var H=l,ne=g,ce=0;ce<j;ce++){var Ae=y[G+ce],ke=w[G+ce],Fe=y[G+ce+j],Ee=w[G+ce+j],ge=H*Fe-ne*Ee;Ee=H*Ee+ne*Fe,y[G+ce]=Ae+(Fe=ge),w[G+ce]=ke+Ee,y[G+ce+j]=Ae-Fe,w[G+ce+j]=ke-Ee,ce!==A&&(ge=l*H-g*ne,ne=l*ne+g*H,H=ge)}},J.prototype.guessLen13b=function(u,h){var y=1|Math.max(h,u),w=1&y,T=0;for(y=y/2|0;y;y>>>=1)T++;return 1<<T+1+w},J.prototype.conjugate=function(u,h,y){if(!(y<=1))for(var w=0;w<y/2;w++){var T=u[w];u[w]=u[y-w-1],u[y-w-1]=T,T=h[w],h[w]=-h[y-w-1],h[y-w-1]=-T}},J.prototype.normalize13b=function(u,h){for(var y=0,w=0;w<h/2;w++){var T=8192*Math.round(u[2*w+1]/h)+Math.round(u[2*w]/h)+y;u[w]=67108863&T,y=T<67108864?0:T/67108864|0}return u},J.prototype.convert13b=function(u,h,y,w){for(var T=0,D=0;D<h;D++)y[2*D]=8191&(T+=0|u[D]),y[2*D+1]=8191&(T>>>=13),T>>>=13;for(D=2*h;D<w;++D)y[D]=0;R(0===T),R(!(-8192&T))},J.prototype.stub=function(u){for(var h=new Array(u),y=0;y<u;y++)h[y]=0;return h},J.prototype.mulp=function(u,h,y){var w=2*this.guessLen13b(u.length,h.length),T=this.makeRBT(w),D=this.stub(w),j=new Array(w),A=new Array(w),l=new Array(w),g=new Array(w),G=new Array(w),H=new Array(w),ne=y.words;ne.length=w,this.convert13b(u.words,u.length,j,w),this.convert13b(h.words,h.length,g,w),this.transform(j,D,A,l,w,T),this.transform(g,D,G,H,w,T);for(var ce=0;ce<w;ce++){var Ae=A[ce]*G[ce]-l[ce]*H[ce];l[ce]=A[ce]*H[ce]+l[ce]*G[ce],A[ce]=Ae}return this.conjugate(A,l,w),this.transform(A,l,ne,D,w,T),this.conjugate(ne,D,w),this.normalize13b(ne,w),y.negative=u.negative^h.negative,y.length=u.length+h.length,y.strip()},S.prototype.mul=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},S.prototype.mulf=function(u){var h=new S(null);return h.words=new Array(this.length+u.length),Q(this,u,h)},S.prototype.imul=function(u){return this.clone().mulTo(u,this)},S.prototype.imuln=function(u){R("number"==typeof u),R(u<67108864);for(var h=0,y=0;y<this.length;y++){var w=(0|this.words[y])*u,T=(67108863&w)+(67108863&h);h>>=26,h+=w/67108864|0,h+=T>>>26,this.words[y]=67108863&T}return 0!==h&&(this.words[y]=h,this.length++),this},S.prototype.muln=function(u){return this.clone().imuln(u)},S.prototype.sqr=function(){return this.mul(this)},S.prototype.isqr=function(){return this.imul(this.clone())},S.prototype.pow=function(u){var h=function V(k){for(var u=new Array(k.bitLength()),h=0;h<u.length;h++){var w=h%26;u[h]=(k.words[h/26|0]&1<<w)>>>w}return u}(u);if(0===h.length)return new S(1);for(var y=this,w=0;w<h.length&&0===h[w];w++,y=y.sqr());if(++w<h.length)for(var T=y.sqr();w<h.length;w++,T=T.sqr())0!==h[w]&&(y=y.mul(T));return y},S.prototype.iushln=function(u){R("number"==typeof u&&u>=0);var T,h=u%26,y=(u-h)/26,w=67108863>>>26-h<<26-h;if(0!==h){var D=0;for(T=0;T<this.length;T++){var j=this.words[T]&w;this.words[T]=(0|this.words[T])-j<<h|D,D=j>>>26-h}D&&(this.words[T]=D,this.length++)}if(0!==y){for(T=this.length-1;T>=0;T--)this.words[T+y]=this.words[T];for(T=0;T<y;T++)this.words[T]=0;this.length+=y}return this.strip()},S.prototype.ishln=function(u){return R(0===this.negative),this.iushln(u)},S.prototype.iushrn=function(u,h,y){var w;R("number"==typeof u&&u>=0),w=h?(h-h%26)/26:0;var T=u%26,D=Math.min((u-T)/26,this.length),j=67108863^67108863>>>T<<T,A=y;if(w-=D,w=Math.max(0,w),A){for(var l=0;l<D;l++)A.words[l]=this.words[l];A.length=D}if(0!==D)if(this.length>D)for(this.length-=D,l=0;l<this.length;l++)this.words[l]=this.words[l+D];else this.words[0]=0,this.length=1;var g=0;for(l=this.length-1;l>=0&&(0!==g||l>=w);l--){var G=0|this.words[l];this.words[l]=g<<26-T|G>>>T,g=G&j}return A&&0!==g&&(A.words[A.length++]=g),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},S.prototype.ishrn=function(u,h,y){return R(0===this.negative),this.iushrn(u,h,y)},S.prototype.shln=function(u){return this.clone().ishln(u)},S.prototype.ushln=function(u){return this.clone().iushln(u)},S.prototype.shrn=function(u){return this.clone().ishrn(u)},S.prototype.ushrn=function(u){return this.clone().iushrn(u)},S.prototype.testn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return!(this.length<=y||!(this.words[y]&1<<h))},S.prototype.imaskn=function(u){R("number"==typeof u&&u>=0);var h=u%26,y=(u-h)/26;return R(0===this.negative,"imaskn works only with positive numbers"),this.length<=y?this:(0!==h&&y++,this.length=Math.min(y,this.length),0!==h&&(this.words[this.length-1]&=67108863^67108863>>>h<<h),this.strip())},S.prototype.maskn=function(u){return this.clone().imaskn(u)},S.prototype.iaddn=function(u){return R("number"==typeof u),R(u<67108864),u<0?this.isubn(-u):0!==this.negative?1===this.length&&(0|this.words[0])<u?(this.words[0]=u-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},S.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},S.prototype.isubn=function(u){if(R("number"==typeof u),R(u<67108864),u<0)return this.iaddn(-u);if(0!==this.negative)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},S.prototype.addn=function(u){return this.clone().iaddn(u)},S.prototype.subn=function(u){return this.clone().isubn(u)},S.prototype.iabs=function(){return this.negative=0,this},S.prototype.abs=function(){return this.clone().iabs()},S.prototype._ishlnsubmul=function(u,h,y){var T;this._expand(u.length+y);var D,j=0;for(T=0;T<u.length;T++){D=(0|this.words[T+y])+j;var A=(0|u.words[T])*h;j=((D-=67108863&A)>>26)-(A/67108864|0),this.words[T+y]=67108863&D}for(;T<this.length-y;T++)j=(D=(0|this.words[T+y])+j)>>26,this.words[T+y]=67108863&D;if(0===j)return this.strip();for(R(-1===j),j=0,T=0;T<this.length;T++)j=(D=-(0|this.words[T])+j)>>26,this.words[T]=67108863&D;return this.negative=1,this.strip()},S.prototype._wordDiv=function(u,h){var y,w=this.clone(),T=u,D=0|T.words[T.length-1];0!=(y=26-this._countBits(D))&&(T=T.ushln(y),w.iushln(y),D=0|T.words[T.length-1]);var l,A=w.length-T.length;if("mod"!==h){(l=new S(null)).length=A+1,l.words=new Array(l.length);for(var g=0;g<l.length;g++)l.words[g]=0}var G=w.clone()._ishlnsubmul(T,1,A);0===G.negative&&(w=G,l&&(l.words[A]=1));for(var H=A-1;H>=0;H--){var ne=67108864*(0|w.words[T.length+H])+(0|w.words[T.length+H-1]);for(ne=Math.min(ne/D|0,67108863),w._ishlnsubmul(T,ne,H);0!==w.negative;)ne--,w.negative=0,w._ishlnsubmul(T,1,H),w.isZero()||(w.negative^=1);l&&(l.words[H]=ne)}return l&&l.strip(),w.strip(),"div"!==h&&0!==y&&w.iushrn(y),{div:l||null,mod:w}},S.prototype.divmod=function(u,h,y){return R(!u.isZero()),this.isZero()?{div:new S(0),mod:new S(0)}:0!==this.negative&&0===u.negative?(D=this.neg().divmod(u,h),"mod"!==h&&(w=D.div.neg()),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.iadd(u)),{div:w,mod:T}):0===this.negative&&0!==u.negative?(D=this.divmod(u.neg(),h),"mod"!==h&&(w=D.div.neg()),{div:w,mod:D.mod}):this.negative&u.negative?(D=this.neg().divmod(u.neg(),h),"div"!==h&&(T=D.mod.neg(),y&&0!==T.negative&&T.isub(u)),{div:D.div,mod:T}):u.length>this.length||this.cmp(u)<0?{div:new S(0),mod:this}:1===u.length?"div"===h?{div:this.divn(u.words[0]),mod:null}:"mod"===h?{div:null,mod:new S(this.modn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new S(this.modn(u.words[0]))}:this._wordDiv(u,h);var w,T,D},S.prototype.div=function(u){return this.divmod(u,"div",!1).div},S.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},S.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},S.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var y=0!==h.div.negative?h.mod.isub(u):h.mod,w=u.ushrn(1),T=u.andln(1),D=y.cmp(w);return D<0||1===T&&0===D?h.div:0!==h.div.negative?h.div.isubn(1):h.div.iaddn(1)},S.prototype.modn=function(u){R(u<=67108863);for(var h=(1<<26)%u,y=0,w=this.length-1;w>=0;w--)y=(h*y+(0|this.words[w]))%u;return y},S.prototype.idivn=function(u){R(u<=67108863);for(var h=0,y=this.length-1;y>=0;y--){var w=(0|this.words[y])+67108864*h;this.words[y]=w/u|0,h=w%u}return this.strip()},S.prototype.divn=function(u){return this.clone().idivn(u)},S.prototype.egcd=function(u){R(0===u.negative),R(!u.isZero());var h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=new S(0),j=new S(1),A=0;h.isEven()&&y.isEven();)h.iushrn(1),y.iushrn(1),++A;for(var l=y.clone(),g=h.clone();!h.isZero();){for(var G=0,H=1;!(h.words[0]&H)&&G<26;++G,H<<=1);if(G>0)for(h.iushrn(G);G-- >0;)(w.isOdd()||T.isOdd())&&(w.iadd(l),T.isub(g)),w.iushrn(1),T.iushrn(1);for(var ne=0,ce=1;!(y.words[0]&ce)&&ne<26;++ne,ce<<=1);if(ne>0)for(y.iushrn(ne);ne-- >0;)(D.isOdd()||j.isOdd())&&(D.iadd(l),j.isub(g)),D.iushrn(1),j.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(D),T.isub(j)):(y.isub(h),D.isub(w),j.isub(T))}return{a:D,b:j,gcd:y.iushln(A)}},S.prototype._invmp=function(u){R(0===u.negative),R(!u.isZero());var G,h=this,y=u.clone();h=0!==h.negative?h.umod(u):h.clone();for(var w=new S(1),T=new S(0),D=y.clone();h.cmpn(1)>0&&y.cmpn(1)>0;){for(var j=0,A=1;!(h.words[0]&A)&&j<26;++j,A<<=1);if(j>0)for(h.iushrn(j);j-- >0;)w.isOdd()&&w.iadd(D),w.iushrn(1);for(var l=0,g=1;!(y.words[0]&g)&&l<26;++l,g<<=1);if(l>0)for(y.iushrn(l);l-- >0;)T.isOdd()&&T.iadd(D),T.iushrn(1);h.cmp(y)>=0?(h.isub(y),w.isub(T)):(y.isub(h),T.isub(w))}return(G=0===h.cmpn(1)?w:T).cmpn(0)<0&&G.iadd(u),G},S.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),y=u.clone();h.negative=0,y.negative=0;for(var w=0;h.isEven()&&y.isEven();w++)h.iushrn(1),y.iushrn(1);for(;;){for(;h.isEven();)h.iushrn(1);for(;y.isEven();)y.iushrn(1);var T=h.cmp(y);if(T<0){var D=h;h=y,y=D}else if(0===T||0===y.cmpn(1))break;h.isub(y)}return y.iushln(w)},S.prototype.invm=function(u){return this.egcd(u).a.umod(u)},S.prototype.isEven=function(){return!(1&this.words[0])},S.prototype.isOdd=function(){return!(1&~this.words[0])},S.prototype.andln=function(u){return this.words[0]&u},S.prototype.bincn=function(u){R("number"==typeof u);var h=u%26,y=(u-h)/26,w=1<<h;if(this.length<=y)return this._expand(y+1),this.words[y]|=w,this;for(var T=w,D=y;0!==T&&D<this.length;D++){var j=0|this.words[D];T=(j+=T)>>>26,this.words[D]=j&=67108863}return 0!==T&&(this.words[D]=T,this.length++),this},S.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},S.prototype.cmpn=function(u){var y,h=u<0;if(0!==this.negative&&!h)return-1;if(0===this.negative&&h)return 1;if(this.strip(),this.length>1)y=1;else{h&&(u=-u),R(u<=67108863,"Number is too big");var w=0|this.words[0];y=w===u?0:w<u?-1:1}return 0!==this.negative?0|-y:y},S.prototype.cmp=function(u){if(0!==this.negative&&0===u.negative)return-1;if(0===this.negative&&0!==u.negative)return 1;var h=this.ucmp(u);return 0!==this.negative?0|-h:h},S.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,y=this.length-1;y>=0;y--){var w=0|this.words[y],T=0|u.words[y];if(w!==T){w<T?h=-1:w>T&&(h=1);break}}return h},S.prototype.gtn=function(u){return 1===this.cmpn(u)},S.prototype.gt=function(u){return 1===this.cmp(u)},S.prototype.gten=function(u){return this.cmpn(u)>=0},S.prototype.gte=function(u){return this.cmp(u)>=0},S.prototype.ltn=function(u){return-1===this.cmpn(u)},S.prototype.lt=function(u){return-1===this.cmp(u)},S.prototype.lten=function(u){return this.cmpn(u)<=0},S.prototype.lte=function(u){return this.cmp(u)<=0},S.prototype.eqn=function(u){return 0===this.cmpn(u)},S.prototype.eq=function(u){return 0===this.cmp(u)},S.red=function(u){return new we(u)},S.prototype.toRed=function(u){return R(!this.red,"Already a number in reduction context"),R(0===this.negative,"red works only with positives"),u.convertTo(this)._forceRed(u)},S.prototype.fromRed=function(){return R(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},S.prototype._forceRed=function(u){return this.red=u,this},S.prototype.forceRed=function(u){return R(!this.red,"Already a number in reduction context"),this._forceRed(u)},S.prototype.redAdd=function(u){return R(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},S.prototype.redIAdd=function(u){return R(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},S.prototype.redSub=function(u){return R(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},S.prototype.redISub=function(u){return R(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},S.prototype.redShl=function(u){return R(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},S.prototype.redMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},S.prototype.redIMul=function(u){return R(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},S.prototype.redSqr=function(){return R(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},S.prototype.redISqr=function(){return R(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},S.prototype.redSqrt=function(){return R(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},S.prototype.redInvm=function(){return R(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},S.prototype.redNeg=function(){return R(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},S.prototype.redPow=function(u){return R(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var oe={k256:null,p224:null,p192:null,p25519:null};function se(k,u){this.name=k,this.p=new S(u,16),this.n=this.p.bitLength(),this.k=new S(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function ae(){se.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function pe(){se.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function le(){se.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function ve(){se.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function we(k){if("string"==typeof k){var u=S._prime(k);this.m=u.p,this.prime=u}else R(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function De(k){we.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new S(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}se.prototype._tmp=function(){var u=new S(null);return u.words=new Array(Math.ceil(this.n/13)),u},se.prototype.ireduce=function(u){var y,h=u;do{this.split(h,this.tmp),y=(h=(h=this.imulK(h)).iadd(this.tmp)).bitLength()}while(y>this.n);var w=y<this.n?-1:h.ucmp(this.p);return 0===w?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):void 0!==h.strip?h.strip():h._strip(),h},se.prototype.split=function(u,h){u.iushrn(this.n,0,h)},se.prototype.imulK=function(u){return u.imul(this.k)},W(ae,se),ae.prototype.split=function(u,h){for(var y=4194303,w=Math.min(u.length,9),T=0;T<w;T++)h.words[T]=u.words[T];if(h.length=w,u.length<=9)return u.words[0]=0,void(u.length=1);var D=u.words[9];for(h.words[h.length++]=D&y,T=10;T<u.length;T++){var j=0|u.words[T];u.words[T-10]=(j&y)<<4|D>>>22,D=j}u.words[T-10]=D>>>=22,u.length-=0===D&&u.length>10?10:9},ae.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,y=0;y<u.length;y++){var w=0|u.words[y];u.words[y]=67108863&(h+=977*w),h=64*w+(h/67108864|0)}return 0===u.words[u.length-1]&&(u.length--,0===u.words[u.length-1]&&u.length--),u},W(pe,se),W(le,se),W(ve,se),ve.prototype.imulK=function(u){for(var h=0,y=0;y<u.length;y++){var w=19*(0|u.words[y])+h,T=67108863&w;w>>>=26,u.words[y]=T,h=w}return 0!==h&&(u.words[u.length++]=h),u},S._prime=function(u){if(oe[u])return oe[u];var h;if("k256"===u)h=new ae;else if("p224"===u)h=new pe;else if("p192"===u)h=new le;else{if("p25519"!==u)throw new Error("Unknown prime "+u);h=new ve}return oe[u]=h,h},we.prototype._verify1=function(u){R(0===u.negative,"red works only with positives"),R(u.red,"red works only with red numbers")},we.prototype._verify2=function(u,h){R(!(u.negative|h.negative),"red works only with positives"),R(u.red&&u.red===h.red,"red works only with red numbers")},we.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):u.umod(this.m)._forceRed(this)},we.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},we.prototype.add=function(u,h){this._verify2(u,h);var y=u.add(h);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},we.prototype.iadd=function(u,h){this._verify2(u,h);var y=u.iadd(h);return y.cmp(this.m)>=0&&y.isub(this.m),y},we.prototype.sub=function(u,h){this._verify2(u,h);var y=u.sub(h);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},we.prototype.isub=function(u,h){this._verify2(u,h);var y=u.isub(h);return y.cmpn(0)<0&&y.iadd(this.m),y},we.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},we.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},we.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},we.prototype.isqr=function(u){return this.imul(u,u.clone())},we.prototype.sqr=function(u){return this.mul(u,u)},we.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(R(h%2==1),3===h){var y=this.m.add(new S(1)).iushrn(2);return this.pow(u,y)}for(var w=this.m.subn(1),T=0;!w.isZero()&&0===w.andln(1);)T++,w.iushrn(1);R(!w.isZero());var D=new S(1).toRed(this),j=D.redNeg(),A=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new S(2*l*l).toRed(this);0!==this.pow(l,A).cmp(j);)l.redIAdd(j);for(var g=this.pow(l,w),G=this.pow(u,w.addn(1).iushrn(1)),H=this.pow(u,w),ne=T;0!==H.cmp(D);){for(var ce=H,Ae=0;0!==ce.cmp(D);Ae++)ce=ce.redSqr();R(Ae<ne);var ke=this.pow(g,new S(1).iushln(ne-Ae-1));G=G.redMul(ke),g=ke.redSqr(),H=H.redMul(g),ne=Ae}return G},we.prototype.invm=function(u){var h=u._invmp(this.m);return 0!==h.negative?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},we.prototype.pow=function(u,h){if(h.isZero())return new S(1).toRed(this);if(0===h.cmpn(1))return u.clone();var w=new Array(16);w[0]=new S(1).toRed(this),w[1]=u;for(var T=2;T<w.length;T++)w[T]=this.mul(w[T-1],u);var D=w[0],j=0,A=0,l=h.bitLength()%26;for(0===l&&(l=26),T=h.length-1;T>=0;T--){for(var g=h.words[T],G=l-1;G>=0;G--){var H=g>>G&1;D!==w[0]&&(D=this.sqr(D)),0!==H||0!==j?(j<<=1,j|=H,(4==++A||0===T&&0===G)&&(D=this.mul(D,w[j]),A=0,j=0)):A=0}l=26}return D},we.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},we.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},S.mont=function(u){return new De(u)},W(De,we),De.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},De.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},De.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var y=u.imul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new S(0)._forceRed(this);var y=u.mul(h),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),T=y.isub(w).iushrn(this.shift),D=T;return T.cmp(this.m)>=0?D=T.isub(this.m):T.cmpn(0)<0&&(D=T.iadd(this.m)),D._forceRed(this)},De.prototype.invm=function(u){return this.imod(u._invmp(this.m).mul(this.r2))._forceRed(this)}}(Le=E.nmd(Le),this)},98613:(Le,z,E)=>{var m=E(65667),x=E(30715),R=E(37196),W=E(16508),S=E(14105),L=E(67211),M=E(10568),N=E(27054).Buffer;Le.exports=function(V,Z,re){var te;te=V.padding?V.padding:re?1:4;var oe,Q=m(V),J=Q.modulus.byteLength();if(Z.length>J||new W(Z).cmp(Q.modulus)>=0)throw new Error("decryption error");oe=re?M(new W(Z),Q):S(Z,Q);var se=N.alloc(J-oe.length);if(oe=N.concat([se,oe],J),4===te)return function $(X,V){var Z=X.modulus.byteLength(),re=L("sha1").update(N.alloc(0)).digest(),te=re.length;if(0!==V[0])throw new Error("decryption error");var Q=V.slice(1,te+1),J=V.slice(te+1),oe=R(Q,x(J,te)),se=R(J,x(oe,Z-te-1));if(function I(X,V){X=N.from(X),V=N.from(V);var Z=0,re=X.length;X.length!==V.length&&(Z++,re=Math.min(X.length,V.length));for(var te=-1;++te<re;)Z+=X[te]^V[te];return Z}(re,se.slice(0,te)))throw new Error("decryption error");for(var ae=te;0===se[ae];)ae++;if(1!==se[ae++])throw new Error("decryption error");return se.slice(ae)}(Q,oe);if(1===te)return function F(X,V,Z){for(var re=V.slice(0,2),te=2,Q=0;0!==V[te++];)if(te>=V.length){Q++;break}var J=V.slice(2,te-1);if(("0002"!==re.toString("hex")&&!Z||"0001"!==re.toString("hex")&&Z)&&Q++,J.length<8&&Q++,Q)throw new Error("decryption error");return V.slice(te)}(0,oe,re);if(3===te)return oe;throw new Error("unknown padding")}},87267:(Le,z,E)=>{var m=E(65667),x=E(3342),R=E(67211),W=E(30715),S=E(37196),L=E(16508),M=E(10568),N=E(14105),$=E(27054).Buffer;Le.exports=function(Z,re,te){var Q;Q=Z.padding?Z.padding:te?1:4;var oe,J=m(Z);if(4===Q)oe=function F(V,Z){var re=V.modulus.byteLength(),te=Z.length,Q=R("sha1").update($.alloc(0)).digest(),J=Q.length,oe=2*J;if(te>re-oe-2)throw new Error("message too long");var se=$.alloc(re-te-oe-2),ae=re-J-1,pe=x(J),le=S($.concat([Q,se,$.alloc(1,1),Z],ae),W(pe,ae)),ve=S(pe,W(le,J));return new L($.concat([$.alloc(1),ve,le],re))}(J,re);else if(1===Q)oe=function I(V,Z,re){var J,te=Z.length,Q=V.modulus.byteLength();if(te>Q-11)throw new Error("message too long");return J=re?$.alloc(Q-te-3,255):function X(V){for(var J,Z=$.allocUnsafe(V),re=0,te=x(2*V),Q=0;re<V;)Q===te.length&&(te=x(2*V),Q=0),(J=te[Q++])&&(Z[re++]=J);return Z}(Q-te-3),new L($.concat([$.from([0,re?1:2]),J,$.alloc(1),Z],Q))}(J,re,te);else{if(3!==Q)throw new Error("unknown padding");if((oe=new L(re)).cmp(J.modulus)>=0)throw new Error("data too long for modulus")}return te?N(oe,J):M(oe,J)}},10568:(Le,z,E)=>{var m=E(16508),x=E(27054).Buffer;Le.exports=function R(W,S){return x.from(W.toRed(m.mont(S.modulus)).redPow(new m(S.publicExponent)).fromRed().toArray())}},37196:Le=>{Le.exports=function(E,m){for(var x=E.length,R=-1;++R<x;)E[R]^=m[R];return E}},24515:Le=>{let z;Le.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:globalThis):E=>(z||(z=Promise.resolve())).then(E).catch(m=>setTimeout(()=>{throw m},0))},3342:(Le,z,E)=>{"use strict";var m=E(40573),x=65536,S=E(27054).Buffer,L=globalThis.crypto||globalThis.msCrypto;Le.exports=L&&L.getRandomValues?function M(N,$){if(N>4294967295)throw new RangeError("requested too many random bytes");var F=S.allocUnsafe(N);if(N>0)if(N>x)for(var I=0;I<N;I+=x)L.getRandomValues(F.slice(I,I+x));else L.getRandomValues(F);return"function"==typeof $?m.nextTick(function(){$(null,F)}):F}:function W(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9682:(Le,z,E)=>{"use strict";var m=E(40573);function x(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var R=E(27054),W=E(3342),S=R.Buffer,L=R.kMaxLength,M=globalThis.crypto||globalThis.msCrypto,N=Math.pow(2,32)-1;function $(Z,re){if("number"!=typeof Z||Z!=Z)throw new TypeError("offset must be a number");if(Z>N||Z<0)throw new TypeError("offset must be a uint32");if(Z>L||Z>re)throw new RangeError("offset out of range")}function F(Z,re,te){if("number"!=typeof Z||Z!=Z)throw new TypeError("size must be a number");if(Z>N||Z<0)throw new TypeError("size must be a uint32");if(Z+re>te||Z>L)throw new RangeError("buffer too small")}function X(Z,re,te,Q){if(m.browser){var oe=new Uint8Array(Z.buffer,re,te);return M.getRandomValues(oe),Q?void m.nextTick(function(){Q(null,Z)}):Z}if(!Q)return W(te).copy(Z,re),Z;W(te,function(ae,pe){if(ae)return Q(ae);pe.copy(Z,re),Q(null,Z)})}M&&M.getRandomValues||!m.browser?(z.randomFill=function I(Z,re,te,Q){if(!(S.isBuffer(Z)||Z instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof re)Q=re,re=0,te=Z.length;else if("function"==typeof te)Q=te,te=Z.length-re;else if("function"!=typeof Q)throw new TypeError('"cb" argument must be a function');return $(re,Z.length),F(te,re,Z.length),X(Z,re,te,Q)},z.randomFillSync=function V(Z,re,te){if(typeof re>"u"&&(re=0),!(S.isBuffer(Z)||Z instanceof globalThis.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return $(re,Z.length),void 0===te&&(te=Z.length-re),F(te,re,Z.length),X(Z,re,te)}):(z.randomFill=x,z.randomFillSync=x)},26113:Le=>{"use strict";var E={};function m(L,M,N){N||(N=Error);var F=function(I){function X(V,Z,re){return I.call(this,function $(I,X,V){return"string"==typeof M?M:M(I,X,V)}(V,Z,re))||this}return function z(L,M){L.prototype=Object.create(M.prototype),L.prototype.constructor=L,L.__proto__=M}(X,I),X}(N);F.prototype.name=N.name,F.prototype.code=L,E[L]=F}function x(L,M){if(Array.isArray(L)){var N=L.length;return L=L.map(function($){return String($)}),N>2?"one of ".concat(M," ").concat(L.slice(0,N-1).join(", "),", or ")+L[N-1]:2===N?"one of ".concat(M," ").concat(L[0]," or ").concat(L[1]):"of ".concat(M," ").concat(L[0])}return"of ".concat(M," ").concat(String(L))}m("ERR_INVALID_OPT_VALUE",function(L,M){return'The value "'+M+'" is invalid for option "'+L+'"'},TypeError),m("ERR_INVALID_ARG_TYPE",function(L,M,N){var $,F;if("string"==typeof M&&function R(L,M,N){return L.substr(!N||N<0?0:+N,M.length)===M}(M,"not ")?($="must not be",M=M.replace(/^not /,"")):$="must be",function W(L,M,N){return(void 0===N||N>L.length)&&(N=L.length),L.substring(N-M.length,N)===M}(L," argument"))F="The ".concat(L," ").concat($," ").concat(x(M,"type"));else{var I=function S(L,M,N){return"number"!=typeof N&&(N=0),!(N+M.length>L.length)&&-1!==L.indexOf(M,N)}(L,".")?"property":"argument";F='The "'.concat(L,'" ').concat(I," ").concat($," ").concat(x(M,"type"))}return F+". Received type ".concat(typeof N)},TypeError),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),m("ERR_METHOD_NOT_IMPLEMENTED",function(L){return"The "+L+" method is not implemented"}),m("ERR_STREAM_PREMATURE_CLOSE","Premature close"),m("ERR_STREAM_DESTROYED",function(L){return"Cannot call "+L+" after a stream was destroyed"}),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),m("ERR_STREAM_WRITE_AFTER_END","write after end"),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_UNKNOWN_ENCODING",function(L){return"Unknown encoding: "+L},TypeError),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Le.exports.F=E},74075:(Le,z,E)=>{"use strict";var m=E(40573),x=Object.keys||function(I){var X=[];for(var V in I)X.push(V);return X};Le.exports=N;var R=E(19609),W=E(47849);E(71993)(N,R);for(var S=x(W.prototype),L=0;L<S.length;L++){var M=S[L];N.prototype[M]||(N.prototype[M]=W.prototype[M])}function N(I){if(!(this instanceof N))return new N(I);R.call(this,I),W.call(this,I),this.allowHalfOpen=!0,I&&(!1===I.readable&&(this.readable=!1),!1===I.writable&&(this.writable=!1),!1===I.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",$)))}function $(){this._writableState.ended||m.nextTick(F,this)}function F(I){I.end()}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(N.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(N.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(N.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(X){void 0===this._readableState||void 0===this._writableState||(this._readableState.destroyed=X,this._writableState.destroyed=X)}})},18823:(Le,z,E)=>{"use strict";Le.exports=x;var m=E(2909);function x(R){if(!(this instanceof x))return new x(R);m.call(this,R)}E(71993)(x,m),x.prototype._transform=function(R,W,S){S(null,R)}},19609:(Le,z,E)=>{"use strict";var x,m=E(40573);Le.exports=u,u.ReadableState=k,E(44356);var I,W=function(fe,ee){return fe.listeners(ee).length},S=E(18342),L=E(83838).Buffer,M=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},F=E(79838);I=F&&F.debuglog?F.debuglog("stream"):function(){};var ae,pe,le,X=E(19588),V=E(21509),re=E(42934).getHighWaterMark,te=E(26113).F,Q=te.ERR_INVALID_ARG_TYPE,J=te.ERR_STREAM_PUSH_AFTER_EOF,oe=te.ERR_METHOD_NOT_IMPLEMENTED,se=te.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;E(71993)(u,S);var ve=V.errorOrDestroy,we=["error","close","destroy","pause","resume"];function k(he,fe,ee){x=x||E(74075),"boolean"!=typeof ee&&(ee=fe instanceof x),this.objectMode=!!(he=he||{}).objectMode,ee&&(this.objectMode=this.objectMode||!!he.readableObjectMode),this.highWaterMark=re(this,he,"readableHighWaterMark",ee),this.buffer=new X,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==he.emitClose,this.autoDestroy=!!he.autoDestroy,this.destroyed=!1,this.defaultEncoding=he.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,he.encoding&&(ae||(ae=E(78454).StringDecoder),this.decoder=new ae(he.encoding),this.encoding=he.encoding)}function u(he){if(x=x||E(74075),!(this instanceof u))return new u(he);this._readableState=new k(he,this,this instanceof x),this.readable=!0,he&&("function"==typeof he.read&&(this._read=he.read),"function"==typeof he.destroy&&(this._destroy=he.destroy)),S.call(this)}function h(he,fe,ee,ie,ue){I("readableAddChunk",fe);var Ie,be=he._readableState;if(null===fe)be.reading=!1,function A(he,fe){if(I("onEofChunk"),!fe.ended){if(fe.decoder){var ee=fe.decoder.end();ee&&ee.length&&(fe.buffer.push(ee),fe.length+=fe.objectMode?1:ee.length)}fe.ended=!0,fe.sync?l(he):(fe.needReadable=!1,fe.emittedReadable||(fe.emittedReadable=!0,g(he)))}}(he,be);else if(ue||(Ie=function w(he,fe){var ee;return!function $(he){return L.isBuffer(he)||he instanceof M}(fe)&&"string"!=typeof fe&&void 0!==fe&&!he.objectMode&&(ee=new Q("chunk",["string","Buffer","Uint8Array"],fe)),ee}(be,fe)),Ie)ve(he,Ie);else if(be.objectMode||fe&&fe.length>0)if("string"!=typeof fe&&!be.objectMode&&Object.getPrototypeOf(fe)!==L.prototype&&(fe=function N(he){return L.from(he)}(fe)),ie)be.endEmitted?ve(he,new se):y(he,be,fe,!0);else if(be.ended)ve(he,new J);else{if(be.destroyed)return!1;be.reading=!1,be.decoder&&!ee?(fe=be.decoder.write(fe),be.objectMode||0!==fe.length?y(he,be,fe,!1):G(he,be)):y(he,be,fe,!1)}else ie||(be.reading=!1,G(he,be));return!be.ended&&(be.length<be.highWaterMark||0===be.length)}function y(he,fe,ee,ie){fe.flowing&&0===fe.length&&!fe.sync?(fe.awaitDrain=0,he.emit("data",ee)):(fe.length+=fe.objectMode?1:ee.length,ie?fe.buffer.unshift(ee):fe.buffer.push(ee),fe.needReadable&&l(he)),G(he,fe)}Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(fe){this._readableState&&(this._readableState.destroyed=fe)}}),u.prototype.destroy=V.destroy,u.prototype._undestroy=V.undestroy,u.prototype._destroy=function(he,fe){fe(he)},u.prototype.push=function(he,fe){var ie,ee=this._readableState;return ee.objectMode?ie=!0:"string"==typeof he&&((fe=fe||ee.defaultEncoding)!==ee.encoding&&(he=L.from(he,fe),fe=""),ie=!0),h(this,he,fe,!1,ie)},u.prototype.unshift=function(he){return h(this,he,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(he){ae||(ae=E(78454).StringDecoder);var fe=new ae(he);this._readableState.decoder=fe,this._readableState.encoding=this._readableState.decoder.encoding;for(var ee=this._readableState.buffer.head,ie="";null!==ee;)ie+=fe.write(ee.data),ee=ee.next;return this._readableState.buffer.clear(),""!==ie&&this._readableState.buffer.push(ie),this._readableState.length=ie.length,this};var T=1073741824;function j(he,fe){return he<=0||0===fe.length&&fe.ended?0:fe.objectMode?1:he!=he?fe.flowing&&fe.length?fe.buffer.head.data.length:fe.length:(he>fe.highWaterMark&&(fe.highWaterMark=function D(he){return he>=T?he=T:(he--,he|=he>>>1,he|=he>>>2,he|=he>>>4,he|=he>>>8,he|=he>>>16,he++),he}(he)),he<=fe.length?he:fe.ended?fe.length:(fe.needReadable=!0,0))}function l(he){var fe=he._readableState;I("emitReadable",fe.needReadable,fe.emittedReadable),fe.needReadable=!1,fe.emittedReadable||(I("emitReadable",fe.flowing),fe.emittedReadable=!0,m.nextTick(g,he))}function g(he){var fe=he._readableState;I("emitReadable_",fe.destroyed,fe.length,fe.ended),!fe.destroyed&&(fe.length||fe.ended)&&(he.emit("readable"),fe.emittedReadable=!1),fe.needReadable=!fe.flowing&&!fe.ended&&fe.length<=fe.highWaterMark,Ee(he)}function G(he,fe){fe.readingMore||(fe.readingMore=!0,m.nextTick(H,he,fe))}function H(he,fe){for(;!fe.reading&&!fe.ended&&(fe.length<fe.highWaterMark||fe.flowing&&0===fe.length);){var ee=fe.length;if(I("maybeReadMore read 0"),he.read(0),ee===fe.length)break}fe.readingMore=!1}function ce(he){var fe=he._readableState;fe.readableListening=he.listenerCount("readable")>0,fe.resumeScheduled&&!fe.paused?fe.flowing=!0:he.listenerCount("data")>0&&he.resume()}function Ae(he){I("readable nexttick read 0"),he.read(0)}function Fe(he,fe){I("resume",fe.reading),fe.reading||he.read(0),fe.resumeScheduled=!1,he.emit("resume"),Ee(he),fe.flowing&&!fe.reading&&he.read(0)}function Ee(he){var fe=he._readableState;for(I("flow",fe.flowing);fe.flowing&&null!==he.read(););}function ge(he,fe){return 0===fe.length?null:(fe.objectMode?ee=fe.buffer.shift():!he||he>=fe.length?(ee=fe.decoder?fe.buffer.join(""):1===fe.buffer.length?fe.buffer.first():fe.buffer.concat(fe.length),fe.buffer.clear()):ee=fe.buffer.consume(he,fe.decoder),ee);var ee}function Oe(he){var fe=he._readableState;I("endReadable",fe.endEmitted),fe.endEmitted||(fe.ended=!0,m.nextTick(ye,fe,he))}function ye(he,fe){if(I("endReadableNT",he.endEmitted,he.length),!he.endEmitted&&0===he.length&&(he.endEmitted=!0,fe.readable=!1,fe.emit("end"),he.autoDestroy)){var ee=fe._writableState;(!ee||ee.autoDestroy&&ee.finished)&&fe.destroy()}}function Se(he,fe){for(var ee=0,ie=he.length;ee<ie;ee++)if(he[ee]===fe)return ee;return-1}u.prototype.read=function(he){I("read",he),he=parseInt(he,10);var fe=this._readableState,ee=he;if(0!==he&&(fe.emittedReadable=!1),0===he&&fe.needReadable&&((0!==fe.highWaterMark?fe.length>=fe.highWaterMark:fe.length>0)||fe.ended))return I("read: emitReadable",fe.length,fe.ended),0===fe.length&&fe.ended?Oe(this):l(this),null;if(0===(he=j(he,fe))&&fe.ended)return 0===fe.length&&Oe(this),null;var ue,ie=fe.needReadable;return I("need readable",ie),(0===fe.length||fe.length-he<fe.highWaterMark)&&I("length less than watermark",ie=!0),fe.ended||fe.reading?I("reading or ended",ie=!1):ie&&(I("do read"),fe.reading=!0,fe.sync=!0,0===fe.length&&(fe.needReadable=!0),this._read(fe.highWaterMark),fe.sync=!1,fe.reading||(he=j(ee,fe))),null===(ue=he>0?ge(he,fe):null)?(fe.needReadable=fe.length<=fe.highWaterMark,he=0):(fe.length-=he,fe.awaitDrain=0),0===fe.length&&(fe.ended||(fe.needReadable=!0),ee!==he&&fe.ended&&Oe(this)),null!==ue&&this.emit("data",ue),ue},u.prototype._read=function(he){ve(this,new oe("_read()"))},u.prototype.pipe=function(he,fe){var ee=this,ie=this._readableState;switch(ie.pipesCount){case 0:ie.pipes=he;break;case 1:ie.pipes=[ie.pipes,he];break;default:ie.pipes.push(he)}ie.pipesCount+=1,I("pipe count=%d opts=%j",ie.pipesCount,fe);var be=fe&&!1===fe.end||he===m.stdout||he===m.stderr?p:Ne;function Ne(){I("onend"),he.end()}ie.endEmitted?m.nextTick(be):ee.once("end",be),he.on("unpipe",function Ie(O,q){I("onunpipe"),O===ee&&q&&!1===q.hasUnpiped&&(q.hasUnpiped=!0,function Ke(){I("cleanup"),he.removeListener("close",U),he.removeListener("finish",_),he.removeListener("drain",Be),he.removeListener("error",ot),he.removeListener("unpipe",Ie),ee.removeListener("end",Ne),ee.removeListener("end",p),ee.removeListener("data",Re),yt=!0,ie.awaitDrain&&(!he._writableState||he._writableState.needDrain)&&Be()}())});var Be=function ne(he){return function(){var ee=he._readableState;I("pipeOnDrain",ee.awaitDrain),ee.awaitDrain&&ee.awaitDrain--,0===ee.awaitDrain&&W(he,"data")&&(ee.flowing=!0,Ee(he))}}(ee);he.on("drain",Be);var yt=!1;function Re(O){I("ondata");var q=he.write(O);I("dest.write",q),!1===q&&((1===ie.pipesCount&&ie.pipes===he||ie.pipesCount>1&&-1!==Se(ie.pipes,he))&&!yt&&(I("false write response, pause",ie.awaitDrain),ie.awaitDrain++),ee.pause())}function ot(O){I("onerror",O),p(),he.removeListener("error",ot),0===W(he,"error")&&ve(he,O)}function U(){he.removeListener("finish",_),p()}function _(){I("onfinish"),he.removeListener("close",U),p()}function p(){I("unpipe"),ee.unpipe(he)}return ee.on("data",Re),function De(he,fe,ee){if("function"==typeof he.prependListener)return he.prependListener(fe,ee);he._events&&he._events[fe]?Array.isArray(he._events[fe])?he._events[fe].unshift(ee):he._events[fe]=[ee,he._events[fe]]:he.on(fe,ee)}(he,"error",ot),he.once("close",U),he.once("finish",_),he.emit("pipe",ee),ie.flowing||(I("pipe resume"),ee.resume()),he},u.prototype.unpipe=function(he){var fe=this._readableState,ee={hasUnpiped:!1};if(0===fe.pipesCount)return this;if(1===fe.pipesCount)return he&&he!==fe.pipes||(he||(he=fe.pipes),fe.pipes=null,fe.pipesCount=0,fe.flowing=!1,he&&he.emit("unpipe",this,ee)),this;if(!he){var ie=fe.pipes,ue=fe.pipesCount;fe.pipes=null,fe.pipesCount=0,fe.flowing=!1;for(var be=0;be<ue;be++)ie[be].emit("unpipe",this,{hasUnpiped:!1});return this}var Ie=Se(fe.pipes,he);return-1===Ie||(fe.pipes.splice(Ie,1),fe.pipesCount-=1,1===fe.pipesCount&&(fe.pipes=fe.pipes[0]),he.emit("unpipe",this,ee)),this},u.prototype.addListener=u.prototype.on=function(he,fe){var ee=S.prototype.on.call(this,he,fe),ie=this._readableState;return"data"===he?(ie.readableListening=this.listenerCount("readable")>0,!1!==ie.flowing&&this.resume()):"readable"===he&&!ie.endEmitted&&!ie.readableListening&&(ie.readableListening=ie.needReadable=!0,ie.flowing=!1,ie.emittedReadable=!1,I("on readable",ie.length,ie.reading),ie.length?l(this):ie.reading||m.nextTick(Ae,this)),ee},u.prototype.removeListener=function(he,fe){var ee=S.prototype.removeListener.call(this,he,fe);return"readable"===he&&m.nextTick(ce,this),ee},u.prototype.removeAllListeners=function(he){var fe=S.prototype.removeAllListeners.apply(this,arguments);return("readable"===he||void 0===he)&&m.nextTick(ce,this),fe},u.prototype.resume=function(){var he=this._readableState;return he.flowing||(I("resume"),he.flowing=!he.readableListening,function ke(he,fe){fe.resumeScheduled||(fe.resumeScheduled=!0,m.nextTick(Fe,he,fe))}(this,he)),he.paused=!1,this},u.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},u.prototype.wrap=function(he){var fe=this,ee=this._readableState,ie=!1;for(var ue in he.on("end",function(){if(I("wrapped end"),ee.decoder&&!ee.ended){var Ie=ee.decoder.end();Ie&&Ie.length&&fe.push(Ie)}fe.push(null)}),he.on("data",function(Ie){I("wrapped data"),ee.decoder&&(Ie=ee.decoder.write(Ie)),ee.objectMode&&null==Ie||!(ee.objectMode||Ie&&Ie.length)||fe.push(Ie)||(ie=!0,he.pause())}),he)void 0===this[ue]&&"function"==typeof he[ue]&&(this[ue]=function(Ne){return function(){return he[Ne].apply(he,arguments)}}(ue));for(var be=0;be<we.length;be++)he.on(we[be],this.emit.bind(this,we[be]));return this._read=function(Ie){I("wrapped _read",Ie),ie&&(ie=!1,he.resume())},this},"function"==typeof Symbol&&(u.prototype[Symbol.asyncIterator]=function(){return void 0===pe&&(pe=E(6320)),pe(this)}),Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(u.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(u.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(fe){this._readableState&&(this._readableState.flowing=fe)}}),u._fromList=ge,Object.defineProperty(u.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(u.from=function(he,fe){return void 0===le&&(le=E(87654)),le(u,he,fe)})},2909:(Le,z,E)=>{"use strict";Le.exports=N;var m=E(26113).F,x=m.ERR_METHOD_NOT_IMPLEMENTED,R=m.ERR_MULTIPLE_CALLBACK,W=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=m.ERR_TRANSFORM_WITH_LENGTH_0,L=E(74075);function M(I,X){var V=this._transformState;V.transforming=!1;var Z=V.writecb;if(null===Z)return this.emit("error",new R);V.writechunk=null,V.writecb=null,null!=X&&this.push(X),Z(I);var re=this._readableState;re.reading=!1,(re.needReadable||re.length<re.highWaterMark)&&this._read(re.highWaterMark)}function N(I){if(!(this instanceof N))return new N(I);L.call(this,I),this._transformState={afterTransform:M.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,I&&("function"==typeof I.transform&&(this._transform=I.transform),"function"==typeof I.flush&&(this._flush=I.flush)),this.on("prefinish",$)}function $(){var I=this;"function"!=typeof this._flush||this._readableState.destroyed?F(this,null,null):this._flush(function(X,V){F(I,X,V)})}function F(I,X,V){if(X)return I.emit("error",X);if(null!=V&&I.push(V),I._writableState.length)throw new S;if(I._transformState.transforming)throw new W;return I.push(null)}E(71993)(N,L),N.prototype.push=function(I,X){return this._transformState.needTransform=!1,L.prototype.push.call(this,I,X)},N.prototype._transform=function(I,X,V){V(new x("_transform()"))},N.prototype._write=function(I,X,V){var Z=this._transformState;if(Z.writecb=V,Z.writechunk=I,Z.writeencoding=X,!Z.transforming){var re=this._readableState;(Z.needTransform||re.needReadable||re.length<re.highWaterMark)&&this._read(re.highWaterMark)}},N.prototype._read=function(I){var X=this._transformState;null===X.writechunk||X.transforming?X.needTransform=!0:(X.transforming=!0,this._transform(X.writechunk,X.writeencoding,X.afterTransform))},N.prototype._destroy=function(I,X){L.prototype._destroy.call(this,I,function(V){X(V)})}},47849:(Le,z,E)=>{"use strict";var W,m=E(40573);function R(Ee){var ge=this;this.next=null,this.entry=null,this.finish=function(){!function Fe(Ee,ge,Oe){var ye=Ee.entry;for(Ee.entry=null;ye;){var Se=ye.callback;ge.pendingcb--,Se(Oe),ye=ye.next}ge.corkedRequestsFree.next=Ee}(ge,Ee)}}Le.exports=k,k.WritableState=we;var De,S={deprecate:E(3398)},L=E(18342),M=E(83838).Buffer,N=(typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},I=E(21509),V=E(42934).getHighWaterMark,Z=E(26113).F,re=Z.ERR_INVALID_ARG_TYPE,te=Z.ERR_METHOD_NOT_IMPLEMENTED,Q=Z.ERR_MULTIPLE_CALLBACK,J=Z.ERR_STREAM_CANNOT_PIPE,oe=Z.ERR_STREAM_DESTROYED,se=Z.ERR_STREAM_NULL_VALUES,ae=Z.ERR_STREAM_WRITE_AFTER_END,pe=Z.ERR_UNKNOWN_ENCODING,le=I.errorOrDestroy;function ve(){}function we(Ee,ge,Oe){W=W||E(74075),"boolean"!=typeof Oe&&(Oe=ge instanceof W),this.objectMode=!!(Ee=Ee||{}).objectMode,Oe&&(this.objectMode=this.objectMode||!!Ee.writableObjectMode),this.highWaterMark=V(this,Ee,"writableHighWaterMark",Oe),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(!1===Ee.decodeStrings),this.defaultEncoding=Ee.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Se){!function A(Ee,ge){var Oe=Ee._writableState,ye=Oe.sync,Se=Oe.writecb;if("function"!=typeof Se)throw new Q;if(function j(Ee){Ee.writing=!1,Ee.writecb=null,Ee.length-=Ee.writelen,Ee.writelen=0}(Oe),ge)!function D(Ee,ge,Oe,ye,Se){--ge.pendingcb,Oe?(m.nextTick(Se,ye),m.nextTick(Ae,Ee,ge),Ee._writableState.errorEmitted=!0,le(Ee,ye)):(Se(ye),Ee._writableState.errorEmitted=!0,le(Ee,ye),Ae(Ee,ge))}(Ee,Oe,ye,ge,Se);else{var he=H(Oe)||Ee.destroyed;!he&&!Oe.corked&&!Oe.bufferProcessing&&Oe.bufferedRequest&&G(Ee,Oe),ye?m.nextTick(l,Ee,Oe,he,Se):l(Ee,Oe,he,Se)}}(ge,Se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==Ee.emitClose,this.autoDestroy=!!Ee.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new R(this)}function k(Ee){var ge=this instanceof(W=W||E(74075));if(!ge&&!De.call(k,this))return new k(Ee);this._writableState=new we(Ee,this,ge),this.writable=!0,Ee&&("function"==typeof Ee.write&&(this._write=Ee.write),"function"==typeof Ee.writev&&(this._writev=Ee.writev),"function"==typeof Ee.destroy&&(this._destroy=Ee.destroy),"function"==typeof Ee.final&&(this._final=Ee.final)),L.call(this)}function T(Ee,ge,Oe,ye,Se,he,fe){ge.writelen=ye,ge.writecb=fe,ge.writing=!0,ge.sync=!0,ge.destroyed?ge.onwrite(new oe("write")):Oe?Ee._writev(Se,ge.onwrite):Ee._write(Se,he,ge.onwrite),ge.sync=!1}function l(Ee,ge,Oe,ye){Oe||function g(Ee,ge){0===ge.length&&ge.needDrain&&(ge.needDrain=!1,Ee.emit("drain"))}(Ee,ge),ge.pendingcb--,ye(),Ae(Ee,ge)}function G(Ee,ge){ge.bufferProcessing=!0;var Oe=ge.bufferedRequest;if(Ee._writev&&Oe&&Oe.next){var Se=new Array(ge.bufferedRequestCount),he=ge.corkedRequestsFree;he.entry=Oe;for(var fe=0,ee=!0;Oe;)Se[fe]=Oe,Oe.isBuf||(ee=!1),Oe=Oe.next,fe+=1;Se.allBuffers=ee,T(Ee,ge,!0,ge.length,Se,"",he.finish),ge.pendingcb++,ge.lastBufferedRequest=null,he.next?(ge.corkedRequestsFree=he.next,he.next=null):ge.corkedRequestsFree=new R(ge),ge.bufferedRequestCount=0}else{for(;Oe;){var ie=Oe.chunk;if(T(Ee,ge,!1,ge.objectMode?1:ie.length,ie,Oe.encoding,Oe.callback),Oe=Oe.next,ge.bufferedRequestCount--,ge.writing)break}null===Oe&&(ge.lastBufferedRequest=null)}ge.bufferedRequest=Oe,ge.bufferProcessing=!1}function H(Ee){return Ee.ending&&0===Ee.length&&null===Ee.bufferedRequest&&!Ee.finished&&!Ee.writing}function ne(Ee,ge){Ee._final(function(Oe){ge.pendingcb--,Oe&&le(Ee,Oe),ge.prefinished=!0,Ee.emit("prefinish"),Ae(Ee,ge)})}function Ae(Ee,ge){var Oe=H(ge);if(Oe&&(function ce(Ee,ge){!ge.prefinished&&!ge.finalCalled&&("function"!=typeof Ee._final||ge.destroyed?(ge.prefinished=!0,Ee.emit("prefinish")):(ge.pendingcb++,ge.finalCalled=!0,m.nextTick(ne,Ee,ge)))}(Ee,ge),0===ge.pendingcb&&(ge.finished=!0,Ee.emit("finish"),ge.autoDestroy))){var ye=Ee._readableState;(!ye||ye.autoDestroy&&ye.endEmitted)&&Ee.destroy()}return Oe}E(71993)(k,L),we.prototype.getBuffer=function(){for(var ge=this.bufferedRequest,Oe=[];ge;)Oe.push(ge),ge=ge.next;return Oe},function(){try{Object.defineProperty(we.prototype,"buffer",{get:S.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(De=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(ge){return!!De.call(this,ge)||this===k&&ge&&ge._writableState instanceof we}})):De=function(ge){return ge instanceof this},k.prototype.pipe=function(){le(this,new J)},k.prototype.write=function(Ee,ge,Oe){var ye=this._writableState,Se=!1,he=!ye.objectMode&&function F(Ee){return M.isBuffer(Ee)||Ee instanceof N}(Ee);return he&&!M.isBuffer(Ee)&&(Ee=function $(Ee){return M.from(Ee)}(Ee)),"function"==typeof ge&&(Oe=ge,ge=null),he?ge="buffer":ge||(ge=ye.defaultEncoding),"function"!=typeof Oe&&(Oe=ve),ye.ending?function u(Ee,ge){var Oe=new ae;le(Ee,Oe),m.nextTick(ge,Oe)}(this,Oe):(he||function h(Ee,ge,Oe,ye){var Se;return null===Oe?Se=new se:"string"!=typeof Oe&&!ge.objectMode&&(Se=new re("chunk",["string","Buffer"],Oe)),!Se||(le(Ee,Se),m.nextTick(ye,Se),!1)}(this,ye,Ee,Oe))&&(ye.pendingcb++,Se=function w(Ee,ge,Oe,ye,Se,he){if(!Oe){var fe=function y(Ee,ge,Oe){return!Ee.objectMode&&!1!==Ee.decodeStrings&&"string"==typeof ge&&(ge=M.from(ge,Oe)),ge}(ge,ye,Se);ye!==fe&&(Oe=!0,Se="buffer",ye=fe)}var ee=ge.objectMode?1:ye.length;ge.length+=ee;var ie=ge.length<ge.highWaterMark;if(ie||(ge.needDrain=!0),ge.writing||ge.corked){var ue=ge.lastBufferedRequest;ge.lastBufferedRequest={chunk:ye,encoding:Se,isBuf:Oe,callback:he,next:null},ue?ue.next=ge.lastBufferedRequest:ge.bufferedRequest=ge.lastBufferedRequest,ge.bufferedRequestCount+=1}else T(Ee,ge,!1,ee,ye,Se,he);return ie}(this,ye,he,Ee,ge,Oe)),Se},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var Ee=this._writableState;Ee.corked&&(Ee.corked--,!Ee.writing&&!Ee.corked&&!Ee.bufferProcessing&&Ee.bufferedRequest&&G(this,Ee))},k.prototype.setDefaultEncoding=function(ge){if("string"==typeof ge&&(ge=ge.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ge+"").toLowerCase())>-1))throw new pe(ge);return this._writableState.defaultEncoding=ge,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(Ee,ge,Oe){Oe(new te("_write()"))},k.prototype._writev=null,k.prototype.end=function(Ee,ge,Oe){var ye=this._writableState;return"function"==typeof Ee?(Oe=Ee,Ee=null,ge=null):"function"==typeof ge&&(Oe=ge,ge=null),null!=Ee&&this.write(Ee,ge),ye.corked&&(ye.corked=1,this.uncork()),ye.ending||function ke(Ee,ge,Oe){ge.ending=!0,Ae(Ee,ge),Oe&&(ge.finished?m.nextTick(Oe):Ee.once("finish",Oe)),ge.ended=!0,Ee.writable=!1}(this,ye,Oe),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(ge){this._writableState&&(this._writableState.destroyed=ge)}}),k.prototype.destroy=I.destroy,k.prototype._undestroy=I.undestroy,k.prototype._destroy=function(Ee,ge){ge(Ee)}},6320:(Le,z,E)=>{"use strict";var x,m=E(40573);function R(ae,pe,le){return pe=function W(ae){var pe=function S(ae,pe){if("object"!=typeof ae||null===ae)return ae;var le=ae[Symbol.toPrimitive];if(void 0!==le){var ve=le.call(ae,pe||"default");if("object"!=typeof ve)return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===pe?String:Number)(ae)}(ae,"string");return"symbol"==typeof pe?pe:String(pe)}(pe),pe in ae?Object.defineProperty(ae,pe,{value:le,enumerable:!0,configurable:!0,writable:!0}):ae[pe]=le,ae}var L=E(33139),M=Symbol("lastResolve"),N=Symbol("lastReject"),$=Symbol("error"),F=Symbol("ended"),I=Symbol("lastPromise"),X=Symbol("handlePromise"),V=Symbol("stream");function Z(ae,pe){return{value:ae,done:pe}}function re(ae){var pe=ae[M];if(null!==pe){var le=ae[V].read();null!==le&&(ae[I]=null,ae[M]=null,ae[N]=null,pe(Z(le,!1)))}}function te(ae){m.nextTick(re,ae)}var J=Object.getPrototypeOf(function(){}),oe=Object.setPrototypeOf((R(x={get stream(){return this[V]},next:function(){var pe=this,le=this[$];if(null!==le)return Promise.reject(le);if(this[F])return Promise.resolve(Z(void 0,!0));if(this[V].destroyed)return new Promise(function(k,u){m.nextTick(function(){pe[$]?u(pe[$]):k(Z(void 0,!0))})});var we,ve=this[I];if(ve)we=new Promise(function Q(ae,pe){return function(le,ve){ae.then(function(){pe[F]?le(Z(void 0,!0)):pe[X](le,ve)},ve)}}(ve,this));else{var De=this[V].read();if(null!==De)return Promise.resolve(Z(De,!1));we=new Promise(this[X])}return this[I]=we,we}},Symbol.asyncIterator,function(){return this}),R(x,"return",function(){var pe=this;return new Promise(function(le,ve){pe[V].destroy(null,function(we){we?ve(we):le(Z(void 0,!0))})})}),x),J);Le.exports=function(pe){var le,ve=Object.create(oe,(R(le={},V,{value:pe,writable:!0}),R(le,M,{value:null,writable:!0}),R(le,N,{value:null,writable:!0}),R(le,$,{value:null,writable:!0}),R(le,F,{value:pe._readableState.endEmitted,writable:!0}),R(le,X,{value:function(De,k){var u=ve[V].read();u?(ve[I]=null,ve[M]=null,ve[N]=null,De(Z(u,!1))):(ve[M]=De,ve[N]=k)},writable:!0}),le));return ve[I]=null,L(pe,function(we){if(we&&"ERR_STREAM_PREMATURE_CLOSE"!==we.code){var De=ve[N];return null!==De&&(ve[I]=null,ve[M]=null,ve[N]=null,De(we)),void(ve[$]=we)}var k=ve[M];null!==k&&(ve[I]=null,ve[M]=null,ve[N]=null,k(Z(void 0,!0))),ve[F]=!0}),pe.on("readable",te.bind(null,ve)),ve}},19588:(Le,z,E)=>{"use strict";function m(re,te){var Q=Object.keys(re);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(re);te&&(J=J.filter(function(oe){return Object.getOwnPropertyDescriptor(re,oe).enumerable})),Q.push.apply(Q,J)}return Q}function x(re){for(var te=1;te<arguments.length;te++){var Q=null!=arguments[te]?arguments[te]:{};te%2?m(Object(Q),!0).forEach(function(J){R(re,J,Q[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(Q)):m(Object(Q)).forEach(function(J){Object.defineProperty(re,J,Object.getOwnPropertyDescriptor(Q,J))})}return re}function R(re,te,Q){return(te=M(te))in re?Object.defineProperty(re,te,{value:Q,enumerable:!0,configurable:!0,writable:!0}):re[te]=Q,re}function S(re,te){for(var Q=0;Q<te.length;Q++){var J=te[Q];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(re,M(J.key),J)}}function M(re){var te=function N(re,te){if("object"!=typeof re||null===re)return re;var Q=re[Symbol.toPrimitive];if(void 0!==Q){var J=Q.call(re,te||"default");if("object"!=typeof J)return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===te?String:Number)(re)}(re,"string");return"symbol"==typeof te?te:String(te)}var F=E(83838).Buffer,X=E(15340).inspect,V=X&&X.custom||"inspect";function Z(re,te,Q){F.prototype.copy.call(re,te,Q)}Le.exports=function(){function re(){(function W(re,te){if(!(re instanceof te))throw new TypeError("Cannot call a class as a function")})(this,re),this.head=null,this.tail=null,this.length=0}return function L(re,te,Q){te&&S(re.prototype,te),Q&&S(re,Q),Object.defineProperty(re,"prototype",{writable:!1})}(re,[{key:"push",value:function(Q){var J={data:Q,next:null};this.length>0?this.tail.next=J:this.head=J,this.tail=J,++this.length}},{key:"unshift",value:function(Q){var J={data:Q,next:this.head};0===this.length&&(this.tail=J),this.head=J,++this.length}},{key:"shift",value:function(){if(0!==this.length){var Q=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,Q}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Q){if(0===this.length)return"";for(var J=this.head,oe=""+J.data;J=J.next;)oe+=Q+J.data;return oe}},{key:"concat",value:function(Q){if(0===this.length)return F.alloc(0);for(var J=F.allocUnsafe(Q>>>0),oe=this.head,se=0;oe;)Z(oe.data,J,se),se+=oe.data.length,oe=oe.next;return J}},{key:"consume",value:function(Q,J){var oe;return Q<this.head.data.length?(oe=this.head.data.slice(0,Q),this.head.data=this.head.data.slice(Q)):oe=Q===this.head.data.length?this.shift():J?this._getString(Q):this._getBuffer(Q),oe}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Q){var J=this.head,oe=1,se=J.data;for(Q-=se.length;J=J.next;){var ae=J.data,pe=Q>ae.length?ae.length:Q;if(se+=pe===ae.length?ae:ae.slice(0,Q),0==(Q-=pe)){pe===ae.length?(++oe,this.head=J.next?J.next:this.tail=null):(this.head=J,J.data=ae.slice(pe));break}++oe}return this.length-=oe,se}},{key:"_getBuffer",value:function(Q){var J=F.allocUnsafe(Q),oe=this.head,se=1;for(oe.data.copy(J),Q-=oe.data.length;oe=oe.next;){var ae=oe.data,pe=Q>ae.length?ae.length:Q;if(ae.copy(J,J.length-Q,0,pe),0==(Q-=pe)){pe===ae.length?(++se,this.head=oe.next?oe.next:this.tail=null):(this.head=oe,oe.data=ae.slice(pe));break}++se}return this.length-=se,J}},{key:V,value:function(Q,J){return X(this,x(x({},J),{},{depth:0,customInspect:!1}))}}]),re}()},21509:(Le,z,E)=>{"use strict";var m=E(40573);function R(N,$){L(N,$),W(N)}function W(N){N._writableState&&!N._writableState.emitClose||N._readableState&&!N._readableState.emitClose||N.emit("close")}function L(N,$){N.emit("error",$)}Le.exports={destroy:function x(N,$){var F=this;return this._readableState&&this._readableState.destroyed||this._writableState&&this._writableState.destroyed?($?$(N):N&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(L,this,N)):m.nextTick(L,this,N)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(N||null,function(V){!$&&V?F._writableState?F._writableState.errorEmitted?m.nextTick(W,F):(F._writableState.errorEmitted=!0,m.nextTick(R,F,V)):m.nextTick(R,F,V):$?(m.nextTick(W,F),$(V)):m.nextTick(W,F)}),this)},undestroy:function S(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function M(N,$){var F=N._readableState,I=N._writableState;F&&F.autoDestroy||I&&I.autoDestroy?N.destroy($):N.emit("error",$)}}},33139:(Le,z,E)=>{"use strict";var m=E(26113).F.ERR_STREAM_PREMATURE_CLOSE;function R(){}Le.exports=function S(L,M,N){if("function"==typeof M)return S(L,null,M);M||(M={}),N=function x(L){var M=!1;return function(){if(!M){M=!0;for(var N=arguments.length,$=new Array(N),F=0;F<N;F++)$[F]=arguments[F];L.apply(this,$)}}}(N||R);var $=M.readable||!1!==M.readable&&L.readable,F=M.writable||!1!==M.writable&&L.writable,I=function(){L.writable||V()},X=L._writableState&&L._writableState.finished,V=function(){F=!1,X=!0,$||N.call(L)},Z=L._readableState&&L._readableState.endEmitted,re=function(){$=!1,Z=!0,F||N.call(L)},te=function(se){N.call(L,se)},Q=function(){var se;return $&&!Z?((!L._readableState||!L._readableState.ended)&&(se=new m),N.call(L,se)):F&&!X?((!L._writableState||!L._writableState.ended)&&(se=new m),N.call(L,se)):void 0},J=function(){L.req.on("finish",V)};return function W(L){return L.setHeader&&"function"==typeof L.abort}(L)?(L.on("complete",V),L.on("abort",Q),L.req?J():L.on("request",J)):F&&!L._writableState&&(L.on("end",I),L.on("close",I)),L.on("end",re),L.on("finish",V),!1!==M.error&&L.on("error",te),L.on("close",Q),function(){L.removeListener("complete",V),L.removeListener("abort",Q),L.removeListener("request",J),L.req&&L.req.removeListener("finish",V),L.removeListener("end",I),L.removeListener("close",I),L.removeListener("finish",V),L.removeListener("end",re),L.removeListener("error",te),L.removeListener("close",Q)}}},87654:Le=>{Le.exports=function(){throw new Error("Readable.from is not available in the browser")}},96249:(Le,z,E)=>{"use strict";var m,R=E(26113).F,W=R.ERR_MISSING_ARGS,S=R.ERR_STREAM_DESTROYED;function L(V){if(V)throw V}function $(V){V()}function F(V,Z){return V.pipe(Z)}Le.exports=function X(){for(var V=arguments.length,Z=new Array(V),re=0;re<V;re++)Z[re]=arguments[re];var te=function I(V){return V.length&&"function"==typeof V[V.length-1]?V.pop():L}(Z);if(Array.isArray(Z[0])&&(Z=Z[0]),Z.length<2)throw new W("streams");var Q,J=Z.map(function(oe,se){var ae=se<Z.length-1;return function N(V,Z,re,te){te=function x(V){var Z=!1;return function(){Z||(Z=!0,V.apply(void 0,arguments))}}(te);var Q=!1;V.on("close",function(){Q=!0}),void 0===m&&(m=E(33139)),m(V,{readable:Z,writable:re},function(oe){if(oe)return te(oe);Q=!0,te()});var J=!1;return function(oe){if(!Q&&!J){if(J=!0,function M(V){return V.setHeader&&"function"==typeof V.abort}(V))return V.abort();if("function"==typeof V.destroy)return V.destroy();te(oe||new S("pipe"))}}}(oe,ae,se>0,function(le){Q||(Q=le),le&&J.forEach($),!ae&&(J.forEach($),te(Q))})});return Z.reduce(F)}},42934:(Le,z,E)=>{"use strict";var m=E(26113).F.ERR_INVALID_OPT_VALUE;Le.exports={getHighWaterMark:function R(W,S,L,M){var N=function x(W,S,L){return null!=W.highWaterMark?W.highWaterMark:S?W[L]:null}(S,M,L);if(null!=N){if(!isFinite(N)||Math.floor(N)!==N||N<0)throw new m(M?L:"highWaterMark",N);return Math.floor(N)}return W.objectMode?16:16384}}},18342:(Le,z,E)=>{Le.exports=E(44356).EventEmitter},5942:(Le,z,E)=>{(z=Le.exports=E(19609)).Stream=z,z.Readable=z,z.Writable=E(47849),z.Duplex=E(74075),z.Transform=E(2909),z.PassThrough=E(18823),z.finished=E(33139),z.pipeline=E(96249)},85493:(Le,z,E)=>{"use strict";var x=E(29293).default;z.s=void 0;const R=E(5942);z.s=class W extends R.Readable{constructor(L){super(),this.bytesRead=0,this.released=!1,this.reader=L.getReader()}_read(){var L=this;return x(function*(){if(L.released)return void L.push(null);L.pendingRead=L.reader.read();const M=yield L.pendingRead;delete L.pendingRead,M.done||L.released?L.push(null):(L.bytesRead+=M.value.length,L.push(M.value))})()}waitForReadToComplete(){var L=this;return x(function*(){L.pendingRead&&(yield L.pendingRead)})()}close(){var L=this;return x(function*(){yield L.syncAndRelease()})()}syncAndRelease(){var L=this;return x(function*(){L.released=!0,yield L.waitForReadToComplete(),yield L.reader.releaseLock()})()}}},36636:(Le,z,E)=>{"use strict";var m=E(83838).Buffer,x=E(71993),R=E(13686),W=new Array(16),S=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],L=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],M=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],N=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],$=[0,1518500249,1859775393,2400959708,2840853838],F=[1352829926,1548603684,1836072691,2053994217,0];function I(){R.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function X(J,oe){return J<<oe|J>>>32-oe}function V(J,oe,se,ae,pe,le,ve,we){return X(J+(oe^se^ae)+le+ve|0,we)+pe|0}function Z(J,oe,se,ae,pe,le,ve,we){return X(J+(oe&se|~oe&ae)+le+ve|0,we)+pe|0}function re(J,oe,se,ae,pe,le,ve,we){return X(J+((oe|~se)^ae)+le+ve|0,we)+pe|0}function te(J,oe,se,ae,pe,le,ve,we){return X(J+(oe&ae|se&~ae)+le+ve|0,we)+pe|0}function Q(J,oe,se,ae,pe,le,ve,we){return X(J+(oe^(se|~ae))+le+ve|0,we)+pe|0}x(I,R),I.prototype._update=function(){for(var J=W,oe=0;oe<16;++oe)J[oe]=this._block.readInt32LE(4*oe);for(var se=0|this._a,ae=0|this._b,pe=0|this._c,le=0|this._d,ve=0|this._e,we=0|this._a,De=0|this._b,k=0|this._c,u=0|this._d,h=0|this._e,y=0;y<80;y+=1){var w,T;y<16?(w=V(se,ae,pe,le,ve,J[S[y]],$[0],M[y]),T=Q(we,De,k,u,h,J[L[y]],F[0],N[y])):y<32?(w=Z(se,ae,pe,le,ve,J[S[y]],$[1],M[y]),T=te(we,De,k,u,h,J[L[y]],F[1],N[y])):y<48?(w=re(se,ae,pe,le,ve,J[S[y]],$[2],M[y]),T=re(we,De,k,u,h,J[L[y]],F[2],N[y])):y<64?(w=te(se,ae,pe,le,ve,J[S[y]],$[3],M[y]),T=Z(we,De,k,u,h,J[L[y]],F[3],N[y])):(w=Q(se,ae,pe,le,ve,J[S[y]],$[4],M[y]),T=V(we,De,k,u,h,J[L[y]],F[4],N[y])),se=ve,ve=le,le=X(pe,10),pe=ae,ae=w,we=h,h=u,u=X(k,10),k=De,De=T}var D=this._b+pe+u|0;this._b=this._c+le+h|0,this._c=this._d+ve+we|0,this._d=this._e+se+De|0,this._e=this._a+ae+k|0,this._a=D},I.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var J=m.alloc?m.alloc(20):new m(20);return J.writeInt32LE(this._a,0),J.writeInt32LE(this._b,4),J.writeInt32LE(this._c,8),J.writeInt32LE(this._d,12),J.writeInt32LE(this._e,16),J},Le.exports=I},81725:(Le,z,E)=>{Le.exports=function x(R,W,S){if("number"!=typeof W)throw new Error("second argument must be a Number");let L,M,N,$,F,X,I=!0;function V(re){function te(){S&&S(re,L),S=null}I?m(te):te()}function Z(re,te,Q){if(L[re]=Q,te&&(F=!0),0==--N||te)V(te);else if(!F&&X<M){let J;$?(J=$[X],X+=1,R[J](function(oe,se){Z(J,oe,se)})):(J=X,X+=1,R[J](function(oe,se){Z(J,oe,se)}))}}Array.isArray(R)?(L=[],N=M=R.length):($=Object.keys(R),L={},N=M=$.length),X=W,N?$?$.some(function(re,te){return R[re](function(Q,J){Z(re,Q,J)}),te===W-1}):R.some(function(re,te){return re(function(Q,J){Z(te,Q,J)}),te===W-1}):V(null),I=!1};const m=E(24515)},84412:(Le,z,E)=>{"use strict";E.d(z,{t:()=>x});var m=E(21413);class x extends m.B{constructor(W){super(),this._value=W}get value(){return this.getValue()}_subscribe(W){const S=super._subscribe(W);return!S.closed&&W.next(this._value),S}getValue(){const{hasError:W,thrownError:S,_value:L}=this;if(W)throw S;return this._throwIfClosed(),L}next(W){super.next(this._value=W)}}},71985:(Le,z,E)=>{"use strict";E.d(z,{c:()=>N});var m=E(47707),x=E(18359),R=E(3494),W=E(71203),S=E(41026),L=E(98071),M=E(49786);let N=(()=>{class X{constructor(Z){Z&&(this._subscribe=Z)}lift(Z){const re=new X;return re.source=this,re.operator=Z,re}subscribe(Z,re,te){const Q=function I(X){return X&&X instanceof m.vU||function F(X){return X&&(0,L.T)(X.next)&&(0,L.T)(X.error)&&(0,L.T)(X.complete)}(X)&&(0,x.Uv)(X)}(Z)?Z:new m.Ms(Z,re,te);return(0,M.Y)(()=>{const{operator:J,source:oe}=this;Q.add(J?J.call(Q,oe):oe?this._subscribe(Q):this._trySubscribe(Q))}),Q}_trySubscribe(Z){try{return this._subscribe(Z)}catch(re){Z.error(re)}}forEach(Z,re){return new(re=$(re))((te,Q)=>{const J=new m.Ms({next:oe=>{try{Z(oe)}catch(se){Q(se),J.unsubscribe()}},error:Q,complete:te});this.subscribe(J)})}_subscribe(Z){var re;return null===(re=this.source)||void 0===re?void 0:re.subscribe(Z)}[R.s](){return this}pipe(...Z){return(0,W.m)(Z)(this)}toPromise(Z){return new(Z=$(Z))((re,te)=>{let Q;this.subscribe(J=>Q=J,J=>te(J),()=>re(Q))})}}return X.create=V=>new X(V),X})();function $(X){var V;return null!==(V=X??S.$.Promise)&&void 0!==V?V:Promise}},92771:(Le,z,E)=>{"use strict";E.d(z,{m:()=>R});var m=E(21413),x=E(86129);class R extends m.B{constructor(S=1/0,L=1/0,M=x.U){super(),this._bufferSize=S,this._windowTime=L,this._timestampProvider=M,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=L===1/0,this._bufferSize=Math.max(1,S),this._windowTime=Math.max(1,L)}next(S){const{isStopped:L,_buffer:M,_infiniteTimeWindow:N,_timestampProvider:$,_windowTime:F}=this;L||(M.push(S),!N&&M.push($.now()+F)),this._trimBuffer(),super.next(S)}_subscribe(S){this._throwIfClosed(),this._trimBuffer();const L=this._innerSubscribe(S),{_infiniteTimeWindow:M,_buffer:N}=this,$=N.slice();for(let F=0;F<$.length&&!S.closed;F+=M?1:2)S.next($[F]);return this._checkFinalizedStatuses(S),L}_trimBuffer(){const{_bufferSize:S,_timestampProvider:L,_buffer:M,_infiniteTimeWindow:N}=this,$=(N?1:2)*S;if(S<1/0&&$<M.length&&M.splice(0,M.length-$),!N){const F=L.now();let I=0;for(let X=1;X<M.length&&M[X]<=F;X+=2)I=X;I&&M.splice(0,I+1)}}}},21413:(Le,z,E)=>{"use strict";E.d(z,{B:()=>M});var m=E(71985),x=E(18359);const W=(0,E(81853).L)($=>function(){$(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var S=E(57908),L=E(49786);let M=(()=>{class $ extends m.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(I){const X=new N(this,this);return X.operator=I,X}_throwIfClosed(){if(this.closed)throw new W}next(I){(0,L.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(I)}})}error(I){(0,L.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=I;const{observers:X}=this;for(;X.length;)X.shift().error(I)}})}complete(){(0,L.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:I}=this;for(;I.length;)I.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var I;return(null===(I=this.observers)||void 0===I?void 0:I.length)>0}_trySubscribe(I){return this._throwIfClosed(),super._trySubscribe(I)}_subscribe(I){return this._throwIfClosed(),this._checkFinalizedStatuses(I),this._innerSubscribe(I)}_innerSubscribe(I){const{hasError:X,isStopped:V,observers:Z}=this;return X||V?x.Kn:(this.currentObservers=null,Z.push(I),new x.yU(()=>{this.currentObservers=null,(0,S.o)(Z,I)}))}_checkFinalizedStatuses(I){const{hasError:X,thrownError:V,isStopped:Z}=this;X?I.error(V):Z&&I.complete()}asObservable(){const I=new m.c;return I.source=this,I}}return $.create=(F,I)=>new N(F,I),$})();class N extends M{constructor(F,I){super(),this.destination=F,this.source=I}next(F){var I,X;null===(X=null===(I=this.destination)||void 0===I?void 0:I.next)||void 0===X||X.call(I,F)}error(F){var I,X;null===(X=null===(I=this.destination)||void 0===I?void 0:I.error)||void 0===X||X.call(I,F)}complete(){var F,I;null===(I=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===I||I.call(F)}_subscribe(F){var I,X;return null!==(X=null===(I=this.source)||void 0===I?void 0:I.subscribe(F))&&void 0!==X?X:x.Kn}}},47707:(Le,z,E)=>{"use strict";E.d(z,{Ms:()=>te,vU:()=>X});var m=E(98071),x=E(18359),R=E(41026),W=E(45334),S=E(85343);const L=$("C",void 0,void 0);function $(ae,pe,le){return{kind:ae,value:pe,error:le}}var F=E(19270),I=E(49786);class X extends x.yU{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,x.Uv)(pe)&&pe.add(this)):this.destination=se}static create(pe,le,ve){return new te(pe,le,ve)}next(pe){this.isStopped?oe(function N(ae){return $("N",ae,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?oe(function M(ae){return $("E",void 0,ae)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?oe(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const V=Function.prototype.bind;function Z(ae,pe){return V.call(ae,pe)}class re{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:le}=this;if(le.next)try{le.next(pe)}catch(ve){Q(ve)}}error(pe){const{partialObserver:le}=this;if(le.error)try{le.error(pe)}catch(ve){Q(ve)}else Q(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(le){Q(le)}}}class te extends X{constructor(pe,le,ve){let we;if(super(),(0,m.T)(pe)||!pe)we={next:pe??void 0,error:le??void 0,complete:ve??void 0};else{let De;this&&R.$.useDeprecatedNextContext?(De=Object.create(pe),De.unsubscribe=()=>this.unsubscribe(),we={next:pe.next&&Z(pe.next,De),error:pe.error&&Z(pe.error,De),complete:pe.complete&&Z(pe.complete,De)}):we=pe}this.destination=new re(we)}}function Q(ae){R.$.useDeprecatedSynchronousErrorHandling?(0,I.l)(ae):(0,W.m)(ae)}function oe(ae,pe){const{onStoppedNotification:le}=R.$;le&&F.f.setTimeout(()=>le(ae,pe))}const se={closed:!0,next:S.l,error:function J(ae){throw ae},complete:S.l}},18359:(Le,z,E)=>{"use strict";E.d(z,{Kn:()=>L,yU:()=>S,Uv:()=>M});var m=E(98071);const R=(0,E(81853).L)($=>function(I){$(this),this.message=I?`${I.length} errors occurred during unsubscription:\n${I.map((X,V)=>`${V+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=I});var W=E(57908);class S{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:I}=this;if(I)if(this._parentage=null,Array.isArray(I))for(const Z of I)Z.remove(this);else I.remove(this);const{initialTeardown:X}=this;if((0,m.T)(X))try{X()}catch(Z){F=Z instanceof R?Z.errors:[Z]}const{_finalizers:V}=this;if(V){this._finalizers=null;for(const Z of V)try{N(Z)}catch(re){F=F??[],re instanceof R?F=[...F,...re.errors]:F.push(re)}}if(F)throw new R(F)}}add(F){var I;if(F&&F!==this)if(this.closed)N(F);else{if(F instanceof S){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(I=this._finalizers)&&void 0!==I?I:[]).push(F)}}_hasParent(F){const{_parentage:I}=this;return I===F||Array.isArray(I)&&I.includes(F)}_addParent(F){const{_parentage:I}=this;this._parentage=Array.isArray(I)?(I.push(F),I):I?[I,F]:F}_removeParent(F){const{_parentage:I}=this;I===F?this._parentage=null:Array.isArray(I)&&(0,W.o)(I,F)}remove(F){const{_finalizers:I}=this;I&&(0,W.o)(I,F),F instanceof S&&F._removeParent(this)}}S.EMPTY=(()=>{const $=new S;return $.closed=!0,$})();const L=S.EMPTY;function M($){return $ instanceof S||$&&"closed"in $&&(0,m.T)($.remove)&&(0,m.T)($.add)&&(0,m.T)($.unsubscribe)}function N($){(0,m.T)($)?$():$.unsubscribe()}},41026:(Le,z,E)=>{"use strict";E.d(z,{$:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},30017:(Le,z,E)=>{"use strict";E.d(z,{G:()=>L});var m=E(71985),x=E(18359),R=E(99898),W=E(54360),S=E(39974);class L extends m.c{constructor(N,$){super(),this.source=N,this.subjectFactory=$,this._subject=null,this._refCount=0,this._connection=null,(0,S.S)(N)&&(this.lift=N.lift)}_subscribe(N){return this.getSubject().subscribe(N)}getSubject(){const N=this._subject;return(!N||N.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:N}=this;this._subject=this._connection=null,N?.unsubscribe()}connect(){let N=this._connection;if(!N){N=this._connection=new x.yU;const $=this.getSubject();N.add(this.source.subscribe((0,W._)($,void 0,()=>{this._teardown(),$.complete()},F=>{this._teardown(),$.error(F)},()=>this._teardown()))),N.closed&&(this._connection=null,N=x.yU.EMPTY)}return N}refCount(){return(0,R.B)()(this)}}},84572:(Le,z,E)=>{"use strict";E.d(z,{z:()=>F});var m=E(71985),x=E(93073),R=E(86648),W=E(33669),S=E(6450),L=E(9326),M=E(58496),N=E(54360),$=E(45225);function F(...V){const Z=(0,L.lI)(V),re=(0,L.ms)(V),{args:te,keys:Q}=(0,x.D)(V);if(0===te.length)return(0,R.H)([],Z);const J=new m.c(function I(V,Z,re=W.D){return te=>{X(Z,()=>{const{length:Q}=V,J=new Array(Q);let oe=Q,se=Q;for(let ae=0;ae<Q;ae++)X(Z,()=>{const pe=(0,R.H)(V[ae],Z);let le=!1;pe.subscribe((0,N._)(te,ve=>{J[ae]=ve,le||(le=!0,se--),se||te.next(re(J.slice()))},()=>{--oe||te.complete()}))},te)},te)}}(te,Z,Q?oe=>(0,M.e)(Q,oe):W.D));return re?J.pipe((0,S.I)(re)):J}function X(V,Z,re){V?(0,$.N)(re,V,Z):Z()}},28793:(Le,z,E)=>{"use strict";E.d(z,{x:()=>S});var m=E(26365),R=E(9326),W=E(86648);function S(...L){return function x(){return(0,m.U)(1)}()((0,W.H)(L,(0,R.lI)(L)))}},59030:(Le,z,E)=>{"use strict";E.d(z,{v:()=>R});var m=E(71985),x=E(58750);function R(W){return new m.c(S=>{(0,x.Tg)(W()).subscribe(S)})}},983:(Le,z,E)=>{"use strict";E.d(z,{w:()=>x});const x=new(E(71985).c)(S=>S.complete())},27468:(Le,z,E)=>{"use strict";E.d(z,{p:()=>N});var m=E(71985),x=E(93073),R=E(58750),W=E(9326),S=E(54360),L=E(6450),M=E(58496);function N(...$){const F=(0,W.ms)($),{args:I,keys:X}=(0,x.D)($),V=new m.c(Z=>{const{length:re}=I;if(!re)return void Z.complete();const te=new Array(re);let Q=re,J=re;for(let oe=0;oe<re;oe++){let se=!1;(0,R.Tg)(I[oe]).subscribe((0,S._)(Z,ae=>{se||(se=!0,J--),te[oe]=ae},()=>Q--,void 0,()=>{(!Q||!se)&&(J||Z.next(X?(0,M.e)(X,te):te),Z.complete())}))}});return F?V.pipe((0,L.I)(F)):V}},86648:(Le,z,E)=>{"use strict";E.d(z,{H:()=>ve});var m=E(58750),x=E(45225),R=E(39974),W=E(54360);function S(we,De=0){return(0,R.N)((k,u)=>{k.subscribe((0,W._)(u,h=>(0,x.N)(u,we,()=>u.next(h),De),()=>(0,x.N)(u,we,()=>u.complete(),De),h=>(0,x.N)(u,we,()=>u.error(h),De)))})}function L(we,De=0){return(0,R.N)((k,u)=>{u.add(we.schedule(()=>k.subscribe(u),De))})}var $=E(71985),I=E(4761),X=E(98071);function Z(we,De){if(!we)throw new Error("Iterable cannot be null");return new $.c(k=>{(0,x.N)(k,De,()=>{const u=we[Symbol.asyncIterator]();(0,x.N)(k,De,()=>{u.next().then(h=>{h.done?k.complete():k.next(h.value)})},0,!0)})})}var re=E(55055),te=E(59858),Q=E(47441),J=E(85397),oe=E(37953),se=E(50591),ae=E(15196);function ve(we,De){return De?function le(we,De){if(null!=we){if((0,re.l)(we))return function M(we,De){return(0,m.Tg)(we).pipe(L(De),S(De))}(we,De);if((0,Q.X)(we))return function F(we,De){return new $.c(k=>{let u=0;return De.schedule(function(){u===we.length?k.complete():(k.next(we[u++]),k.closed||this.schedule())})})}(we,De);if((0,te.y)(we))return function N(we,De){return(0,m.Tg)(we).pipe(L(De),S(De))}(we,De);if((0,oe.T)(we))return Z(we,De);if((0,J.x)(we))return function V(we,De){return new $.c(k=>{let u;return(0,x.N)(k,De,()=>{u=we[I.l](),(0,x.N)(k,De,()=>{let h,y;try{({value:h,done:y}=u.next())}catch(w){return void k.error(w)}y?k.complete():k.next(h)},0,!0)}),()=>(0,X.T)(u?.return)&&u.return()})}(we,De);if((0,ae.U)(we))return function pe(we,De){return Z((0,ae.C)(we),De)}(we,De)}throw(0,se.L)(we)}(we,De):(0,m.Tg)(we)}},33726:(Le,z,E)=>{"use strict";E.d(z,{R:()=>F});var m=E(58750),x=E(71985),R=E(31397),W=E(47441),S=E(98071),L=E(6450);const M=["addListener","removeListener"],N=["addEventListener","removeEventListener"],$=["on","off"];function F(re,te,Q,J){if((0,S.T)(Q)&&(J=Q,Q=void 0),J)return F(re,te,Q).pipe((0,L.I)(J));const[oe,se]=function Z(re){return(0,S.T)(re.addEventListener)&&(0,S.T)(re.removeEventListener)}(re)?N.map(ae=>pe=>re[ae](te,pe,Q)):function X(re){return(0,S.T)(re.addListener)&&(0,S.T)(re.removeListener)}(re)?M.map(I(re,te)):function V(re){return(0,S.T)(re.on)&&(0,S.T)(re.off)}(re)?$.map(I(re,te)):[];if(!oe&&(0,W.X)(re))return(0,R.Z)(ae=>F(ae,te,Q))((0,m.Tg)(re));if(!oe)throw new TypeError("Invalid event target");return new x.c(ae=>{const pe=(...le)=>ae.next(1<le.length?le:le[0]);return oe(pe),()=>se(pe)})}function I(re,te){return Q=>J=>re[Q](te,J)}},58750:(Le,z,E)=>{"use strict";E.d(z,{Tg:()=>V});var m=E(31635),x=E(47441),R=E(59858),W=E(71985),S=E(55055),L=E(37953),M=E(50591),N=E(85397),$=E(15196),F=E(98071),I=E(45334),X=E(3494);function V(ae){if(ae instanceof W.c)return ae;if(null!=ae){if((0,S.l)(ae))return function Z(ae){return new W.c(pe=>{const le=ae[X.s]();if((0,F.T)(le.subscribe))return le.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ae);if((0,x.X)(ae))return function re(ae){return new W.c(pe=>{for(let le=0;le<ae.length&&!pe.closed;le++)pe.next(ae[le]);pe.complete()})}(ae);if((0,R.y)(ae))return function te(ae){return new W.c(pe=>{ae.then(le=>{pe.closed||(pe.next(le),pe.complete())},le=>pe.error(le)).then(null,I.m)})}(ae);if((0,L.T)(ae))return J(ae);if((0,N.x)(ae))return function Q(ae){return new W.c(pe=>{for(const le of ae)if(pe.next(le),pe.closed)return;pe.complete()})}(ae);if((0,$.U)(ae))return function oe(ae){return J((0,$.C)(ae))}(ae)}throw(0,M.L)(ae)}function J(ae){return new W.c(pe=>{(function se(ae,pe){var le,ve,we,De;return(0,m.sH)(this,void 0,void 0,function*(){try{for(le=(0,m.xN)(ae);!(ve=yield le.next()).done;)if(pe.next(ve.value),pe.closed)return}catch(k){we={error:k}}finally{try{ve&&!ve.done&&(De=le.return)&&(yield De.call(le))}finally{if(we)throw we.error}}pe.complete()})})(ae,pe).catch(le=>pe.error(le))})}},40605:(Le,z,E)=>{"use strict";E.d(z,{Y:()=>R});var m=E(43236),x=E(41584);function R(W=0,S=m.E){return W<0&&(W=0),(0,x.O)(W,W,S)}},57786:(Le,z,E)=>{"use strict";E.d(z,{h:()=>L});var m=E(26365),x=E(58750),R=E(983),W=E(9326),S=E(86648);function L(...M){const N=(0,W.lI)(M),$=(0,W.R0)(M,1/0),F=M;return F.length?1===F.length?(0,x.Tg)(F[0]):(0,m.U)($)((0,S.H)(F,N)):R.w}},7673:(Le,z,E)=>{"use strict";E.d(z,{of:()=>R});var m=E(9326),x=E(86648);function R(...W){const S=(0,m.lI)(W);return(0,x.H)(W,S)}},18810:(Le,z,E)=>{"use strict";E.d(z,{$:()=>R});var m=E(71985),x=E(98071);function R(W,S){const L=(0,x.T)(W)?W:()=>W,M=N=>N.error(L());return new m.c(S?N=>S.schedule(M,0,N):M)}},41584:(Le,z,E)=>{"use strict";E.d(z,{O:()=>S});var m=E(71985),x=E(43236),R=E(79470);function S(L=0,M,N=x.b){let $=-1;return null!=M&&((0,R.m)(M)?N=M:$=M),new m.c(F=>{let I=function W(L){return L instanceof Date&&!isNaN(L)}(L)?+L-N.now():L;I<0&&(I=0);let X=0;return N.schedule(function(){F.closed||(F.next(X++),0<=$?this.schedule(void 0,$):F.complete())},I)})}},54360:(Le,z,E)=>{"use strict";E.d(z,{_:()=>x});var m=E(47707);function x(W,S,L,M,N){return new R(W,S,L,M,N)}class R extends m.vU{constructor(S,L,M,N,$,F){super(S),this.onFinalize=$,this.shouldUnsubscribe=F,this._next=L?function(I){try{L(I)}catch(X){S.error(X)}}:super._next,this._error=N?function(I){try{N(I)}catch(X){S.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=M?function(){try{M()}catch(I){S.error(I)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var S;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:L}=this;super.unsubscribe(),!L&&(null===(S=this.onFinalize)||void 0===S||S.call(this))}}}},99437:(Le,z,E)=>{"use strict";E.d(z,{W:()=>W});var m=E(58750),x=E(54360),R=E(39974);function W(S){return(0,R.N)((L,M)=>{let F,N=null,$=!1;N=L.subscribe((0,x._)(M,void 0,void 0,I=>{F=(0,m.Tg)(S(I,W(S)(L))),N?(N.unsubscribe(),N=null,F.subscribe(M)):$=!0})),$&&(N.unsubscribe(),N=null,F.subscribe(M))})}},70274:(Le,z,E)=>{"use strict";E.d(z,{H:()=>R});var m=E(31397),x=E(98071);function R(W,S){return(0,x.T)(S)?(0,m.Z)(W,S,1):(0,m.Z)(W,1)}},70152:(Le,z,E)=>{"use strict";E.d(z,{B:()=>W});var m=E(43236),x=E(39974),R=E(54360);function W(S,L=m.E){return(0,x.N)((M,N)=>{let $=null,F=null,I=null;const X=()=>{if($){$.unsubscribe(),$=null;const Z=F;F=null,N.next(Z)}};function V(){const Z=I+S,re=L.now();if(re<Z)return $=this.schedule(void 0,Z-re),void N.add($);X()}M.subscribe((0,R._)(N,Z=>{F=Z,I=L.now(),$||($=L.schedule(V,S),N.add($))},()=>{X(),N.complete()},void 0,()=>{F=$=null}))})}},91986:(Le,z,E)=>{"use strict";E.d(z,{c:()=>V});var m=E(43236),x=E(28793),R=E(96697),W=E(39974),S=E(54360),L=E(85343),N=E(73703),$=E(31397),F=E(58750);function I(Z,re){return re?te=>(0,x.x)(re.pipe((0,R.s)(1),function M(){return(0,W.N)((Z,re)=>{Z.subscribe((0,S._)(re,L.l))})}()),te.pipe(I(Z))):(0,$.Z)((te,Q)=>(0,F.Tg)(Z(te,Q)).pipe((0,R.s)(1),(0,N.u)(te)))}var X=E(41584);function V(Z,re=m.E){const te=(0,X.O)(Z,re);return I(()=>te)}},23294:(Le,z,E)=>{"use strict";E.d(z,{F:()=>W});var m=E(33669),x=E(39974),R=E(54360);function W(L,M=m.D){return L=L??S,(0,x.N)((N,$)=>{let F,I=!0;N.subscribe((0,R._)($,X=>{const V=M(X);(I||!L(F,V))&&(I=!1,F=V,$.next(X))}))})}function S(L,M){return L===M}},5964:(Le,z,E)=>{"use strict";E.d(z,{p:()=>R});var m=E(39974),x=E(54360);function R(W,S){return(0,m.N)((L,M)=>{let N=0;L.subscribe((0,x._)(M,$=>W.call(S,$,N++)&&M.next($)))})}},70980:(Le,z,E)=>{"use strict";E.d(z,{j:()=>x});var m=E(39974);function x(R){return(0,m.N)((W,S)=>{try{W.subscribe(S)}finally{S.add(R)}})}},96354:(Le,z,E)=>{"use strict";E.d(z,{T:()=>R});var m=E(39974),x=E(54360);function R(W,S){return(0,m.N)((L,M)=>{let N=0;L.subscribe((0,x._)(M,$=>{M.next(W.call(S,$,N++))}))})}},73703:(Le,z,E)=>{"use strict";E.d(z,{u:()=>x});var m=E(96354);function x(R){return(0,m.T)(()=>R)}},26365:(Le,z,E)=>{"use strict";E.d(z,{U:()=>R});var m=E(31397),x=E(33669);function R(W=1/0){return(0,m.Z)(x.D,W)}},31397:(Le,z,E)=>{"use strict";E.d(z,{Z:()=>N});var m=E(96354),x=E(58750),R=E(39974),W=E(45225),S=E(54360),M=E(98071);function N($,F,I=1/0){return(0,M.T)(F)?N((X,V)=>(0,m.T)((Z,re)=>F(X,Z,V,re))((0,x.Tg)($(X,V))),I):("number"==typeof F&&(I=F),(0,R.N)((X,V)=>function L($,F,I,X,V,Z,re,te){const Q=[];let J=0,oe=0,se=!1;const ae=()=>{se&&!Q.length&&!J&&F.complete()},pe=ve=>J<X?le(ve):Q.push(ve),le=ve=>{Z&&F.next(ve),J++;let we=!1;(0,x.Tg)(I(ve,oe++)).subscribe((0,S._)(F,De=>{V?.(De),Z?pe(De):F.next(De)},()=>{we=!0},void 0,()=>{if(we)try{for(J--;Q.length&&J<X;){const De=Q.shift();re?(0,W.N)(F,re,()=>le(De)):le(De)}ae()}catch(De){F.error(De)}}))};return $.subscribe((0,S._)(F,pe,()=>{se=!0,ae()})),()=>{te?.()}}(X,V,$,I)))}},99898:(Le,z,E)=>{"use strict";E.d(z,{B:()=>R});var m=E(39974),x=E(54360);function R(){return(0,m.N)((W,S)=>{let L=null;W._refCount++;const M=(0,x._)(S,void 0,void 0,void 0,()=>{if(!W||W._refCount<=0||0<--W._refCount)return void(L=null);const N=W._connection,$=L;L=null,N&&(!$||N===$)&&N.unsubscribe(),S.unsubscribe()});W.subscribe(M),M.closed||(L=W.connect())})}},97647:(Le,z,E)=>{"use strict";E.d(z,{u:()=>S});var m=E(58750),x=E(21413),R=E(47707),W=E(39974);function S(M={}){const{connector:N=(()=>new x.B),resetOnError:$=!0,resetOnComplete:F=!0,resetOnRefCountZero:I=!0}=M;return X=>{let V,Z,re,te=0,Q=!1,J=!1;const oe=()=>{Z?.unsubscribe(),Z=void 0},se=()=>{oe(),V=re=void 0,Q=J=!1},ae=()=>{const pe=V;se(),pe?.unsubscribe()};return(0,W.N)((pe,le)=>{te++,!J&&!Q&&oe();const ve=re=re??N();le.add(()=>{te--,0===te&&!J&&!Q&&(Z=L(ae,I))}),ve.subscribe(le),!V&&te>0&&(V=new R.Ms({next:we=>ve.next(we),error:we=>{J=!0,oe(),Z=L(se,$,we),ve.error(we)},complete:()=>{Q=!0,oe(),Z=L(se,F),ve.complete()}}),(0,m.Tg)(pe).subscribe(V))})(X)}}function L(M,N,...$){if(!0===N)return void M();if(!1===N)return;const F=new R.Ms({next:()=>{F.unsubscribe(),M()}});return(0,m.Tg)(N(...$)).subscribe(F)}},44668:(Le,z,E)=>{"use strict";E.d(z,{t:()=>R});var m=E(92771),x=E(97647);function R(W,S,L){let M,N=!1;return W&&"object"==typeof W?({bufferSize:M=1/0,windowTime:S=1/0,refCount:N=!1,scheduler:L}=W):M=W??1/0,(0,x.u)({connector:()=>new m.m(M,S,L),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:N})}},65245:(Le,z,E)=>{"use strict";E.d(z,{i:()=>x});var m=E(5964);function x(R){return(0,m.p)((W,S)=>R<=S)}},99172:(Le,z,E)=>{"use strict";E.d(z,{Z:()=>W});var m=E(28793),x=E(9326),R=E(39974);function W(...S){const L=(0,x.lI)(S);return(0,R.N)((M,N)=>{(L?(0,m.x)(S,M,L):(0,m.x)(S,M)).subscribe(N)})}},25558:(Le,z,E)=>{"use strict";E.d(z,{n:()=>W});var m=E(58750),x=E(39974),R=E(54360);function W(S,L){return(0,x.N)((M,N)=>{let $=null,F=0,I=!1;const X=()=>I&&!$&&N.complete();M.subscribe((0,R._)(N,V=>{$?.unsubscribe();let Z=0;const re=F++;(0,m.Tg)(S(V,re)).subscribe($=(0,R._)(N,te=>N.next(L?L(V,te,re,Z++):te),()=>{$=null,X()}))},()=>{I=!0,X()}))})}},96697:(Le,z,E)=>{"use strict";E.d(z,{s:()=>W});var m=E(983),x=E(39974),R=E(54360);function W(S){return S<=0?()=>m.w:(0,x.N)((L,M)=>{let N=0;L.subscribe((0,R._)(M,$=>{++N<=S&&(M.next($),S<=N&&M.complete())}))})}},56977:(Le,z,E)=>{"use strict";E.d(z,{Q:()=>S});var m=E(39974),x=E(54360),R=E(58750),W=E(85343);function S(L){return(0,m.N)((M,N)=>{(0,R.Tg)(L).subscribe((0,x._)(N,()=>N.complete(),W.l)),!N.closed&&M.subscribe(N)})}},88141:(Le,z,E)=>{"use strict";E.d(z,{M:()=>S});var m=E(98071),x=E(39974),R=E(54360),W=E(33669);function S(L,M,N){const $=(0,m.T)(L)||M||N?{next:L,error:M,complete:N}:L;return $?(0,x.N)((F,I)=>{var X;null===(X=$.subscribe)||void 0===X||X.call($);let V=!0;F.subscribe((0,R._)(I,Z=>{var re;null===(re=$.next)||void 0===re||re.call($,Z),I.next(Z)},()=>{var Z;V=!1,null===(Z=$.complete)||void 0===Z||Z.call($),I.complete()},Z=>{var re;V=!1,null===(re=$.error)||void 0===re||re.call($,Z),I.error(Z)},()=>{var Z,re;V&&(null===(Z=$.unsubscribe)||void 0===Z||Z.call($)),null===(re=$.finalize)||void 0===re||re.call($)}))}):W.D}},96780:(Le,z,E)=>{"use strict";E.d(z,{R:()=>S});var m=E(18359);class x extends m.yU{constructor(M,N){super()}schedule(M,N=0){return this}}const R={setInterval(L,M,...N){const{delegate:$}=R;return $?.setInterval?$.setInterval(L,M,...N):setInterval(L,M,...N)},clearInterval(L){const{delegate:M}=R;return(M?.clearInterval||clearInterval)(L)},delegate:void 0};var W=E(57908);class S extends x{constructor(M,N){super(M,N),this.scheduler=M,this.work=N,this.pending=!1}schedule(M,N=0){var $;if(this.closed)return this;this.state=M;const F=this.id,I=this.scheduler;return null!=F&&(this.id=this.recycleAsyncId(I,F,N)),this.pending=!0,this.delay=N,this.id=null!==($=this.id)&&void 0!==$?$:this.requestAsyncId(I,this.id,N),this}requestAsyncId(M,N,$=0){return R.setInterval(M.flush.bind(M,this),$)}recycleAsyncId(M,N,$=0){if(null!=$&&this.delay===$&&!1===this.pending)return N;null!=N&&R.clearInterval(N)}execute(M,N){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $=this._execute(M,N);if($)return $;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(M,N){let F,$=!1;try{this.work(M)}catch(I){$=!0,F=I||new Error("Scheduled action threw falsy error")}if($)return this.unsubscribe(),F}unsubscribe(){if(!this.closed){const{id:M,scheduler:N}=this,{actions:$}=N;this.work=this.state=this.scheduler=null,this.pending=!1,(0,W.o)($,this),null!=M&&(this.id=this.recycleAsyncId(N,M,null)),this.delay=null,super.unsubscribe()}}}},39687:(Le,z,E)=>{"use strict";E.d(z,{q:()=>R});var m=E(86129);class x{constructor(S,L=x.now){this.schedulerActionCtor=S,this.now=L}schedule(S,L=0,M){return new this.schedulerActionCtor(this,S).schedule(M,L)}}x.now=m.U.now;class R extends x{constructor(S,L=x.now){super(S,L),this.actions=[],this._active=!1}flush(S){const{actions:L}=this;if(this._active)return void L.push(S);let M;this._active=!0;do{if(M=S.execute(S.state,S.delay))break}while(S=L.shift());if(this._active=!1,M){for(;S=L.shift();)S.unsubscribe();throw M}}}},30536:(Le,z,E)=>{"use strict";E.d(z,{X:()=>M});var m=E(96780),x=E(18359);const R={schedule($){let F=requestAnimationFrame,I=cancelAnimationFrame;const{delegate:X}=R;X&&(F=X.requestAnimationFrame,I=X.cancelAnimationFrame);const V=F(Z=>{I=void 0,$(Z)});return new x.yU(()=>I?.(V))},requestAnimationFrame(...$){const{delegate:F}=R;return(F?.requestAnimationFrame||requestAnimationFrame)(...$)},cancelAnimationFrame(...$){const{delegate:F}=R;return(F?.cancelAnimationFrame||cancelAnimationFrame)(...$)},delegate:void 0};var S=E(39687);const M=new class L extends S.q{flush(F){this._active=!0;const I=this._scheduled;this._scheduled=void 0;const{actions:X}=this;let V;F=F||X.shift();do{if(V=F.execute(F.state,F.delay))break}while((F=X[0])&&F.id===I&&X.shift());if(this._active=!1,V){for(;(F=X[0])&&F.id===I&&X.shift();)F.unsubscribe();throw V}}}(class W extends m.R{constructor(F,I){super(F,I),this.scheduler=F,this.work=I}requestAsyncId(F,I,X=0){return null!==X&&X>0?super.requestAsyncId(F,I,X):(F.actions.push(this),F._scheduled||(F._scheduled=R.requestAnimationFrame(()=>F.flush(void 0))))}recycleAsyncId(F,I,X=0){var V;if(null!=X?X>0:this.delay>0)return super.recycleAsyncId(F,I,X);const{actions:Z}=F;null!=I&&(null===(V=Z[Z.length-1])||void 0===V?void 0:V.id)!==I&&(R.cancelAnimationFrame(I),F._scheduled=void 0)}})},25007:(Le,z,E)=>{"use strict";E.d(z,{$:()=>Z});var m=E(96780);let R,x=1;const W={};function S(te){return te in W&&(delete W[te],!0)}const L={setImmediate(te){const Q=x++;return W[Q]=!0,R||(R=Promise.resolve()),R.then(()=>S(Q)&&te()),Q},clearImmediate(te){S(te)}},{setImmediate:N,clearImmediate:$}=L,F={setImmediate(...te){const{delegate:Q}=F;return(Q?.setImmediate||N)(...te)},clearImmediate(te){const{delegate:Q}=F;return(Q?.clearImmediate||$)(te)},delegate:void 0};var X=E(39687);const Z=new class V extends X.q{flush(Q){this._active=!0;const J=this._scheduled;this._scheduled=void 0;const{actions:oe}=this;let se;Q=Q||oe.shift();do{if(se=Q.execute(Q.state,Q.delay))break}while((Q=oe[0])&&Q.id===J&&oe.shift());if(this._active=!1,se){for(;(Q=oe[0])&&Q.id===J&&oe.shift();)Q.unsubscribe();throw se}}}(class I extends m.R{constructor(Q,J){super(Q,J),this.scheduler=Q,this.work=J}requestAsyncId(Q,J,oe=0){return null!==oe&&oe>0?super.requestAsyncId(Q,J,oe):(Q.actions.push(this),Q._scheduled||(Q._scheduled=F.setImmediate(Q.flush.bind(Q,void 0))))}recycleAsyncId(Q,J,oe=0){var se;if(null!=oe?oe>0:this.delay>0)return super.recycleAsyncId(Q,J,oe);const{actions:ae}=Q;null!=J&&(null===(se=ae[ae.length-1])||void 0===se?void 0:se.id)!==J&&(F.clearImmediate(J),Q._scheduled===J&&(Q._scheduled=void 0))}})},43236:(Le,z,E)=>{"use strict";E.d(z,{E:()=>R,b:()=>W});var m=E(96780);const R=new(E(39687).q)(m.R),W=R},86129:(Le,z,E)=>{"use strict";E.d(z,{U:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},19270:(Le,z,E)=>{"use strict";E.d(z,{f:()=>m});const m={setTimeout(x,R,...W){const{delegate:S}=m;return S?.setTimeout?S.setTimeout(x,R,...W):setTimeout(x,R,...W)},clearTimeout(x){const{delegate:R}=m;return(R?.clearTimeout||clearTimeout)(x)},delegate:void 0}},4761:(Le,z,E)=>{"use strict";E.d(z,{l:()=>x});const x=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Le,z,E)=>{"use strict";E.d(z,{s:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Le,z,E)=>{"use strict";E.d(z,{R0:()=>L,lI:()=>S,ms:()=>W});var m=E(98071),x=E(79470);function R(M){return M[M.length-1]}function W(M){return(0,m.T)(R(M))?M.pop():void 0}function S(M){return(0,x.m)(R(M))?M.pop():void 0}function L(M,N){return"number"==typeof R(M)?M.pop():N}},93073:(Le,z,E)=>{"use strict";E.d(z,{D:()=>S});const{isArray:m}=Array,{getPrototypeOf:x,prototype:R,keys:W}=Object;function S(M){if(1===M.length){const N=M[0];if(m(N))return{args:N,keys:null};if(function L(M){return M&&"object"==typeof M&&x(M)===R}(N)){const $=W(N);return{args:$.map(F=>N[F]),keys:$}}}return{args:M,keys:null}}},57908:(Le,z,E)=>{"use strict";function m(x,R){if(x){const W=x.indexOf(R);0<=W&&x.splice(W,1)}}E.d(z,{o:()=>m})},81853:(Le,z,E)=>{"use strict";function m(x){const W=x(S=>{Error.call(S),S.stack=(new Error).stack});return W.prototype=Object.create(Error.prototype),W.prototype.constructor=W,W}E.d(z,{L:()=>m})},58496:(Le,z,E)=>{"use strict";function m(x,R){return x.reduce((W,S,L)=>(W[S]=R[L],W),{})}E.d(z,{e:()=>m})},49786:(Le,z,E)=>{"use strict";E.d(z,{Y:()=>R,l:()=>W});var m=E(41026);let x=null;function R(S){if(m.$.useDeprecatedSynchronousErrorHandling){const L=!x;if(L&&(x={errorThrown:!1,error:null}),S(),L){const{errorThrown:M,error:N}=x;if(x=null,M)throw N}}else S()}function W(S){m.$.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=S)}},45225:(Le,z,E)=>{"use strict";function m(x,R,W,S=0,L=!1){const M=R.schedule(function(){W(),L?x.add(this.schedule(null,S)):this.unsubscribe()},S);if(x.add(M),!L)return M}E.d(z,{N:()=>m})},33669:(Le,z,E)=>{"use strict";function m(x){return x}E.d(z,{D:()=>m})},47441:(Le,z,E)=>{"use strict";E.d(z,{X:()=>m});const m=x=>x&&"number"==typeof x.length&&"function"!=typeof x},37953:(Le,z,E)=>{"use strict";E.d(z,{T:()=>x});var m=E(98071);function x(R){return Symbol.asyncIterator&&(0,m.T)(R?.[Symbol.asyncIterator])}},98071:(Le,z,E)=>{"use strict";function m(x){return"function"==typeof x}E.d(z,{T:()=>m})},55055:(Le,z,E)=>{"use strict";E.d(z,{l:()=>R});var m=E(3494),x=E(98071);function R(W){return(0,x.T)(W[m.s])}},85397:(Le,z,E)=>{"use strict";E.d(z,{x:()=>R});var m=E(4761),x=E(98071);function R(W){return(0,x.T)(W?.[m.l])}},74402:(Le,z,E)=>{"use strict";E.d(z,{A:()=>R});var m=E(71985),x=E(98071);function R(W){return!!W&&(W instanceof m.c||(0,x.T)(W.lift)&&(0,x.T)(W.subscribe))}},59858:(Le,z,E)=>{"use strict";E.d(z,{y:()=>x});var m=E(98071);function x(R){return(0,m.T)(R?.then)}},15196:(Le,z,E)=>{"use strict";E.d(z,{C:()=>R,U:()=>W});var m=E(31635),x=E(98071);function R(S){return(0,m.AQ)(this,arguments,function*(){const M=S.getReader();try{for(;;){const{value:N,done:$}=yield(0,m.N3)(M.read());if($)return yield(0,m.N3)(void 0);yield yield(0,m.N3)(N)}}finally{M.releaseLock()}})}function W(S){return(0,x.T)(S?.getReader)}},79470:(Le,z,E)=>{"use strict";E.d(z,{m:()=>x});var m=E(98071);function x(R){return R&&(0,m.T)(R.schedule)}},39974:(Le,z,E)=>{"use strict";E.d(z,{N:()=>R,S:()=>x});var m=E(98071);function x(W){return(0,m.T)(W?.lift)}function R(W){return S=>{if(x(S))return S.lift(function(L){try{return W(L,this)}catch(M){this.error(M)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Le,z,E)=>{"use strict";E.d(z,{I:()=>W});var m=E(96354);const{isArray:x}=Array;function W(S){return(0,m.T)(L=>function R(S,L){return x(L)?S(...L):S(L)}(S,L))}},85343:(Le,z,E)=>{"use strict";function m(){}E.d(z,{l:()=>m})},71203:(Le,z,E)=>{"use strict";E.d(z,{F:()=>x,m:()=>R});var m=E(33669);function x(...W){return R(W)}function R(W){return 0===W.length?m.D:1===W.length?W[0]:function(L){return W.reduce((M,N)=>N(M),L)}}},45334:(Le,z,E)=>{"use strict";E.d(z,{m:()=>R});var m=E(41026),x=E(19270);function R(W){x.f.setTimeout(()=>{const{onUnhandledError:S}=m.$;if(!S)throw W;S(W)})}},50591:(Le,z,E)=>{"use strict";function m(x){return new TypeError(`You provided ${null!==x&&"object"==typeof x?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}E.d(z,{L:()=>m})},27054:(Le,z,E)=>{var m=E(83838),x=m.Buffer;function R(S,L){for(var M in S)L[M]=S[M]}function W(S,L,M){return x(S,L,M)}x.from&&x.alloc&&x.allocUnsafe&&x.allocUnsafeSlow?Le.exports=m:(R(m,z),z.Buffer=W),W.prototype=Object.create(x.prototype),R(x,W),W.from=function(S,L,M){if("number"==typeof S)throw new TypeError("Argument must not be a number");return x(S,L,M)},W.alloc=function(S,L,M){if("number"!=typeof S)throw new TypeError("Argument must be a number");var N=x(S);return void 0!==L?"string"==typeof M?N.fill(L,M):N.fill(L):N.fill(0),N},W.allocUnsafe=function(S){if("number"!=typeof S)throw new TypeError("Argument must be a number");return x(S)},W.allocUnsafeSlow=function(S){if("number"!=typeof S)throw new TypeError("Argument must be a number");return m.SlowBuffer(S)}},70463:(Le,z,E)=>{var m=E(27054).Buffer;function x(R,W){this._block=m.alloc(R),this._finalSize=W,this._blockSize=R,this._len=0}x.prototype.update=function(R,W){"string"==typeof R&&(R=m.from(R,W=W||"utf8"));for(var S=this._block,L=this._blockSize,M=R.length,N=this._len,$=0;$<M;){for(var F=N%L,I=Math.min(M-$,L-F),X=0;X<I;X++)S[F+X]=R[$+X];$+=I,(N+=I)%L==0&&this._update(S)}return this._len+=M,this},x.prototype.digest=function(R){var W=this._len%this._blockSize;this._block[W]=128,this._block.fill(0,W+1),W>=this._finalSize&&(this._update(this._block),this._block.fill(0));var S=8*this._len;if(S<=4294967295)this._block.writeUInt32BE(S,this._blockSize-4);else{var L=(4294967295&S)>>>0;this._block.writeUInt32BE((S-L)/4294967296,this._blockSize-8),this._block.writeUInt32BE(L,this._blockSize-4)}this._update(this._block);var N=this._hash();return R?N.toString(R):N},x.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Le.exports=x},25443:(Le,z,E)=>{var m=Le.exports=function(R){R=R.toLowerCase();var W=m[R];if(!W)throw new Error(R+" is not supported (we accept pull requests)");return new W};m.sha=E(48585),m.sha1=E(21270),m.sha224=E(42709),m.sha256=E(32148),m.sha384=E(51856),m.sha512=E(3121)},48585:(Le,z,E)=>{var m=E(71993),x=E(70463),R=E(27054).Buffer,W=[1518500249,1859775393,-1894007588,-899497514],S=new Array(80);function L(){this.init(),this._w=S,x.call(this,64,56)}function M(F){return F<<5|F>>>27}function N(F){return F<<30|F>>>2}function $(F,I,X,V){return 0===F?I&X|~I&V:2===F?I&X|I&V|X&V:I^X^V}m(L,x),L.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},L.prototype._update=function(F){for(var I=this._w,X=0|this._a,V=0|this._b,Z=0|this._c,re=0|this._d,te=0|this._e,Q=0;Q<16;++Q)I[Q]=F.readInt32BE(4*Q);for(;Q<80;++Q)I[Q]=I[Q-3]^I[Q-8]^I[Q-14]^I[Q-16];for(var J=0;J<80;++J){var oe=~~(J/20),se=M(X)+$(oe,V,Z,re)+te+I[J]+W[oe]|0;te=re,re=Z,Z=N(V),V=X,X=se}this._a=X+this._a|0,this._b=V+this._b|0,this._c=Z+this._c|0,this._d=re+this._d|0,this._e=te+this._e|0},L.prototype._hash=function(){var F=R.allocUnsafe(20);return F.writeInt32BE(0|this._a,0),F.writeInt32BE(0|this._b,4),F.writeInt32BE(0|this._c,8),F.writeInt32BE(0|this._d,12),F.writeInt32BE(0|this._e,16),F},Le.exports=L},21270:(Le,z,E)=>{var m=E(71993),x=E(70463),R=E(27054).Buffer,W=[1518500249,1859775393,-1894007588,-899497514],S=new Array(80);function L(){this.init(),this._w=S,x.call(this,64,56)}function M(I){return I<<1|I>>>31}function N(I){return I<<5|I>>>27}function $(I){return I<<30|I>>>2}function F(I,X,V,Z){return 0===I?X&V|~X&Z:2===I?X&V|X&Z|V&Z:X^V^Z}m(L,x),L.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},L.prototype._update=function(I){for(var X=this._w,V=0|this._a,Z=0|this._b,re=0|this._c,te=0|this._d,Q=0|this._e,J=0;J<16;++J)X[J]=I.readInt32BE(4*J);for(;J<80;++J)X[J]=M(X[J-3]^X[J-8]^X[J-14]^X[J-16]);for(var oe=0;oe<80;++oe){var se=~~(oe/20),ae=N(V)+F(se,Z,re,te)+Q+X[oe]+W[se]|0;Q=te,te=re,re=$(Z),Z=V,V=ae}this._a=V+this._a|0,this._b=Z+this._b|0,this._c=re+this._c|0,this._d=te+this._d|0,this._e=Q+this._e|0},L.prototype._hash=function(){var I=R.allocUnsafe(20);return I.writeInt32BE(0|this._a,0),I.writeInt32BE(0|this._b,4),I.writeInt32BE(0|this._c,8),I.writeInt32BE(0|this._d,12),I.writeInt32BE(0|this._e,16),I},Le.exports=L},42709:(Le,z,E)=>{var m=E(71993),x=E(32148),R=E(70463),W=E(27054).Buffer,S=new Array(64);function L(){this.init(),this._w=S,R.call(this,64,56)}m(L,x),L.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},L.prototype._hash=function(){var M=W.allocUnsafe(28);return M.writeInt32BE(this._a,0),M.writeInt32BE(this._b,4),M.writeInt32BE(this._c,8),M.writeInt32BE(this._d,12),M.writeInt32BE(this._e,16),M.writeInt32BE(this._f,20),M.writeInt32BE(this._g,24),M},Le.exports=L},32148:(Le,z,E)=>{var m=E(71993),x=E(70463),R=E(27054).Buffer,W=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],S=new Array(64);function L(){this.init(),this._w=S,x.call(this,64,56)}function M(V,Z,re){return re^V&(Z^re)}function N(V,Z,re){return V&Z|re&(V|Z)}function $(V){return(V>>>2|V<<30)^(V>>>13|V<<19)^(V>>>22|V<<10)}function F(V){return(V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7)}function I(V){return(V>>>7|V<<25)^(V>>>18|V<<14)^V>>>3}function X(V){return(V>>>17|V<<15)^(V>>>19|V<<13)^V>>>10}m(L,x),L.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},L.prototype._update=function(V){for(var Z=this._w,re=0|this._a,te=0|this._b,Q=0|this._c,J=0|this._d,oe=0|this._e,se=0|this._f,ae=0|this._g,pe=0|this._h,le=0;le<16;++le)Z[le]=V.readInt32BE(4*le);for(;le<64;++le)Z[le]=X(Z[le-2])+Z[le-7]+I(Z[le-15])+Z[le-16]|0;for(var ve=0;ve<64;++ve){var we=pe+F(oe)+M(oe,se,ae)+W[ve]+Z[ve]|0,De=$(re)+N(re,te,Q)|0;pe=ae,ae=se,se=oe,oe=J+we|0,J=Q,Q=te,te=re,re=we+De|0}this._a=re+this._a|0,this._b=te+this._b|0,this._c=Q+this._c|0,this._d=J+this._d|0,this._e=oe+this._e|0,this._f=se+this._f|0,this._g=ae+this._g|0,this._h=pe+this._h|0},L.prototype._hash=function(){var V=R.allocUnsafe(32);return V.writeInt32BE(this._a,0),V.writeInt32BE(this._b,4),V.writeInt32BE(this._c,8),V.writeInt32BE(this._d,12),V.writeInt32BE(this._e,16),V.writeInt32BE(this._f,20),V.writeInt32BE(this._g,24),V.writeInt32BE(this._h,28),V},Le.exports=L},51856:(Le,z,E)=>{var m=E(71993),x=E(3121),R=E(70463),W=E(27054).Buffer,S=new Array(160);function L(){this.init(),this._w=S,R.call(this,128,112)}m(L,x),L.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},L.prototype._hash=function(){var M=W.allocUnsafe(48);function N($,F,I){M.writeInt32BE($,I),M.writeInt32BE(F,I+4)}return N(this._ah,this._al,0),N(this._bh,this._bl,8),N(this._ch,this._cl,16),N(this._dh,this._dl,24),N(this._eh,this._el,32),N(this._fh,this._fl,40),M},Le.exports=L},3121:(Le,z,E)=>{var m=E(71993),x=E(70463),R=E(27054).Buffer,W=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],S=new Array(160);function L(){this.init(),this._w=S,x.call(this,128,112)}function M(te,Q,J){return J^te&(Q^J)}function N(te,Q,J){return te&Q|J&(te|Q)}function $(te,Q){return(te>>>28|Q<<4)^(Q>>>2|te<<30)^(Q>>>7|te<<25)}function F(te,Q){return(te>>>14|Q<<18)^(te>>>18|Q<<14)^(Q>>>9|te<<23)}function I(te,Q){return(te>>>1|Q<<31)^(te>>>8|Q<<24)^te>>>7}function X(te,Q){return(te>>>1|Q<<31)^(te>>>8|Q<<24)^(te>>>7|Q<<25)}function V(te,Q){return(te>>>19|Q<<13)^(Q>>>29|te<<3)^te>>>6}function Z(te,Q){return(te>>>19|Q<<13)^(Q>>>29|te<<3)^(te>>>6|Q<<26)}function re(te,Q){return te>>>0<Q>>>0?1:0}m(L,x),L.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},L.prototype._update=function(te){for(var Q=this._w,J=0|this._ah,oe=0|this._bh,se=0|this._ch,ae=0|this._dh,pe=0|this._eh,le=0|this._fh,ve=0|this._gh,we=0|this._hh,De=0|this._al,k=0|this._bl,u=0|this._cl,h=0|this._dl,y=0|this._el,w=0|this._fl,T=0|this._gl,D=0|this._hl,j=0;j<32;j+=2)Q[j]=te.readInt32BE(4*j),Q[j+1]=te.readInt32BE(4*j+4);for(;j<160;j+=2){var A=Q[j-30],l=Q[j-30+1],g=I(A,l),G=X(l,A),H=V(A=Q[j-4],l=Q[j-4+1]),ne=Z(l,A),ke=Q[j-32],Fe=Q[j-32+1],Ee=G+Q[j-14+1]|0,ge=g+Q[j-14]+re(Ee,G)|0;ge=(ge=ge+H+re(Ee=Ee+ne|0,ne)|0)+ke+re(Ee=Ee+Fe|0,Fe)|0,Q[j]=ge,Q[j+1]=Ee}for(var Oe=0;Oe<160;Oe+=2){ge=Q[Oe],Ee=Q[Oe+1];var ye=N(J,oe,se),Se=N(De,k,u),he=$(J,De),fe=$(De,J),ee=F(pe,y),ie=F(y,pe),ue=W[Oe],be=W[Oe+1],Ie=M(pe,le,ve),Ne=M(y,w,T),Be=D+ie|0,yt=we+ee+re(Be,D)|0;yt=(yt=(yt=yt+Ie+re(Be=Be+Ne|0,Ne)|0)+ue+re(Be=Be+be|0,be)|0)+ge+re(Be=Be+Ee|0,Ee)|0;var Ke=fe+Se|0,Re=he+ye+re(Ke,fe)|0;we=ve,D=T,ve=le,T=w,le=pe,w=y,pe=ae+yt+re(y=h+Be|0,h)|0,ae=se,h=u,se=oe,u=k,oe=J,k=De,J=yt+Re+re(De=Be+Ke|0,Be)|0}this._al=this._al+De|0,this._bl=this._bl+k|0,this._cl=this._cl+u|0,this._dl=this._dl+h|0,this._el=this._el+y|0,this._fl=this._fl+w|0,this._gl=this._gl+T|0,this._hl=this._hl+D|0,this._ah=this._ah+J+re(this._al,De)|0,this._bh=this._bh+oe+re(this._bl,k)|0,this._ch=this._ch+se+re(this._cl,u)|0,this._dh=this._dh+ae+re(this._dl,h)|0,this._eh=this._eh+pe+re(this._el,y)|0,this._fh=this._fh+le+re(this._fl,w)|0,this._gh=this._gh+ve+re(this._gl,T)|0,this._hh=this._hh+we+re(this._hl,D)|0},L.prototype._hash=function(){var te=R.allocUnsafe(64);function Q(J,oe,se){te.writeInt32BE(J,se),te.writeInt32BE(oe,se+4)}return Q(this._ah,this._al,0),Q(this._bh,this._bl,8),Q(this._ch,this._cl,16),Q(this._dh,this._dl,24),Q(this._eh,this._el,32),Q(this._fh,this._fl,40),Q(this._gh,this._gl,48),Q(this._hh,this._hl,56),te},Le.exports=L},18876:Le=>{"use strict";function E(W,S){return W+m(S)}function m(W){let S=W;return S-=S>>1&1431655765,S=(858993459&S)+(S>>2&858993459),16843009*(S+(S>>4)&252645135)>>24}function x(W,S){return W[0]-S[0]}function R(W){return W[1]}Le.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(S,L){let M=this._internalPositionFor(S,!1);if(void 0===L)-1!==M&&(this._unsetInternalPos(M),this._unsetBit(S),this._changedLength=!0,this._changedData=!0);else{let N=!1;-1===M?(M=this._data.length,this._setBit(S),this._changedData=!0):N=!0,this._setInternalPos(M,S,L,N),this._changedLength=!0}}unset(S){this.set(S,void 0)}get(S){this._sortData();const L=this._internalPositionFor(S,!0);if(-1!==L)return this._data[L][1]}push(S){return this.set(this.length,S),this.length}get length(){if(this._sortData(),this._changedLength){const S=this._data[this._data.length-1];this._length=S?S[0]+1:0,this._changedLength=!1}return this._length}forEach(S){let L=0;for(;L<this.length;)S(this.get(L),L,this),L++}map(S){let L=0,M=new Array(this.length);for(;L<this.length;)M[L]=S(this.get(L),L,this),L++;return M}reduce(S,L){let M=0,N=L;for(;M<this.length;)N=S(N,this.get(M),M),M++;return N}find(S){let M,N,L=0;for(;L<this.length&&!M;)N=this.get(L),M=S(N),L++;return M?N:void 0}_internalPositionFor(S,L){const M=this._bytePosFor(S,L);if(M>=this._bitArrays.length)return-1;const N=this._bitArrays[M],$=S-7*M;return(N&1<<$)>0?this._bitArrays.slice(0,M).reduce(E,0)+m(N&~(4294967295<<$+1))-1:-1}_bytePosFor(S,L){const M=Math.floor(S/7),N=M+1;for(;!L&&this._bitArrays.length<N;)this._bitArrays.push(0);return M}_setBit(S){const L=this._bytePosFor(S,!1);this._bitArrays[L]|=1<<S-7*L}_unsetBit(S){const L=this._bytePosFor(S,!1);this._bitArrays[L]&=~(1<<S-7*L)}_setInternalPos(S,L,M,N){const $=this._data,F=[L,M];if(N)this._sortData(),$[S]=F;else{if($.length)if($[$.length-1][0]>=L)$.push(F);else if($[0][0]<=L)$.unshift(F);else{const I=Math.round($.length/2);this._data=$.slice(0,I).concat(F).concat($.slice(I))}else this._data.push(F);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(S){this._data.splice(S,1)}_sortData(){this._changedData&&this._data.sort(x),this._changedData=!1}bitField(){const S=[];let $,L=8,M=0,N=0;const F=this._bitArrays.slice();for(;F.length||M;){0===M&&($=F.shift(),M=7);const X=Math.min(M,L);N|=($&~(255<<X))<<8-L,$>>>=X,M-=X,L-=X,(!L||!M&&!F.length)&&(S.push(N),N=0,L=8)}for(var I=S.length-1;I>0&&0===S[I];I--)S.pop();return S}compactArray(){return this._sortData(),this._data.map(R)}}},7045:(Le,z,E)=>{Le.exports=R;var m=E(44356).EventEmitter;function R(){m.call(this)}E(71993)(R,m),R.Readable=E(19609),R.Writable=E(47849),R.Duplex=E(74075),R.Transform=E(2909),R.PassThrough=E(18823),R.finished=E(33139),R.pipeline=E(96249),R.Stream=R,R.prototype.pipe=function(W,S){var L=this;function M(Z){W.writable&&!1===W.write(Z)&&L.pause&&L.pause()}function N(){L.readable&&L.resume&&L.resume()}L.on("data",M),W.on("drain",N),!W._isStdio&&(!S||!1!==S.end)&&(L.on("end",F),L.on("close",I));var $=!1;function F(){$||($=!0,W.end())}function I(){$||($=!0,"function"==typeof W.destroy&&W.destroy())}function X(Z){if(V(),0===m.listenerCount(this,"error"))throw Z}function V(){L.removeListener("data",M),W.removeListener("drain",N),L.removeListener("end",F),L.removeListener("close",I),L.removeListener("error",X),W.removeListener("error",X),L.removeListener("end",V),L.removeListener("close",V),W.removeListener("close",V)}return L.on("error",X),W.on("error",X),L.on("end",V),L.on("close",V),W.on("close",V),W.emit("pipe",L),W}},78454:(Le,z,E)=>{"use strict";var m=E(27054).Buffer,x=m.isEncoding||function(J){switch((J=""+J)&&J.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function S(J){var oe;switch(this.encoding=function W(J){var oe=function R(J){if(!J)return"utf8";for(var oe;;)switch(J){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return J;default:if(oe)return;J=(""+J).toLowerCase(),oe=!0}}(J);if("string"!=typeof oe&&(m.isEncoding===x||!x(J)))throw new Error("Unknown encoding: "+J);return oe||J}(J),this.encoding){case"utf16le":this.text=X,this.end=V,oe=4;break;case"utf8":this.fillLast=$,oe=4;break;case"base64":this.text=Z,this.end=re,oe=3;break;default:return this.write=te,void(this.end=Q)}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(oe)}function L(J){return J<=127?0:J>>5==6?2:J>>4==14?3:J>>3==30?4:J>>6==2?-1:-2}function $(J){var oe=this.lastTotal-this.lastNeed,se=function N(J,oe,se){if(128!=(192&oe[0]))return J.lastNeed=0,"\ufffd";if(J.lastNeed>1&&oe.length>1){if(128!=(192&oe[1]))return J.lastNeed=1,"\ufffd";if(J.lastNeed>2&&oe.length>2&&128!=(192&oe[2]))return J.lastNeed=2,"\ufffd"}}(this,J);return void 0!==se?se:this.lastNeed<=J.length?(J.copy(this.lastChar,oe,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(J.copy(this.lastChar,oe,0,J.length),void(this.lastNeed-=J.length))}function X(J,oe){if((J.length-oe)%2==0){var se=J.toString("utf16le",oe);if(se){var ae=se.charCodeAt(se.length-1);if(ae>=55296&&ae<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1],se.slice(0,-1)}return se}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=J[J.length-1],J.toString("utf16le",oe,J.length-1)}function V(J){var oe=J&&J.length?this.write(J):"";return this.lastNeed?oe+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):oe}function Z(J,oe){var se=(J.length-oe)%3;return 0===se?J.toString("base64",oe):(this.lastNeed=3-se,this.lastTotal=3,1===se?this.lastChar[0]=J[J.length-1]:(this.lastChar[0]=J[J.length-2],this.lastChar[1]=J[J.length-1]),J.toString("base64",oe,J.length-se))}function re(J){var oe=J&&J.length?this.write(J):"";return this.lastNeed?oe+this.lastChar.toString("base64",0,3-this.lastNeed):oe}function te(J){return J.toString(this.encoding)}function Q(J){return J&&J.length?this.write(J):""}z.StringDecoder=S,S.prototype.write=function(J){if(0===J.length)return"";var oe,se;if(this.lastNeed){if(void 0===(oe=this.fillLast(J)))return"";se=this.lastNeed,this.lastNeed=0}else se=0;return se<J.length?oe?oe+this.text(J,se):this.text(J,se):oe||""},S.prototype.end=function I(J){var oe=J&&J.length?this.write(J):"";return this.lastNeed?oe+"\ufffd":oe},S.prototype.text=function F(J,oe){var se=function M(J,oe,se){var ae=oe.length-1;if(ae<se)return 0;var pe=L(oe[ae]);return pe>=0?(pe>0&&(J.lastNeed=pe-1),pe):--ae<se||-2===pe?0:(pe=L(oe[ae]))>=0?(pe>0&&(J.lastNeed=pe-2),pe):--ae<se||-2===pe?0:(pe=L(oe[ae]))>=0?(pe>0&&(2===pe?pe=0:J.lastNeed=pe-3),pe):0}(this,J,oe);if(!this.lastNeed)return J.toString("utf8",oe);this.lastTotal=se;var ae=J.length-(se-this.lastNeed);return J.copy(this.lastChar,0,ae),J.toString("utf8",oe,ae)},S.prototype.fillLast=function(J){if(this.lastNeed<=J.length)return J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);J.copy(this.lastChar,this.lastTotal-this.lastNeed,0,J.length),this.lastNeed-=J.length}},95568:function(Le,z){!function(E){"use strict";function m(){for(var vt=arguments.length,He=Array(vt),Je=0;Je<vt;Je++)He[Je]=arguments[Je];if(He.length>1){He[0]=He[0].slice(0,-1);for(var Bt=He.length-1,Tt=1;Tt<Bt;++Tt)He[Tt]=He[Tt].slice(1,-1);return He[Bt]=He[Bt].slice(1),He.join("")}return He[0]}function x(vt){return"(?:"+vt+")"}function R(vt){return void 0===vt?"undefined":null===vt?"null":Object.prototype.toString.call(vt).split(" ").pop().split("]").shift().toLowerCase()}function W(vt){return vt.toUpperCase()}function M(vt){var He="[A-Za-z]",Bt="[0-9]",Yt=m(Bt,"[A-Fa-f]"),pn=x(x("%[EFef]"+Yt+"%"+Yt+Yt+"%"+Yt+Yt)+"|"+x("%[89A-Fa-f]"+Yt+"%"+Yt+Yt)+"|"+x("%"+Yt+Yt)),Un="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",An=m("[\\:\\/\\?\\#\\[\\]\\@]",Un),nt=vt?"[\\uE000-\\uF8FF]":"[]",$e=m(He,Bt,"[\\-\\.\\_\\~]",vt?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),it=x(He+m(He,Bt,"[\\+\\-\\.]")+"*"),jt=x(x(pn+"|"+m($e,Un,"[\\:]"))+"*"),Rn=(x(x("25[0-5]")+"|"+x("2[0-4]"+Bt)+"|"+x("1"+Bt+Bt)+"|"+x("[1-9]"+Bt)+"|"+Bt),x(x("25[0-5]")+"|"+x("2[0-4]"+Bt)+"|"+x("1"+Bt+Bt)+"|"+x("0?[1-9]"+Bt)+"|0?0?"+Bt)),Kn=x(Rn+"\\."+Rn+"\\."+Rn+"\\."+Rn),tr=x(Yt+"{1,4}"),Ar=x(x(tr+"\\:"+tr)+"|"+Kn),_r=x(x(tr+"\\:")+"{6}"+Ar),Pr=x("\\:\\:"+x(tr+"\\:")+"{5}"+Ar),$r=x(x(tr)+"?\\:\\:"+x(tr+"\\:")+"{4}"+Ar),zr=x(x(x(tr+"\\:")+"{0,1}"+tr)+"?\\:\\:"+x(tr+"\\:")+"{3}"+Ar),Ht=x(x(x(tr+"\\:")+"{0,2}"+tr)+"?\\:\\:"+x(tr+"\\:")+"{2}"+Ar),ln=x(x(x(tr+"\\:")+"{0,3}"+tr)+"?\\:\\:"+tr+"\\:"+Ar),vn=x(x(x(tr+"\\:")+"{0,4}"+tr)+"?\\:\\:"+Ar),Dn=x(x(x(tr+"\\:")+"{0,5}"+tr)+"?\\:\\:"+tr),er=x(x(x(tr+"\\:")+"{0,6}"+tr)+"?\\:\\:"),yr=x([_r,Pr,$r,zr,Ht,ln,vn,Dn,er].join("|")),pr=x(x($e+"|"+pn)+"+"),Cr=(x(yr+"\\%25"+pr),x(yr+x("\\%25|\\%(?!"+Yt+"{2})")+pr)),$i=x("[vV]"+Yt+"+\\."+m($e,Un,"[\\:]")+"+"),fo=x("\\["+x(Cr+"|"+yr+"|"+$i)+"\\]"),ci=x(x(pn+"|"+m($e,Un))+"*"),lo=x(fo+"|"+Kn+"(?!"+ci+")|"+ci),ho=x(Bt+"*"),Do=x(x(jt+"@")+"?"+lo+x("\\:"+ho)+"?"),Di=x(pn+"|"+m($e,Un,"[\\:\\@]")),ki=x(Di+"*"),Vo=x(Di+"+"),Ya=x(x(pn+"|"+m($e,Un,"[\\@]"))+"+"),Gr=x(x("\\/"+ki)+"*"),Ts=x("\\/"+x(Vo+Gr)+"?"),Ba=x(Ya+Gr),ca=x(Vo+Gr),Is="(?!"+Di+")",Na=(x(Gr+"|"+Ts+"|"+Ba+"|"+ca+"|"+Is),x(x(Di+"|"+m("[\\/\\?]",nt))+"*")),la=x(x(Di+"|[\\/\\?]")+"*"),ed=x(x("\\/\\/"+Do+Gr)+"|"+Ts+"|"+ca+"|"+Is),Qd=x(it+"\\:"+ed+x("\\?"+Na)+"?"+x("\\#"+la)+"?"),lf=x(x("\\/\\/"+Do+Gr)+"|"+Ts+"|"+Ba+"|"+Is),Kf=x(lf+x("\\?"+Na)+"?"+x("\\#"+la)+"?");return x(Qd+"|"+Kf),x(it+"\\:"+ed+x("\\?"+Na)+"?"),x(x("\\/\\/("+x("("+jt+")@")+"?("+lo+")"+x("\\:("+ho+")")+"?)")+"?("+Gr+"|"+Ts+"|"+ca+"|"+Is+")"),x("\\?("+Na+")"),x("\\#("+la+")"),x(x("\\/\\/("+x("("+jt+")@")+"?("+lo+")"+x("\\:("+ho+")")+"?)")+"?("+Gr+"|"+Ts+"|"+Ba+"|"+Is+")"),x("\\?("+Na+")"),x("\\#("+la+")"),x(x("\\/\\/("+x("("+jt+")@")+"?("+lo+")"+x("\\:("+ho+")")+"?)")+"?("+Gr+"|"+Ts+"|"+ca+"|"+Is+")"),x("\\?("+Na+")"),x("\\#("+la+")"),x("("+jt+")@"),x("\\:("+ho+")"),{NOT_SCHEME:new RegExp(m("[^]",He,Bt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(m("[^\\%\\:]",$e,Un),"g"),NOT_HOST:new RegExp(m("[^\\%\\[\\]\\:]",$e,Un),"g"),NOT_PATH:new RegExp(m("[^\\%\\/\\:\\@]",$e,Un),"g"),NOT_PATH_NOSCHEME:new RegExp(m("[^\\%\\/\\@]",$e,Un),"g"),NOT_QUERY:new RegExp(m("[^\\%]",$e,Un,"[\\:\\@\\/\\?]",nt),"g"),NOT_FRAGMENT:new RegExp(m("[^\\%]",$e,Un,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(m("[^]",$e,Un),"g"),UNRESERVED:new RegExp($e,"g"),OTHER_CHARS:new RegExp(m("[^\\%]",$e,An),"g"),PCT_ENCODED:new RegExp(pn,"g"),IPV4ADDRESS:new RegExp("^("+Kn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+yr+")"+x(x("\\%25|\\%(?!"+Yt+"{2})")+"("+pr+")")+"?\\]?$")}}var N=M(!1),$=M(!0),F=function(){return function(He,Je){if(Array.isArray(He))return He;if(Symbol.iterator in Object(He))return function vt(He,Je){var Bt=[],Tt=!0,Yt=!1,Pn=void 0;try{for(var pn,cn=He[Symbol.iterator]();!(Tt=(pn=cn.next()).done)&&(Bt.push(pn.value),!Je||Bt.length!==Je);Tt=!0);}catch(vr){Yt=!0,Pn=vr}finally{try{!Tt&&cn.return&&cn.return()}finally{if(Yt)throw Pn}}return Bt}(He,Je);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),X=2147483647,V=36,ae=/^xn--/,pe=/[^\0-\x7E]/,le=/[\x2E\u3002\uFF0E\uFF61]/g,ve={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},De=Math.floor,k=String.fromCharCode;function u(vt){throw new RangeError(ve[vt])}function y(vt,He){var Je=vt.split("@"),Bt="";return Je.length>1&&(Bt=Je[0]+"@",vt=Je[1]),Bt+function h(vt,He){for(var Je=[],Bt=vt.length;Bt--;)Je[Bt]=He(vt[Bt]);return Je}((vt=vt.replace(le,".")).split("."),He).join(".")}function w(vt){for(var He=[],Je=0,Bt=vt.length;Je<Bt;){var Tt=vt.charCodeAt(Je++);if(Tt>=55296&&Tt<=56319&&Je<Bt){var Yt=vt.charCodeAt(Je++);56320==(64512&Yt)?He.push(((1023&Tt)<<10)+(1023&Yt)+65536):(He.push(Tt),Je--)}else He.push(Tt)}return He}var D=function(He){return He-48<10?He-22:He-65<26?He-65:He-97<26?He-97:V},j=function(He,Je){return He+22+75*(He<26)-((0!=Je)<<5)},A=function(He,Je,Bt){var Tt=0;for(He=Bt?De(He/700):He>>1,He+=De(He/Je);He>455;Tt+=V)He=De(He/35);return De(Tt+36*He/(He+38))},l=function(He){var Je=[],Bt=He.length,Tt=0,Yt=128,Pn=72,cn=He.lastIndexOf("-");cn<0&&(cn=0);for(var pn=0;pn<cn;++pn)He.charCodeAt(pn)>=128&&u("not-basic"),Je.push(He.charCodeAt(pn));for(var vr=cn>0?cn+1:0;vr<Bt;){for(var Un=Tt,An=1,On=V;;On+=V){vr>=Bt&&u("invalid-input");var nt=D(He.charCodeAt(vr++));(nt>=V||nt>De((X-Tt)/An))&&u("overflow"),Tt+=nt*An;var $e=On<=Pn?1:On>=Pn+26?26:On-Pn;if(nt<$e)break;var it=V-$e;An>De(X/it)&&u("overflow"),An*=it}var jt=Je.length+1;Pn=A(Tt-Un,jt,0==Un),De(Tt/jt)>X-Yt&&u("overflow"),Yt+=De(Tt/jt),Tt%=jt,Je.splice(Tt++,0,Yt)}return String.fromCodePoint.apply(String,Je)},g=function(He){var Je=[],Bt=(He=w(He)).length,Tt=128,Yt=0,Pn=72,cn=!0,pn=!1,vr=void 0;try{for(var An,Un=He[Symbol.iterator]();!(cn=(An=Un.next()).done);cn=!0){var On=An.value;On<128&&Je.push(k(On))}}catch(Cr){pn=!0,vr=Cr}finally{try{!cn&&Un.return&&Un.return()}finally{if(pn)throw vr}}var nt=Je.length,$e=nt;for(nt&&Je.push("-");$e<Bt;){var it=X,jt=!0,dn=!1,Rn=void 0;try{for(var tr,Kn=He[Symbol.iterator]();!(jt=(tr=Kn.next()).done);jt=!0){var Ar=tr.value;Ar>=Tt&&Ar<it&&(it=Ar)}}catch(Cr){dn=!0,Rn=Cr}finally{try{!jt&&Kn.return&&Kn.return()}finally{if(dn)throw Rn}}var _r=$e+1;it-Tt>De((X-Yt)/_r)&&u("overflow"),Yt+=(it-Tt)*_r,Tt=it;var Pr=!0,$r=!1,zr=void 0;try{for(var ln,Ht=He[Symbol.iterator]();!(Pr=(ln=Ht.next()).done);Pr=!0){var vn=ln.value;if(vn<Tt&&++Yt>X&&u("overflow"),vn==Tt){for(var Dn=Yt,er=V;;er+=V){var yr=er<=Pn?1:er>=Pn+26?26:er-Pn;if(Dn<yr)break;var pr=Dn-yr,Nr=V-yr;Je.push(k(j(yr+pr%Nr,0))),Dn=De(pr/Nr)}Je.push(k(j(Dn,0))),Pn=A(Yt,_r,$e==nt),Yt=0,++$e}}}catch(Cr){$r=!0,zr=Cr}finally{try{!Pr&&Ht.return&&Ht.return()}finally{if($r)throw zr}}++Yt,++Tt}return Je.join("")},ne={version:"2.1.0",ucs2:{decode:w,encode:function(He){return String.fromCodePoint.apply(String,function(vt){if(Array.isArray(vt)){for(var He=0,Je=Array(vt.length);He<vt.length;He++)Je[He]=vt[He];return Je}return Array.from(vt)}(He))}},decode:l,encode:g,toASCII:function(He){return y(He,function(Je){return pe.test(Je)?"xn--"+g(Je):Je})},toUnicode:function(He){return y(He,function(Je){return ae.test(Je)?l(Je.slice(4).toLowerCase()):Je})}},ce={};function Ae(vt){var He=vt.charCodeAt(0);return He<16?"%0"+He.toString(16).toUpperCase():He<128?"%"+He.toString(16).toUpperCase():He<2048?"%"+(He>>6|192).toString(16).toUpperCase()+"%"+(63&He|128).toString(16).toUpperCase():"%"+(He>>12|224).toString(16).toUpperCase()+"%"+(He>>6&63|128).toString(16).toUpperCase()+"%"+(63&He|128).toString(16).toUpperCase()}function ke(vt){for(var He="",Je=0,Bt=vt.length;Je<Bt;){var Tt=parseInt(vt.substr(Je+1,2),16);if(Tt<128)He+=String.fromCharCode(Tt),Je+=3;else if(Tt>=194&&Tt<224){if(Bt-Je>=6){var Yt=parseInt(vt.substr(Je+4,2),16);He+=String.fromCharCode((31&Tt)<<6|63&Yt)}else He+=vt.substr(Je,6);Je+=6}else if(Tt>=224){if(Bt-Je>=9){var Pn=parseInt(vt.substr(Je+4,2),16),cn=parseInt(vt.substr(Je+7,2),16);He+=String.fromCharCode((15&Tt)<<12|(63&Pn)<<6|63&cn)}else He+=vt.substr(Je,9);Je+=9}else He+=vt.substr(Je,3),Je+=3}return He}function Fe(vt,He){function Je(Bt){var Tt=ke(Bt);return Tt.match(He.UNRESERVED)?Tt:Bt}return vt.scheme&&(vt.scheme=String(vt.scheme).replace(He.PCT_ENCODED,Je).toLowerCase().replace(He.NOT_SCHEME,"")),void 0!==vt.userinfo&&(vt.userinfo=String(vt.userinfo).replace(He.PCT_ENCODED,Je).replace(He.NOT_USERINFO,Ae).replace(He.PCT_ENCODED,W)),void 0!==vt.host&&(vt.host=String(vt.host).replace(He.PCT_ENCODED,Je).toLowerCase().replace(He.NOT_HOST,Ae).replace(He.PCT_ENCODED,W)),void 0!==vt.path&&(vt.path=String(vt.path).replace(He.PCT_ENCODED,Je).replace(vt.scheme?He.NOT_PATH:He.NOT_PATH_NOSCHEME,Ae).replace(He.PCT_ENCODED,W)),void 0!==vt.query&&(vt.query=String(vt.query).replace(He.PCT_ENCODED,Je).replace(He.NOT_QUERY,Ae).replace(He.PCT_ENCODED,W)),void 0!==vt.fragment&&(vt.fragment=String(vt.fragment).replace(He.PCT_ENCODED,Je).replace(He.NOT_FRAGMENT,Ae).replace(He.PCT_ENCODED,W)),vt}function Ee(vt){return vt.replace(/^0*(.*)/,"$1")||"0"}function ge(vt,He){var Je=vt.match(He.IPV4ADDRESS)||[],Tt=F(Je,2)[1];return Tt?Tt.split(".").map(Ee).join("."):vt}function Oe(vt,He){var Je=vt.match(He.IPV6ADDRESS)||[],Bt=F(Je,3),Tt=Bt[1],Yt=Bt[2];if(Tt){for(var Pn=Tt.toLowerCase().split("::").reverse(),cn=F(Pn,2),pn=cn[0],vr=cn[1],Un=vr?vr.split(":").map(Ee):[],An=pn.split(":").map(Ee),On=He.IPV4ADDRESS.test(An[An.length-1]),nt=On?7:8,$e=An.length-nt,it=Array(nt),jt=0;jt<nt;++jt)it[jt]=Un[jt]||An[$e+jt]||"";On&&(it[nt-1]=ge(it[nt-1],He));var Rn=it.reduce(function(_r,Pr,$r){if(!Pr||"0"===Pr){var zr=_r[_r.length-1];zr&&zr.index+zr.length===$r?zr.length++:_r.push({index:$r,length:1})}return _r},[]).sort(function(_r,Pr){return Pr.length-_r.length})[0],Kn=void 0;if(Rn&&Rn.length>1){var tr=it.slice(0,Rn.index),Ar=it.slice(Rn.index+Rn.length);Kn=tr.join(":")+"::"+Ar.join(":")}else Kn=it.join(":");return Yt&&(Kn+="%"+Yt),Kn}return vt}var ye=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Se=void 0==="".match(/(){0}/)[1];function he(vt){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Je={},Bt=!1!==He.iri?$:N;"suffix"===He.reference&&(vt=(He.scheme?He.scheme+":":"")+"//"+vt);var Tt=vt.match(ye);if(Tt){Se?(Je.scheme=Tt[1],Je.userinfo=Tt[3],Je.host=Tt[4],Je.port=parseInt(Tt[5],10),Je.path=Tt[6]||"",Je.query=Tt[7],Je.fragment=Tt[8],isNaN(Je.port)&&(Je.port=Tt[5])):(Je.scheme=Tt[1]||void 0,Je.userinfo=-1!==vt.indexOf("@")?Tt[3]:void 0,Je.host=-1!==vt.indexOf("//")?Tt[4]:void 0,Je.port=parseInt(Tt[5],10),Je.path=Tt[6]||"",Je.query=-1!==vt.indexOf("?")?Tt[7]:void 0,Je.fragment=-1!==vt.indexOf("#")?Tt[8]:void 0,isNaN(Je.port)&&(Je.port=vt.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Tt[4]:void 0)),Je.host&&(Je.host=Oe(ge(Je.host,Bt),Bt)),Je.reference=void 0!==Je.scheme||void 0!==Je.userinfo||void 0!==Je.host||void 0!==Je.port||Je.path||void 0!==Je.query?void 0===Je.scheme?"relative":void 0===Je.fragment?"absolute":"uri":"same-document",He.reference&&"suffix"!==He.reference&&He.reference!==Je.reference&&(Je.error=Je.error||"URI is not a "+He.reference+" reference.");var Yt=ce[(He.scheme||Je.scheme||"").toLowerCase()];if(He.unicodeSupport||Yt&&Yt.unicodeSupport)Fe(Je,Bt);else{if(Je.host&&(He.domainHost||Yt&&Yt.domainHost))try{Je.host=ne.toASCII(Je.host.replace(Bt.PCT_ENCODED,ke).toLowerCase())}catch(Pn){Je.error=Je.error||"Host's domain name can not be converted to ASCII via punycode: "+Pn}Fe(Je,N)}Yt&&Yt.parse&&Yt.parse(Je,He)}else Je.error=Je.error||"URI can not be parsed.";return Je}var ee=/^\.\.?\//,ie=/^\/\.(\/|$)/,ue=/^\/\.\.(\/|$)/,be=/^\/?(?:.|\n)*?(?=\/|$)/;function Ie(vt){for(var He=[];vt.length;)if(vt.match(ee))vt=vt.replace(ee,"");else if(vt.match(ie))vt=vt.replace(ie,"/");else if(vt.match(ue))vt=vt.replace(ue,"/"),He.pop();else if("."===vt||".."===vt)vt="";else{var Je=vt.match(be);if(!Je)throw new Error("Unexpected dot segment condition");var Bt=Je[0];vt=vt.slice(Bt.length),He.push(Bt)}return He.join("")}function Ne(vt){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Je=He.iri?$:N,Bt=[],Tt=ce[(He.scheme||vt.scheme||"").toLowerCase()];if(Tt&&Tt.serialize&&Tt.serialize(vt,He),vt.host&&!Je.IPV6ADDRESS.test(vt.host)&&(He.domainHost||Tt&&Tt.domainHost))try{vt.host=He.iri?ne.toUnicode(vt.host):ne.toASCII(vt.host.replace(Je.PCT_ENCODED,ke).toLowerCase())}catch(cn){vt.error=vt.error||"Host's domain name can not be converted to "+(He.iri?"Unicode":"ASCII")+" via punycode: "+cn}Fe(vt,Je),"suffix"!==He.reference&&vt.scheme&&(Bt.push(vt.scheme),Bt.push(":"));var Yt=function fe(vt,He){var Je=!1!==He.iri?$:N,Bt=[];return void 0!==vt.userinfo&&(Bt.push(vt.userinfo),Bt.push("@")),void 0!==vt.host&&Bt.push(Oe(ge(String(vt.host),Je),Je).replace(Je.IPV6ADDRESS,function(Tt,Yt,Pn){return"["+Yt+(Pn?"%25"+Pn:"")+"]"})),("number"==typeof vt.port||"string"==typeof vt.port)&&(Bt.push(":"),Bt.push(String(vt.port))),Bt.length?Bt.join(""):void 0}(vt,He);if(void 0!==Yt&&("suffix"!==He.reference&&Bt.push("//"),Bt.push(Yt),vt.path&&"/"!==vt.path.charAt(0)&&Bt.push("/")),void 0!==vt.path){var Pn=vt.path;!He.absolutePath&&(!Tt||!Tt.absolutePath)&&(Pn=Ie(Pn)),void 0===Yt&&(Pn=Pn.replace(/^\/\//,"/%2F")),Bt.push(Pn)}return void 0!==vt.query&&(Bt.push("?"),Bt.push(vt.query)),void 0!==vt.fragment&&(Bt.push("#"),Bt.push(vt.fragment)),Bt.join("")}function Be(vt,He){var Je=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Tt={};return arguments[3]||(vt=he(Ne(vt,Je),Je),He=he(Ne(He,Je),Je)),!(Je=Je||{}).tolerant&&He.scheme?(Tt.scheme=He.scheme,Tt.userinfo=He.userinfo,Tt.host=He.host,Tt.port=He.port,Tt.path=Ie(He.path||""),Tt.query=He.query):(void 0!==He.userinfo||void 0!==He.host||void 0!==He.port?(Tt.userinfo=He.userinfo,Tt.host=He.host,Tt.port=He.port,Tt.path=Ie(He.path||""),Tt.query=He.query):(He.path?("/"===He.path.charAt(0)?Tt.path=Ie(He.path):(Tt.path=void 0===vt.userinfo&&void 0===vt.host&&void 0===vt.port||vt.path?vt.path?vt.path.slice(0,vt.path.lastIndexOf("/")+1)+He.path:He.path:"/"+He.path,Tt.path=Ie(Tt.path)),Tt.query=He.query):(Tt.path=vt.path,Tt.query=void 0!==He.query?He.query:vt.query),Tt.userinfo=vt.userinfo,Tt.host=vt.host,Tt.port=vt.port),Tt.scheme=vt.scheme),Tt.fragment=He.fragment,Tt}function U(vt,He){return vt&&vt.toString().replace(He&&He.iri?$.PCT_ENCODED:N.PCT_ENCODED,ke)}var _={scheme:"http",domainHost:!0,parse:function(He,Je){return He.host||(He.error=He.error||"HTTP URIs must have a host."),He},serialize:function(He,Je){var Bt="https"===String(He.scheme).toLowerCase();return(He.port===(Bt?443:80)||""===He.port)&&(He.port=void 0),He.path||(He.path="/"),He}},p={scheme:"https",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize};function O(vt){return"boolean"==typeof vt.secure?vt.secure:"wss"===String(vt.scheme).toLowerCase()}var q={scheme:"ws",domainHost:!0,parse:function(He,Je){var Bt=He;return Bt.secure=O(Bt),Bt.resourceName=(Bt.path||"/")+(Bt.query?"?"+Bt.query:""),Bt.path=void 0,Bt.query=void 0,Bt},serialize:function(He,Je){if((He.port===(O(He)?443:80)||""===He.port)&&(He.port=void 0),"boolean"==typeof He.secure&&(He.scheme=He.secure?"wss":"ws",He.secure=void 0),He.resourceName){var Bt=He.resourceName.split("?"),Tt=F(Bt,2),Yt=Tt[0],Pn=Tt[1];He.path=Yt&&"/"!==Yt?Yt:void 0,He.query=Pn,He.resourceName=void 0}return He.fragment=void 0,He}},me={scheme:"wss",domainHost:q.domainHost,parse:q.parse,serialize:q.serialize},xe={},At="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ut="[0-9A-Fa-f]",bt=x(x("%[EFef]"+ut+"%"+ut+ut+"%"+ut+ut)+"|"+x("%[89A-Fa-f]"+ut+"%"+ut+ut)+"|"+x("%"+ut+ut)),Zt=m("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),yn=new RegExp(At,"g"),Vt=new RegExp(bt,"g"),$t=new RegExp(m("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Zt),"g"),mt=new RegExp(m("[^]",At,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),st=mt;function Nt(vt){var He=ke(vt);return He.match(yn)?He:vt}var Kt={scheme:"mailto",parse:function(He,Je){var Bt=He,Tt=Bt.to=Bt.path?Bt.path.split(","):[];if(Bt.path=void 0,Bt.query){for(var Yt=!1,Pn={},cn=Bt.query.split("&"),pn=0,vr=cn.length;pn<vr;++pn){var Un=cn[pn].split("=");switch(Un[0]){case"to":for(var An=Un[1].split(","),On=0,nt=An.length;On<nt;++On)Tt.push(An[On]);break;case"subject":Bt.subject=U(Un[1],Je);break;case"body":Bt.body=U(Un[1],Je);break;default:Yt=!0,Pn[U(Un[0],Je)]=U(Un[1],Je)}}Yt&&(Bt.headers=Pn)}Bt.query=void 0;for(var $e=0,it=Tt.length;$e<it;++$e){var jt=Tt[$e].split("@");if(jt[0]=U(jt[0]),Je.unicodeSupport)jt[1]=U(jt[1],Je).toLowerCase();else try{jt[1]=ne.toASCII(U(jt[1],Je).toLowerCase())}catch(dn){Bt.error=Bt.error||"Email address's domain name can not be converted to ASCII via punycode: "+dn}Tt[$e]=jt.join("@")}return Bt},serialize:function(He,Je){var Bt=He,Tt=function S(vt){return null!=vt?vt instanceof Array?vt:"number"!=typeof vt.length||vt.split||vt.setInterval||vt.call?[vt]:Array.prototype.slice.call(vt):[]}(He.to);if(Tt){for(var Yt=0,Pn=Tt.length;Yt<Pn;++Yt){var cn=String(Tt[Yt]),pn=cn.lastIndexOf("@"),vr=cn.slice(0,pn).replace(Vt,Nt).replace(Vt,W).replace($t,Ae),Un=cn.slice(pn+1);try{Un=Je.iri?ne.toUnicode(Un):ne.toASCII(U(Un,Je).toLowerCase())}catch($e){Bt.error=Bt.error||"Email address's domain name can not be converted to "+(Je.iri?"Unicode":"ASCII")+" via punycode: "+$e}Tt[Yt]=vr+"@"+Un}Bt.path=Tt.join(",")}var An=He.headers=He.headers||{};He.subject&&(An.subject=He.subject),He.body&&(An.body=He.body);var On=[];for(var nt in An)An[nt]!==xe[nt]&&On.push(nt.replace(Vt,Nt).replace(Vt,W).replace(mt,Ae)+"="+An[nt].replace(Vt,Nt).replace(Vt,W).replace(st,Ae));return On.length&&(Bt.query=On.join("&")),Bt}},qt=/^([^\:]+)\:(.*)/,or={scheme:"urn",parse:function(He,Je){var Bt=He.path&&He.path.match(qt),Tt=He;if(Bt){var Yt=Je.scheme||Tt.scheme||"urn",Pn=Bt[1].toLowerCase(),cn=Bt[2],vr=ce[Yt+":"+(Je.nid||Pn)];Tt.nid=Pn,Tt.nss=cn,Tt.path=void 0,vr&&(Tt=vr.parse(Tt,Je))}else Tt.error=Tt.error||"URN can not be parsed.";return Tt},serialize:function(He,Je){var Tt=He.nid,Pn=ce[(Je.scheme||He.scheme||"urn")+":"+(Je.nid||Tt)];Pn&&(He=Pn.serialize(He,Je));var cn=He;return cn.path=(Tt||Je.nid)+":"+He.nss,cn}},ft=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,gt={scheme:"urn:uuid",parse:function(He,Je){var Bt=He;return Bt.uuid=Bt.nss,Bt.nss=void 0,!Je.tolerant&&(!Bt.uuid||!Bt.uuid.match(ft))&&(Bt.error=Bt.error||"UUID is not valid."),Bt},serialize:function(He,Je){var Bt=He;return Bt.nss=(He.uuid||"").toLowerCase(),Bt}};ce[_.scheme]=_,ce[p.scheme]=p,ce[q.scheme]=q,ce[me.scheme]=me,ce[Kt.scheme]=Kt,ce[or.scheme]=or,ce[gt.scheme]=gt,E.SCHEMES=ce,E.pctEncChar=Ae,E.pctDecChars=ke,E.parse=he,E.removeDotSegments=Ie,E.serialize=Ne,E.resolveComponents=Be,E.resolve=function yt(vt,He,Je){var Bt=function L(vt,He){var Je=vt;if(He)for(var Bt in He)Je[Bt]=He[Bt];return Je}({scheme:"null"},Je);return Ne(Be(he(vt,Bt),he(He,Bt),Bt,!0),Bt)},E.normalize=function Ke(vt,He){return"string"==typeof vt?vt=Ne(he(vt,He),He):"object"===R(vt)&&(vt=he(Ne(vt,He),He)),vt},E.equal=function Re(vt,He,Je){return"string"==typeof vt?vt=Ne(he(vt,Je),Je):"object"===R(vt)&&(vt=Ne(vt,Je)),"string"==typeof He?He=Ne(he(He,Je),Je):"object"===R(He)&&(He=Ne(He,Je)),vt===He},E.escapeComponent=function ot(vt,He){return vt&&vt.toString().replace(He&&He.iri?$.ESCAPE:N.ESCAPE,Ae)},E.unescapeComponent=U,Object.defineProperty(E,"__esModule",{value:!0})}(z)},3398:Le=>{function E(m){try{if(!globalThis.localStorage)return!1}catch{return!1}var x=globalThis.localStorage[m];return null!=x&&"true"===String(x).toLowerCase()}Le.exports=function z(m,x){if(E("noDeprecation"))return m;var R=!1;return function W(){if(!R){if(E("throwDeprecation"))throw new Error(x);E("traceDeprecation")?console.trace(x):console.warn(x),R=!0}return m.apply(this,arguments)}}},78982:()=>{},47790:()=>{},21638:()=>{},92668:()=>{},77965:()=>{},66089:()=>{},79368:()=>{},64688:()=>{},51069:()=>{},15340:()=>{},79838:()=>{},25172:Le=>{Le.exports=function z(E,m){this.v=E,this.k=m},Le.exports.__esModule=!0,Le.exports.default=Le.exports},93513:(Le,z,E)=>{var m=E(25172);Le.exports=function x(R){var W={},S=!1;function L(M,N){return S=!0,N=new Promise(function($){$(R[M](N))}),{done:!1,value:new m(N,1)}}return W[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},W.next=function(M){return S?(S=!1,M):L("next",M)},"function"==typeof R.throw&&(W.throw=function(M){if(S)throw S=!1,M;return L("throw",M)}),"function"==typeof R.return&&(W.return=function(M){return S?(S=!1,M):L("return",M)}),W},Le.exports.__esModule=!0,Le.exports.default=Le.exports},82881:Le=>{function E(m){function x(R){if(Object(R)!==R)return Promise.reject(new TypeError(R+" is not an object."));var W=R.done;return Promise.resolve(R.value).then(function(S){return{value:S,done:W}})}return(E=function(W){this.s=W,this.n=W.next}).prototype={s:null,n:null,next:function(){return x(this.n.apply(this.s,arguments))},return:function(W){var S=this.s.return;return void 0===S?Promise.resolve({value:W,done:!0}):x(S.apply(this.s,arguments))},throw:function(W){var S=this.s.return;return void 0===S?Promise.reject(W):x(S.apply(this.s,arguments))}},new E(m)}Le.exports=function z(m){var x,R,W,S=2;for(typeof Symbol<"u"&&(R=Symbol.asyncIterator,W=Symbol.iterator);S--;){if(R&&null!=(x=m[R]))return x.call(m);if(W&&null!=(x=m[W]))return new E(x.call(m));R="@@asyncIterator",W="@@iterator"}throw new TypeError("Object is not async iterable")},Le.exports.__esModule=!0,Le.exports.default=Le.exports},29293:Le=>{function z(m,x,R,W,S,L,M){try{var N=m[L](M),$=N.value}catch(F){return void R(F)}N.done?x($):Promise.resolve($).then(W,S)}Le.exports=function E(m){return function(){var x=this,R=arguments;return new Promise(function(W,S){var L=m.apply(x,R);function M($){z(L,W,S,M,N,"next",$)}function N($){z(L,W,S,M,N,"throw",$)}M(void 0)})}},Le.exports.__esModule=!0,Le.exports.default=Le.exports},53344:(Le,z,E)=>{var m=E(25172);Le.exports=function x(R){return new m(R,0)},Le.exports.__esModule=!0,Le.exports.default=Le.exports},42958:(Le,z,E)=>{var m=E(25172);function R(W){var S,L;function M($,F){try{var I=W[$](F),X=I.value,V=X instanceof m;Promise.resolve(V?X.v:X).then(function(Z){if(V){var re="return"===$?"return":"next";if(!X.k||Z.done)return M(re,Z);Z=W[re](Z).value}N(I.done?"return":"normal",Z)},function(Z){M("throw",Z)})}catch(Z){N("throw",Z)}}function N($,F){switch($){case"return":S.resolve({value:F,done:!0});break;case"throw":S.reject(F);break;default:S.resolve({value:F,done:!1})}(S=S.next)?M(S.key,S.arg):L=null}this._invoke=function($,F){return new Promise(function(I,X){var V={key:$,arg:F,resolve:I,reject:X,next:null};L?L=L.next=V:(S=L=V,M($,F))})},"function"!=typeof W.return&&(this.return=void 0)}R.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},R.prototype.next=function(W){return this._invoke("next",W)},R.prototype.throw=function(W){return this._invoke("throw",W)},R.prototype.return=function(W){return this._invoke("return",W)},Le.exports=function x(W){return function(){return new R(W.apply(this,arguments))}},Le.exports.__esModule=!0,Le.exports.default=Le.exports},49969:(Le,z,E)=>{"use strict";E.d(z,{FX:()=>De,If:()=>m,K2:()=>L,MA:()=>X,Os:()=>S,P:()=>Z,hZ:()=>R,i0:()=>W,i7:()=>$,iF:()=>M,kY:()=>F,kp:()=>x,sf:()=>ve,ui:()=>we,wk:()=>N});var m=function(k){return k[k.State=0]="State",k[k.Transition=1]="Transition",k[k.Sequence=2]="Sequence",k[k.Group=3]="Group",k[k.Animate=4]="Animate",k[k.Keyframes=5]="Keyframes",k[k.Style=6]="Style",k[k.Trigger=7]="Trigger",k[k.Reference=8]="Reference",k[k.AnimateChild=9]="AnimateChild",k[k.AnimateRef=10]="AnimateRef",k[k.Query=11]="Query",k[k.Stagger=12]="Stagger",k}(m||{});const x="*";function R(k,u){return{type:m.Trigger,name:k,definitions:u,options:{}}}function W(k,u=null){return{type:m.Animate,styles:u,timings:k}}function S(k,u=null){return{type:m.Group,steps:k,options:u}}function L(k,u=null){return{type:m.Sequence,steps:k,options:u}}function M(k){return{type:m.Style,styles:k,offset:null}}function N(k,u,h){return{type:m.State,name:k,styles:u,options:h}}function $(k){return{type:m.Keyframes,steps:k}}function F(k,u,h=null){return{type:m.Transition,expr:k,animation:u,options:h}}function X(k=null){return{type:m.AnimateChild,options:k}}function Z(k,u,h=null){return{type:m.Query,selector:k,animation:u,options:h}}class ve{constructor(u=0,h=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=u+h}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(u=>u()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(u){this._position=this.totalTime?u*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(u){const h="start"==u?this._onStartFns:this._onDoneFns;h.forEach(y=>y()),h.length=0}}class we{constructor(u){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=u;let h=0,y=0,w=0;const T=this.players.length;0==T?queueMicrotask(()=>this._onFinish()):this.players.forEach(D=>{D.onDone(()=>{++h==T&&this._onFinish()}),D.onDestroy(()=>{++y==T&&this._onDestroy()}),D.onStart(()=>{++w==T&&this._onStart()})}),this.totalTime=this.players.reduce((D,j)=>Math.max(D,j.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this.players.forEach(u=>u.init())}onStart(u){this._onStartFns.push(u)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(u=>u()),this._onStartFns=[])}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(u=>u.play())}pause(){this.players.forEach(u=>u.pause())}restart(){this.players.forEach(u=>u.restart())}finish(){this._onFinish(),this.players.forEach(u=>u.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(u=>u.destroy()),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}reset(){this.players.forEach(u=>u.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(u){const h=u*this.totalTime;this.players.forEach(y=>{const w=y.totalTime?Math.min(1,h/y.totalTime):1;y.setPosition(w)})}getPosition(){const u=this.players.reduce((h,y)=>null===h||y.totalTime>h.totalTime?y:h,null);return null!=u?u.getPosition():0}beforeDestroy(){this.players.forEach(u=>{u.beforeDestroy&&u.beforeDestroy()})}triggerCallback(u){const h="start"==u?this._onStartFns:this._onDoneFns;h.forEach(y=>y()),h.length=0}}const De="!"},18617:(Le,z,E)=>{"use strict";E.d(z,{Ae:()=>ae,Ai:()=>O,Au:()=>w,Bu:()=>T,FN:()=>At,GX:()=>ye,Pd:()=>yn,Q_:()=>Jn,Uc:()=>Re,Z7:()=>j,_G:()=>be,px:()=>se,vR:()=>ut,vr:()=>k,w6:()=>Ie});var m=E(60177),x=E(93953),R=E(36860),W=E(21413),S=E(18359),L=E(84412),M=E(7673),N=E(67336),$=E(88141),F=E(70152),I=E(5964),X=E(96354),V=E(65245),Z=E(23294),re=E(56977),te=E(49937),Q=E(14085),J=E(99327);const oe=" ";function se(Vt,$t,mt){const st=pe(Vt,$t);mt=mt.trim(),!st.some(Nt=>Nt.trim()===mt)&&(st.push(mt),Vt.setAttribute($t,st.join(oe)))}function ae(Vt,$t,mt){const st=pe(Vt,$t);mt=mt.trim();const Nt=st.filter(Kt=>Kt!==mt);Nt.length?Vt.setAttribute($t,Nt.join(oe)):Vt.removeAttribute($t)}function pe(Vt,$t){return Vt.getAttribute($t)?.match(/\S+/g)??[]}const ve="cdk-describedby-message",we="cdk-describedby-host";let De=0,k=(()=>{class Vt{constructor(mt,st){this._platform=st,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+De++,this._document=mt,this._id=(0,x.WQX)(x.sZ2)+"-"+De++}describe(mt,st,Nt){if(!this._canBeDescribed(mt,st))return;const Kt=u(st,Nt);"string"!=typeof st?(h(st,this._id),this._messageRegistry.set(Kt,{messageElement:st,referenceCount:0})):this._messageRegistry.has(Kt)||this._createMessageElement(st,Nt),this._isElementDescribedByMessage(mt,Kt)||this._addMessageReference(mt,Kt)}removeDescription(mt,st,Nt){if(!st||!this._isElementNode(mt))return;const Kt=u(st,Nt);if(this._isElementDescribedByMessage(mt,Kt)&&this._removeMessageReference(mt,Kt),"string"==typeof st){const qt=this._messageRegistry.get(Kt);qt&&0===qt.referenceCount&&this._deleteMessageElement(Kt)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const mt=this._document.querySelectorAll(`[${we}="${this._id}"]`);for(let st=0;st<mt.length;st++)this._removeCdkDescribedByReferenceIds(mt[st]),mt[st].removeAttribute(we);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(mt,st){const Nt=this._document.createElement("div");h(Nt,this._id),Nt.textContent=mt,st&&Nt.setAttribute("role",st),this._createMessagesContainer(),this._messagesContainer.appendChild(Nt),this._messageRegistry.set(u(mt,st),{messageElement:Nt,referenceCount:0})}_deleteMessageElement(mt){this._messageRegistry.get(mt)?.messageElement?.remove(),this._messageRegistry.delete(mt)}_createMessagesContainer(){if(this._messagesContainer)return;const mt="cdk-describedby-message-container",st=this._document.querySelectorAll(`.${mt}[platform="server"]`);for(let Kt=0;Kt<st.length;Kt++)st[Kt].remove();const Nt=this._document.createElement("div");Nt.style.visibility="hidden",Nt.classList.add(mt),Nt.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&Nt.setAttribute("platform","server"),this._document.body.appendChild(Nt),this._messagesContainer=Nt}_removeCdkDescribedByReferenceIds(mt){const st=pe(mt,"aria-describedby").filter(Nt=>0!=Nt.indexOf(ve));mt.setAttribute("aria-describedby",st.join(" "))}_addMessageReference(mt,st){const Nt=this._messageRegistry.get(st);se(mt,"aria-describedby",Nt.messageElement.id),mt.setAttribute(we,this._id),Nt.referenceCount++}_removeMessageReference(mt,st){const Nt=this._messageRegistry.get(st);Nt.referenceCount--,ae(mt,"aria-describedby",Nt.messageElement.id),mt.removeAttribute(we)}_isElementDescribedByMessage(mt,st){const Nt=pe(mt,"aria-describedby"),Kt=this._messageRegistry.get(st),qt=Kt&&Kt.messageElement.id;return!!qt&&-1!=Nt.indexOf(qt)}_canBeDescribed(mt,st){if(!this._isElementNode(mt))return!1;if(st&&"object"==typeof st)return!0;const Nt=null==st?"":`${st}`.trim(),Kt=mt.getAttribute("aria-label");return!(!Nt||Kt&&Kt.trim()===Nt)}_isElementNode(mt){return mt.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(st){return new(st||Vt)(x.KVO(m.qQ),x.KVO(R.OD))};static#t=this.\u0275prov=x.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})();function u(Vt,$t){return"string"==typeof Vt?`${$t||""}/${Vt}`:Vt}function h(Vt,$t){Vt.id||(Vt.id=`${ve}-${$t}-${De++}`)}class y{constructor($t,mt){this._items=$t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new W.B,this._typeaheadSubscription=S.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=st=>st.disabled,this._pressedLetters=[],this.tabOut=new W.B,this.change=new W.B,$t instanceof x.rOR?this._itemChangesSubscription=$t.changes.subscribe(st=>this._itemsChanged(st.toArray())):(0,x.Hps)($t)&&(this._effectRef=(0,x.QZP)(()=>this._itemsChanged($t()),{injector:mt}))}skipPredicate($t){return this._skipPredicateFn=$t,this}withWrap($t=!0){return this._wrap=$t,this}withVerticalOrientation($t=!0){return this._vertical=$t,this}withHorizontalOrientation($t){return this._horizontal=$t,this}withAllowedModifierKeys($t){return this._allowedModifierKeys=$t,this}withTypeAhead($t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,$.M)(mt=>this._pressedLetters.push(mt)),(0,F.B)($t),(0,I.p)(()=>this._pressedLetters.length>0),(0,X.T)(()=>this._pressedLetters.join(""))).subscribe(mt=>{const st=this._getItemsArray();for(let Nt=1;Nt<st.length+1;Nt++){const Kt=(this._activeItemIndex+Nt)%st.length,qt=st[Kt];if(!this._skipPredicateFn(qt)&&0===qt.getLabel().toUpperCase().trim().indexOf(mt)){this.setActiveItem(Kt);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd($t=!0){return this._homeAndEnd=$t,this}withPageUpDown($t=!0,mt=10){return this._pageUpAndDown={enabled:$t,delta:mt},this}setActiveItem($t){const mt=this._activeItem;this.updateActiveItem($t),this._activeItem!==mt&&this.change.next(this._activeItemIndex)}onKeydown($t){const mt=$t.keyCode,Nt=["altKey","ctrlKey","metaKey","shiftKey"].every(Kt=>!$t[Kt]||this._allowedModifierKeys.indexOf(Kt)>-1);switch(mt){case N.wn:return void this.tabOut.next();case N.n6:if(this._vertical&&Nt){this.setNextItemActive();break}return;case N.i7:if(this._vertical&&Nt){this.setPreviousItemActive();break}return;case N.LE:if(this._horizontal&&Nt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case N.UQ:if(this._horizontal&&Nt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case N.yZ:if(this._homeAndEnd&&Nt){this.setFirstItemActive();break}return;case N.Kp:if(this._homeAndEnd&&Nt){this.setLastItemActive();break}return;case N.w_:if(this._pageUpAndDown.enabled&&Nt){const Kt=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Kt>0?Kt:0,1);break}return;case N.dB:if(this._pageUpAndDown.enabled&&Nt){const Kt=this._activeItemIndex+this._pageUpAndDown.delta,qt=this._getItemsArray().length;this._setActiveItemByIndex(Kt<qt?Kt:qt-1,-1);break}return;default:return void((Nt||(0,N.rp)($t,"shiftKey"))&&($t.key&&1===$t.key.length?this._letterKeyStream.next($t.key.toLocaleUpperCase()):(mt>=N.A&&mt<=N.Z||mt>=N.f2&&mt<=N.bn)&&this._letterKeyStream.next(String.fromCharCode(mt))))}this._pressedLetters=[],$t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem($t){const mt=this._getItemsArray(),st="number"==typeof $t?$t:mt.indexOf($t);this._activeItem=mt[st]??null,this._activeItemIndex=st}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta($t){this._wrap?this._setActiveInWrapMode($t):this._setActiveInDefaultMode($t)}_setActiveInWrapMode($t){const mt=this._getItemsArray();for(let st=1;st<=mt.length;st++){const Nt=(this._activeItemIndex+$t*st+mt.length)%mt.length;if(!this._skipPredicateFn(mt[Nt]))return void this.setActiveItem(Nt)}}_setActiveInDefaultMode($t){this._setActiveItemByIndex(this._activeItemIndex+$t,$t)}_setActiveItemByIndex($t,mt){const st=this._getItemsArray();if(st[$t]){for(;this._skipPredicateFn(st[$t]);)if(!st[$t+=mt])return;this.setActiveItem($t)}}_getItemsArray(){return(0,x.Hps)(this._items)?this._items():this._items instanceof x.rOR?this._items.toArray():this._items}_itemsChanged($t){if(this._activeItem){const mt=$t.indexOf(this._activeItem);mt>-1&&mt!==this._activeItemIndex&&(this._activeItemIndex=mt)}}}class w extends y{setActiveItem($t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem($t),this.activeItem&&this.activeItem.setActiveStyles()}}class T extends y{constructor(){super(...arguments),this._origin="program"}setFocusOrigin($t){return this._origin=$t,this}setActiveItem($t){super.setActiveItem($t),this.activeItem&&this.activeItem.focus(this._origin)}}let j=(()=>{class Vt{constructor(mt){this._platform=mt}isDisabled(mt){return mt.hasAttribute("disabled")}isVisible(mt){return function l(Vt){return!!(Vt.offsetWidth||Vt.offsetHeight||"function"==typeof Vt.getClientRects&&Vt.getClientRects().length)}(mt)&&"visible"===getComputedStyle(mt).visibility}isTabbable(mt){if(!this._platform.isBrowser)return!1;const st=function A(Vt){try{return Vt.frameElement}catch{return null}}(function ge(Vt){return Vt.ownerDocument&&Vt.ownerDocument.defaultView||window}(mt));if(st&&(-1===ke(st)||!this.isVisible(st)))return!1;let Nt=mt.nodeName.toLowerCase(),Kt=ke(mt);return mt.hasAttribute("contenteditable")?-1!==Kt:!("iframe"===Nt||"object"===Nt||this._platform.WEBKIT&&this._platform.IOS&&!function Fe(Vt){let $t=Vt.nodeName.toLowerCase(),mt="input"===$t&&Vt.type;return"text"===mt||"password"===mt||"select"===$t||"textarea"===$t}(mt))&&("audio"===Nt?!!mt.hasAttribute("controls")&&-1!==Kt:"video"===Nt?-1!==Kt&&(null!==Kt||this._platform.FIREFOX||mt.hasAttribute("controls")):mt.tabIndex>=0)}isFocusable(mt,st){return function Ee(Vt){return!function G(Vt){return function ne(Vt){return"input"==Vt.nodeName.toLowerCase()}(Vt)&&"hidden"==Vt.type}(Vt)&&(function g(Vt){let $t=Vt.nodeName.toLowerCase();return"input"===$t||"select"===$t||"button"===$t||"textarea"===$t}(Vt)||function H(Vt){return function ce(Vt){return"a"==Vt.nodeName.toLowerCase()}(Vt)&&Vt.hasAttribute("href")}(Vt)||Vt.hasAttribute("contenteditable")||Ae(Vt))}(mt)&&!this.isDisabled(mt)&&(st?.ignoreVisibility||this.isVisible(mt))}static#e=this.\u0275fac=function(st){return new(st||Vt)(x.KVO(R.OD))};static#t=this.\u0275prov=x.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})();function Ae(Vt){if(!Vt.hasAttribute("tabindex")||void 0===Vt.tabIndex)return!1;let $t=Vt.getAttribute("tabindex");return!(!$t||isNaN(parseInt($t,10)))}function ke(Vt){if(!Ae(Vt))return null;const $t=parseInt(Vt.getAttribute("tabindex")||"",10);return isNaN($t)?-1:$t}class Oe{get enabled(){return this._enabled}set enabled($t){this._enabled=$t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex($t,this._startAnchor),this._toggleAnchorTabIndex($t,this._endAnchor))}constructor($t,mt,st,Nt,Kt=!1,qt){this._element=$t,this._checker=mt,this._ngZone=st,this._document=Nt,this._injector=qt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Kt||this.attachAnchors()}destroy(){const $t=this._startAnchor,mt=this._endAnchor;$t&&($t.removeEventListener("focus",this.startAnchorListener),$t.remove()),mt&&(mt.removeEventListener("focus",this.endAnchorListener),mt.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady($t){return new Promise(mt=>{this._executeOnStable(()=>mt(this.focusInitialElement($t)))})}focusFirstTabbableElementWhenReady($t){return new Promise(mt=>{this._executeOnStable(()=>mt(this.focusFirstTabbableElement($t)))})}focusLastTabbableElementWhenReady($t){return new Promise(mt=>{this._executeOnStable(()=>mt(this.focusLastTabbableElement($t)))})}_getRegionBoundary($t){const mt=this._element.querySelectorAll(`[cdk-focus-region-${$t}], [cdkFocusRegion${$t}], [cdk-focus-${$t}]`);return"start"==$t?mt.length?mt[0]:this._getFirstTabbableElement(this._element):mt.length?mt[mt.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement($t){const mt=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(mt){if(!this._checker.isFocusable(mt)){const st=this._getFirstTabbableElement(mt);return st?.focus($t),!!st}return mt.focus($t),!0}return this.focusFirstTabbableElement($t)}focusFirstTabbableElement($t){const mt=this._getRegionBoundary("start");return mt&&mt.focus($t),!!mt}focusLastTabbableElement($t){const mt=this._getRegionBoundary("end");return mt&&mt.focus($t),!!mt}hasAttached(){return this._hasAttached}_getFirstTabbableElement($t){if(this._checker.isFocusable($t)&&this._checker.isTabbable($t))return $t;const mt=$t.children;for(let st=0;st<mt.length;st++){const Nt=mt[st].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(mt[st]):null;if(Nt)return Nt}return null}_getLastTabbableElement($t){if(this._checker.isFocusable($t)&&this._checker.isTabbable($t))return $t;const mt=$t.children;for(let st=mt.length-1;st>=0;st--){const Nt=mt[st].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(mt[st]):null;if(Nt)return Nt}return null}_createAnchor(){const $t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,$t),$t.classList.add("cdk-visually-hidden"),$t.classList.add("cdk-focus-trap-anchor"),$t.setAttribute("aria-hidden","true"),$t}_toggleAnchorTabIndex($t,mt){$t?mt.setAttribute("tabindex","0"):mt.removeAttribute("tabindex")}toggleAnchors($t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex($t,this._startAnchor),this._toggleAnchorTabIndex($t,this._endAnchor))}_executeOnStable($t){this._injector?(0,x.mal)($t,{injector:this._injector}):setTimeout($t)}}let ye=(()=>{class Vt{constructor(mt,st,Nt){this._checker=mt,this._ngZone=st,this._injector=(0,x.WQX)(x.zZn),this._document=Nt}create(mt,st=!1){return new Oe(mt,this._checker,this._ngZone,this._document,st,this._injector)}static#e=this.\u0275fac=function(st){return new(st||Vt)(x.KVO(j),x.KVO(x.SKi),x.KVO(m.qQ))};static#t=this.\u0275prov=x.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})();function be(Vt){return 0===Vt.buttons||0===Vt.detail}function Ie(Vt){const $t=Vt.touches&&Vt.touches[0]||Vt.changedTouches&&Vt.changedTouches[0];return!(!$t||-1!==$t.identifier||null!=$t.radiusX&&1!==$t.radiusX||null!=$t.radiusY&&1!==$t.radiusY)}const Ne=new x.nKC("cdk-input-modality-detector-options"),Be={ignoreKeys:[N.A$,N.W3,N.eg,N.Ge,N.FX]},Ke=(0,R.BQ)({passive:!0,capture:!0});let Re=(()=>{class Vt{get mostRecentModality(){return this._modality.value}constructor(mt,st,Nt,Kt){this._platform=mt,this._mostRecentTarget=null,this._modality=new L.t(null),this._lastTouchMs=0,this._onKeydown=qt=>{this._options?.ignoreKeys?.some(or=>or===qt.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,R.Fb)(qt))},this._onMousedown=qt=>{Date.now()-this._lastTouchMs<650||(this._modality.next(be(qt)?"keyboard":"mouse"),this._mostRecentTarget=(0,R.Fb)(qt))},this._onTouchstart=qt=>{Ie(qt)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,R.Fb)(qt))},this._options={...Be,...Kt},this.modalityDetected=this._modality.pipe((0,V.i)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Z.F)()),mt.isBrowser&&st.runOutsideAngular(()=>{Nt.addEventListener("keydown",this._onKeydown,Ke),Nt.addEventListener("mousedown",this._onMousedown,Ke),Nt.addEventListener("touchstart",this._onTouchstart,Ke)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ke),document.removeEventListener("mousedown",this._onMousedown,Ke),document.removeEventListener("touchstart",this._onTouchstart,Ke))}static#e=this.\u0275fac=function(st){return new(st||Vt)(x.KVO(R.OD),x.KVO(x.SKi),x.KVO(m.qQ),x.KVO(Ne,8))};static#t=this.\u0275prov=x.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})();const ot=new x.nKC("liveAnnouncerElement",{providedIn:"root",factory:function U(){return null}}),_=new x.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let p=0,O=(()=>{class Vt{constructor(mt,st,Nt,Kt){this._ngZone=st,this._defaultOptions=Kt,this._document=Nt,this._liveElement=mt||this._createLiveElement()}announce(mt,...st){const Nt=this._defaultOptions;let Kt,qt;return 1===st.length&&"number"==typeof st[0]?qt=st[0]:[Kt,qt]=st,this.clear(),clearTimeout(this._previousTimeout),Kt||(Kt=Nt&&Nt.politeness?Nt.politeness:"polite"),null==qt&&Nt&&(qt=Nt.duration),this._liveElement.setAttribute("aria-live",Kt),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(or=>this._currentResolve=or)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=mt,"number"==typeof qt&&(this._previousTimeout=setTimeout(()=>this.clear(),qt)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const mt="cdk-live-announcer-element",st=this._document.getElementsByClassName(mt),Nt=this._document.createElement("div");for(let Kt=0;Kt<st.length;Kt++)st[Kt].remove();return Nt.classList.add(mt),Nt.classList.add("cdk-visually-hidden"),Nt.setAttribute("aria-atomic","true"),Nt.setAttribute("aria-live","polite"),Nt.id="cdk-live-announcer-"+p++,this._document.body.appendChild(Nt),Nt}_exposeAnnouncerToModals(mt){const st=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let Nt=0;Nt<st.length;Nt++){const Kt=st[Nt],qt=Kt.getAttribute("aria-owns");qt?-1===qt.indexOf(mt)&&Kt.setAttribute("aria-owns",qt+" "+mt):Kt.setAttribute("aria-owns",mt)}}static#e=this.\u0275fac=function(st){return new(st||Vt)(x.KVO(ot,8),x.KVO(x.SKi),x.KVO(m.qQ),x.KVO(_,8))};static#t=this.\u0275prov=x.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})();var me=function(Vt){return Vt[Vt.IMMEDIATE=0]="IMMEDIATE",Vt[Vt.EVENTUAL=1]="EVENTUAL",Vt}(me||{});const xe=new x.nKC("cdk-focus-monitor-default-options"),qe=(0,R.BQ)({passive:!0,capture:!0});let At=(()=>{class Vt{constructor(mt,st,Nt,Kt,qt){this._ngZone=mt,this._platform=st,this._inputModalityDetector=Nt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new W.B,this._rootNodeFocusAndBlurListener=or=>{for(let gt=(0,R.Fb)(or);gt;gt=gt.parentElement)"focus"===or.type?this._onFocus(or,gt):this._onBlur(or,gt)},this._document=Kt,this._detectionMode=qt?.detectionMode||me.IMMEDIATE}monitor(mt,st=!1){const Nt=(0,Q.i8)(mt);if(!this._platform.isBrowser||1!==Nt.nodeType)return(0,M.of)();const Kt=(0,R.KT)(Nt)||this._getDocument(),qt=this._elementInfo.get(Nt);if(qt)return st&&(qt.checkChildren=!0),qt.subject;const or={checkChildren:st,subject:new W.B,rootNode:Kt};return this._elementInfo.set(Nt,or),this._registerGlobalListeners(or),or.subject}stopMonitoring(mt){const st=(0,Q.i8)(mt),Nt=this._elementInfo.get(st);Nt&&(Nt.subject.complete(),this._setClasses(st),this._elementInfo.delete(st),this._removeGlobalListeners(Nt))}focusVia(mt,st,Nt){const Kt=(0,Q.i8)(mt);Kt===this._getDocument().activeElement?this._getClosestElementsInfo(Kt).forEach(([or,ft])=>this._originChanged(or,st,ft)):(this._setOrigin(st),"function"==typeof Kt.focus&&Kt.focus(Nt))}ngOnDestroy(){this._elementInfo.forEach((mt,st)=>this.stopMonitoring(st))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(mt){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(mt)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:mt&&this._isLastInteractionFromInputLabel(mt)?"mouse":"program"}_shouldBeAttributedToTouch(mt){return this._detectionMode===me.EVENTUAL||!!mt?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(mt,st){mt.classList.toggle("cdk-focused",!!st),mt.classList.toggle("cdk-touch-focused","touch"===st),mt.classList.toggle("cdk-keyboard-focused","keyboard"===st),mt.classList.toggle("cdk-mouse-focused","mouse"===st),mt.classList.toggle("cdk-program-focused","program"===st)}_setOrigin(mt,st=!1){this._ngZone.runOutsideAngular(()=>{this._origin=mt,this._originFromTouchInteraction="touch"===mt&&st,this._detectionMode===me.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(mt,st){const Nt=this._elementInfo.get(st),Kt=(0,R.Fb)(mt);!Nt||!Nt.checkChildren&&st!==Kt||this._originChanged(st,this._getFocusOrigin(Kt),Nt)}_onBlur(mt,st){const Nt=this._elementInfo.get(st);!Nt||Nt.checkChildren&&mt.relatedTarget instanceof Node&&st.contains(mt.relatedTarget)||(this._setClasses(st),this._emitOrigin(Nt,null))}_emitOrigin(mt,st){mt.subject.observers.length&&this._ngZone.run(()=>mt.subject.next(st))}_registerGlobalListeners(mt){if(!this._platform.isBrowser)return;const st=mt.rootNode,Nt=this._rootNodeFocusListenerCount.get(st)||0;Nt||this._ngZone.runOutsideAngular(()=>{st.addEventListener("focus",this._rootNodeFocusAndBlurListener,qe),st.addEventListener("blur",this._rootNodeFocusAndBlurListener,qe)}),this._rootNodeFocusListenerCount.set(st,Nt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,re.Q)(this._stopInputModalityDetector)).subscribe(Kt=>{this._setOrigin(Kt,!0)}))}_removeGlobalListeners(mt){const st=mt.rootNode;if(this._rootNodeFocusListenerCount.has(st)){const Nt=this._rootNodeFocusListenerCount.get(st);Nt>1?this._rootNodeFocusListenerCount.set(st,Nt-1):(st.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qe),st.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qe),this._rootNodeFocusListenerCount.delete(st))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(mt,st,Nt){this._setClasses(mt,st),this._emitOrigin(Nt,st),this._lastFocusOrigin=st}_getClosestElementsInfo(mt){const st=[];return this._elementInfo.forEach((Nt,Kt)=>{(Kt===mt||Nt.checkChildren&&Kt.contains(mt))&&st.push([Kt,Nt])}),st}_isLastInteractionFromInputLabel(mt){const{_mostRecentTarget:st,mostRecentModality:Nt}=this._inputModalityDetector;if("mouse"!==Nt||!st||st===mt||"INPUT"!==mt.nodeName&&"TEXTAREA"!==mt.nodeName||mt.disabled)return!1;const Kt=mt.labels;if(Kt)for(let qt=0;qt<Kt.length;qt++)if(Kt[qt].contains(st))return!0;return!1}static#e=this.\u0275fac=function(st){return new(st||Vt)(x.KVO(x.SKi),x.KVO(R.OD),x.KVO(Re),x.KVO(m.qQ,8),x.KVO(xe,8))};static#t=this.\u0275prov=x.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})(),ut=(()=>{class Vt{constructor(mt,st){this._elementRef=mt,this._focusMonitor=st,this._focusOrigin=null,this.cdkFocusChange=new x.bkB}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const mt=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(mt,1===mt.nodeType&&mt.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(st=>{this._focusOrigin=st,this.cdkFocusChange.emit(st)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(st){return new(st||Vt)(x.rXU(x.aKT),x.rXU(At))};static#t=this.\u0275dir=x.FsC({type:Vt,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}return Vt})();var bt=function(Vt){return Vt[Vt.NONE=0]="NONE",Vt[Vt.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",Vt[Vt.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",Vt}(bt||{});const Lt="cdk-high-contrast-black-on-white",en="cdk-high-contrast-white-on-black",Zt="cdk-high-contrast-active";let Jn=(()=>{class Vt{constructor(mt,st){this._platform=mt,this._document=st,this._breakpointSubscription=(0,x.WQX)(J.QP).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return bt.NONE;const mt=this._document.createElement("div");mt.style.backgroundColor="rgb(1,2,3)",mt.style.position="absolute",this._document.body.appendChild(mt);const st=this._document.defaultView||window,Nt=st&&st.getComputedStyle?st.getComputedStyle(mt):null,Kt=(Nt&&Nt.backgroundColor||"").replace(/ /g,"");switch(mt.remove(),Kt){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return bt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return bt.BLACK_ON_WHITE}return bt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const mt=this._document.body.classList;mt.remove(Zt,Lt,en),this._hasCheckedHighContrastMode=!0;const st=this.getHighContrastMode();st===bt.BLACK_ON_WHITE?mt.add(Zt,Lt):st===bt.WHITE_ON_BLACK&&mt.add(Zt,en)}}static#e=this.\u0275fac=function(st){return new(st||Vt)(x.KVO(R.OD),x.KVO(m.qQ))};static#t=this.\u0275prov=x.jDH({token:Vt,factory:Vt.\u0275fac,providedIn:"root"})}return Vt})(),yn=(()=>{class Vt{constructor(mt){mt._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(st){return new(st||Vt)(x.KVO(Jn))};static#t=this.\u0275mod=x.$C({type:Vt});static#n=this.\u0275inj=x.G2t({imports:[te.w5]})}return Vt})()},28203:(Le,z,E)=>{"use strict";E.d(z,{dS:()=>M,jI:()=>$});var m=E(93953),x=E(60177);const R=new m.nKC("cdk-dir-doc",{providedIn:"root",factory:function W(){return(0,m.WQX)(x.qQ)}}),S=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let M=(()=>{class F{constructor(X){this.value="ltr",this.change=new m.bkB,X&&(this.value=function L(F){const I=F?.toLowerCase()||"";return"auto"===I&&typeof navigator<"u"&&navigator?.language?S.test(navigator.language)?"rtl":"ltr":"rtl"===I?"rtl":"ltr"}((X.body?X.body.dir:null)||(X.documentElement?X.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(V){return new(V||F)(m.KVO(R,8))};static#t=this.\u0275prov=m.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})(),$=(()=>{class F{static#e=this.\u0275fac=function(V){return new(V||F)};static#t=this.\u0275mod=m.$C({type:F});static#n=this.\u0275inj=m.G2t({})}return F})()},14085:(Le,z,E)=>{"use strict";E.d(z,{FG:()=>S,OE:()=>R,a1:()=>L,he:()=>x,i8:()=>M,o1:()=>W});var m=E(93953);function x($){return null!=$&&"false"!=`${$}`}function R($,F=0){return W($)?Number($):2===arguments.length?F:0}function W($){return!isNaN(parseFloat($))&&!isNaN(Number($))}function S($){return Array.isArray($)?$:[$]}function L($){return null==$?"":"string"==typeof $?$:`${$}px`}function M($){return $ instanceof m.aKT?$.nativeElement:$}},45024:(Le,z,E)=>{"use strict";E.d(z,{CB:()=>V,DQ:()=>X,Q3:()=>$,qS:()=>L,sL:()=>F,xn:()=>I,y4:()=>M,zP:()=>re});var m=E(30017),W=(E(74402),E(7673),E(21413)),S=E(93953);class L{}function M(te){return te&&"function"==typeof te.connect&&!(te instanceof m.G)}var $=function(te){return te[te.REPLACED=0]="REPLACED",te[te.INSERTED=1]="INSERTED",te[te.MOVED=2]="MOVED",te[te.REMOVED=3]="REMOVED",te}($||{});const F=new S.nKC("_ViewRepeater");class I{applyChanges(Q,J,oe,se,ae){Q.forEachOperation((pe,le,ve)=>{let we,De;if(null==pe.previousIndex){const k=oe(pe,le,ve);we=J.createEmbeddedView(k.templateRef,k.context,k.index),De=$.INSERTED}else null==ve?(J.remove(le),De=$.REMOVED):(we=J.get(le),J.move(we,ve),De=$.MOVED);ae&&ae({context:we?.context,operation:De,record:pe})})}detach(){}}class X{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(Q,J,oe,se,ae){Q.forEachOperation((pe,le,ve)=>{let we,De;null==pe.previousIndex?(we=this._insertView(()=>oe(pe,le,ve),ve,J,se(pe)),De=we?$.INSERTED:$.REPLACED):null==ve?(this._detachAndCacheView(le,J),De=$.REMOVED):(we=this._moveView(le,ve,J,se(pe)),De=$.MOVED),ae&&ae({context:we?.context,operation:De,record:pe})})}detach(){for(const Q of this._viewCache)Q.destroy();this._viewCache=[]}_insertView(Q,J,oe,se){const ae=this._insertViewFromCache(J,oe);if(ae)return void(ae.context.$implicit=se);const pe=Q();return oe.createEmbeddedView(pe.templateRef,pe.context,pe.index)}_detachAndCacheView(Q,J){const oe=J.detach(Q);this._maybeCacheView(oe,J)}_moveView(Q,J,oe,se){const ae=oe.get(Q);return oe.move(ae,J),ae.context.$implicit=se,ae}_maybeCacheView(Q,J){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(Q);else{const oe=J.indexOf(Q);-1===oe?Q.destroy():J.remove(oe)}}_insertViewFromCache(Q,J){const oe=this._viewCache.pop();return oe&&J.insert(oe,Q),oe||null}}class V{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(Q=!1,J,oe=!0,se){this._multiple=Q,this._emitChanges=oe,this.compareWith=se,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new W.B,J&&J.length&&(Q?J.forEach(ae=>this._markSelected(ae)):this._markSelected(J[0]),this._selectedToEmit.length=0)}select(...Q){this._verifyValueAssignment(Q),Q.forEach(oe=>this._markSelected(oe));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}deselect(...Q){this._verifyValueAssignment(Q),Q.forEach(oe=>this._unmarkSelected(oe));const J=this._hasQueuedChanges();return this._emitChangeEvent(),J}setSelection(...Q){this._verifyValueAssignment(Q);const J=this.selected,oe=new Set(Q);Q.forEach(ae=>this._markSelected(ae)),J.filter(ae=>!oe.has(this._getConcreteValue(ae,oe))).forEach(ae=>this._unmarkSelected(ae));const se=this._hasQueuedChanges();return this._emitChangeEvent(),se}toggle(Q){return this.isSelected(Q)?this.deselect(Q):this.select(Q)}clear(Q=!0){this._unmarkAll();const J=this._hasQueuedChanges();return Q&&this._emitChangeEvent(),J}isSelected(Q){return this._selection.has(this._getConcreteValue(Q))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(Q){this._multiple&&this.selected&&this._selected.sort(Q)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(Q){Q=this._getConcreteValue(Q),this.isSelected(Q)||(this._multiple||this._unmarkAll(),this.isSelected(Q)||this._selection.add(Q),this._emitChanges&&this._selectedToEmit.push(Q))}_unmarkSelected(Q){Q=this._getConcreteValue(Q),this.isSelected(Q)&&(this._selection.delete(Q),this._emitChanges&&this._deselectedToEmit.push(Q))}_unmarkAll(){this.isEmpty()||this._selection.forEach(Q=>this._unmarkSelected(Q))}_verifyValueAssignment(Q){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(Q,J){if(this.compareWith){J=J??this._selection;for(let oe of J)if(this.compareWith(Q,oe))return oe;return Q}return Q}}let re=(()=>{class te{constructor(){this._listeners=[]}notify(J,oe){for(let se of this._listeners)se(J,oe)}listen(J){return this._listeners.push(J),()=>{this._listeners=this._listeners.filter(oe=>J!==oe)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(oe){return new(oe||te)};static#t=this.\u0275prov=S.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})()},67336:(Le,z,E)=>{"use strict";E.d(z,{A:()=>H,A$:()=>N,FX:()=>L,Fm:()=>S,G_:()=>x,Ge:()=>p,Kp:()=>re,LE:()=>oe,SJ:()=>ve,UQ:()=>Q,W3:()=>M,Z:()=>_,_f:()=>I,bn:()=>j,dB:()=>Z,eg:()=>er,f2:()=>we,i7:()=>J,n6:()=>se,rp:()=>yr,t6:()=>X,w_:()=>V,wn:()=>R,yZ:()=>te});const x=8,R=9,S=13,L=16,M=17,N=18,I=27,X=32,V=33,Z=34,re=35,te=36,Q=37,J=38,oe=39,se=40,ve=46,we=48,j=57,H=65,_=90,p=91,er=224;function yr(pr,...Nr){return Nr.length?Nr.some(Cr=>pr[Cr]):pr.altKey||pr.shiftKey||pr.ctrlKey||pr.metaKey}},99327:(Le,z,E)=>{"use strict";E.d(z,{QP:()=>se,Rp:()=>pe});var m=E(93953),x=E(14085),R=E(21413),W=E(84572),S=E(28793),L=E(71985),M=E(96697),N=E(65245),$=E(70152),F=E(96354),I=E(99172),X=E(56977),V=E(36860);const re=new Set;let te,Q=(()=>{class le{constructor(we,De){this._platform=we,this._nonce=De,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):oe}matchMedia(we){return(this._platform.WEBKIT||this._platform.BLINK)&&function J(le,ve){if(!re.has(le))try{te||(te=document.createElement("style"),ve&&te.setAttribute("nonce",ve),te.setAttribute("type","text/css"),document.head.appendChild(te)),te.sheet&&(te.sheet.insertRule(`@media ${le} {body{ }}`,0),re.add(le))}catch(we){console.error(we)}}(we,this._nonce),this._matchMedia(we)}static#e=this.\u0275fac=function(De){return new(De||le)(m.KVO(V.OD),m.KVO(m.BIS,8))};static#t=this.\u0275prov=m.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function oe(le){return{matches:"all"===le||""===le,media:le,addListener:()=>{},removeListener:()=>{}}}let se=(()=>{class le{constructor(we,De){this._mediaMatcher=we,this._zone=De,this._queries=new Map,this._destroySubject=new R.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(we){return ae((0,x.FG)(we)).some(k=>this._registerQuery(k).mql.matches)}observe(we){const k=ae((0,x.FG)(we)).map(h=>this._registerQuery(h).observable);let u=(0,W.z)(k);return u=(0,S.x)(u.pipe((0,M.s)(1)),u.pipe((0,N.i)(1),(0,$.B)(0))),u.pipe((0,F.T)(h=>{const y={matches:!1,breakpoints:{}};return h.forEach(({matches:w,query:T})=>{y.matches=y.matches||w,y.breakpoints[T]=w}),y}))}_registerQuery(we){if(this._queries.has(we))return this._queries.get(we);const De=this._mediaMatcher.matchMedia(we),u={observable:new L.c(h=>{const y=w=>this._zone.run(()=>h.next(w));return De.addListener(y),()=>{De.removeListener(y)}}).pipe((0,I.Z)(De),(0,F.T)(({matches:h})=>({query:we,matches:h})),(0,X.Q)(this._destroySubject)),mql:De};return this._queries.set(we,u),u}static#e=this.\u0275fac=function(De){return new(De||le)(m.KVO(Q),m.KVO(m.SKi))};static#t=this.\u0275prov=m.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();function ae(le){return le.map(ve=>ve.split(",")).reduce((ve,we)=>ve.concat(we)).map(ve=>ve.trim())}const pe={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},49937:(Le,z,E)=>{"use strict";E.d(z,{Wv:()=>I,w5:()=>X});var m=E(14085),x=E(93953),R=E(71985),W=E(21413),S=E(96354),L=E(5964),M=E(70152);let $=(()=>{class V{create(re){return typeof MutationObserver>"u"?null:new MutationObserver(re)}static#e=this.\u0275fac=function(te){return new(te||V)};static#t=this.\u0275prov=x.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),F=(()=>{class V{constructor(re){this._mutationObserverFactory=re,this._observedElements=new Map,this._ngZone=(0,x.WQX)(x.SKi)}ngOnDestroy(){this._observedElements.forEach((re,te)=>this._cleanupObserver(te))}observe(re){const te=(0,m.i8)(re);return new R.c(Q=>{const oe=this._observeElement(te).pipe((0,S.T)(se=>se.filter(ae=>!function N(V){if("characterData"===V.type&&V.target instanceof Comment)return!0;if("childList"===V.type){for(let Z=0;Z<V.addedNodes.length;Z++)if(!(V.addedNodes[Z]instanceof Comment))return!1;for(let Z=0;Z<V.removedNodes.length;Z++)if(!(V.removedNodes[Z]instanceof Comment))return!1;return!0}return!1}(ae))),(0,L.p)(se=>!!se.length)).subscribe(se=>{this._ngZone.run(()=>{Q.next(se)})});return()=>{oe.unsubscribe(),this._unobserveElement(te)}})}_observeElement(re){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(re))this._observedElements.get(re).count++;else{const te=new W.B,Q=this._mutationObserverFactory.create(J=>te.next(J));Q&&Q.observe(re,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(re,{observer:Q,stream:te,count:1})}return this._observedElements.get(re).stream})}_unobserveElement(re){this._observedElements.has(re)&&(this._observedElements.get(re).count--,this._observedElements.get(re).count||this._cleanupObserver(re))}_cleanupObserver(re){if(this._observedElements.has(re)){const{observer:te,stream:Q}=this._observedElements.get(re);te&&te.disconnect(),Q.complete(),this._observedElements.delete(re)}}static#e=this.\u0275fac=function(te){return new(te||V)(x.KVO($))};static#t=this.\u0275prov=x.jDH({token:V,factory:V.\u0275fac,providedIn:"root"})}return V})(),I=(()=>{class V{get disabled(){return this._disabled}set disabled(re){this._disabled=re,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(re){this._debounce=(0,m.OE)(re),this._subscribe()}constructor(re,te){this._contentObserver=re,this._elementRef=te,this.event=new x.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const re=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?re.pipe((0,M.B)(this.debounce)):re).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(te){return new(te||V)(x.rXU(F),x.rXU(x.aKT))};static#t=this.\u0275dir=x.FsC({type:V,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",x.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[x.GFd]})}return V})(),X=(()=>{class V{static#e=this.\u0275fac=function(te){return new(te||V)};static#t=this.\u0275mod=x.$C({type:V});static#n=this.\u0275inj=x.G2t({providers:[$]})}return V})()},98170:(Le,z,E)=>{"use strict";E.d(z,{a:()=>$});var m=E(93953),x=E(21413),R=E(71985),W=E(5964),S=E(44668),L=E(56977);class N{constructor(I){this._box=I,this._destroyed=new x.B,this._resizeSubject=new x.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(X=>this._resizeSubject.next(X)))}observe(I){return this._elementObservables.has(I)||this._elementObservables.set(I,new R.c(X=>{const V=this._resizeSubject.subscribe(X);return this._resizeObserver?.observe(I,{box:this._box}),()=>{this._resizeObserver?.unobserve(I),V.unsubscribe(),this._elementObservables.delete(I)}}).pipe((0,W.p)(X=>X.some(V=>V.target===I)),(0,S.t)({bufferSize:1,refCount:!0}),(0,L.Q)(this._destroyed))),this._elementObservables.get(I)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let $=(()=>{class F{constructor(){this._observers=new Map,this._ngZone=(0,m.WQX)(m.SKi)}ngOnDestroy(){for(const[,X]of this._observers)X.destroy();this._observers.clear()}observe(X,V){const Z=V?.box||"content-box";return this._observers.has(Z)||this._observers.set(Z,new N(Z)),this._observers.get(Z).observe(X)}static#e=this.\u0275fac=function(V){return new(V||F)};static#t=this.\u0275prov=m.jDH({token:F,factory:F.\u0275fac,providedIn:"root"})}return F})()},66969:(Le,z,E)=>{"use strict";E.d(z,{WB:()=>be,$Q:()=>ue,hJ:()=>fe,rR:()=>De,Sf:()=>l,z_:()=>Be,yY:()=>g,EB:()=>ge,pq:()=>Ee});var m=E(67333),x=E(60177),R=E(93953),W=E(14085),S=E(36860),L=E(5964),M=E(56977),N=E(39974),$=E(54360),I=E(28203),X=E(76939),V=E(21413),Z=E(18359),re=E(57786),te=E(67336);const Q=(0,S.CZ)();class J{constructor(Re,ot){this._viewportRuler=Re,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=ot}attach(){}enable(){if(this._canBeEnabled()){const Re=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=Re.style.left||"",this._previousHTMLStyles.top=Re.style.top||"",Re.style.left=(0,W.a1)(-this._previousScrollPosition.left),Re.style.top=(0,W.a1)(-this._previousScrollPosition.top),Re.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const Re=this._document.documentElement,U=Re.style,_=this._document.body.style,p=U.scrollBehavior||"",O=_.scrollBehavior||"";this._isEnabled=!1,U.left=this._previousHTMLStyles.left,U.top=this._previousHTMLStyles.top,Re.classList.remove("cdk-global-scrollblock"),Q&&(U.scrollBehavior=_.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Q&&(U.scrollBehavior=p,_.scrollBehavior=O)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const ot=this._document.body,U=this._viewportRuler.getViewportSize();return ot.scrollHeight>U.height||ot.scrollWidth>U.width}}class se{constructor(Re,ot,U,_){this._scrollDispatcher=Re,this._ngZone=ot,this._viewportRuler=U,this._config=_,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(Re){this._overlayRef=Re}enable(){if(this._scrollSubscription)return;const Re=this._scrollDispatcher.scrolled(0).pipe((0,L.p)(ot=>!ot||!this._overlayRef.overlayElement.contains(ot.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=Re.subscribe(()=>{const ot=this._viewportRuler.getViewportScrollPosition().top;Math.abs(ot-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=Re.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ae{enable(){}disable(){}attach(){}}function pe(Ke,Re){return Re.some(ot=>Ke.bottom<ot.top||Ke.top>ot.bottom||Ke.right<ot.left||Ke.left>ot.right)}function le(Ke,Re){return Re.some(ot=>Ke.top<ot.top||Ke.bottom>ot.bottom||Ke.left<ot.left||Ke.right>ot.right)}class ve{constructor(Re,ot,U,_){this._scrollDispatcher=Re,this._viewportRuler=ot,this._ngZone=U,this._config=_,this._scrollSubscription=null}attach(Re){this._overlayRef=Re}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const ot=this._overlayRef.overlayElement.getBoundingClientRect(),{width:U,height:_}=this._viewportRuler.getViewportSize();pe(ot,[{width:U,height:_,bottom:_,right:U,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let we=(()=>{class Ke{constructor(ot,U,_,p){this._scrollDispatcher=ot,this._viewportRuler=U,this._ngZone=_,this.noop=()=>new ae,this.close=O=>new se(this._scrollDispatcher,this._ngZone,this._viewportRuler,O),this.block=()=>new J(this._viewportRuler,this._document),this.reposition=O=>new ve(this._scrollDispatcher,this._viewportRuler,this._ngZone,O),this._document=p}static#e=this.\u0275fac=function(U){return new(U||Ke)(R.KVO(m.R),R.KVO(m.Xj),R.KVO(R.SKi),R.KVO(x.qQ))};static#t=this.\u0275prov=R.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();class De{constructor(Re){if(this.scrollStrategy=new ae,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,Re){const ot=Object.keys(Re);for(const U of ot)void 0!==Re[U]&&(this[U]=Re[U])}}}class h{constructor(Re,ot){this.connectionPair=Re,this.scrollableViewProperties=ot}}let T=(()=>{class Ke{constructor(ot){this._attachedOverlays=[],this._document=ot}ngOnDestroy(){this.detach()}add(ot){this.remove(ot),this._attachedOverlays.push(ot)}remove(ot){const U=this._attachedOverlays.indexOf(ot);U>-1&&this._attachedOverlays.splice(U,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(U){return new(U||Ke)(R.KVO(x.qQ))};static#t=this.\u0275prov=R.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),D=(()=>{class Ke extends T{constructor(ot,U){super(ot),this._ngZone=U,this._keydownListener=_=>{const p=this._attachedOverlays;for(let O=p.length-1;O>-1;O--)if(p[O]._keydownEvents.observers.length>0){const q=p[O]._keydownEvents;this._ngZone?this._ngZone.run(()=>q.next(_)):q.next(_);break}}}add(ot){super.add(ot),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(U){return new(U||Ke)(R.KVO(x.qQ),R.KVO(R.SKi,8))};static#t=this.\u0275prov=R.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),j=(()=>{class Ke extends T{constructor(ot,U,_){super(ot),this._platform=U,this._ngZone=_,this._cursorStyleIsSet=!1,this._pointerDownListener=p=>{this._pointerDownEventTarget=(0,S.Fb)(p)},this._clickListener=p=>{const O=(0,S.Fb)(p),q="click"===p.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:O;this._pointerDownEventTarget=null;const me=this._attachedOverlays.slice();for(let xe=me.length-1;xe>-1;xe--){const qe=me[xe];if(qe._outsidePointerEvents.observers.length<1||!qe.hasAttached())continue;if(A(qe.overlayElement,O)||A(qe.overlayElement,q))break;const At=qe._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>At.next(p)):At.next(p)}}}add(ot){if(super.add(ot),!this._isAttached){const U=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(U)):this._addEventListeners(U),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=U.style.cursor,U.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const ot=this._document.body;ot.removeEventListener("pointerdown",this._pointerDownListener,!0),ot.removeEventListener("click",this._clickListener,!0),ot.removeEventListener("auxclick",this._clickListener,!0),ot.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(ot.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(ot){ot.addEventListener("pointerdown",this._pointerDownListener,!0),ot.addEventListener("click",this._clickListener,!0),ot.addEventListener("auxclick",this._clickListener,!0),ot.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(U){return new(U||Ke)(R.KVO(x.qQ),R.KVO(S.OD),R.KVO(R.SKi,8))};static#t=this.\u0275prov=R.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();function A(Ke,Re){const ot=typeof ShadowRoot<"u"&&ShadowRoot;let U=Re;for(;U;){if(U===Ke)return!0;U=ot&&U instanceof ShadowRoot?U.host:U.parentNode}return!1}let l=(()=>{class Ke{constructor(ot,U){this._platform=U,this._document=ot}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ot="cdk-overlay-container";if(this._platform.isBrowser||(0,S.v8)()){const _=this._document.querySelectorAll(`.${ot}[platform="server"], .${ot}[platform="test"]`);for(let p=0;p<_.length;p++)_[p].remove()}const U=this._document.createElement("div");U.classList.add(ot),(0,S.v8)()?U.setAttribute("platform","test"):this._platform.isBrowser||U.setAttribute("platform","server"),this._document.body.appendChild(U),this._containerElement=U}static#e=this.\u0275fac=function(U){return new(U||Ke)(R.KVO(x.qQ),R.KVO(S.OD))};static#t=this.\u0275prov=R.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();class g{constructor(Re,ot,U,_,p,O,q,me,xe,qe=!1,At){this._portalOutlet=Re,this._host=ot,this._pane=U,this._config=_,this._ngZone=p,this._keyboardDispatcher=O,this._document=q,this._location=me,this._outsideClickDispatcher=xe,this._animationsDisabled=qe,this._injector=At,this._backdropElement=null,this._backdropClick=new V.B,this._attachments=new V.B,this._detachments=new V.B,this._locationChanges=Z.yU.EMPTY,this._backdropClickHandler=ut=>this._backdropClick.next(ut),this._backdropTransitionendHandler=ut=>{this._disposeBackdrop(ut.target)},this._keydownEvents=new V.B,this._outsidePointerEvents=new V.B,this._renders=new V.B,_.scrollStrategy&&(this._scrollStrategy=_.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=_.positionStrategy,this._afterRenderRef=(0,R.O8t)(()=>(0,R.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(Re){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const ot=this._portalOutlet.attach(Re);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,R.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof ot?.onDestroy&&ot.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),ot}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const Re=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),Re}dispose(){const Re=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,Re&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(Re){Re!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=Re,this.hasAttached()&&(Re.attach(this),this.updatePosition()))}updateSize(Re){this._config={...this._config,...Re},this._updateElementSize()}setDirection(Re){this._config={...this._config,direction:Re},this._updateElementDirection()}addPanelClass(Re){this._pane&&this._toggleClasses(this._pane,Re,!0)}removePanelClass(Re){this._pane&&this._toggleClasses(this._pane,Re,!1)}getDirection(){const Re=this._config.direction;return Re?"string"==typeof Re?Re:Re.value:"ltr"}updateScrollStrategy(Re){Re!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=Re,this.hasAttached()&&(Re.attach(this),Re.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const Re=this._pane.style;Re.width=(0,W.a1)(this._config.width),Re.height=(0,W.a1)(this._config.height),Re.minWidth=(0,W.a1)(this._config.minWidth),Re.minHeight=(0,W.a1)(this._config.minHeight),Re.maxWidth=(0,W.a1)(this._config.maxWidth),Re.maxHeight=(0,W.a1)(this._config.maxHeight)}_togglePointerEvents(Re){this._pane.style.pointerEvents=Re?"":"none"}_attachBackdrop(){const Re="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(Re)})}):this._backdropElement.classList.add(Re)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const Re=this._backdropElement;if(Re){if(this._animationsDisabled)return void this._disposeBackdrop(Re);Re.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{Re.addEventListener("transitionend",this._backdropTransitionendHandler)}),Re.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(Re)},500))}}_toggleClasses(Re,ot,U){const _=(0,W.FG)(ot||[]).filter(p=>!!p);_.length&&(U?Re.classList.add(..._):Re.classList.remove(..._))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const Re=this._renders.pipe((0,M.Q)((0,re.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),Re.unsubscribe())})})}_disposeScrollStrategy(){const Re=this._scrollStrategy;Re&&(Re.disable(),Re.detach&&Re.detach())}_disposeBackdrop(Re){Re&&(Re.removeEventListener("click",this._backdropClickHandler),Re.removeEventListener("transitionend",this._backdropTransitionendHandler),Re.remove(),this._backdropElement===Re&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const G="cdk-overlay-connected-position-bounding-box",H=/([A-Za-z%]+)$/;class ne{get positions(){return this._preferredPositions}constructor(Re,ot,U,_,p){this._viewportRuler=ot,this._document=U,this._platform=_,this._overlayContainer=p,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new V.B,this._resizeSubscription=Z.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(Re)}attach(Re){this._validatePositions(),Re.hostElement.classList.add(G),this._overlayRef=Re,this._boundingBox=Re.hostElement,this._pane=Re.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Re=this._originRect,ot=this._overlayRect,U=this._viewportRect,_=this._containerRect,p=[];let O;for(let q of this._preferredPositions){let me=this._getOriginPoint(Re,_,q),xe=this._getOverlayPoint(me,ot,q),qe=this._getOverlayFit(xe,ot,U,q);if(qe.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(q,me);this._canFitWithFlexibleDimensions(qe,xe,U)?p.push({position:q,origin:me,overlayRect:ot,boundingBoxRect:this._calculateBoundingBoxRect(me,q)}):(!O||O.overlayFit.visibleArea<qe.visibleArea)&&(O={overlayFit:qe,overlayPoint:xe,originPoint:me,position:q,overlayRect:ot})}if(p.length){let q=null,me=-1;for(const xe of p){const qe=xe.boundingBoxRect.width*xe.boundingBoxRect.height*(xe.position.weight||1);qe>me&&(me=qe,q=xe)}return this._isPushed=!1,void this._applyPosition(q.position,q.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(O.position,O.originPoint);this._applyPosition(O.position,O.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ce(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(G),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const Re=this._lastPosition;if(Re){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ot=this._getOriginPoint(this._originRect,this._containerRect,Re);this._applyPosition(Re,ot)}else this.apply()}withScrollableContainers(Re){return this._scrollables=Re,this}withPositions(Re){return this._preferredPositions=Re,-1===Re.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(Re){return this._viewportMargin=Re,this}withFlexibleDimensions(Re=!0){return this._hasFlexibleDimensions=Re,this}withGrowAfterOpen(Re=!0){return this._growAfterOpen=Re,this}withPush(Re=!0){return this._canPush=Re,this}withLockedPosition(Re=!0){return this._positionLocked=Re,this}setOrigin(Re){return this._origin=Re,this}withDefaultOffsetX(Re){return this._offsetX=Re,this}withDefaultOffsetY(Re){return this._offsetY=Re,this}withTransformOriginOn(Re){return this._transformOriginSelector=Re,this}_getOriginPoint(Re,ot,U){let _,p;if("center"==U.originX)_=Re.left+Re.width/2;else{const O=this._isRtl()?Re.right:Re.left,q=this._isRtl()?Re.left:Re.right;_="start"==U.originX?O:q}return ot.left<0&&(_-=ot.left),p="center"==U.originY?Re.top+Re.height/2:"top"==U.originY?Re.top:Re.bottom,ot.top<0&&(p-=ot.top),{x:_,y:p}}_getOverlayPoint(Re,ot,U){let _,p;return _="center"==U.overlayX?-ot.width/2:"start"===U.overlayX?this._isRtl()?-ot.width:0:this._isRtl()?0:-ot.width,p="center"==U.overlayY?-ot.height/2:"top"==U.overlayY?0:-ot.height,{x:Re.x+_,y:Re.y+p}}_getOverlayFit(Re,ot,U,_){const p=ke(ot);let{x:O,y:q}=Re,me=this._getOffset(_,"x"),xe=this._getOffset(_,"y");me&&(O+=me),xe&&(q+=xe);let ut=0-q,bt=q+p.height-U.height,Lt=this._subtractOverflows(p.width,0-O,O+p.width-U.width),en=this._subtractOverflows(p.height,ut,bt),Zt=Lt*en;return{visibleArea:Zt,isCompletelyWithinViewport:p.width*p.height===Zt,fitsInViewportVertically:en===p.height,fitsInViewportHorizontally:Lt==p.width}}_canFitWithFlexibleDimensions(Re,ot,U){if(this._hasFlexibleDimensions){const _=U.bottom-ot.y,p=U.right-ot.x,O=Ae(this._overlayRef.getConfig().minHeight),q=Ae(this._overlayRef.getConfig().minWidth);return(Re.fitsInViewportVertically||null!=O&&O<=_)&&(Re.fitsInViewportHorizontally||null!=q&&q<=p)}return!1}_pushOverlayOnScreen(Re,ot,U){if(this._previousPushAmount&&this._positionLocked)return{x:Re.x+this._previousPushAmount.x,y:Re.y+this._previousPushAmount.y};const _=ke(ot),p=this._viewportRect,O=Math.max(Re.x+_.width-p.width,0),q=Math.max(Re.y+_.height-p.height,0),me=Math.max(p.top-U.top-Re.y,0),xe=Math.max(p.left-U.left-Re.x,0);let qe=0,At=0;return qe=_.width<=p.width?xe||-O:Re.x<this._viewportMargin?p.left-U.left-Re.x:0,At=_.height<=p.height?me||-q:Re.y<this._viewportMargin?p.top-U.top-Re.y:0,this._previousPushAmount={x:qe,y:At},{x:Re.x+qe,y:Re.y+At}}_applyPosition(Re,ot){if(this._setTransformOrigin(Re),this._setOverlayElementStyles(ot,Re),this._setBoundingBoxStyles(ot,Re),Re.panelClass&&this._addPanelClasses(Re.panelClass),this._positionChanges.observers.length){const U=this._getScrollVisibility();if(Re!==this._lastPosition||!this._lastScrollVisibility||!function Fe(Ke,Re){return Ke===Re||Ke.isOriginClipped===Re.isOriginClipped&&Ke.isOriginOutsideView===Re.isOriginOutsideView&&Ke.isOverlayClipped===Re.isOverlayClipped&&Ke.isOverlayOutsideView===Re.isOverlayOutsideView}(this._lastScrollVisibility,U)){const _=new h(Re,U);this._positionChanges.next(_)}this._lastScrollVisibility=U}this._lastPosition=Re,this._isInitialRender=!1}_setTransformOrigin(Re){if(!this._transformOriginSelector)return;const ot=this._boundingBox.querySelectorAll(this._transformOriginSelector);let U,_=Re.overlayY;U="center"===Re.overlayX?"center":this._isRtl()?"start"===Re.overlayX?"right":"left":"start"===Re.overlayX?"left":"right";for(let p=0;p<ot.length;p++)ot[p].style.transformOrigin=`${U} ${_}`}_calculateBoundingBoxRect(Re,ot){const U=this._viewportRect,_=this._isRtl();let p,O,q,qe,At,ut;if("top"===ot.overlayY)O=Re.y,p=U.height-O+this._viewportMargin;else if("bottom"===ot.overlayY)q=U.height-Re.y+2*this._viewportMargin,p=U.height-q+this._viewportMargin;else{const bt=Math.min(U.bottom-Re.y+U.top,Re.y),Lt=this._lastBoundingBoxSize.height;p=2*bt,O=Re.y-bt,p>Lt&&!this._isInitialRender&&!this._growAfterOpen&&(O=Re.y-Lt/2)}if("end"===ot.overlayX&&!_||"start"===ot.overlayX&&_)ut=U.width-Re.x+2*this._viewportMargin,qe=Re.x-this._viewportMargin;else if("start"===ot.overlayX&&!_||"end"===ot.overlayX&&_)At=Re.x,qe=U.right-Re.x;else{const bt=Math.min(U.right-Re.x+U.left,Re.x),Lt=this._lastBoundingBoxSize.width;qe=2*bt,At=Re.x-bt,qe>Lt&&!this._isInitialRender&&!this._growAfterOpen&&(At=Re.x-Lt/2)}return{top:O,left:At,bottom:q,right:ut,width:qe,height:p}}_setBoundingBoxStyles(Re,ot){const U=this._calculateBoundingBoxRect(Re,ot);!this._isInitialRender&&!this._growAfterOpen&&(U.height=Math.min(U.height,this._lastBoundingBoxSize.height),U.width=Math.min(U.width,this._lastBoundingBoxSize.width));const _={};if(this._hasExactPosition())_.top=_.left="0",_.bottom=_.right=_.maxHeight=_.maxWidth="",_.width=_.height="100%";else{const p=this._overlayRef.getConfig().maxHeight,O=this._overlayRef.getConfig().maxWidth;_.height=(0,W.a1)(U.height),_.top=(0,W.a1)(U.top),_.bottom=(0,W.a1)(U.bottom),_.width=(0,W.a1)(U.width),_.left=(0,W.a1)(U.left),_.right=(0,W.a1)(U.right),_.alignItems="center"===ot.overlayX?"center":"end"===ot.overlayX?"flex-end":"flex-start",_.justifyContent="center"===ot.overlayY?"center":"bottom"===ot.overlayY?"flex-end":"flex-start",p&&(_.maxHeight=(0,W.a1)(p)),O&&(_.maxWidth=(0,W.a1)(O))}this._lastBoundingBoxSize=U,ce(this._boundingBox.style,_)}_resetBoundingBoxStyles(){ce(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ce(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(Re,ot){const U={},_=this._hasExactPosition(),p=this._hasFlexibleDimensions,O=this._overlayRef.getConfig();if(_){const qe=this._viewportRuler.getViewportScrollPosition();ce(U,this._getExactOverlayY(ot,Re,qe)),ce(U,this._getExactOverlayX(ot,Re,qe))}else U.position="static";let q="",me=this._getOffset(ot,"x"),xe=this._getOffset(ot,"y");me&&(q+=`translateX(${me}px) `),xe&&(q+=`translateY(${xe}px)`),U.transform=q.trim(),O.maxHeight&&(_?U.maxHeight=(0,W.a1)(O.maxHeight):p&&(U.maxHeight="")),O.maxWidth&&(_?U.maxWidth=(0,W.a1)(O.maxWidth):p&&(U.maxWidth="")),ce(this._pane.style,U)}_getExactOverlayY(Re,ot,U){let _={top:"",bottom:""},p=this._getOverlayPoint(ot,this._overlayRect,Re);return this._isPushed&&(p=this._pushOverlayOnScreen(p,this._overlayRect,U)),"bottom"===Re.overlayY?_.bottom=this._document.documentElement.clientHeight-(p.y+this._overlayRect.height)+"px":_.top=(0,W.a1)(p.y),_}_getExactOverlayX(Re,ot,U){let O,_={left:"",right:""},p=this._getOverlayPoint(ot,this._overlayRect,Re);return this._isPushed&&(p=this._pushOverlayOnScreen(p,this._overlayRect,U)),O=this._isRtl()?"end"===Re.overlayX?"left":"right":"end"===Re.overlayX?"right":"left","right"===O?_.right=this._document.documentElement.clientWidth-(p.x+this._overlayRect.width)+"px":_.left=(0,W.a1)(p.x),_}_getScrollVisibility(){const Re=this._getOriginRect(),ot=this._pane.getBoundingClientRect(),U=this._scrollables.map(_=>_.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:le(Re,U),isOriginOutsideView:pe(Re,U),isOverlayClipped:le(ot,U),isOverlayOutsideView:pe(ot,U)}}_subtractOverflows(Re,...ot){return ot.reduce((U,_)=>U-Math.max(_,0),Re)}_getNarrowedViewportRect(){const Re=this._document.documentElement.clientWidth,ot=this._document.documentElement.clientHeight,U=this._viewportRuler.getViewportScrollPosition();return{top:U.top+this._viewportMargin,left:U.left+this._viewportMargin,right:U.left+Re-this._viewportMargin,bottom:U.top+ot-this._viewportMargin,width:Re-2*this._viewportMargin,height:ot-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(Re,ot){return"x"===ot?null==Re.offsetX?this._offsetX:Re.offsetX:null==Re.offsetY?this._offsetY:Re.offsetY}_validatePositions(){}_addPanelClasses(Re){this._pane&&(0,W.FG)(Re).forEach(ot=>{""!==ot&&-1===this._appliedPanelClasses.indexOf(ot)&&(this._appliedPanelClasses.push(ot),this._pane.classList.add(ot))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(Re=>{this._pane.classList.remove(Re)}),this._appliedPanelClasses=[])}_getOriginRect(){const Re=this._origin;if(Re instanceof R.aKT)return Re.nativeElement.getBoundingClientRect();if(Re instanceof Element)return Re.getBoundingClientRect();const ot=Re.width||0,U=Re.height||0;return{top:Re.y,bottom:Re.y+U,left:Re.x,right:Re.x+ot,height:U,width:ot}}}function ce(Ke,Re){for(let ot in Re)Re.hasOwnProperty(ot)&&(Ke[ot]=Re[ot]);return Ke}function Ae(Ke){if("number"!=typeof Ke&&null!=Ke){const[Re,ot]=Ke.split(H);return ot&&"px"!==ot?null:parseFloat(Re)}return Ke||null}function ke(Ke){return{top:Math.floor(Ke.top),right:Math.floor(Ke.right),bottom:Math.floor(Ke.bottom),left:Math.floor(Ke.left),width:Math.floor(Ke.width),height:Math.floor(Ke.height)}}const Ee=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}],ge=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}],Oe="cdk-global-overlay-wrapper";class ye{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(Re){const ot=Re.getConfig();this._overlayRef=Re,this._width&&!ot.width&&Re.updateSize({width:this._width}),this._height&&!ot.height&&Re.updateSize({height:this._height}),Re.hostElement.classList.add(Oe),this._isDisposed=!1}top(Re=""){return this._bottomOffset="",this._topOffset=Re,this._alignItems="flex-start",this}left(Re=""){return this._xOffset=Re,this._xPosition="left",this}bottom(Re=""){return this._topOffset="",this._bottomOffset=Re,this._alignItems="flex-end",this}right(Re=""){return this._xOffset=Re,this._xPosition="right",this}start(Re=""){return this._xOffset=Re,this._xPosition="start",this}end(Re=""){return this._xOffset=Re,this._xPosition="end",this}width(Re=""){return this._overlayRef?this._overlayRef.updateSize({width:Re}):this._width=Re,this}height(Re=""){return this._overlayRef?this._overlayRef.updateSize({height:Re}):this._height=Re,this}centerHorizontally(Re=""){return this.left(Re),this._xPosition="center",this}centerVertically(Re=""){return this.top(Re),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const Re=this._overlayRef.overlayElement.style,ot=this._overlayRef.hostElement.style,U=this._overlayRef.getConfig(),{width:_,height:p,maxWidth:O,maxHeight:q}=U,me=!("100%"!==_&&"100vw"!==_||O&&"100%"!==O&&"100vw"!==O),xe=!("100%"!==p&&"100vh"!==p||q&&"100%"!==q&&"100vh"!==q),qe=this._xPosition,At=this._xOffset,ut="rtl"===this._overlayRef.getConfig().direction;let bt="",Lt="",en="";me?en="flex-start":"center"===qe?(en="center",ut?Lt=At:bt=At):ut?"left"===qe||"end"===qe?(en="flex-end",bt=At):("right"===qe||"start"===qe)&&(en="flex-start",Lt=At):"left"===qe||"start"===qe?(en="flex-start",bt=At):("right"===qe||"end"===qe)&&(en="flex-end",Lt=At),Re.position=this._cssPosition,Re.marginLeft=me?"0":bt,Re.marginTop=xe?"0":this._topOffset,Re.marginBottom=this._bottomOffset,Re.marginRight=me?"0":Lt,ot.justifyContent=en,ot.alignItems=xe?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const Re=this._overlayRef.overlayElement.style,ot=this._overlayRef.hostElement,U=ot.style;ot.classList.remove(Oe),U.justifyContent=U.alignItems=Re.marginTop=Re.marginBottom=Re.marginLeft=Re.marginRight=Re.position="",this._overlayRef=null,this._isDisposed=!0}}let Se=(()=>{class Ke{constructor(ot,U,_,p){this._viewportRuler=ot,this._document=U,this._platform=_,this._overlayContainer=p}global(){return new ye}flexibleConnectedTo(ot){return new ne(ot,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(U){return new(U||Ke)(R.KVO(m.Xj),R.KVO(x.qQ),R.KVO(S.OD),R.KVO(l))};static#t=this.\u0275prov=R.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})(),he=0,fe=(()=>{class Ke{constructor(ot,U,_,p,O,q,me,xe,qe,At,ut,bt){this.scrollStrategies=ot,this._overlayContainer=U,this._componentFactoryResolver=_,this._positionBuilder=p,this._keyboardDispatcher=O,this._injector=q,this._ngZone=me,this._document=xe,this._directionality=qe,this._location=At,this._outsideClickDispatcher=ut,this._animationsModuleType=bt}create(ot){const U=this._createHostElement(),_=this._createPaneElement(U),p=this._createPortalOutlet(_),O=new De(ot);return O.direction=O.direction||this._directionality.value,new g(p,U,_,O,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(R.uvJ))}position(){return this._positionBuilder}_createPaneElement(ot){const U=this._document.createElement("div");return U.id="cdk-overlay-"+he++,U.classList.add("cdk-overlay-pane"),ot.appendChild(U),U}_createHostElement(){const ot=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(ot),ot}_createPortalOutlet(ot){return this._appRef||(this._appRef=this._injector.get(R.o8S)),new X.aI(ot,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(U){return new(U||Ke)(R.KVO(we),R.KVO(l),R.KVO(R.OM3),R.KVO(Se),R.KVO(D),R.KVO(R.zZn),R.KVO(R.SKi),R.KVO(x.qQ),R.KVO(I.dS),R.KVO(x.aZ),R.KVO(j),R.KVO(R.bc$,8))};static#t=this.\u0275prov=R.jDH({token:Ke,factory:Ke.\u0275fac,providedIn:"root"})}return Ke})();const ee=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ie=new R.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const Ke=(0,R.WQX)(fe);return()=>Ke.scrollStrategies.reposition()}});let ue=(()=>{class Ke{constructor(ot){this.elementRef=ot}static#e=this.\u0275fac=function(U){return new(U||Ke)(R.rXU(R.aKT))};static#t=this.\u0275dir=R.FsC({type:Ke,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return Ke})(),be=(()=>{class Ke{get offsetX(){return this._offsetX}set offsetX(ot){this._offsetX=ot,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(ot){this._offsetY=ot,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(ot){this._disposeOnNavigation=ot}constructor(ot,U,_,p,O){this._overlay=ot,this._dir=O,this._backdropSubscription=Z.yU.EMPTY,this._attachSubscription=Z.yU.EMPTY,this._detachSubscription=Z.yU.EMPTY,this._positionSubscription=Z.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,R.WQX)(R.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new R.bkB,this.positionChange=new R.bkB,this.attach=new R.bkB,this.detach=new R.bkB,this.overlayKeydown=new R.bkB,this.overlayOutsideClick=new R.bkB,this._templatePortal=new X.VA(U,_),this._scrollStrategyFactory=p,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(ot){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),ot.origin&&this.open&&this._position.apply()),ot.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=ee);const ot=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=ot.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=ot.detachments().subscribe(()=>this.detach.emit()),ot.keydownEvents().subscribe(U=>{this.overlayKeydown.next(U),U.keyCode===te._f&&!this.disableClose&&!(0,te.rp)(U)&&(U.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(U=>{const _=this._getOriginElement(),p=(0,S.Fb)(U);(!_||_!==p&&!_.contains(p))&&this.overlayOutsideClick.next(U)})}_buildConfig(){const ot=this._position=this.positionStrategy||this._createPositionStrategy(),U=new De({direction:this._dir,positionStrategy:ot,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(U.width=this.width),(this.height||0===this.height)&&(U.height=this.height),(this.minWidth||0===this.minWidth)&&(U.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(U.minHeight=this.minHeight),this.backdropClass&&(U.backdropClass=this.backdropClass),this.panelClass&&(U.panelClass=this.panelClass),U}_updatePositionStrategy(ot){const U=this.positions.map(_=>({originX:_.originX,originY:_.originY,overlayX:_.overlayX,overlayY:_.overlayY,offsetX:_.offsetX||this.offsetX,offsetY:_.offsetY||this.offsetY,panelClass:_.panelClass||void 0}));return ot.setOrigin(this._getOrigin()).withPositions(U).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const ot=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(ot),ot}_getOrigin(){return this.origin instanceof ue?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof ue?this.origin.elementRef.nativeElement:this.origin instanceof R.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(ot=>{this.backdropClick.emit(ot)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function F(Ke,Re=!1){return(0,N.N)((ot,U)=>{let _=0;ot.subscribe((0,$._)(U,p=>{const O=Ke(p,_++);(O||Re)&&U.next(p),!O&&U.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(ot=>{this._ngZone.run(()=>this.positionChange.emit(ot)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(U){return new(U||Ke)(R.rXU(fe),R.rXU(R.C4Q),R.rXU(R.c1b),R.rXU(ie),R.rXU(I.dS,8))};static#t=this.\u0275dir=R.FsC({type:Ke,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",R.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",R.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",R.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",R.L39],push:[2,"cdkConnectedOverlayPush","push",R.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",R.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[R.GFd,R.OA$]})}return Ke})();const Ne={provide:ie,deps:[fe],useFactory:function Ie(Ke){return()=>Ke.scrollStrategies.reposition()}};let Be=(()=>{class Ke{static#e=this.\u0275fac=function(U){return new(U||Ke)};static#t=this.\u0275mod=R.$C({type:Ke});static#n=this.\u0275inj=R.G2t({providers:[fe,Ne],imports:[I.jI,X.jc,m.E9,m.E9]})}return Ke})()},36860:(Le,z,E)=>{"use strict";E.d(z,{BD:()=>te,BQ:()=>I,CZ:()=>re,Fb:()=>ae,KT:()=>oe,MU:()=>N,OD:()=>W,r5:()=>X,v8:()=>pe,vc:()=>se});var m=E(93953),x=E(60177);let R;try{R=typeof Intl<"u"&&Intl.v8BreakIterator}catch{R=!1}let L,W=(()=>{class le{constructor(we){this._platformId=we,this.isBrowser=this._platformId?(0,x.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!R)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(De){return new(De||le)(m.KVO(m.Agw))};static#t=this.\u0275prov=m.jDH({token:le,factory:le.\u0275fac,providedIn:"root"})}return le})();const M=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function N(){if(L)return L;if("object"!=typeof document||!document)return L=new Set(M),L;let le=document.createElement("input");return L=new Set(M.filter(ve=>(le.setAttribute("type",ve),le.type===ve))),L}let $;function I(le){return function F(){if(null==$&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>$=!0}))}finally{$=$||!1}return $}()?le:!!le.capture}var X=function(le){return le[le.NORMAL=0]="NORMAL",le[le.NEGATED=1]="NEGATED",le[le.INVERTED=2]="INVERTED",le}(X||{});let V,Z,Q;function re(){if(null==Z){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Z=!1,Z;if("scrollBehavior"in document.documentElement.style)Z=!0;else{const le=Element.prototype.scrollTo;Z=!!le&&!/\{\s*\[native code\]\s*\}/.test(le.toString())}}return Z}function te(){if("object"!=typeof document||!document)return X.NORMAL;if(null==V){const le=document.createElement("div"),ve=le.style;le.dir="rtl",ve.width="1px",ve.overflow="auto",ve.visibility="hidden",ve.pointerEvents="none",ve.position="absolute";const we=document.createElement("div"),De=we.style;De.width="2px",De.height="1px",le.appendChild(we),document.body.appendChild(le),V=X.NORMAL,0===le.scrollLeft&&(le.scrollLeft=1,V=0===le.scrollLeft?X.NEGATED:X.INVERTED),le.remove()}return V}function oe(le){if(function J(){if(null==Q){const le=typeof document<"u"?document.head:null;Q=!(!le||!le.createShadowRoot&&!le.attachShadow)}return Q}()){const ve=le.getRootNode?le.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&ve instanceof ShadowRoot)return ve}return null}function se(){let le=typeof document<"u"&&document?document.activeElement:null;for(;le&&le.shadowRoot;){const ve=le.shadowRoot.activeElement;if(ve===le)break;le=ve}return le}function ae(le){return le.composedPath?le.composedPath()[0]:le.target}function pe(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},76939:(Le,z,E)=>{"use strict";E.d(z,{A8:()=>F,I3:()=>oe,VA:()=>I,aI:()=>re,bV:()=>Q,jc:()=>ae,lb:()=>V});var m=E(93953),x=E(60177);class ${attach(ve){return this._attachedHost=ve,ve.attach(this)}detach(){let ve=this._attachedHost;null!=ve&&(this._attachedHost=null,ve.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(ve){this._attachedHost=ve}}class F extends ${constructor(ve,we,De,k,u){super(),this.component=ve,this.viewContainerRef=we,this.injector=De,this.componentFactoryResolver=k,this.projectableNodes=u}}class I extends ${constructor(ve,we,De,k){super(),this.templateRef=ve,this.viewContainerRef=we,this.context=De,this.injector=k}get origin(){return this.templateRef.elementRef}attach(ve,we=this.context){return this.context=we,super.attach(ve)}detach(){return this.context=void 0,super.detach()}}class X extends ${constructor(ve){super(),this.element=ve instanceof m.aKT?ve.nativeElement:ve}}class V{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(ve){return ve instanceof F?(this._attachedPortal=ve,this.attachComponentPortal(ve)):ve instanceof I?(this._attachedPortal=ve,this.attachTemplatePortal(ve)):this.attachDomPortal&&ve instanceof X?(this._attachedPortal=ve,this.attachDomPortal(ve)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(ve){this._disposeFn=ve}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class re extends V{constructor(ve,we,De,k,u){super(),this.outletElement=ve,this._componentFactoryResolver=we,this._appRef=De,this._defaultInjector=k,this.attachDomPortal=h=>{const y=h.element,w=this._document.createComment("dom-portal");y.parentNode.insertBefore(w,y),this.outletElement.appendChild(y),this._attachedPortal=h,super.setDisposeFn(()=>{w.parentNode&&w.parentNode.replaceChild(y,w)})},this._document=u}attachComponentPortal(ve){const De=(ve.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ve.component);let k;return ve.viewContainerRef?(k=ve.viewContainerRef.createComponent(De,ve.viewContainerRef.length,ve.injector||ve.viewContainerRef.injector,ve.projectableNodes||void 0),this.setDisposeFn(()=>k.destroy())):(k=De.create(ve.injector||this._defaultInjector||m.zZn.NULL),this._appRef.attachView(k.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(k.hostView),k.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(k)),this._attachedPortal=ve,k}attachTemplatePortal(ve){let we=ve.viewContainerRef,De=we.createEmbeddedView(ve.templateRef,ve.context,{injector:ve.injector});return De.rootNodes.forEach(k=>this.outletElement.appendChild(k)),De.detectChanges(),this.setDisposeFn(()=>{let k=we.indexOf(De);-1!==k&&we.remove(k)}),this._attachedPortal=ve,De}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(ve){return ve.hostView.rootNodes[0]}}let Q=(()=>{class le extends I{constructor(we,De){super(we,De)}static#e=this.\u0275fac=function(De){return new(De||le)(m.rXU(m.C4Q),m.rXU(m.c1b))};static#t=this.\u0275dir=m.FsC({type:le,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[m.Vt3]})}return le})(),oe=(()=>{class le extends V{constructor(we,De,k){super(),this._componentFactoryResolver=we,this._viewContainerRef=De,this._isInitialized=!1,this.attached=new m.bkB,this.attachDomPortal=u=>{const h=u.element,y=this._document.createComment("dom-portal");u.setAttachedHost(this),h.parentNode.insertBefore(y,h),this._getRootNode().appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(h,y)})},this._document=k}get portal(){return this._attachedPortal}set portal(we){this.hasAttached()&&!we&&!this._isInitialized||(this.hasAttached()&&super.detach(),we&&super.attach(we),this._attachedPortal=we||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(we){we.setAttachedHost(this);const De=null!=we.viewContainerRef?we.viewContainerRef:this._viewContainerRef,u=(we.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(we.component),h=De.createComponent(u,De.length,we.injector||De.injector,we.projectableNodes||void 0);return De!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=we,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(we){we.setAttachedHost(this);const De=this._viewContainerRef.createEmbeddedView(we.templateRef,we.context,{injector:we.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=we,this._attachedRef=De,this.attached.emit(De),De}_getRootNode(){const we=this._viewContainerRef.element.nativeElement;return we.nodeType===we.ELEMENT_NODE?we:we.parentNode}static#e=this.\u0275fac=function(De){return new(De||le)(m.rXU(m.OM3),m.rXU(m.c1b),m.rXU(x.qQ))};static#t=this.\u0275dir=m.FsC({type:le,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[m.Vt3]})}return le})(),ae=(()=>{class le{static#e=this.\u0275fac=function(De){return new(De||le)};static#t=this.\u0275mod=m.$C({type:le});static#n=this.\u0275inj=m.G2t({})}return le})()},67333:(Le,z,E)=>{"use strict";E.d(z,{uv:()=>h,Gj:()=>ce,R:()=>u,E9:()=>Ae,Xj:()=>w});var m=E(14085),x=E(93953),R=E(21413),W=E(7673),S=E(71985),L=E(33726),$=(E(30536),E(25007),E(43236)),F=E(39974),I=E(58750),X=E(54360),Z=E(41584);function re(ke,Fe=$.E){return function V(ke){return(0,F.N)((Fe,Ee)=>{let ge=!1,Oe=null,ye=null,Se=!1;const he=()=>{if(ye?.unsubscribe(),ye=null,ge){ge=!1;const ee=Oe;Oe=null,Ee.next(ee)}Se&&Ee.complete()},fe=()=>{ye=null,Se&&Ee.complete()};Fe.subscribe((0,X._)(Ee,ee=>{ge=!0,Oe=ee,ye||(0,I.Tg)(ke(ee)).subscribe(ye=(0,X._)(Ee,he,fe))},()=>{Se=!0,(!ge||!ye||ye.closed)&&Ee.complete()}))})}(()=>(0,Z.O)(ke,Fe))}var te=E(5964),Q=E(56977),J=E(36860),oe=E(60177),se=E(28203);let u=(()=>{class ke{constructor(Ee,ge,Oe){this._ngZone=Ee,this._platform=ge,this._scrolled=new R.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Oe}register(Ee){this.scrollContainers.has(Ee)||this.scrollContainers.set(Ee,Ee.elementScrolled().subscribe(()=>this._scrolled.next(Ee)))}deregister(Ee){const ge=this.scrollContainers.get(Ee);ge&&(ge.unsubscribe(),this.scrollContainers.delete(Ee))}scrolled(Ee=20){return this._platform.isBrowser?new S.c(ge=>{this._globalSubscription||this._addGlobalListener();const Oe=Ee>0?this._scrolled.pipe(re(Ee)).subscribe(ge):this._scrolled.subscribe(ge);return this._scrolledCount++,()=>{Oe.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,W.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Ee,ge)=>this.deregister(ge)),this._scrolled.complete()}ancestorScrolled(Ee,ge){const Oe=this.getAncestorScrollContainers(Ee);return this.scrolled(ge).pipe((0,te.p)(ye=>!ye||Oe.indexOf(ye)>-1))}getAncestorScrollContainers(Ee){const ge=[];return this.scrollContainers.forEach((Oe,ye)=>{this._scrollableContainsElement(ye,Ee)&&ge.push(ye)}),ge}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Ee,ge){let Oe=(0,m.i8)(ge),ye=Ee.getElementRef().nativeElement;do{if(Oe==ye)return!0}while(Oe=Oe.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Ee=this._getWindow();return(0,L.R)(Ee.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(ge){return new(ge||ke)(x.KVO(x.SKi),x.KVO(J.OD),x.KVO(oe.qQ,8))};static#t=this.\u0275prov=x.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})(),h=(()=>{class ke{constructor(Ee,ge,Oe,ye){this.elementRef=Ee,this.scrollDispatcher=ge,this.ngZone=Oe,this.dir=ye,this._destroyed=new R.B,this._elementScrolled=new S.c(Se=>this.ngZone.runOutsideAngular(()=>(0,L.R)(this.elementRef.nativeElement,"scroll").pipe((0,Q.Q)(this._destroyed)).subscribe(Se)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Ee){const ge=this.elementRef.nativeElement,Oe=this.dir&&"rtl"==this.dir.value;null==Ee.left&&(Ee.left=Oe?Ee.end:Ee.start),null==Ee.right&&(Ee.right=Oe?Ee.start:Ee.end),null!=Ee.bottom&&(Ee.top=ge.scrollHeight-ge.clientHeight-Ee.bottom),Oe&&(0,J.BD)()!=J.r5.NORMAL?(null!=Ee.left&&(Ee.right=ge.scrollWidth-ge.clientWidth-Ee.left),(0,J.BD)()==J.r5.INVERTED?Ee.left=Ee.right:(0,J.BD)()==J.r5.NEGATED&&(Ee.left=Ee.right?-Ee.right:Ee.right)):null!=Ee.right&&(Ee.left=ge.scrollWidth-ge.clientWidth-Ee.right),this._applyScrollToOptions(Ee)}_applyScrollToOptions(Ee){const ge=this.elementRef.nativeElement;(0,J.CZ)()?ge.scrollTo(Ee):(null!=Ee.top&&(ge.scrollTop=Ee.top),null!=Ee.left&&(ge.scrollLeft=Ee.left))}measureScrollOffset(Ee){const ge="left",ye=this.elementRef.nativeElement;if("top"==Ee)return ye.scrollTop;if("bottom"==Ee)return ye.scrollHeight-ye.clientHeight-ye.scrollTop;const Se=this.dir&&"rtl"==this.dir.value;return"start"==Ee?Ee=Se?"right":ge:"end"==Ee&&(Ee=Se?ge:"right"),Se&&(0,J.BD)()==J.r5.INVERTED?Ee==ge?ye.scrollWidth-ye.clientWidth-ye.scrollLeft:ye.scrollLeft:Se&&(0,J.BD)()==J.r5.NEGATED?Ee==ge?ye.scrollLeft+ye.scrollWidth-ye.clientWidth:-ye.scrollLeft:Ee==ge?ye.scrollLeft:ye.scrollWidth-ye.clientWidth-ye.scrollLeft}static#e=this.\u0275fac=function(ge){return new(ge||ke)(x.rXU(x.aKT),x.rXU(u),x.rXU(x.SKi),x.rXU(se.dS,8))};static#t=this.\u0275dir=x.FsC({type:ke,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return ke})(),w=(()=>{class ke{constructor(Ee,ge,Oe){this._platform=Ee,this._change=new R.B,this._changeListener=ye=>{this._change.next(ye)},this._document=Oe,ge.runOutsideAngular(()=>{if(Ee.isBrowser){const ye=this._getWindow();ye.addEventListener("resize",this._changeListener),ye.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Ee=this._getWindow();Ee.removeEventListener("resize",this._changeListener),Ee.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Ee={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Ee}getViewportRect(){const Ee=this.getViewportScrollPosition(),{width:ge,height:Oe}=this.getViewportSize();return{top:Ee.top,left:Ee.left,bottom:Ee.top+Oe,right:Ee.left+ge,height:Oe,width:ge}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Ee=this._document,ge=this._getWindow(),Oe=Ee.documentElement,ye=Oe.getBoundingClientRect();return{top:-ye.top||Ee.body.scrollTop||ge.scrollY||Oe.scrollTop||0,left:-ye.left||Ee.body.scrollLeft||ge.scrollX||Oe.scrollLeft||0}}change(Ee=20){return Ee>0?this._change.pipe(re(Ee)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Ee=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Ee.innerWidth,height:Ee.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(ge){return new(ge||ke)(x.KVO(J.OD),x.KVO(x.SKi),x.KVO(oe.qQ,8))};static#t=this.\u0275prov=x.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}return ke})(),ce=(()=>{class ke{static#e=this.\u0275fac=function(ge){return new(ge||ke)};static#t=this.\u0275mod=x.$C({type:ke});static#n=this.\u0275inj=x.G2t({})}return ke})(),Ae=(()=>{class ke{static#e=this.\u0275fac=function(ge){return new(ge||ke)};static#t=this.\u0275mod=x.$C({type:ke});static#n=this.\u0275inj=x.G2t({imports:[se.jI,ce,se.jI,ce]})}return ke})()},60177:(Le,z,E)=>{"use strict";E.d(z,{AJ:()=>Us,B3:()=>ki,Jj:()=>Ja,MD:()=>tu,N0:()=>mr,QT:()=>R,Sm:()=>te,Sq:()=>vn,T3:()=>Vo,UE:()=>ol,VF:()=>S,Vy:()=>wc,Xr:()=>qn,YU:()=>$r,ZD:()=>W,_b:()=>Ar,aZ:()=>J,bT:()=>yr,fw:()=>Q,hb:()=>Z,hj:()=>$,qQ:()=>M,vh:()=>df});var m=E(93953);let x=null;function R(){return x}function W(et){x??=et}class S{}const M=new m.nKC("");let N=(()=>{class et{historyGo(wt){throw new Error("")}static#e=this.\u0275fac=function(kt){return new(kt||et)};static#t=this.\u0275prov=m.jDH({token:et,factory:()=>(0,m.WQX)(F),providedIn:"platform"})}return et})();const $=new m.nKC("");let F=(()=>{class et extends N{constructor(){super(),this._doc=(0,m.WQX)(M),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(wt){const kt=R().getGlobalEventTarget(this._doc,"window");return kt.addEventListener("popstate",wt,!1),()=>kt.removeEventListener("popstate",wt)}onHashChange(wt){const kt=R().getGlobalEventTarget(this._doc,"window");return kt.addEventListener("hashchange",wt,!1),()=>kt.removeEventListener("hashchange",wt)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(wt){this._location.pathname=wt}pushState(wt,kt,fn){this._history.pushState(wt,kt,fn)}replaceState(wt,kt,fn){this._history.replaceState(wt,kt,fn)}forward(){this._history.forward()}back(){this._history.back()}historyGo(wt=0){this._history.go(wt)}getState(){return this._history.state}static#e=this.\u0275fac=function(kt){return new(kt||et)};static#t=this.\u0275prov=m.jDH({token:et,factory:()=>new et,providedIn:"platform"})}return et})();function I(et,Ft){if(0==et.length)return Ft;if(0==Ft.length)return et;let wt=0;return et.endsWith("/")&&wt++,Ft.startsWith("/")&&wt++,2==wt?et+Ft.substring(1):1==wt?et+Ft:et+"/"+Ft}function X(et){const Ft=et.match(/#|\?|$/),wt=Ft&&Ft.index||et.length;return et.slice(0,wt-("/"===et[wt-1]?1:0))+et.slice(wt)}function V(et){return et&&"?"!==et[0]?"?"+et:et}let Z=(()=>{class et{historyGo(wt){throw new Error("")}static#e=this.\u0275fac=function(kt){return new(kt||et)};static#t=this.\u0275prov=m.jDH({token:et,factory:()=>(0,m.WQX)(te),providedIn:"root"})}return et})();const re=new m.nKC("");let te=(()=>{class et extends Z{constructor(wt,kt){super(),this._platformLocation=wt,this._removeListenerFns=[],this._baseHref=kt??this._platformLocation.getBaseHrefFromDOM()??(0,m.WQX)(M).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(wt){this._removeListenerFns.push(this._platformLocation.onPopState(wt),this._platformLocation.onHashChange(wt))}getBaseHref(){return this._baseHref}prepareExternalUrl(wt){return I(this._baseHref,wt)}path(wt=!1){const kt=this._platformLocation.pathname+V(this._platformLocation.search),fn=this._platformLocation.hash;return fn&&wt?`${kt}${fn}`:kt}pushState(wt,kt,fn,zn){const cr=this.prepareExternalUrl(fn+V(zn));this._platformLocation.pushState(wt,kt,cr)}replaceState(wt,kt,fn,zn){const cr=this.prepareExternalUrl(fn+V(zn));this._platformLocation.replaceState(wt,kt,cr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(wt=0){this._platformLocation.historyGo?.(wt)}static#e=this.\u0275fac=function(kt){return new(kt||et)(m.KVO(N),m.KVO(re,8))};static#t=this.\u0275prov=m.jDH({token:et,factory:et.\u0275fac,providedIn:"root"})}return et})(),Q=(()=>{class et extends Z{constructor(wt,kt){super(),this._platformLocation=wt,this._baseHref="",this._removeListenerFns=[],null!=kt&&(this._baseHref=kt)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(wt){this._removeListenerFns.push(this._platformLocation.onPopState(wt),this._platformLocation.onHashChange(wt))}getBaseHref(){return this._baseHref}path(wt=!1){const kt=this._platformLocation.hash??"#";return kt.length>0?kt.substring(1):kt}prepareExternalUrl(wt){const kt=I(this._baseHref,wt);return kt.length>0?"#"+kt:kt}pushState(wt,kt,fn,zn){let cr=this.prepareExternalUrl(fn+V(zn));0==cr.length&&(cr=this._platformLocation.pathname),this._platformLocation.pushState(wt,kt,cr)}replaceState(wt,kt,fn,zn){let cr=this.prepareExternalUrl(fn+V(zn));0==cr.length&&(cr=this._platformLocation.pathname),this._platformLocation.replaceState(wt,kt,cr)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(wt=0){this._platformLocation.historyGo?.(wt)}static#e=this.\u0275fac=function(kt){return new(kt||et)(m.KVO(N),m.KVO(re,8))};static#t=this.\u0275prov=m.jDH({token:et,factory:et.\u0275fac})}return et})(),J=(()=>{class et{constructor(wt){this._subject=new m.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=wt;const kt=this._locationStrategy.getBaseHref();this._basePath=function pe(et){if(new RegExp("^(https?:)?//").test(et)){const[,wt]=et.split(/\/\/[^\/]+/);return wt}return et}(X(ae(kt))),this._locationStrategy.onPopState(fn=>{this._subject.emit({url:this.path(!0),pop:!0,state:fn.state,type:fn.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(wt=!1){return this.normalize(this._locationStrategy.path(wt))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(wt,kt=""){return this.path()==this.normalize(wt+V(kt))}normalize(wt){return et.stripTrailingSlash(function se(et,Ft){if(!et||!Ft.startsWith(et))return Ft;const wt=Ft.substring(et.length);return""===wt||["/",";","?","#"].includes(wt[0])?wt:Ft}(this._basePath,ae(wt)))}prepareExternalUrl(wt){return wt&&"/"!==wt[0]&&(wt="/"+wt),this._locationStrategy.prepareExternalUrl(wt)}go(wt,kt="",fn=null){this._locationStrategy.pushState(fn,"",wt,kt),this._notifyUrlChangeListeners(this.prepareExternalUrl(wt+V(kt)),fn)}replaceState(wt,kt="",fn=null){this._locationStrategy.replaceState(fn,"",wt,kt),this._notifyUrlChangeListeners(this.prepareExternalUrl(wt+V(kt)),fn)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(wt=0){this._locationStrategy.historyGo?.(wt)}onUrlChange(wt){return this._urlChangeListeners.push(wt),this._urlChangeSubscription??=this.subscribe(kt=>{this._notifyUrlChangeListeners(kt.url,kt.state)}),()=>{const kt=this._urlChangeListeners.indexOf(wt);this._urlChangeListeners.splice(kt,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(wt="",kt){this._urlChangeListeners.forEach(fn=>fn(wt,kt))}subscribe(wt,kt,fn){return this._subject.subscribe({next:wt,error:kt,complete:fn})}static#e=this.normalizeQueryParams=V;static#t=this.joinWithSlash=I;static#n=this.stripTrailingSlash=X;static#f=this.\u0275fac=function(kt){return new(kt||et)(m.KVO(Z))};static#A=this.\u0275prov=m.jDH({token:et,factory:()=>function oe(){return new J((0,m.KVO)(Z))}(),providedIn:"root"})}return et})();function ae(et){return et.replace(/\/index.html$/,"")}var De=function(et){return et[et.Format=0]="Format",et[et.Standalone=1]="Standalone",et}(De||{}),k=function(et){return et[et.Narrow=0]="Narrow",et[et.Abbreviated=1]="Abbreviated",et[et.Wide=2]="Wide",et[et.Short=3]="Short",et}(k||{}),u=function(et){return et[et.Short=0]="Short",et[et.Medium=1]="Medium",et[et.Long=2]="Long",et[et.Full=3]="Full",et}(u||{});const h={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function G(et,Ft){return ee((0,m.H5H)(et)[m.KH2.DateFormat],Ft)}function H(et,Ft){return ee((0,m.H5H)(et)[m.KH2.TimeFormat],Ft)}function ne(et,Ft){return ee((0,m.H5H)(et)[m.KH2.DateTimeFormat],Ft)}function ce(et,Ft){const wt=(0,m.H5H)(et),kt=wt[m.KH2.NumberSymbols][Ft];if(typeof kt>"u"){if(Ft===h.CurrencyDecimal)return wt[m.KH2.NumberSymbols][h.Decimal];if(Ft===h.CurrencyGroup)return wt[m.KH2.NumberSymbols][h.Group]}return kt}function ye(et){if(!et[m.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${et[m.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ee(et,Ft){for(let wt=Ft;wt>-1;wt--)if(typeof et[wt]<"u")return et[wt];throw new Error("Locale data API: locale data undefined")}function ie(et){const[Ft,wt]=et.split(":");return{hours:+Ft,minutes:+wt}}const Ne=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Be={},yt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ke=function(et){return et[et.Short=0]="Short",et[et.ShortGMT=1]="ShortGMT",et[et.Long=2]="Long",et[et.Extended=3]="Extended",et}(Ke||{}),Re=function(et){return et[et.FullYear=0]="FullYear",et[et.Month=1]="Month",et[et.Date=2]="Date",et[et.Hours=3]="Hours",et[et.Minutes=4]="Minutes",et[et.Seconds=5]="Seconds",et[et.FractionalSeconds=6]="FractionalSeconds",et[et.Day=7]="Day",et}(Re||{}),ot=function(et){return et[et.DayPeriods=0]="DayPeriods",et[et.Days=1]="Days",et[et.Months=2]="Months",et[et.Eras=3]="Eras",et}(ot||{});function U(et,Ft,wt,kt){let fn=function qt(et){if(ft(et))return et;if("number"==typeof et&&!isNaN(et))return new Date(et);if("string"==typeof et){if(et=et.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(et)){const[fn,zn=1,cr=1]=et.split("-").map(Or=>+Or);return _(fn,zn-1,cr)}const wt=parseFloat(et);if(!isNaN(et-wt))return new Date(wt);let kt;if(kt=et.match(Ne))return function or(et){const Ft=new Date(0);let wt=0,kt=0;const fn=et[8]?Ft.setUTCFullYear:Ft.setFullYear,zn=et[8]?Ft.setUTCHours:Ft.setHours;et[9]&&(wt=Number(et[9]+et[10]),kt=Number(et[9]+et[11])),fn.call(Ft,Number(et[1]),Number(et[2])-1,Number(et[3]));const cr=Number(et[4]||0)-wt,Or=Number(et[5]||0)-kt,Xo=Number(et[6]||0),Ri=Math.floor(1e3*parseFloat("0."+(et[7]||0)));return zn.call(Ft,cr,Or,Xo,Ri),Ft}(kt)}const Ft=new Date(et);if(!ft(Ft))throw new Error(`Unable to convert "${et}" into a date`);return Ft}(et);Ft=p(wt,Ft)||Ft;let Or,cr=[];for(;Ft;){if(Or=yt.exec(Ft),!Or){cr.push(Ft);break}{cr=cr.concat(Or.slice(1));const No=cr.pop();if(!No)break;Ft=No}}let Xo=fn.getTimezoneOffset();kt&&(Xo=st(kt,Xo),fn=function Kt(et,Ft,wt){const kt=wt?-1:1,fn=et.getTimezoneOffset();return function Nt(et,Ft){return(et=new Date(et.getTime())).setMinutes(et.getMinutes()+Ft),et}(et,kt*(st(Ft,fn)-fn))}(fn,kt,!0));let Ri="";return cr.forEach(No=>{const br=function mt(et){if($t[et])return $t[et];let Ft;switch(et){case"G":case"GG":case"GGG":Ft=At(ot.Eras,k.Abbreviated);break;case"GGGG":Ft=At(ot.Eras,k.Wide);break;case"GGGGG":Ft=At(ot.Eras,k.Narrow);break;case"y":Ft=xe(Re.FullYear,1,0,!1,!0);break;case"yy":Ft=xe(Re.FullYear,2,0,!0,!0);break;case"yyy":Ft=xe(Re.FullYear,3,0,!1,!0);break;case"yyyy":Ft=xe(Re.FullYear,4,0,!1,!0);break;case"Y":Ft=Vt(1);break;case"YY":Ft=Vt(2,!0);break;case"YYY":Ft=Vt(3);break;case"YYYY":Ft=Vt(4);break;case"M":case"L":Ft=xe(Re.Month,1,1);break;case"MM":case"LL":Ft=xe(Re.Month,2,1);break;case"MMM":Ft=At(ot.Months,k.Abbreviated);break;case"MMMM":Ft=At(ot.Months,k.Wide);break;case"MMMMM":Ft=At(ot.Months,k.Narrow);break;case"LLL":Ft=At(ot.Months,k.Abbreviated,De.Standalone);break;case"LLLL":Ft=At(ot.Months,k.Wide,De.Standalone);break;case"LLLLL":Ft=At(ot.Months,k.Narrow,De.Standalone);break;case"w":Ft=yn(1);break;case"ww":Ft=yn(2);break;case"W":Ft=yn(1,!0);break;case"d":Ft=xe(Re.Date,1);break;case"dd":Ft=xe(Re.Date,2);break;case"c":case"cc":Ft=xe(Re.Day,1);break;case"ccc":Ft=At(ot.Days,k.Abbreviated,De.Standalone);break;case"cccc":Ft=At(ot.Days,k.Wide,De.Standalone);break;case"ccccc":Ft=At(ot.Days,k.Narrow,De.Standalone);break;case"cccccc":Ft=At(ot.Days,k.Short,De.Standalone);break;case"E":case"EE":case"EEE":Ft=At(ot.Days,k.Abbreviated);break;case"EEEE":Ft=At(ot.Days,k.Wide);break;case"EEEEE":Ft=At(ot.Days,k.Narrow);break;case"EEEEEE":Ft=At(ot.Days,k.Short);break;case"a":case"aa":case"aaa":Ft=At(ot.DayPeriods,k.Abbreviated);break;case"aaaa":Ft=At(ot.DayPeriods,k.Wide);break;case"aaaaa":Ft=At(ot.DayPeriods,k.Narrow);break;case"b":case"bb":case"bbb":Ft=At(ot.DayPeriods,k.Abbreviated,De.Standalone,!0);break;case"bbbb":Ft=At(ot.DayPeriods,k.Wide,De.Standalone,!0);break;case"bbbbb":Ft=At(ot.DayPeriods,k.Narrow,De.Standalone,!0);break;case"B":case"BB":case"BBB":Ft=At(ot.DayPeriods,k.Abbreviated,De.Format,!0);break;case"BBBB":Ft=At(ot.DayPeriods,k.Wide,De.Format,!0);break;case"BBBBB":Ft=At(ot.DayPeriods,k.Narrow,De.Format,!0);break;case"h":Ft=xe(Re.Hours,1,-12);break;case"hh":Ft=xe(Re.Hours,2,-12);break;case"H":Ft=xe(Re.Hours,1);break;case"HH":Ft=xe(Re.Hours,2);break;case"m":Ft=xe(Re.Minutes,1);break;case"mm":Ft=xe(Re.Minutes,2);break;case"s":Ft=xe(Re.Seconds,1);break;case"ss":Ft=xe(Re.Seconds,2);break;case"S":Ft=xe(Re.FractionalSeconds,1);break;case"SS":Ft=xe(Re.FractionalSeconds,2);break;case"SSS":Ft=xe(Re.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Ft=bt(Ke.Short);break;case"ZZZZZ":Ft=bt(Ke.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Ft=bt(Ke.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Ft=bt(Ke.Long);break;default:return null}return $t[et]=Ft,Ft}(No);Ri+=br?br(fn,wt,Xo):"''"===No?"'":No.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Ri}function _(et,Ft,wt){const kt=new Date(0);return kt.setFullYear(et,Ft,wt),kt.setHours(0,0,0),kt}function p(et,Ft){const wt=function w(et){return(0,m.H5H)(et)[m.KH2.LocaleId]}(et);if(Be[wt]??={},Be[wt][Ft])return Be[wt][Ft];let kt="";switch(Ft){case"shortDate":kt=G(et,u.Short);break;case"mediumDate":kt=G(et,u.Medium);break;case"longDate":kt=G(et,u.Long);break;case"fullDate":kt=G(et,u.Full);break;case"shortTime":kt=H(et,u.Short);break;case"mediumTime":kt=H(et,u.Medium);break;case"longTime":kt=H(et,u.Long);break;case"fullTime":kt=H(et,u.Full);break;case"short":const fn=p(et,"shortTime"),zn=p(et,"shortDate");kt=O(ne(et,u.Short),[fn,zn]);break;case"medium":const cr=p(et,"mediumTime"),Or=p(et,"mediumDate");kt=O(ne(et,u.Medium),[cr,Or]);break;case"long":const Xo=p(et,"longTime"),Ri=p(et,"longDate");kt=O(ne(et,u.Long),[Xo,Ri]);break;case"full":const No=p(et,"fullTime"),br=p(et,"fullDate");kt=O(ne(et,u.Full),[No,br])}return kt&&(Be[wt][Ft]=kt),kt}function O(et,Ft){return Ft&&(et=et.replace(/\{([^}]+)}/g,function(wt,kt){return null!=Ft&&kt in Ft?Ft[kt]:wt})),et}function q(et,Ft,wt="-",kt,fn){let zn="";(et<0||fn&&et<=0)&&(fn?et=1-et:(et=-et,zn=wt));let cr=String(et);for(;cr.length<Ft;)cr="0"+cr;return kt&&(cr=cr.slice(cr.length-Ft)),zn+cr}function xe(et,Ft,wt=0,kt=!1,fn=!1){return function(zn,cr){let Or=function qe(et,Ft){switch(et){case Re.FullYear:return Ft.getFullYear();case Re.Month:return Ft.getMonth();case Re.Date:return Ft.getDate();case Re.Hours:return Ft.getHours();case Re.Minutes:return Ft.getMinutes();case Re.Seconds:return Ft.getSeconds();case Re.FractionalSeconds:return Ft.getMilliseconds();case Re.Day:return Ft.getDay();default:throw new Error(`Unknown DateType value "${et}".`)}}(et,zn);if((wt>0||Or>-wt)&&(Or+=wt),et===Re.Hours)0===Or&&-12===wt&&(Or=12);else if(et===Re.FractionalSeconds)return function me(et,Ft){return q(et,3).substring(0,Ft)}(Or,Ft);const Xo=ce(cr,h.MinusSign);return q(Or,Ft,Xo,kt,fn)}}function At(et,Ft,wt=De.Format,kt=!1){return function(fn,zn){return function ut(et,Ft,wt,kt,fn,zn){switch(wt){case ot.Months:return function j(et,Ft,wt){const kt=(0,m.H5H)(et),zn=ee([kt[m.KH2.MonthsFormat],kt[m.KH2.MonthsStandalone]],Ft);return ee(zn,wt)}(Ft,fn,kt)[et.getMonth()];case ot.Days:return function D(et,Ft,wt){const kt=(0,m.H5H)(et),zn=ee([kt[m.KH2.DaysFormat],kt[m.KH2.DaysStandalone]],Ft);return ee(zn,wt)}(Ft,fn,kt)[et.getDay()];case ot.DayPeriods:const cr=et.getHours(),Or=et.getMinutes();if(zn){const Ri=function Se(et){const Ft=(0,m.H5H)(et);return ye(Ft),(Ft[m.KH2.ExtraData][2]||[]).map(kt=>"string"==typeof kt?ie(kt):[ie(kt[0]),ie(kt[1])])}(Ft),No=function he(et,Ft,wt){const kt=(0,m.H5H)(et);ye(kt);const zn=ee([kt[m.KH2.ExtraData][0],kt[m.KH2.ExtraData][1]],Ft)||[];return ee(zn,wt)||[]}(Ft,fn,kt),br=Ri.findIndex(Ho=>{if(Array.isArray(Ho)){const[vo,ko]=Ho,ad=cr>=vo.hours&&Or>=vo.minutes,Fs=cr<ko.hours||cr===ko.hours&&Or<ko.minutes;if(vo.hours<ko.hours){if(ad&&Fs)return!0}else if(ad||Fs)return!0}else if(Ho.hours===cr&&Ho.minutes===Or)return!0;return!1});if(-1!==br)return No[br]}return function T(et,Ft,wt){const kt=(0,m.H5H)(et),zn=ee([kt[m.KH2.DayPeriodsFormat],kt[m.KH2.DayPeriodsStandalone]],Ft);return ee(zn,wt)}(Ft,fn,kt)[cr<12?0:1];case ot.Eras:return function A(et,Ft){return ee((0,m.H5H)(et)[m.KH2.Eras],Ft)}(Ft,kt)[et.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${wt}`)}}(fn,zn,et,Ft,wt,kt)}}function bt(et){return function(Ft,wt,kt){const fn=-1*kt,zn=ce(wt,h.MinusSign),cr=fn>0?Math.floor(fn/60):Math.ceil(fn/60);switch(et){case Ke.Short:return(fn>=0?"+":"")+q(cr,2,zn)+q(Math.abs(fn%60),2,zn);case Ke.ShortGMT:return"GMT"+(fn>=0?"+":"")+q(cr,1,zn);case Ke.Long:return"GMT"+(fn>=0?"+":"")+q(cr,2,zn)+":"+q(Math.abs(fn%60),2,zn);case Ke.Extended:return 0===kt?"Z":(fn>=0?"+":"")+q(cr,2,zn)+":"+q(Math.abs(fn%60),2,zn);default:throw new Error(`Unknown zone width "${et}"`)}}}const Lt=0,en=4;function Jn(et){const Ft=et.getDay(),wt=0===Ft?-3:en-Ft;return _(et.getFullYear(),et.getMonth(),et.getDate()+wt)}function yn(et,Ft=!1){return function(wt,kt){let fn;if(Ft){const zn=new Date(wt.getFullYear(),wt.getMonth(),1).getDay()-1,cr=wt.getDate();fn=1+Math.floor((cr+zn)/7)}else{const zn=Jn(wt),cr=function Zt(et){const Ft=_(et,Lt,1).getDay();return _(et,0,1+(Ft<=en?en:en+7)-Ft)}(zn.getFullYear()),Or=zn.getTime()-cr.getTime();fn=1+Math.round(Or/6048e5)}return q(fn,et,ce(kt,h.MinusSign))}}function Vt(et,Ft=!1){return function(wt,kt){return q(Jn(wt).getFullYear(),et,ce(kt,h.MinusSign),Ft)}}const $t={};function st(et,Ft){et=et.replace(/:/g,"");const wt=Date.parse("Jan 01, 1970 00:00:00 "+et)/6e4;return isNaN(wt)?Ft:wt}function ft(et){return et instanceof Date&&!isNaN(et.valueOf())}function Ar(et,Ft){Ft=encodeURIComponent(Ft);for(const wt of et.split(";")){const kt=wt.indexOf("="),[fn,zn]=-1==kt?[wt,""]:[wt.slice(0,kt),wt.slice(kt+1)];if(fn.trim()===Ft)return decodeURIComponent(zn)}return null}const _r=/\s+/,Pr=[];let $r=(()=>{class et{constructor(wt,kt){this._ngEl=wt,this._renderer=kt,this.initialClasses=Pr,this.stateMap=new Map}set klass(wt){this.initialClasses=null!=wt?wt.trim().split(_r):Pr}set ngClass(wt){this.rawClass="string"==typeof wt?wt.trim().split(_r):wt}ngDoCheck(){for(const kt of this.initialClasses)this._updateState(kt,!0);const wt=this.rawClass;if(Array.isArray(wt)||wt instanceof Set)for(const kt of wt)this._updateState(kt,!0);else if(null!=wt)for(const kt of Object.keys(wt))this._updateState(kt,!!wt[kt]);this._applyStateDiff()}_updateState(wt,kt){const fn=this.stateMap.get(wt);void 0!==fn?(fn.enabled!==kt&&(fn.changed=!0,fn.enabled=kt),fn.touched=!0):this.stateMap.set(wt,{enabled:kt,changed:!0,touched:!0})}_applyStateDiff(){for(const wt of this.stateMap){const kt=wt[0],fn=wt[1];fn.changed?(this._toggleClass(kt,fn.enabled),fn.changed=!1):fn.touched||(fn.enabled&&this._toggleClass(kt,!1),this.stateMap.delete(kt)),fn.touched=!1}}_toggleClass(wt,kt){(wt=wt.trim()).length>0&&wt.split(_r).forEach(fn=>{kt?this._renderer.addClass(this._ngEl.nativeElement,fn):this._renderer.removeClass(this._ngEl.nativeElement,fn)})}static#e=this.\u0275fac=function(kt){return new(kt||et)(m.rXU(m.aKT),m.rXU(m.sFG))};static#t=this.\u0275dir=m.FsC({type:et,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return et})();class ln{constructor(Ft,wt,kt,fn){this.$implicit=Ft,this.ngForOf=wt,this.index=kt,this.count=fn}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vn=(()=>{class et{set ngForOf(wt){this._ngForOf=wt,this._ngForOfDirty=!0}set ngForTrackBy(wt){this._trackByFn=wt}get ngForTrackBy(){return this._trackByFn}constructor(wt,kt,fn){this._viewContainer=wt,this._template=kt,this._differs=fn,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(wt){wt&&(this._template=wt)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const wt=this._ngForOf;!this._differ&&wt&&(this._differ=this._differs.find(wt).create(this.ngForTrackBy))}if(this._differ){const wt=this._differ.diff(this._ngForOf);wt&&this._applyChanges(wt)}}_applyChanges(wt){const kt=this._viewContainer;wt.forEachOperation((fn,zn,cr)=>{if(null==fn.previousIndex)kt.createEmbeddedView(this._template,new ln(fn.item,this._ngForOf,-1,-1),null===cr?void 0:cr);else if(null==cr)kt.remove(null===zn?void 0:zn);else if(null!==zn){const Or=kt.get(zn);kt.move(Or,cr),Dn(Or,fn)}});for(let fn=0,zn=kt.length;fn<zn;fn++){const Or=kt.get(fn).context;Or.index=fn,Or.count=zn,Or.ngForOf=this._ngForOf}wt.forEachIdentityChange(fn=>{Dn(kt.get(fn.currentIndex),fn)})}static ngTemplateContextGuard(wt,kt){return!0}static#e=this.\u0275fac=function(kt){return new(kt||et)(m.rXU(m.c1b),m.rXU(m.C4Q),m.rXU(m._q3))};static#t=this.\u0275dir=m.FsC({type:et,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return et})();function Dn(et,Ft){et.context.$implicit=Ft.item}let yr=(()=>{class et{constructor(wt,kt){this._viewContainer=wt,this._context=new pr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=kt}set ngIf(wt){this._context.$implicit=this._context.ngIf=wt,this._updateView()}set ngIfThen(wt){Nr("ngIfThen",wt),this._thenTemplateRef=wt,this._thenViewRef=null,this._updateView()}set ngIfElse(wt){Nr("ngIfElse",wt),this._elseTemplateRef=wt,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(wt,kt){return!0}static#e=this.\u0275fac=function(kt){return new(kt||et)(m.rXU(m.c1b),m.rXU(m.C4Q))};static#t=this.\u0275dir=m.FsC({type:et,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return et})();class pr{constructor(){this.$implicit=null,this.ngIf=null}}function Nr(et,Ft){if(Ft&&!Ft.createEmbeddedView)throw new Error(`${et} must be a TemplateRef, but received '${(0,m.Tbb)(Ft)}'.`)}let ki=(()=>{class et{constructor(wt,kt,fn){this._ngEl=wt,this._differs=kt,this._renderer=fn,this._ngStyle=null,this._differ=null}set ngStyle(wt){this._ngStyle=wt,!this._differ&&wt&&(this._differ=this._differs.find(wt).create())}ngDoCheck(){if(this._differ){const wt=this._differ.diff(this._ngStyle);wt&&this._applyChanges(wt)}}_setStyle(wt,kt){const[fn,zn]=wt.split("."),cr=-1===fn.indexOf("-")?void 0:m.czy.DashCase;null!=kt?this._renderer.setStyle(this._ngEl.nativeElement,fn,zn?`${kt}${zn}`:kt,cr):this._renderer.removeStyle(this._ngEl.nativeElement,fn,cr)}_applyChanges(wt){wt.forEachRemovedItem(kt=>this._setStyle(kt.key,null)),wt.forEachAddedItem(kt=>this._setStyle(kt.key,kt.currentValue)),wt.forEachChangedItem(kt=>this._setStyle(kt.key,kt.currentValue))}static#e=this.\u0275fac=function(kt){return new(kt||et)(m.rXU(m.aKT),m.rXU(m.MKu),m.rXU(m.sFG))};static#t=this.\u0275dir=m.FsC({type:et,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return et})(),Vo=(()=>{class et{constructor(wt){this._viewContainerRef=wt,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(wt){if(this._shouldRecreateView(wt)){const kt=this._viewContainerRef;if(this._viewRef&&kt.remove(kt.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const fn=this._createContextForwardProxy();this._viewRef=kt.createEmbeddedView(this.ngTemplateOutlet,fn,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(wt){return!!wt.ngTemplateOutlet||!!wt.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(wt,kt,fn)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,kt,fn),get:(wt,kt,fn)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,kt,fn)}})}static#e=this.\u0275fac=function(kt){return new(kt||et)(m.rXU(m.c1b))};static#t=this.\u0275dir=m.FsC({type:et,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.OA$]})}return et})();function Gr(et,Ft){return new m.wOt(2100,!1)}class Ts{createSubscription(Ft,wt){return(0,m.O8t)(()=>Ft.subscribe({next:wt,error:kt=>{throw kt}}))}dispose(Ft){(0,m.O8t)(()=>Ft.unsubscribe())}}class Ba{createSubscription(Ft,wt){return Ft.then(wt,kt=>{throw kt})}dispose(Ft){}}const ca=new Ba,Is=new Ts;let Ja=(()=>{class et{constructor(wt){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=wt}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(wt){if(!this._obj){if(wt)try{this.markForCheckOnValueUpdate=!1,this._subscribe(wt)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return wt!==this._obj?(this._dispose(),this.transform(wt)):this._latestValue}_subscribe(wt){this._obj=wt,this._strategy=this._selectStrategy(wt),this._subscription=this._strategy.createSubscription(wt,kt=>this._updateLatestValue(wt,kt))}_selectStrategy(wt){if((0,m.jNT)(wt))return ca;if((0,m.zjR)(wt))return Is;throw Gr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(wt,kt){wt===this._obj&&(this._latestValue=kt,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(kt){return new(kt||et)(m.rXU(m.gRc,16))};static#t=this.\u0275pipe=m.EJ8({name:"async",type:et,pure:!1,standalone:!0})}return et})();const Kf=new m.nKC(""),ku=new m.nKC("");let df=(()=>{class et{constructor(wt,kt,fn){this.locale=wt,this.defaultTimezone=kt,this.defaultOptions=fn}transform(wt,kt,fn,zn){if(null==wt||""===wt||wt!=wt)return null;try{return U(wt,kt??this.defaultOptions?.dateFormat??"mediumDate",zn||this.locale,fn??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(cr){throw Gr()}}static#e=this.\u0275fac=function(kt){return new(kt||et)(m.rXU(m.xe9,16),m.rXU(Kf,24),m.rXU(ku,24))};static#t=this.\u0275pipe=m.EJ8({name:"date",type:et,pure:!0,standalone:!0})}return et})(),tu=(()=>{class et{static#e=this.\u0275fac=function(kt){return new(kt||et)};static#t=this.\u0275mod=m.$C({type:et});static#n=this.\u0275inj=m.G2t({})}return et})();const Us="browser",fa="server";function ol(et){return et===Us}function wc(et){return et===fa}let qn=(()=>{class et{static#e=this.\u0275prov=(0,m.jDH)({token:et,providedIn:"root",factory:()=>ol((0,m.WQX)(m.Agw))?new Rt((0,m.WQX)(M),window):new gn})}return et})();class Rt{constructor(Ft,wt){this.document=Ft,this.window=wt,this.offset=()=>[0,0]}setOffset(Ft){this.offset=Array.isArray(Ft)?()=>Ft:Ft}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Ft){this.window.scrollTo(Ft[0],Ft[1])}scrollToAnchor(Ft){const wt=function on(et,Ft){const wt=et.getElementById(Ft)||et.getElementsByName(Ft)[0];if(wt)return wt;if("function"==typeof et.createTreeWalker&&et.body&&"function"==typeof et.body.attachShadow){const kt=et.createTreeWalker(et.body,NodeFilter.SHOW_ELEMENT);let fn=kt.currentNode;for(;fn;){const zn=fn.shadowRoot;if(zn){const cr=zn.getElementById(Ft)||zn.querySelector(`[name="${Ft}"]`);if(cr)return cr}fn=kt.nextNode()}}return null}(this.document,Ft);wt&&(this.scrollToElement(wt),wt.focus())}setHistoryScrollRestoration(Ft){this.window.history.scrollRestoration=Ft}scrollToElement(Ft){const wt=Ft.getBoundingClientRect(),kt=wt.left+this.window.pageXOffset,fn=wt.top+this.window.pageYOffset,zn=this.offset();this.window.scrollTo(kt-zn[0],fn-zn[1])}}class gn{setOffset(Ft){}getScrollPosition(){return[0,0]}scrollToPosition(Ft){}scrollToAnchor(Ft){}setHistoryScrollRestoration(Ft){}}class mr{}},21626:(Le,z,E)=>{"use strict";E.d(z,{Qq:()=>ne,q1:()=>Yt});var m=E(10467),x=E(93953),R=E(7673),W=E(71985),S=E(86648),L=E(70274),M=E(5964),N=E(96354),$=E(70980),F=E(25558),I=E(60177);class X{}class V{}class Z{constructor(ln){this.normalizedNames=new Map,this.lazyUpdate=null,ln?"string"==typeof ln?this.lazyInit=()=>{this.headers=new Map,ln.split("\n").forEach(vn=>{const Dn=vn.indexOf(":");if(Dn>0){const er=vn.slice(0,Dn),yr=er.toLowerCase(),pr=vn.slice(Dn+1).trim();this.maybeSetNormalizedName(er,yr),this.headers.has(yr)?this.headers.get(yr).push(pr):this.headers.set(yr,[pr])}})}:typeof Headers<"u"&&ln instanceof Headers?(this.headers=new Map,ln.forEach((vn,Dn)=>{this.setHeaderEntries(Dn,vn)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ln).forEach(([vn,Dn])=>{this.setHeaderEntries(vn,Dn)})}:this.headers=new Map}has(ln){return this.init(),this.headers.has(ln.toLowerCase())}get(ln){this.init();const vn=this.headers.get(ln.toLowerCase());return vn&&vn.length>0?vn[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ln){return this.init(),this.headers.get(ln.toLowerCase())||null}append(ln,vn){return this.clone({name:ln,value:vn,op:"a"})}set(ln,vn){return this.clone({name:ln,value:vn,op:"s"})}delete(ln,vn){return this.clone({name:ln,value:vn,op:"d"})}maybeSetNormalizedName(ln,vn){this.normalizedNames.has(vn)||this.normalizedNames.set(vn,ln)}init(){this.lazyInit&&(this.lazyInit instanceof Z?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ln=>this.applyUpdate(ln)),this.lazyUpdate=null))}copyFrom(ln){ln.init(),Array.from(ln.headers.keys()).forEach(vn=>{this.headers.set(vn,ln.headers.get(vn)),this.normalizedNames.set(vn,ln.normalizedNames.get(vn))})}clone(ln){const vn=new Z;return vn.lazyInit=this.lazyInit&&this.lazyInit instanceof Z?this.lazyInit:this,vn.lazyUpdate=(this.lazyUpdate||[]).concat([ln]),vn}applyUpdate(ln){const vn=ln.name.toLowerCase();switch(ln.op){case"a":case"s":let Dn=ln.value;if("string"==typeof Dn&&(Dn=[Dn]),0===Dn.length)return;this.maybeSetNormalizedName(ln.name,vn);const er=("a"===ln.op?this.headers.get(vn):void 0)||[];er.push(...Dn),this.headers.set(vn,er);break;case"d":const yr=ln.value;if(yr){let pr=this.headers.get(vn);if(!pr)return;pr=pr.filter(Nr=>-1===yr.indexOf(Nr)),0===pr.length?(this.headers.delete(vn),this.normalizedNames.delete(vn)):this.headers.set(vn,pr)}else this.headers.delete(vn),this.normalizedNames.delete(vn)}}setHeaderEntries(ln,vn){const Dn=(Array.isArray(vn)?vn:[vn]).map(yr=>yr.toString()),er=ln.toLowerCase();this.headers.set(er,Dn),this.maybeSetNormalizedName(ln,er)}forEach(ln){this.init(),Array.from(this.normalizedNames.keys()).forEach(vn=>ln(this.normalizedNames.get(vn),this.headers.get(vn)))}}class te{encodeKey(ln){return se(ln)}encodeValue(ln){return se(ln)}decodeKey(ln){return decodeURIComponent(ln)}decodeValue(ln){return decodeURIComponent(ln)}}const J=/%(\d[a-f0-9])/gi,oe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function se(Ht){return encodeURIComponent(Ht).replace(J,(ln,vn)=>oe[vn]??ln)}function ae(Ht){return`${Ht}`}class pe{constructor(ln={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ln.encoder||new te,ln.fromString){if(ln.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Q(Ht,ln){const vn=new Map;return Ht.length>0&&Ht.replace(/^\?/,"").split("&").forEach(er=>{const yr=er.indexOf("="),[pr,Nr]=-1==yr?[ln.decodeKey(er),""]:[ln.decodeKey(er.slice(0,yr)),ln.decodeValue(er.slice(yr+1))],Cr=vn.get(pr)||[];Cr.push(Nr),vn.set(pr,Cr)}),vn}(ln.fromString,this.encoder)}else ln.fromObject?(this.map=new Map,Object.keys(ln.fromObject).forEach(vn=>{const Dn=ln.fromObject[vn],er=Array.isArray(Dn)?Dn.map(ae):[ae(Dn)];this.map.set(vn,er)})):this.map=null}has(ln){return this.init(),this.map.has(ln)}get(ln){this.init();const vn=this.map.get(ln);return vn?vn[0]:null}getAll(ln){return this.init(),this.map.get(ln)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ln,vn){return this.clone({param:ln,value:vn,op:"a"})}appendAll(ln){const vn=[];return Object.keys(ln).forEach(Dn=>{const er=ln[Dn];Array.isArray(er)?er.forEach(yr=>{vn.push({param:Dn,value:yr,op:"a"})}):vn.push({param:Dn,value:er,op:"a"})}),this.clone(vn)}set(ln,vn){return this.clone({param:ln,value:vn,op:"s"})}delete(ln,vn){return this.clone({param:ln,value:vn,op:"d"})}toString(){return this.init(),this.keys().map(ln=>{const vn=this.encoder.encodeKey(ln);return this.map.get(ln).map(Dn=>vn+"="+this.encoder.encodeValue(Dn)).join("&")}).filter(ln=>""!==ln).join("&")}clone(ln){const vn=new pe({encoder:this.encoder});return vn.cloneFrom=this.cloneFrom||this,vn.updates=(this.updates||[]).concat(ln),vn}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ln=>this.map.set(ln,this.cloneFrom.map.get(ln))),this.updates.forEach(ln=>{switch(ln.op){case"a":case"s":const vn=("a"===ln.op?this.map.get(ln.param):void 0)||[];vn.push(ae(ln.value)),this.map.set(ln.param,vn);break;case"d":if(void 0===ln.value){this.map.delete(ln.param);break}{let Dn=this.map.get(ln.param)||[];const er=Dn.indexOf(ae(ln.value));-1!==er&&Dn.splice(er,1),Dn.length>0?this.map.set(ln.param,Dn):this.map.delete(ln.param)}}}),this.cloneFrom=this.updates=null)}}class ve{constructor(){this.map=new Map}set(ln,vn){return this.map.set(ln,vn),this}get(ln){return this.map.has(ln)||this.map.set(ln,ln.defaultValue()),this.map.get(ln)}delete(ln){return this.map.delete(ln),this}has(ln){return this.map.has(ln)}keys(){return this.map.keys()}}function De(Ht){return typeof ArrayBuffer<"u"&&Ht instanceof ArrayBuffer}function k(Ht){return typeof Blob<"u"&&Ht instanceof Blob}function u(Ht){return typeof FormData<"u"&&Ht instanceof FormData}class y{constructor(ln,vn,Dn,er){let yr;if(this.url=vn,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ln.toUpperCase(),function we(Ht){switch(Ht){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||er?(this.body=void 0!==Dn?Dn:null,yr=er):yr=Dn,yr&&(this.reportProgress=!!yr.reportProgress,this.withCredentials=!!yr.withCredentials,yr.responseType&&(this.responseType=yr.responseType),yr.headers&&(this.headers=yr.headers),yr.context&&(this.context=yr.context),yr.params&&(this.params=yr.params),this.transferCache=yr.transferCache),this.headers??=new Z,this.context??=new ve,this.params){const pr=this.params.toString();if(0===pr.length)this.urlWithParams=vn;else{const Nr=vn.indexOf("?");this.urlWithParams=vn+(-1===Nr?"?":Nr<vn.length-1?"&":"")+pr}}else this.params=new pe,this.urlWithParams=vn}serializeBody(){return null===this.body?null:"string"==typeof this.body||De(this.body)||k(this.body)||u(this.body)||function h(Ht){return typeof URLSearchParams<"u"&&Ht instanceof URLSearchParams}(this.body)?this.body:this.body instanceof pe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||u(this.body)?null:k(this.body)?this.body.type||null:De(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ln={}){const vn=ln.method||this.method,Dn=ln.url||this.url,er=ln.responseType||this.responseType,yr=ln.transferCache??this.transferCache,pr=void 0!==ln.body?ln.body:this.body,Nr=ln.withCredentials??this.withCredentials,Cr=ln.reportProgress??this.reportProgress;let $i=ln.headers||this.headers,fo=ln.params||this.params;const ci=ln.context??this.context;return void 0!==ln.setHeaders&&($i=Object.keys(ln.setHeaders).reduce((lo,ho)=>lo.set(ho,ln.setHeaders[ho]),$i)),ln.setParams&&(fo=Object.keys(ln.setParams).reduce((lo,ho)=>lo.set(ho,ln.setParams[ho]),fo)),new y(vn,Dn,pr,{params:fo,headers:$i,context:ci,reportProgress:Cr,responseType:er,withCredentials:Nr,transferCache:yr})}}var w=function(Ht){return Ht[Ht.Sent=0]="Sent",Ht[Ht.UploadProgress=1]="UploadProgress",Ht[Ht.ResponseHeader=2]="ResponseHeader",Ht[Ht.DownloadProgress=3]="DownloadProgress",Ht[Ht.Response=4]="Response",Ht[Ht.User=5]="User",Ht}(w||{});class T{constructor(ln,vn=200,Dn="OK"){this.headers=ln.headers||new Z,this.status=void 0!==ln.status?ln.status:vn,this.statusText=ln.statusText||Dn,this.url=ln.url||null,this.ok=this.status>=200&&this.status<300}}class D extends T{constructor(ln={}){super(ln),this.type=w.ResponseHeader}clone(ln={}){return new D({headers:ln.headers||this.headers,status:void 0!==ln.status?ln.status:this.status,statusText:ln.statusText||this.statusText,url:ln.url||this.url||void 0})}}class j extends T{constructor(ln={}){super(ln),this.type=w.Response,this.body=void 0!==ln.body?ln.body:null}clone(ln={}){return new j({body:void 0!==ln.body?ln.body:this.body,headers:ln.headers||this.headers,status:void 0!==ln.status?ln.status:this.status,statusText:ln.statusText||this.statusText,url:ln.url||this.url||void 0})}}class A extends T{constructor(ln){super(ln,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ln.url||"(unknown url)"}`:`Http failure response for ${ln.url||"(unknown url)"}: ${ln.status} ${ln.statusText}`,this.error=ln.error||null}}function H(Ht,ln){return{body:ln,headers:Ht.headers,context:Ht.context,observe:Ht.observe,params:Ht.params,reportProgress:Ht.reportProgress,responseType:Ht.responseType,withCredentials:Ht.withCredentials,transferCache:Ht.transferCache}}let ne=(()=>{class Ht{constructor(vn){this.handler=vn}request(vn,Dn,er={}){let yr;if(vn instanceof y)yr=vn;else{let Cr,$i;Cr=er.headers instanceof Z?er.headers:new Z(er.headers),er.params&&($i=er.params instanceof pe?er.params:new pe({fromObject:er.params})),yr=new y(vn,Dn,void 0!==er.body?er.body:null,{headers:Cr,context:er.context,params:$i,reportProgress:er.reportProgress,responseType:er.responseType||"json",withCredentials:er.withCredentials,transferCache:er.transferCache})}const pr=(0,R.of)(yr).pipe((0,L.H)(Cr=>this.handler.handle(Cr)));if(vn instanceof y||"events"===er.observe)return pr;const Nr=pr.pipe((0,M.p)(Cr=>Cr instanceof j));switch(er.observe||"body"){case"body":switch(yr.responseType){case"arraybuffer":return Nr.pipe((0,N.T)(Cr=>{if(null!==Cr.body&&!(Cr.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Cr.body}));case"blob":return Nr.pipe((0,N.T)(Cr=>{if(null!==Cr.body&&!(Cr.body instanceof Blob))throw new Error("Response is not a Blob.");return Cr.body}));case"text":return Nr.pipe((0,N.T)(Cr=>{if(null!==Cr.body&&"string"!=typeof Cr.body)throw new Error("Response is not a string.");return Cr.body}));default:return Nr.pipe((0,N.T)(Cr=>Cr.body))}case"response":return Nr;default:throw new Error(`Unreachable: unhandled observe type ${er.observe}}`)}}delete(vn,Dn={}){return this.request("DELETE",vn,Dn)}get(vn,Dn={}){return this.request("GET",vn,Dn)}head(vn,Dn={}){return this.request("HEAD",vn,Dn)}jsonp(vn,Dn){return this.request("JSONP",vn,{params:(new pe).append(Dn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(vn,Dn={}){return this.request("OPTIONS",vn,Dn)}patch(vn,Dn,er={}){return this.request("PATCH",vn,H(er,Dn))}post(vn,Dn,er={}){return this.request("POST",vn,H(er,Dn))}put(vn,Dn,er={}){return this.request("PUT",vn,H(er,Dn))}static#e=this.\u0275fac=function(Dn){return new(Dn||Ht)(x.KVO(X))};static#t=this.\u0275prov=x.jDH({token:Ht,factory:Ht.\u0275fac})}return Ht})();const ce=/^\)\]\}',?\n/;function ke(Ht){if(Ht.url)return Ht.url;const ln="X-Request-URL".toLocaleLowerCase();return Ht.headers.get(ln)}let Fe=(()=>{class Ht{constructor(){this.fetchImpl=(0,x.WQX)(Ee,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=(0,x.WQX)(x.SKi)}handle(vn){return new W.c(Dn=>{const er=new AbortController;return this.doRequest(vn,er.signal,Dn).then(ge,yr=>Dn.error(new A({error:yr}))),()=>er.abort()})}doRequest(vn,Dn,er){var yr=this;return(0,m.A)(function*(){const pr=yr.createRequestInit(vn);let Nr;try{const Do=yr.ngZone.runOutsideAngular(()=>yr.fetchImpl(vn.urlWithParams,{signal:Dn,...pr}));(function Oe(Ht){Ht.then(ge,ge)})(Do),er.next({type:w.Sent}),Nr=yield Do}catch(Do){return void er.error(new A({error:Do,status:Do.status??0,statusText:Do.statusText,url:vn.urlWithParams,headers:Do.headers}))}const Cr=new Z(Nr.headers),$i=Nr.statusText,fo=ke(Nr)??vn.urlWithParams;let ci=Nr.status,lo=null;if(vn.reportProgress&&er.next(new D({headers:Cr,status:ci,statusText:$i,url:fo})),Nr.body){const Do=Nr.headers.get("content-length"),Di=[],ki=Nr.body.getReader();let Ya,Gr,Vo=0;const Ts=typeof Zone<"u"&&Zone.current;yield yr.ngZone.runOutsideAngular((0,m.A)(function*(){for(;;){const{done:ca,value:Is}=yield ki.read();if(ca)break;if(Di.push(Is),Vo+=Is.length,vn.reportProgress){Gr="text"===vn.responseType?(Gr??"")+(Ya??=new TextDecoder).decode(Is,{stream:!0}):void 0;const Ja=()=>er.next({type:w.DownloadProgress,total:Do?+Do:void 0,loaded:Vo,partialText:Gr});Ts?Ts.run(Ja):Ja()}}}));const Ba=yr.concatChunks(Di,Vo);try{const ca=Nr.headers.get("Content-Type")??"";lo=yr.parseBody(vn,Ba,ca)}catch(ca){return void er.error(new A({error:ca,headers:new Z(Nr.headers),status:Nr.status,statusText:Nr.statusText,url:ke(Nr)??vn.urlWithParams}))}}0===ci&&(ci=lo?200:0),ci>=200&&ci<300?(er.next(new j({body:lo,headers:Cr,status:ci,statusText:$i,url:fo})),er.complete()):er.error(new A({error:lo,headers:Cr,status:ci,statusText:$i,url:fo}))})()}parseBody(vn,Dn,er){switch(vn.responseType){case"json":const yr=(new TextDecoder).decode(Dn).replace(ce,"");return""===yr?null:JSON.parse(yr);case"text":return(new TextDecoder).decode(Dn);case"blob":return new Blob([Dn],{type:er});case"arraybuffer":return Dn.buffer}}createRequestInit(vn){const Dn={},er=vn.withCredentials?"include":void 0;if(vn.headers.forEach((yr,pr)=>Dn[yr]=pr.join(",")),vn.headers.has("Accept")||(Dn.Accept="application/json, text/plain, */*"),!vn.headers.has("Content-Type")){const yr=vn.detectContentTypeHeader();null!==yr&&(Dn["Content-Type"]=yr)}return{body:vn.serializeBody(),method:vn.method,headers:Dn,credentials:er}}concatChunks(vn,Dn){const er=new Uint8Array(Dn);let yr=0;for(const pr of vn)er.set(pr,yr),yr+=pr.length;return er}static#e=this.\u0275fac=function(Dn){return new(Dn||Ht)};static#t=this.\u0275prov=x.jDH({token:Ht,factory:Ht.\u0275fac})}return Ht})();class Ee{}function ge(){}function ye(Ht,ln){return ln(Ht)}function Se(Ht,ln){return(vn,Dn)=>ln.intercept(vn,{handle:er=>Ht(er,Dn)})}const fe=new x.nKC(""),ee=new x.nKC(""),ie=new x.nKC(""),ue=new x.nKC("",{providedIn:"root",factory:()=>!0});function be(){let Ht=null;return(ln,vn)=>{null===Ht&&(Ht=((0,x.WQX)(fe,{optional:!0})??[]).reduceRight(Se,ye));const Dn=(0,x.WQX)(x.TgB);if((0,x.WQX)(ue)){const yr=Dn.add();return Ht(ln,vn).pipe((0,$.j)(()=>Dn.remove(yr)))}return Ht(ln,vn)}}let Be=(()=>{class Ht extends X{constructor(vn,Dn){super(),this.backend=vn,this.injector=Dn,this.chain=null,this.pendingTasks=(0,x.WQX)(x.TgB),this.contributeToStability=(0,x.WQX)(ue)}handle(vn){if(null===this.chain){const Dn=Array.from(new Set([...this.injector.get(ee),...this.injector.get(ie,[])]));this.chain=Dn.reduceRight((er,yr)=>function he(Ht,ln,vn){return(Dn,er)=>(0,x.N4e)(vn,()=>ln(Dn,yr=>Ht(yr,er)))}(er,yr,this.injector),ye)}if(this.contributeToStability){const Dn=this.pendingTasks.add();return this.chain(vn,er=>this.backend.handle(er)).pipe((0,$.j)(()=>this.pendingTasks.remove(Dn)))}return this.chain(vn,Dn=>this.backend.handle(Dn))}static#e=this.\u0275fac=function(Dn){return new(Dn||Ht)(x.KVO(V),x.KVO(x.uvJ))};static#t=this.\u0275prov=x.jDH({token:Ht,factory:Ht.\u0275fac})}return Ht})();const qe=/^\)\]\}',?\n/;let ut=(()=>{class Ht{constructor(vn){this.xhrFactory=vn}handle(vn){if("JSONP"===vn.method)throw new x.wOt(-2800,!1);const Dn=this.xhrFactory;return(Dn.\u0275loadImpl?(0,S.H)(Dn.\u0275loadImpl()):(0,R.of)(null)).pipe((0,F.n)(()=>new W.c(yr=>{const pr=Dn.build();if(pr.open(vn.method,vn.urlWithParams),vn.withCredentials&&(pr.withCredentials=!0),vn.headers.forEach((Di,ki)=>pr.setRequestHeader(Di,ki.join(","))),vn.headers.has("Accept")||pr.setRequestHeader("Accept","application/json, text/plain, */*"),!vn.headers.has("Content-Type")){const Di=vn.detectContentTypeHeader();null!==Di&&pr.setRequestHeader("Content-Type",Di)}if(vn.responseType){const Di=vn.responseType.toLowerCase();pr.responseType="json"!==Di?Di:"text"}const Nr=vn.serializeBody();let Cr=null;const $i=()=>{if(null!==Cr)return Cr;const Di=pr.statusText||"OK",ki=new Z(pr.getAllResponseHeaders()),Vo=function At(Ht){return"responseURL"in Ht&&Ht.responseURL?Ht.responseURL:/^X-Request-URL:/m.test(Ht.getAllResponseHeaders())?Ht.getResponseHeader("X-Request-URL"):null}(pr)||vn.url;return Cr=new D({headers:ki,status:pr.status,statusText:Di,url:Vo}),Cr},fo=()=>{let{headers:Di,status:ki,statusText:Vo,url:Ya}=$i(),Gr=null;204!==ki&&(Gr=typeof pr.response>"u"?pr.responseText:pr.response),0===ki&&(ki=Gr?200:0);let Ts=ki>=200&&ki<300;if("json"===vn.responseType&&"string"==typeof Gr){const Ba=Gr;Gr=Gr.replace(qe,"");try{Gr=""!==Gr?JSON.parse(Gr):null}catch(ca){Gr=Ba,Ts&&(Ts=!1,Gr={error:ca,text:Gr})}}Ts?(yr.next(new j({body:Gr,headers:Di,status:ki,statusText:Vo,url:Ya||void 0})),yr.complete()):yr.error(new A({error:Gr,headers:Di,status:ki,statusText:Vo,url:Ya||void 0}))},ci=Di=>{const{url:ki}=$i(),Vo=new A({error:Di,status:pr.status||0,statusText:pr.statusText||"Unknown Error",url:ki||void 0});yr.error(Vo)};let lo=!1;const ho=Di=>{lo||(yr.next($i()),lo=!0);let ki={type:w.DownloadProgress,loaded:Di.loaded};Di.lengthComputable&&(ki.total=Di.total),"text"===vn.responseType&&pr.responseText&&(ki.partialText=pr.responseText),yr.next(ki)},Do=Di=>{let ki={type:w.UploadProgress,loaded:Di.loaded};Di.lengthComputable&&(ki.total=Di.total),yr.next(ki)};return pr.addEventListener("load",fo),pr.addEventListener("error",ci),pr.addEventListener("timeout",ci),pr.addEventListener("abort",ci),vn.reportProgress&&(pr.addEventListener("progress",ho),null!==Nr&&pr.upload&&pr.upload.addEventListener("progress",Do)),pr.send(Nr),yr.next({type:w.Sent}),()=>{pr.removeEventListener("error",ci),pr.removeEventListener("abort",ci),pr.removeEventListener("load",fo),pr.removeEventListener("timeout",ci),vn.reportProgress&&(pr.removeEventListener("progress",ho),null!==Nr&&pr.upload&&pr.upload.removeEventListener("progress",Do)),pr.readyState!==pr.DONE&&pr.abort()}})))}static#e=this.\u0275fac=function(Dn){return new(Dn||Ht)(x.KVO(I.N0))};static#t=this.\u0275prov=x.jDH({token:Ht,factory:Ht.\u0275fac})}return Ht})();const bt=new x.nKC(""),en=new x.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Jn=new x.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class yn{}let Vt=(()=>{class Ht{constructor(vn,Dn,er){this.doc=vn,this.platform=Dn,this.cookieName=er,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const vn=this.doc.cookie||"";return vn!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,I._b)(vn,this.cookieName),this.lastCookieString=vn),this.lastToken}static#e=this.\u0275fac=function(Dn){return new(Dn||Ht)(x.KVO(I.qQ),x.KVO(x.Agw),x.KVO(en))};static#t=this.\u0275prov=x.jDH({token:Ht,factory:Ht.\u0275fac})}return Ht})();function $t(Ht,ln){const vn=Ht.url.toLowerCase();if(!(0,x.WQX)(bt)||"GET"===Ht.method||"HEAD"===Ht.method||vn.startsWith("http://")||vn.startsWith("https://"))return ln(Ht);const Dn=(0,x.WQX)(yn).getToken(),er=(0,x.WQX)(Jn);return null!=Dn&&!Ht.headers.has(er)&&(Ht=Ht.clone({headers:Ht.headers.set(er,Dn)})),ln(Ht)}var st=function(Ht){return Ht[Ht.Interceptors=0]="Interceptors",Ht[Ht.LegacyInterceptors=1]="LegacyInterceptors",Ht[Ht.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ht[Ht.NoXsrfProtection=3]="NoXsrfProtection",Ht[Ht.JsonpSupport=4]="JsonpSupport",Ht[Ht.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ht[Ht.Fetch=6]="Fetch",Ht}(st||{});function Kt(...Ht){const ln=[ne,ut,Be,{provide:X,useExisting:Be},{provide:V,useFactory:()=>(0,x.WQX)(Fe,{optional:!0})??(0,x.WQX)(ut)},{provide:ee,useValue:$t,multi:!0},{provide:bt,useValue:!0},{provide:yn,useClass:Vt}];for(const vn of Ht)ln.push(...vn.\u0275providers);return(0,x.EmA)(ln)}const or=new x.nKC("");function ft(){return function Nt(Ht,ln){return{\u0275kind:Ht,\u0275providers:ln}}(st.LegacyInterceptors,[{provide:or,useFactory:be},{provide:ee,useExisting:or,multi:!0}])}let Yt=(()=>{class Ht{static#e=this.\u0275fac=function(Dn){return new(Dn||Ht)};static#t=this.\u0275mod=x.$C({type:Ht});static#n=this.\u0275inj=x.G2t({providers:[Kt(ft())]})}return Ht})()},93953:(Le,z,E)=>{"use strict";function m(a,f){return Object.is(a,f)}E.d(z,{bc$:()=>$k,iLQ:()=>Mu,sZ2:()=>w1,hnV:()=>_2,wjH:()=>hd,o8S:()=>wh,BIS:()=>vD,gRc:()=>t4,Ql9:()=>GO,OM3:()=>mu,Ocv:()=>WA,Z63:()=>Ii,aKT:()=>u1,uvJ:()=>lu,zcH:()=>eh,bkB:()=>Wu,y_5:()=>Tl,$GK:()=>Ki,nKC:()=>wi,zZn:()=>Ka,_q3:()=>D2,MKu:()=>C2,xe9:()=>Jw,Co$:()=>Fi,Vns:()=>y0,SKi:()=>Zs,Xx1:()=>Ec,Agw:()=>Yx,PLl:()=>$y,rOR:()=>f1,sFG:()=>Z9,_9s:()=>cg,czy:()=>V1,WPN:()=>s0,kdw:()=>Nd,C4Q:()=>Sb,NYb:()=>z6,giA:()=>zO,RxE:()=>wp,c1b:()=>qS,gXe:()=>Ua,mal:()=>W3,Tzd:()=>NR,L39:()=>ao,EWP:()=>F7,sbv:()=>zb,a0P:()=>lT,Ol2:()=>qb,w6W:()=>bM,QZP:()=>w5,Rfq:()=>od,WQX:()=>br,hFB:()=>Dk,naY:()=>Za,Hps:()=>Vb,QuC:()=>Fc,EmA:()=>Vm,geq:()=>e7,Udg:()=>N4,Jn2:()=>JO,HJs:()=>i_,N4e:()=>z_,vPA:()=>lC,O8t:()=>kf,ebz:()=>pM,An2:()=>p0,H3F:()=>$w,zAP:()=>sT,H8p:()=>$h,KH2:()=>D0,TgB:()=>Zm,wOt:()=>ur,WHO:()=>VA,e01:()=>qg,lNU:()=>pi,h9k:()=>ND,$MX:()=>oS,ZF7:()=>Zy,Kcf:()=>Qk,e5t:()=>DD,UyX:()=>ID,cWb:()=>eP,osQ:()=>tP,H5H:()=>Cg,Zy3:()=>Ni,mq5:()=>up,JZv:()=>gs,TL3:()=>J0,LfX:()=>Um,plB:()=>sm,jNT:()=>H6,zjR:()=>HO,ngT:()=>fd,TL$:()=>Ic,Tbb:()=>So,rcV:()=>np,nM4:()=>op,Vt3:()=>Xu,GFd:()=>ME,OA$:()=>jc,Jv_:()=>T6,aNF:()=>Kg,R7$:()=>r3,BMQ:()=>no,HbH:()=>Ao,ZvI:()=>fm,AVh:()=>lp,vxM:()=>zl,wni:()=>Ug,C6U:()=>h6,SS7:()=>c2,VBU:()=>Gt,FsC:()=>ui,jDH:()=>Eo,G2t:()=>Od,$C:()=>Bn,EJ8:()=>Oi,rXU:()=>om,nrm:()=>Aw,eu8:()=>Ig,bVm:()=>ts,qex:()=>hh,k0s:()=>Hd,j41:()=>Tg,RV6:()=>$M,xGo:()=>WI,Mr5:()=>VE,pXf:()=>qi,KVO:()=>Ri,kS0:()=>c1,QTQ:()=>eE,bIt:()=>qE,lsd:()=>f6,joV:()=>Mx,qSk:()=>Sx,XpG:()=>cA,nI1:()=>_a,bMT:()=>If,SdG:()=>xu,NAR:()=>O0,Y8G:()=>ml,FS9:()=>kw,lJ4:()=>_A,eq3:()=>I6,l_i:()=>EA,NyB:()=>m6,mGM:()=>u6,sdS:()=>n2,Dyx:()=>I0,Z7z:()=>Sw,fX1:()=>A0,Vm6:()=>fc,Njj:()=>DI,eBV:()=>ga,npT:()=>LD,f$h:()=>Xy,B4B:()=>cS,n$t:()=>UD,xc7:()=>uw,Kam:()=>QE,zvX:()=>zE,DNE:()=>Fn,C5r:()=>Vg,EFF:()=>Cs,JRh:()=>fs,SpI:()=>Rw,Lme:()=>Ow,E5c:()=>Sm,DH7:()=>S6,mxI:()=>pA,R50:()=>hA,GBs:()=>d6,wEZ:()=>p6});let x=null,R=!1,W=1;const S=Symbol("SIGNAL");function L(a){const f=x;return x=a,f}const F={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function I(a){if(R)throw new Error("");if(null===x)return;x.consumerOnSignalRead(a);const f=x.nextProducerIndex++;ve(x),f<x.producerNode.length&&x.producerNode[f]!==a&&le(x)&&pe(x.producerNode[f],x.producerIndexOfThis[f]),x.producerNode[f]!==a&&(x.producerNode[f]=a,x.producerIndexOfThis[f]=le(x)?ae(a,x,f):0),x.producerLastReadVersion[f]=a.version}function V(a){if((!le(a)||a.dirty)&&(a.dirty||a.lastCleanEpoch!==W)){if(!a.producerMustRecompute(a)&&!oe(a))return a.dirty=!1,void(a.lastCleanEpoch=W);a.producerRecomputeValue(a),a.dirty=!1,a.lastCleanEpoch=W}}function Z(a){if(void 0===a.liveConsumerNode)return;const f=R;R=!0;try{for(const v of a.liveConsumerNode)v.dirty||te(v)}finally{R=f}}function re(){return!1!==x?.consumerAllowSignalWrites}function te(a){a.dirty=!0,Z(a),a.consumerMarkedDirty?.(a)}function Q(a){return a&&(a.nextProducerIndex=0),L(a)}function J(a,f){if(L(f),a&&void 0!==a.producerNode&&void 0!==a.producerIndexOfThis&&void 0!==a.producerLastReadVersion){if(le(a))for(let v=a.nextProducerIndex;v<a.producerNode.length;v++)pe(a.producerNode[v],a.producerIndexOfThis[v]);for(;a.producerNode.length>a.nextProducerIndex;)a.producerNode.pop(),a.producerLastReadVersion.pop(),a.producerIndexOfThis.pop()}}function oe(a){ve(a);for(let f=0;f<a.producerNode.length;f++){const v=a.producerNode[f],P=a.producerLastReadVersion[f];if(P!==v.version||(V(v),P!==v.version))return!0}return!1}function se(a){if(ve(a),le(a))for(let f=0;f<a.producerNode.length;f++)pe(a.producerNode[f],a.producerIndexOfThis[f]);a.producerNode.length=a.producerLastReadVersion.length=a.producerIndexOfThis.length=0,a.liveConsumerNode&&(a.liveConsumerNode.length=a.liveConsumerIndexOfThis.length=0)}function ae(a,f,v){if(we(a),0===a.liveConsumerNode.length&&De(a))for(let P=0;P<a.producerNode.length;P++)a.producerIndexOfThis[P]=ae(a.producerNode[P],a,P);return a.liveConsumerIndexOfThis.push(v),a.liveConsumerNode.push(f)-1}function pe(a,f){if(we(a),1===a.liveConsumerNode.length&&De(a))for(let P=0;P<a.producerNode.length;P++)pe(a.producerNode[P],a.producerIndexOfThis[P]);const v=a.liveConsumerNode.length-1;if(a.liveConsumerNode[f]=a.liveConsumerNode[v],a.liveConsumerIndexOfThis[f]=a.liveConsumerIndexOfThis[v],a.liveConsumerNode.length--,a.liveConsumerIndexOfThis.length--,f<a.liveConsumerNode.length){const P=a.liveConsumerIndexOfThis[f],Y=a.liveConsumerNode[f];ve(Y),Y.producerIndexOfThis[P]=f}}function le(a){return a.consumerIsAlwaysLive||(a?.liveConsumerNode?.length??0)>0}function ve(a){a.producerNode??=[],a.producerIndexOfThis??=[],a.producerLastReadVersion??=[]}function we(a){a.liveConsumerNode??=[],a.liveConsumerIndexOfThis??=[]}function De(a){return void 0!==a.producerNode}function k(a){const f=Object.create(w);f.computation=a;const v=()=>{if(V(f),I(f),f.value===y)throw f.error;return f.value};return v[S]=f,v}const u=Symbol("UNSET"),h=Symbol("COMPUTING"),y=Symbol("ERRORED"),w={...F,value:u,dirty:!0,error:null,equal:m,producerMustRecompute:a=>a.value===u||a.value===h,producerRecomputeValue(a){if(a.value===h)throw new Error("Detected cycle in computations.");const f=a.value;a.value=h;const v=Q(a);let P;try{P=a.computation()}catch(Y){P=y,a.error=Y}finally{J(a,v)}f!==u&&f!==y&&P!==y&&a.equal(f,P)?a.value=f:(a.value=P,a.version++)}};let D=function T(){throw new Error};function j(){D()}let l=null;function ne(a,f){re()||j(),a.equal(a.value,f)||(a.value=f,function Fe(a){a.version++,function X(){W++}(),Z(a),l?.()}(a))}const ke={...F,equal:m,value:void 0};const ge=()=>{},Oe={...F,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:a=>{null!==a.schedule&&a.schedule(a.ref)},hasRun:!1,cleanupFn:ge};var Se=E(84412),he=E(21413),fe=E(18359),ee=E(96354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const pi="https://g.co/ng/security#xss";class ur extends Error{constructor(f,v){super(Ni(f,v)),this.code=f}}function Ni(a,f){return`NG0${Math.abs(a)}${f?": "+f:""}`}const qr=Symbol("InputSignalNode#UNSET"),ro={...ke,transformFn:void 0,applyValueToInputSignal(a,f){ne(a,f)}};function Nc(a,f){const v=Object.create(ro);function P(){if(I(v),v.value===qr)throw new ur(-950,!1);return v.value}return v.value=a,v.transformFn=f?.transform,P[S]=v,P}function rs(a){return{toString:a}.toString()}const Lc="__parameters__";function ys(a,f,v){return rs(()=>{const P=function nu(a){return function(...v){if(a){const P=a(...v);for(const Y in P)this[Y]=P[Y]}}}(f);function Y(...de){if(this instanceof Y)return P.apply(this,de),this;const Me=new Y(...de);return Ue.annotation=Me,Ue;function Ue(Qe,_t,Dt){const Xt=Qe.hasOwnProperty(Lc)?Qe[Lc]:Object.defineProperty(Qe,Lc,{value:[]})[Lc];for(;Xt.length<=Dt;)Xt.push(null);return(Xt[Dt]=Xt[Dt]||[]).push(Me),Qe}}return v&&(Y.prototype=Object.create(v.prototype)),Y.prototype.ngMetadataName=a,Y.annotationCls=Y,Y})}const gs=globalThis;function mi(a){for(let f in a)if(a[f]===mi)return f;throw Error("Could not find renamed property on target object.")}function po(a,f){for(const v in f)f.hasOwnProperty(v)&&!a.hasOwnProperty(v)&&(a[v]=f[v])}function So(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(So).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const f=a.toString();if(null==f)return""+f;const v=f.indexOf("\n");return-1===v?f:f.substring(0,v)}function Rp(a,f){return null==a||""===a?null===f?"":f:null==f||""===f?a:a+" "+f}const id=mi({__forward_ref__:mi});function od(a){return a.__forward_ref__=od,a.toString=function(){return So(this())},a}function bi(a){return Sl(a)?a():a}function Sl(a){return"function"==typeof a&&a.hasOwnProperty(id)&&a.__forward_ref__===od}function sl(a,f,v){a!=f&&function ei(a,f,v,P){throw new Error(`ASSERTION ERROR: ${a}`+(null==P?"":` [Expected=> ${v} ${P} ${f} <=Actual]`))}(v,a,f,"==")}function Eo(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Od(a){return{providers:a.providers||[],imports:a.imports||[]}}function iu(a){return uf(a,Al)||uf(a,Mo)}function Um(a){return null!==iu(a)}function uf(a,f){return a.hasOwnProperty(f)?a[f]:null}function Oh(a){return a&&(a.hasOwnProperty(rc)||a.hasOwnProperty(sd))?a[rc]:null}const Al=mi({\u0275prov:mi}),rc=mi({\u0275inj:mi}),Mo=mi({ngInjectableDef:mi}),sd=mi({ngInjectorDef:mi});class wi{constructor(f,v){this._desc=f,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof v?this.__NG_ELEMENT_ID__=v:void 0!==v&&(this.\u0275prov=Eo({token:this,providedIn:v.providedIn||"root",factory:v.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Wf(a){return a&&!!a.\u0275providers}const vs=mi({\u0275cmp:mi}),jm=mi({\u0275dir:mi}),Lp=mi({\u0275pipe:mi}),Km=mi({\u0275mod:mi}),su=mi({\u0275fac:mi}),Up=mi({__NG_ELEMENT_ID__:mi}),Nh=mi({__NG_ENV_ID__:mi});function Pi(a){return"string"==typeof a?a:null==a?"":String(a)}function Lh(a,f){throw new ur(-201,!1)}var Ki=function(a){return a[a.Default=0]="Default",a[a.Host=1]="Host",a[a.Self=2]="Self",a[a.SkipSelf=4]="SkipSelf",a[a.Optional=8]="Optional",a}(Ki||{});let Ou;function Uh(){return Ou}function _c(a){const f=Ou;return Ou=a,f}function Fh(a,f,v){const P=iu(a);return P&&"root"==P.providedIn?void 0===P.value?P.value=P.factory():P.value:v&Ki.Optional?null:void 0!==f?f:void Lh()}const jh={},Bu="__NG_DI_FLAG__",et="ngTempTokenPath",wt=/\n/gm,fn="__source";let zn;function Or(a){const f=zn;return zn=a,f}function Xo(a,f=Ki.Default){if(void 0===zn)throw new ur(-203,!1);return null===zn?Fh(a,void 0,f):zn.get(a,f&Ki.Optional?null:void 0,f)}function Ri(a,f=Ki.Default){return(Uh()||Xo)(bi(a),f)}function br(a,f=Ki.Default){return Ri(a,Ho(f))}function Ho(a){return typeof a>"u"||"number"==typeof a?a:(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function vo(a){const f=[];for(let v=0;v<a.length;v++){const P=bi(a[v]);if(Array.isArray(P)){if(0===P.length)throw new ur(900,!1);let Y,de=Ki.Default;for(let Me=0;Me<P.length;Me++){const Ue=P[Me],Qe=ad(Ue);"number"==typeof Qe?-1===Qe?Y=Ue.token:de|=Qe:Y=Ue}f.push(Ri(Y,de))}else f.push(Ri(P))}return f}function ko(a,f){return a[Bu]=f,a.prototype[Bu]=f,a}function ad(a){return a[Bu]}const Tl=ko(ys("Inject",a=>({token:a})),-1),Ec=ko(ys("Optional"),8),Nd=ko(ys("SkipSelf"),4);function Gf(a,f){return a.hasOwnProperty(su)?a[su]:null}function Lu(a,f){a.forEach(v=>Array.isArray(v)?Lu(v,f):f(v))}function $m(a,f,v){f>=a.length?a.push(v):a.splice(f,0,v)}function at(a,f){return f>=a.length-1?a.pop():a.splice(f,1)[0]}function tn(a,f,v){let P=Xn(a,f);return P>=0?a[1|P]=v:(P=~P,function Ot(a,f,v,P){let Y=a.length;if(Y==f)a.push(v,P);else if(1===Y)a.push(P,a[0]),a[0]=v;else{for(Y--,a.push(a[Y-1],a[Y]);Y>f;)a[Y]=a[Y-2],Y--;a[f]=v,a[f+1]=P}}(a,P,f,v)),P}function kn(a,f){const v=Xn(a,f);if(v>=0)return a[1|v]}function Xn(a,f){return function Tn(a,f,v){let P=0,Y=a.length>>v;for(;Y!==P;){const de=P+(Y-P>>1),Me=a[de<<v];if(f===Me)return de<<v;Me>f?Y=de:P=de+1}return~(Y<<v)}(a,f,1)}const Hn={},oi=[],Ii=new wi(""),Vi=new wi("",-1),Wo=new wi("");class Il{get(f,v=jh){if(v===jh){const P=new Error(`NullInjectorError: No provider for ${So(f)}!`);throw P.name="NullInjectorError",P}return v}}var xc=function(a){return a[a.OnPush=0]="OnPush",a[a.Default=1]="Default",a}(xc||{}),Ua=function(a){return a[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a}(Ua||{}),Fa=function(a){return a[a.None=0]="None",a[a.SignalBased=1]="SignalBased",a[a.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",a}(Fa||{});function Dl(a,f,v){let P=a.length;for(;;){const Y=a.indexOf(f,v);if(-1===Y)return Y;if(0===Y||a.charCodeAt(Y-1)<=32){const de=f.length;if(Y+de===P||a.charCodeAt(Y+de)<=32)return Y}v=Y+1}}function cl(a,f,v){let P=0;for(;P<v.length;){const Y=v[P];if("number"==typeof Y){if(0!==Y)break;P++;const de=v[P++],Me=v[P++],Ue=v[P++];a.setAttribute(f,Me,Ue,de)}else{const de=Y,Me=v[++P];ll(de)?a.setProperty(f,de,Me):a.setAttribute(f,de,Me),P++}}return P}function cu(a){return 3===a||4===a||6===a}function ll(a){return 64===a.charCodeAt(0)}function Sc(a,f){if(null!==f&&0!==f.length)if(null===a||0===a.length)a=f.slice();else{let v=-1;for(let P=0;P<f.length;P++){const Y=f[P];"number"==typeof Y?v=Y:0===v||Kh(a,v,Y,null,-1===v||2===v?f[++P]:null)}}return a}function Kh(a,f,v,P,Y){let de=0,Me=a.length;if(-1===f)Me=-1;else for(;de<a.length;){const Ue=a[de++];if("number"==typeof Ue){if(Ue===f){Me=-1;break}if(Ue>f){Me=de-1;break}}}for(;de<a.length;){const Ue=a[de];if("number"==typeof Ue)break;if(Ue===v){if(null===P)return void(null!==Y&&(a[de+1]=Y));if(P===a[de+1])return void(a[de+2]=Y)}de++,null!==P&&de++,null!==Y&&de++}-1!==Me&&(a.splice(Me,0,f),de=Me+1),a.splice(de++,0,v),null!==P&&a.splice(de++,0,P),null!==Y&&a.splice(de++,0,Y)}const F_="ng-template";function nx(a,f,v,P){let Y=0;if(P){for(;Y<f.length&&"string"==typeof f[Y];Y+=2)if("class"===f[Y]&&-1!==Dl(f[Y+1].toLowerCase(),v,0))return!0}else if(Uv(a))return!1;if(Y=f.indexOf(1,Y),Y>-1){let de;for(;++Y<f.length&&"string"==typeof(de=f[Y]);)if(de.toLowerCase()===v)return!0}return!1}function Uv(a){return 4===a.type&&a.value!==F_}function j_(a,f,v){return f===(4!==a.type||v?a.value:F_)}function rx(a,f,v){let P=4;const Y=a.attrs,de=null!==Y?function sI(a){for(let f=0;f<a.length;f++)if(cu(a[f]))return f;return a.length}(Y):0;let Me=!1;for(let Ue=0;Ue<f.length;Ue++){const Qe=f[Ue];if("number"!=typeof Qe){if(!Me)if(4&P){if(P=2|1&P,""!==Qe&&!j_(a,Qe,v)||""===Qe&&1===f.length){if(Uu(P))return!1;Me=!0}}else if(8&P){if(null===Y||!nx(a,Y,Qe,v)){if(Uu(P))return!1;Me=!0}}else{const _t=f[++Ue],Dt=iI(Qe,Y,Uv(a),v);if(-1===Dt){if(Uu(P))return!1;Me=!0;continue}if(""!==_t){let Xt;if(Xt=Dt>de?"":Y[Dt+1].toLowerCase(),2&P&&_t!==Xt){if(Uu(P))return!1;Me=!0}}}}else{if(!Me&&!Uu(P)&&!Uu(Qe))return!1;if(Me&&Uu(Qe))continue;Me=!1,P=Qe|1&P}}return Uu(P)||Me}function Uu(a){return!(1&a)}function iI(a,f,v,P){if(null===f)return-1;let Y=0;if(P||!v){let de=!1;for(;Y<f.length;){const Me=f[Y];if(Me===a)return Y;if(3===Me||6===Me)de=!0;else{if(1===Me||2===Me){let Ue=f[++Y];for(;"string"==typeof Ue;)Ue=f[++Y];continue}if(4===Me)break;if(0===Me){Y+=4;continue}}Y+=de?1:2}return-1}return function aI(a,f){let v=a.indexOf(4);if(v>-1)for(v++;v<a.length;){const P=a[v];if("number"==typeof P)return-1;if(P===f)return v;v++}return-1}(f,a)}function ix(a,f,v=!1){for(let P=0;P<f.length;P++)if(rx(a,f[P],v))return!0;return!1}function Ve(a,f){e:for(let v=0;v<f.length;v++){const P=f[v];if(a.length===P.length){for(let Y=0;Y<a.length;Y++)if(a[Y]!==P[Y])continue e;return!0}}return!1}function ct(a,f){return a?":not("+f.trim()+")":f}function Ge(a){let f=a[0],v=1,P=2,Y="",de=!1;for(;v<a.length;){let Me=a[v];if("string"==typeof Me)if(2&P){const Ue=a[++v];Y+="["+Me+(Ue.length>0?'="'+Ue+'"':"")+"]"}else 8&P?Y+="."+Me:4&P&&(Y+=" "+Me);else""!==Y&&!Uu(Me)&&(f+=ct(de,Y),Y=""),P=Me,de=de||!Uu(P);v++}return""!==Y&&(f+=ct(de,Y)),f}function Gt(a){return rs(()=>{const f=Fp(a),v={...f,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===xc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:f.standalone&&a.dependencies||null,getStandaloneInjector:null,signals:a.signals??!1,data:a.data||{},encapsulation:a.encapsulation||Ua.Emulated,styles:a.styles||oi,_:null,schemas:a.schemas||null,tView:null,id:""};Ay(v);const P=a.dependencies;return v.directiveDefs=jp(P,!1),v.pipeDefs=jp(P,!0),v.id=function cI(a){let f=0;const v=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.signals,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const Y of v)f=Math.imul(31,f)+Y.charCodeAt(0)|0;return f+=2147483648,"c"+f}(v),v})}function hn(a){return Wr(a)||Yo(a)}function Zn(a){return null!==a}function Bn(a){return rs(()=>({type:a.type,bootstrap:a.bootstrap||oi,declarations:a.declarations||oi,imports:a.imports||oi,exports:a.exports||oi,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function kr(a,f){if(null==a)return Hn;const v={};for(const P in a)if(a.hasOwnProperty(P)){const Y=a[P];let de,Me,Ue=Fa.None;Array.isArray(Y)?(Ue=Y[0],de=Y[1],Me=Y[2]??de):(de=Y,Me=Y),f?(v[de]=Ue!==Fa.None?[P,Ue]:P,f[de]=Me):v[de]=P}return v}function ui(a){return rs(()=>{const f=Fp(a);return Ay(f),f})}function Oi(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function Wr(a){return a[vs]||null}function Yo(a){return a[jm]||null}function Lo(a){return a[Lp]||null}function Fc(a){const f=Wr(a)||Yo(a)||Lo(a);return null!==f&&f.standalone}function bs(a,f){const v=a[Km]||null;if(!v&&!0===f)throw new Error(`Type ${So(a)} does not have '\u0275mod' property.`);return v}function Fp(a){const f={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:f,inputTransforms:null,inputConfig:a.inputs||Hn,exportAs:a.exportAs||null,standalone:!0===a.standalone,signals:!0===a.signals,selectors:a.selectors||oi,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kr(a.inputs,f),outputs:kr(a.outputs),debugInfo:null}}function Ay(a){a.features?.forEach(f=>f(a))}function jp(a,f){if(!a)return null;const v=f?Lo:hn;return()=>("function"==typeof a?a():a).map(P=>v(P)).filter(Zn)}function Vm(a){return{\u0275providers:a}}function dl(...a){return{\u0275providers:ox(0,a),\u0275fromNgModule:!0}}function ox(a,...f){const v=[],P=new Set;let Y;const de=Me=>{v.push(Me)};return Lu(f,Me=>{const Ue=Me;K_(Ue,de,[],P)&&(Y||=[],Y.push(Ue))}),void 0!==Y&&lI(Y,de),v}function lI(a,f){for(let v=0;v<a.length;v++){const{ngModule:P,providers:Y}=a[v];sx(Y,de=>{f(de,P)})}}function K_(a,f,v,P){if(!(a=bi(a)))return!1;let Y=null,de=Oh(a);const Me=!de&&Wr(a);if(de||Me){if(Me&&!Me.standalone)return!1;Y=a}else{const Qe=a.ngModule;if(de=Oh(Qe),!de)return!1;Y=Qe}const Ue=P.has(Y);if(Me){if(Ue)return!1;if(P.add(Y),Me.dependencies){const Qe="function"==typeof Me.dependencies?Me.dependencies():Me.dependencies;for(const _t of Qe)K_(_t,f,v,P)}}else{if(!de)return!1;{if(null!=de.imports&&!Ue){let _t;P.add(Y);try{Lu(de.imports,Dt=>{K_(Dt,f,v,P)&&(_t||=[],_t.push(Dt))})}finally{}void 0!==_t&&lI(_t,f)}if(!Ue){const _t=Gf(Y)||(()=>new Y);f({provide:Y,useFactory:_t,deps:oi},Y),f({provide:Wo,useValue:Y,multi:!0},Y),f({provide:Ii,useValue:()=>Ri(Y),multi:!0},Y)}const Qe=de.providers;if(null!=Qe&&!Ue){const _t=a;sx(Qe,Dt=>{f(Dt,_t)})}}}return Y!==a&&void 0!==a.providers}function sx(a,f){for(let v of a)Wf(v)&&(v=v.\u0275providers),Array.isArray(v)?sx(v,f):f(v)}const dI=mi({provide:String,useValue:mi});function ax(a){return null!==a&&"object"==typeof a&&dI in a}function Ty(a){return"function"==typeof a}const $h=new wi(""),Fv={},uI={};let jv;function lx(){return void 0===jv&&(jv=new Il),jv}class lu{}class $p extends lu{get destroyed(){return this._destroyed}constructor(f,v,P,Y){super(),this.parent=v,this.source=P,this.scopes=Y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ds(f,Me=>this.processProvider(Me)),this.records.set(Vi,Vh(void 0,this)),Y.has("environment")&&this.records.set(lu,Vh(void 0,this));const de=this.records.get($h);null!=de&&"string"==typeof de.value&&this.scopes.add(de.value),this.injectorDefTypes=new Set(this.get(Wo,oi,Ki.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const f=L(null);try{for(const P of this._ngOnDestroyHooks)P.ngOnDestroy();const v=this._onDestroyHooks;this._onDestroyHooks=[];for(const P of v)P()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),L(f)}}onDestroy(f){return this.assertNotDestroyed(),this._onDestroyHooks.push(f),()=>this.removeOnDestroy(f)}runInContext(f){this.assertNotDestroyed();const v=Or(this),P=_c(void 0);try{return f()}finally{Or(v),_c(P)}}get(f,v=jh,P=Ki.Default){if(this.assertNotDestroyed(),f.hasOwnProperty(Nh))return f[Nh](this);P=Ho(P);const de=Or(this),Me=_c(void 0);try{if(!(P&Ki.SkipSelf)){let Qe=this.records.get(f);if(void 0===Qe){const _t=function F8(a){return"function"==typeof a||"object"==typeof a&&a instanceof wi}(f)&&iu(f);Qe=_t&&this.injectableDefInScope(_t)?Vh(dx(f),Fv):null,this.records.set(f,Qe)}if(null!=Qe)return this.hydrate(f,Qe)}return(P&Ki.Self?lx():this.parent).get(f,v=P&Ki.Optional&&v===jh?null:v)}catch(Ue){if("NullInjectorError"===Ue.name){if((Ue[et]=Ue[et]||[]).unshift(So(f)),de)throw Ue;return function Fs(a,f,v,P){const Y=a[et];throw f[fn]&&Y.unshift(f[fn]),a.message=function Nu(a,f,v,P=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let Y=So(f);if(Array.isArray(f))Y=f.map(So).join(" -> ");else if("object"==typeof f){let de=[];for(let Me in f)if(f.hasOwnProperty(Me)){let Ue=f[Me];de.push(Me+":"+("string"==typeof Ue?JSON.stringify(Ue):So(Ue)))}Y=`{${de.join(", ")}}`}return`${v}${P?"("+P+")":""}[${Y}]: ${a.replace(wt,"\n  ")}`}("\n"+a.message,Y,v,P),a.ngTokenPath=Y,a[et]=null,a}(Ue,f,"R3InjectorError",this.source)}throw Ue}finally{_c(Me),Or(de)}}resolveInjectorInitializers(){const f=L(null),v=Or(this),P=_c(void 0);try{const de=this.get(Ii,oi,Ki.Self);for(const Me of de)Me()}finally{Or(v),_c(P),L(f)}}toString(){const f=[],v=this.records;for(const P of v.keys())f.push(So(P));return`R3Injector[${f.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ur(205,!1)}processProvider(f){let v=Ty(f=bi(f))?f:bi(f&&f.provide);const P=function N8(a){return ax(a)?Vh(void 0,a.useValue):Vh(Fu(a),Fv)}(f);if(!Ty(f)&&!0===f.multi){let Y=this.records.get(v);Y||(Y=Vh(void 0,Fv,!0),Y.factory=()=>vo(Y.multi),this.records.set(v,Y)),v=f,Y.multi.push(f)}this.records.set(v,P)}hydrate(f,v){const P=L(null);try{return v.value===Fv&&(v.value=uI,v.value=v.factory()),"object"==typeof v.value&&v.value&&function U8(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(v.value)&&this._ngOnDestroyHooks.add(v.value),v.value}finally{L(P)}}injectableDefInScope(f){if(!f.providedIn)return!1;const v=bi(f.providedIn);return"string"==typeof v?"any"===v||this.scopes.has(v):this.injectorDefTypes.has(v)}removeOnDestroy(f){const v=this._onDestroyHooks.indexOf(f);-1!==v&&this._onDestroyHooks.splice(v,1)}}function dx(a){const f=iu(a),v=null!==f?f.factory:Gf(a);if(null!==v)return v;if(a instanceof wi)throw new ur(204,!1);if(a instanceof Function)return function V_(a){if(a.length>0)throw new ur(204,!1);const v=function Bd(a){return a&&(a[Al]||a[Mo])||null}(a);return null!==v?()=>v.factory(a):()=>new a}(a);throw new ur(204,!1)}function Fu(a,f,v){let P;if(Ty(a)){const Y=bi(a);return Gf(Y)||dx(Y)}if(ax(a))P=()=>bi(a.useValue);else if(function B8(a){return!(!a||!a.useFactory)}(a))P=()=>a.useFactory(...vo(a.deps||[]));else if(function cx(a){return!(!a||!a.useExisting)}(a))P=()=>Ri(bi(a.useExisting));else{const Y=bi(a&&(a.useClass||a.provide));if(!function L8(a){return!!a.deps}(a))return Gf(Y)||dx(Y);P=()=>new Y(...vo(a.deps))}return P}function Vh(a,f,v=!1){return{factory:a,value:f,multi:v?[]:void 0}}function Ds(a,f){for(const v of a)Array.isArray(v)?Ds(v,f):v&&Wf(v)?Ds(v.\u0275providers,f):f(v)}function z_(a,f){a instanceof $p&&a.assertNotDestroyed();const P=Or(a),Y=_c(void 0);try{return f()}finally{Or(P),_c(Y)}}function Iy(){return void 0!==Uh()||null!=function cr(){return zn}()}function Kv(a){if(!Iy())throw new ur(-203,!1)}const ha=0,Tr=1,ti=2,Bi=3,Jo=4,ul=5,Ld=6,$v=7,Uo=8,Mc=9,zh=10,Li=11,Zf=12,yI=13,Gs=14,pa=15,Ku=16,ld=17,zp=18,zm=19,qo=20,Hh=21,Ur=22,ma=23,Lr=25,px=1,pf=7,Cy=9,ya=10;var ky=function(a){return a[a.None=0]="None",a[a.HasTransplantedViews=2]="HasTransplantedViews",a}(ky||{});function Ac(a){return Array.isArray(a)&&"object"==typeof a[px]}function dd(a){return Array.isArray(a)&&!0===a[px]}function gI(a){return!!(4&a.flags)}function Kr(a){return a.componentOffset>-1}function Qo(a){return!(1&~a.flags)}function mf(a){return!!a.template}function Py(a){return!!(512&a[ti])}class H8{constructor(f,v,P){this.previousValue=f,this.currentValue=v,this.firstChange=P}isFirstChange(){return this.firstChange}}function gx(a,f,v,P){null!==f?f.applyValueToInputSignal(f,P):a[v]=P}function jc(){return wI}function wI(a){return a.type.prototype.ngOnChanges&&(a.setInput=W8),ud}function ud(){const a=_I(this),f=a?.current;if(f){const v=a.previous;if(v===Hn)a.previous=f;else for(let P in f)v[P]=f[P];a.current=null,this.ngOnChanges(f)}}function W8(a,f,v,P,Y){const de=this.declaredInputs[P],Me=_I(a)||function e9(a,f){return a[yf]=f}(a,{previous:Hn,current:null}),Ue=Me.current||(Me.current={}),Qe=Me.previous,_t=Qe[de];Ue[de]=new H8(_t&&_t.currentValue,v,Qe===Hn),gx(a,f,Y,v)}jc.ngInherit=!0;const yf="__ngSimpleChanges__";function _I(a){return a[yf]||null}const Wh=function(a,f,v){},G8="svg";function Go(a){for(;Array.isArray(a);)a=a[ha];return a}function X_(a,f){return Go(f[a])}function Ud(a,f){return Go(f[a.index])}function Y_(a,f){return a.data[f]}function du(a,f){return a[f]}function ws(a,f){const v=f[a];return Ac(v)?v:v[ha]}function xI(a){return!(128&~a[ti])}function ia(a,f){return null==f?null:a[f]}function SI(a){a[ld]=0}function Y8(a){1024&a[ti]||(a[ti]|=1024,xI(a)&&Gp(a))}function zv(a){return!!(9216&a[ti]||a[ma]?.dirty)}function MI(a){a[zh].changeDetectionScheduler?.notify(7),64&a[ti]&&(a[ti]|=1024),zv(a)&&Gp(a)}function Gp(a){a[zh].changeDetectionScheduler?.notify(0);let f=uu(a);for(;null!==f&&!(8192&f[ti])&&(f[ti]|=8192,xI(f));)f=uu(f)}function J_(a,f){if(!(256&~a[ti]))throw new ur(911,!1);null===a[Hh]&&(a[Hh]=[]),a[Hh].push(f)}function uu(a){const f=a[Bi];return dd(f)?f[Bi]:f}const Ui={lFrame:Yf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Wm=!1;function Q_(){return Ui.bindingsEnabled}function Ji(){return null!==Ui.skipHydrationRootTNode}function sr(){return Ui.lFrame.lView}function to(){return Ui.lFrame.tView}function ga(a){return Ui.lFrame.contextLView=a,a[Uo]}function DI(a){return Ui.lFrame.contextLView=null,a}function is(){let a=fl();for(;null!==a&&64===a.type;)a=a.parent;return a}function fl(){return Ui.lFrame.currentTNode}function Hv(){const a=Ui.lFrame,f=a.currentTNode;return a.isParent?f:f.parent}function gf(a,f){const v=Ui.lFrame;v.currentTNode=a,v.isParent=f}function bx(){return Ui.lFrame.isParent}function CI(){Ui.lFrame.isParent=!1}function kI(){return Wm}function Bl(a){Wm=a}function sc(){const a=Ui.lFrame;let f=a.bindingRootIndex;return-1===f&&(f=a.bindingRootIndex=a.tView.bindingStartIndex),f}function vf(){return Ui.lFrame.bindingIndex}function bf(){return Ui.lFrame.bindingIndex++}function Gh(a){const f=Ui.lFrame,v=f.bindingIndex;return f.bindingIndex=f.bindingIndex+a,v}function PI(a){Ui.lFrame.inI18n=a}function rk(a,f){const v=Ui.lFrame;v.bindingIndex=v.bindingRootIndex=a,si(f)}function si(a){Ui.lFrame.currentDirectiveIndex=a}function Zp(a){const f=Ui.lFrame.currentDirectiveIndex;return-1===f?null:a[f]}function wx(){return Ui.lFrame.currentQueryIndex}function e1(a){Ui.lFrame.currentQueryIndex=a}function t1(a){const f=a[Tr];return 2===f.type?f.declTNode:1===f.type?a[ul]:null}function _x(a,f,v){if(v&Ki.SkipSelf){let Y=f,de=a;for(;!(Y=Y.parent,null!==Y||v&Ki.Host||(Y=t1(de),null===Y||(de=de[Gs],10&Y.type))););if(null===Y)return!1;f=Y,a=de}const P=Ui.lFrame=RI();return P.currentTNode=f,P.lView=a,!0}function Ex(a){const f=RI(),v=a[Tr];Ui.lFrame=f,f.currentTNode=v.firstChild,f.lView=a,f.tView=v,f.contextLView=a,f.bindingIndex=v.bindingStartIndex,f.inI18n=!1}function RI(){const a=Ui.lFrame,f=null===a?null:a.child;return null===f?Yf(a):f}function Yf(a){const f={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=f),f}function n1(){const a=Ui.lFrame;return Ui.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const OI=n1;function xx(){const a=n1();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Nl(){return Ui.lFrame.selectedIndex}function Ry(a){Ui.lFrame.selectedIndex=a}function Ks(){const a=Ui.lFrame;return Y_(a.tView,a.selectedIndex)}function Sx(){Ui.lFrame.currentNamespace=G8}function Mx(){!function ik(){Ui.lFrame.currentNamespace=null}()}let Ax=!0;function io(){return Ax}function wf(a){Ax=a}function Zh(a,f){for(let v=f.directiveStart,P=f.directiveEnd;v<P;v++){const de=a.data[v].type.prototype,{ngAfterContentInit:Me,ngAfterContentChecked:Ue,ngAfterViewInit:Qe,ngAfterViewChecked:_t,ngOnDestroy:Dt}=de;Me&&(a.contentHooks??=[]).push(-v,Me),Ue&&((a.contentHooks??=[]).push(v,Ue),(a.contentCheckHooks??=[]).push(v,Ue)),Qe&&(a.viewHooks??=[]).push(-v,Qe),_t&&((a.viewHooks??=[]).push(v,_t),(a.viewCheckHooks??=[]).push(v,_t)),null!=Dt&&(a.destroyHooks??=[]).push(v,Dt)}}function ac(a,f,v){Xp(a,f,3,v)}function Jf(a,f,v,P){(3&a[ti])===v&&Xp(a,f,v,P)}function Xh(a,f){let v=a[ti];(3&v)===f&&(v&=16383,v+=1,a[ti]=v)}function Xp(a,f,v,P){const de=P??-1,Me=f.length-1;let Ue=0;for(let Qe=void 0!==P?65535&a[ld]:0;Qe<Me;Qe++)if("number"==typeof f[Qe+1]){if(Ue=f[Qe],null!=P&&Ue>=P)break}else f[Qe]<0&&(a[ld]+=65536),(Ue<de||-1==de)&&(ok(a,v,f,Qe),a[ld]=(4294901760&a[ld])+Qe+2),Qe++}function Yp(a,f){Wh(4,a,f);const v=L(null);try{f.call(a)}finally{L(v),Wh(5,a,f)}}function ok(a,f,v,P){const Y=v[P]<0,de=v[P+1],Ue=a[Y?-v[P]:v[P]];Y?a[ti]>>14<a[ld]>>16&&(3&a[ti])===f&&(a[ti]+=16384,Yp(Ue,de)):Yp(Ue,de)}const Oy=-1;class Gv{constructor(f,v,P){this.factory=f,this.resolving=!1,this.canSeeViewProviders=v,this.injectImpl=P}}const r1={};class Gm{constructor(f,v){this.injector=f,this.parentInjector=v}get(f,v,P){P=Ho(P);const Y=this.injector.get(f,r1,P);return Y!==r1||v===r1?Y:this.parentInjector.get(f,v,P)}}function Zv(a){return a!==Oy}function Jh(a){return 32767&a}function Xv(a,f){let v=function lk(a){return a>>16}(a),P=f;for(;v>0;)P=P[Gs],v--;return P}let Tx=!0;function o1(a){const f=Tx;return Tx=a,f}const Yv=255,UI=5;let Jv=0;const qf={};function s1(a,f){const v=FI(a,f);if(-1!==v)return v;const P=f[Tr];P.firstCreatePass&&(a.injectorIndex=f.length,Dx(P.data,a),Dx(f,null),Dx(P.blueprint,null));const Y=a1(a,f),de=a.injectorIndex;if(Zv(Y)){const Me=Jh(Y),Ue=Xv(Y,f),Qe=Ue[Tr].data;for(let _t=0;_t<8;_t++)f[de+_t]=Ue[Me+_t]|Qe[Me+_t]}return f[de+8]=Y,de}function Dx(a,f){a.push(0,0,0,0,0,0,0,0,f)}function FI(a,f){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===f[a.injectorIndex+8]?-1:a.injectorIndex}function a1(a,f){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let v=0,P=null,Y=f;for(;null!==Y;){if(P=GI(Y),null===P)return Oy;if(v++,Y=Y[Gs],-1!==P.injectorIndex)return P.injectorIndex|v<<16}return Oy}function Jp(a,f,v){!function uk(a,f,v){let P;"string"==typeof v?P=v.charCodeAt(0)||0:v.hasOwnProperty(Up)&&(P=v[Up]),null==P&&(P=v[Up]=Jv++);const Y=P&Yv;f.data[a+(Y>>UI)]|=1<<Y}(a,f,v)}function jI(a,f,v){if(v&Ki.Optional||void 0!==a)return a;Lh()}function KI(a,f,v,P){if(v&Ki.Optional&&void 0===P&&(P=null),!(v&(Ki.Self|Ki.Host))){const Y=a[Mc],de=_c(void 0);try{return Y?Y.get(f,P,v&Ki.Optional):Fh(f,P,v&Ki.Optional)}finally{_c(de)}}return jI(P,0,v)}function $I(a,f,v,P=Ki.Default,Y){if(null!==a){if(2048&f[ti]&&!(P&Ki.Self)){const Me=function mk(a,f,v,P,Y){let de=a,Me=f;for(;null!==de&&null!==Me&&2048&Me[ti]&&!(512&Me[ti]);){const Ue=VI(de,Me,v,P|Ki.Self,qf);if(Ue!==qf)return Ue;let Qe=de.parent;if(!Qe){const _t=Me[qo];if(_t){const Dt=_t.get(v,qf,P);if(Dt!==qf)return Dt}Qe=GI(Me),Me=Me[Gs]}de=Qe}return Y}(a,f,v,P,qf);if(Me!==qf)return Me}const de=VI(a,f,v,P,qf);if(de!==qf)return de}return KI(f,v,P,Y)}function VI(a,f,v,P,Y){const de=function pk(a){if("string"==typeof a)return a.charCodeAt(0)||0;const f=a.hasOwnProperty(Up)?a[Up]:void 0;return"number"==typeof f?f>=0?f&Yv:Cx:f}(v);if("function"==typeof de){if(!_x(f,a,P))return P&Ki.Host?jI(Y,0,P):KI(f,v,P,Y);try{let Me;if(Me=de(P),null!=Me||P&Ki.Optional)return Me;Lh()}finally{OI()}}else if("number"==typeof de){let Me=null,Ue=FI(a,f),Qe=Oy,_t=P&Ki.Host?f[pa][ul]:null;for((-1===Ue||P&Ki.SkipSelf)&&(Qe=-1===Ue?a1(a,f):f[Ue+8],Qe!==Oy&&HI(P,!1)?(Me=f[Tr],Ue=Jh(Qe),f=Xv(Qe,f)):Ue=-1);-1!==Ue;){const Dt=f[Tr];if(zI(de,Ue,Dt.data)){const Xt=hk(Ue,f,v,Me,P,_t);if(Xt!==qf)return Xt}Qe=f[Ue+8],Qe!==Oy&&HI(P,f[Tr].data[Ue+8]===_t)&&zI(de,Ue,f)?(Me=Dt,Ue=Jh(Qe),f=Xv(Qe,f)):Ue=-1}}return Y}function hk(a,f,v,P,Y,de){const Me=f[Tr],Ue=Me.data[a+8],Dt=By(Ue,Me,v,null==P?Kr(Ue)&&Tx:P!=Me&&!!(3&Ue.type),Y&Ki.Host&&de===Ue);return null!==Dt?zu(f,Me,Dt,Ue):qf}function By(a,f,v,P,Y){const de=a.providerIndexes,Me=f.data,Ue=1048575&de,Qe=a.directiveStart,Dt=de>>20,bn=Y?Ue+Dt:a.directiveEnd;for(let xn=P?Ue:Ue+Dt;xn<bn;xn++){const Ln=Me[xn];if(xn<Qe&&v===Ln||xn>=Qe&&Ln.type===v)return xn}if(Y){const xn=Me[Qe];if(xn&&mf(xn)&&xn.type===v)return Qe}return null}function zu(a,f,v,P){let Y=a[v];const de=f.data;if(function sk(a){return a instanceof Gv}(Y)){const Me=Y;Me.resolving&&function Sy(a,f){throw f&&f.join(" > "),new ur(-200,a)}(function Yi(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Pi(a)}(de[v]));const Ue=o1(Me.canSeeViewProviders);Me.resolving=!0;const _t=Me.injectImpl?_c(Me.injectImpl):null;_x(a,P,Ki.Default);try{Y=a[v]=Me.factory(void 0,de,a,P),f.firstCreatePass&&v>=P.directiveStart&&function Wv(a,f,v){const{ngOnChanges:P,ngOnInit:Y,ngDoCheck:de}=f.type.prototype;if(P){const Me=wI(f);(v.preOrderHooks??=[]).push(a,Me),(v.preOrderCheckHooks??=[]).push(a,Me)}Y&&(v.preOrderHooks??=[]).push(0-a,Y),de&&((v.preOrderHooks??=[]).push(a,de),(v.preOrderCheckHooks??=[]).push(a,de))}(v,de[v],f)}finally{null!==_t&&_c(_t),o1(Ue),Me.resolving=!1,OI()}}return Y}function zI(a,f,v){return!!(v[f+(a>>UI)]&1<<a)}function HI(a,f){return!(a&Ki.Self||a&Ki.Host&&f)}class Tc{constructor(f,v){this._tNode=f,this._lView=v}get(f,v,P){return $I(this._tNode,this._lView,f,Ho(P),v)}}function Cx(){return new Tc(is(),sr())}function WI(a){return rs(()=>{const f=a.prototype.constructor,v=f[su]||kx(f),P=Object.prototype;let Y=Object.getPrototypeOf(a.prototype).constructor;for(;Y&&Y!==P;){const de=Y[su]||kx(Y);if(de&&de!==v)return de;Y=Object.getPrototypeOf(Y)}return de=>new de})}function kx(a){return Sl(a)?()=>{const f=kx(bi(a));return f&&f()}:Gf(a)}function GI(a){const f=a[Tr],v=f.type;return 2===v?f.declTNode:1===v?a[ul]:null}function c1(a){return function fk(a,f){if("class"===f)return a.classes;if("style"===f)return a.styles;const v=a.attrs;if(v){const P=v.length;let Y=0;for(;Y<P;){const de=v[Y];if(cu(de))break;if(0===de)Y+=2;else if("number"==typeof de)for(Y++;Y<P&&"string"==typeof v[Y];)Y++;else{if(de===f)return v[Y+1];Y+=2}}}return null}(is(),a)}function Hu(a,f=null,v=null,P){const Y=Nx(a,f,v,P);return Y.resolveInjectorInitializers(),Y}function Nx(a,f=null,v=null,P,Y=new Set){const de=[v||oi,dl(a)];return P=P||("object"==typeof a?void 0:So(a)),new $p(de,f||lx(),P||null,Y)}class Ka{static#e=this.THROW_IF_NOT_FOUND=jh;static#t=this.NULL=new Il;static create(f,v){if(Array.isArray(f))return Hu({name:""},v,f,"");{const P=f.name??"";return Hu({name:P},f.parent,f.providers,P)}}static#n=this.\u0275prov=Eo({token:Ka,providedIn:"any",factory:()=>Ri(Vi)});static#f=this.__NG_ELEMENT_ID__=-1}new wi("").__NG_ELEMENT_ID__=a=>{const f=is();if(null===f)throw new ur(204,!1);if(2&f.type)return f.value;if(a&Ki.Optional)return null;throw new ur(204,!1)};function Uy(a){return a.ngOriginalError}let Br=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=wk;static#t=this.__NG_ENV_ID__=v=>v}return a})();class Qf extends Br{constructor(f){super(),this._lView=f}onDestroy(f){return J_(this._lView,f),()=>function AI(a,f){if(null===a[Hh])return;const v=a[Hh].indexOf(f);-1!==v&&a[Hh].splice(v,1)}(this._lView,f)}}function wk(){return new Qf(sr())}let Zm=(()=>{class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Se.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const v=this.taskId++;return this.pendingTasks.add(v),v}remove(v){this.pendingTasks.delete(v),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Eo({token:a,providedIn:"root",factory:()=>new a})}return a})();const Wu=class QI extends he.B{constructor(f=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=f,Iy()&&(this.destroyRef=br(Br,{optional:!0})??void 0,this.pendingTasks=br(Zm,{optional:!0})??void 0)}emit(f){const v=L(null);try{super.next(f)}finally{L(v)}}subscribe(f,v,P){let Y=f,de=v||(()=>null),Me=P;if(f&&"object"==typeof f){const Qe=f;Y=Qe.next?.bind(Qe),de=Qe.error?.bind(Qe),Me=Qe.complete?.bind(Qe)}this.__isAsync&&(de=this.wrapInTimeout(de),Y&&(Y=this.wrapInTimeout(Y)),Me&&(Me=this.wrapInTimeout(Me)));const Ue=super.subscribe({next:Y,error:de,complete:Me});return f instanceof fe.yU&&f.add(Ue),Ue}wrapInTimeout(f){return v=>{const P=this.pendingTasks?.add();setTimeout(()=>{f(v),void 0!==P&&this.pendingTasks?.remove(P)})}}};function Xm(...a){}function qh(a){let f,v;function P(){a=Xm;try{void 0!==v&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(v),void 0!==f&&clearTimeout(f)}catch{}}return f=setTimeout(()=>{a(),P()}),"function"==typeof requestAnimationFrame&&(v=requestAnimationFrame(()=>{a(),P()})),()=>P()}function Qh(a){return queueMicrotask(()=>a()),()=>{a=Xm}}class Zs{constructor({enableLongStackTrace:f=!1,shouldCoalesceEventChangeDetection:v=!1,shouldCoalesceRunChangeDetection:P=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wu(!1),this.onMicrotaskEmpty=new Wu(!1),this.onStable=new Wu(!1),this.onError=new Wu(!1),typeof Zone>"u")throw new ur(908,!1);Zone.assertZonePatched();const Y=this;Y._nesting=0,Y._outer=Y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(Y._inner=Y._inner.fork(new Zone.TaskTrackingZoneSpec)),f&&Zone.longStackTraceZoneSpec&&(Y._inner=Y._inner.fork(Zone.longStackTraceZoneSpec)),Y.shouldCoalesceEventChangeDetection=!P&&v,Y.shouldCoalesceRunChangeDetection=P,Y.callbackScheduled=!1,function xk(a){const f=()=>{!function Ek(a){a.isCheckStableRunning||a.callbackScheduled||(a.callbackScheduled=!0,Zone.root.run(()=>{qh(()=>{a.callbackScheduled=!1,jx(a),a.isCheckStableRunning=!0,d1(a),a.isCheckStableRunning=!1})}),jx(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(v,P,Y,de,Me,Ue)=>{if(function Sk(a){return Ky(a,"__ignore_ng_zone__")}(Ue))return v.invokeTask(Y,de,Me,Ue);try{return eD(a),v.invokeTask(Y,de,Me,Ue)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===de.type||a.shouldCoalesceRunChangeDetection)&&f(),Fy(a)}},onInvoke:(v,P,Y,de,Me,Ue,Qe)=>{try{return eD(a),v.invoke(Y,de,Me,Ue,Qe)}finally{a.shouldCoalesceRunChangeDetection&&!a.callbackScheduled&&!function Mk(a){return Ky(a,"__scheduler_tick__")}(Ue)&&f(),Fy(a)}},onHasTask:(v,P,Y,de)=>{v.hasTask(Y,de),P===Y&&("microTask"==de.change?(a._hasPendingMicrotasks=de.microTask,jx(a),d1(a)):"macroTask"==de.change&&(a.hasPendingMacrotasks=de.macroTask))},onHandleError:(v,P,Y,de)=>(v.handleError(Y,de),a.runOutsideAngular(()=>a.onError.emit(de)),!1)})}(Y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zs.isInAngularZone())throw new ur(909,!1)}static assertNotInAngularZone(){if(Zs.isInAngularZone())throw new ur(909,!1)}run(f,v,P){return this._inner.run(f,v,P)}runTask(f,v,P,Y){const de=this._inner,Me=de.scheduleEventTask("NgZoneEvent: "+Y,f,_k,Xm,Xm);try{return de.runTask(Me,v,P)}finally{de.cancelTask(Me)}}runGuarded(f,v,P){return this._inner.runGuarded(f,v,P)}runOutsideAngular(f){return this._outer.run(f)}}const _k={};function d1(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function jx(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&!0===a.callbackScheduled)}function eD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Fy(a){a._nesting--,d1(a)}class jy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wu,this.onMicrotaskEmpty=new Wu,this.onStable=new Wu,this.onError=new Wu}run(f,v,P){return f.apply(v,P)}runGuarded(f,v,P){return f.apply(v,P)}runOutsideAngular(f){return f()}runTask(f,v,P,Y){return f.apply(v,P)}}function Ky(a,f){return!(!Array.isArray(a)||1!==a.length)&&!0===a[0]?.data?.[f]}class eh{constructor(){this._console=console}handleError(f){const v=this._findOriginalError(f);this._console.error("ERROR",f),v&&this._console.error("ORIGINAL ERROR",v)}_findOriginalError(f){let v=f&&Uy(f);for(;v&&Uy(v);)v=Uy(v);return v||null}}const Tk=new wi("",{providedIn:"root",factory:()=>{const a=br(Zs),f=br(eh);return v=>a.runOutsideAngular(()=>f.handleError(v))}});class tD{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=br(eh,{optional:!0}),this.destroyRef=br(Br),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(f){if(this.destroyed)throw new ur(953,!1);return(this.listeners??=[]).push(f),{unsubscribe:()=>{const v=this.listeners?.indexOf(f);void 0!==v&&-1!==v&&this.listeners?.splice(v,1)}}}emit(f){if(this.destroyed)throw new ur(953,!1);if(null===this.listeners)return;const v=L(null);try{for(const P of this.listeners)try{P(f)}catch(Y){this.errorHandler?.handleError(Y)}}finally{L(v)}}}function Ik(a,f){return Nc(a,f)}const Dk=(Ik.required=function d9(a){return Nc(qr,a)},Ik);function Kx(){return qv(is(),sr())}function qv(a,f){return new u1(Ud(a,f))}let u1=(()=>{class a{constructor(v){this.nativeElement=v}static#e=this.__NG_ELEMENT_ID__=Kx}return a})();function Ck(a){return a instanceof u1?a.nativeElement:a}function kk(){return this._results[Symbol.iterator]()}class f1{static#e=Symbol.iterator;get changes(){return this._changes??=new Wu}constructor(f=!1){this._emitDistinctChangesOnly=f,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const v=f1.prototype;v[Symbol.iterator]||(v[Symbol.iterator]=kk)}get(f){return this._results[f]}map(f){return this._results.map(f)}filter(f){return this._results.filter(f)}find(f){return this._results.find(f)}reduce(f,v){return this._results.reduce(f,v)}forEach(f){this._results.forEach(f)}some(f){return this._results.some(f)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(f,v){this.dirty=!1;const P=function js(a){return a.flat(Number.POSITIVE_INFINITY)}(f);(this._changesDetected=!function tx(a,f,v){if(a.length!==f.length)return!1;for(let P=0;P<a.length;P++){let Y=a[P],de=f[P];if(v&&(Y=v(Y),de=v(de)),de!==Y)return!1}return!0}(this._results,P,v))&&(this._results=P,this.length=P.length,this.last=P[this.length-1],this.first=P[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(f){this._onDirty=f}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function eb(a){return!(128&~a.flags)}const Vx=new Map;let ep=0;const zx="__ngContext__";function Ll(a,f){Ac(f)?(a[zx]=f[zm],function u9(a){Vx.set(a[zm],a)}(f)):a[zx]=f}function lD(a){return uD(a[Zf])}function dD(a){return uD(a[Jo])}function uD(a){for(;null!==a&&!dd(a);)a=a[Jo];return a}let tb;function Ic(a){tb=a}function qp(){if(void 0!==tb)return tb;if(typeof document<"u")return document;throw new ur(210,!1)}const w1=new wi("",{providedIn:"root",factory:()=>jk}),jk="ng",$y=new wi(""),Yx=new wi("",{providedIn:"platform",factory:()=>"unknown"}),$k=new wi(""),vD=new wi("",{providedIn:"root",factory:()=>qp().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Hk=()=>null;function ib(a,f,v=!1){return Hk(a,f,v)}const tS=new wi("",{providedIn:"root",factory:()=>!1});let I1,k1;function n0(a){return function D1(){if(void 0===I1&&(I1=null,gs.trustedTypes))try{I1=gs.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return I1}()?.createHTML(a)||a}function rS(){if(void 0===k1&&(k1=null,gs.trustedTypes))try{k1=gs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return k1}function Zk(a){return rS()?.createHTML(a)||a}function TD(a){return rS()?.createScriptURL(a)||a}class tp{constructor(f){this.changingThisBreaksApplicationSecurity=f}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pi})`}}class _9 extends tp{getTypeName(){return"HTML"}}class E9 extends tp{getTypeName(){return"Style"}}class x9 extends tp{getTypeName(){return"Script"}}class Yk extends tp{getTypeName(){return"URL"}}class Jk extends tp{getTypeName(){return"ResourceURL"}}function np(a){return a instanceof tp?a.changingThisBreaksApplicationSecurity:a}function Zy(a,f){const v=function qk(a){return a instanceof tp&&a.getTypeName()||null}(a);if(null!=v&&v!==f){if("ResourceURL"===v&&"URL"===f)return!0;throw new Error(`Required a safe ${f}, got a ${v} (see ${pi})`)}return v===f}function Qk(a){return new _9(a)}function eP(a){return new E9(a)}function ID(a){return new x9(a)}function tP(a){return new Yk(a)}function DD(a){return new Jk(a)}function iS(a){const f=new rP(a);return function rp(){try{return!!(new window.DOMParser).parseFromString(n0(""),"text/html")}catch{return!1}}()?new nP(f):f}class nP{constructor(f){this.inertDocumentHelper=f}getInertBodyElement(f){f="<body><remove></remove>"+f;try{const v=(new window.DOMParser).parseFromString(n0(f),"text/html").body;return null===v?this.inertDocumentHelper.getInertBodyElement(f):(v.removeChild(v.firstChild),v)}catch{return null}}}class rP{constructor(f){this.defaultDoc=f,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(f){const v=this.inertDocument.createElement("template");return v.innerHTML=n0(f),v}}const P1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oS(a){return(a=String(a)).match(P1)?a:"unsafe:"+a}function tm(a){const f={};for(const v of a.split(","))f[v]=!0;return f}function R1(...a){const f={};for(const v of a)for(const P in v)v.hasOwnProperty(P)&&(f[P]=!0);return f}const iP=tm("area,br,col,hr,img,wbr"),oP=tm("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sP=tm("rp,rt"),CD=R1(iP,R1(oP,tm("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),R1(sP,tm("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),R1(sP,oP)),sS=tm("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kD=R1(sS,tm("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tm("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cP=tm("script,style,template");class PD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(f){let v=f.firstChild,P=!0,Y=[];for(;v;)if(v.nodeType===Node.ELEMENT_NODE?P=this.startElement(v):v.nodeType===Node.TEXT_NODE?this.chars(v.nodeValue):this.sanitizedSomething=!0,P&&v.firstChild)Y.push(v),v=RD(v);else for(;v;){v.nodeType===Node.ELEMENT_NODE&&this.endElement(v);let de=dP(v);if(de){v=de;break}v=Y.pop()}return this.buf.join("")}startElement(f){const v=O1(f).toLowerCase();if(!CD.hasOwnProperty(v))return this.sanitizedSomething=!0,!cP.hasOwnProperty(v);this.buf.push("<"),this.buf.push(v);const P=f.attributes;for(let Y=0;Y<P.length;Y++){const de=P.item(Y),Me=de.name,Ue=Me.toLowerCase();if(!kD.hasOwnProperty(Ue)){this.sanitizedSomething=!0;continue}let Qe=de.value;sS[Ue]&&(Qe=oS(Qe)),this.buf.push(" ",Me,'="',BD(Qe),'"')}return this.buf.push(">"),!0}endElement(f){const v=O1(f).toLowerCase();CD.hasOwnProperty(v)&&!iP.hasOwnProperty(v)&&(this.buf.push("</"),this.buf.push(v),this.buf.push(">"))}chars(f){this.buf.push(BD(f))}}function dP(a){const f=a.nextSibling;if(f&&a!==f.previousSibling)throw OD(f);return f}function RD(a){const f=a.firstChild;if(f&&function lP(a,f){return(a.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(a,f))throw OD(f);return f}function O1(a){const f=a.nodeName;return"string"==typeof f?f:"FORM"}function OD(a){return new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`)}const uP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fP=/([^\#-~ |!])/g;function BD(a){return a.replace(/&/g,"&amp;").replace(uP,function(f){return"&#"+(1024*(f.charCodeAt(0)-55296)+(f.charCodeAt(1)-56320)+65536)+";"}).replace(fP,function(f){return"&#"+f.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let B1;function ND(a,f){let v=null;try{B1=B1||iS(a);let P=f?String(f):"";v=B1.getInertBodyElement(P);let Y=5,de=P;do{if(0===Y)throw new Error("Failed to sanitize html because the input is unstable");Y--,P=de,de=v.innerHTML,v=B1.getInertBodyElement(P)}while(P!==de);return n0((new PD).sanitizeChildren(aS(v)||v))}finally{if(v){const P=aS(v)||v;for(;P.firstChild;)P.removeChild(P.firstChild)}}}function aS(a){return"content"in a&&function hP(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var s0=function(a){return a[a.NONE=0]="NONE",a[a.HTML=1]="HTML",a[a.STYLE=2]="STYLE",a[a.SCRIPT=3]="SCRIPT",a[a.URL=4]="URL",a[a.RESOURCE_URL=5]="RESOURCE_URL",a}(s0||{});function LD(a){const f=a0();return f?Zk(f.sanitize(s0.HTML,a)||""):Zy(a,"HTML")?Zk(np(a)):ND(qp(),Pi(a))}function cS(a){const f=a0();return f?f.sanitize(s0.URL,a)||"":Zy(a,"URL")?np(a):oS(Pi(a))}function Xy(a){const f=a0();if(f)return TD(f.sanitize(s0.RESOURCE_URL,a)||"");if(Zy(a,"ResourceURL"))return TD(np(a));throw new ur(904,!1)}function UD(a,f,v){return function mP(a,f){return"src"===f&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===f&&("base"===a||"link"===a)?Xy:cS}(f,v)(a)}function a0(){const a=sr();return a&&a[zh].sanitizer}const A9=/^>|^->|<!--|-->|--!>|<!-$/g,T9=/(<|>)/g,jD="\u200b$1\u200b";function pu(a){return a instanceof Function?a():a}function jd(a){return"browser"===(a??br(Ka)).get(Yx)}var V1=function(a){return a[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a}(V1||{});let fS;function db(a,f){return fS(a,f)}function th(a,f,v,P,Y){if(null!=P){let de,Me=!1;dd(P)?de=P:Ac(P)&&(Me=!0,P=P[ha]);const Ue=Go(P);0===a&&null!==v?null==Y?YD(f,v,Ue):Ia(f,v,Ue,Y||null,!0):1===a&&null!==v?Ia(f,v,Ue,Y||null,!0):2===a?function ub(a,f,v){const P=rm(a,f);P&&function AP(a,f,v,P){a.removeChild(f,v,P)}(a,P,f,v)}(f,Ue,Me):3===a&&f.destroyNode(Ue),null!=de&&function IP(a,f,v,P,Y){const de=v[pf];de!==Go(v)&&th(f,a,P,de,Y);for(let Ue=ya;Ue<v.length;Ue++){const Qe=v[Ue];Kd(Qe[Tr],Qe,a,f,P,de)}}(f,a,de,v,Y)}}function z1(a,f){return a.createText(f)}function hS(a,f){return a.createComment(function U1(a){return a.replace(A9,f=>f.replace(T9,jD))}(f))}function H1(a,f,v){return a.createElement(f,v)}function W1(a,f){f[zh].changeDetectionScheduler?.notify(8),Kd(a,f,f[Li],2,null,null)}function hl(a,f){const v=a[Cy],P=f[Bi];(Ac(P)||f[pa]!==P[Bi][pa])&&(a[ti]|=ky.HasTransplantedViews),null===v?a[Cy]=[f]:v.push(f)}function l0(a,f){const v=a[Cy],P=v.indexOf(f);v.splice(P,1)}function qy(a,f){if(a.length<=ya)return;const v=ya+f,P=a[v];if(P){const Y=P[Ku];null!==Y&&Y!==a&&l0(Y,P),f>0&&(a[v-1][Jo]=P[Jo]);const de=at(a,ya+f);!function pS(a,f){W1(a,f),f[ha]=null,f[ul]=null}(P[Tr],P);const Me=de[zp];null!==Me&&Me.detachView(de[Tr]),P[Bi]=null,P[Jo]=null,P[ti]&=-129}return P}function G1(a,f){if(!(256&f[ti])){const v=f[Li];v.destroyNode&&Kd(a,f,v,3,null,null),function yS(a){let f=a[Zf];if(!f)return Z1(a[Tr],a);for(;f;){let v=null;if(Ac(f))v=f[Zf];else{const P=f[ya];P&&(v=P)}if(!v){for(;f&&!f[Jo]&&f!==a;)Ac(f)&&Z1(f[Tr],f),f=f[Bi];null===f&&(f=a),Ac(f)&&Z1(f[Tr],f),v=f&&f[Jo]}f=v}}(f)}}function Z1(a,f){if(256&f[ti])return;const v=L(null);try{f[ti]&=-129,f[ti]|=256,f[ma]&&se(f[ma]),function R9(a,f){let v;if(null!=a&&null!=(v=a.destroyHooks))for(let P=0;P<v.length;P+=2){const Y=f[v[P]];if(!(Y instanceof Gv)){const de=v[P+1];if(Array.isArray(de))for(let Me=0;Me<de.length;Me+=2){const Ue=Y[de[Me]],Qe=de[Me+1];Wh(4,Ue,Qe);try{Qe.call(Ue)}finally{Wh(5,Ue,Qe)}}else{Wh(4,Y,de);try{de.call(Y)}finally{Wh(5,Y,de)}}}}}(a,f),function SP(a,f){const v=a.cleanup,P=f[$v];if(null!==v)for(let de=0;de<v.length-1;de+=2)if("string"==typeof v[de]){const Me=v[de+3];Me>=0?P[Me]():P[-Me].unsubscribe(),de+=2}else v[de].call(P[v[de+1]]);null!==P&&(f[$v]=null);const Y=f[Hh];if(null!==Y){f[Hh]=null;for(let de=0;de<Y.length;de++)(0,Y[de])()}}(a,f),1===f[Tr].type&&f[Li].destroy();const P=f[Ku];if(null!==P&&dd(f[Bi])){P!==f[Bi]&&l0(P,f);const Y=f[zp];null!==Y&&Y.detachView(a)}!function f9(a){Vx.delete(a[zm])}(f)}finally{L(v)}}function XD(a,f,v){return Qy(a,f.parent,v)}function Qy(a,f,v){let P=f;for(;null!==P&&168&P.type;)P=(f=P).parent;if(null===P)return v[ha];{const{componentOffset:Y}=P;if(Y>-1){const{encapsulation:de}=a.data[P.directiveStart+Y];if(de===Ua.None||de===Ua.Emulated)return null}return Ud(P,v)}}function Ia(a,f,v,P,Y){a.insertBefore(f,v,P,Y)}function YD(a,f,v){a.appendChild(f,v)}function MP(a,f,v,P,Y){null!==P?Ia(a,f,v,P,Y):YD(a,f,v)}function rm(a,f){return a.parentNode(f)}function JD(a,f,v){return qD(a,f,v)}function TP(a,f,v){return 40&a.type?Ud(a,v):null}let QD,qD=TP;function e3(a,f){qD=a,QD=f}function X1(a,f,v,P){const Y=XD(a,P,f),de=f[Li],Ue=JD(P.parent||f[ul],P,f);if(null!=Y)if(Array.isArray(v))for(let Qe=0;Qe<v.length;Qe++)MP(de,Y,v[Qe],Ue,!1);else MP(de,Y,v,Ue,!1);void 0!==QD&&QD(de,P,f,v,Y)}function Da(a,f){if(null!==f){const v=f.type;if(3&v)return Ud(f,a);if(4&v)return Y1(-1,a[f.index]);if(8&v){const P=f.child;if(null!==P)return Da(a,P);{const Y=a[f.index];return dd(Y)?Y1(-1,Y):Go(Y)}}if(128&v)return Da(a,f.next);if(32&v)return db(f,a)()||Go(a[f.index]);{const P=im(a,f);return null!==P?Array.isArray(P)?P[0]:Da(uu(a[pa]),P):Da(a,f.next)}}return null}function im(a,f){return null!==f?a[pa][ul].projection[f.projection]:null}function Y1(a,f){const v=ya+a+1;if(v<f.length){const P=f[v],Y=P[Tr].firstChild;if(null!==Y)return Da(P,Y)}return f[pf]}function J1(a,f,v,P,Y,de,Me){for(;null!=v;){if(128===v.type){v=v.next;continue}const Ue=P[v.index],Qe=v.type;if(Me&&0===f&&(Ue&&Ll(Go(Ue),P),v.flags|=2),32&~v.flags)if(8&Qe)J1(a,f,v.child,P,Y,de,!1),th(f,a,Y,Ue,de);else if(32&Qe){const _t=db(v,P);let Dt;for(;Dt=_t();)th(f,a,Y,Dt,de);th(f,a,Y,Ue,de)}else 16&Qe?n3(a,f,P,v,Y,de):th(f,a,Y,Ue,de);v=Me?v.projectionNext:v.next}}function Kd(a,f,v,P,Y,de){J1(v,P,a.firstChild,f,Y,de,!1)}function n3(a,f,v,P,Y,de){const Me=v[pa],Qe=Me[ul].projection[P.projection];if(Array.isArray(Qe))for(let _t=0;_t<Qe.length;_t++)th(f,a,Y,Qe[_t],de);else{let _t=Qe;const Dt=Me[Bi];eb(P)&&(_t.flags|=128),J1(a,f,_t,Dt,Y,de,!0)}}function eg(a,f,v){""===v?a.removeAttribute(f,"class"):a.setAttribute(f,"class",v)}function Q1(a,f,v){const{mergedAttrs:P,classes:Y,styles:de}=v;null!==P&&cl(a,f,P),null!==Y&&eg(a,f,Y),null!==de&&function DP(a,f,v){a.setAttribute(f,"style",v)}(a,f,de)}const zi={};function r3(a=1){i3(to(),sr(),Nl()+a,!1)}function i3(a,f,v,P){if(!P)if(3&~f[ti]){const de=a.preOrderHooks;null!==de&&Jf(f,de,0,v)}else{const de=a.preOrderCheckHooks;null!==de&&ac(f,de,v)}Ry(v)}function om(a,f=Ki.Default){const v=sr();return null===v?Ri(a,f):$I(is(),v,bi(a),f)}function eE(){throw new Error("invalid")}function o3(a,f,v,P,Y,de){const Me=L(null);try{let Ue=null;Y&Fa.SignalBased&&(Ue=f[P][S]),null!==Ue&&void 0!==Ue.transformFn&&(de=Ue.transformFn(de)),Y&Fa.HasDecoratorInputTransform&&(de=a.inputTransforms[P].call(f,de)),null!==a.setInput?a.setInput(f,Ue,de,v,P):gx(f,Ue,P,de)}finally{L(Me)}}function d0(a,f,v,P,Y,de,Me,Ue,Qe,_t,Dt){const Xt=f.blueprint.slice();return Xt[ha]=Y,Xt[ti]=204|P,(null!==_t||a&&2048&a[ti])&&(Xt[ti]|=2048),SI(Xt),Xt[Bi]=Xt[Gs]=a,Xt[Uo]=v,Xt[zh]=Me||a&&a[zh],Xt[Li]=Ue||a&&a[Li],Xt[Mc]=Qe||a&&a[Mc]||null,Xt[ul]=de,Xt[zm]=function p1(){return ep++}(),Xt[Ld]=Dt,Xt[qo]=_t,Xt[pa]=2==f.type?a[pa]:Xt,Xt}function Ef(a,f,v,P,Y){let de=a.data[f];if(null===de)de=vS(a,f,v,P,Y),function nk(){return Ui.lFrame.inI18n}()&&(de.flags|=32);else if(64&de.type){de.type=v,de.value=P,de.attrs=Y;const Me=Hv();de.injectorIndex=null===Me?-1:Me.injectorIndex}return gf(de,!0),de}function vS(a,f,v,P,Y){const de=fl(),Me=bx(),Qe=a.data[f]=function l3(a,f,v,P,Y,de){let Me=f?f.injectorIndex:-1,Ue=0;return Ji()&&(Ue|=128),{type:v,index:P,insertBeforeIndex:null,injectorIndex:Me,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:Ue,providerIndexes:0,value:Y,attrs:de,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:f,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Me?de:de&&de.parent,v,f,P,Y);return null===a.firstChild&&(a.firstChild=Qe),null!==de&&(Me?null==de.child&&null!==Qe.parent&&(de.child=Qe):null===de.next&&(de.next=Qe,Qe.prev=de)),Qe}function fb(a,f,v,P){if(0===v)return-1;const Y=f.length;for(let de=0;de<v;de++)f.push(P),a.blueprint.push(P),a.data.push(null);return Y}function s3(a,f,v,P,Y){const de=Nl(),Me=2&P;try{Ry(-1),Me&&f.length>Lr&&i3(a,f,Lr,!1),Wh(Me?2:0,Y),v(P,Y)}finally{Ry(de),Wh(Me?3:1,Y)}}function bS(a,f,v){if(gI(f)){const P=L(null);try{const de=f.directiveEnd;for(let Me=f.directiveStart;Me<de;Me++){const Ue=a.data[Me];Ue.contentQueries&&Ue.contentQueries(1,v[Me],Me)}}finally{L(P)}}}function hb(a,f,v){Q_()&&(function MS(a,f,v,P){const Y=v.directiveStart,de=v.directiveEnd;Kr(v)&&function d3(a,f,v){const P=Ud(f,a),Y=wS(v);let Me=16;v.signals?Me=4096:v.onPush&&(Me=64);const Ue=DS(a,d0(a,Y,null,Me,P,f,null,a[zh].rendererFactory.createRenderer(P,v),null,null,null));a[f.index]=Ue}(f,v,a.data[Y+v.componentOffset]),a.firstCreatePass||s1(v,f),Ll(P,f);const Me=v.initialInputs;for(let Ue=Y;Ue<de;Ue++){const Qe=a.data[Ue],_t=zu(f,a,Ue,v);Ll(_t,f),null!==Me&&$P(0,Ue-Y,_t,Qe,0,Me),mf(Qe)&&(ws(v.index,f)[Uo]=zu(f,a,Ue,v))}}(a,f,v,Ud(v,f)),!(64&~v.flags)&&AS(a,f,v))}function pb(a,f,v=Ud){const P=f.localNames;if(null!==P){let Y=f.index+1;for(let de=0;de<P.length;de+=2){const Me=P[de+1],Ue=-1===Me?v(f,a):a[Me];a[Y++]=Ue}}}function wS(a){const f=a.tView;return null===f||f.incompleteFirstPass?a.tView=_S(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):f}function _S(a,f,v,P,Y,de,Me,Ue,Qe,_t,Dt){const Xt=Lr+P,bn=Xt+Y,xn=function ES(a,f){const v=[];for(let P=0;P<f;P++)v.push(P<a?null:zi);return v}(Xt,bn),Ln="function"==typeof _t?_t():_t;return xn[Tr]={type:a,blueprint:xn,template:v,queries:null,viewQuery:Ue,declTNode:f,data:xn.slice().fill(null,Xt),bindingStartIndex:Xt,expandoStartIndex:bn,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof de?de():de,pipeRegistry:"function"==typeof Me?Me():Me,firstChild:null,schemas:Qe,consts:Ln,incompleteFirstPass:!1,ssrId:Dt}}let mb=()=>null;function xS(a,f,v,P,Y){for(let de in f){if(!f.hasOwnProperty(de))continue;const Me=f[de];if(void 0===Me)continue;P??={};let Ue,Qe=Fa.None;Array.isArray(Me)?(Ue=Me[0],Qe=Me[1]):Ue=Me;let _t=de;if(null!==Y){if(!Y.hasOwnProperty(de))continue;_t=Y[de]}0===a?Gu(P,v,_t,Ue,Qe):Gu(P,v,_t,Ue)}return P}function Gu(a,f,v,P,Y){let de;a.hasOwnProperty(v)?(de=a[v]).push(f,P):de=a[v]=[f,P],void 0!==Y&&de.push(Y)}function $d(a,f,v,P,Y,de,Me,Ue){const Qe=Ud(f,v);let Dt,_t=f.inputs;!Ue&&null!=_t&&(Dt=_t[P])?(kS(a,v,Dt,P,Y),Kr(f)&&function RP(a,f){const v=ws(f,a);16&v[ti]||(v[ti]|=64)}(v,f.index)):3&f.type&&(P=function yb(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(P),Y=null!=Me?Me(Y,f.value||"",P):Y,de.setProperty(Qe,P,Y))}function SS(a,f,v,P){if(Q_()){const Y=null===P?null:{"":-1},de=function LP(a,f){const v=a.directiveRegistry;let P=null,Y=null;if(v)for(let de=0;de<v.length;de++){const Me=v[de];if(ix(f,Me.selectors,!1))if(P||(P=[]),mf(Me))if(null!==Me.findHostDirectiveDefs){const Ue=[];Y=Y||new Map,Me.findHostDirectiveDefs(Me,Ue,Y),P.unshift(...Ue,Me),TS(a,f,Ue.length)}else P.unshift(Me),TS(a,f,0);else Y=Y||new Map,Me.findHostDirectiveDefs?.(Me,P,Y),P.push(Me)}return null===P?null:[P,Y]}(a,v);let Me,Ue;null===de?Me=Ue=null:[Me,Ue]=de,null!==Me&&xf(a,f,v,Me,Y,Ue),Y&&function UP(a,f,v){if(f){const P=a.localNames=[];for(let Y=0;Y<f.length;Y+=2){const de=v[f[Y+1]];if(null==de)throw new ur(-301,!1);P.push(f[Y],de)}}}(v,P,Y)}v.mergedAttrs=Sc(v.mergedAttrs,v.attrs)}function xf(a,f,v,P,Y,de){for(let _t=0;_t<P.length;_t++)Jp(s1(v,f),a,P[_t].type);!function jP(a,f,v){a.flags|=1,a.directiveStart=f,a.directiveEnd=f+v,a.providerIndexes=f}(v,a.data.length,P.length);for(let _t=0;_t<P.length;_t++){const Dt=P[_t];Dt.providersResolver&&Dt.providersResolver(Dt)}let Me=!1,Ue=!1,Qe=fb(a,f,P.length,null);for(let _t=0;_t<P.length;_t++){const Dt=P[_t];v.mergedAttrs=Sc(v.mergedAttrs,Dt.hostAttrs),KP(a,v,f,Qe,Dt),FP(Qe,Dt,Y),null!==Dt.contentQueries&&(v.flags|=4),(null!==Dt.hostBindings||null!==Dt.hostAttrs||0!==Dt.hostVars)&&(v.flags|=64);const Xt=Dt.type.prototype;!Me&&(Xt.ngOnChanges||Xt.ngOnInit||Xt.ngDoCheck)&&((a.preOrderHooks??=[]).push(v.index),Me=!0),!Ue&&(Xt.ngOnChanges||Xt.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(v.index),Ue=!0),Qe++}!function PP(a,f,v){const Y=f.directiveEnd,de=a.data,Me=f.attrs,Ue=[];let Qe=null,_t=null;for(let Dt=f.directiveStart;Dt<Y;Dt++){const Xt=de[Dt],bn=v?v.get(Xt):null,Ln=bn?bn.outputs:null;Qe=xS(0,Xt.inputs,Dt,Qe,bn?bn.inputs:null),_t=xS(1,Xt.outputs,Dt,_t,Ln);const ar=null===Qe||null===Me||Uv(f)?null:VP(Qe,Dt,Me);Ue.push(ar)}null!==Qe&&(Qe.hasOwnProperty("class")&&(f.flags|=8),Qe.hasOwnProperty("style")&&(f.flags|=16)),f.initialInputs=Ue,f.inputs=Qe,f.outputs=_t}(a,v,de)}function AS(a,f,v){const P=v.directiveStart,Y=v.directiveEnd,de=v.index,Me=function wr(){return Ui.lFrame.currentDirectiveIndex}();try{Ry(de);for(let Ue=P;Ue<Y;Ue++){const Qe=a.data[Ue],_t=f[Ue];si(Ue),(null!==Qe.hostBindings||0!==Qe.hostVars||null!==Qe.hostAttrs)&&NP(Qe,_t)}}finally{Ry(-1),si(Me)}}function NP(a,f){null!==a.hostBindings&&a.hostBindings(1,f)}function TS(a,f,v){f.componentOffset=v,(a.components??=[]).push(f.index)}function FP(a,f,v){if(v){if(f.exportAs)for(let P=0;P<f.exportAs.length;P++)v[f.exportAs[P]]=a;mf(f)&&(v[""]=a)}}function KP(a,f,v,P,Y){a.data[P]=Y;const de=Y.factory||(Y.factory=Gf(Y.type)),Me=new Gv(de,mf(Y),om);a.blueprint[P]=Me,v[P]=Me,function OP(a,f,v,P,Y){const de=Y.hostBindings;if(de){let Me=a.hostBindingOpCodes;null===Me&&(Me=a.hostBindingOpCodes=[]);const Ue=~f.index;(function BP(a){let f=a.length;for(;f>0;){const v=a[--f];if("number"==typeof v&&v<0)return v}return 0})(Me)!=Ue&&Me.push(Ue),Me.push(v,P,de)}}(a,f,P,fb(a,v,Y.hostVars,zi),Y)}function rh(a,f,v,P,Y,de){const Me=Ud(a,f);!function IS(a,f,v,P,Y,de,Me){if(null==de)a.removeAttribute(f,Y,v);else{const Ue=null==Me?Pi(de):Me(de,P||"",Y);a.setAttribute(f,Y,Ue,v)}}(f[Li],Me,de,a.value,v,P,Y)}function $P(a,f,v,P,Y,de){const Me=de[f];if(null!==Me)for(let Ue=0;Ue<Me.length;)o3(P,v,Me[Ue++],Me[Ue++],Me[Ue++],Me[Ue++])}function VP(a,f,v){let P=null,Y=0;for(;Y<v.length;){const de=v[Y];if(0!==de)if(5!==de){if("number"==typeof de)break;if(a.hasOwnProperty(de)){null===P&&(P=[]);const Me=a[de];for(let Ue=0;Ue<Me.length;Ue+=3)if(Me[Ue]===f){P.push(de,Me[Ue+1],Me[Ue+2],v[Y+1]);break}}Y+=2}else Y+=2;else Y+=4}return P}function u3(a,f,v,P){return[a,!0,0,f,null,P,null,v,null,null]}function zP(a,f){const v=a.contentQueries;if(null!==v){const P=L(null);try{for(let Y=0;Y<v.length;Y+=2){const Me=v[Y+1];if(-1!==Me){const Ue=a.data[Me];e1(v[Y]),Ue.contentQueries(2,f[Me],Me)}}}finally{L(P)}}}function DS(a,f){return a[Zf]?a[yI][Jo]=f:a[Zf]=f,a[yI]=f,f}function CS(a,f,v){e1(0);const P=L(null);try{f(a,v)}finally{L(P)}}function HP(a){return a[$v]??=[]}function f3(a){return a.cleanup??=[]}function h3(a,f,v){return(null===a||mf(a))&&(v=function EI(a){for(;Array.isArray(a);){if("object"==typeof a[px])return a;a=a[ha]}return null}(v[f.index])),v[Li]}function tE(a,f){const v=a[Mc],P=v?v.get(eh,null):null;P&&P.handleError(f)}function kS(a,f,v,P,Y){for(let de=0;de<v.length;){const Me=v[de++],Ue=v[de++],Qe=v[de++];o3(a.data[Me],f[Me],P,Ue,Qe,Y)}}function ip(a,f,v){const P=X_(f,a);!function ZD(a,f,v){a.setValue(f,v)}(a[Li],P,v)}function p3(a,f){const v=ws(f,a),P=v[Tr];!function WP(a,f){for(let v=f.length;v<a.blueprint.length;v++)f.push(a.blueprint[v])}(P,v);const Y=v[ha];null!==Y&&null===v[Ld]&&(v[Ld]=ib(Y,v[Mc])),tg(P,v,v[Uo])}function tg(a,f,v){Ex(f);try{const P=a.viewQuery;null!==P&&CS(1,P,v);const Y=a.template;null!==Y&&s3(a,f,Y,1,v),a.firstCreatePass&&(a.firstCreatePass=!1),f[zp]?.finishViewCreation(a),a.staticContentQueries&&zP(a,f),a.staticViewQueries&&CS(2,a.viewQuery,v);const de=a.components;null!==de&&function bb(a,f){for(let v=0;v<f.length;v++)p3(a,f[v])}(f,de)}catch(P){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),P}finally{f[ti]&=-5,xx()}}function ng(a,f,v,P){const Y=L(null);try{const de=f.tView,Qe=d0(a,de,v,4096&a[ti]?4096:16,null,f,null,null,P?.injector??null,P?.embeddedViewInjector??null,P?.dehydratedView??null);Qe[Ku]=a[f.index];const Dt=a[zp];return null!==Dt&&(Qe[zp]=Dt.createEmbeddedView(de)),tg(de,Qe,v),Qe}finally{L(Y)}}function m3(a,f){const v=ya+f;if(v<a.length)return a[v]}function va(a,f){return!f||null===f.firstChild||eb(a)}function rg(a,f,v,P=!0){const Y=f[Tr];if(function os(a,f,v,P){const Y=ya+P,de=v.length;P>0&&(v[Y-1][Jo]=f),P<de-ya?(f[Jo]=v[Y],$m(v,ya+P,f)):(v.push(f),f[Jo]=null),f[Bi]=v;const Me=f[Ku];null!==Me&&v!==Me&&hl(Me,f);const Ue=f[zp];null!==Ue&&Ue.insertView(a),MI(f),f[ti]|=128}(Y,f,a,v),P){const Me=Y1(v,a),Ue=f[Li],Qe=rm(Ue,a[pf]);null!==Qe&&function mS(a,f,v,P,Y,de){P[ha]=Y,P[ul]=f,Kd(a,P,v,1,Y,de)}(Y,a[ul],Ue,f,Qe,Me)}const de=f[Ld];null!==de&&null!==de.firstChild&&(de.firstChild=null)}function PS(a,f){const v=qy(a,f);return void 0!==v&&G1(v[Tr],v),v}function wb(a,f,v,P,Y=!1){for(;null!==v;){if(128===v.type){v=Y?v.projectionNext:v.next;continue}const de=f[v.index];null!==de&&P.push(Go(de)),dd(de)&&y3(de,P);const Me=v.type;if(8&Me)wb(a,f,v.child,P);else if(32&Me){const Ue=db(v,f);let Qe;for(;Qe=Ue();)P.push(Qe)}else if(16&Me){const Ue=im(f,v);if(Array.isArray(Ue))P.push(...Ue);else{const Qe=uu(f[pa]);wb(Qe[Tr],Qe,Ue,P,!0)}}v=Y?v.projectionNext:v.next}return P}function y3(a,f){for(let v=ya;v<a.length;v++){const P=a[v],Y=P[Tr].firstChild;null!==Y&&wb(P[Tr],P,Y,f)}a[pf]!==a[ha]&&f.push(a[pf])}let RS=[];const YP={...F,consumerIsAlwaysLive:!0,consumerMarkedDirty:a=>{Gp(a.lView)},consumerOnSignalRead(){this.lView[ma]=this}},_b={...F,consumerIsAlwaysLive:!0,consumerMarkedDirty:a=>{let f=uu(a.lView);for(;f&&!g3(f[Tr]);)f=uu(f);f&&Y8(f)},consumerOnSignalRead(){this.lView[ma]=this}};function g3(a){return 2!==a.type}const qP=100;function nE(a,f=!0,v=0){const P=a[zh],Y=P.rendererFactory;Y.begin?.();try{!function QP(a,f){const v=kI();try{Bl(!0),Sf(a,f);let P=0;for(;zv(a);){if(P===qP)throw new ur(103,!1);P++,Sf(a,1)}}finally{Bl(v)}}(a,v)}catch(Me){throw f&&tE(a,Me),Me}finally{Y.end?.(),P.inlineEffectRunner?.flush()}}function eR(a,f,v,P){const Y=f[ti];if(!(256&~Y))return;f[zh].inlineEffectRunner?.flush(),Ex(f);let Ue=!0,Qe=null,_t=null;g3(a)?(_t=function GP(a){return a[ma]??function ZP(a){const f=RS.pop()??Object.create(YP);return f.lView=a,f}(a)}(f),Qe=Q(_t)):null===function M(){return x}()?(Ue=!1,_t=function JP(a){const f=a[ma]??Object.create(_b);return f.lView=a,f}(f),Qe=Q(_t)):f[ma]&&(se(f[ma]),f[ma]=null);try{SI(f),function Vu(a){return Ui.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==v&&s3(a,f,v,2,P);const Dt=!(3&~Y);if(Dt){const xn=a.preOrderCheckHooks;null!==xn&&ac(f,xn,null)}else{const xn=a.preOrderHooks;null!==xn&&Jf(f,xn,0,null),Xh(f,0)}if(function tR(a){for(let f=lD(a);null!==f;f=dD(f)){if(!(f[ti]&ky.HasTransplantedViews))continue;const v=f[Cy];for(let P=0;P<v.length;P++)Y8(v[P])}}(f),b3(f,0),null!==a.contentQueries&&zP(a,f),Dt){const xn=a.contentCheckHooks;null!==xn&&ac(f,xn)}else{const xn=a.contentHooks;null!==xn&&Jf(f,xn,1),Xh(f,1)}!function CP(a,f){const v=a.hostBindingOpCodes;if(null!==v)try{for(let P=0;P<v.length;P++){const Y=v[P];if(Y<0)Ry(~Y);else{const de=Y,Me=v[++P],Ue=v[++P];rk(Me,de),Ue(2,f[de])}}}finally{Ry(-1)}}(a,f);const Xt=a.components;null!==Xt&&_3(f,Xt,0);const bn=a.viewQuery;if(null!==bn&&CS(2,bn,P),Dt){const xn=a.viewCheckHooks;null!==xn&&ac(f,xn)}else{const xn=a.viewHooks;null!==xn&&Jf(f,xn,2),Xh(f,2)}if(!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),f[Ur]){for(const xn of f[Ur])xn();f[Ur]=null}f[ti]&=-73}catch(Dt){throw Gp(f),Dt}finally{null!==_t&&(J(_t,Qe),Ue&&function XP(a){a.lView[ma]!==a&&(a.lView=null,RS.push(a))}(_t)),xx()}}function b3(a,f){for(let v=lD(a);null!==v;v=dD(v))for(let P=ya;P<v.length;P++)w3(v[P],f)}function nR(a,f,v){w3(ws(f,a),v)}function w3(a,f){xI(a)&&Sf(a,f)}function Sf(a,f){const P=a[Tr],Y=a[ti],de=a[ma];let Me=!!(0===f&&16&Y);if(Me||=!!(64&Y&&0===f),Me||=!!(1024&Y),Me||=!(!de?.dirty||!oe(de)),Me||=!1,de&&(de.dirty=!1),a[ti]&=-9217,Me)eR(P,a,P.template,a[Uo]);else if(8192&Y){b3(a,1);const Ue=P.components;null!==Ue&&_3(a,Ue,1)}}function _3(a,f,v){for(let P=0;P<f.length;P++)nR(a,f[P],v)}function Eb(a,f){const v=kI()?64:1088;for(a[zh].changeDetectionScheduler?.notify(f);a;){a[ti]|=v;const P=uu(a);if(Py(a)&&!P)return a;a=P}return null}class xb{get rootNodes(){const f=this._lView,v=f[Tr];return wb(v,f,v.firstChild,[])}constructor(f,v,P=!0){this._lView=f,this._cdRefInjectingView=v,this.notifyErrorHandler=P,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Uo]}set context(f){this._lView[Uo]=f}get destroyed(){return!(256&~this._lView[ti])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const f=this._lView[Bi];if(dd(f)){const v=f[8],P=v?v.indexOf(this):-1;P>-1&&(qy(f,P),at(v,P))}this._attachedToViewContainer=!1}G1(this._lView[Tr],this._lView)}onDestroy(f){J_(this._lView,f)}markForCheck(){Eb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ti]&=-129}reattach(){MI(this._lView),this._lView[ti]|=128}detectChanges(){this._lView[ti]|=1024,nE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ur(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const f=Py(this._lView),v=this._lView[Ku];null!==v&&!f&&l0(v,this._lView),W1(this._lView[Tr],this._lView)}attachToAppRef(f){if(this._attachedToViewContainer)throw new ur(902,!1);this._appRef=f;const v=Py(this._lView),P=this._lView[Ku];null!==P&&!v&&hl(P,this._lView),MI(this._lView)}}let Sb=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=oR}return a})();const rR=Sb,iR=class extends rR{constructor(f,v,P){super(),this._declarationLView=f,this._declarationTContainer=v,this.elementRef=P}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(f,v){return this.createEmbeddedViewImpl(f,v)}createEmbeddedViewImpl(f,v,P){const Y=ng(this._declarationLView,this._declarationTContainer,f,{embeddedViewInjector:v,dehydratedView:P});return new xb(Y)}};function oR(){return rE(is(),sr())}function rE(a,f){return 4&a.type?new iR(f,a,qv(a,f)):null}function S3(a,f,v){const P=f.insertBeforeIndex,Y=Array.isArray(P)?P[0]:P;return null===Y?TP(a,0,v):Go(v[Y])}function M3(a,f,v,P,Y){const de=f.insertBeforeIndex;if(Array.isArray(de)){let Me=P,Ue=null;if(3&f.type||(Ue=Me,Me=Y),null!==Me&&-1===f.componentOffset)for(let Qe=1;Qe<de.length;Qe++)Ia(a,Me,v[de[Qe]],Ue,!1)}}function A3(a,f){if(a.push(f),a.length>1)for(let v=a.length-2;v>=0;v--){const P=a[v];T3(P)||hR(P,f)&&null===pR(P)&&mR(P,f.index)}}function T3(a){return!(64&a.type)}function hR(a,f){return T3(f)||a.index>f.index}function pR(a){const f=a.insertBeforeIndex;return Array.isArray(f)?f[0]:f}function mR(a,f){const v=a.insertBeforeIndex;Array.isArray(v)?v[0]=f:(e3(S3,M3),a.insertBeforeIndex=f)}function aE(a,f,v){const P=vS(a,v,64,null,null);return A3(f,P),P}function kb(a,f,v){a.index=0;const P=function og(a,f){const v=f[a.currentCaseLViewIndex];return null===v?v:v<0?~v:v}(f,v);a.removes=null!==P?f.remove[P]:oi}function Pb(a){if(a.index<a.removes.length){const f=a.removes[a.index++];return f>0?a.lView[f]:(a.stack.push(a.index,a.removes),kb(a,a.lView[Tr].data[~f],a.lView),Pb(a))}return 0===a.stack.length?null:(a.removes=a.stack.pop(),a.index=a.stack.pop(),Pb(a))}function bR(){const a={stack:[],index:-1};return function f(v,P){for(a.lView=P;a.stack.length;)a.stack.pop();return kb(a,v.value,P),Pb.bind(null,a)}}let O3=()=>{},CR=()=>null;function h0(a,f){return CR(a,f)}class p0{}const Lb=new wi("",{providedIn:"root",factory:()=>!1}),$3=new wi("");class V3{}class z3{}class RR{resolveComponentFactory(f){throw function H3(a){const f=Error(`No component factory found for ${So(a)}.`);return f.ngComponent=a,f}(f)}}class mu{static#e=this.NULL=new RR}class cg{}let Z9=(()=>{class a{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function X9(){const a=sr(),v=ws(is().index,a);return(Ac(v)?v:a)[Li]}()}return a})(),Y9=(()=>{class a{static#e=this.\u0275prov=Eo({token:a,providedIn:"root",factory:()=>null})}return a})();const OR=new Set;function fd(a){OR.has(a)||(OR.add(a),performance?.mark?.("mark_feature_usage",{detail:{feature:a}}))}var hd=function(a){return a[a.EarlyRead=0]="EarlyRead",a[a.Write=1]="Write",a[a.MixedReadWrite=2]="MixedReadWrite",a[a.Read=3]="Read",a}(hd||{});const BR={destroy(){}};function NR(a,f){!f&&Kv();const v=f?.injector??br(Ka);return jd(v)?(fd("NgAfterRender"),Z3(a,v,!1,f?.phase??hd.MixedReadWrite)):BR}function W3(a,f){!f&&Kv();const v=f?.injector??br(Ka);return jd(v)?(fd("NgAfterNextRender"),Z3(a,v,!0,f?.phase??hd.MixedReadWrite)):BR}function Z3(a,f,v,P){const Y=function G3(a,f){if(a instanceof Function)switch(f){case hd.EarlyRead:return{earlyRead:a};case hd.Write:return{write:a};case hd.MixedReadWrite:return{mixedReadWrite:a};case hd.Read:return{read:a}}return a}(a,P),de=f.get(Ub),Me=de.handler??=new UR,Ue=[],Qe=[],_t=()=>{for(const xn of Qe)Me.unregister(xn);Dt()},Dt=f.get(Br).onDestroy(_t);let Xt=0;const bn=(xn,Ln)=>{if(!Ln)return;const ar=v?(...Ir)=>(Xt--,Xt<1&&_t(),Ln(...Ir)):Ln,Vn=z_(f,()=>new LR(xn,Ue,ar));Me.register(Vn),Qe.push(Vn),Xt++};return bn(hd.EarlyRead,Y.earlyRead),bn(hd.Write,Y.write),bn(hd.MixedReadWrite,Y.mixedReadWrite),bn(hd.Read,Y.read),{destroy:_t}}class LR{constructor(f,v,P){this.phase=f,this.pipelinedArgs=v,this.callbackFn=P,this.zone=br(Zs),this.errorHandler=br(eh,{optional:!0}),br(p0,{optional:!0})?.notify(6)}invoke(){try{const f=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,f)}catch(f){this.errorHandler?.handleError(f)}}}class UR{constructor(){this.executingCallbacks=!1,this.buckets={[hd.EarlyRead]:new Set,[hd.Write]:new Set,[hd.MixedReadWrite]:new Set,[hd.Read]:new Set},this.deferredCallbacks=new Set}register(f){(this.executingCallbacks?this.deferredCallbacks:this.buckets[f.phase]).add(f)}unregister(f){this.buckets[f.phase].delete(f),this.deferredCallbacks.delete(f)}execute(){this.executingCallbacks=!0;for(const f of Object.values(this.buckets))for(const v of f)v.invoke();this.executingCallbacks=!1;for(const f of this.deferredCallbacks)this.buckets[f.phase].add(f);this.deferredCallbacks.clear()}destroy(){for(const f of Object.values(this.buckets))f.clear();this.deferredCallbacks.clear()}}let Ub=(()=>{class a{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const v=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const P of v)P()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Eo({token:a,providedIn:"root",factory:()=>new a})}return a})();function sm(a){return!!bs(a)}function fE(a,f,v){let P=v?a.styles:null,Y=v?a.classes:null,de=0;if(null!==f)for(let Me=0;Me<f.length;Me++){const Ue=f[Me];"number"==typeof Ue?de=Ue:1==de?Y=Rp(Y,Ue):2==de&&(P=Rp(P,Ue+": "+f[++Me]+";"))}v?a.styles=P:a.stylesWithoutHost=P,v?a.classes=Y:a.classesWithoutHost=Y}class Y3 extends mu{constructor(f){super(),this.ngModule=f}resolveComponentFactory(f){const v=Wr(f);return new cm(v,this.ngModule)}}function J3(a,f){const v=[];for(const P in a){if(!a.hasOwnProperty(P))continue;const Y=a[P];if(void 0===Y)continue;const de=Array.isArray(Y),Me=de?Y[0]:Y;v.push(f?{propName:Me,templateName:P,isSignal:!!((de?Y[1]:Fa.None)&Fa.SignalBased)}:{propName:Me,templateName:P})}return v}class cm extends z3{get inputs(){const f=this.componentDef,v=f.inputTransforms,P=J3(f.inputs,!0);if(null!==v)for(const Y of P)v.hasOwnProperty(Y.propName)&&(Y.transform=v[Y.propName]);return P}get outputs(){return J3(this.componentDef.outputs,!1)}constructor(f,v){super(),this.componentDef=f,this.ngModule=v,this.componentType=f.type,this.selector=function dt(a){return a.map(Ge).join(",")}(f.selectors),this.ngContentSelectors=f.ngContentSelectors?f.ngContentSelectors:[],this.isBoundToModule=!!v}create(f,v,P,Y){const de=L(null);try{let Me=(Y=Y||this.ngModule)instanceof lu?Y:Y?.injector;Me&&null!==this.componentDef.getStandaloneInjector&&(Me=this.componentDef.getStandaloneInjector(Me)||Me);const Ue=Me?new Gm(f,Me):f,Qe=Ue.get(cg,null);if(null===Qe)throw new ur(407,!1);const _t=Ue.get(Y9,null),bn={rendererFactory:Qe,sanitizer:_t,inlineEffectRunner:null,afterRenderEventManager:Ue.get(Ub,null),changeDetectionScheduler:Ue.get(p0,null)},xn=Qe.createRenderer(null,this.componentDef),Ln=this.componentDef.selectors[0][0]||"div",ar=P?function O9(a,f,v,P){const de=P.get(tS,!1)||v===Ua.ShadowDom,Me=a.selectRootElement(f,de);return function nh(a){mb(a)}(Me),Me}(xn,P,this.componentDef.encapsulation,Ue):H1(xn,Ln,function KR(a){const f=a.toLowerCase();return"svg"===f?G8:"math"===f?"math":null}(Ln));let Vn=512;this.componentDef.signals?Vn|=4096:this.componentDef.onPush||(Vn|=16);let Ir=null;null!==ar&&(Ir=ib(ar,Ue,!0));const nr=_S(0,null,null,1,0,null,null,null,null,null,null),Ti=d0(null,nr,null,Vn,null,null,bn,xn,Ue,null,Ir);let $o,Ps;Ex(Ti);try{const xa=this.componentDef;let Yd,o_=null;xa.findHostDirectiveDefs?(Yd=[],o_=new Map,xa.findHostDirectiveDefs(xa,Yd,o_),Yd.push(xa)):Yd=[xa];const E5=function hE(a,f){const v=a[Tr],P=Lr;return a[P]=f,Ef(v,P,2,"#host",null)}(Ti,ar),j4=function pE(a,f,v,P,Y,de,Me){const Ue=Y[Tr];!function XS(a,f,v,P){for(const Y of a)f.mergedAttrs=Sc(f.mergedAttrs,Y.hostAttrs);null!==f.mergedAttrs&&(fE(f,f.mergedAttrs,!0),null!==v&&Q1(P,v,f))}(P,a,f,Me);let Qe=null;null!==f&&(Qe=ib(f,Y[Mc]));const _t=de.rendererFactory.createRenderer(f,v);let Dt=16;v.signals?Dt=4096:v.onPush&&(Dt=64);const Xt=d0(Y,wS(v),null,Dt,Y[a.index],a,de,_t,null,null,Qe);return Ue.firstCreatePass&&TS(Ue,a,P.length-1),DS(Y,Xt),Y[a.index]=Xt}(E5,ar,xa,Yd,Ti,bn,xn);Ps=Y_(nr,Lr),ar&&function VR(a,f,v,P){if(P)cl(a,v,["ng-version","18.1.3"]);else{const{attrs:Y,classes:de}=function It(a){const f=[],v=[];let P=1,Y=2;for(;P<a.length;){let de=a[P];if("string"==typeof de)2===Y?""!==de&&f.push(de,a[++P]):8===Y&&v.push(de);else{if(!Uu(Y))break;Y=de}P++}return{attrs:f,classes:v}}(f.selectors[0]);Y&&cl(a,v,Y),de&&de.length>0&&eg(a,v,de.join(" "))}}(xn,xa,ar,P),void 0!==v&&function YS(a,f,v){const P=a.projection=[];for(let Y=0;Y<f.length;Y++){const de=v[Y];P.push(null!=de?Array.from(de):null)}}(Ps,this.ngContentSelectors,v),$o=function $R(a,f,v,P,Y,de){const Me=is(),Ue=Y[Tr],Qe=Ud(Me,Y);xf(Ue,Y,Me,v,null,P);for(let Dt=0;Dt<v.length;Dt++)Ll(zu(Y,Ue,Me.directiveStart+Dt,Me),Y);AS(Ue,Y,Me),Qe&&Ll(Qe,Y);const _t=zu(Y,Ue,Me.directiveStart+Me.componentOffset,Me);if(a[Uo]=Y[Uo]=_t,null!==de)for(const Dt of de)Dt(_t,f);return bS(Ue,Me,Y),_t}(j4,xa,Yd,o_,Ti,[JS]),tg(nr,Ti,null)}finally{xx()}return new ZS(this.componentType,$o,qv(Ps,Ti),Ti,Ps)}finally{L(de)}}}class ZS extends V3{constructor(f,v,P,Y,de){super(),this.location=P,this._rootLView=Y,this._tNode=de,this.previousInputValues=null,this.instance=v,this.hostView=this.changeDetectorRef=new xb(Y,void 0,!1),this.componentType=f}setInput(f,v){const P=this._tNode.inputs;let Y;if(null!==P&&(Y=P[f])){if(this.previousInputValues??=new Map,this.previousInputValues.has(f)&&Object.is(this.previousInputValues.get(f),v))return;const de=this._rootLView;kS(de[Tr],de,Y,f,v),this.previousInputValues.set(f,v),Eb(ws(this._tNode.index,de),1)}}get injector(){return new Tc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(f){this.hostView.onDestroy(f)}}function JS(){const a=is();Zh(sr()[Tr],a)}let qS=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=q9}return a})();function q9(){return Q3(is(),sr())}const q3=qS,mE=class extends q3{constructor(f,v,P){super(),this._lContainer=f,this._hostTNode=v,this._hostLView=P}get element(){return qv(this._hostTNode,this._hostLView)}get injector(){return new Tc(this._hostTNode,this._hostLView)}get parentInjector(){const f=a1(this._hostTNode,this._hostLView);if(Zv(f)){const v=Xv(f,this._hostLView),P=Jh(f);return new Tc(v[Tr].data[P+8],v)}return new Tc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(f){const v=$c(this._lContainer);return null!==v&&v[f]||null}get length(){return this._lContainer.length-ya}createEmbeddedView(f,v,P){let Y,de;"number"==typeof P?Y=P:null!=P&&(Y=P.index,de=P.injector);const Me=h0(this._lContainer,f.ssrId),Ue=f.createEmbeddedViewImpl(v||{},de,Me);return this.insertImpl(Ue,Y,va(this._hostTNode,Me)),Ue}createComponent(f,v,P,Y,de){const Me=f&&!function ju(a){return"function"==typeof a}(f);let Ue;if(Me)Ue=v;else{const Ln=v||{};Ue=Ln.index,P=Ln.injector,Y=Ln.projectableNodes,de=Ln.environmentInjector||Ln.ngModuleRef}const Qe=Me?f:new cm(Wr(f)),_t=P||this.parentInjector;if(!de&&null==Qe.ngModule){const ar=(Me?_t:this.parentInjector).get(lu,null);ar&&(de=ar)}const Dt=Wr(Qe.componentType??{}),Xt=h0(this._lContainer,Dt?.id??null),xn=Qe.create(_t,Y,Xt?.firstChild??null,de);return this.insertImpl(xn.hostView,Ue,va(this._hostTNode,Xt)),xn}insert(f,v){return this.insertImpl(f,v,!0)}insertImpl(f,v,P){const Y=f._lView;if(function Hm(a){return dd(a[Bi])}(Y)){const Ue=this.indexOf(f);if(-1!==Ue)this.detach(Ue);else{const Qe=Y[Bi],_t=new mE(Qe,Qe[ul],Qe[Bi]);_t.detach(_t.indexOf(f))}}const de=this._adjustIndex(v),Me=this._lContainer;return rg(Me,Y,de,P),f.attachToViewContainerRef(),$m(QS(Me),de,f),f}move(f,v){return this.insert(f,v)}indexOf(f){const v=$c(this._lContainer);return null!==v?v.indexOf(f):-1}remove(f){const v=this._adjustIndex(f,-1),P=qy(this._lContainer,v);P&&(at(QS(this._lContainer),v),G1(P[Tr],P))}detach(f){const v=this._adjustIndex(f,-1),P=qy(this._lContainer,v);return P&&null!=at(QS(this._lContainer),v)?new xb(P):null}_adjustIndex(f,v=0){return f??this.length+v}};function $c(a){return a[8]}function QS(a){return a[8]||(a[8]=[])}function Q3(a,f){let v;const P=f[a.index];return dd(P)?v=P:(v=u3(P,f,null,a),f[a.index]=v,DS(f,v)),lg(v,f,a,P),new mE(v,a,f)}let lg=function eC(a,f,v,P){if(a[pf])return;let Y;Y=8&v.type?Go(P):function zR(a,f){const v=a[Li],P=v.createComment(""),Y=Ud(f,a);return Ia(v,rm(v,Y),P,function Zo(a,f){return a.nextSibling(f)}(v,Y),!1),P}(f,v),a[pf]=Y},eM=()=>!1;class iM{constructor(f){this.queryList=f,this.matches=null}clone(){return new iM(this.queryList)}setDirty(){this.queryList.setDirty()}}class tC{constructor(f=[]){this.queries=f}createEmbeddedView(f){const v=f.queries;if(null!==v){const P=null!==f.contentQueries?f.contentQueries[0]:v.length,Y=[];for(let de=0;de<P;de++){const Me=v.getByIndex(de);Y.push(this.queries[Me.indexInDeclarationView].clone())}return new tC(Y)}return null}insertView(f){this.dirtyQueriesWithMatches(f)}detachView(f){this.dirtyQueriesWithMatches(f)}finishViewCreation(f){this.dirtyQueriesWithMatches(f)}dirtyQueriesWithMatches(f){for(let v=0;v<this.queries.length;v++)null!==yE(f,v).matches&&this.queries[v].setDirty()}}class oM{constructor(f,v,P=null){this.flags=v,this.read=P,this.predicate="string"==typeof f?function XR(a){return a.split(",").map(f=>f.trim())}(f):f}}class nC{constructor(f=[]){this.queries=f}elementStart(f,v){for(let P=0;P<this.queries.length;P++)this.queries[P].elementStart(f,v)}elementEnd(f){for(let v=0;v<this.queries.length;v++)this.queries[v].elementEnd(f)}embeddedTView(f){let v=null;for(let P=0;P<this.length;P++){const Y=null!==v?v.length:0,de=this.getByIndex(P).embeddedTView(f,Y);de&&(de.indexInDeclarationView=P,null!==v?v.push(de):v=[de])}return null!==v?new nC(v):null}template(f,v){for(let P=0;P<this.queries.length;P++)this.queries[P].template(f,v)}getByIndex(f){return this.queries[f]}get length(){return this.queries.length}track(f){this.queries.push(f)}}class sM{constructor(f,v=-1){this.metadata=f,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=v}elementStart(f,v){this.isApplyingToNode(v)&&this.matchTNode(f,v)}elementEnd(f){this._declarationNodeIndex===f.index&&(this._appliesToNextNode=!1)}template(f,v){this.elementStart(f,v)}embeddedTView(f,v){return this.isApplyingToNode(f)?(this.crossesNgTemplate=!0,this.addMatch(-f.index,v),new sM(this.metadata)):null}isApplyingToNode(f){if(this._appliesToNextNode&&1&~this.metadata.flags){const v=this._declarationNodeIndex;let P=f.parent;for(;null!==P&&8&P.type&&P.index!==v;)P=P.parent;return v===(null!==P?P.index:-1)}return this._appliesToNextNode}matchTNode(f,v){const P=this.metadata.predicate;if(Array.isArray(P))for(let Y=0;Y<P.length;Y++){const de=P[Y];this.matchTNodeWithReadOption(f,v,yu(v,de)),this.matchTNodeWithReadOption(f,v,By(v,f,de,!1,!1))}else P===Sb?4&v.type&&this.matchTNodeWithReadOption(f,v,-1):this.matchTNodeWithReadOption(f,v,By(v,f,P,!1,!1))}matchTNodeWithReadOption(f,v,P){if(null!==P){const Y=this.metadata.read;if(null!==Y)if(Y===u1||Y===qS||Y===Sb&&4&v.type)this.addMatch(v.index,-2);else{const de=By(v,f,Y,!1,!1);null!==de&&this.addMatch(v.index,de)}else this.addMatch(v.index,P)}}addMatch(f,v){null===this.matches?this.matches=[f,v]:this.matches.push(f,v)}}function yu(a,f){const v=a.localNames;if(null!==v)for(let P=0;P<v.length;P+=2)if(v[P]===f)return v[P+1];return null}function GR(a,f,v,P){return-1===v?function WR(a,f){return 11&a.type?qv(a,f):4&a.type?rE(a,f):null}(f,a):-2===v?function ZR(a,f,v){return v===u1?qv(f,a):v===Sb?rE(f,a):v===qS?Q3(f,a):void 0}(a,f,P):zu(a,a[Tr],v,f)}function aM(a,f,v,P){const Y=f[zp].queries[P];if(null===Y.matches){const de=a.data,Me=v.matches,Ue=[];for(let Qe=0;null!==Me&&Qe<Me.length;Qe+=2){const _t=Me[Qe];Ue.push(_t<0?null:GR(f,de[_t],Me[Qe+1],v.metadata.read))}Y.matches=Ue}return Y.matches}function $b(a,f,v,P){const Y=a.queries.getByIndex(v),de=Y.matches;if(null!==de){const Me=aM(a,f,Y,v);for(let Ue=0;Ue<de.length;Ue+=2){const Qe=de[Ue];if(Qe>0)P.push(Me[Ue/2]);else{const _t=de[Ue+1],Dt=f[-Qe];for(let Xt=ya;Xt<Dt.length;Xt++){const bn=Dt[Xt];bn[Ku]===bn[Bi]&&$b(bn[Tr],bn,_t,P)}if(null!==Dt[Cy]){const Xt=Dt[Cy];for(let bn=0;bn<Xt.length;bn++){const xn=Xt[bn];$b(xn[Tr],xn,_t,P)}}}}}return P}function cM(a,f){return a[zp].queries[f].queryList}function rC(a,f,v){const P=new f1(!(4&~v));return function kP(a,f,v,P){const Y=HP(f);Y.push(v),a.firstCreatePass&&f3(a).push(P,Y.length-1)}(a,f,P,P.destroy),(f[zp]??=new tC).queries.push(new iM(P))-1}function iC(a,f,v){const P=to();return P.firstCreatePass&&(sC(P,new oM(a,f,v),-1),!(2&~f)&&(P.staticViewQueries=!0)),rC(P,sr(),f)}function oC(a,f,v,P){const Y=to();if(Y.firstCreatePass){const de=is();sC(Y,new oM(f,v,P),de.index),function aC(a,f){const v=a.contentQueries||(a.contentQueries=[]);f!==(v.length?v[v.length-1]:-1)&&v.push(a.queries.length-1,f)}(Y,a),!(2&~v)&&(Y.staticContentQueries=!0)}return rC(Y,sr(),v)}function sC(a,f,v){null===a.queries&&(a.queries=new nC),a.queries.track(new sM(f,v))}function yE(a,f){return a.queries.getByIndex(f)}function cC(a,f){const v=a[Tr],P=yE(v,f);return P.crossesNgTemplate?$b(v,a,f,[]):aM(v,a,P,f)}function Vb(a){return"function"==typeof a&&void 0!==a[S]}function lC(a,f){fd("NgSignals");const v=function g(a){const f=Object.create(ke);f.value=a;const v=()=>(I(f),f.value);return v[S]=f,v}(a),P=v[S];return f?.equal&&(P.equal=f.equal),v.set=Y=>ne(P,Y),v.update=Y=>function ce(a,f){re()||j(),ne(a,f(a.value))}(P,Y),v.asReadonly=lM.bind(v),v}function lM(){const a=this[S];if(void 0===a.readonlyFn){const f=()=>this();f[S]=a,a.readonlyFn=f}return a.readonlyFn}function gE(a){return Vb(a)&&"function"==typeof a.set}function dM(a,f){let v;const P=k(()=>{v._dirtyCounter();const Y=function hM(a,f){const v=a._lView,P=a._queryIndex;if(void 0===v||void 0===P||4&v[ti])return f?void 0:oi;const Y=cM(v,P),de=cC(v,P);return Y.reset(de,Ck),f?Y.first:Y._changesDetected||void 0===a._flatValue?a._flatValue=Y.toArray():a._flatValue}(v,a);if(f&&void 0===Y)throw new ur(-951,!1);return Y});return v=P[S],v._dirtyCounter=lC(0),v._flatValue=void 0,P}function uM(){return dM(!0,!1)}function fM(){return dM(!0,!0)}function dC(a,f){const v=a[S];v._lView=sr(),v._queryIndex=f,v._queryList=cM(v._lView,f),v._queryList.onDirty(()=>v._dirtyCounter.update(P=>P+1))}function uC(a,f){return uM()}const pM=(uC.required=function JR(a,f){return fM()},uC);function bE(a,f){return uM()}const zb=(bE.required=function QR(a,f){return fM()},bE);function mM(a){const f=Object.create(ro),v=new tD;function P(){return I(f),wE(f.value),f.value}return f.value=a,P[S]=f,P.asReadonly=lM.bind(P),P.set=Y=>{f.equal(f.value,Y)||(ne(f,Y),v.emit(Y))},P.update=Y=>{wE(f.value),P.set(Y(f.value))},P.subscribe=v.subscribe.bind(v),P.destroyRef=v.destroyRef,P}function wE(a){if(a===qr)throw new ur(952,!1)}function eO(a){return mM(a)}const e7=(eO.required=function yM(){return mM(qr)},eO);function Xu(a){let f=function pd(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),v=!0;const P=[a];for(;f;){let Y;if(mf(a))Y=f.\u0275cmp||f.\u0275dir;else{if(f.\u0275cmp)throw new ur(903,!1);Y=f.\u0275dir}if(Y){if(v){P.push(Y);const Me=a;Me.inputs=md(a.inputs),Me.inputTransforms=md(a.inputTransforms),Me.declaredInputs=md(a.declaredInputs),Me.outputs=md(a.outputs);const Ue=Y.hostBindings;Ue&&Ul(a,Ue);const Qe=Y.viewQuery,_t=Y.contentQueries;if(Qe&&vu(a,Qe),_t&&oO(a,_t),Dr(a,Y),po(a.outputs,Y.outputs),mf(Y)&&Y.data.animation){const Dt=a.data;Dt.animation=(Dt.animation||[]).concat(Y.data.animation)}}const de=Y.features;if(de)for(let Me=0;Me<de.length;Me++){const Ue=de[Me];Ue&&Ue.ngInherit&&Ue(a),Ue===Xu&&(v=!1)}}f=Object.getPrototypeOf(f)}!function iO(a){let f=0,v=null;for(let P=a.length-1;P>=0;P--){const Y=a[P];Y.hostVars=f+=Y.hostVars,Y.hostAttrs=Sc(Y.hostAttrs,v=Sc(v,Y.hostAttrs))}}(P)}function Dr(a,f){for(const v in f.inputs){if(!f.inputs.hasOwnProperty(v)||a.inputs.hasOwnProperty(v))continue;const P=f.inputs[v];if(void 0!==P&&(a.inputs[v]=P,a.declaredInputs[v]=f.declaredInputs[v],null!==f.inputTransforms)){const Y=Array.isArray(P)?P[0]:P;if(!f.inputTransforms.hasOwnProperty(Y))continue;a.inputTransforms??={},a.inputTransforms[Y]=f.inputTransforms[Y]}}}function md(a){return a===Hn?{}:a===oi?[]:a}function vu(a,f){const v=a.viewQuery;a.viewQuery=v?(P,Y)=>{f(P,Y),v(P,Y)}:f}function oO(a,f){const v=a.contentQueries;a.contentQueries=v?(P,Y,de)=>{f(P,Y,de),v(P,Y,de)}:f}function Ul(a,f){const v=a.hostBindings;a.hostBindings=v?(P,Y)=>{f(P,Y),v(P,Y)}:f}function op(a){const f=v=>{const P=(Array.isArray(a)?a:a()).map(Y=>"function"==typeof Y?{directive:bi(Y),inputs:Hn,outputs:Hn}:{directive:bi(Y.directive),inputs:Yb(Y.inputs),outputs:Yb(Y.outputs)});null===v.hostDirectives?(v.findHostDirectiveDefs=sp,v.hostDirectives=P):v.hostDirectives.unshift(...P)};return f.ngInherit=!0,f}function sp(a,f,v){if(null!==a.hostDirectives)for(const P of a.hostDirectives){const Y=Yo(P.directive);SE(Y.declaredInputs,P.inputs),sp(Y,f,v),v.set(Y,P),f.push(Y)}}function Yb(a){if(void 0===a||0===a.length)return Hn;const f={};for(let v=0;v<a.length;v+=2)f[a[v]]=a[v+1];return f}function SE(a,f){for(const v in f)f.hasOwnProperty(v)&&(a[f[v]]=a[v])}function ME(a){const f=a.inputConfig,v={};for(const P in f)if(f.hasOwnProperty(P)){const Y=f[P];Array.isArray(Y)&&Y[3]&&(v[P]=Y[3])}a.inputTransforms=v}class y0{}class Fi{}function bM(a,f){return new Jb(a,f??null,[])}class Jb extends y0{constructor(f,v,P){super(),this._parent=v,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Y3(this);const Y=bs(f);this._bootstrapComponents=pu(Y.bootstrap),this._r3Injector=Nx(f,v,[{provide:y0,useValue:this},{provide:mu,useValue:this.componentFactoryResolver},...P],So(f),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(f)}get injector(){return this._r3Injector}destroy(){const f=this._r3Injector;!f.destroyed&&f.destroy(),this.destroyCbs.forEach(v=>v()),this.destroyCbs=null}onDestroy(f){this.destroyCbs.push(f)}}class ug extends Fi{constructor(f){super(),this.moduleType=f}create(f){return new Jb(this.moduleType,f,[])}}class xt extends y0{constructor(f){super(),this.componentFactoryResolver=new Y3(this),this.instance=null;const v=new $p([...f.providers,{provide:y0,useValue:this},{provide:mu,useValue:this.componentFactoryResolver}],f.parent||lx(),f.debugName,new Set(["environment"]));this.injector=v,f.runEnvironmentInitializers&&v.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(f){this.injector.onDestroy(f)}}function qb(a,f,v=null){return new xt({providers:a,parent:f,debugName:v,runEnvironmentInitializers:!0}).injector}function xr(a){return!!Yr(a)&&(Array.isArray(a)||!(a instanceof Map)&&Symbol.iterator in a)}function Yr(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Mr(a,f,v){return a[f]=v}function Sr(a,f,v){return!Object.is(a[f],v)&&(a[f]=v,!0)}function fi(a,f,v,P){const Y=Sr(a,f,v);return Sr(a,f+1,P)||Y}function _i(a,f,v,P,Y,de,Me,Ue,Qe,_t){const Dt=v+Lr,Xt=f.firstCreatePass?function Ci(a,f,v,P,Y,de,Me,Ue,Qe){const _t=f.consts,Dt=Ef(f,a,4,Me||null,Ue||null);SS(f,v,Dt,ia(_t,Qe)),Zh(f,Dt);const Xt=Dt.tView=_S(2,Dt,P,Y,de,f.directiveRegistry,f.pipeRegistry,null,f.schemas,_t,null);return null!==f.queries&&(f.queries.template(f,Dt),Xt.queries=f.queries.embeddedTView(Dt)),Dt}(Dt,f,a,P,Y,de,Me,Ue,Qe):f.data[Dt];gf(Xt,!1);const bn=wM(f,a,Xt,v);io()&&X1(f,a,bn,Xt),Ll(bn,a);const xn=u3(bn,a,bn,Xt);return a[Dt]=xn,DS(a,xn),function tM(a,f,v){return eM(a,f,v)}(xn,Xt,a),Qo(Xt)&&hb(f,a,Xt),null!=Qe&&pb(a,Xt,_t),Xt}function Fn(a,f,v,P,Y,de,Me,Ue){const Qe=sr(),_t=to();return _i(Qe,_t,a,f,v,P,Y,ia(_t.consts,de),Me,Ue),Fn}let wM=function _M(a,f,v,P){return wf(!0),f[Li].createComment("")};function no(a,f,v,P){const Y=sr();return Sr(Y,bf(),f)&&(to(),rh(Ks(),Y,a,f,v,P)),no}function zs(a,f,v,P){return Sr(a,bf(),v)?f+Pi(v)+P:zi}function ap(a,f,v,P,Y,de,Me,Ue){const _t=function Ei(a,f,v,P,Y){const de=fi(a,f,v,P);return Sr(a,f+2,Y)||de}(a,vf(),v,Y,Me);return Gh(3),_t?f+Pi(v)+P+Pi(Y)+de+Pi(Me)+Ue:zi}function Kl(a,f){return a<<17|f<<2}function jo(a){return a>>17&32767}function xs(a){return 2|a}function li(a){return(131068&a)>>2}function so(a,f){return-131069&a|f<<2}function Fr(a){return 1|a}function Mf(a,f,v,P){const Y=a[v+1],de=null===f;let Me=P?jo(Y):li(Y),Ue=!1;for(;0!==Me&&(!1===Ue||de);){const _t=a[Me+1];OM(a[Me],f)&&(Ue=!0,a[Me+1]=P?Fr(_t):xs(_t)),Me=P?jo(_t):li(_t)}Ue&&(a[v+1]=P?xs(Y):Fr(Y))}function OM(a,f){return null===a||null==f||(Array.isArray(a)?a[1]:a)===f||!(!Array.isArray(a)||"string"!=typeof f)&&Xn(a,f)>=0}const Wa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function LC(a){return a.substring(Wa.key,Wa.keyEnd)}function um(a,f){const v=Wa.textEnd;return v===f?-1:(f=Wa.keyEnd=function lw(a,f,v){for(;f<v&&a.charCodeAt(f)>32;)f++;return f}(a,Wa.key=f,v),cp(a,f,v))}function cp(a,f,v){for(;f<v&&a.charCodeAt(f)<=32;)f++;return f}function ml(a,f,v){const P=sr();return Sr(P,bf(),f)&&$d(to(),Ks(),P,a,f,P[Li],v,!1),ml}function xg(a,f,v,P,Y){const Me=Y?"class":"style";kS(a,v,f.inputs[Me],Me,P)}function uw(a,f,v){return yl(a,f,v,!1),uw}function lp(a,f){return yl(a,f,null,!0),lp}function Ao(a){$l(FC,zd,a,!0)}function zd(a,f){for(let v=function RE(a){return function Ju(a){Wa.key=0,Wa.keyEnd=0,Wa.value=0,Wa.valueEnd=0,Wa.textEnd=a.length}(a),um(a,cp(a,0,Wa.textEnd))}(f);v>=0;v=um(f,v))tn(a,LC(f),!0)}function yl(a,f,v,P){const Y=sr(),de=to(),Me=Gh(2);de.firstUpdatePass&&BM(de,a,Me,P),f!==zi&&Sr(Y,Me,f)&&NM(de,de.data[Nl()],Y,Y[Li],a,Y[Me+1]=function Dc(a,f){return null==a||""===a||("string"==typeof f?a+=f:"object"==typeof a&&(a=So(np(a)))),a}(f,v),P,Me)}function $l(a,f,v,P){const Y=to(),de=Gh(2);Y.firstUpdatePass&&BM(Y,null,de,P);const Me=sr();if(v!==zi&&Sr(Me,de,v)){const Ue=Y.data[Nl()];if(sa(Ue,P)&&!qu(Y,de)){let Qe=P?Ue.classesWithoutHost:Ue.stylesWithoutHost;null!==Qe&&(v=Rp(Qe,v||"")),xg(Y,Ue,Me,v,P)}else!function pw(a,f,v,P,Y,de,Me,Ue){Y===zi&&(Y=oi);let Qe=0,_t=0,Dt=0<Y.length?Y[0]:null,Xt=0<de.length?de[0]:null;for(;null!==Dt||null!==Xt;){const bn=Qe<Y.length?Y[Qe+1]:void 0,xn=_t<de.length?de[_t+1]:void 0;let ar,Ln=null;Dt===Xt?(Qe+=2,_t+=2,bn!==xn&&(Ln=Xt,ar=xn)):null===Xt||null!==Dt&&Dt<Xt?(Qe+=2,Ln=Dt):(_t+=2,Ln=Xt,ar=xn),null!==Ln&&NM(a,f,v,P,Ln,ar,Me,Ue),Dt=Qe<Y.length?Y[Qe]:null,Xt=_t<de.length?de[_t]:null}}(Y,Ue,Me,Me[Li],Me[de+1],Me[de+1]=function UC(a,f,v){if(null==v||""===v)return oi;const P=[],Y=np(v);if(Array.isArray(Y))for(let de=0;de<Y.length;de++)a(P,Y[de],!0);else if("object"==typeof Y)for(const de in Y)Y.hasOwnProperty(de)&&a(P,de,Y[de]);else"string"==typeof Y&&f(P,Y);return P}(a,f,v),P,de)}}function qu(a,f){return f>=a.expandoStartIndex}function BM(a,f,v,P){const Y=a.data;if(null===Y[v+1]){const de=Y[Nl()],Me=qu(a,v);sa(de,P)&&null===f&&!Me&&(f=!1),f=function dp(a,f,v,P){const Y=Zp(a);let de=P?f.residualClasses:f.residualStyles;if(null===Y)0===(P?f.classBindings:f.styleBindings)&&(v=gl(v=NE(null,a,f,v,P),f.attrs,P),de=null);else{const Me=f.directiveStylingLast;if(-1===Me||a[Me]!==Y)if(v=NE(Y,a,f,v,P),null===de){let Qe=function fw(a,f,v){const P=v?f.classBindings:f.styleBindings;if(0!==li(P))return a[jo(P)]}(a,f,P);void 0!==Qe&&Array.isArray(Qe)&&(Qe=NE(null,a,f,Qe[1],P),Qe=gl(Qe,f.attrs,P),function BE(a,f,v,P){a[jo(v?f.classBindings:f.styleBindings)]=P}(a,f,P,Qe))}else de=function hw(a,f,v){let P;const Y=f.directiveEnd;for(let de=1+f.directiveStylingLast;de<Y;de++)P=gl(P,a[de].hostAttrs,v);return gl(P,f.attrs,v)}(a,f,P)}return void 0!==de&&(P?f.residualClasses=de:f.residualStyles=de),v}(Y,de,f,P),function PM(a,f,v,P,Y,de){let Me=de?f.classBindings:f.styleBindings,Ue=jo(Me),Qe=li(Me);a[P]=v;let Dt,_t=!1;if(Array.isArray(v)?(Dt=v[1],(null===Dt||Xn(v,Dt)>0)&&(_t=!0)):Dt=v,Y)if(0!==Qe){const bn=jo(a[Ue+1]);a[P+1]=Kl(bn,Ue),0!==bn&&(a[bn+1]=so(a[bn+1],P)),a[Ue+1]=function Wi(a,f){return 131071&a|f<<17}(a[Ue+1],P)}else a[P+1]=Kl(Ue,0),0!==Ue&&(a[Ue+1]=so(a[Ue+1],P)),Ue=P;else a[P+1]=Kl(Qe,0),0===Ue?Ue=P:a[Qe+1]=so(a[Qe+1],P),Qe=P;_t&&(a[P+1]=xs(a[P+1])),Mf(a,Dt,P,!0),Mf(a,Dt,P,!1),function RM(a,f,v,P,Y){const de=Y?a.residualClasses:a.residualStyles;null!=de&&"string"==typeof f&&Xn(de,f)>=0&&(v[P+1]=Fr(v[P+1]))}(f,Dt,a,P,de),Me=Kl(Ue,Qe),de?f.classBindings=Me:f.styleBindings=Me}(Y,de,f,v,Me,P)}}function NE(a,f,v,P,Y){let de=null;const Me=v.directiveEnd;let Ue=v.directiveStylingLast;for(-1===Ue?Ue=v.directiveStart:Ue++;Ue<Me&&(de=f[Ue],P=gl(P,de.hostAttrs,Y),de!==a);)Ue++;return null!==a&&(v.directiveStylingLast=Ue),P}function gl(a,f,v){const P=v?1:2;let Y=-1;if(null!==f)for(let de=0;de<f.length;de++){const Me=f[de];"number"==typeof Me?Y=Me:Y===P&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),tn(a,Me,!!v||f[++de]))}return void 0===a?null:a}function FC(a,f,v){const P=String(f);""!==P&&!P.includes(" ")&&tn(a,P,v)}function NM(a,f,v,P,Y,de,Me,Ue){if(!(3&f.type))return;const Qe=a.data,_t=Qe[Ue+1],Dt=function Ha(a){return!(1&~a)}(_t)?Sg(Qe,f,v,Y,li(_t),Me):void 0;mw(Dt)||(mw(de)||function Hs(a){return!(2&~a)}(_t)&&(de=Sg(Qe,null,v,Y,Ue,Me)),function gS(a,f,v,P,Y){if(f)Y?a.addClass(v,P):a.removeClass(v,P);else{let de=-1===P.indexOf("-")?void 0:V1.DashCase;null==Y?a.removeStyle(v,P,de):("string"==typeof Y&&Y.endsWith("!important")&&(Y=Y.slice(0,-10),de|=V1.Important),a.setStyle(v,P,Y,de))}}(P,Me,X_(Nl(),v),Y,de))}function Sg(a,f,v,P,Y,de){const Me=null===f;let Ue;for(;Y>0;){const Qe=a[Y],_t=Array.isArray(Qe),Dt=_t?Qe[1]:Qe,Xt=null===Dt;let bn=v[Y+1];bn===zi&&(bn=Xt?oi:void 0);let xn=Xt?kn(bn,P):Dt===P?bn:void 0;if(_t&&!mw(xn)&&(xn=kn(Qe,P)),mw(xn)&&(Ue=xn,Me))return Ue;const Ln=a[Y+1];Y=Me?jo(Ln):li(Ln)}if(null!==f){let Qe=de?f.residualClasses:f.residualStyles;null!=Qe&&(Ue=kn(Qe,P))}return Ue}function mw(a){return void 0!==a}function sa(a,f){return!!(a.flags&(f?8:16))}function fm(a,f,v){$l(tn,zd,zs(sr(),a,f,v),!0)}class UM{destroy(f){}updateValue(f,v){}swap(f,v){const P=Math.min(f,v),Y=Math.max(f,v),de=this.detach(Y);if(Y-P>1){const Me=this.detach(P);this.attach(P,de),this.attach(Y,Me)}else this.attach(P,de)}move(f,v){this.attach(v,this.detach(f))}}function vw(a,f,v,P,Y){return a===v&&Object.is(f,P)?1:Object.is(Y(a,f),Y(v,P))?-1:0}function Mg(a,f,v,P){return!(void 0===f||!f.has(P)||(a.attach(v,f.get(P)),f.delete(P),0))}function bw(a,f,v,P,Y){if(Mg(a,f,P,v(P,Y)))a.updateValue(P,Y);else{const de=a.create(P,Y);a.attach(P,de)}}function ww(a,f,v,P){const Y=new Set;for(let de=f;de<=v;de++)Y.add(P(de,a.at(de)));return Y}class _w{constructor(){this.kvMap=new Map,this._vMap=void 0}has(f){return this.kvMap.has(f)}delete(f){if(!this.has(f))return!1;const v=this.kvMap.get(f);return void 0!==this._vMap&&this._vMap.has(v)?(this.kvMap.set(f,this._vMap.get(v)),this._vMap.delete(v)):this.kvMap.delete(f),!0}get(f){return this.kvMap.get(f)}set(f,v){if(this.kvMap.has(f)){let P=this.kvMap.get(f);void 0===this._vMap&&(this._vMap=new Map);const Y=this._vMap;for(;Y.has(P);)P=Y.get(P);Y.set(P,v)}else this.kvMap.set(f,v)}forEach(f){for(let[v,P]of this.kvMap)if(f(P,v),void 0!==this._vMap){const Y=this._vMap;for(;Y.has(P);)P=Y.get(P),f(P,v)}}}function zl(a,f){fd("NgControlFlow");const v=sr(),P=bf(),Y=v[P]!==zi?v[P]:-1,de=-1!==Y?Ga(v,Lr+Y):void 0;if(Sr(v,P,a)){const Ue=L(null);try{if(void 0!==de&&PS(de,0),-1!==a){const Qe=Lr+a,_t=Ga(v,Qe),Dt=KE(v[Tr],Qe),Xt=h0(_t,Dt.tView.ssrId);rg(_t,ng(v,Dt,f,{dehydratedView:Xt}),0,va(Dt,Xt))}}finally{L(Ue)}}else if(void 0!==de){const Ue=m3(de,0);void 0!==Ue&&(Ue[Uo]=f)}}class Ew{constructor(f,v,P){this.lContainer=f,this.$implicit=v,this.$index=P}get $count(){return this.lContainer.length-ya}}function fc(a){return a}function A0(a,f){return f}class xw{constructor(f,v,P){this.hasEmptyBlock=f,this.trackByFn=v,this.liveCollection=P}}function Sw(a,f,v,P,Y,de,Me,Ue,Qe,_t,Dt,Xt,bn){fd("NgControlFlow");const xn=sr(),Ln=to(),ar=void 0!==Qe,Vn=sr(),Ir=Ue?Me.bind(Vn[pa][Uo]):Me,nr=new xw(ar,Ir);Vn[Lr+a]=nr,_i(xn,Ln,a+1,f,v,P,Y,ia(Ln.consts,de)),ar&&_i(xn,Ln,a+2,Qe,_t,Dt,Xt,ia(Ln.consts,bn))}class T0 extends UM{constructor(f,v,P){super(),this.lContainer=f,this.hostLView=v,this.templateTNode=P,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ya}at(f){return this.getLView(f)[Uo].$implicit}attach(f,v){const P=v[Ld];this.needsIndexUpdate||=f!==this.length,rg(this.lContainer,v,f,va(this.templateTNode,P))}detach(f){return this.needsIndexUpdate||=f!==this.length-1,function Mw(a,f){return qy(a,f)}(this.lContainer,f)}create(f,v){const P=h0(this.lContainer,this.templateTNode.tView.ssrId),Y=ng(this.hostLView,this.templateTNode,new Ew(this.lContainer,v,f),{dehydratedView:P});return this.operationsCounter?.recordCreate(),Y}destroy(f){G1(f[Tr],f),this.operationsCounter?.recordDestroy()}updateValue(f,v){this.getLView(f)[Uo].$implicit=v}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let f=0;f<this.length;f++)this.getLView(f)[Uo].$index=f}getLView(f){return function KC(a,f){return m3(a,f)}(this.lContainer,f)}}function I0(a){const f=L(null),v=Nl();try{const P=sr(),Y=P[Tr],de=P[v],Me=v+1,Ue=Ga(P,Me);if(void 0===de.liveCollection){const _t=KE(Y,Me);de.liveCollection=new T0(Ue,P,_t)}else de.liveCollection.reset();const Qe=de.liveCollection;if(function FM(a,f,v){let P,Y,de=0,Me=a.length-1;if(Array.isArray(f)){let Qe=f.length-1;for(;de<=Me&&de<=Qe;){const _t=a.at(de),Dt=f[de],Xt=vw(de,_t,de,Dt,v);if(0!==Xt){Xt<0&&a.updateValue(de,Dt),de++;continue}const bn=a.at(Me),xn=f[Qe],Ln=vw(Me,bn,Qe,xn,v);if(0!==Ln){Ln<0&&a.updateValue(Me,xn),Me--,Qe--;continue}const ar=v(de,_t),Vn=v(Me,bn),Ir=v(de,Dt);if(Object.is(Ir,Vn)){const nr=v(Qe,xn);Object.is(nr,ar)?(a.swap(de,Me),a.updateValue(Me,xn),Qe--,Me--):a.move(Me,de),a.updateValue(de,Dt),de++}else if(P??=new _w,Y??=ww(a,de,Me,v),Mg(a,P,de,Ir))a.updateValue(de,Dt),de++,Me++;else if(Y.has(Ir))P.set(ar,a.detach(de)),Me--;else{const nr=a.create(de,f[de]);a.attach(de,nr),de++,Me++}}for(;de<=Qe;)bw(a,P,v,de,f[de]),de++}else if(null!=f){const Qe=f[Symbol.iterator]();let _t=Qe.next();for(;!_t.done&&de<=Me;){const Dt=a.at(de),Xt=_t.value,bn=vw(de,Dt,de,Xt,v);if(0!==bn)bn<0&&a.updateValue(de,Xt),de++,_t=Qe.next();else{P??=new _w,Y??=ww(a,de,Me,v);const xn=v(de,Xt);if(Mg(a,P,de,xn))a.updateValue(de,Xt),de++,Me++,_t=Qe.next();else if(Y.has(xn)){const Ln=v(de,Dt);P.set(Ln,a.detach(de)),Me--}else a.attach(de,a.create(de,Xt)),de++,Me++,_t=Qe.next()}}for(;!_t.done;)bw(a,P,v,a.length,_t.value),_t=Qe.next()}for(;de<=Me;)a.destroy(a.detach(Me--));P?.forEach(Qe=>{a.destroy(Qe)})}(Qe,a,de.trackByFn),Qe.updateIndexes(),de.hasEmptyBlock){const _t=bf(),Dt=0===Qe.length;if(Sr(P,_t,Dt)){const Xt=v+2,bn=Ga(P,Xt);if(Dt){const xn=KE(Y,Xt),Ln=h0(bn,xn.tView.ssrId);rg(bn,ng(P,xn,void 0,{dehydratedView:Ln}),0,va(xn,Ln))}else PS(bn,0)}}}finally{L(f)}}function Ga(a,f){return a[f]}function KE(a,f){return Y_(a,f)}function Tg(a,f,v,P){const Y=sr(),de=to(),Me=Lr+a,Ue=Y[Li],Qe=de.firstCreatePass?function Ag(a,f,v,P,Y,de){const Me=f.consts,Qe=Ef(f,a,2,P,ia(Me,Y));return SS(f,v,Qe,ia(Me,de)),null!==Qe.attrs&&fE(Qe,Qe.attrs,!1),null!==Qe.mergedAttrs&&fE(Qe,Qe.mergedAttrs,!0),null!==f.queries&&f.queries.elementStart(f,Qe),Qe}(Me,de,Y,f,v,P):de.data[Me],_t=vd(de,Y,Qe,Ue,f,a);Y[Me]=_t;const Dt=Qo(Qe);return gf(Qe,!0),Q1(Ue,_t,Qe),!function yi(a){return!(32&~a.flags)}(Qe)&&io()&&X1(de,Y,_t,Qe),0===function q8(){return Ui.lFrame.elementDepthCount}()&&Ll(_t,Y),function Q8(){Ui.lFrame.elementDepthCount++}(),Dt&&(hb(de,Y,Qe),bS(de,Qe,Y)),null!==P&&pb(Y,Qe),Tg}function Hd(){let a=is();bx()?CI():(a=a.parent,gf(a,!1));const f=a;(function oc(a){return Ui.skipHydrationRootTNode===a})(f)&&function Rl(){Ui.skipHydrationRootTNode=null}(),function TI(){Ui.lFrame.elementDepthCount--}();const v=to();return v.firstCreatePass&&(Zh(v,a),gI(a)&&v.queries.elementEnd(a)),null!=f.classesWithoutHost&&function ak(a){return!!(8&a.flags)}(f)&&xg(v,f,sr(),f.classesWithoutHost,!0),null!=f.stylesWithoutHost&&function ck(a){return!!(16&a.flags)}(f)&&xg(v,f,sr(),f.stylesWithoutHost,!1),Hd}function Aw(a,f,v,P){return Tg(a,f,v,P),Hd(),Aw}let vd=(a,f,v,P,Y,de)=>(wf(!0),H1(P,Y,function NI(){return Ui.lFrame.currentNamespace}()));function hh(a,f,v){const P=sr(),Y=to(),de=a+Lr,Me=Y.firstCreatePass?function $E(a,f,v,P,Y){const de=f.consts,Me=ia(de,P),Ue=Ef(f,a,8,"ng-container",Me);return null!==Me&&fE(Ue,Me,!0),SS(f,v,Ue,ia(de,Y)),null!==f.queries&&f.queries.elementStart(f,Ue),Ue}(de,Y,P,f,v):Y.data[de];gf(Me,!0);const Ue=jM(Y,P,Me,a);return P[de]=Ue,io()&&X1(Y,P,Ue,Me),Ll(Ue,P),Qo(Me)&&(hb(Y,P,Me),bS(Y,Me,P)),null!=v&&pb(P,Me),hh}function ts(){let a=is();const f=to();return bx()?CI():(a=a.parent,gf(a,!1)),f.firstCreatePass&&(Zh(f,a),gI(a)&&f.queries.elementEnd(a)),ts}function Ig(a,f,v){return hh(a,f,v),ts(),Ig}let jM=(a,f,v,P)=>(wf(!0),hS(f[Li],""));function $M(){return sr()}function VE(a,f,v){const P=sr();return Sr(P,bf(),f)&&$d(to(),Ks(),P,a,f,P[Li],v,!0),VE}function zE(a,f,v){const P=sr();if(Sr(P,bf(),f)){const de=to(),Me=Ks();$d(de,Me,P,a,f,h3(Zp(de.data),Me,P),v,!0)}return zE}const mm=void 0;var ym=["en",[["a","p"],["AM","PM"],mm],[["AM","PM"],mm,mm],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mm,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mm,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mm,"{1} 'at' {0}",mm],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dg(a){const v=Math.floor(Math.abs(a)),P=a.toString().replace(/^[^.]*\.?/,"").length;return 1===v&&0===P?1:5}];let gm={};function Cg(a){const f=function zC(a){return a.toLowerCase().replace(/_/g,"-")}(a);let v=VM(f);if(v)return v;const P=f.split("-")[0];if(v=VM(P),v)return v;if("en"===P)return ym;throw new ur(701,!1)}function up(a){return Cg(a)[D0.PluralCase]}function VM(a){return a in gm||(gm[a]=gs.ng&&gs.ng.common&&gs.ng.common.locales&&gs.ng.common.locales[a]),gm[a]}var D0=function(a){return a[a.LocaleId=0]="LocaleId",a[a.DayPeriodsFormat=1]="DayPeriodsFormat",a[a.DayPeriodsStandalone=2]="DayPeriodsStandalone",a[a.DaysFormat=3]="DaysFormat",a[a.DaysStandalone=4]="DaysStandalone",a[a.MonthsFormat=5]="MonthsFormat",a[a.MonthsStandalone=6]="MonthsStandalone",a[a.Eras=7]="Eras",a[a.FirstDayOfWeek=8]="FirstDayOfWeek",a[a.WeekendRange=9]="WeekendRange",a[a.DateFormat=10]="DateFormat",a[a.TimeFormat=11]="TimeFormat",a[a.DateTimeFormat=12]="DateTimeFormat",a[a.NumberSymbols=13]="NumberSymbols",a[a.NumberFormats=14]="NumberFormats",a[a.CurrencyCode=15]="CurrencyCode",a[a.CurrencySymbol=16]="CurrencySymbol",a[a.CurrencyName=17]="CurrencyName",a[a.Currencies=18]="Currencies",a[a.Directionality=19]="Directionality",a[a.PluralCase=20]="PluralCase",a[a.ExtraData=21]="ExtraData",a}(D0||{});const wu="en-US",kg={marker:"element"},C0={marker:"ICU"};var bd=function(a){return a[a.SHIFT=2]="SHIFT",a[a.APPEND_EAGERLY=1]="APPEND_EAGERLY",a[a.COMMENT=2]="COMMENT",a}(bd||{});let Af=wu;let Rg=(a,f,v,P)=>(wf(!0),function Eu(a,f,v){const P=a[Li];switch(v){case Node.COMMENT_NODE:return hS(P,f);case Node.TEXT_NODE:return z1(P,f);case Node.ELEMENT_NODE:return H1(P,f,null)}}(a,v,P));const Iw=/\ufffd(\d+):?\d*\ufffd/gi,YM=/\ufffd(\d+)\ufffd/,JM=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,mh="\ufffd",XC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,YC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,JC=/\uE500/g;function bm(a,f,v,P,Y,de,Me){const Ue=fb(a,P,1,null);let Qe=Ue<<bd.SHIFT,_t=Hv();f===_t&&(_t=null),null===_t&&(Qe|=bd.APPEND_EAGERLY),Me&&(Qe|=bd.COMMENT,function nm(a){void 0===fS&&(fS=a())}(bR)),Y.push(Qe,null===de?"":de);const Dt=vS(a,Ue,Me?32:1,null===de?"":de,null);A3(v,Dt);const Xt=Dt.index;return gf(Dt,!1),null!==_t&&f!==_t&&function gR(a,f){let v=a.insertBeforeIndex;null===v?(e3(S3,M3),v=a.insertBeforeIndex=[null,f]):(sl(Array.isArray(v),!0,"Expecting array here"),v.push(f))}(_t,Xt),Dt}function e6(a,f,v,P,Y,de,Me,Ue){const Qe=Ue.match(Iw),Dt=bm(f,v,P,Me,Y,Qe?null:Ue,!1).index;Qe&&P0(de,Ue,Dt,null,0,null),a.push({kind:0,index:Dt})}function P0(a,f,v,P,Y,de){const Me=a.length,Ue=Me+1;a.push(null,null);const Qe=Me+2,_t=f.split(Iw);let Dt=0;for(let Xt=0;Xt<_t.length;Xt++){const bn=_t[Xt];if(1&Xt){const xn=Y+parseInt(bn,10);a.push(-1-xn),Dt|=Wd(xn)}else""!==bn&&a.push(bn)}return a.push(v<<2|(P?1:0)),P&&a.push(P,de),a[Me]=Dt,a[Ue]=a.length-Qe,Dt}function Wd(a){return 1<<Math.min(a,31)}function QM(a){let f,de,v="",P=0,Y=!1;for(;null!==(f=XC.exec(a));)Y?f[0]===`${mh}/*${de}${mh}`&&(P=f.index,Y=!1):(v+=a.substring(P,f.index+f[0].length),de=f[1],Y=!0);return v+=a.slice(P),v}function eA(a,f,v,P,Y,de,Me){let Ue=0;const Qe={type:de.type,currentCaseLViewIndex:fb(f,v,1,null),anchorIdx:Me,cases:[],create:[],remove:[],update:[]};(function nA(a,f,v){a.push(Wd(f.mainBinding),2,-1-f.mainBinding,v<<2|2)})(P,de,Me),function yR(a,f,v){const P=a.data[f];null===P?a.data[f]=v:P.value=v}(f,Me,Qe);const _t=de.values,Dt=[];for(let Xt=0;Xt<_t.length;Xt++){const bn=_t[Xt],xn=[];for(let ar=0;ar<bn.length;ar++){const Vn=bn[ar];if("string"!=typeof Vn){const Ir=xn.push(Vn)-1;bn[ar]=`\x3c!--\ufffd${Ir}\ufffd--\x3e`}}const Ln=[];Dt.push(Ln),Ue=i6(Ln,f,Qe,v,P,Y,de.cases[Xt],bn.join(""),xn)|Ue}Ue&&function YE(a,f,v){a.push(f,1,v<<2|3)}(P,Ue,Me),a.push({kind:3,index:Me,cases:Dt,currentCaseLViewIndex:Qe.currentCaseLViewIndex})}function r6(a){const f=[],v=[];let P=1,Y=0;const de=XE(a=a.replace(JM,function(Me,Ue,Qe){return P="select"===Qe?0:1,Y=parseInt(Ue.slice(1),10),""}));for(let Me=0;Me<de.length;){let Ue=de[Me++].trim();1===P&&(Ue=Ue.replace(/\s*(?:=)?(\w+)\s*/,"$1")),Ue.length&&f.push(Ue);const Qe=XE(de[Me++]);f.length>v.length&&v.push(Qe)}return{type:P,mainBinding:Y,cases:f,values:v}}function XE(a){if(!a)return[];let f=0;const v=[],P=[],Y=/[{}]/g;let de;for(Y.lastIndex=0;de=Y.exec(a);){const Ue=de.index;if("}"==de[0]){if(v.pop(),0==v.length){const Qe=a.substring(f,Ue);JM.test(Qe)?P.push(r6(Qe)):P.push(Qe),f=Ue+1}}else{if(0==v.length){const Qe=a.substring(f,Ue);P.push(Qe),f=Ue+1}v.push("{")}}const Me=a.substring(f);return P.push(Me),P}function i6(a,f,v,P,Y,de,Me,Ue,Qe){const _t=[],Dt=[],Xt=[];v.cases.push(Me),v.create.push(_t),v.remove.push(Dt),v.update.push(Xt);const xn=iS(qp()).getInertBodyElement(Ue),Ln=aS(xn)||xn;return Ln?wd(a,f,v,P,Y,_t,Dt,Xt,Ln,de,Qe,0):0}function wd(a,f,v,P,Y,de,Me,Ue,Qe,_t,Dt,Xt){let bn=0,xn=Qe.firstChild;for(;xn;){const Ln=fb(f,P,1,null);switch(xn.nodeType){case Node.ELEMENT_NODE:const ar=xn,Vn=ar.tagName.toLowerCase();if(CD.hasOwnProperty(Vn)){pc(de,kg,Vn,_t,Ln),f.data[Ln]=Vn;const $o=ar.attributes;for(let xa=0;xa<$o.length;xa++){const Yd=$o.item(xa),o_=Yd.name.toLowerCase();Yd.value.match(Iw)?kD.hasOwnProperty(o_)&&P0(Ue,Yd.value,Ln,Yd.name,0,sS[o_]?oS:null):o6(de,Ln,Yd)}const Ps={kind:1,index:Ln,children:[]};a.push(Ps),bn=wd(Ps.children,f,v,P,Y,de,Me,Ue,xn,Ln,Dt,Xt+1)|bn,Dw(Me,Ln,Xt)}break;case Node.TEXT_NODE:const Ir=xn.textContent||"",nr=Ir.match(Iw);pc(de,null,nr?"":Ir,_t,Ln),Dw(Me,Ln,Xt),nr&&(bn=P0(Ue,Ir,Ln,null,0,null)|bn),a.push({kind:0,index:Ln});break;case Node.COMMENT_NODE:const Ti=YM.exec(xn.textContent||"");if(Ti){const Ps=Dt[parseInt(Ti[1],10)];pc(de,C0,"",_t,Ln),eA(a,f,P,Y,_t,Ps,Ln),tA(Me,Ln,Xt)}}xn=xn.nextSibling}return bn}function Dw(a,f,v){0===v&&a.push(f)}function tA(a,f,v){0===v&&(a.push(~f),a.push(f))}function pc(a,f,v,P,Y){null!==f&&a.push(f),a.push(v,Y,function vR(a,f,v){return a|f<<17|v<<1}(0,P,Y))}function o6(a,f,v){a.push(f<<1|1,v.name,v.value)}function pp(a,f,v=-1){const P=to(),Y=sr(),de=Lr+a,Me=ia(P.consts,f),Ue=Hv();P.firstCreatePass&&function QC(a,f,v,P,Y,de){const Me=Hv(),Ue=[],Qe=[],_t=[[]],Dt=[[]];Y=function n6(a,f){if(function I3(a){return-1===a}(f))return QM(a);{const v=a.indexOf(`:${f}${mh}`)+2+f.toString().length,P=a.search(new RegExp(`${mh}\\/\\*\\d+:${f}${mh}`));return QM(a.substring(v,P))}}(Y,de);const Xt=function qC(a){return a.replace(JC," ")}(Y).split(YC);for(let bn=0;bn<Xt.length;bn++){let xn=Xt[bn];if(1&bn){const Ln=47===xn.charCodeAt(0),ar=xn.charCodeAt(Ln?1:0),Vn=Lr+Number.parseInt(xn.substring(Ln?2:1));if(Ln)_t.shift(),Dt.shift(),gf(Hv(),!1);else{const Ir=aE(a,_t[0],Vn);_t.unshift([]),gf(Ir,!0);const nr={kind:2,index:Vn,children:[],type:35===ar?0:1};Dt[0].push(nr),Dt.unshift(nr.children)}}else{const Ln=XE(xn);for(let ar=0;ar<Ln.length;ar++){let Vn=Ln[ar];if(1&ar){const Ir=Vn;if("object"!=typeof Ir)throw new Error(`Unable to parse ICU expression in "${Y}" message.`);const Ti=bm(a,Me,_t[0],v,Ue,"",!0).index;eA(Dt[0],a,v,Qe,f,Ir,Ti)}else""!==Vn&&e6(Dt[0],a,Me,_t[0],Ue,Qe,v,Vn)}}}a.data[P]={create:Ue,update:Qe,ast:Dt[0]}}(P,null===Ue?0:Ue.index,Y,de,Me,v),2===P.type?Y[pa][ti]|=32:Y[ti]|=32;const Qe=P.data[de],Dt=Qy(P,Ue===Y[ul]?null:Ue,Y),Xt=Ue&&8&Ue.type?Y[Ue.index]:null;(function K9(a,f,v,P){O3(a,f,v,P)})(Y,de,Ue,v),function GC(a,f,v,P){const Y=a[Li];for(let de=0;de<f.length;de++){const Me=f[de++],_t=(Me&bd.APPEND_EAGERLY)===bd.APPEND_EAGERLY,Dt=Me>>>bd.SHIFT;let Xt=a[Dt],bn=!1;null===Xt&&(Xt=a[Dt]=Rg(a,Dt,f[de],(Me&bd.COMMENT)===bd.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),bn=io()),_t&&null!==v&&bn&&Ia(Y,v,Xt,P,!1)}}(Y,Qe.create,Dt,Xt),PI(!0)}function qi(a,f,v){pp(a,f,v),function _m(){PI(!1)}()}let Tf=(a,f,v)=>{};function qE(a,f,v,P){const Y=sr(),de=to(),Me=is();return e2(de,Y,Y[Li],Me,a,f,P),qE}function QE(a,f){const v=is(),P=sr(),Y=to();return e2(Y,P,h3(Zp(Y.data),v,P),v,a,f),QE}function e2(a,f,v,P,Y,de,Me){const Ue=Qo(P),_t=a.firstCreatePass&&f3(a),Dt=f[Uo],Xt=HP(f);let bn=!0;if(3&P.type||Me){const ar=Ud(P,f),Vn=Me?Me(ar):ar,Ir=Xt.length,nr=Me?$o=>Me(Go($o[P.index])):P.index;let Ti=null;if(!Me&&Ue&&(Ti=function s6(a,f,v,P){const Y=a.cleanup;if(null!=Y)for(let de=0;de<Y.length-1;de+=2){const Me=Y[de];if(Me===v&&Y[de+1]===P){const Ue=f[$v],Qe=Y[de+2];return Ue.length>Qe?Ue[Qe]:null}"string"==typeof Me&&(de+=2)}return null}(a,f,Y,P.index)),null!==Ti)(Ti.__ngLastListenerFn__||Ti).__ngNextListenerFn__=de,Ti.__ngLastListenerFn__=de,bn=!1;else{de=aA(P,f,Dt,de),Tf(ar,Y,de);const $o=v.listen(Vn,Y,de);Xt.push(de,$o),_t&&_t.push(Y,nr,Ir,Ir+1)}}else de=aA(P,f,Dt,de);const xn=P.outputs;let Ln;if(bn&&null!==xn&&(Ln=xn[Y])){const ar=Ln.length;if(ar)for(let Vn=0;Vn<ar;Vn+=2){const Ps=f[Ln[Vn]][Ln[Vn+1]].subscribe(de),xa=Xt.length;Xt.push(de,Ps),_t&&_t.push(Y,P.index,xa,-(xa+1))}}}function sA(a,f,v,P){const Y=L(null);try{return Wh(6,f,v),!1!==v(P)}catch(de){return tE(a,de),!1}finally{Wh(7,f,v),L(Y)}}function aA(a,f,v,P){return function Y(de){if(de===Function)return P;Eb(a.componentOffset>-1?ws(a.index,f):f,5);let Ue=sA(f,v,P,de),Qe=Y.__ngNextListenerFn__;for(;Qe;)Ue=sA(f,v,Qe,de)&&Ue,Qe=Qe.__ngNextListenerFn__;return Ue}}function cA(a=1){return function i9(a){return(Ui.lFrame.contextLView=function Wp(a,f){for(;a>0;)f=f[Gs],a--;return f}(a,Ui.lFrame.contextLView))[Uo]}(a)}function Lg(a,f){let v=null;const P=function oI(a){const f=a.attrs;if(null!=f){const v=f.indexOf(5);if(!(1&v))return f[v+1]}return null}(a);for(let Y=0;Y<f.length;Y++){const de=f[Y];if("*"!==de){if(null===P?ix(a,de,!0):Ve(P,de))return Y}else v=Y}return v}function O0(a){const f=sr()[pa][ul];if(!f.projection){const P=f.projection=function Ye(a,f){const v=[];for(let P=0;P<a;P++)v.push(f);return v}(a?a.length:1,null),Y=P.slice();let de=f.child;for(;null!==de;){if(128!==de.type){const Me=a?Lg(de,a):0;null!==Me&&(Y[Me]?Y[Me].projectionNext=de:P[Me]=de,Y[Me]=de)}de=de.next}}}function xu(a,f=0,v,P,Y,de){const Me=sr(),Ue=to(),Qe=P?a+1:null;null!==Qe&&_i(Me,Ue,Qe,P,Y,de,null,v);const _t=Ef(Ue,Lr+a,16,null,v||null);null===_t.projection&&(_t.projection=f),CI();const Xt=!Me[Ld]||Ji();null===Me[pa][ul].projection[_t.projection]&&null!==Qe?function a6(a,f,v){const P=Lr+v,Y=f.data[P],de=a[P],Me=h0(de,Y.tView.ssrId);rg(de,ng(a,Y,void 0,{dehydratedView:Me}),0,va(Y,Me))}(Me,Ue,Qe):Xt&&32&~_t.flags&&function q1(a,f,v){n3(f[Li],0,f,v,XD(a,v,f),JD(v.parent||f[ul],v,f))}(Ue,Me,_t)}function kw(a,f,v){return B0(a,"",f,"",v),kw}function B0(a,f,v,P,Y){const de=sr(),Me=zs(de,f,v,P);return Me!==zi&&$d(to(),Ks(),de,a,Me,de[Li],Y,!1),B0}function Ug(a,f,v,P){oC(a,f,v,P)}function d6(a,f,v){iC(a,f,v)}function u6(a){const f=sr(),v=to(),P=wx();e1(P+1);const Y=yE(v,P);if(a.dirty&&function X8(a){return!(4&~a[ti])}(f)===!(2&~Y.metadata.flags)){if(null===Y.matches)a.reset([]);else{const de=cC(f,P);a.reset(de,Ck),a.notifyOnChanges()}return!0}return!1}function f6(){return cM(sr(),wx())}function h6(a,f,v,P,Y){dC(f,oC(a,v,P,Y))}function p6(a,f,v,P){dC(a,iC(f,v,P))}function m6(a=1){e1(wx()+a)}function Pw(a,f,v,P){v>=a.data.length&&(a.data[v]=null,a.blueprint[v]=null),f[v]=P}function n2(a){return du(function $u(){return Ui.lFrame.contextLView}(),Lr+a)}function Cs(a,f=""){const v=sr(),P=to(),Y=a+Lr,de=P.firstCreatePass?Ef(P,Y,1,f,null):P.data[Y],Me=s2(P,v,de,f,a);v[Y]=Me,io()&&X1(P,v,Me,de),gf(de,!1)}let s2=(a,f,v,P,Y)=>(wf(!0),z1(f[Li],P));function fs(a){return Rw("",a,""),fs}function Rw(a,f,v){const P=sr(),Y=zs(P,a,f,v);return Y!==zi&&ip(P,Nl(),Y),Rw}function Ow(a,f,v,P,Y){const de=sr(),Me=function ds(a,f,v,P,Y,de){const Ue=fi(a,vf(),v,Y);return Gh(2),Ue?f+Pi(v)+P+Pi(Y)+de:zi}(de,a,f,v,P,Y);return Me!==zi&&ip(de,Nl(),Me),Ow}function Sm(a,f,v,P,Y,de,Me){const Ue=sr(),Qe=ap(Ue,a,f,v,P,Y,de,Me);return Qe!==zi&&ip(Ue,Nl(),Qe),Sm}function hA(a,f,v){gE(f)&&(f=f());const P=sr();return Sr(P,bf(),f)&&$d(to(),Ks(),P,a,f,P[Li],v,!1),hA}function S6(a,f){const v=gE(a);return v&&a.set(f),v}function pA(a,f){const v=sr(),P=to(),Y=is();return e2(P,v,v[Li],Y,a,f),pA}const M6={};function c2(a){const f=to(),v=sr(),P=a+Lr;return gf(Ef(f,P,128,null,null),!1),Pw(f,v,P,M6),c2}function yA(a,f,v,P,Y){if(a=bi(a),Array.isArray(a))for(let de=0;de<a.length;de++)yA(a[de],f,v,P,Y);else{const de=to(),Me=sr(),Ue=is();let Qe=Ty(a)?a:bi(a.provide);const _t=Fu(a),Dt=1048575&Ue.providerIndexes,Xt=Ue.directiveStart,bn=Ue.providerIndexes>>20;if(Ty(a)||!a.multi){const xn=new Gv(_t,Y,om),Ln=vA(Qe,f,Y?Dt:Dt+bn,Xt);-1===Ln?(Jp(s1(Ue,Me),de,Qe),gA(de,a,f.length),f.push(Qe),Ue.directiveStart++,Ue.directiveEnd++,Y&&(Ue.providerIndexes+=1048576),v.push(xn),Me.push(xn)):(v[Ln]=xn,Me[Ln]=xn)}else{const xn=vA(Qe,f,Dt+bn,Xt),Ln=vA(Qe,f,Dt,Dt+bn),Vn=Ln>=0&&v[Ln];if(Y&&!Vn||!Y&&!(xn>=0&&v[xn])){Jp(s1(Ue,Me),de,Qe);const Ir=function MO(a,f,v,P,Y){const de=new Gv(a,v,om);return de.multi=[],de.index=f,de.componentProviders=0,A6(de,Y,P&&!v),de}(Y?SO:xO,v.length,Y,P,_t);!Y&&Vn&&(v[Ln].providerFactory=Ir),gA(de,a,f.length,0),f.push(Qe),Ue.directiveStart++,Ue.directiveEnd++,Y&&(Ue.providerIndexes+=1048576),v.push(Ir),Me.push(Ir)}else gA(de,a,xn>-1?xn:Ln,A6(v[Y?Ln:xn],_t,!Y&&P));!Y&&P&&Vn&&v[Ln].componentProviders++}}}function gA(a,f,v,P){const Y=Ty(f),de=function Kp(a){return!!a.useClass}(f);if(Y||de){const Qe=(de?bi(f.useClass):f).prototype.ngOnDestroy;if(Qe){const _t=a.destroyHooks||(a.destroyHooks=[]);if(!Y&&f.multi){const Dt=_t.indexOf(v);-1===Dt?_t.push(v,[P,Qe]):_t[Dt+1].push(P,Qe)}else _t.push(v,Qe)}}}function A6(a,f,v){return v&&a.componentProviders++,a.multi.push(f)-1}function vA(a,f,v,P){for(let Y=v;Y<P;Y++)if(f[Y]===a)return Y;return-1}function xO(a,f,v,P){return l2(this.multi,[])}function SO(a,f,v,P){const Y=this.multi;let de;if(this.providerFactory){const Me=this.providerFactory.componentProviders,Ue=zu(v,v[Tr],this.providerFactory.index,P);de=Ue.slice(0,Me),l2(Y,de);for(let Qe=Me;Qe<Ue.length;Qe++)de.push(Ue[Qe])}else de=[],l2(Y,de);return de}function l2(a,f){for(let v=0;v<a.length;v++)f.push((0,a[v])());return f}function T6(a,f=[]){return v=>{v.providersResolver=(P,Y)=>function EO(a,f,v){const P=to();if(P.firstCreatePass){const Y=mf(a);yA(v,P.data,P.blueprint,Y,!0),yA(f,P.data,P.blueprint,Y,!1)}}(P,Y?Y(a):a,f)}}let AO=(()=>{class a{constructor(v){this._injector=v,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(v){if(!v.standalone)return null;if(!this.cachedInjectors.has(v)){const P=ox(0,v.type),Y=P.length>0?qb([P],this._injector,`Standalone[${v.type.name}]`):null;this.cachedInjectors.set(v,Y)}return this.cachedInjectors.get(v)}ngOnDestroy(){try{for(const v of this.cachedInjectors.values())null!==v&&v.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Eo({token:a,providedIn:"environment",factory:()=>new a(Ri(lu))})}return a})();function Kg(a){fd("NgStandalone"),a.getStandaloneInjector=f=>f.get(AO).getOrCreateStandaloneInjector(a)}function _A(a,f,v){const P=sc()+a,Y=sr();return Y[P]===zi?Mr(Y,P,v?f.call(v):f()):function Rr(a,f){return a[f]}(Y,P)}function I6(a,f,v,P){return j0(sr(),sc(),a,f,v,P)}function EA(a,f,v,P,Y){return function kO(a,f,v,P,Y,de,Me){const Ue=f+v;return fi(a,Ue,Y,de)?Mr(a,Ue+2,Me?P.call(Me,Y,de):P(Y,de)):Ro(a,Ue+2)}(sr(),sc(),a,f,v,P,Y)}function Ro(a,f){const v=a[f];return v===zi?void 0:v}function j0(a,f,v,P,Y,de){const Me=f+v;return Sr(a,Me,Y)?Mr(a,Me+1,de?P.call(de,Y):P(Y)):Ro(a,Me+1)}function _a(a,f){const v=to();let P;const Y=a+Lr;v.firstCreatePass?(P=function PO(a,f){if(f)for(let v=f.length-1;v>=0;v--){const P=f[v];if(a===P.name)return P}}(f,v.pipeRegistry),v.data[Y]=P,P.onDestroy&&(v.destroyHooks??=[]).push(Y,P.onDestroy)):P=v.data[Y];const de=P.factory||(P.factory=Gf(P.type)),Ue=_c(om);try{const Qe=o1(!1),_t=de();return o1(Qe),Pw(v,sr(),Y,_t),_t}finally{_c(Ue)}}function If(a,f,v){const P=a+Lr,Y=sr(),de=du(Y,P);return function K0(a,f){return a[Tr].data[f].pure}(Y,P)?j0(Y,sc(),f,de.transform,v,de):de.transform(v)}function Vg(a,f){return rE(a,f)}class wp{constructor(f){this.full=f;const v=f.split(".");this.major=v[0],this.minor=v[1],this.patch=v.slice(2).join(".")}}let $w=(()=>{class a{log(v){console.log(v)}warn(v){console.warn(v)}static#e=this.\u0275fac=function(P){return new(P||a)};static#t=this.\u0275prov=Eo({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();const VA=new wi(""),qg=new wi("");let Qg,z6=(()=>{class a{constructor(v,P,Y){this._ngZone=v,this.registry=P,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Qg||(function a7(a){Qg=a}(Y),Y.addToWindow(P)),this._watchAngularEvents(),v.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let v=this._callbacks.pop();clearTimeout(v.timeoutId),v.doneCb()}});else{let v=this.getPendingTasks();this._callbacks=this._callbacks.filter(P=>!P.updateCb||!P.updateCb(v)||(clearTimeout(P.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(v=>({source:v.source,creationLocation:v.creationLocation,data:v.data})):[]}addCallback(v,P,Y){let de=-1;P&&P>0&&(de=setTimeout(()=>{this._callbacks=this._callbacks.filter(Me=>Me.timeoutId!==de),v()},P)),this._callbacks.push({doneCb:v,timeoutId:de,updateCb:Y})}whenStable(v,P,Y){if(Y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(v,P,Y),this._runCallbacksIfReady()}registerApplication(v){this.registry.registerApplication(v,this)}unregisterApplication(v){this.registry.unregisterApplication(v)}findProviders(v,P,Y){return[]}static#e=this.\u0275fac=function(P){return new(P||a)(Ri(Zs),Ri(zO),Ri(qg))};static#t=this.\u0275prov=Eo({token:a,factory:a.\u0275fac})}return a})(),zO=(()=>{class a{constructor(){this._applications=new Map}registerApplication(v,P){this._applications.set(v,P)}unregisterApplication(v){this._applications.delete(v)}unregisterAllApplications(){this._applications.clear()}getTestability(v){return this._applications.get(v)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(v,P=!0){return Qg?.findTestabilityInTree(this,v,P)??null}static#e=this.\u0275fac=function(P){return new(P||a)};static#t=this.\u0275prov=Eo({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();function H6(a){return!!a&&"function"==typeof a.then}function HO(a){return!!a&&"function"==typeof a.subscribe}const _2=new wi("");let Xw=(()=>{class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,P)=>{this.resolve=v,this.reject=P}),this.appInits=br(_2,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const v=[];for(const Y of this.appInits){const de=Y();if(H6(de))v.push(de);else if(HO(de)){const Me=new Promise((Ue,Qe)=>{de.subscribe({complete:Ue,error:Qe})});v.push(Me)}}const P=()=>{this.done=!0,this.resolve()};Promise.all(v).then(()=>{P()}).catch(Y=>{this.reject(Y)}),0===v.length&&P(),this.initialized=!0}static#e=this.\u0275fac=function(P){return new(P||a)};static#t=this.\u0275prov=Eo({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const Mu=new wi("");let wh=(()=>{class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=br(Tk),this.afterRenderEffectManager=br(Ub),this.zonelessEnabled=br(Lb),this.externalTestViews=new Set,this.beforeRender=new he.B,this.afterTick=new he.B,this.componentTypes=[],this.components=[],this.isStable=br(Zm).hasPendingTasks.pipe((0,ee.T)(v=>!v)),this._injector=br(lu)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(v,P){const Y=v instanceof z3;if(!this._injector.get(Xw).done)throw!Y&&Fc(v),new ur(405,!1);let Me;Me=Y?v:this._injector.get(mu).resolveComponentFactory(v),this.componentTypes.push(Me.componentType);const Ue=function c7(a){return a.isBoundToModule}(Me)?void 0:this._injector.get(y0),_t=Me.create(Ka.NULL,[],P||Me.selector,Ue),Dt=_t.location.nativeElement,Xt=_t.injector.get(VA,null);return Xt?.registerApplication(Dt),_t.onDestroy(()=>{this.detachView(_t.hostView),ev(this.components,_t),Xt?.unregisterApplication(Dt)}),this._loadComponent(_t),_t}tick(){this._tick(!0)}_tick(v){if(this._runningTick)throw new ur(101,!1);const P=L(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(v)}catch(Y){this.internalErrorHandler(Y)}finally{this._runningTick=!1,L(P),this.afterTick.next()}}detectChangesInAttachedViews(v){let P=null;this._injector.destroyed||(P=this._injector.get(cg,null,{optional:!0}));let Y=0;const de=this.afterRenderEffectManager;for(;Y<10;){const Me=0===Y;if(v||!Me){this.beforeRender.next(Me);for(let{_lView:Ue,notifyErrorHandler:Qe}of this._views)X6(Ue,Qe,Me,this.zonelessEnabled)}else P?.begin?.(),P?.end?.();if(Y++,de.executeInternalCallbacks(),!this.allViews.some(({_lView:Ue})=>zv(Ue))&&(de.execute(),!this.allViews.some(({_lView:Ue})=>zv(Ue))))break}}attachView(v){const P=v;this._views.push(P),P.attachToAppRef(this)}detachView(v){const P=v;ev(this._views,P),P.detachFromAppRef()}_loadComponent(v){this.attachView(v.hostView),this.tick(),this.components.push(v);const P=this._injector.get(Mu,[]);[...this._bootstrapListeners,...P].forEach(Y=>Y(v))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(v=>v()),this._views.slice().forEach(v=>v.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(v){return this._destroyListeners.push(v),()=>ev(this._destroyListeners,v)}destroy(){if(this._destroyed)throw new ur(406,!1);const v=this._injector;v.destroy&&!v.destroyed&&v.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(P){return new(P||a)};static#t=this.\u0275prov=Eo({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function ev(a,f){const v=a.indexOf(f);v>-1&&a.splice(v,1)}function X6(a,f,v,P){(v||zv(a))&&nE(a,f,v&&!P?0:1)}class Y6{constructor(f,v){this.ngModuleFactory=f,this.componentFactories=v}}let GO=(()=>{class a{compileModuleSync(v){return new ug(v)}compileModuleAsync(v){return Promise.resolve(this.compileModuleSync(v))}compileModuleAndAllComponentsSync(v){const P=this.compileModuleSync(v),de=pu(bs(v).declarations).reduce((Me,Ue)=>{const Qe=Wr(Ue);return Qe&&Me.push(new cm(Qe)),Me},[]);return new Y6(P,de)}compileModuleAndAllComponentsAsync(v){return Promise.resolve(this.compileModuleAndAllComponentsSync(v))}clearCache(){}clearCacheFor(v){}getModuleId(v){}static#e=this.\u0275fac=function(P){return new(P||a)};static#t=this.\u0275prov=Eo({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),E2=(()=>{class a{constructor(){this.zone=br(Zs),this.changeDetectionScheduler=br(p0),this.applicationRef=br(wh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(P){return new(P||a)};static#t=this.\u0275prov=Eo({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const YO=new wi("",{factory:()=>!1});function x2({ngZoneFactory:a,ignoreChangesOutsideZone:f}){return a??=()=>new Zs(zA()),[{provide:Zs,useFactory:a},{provide:Ii,multi:!0,useFactory:()=>{const v=br(E2,{optional:!0});return()=>v.initialize()}},{provide:Ii,multi:!0,useFactory:()=>{const v=br(qO);return()=>{v.initialize()}}},!0===f?{provide:$3,useValue:!0}:[]]}function JO(a){const f=a?.ignoreChangesOutsideZone,v=x2({ngZoneFactory:()=>{const P=zA(a);return P.shouldCoalesceEventChangeDetection&&fd("NgZone_CoalesceEvent"),new Zs(P)},ignoreChangesOutsideZone:f});return Vm([{provide:YO,useValue:!0},{provide:Lb,useValue:!1},v])}function zA(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}let qO=(()=>{class a{constructor(){this.subscription=new fe.yU,this.initialized=!1,this.zone=br(Zs),this.pendingTasks=br(Zm)}initialize(){if(this.initialized)return;this.initialized=!0;let v=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(v=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Zs.assertNotInAngularZone(),queueMicrotask(()=>{null!==v&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(v),v=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Zs.assertInAngularZone(),v??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(P){return new(P||a)};static#t=this.\u0275prov=Eo({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),Df=(()=>{class a{constructor(){this.appRef=br(wh),this.taskService=br(Zm),this.ngZone=br(Zs),this.zonelessEnabled=br(Lb),this.disableScheduling=br($3,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new fe.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof jy||!this.zoneIsDefined)}notify(v){if(!this.zonelessEnabled&&5===v)return;switch(v){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const P=this.useMicrotaskScheduler?Qh:qh;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=P(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=P(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zs.isInAngularZone())}tick(v){if(this.runningTick||this.appRef.destroyed)return;const P=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(v)},void 0,this.schedulerTickApplyArgs)}catch(Y){throw this.taskService.remove(P),Y}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Qh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(P)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const v=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(v)}}static#e=this.\u0275fac=function(P){return new(P||a)};static#t=this.\u0275prov=Eo({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const Jw=new wi("",{providedIn:"root",factory:()=>br(Jw,Ki.Optional|Ki.SkipSelf)||function QO(){return typeof $localize<"u"&&$localize.locale||wu}()}),WA=new wi("",{providedIn:"root",factory:()=>"USD"}),nv=new wi("");let bl=null;function Za(){return!1}let t4=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=p7}return a})();function p7(a){return function ZA(a,f,v){if(Kr(a)&&!v){const P=ws(a.index,f);return new xb(P,P)}return 175&a.type?new xb(f[pa],f):null}(is(),sr(),!(16&~a))}class t5{constructor(){}supports(f){return xr(f)}create(f){return new s4(f)}}const o4=(a,f)=>f;class s4{constructor(f){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=f||o4}forEachItem(f){let v;for(v=this._itHead;null!==v;v=v._next)f(v)}forEachOperation(f){let v=this._itHead,P=this._removalsHead,Y=0,de=null;for(;v||P;){const Me=!P||v&&v.currentIndex<T2(P,Y,de)?v:P,Ue=T2(Me,Y,de),Qe=Me.currentIndex;if(Me===P)Y--,P=P._nextRemoved;else if(v=v._next,null==Me.previousIndex)Y++;else{de||(de=[]);const _t=Ue-Y,Dt=Qe-Y;if(_t!=Dt){for(let bn=0;bn<_t;bn++){const xn=bn<de.length?de[bn]:de[bn]=0,Ln=xn+bn;Dt<=Ln&&Ln<_t&&(de[bn]=xn+1)}de[Me.previousIndex]=Dt-_t}}Ue!==Qe&&f(Me,Ue,Qe)}}forEachPreviousItem(f){let v;for(v=this._previousItHead;null!==v;v=v._nextPrevious)f(v)}forEachAddedItem(f){let v;for(v=this._additionsHead;null!==v;v=v._nextAdded)f(v)}forEachMovedItem(f){let v;for(v=this._movesHead;null!==v;v=v._nextMoved)f(v)}forEachRemovedItem(f){let v;for(v=this._removalsHead;null!==v;v=v._nextRemoved)f(v)}forEachIdentityChange(f){let v;for(v=this._identityChangesHead;null!==v;v=v._nextIdentityChange)f(v)}diff(f){if(null==f&&(f=[]),!xr(f))throw new ur(900,!1);return this.check(f)?this:null}onDestroy(){}check(f){this._reset();let Y,de,Me,v=this._itHead,P=!1;if(Array.isArray(f)){this.length=f.length;for(let Ue=0;Ue<this.length;Ue++)de=f[Ue],Me=this._trackByFn(Ue,de),null!==v&&Object.is(v.trackById,Me)?(P&&(v=this._verifyReinsertion(v,de,Me,Ue)),Object.is(v.item,de)||this._addIdentityChange(v,de)):(v=this._mismatch(v,de,Me,Ue),P=!0),v=v._next}else Y=0,function EC(a,f){if(Array.isArray(a))for(let v=0;v<a.length;v++)f(a[v]);else{const v=a[Symbol.iterator]();let P;for(;!(P=v.next()).done;)f(P.value)}}(f,Ue=>{Me=this._trackByFn(Y,Ue),null!==v&&Object.is(v.trackById,Me)?(P&&(v=this._verifyReinsertion(v,Ue,Me,Y)),Object.is(v.item,Ue)||this._addIdentityChange(v,Ue)):(v=this._mismatch(v,Ue,Me,Y),P=!0),v=v._next,Y++}),this.length=Y;return this._truncate(v),this.collection=f,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let f;for(f=this._previousItHead=this._itHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._additionsHead;null!==f;f=f._nextAdded)f.previousIndex=f.currentIndex;for(this._additionsHead=this._additionsTail=null,f=this._movesHead;null!==f;f=f._nextMoved)f.previousIndex=f.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(f,v,P,Y){let de;return null===f?de=this._itTail:(de=f._prev,this._remove(f)),null!==(f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(P,null))?(Object.is(f.item,v)||this._addIdentityChange(f,v),this._reinsertAfter(f,de,Y)):null!==(f=null===this._linkedRecords?null:this._linkedRecords.get(P,Y))?(Object.is(f.item,v)||this._addIdentityChange(f,v),this._moveAfter(f,de,Y)):f=this._addAfter(new a4(v,P),de,Y),f}_verifyReinsertion(f,v,P,Y){let de=null===this._unlinkedRecords?null:this._unlinkedRecords.get(P,null);return null!==de?f=this._reinsertAfter(de,f._prev,Y):f.currentIndex!=Y&&(f.currentIndex=Y,this._addToMoves(f,Y)),f}_truncate(f){for(;null!==f;){const v=f._next;this._addToRemovals(this._unlink(f)),f=v}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(f,v,P){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(f);const Y=f._prevRemoved,de=f._nextRemoved;return null===Y?this._removalsHead=de:Y._nextRemoved=de,null===de?this._removalsTail=Y:de._prevRemoved=Y,this._insertAfter(f,v,P),this._addToMoves(f,P),f}_moveAfter(f,v,P){return this._unlink(f),this._insertAfter(f,v,P),this._addToMoves(f,P),f}_addAfter(f,v,P){return this._insertAfter(f,v,P),this._additionsTail=null===this._additionsTail?this._additionsHead=f:this._additionsTail._nextAdded=f,f}_insertAfter(f,v,P){const Y=null===v?this._itHead:v._next;return f._next=Y,f._prev=v,null===Y?this._itTail=f:Y._prev=f,null===v?this._itHead=f:v._next=f,null===this._linkedRecords&&(this._linkedRecords=new c4),this._linkedRecords.put(f),f.currentIndex=P,f}_remove(f){return this._addToRemovals(this._unlink(f))}_unlink(f){null!==this._linkedRecords&&this._linkedRecords.remove(f);const v=f._prev,P=f._next;return null===v?this._itHead=P:v._next=P,null===P?this._itTail=v:P._prev=v,f}_addToMoves(f,v){return f.previousIndex===v||(this._movesTail=null===this._movesTail?this._movesHead=f:this._movesTail._nextMoved=f),f}_addToRemovals(f){return null===this._unlinkedRecords&&(this._unlinkedRecords=new c4),this._unlinkedRecords.put(f),f.currentIndex=null,f._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=f,f._prevRemoved=null):(f._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=f),f}_addIdentityChange(f,v){return f.item=v,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=f:this._identityChangesTail._nextIdentityChange=f,f}}class a4{constructor(f,v){this.item=f,this.trackById=v,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class b7{constructor(){this._head=null,this._tail=null}add(f){null===this._head?(this._head=this._tail=f,f._nextDup=null,f._prevDup=null):(this._tail._nextDup=f,f._prevDup=this._tail,f._nextDup=null,this._tail=f)}get(f,v){let P;for(P=this._head;null!==P;P=P._nextDup)if((null===v||v<=P.currentIndex)&&Object.is(P.trackById,f))return P;return null}remove(f){const v=f._prevDup,P=f._nextDup;return null===v?this._head=P:v._nextDup=P,null===P?this._tail=v:P._prevDup=v,null===this._head}}class c4{constructor(){this.map=new Map}put(f){const v=f.trackById;let P=this.map.get(v);P||(P=new b7,this.map.set(v,P)),P.add(f)}get(f,v){const Y=this.map.get(f);return Y?Y.get(f,v):null}remove(f){const v=f.trackById;return this.map.get(v).remove(f)&&this.map.delete(v),f}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function T2(a,f,v){const P=a.previousIndex;if(null===P)return P;let Y=0;return v&&P<v.length&&(Y=v[P]),P+f+Y}class I2{constructor(){}supports(f){return f instanceof Map||Yr(f)}create(){return new w7}}class w7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(f){let v;for(v=this._mapHead;null!==v;v=v._next)f(v)}forEachPreviousItem(f){let v;for(v=this._previousMapHead;null!==v;v=v._nextPrevious)f(v)}forEachChangedItem(f){let v;for(v=this._changesHead;null!==v;v=v._nextChanged)f(v)}forEachAddedItem(f){let v;for(v=this._additionsHead;null!==v;v=v._nextAdded)f(v)}forEachRemovedItem(f){let v;for(v=this._removalsHead;null!==v;v=v._nextRemoved)f(v)}diff(f){if(f){if(!(f instanceof Map||Yr(f)))throw new ur(900,!1)}else f=new Map;return this.check(f)?this:null}onDestroy(){}check(f){this._reset();let v=this._mapHead;if(this._appendAfter=null,this._forEach(f,(P,Y)=>{if(v&&v.key===Y)this._maybeAddToChanges(v,P),this._appendAfter=v,v=v._next;else{const de=this._getOrCreateRecordForKey(Y,P);v=this._insertBeforeOrAppend(v,de)}}),v){v._prev&&(v._prev._next=null),this._removalsHead=v;for(let P=v;null!==P;P=P._nextRemoved)P===this._mapHead&&(this._mapHead=null),this._records.delete(P.key),P._nextRemoved=P._next,P.previousValue=P.currentValue,P.currentValue=null,P._prev=null,P._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(f,v){if(f){const P=f._prev;return v._next=f,v._prev=P,f._prev=v,P&&(P._next=v),f===this._mapHead&&(this._mapHead=v),this._appendAfter=f,f}return this._appendAfter?(this._appendAfter._next=v,v._prev=this._appendAfter):this._mapHead=v,this._appendAfter=v,null}_getOrCreateRecordForKey(f,v){if(this._records.has(f)){const Y=this._records.get(f);this._maybeAddToChanges(Y,v);const de=Y._prev,Me=Y._next;return de&&(de._next=Me),Me&&(Me._prev=de),Y._next=null,Y._prev=null,Y}const P=new l4(f);return this._records.set(f,P),P.currentValue=v,this._addToAdditions(P),P}_reset(){if(this.isDirty){let f;for(this._previousMapHead=this._mapHead,f=this._previousMapHead;null!==f;f=f._next)f._nextPrevious=f._next;for(f=this._changesHead;null!==f;f=f._nextChanged)f.previousValue=f.currentValue;for(f=this._additionsHead;null!=f;f=f._nextAdded)f.previousValue=f.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(f,v){Object.is(v,f.currentValue)||(f.previousValue=f.currentValue,f.currentValue=v,this._addToChanges(f))}_addToAdditions(f){null===this._additionsHead?this._additionsHead=this._additionsTail=f:(this._additionsTail._nextAdded=f,this._additionsTail=f)}_addToChanges(f){null===this._changesHead?this._changesHead=this._changesTail=f:(this._changesTail._nextChanged=f,this._changesTail=f)}_forEach(f,v){f instanceof Map?f.forEach(v):Object.keys(f).forEach(P=>v(f[P],P))}}class l4{constructor(f){this.key=f,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function d4(){return new D2([new t5])}let D2=(()=>{class a{static#e=this.\u0275prov=Eo({token:a,providedIn:"root",factory:d4});constructor(v){this.factories=v}static create(v,P){if(null!=P){const Y=P.factories.slice();v=v.concat(Y)}return new a(v)}static extend(v){return{provide:a,useFactory:P=>a.create(v,P||d4()),deps:[[a,new Nd,new Ec]]}}find(v){const P=this.factories.find(Y=>Y.supports(v));if(null!=P)return P;throw new ur(901,!1)}}return a})();function n5(){return new C2([new I2])}let C2=(()=>{class a{static#e=this.\u0275prov=Eo({token:a,providedIn:"root",factory:n5});constructor(v){this.factories=v}static create(v,P){if(P){const Y=P.factories.slice();v=v.concat(Y)}return new a(v)}static extend(v){return{provide:a,useFactory:P=>a.create(v,P||n5()),deps:[[a,new Nd,new Ec]]}}find(v){const P=this.factories.find(Y=>Y.supports(v));if(P)return P;throw new ur(901,!1)}}return a})();function J0(a){try{const{rootComponent:f,appProviders:v,platformProviders:P}=a,Y=function Z0(a=[]){if(bl)return bl;const f=function GA(a=[],f){return Ka.create({name:f,providers:[{provide:$h,useValue:"platform"},{provide:nv,useValue:new Set([()=>bl=null])},...a]})}(a);return bl=f,function W6(){!function A(a){D=a}(()=>{throw new ur(600,!1)})}(),function xp(a){a.get($y,null)?.forEach(v=>v())}(f),f}(P),de=[x2({}),{provide:p0,useExisting:Df},...v||[]],Ue=new xt({providers:de,parent:Y,debugName:"",runEnvironmentInitializers:!1}).injector,Qe=Ue.get(Zs);return Qe.run(()=>{Ue.resolveInjectorInitializers();const _t=Ue.get(eh,null);let Dt;Qe.runOutsideAngular(()=>{Dt=Qe.onError.subscribe({next:xn=>{_t.handleError(xn)}})});const Xt=()=>Ue.destroy(),bn=Y.get(nv);return bn.add(Xt),Ue.onDestroy(()=>{Dt.unsubscribe(),bn.delete(Xt)}),function WO(a,f,v){try{const P=v();return H6(P)?P.catch(Y=>{throw f.runOutsideAngular(()=>a.handleError(Y)),Y}):P}catch(P){throw f.runOutsideAngular(()=>a.handleError(P)),P}}(_t,Qe,()=>{const xn=Ue.get(Xw);return xn.runInitializers(),xn.donePromise.then(()=>{!function Tw(a){"string"==typeof a&&(Af=a.toLowerCase().replace(/_/g,"-"))}(Ue.get(Jw,wu)||wu);const ar=Ue.get(wh);return void 0!==f&&ar.bootstrap(f),ar})})})}catch(f){return Promise.reject(f)}}const sT=new wi("");function ao(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}function N4(a,f=NaN){return isNaN(parseFloat(a))||isNaN(Number(a))?f:Number(a)}function F7(a,f){fd("NgSignals");const v=k(a);return f?.equal&&(v[S].equal=f.equal),v}function kf(a){const f=L(null);try{return a()}finally{L(f)}}const Au=new wi("",{providedIn:"root",factory:()=>br(U2)});let U2=(()=>{class a{static#e=this.\u0275prov=Eo({token:a,providedIn:"root",factory:()=>new U4})}return a})();class U4{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=br(Zm),this.taskId=null}scheduleEffect(f){if(this.enqueue(f),null===this.taskId){const v=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(v),this.taskId=null})}}enqueue(f){const v=f.creationZone;this.queues.has(v)||this.queues.set(v,new Set);const P=this.queues.get(v);P.has(f)||(this.queuedEffectCount++,P.add(f))}flush(){for(;this.queuedEffectCount>0;)for(const[f,v]of this.queues)null===f?this.flushQueue(v):f.run(()=>this.flushQueue(v))}flushQueue(f){for(const v of f)f.delete(v),this.queuedEffectCount--,v.run()}}class F4{constructor(f,v,P,Y,de,Me){this.scheduler=f,this.effectFn=v,this.creationZone=P,this.injector=de,this.watcher=function Ee(a,f,v){const P=Object.create(Oe);v&&(P.consumerAllowSignalWrites=!0),P.fn=a,P.schedule=f;const Y=Qe=>{P.cleanupFn=Qe};return P.ref={notify:()=>te(P),run:()=>{if(null===P.fn)return;if(function N(){return R}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(P.dirty=!1,P.hasRun&&!oe(P))return;P.hasRun=!0;const Qe=Q(P);try{P.cleanupFn(),P.cleanupFn=ge,P.fn(Y)}finally{J(P,Qe)}},cleanup:()=>P.cleanupFn(),destroy:()=>function Me(Qe){(function de(Qe){return null===Qe.fn&&null===Qe.schedule})(Qe)||(se(Qe),Qe.cleanupFn(),Qe.fn=null,Qe.schedule=null,Qe.cleanupFn=ge)}(P),[S]:P},P.ref}(Ue=>this.runEffect(Ue),()=>this.schedule(),Me),this.unregisterOnDestroy=Y?.onDestroy(()=>this.destroy())}runEffect(f){try{this.effectFn(f)}catch(v){this.injector.get(eh,null,{optional:!0})?.handleError(v)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function w5(a,f){fd("NgSignals"),!f?.injector&&Kv();const v=f?.injector??br(Ka),P=!0!==f?.manualCleanup?v.get(Br):null,Y=new F4(v.get(Au),a,typeof Zone>"u"?null:Zone.current,P,v,f?.allowSignalWrites??!1),de=v.get(t4,null,{optional:!0});return de&&8&de._lView[ti]?(de._lView[Ur]??=[]).push(Y.watcher.notify):Y.watcher.notify(),Y}function lT(a,f){const v=Wr(a),P=f.elementInjector||lx();return new cm(v).create(P,f.projectableNodes,f.hostElement,f.environmentInjector)}function i_(a){const f=Wr(a);if(!f)return null;const v=new cm(f);return{get selector(){return v.selector},get type(){return v.componentType},get inputs(){return v.inputs},get outputs(){return v.outputs},get ngContentSelectors(){return v.ngContentSelectors},get isStandalone(){return f.standalone},get isSignal(){return f.signals}}}},89417:(Le,z,E)=>{"use strict";E.d(z,{BC:()=>ue,JD:()=>Us,MJ:()=>Di,X1:()=>ru,YN:()=>sl,YS:()=>Lc,cV:()=>lo,cb:()=>be,cz:()=>J,j4:()=>Ls,k0:()=>ae,kq:()=>$,l_:()=>td,me:()=>re,ok:()=>Co,qT:()=>Qd,tU:()=>nc,v8:()=>Qa,vO:()=>he,vS:()=>ed,xq:()=>Ma});var m=E(93953),x=E(60177),R=E(86648),W=E(27468),S=E(21413),L=E(96354);let M=(()=>{class St{constructor(ht,zt){this._renderer=ht,this._elementRef=zt,this.onChange=Mn=>{},this.onTouched=()=>{}}setProperty(ht,zt){this._renderer.setProperty(this._elementRef.nativeElement,ht,zt)}registerOnTouched(ht){this.onTouched=ht}registerOnChange(ht){this.onChange=ht}setDisabledState(ht){this.setProperty("disabled",ht)}static#e=this.\u0275fac=function(zt){return new(zt||St)(m.rXU(m.sFG),m.rXU(m.aKT))};static#t=this.\u0275dir=m.FsC({type:St})}return St})(),N=(()=>{class St extends M{static#e=this.\u0275fac=(()=>{let ht;return function(Mn){return(ht||(ht=m.xGo(St)))(Mn||St)}})();static#t=this.\u0275dir=m.FsC({type:St,features:[m.Vt3]})}return St})();const $=new m.nKC(""),X={provide:$,useExisting:(0,m.Rfq)(()=>re),multi:!0},Z=new m.nKC("");let re=(()=>{class St extends M{constructor(ht,zt,Mn){super(ht,zt),this._compositionMode=Mn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function V(){const St=(0,x.QT)()?(0,x.QT)().getUserAgent():"";return/android (\d+)/.test(St.toLowerCase())}())}writeValue(ht){this.setProperty("value",ht??"")}_handleInput(ht){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ht)}_compositionStart(){this._composing=!0}_compositionEnd(ht){this._composing=!1,this._compositionMode&&this.onChange(ht)}static#e=this.\u0275fac=function(zt){return new(zt||St)(m.rXU(m.sFG),m.rXU(m.aKT),m.rXU(Z,8))};static#t=this.\u0275dir=m.FsC({type:St,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(zt,Mn){1&zt&&m.bIt("input",function(Xi){return Mn._handleInput(Xi.target.value)})("blur",function(){return Mn.onTouched()})("compositionstart",function(){return Mn._compositionStart()})("compositionend",function(Xi){return Mn._compositionEnd(Xi.target.value)})},features:[m.Jv_([X]),m.Vt3]})}return St})();function te(St){return null==St||("string"==typeof St||Array.isArray(St))&&0===St.length}function Q(St){return null!=St&&"number"==typeof St.length}const J=new m.nKC(""),oe=new m.nKC(""),se=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ae{static min(Ct){return function pe(St){return Ct=>{if(te(Ct.value)||te(St))return null;const ht=parseFloat(Ct.value);return!isNaN(ht)&&ht<St?{min:{min:St,actual:Ct.value}}:null}}(Ct)}static max(Ct){return function le(St){return Ct=>{if(te(Ct.value)||te(St))return null;const ht=parseFloat(Ct.value);return!isNaN(ht)&&ht>St?{max:{max:St,actual:Ct.value}}:null}}(Ct)}static required(Ct){return ve(Ct)}static requiredTrue(Ct){return we(Ct)}static email(Ct){return function De(St){return te(St.value)||se.test(St.value)?null:{email:!0}}(Ct)}static minLength(Ct){return function k(St){return Ct=>te(Ct.value)||!Q(Ct.value)?null:Ct.value.length<St?{minlength:{requiredLength:St,actualLength:Ct.value.length}}:null}(Ct)}static maxLength(Ct){return u(Ct)}static pattern(Ct){return function h(St){if(!St)return y;let Ct,ht;return"string"==typeof St?(ht="","^"!==St.charAt(0)&&(ht+="^"),ht+=St,"$"!==St.charAt(St.length-1)&&(ht+="$"),Ct=new RegExp(ht)):(ht=St.toString(),Ct=St),zt=>{if(te(zt.value))return null;const Mn=zt.value;return Ct.test(Mn)?null:{pattern:{requiredPattern:ht,actualValue:Mn}}}}(Ct)}static nullValidator(Ct){return null}static compose(Ct){return g(Ct)}static composeAsync(Ct){return H(Ct)}}function ve(St){return te(St.value)?{required:!0}:null}function we(St){return!0===St.value?null:{required:!0}}function u(St){return Ct=>Q(Ct.value)&&Ct.value.length>St?{maxlength:{requiredLength:St,actualLength:Ct.value.length}}:null}function y(St){return null}function w(St){return null!=St}function T(St){return(0,m.jNT)(St)?(0,R.H)(St):St}function D(St){let Ct={};return St.forEach(ht=>{Ct=null!=ht?{...Ct,...ht}:Ct}),0===Object.keys(Ct).length?null:Ct}function j(St,Ct){return Ct.map(ht=>ht(St))}function l(St){return St.map(Ct=>function A(St){return!St.validate}(Ct)?Ct:ht=>Ct.validate(ht))}function g(St){if(!St)return null;const Ct=St.filter(w);return 0==Ct.length?null:function(ht){return D(j(ht,Ct))}}function G(St){return null!=St?g(l(St)):null}function H(St){if(!St)return null;const Ct=St.filter(w);return 0==Ct.length?null:function(ht){const zt=j(ht,Ct).map(T);return(0,W.p)(zt).pipe((0,L.T)(D))}}function ne(St){return null!=St?H(l(St)):null}function ce(St,Ct){return null===St?[Ct]:Array.isArray(St)?[...St,Ct]:[St,Ct]}function Ae(St){return St._rawValidators}function ke(St){return St._rawAsyncValidators}function Fe(St){return St?Array.isArray(St)?St:[St]:[]}function Ee(St,Ct){return Array.isArray(St)?St.includes(Ct):St===Ct}function ge(St,Ct){const ht=Fe(Ct);return Fe(St).forEach(Mn=>{Ee(ht,Mn)||ht.push(Mn)}),ht}function Oe(St,Ct){return Fe(Ct).filter(ht=>!Ee(St,ht))}class ye{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ct){this._rawValidators=Ct||[],this._composedValidatorFn=G(this._rawValidators)}_setAsyncValidators(Ct){this._rawAsyncValidators=Ct||[],this._composedAsyncValidatorFn=ne(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ct){this._onDestroyCallbacks.push(Ct)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ct=>Ct()),this._onDestroyCallbacks=[]}reset(Ct=void 0){this.control&&this.control.reset(Ct)}hasError(Ct,ht){return!!this.control&&this.control.hasError(Ct,ht)}getError(Ct,ht){return this.control?this.control.getError(Ct,ht):null}}class Se extends ye{get formDirective(){return null}get path(){return null}}class he extends ye{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fe{constructor(Ct){this._cd=Ct}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let ue=(()=>{class St extends fe{constructor(ht){super(ht)}static#e=this.\u0275fac=function(zt){return new(zt||St)(m.rXU(he,2))};static#t=this.\u0275dir=m.FsC({type:St,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(zt,Mn){2&zt&&m.AVh("ng-untouched",Mn.isUntouched)("ng-touched",Mn.isTouched)("ng-pristine",Mn.isPristine)("ng-dirty",Mn.isDirty)("ng-valid",Mn.isValid)("ng-invalid",Mn.isInvalid)("ng-pending",Mn.isPending)},features:[m.Vt3]})}return St})(),be=(()=>{class St extends fe{constructor(ht){super(ht)}static#e=this.\u0275fac=function(zt){return new(zt||St)(m.rXU(Se,10))};static#t=this.\u0275dir=m.FsC({type:St,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(zt,Mn){2&zt&&m.AVh("ng-untouched",Mn.isUntouched)("ng-touched",Mn.isTouched)("ng-pristine",Mn.isPristine)("ng-dirty",Mn.isDirty)("ng-valid",Mn.isValid)("ng-invalid",Mn.isInvalid)("ng-pending",Mn.isPending)("ng-submitted",Mn.isSubmitted)},features:[m.Vt3]})}return St})();const Lt="VALID",en="INVALID",Zt="PENDING",Jn="DISABLED";class yn{}class Vt extends yn{constructor(Ct,ht){super(),this.value=Ct,this.source=ht}}class $t extends yn{constructor(Ct,ht){super(),this.pristine=Ct,this.source=ht}}class mt extends yn{constructor(Ct,ht){super(),this.touched=Ct,this.source=ht}}class st extends yn{constructor(Ct,ht){super(),this.status=Ct,this.source=ht}}class Nt extends yn{constructor(Ct){super(),this.source=Ct}}class Kt extends yn{constructor(Ct){super(),this.source=Ct}}function qt(St){return(vt(St)?St.validators:St)||null}function ft(St,Ct){return(vt(Ct)?Ct.asyncValidators:St)||null}function vt(St){return null!=St&&!Array.isArray(St)&&"object"==typeof St}function He(St,Ct,ht){const zt=St.controls;if(!(Ct?Object.keys(zt):zt).length)throw new m.wOt(1e3,"");if(!zt[ht])throw new m.wOt(1001,"")}function Je(St,Ct,ht){St._forEachChild((zt,Mn)=>{if(void 0===ht[Mn])throw new m.wOt(1002,"")})}class Bt{constructor(Ct,ht){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,m.EWP)(()=>this.statusReactive()),this.statusReactive=(0,m.vPA)(void 0),this._pristine=(0,m.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,m.vPA)(!0),this._touched=(0,m.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,m.vPA)(!1),this._events=new S.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(Ct),this._assignAsyncValidators(ht)}get validator(){return this._composedValidatorFn}set validator(Ct){this._rawValidators=this._composedValidatorFn=Ct}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ct){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ct}get parent(){return this._parent}get status(){return(0,m.O8t)(this.statusReactive)}set status(Ct){(0,m.O8t)(()=>this.statusReactive.set(Ct))}get valid(){return this.status===Lt}get invalid(){return this.status===en}get pending(){return this.status==Zt}get disabled(){return this.status===Jn}get enabled(){return this.status!==Jn}get pristine(){return(0,m.O8t)(this.pristineReactive)}set pristine(Ct){(0,m.O8t)(()=>this.pristineReactive.set(Ct))}get dirty(){return!this.pristine}get touched(){return(0,m.O8t)(this.touchedReactive)}set touched(Ct){(0,m.O8t)(()=>this.touchedReactive.set(Ct))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ct){this._assignValidators(Ct)}setAsyncValidators(Ct){this._assignAsyncValidators(Ct)}addValidators(Ct){this.setValidators(ge(Ct,this._rawValidators))}addAsyncValidators(Ct){this.setAsyncValidators(ge(Ct,this._rawAsyncValidators))}removeValidators(Ct){this.setValidators(Oe(Ct,this._rawValidators))}removeAsyncValidators(Ct){this.setAsyncValidators(Oe(Ct,this._rawAsyncValidators))}hasValidator(Ct){return Ee(this._rawValidators,Ct)}hasAsyncValidator(Ct){return Ee(this._rawAsyncValidators,Ct)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ct={}){const ht=!1===this.touched;this.touched=!0;const zt=Ct.sourceControl??this;this._parent&&!Ct.onlySelf&&this._parent.markAsTouched({...Ct,sourceControl:zt}),ht&&!1!==Ct.emitEvent&&this._events.next(new mt(!0,zt))}markAllAsTouched(Ct={}){this.markAsTouched({onlySelf:!0,emitEvent:Ct.emitEvent,sourceControl:this}),this._forEachChild(ht=>ht.markAllAsTouched(Ct))}markAsUntouched(Ct={}){const ht=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const zt=Ct.sourceControl??this;this._forEachChild(Mn=>{Mn.markAsUntouched({onlySelf:!0,emitEvent:Ct.emitEvent,sourceControl:zt})}),this._parent&&!Ct.onlySelf&&this._parent._updateTouched(Ct,zt),ht&&!1!==Ct.emitEvent&&this._events.next(new mt(!1,zt))}markAsDirty(Ct={}){const ht=!0===this.pristine;this.pristine=!1;const zt=Ct.sourceControl??this;this._parent&&!Ct.onlySelf&&this._parent.markAsDirty({...Ct,sourceControl:zt}),ht&&!1!==Ct.emitEvent&&this._events.next(new $t(!1,zt))}markAsPristine(Ct={}){const ht=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const zt=Ct.sourceControl??this;this._forEachChild(Mn=>{Mn.markAsPristine({onlySelf:!0,emitEvent:Ct.emitEvent})}),this._parent&&!Ct.onlySelf&&this._parent._updatePristine(Ct,zt),ht&&!1!==Ct.emitEvent&&this._events.next(new $t(!0,zt))}markAsPending(Ct={}){this.status=Zt;const ht=Ct.sourceControl??this;!1!==Ct.emitEvent&&(this._events.next(new st(this.status,ht)),this.statusChanges.emit(this.status)),this._parent&&!Ct.onlySelf&&this._parent.markAsPending({...Ct,sourceControl:ht})}disable(Ct={}){const ht=this._parentMarkedDirty(Ct.onlySelf);this.status=Jn,this.errors=null,this._forEachChild(Mn=>{Mn.disable({...Ct,onlySelf:!0})}),this._updateValue();const zt=Ct.sourceControl??this;!1!==Ct.emitEvent&&(this._events.next(new Vt(this.value,zt)),this._events.next(new st(this.status,zt)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ct,skipPristineCheck:ht},this),this._onDisabledChange.forEach(Mn=>Mn(!0))}enable(Ct={}){const ht=this._parentMarkedDirty(Ct.onlySelf);this.status=Lt,this._forEachChild(zt=>{zt.enable({...Ct,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ct.emitEvent}),this._updateAncestors({...Ct,skipPristineCheck:ht},this),this._onDisabledChange.forEach(zt=>zt(!1))}_updateAncestors(Ct,ht){this._parent&&!Ct.onlySelf&&(this._parent.updateValueAndValidity(Ct),Ct.skipPristineCheck||this._parent._updatePristine({},ht),this._parent._updateTouched({},ht))}setParent(Ct){this._parent=Ct}getRawValue(){return this.value}updateValueAndValidity(Ct={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const zt=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lt||this.status===Zt)&&this._runAsyncValidator(zt,Ct.emitEvent)}const ht=Ct.sourceControl??this;!1!==Ct.emitEvent&&(this._events.next(new Vt(this.value,ht)),this._events.next(new st(this.status,ht)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ct.onlySelf&&this._parent.updateValueAndValidity({...Ct,sourceControl:ht})}_updateTreeValidity(Ct={emitEvent:!0}){this._forEachChild(ht=>ht._updateTreeValidity(Ct)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ct.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jn:Lt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ct,ht){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==ht};const zt=T(this.asyncValidator(this));this._asyncValidationSubscription=zt.subscribe(Mn=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Mn,{emitEvent:ht,shouldHaveEmitted:Ct})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const Ct=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,Ct}return!1}setErrors(Ct,ht={}){this.errors=Ct,this._updateControlsErrors(!1!==ht.emitEvent,this,ht.shouldHaveEmitted)}get(Ct){let ht=Ct;return null==ht||(Array.isArray(ht)||(ht=ht.split(".")),0===ht.length)?null:ht.reduce((zt,Mn)=>zt&&zt._find(Mn),this)}getError(Ct,ht){const zt=ht?this.get(ht):this;return zt&&zt.errors?zt.errors[Ct]:null}hasError(Ct,ht){return!!this.getError(Ct,ht)}get root(){let Ct=this;for(;Ct._parent;)Ct=Ct._parent;return Ct}_updateControlsErrors(Ct,ht,zt){this.status=this._calculateStatus(),Ct&&this.statusChanges.emit(this.status),(Ct||zt)&&this._events.next(new st(this.status,ht)),this._parent&&this._parent._updateControlsErrors(Ct,ht,zt)}_initObservables(){this.valueChanges=new m.bkB,this.statusChanges=new m.bkB}_calculateStatus(){return this._allControlsDisabled()?Jn:this.errors?en:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus(en)?en:Lt}_anyControlsHaveStatus(Ct){return this._anyControls(ht=>ht.status===Ct)}_anyControlsDirty(){return this._anyControls(Ct=>Ct.dirty)}_anyControlsTouched(){return this._anyControls(Ct=>Ct.touched)}_updatePristine(Ct,ht){const zt=!this._anyControlsDirty(),Mn=this.pristine!==zt;this.pristine=zt,this._parent&&!Ct.onlySelf&&this._parent._updatePristine(Ct,ht),Mn&&this._events.next(new $t(this.pristine,ht))}_updateTouched(Ct={},ht){this.touched=this._anyControlsTouched(),this._events.next(new mt(this.touched,ht)),this._parent&&!Ct.onlySelf&&this._parent._updateTouched(Ct,ht)}_registerOnCollectionChange(Ct){this._onCollectionChange=Ct}_setUpdateStrategy(Ct){vt(Ct)&&null!=Ct.updateOn&&(this._updateOn=Ct.updateOn)}_parentMarkedDirty(Ct){return!Ct&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ct){return null}_assignValidators(Ct){this._rawValidators=Array.isArray(Ct)?Ct.slice():Ct,this._composedValidatorFn=function or(St){return Array.isArray(St)?G(St):St||null}(this._rawValidators)}_assignAsyncValidators(Ct){this._rawAsyncValidators=Array.isArray(Ct)?Ct.slice():Ct,this._composedAsyncValidatorFn=function gt(St){return Array.isArray(St)?ne(St):St||null}(this._rawAsyncValidators)}}class Tt extends Bt{constructor(Ct,ht,zt){super(qt(ht),ft(zt,ht)),this.controls=Ct,this._initObservables(),this._setUpdateStrategy(ht),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ct,ht){return this.controls[Ct]?this.controls[Ct]:(this.controls[Ct]=ht,ht.setParent(this),ht._registerOnCollectionChange(this._onCollectionChange),ht)}addControl(Ct,ht,zt={}){this.registerControl(Ct,ht),this.updateValueAndValidity({emitEvent:zt.emitEvent}),this._onCollectionChange()}removeControl(Ct,ht={}){this.controls[Ct]&&this.controls[Ct]._registerOnCollectionChange(()=>{}),delete this.controls[Ct],this.updateValueAndValidity({emitEvent:ht.emitEvent}),this._onCollectionChange()}setControl(Ct,ht,zt={}){this.controls[Ct]&&this.controls[Ct]._registerOnCollectionChange(()=>{}),delete this.controls[Ct],ht&&this.registerControl(Ct,ht),this.updateValueAndValidity({emitEvent:zt.emitEvent}),this._onCollectionChange()}contains(Ct){return this.controls.hasOwnProperty(Ct)&&this.controls[Ct].enabled}setValue(Ct,ht={}){Je(this,0,Ct),Object.keys(Ct).forEach(zt=>{He(this,!0,zt),this.controls[zt].setValue(Ct[zt],{onlySelf:!0,emitEvent:ht.emitEvent})}),this.updateValueAndValidity(ht)}patchValue(Ct,ht={}){null!=Ct&&(Object.keys(Ct).forEach(zt=>{const Mn=this.controls[zt];Mn&&Mn.patchValue(Ct[zt],{onlySelf:!0,emitEvent:ht.emitEvent})}),this.updateValueAndValidity(ht))}reset(Ct={},ht={}){this._forEachChild((zt,Mn)=>{zt.reset(Ct?Ct[Mn]:null,{onlySelf:!0,emitEvent:ht.emitEvent})}),this._updatePristine(ht,this),this._updateTouched(ht,this),this.updateValueAndValidity(ht)}getRawValue(){return this._reduceChildren({},(Ct,ht,zt)=>(Ct[zt]=ht.getRawValue(),Ct))}_syncPendingControls(){let Ct=this._reduceChildren(!1,(ht,zt)=>!!zt._syncPendingControls()||ht);return Ct&&this.updateValueAndValidity({onlySelf:!0}),Ct}_forEachChild(Ct){Object.keys(this.controls).forEach(ht=>{const zt=this.controls[ht];zt&&Ct(zt,ht)})}_setUpControls(){this._forEachChild(Ct=>{Ct.setParent(this),Ct._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ct){for(const[ht,zt]of Object.entries(this.controls))if(this.contains(ht)&&Ct(zt))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ht,zt,Mn)=>((zt.enabled||this.disabled)&&(ht[Mn]=zt.value),ht))}_reduceChildren(Ct,ht){let zt=Ct;return this._forEachChild((Mn,jr)=>{zt=ht(zt,Mn,jr)}),zt}_allControlsDisabled(){for(const Ct of Object.keys(this.controls))if(this.controls[Ct].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ct){return this.controls.hasOwnProperty(Ct)?this.controls[Ct]:null}}class pn extends Tt{}const Un=new m.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>An}),An="always";function On(St,Ct){return[...Ct.path,St]}function nt(St,Ct,ht=An){dn(St,Ct),Ct.valueAccessor.writeValue(St.value),(St.disabled||"always"===ht)&&Ct.valueAccessor.setDisabledState?.(St.disabled),function Kn(St,Ct){Ct.valueAccessor.registerOnChange(ht=>{St._pendingValue=ht,St._pendingChange=!0,St._pendingDirty=!0,"change"===St.updateOn&&Ar(St,Ct)})}(St,Ct),function _r(St,Ct){const ht=(zt,Mn)=>{Ct.valueAccessor.writeValue(zt),Mn&&Ct.viewToModelUpdate(zt)};St.registerOnChange(ht),Ct._registerOnDestroy(()=>{St._unregisterOnChange(ht)})}(St,Ct),function tr(St,Ct){Ct.valueAccessor.registerOnTouched(()=>{St._pendingTouched=!0,"blur"===St.updateOn&&St._pendingChange&&Ar(St,Ct),"submit"!==St.updateOn&&St.markAsTouched()})}(St,Ct),function jt(St,Ct){if(Ct.valueAccessor.setDisabledState){const ht=zt=>{Ct.valueAccessor.setDisabledState(zt)};St.registerOnDisabledChange(ht),Ct._registerOnDestroy(()=>{St._unregisterOnDisabledChange(ht)})}}(St,Ct)}function $e(St,Ct,ht=!0){const zt=()=>{};Ct.valueAccessor&&(Ct.valueAccessor.registerOnChange(zt),Ct.valueAccessor.registerOnTouched(zt)),Rn(St,Ct),St&&(Ct._invokeOnDestroyCallbacks(),St._registerOnCollectionChange(()=>{}))}function it(St,Ct){St.forEach(ht=>{ht.registerOnValidatorChange&&ht.registerOnValidatorChange(Ct)})}function dn(St,Ct){const ht=Ae(St);null!==Ct.validator?St.setValidators(ce(ht,Ct.validator)):"function"==typeof ht&&St.setValidators([ht]);const zt=ke(St);null!==Ct.asyncValidator?St.setAsyncValidators(ce(zt,Ct.asyncValidator)):"function"==typeof zt&&St.setAsyncValidators([zt]);const Mn=()=>St.updateValueAndValidity();it(Ct._rawValidators,Mn),it(Ct._rawAsyncValidators,Mn)}function Rn(St,Ct){let ht=!1;if(null!==St){if(null!==Ct.validator){const Mn=Ae(St);if(Array.isArray(Mn)&&Mn.length>0){const jr=Mn.filter(Xi=>Xi!==Ct.validator);jr.length!==Mn.length&&(ht=!0,St.setValidators(jr))}}if(null!==Ct.asyncValidator){const Mn=ke(St);if(Array.isArray(Mn)&&Mn.length>0){const jr=Mn.filter(Xi=>Xi!==Ct.asyncValidator);jr.length!==Mn.length&&(ht=!0,St.setAsyncValidators(jr))}}}const zt=()=>{};return it(Ct._rawValidators,zt),it(Ct._rawAsyncValidators,zt),ht}function Ar(St,Ct){St._pendingDirty&&St.markAsDirty(),St.setValue(St._pendingValue,{emitModelToViewChange:!1}),Ct.viewToModelUpdate(St._pendingValue),St._pendingChange=!1}function Pr(St,Ct){dn(St,Ct)}function er(St,Ct){if(!St.hasOwnProperty("model"))return!1;const ht=St.model;return!!ht.isFirstChange()||!Object.is(Ct,ht.currentValue)}function pr(St,Ct){St._syncPendingControls(),Ct.forEach(ht=>{const zt=ht.control;"submit"===zt.updateOn&&zt._pendingChange&&(ht.viewToModelUpdate(zt._pendingValue),zt._pendingChange=!1)})}function Nr(St,Ct){if(!Ct)return null;let ht,zt,Mn;return Array.isArray(Ct),Ct.forEach(jr=>{jr.constructor===re?ht=jr:function yr(St){return Object.getPrototypeOf(St.constructor)===N}(jr)?zt=jr:Mn=jr}),Mn||zt||ht||null}const fo={provide:Se,useExisting:(0,m.Rfq)(()=>lo)},ci=Promise.resolve();let lo=(()=>{class St extends Se{get submitted(){return(0,m.O8t)(this.submittedReactive)}constructor(ht,zt,Mn){super(),this.callSetDisabledState=Mn,this._submitted=(0,m.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,m.vPA)(!1),this._directives=new Set,this.ngSubmit=new m.bkB,this.form=new Tt({},G(ht),ne(zt))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ht){ci.then(()=>{const zt=this._findContainer(ht.path);ht.control=zt.registerControl(ht.name,ht.control),nt(ht.control,ht,this.callSetDisabledState),ht.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ht)})}getControl(ht){return this.form.get(ht.path)}removeControl(ht){ci.then(()=>{const zt=this._findContainer(ht.path);zt&&zt.removeControl(ht.name),this._directives.delete(ht)})}addFormGroup(ht){ci.then(()=>{const zt=this._findContainer(ht.path),Mn=new Tt({});Pr(Mn,ht),zt.registerControl(ht.name,Mn),Mn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ht){ci.then(()=>{const zt=this._findContainer(ht.path);zt&&zt.removeControl(ht.name)})}getFormGroup(ht){return this.form.get(ht.path)}updateModel(ht,zt){ci.then(()=>{this.form.get(ht.path).setValue(zt)})}setValue(ht){this.control.setValue(ht)}onSubmit(ht){return this.submittedReactive.set(!0),pr(this.form,this._directives),this.ngSubmit.emit(ht),"dialog"===ht?.target?.method}onReset(){this.resetForm()}resetForm(ht=void 0){this.form.reset(ht),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ht){return ht.pop(),ht.length?this.form.get(ht):this.form}static#e=this.\u0275fac=function(zt){return new(zt||St)(m.rXU(J,10),m.rXU(oe,10),m.rXU(Un,8))};static#t=this.\u0275dir=m.FsC({type:St,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(zt,Mn){1&zt&&m.bIt("submit",function(Xi){return Mn.onSubmit(Xi)})("reset",function(){return Mn.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m.Jv_([fo]),m.Vt3]})}return St})();function ho(St,Ct){const ht=St.indexOf(Ct);ht>-1&&St.splice(ht,1)}function Do(St){return"object"==typeof St&&null!==St&&2===Object.keys(St).length&&"value"in St&&"disabled"in St}const Di=class extends Bt{constructor(Ct=null,ht,zt){super(qt(ht),ft(zt,ht)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ct),this._setUpdateStrategy(ht),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vt(ht)&&(ht.nonNullable||ht.initialValueIsDefault)&&(this.defaultValue=Do(Ct)?Ct.value:Ct)}setValue(Ct,ht={}){this.value=this._pendingValue=Ct,this._onChange.length&&!1!==ht.emitModelToViewChange&&this._onChange.forEach(zt=>zt(this.value,!1!==ht.emitViewToModelChange)),this.updateValueAndValidity(ht)}patchValue(Ct,ht={}){this.setValue(Ct,ht)}reset(Ct=this.defaultValue,ht={}){this._applyFormState(Ct),this.markAsPristine(ht),this.markAsUntouched(ht),this.setValue(this.value,ht),this._pendingChange=!1}_updateValue(){}_anyControls(Ct){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ct){this._onChange.push(Ct)}_unregisterOnChange(Ct){ho(this._onChange,Ct)}registerOnDisabledChange(Ct){this._onDisabledChange.push(Ct)}_unregisterOnDisabledChange(Ct){ho(this._onDisabledChange,Ct)}_forEachChild(Ct){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ct){Do(Ct)?(this.value=this._pendingValue=Ct.value,Ct.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ct}};let Ya=(()=>{class St extends Se{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return On(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static#e=this.\u0275fac=(()=>{let ht;return function(Mn){return(ht||(ht=m.xGo(St)))(Mn||St)}})();static#t=this.\u0275dir=m.FsC({type:St,features:[m.Vt3]})}return St})();const Na={provide:he,useExisting:(0,m.Rfq)(()=>ed)},la=Promise.resolve();let ed=(()=>{class St extends he{constructor(ht,zt,Mn,jr,Xi,zo){super(),this._changeDetectorRef=Xi,this.callSetDisabledState=zo,this.control=new Di,this._registered=!1,this.name="",this.update=new m.bkB,this._parent=ht,this._setValidators(zt),this._setAsyncValidators(Mn),this.valueAccessor=Nr(0,jr)}ngOnChanges(ht){if(this._checkForErrors(),!this._registered||"name"in ht){if(this._registered&&(this._checkName(),this.formDirective)){const zt=ht.name.previousValue;this.formDirective.removeControl({name:zt,path:this._getPath(zt)})}this._setUpControl()}"isDisabled"in ht&&this._updateDisabled(ht),er(ht,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ht){this.viewModel=ht,this.update.emit(ht)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ht){la.then(()=>{this.control.setValue(ht,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ht){const zt=ht.isDisabled.currentValue,Mn=0!==zt&&(0,m.L39)(zt);la.then(()=>{Mn&&!this.control.disabled?this.control.disable():!Mn&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ht){return this._parent?On(ht,this._parent):[ht]}static#e=this.\u0275fac=function(zt){return new(zt||St)(m.rXU(Se,9),m.rXU(J,10),m.rXU(oe,10),m.rXU($,10),m.rXU(m.gRc,8),m.rXU(Un,8))};static#t=this.\u0275dir=m.FsC({type:St,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[m.Jv_([Na]),m.Vt3,m.OA$]})}return St})(),Qd=(()=>{class St{static#e=this.\u0275fac=function(zt){return new(zt||St)};static#t=this.\u0275dir=m.FsC({type:St,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return St})();const qa=new m.nKC(""),Sa={provide:he,useExisting:(0,m.Rfq)(()=>td)};let td=(()=>{class St extends he{set isDisabled(ht){}static#e=this._ngModelWarningSentOnce=!1;constructor(ht,zt,Mn,jr,Xi){super(),this._ngModelWarningConfig=jr,this.callSetDisabledState=Xi,this.update=new m.bkB,this._ngModelWarningSent=!1,this._setValidators(ht),this._setAsyncValidators(zt),this.valueAccessor=Nr(0,Mn)}ngOnChanges(ht){if(this._isControlChanged(ht)){const zt=ht.form.previousValue;zt&&$e(zt,this,!1),nt(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}er(ht,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&$e(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(ht){this.viewModel=ht,this.update.emit(ht)}_isControlChanged(ht){return ht.hasOwnProperty("form")}static#t=this.\u0275fac=function(zt){return new(zt||St)(m.rXU(J,10),m.rXU(oe,10),m.rXU($,10),m.rXU(qa,8),m.rXU(Un,8))};static#n=this.\u0275dir=m.FsC({type:St,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[m.Jv_([Sa]),m.Vt3,m.OA$]})}return St})();const La={provide:Se,useExisting:(0,m.Rfq)(()=>Ls)};let Ls=(()=>{class St extends Se{get submitted(){return(0,m.O8t)(this._submittedReactive)}set submitted(ht){this._submittedReactive.set(ht)}constructor(ht,zt,Mn){super(),this.callSetDisabledState=Mn,this._submitted=(0,m.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,m.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.bkB,this._setValidators(ht),this._setAsyncValidators(zt)}ngOnChanges(ht){this._checkFormPresent(),ht.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ht){const zt=this.form.get(ht.path);return nt(zt,ht,this.callSetDisabledState),zt.updateValueAndValidity({emitEvent:!1}),this.directives.push(ht),zt}getControl(ht){return this.form.get(ht.path)}removeControl(ht){$e(ht.control||null,ht,!1),function Cr(St,Ct){const ht=St.indexOf(Ct);ht>-1&&St.splice(ht,1)}(this.directives,ht)}addFormGroup(ht){this._setUpFormContainer(ht)}removeFormGroup(ht){this._cleanUpFormContainer(ht)}getFormGroup(ht){return this.form.get(ht.path)}addFormArray(ht){this._setUpFormContainer(ht)}removeFormArray(ht){this._cleanUpFormContainer(ht)}getFormArray(ht){return this.form.get(ht.path)}updateModel(ht,zt){this.form.get(ht.path).setValue(zt)}onSubmit(ht){return this._submittedReactive.set(!0),pr(this.form,this.directives),this.ngSubmit.emit(ht),this.form._events.next(new Nt(this.control)),"dialog"===ht?.target?.method}onReset(){this.resetForm()}resetForm(ht=void 0){this.form.reset(ht),this._submittedReactive.set(!1),this.form._events.next(new Kt(this.form))}_updateDomValue(){this.directives.forEach(ht=>{const zt=ht.control,Mn=this.form.get(ht.path);zt!==Mn&&($e(zt||null,ht),(St=>St instanceof Di)(Mn)&&(nt(Mn,ht,this.callSetDisabledState),ht.control=Mn))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ht){const zt=this.form.get(ht.path);Pr(zt,ht),zt.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ht){if(this.form){const zt=this.form.get(ht.path);zt&&function $r(St,Ct){return Rn(St,Ct)}(zt,ht)&&zt.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dn(this.form,this),this._oldForm&&Rn(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(zt){return new(zt||St)(m.rXU(J,10),m.rXU(oe,10),m.rXU(Un,8))};static#t=this.\u0275dir=m.FsC({type:St,selectors:[["","formGroup",""]],hostBindings:function(zt,Mn){1&zt&&m.bIt("submit",function(Xi){return Mn.onSubmit(Xi)})("reset",function(){return Mn.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m.Jv_([La]),m.Vt3,m.OA$]})}return St})();const bc={provide:Se,useExisting:(0,m.Rfq)(()=>nd)};let nd=(()=>{class St extends Ya{constructor(ht,zt,Mn){super(),this.name=null,this._parent=ht,this._setValidators(zt),this._setAsyncValidators(Mn)}_checkParentType(){rd(this._parent)}static#e=this.\u0275fac=function(zt){return new(zt||St)(m.rXU(Se,13),m.rXU(J,10),m.rXU(oe,10))};static#t=this.\u0275dir=m.FsC({type:St,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[m.Jv_([bc]),m.Vt3]})}return St})();const ua={provide:Se,useExisting:(0,m.Rfq)(()=>Qa)};let Qa=(()=>{class St extends Se{constructor(ht,zt,Mn){super(),this.name=null,this._parent=ht,this._setValidators(zt),this._setAsyncValidators(Mn)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return On(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){rd(this._parent)}static#e=this.\u0275fac=function(zt){return new(zt||St)(m.rXU(Se,13),m.rXU(J,10),m.rXU(oe,10))};static#t=this.\u0275dir=m.FsC({type:St,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[m.Jv_([ua]),m.Vt3]})}return St})();function rd(St){return!(St instanceof nd||St instanceof Ls||St instanceof Qa)}const tu={provide:he,useExisting:(0,m.Rfq)(()=>Us)};let Us=(()=>{class St extends he{set isDisabled(ht){}static#e=this._ngModelWarningSentOnce=!1;constructor(ht,zt,Mn,jr,Xi){super(),this._ngModelWarningConfig=Xi,this._added=!1,this.name=null,this.update=new m.bkB,this._ngModelWarningSent=!1,this._parent=ht,this._setValidators(zt),this._setAsyncValidators(Mn),this.valueAccessor=Nr(0,jr)}ngOnChanges(ht){this._added||this._setUpControl(),er(ht,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ht){this.viewModel=ht,this.update.emit(ht)}get path(){return On(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(zt){return new(zt||St)(m.rXU(Se,13),m.rXU(J,10),m.rXU(oe,10),m.rXU($,10),m.rXU(qa,8))};static#n=this.\u0275dir=m.FsC({type:St,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[m.Jv_([tu]),m.Vt3,m.OA$]})}return St})();let qr=(()=>{class St{constructor(){this._validator=y}ngOnChanges(ht){if(this.inputName in ht){const zt=this.normalizeInput(ht[this.inputName].currentValue);this._enabled=this.enabled(zt),this._validator=this._enabled?this.createValidator(zt):y,this._onChange&&this._onChange()}}validate(ht){return this._validator(ht)}registerOnValidatorChange(ht){this._onChange=ht}enabled(ht){return null!=ht}static#e=this.\u0275fac=function(zt){return new(zt||St)};static#t=this.\u0275dir=m.FsC({type:St,features:[m.OA$]})}return St})();const rs={provide:J,useExisting:(0,m.Rfq)(()=>Lc),multi:!0},ec={provide:J,useExisting:(0,m.Rfq)(()=>Ma),multi:!0};let Lc=(()=>{class St extends qr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=m.L39,this.createValidator=ht=>ve}enabled(ht){return ht}static#e=this.\u0275fac=(()=>{let ht;return function(Mn){return(ht||(ht=m.xGo(St)))(Mn||St)}})();static#t=this.\u0275dir=m.FsC({type:St,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(zt,Mn){2&zt&&m.BMQ("required",Mn._enabled?"":null)},inputs:{required:"required"},features:[m.Jv_([rs]),m.Vt3]})}return St})(),Ma=(()=>{class St extends Lc{constructor(){super(...arguments),this.createValidator=ht=>we}static#e=this.\u0275fac=(()=>{let ht;return function(Mn){return(ht||(ht=m.xGo(St)))(Mn||St)}})();static#t=this.\u0275dir=m.FsC({type:St,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(zt,Mn){2&zt&&m.BMQ("required",Mn._enabled?"":null)},features:[m.Jv_([ec]),m.Vt3]})}return St})();const gs={provide:J,useExisting:(0,m.Rfq)(()=>nc),multi:!0};let nc=(()=>{class St extends qr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=ht=>function ur(St){return"number"==typeof St?St:parseInt(St,10)}(ht),this.createValidator=ht=>u(ht)}static#e=this.\u0275fac=(()=>{let ht;return function(Mn){return(ht||(ht=m.xGo(St)))(Mn||St)}})();static#t=this.\u0275dir=m.FsC({type:St,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(zt,Mn){2&zt&&m.BMQ("maxlength",Mn._enabled?Mn.maxlength:null)},inputs:{maxlength:"maxlength"},features:[m.Jv_([gs]),m.Vt3]})}return St})(),$f=(()=>{class St{static#e=this.\u0275fac=function(zt){return new(zt||St)};static#t=this.\u0275mod=m.$C({type:St});static#n=this.\u0275inj=m.G2t({})}return St})();class id extends Bt{constructor(Ct,ht,zt){super(qt(ht),ft(zt,ht)),this.controls=Ct,this._initObservables(),this._setUpdateStrategy(ht),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ct){return this.controls[this._adjustIndex(Ct)]}push(Ct,ht={}){this.controls.push(Ct),this._registerControl(Ct),this.updateValueAndValidity({emitEvent:ht.emitEvent}),this._onCollectionChange()}insert(Ct,ht,zt={}){this.controls.splice(Ct,0,ht),this._registerControl(ht),this.updateValueAndValidity({emitEvent:zt.emitEvent})}removeAt(Ct,ht={}){let zt=this._adjustIndex(Ct);zt<0&&(zt=0),this.controls[zt]&&this.controls[zt]._registerOnCollectionChange(()=>{}),this.controls.splice(zt,1),this.updateValueAndValidity({emitEvent:ht.emitEvent})}setControl(Ct,ht,zt={}){let Mn=this._adjustIndex(Ct);Mn<0&&(Mn=0),this.controls[Mn]&&this.controls[Mn]._registerOnCollectionChange(()=>{}),this.controls.splice(Mn,1),ht&&(this.controls.splice(Mn,0,ht),this._registerControl(ht)),this.updateValueAndValidity({emitEvent:zt.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ct,ht={}){Je(this,0,Ct),Ct.forEach((zt,Mn)=>{He(this,!1,Mn),this.at(Mn).setValue(zt,{onlySelf:!0,emitEvent:ht.emitEvent})}),this.updateValueAndValidity(ht)}patchValue(Ct,ht={}){null!=Ct&&(Ct.forEach((zt,Mn)=>{this.at(Mn)&&this.at(Mn).patchValue(zt,{onlySelf:!0,emitEvent:ht.emitEvent})}),this.updateValueAndValidity(ht))}reset(Ct=[],ht={}){this._forEachChild((zt,Mn)=>{zt.reset(Ct[Mn],{onlySelf:!0,emitEvent:ht.emitEvent})}),this._updatePristine(ht,this),this._updateTouched(ht,this),this.updateValueAndValidity(ht)}getRawValue(){return this.controls.map(Ct=>Ct.getRawValue())}clear(Ct={}){this.controls.length<1||(this._forEachChild(ht=>ht._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ct.emitEvent}))}_adjustIndex(Ct){return Ct<0?Ct+this.length:Ct}_syncPendingControls(){let Ct=this.controls.reduce((ht,zt)=>!!zt._syncPendingControls()||ht,!1);return Ct&&this.updateValueAndValidity({onlySelf:!0}),Ct}_forEachChild(Ct){this.controls.forEach((ht,zt)=>{Ct(ht,zt)})}_updateValue(){this.value=this.controls.filter(Ct=>Ct.enabled||this.disabled).map(Ct=>Ct.value)}_anyControls(Ct){return this.controls.some(ht=>ht.enabled&&Ct(ht))}_setUpControls(){this._forEachChild(Ct=>this._registerControl(Ct))}_allControlsDisabled(){for(const Ct of this.controls)if(Ct.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ct){Ct.setParent(this),Ct._registerOnCollectionChange(this._onCollectionChange)}_find(Ct){return this.at(Ct)??null}}function Sl(St){return!!St&&(void 0!==St.asyncValidators||void 0!==St.validators||void 0!==St.updateOn)}let Co=(()=>{class St{constructor(){this.useNonNullable=!1}get nonNullable(){const ht=new St;return ht.useNonNullable=!0,ht}group(ht,zt=null){const Mn=this._reduceControls(ht);let jr={};return Sl(zt)?jr=zt:null!==zt&&(jr.validators=zt.validator,jr.asyncValidators=zt.asyncValidator),new Tt(Mn,jr)}record(ht,zt=null){const Mn=this._reduceControls(ht);return new pn(Mn,zt)}control(ht,zt,Mn){let jr={};return this.useNonNullable?(Sl(zt)?jr=zt:(jr.validators=zt,jr.asyncValidators=Mn),new Di(ht,{...jr,nonNullable:!0})):new Di(ht,zt,Mn)}array(ht,zt,Mn){const jr=ht.map(Xi=>this._createControl(Xi));return new id(jr,zt,Mn)}_reduceControls(ht){const zt={};return Object.keys(ht).forEach(Mn=>{zt[Mn]=this._createControl(ht[Mn])}),zt}_createControl(ht){return ht instanceof Di||ht instanceof Bt?ht:Array.isArray(ht)?this.control(ht[0],ht.length>1?ht[1]:null,ht.length>2?ht[2]:null):this.control(ht)}static#e=this.\u0275fac=function(zt){return new(zt||St)};static#t=this.\u0275prov=m.jDH({token:St,factory:St.\u0275fac,providedIn:"root"})}return St})(),sl=(()=>{class St{static withConfig(ht){return{ngModule:St,providers:[{provide:Un,useValue:ht.callSetDisabledState??An}]}}static#e=this.\u0275fac=function(zt){return new(zt||St)};static#t=this.\u0275mod=m.$C({type:St});static#n=this.\u0275inj=m.G2t({imports:[$f]})}return St})(),ru=(()=>{class St{static withConfig(ht){return{ngModule:St,providers:[{provide:qa,useValue:ht.warnOnNgModelWithFormControl??"always"},{provide:Un,useValue:ht.callSetDisabledState??An}]}}static#e=this.\u0275fac=function(zt){return new(zt||St)};static#t=this.\u0275mod=m.$C({type:St});static#n=this.\u0275inj=m.G2t({imports:[$f]})}return St})()},94073:()=>{"use strict";const Le=":";Error;const ce=function(Fe,...Ee){if(ce.translate){const Oe=ce.translate(Fe,Ee);Fe=Oe[0],Ee=Oe[1]}let ge=ke(Fe[0],Fe.raw[0]);for(let Oe=1;Oe<Fe.length;Oe++)ge+=Ee[Oe-1]+ke(Fe[Oe],Fe.raw[Oe]);return ge},Ae=":";function ke(Fe,Ee){return Ee.charAt(0)===Ae?Fe.substring(function y(Fe,Ee){for(let ge=1,Oe=1;ge<Fe.length;ge++,Oe++)if("\\"===Ee[Oe])Oe++;else if(Fe[ge]===Le)return ge;throw new Error(`Unterminated $localize metadata block in "${Ee}".`)}(Fe,Ee)+1):Fe}globalThis.$localize=ce},88834:(Le,z,E)=>{"use strict";E.d(z,{$z:()=>pe,Hl:()=>D,It:()=>le,iY:()=>w});var m=E(36860),x=E(93953),R=E(18617),W=E(86600);const S=["mat-button",""],L=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],M=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],$=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",V=["mat-icon-button",""],Z=["*"],te=new x.nKC("MAT_BUTTON_CONFIG"),J=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let oe=(()=>{class j{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(l){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,l)}get disableRipple(){return this._disableRipple}set disableRipple(l){this._disableRipple=l,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(l){this._disabled=l,this._updateRippleDisabled()}constructor(l,g,G,H){this._elementRef=l,this._platform=g,this._ngZone=G,this._animationMode=H,this._focusMonitor=(0,x.WQX)(R.FN),this._rippleLoader=(0,x.WQX)(W.Ej),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const ne=(0,x.WQX)(te,{optional:!0}),ce=l.nativeElement,Ae=ce.classList;this.disabledInteractive=ne?.disabledInteractive??!1,this.color=ne?.color??null,this._rippleLoader?.configureRipple(ce,{className:"mat-mdc-button-ripple"});for(const{attribute:ke,mdcClasses:Fe}of J)ce.hasAttribute(ke)&&Ae.add(...Fe)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(l="program",g){l?this._focusMonitor.focusVia(this._elementRef.nativeElement,l,g):this._elementRef.nativeElement.focus(g)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(g){x.QTQ()};static#t=this.\u0275dir=x.FsC({type:j,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",x.L39],disabled:[2,"disabled","disabled",x.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",x.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",x.L39]},features:[x.GFd]})}return j})(),ae=(()=>{class j extends oe{constructor(l,g,G,H){super(l,g,G,H),this._haltDisabledEvents=ne=>{this.disabled&&(ne.preventDefault(),ne.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(g){x.QTQ()};static#t=this.\u0275dir=x.FsC({type:j,inputs:{tabIndex:[2,"tabIndex","tabIndex",l=>null==l?void 0:(0,x.Udg)(l)]},features:[x.GFd,x.Vt3]})}return j})(),pe=(()=>{class j extends oe{constructor(l,g,G,H){super(l,g,G,H)}static#e=this.\u0275fac=function(g){return new(g||j)(x.rXU(x.aKT),x.rXU(m.OD),x.rXU(x.SKi),x.rXU(x.bc$,8))};static#t=this.\u0275cmp=x.VBU({type:j,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(g,G){2&g&&(x.BMQ("disabled",G._getDisabledAttribute())("aria-disabled",G._getAriaDisabled()),x.HbH(G.color?"mat-"+G.color:""),x.AVh("mat-mdc-button-disabled",G.disabled)("mat-mdc-button-disabled-interactive",G.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===G._animationMode)("mat-unthemed",!G.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[x.Vt3,x.aNF],attrs:S,ngContentSelectors:M,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(g,G){1&g&&(x.NAR(L),x.nrm(0,"span",0),x.SdG(1),x.j41(2,"span",1),x.SdG(3,1),x.k0s(),x.SdG(4,2),x.nrm(5,"span",2)(6,"span",3)),2&g&&x.AVh("mdc-button__ripple",!G._isFab)("mdc-fab__ripple",G._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return j})(),le=(()=>{class j extends ae{constructor(l,g,G,H){super(l,g,G,H)}static#e=this.\u0275fac=function(g){return new(g||j)(x.rXU(x.aKT),x.rXU(m.OD),x.rXU(x.SKi),x.rXU(x.bc$,8))};static#t=this.\u0275cmp=x.VBU({type:j,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(g,G){2&g&&(x.BMQ("disabled",G._getDisabledAttribute())("tabindex",G.disabled&&!G.disabledInteractive?-1:G.tabIndex)("aria-disabled",G._getDisabledAttribute()),x.HbH(G.color?"mat-"+G.color:""),x.AVh("mat-mdc-button-disabled",G.disabled)("mat-mdc-button-disabled-interactive",G.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===G._animationMode)("mat-unthemed",!G.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[x.Vt3,x.aNF],attrs:S,ngContentSelectors:M,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(g,G){1&g&&(x.NAR(L),x.nrm(0,"span",0),x.SdG(1),x.j41(2,"span",1),x.SdG(3,1),x.k0s(),x.SdG(4,2),x.nrm(5,"span",2)(6,"span",3)),2&g&&x.AVh("mdc-button__ripple",!G._isFab)("mdc-fab__ripple",G._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',$],encapsulation:2,changeDetection:0})}return j})(),w=(()=>{class j extends oe{constructor(l,g,G,H){super(l,g,G,H),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(g){return new(g||j)(x.rXU(x.aKT),x.rXU(m.OD),x.rXU(x.SKi),x.rXU(x.bc$,8))};static#t=this.\u0275cmp=x.VBU({type:j,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(g,G){2&g&&(x.BMQ("disabled",G._getDisabledAttribute())("aria-disabled",G._getAriaDisabled()),x.HbH(G.color?"mat-"+G.color:""),x.AVh("mat-mdc-button-disabled",G.disabled)("mat-mdc-button-disabled-interactive",G.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===G._animationMode)("mat-unthemed",!G.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[x.Vt3,x.aNF],attrs:V,ngContentSelectors:Z,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(g,G){1&g&&(x.NAR(),x.nrm(0,"span",0),x.SdG(1),x.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',$],encapsulation:2,changeDetection:0})}return j})(),D=(()=>{class j{static#e=this.\u0275fac=function(g){return new(g||j)};static#t=this.\u0275mod=x.$C({type:j});static#n=this.\u0275inj=x.G2t({imports:[W.yE,W.pZ,W.yE]})}return j})()},25596:(Le,z,E)=>{"use strict";E.d(z,{Hu:()=>we,Lc:()=>Z,MM:()=>te,QG:()=>le,RN:()=>F,WQ:()=>Q,YY:()=>re,aJ:()=>X,dh:()=>I,kF:()=>J,m2:()=>V});var m=E(93953),x=E(60177),R=E(86600);const W=["*"],S=[[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],[["","mat-card-image",""],["","matCardImage",""],["","mat-card-sm-image",""],["","matCardImageSmall",""],["","mat-card-md-image",""],["","matCardImageMedium",""],["","mat-card-lg-image",""],["","matCardImageLarge",""],["","mat-card-xl-image",""],["","matCardImageXLarge",""]],"*"],L=["mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","[mat-card-image], [matCardImage],\n                    [mat-card-sm-image], [matCardImageSmall],\n                    [mat-card-md-image], [matCardImageMedium],\n                    [mat-card-lg-image], [matCardImageLarge],\n                    [mat-card-xl-image], [matCardImageXLarge]","*"],M=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],N=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],$=new m.nKC("MAT_CARD_CONFIG");let F=(()=>{class De{constructor(u){this.appearance=u?.appearance||"raised"}static#e=this.\u0275fac=function(h){return new(h||De)(m.rXU($,8))};static#t=this.\u0275cmp=m.VBU({type:De,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(h,y){2&h&&m.AVh("mat-mdc-card-outlined","outlined"===y.appearance)("mdc-card--outlined","outlined"===y.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[m.aNF],ngContentSelectors:W,decls:1,vars:0,template:function(h,y){1&h&&(m.NAR(),m.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return De})(),I=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=m.FsC({type:De,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return De})(),X=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275cmp=m.VBU({type:De,selectors:[["mat-card-title-group"]],hostAttrs:[1,"mat-mdc-card-title-group"],standalone:!0,features:[m.aNF],ngContentSelectors:L,decls:4,vars:0,template:function(h,y){1&h&&(m.NAR(S),m.j41(0,"div"),m.SdG(1),m.k0s(),m.SdG(2,1),m.SdG(3,2))},encapsulation:2,changeDetection:0})}return De})(),V=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=m.FsC({type:De,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return De})(),Z=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=m.FsC({type:De,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return De})(),re=(()=>{class De{constructor(){this.align="start"}static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=m.FsC({type:De,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(h,y){2&h&&m.AVh("mat-mdc-card-actions-align-end","end"===y.align)},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0})}return De})(),te=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275cmp=m.VBU({type:De,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[m.aNF],ngContentSelectors:N,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(h,y){1&h&&(m.NAR(M),m.SdG(0),m.j41(1,"div",0),m.SdG(2,1),m.k0s(),m.SdG(3,2))},encapsulation:2,changeDetection:0})}return De})(),Q=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=m.FsC({type:De,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return De})(),J=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=m.FsC({type:De,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}return De})(),le=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275dir=m.FsC({type:De,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-mdc-card-avatar"],standalone:!0})}return De})(),we=(()=>{class De{static#e=this.\u0275fac=function(h){return new(h||De)};static#t=this.\u0275mod=m.$C({type:De});static#n=this.\u0275inj=m.G2t({imports:[R.yE,x.MD,R.yE]})}return De})()},86600:(Le,z,E)=>{"use strict";E.d(z,{r5:()=>ae,ed:()=>pe,es:()=>ye,QC:()=>At,is:()=>xe,$E:()=>_,yE:()=>we,Np:()=>ee,wT:()=>en,Sy:()=>yn,wg:()=>q,O5:()=>me,r6:()=>p,Ej:()=>qt,pZ:()=>O,ug:()=>ot,X0:()=>D,tO:()=>or,jb:()=>Zt,TL:()=>Jn});var m=E(93953),x=E(18617),R=E(28203),S=E(60177),L=E(36860),M=E(14085),N=E(21413),$=E(67336);const X=["text"],V=[[["mat-icon"]],"*"],Z=["mat-icon","*"];function re(ft,gt){if(1&ft&&m.nrm(0,"mat-pseudo-checkbox",1),2&ft){const vt=m.XpG();m.Y8G("disabled",vt.disabled)("state",vt.selected?"checked":"unchecked")}}function te(ft,gt){if(1&ft&&m.nrm(0,"mat-pseudo-checkbox",3),2&ft){const vt=m.XpG();m.Y8G("disabled",vt.disabled)}}function Q(ft,gt){if(1&ft&&(m.j41(0,"span",4),m.EFF(1),m.k0s()),2&ft){const vt=m.XpG();m.R7$(),m.SpI("(",vt.group.label,")")}}const J=["mat-internal-form-field",""],oe=["*"];let ae=(()=>{class ft{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#f=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return ft})(),pe=(()=>{class ft{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return ft})();const ve=new m.nKC("mat-sanity-checks",{providedIn:"root",factory:function le(){return!0}});let we=(()=>{class ft{constructor(vt,He,Je){this._sanityChecks=He,this._document=Je,this._hasDoneGlobalChecks=!1,vt._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(vt){return!(0,L.v8)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[vt])}static#e=this.\u0275fac=function(He){return new(He||ft)(m.KVO(x.Q_),m.KVO(ve,8),m.KVO(S.qQ))};static#t=this.\u0275mod=m.$C({type:ft});static#n=this.\u0275inj=m.G2t({imports:[R.jI,R.jI]})}return ft})();class D{constructor(gt,vt,He,Je,Bt){this._defaultMatcher=gt,this.ngControl=vt,this._parentFormGroup=He,this._parentForm=Je,this._stateChanges=Bt,this.errorState=!1}updateErrorState(){const gt=this.errorState,vt=this._parentFormGroup||this._parentForm,He=this.matcher||this._defaultMatcher,Je=this.ngControl?this.ngControl.control:null,Bt=He?.isErrorState(Je,vt)??!1;Bt!==gt&&(this.errorState=Bt,this._stateChanges.next())}}let ye=(()=>{class ft{isErrorState(vt,He){return!!(vt&&vt.invalid&&(vt.touched||He&&He.submitted))}static#e=this.\u0275fac=function(He){return new(He||ft)};static#t=this.\u0275prov=m.jDH({token:ft,factory:ft.\u0275fac,providedIn:"root"})}return ft})(),ee=(()=>{class ft{static#e=this.\u0275fac=function(He){return new(He||ft)};static#t=this.\u0275mod=m.$C({type:ft});static#n=this.\u0275inj=m.G2t({imports:[we,we]})}return ft})();var ie=function(ft){return ft[ft.FADING_IN=0]="FADING_IN",ft[ft.VISIBLE=1]="VISIBLE",ft[ft.FADING_OUT=2]="FADING_OUT",ft[ft.HIDDEN=3]="HIDDEN",ft}(ie||{});class ue{constructor(gt,vt,He,Je=!1){this._renderer=gt,this.element=vt,this.config=He,this._animationForciblyDisabledThroughCss=Je,this.state=ie.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const be=(0,L.BQ)({passive:!0,capture:!0});class Ie{constructor(){this._events=new Map,this._delegateEventHandler=gt=>{const vt=(0,L.Fb)(gt);vt&&this._events.get(gt.type)?.forEach((He,Je)=>{(Je===vt||Je.contains(vt))&&He.forEach(Bt=>Bt.handleEvent(gt))})}}addHandler(gt,vt,He,Je){const Bt=this._events.get(vt);if(Bt){const Tt=Bt.get(He);Tt?Tt.add(Je):Bt.set(He,new Set([Je]))}else this._events.set(vt,new Map([[He,new Set([Je])]])),gt.runOutsideAngular(()=>{document.addEventListener(vt,this._delegateEventHandler,be)})}removeHandler(gt,vt,He){const Je=this._events.get(gt);if(!Je)return;const Bt=Je.get(vt);Bt&&(Bt.delete(He),0===Bt.size&&Je.delete(vt),0===Je.size&&(this._events.delete(gt),document.removeEventListener(gt,this._delegateEventHandler,be)))}}const Ne={enterDuration:225,exitDuration:150},yt=(0,L.BQ)({passive:!0,capture:!0}),Ke=["mousedown","touchstart"],Re=["mouseup","mouseleave","touchend","touchcancel"];class ot{static#e=this._eventManager=new Ie;constructor(gt,vt,He,Je){this._target=gt,this._ngZone=vt,this._platform=Je,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Je.isBrowser&&(this._containerElement=(0,M.i8)(He))}fadeInRipple(gt,vt,He={}){const Je=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Bt={...Ne,...He.animation};He.centered&&(gt=Je.left+Je.width/2,vt=Je.top+Je.height/2);const Tt=He.radius||function U(ft,gt,vt){const He=Math.max(Math.abs(ft-vt.left),Math.abs(ft-vt.right)),Je=Math.max(Math.abs(gt-vt.top),Math.abs(gt-vt.bottom));return Math.sqrt(He*He+Je*Je)}(gt,vt,Je),Yt=gt-Je.left,Pn=vt-Je.top,cn=Bt.enterDuration,pn=document.createElement("div");pn.classList.add("mat-ripple-element"),pn.style.left=Yt-Tt+"px",pn.style.top=Pn-Tt+"px",pn.style.height=2*Tt+"px",pn.style.width=2*Tt+"px",null!=He.color&&(pn.style.backgroundColor=He.color),pn.style.transitionDuration=`${cn}ms`,this._containerElement.appendChild(pn);const vr=window.getComputedStyle(pn),An=vr.transitionDuration,On="none"===vr.transitionProperty||"0s"===An||"0s, 0s"===An||0===Je.width&&0===Je.height,nt=new ue(this,pn,He,On);pn.style.transform="scale3d(1, 1, 1)",nt.state=ie.FADING_IN,He.persistent||(this._mostRecentTransientRipple=nt);let $e=null;return!On&&(cn||Bt.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const it=()=>{$e&&($e.fallbackTimer=null),clearTimeout(dn),this._finishRippleTransition(nt)},jt=()=>this._destroyRipple(nt),dn=setTimeout(jt,cn+100);pn.addEventListener("transitionend",it),pn.addEventListener("transitioncancel",jt),$e={onTransitionEnd:it,onTransitionCancel:jt,fallbackTimer:dn}}),this._activeRipples.set(nt,$e),(On||!cn)&&this._finishRippleTransition(nt),nt}fadeOutRipple(gt){if(gt.state===ie.FADING_OUT||gt.state===ie.HIDDEN)return;const vt=gt.element,He={...Ne,...gt.config.animation};vt.style.transitionDuration=`${He.exitDuration}ms`,vt.style.opacity="0",gt.state=ie.FADING_OUT,(gt._animationForciblyDisabledThroughCss||!He.exitDuration)&&this._finishRippleTransition(gt)}fadeOutAll(){this._getActiveRipples().forEach(gt=>gt.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(gt=>{gt.config.persistent||gt.fadeOut()})}setupTriggerEvents(gt){const vt=(0,M.i8)(gt);!this._platform.isBrowser||!vt||vt===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=vt,Ke.forEach(He=>{ot._eventManager.addHandler(this._ngZone,He,vt,this)}))}handleEvent(gt){"mousedown"===gt.type?this._onMousedown(gt):"touchstart"===gt.type?this._onTouchStart(gt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Re.forEach(vt=>{this._triggerElement.addEventListener(vt,this,yt)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(gt){gt.state===ie.FADING_IN?this._startFadeOutTransition(gt):gt.state===ie.FADING_OUT&&this._destroyRipple(gt)}_startFadeOutTransition(gt){const vt=gt===this._mostRecentTransientRipple,{persistent:He}=gt.config;gt.state=ie.VISIBLE,!He&&(!vt||!this._isPointerDown)&&gt.fadeOut()}_destroyRipple(gt){const vt=this._activeRipples.get(gt)??null;this._activeRipples.delete(gt),this._activeRipples.size||(this._containerRect=null),gt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),gt.state=ie.HIDDEN,null!==vt&&(gt.element.removeEventListener("transitionend",vt.onTransitionEnd),gt.element.removeEventListener("transitioncancel",vt.onTransitionCancel),null!==vt.fallbackTimer&&clearTimeout(vt.fallbackTimer)),gt.element.remove()}_onMousedown(gt){const vt=(0,x._G)(gt),He=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!vt&&!He&&(this._isPointerDown=!0,this.fadeInRipple(gt.clientX,gt.clientY,this._target.rippleConfig))}_onTouchStart(gt){if(!this._target.rippleDisabled&&!(0,x.w6)(gt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const vt=gt.changedTouches;if(vt)for(let He=0;He<vt.length;He++)this.fadeInRipple(vt[He].clientX,vt[He].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(gt=>{!gt.config.persistent&&(gt.state===ie.VISIBLE||gt.config.terminateOnPointerUp&&gt.state===ie.FADING_IN)&&gt.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const gt=this._triggerElement;gt&&(Ke.forEach(vt=>ot._eventManager.removeHandler(vt,gt,this)),this._pointerUpEventsRegistered&&(Re.forEach(vt=>gt.removeEventListener(vt,this,yt)),this._pointerUpEventsRegistered=!1))}}const _=new m.nKC("mat-ripple-global-options");let p=(()=>{class ft{get disabled(){return this._disabled}set disabled(vt){vt&&this.fadeOutAllNonPersistent(),this._disabled=vt,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(vt){this._trigger=vt,this._setupTriggerEventsIfEnabled()}constructor(vt,He,Je,Bt,Tt){this._elementRef=vt,this._animationMode=Tt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Bt||{},this._rippleRenderer=new ot(this,He,vt,Je)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(vt,He=0,Je){return"number"==typeof vt?this._rippleRenderer.fadeInRipple(vt,He,{...this.rippleConfig,...Je}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...vt})}static#e=this.\u0275fac=function(He){return new(He||ft)(m.rXU(m.aKT),m.rXU(m.SKi),m.rXU(L.OD),m.rXU(_,8),m.rXU(m.bc$,8))};static#t=this.\u0275dir=m.FsC({type:ft,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(He,Je){2&He&&m.AVh("mat-ripple-unbounded",Je.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return ft})(),O=(()=>{class ft{static#e=this.\u0275fac=function(He){return new(He||ft)};static#t=this.\u0275mod=m.$C({type:ft});static#n=this.\u0275inj=m.G2t({imports:[we,we]})}return ft})(),q=(()=>{class ft{constructor(vt){this._animationMode=vt,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(He){return new(He||ft)(m.rXU(m.bc$,8))};static#t=this.\u0275cmp=m.VBU({type:ft,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(He,Je){2&He&&m.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===Je.state)("mat-pseudo-checkbox-checked","checked"===Je.state)("mat-pseudo-checkbox-disabled",Je.disabled)("mat-pseudo-checkbox-minimal","minimal"===Je.appearance)("mat-pseudo-checkbox-full","full"===Je.appearance)("_mat-animation-noopable","NoopAnimations"===Je._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[m.aNF],decls:0,vars:0,template:function(He,Je){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return ft})(),me=(()=>{class ft{static#e=this.\u0275fac=function(He){return new(He||ft)};static#t=this.\u0275mod=m.$C({type:ft});static#n=this.\u0275inj=m.G2t({imports:[we]})}return ft})();const xe=new m.nKC("MAT_OPTION_PARENT_COMPONENT"),At=new m.nKC("MatOptgroup");let bt=0;class Lt{constructor(gt,vt=!1){this.source=gt,this.isUserInput=vt}}let en=(()=>{class ft{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(vt){this._disabled=vt}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(vt,He,Je,Bt){this._element=vt,this._changeDetectorRef=He,this._parent=Je,this.group=Bt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+bt++,this.onSelectionChange=new m.bkB,this._stateChanges=new N.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(vt=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),vt&&this._emitSelectionChangeEvent())}deselect(vt=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),vt&&this._emitSelectionChangeEvent())}focus(vt,He){const Je=this._getHostElement();"function"==typeof Je.focus&&Je.focus(He)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(vt){(vt.keyCode===$.Fm||vt.keyCode===$.t6)&&!(0,$.rp)(vt)&&(this._selectViaInteraction(),vt.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const vt=this.viewValue;vt!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=vt)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(vt=!1){this.onSelectionChange.emit(new Lt(this,vt))}static#e=this.\u0275fac=function(He){return new(He||ft)(m.rXU(m.aKT),m.rXU(m.gRc),m.rXU(xe,8),m.rXU(At,8))};static#t=this.\u0275cmp=m.VBU({type:ft,selectors:[["mat-option"]],viewQuery:function(He,Je){if(1&He&&m.GBs(X,7),2&He){let Bt;m.mGM(Bt=m.lsd())&&(Je._text=Bt.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(He,Je){1&He&&m.bIt("click",function(){return Je._selectViaInteraction()})("keydown",function(Tt){return Je._handleKeydown(Tt)}),2&He&&(m.Mr5("id",Je.id),m.BMQ("aria-selected",Je.selected)("aria-disabled",Je.disabled.toString()),m.AVh("mdc-list-item--selected",Je.selected)("mat-mdc-option-multiple",Je.multiple)("mat-mdc-option-active",Je.active)("mdc-list-item--disabled",Je.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",m.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[m.GFd,m.aNF],ngContentSelectors:Z,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(He,Je){1&He&&(m.NAR(V),m.DNE(0,re,1,2,"mat-pseudo-checkbox",1),m.SdG(1),m.j41(2,"span",2,0),m.SdG(4,1),m.k0s(),m.DNE(5,te,1,1,"mat-pseudo-checkbox",3)(6,Q,2,1,"span",4),m.nrm(7,"div",5)),2&He&&(m.vxM(Je.multiple?0:-1),m.R7$(5),m.vxM(Je.multiple||!Je.selected||Je.hideSingleSelectionIndicator?-1:5),m.R7$(),m.vxM(Je.group&&Je.group._inert?6:-1),m.R7$(),m.Y8G("matRippleTrigger",Je._getHostElement())("matRippleDisabled",Je.disabled||Je.disableRipple))},dependencies:[q,p],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return ft})();function Zt(ft,gt,vt){if(vt.length){let He=gt.toArray(),Je=vt.toArray(),Bt=0;for(let Tt=0;Tt<ft+1;Tt++)He[Tt].group&&He[Tt].group===Je[Bt]&&Bt++;return Bt}return 0}function Jn(ft,gt,vt,He){return ft<vt?ft:ft+gt>vt+He?Math.max(0,ft-He+gt):vt}let yn=(()=>{class ft{static#e=this.\u0275fac=function(He){return new(He||ft)};static#t=this.\u0275mod=m.$C({type:ft});static#n=this.\u0275inj=m.G2t({imports:[O,we,me]})}return ft})();const Vt={capture:!0},$t=["focus","mousedown","mouseenter","touchstart"],mt="mat-ripple-loader-uninitialized",st="mat-ripple-loader-class-name",Nt="mat-ripple-loader-centered",Kt="mat-ripple-loader-disabled";let qt=(()=>{class ft{constructor(){this._document=(0,m.WQX)(S.qQ,{optional:!0}),this._animationMode=(0,m.WQX)(m.bc$,{optional:!0}),this._globalRippleOptions=(0,m.WQX)(_,{optional:!0}),this._platform=(0,m.WQX)(L.OD),this._ngZone=(0,m.WQX)(m.SKi),this._hosts=new Map,this._onInteraction=vt=>{const He=(0,L.Fb)(vt);if(He instanceof HTMLElement){const Je=He.closest(`[${mt}="${this._globalRippleOptions?.namespace??""}"]`);Je&&this._createRipple(Je)}},this._ngZone.runOutsideAngular(()=>{for(const vt of $t)this._document?.addEventListener(vt,this._onInteraction,Vt)})}ngOnDestroy(){const vt=this._hosts.keys();for(const He of vt)this.destroyRipple(He);for(const He of $t)this._document?.removeEventListener(He,this._onInteraction,Vt)}configureRipple(vt,He){vt.setAttribute(mt,this._globalRippleOptions?.namespace??""),(He.className||!vt.hasAttribute(st))&&vt.setAttribute(st,He.className||""),He.centered&&vt.setAttribute(Nt,""),He.disabled&&vt.setAttribute(Kt,"")}getRipple(vt){return this._hosts.get(vt)||this._createRipple(vt)}setDisabled(vt,He){const Je=this._hosts.get(vt);Je?Je.disabled=He:He?vt.setAttribute(Kt,""):vt.removeAttribute(Kt)}_createRipple(vt){if(!this._document)return;const He=this._hosts.get(vt);if(He)return He;vt.querySelector(".mat-ripple")?.remove();const Je=this._document.createElement("span");Je.classList.add("mat-ripple",vt.getAttribute(st)),vt.append(Je);const Bt=new p(new m.aKT(Je),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return Bt._isInitialized=!0,Bt.trigger=vt,Bt.centered=vt.hasAttribute(Nt),Bt.disabled=vt.hasAttribute(Kt),this.attachRipple(vt,Bt),Bt}attachRipple(vt,He){vt.removeAttribute(mt),this._hosts.set(vt,He)}destroyRipple(vt){const He=this._hosts.get(vt);He&&(He.ngOnDestroy(),this._hosts.delete(vt))}static#e=this.\u0275fac=function(He){return new(He||ft)};static#t=this.\u0275prov=m.jDH({token:ft,factory:ft.\u0275fac,providedIn:"root"})}return ft})(),or=(()=>{class ft{static#e=this.\u0275fac=function(He){return new(He||ft)};static#t=this.\u0275cmp=m.VBU({type:ft,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(He,Je){2&He&&m.AVh("mdc-form-field--align-end","before"===Je.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[m.aNF],attrs:J,ngContentSelectors:oe,decls:1,vars:0,template:function(He,Je){1&He&&(m.NAR(),m.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return ft})()},75351:(Le,z,E)=>{"use strict";E.d(z,{Vh:()=>Oe,bZ:()=>ie,E7:()=>yt,tx:()=>be,Yi:()=>Be,hM:()=>ot,CP:()=>Ee,BI:()=>Ne});var m=E(66969),x=E(60177),R=E(93953),W=E(18617),S=E(36860),L=E(76939),M=E(67336),N=E(21413),$=E(59030),F=E(7673),I=E(28203),X=E(99172);function V(p,O){}class Z{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let te=(()=>{class p extends L.lb{constructor(q,me,xe,qe,At,ut,bt,Lt){super(),this._elementRef=q,this._focusTrapFactory=me,this._config=qe,this._interactivityChecker=At,this._ngZone=ut,this._overlayRef=bt,this._focusMonitor=Lt,this._platform=(0,R.WQX)(S.OD),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,R.WQX)(R.gRc),this._injector=(0,R.WQX)(R.zZn),this._isDestroyed=!1,this.attachDomPortal=en=>{this._portalOutlet.hasAttached();const Zt=this._portalOutlet.attachDomPortal(en);return this._contentAttached(),Zt},this._document=xe,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(q){this._ariaLabelledByQueue.push(q),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(q){const me=this._ariaLabelledByQueue.indexOf(q);me>-1&&(this._ariaLabelledByQueue.splice(me,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(q){this._portalOutlet.hasAttached();const me=this._portalOutlet.attachComponentPortal(q);return this._contentAttached(),me}attachTemplatePortal(q){this._portalOutlet.hasAttached();const me=this._portalOutlet.attachTemplatePortal(q);return this._contentAttached(),me}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(q,me){this._interactivityChecker.isFocusable(q)||(q.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const xe=()=>{q.removeEventListener("blur",xe),q.removeEventListener("mousedown",xe),q.removeAttribute("tabindex")};q.addEventListener("blur",xe),q.addEventListener("mousedown",xe)})),q.focus(me)}_focusByCssSelector(q,me){let xe=this._elementRef.nativeElement.querySelector(q);xe&&this._forceFocus(xe,me)}_trapFocus(){this._isDestroyed||(0,R.mal)(()=>{const q=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||q.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const q=this._config.restoreFocus;let me=null;if("string"==typeof q?me=this._document.querySelector(q):"boolean"==typeof q?me=q?this._elementFocusedBeforeDialogWasOpened:null:q&&(me=q),this._config.restoreFocus&&me&&"function"==typeof me.focus){const xe=(0,S.vc)(),qe=this._elementRef.nativeElement;(!xe||xe===this._document.body||xe===qe||qe.contains(xe))&&(this._focusMonitor?(this._focusMonitor.focusVia(me,this._closeInteractionType),this._closeInteractionType=null):me.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const q=this._elementRef.nativeElement,me=(0,S.vc)();return q===me||q.contains(me)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,S.vc)()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(me){return new(me||p)(R.rXU(R.aKT),R.rXU(W.GX),R.rXU(x.qQ,8),R.rXU(Z),R.rXU(W.Z7),R.rXU(R.SKi),R.rXU(m.yY),R.rXU(W.FN))};static#t=this.\u0275cmp=R.VBU({type:p,selectors:[["cdk-dialog-container"]],viewQuery:function(me,xe){if(1&me&&R.GBs(L.I3,7),2&me){let qe;R.mGM(qe=R.lsd())&&(xe._portalOutlet=qe.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(me,xe){2&me&&R.BMQ("id",xe._config.id||null)("role",xe._config.role)("aria-modal",xe._config.ariaModal)("aria-labelledby",xe._config.ariaLabel?null:xe._ariaLabelledByQueue[0])("aria-label",xe._config.ariaLabel)("aria-describedby",xe._config.ariaDescribedBy||null)},standalone:!0,features:[R.Vt3,R.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(me,xe){1&me&&R.DNE(0,V,0,0,"ng-template",0)},dependencies:[L.I3],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return p})();class Q{constructor(O,q){this.overlayRef=O,this.config=q,this.closed=new N.B,this.disableClose=q.disableClose,this.backdropClick=O.backdropClick(),this.keydownEvents=O.keydownEvents(),this.outsidePointerEvents=O.outsidePointerEvents(),this.id=q.id,this.keydownEvents.subscribe(me=>{me.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(me)&&(me.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=O.detachments().subscribe(()=>{!1!==q.closeOnOverlayDetachments&&this.close()})}close(O,q){if(this.containerInstance){const me=this.closed;this.containerInstance._closeInteractionType=q?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),me.next(O),me.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(O="",q=""){return this.overlayRef.updateSize({width:O,height:q}),this}addPanelClass(O){return this.overlayRef.addPanelClass(O),this}removePanelClass(O){return this.overlayRef.removePanelClass(O),this}}const J=new R.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const p=(0,R.WQX)(m.hJ);return()=>p.scrollStrategies.block()}}),oe=new R.nKC("DialogData"),se=new R.nKC("DefaultDialogConfig");let le=0,ve=(()=>{class p{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(q,me,xe,qe,At,ut){this._overlay=q,this._injector=me,this._defaultOptions=xe,this._parentDialog=qe,this._overlayContainer=At,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new N.B,this._afterOpenedAtThisLevel=new N.B,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,$.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,X.Z)(void 0))),this._scrollStrategy=ut}open(q,me){(me={...this._defaultOptions||new Z,...me}).id=me.id||"cdk-dialog-"+le++,me.id&&this.getDialogById(me.id);const qe=this._getOverlayConfig(me),At=this._overlay.create(qe),ut=new Q(At,me),bt=this._attachContainer(At,ut,me);return ut.containerInstance=bt,this._attachDialogContent(q,ut,bt,me),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(ut),ut.closed.subscribe(()=>this._removeOpenDialog(ut,!0)),this.afterOpened.next(ut),ut}closeAll(){we(this.openDialogs,q=>q.close())}getDialogById(q){return this.openDialogs.find(me=>me.id===q)}ngOnDestroy(){we(this._openDialogsAtThisLevel,q=>{!1===q.config.closeOnDestroy&&this._removeOpenDialog(q,!1)}),we(this._openDialogsAtThisLevel,q=>q.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(q){const me=new m.rR({positionStrategy:q.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:q.scrollStrategy||this._scrollStrategy(),panelClass:q.panelClass,hasBackdrop:q.hasBackdrop,direction:q.direction,minWidth:q.minWidth,minHeight:q.minHeight,maxWidth:q.maxWidth,maxHeight:q.maxHeight,width:q.width,height:q.height,disposeOnNavigation:q.closeOnNavigation});return q.backdropClass&&(me.backdropClass=q.backdropClass),me}_attachContainer(q,me,xe){const qe=xe.injector||xe.viewContainerRef?.injector,At=[{provide:Z,useValue:xe},{provide:Q,useValue:me},{provide:m.yY,useValue:q}];let ut;xe.container?"function"==typeof xe.container?ut=xe.container:(ut=xe.container.type,At.push(...xe.container.providers(xe))):ut=te;const bt=new L.A8(ut,xe.viewContainerRef,R.zZn.create({parent:qe||this._injector,providers:At}),xe.componentFactoryResolver);return q.attach(bt).instance}_attachDialogContent(q,me,xe,qe){if(q instanceof R.C4Q){const At=this._createInjector(qe,me,xe,void 0);let ut={$implicit:qe.data,dialogRef:me};qe.templateContext&&(ut={...ut,..."function"==typeof qe.templateContext?qe.templateContext():qe.templateContext}),xe.attachTemplatePortal(new L.VA(q,null,ut,At))}else{const At=this._createInjector(qe,me,xe,this._injector),ut=xe.attachComponentPortal(new L.A8(q,qe.viewContainerRef,At,qe.componentFactoryResolver));me.componentRef=ut,me.componentInstance=ut.instance}}_createInjector(q,me,xe,qe){const At=q.injector||q.viewContainerRef?.injector,ut=[{provide:oe,useValue:q.data},{provide:Q,useValue:me}];return q.providers&&("function"==typeof q.providers?ut.push(...q.providers(me,q,xe)):ut.push(...q.providers)),q.direction&&(!At||!At.get(I.dS,null,{optional:!0}))&&ut.push({provide:I.dS,useValue:{value:q.direction,change:(0,F.of)()}}),R.zZn.create({parent:At||qe,providers:ut})}_removeOpenDialog(q,me){const xe=this.openDialogs.indexOf(q);xe>-1&&(this.openDialogs.splice(xe,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((qe,At)=>{qe?At.setAttribute("aria-hidden",qe):At.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),me&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const q=this._overlayContainer.getContainerElement();if(q.parentElement){const me=q.parentElement.children;for(let xe=me.length-1;xe>-1;xe--){const qe=me[xe];qe!==q&&"SCRIPT"!==qe.nodeName&&"STYLE"!==qe.nodeName&&!qe.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(qe,qe.getAttribute("aria-hidden")),qe.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const q=this._parentDialog;return q?q._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(me){return new(me||p)(R.KVO(m.hJ),R.KVO(R.zZn),R.KVO(se,8),R.KVO(p,12),R.KVO(m.Sf),R.KVO(J))};static#t=this.\u0275prov=R.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})();function we(p,O){let q=p.length;for(;q--;)O(p[q])}let De=(()=>{class p{static#e=this.\u0275fac=function(me){return new(me||p)};static#t=this.\u0275mod=R.$C({type:p});static#n=this.\u0275inj=R.G2t({providers:[ve],imports:[m.z_,L.jc,W.Pd,L.jc]})}return p})();var k=E(14085),u=E(57786),h=E(5964),y=E(96697),w=E(67333),T=E(86600);function j(p,O){}E(49969);class A{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const l="mdc-dialog--open",g="mdc-dialog--opening",G="mdc-dialog--closing";let ce=(()=>{class p extends te{constructor(q,me,xe,qe,At,ut,bt,Lt,en){super(q,me,xe,qe,At,ut,bt,en),this._animationMode=Lt,this._animationStateChanged=new R.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?ke(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?ke(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Ae,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(g,l)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(l),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(l),this._animationsEnabled?(this._hostElement.style.setProperty(Ae,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(G)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(q){this._actionSectionCount+=q,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(g,G)}_waitForAnimationToComplete(q,me){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(me,q)}_requestAnimationFrame(q){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(q):q()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(q){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:q})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(q){const me=super.attachComponentPortal(q);return me.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),me}static#e=this.\u0275fac=function(me){return new(me||p)(R.rXU(R.aKT),R.rXU(W.GX),R.rXU(x.qQ,8),R.rXU(A),R.rXU(W.Z7),R.rXU(R.SKi),R.rXU(m.yY),R.rXU(R.bc$,8),R.rXU(W.FN))};static#t=this.\u0275cmp=R.VBU({type:p,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(me,xe){2&me&&(R.Mr5("id",xe._config.id),R.BMQ("aria-modal",xe._config.ariaModal)("role",xe._config.role)("aria-labelledby",xe._config.ariaLabel?null:xe._ariaLabelledByQueue[0])("aria-label",xe._config.ariaLabel)("aria-describedby",xe._config.ariaDescribedBy||null),R.AVh("_mat-animation-noopable",!xe._animationsEnabled)("mat-mdc-dialog-container-with-actions",xe._actionSectionCount>0))},standalone:!0,features:[R.Vt3,R.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(me,xe){1&me&&(R.j41(0,"div",0)(1,"div",1),R.DNE(2,j,0,0,"ng-template",2),R.k0s()())},dependencies:[L.I3],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, inherit);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, inherit);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return p})();const Ae="--mat-dialog-transition-duration";function ke(p){return null==p?null:"number"==typeof p?p:p.endsWith("ms")?(0,k.OE)(p.substring(0,p.length-2)):p.endsWith("s")?1e3*(0,k.OE)(p.substring(0,p.length-1)):"0"===p?0:null}var Fe=function(p){return p[p.OPEN=0]="OPEN",p[p.CLOSING=1]="CLOSING",p[p.CLOSED=2]="CLOSED",p}(Fe||{});class Ee{constructor(O,q,me){this._ref=O,this._containerInstance=me,this._afterOpened=new N.B,this._beforeClosed=new N.B,this._state=Fe.OPEN,this.disableClose=q.disableClose,this.id=O.id,O.addPanelClass("mat-mdc-dialog-panel"),me._animationStateChanged.pipe((0,h.p)(xe=>"opened"===xe.state),(0,y.s)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),me._animationStateChanged.pipe((0,h.p)(xe=>"closed"===xe.state),(0,y.s)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),O.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,u.h)(this.backdropClick(),this.keydownEvents().pipe((0,h.p)(xe=>xe.keyCode===M._f&&!this.disableClose&&!(0,M.rp)(xe)))).subscribe(xe=>{this.disableClose||(xe.preventDefault(),ge(this,"keydown"===xe.type?"keyboard":"mouse"))})}close(O){this._result=O,this._containerInstance._animationStateChanged.pipe((0,h.p)(q=>"closing"===q.state),(0,y.s)(1)).subscribe(q=>{this._beforeClosed.next(O),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),q.totalTime+100)}),this._state=Fe.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(O){let q=this._ref.config.positionStrategy;return O&&(O.left||O.right)?O.left?q.left(O.left):q.right(O.right):q.centerHorizontally(),O&&(O.top||O.bottom)?O.top?q.top(O.top):q.bottom(O.bottom):q.centerVertically(),this._ref.updatePosition(),this}updateSize(O="",q=""){return this._ref.updateSize(O,q),this}addPanelClass(O){return this._ref.addPanelClass(O),this}removePanelClass(O){return this._ref.removePanelClass(O),this}getState(){return this._state}_finishDialogClose(){this._state=Fe.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function ge(p,O,q){return p._closeInteractionType=O,p.close(q)}const Oe=new R.nKC("MatMdcDialogData"),ye=new R.nKC("mat-mdc-dialog-default-options"),Se=new R.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const p=(0,R.WQX)(m.hJ);return()=>p.scrollStrategies.block()}});let ee=0,ie=(()=>{class p{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const q=this._parentDialog;return q?q._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(q,me,xe,qe,At,ut,bt,Lt){this._overlay=q,this._defaultOptions=qe,this._scrollStrategy=At,this._parentDialog=ut,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new N.B,this._afterOpenedAtThisLevel=new N.B,this.dialogConfigClass=A,this.afterAllClosed=(0,$.v)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,X.Z)(void 0))),this._dialog=me.get(ve),this._dialogRefConstructor=Ee,this._dialogContainerType=ce,this._dialogDataToken=Oe}open(q,me){let xe;(me={...this._defaultOptions||new A,...me}).id=me.id||"mat-mdc-dialog-"+ee++,me.scrollStrategy=me.scrollStrategy||this._scrollStrategy();const qe=this._dialog.open(q,{...me,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:me},{provide:Z,useValue:me}]},templateContext:()=>({dialogRef:xe}),providers:(At,ut,bt)=>(xe=new this._dialogRefConstructor(At,me,bt),xe.updatePosition(me?.position),[{provide:this._dialogContainerType,useValue:bt},{provide:this._dialogDataToken,useValue:ut.data},{provide:this._dialogRefConstructor,useValue:xe}])});return xe.componentRef=qe.componentRef,xe.componentInstance=qe.componentInstance,this.openDialogs.push(xe),this.afterOpened.next(xe),xe.afterClosed().subscribe(()=>{const At=this.openDialogs.indexOf(xe);At>-1&&(this.openDialogs.splice(At,1),this.openDialogs.length||this._getAfterAllClosed().next())}),xe}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(q){return this.openDialogs.find(me=>me.id===q)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(q){let me=q.length;for(;me--;)q[me].close()}static#e=this.\u0275fac=function(me){return new(me||p)(R.KVO(m.hJ),R.KVO(R.zZn),R.KVO(x.aZ,8),R.KVO(ye,8),R.KVO(Se),R.KVO(p,12),R.KVO(m.Sf),R.KVO(R.bc$,8))};static#t=this.\u0275prov=R.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})(),ue=0,be=(()=>{class p{constructor(q,me,xe){this.dialogRef=q,this._elementRef=me,this._dialog=xe,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Ke(this._elementRef,this._dialog.openDialogs))}ngOnChanges(q){const me=q._matDialogClose||q._matDialogCloseResult;me&&(this.dialogResult=me.currentValue)}_onButtonClick(q){ge(this.dialogRef,0===q.screenX&&0===q.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(me){return new(me||p)(R.rXU(Ee,8),R.rXU(R.aKT),R.rXU(ie))};static#t=this.\u0275dir=R.FsC({type:p,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(me,xe){1&me&&R.bIt("click",function(At){return xe._onButtonClick(At)}),2&me&&R.BMQ("aria-label",xe.ariaLabel||null)("type",xe.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[R.OA$]})}return p})(),Ie=(()=>{class p{constructor(q,me,xe){this._dialogRef=q,this._elementRef=me,this._dialog=xe}ngOnInit(){this._dialogRef||(this._dialogRef=Ke(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(me){return new(me||p)(R.rXU(Ee,8),R.rXU(R.aKT),R.rXU(ie))};static#t=this.\u0275dir=R.FsC({type:p,standalone:!0})}return p})(),Ne=(()=>{class p extends Ie{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+ue++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let q;return function(xe){return(q||(q=R.xGo(p)))(xe||p)}})();static#t=this.\u0275dir=R.FsC({type:p,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(me,xe){2&me&&R.Mr5("id",xe.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[R.Vt3]})}return p})(),Be=(()=>{class p{static#e=this.\u0275fac=function(me){return new(me||p)};static#t=this.\u0275dir=R.FsC({type:p,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[R.nM4([w.uv])]})}return p})(),yt=(()=>{class p extends Ie{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let q;return function(xe){return(q||(q=R.xGo(p)))(xe||p)}})();static#t=this.\u0275dir=R.FsC({type:p,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(me,xe){2&me&&R.AVh("mat-mdc-dialog-actions-align-start","start"===xe.align)("mat-mdc-dialog-actions-align-center","center"===xe.align)("mat-mdc-dialog-actions-align-end","end"===xe.align)},inputs:{align:"align"},standalone:!0,features:[R.Vt3]})}return p})();function Ke(p,O){let q=p.nativeElement.parentElement;for(;q&&!q.classList.contains("mat-mdc-dialog-container");)q=q.parentElement;return q?O.find(me=>me.id===q.id):null}let ot=(()=>{class p{static#e=this.\u0275fac=function(me){return new(me||p)};static#t=this.\u0275mod=R.$C({type:p});static#n=this.\u0275inj=R.G2t({providers:[ie],imports:[De,m.z_,L.jc,T.yE,T.yE]})}return p})()},71997:(Le,z,E)=>{"use strict";E.d(z,{q:()=>W,w:()=>S});var m=E(93953),x=E(14085),R=E(86600);let W=(()=>{class L{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(N){this._vertical=(0,x.he)(N)}get inset(){return this._inset}set inset(N){this._inset=(0,x.he)(N)}static#e=this.\u0275fac=function($){return new($||L)};static#t=this.\u0275cmp=m.VBU({type:L,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function($,F){2&$&&(m.BMQ("aria-orientation",F.vertical?"vertical":"horizontal"),m.AVh("mat-divider-vertical",F.vertical)("mat-divider-horizontal",!F.vertical)("mat-divider-inset",F.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[m.aNF],decls:0,vars:0,template:function($,F){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return L})(),S=(()=>{class L{static#e=this.\u0275fac=function($){return new($||L)};static#t=this.\u0275mod=m.$C({type:L});static#n=this.\u0275inj=m.G2t({imports:[R.yE,R.yE]})}return L})()},53719:(Le,z,E)=>{"use strict";E.d(z,{MV:()=>Fe,RG:()=>xe,TL:()=>Ae,U$:()=>ot,nJ:()=>H,qT:()=>Ne,rl:()=>me,xb:()=>Re,yw:()=>ye});var m=E(93953),x=E(28203),R=E(14085),W=E(36860),S=E(60177),L=E(18359),M=E(21413),N=E(57786),$=E(56977),F=E(98170),I=E(49969),X=E(49937),V=E(86600);const Z=["notch"],re=["matFormFieldNotchedOutline",""],te=["*"],Q=["textField"],J=["iconPrefixContainer"],oe=["textPrefixContainer"],se=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ae=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function pe(qe,At){1&qe&&m.nrm(0,"span",19)}function le(qe,At){if(1&qe&&(m.j41(0,"label",18),m.SdG(1,1),m.DNE(2,pe,1,0,"span",19),m.k0s()),2&qe){const ut=m.XpG(2);m.Y8G("floating",ut._shouldLabelFloat())("monitorResize",ut._hasOutline())("id",ut._labelId),m.BMQ("for",ut._control.disableAutomaticLabeling?null:ut._control.id),m.R7$(2),m.vxM(!ut.hideRequiredMarker&&ut._control.required?2:-1)}}function ve(qe,At){if(1&qe&&m.DNE(0,le,3,5,"label",18),2&qe){const ut=m.XpG();m.vxM(ut._hasFloatingLabel()?0:-1)}}function we(qe,At){1&qe&&m.nrm(0,"div",5)}function De(qe,At){}function k(qe,At){if(1&qe&&m.DNE(0,De,0,0,"ng-template",11),2&qe){m.XpG(2);const ut=m.sdS(1);m.Y8G("ngTemplateOutlet",ut)}}function u(qe,At){if(1&qe&&(m.j41(0,"div",7),m.DNE(1,k,1,1,null,11),m.k0s()),2&qe){const ut=m.XpG();m.Y8G("matFormFieldNotchedOutlineOpen",ut._shouldLabelFloat()),m.R7$(),m.vxM(ut._forceDisplayInfixLabel()?-1:1)}}function h(qe,At){1&qe&&(m.j41(0,"div",8,2),m.SdG(2,2),m.k0s())}function y(qe,At){1&qe&&(m.j41(0,"div",9,3),m.SdG(2,3),m.k0s())}function w(qe,At){}function T(qe,At){if(1&qe&&m.DNE(0,w,0,0,"ng-template",11),2&qe){m.XpG();const ut=m.sdS(1);m.Y8G("ngTemplateOutlet",ut)}}function D(qe,At){1&qe&&(m.j41(0,"div",12),m.SdG(1,4),m.k0s())}function j(qe,At){1&qe&&(m.j41(0,"div",13),m.SdG(1,5),m.k0s())}function A(qe,At){1&qe&&m.nrm(0,"div",14)}function l(qe,At){if(1&qe&&(m.j41(0,"div",16),m.SdG(1,6),m.k0s()),2&qe){const ut=m.XpG();m.Y8G("@transitionMessages",ut._subscriptAnimationState)}}function g(qe,At){if(1&qe&&(m.j41(0,"mat-hint",20),m.EFF(1),m.k0s()),2&qe){const ut=m.XpG(2);m.Y8G("id",ut._hintLabelId),m.R7$(),m.JRh(ut.hintLabel)}}function G(qe,At){if(1&qe&&(m.j41(0,"div",17),m.DNE(1,g,2,2,"mat-hint",20),m.SdG(2,7),m.nrm(3,"div",21),m.SdG(4,8),m.k0s()),2&qe){const ut=m.XpG();m.Y8G("@transitionMessages",ut._subscriptAnimationState),m.R7$(),m.vxM(ut.hintLabel?1:-1)}}let H=(()=>{class qe{static#e=this.\u0275fac=function(bt){return new(bt||qe)};static#t=this.\u0275dir=m.FsC({type:qe,selectors:[["mat-label"]],standalone:!0})}return qe})(),ne=0;const ce=new m.nKC("MatError");let Ae=(()=>{class qe{constructor(ut,bt){this.id="mat-mdc-error-"+ne++,ut||bt.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(bt){return new(bt||qe)(m.kS0("aria-live"),m.rXU(m.aKT))};static#t=this.\u0275dir=m.FsC({type:qe,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(bt,Lt){2&bt&&m.Mr5("id",Lt.id)},inputs:{id:"id"},standalone:!0,features:[m.Jv_([{provide:ce,useExisting:qe}])]})}return qe})(),ke=0,Fe=(()=>{class qe{constructor(){this.align="start",this.id="mat-mdc-hint-"+ke++}static#e=this.\u0275fac=function(bt){return new(bt||qe)};static#t=this.\u0275dir=m.FsC({type:qe,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(bt,Lt){2&bt&&(m.Mr5("id",Lt.id),m.BMQ("align",null),m.AVh("mat-mdc-form-field-hint-end","end"===Lt.align))},inputs:{align:"align",id:"id"},standalone:!0})}return qe})();const Ee=new m.nKC("MatPrefix"),Oe=new m.nKC("MatSuffix");let ye=(()=>{class qe{constructor(){this._isText=!1}set _isTextSelector(ut){this._isText=!0}static#e=this.\u0275fac=function(bt){return new(bt||qe)};static#t=this.\u0275dir=m.FsC({type:qe,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[m.Jv_([{provide:Oe,useExisting:qe}])]})}return qe})();const Se=new m.nKC("FloatingLabelParent");let he=(()=>{class qe{get floating(){return this._floating}set floating(ut){this._floating=ut,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(ut){this._monitorResize=ut,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(ut){this._elementRef=ut,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,m.WQX)(F.a),this._ngZone=(0,m.WQX)(m.SKi),this._parent=(0,m.WQX)(Se),this._resizeSubscription=new L.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function fe(qe){if(null!==qe.offsetParent)return qe.scrollWidth;const ut=qe.cloneNode(!0);ut.style.setProperty("position","absolute"),ut.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(ut);const bt=ut.scrollWidth;return ut.remove(),bt}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(bt){return new(bt||qe)(m.rXU(m.aKT))};static#t=this.\u0275dir=m.FsC({type:qe,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(bt,Lt){2&bt&&m.AVh("mdc-floating-label--float-above",Lt.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return qe})();const ee="mdc-line-ripple--active",ie="mdc-line-ripple--deactivating";let ue=(()=>{class qe{constructor(ut,bt){this._elementRef=ut,this._handleTransitionEnd=Lt=>{const en=this._elementRef.nativeElement.classList,Zt=en.contains(ie);"opacity"===Lt.propertyName&&Zt&&en.remove(ee,ie)},bt.runOutsideAngular(()=>{ut.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const ut=this._elementRef.nativeElement.classList;ut.remove(ie),ut.add(ee)}deactivate(){this._elementRef.nativeElement.classList.add(ie)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(bt){return new(bt||qe)(m.rXU(m.aKT),m.rXU(m.SKi))};static#t=this.\u0275dir=m.FsC({type:qe,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return qe})(),be=(()=>{class qe{constructor(ut,bt){this._elementRef=ut,this._ngZone=bt,this.open=!1}ngAfterViewInit(){const ut=this._elementRef.nativeElement.querySelector(".mdc-floating-label");ut?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(ut.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>ut.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(ut){this._notch.nativeElement.style.width=this.open&&ut?`calc(${ut}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(bt){return new(bt||qe)(m.rXU(m.aKT),m.rXU(m.SKi))};static#t=this.\u0275cmp=m.VBU({type:qe,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(bt,Lt){if(1&bt&&m.GBs(Z,5),2&bt){let en;m.mGM(en=m.lsd())&&(Lt._notch=en.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(bt,Lt){2&bt&&m.AVh("mdc-notched-outline--notched",Lt.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[m.aNF],attrs:re,ngContentSelectors:te,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(bt,Lt){1&bt&&(m.NAR(),m.nrm(0,"div",1),m.j41(1,"div",2,0),m.SdG(3),m.k0s(),m.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return qe})();const Ie={transitionMessages:(0,I.hZ)("transitionMessages",[(0,I.wk)("enter",(0,I.iF)({opacity:1,transform:"translateY(0%)"})),(0,I.kY)("void => enter",[(0,I.iF)({opacity:0,transform:"translateY(-5px)"}),(0,I.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ne=(()=>{class qe{static#e=this.\u0275fac=function(bt){return new(bt||qe)};static#t=this.\u0275dir=m.FsC({type:qe})}return qe})();const Re=new m.nKC("MatFormField"),ot=new m.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let U=0;const _="fill",O="fixed";let me=(()=>{class qe{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(ut){this._hideRequiredMarker=(0,R.he)(ut)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(ut){ut!==this._floatLabel&&(this._floatLabel=ut,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(ut){const bt=this._appearance;this._appearance=ut||this._defaults?.appearance||_,"outline"===this._appearance&&this._appearance!==bt&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||O}set subscriptSizing(ut){this._subscriptSizing=ut||this._defaults?.subscriptSizing||O}get hintLabel(){return this._hintLabel}set hintLabel(ut){this._hintLabel=ut,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(ut){this._explicitFormFieldControl=ut}constructor(ut,bt,Lt,en,Zt,Jn,yn,Vt){this._elementRef=ut,this._changeDetectorRef=bt,this._dir=en,this._platform=Zt,this._defaults=Jn,this._animationMode=yn,this._labelChild=(0,m.sbv)(H),this._hideRequiredMarker=!1,this.color="primary",this._appearance=_,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+U++,this._hintLabelId="mat-mdc-hint-"+U++,this._subscriptAnimationState="",this._destroyed=new M.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,m.WQX)(m.zZn),this.getLabelId=(0,m.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,m.EWP)(()=>!!this._labelChild()),Jn&&(Jn.appearance&&(this.appearance=Jn.appearance),this._hideRequiredMarker=!!Jn?.hideRequiredMarker,Jn.color&&(this.color=Jn.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const ut=this._control;ut.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${ut.controlType}`),ut.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),ut.ngControl&&ut.ngControl.valueChanges&&ut.ngControl.valueChanges.pipe((0,$.Q)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(ut=>!ut._isText),this._hasTextPrefix=!!this._prefixChildren.find(ut=>ut._isText),this._hasIconSuffix=!!this._suffixChildren.find(ut=>!ut._isText),this._hasTextSuffix=!!this._suffixChildren.find(ut=>ut._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,N.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,m.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe((0,$.Q)(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(ut){const bt=this._control?this._control.ngControl:null;return bt&&bt[ut]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let ut=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&ut.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const bt=this._hintChildren?this._hintChildren.find(en=>"start"===en.align):null,Lt=this._hintChildren?this._hintChildren.find(en=>"end"===en.align):null;bt?ut.push(bt.id):this._hintLabel&&ut.push(this._hintLabelId),Lt&&ut.push(Lt.id)}else this._errorChildren&&ut.push(...this._errorChildren.map(bt=>bt.id));this._control.setDescribedByIds(ut)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const ut=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(ut.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const bt=this._iconPrefixContainer?.nativeElement,Lt=this._textPrefixContainer?.nativeElement,en=bt?.getBoundingClientRect().width??0,Zt=Lt?.getBoundingClientRect().width??0;ut.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${en+Zt}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const ut=this._elementRef.nativeElement;if(ut.getRootNode){const bt=ut.getRootNode();return bt&&bt!==ut}return document.documentElement.contains(ut)}static#e=this.\u0275fac=function(bt){return new(bt||qe)(m.rXU(m.aKT),m.rXU(m.gRc),m.rXU(m.SKi),m.rXU(x.dS),m.rXU(W.OD),m.rXU(ot,8),m.rXU(m.bc$,8),m.rXU(S.qQ))};static#t=this.\u0275cmp=m.VBU({type:qe,selectors:[["mat-form-field"]],contentQueries:function(bt,Lt,en){if(1&bt&&(m.C6U(en,Lt._labelChild,H,5),m.wni(en,Ne,5),m.wni(en,Ee,5),m.wni(en,Oe,5),m.wni(en,ce,5),m.wni(en,Fe,5)),2&bt){let Zt;m.NyB(),m.mGM(Zt=m.lsd())&&(Lt._formFieldControl=Zt.first),m.mGM(Zt=m.lsd())&&(Lt._prefixChildren=Zt),m.mGM(Zt=m.lsd())&&(Lt._suffixChildren=Zt),m.mGM(Zt=m.lsd())&&(Lt._errorChildren=Zt),m.mGM(Zt=m.lsd())&&(Lt._hintChildren=Zt)}},viewQuery:function(bt,Lt){if(1&bt&&(m.GBs(Q,5),m.GBs(J,5),m.GBs(oe,5),m.GBs(he,5),m.GBs(be,5),m.GBs(ue,5)),2&bt){let en;m.mGM(en=m.lsd())&&(Lt._textField=en.first),m.mGM(en=m.lsd())&&(Lt._iconPrefixContainer=en.first),m.mGM(en=m.lsd())&&(Lt._textPrefixContainer=en.first),m.mGM(en=m.lsd())&&(Lt._floatingLabel=en.first),m.mGM(en=m.lsd())&&(Lt._notchedOutline=en.first),m.mGM(en=m.lsd())&&(Lt._lineRipple=en.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(bt,Lt){2&bt&&m.AVh("mat-mdc-form-field-label-always-float",Lt._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",Lt._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",Lt._hasIconSuffix)("mat-form-field-invalid",Lt._control.errorState)("mat-form-field-disabled",Lt._control.disabled)("mat-form-field-autofilled",Lt._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===Lt._animationMode)("mat-form-field-appearance-fill","fill"==Lt.appearance)("mat-form-field-appearance-outline","outline"==Lt.appearance)("mat-form-field-hide-placeholder",Lt._hasFloatingLabel()&&!Lt._shouldLabelFloat())("mat-focused",Lt._control.focused)("mat-primary","accent"!==Lt.color&&"warn"!==Lt.color)("mat-accent","accent"===Lt.color)("mat-warn","warn"===Lt.color)("ng-untouched",Lt._shouldForward("untouched"))("ng-touched",Lt._shouldForward("touched"))("ng-pristine",Lt._shouldForward("pristine"))("ng-dirty",Lt._shouldForward("dirty"))("ng-valid",Lt._shouldForward("valid"))("ng-invalid",Lt._shouldForward("invalid"))("ng-pending",Lt._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[m.Jv_([{provide:Re,useExisting:qe},{provide:Se,useExisting:qe}]),m.aNF],ngContentSelectors:ae,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(bt,Lt){if(1&bt){const en=m.RV6();m.NAR(se),m.DNE(0,ve,1,1,"ng-template",null,0,m.C5r),m.j41(2,"div",4,1),m.bIt("click",function(Jn){return m.eBV(en),m.Njj(Lt._control.onContainerClick(Jn))}),m.DNE(4,we,1,0,"div",5),m.j41(5,"div",6),m.DNE(6,u,2,2,"div",7)(7,h,3,0,"div",8)(8,y,3,0,"div",9),m.j41(9,"div",10),m.DNE(10,T,1,1,null,11),m.SdG(11),m.k0s(),m.DNE(12,D,2,0,"div",12)(13,j,2,0,"div",13),m.k0s(),m.DNE(14,A,1,0,"div",14),m.k0s(),m.j41(15,"div",15),m.DNE(16,l,2,1,"div",16)(17,G,5,2,"div",17),m.k0s()}if(2&bt){let en;m.R7$(2),m.AVh("mdc-text-field--filled",!Lt._hasOutline())("mdc-text-field--outlined",Lt._hasOutline())("mdc-text-field--no-label",!Lt._hasFloatingLabel())("mdc-text-field--disabled",Lt._control.disabled)("mdc-text-field--invalid",Lt._control.errorState),m.R7$(2),m.vxM(Lt._hasOutline()||Lt._control.disabled?-1:4),m.R7$(2),m.vxM(Lt._hasOutline()?6:-1),m.R7$(),m.vxM(Lt._hasIconPrefix?7:-1),m.R7$(),m.vxM(Lt._hasTextPrefix?8:-1),m.R7$(2),m.vxM(!Lt._hasOutline()||Lt._forceDisplayInfixLabel()?10:-1),m.R7$(2),m.vxM(Lt._hasTextSuffix?12:-1),m.R7$(),m.vxM(Lt._hasIconSuffix?13:-1),m.R7$(),m.vxM(Lt._hasOutline()?-1:14),m.R7$(),m.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===Lt.subscriptSizing),m.R7$(),m.vxM("error"===(en=Lt._getDisplayedMessages())?16:"hint"===en?17:-1)}},dependencies:[he,be,S.T3,ue,Fe],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Ie.transitionMessages]},changeDetection:0})}return qe})(),xe=(()=>{class qe{static#e=this.\u0275fac=function(bt){return new(bt||qe)};static#t=this.\u0275mod=m.$C({type:qe});static#n=this.\u0275inj=m.G2t({imports:[V.yE,S.MD,X.w5,V.yE]})}return qe})()},99213:(Le,z,E)=>{"use strict";E.d(z,{An:()=>g,m_:()=>G});var m=E(93953),x=E(86600),R=E(60177),W=E(7673),S=E(18810),L=E(27468),M=E(18359),N=E(88141),$=E(96354),F=E(99437),I=E(70980),X=E(97647),V=E(96697),Z=E(21626),re=E(345);const te=["*"];let Q;function oe(H){return function J(){if(void 0===Q&&(Q=null,typeof window<"u")){const H=window;void 0!==H.trustedTypes&&(Q=H.trustedTypes.createPolicy("angular#components",{createHTML:ne=>ne}))}return Q}()?.createHTML(H)||H}function se(H){return Error(`Unable to find icon with the name "${H}"`)}function pe(H){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${H}".`)}function le(H){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${H}".`)}class ve{constructor(ne,ce,Ae){this.url=ne,this.svgText=ce,this.options=Ae}}let we=(()=>{class H{constructor(ce,Ae,ke,Fe){this._httpClient=ce,this._sanitizer=Ae,this._errorHandler=Fe,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=ke}addSvgIcon(ce,Ae,ke){return this.addSvgIconInNamespace("",ce,Ae,ke)}addSvgIconLiteral(ce,Ae,ke){return this.addSvgIconLiteralInNamespace("",ce,Ae,ke)}addSvgIconInNamespace(ce,Ae,ke,Fe){return this._addSvgIconConfig(ce,Ae,new ve(ke,null,Fe))}addSvgIconResolver(ce){return this._resolvers.push(ce),this}addSvgIconLiteralInNamespace(ce,Ae,ke,Fe){const Ee=this._sanitizer.sanitize(m.WPN.HTML,ke);if(!Ee)throw le(ke);const ge=oe(Ee);return this._addSvgIconConfig(ce,Ae,new ve("",ge,Fe))}addSvgIconSet(ce,Ae){return this.addSvgIconSetInNamespace("",ce,Ae)}addSvgIconSetLiteral(ce,Ae){return this.addSvgIconSetLiteralInNamespace("",ce,Ae)}addSvgIconSetInNamespace(ce,Ae,ke){return this._addSvgIconSetConfig(ce,new ve(Ae,null,ke))}addSvgIconSetLiteralInNamespace(ce,Ae,ke){const Fe=this._sanitizer.sanitize(m.WPN.HTML,Ae);if(!Fe)throw le(Ae);const Ee=oe(Fe);return this._addSvgIconSetConfig(ce,new ve("",Ee,ke))}registerFontClassAlias(ce,Ae=ce){return this._fontCssClassesByAlias.set(ce,Ae),this}classNameForFontAlias(ce){return this._fontCssClassesByAlias.get(ce)||ce}setDefaultFontSetClass(...ce){return this._defaultFontSetClass=ce,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(ce){const Ae=this._sanitizer.sanitize(m.WPN.RESOURCE_URL,ce);if(!Ae)throw pe(ce);const ke=this._cachedIconsByUrl.get(Ae);return ke?(0,W.of)(u(ke)):this._loadSvgIconFromConfig(new ve(ce,null)).pipe((0,N.M)(Fe=>this._cachedIconsByUrl.set(Ae,Fe)),(0,$.T)(Fe=>u(Fe)))}getNamedSvgIcon(ce,Ae=""){const ke=h(Ae,ce);let Fe=this._svgIconConfigs.get(ke);if(Fe)return this._getSvgFromConfig(Fe);if(Fe=this._getIconConfigFromResolvers(Ae,ce),Fe)return this._svgIconConfigs.set(ke,Fe),this._getSvgFromConfig(Fe);const Ee=this._iconSetConfigs.get(Ae);return Ee?this._getSvgFromIconSetConfigs(ce,Ee):(0,S.$)(se(ke))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(ce){return ce.svgText?(0,W.of)(u(this._svgElementFromConfig(ce))):this._loadSvgIconFromConfig(ce).pipe((0,$.T)(Ae=>u(Ae)))}_getSvgFromIconSetConfigs(ce,Ae){const ke=this._extractIconWithNameFromAnySet(ce,Ae);if(ke)return(0,W.of)(ke);const Fe=Ae.filter(Ee=>!Ee.svgText).map(Ee=>this._loadSvgIconSetFromConfig(Ee).pipe((0,F.W)(ge=>{const ye=`Loading icon set URL: ${this._sanitizer.sanitize(m.WPN.RESOURCE_URL,Ee.url)} failed: ${ge.message}`;return this._errorHandler.handleError(new Error(ye)),(0,W.of)(null)})));return(0,L.p)(Fe).pipe((0,$.T)(()=>{const Ee=this._extractIconWithNameFromAnySet(ce,Ae);if(!Ee)throw se(ce);return Ee}))}_extractIconWithNameFromAnySet(ce,Ae){for(let ke=Ae.length-1;ke>=0;ke--){const Fe=Ae[ke];if(Fe.svgText&&Fe.svgText.toString().indexOf(ce)>-1){const Ee=this._svgElementFromConfig(Fe),ge=this._extractSvgIconFromSet(Ee,ce,Fe.options);if(ge)return ge}}return null}_loadSvgIconFromConfig(ce){return this._fetchIcon(ce).pipe((0,N.M)(Ae=>ce.svgText=Ae),(0,$.T)(()=>this._svgElementFromConfig(ce)))}_loadSvgIconSetFromConfig(ce){return ce.svgText?(0,W.of)(null):this._fetchIcon(ce).pipe((0,N.M)(Ae=>ce.svgText=Ae))}_extractSvgIconFromSet(ce,Ae,ke){const Fe=ce.querySelector(`[id="${Ae}"]`);if(!Fe)return null;const Ee=Fe.cloneNode(!0);if(Ee.removeAttribute("id"),"svg"===Ee.nodeName.toLowerCase())return this._setSvgAttributes(Ee,ke);if("symbol"===Ee.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Ee),ke);const ge=this._svgElementFromString(oe("<svg></svg>"));return ge.appendChild(Ee),this._setSvgAttributes(ge,ke)}_svgElementFromString(ce){const Ae=this._document.createElement("DIV");Ae.innerHTML=ce;const ke=Ae.querySelector("svg");if(!ke)throw Error("<svg> tag not found");return ke}_toSvgElement(ce){const Ae=this._svgElementFromString(oe("<svg></svg>")),ke=ce.attributes;for(let Fe=0;Fe<ke.length;Fe++){const{name:Ee,value:ge}=ke[Fe];"id"!==Ee&&Ae.setAttribute(Ee,ge)}for(let Fe=0;Fe<ce.childNodes.length;Fe++)ce.childNodes[Fe].nodeType===this._document.ELEMENT_NODE&&Ae.appendChild(ce.childNodes[Fe].cloneNode(!0));return Ae}_setSvgAttributes(ce,Ae){return ce.setAttribute("fit",""),ce.setAttribute("height","100%"),ce.setAttribute("width","100%"),ce.setAttribute("preserveAspectRatio","xMidYMid meet"),ce.setAttribute("focusable","false"),Ae&&Ae.viewBox&&ce.setAttribute("viewBox",Ae.viewBox),ce}_fetchIcon(ce){const{url:Ae,options:ke}=ce,Fe=ke?.withCredentials??!1;if(!this._httpClient)throw function ae(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Ae)throw Error(`Cannot fetch icon from URL "${Ae}".`);const Ee=this._sanitizer.sanitize(m.WPN.RESOURCE_URL,Ae);if(!Ee)throw pe(Ae);const ge=this._inProgressUrlFetches.get(Ee);if(ge)return ge;const Oe=this._httpClient.get(Ee,{responseType:"text",withCredentials:Fe}).pipe((0,$.T)(ye=>oe(ye)),(0,I.j)(()=>this._inProgressUrlFetches.delete(Ee)),(0,X.u)());return this._inProgressUrlFetches.set(Ee,Oe),Oe}_addSvgIconConfig(ce,Ae,ke){return this._svgIconConfigs.set(h(ce,Ae),ke),this}_addSvgIconSetConfig(ce,Ae){const ke=this._iconSetConfigs.get(ce);return ke?ke.push(Ae):this._iconSetConfigs.set(ce,[Ae]),this}_svgElementFromConfig(ce){if(!ce.svgElement){const Ae=this._svgElementFromString(ce.svgText);this._setSvgAttributes(Ae,ce.options),ce.svgElement=Ae}return ce.svgElement}_getIconConfigFromResolvers(ce,Ae){for(let ke=0;ke<this._resolvers.length;ke++){const Fe=this._resolvers[ke](Ae,ce);if(Fe)return y(Fe)?new ve(Fe.url,null,Fe.options):new ve(Fe,null)}}static#e=this.\u0275fac=function(Ae){return new(Ae||H)(m.KVO(Z.Qq,8),m.KVO(re.up),m.KVO(R.qQ,8),m.KVO(m.zcH))};static#t=this.\u0275prov=m.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})();function u(H){return H.cloneNode(!0)}function h(H,ne){return H+":"+ne}function y(H){return!(!H.url||!H.options)}const w=new m.nKC("MAT_ICON_DEFAULT_OPTIONS"),T=new m.nKC("mat-icon-location",{providedIn:"root",factory:function D(){const H=(0,m.WQX)(R.qQ),ne=H?H.location:null;return{getPathname:()=>ne?ne.pathname+ne.search:""}}}),j=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],A=j.map(H=>`[${H}]`).join(", "),l=/^url\(['"]?#(.*?)['"]?\)$/;let g=(()=>{class H{get color(){return this._color||this._defaultColor}set color(ce){this._color=ce}get svgIcon(){return this._svgIcon}set svgIcon(ce){ce!==this._svgIcon&&(ce?this._updateSvgIcon(ce):this._svgIcon&&this._clearSvgElement(),this._svgIcon=ce)}get fontSet(){return this._fontSet}set fontSet(ce){const Ae=this._cleanupFontValue(ce);Ae!==this._fontSet&&(this._fontSet=Ae,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(ce){const Ae=this._cleanupFontValue(ce);Ae!==this._fontIcon&&(this._fontIcon=Ae,this._updateFontIconClasses())}constructor(ce,Ae,ke,Fe,Ee,ge){this._elementRef=ce,this._iconRegistry=Ae,this._location=Fe,this._errorHandler=Ee,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=M.yU.EMPTY,ge&&(ge.color&&(this.color=this._defaultColor=ge.color),ge.fontSet&&(this.fontSet=ge.fontSet)),ke||ce.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(ce){if(!ce)return["",""];const Ae=ce.split(":");switch(Ae.length){case 1:return["",Ae[0]];case 2:return Ae;default:throw Error(`Invalid icon name: "${ce}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const ce=this._elementsWithExternalReferences;if(ce&&ce.size){const Ae=this._location.getPathname();Ae!==this._previousPath&&(this._previousPath=Ae,this._prependPathToReferences(Ae))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(ce){this._clearSvgElement();const Ae=this._location.getPathname();this._previousPath=Ae,this._cacheChildrenWithExternalReferences(ce),this._prependPathToReferences(Ae),this._elementRef.nativeElement.appendChild(ce)}_clearSvgElement(){const ce=this._elementRef.nativeElement;let Ae=ce.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Ae--;){const ke=ce.childNodes[Ae];(1!==ke.nodeType||"svg"===ke.nodeName.toLowerCase())&&ke.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const ce=this._elementRef.nativeElement,Ae=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(ke=>ke.length>0);this._previousFontSetClass.forEach(ke=>ce.classList.remove(ke)),Ae.forEach(ke=>ce.classList.add(ke)),this._previousFontSetClass=Ae,this.fontIcon!==this._previousFontIconClass&&!Ae.includes("mat-ligature-font")&&(this._previousFontIconClass&&ce.classList.remove(this._previousFontIconClass),this.fontIcon&&ce.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(ce){return"string"==typeof ce?ce.trim().split(" ")[0]:ce}_prependPathToReferences(ce){const Ae=this._elementsWithExternalReferences;Ae&&Ae.forEach((ke,Fe)=>{ke.forEach(Ee=>{Fe.setAttribute(Ee.name,`url('${ce}#${Ee.value}')`)})})}_cacheChildrenWithExternalReferences(ce){const Ae=ce.querySelectorAll(A),ke=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Fe=0;Fe<Ae.length;Fe++)j.forEach(Ee=>{const ge=Ae[Fe],Oe=ge.getAttribute(Ee),ye=Oe?Oe.match(l):null;if(ye){let Se=ke.get(ge);Se||(Se=[],ke.set(ge,Se)),Se.push({name:Ee,value:ye[1]})}})}_updateSvgIcon(ce){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),ce){const[Ae,ke]=this._splitIconName(ce);Ae&&(this._svgNamespace=Ae),ke&&(this._svgName=ke),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(ke,Ae).pipe((0,V.s)(1)).subscribe(Fe=>this._setSvgElement(Fe),Fe=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Ae}:${ke}! ${Fe.message}`))})}}static#e=this.\u0275fac=function(Ae){return new(Ae||H)(m.rXU(m.aKT),m.rXU(we),m.kS0("aria-hidden"),m.rXU(T),m.rXU(m.zcH),m.rXU(w,8))};static#t=this.\u0275cmp=m.VBU({type:H,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(Ae,ke){2&Ae&&(m.BMQ("data-mat-icon-type",ke._usingFontIcon()?"font":"svg")("data-mat-icon-name",ke._svgName||ke.fontIcon)("data-mat-icon-namespace",ke._svgNamespace||ke.fontSet)("fontIcon",ke._usingFontIcon()?ke.fontIcon:null),m.HbH(ke.color?"mat-"+ke.color:""),m.AVh("mat-icon-inline",ke.inline)("mat-icon-no-color","primary"!==ke.color&&"accent"!==ke.color&&"warn"!==ke.color))},inputs:{color:"color",inline:[2,"inline","inline",m.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[m.GFd,m.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(Ae,ke){1&Ae&&(m.NAR(),m.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return H})(),G=(()=>{class H{static#e=this.\u0275fac=function(Ae){return new(Ae||H)};static#t=this.\u0275mod=m.$C({type:H});static#n=this.\u0275inj=m.G2t({imports:[x.yE,x.yE]})}return H})()},99631:(Le,z,E)=>{"use strict";E.d(z,{fg:()=>J,fS:()=>oe});var m=E(14085),x=E(36860),R=E(93953),W=E(983),S=E(21413);const L=(0,x.BQ)({passive:!0});let M=(()=>{class se{constructor(pe,le){this._platform=pe,this._ngZone=le,this._monitoredElements=new Map}monitor(pe){if(!this._platform.isBrowser)return W.w;const le=(0,m.i8)(pe),ve=this._monitoredElements.get(le);if(ve)return ve.subject;const we=new S.B,De="cdk-text-field-autofilled",k=u=>{"cdk-text-field-autofill-start"!==u.animationName||le.classList.contains(De)?"cdk-text-field-autofill-end"===u.animationName&&le.classList.contains(De)&&(le.classList.remove(De),this._ngZone.run(()=>we.next({target:u.target,isAutofilled:!1}))):(le.classList.add(De),this._ngZone.run(()=>we.next({target:u.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{le.addEventListener("animationstart",k,L),le.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(le,{subject:we,unlisten:()=>{le.removeEventListener("animationstart",k,L)}}),we}stopMonitoring(pe){const le=(0,m.i8)(pe),ve=this._monitoredElements.get(le);ve&&(ve.unlisten(),ve.subject.complete(),le.classList.remove("cdk-text-field-autofill-monitored"),le.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(le))}ngOnDestroy(){this._monitoredElements.forEach((pe,le)=>this.stopMonitoring(le))}static#e=this.\u0275fac=function(le){return new(le||se)(R.KVO(x.OD),R.KVO(R.SKi))};static#t=this.\u0275prov=R.jDH({token:se,factory:se.\u0275fac,providedIn:"root"})}return se})(),F=(()=>{class se{static#e=this.\u0275fac=function(le){return new(le||se)};static#t=this.\u0275mod=R.$C({type:se});static#n=this.\u0275inj=R.G2t({})}return se})();var I=E(89417),X=E(86600),V=E(53719);const re=new R.nKC("MAT_INPUT_VALUE_ACCESSOR"),te=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Q=0,J=(()=>{class se{get disabled(){return this._disabled}set disabled(pe){this._disabled=(0,m.he)(pe),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(pe){this._id=pe||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(I.k0.required)??!1}set required(pe){this._required=(0,m.he)(pe)}get type(){return this._type}set type(pe){this._type=pe||"text",this._validateType(),!this._isTextarea&&(0,x.MU)().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(pe){this._errorStateTracker.matcher=pe}get value(){return this._inputValueAccessor.value}set value(pe){pe!==this.value&&(this._inputValueAccessor.value=pe,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(pe){this._readonly=(0,m.he)(pe)}get errorState(){return this._errorStateTracker.errorState}set errorState(pe){this._errorStateTracker.errorState=pe}constructor(pe,le,ve,we,De,k,u,h,y,w){this._elementRef=pe,this._platform=le,this.ngControl=ve,this._autofillMonitor=h,this._ngZone=y,this._formField=w,this._uid="mat-input-"+Q++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new S.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>(0,x.MU)().has(j)),this._iOSKeyupListener=j=>{const A=j.target;!A.value&&0===A.selectionStart&&0===A.selectionEnd&&(A.setSelectionRange(1,1),A.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const T=this._elementRef.nativeElement,D=T.nodeName.toLowerCase();this._inputValueAccessor=u||T,this._previousNativeValue=this.value,this.id=this.id,le.IOS&&y.runOutsideAngular(()=>{pe.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new X.X0(k,ve,De,we,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===D,this._isTextarea="textarea"===D,this._isInFormField=!!w,this._isNativeSelect&&(this.controlType=T.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(pe=>{this.autofilled=pe.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(pe){this._elementRef.nativeElement.focus(pe)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(pe){pe!==this.focused&&(this.focused=pe,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const pe=this._elementRef.nativeElement.value;this._previousNativeValue!==pe&&(this._previousNativeValue=pe,this.stateChanges.next())}_dirtyCheckPlaceholder(){const pe=this._getPlaceholder();if(pe!==this._previousPlaceholder){const le=this._elementRef.nativeElement;this._previousPlaceholder=pe,pe?le.setAttribute("placeholder",pe):le.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){te.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let pe=this._elementRef.nativeElement.validity;return pe&&pe.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const pe=this._elementRef.nativeElement,le=pe.options[0];return this.focused||pe.multiple||!this.empty||!!(pe.selectedIndex>-1&&le&&le.label)}return this.focused||!this.empty}setDescribedByIds(pe){pe.length?this._elementRef.nativeElement.setAttribute("aria-describedby",pe.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const pe=this._elementRef.nativeElement;return this._isNativeSelect&&(pe.multiple||pe.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(le){return new(le||se)(R.rXU(R.aKT),R.rXU(x.OD),R.rXU(I.vO,10),R.rXU(I.cV,8),R.rXU(I.j4,8),R.rXU(X.es),R.rXU(re,10),R.rXU(M),R.rXU(R.SKi),R.rXU(V.xb,8))};static#t=this.\u0275dir=R.FsC({type:se,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(le,ve){1&le&&R.bIt("focus",function(){return ve._focusChanged(!0)})("blur",function(){return ve._focusChanged(!1)})("input",function(){return ve._onInput()}),2&le&&(R.Mr5("id",ve.id)("disabled",ve.disabled)("required",ve.required),R.BMQ("name",ve.name||null)("readonly",ve.readonly&&!ve._isNativeSelect||null)("aria-invalid",ve.empty&&ve.required?null:ve.errorState)("aria-required",ve.required)("id",ve.id),R.AVh("mat-input-server",ve._isServer)("mat-mdc-form-field-textarea-control",ve._isInFormField&&ve._isTextarea)("mat-mdc-form-field-input-control",ve._isInFormField)("mdc-text-field__input",ve._isInFormField)("mat-mdc-native-select-inline",ve._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[R.Jv_([{provide:V.qT,useExisting:se}]),R.OA$]})}return se})(),oe=(()=>{class se{static#e=this.\u0275fac=function(le){return new(le||se)};static#t=this.\u0275mod=R.$C({type:se});static#n=this.\u0275inj=R.G2t({imports:[X.yE,V.RG,V.RG,F,X.yE]})}return se})()},3902:(Le,z,E)=>{"use strict";E.d(z,{C_:()=>ce,EI:()=>Ie,Fg:()=>ot,YE:()=>ie,ZV:()=>Ee,_L:()=>Be,jt:()=>ee,yE:()=>ne,zi:()=>Fe});var m=E(93953),x=E(14085),R=E(36860),W=E(86600),S=E(18359),L=E(57786),N=(E(21413),E(49937)),$=E(60177),F=E(71997);E(18617),E(45024),E(67336),E(89417),E(56977);const te=["*"],Q='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color);font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color);font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color);opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color);opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}',J=["unscopedContent"],oe=["text"],se=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],ae=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],H=new m.nKC("ListOption");let ne=(()=>{class U{constructor(p){this._elementRef=p}static#e=this.\u0275fac=function(O){return new(O||U)(m.rXU(m.aKT))};static#t=this.\u0275dir=m.FsC({type:U,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return U})(),ce=(()=>{class U{constructor(p){this._elementRef=p}static#e=this.\u0275fac=function(O){return new(O||U)(m.rXU(m.aKT))};static#t=this.\u0275dir=m.FsC({type:U,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return U})(),Ae=(()=>{class U{static#e=this.\u0275fac=function(O){return new(O||U)};static#t=this.\u0275dir=m.FsC({type:U,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return U})(),ke=(()=>{class U{constructor(p){this._listOption=p}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(O){return new(O||U)(m.rXU(H,8))};static#t=this.\u0275dir=m.FsC({type:U,hostVars:4,hostBindings:function(O,q){2&O&&m.AVh("mdc-list-item__start",q._isAlignedAtStart())("mdc-list-item__end",!q._isAlignedAtStart())},standalone:!0})}return U})(),Fe=(()=>{class U extends ke{static#e=this.\u0275fac=(()=>{let p;return function(q){return(p||(p=m.xGo(U)))(q||U)}})();static#t=this.\u0275dir=m.FsC({type:U,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[m.Vt3]})}return U})(),Ee=(()=>{class U extends ke{static#e=this.\u0275fac=(()=>{let p;return function(q){return(p||(p=m.xGo(U)))(q||U)}})();static#t=this.\u0275dir=m.FsC({type:U,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[m.Vt3]})}return U})();const ge=new m.nKC("MAT_LIST_CONFIG");let Oe=(()=>{class U{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,m.WQX)(ge,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(p){this._disableRipple=(0,x.he)(p)}get disabled(){return this._disabled}set disabled(p){this._disabled=(0,x.he)(p)}static#e=this.\u0275fac=function(O){return new(O||U)};static#t=this.\u0275dir=m.FsC({type:U,hostVars:1,hostBindings:function(O,q){2&O&&m.BMQ("aria-disabled",q.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return U})(),ye=(()=>{class U{set lines(p){this._explicitLines=(0,x.OE)(p,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(p){this._disableRipple=(0,x.he)(p)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(p){this._disabled=(0,x.he)(p)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(p,O,q,me,xe,qe){this._elementRef=p,this._ngZone=O,this._listBase=q,this._platform=me,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new S.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=xe||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===qe,q&&!q._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new W.ug(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,L.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(p){if(!this._lines||!this._titles||!this._unscopedContent)return;p&&this._checkDomForUnscopedTextContent();const O=this._explicitLines??this._inferLinesFromContent(),q=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",O<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",O<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===O),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===O),this._hasUnscopedTextContent){const me=0===this._titles.length&&1===O;q.classList.toggle("mdc-list-item__primary-text",me),q.classList.toggle("mdc-list-item__secondary-text",!me)}else q.classList.remove("mdc-list-item__primary-text"),q.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let p=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(p+=1),p}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(p=>p.nodeType!==p.COMMENT_NODE).some(p=>!(!p.textContent||!p.textContent.trim()))}static#e=this.\u0275fac=function(O){return new(O||U)(m.rXU(m.aKT),m.rXU(m.SKi),m.rXU(Oe,8),m.rXU(R.OD),m.rXU(W.$E,8),m.rXU(m.bc$,8))};static#t=this.\u0275dir=m.FsC({type:U,contentQueries:function(O,q,me){if(1&O&&(m.wni(me,Fe,4),m.wni(me,Ee,4)),2&O){let xe;m.mGM(xe=m.lsd())&&(q._avatars=xe),m.mGM(xe=m.lsd())&&(q._icons=xe)}},hostVars:4,hostBindings:function(O,q){2&O&&(m.BMQ("aria-disabled",q.disabled)("disabled",q._isButtonElement&&q.disabled||null),m.AVh("mdc-list-item--disabled",q.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return U})(),ee=(()=>{class U extends Oe{static#e=this.\u0275fac=(()=>{let p;return function(q){return(p||(p=m.xGo(U)))(q||U)}})();static#t=this.\u0275cmp=m.VBU({type:U,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[m.Jv_([{provide:Oe,useExisting:U}]),m.Vt3,m.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(O,q){1&O&&(m.NAR(),m.SdG(0))},styles:[Q],encapsulation:2,changeDetection:0})}return U})(),ie=(()=>{class U extends ye{get activated(){return this._activated}set activated(p){this._activated=(0,x.he)(p)}constructor(p,O,q,me,xe,qe){super(p,O,q,me,xe,qe),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#e=this.\u0275fac=function(O){return new(O||U)(m.rXU(m.aKT),m.rXU(m.SKi),m.rXU(Oe,8),m.rXU(R.OD),m.rXU(W.$E,8),m.rXU(m.bc$,8))};static#t=this.\u0275cmp=m.VBU({type:U,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(O,q,me){if(1&O&&(m.wni(me,ce,5),m.wni(me,ne,5),m.wni(me,Ae,5)),2&O){let xe;m.mGM(xe=m.lsd())&&(q._lines=xe),m.mGM(xe=m.lsd())&&(q._titles=xe),m.mGM(xe=m.lsd())&&(q._meta=xe)}},viewQuery:function(O,q){if(1&O&&(m.GBs(J,5),m.GBs(oe,5)),2&O){let me;m.mGM(me=m.lsd())&&(q._unscopedContent=me.first),m.mGM(me=m.lsd())&&(q._itemText=me.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(O,q){2&O&&(m.BMQ("aria-current",q._getAriaCurrent()),m.AVh("mdc-list-item--activated",q.activated)("mdc-list-item--with-leading-avatar",0!==q._avatars.length)("mdc-list-item--with-leading-icon",0!==q._icons.length)("mdc-list-item--with-trailing-meta",0!==q._meta.length)("mat-mdc-list-item-both-leading-and-trailing",q._hasBothLeadingAndTrailing())("_mat-animation-noopable",q._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[m.Vt3,m.aNF],ngContentSelectors:ae,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(O,q){if(1&O){const me=m.RV6();m.NAR(se),m.SdG(0),m.j41(1,"span",1),m.SdG(2,1),m.SdG(3,2),m.j41(4,"span",2,0),m.bIt("cdkObserveContent",function(){return m.eBV(me),m.Njj(q._updateItemLines(!0))}),m.SdG(6,3),m.k0s()(),m.SdG(7,4),m.SdG(8,5),m.nrm(9,"div",3)}},dependencies:[N.Wv],encapsulation:2,changeDetection:0})}return U})(),Ie=(()=>{class U{static#e=this.\u0275fac=function(O){return new(O||U)};static#t=this.\u0275dir=m.FsC({type:U,selectors:[["","mat-subheader",""],["","matSubheader",""]],hostAttrs:[1,"mat-mdc-subheader","mdc-list-group__subheader"],standalone:!0})}return U})(),Be=(()=>{class U extends Oe{constructor(){super(...arguments),this._isNonInteractive=!1}static#e=this.\u0275fac=(()=>{let p;return function(q){return(p||(p=m.xGo(U)))(q||U)}})();static#t=this.\u0275cmp=m.VBU({type:U,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[m.Jv_([{provide:Oe,useExisting:U}]),m.Vt3,m.aNF],ngContentSelectors:te,decls:1,vars:0,template:function(O,q){1&O&&(m.NAR(),m.SdG(0))},styles:[Q],encapsulation:2,changeDetection:0})}return U})(),ot=(()=>{class U{static#e=this.\u0275fac=function(O){return new(O||U)};static#t=this.\u0275mod=m.$C({type:U});static#n=this.\u0275inj=m.G2t({imports:[N.w5,$.MD,W.yE,W.pZ,W.O5,F.w]})}return U})()},59115:(Le,z,E)=>{"use strict";E.d(z,{Cn:()=>Se,Cp:()=>ye,fb:()=>y,kk:()=>Ae});var m=E(93953),x=E(18617),R=E(67336),W=E(21413),S=E(57786),L=E(18359),M=E(7673),N=E(25007),$=E(99172),F=E(25558),I=E(56977),X=E(5964),V=E(96697),Z=E(91986),re=E(60177),te=E(86600),Q=E(76939),J=E(49969),oe=E(28203),se=E(66969),ae=E(36860),pe=E(67333);const le=["mat-menu-item",""],ve=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],we=["mat-icon, [matMenuItemIcon]","*"];function De(he,fe){1&he&&(m.qSk(),m.j41(0,"svg",2),m.nrm(1,"polygon",3),m.k0s())}const k=["*"];function u(he,fe){if(1&he){const ee=m.RV6();m.j41(0,"div",0),m.bIt("keydown",function(ue){m.eBV(ee);const be=m.XpG();return m.Njj(be._handleKeydown(ue))})("click",function(){m.eBV(ee);const ue=m.XpG();return m.Njj(ue.closed.emit("click"))})("@transformMenu.start",function(ue){m.eBV(ee);const be=m.XpG();return m.Njj(be._onAnimationStart(ue))})("@transformMenu.done",function(ue){m.eBV(ee);const be=m.XpG();return m.Njj(be._onAnimationDone(ue))}),m.j41(1,"div",1),m.SdG(2),m.k0s()()}if(2&he){const ee=m.XpG();m.HbH(ee._classList),m.Y8G("id",ee.panelId)("@transformMenu",ee._panelAnimationState),m.BMQ("aria-label",ee.ariaLabel||null)("aria-labelledby",ee.ariaLabelledby||null)("aria-describedby",ee.ariaDescribedby||null)}}const h=new m.nKC("MAT_MENU_PANEL");let y=(()=>{class he{constructor(ee,ie,ue,be,Ie){this._elementRef=ee,this._document=ie,this._focusMonitor=ue,this._parentMenu=be,this._changeDetectorRef=Ie,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new W.B,this._focused=new W.B,this._highlighted=!1,this._triggersSubmenu=!1,be?.addItem?.(this)}focus(ee,ie){this._focusMonitor&&ee?this._focusMonitor.focusVia(this._getHostElement(),ee,ie):this._getHostElement().focus(ie),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(ee){this.disabled&&(ee.preventDefault(),ee.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const ee=this._elementRef.nativeElement.cloneNode(!0),ie=ee.querySelectorAll("mat-icon, .material-icons");for(let ue=0;ue<ie.length;ue++)ie[ue].remove();return ee.textContent?.trim()||""}_setHighlighted(ee){this._highlighted=ee,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(ee){this._triggersSubmenu=ee,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(ie){return new(ie||he)(m.rXU(m.aKT),m.rXU(re.qQ),m.rXU(x.FN),m.rXU(h,8),m.rXU(m.gRc))};static#t=this.\u0275cmp=m.VBU({type:he,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(ie,ue){1&ie&&m.bIt("click",function(Ie){return ue._checkDisabled(Ie)})("mouseenter",function(){return ue._handleMouseEnter()}),2&ie&&(m.BMQ("role",ue.role)("tabindex",ue._getTabIndex())("aria-disabled",ue.disabled)("disabled",ue.disabled||null),m.AVh("mat-mdc-menu-item-highlighted",ue._highlighted)("mat-mdc-menu-item-submenu-trigger",ue._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",m.L39],disableRipple:[2,"disableRipple","disableRipple",m.L39]},exportAs:["matMenuItem"],standalone:!0,features:[m.GFd,m.aNF],attrs:le,ngContentSelectors:we,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(ie,ue){1&ie&&(m.NAR(ve),m.SdG(0),m.j41(1,"span",0),m.SdG(2,1),m.k0s(),m.nrm(3,"div",1),m.DNE(4,De,2,0,":svg:svg",2)),2&ie&&(m.R7$(3),m.Y8G("matRippleDisabled",ue.disableRipple||ue.disabled)("matRippleTrigger",ue._getHostElement()),m.R7$(),m.vxM(ue._triggersSubmenu?4:-1))},dependencies:[te.r6],encapsulation:2,changeDetection:0})}return he})();const j=new m.nKC("MatMenuContent"),l={transformMenu:(0,J.hZ)("transformMenu",[(0,J.wk)("void",(0,J.iF)({opacity:0,transform:"scale(0.8)"})),(0,J.kY)("void => enter",(0,J.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,J.iF)({opacity:1,transform:"scale(1)"}))),(0,J.kY)("* => void",(0,J.i0)("100ms 25ms linear",(0,J.iF)({opacity:0})))]),fadeInItems:(0,J.hZ)("fadeInItems",[(0,J.wk)("showing",(0,J.iF)({opacity:1})),(0,J.kY)("void => *",[(0,J.iF)({opacity:0}),(0,J.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let H=0;const ne=new m.nKC("mat-menu-default-options",{providedIn:"root",factory:function ce(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Ae=(()=>{class he{get xPosition(){return this._xPosition}set xPosition(ee){this._xPosition=ee,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(ee){this._yPosition=ee,this.setPositionClasses()}set panelClass(ee){const ie=this._previousPanelClass,ue={...this._classList};ie&&ie.length&&ie.split(" ").forEach(be=>{ue[be]=!1}),this._previousPanelClass=ee,ee&&ee.length&&(ee.split(" ").forEach(be=>{ue[be]=!0}),this._elementRef.nativeElement.className=""),this._classList=ue}get classList(){return this.panelClass}set classList(ee){this.panelClass=ee}constructor(ee,ie,ue,be){this._elementRef=ee,this._changeDetectorRef=be,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new m.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new W.B,this.closed=new m.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+H++,this._injector=(0,m.WQX)(m.zZn),this.overlayPanelClass=ue.overlayPanelClass||"",this._xPosition=ue.xPosition,this._yPosition=ue.yPosition,this.backdropClass=ue.backdropClass,this.overlapTrigger=ue.overlapTrigger,this.hasBackdrop=ue.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new x.Bu(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,$.Z)(this._directDescendantItems),(0,F.n)(ee=>(0,S.h)(...ee.map(ie=>ie._focused)))).subscribe(ee=>this._keyManager.updateActiveItem(ee)),this._directDescendantItems.changes.subscribe(ee=>{const ie=this._keyManager;if("enter"===this._panelAnimationState&&ie.activeItem?._hasFocus()){const ue=ee.toArray(),be=Math.max(0,Math.min(ue.length-1,ie.activeItemIndex||0));ue[be]&&!ue[be].disabled?ie.setActiveItem(be):ie.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,$.Z)(this._directDescendantItems),(0,F.n)(ie=>(0,S.h)(...ie.map(ue=>ue._hovered))))}addItem(ee){}removeItem(ee){}_handleKeydown(ee){const ie=ee.keyCode,ue=this._keyManager;switch(ie){case R._f:(0,R.rp)(ee)||(ee.preventDefault(),this.closed.emit("keydown"));break;case R.UQ:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case R.LE:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(ie===R.i7||ie===R.n6)&&ue.setFocusOrigin("keyboard"),void ue.onKeydown(ee)}ee.stopPropagation()}focusFirstItem(ee="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,m.mal)(()=>{let ie=null;if(this._directDescendantItems.length&&(ie=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!ie||!ie.contains(document.activeElement)){const ue=this._keyManager;ue.setFocusOrigin(ee).setFirstItemActive(),!ue.activeItem&&ie&&ie.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(ee){if(null===this._baseElevation){const Ne=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(Ne)}const ie=Math.min(this._baseElevation+ee,24),ue=`${this._elevationPrefix}${ie}`,be=Object.keys(this._classList).find(Ie=>Ie.startsWith(this._elevationPrefix));if(!be||be===this._previousElevation){const Ie={...this._classList};this._previousElevation&&(Ie[this._previousElevation]=!1),Ie[ue]=!0,this._previousElevation=ue,this._classList=Ie}}setPositionClasses(ee=this.xPosition,ie=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===ee,"mat-menu-after":"after"===ee,"mat-menu-above":"above"===ie,"mat-menu-below":"below"===ie},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(ee){this._animationDone.next(ee),this._isAnimating=!1}_onAnimationStart(ee){this._isAnimating=!0,"enter"===ee.toState&&0===this._keyManager.activeItemIndex&&(ee.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,$.Z)(this._allItems)).subscribe(ee=>{this._directDescendantItems.reset(ee.filter(ie=>ie._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(ie){return new(ie||he)(m.rXU(m.aKT),m.rXU(m.SKi),m.rXU(ne),m.rXU(m.gRc))};static#t=this.\u0275cmp=m.VBU({type:he,selectors:[["mat-menu"]],contentQueries:function(ie,ue,be){if(1&ie&&(m.wni(be,j,5),m.wni(be,y,5),m.wni(be,y,4)),2&ie){let Ie;m.mGM(Ie=m.lsd())&&(ue.lazyContent=Ie.first),m.mGM(Ie=m.lsd())&&(ue._allItems=Ie),m.mGM(Ie=m.lsd())&&(ue.items=Ie)}},viewQuery:function(ie,ue){if(1&ie&&m.GBs(m.C4Q,5),2&ie){let be;m.mGM(be=m.lsd())&&(ue.templateRef=be.first)}},hostVars:3,hostBindings:function(ie,ue){2&ie&&m.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",m.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",ee=>null==ee?null:(0,m.L39)(ee)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[m.Jv_([{provide:h,useExisting:he}]),m.GFd,m.aNF],ngContentSelectors:k,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(ie,ue){1&ie&&(m.NAR(),m.DNE(0,u,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[l.transformMenu,l.fadeInItems]},changeDetection:0})}return he})();const ke=new m.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const he=(0,m.WQX)(se.hJ);return()=>he.scrollStrategies.reposition()}}),Ee={provide:ke,deps:[se.hJ],useFactory:function Fe(he){return()=>he.scrollStrategies.reposition()}},ge=(0,ae.BQ)({passive:!0});let ye=(()=>{class he{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(ee){this.menu=ee}get menu(){return this._menu}set menu(ee){ee!==this._menu&&(this._menu=ee,this._menuCloseSubscription.unsubscribe(),ee&&(this._menuCloseSubscription=ee.close.subscribe(ie=>{this._destroyMenu(ie),("click"===ie||"tab"===ie)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(ie)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(ee,ie,ue,be,Ie,Ne,Be,yt,Ke){this._overlay=ee,this._element=ie,this._viewContainerRef=ue,this._menuItemInstance=Ne,this._dir=Be,this._focusMonitor=yt,this._ngZone=Ke,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=L.yU.EMPTY,this._hoverSubscription=L.yU.EMPTY,this._menuCloseSubscription=L.yU.EMPTY,this._changeDetectorRef=(0,m.WQX)(m.gRc),this._handleTouchStart=Re=>{(0,x.w6)(Re)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new m.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new m.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=be,this._parentMaterialMenu=Ie instanceof Ae?Ie:void 0,ie.nativeElement.addEventListener("touchstart",this._handleTouchStart,ge)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,ge),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const ee=this.menu;if(this._menuOpen||!ee)return;const ie=this._createOverlay(ee),ue=ie.getConfig(),be=ue.positionStrategy;this._setPosition(ee,be),ue.hasBackdrop=null==ee.hasBackdrop?!this.triggersSubmenu():ee.hasBackdrop,ie.attach(this._getPortal(ee)),ee.lazyContent&&ee.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(ee),ee instanceof Ae&&(ee._startAnimation(),ee._directDescendantItems.changes.pipe((0,I.Q)(ee.close)).subscribe(()=>{be.withLockedPosition(!1).reapplyLastPosition(),be.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(ee,ie){this._focusMonitor&&ee?this._focusMonitor.focusVia(this._element,ee,ie):this._element.nativeElement.focus(ie)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(ee){if(!this._overlayRef||!this.menuOpen)return;const ie=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===ee||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,ie instanceof Ae?(ie._resetAnimation(),ie.lazyContent?ie._animationDone.pipe((0,X.p)(ue=>"void"===ue.toState),(0,V.s)(1),(0,I.Q)(ie.lazyContent._attached)).subscribe({next:()=>ie.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),ie?.lazyContent?.detach())}_initMenu(ee){ee.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,ee.direction=this.dir,this._setMenuElevation(ee),ee.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(ee){if(ee.setElevation){let ie=0,ue=ee.parentMenu;for(;ue;)ie++,ue=ue.parentMenu;ee.setElevation(ie)}}_setIsMenuOpen(ee){ee!==this._menuOpen&&(this._menuOpen=ee,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(ee),this._changeDetectorRef.markForCheck())}_createOverlay(ee){if(!this._overlayRef){const ie=this._getOverlayConfig(ee);this._subscribeToPositions(ee,ie.positionStrategy),this._overlayRef=this._overlay.create(ie),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(ee){return new se.rR({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:ee.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:ee.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(ee,ie){ee.setPositionClasses&&ie.positionChanges.subscribe(ue=>{const be="start"===ue.connectionPair.overlayX?"after":"before",Ie="top"===ue.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>ee.setPositionClasses(be,Ie)):ee.setPositionClasses(be,Ie)})}_setPosition(ee,ie){let[ue,be]="before"===ee.xPosition?["end","start"]:["start","end"],[Ie,Ne]="above"===ee.yPosition?["bottom","top"]:["top","bottom"],[Be,yt]=[Ie,Ne],[Ke,Re]=[ue,be],ot=0;if(this.triggersSubmenu()){if(Re=ue="before"===ee.xPosition?"start":"end",be=Ke="end"===ue?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const U=this._parentMaterialMenu.items.first;this._parentInnerPadding=U?U._getHostElement().offsetTop:0}ot="bottom"===Ie?this._parentInnerPadding:-this._parentInnerPadding}}else ee.overlapTrigger||(Be="top"===Ie?"bottom":"top",yt="top"===Ne?"bottom":"top");ie.withPositions([{originX:ue,originY:Be,overlayX:Ke,overlayY:Ie,offsetY:ot},{originX:be,originY:Be,overlayX:Re,overlayY:Ie,offsetY:ot},{originX:ue,originY:yt,overlayX:Ke,overlayY:Ne,offsetY:-ot},{originX:be,originY:yt,overlayX:Re,overlayY:Ne,offsetY:-ot}])}_menuClosingActions(){const ee=this._overlayRef.backdropClick(),ie=this._overlayRef.detachments(),ue=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,M.of)(),be=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,X.p)(Ie=>Ie!==this._menuItemInstance),(0,X.p)(()=>this._menuOpen)):(0,M.of)();return(0,S.h)(ee,ue,be,ie)}_handleMousedown(ee){(0,x._G)(ee)||(this._openedBy=0===ee.button?"mouse":void 0,this.triggersSubmenu()&&ee.preventDefault())}_handleKeydown(ee){const ie=ee.keyCode;(ie===R.Fm||ie===R.t6)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(ie===R.LE&&"ltr"===this.dir||ie===R.UQ&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(ee){this.triggersSubmenu()?(ee.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,X.p)(ee=>ee===this._menuItemInstance&&!ee.disabled),(0,Z.c)(0,N.$)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Ae&&this.menu._isAnimating?this.menu._animationDone.pipe((0,V.s)(1),(0,Z.c)(0,N.$),(0,I.Q)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(ee){return(!this._portal||this._portal.templateRef!==ee.templateRef)&&(this._portal=new Q.VA(ee.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(ie){return new(ie||he)(m.rXU(se.hJ),m.rXU(m.aKT),m.rXU(m.c1b),m.rXU(ke),m.rXU(h,8),m.rXU(y,10),m.rXU(oe.dS,8),m.rXU(x.FN),m.rXU(m.SKi))};static#t=this.\u0275dir=m.FsC({type:he,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(ie,ue){1&ie&&m.bIt("click",function(Ie){return ue._handleClick(Ie)})("mousedown",function(Ie){return ue._handleMousedown(Ie)})("keydown",function(Ie){return ue._handleKeydown(Ie)}),2&ie&&m.BMQ("aria-haspopup",ue.menu?"menu":null)("aria-expanded",ue.menuOpen)("aria-controls",ue.menuOpen?ue.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return he})(),Se=(()=>{class he{static#e=this.\u0275fac=function(ie){return new(ie||he)};static#t=this.\u0275mod=m.$C({type:he});static#n=this.\u0275inj=m.G2t({providers:[Ee],imports:[re.MD,te.pZ,te.yE,se.z_,pe.Gj,te.yE]})}return he})()},9183:(Le,z,E)=>{"use strict";E.d(z,{D6:()=>X,LG:()=>F});var m=E(93953),x=E(60177),R=E(86600);const W=["determinateSpinner"];function S(V,Z){if(1&V&&(m.qSk(),m.j41(0,"svg",11),m.nrm(1,"circle",12),m.k0s()),2&V){const re=m.XpG();m.BMQ("viewBox",re._viewBox()),m.R7$(),m.xc7("stroke-dasharray",re._strokeCircumference(),"px")("stroke-dashoffset",re._strokeCircumference()/2,"px")("stroke-width",re._circleStrokeWidth(),"%"),m.BMQ("r",re._circleRadius())}}const L=new m.nKC("mat-progress-spinner-default-options",{providedIn:"root",factory:function M(){return{diameter:N}}}),N=100;let F=(()=>{class V{get color(){return this._color||this._defaultColor}set color(re){this._color=re}constructor(re,te,Q){this._elementRef=re,this._defaultColor="primary",this._value=0,this._diameter=N,this._noopAnimations="NoopAnimations"===te&&!!Q&&!Q._forceAnimations,this.mode="mat-spinner"===re.nativeElement.nodeName.toLowerCase()?"indeterminate":"determinate",Q&&(Q.color&&(this.color=this._defaultColor=Q.color),Q.diameter&&(this.diameter=Q.diameter),Q.strokeWidth&&(this.strokeWidth=Q.strokeWidth))}get value(){return"determinate"===this.mode?this._value:0}set value(re){this._value=Math.max(0,Math.min(100,re||0))}get diameter(){return this._diameter}set diameter(re){this._diameter=re||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(re){this._strokeWidth=re||0}_circleRadius(){return(this.diameter-10)/2}_viewBox(){const re=2*this._circleRadius()+this.strokeWidth;return`0 0 ${re} ${re}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return"determinate"===this.mode?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static#e=this.\u0275fac=function(te){return new(te||V)(m.rXU(m.aKT),m.rXU(m.bc$,8),m.rXU(L))};static#t=this.\u0275cmp=m.VBU({type:V,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(te,Q){if(1&te&&m.GBs(W,5),2&te){let J;m.mGM(J=m.lsd())&&(Q._determinateCircle=J.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(te,Q){2&te&&(m.BMQ("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow","determinate"===Q.mode?Q.value:null)("mode",Q.mode),m.HbH("mat-"+Q.color),m.xc7("width",Q.diameter,"px")("height",Q.diameter,"px")("--mdc-circular-progress-size",Q.diameter+"px")("--mdc-circular-progress-active-indicator-width",Q.diameter+"px"),m.AVh("_mat-animation-noopable",Q._noopAnimations)("mdc-circular-progress--indeterminate","indeterminate"===Q.mode))},inputs:{color:"color",mode:"mode",value:[2,"value","value",m.Udg],diameter:[2,"diameter","diameter",m.Udg],strokeWidth:[2,"strokeWidth","strokeWidth",m.Udg]},exportAs:["matProgressSpinner"],standalone:!0,features:[m.GFd,m.aNF],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(te,Q){if(1&te&&(m.DNE(0,S,2,8,"ng-template",null,0,m.C5r),m.j41(2,"div",2,1),m.qSk(),m.j41(4,"svg",3),m.nrm(5,"circle",4),m.k0s()(),m.joV(),m.j41(6,"div",5)(7,"div",6)(8,"div",7),m.eu8(9,8),m.k0s(),m.j41(10,"div",9),m.eu8(11,8),m.k0s(),m.j41(12,"div",10),m.eu8(13,8),m.k0s()()()),2&te){const J=m.sdS(1);m.R7$(4),m.BMQ("viewBox",Q._viewBox()),m.R7$(),m.xc7("stroke-dasharray",Q._strokeCircumference(),"px")("stroke-dashoffset",Q._strokeDashOffset(),"px")("stroke-width",Q._circleStrokeWidth(),"%"),m.BMQ("r",Q._circleRadius()),m.R7$(4),m.Y8G("ngTemplateOutlet",J),m.R7$(2),m.Y8G("ngTemplateOutlet",J),m.R7$(2),m.Y8G("ngTemplateOutlet",J)}},dependencies:[x.T3],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return V})(),X=(()=>{class V{static#e=this.\u0275fac=function(te){return new(te||V)};static#t=this.\u0275mod=m.$C({type:V});static#n=this.\u0275inj=m.G2t({imports:[x.MD,R.yE]})}return V})()},5951:(Le,z,E)=>{"use strict";E.d(z,{Wk:()=>J});var m=E(18617),x=E(45024),R=E(93953),S=(E(89417),E(86600)),L=E(60177);const M=["input"],N=["formField"],$=["*"];let F=0;class I{constructor(se,ae){this.source=se,this.value=ae}}const V=new R.nKC("MatRadioGroup"),Z=new R.nKC("mat-radio-default-options",{providedIn:"root",factory:function re(){return{color:"accent"}}});let Q=(()=>{class oe{get checked(){return this._checked}set checked(ae){this._checked!==ae&&(this._checked=ae,ae&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!ae&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),ae&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(ae){this._value!==ae&&(this._value=ae,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===ae),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(ae){this._labelPosition=ae}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(ae){this._setDisabled(ae)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(ae){this._required=ae}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(ae){this._color=ae}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(ae,pe,le,ve,we,De,k,u){this._elementRef=pe,this._changeDetector=le,this._focusMonitor=ve,this._radioDispatcher=we,this._providerOverride=k,this._uniqueId="mat-radio-"+ ++F,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new R.bkB,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this._injector=(0,R.WQX)(R.zZn),this.radioGroup=ae,this._noopAnimations="NoopAnimations"===De,u&&(this.tabIndex=(0,R.Udg)(u,0))}focus(ae,pe){pe?this._focusMonitor.focusVia(this._inputElement,pe,ae):this._inputElement.nativeElement.focus(ae)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((ae,pe)=>{ae!==this.id&&pe===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(ae=>{!ae&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new I(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(ae){ae.stopPropagation()}_onInputInteraction(ae){if(ae.stopPropagation(),!this.checked&&!this.disabled){const pe=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),pe&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(ae){this._onInputInteraction(ae),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(ae){this._disabled!==ae&&(this._disabled=ae,this._changeDetector.markForCheck())}_updateTabIndex(){const ae=this.radioGroup;let pe;if(pe=ae&&ae.selected&&!this.disabled?ae.selected===this?this.tabIndex:-1:this.tabIndex,pe!==this._previousTabIndex){const le=this._inputElement?.nativeElement;le&&(le.setAttribute("tabindex",pe+""),this._previousTabIndex=pe,(0,R.mal)(()=>{queueMicrotask(()=>{ae&&ae.selected&&ae.selected!==this&&document.activeElement===le&&(ae.selected?._inputElement.nativeElement.focus(),document.activeElement===le&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static#e=this.\u0275fac=function(pe){return new(pe||oe)(R.rXU(V,8),R.rXU(R.aKT),R.rXU(R.gRc),R.rXU(m.FN),R.rXU(x.zP),R.rXU(R.bc$,8),R.rXU(Z,8),R.kS0("tabindex"))};static#t=this.\u0275cmp=R.VBU({type:oe,selectors:[["mat-radio-button"]],viewQuery:function(pe,le){if(1&pe&&(R.GBs(M,5),R.GBs(N,7,R.aKT)),2&pe){let ve;R.mGM(ve=R.lsd())&&(le._inputElement=ve.first),R.mGM(ve=R.lsd())&&(le._rippleTrigger=ve.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(pe,le){1&pe&&R.bIt("focus",function(){return le._inputElement.nativeElement.focus()}),2&pe&&(R.BMQ("id",le.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),R.AVh("mat-primary","primary"===le.color)("mat-accent","accent"===le.color)("mat-warn","warn"===le.color)("mat-mdc-radio-checked",le.checked)("_mat-animation-noopable",le._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",R.L39],tabIndex:[2,"tabIndex","tabIndex",ae=>null==ae?0:(0,R.Udg)(ae)],checked:[2,"checked","checked",R.L39],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",R.L39],required:[2,"required","required",R.L39],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[R.GFd,R.aNF],ngContentSelectors:$,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(pe,le){if(1&pe){const ve=R.RV6();R.NAR(),R.j41(0,"div",2,0)(2,"div",3)(3,"div",4),R.bIt("click",function(De){return R.eBV(ve),R.Njj(le._onTouchTargetClick(De))}),R.k0s(),R.j41(4,"input",5,1),R.bIt("change",function(De){return R.eBV(ve),R.Njj(le._onInputInteraction(De))}),R.k0s(),R.j41(6,"div",6),R.nrm(7,"div",7)(8,"div",8),R.k0s(),R.j41(9,"div",9),R.nrm(10,"div",10),R.k0s()(),R.j41(11,"label",11),R.SdG(12),R.k0s()()}2&pe&&(R.Y8G("labelPosition",le.labelPosition),R.R7$(2),R.AVh("mdc-radio--disabled",le.disabled),R.R7$(2),R.Y8G("id",le.inputId)("checked",le.checked)("disabled",le.disabled)("required",le.required),R.BMQ("name",le.name)("value",le.value)("aria-label",le.ariaLabel)("aria-labelledby",le.ariaLabelledby)("aria-describedby",le.ariaDescribedby),R.R7$(5),R.Y8G("matRippleTrigger",le._rippleTrigger.nativeElement)("matRippleDisabled",le._isRippleDisabled())("matRippleCentered",!0),R.R7$(2),R.Y8G("for",le.inputId))},dependencies:[S.r6,S.tO],styles:['.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled])~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size);top:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color);opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color);opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio--disabled{cursor:default;pointer-events:none}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color);font-family:var(--mat-radio-label-text-font);line-height:var(--mat-radio-label-text-line-height);font-size:var(--mat-radio-label-text-size);letter-spacing:var(--mat-radio-label-text-tracking);font-weight:var(--mat-radio-label-text-weight)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return oe})(),J=(()=>{class oe{static#e=this.\u0275fac=function(pe){return new(pe||oe)};static#t=this.\u0275mod=R.$C({type:oe});static#n=this.\u0275inj=R.G2t({imports:[S.yE,L.MD,S.pZ,Q,S.yE]})}return oe})()},82798:(Le,z,E)=>{"use strict";E.d(z,{$2:()=>Fe,VO:()=>ke,Ve:()=>Ee});var m=E(66969),x=E(60177),R=E(93953),W=E(86600),S=E(53719),L=E(67333),M=E(18617),N=E(28203),$=E(45024),F=E(67336),I=E(89417),X=E(21413),V=E(59030),Z=E(57786),re=E(99172),te=E(25558),Q=E(5964),J=E(96354),oe=E(23294),se=E(56977),ae=E(96697),pe=E(49969);const le=["trigger"],ve=["panel"],we=[[["mat-select-trigger"]],"*"],De=["mat-select-trigger","*"];function k(ge,Oe){if(1&ge&&(R.j41(0,"span",4),R.EFF(1),R.k0s()),2&ge){const ye=R.XpG();R.R7$(),R.JRh(ye.placeholder)}}function u(ge,Oe){1&ge&&R.SdG(0)}function h(ge,Oe){if(1&ge&&(R.j41(0,"span",11),R.EFF(1),R.k0s()),2&ge){const ye=R.XpG(2);R.R7$(),R.JRh(ye.triggerValue)}}function y(ge,Oe){if(1&ge&&(R.j41(0,"span",5),R.DNE(1,u,1,0)(2,h,2,1,"span",11),R.k0s()),2&ge){const ye=R.XpG();R.R7$(),R.vxM(ye.customTrigger?1:2)}}function w(ge,Oe){if(1&ge){const ye=R.RV6();R.j41(0,"div",12,1),R.bIt("@transformPanel.done",function(he){R.eBV(ye);const fe=R.XpG();return R.Njj(fe._panelDoneAnimatingStream.next(he.toState))})("keydown",function(he){R.eBV(ye);const fe=R.XpG();return R.Njj(fe._handleKeydown(he))}),R.SdG(2,1),R.k0s()}if(2&ge){const ye=R.XpG();R.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",ye._getPanelTheme(),""),R.Y8G("ngClass",ye.panelClass)("@transformPanel","showing"),R.BMQ("id",ye.id+"-panel")("aria-multiselectable",ye.multiple)("aria-label",ye.ariaLabel||null)("aria-labelledby",ye._getPanelAriaLabelledby())}}const T={transformPanelWrap:(0,pe.hZ)("transformPanelWrap",[(0,pe.kY)("* => void",(0,pe.P)("@transformPanel",[(0,pe.MA)()],{optional:!0}))]),transformPanel:(0,pe.hZ)("transformPanel",[(0,pe.wk)("void",(0,pe.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,pe.kY)("void => showing",(0,pe.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,pe.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,pe.kY)("* => void",(0,pe.i0)("100ms linear",(0,pe.iF)({opacity:0})))])};let l=0;const g=new R.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const ge=(0,R.WQX)(m.hJ);return()=>ge.scrollStrategies.reposition()}}),H=new R.nKC("MAT_SELECT_CONFIG"),ne={provide:g,deps:[m.hJ],useFactory:function G(ge){return()=>ge.scrollStrategies.reposition()}},ce=new R.nKC("MatSelectTrigger");class Ae{constructor(Oe,ye){this.source=Oe,this.value=ye}}let ke=(()=>{class ge{_scrollOptionIntoView(ye){const Se=this.options.toArray()[ye];if(Se){const he=this.panel.nativeElement,fe=(0,W.jb)(ye,this.options,this.optionGroups),ee=Se._getHostElement();he.scrollTop=0===ye&&1===fe?0:(0,W.TL)(ee.offsetTop,ee.offsetHeight,he.scrollTop,he.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(ye){return new Ae(this,ye)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(ye){this._hideSingleSelectionIndicator=ye,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(ye){this._placeholder=ye,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(I.k0.required)??!1}set required(ye){this._required=ye,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(ye){this._multiple=ye}get compareWith(){return this._compareWith}set compareWith(ye){this._compareWith=ye,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(ye){this._assignValue(ye)&&this._onChange(ye)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(ye){this._errorStateTracker.matcher=ye}get id(){return this._id}set id(ye){this._id=ye||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(ye){this._errorStateTracker.errorState=ye}constructor(ye,Se,he,fe,ee,ie,ue,be,Ie,Ne,Be,yt,Ke,Re){this._viewportRuler=ye,this._changeDetectorRef=Se,this._elementRef=ee,this._dir=ie,this._parentFormField=Ie,this.ngControl=Ne,this._liveAnnouncer=Ke,this._defaultOptions=Re,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(ot,U)=>ot===U,this._uid="mat-select-"+l++,this._triggerAriaLabelledBy=null,this._destroy=new X.B,this.stateChanges=new X.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+l++,this._panelDoneAnimatingStream=new X.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new X.B,this.optionSelectionChanges=(0,V.v)(()=>{const ot=this.options;return ot?ot.changes.pipe((0,re.Z)(ot),(0,te.n)(()=>(0,Z.h)(...ot.map(U=>U.onSelectionChange)))):this._initialized.pipe((0,te.n)(()=>this.optionSelectionChanges))}),this.openedChange=new R.bkB,this._openedStream=this.openedChange.pipe((0,Q.p)(ot=>ot),(0,J.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,Q.p)(ot=>!ot),(0,J.T)(()=>{})),this.selectionChange=new R.bkB,this.valueChange=new R.bkB,this._trackedModal=null,this._skipPredicate=ot=>!this.panelOpen&&ot.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=Re?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=Re.typeaheadDebounceInterval),this._errorStateTracker=new W.X0(fe,Ne,be,ue,this.stateChanges),this._scrollStrategyFactory=yt,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Be)||0,this.id=this.id}ngOnInit(){this._selectionModel=new $.CB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,oe.F)(),(0,se.Q)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe((0,se.Q)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe((0,se.Q)(this._destroy)).subscribe(ye=>{ye.added.forEach(Se=>Se.select()),ye.removed.forEach(Se=>Se.deselect())}),this.options.changes.pipe((0,re.Z)(null),(0,se.Q)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const ye=this._getTriggerAriaLabelledby(),Se=this.ngControl;if(ye!==this._triggerAriaLabelledBy){const he=this._elementRef.nativeElement;this._triggerAriaLabelledBy=ye,ye?he.setAttribute("aria-labelledby",ye):he.removeAttribute("aria-labelledby")}Se&&(this._previousControl!==Se.control&&(void 0!==this._previousControl&&null!==Se.disabled&&Se.disabled!==this.disabled&&(this.disabled=Se.disabled),this._previousControl=Se.control),this.updateErrorState())}ngOnChanges(ye){(ye.disabled||ye.userAriaDescribedBy)&&this.stateChanges.next(),ye.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const ye=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!ye)return;const Se=`${this.id}-panel`;this._trackedModal&&(0,M.Ae)(this._trackedModal,"aria-owns",Se),(0,M.px)(ye,"aria-owns",Se),this._trackedModal=ye}_clearFromModal(){this._trackedModal&&((0,M.Ae)(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(ye){this._assignValue(ye)}registerOnChange(ye){this._onChange=ye}registerOnTouched(ye){this._onTouched=ye}setDisabledState(ye){this.disabled=ye,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const ye=this._selectionModel.selected.map(Se=>Se.viewValue);return this._isRtl()&&ye.reverse(),ye.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(ye){this.disabled||(this.panelOpen?this._handleOpenKeydown(ye):this._handleClosedKeydown(ye))}_handleClosedKeydown(ye){const Se=ye.keyCode,he=Se===F.n6||Se===F.i7||Se===F.UQ||Se===F.LE,fe=Se===F.Fm||Se===F.t6,ee=this._keyManager;if(!ee.isTyping()&&fe&&!(0,F.rp)(ye)||(this.multiple||ye.altKey)&&he)ye.preventDefault(),this.open();else if(!this.multiple){const ie=this.selected;ee.onKeydown(ye);const ue=this.selected;ue&&ie!==ue&&this._liveAnnouncer.announce(ue.viewValue,1e4)}}_handleOpenKeydown(ye){const Se=this._keyManager,he=ye.keyCode,fe=he===F.n6||he===F.i7,ee=Se.isTyping();if(fe&&ye.altKey)ye.preventDefault(),this.close();else if(ee||he!==F.Fm&&he!==F.t6||!Se.activeItem||(0,F.rp)(ye))if(!ee&&this._multiple&&he===F.A&&ye.ctrlKey){ye.preventDefault();const ie=this.options.some(ue=>!ue.disabled&&!ue.selected);this.options.forEach(ue=>{ue.disabled||(ie?ue.select():ue.deselect())})}else{const ie=Se.activeItemIndex;Se.onKeydown(ye),this._multiple&&fe&&ye.shiftKey&&Se.activeItem&&Se.activeItemIndex!==ie&&Se.activeItem._selectViaInteraction()}else ye.preventDefault(),Se.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ae.s)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(ye){if(this.options.forEach(Se=>Se.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&ye)Array.isArray(ye),ye.forEach(Se=>this._selectOptionByValue(Se)),this._sortValues();else{const Se=this._selectOptionByValue(ye);Se?this._keyManager.updateActiveItem(Se):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(ye){const Se=this.options.find(he=>{if(this._selectionModel.isSelected(he))return!1;try{return null!=he.value&&this._compareWith(he.value,ye)}catch{return!1}});return Se&&this._selectionModel.select(Se),Se}_assignValue(ye){return!!(ye!==this._value||this._multiple&&Array.isArray(ye))&&(this.options&&this._setSelectionByValue(ye),this._value=ye,!0)}_getOverlayWidth(ye){return"auto"===this.panelWidth?(ye instanceof m.$Q?ye.elementRef:ye||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const ye of this.options)ye._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new M.Au(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const ye=(0,Z.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,se.Q)(ye)).subscribe(Se=>{this._onSelect(Se.source,Se.isUserInput),Se.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Z.h)(...this.options.map(Se=>Se._stateChanges)).pipe((0,se.Q)(ye)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(ye,Se){const he=this._selectionModel.isSelected(ye);null!=ye.value||this._multiple?(he!==ye.selected&&(ye.selected?this._selectionModel.select(ye):this._selectionModel.deselect(ye)),Se&&this._keyManager.setActiveItem(ye),this.multiple&&(this._sortValues(),Se&&this.focus())):(ye.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(ye.value)),he!==this._selectionModel.isSelected(ye)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const ye=this.options.toArray();this._selectionModel.sort((Se,he)=>this.sortComparator?this.sortComparator(Se,he,ye):ye.indexOf(Se)-ye.indexOf(he)),this.stateChanges.next()}}_propagateChanges(ye){let Se;Se=this.multiple?this.selected.map(he=>he.value):this.selected?this.selected.value:ye,this._value=Se,this.valueChange.emit(Se),this._onChange(Se),this.selectionChange.emit(this._getChangeEvent(Se)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let ye=-1;for(let Se=0;Se<this.options.length;Se++)if(!this.options.get(Se).disabled){ye=Se;break}this._keyManager.setActiveItem(ye)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(ye){this._elementRef.nativeElement.focus(ye)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();return this.ariaLabelledby?(ye?ye+" ":"")+this.ariaLabelledby:ye}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const ye=this._parentFormField?.getLabelId();let Se=(ye?ye+" ":"")+this._valueId;return this.ariaLabelledby&&(Se+=" "+this.ariaLabelledby),Se}_panelDoneAnimating(ye){this.openedChange.emit(ye)}setDescribedByIds(ye){ye.length?this._elementRef.nativeElement.setAttribute("aria-describedby",ye.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(Se){return new(Se||ge)(R.rXU(L.Xj),R.rXU(R.gRc),R.rXU(R.SKi),R.rXU(W.es),R.rXU(R.aKT),R.rXU(N.dS,8),R.rXU(I.cV,8),R.rXU(I.j4,8),R.rXU(S.xb,8),R.rXU(I.vO,10),R.kS0("tabindex"),R.rXU(g),R.rXU(M.Ai),R.rXU(H,8))};static#t=this.\u0275cmp=R.VBU({type:ge,selectors:[["mat-select"]],contentQueries:function(Se,he,fe){if(1&Se&&(R.wni(fe,ce,5),R.wni(fe,W.wT,5),R.wni(fe,W.QC,5)),2&Se){let ee;R.mGM(ee=R.lsd())&&(he.customTrigger=ee.first),R.mGM(ee=R.lsd())&&(he.options=ee),R.mGM(ee=R.lsd())&&(he.optionGroups=ee)}},viewQuery:function(Se,he){if(1&Se&&(R.GBs(le,5),R.GBs(ve,5),R.GBs(m.WB,5)),2&Se){let fe;R.mGM(fe=R.lsd())&&(he.trigger=fe.first),R.mGM(fe=R.lsd())&&(he.panel=fe.first),R.mGM(fe=R.lsd())&&(he._overlayDir=fe.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(Se,he){1&Se&&R.bIt("keydown",function(ee){return he._handleKeydown(ee)})("focus",function(){return he._onFocus()})("blur",function(){return he._onBlur()}),2&Se&&(R.BMQ("id",he.id)("tabindex",he.disabled?-1:he.tabIndex)("aria-controls",he.panelOpen?he.id+"-panel":null)("aria-expanded",he.panelOpen)("aria-label",he.ariaLabel||null)("aria-required",he.required.toString())("aria-disabled",he.disabled.toString())("aria-invalid",he.errorState)("aria-activedescendant",he._getAriaActiveDescendant()),R.AVh("mat-mdc-select-disabled",he.disabled)("mat-mdc-select-invalid",he.errorState)("mat-mdc-select-required",he.required)("mat-mdc-select-empty",he.empty)("mat-mdc-select-multiple",he.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",R.L39],disableRipple:[2,"disableRipple","disableRipple",R.L39],tabIndex:[2,"tabIndex","tabIndex",ye=>null==ye?0:(0,R.Udg)(ye)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",R.L39],placeholder:"placeholder",required:[2,"required","required",R.L39],multiple:[2,"multiple","multiple",R.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",R.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",R.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[R.Jv_([{provide:S.qT,useExisting:ge},{provide:W.is,useExisting:ge}]),R.GFd,R.OA$,R.aNF],ngContentSelectors:De,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(Se,he){if(1&Se){const fe=R.RV6();R.NAR(we),R.j41(0,"div",2,0),R.bIt("click",function(){return R.eBV(fe),R.Njj(he.open())}),R.j41(3,"div",3),R.DNE(4,k,2,1,"span",4)(5,y,3,1,"span",5),R.k0s(),R.j41(6,"div",6)(7,"div",7),R.qSk(),R.j41(8,"svg",8),R.nrm(9,"path",9),R.k0s()()()(),R.DNE(10,w,3,9,"ng-template",10),R.bIt("backdropClick",function(){return R.eBV(fe),R.Njj(he.close())})("attach",function(){return R.eBV(fe),R.Njj(he._onAttached())})("detach",function(){return R.eBV(fe),R.Njj(he.close())})}if(2&Se){const fe=R.sdS(1);R.R7$(3),R.BMQ("id",he._valueId),R.R7$(),R.vxM(he.empty?4:5),R.R7$(6),R.Y8G("cdkConnectedOverlayPanelClass",he._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",he._scrollStrategy)("cdkConnectedOverlayOrigin",he._preferredOverlayOrigin||fe)("cdkConnectedOverlayOpen",he.panelOpen)("cdkConnectedOverlayPositions",he._positions)("cdkConnectedOverlayWidth",he._overlayWidth)}},dependencies:[m.$Q,m.WB,x.YU],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[T.transformPanel]},changeDetection:0})}return ge})(),Fe=(()=>{class ge{static#e=this.\u0275fac=function(Se){return new(Se||ge)};static#t=this.\u0275dir=R.FsC({type:ge,selectors:[["mat-select-trigger"]],standalone:!0,features:[R.Jv_([{provide:ce,useExisting:ge}])]})}return ge})(),Ee=(()=>{class ge{static#e=this.\u0275fac=function(Se){return new(Se||ge)};static#t=this.\u0275mod=R.$C({type:ge});static#n=this.\u0275inj=R.G2t({providers:[ne],imports:[x.MD,m.z_,W.Sy,W.yE,L.Gj,S.RG,W.Sy,W.yE]})}return ge})()},55911:(Le,z,E)=>{"use strict";E.d(z,{KQ:()=>N,s5:()=>F});var m=E(93953),x=E(86600),R=E(36860),W=E(60177);const S=["*",[["mat-toolbar-row"]]],L=["*","mat-toolbar-row"];let M=(()=>{class I{static#e=this.\u0275fac=function(Z){return new(Z||I)};static#t=this.\u0275dir=m.FsC({type:I,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return I})(),N=(()=>{class I{constructor(V,Z,re){this._elementRef=V,this._platform=Z,this._document=re}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(Z){return new(Z||I)(m.rXU(m.aKT),m.rXU(R.OD),m.rXU(W.qQ))};static#t=this.\u0275cmp=m.VBU({type:I,selectors:[["mat-toolbar"]],contentQueries:function(Z,re,te){if(1&Z&&m.wni(te,M,5),2&Z){let Q;m.mGM(Q=m.lsd())&&(re._toolbarRows=Q)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(Z,re){2&Z&&(m.HbH(re.color?"mat-"+re.color:""),m.AVh("mat-toolbar-multiple-rows",re._toolbarRows.length>0)("mat-toolbar-single-row",0===re._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[m.aNF],ngContentSelectors:L,decls:2,vars:0,template:function(Z,re){1&Z&&(m.NAR(S),m.SdG(0),m.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return I})(),F=(()=>{class I{static#e=this.\u0275fac=function(Z){return new(Z||I)};static#t=this.\u0275mod=m.$C({type:I});static#n=this.\u0275inj=m.G2t({imports:[x.yE,x.yE]})}return I})()},14823:(Le,z,E)=>{"use strict";E.d(z,{oV:()=>y,uc:()=>D});var m=E(56977),x=E(14085),R=E(67336),W=E(93953),S=E(60177),L=E(36860),M=E(18617),N=E(28203),$=E(66969),F=E(67333),I=E(76939),X=E(21413),Z=(E(49969),E(86600));const re=["tooltip"],J=new W.nKC("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const j=(0,W.WQX)($.hJ);return()=>j.scrollStrategies.reposition({scrollThrottle:20})}}),se={provide:J,deps:[$.hJ],useFactory:function oe(j){return()=>j.scrollStrategies.reposition({scrollThrottle:20})}},pe=new W.nKC("mat-tooltip-default-options",{providedIn:"root",factory:function ae(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),ve="tooltip-panel",we=(0,L.BQ)({passive:!0});let y=(()=>{class j{get position(){return this._position}set position(l){l!==this._position&&(this._position=l,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(l){this._positionAtOrigin=(0,x.he)(l),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(l){this._disabled=(0,x.he)(l),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(l){this._showDelay=(0,x.OE)(l)}get hideDelay(){return this._hideDelay}set hideDelay(l){this._hideDelay=(0,x.OE)(l),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(l){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=l?String(l).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(l){this._tooltipClass=l,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(l,g,G,H,ne,ce,Ae,ke,Fe,Ee,ge,Oe){this._overlay=l,this._elementRef=g,this._scrollDispatcher=G,this._viewContainerRef=H,this._ngZone=ne,this._platform=ce,this._ariaDescriber=Ae,this._focusMonitor=ke,this._dir=Ee,this._defaultOptions=ge,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=w,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new X.B,this._injector=(0,W.WQX)(W.zZn),this._scrollStrategy=Fe,this._document=Oe,ge&&(this._showDelay=ge.showDelay,this._hideDelay=ge.hideDelay,ge.position&&(this.position=ge.position),ge.positionAtOrigin&&(this.positionAtOrigin=ge.positionAtOrigin),ge.touchGestures&&(this.touchGestures=ge.touchGestures)),Ee.change.pipe((0,m.Q)(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe((0,m.Q)(this._destroyed)).subscribe(l=>{l?"keyboard"===l&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const l=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([g,G])=>{l.removeEventListener(g,G,we)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(l,this.message,"tooltip"),this._focusMonitor.stopMonitoring(l)}show(l=this.showDelay,g){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const G=this._createOverlay(g);this._detach(),this._portal=this._portal||new I.A8(this._tooltipComponent,this._viewContainerRef);const H=this._tooltipInstance=G.attach(this._portal).instance;H._triggerElement=this._elementRef.nativeElement,H._mouseLeaveHideDelay=this._hideDelay,H.afterHidden().pipe((0,m.Q)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),H.show(l)}hide(l=this.hideDelay){const g=this._tooltipInstance;g&&(g.isVisible()?g.hide(l):(g._cancelPendingAnimations(),this._detach()))}toggle(l){this._isTooltipVisible()?this.hide():this.show(void 0,l)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(l){if(this._overlayRef){const H=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!l)&&H._origin instanceof W.aKT)return this._overlayRef;this._detach()}const g=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),G=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&l||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(g);return G.positionChanges.pipe((0,m.Q)(this._destroyed)).subscribe(H=>{this._updateCurrentPositionClass(H.connectionPair),this._tooltipInstance&&H.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:G,panelClass:`${this._cssClassPrefix}-${ve}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe((0,m.Q)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe((0,m.Q)(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe((0,m.Q)(this._destroyed)).subscribe(H=>{this._isTooltipVisible()&&H.keyCode===R._f&&!(0,R.rp)(H)&&(H.preventDefault(),H.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(l){const g=l.getConfig().positionStrategy,G=this._getOrigin(),H=this._getOverlayPosition();g.withPositions([this._addOffset({...G.main,...H.main}),this._addOffset({...G.fallback,...H.fallback})])}_addOffset(l){const G=!this._dir||"ltr"==this._dir.value;return"top"===l.originY?l.offsetY=-8:"bottom"===l.originY?l.offsetY=8:"start"===l.originX?l.offsetX=G?-8:8:"end"===l.originX&&(l.offsetX=G?8:-8),l}_getOrigin(){const l=!this._dir||"ltr"==this._dir.value,g=this.position;let G;"above"==g||"below"==g?G={originX:"center",originY:"above"==g?"top":"bottom"}:"before"==g||"left"==g&&l||"right"==g&&!l?G={originX:"start",originY:"center"}:("after"==g||"right"==g&&l||"left"==g&&!l)&&(G={originX:"end",originY:"center"});const{x:H,y:ne}=this._invertPosition(G.originX,G.originY);return{main:G,fallback:{originX:H,originY:ne}}}_getOverlayPosition(){const l=!this._dir||"ltr"==this._dir.value,g=this.position;let G;"above"==g?G={overlayX:"center",overlayY:"bottom"}:"below"==g?G={overlayX:"center",overlayY:"top"}:"before"==g||"left"==g&&l||"right"==g&&!l?G={overlayX:"end",overlayY:"center"}:("after"==g||"right"==g&&l||"left"==g&&!l)&&(G={overlayX:"start",overlayY:"center"});const{x:H,y:ne}=this._invertPosition(G.overlayX,G.overlayY);return{main:G,fallback:{overlayX:H,overlayY:ne}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),(0,W.mal)(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(l){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=l,this._tooltipInstance._markForCheck())}_invertPosition(l,g){return"above"===this.position||"below"===this.position?"top"===g?g="bottom":"bottom"===g&&(g="top"):"end"===l?l="start":"start"===l&&(l="end"),{x:l,y:g}}_updateCurrentPositionClass(l){const{overlayY:g,originX:G,originY:H}=l;let ne;if(ne="center"===g?this._dir&&"rtl"===this._dir.value?"end"===G?"left":"right":"start"===G?"left":"right":"bottom"===g&&"top"===H?"above":"below",ne!==this._currentPosition){const ce=this._overlayRef;if(ce){const Ae=`${this._cssClassPrefix}-${ve}-`;ce.removePanelClass(Ae+this._currentPosition),ce.addPanelClass(Ae+ne)}this._currentPosition=ne}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",l=>{let g;this._setupPointerExitEventsIfNeeded(),void 0!==l.x&&void 0!==l.y&&(g=l),this.show(void 0,g)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",l=>{const g=l.targetTouches?.[0],G=g?{x:g.clientX,y:g.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,G),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const l=[];if(this._platformSupportsMouseEvents())l.push(["mouseleave",g=>{const G=g.relatedTarget;(!G||!this._overlayRef?.overlayElement.contains(G))&&this.hide()}],["wheel",g=>this._wheelListener(g)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const g=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};l.push(["touchend",g],["touchcancel",g])}this._addListeners(l),this._passiveListeners.push(...l)}_addListeners(l){l.forEach(([g,G])=>{this._elementRef.nativeElement.addEventListener(g,G,we)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(l){if(this._isTooltipVisible()){const g=this._document.elementFromPoint(l.clientX,l.clientY),G=this._elementRef.nativeElement;g!==G&&!G.contains(g)&&this.hide()}}_disableNativeGesturesIfNecessary(){const l=this.touchGestures;if("off"!==l){const g=this._elementRef.nativeElement,G=g.style;("on"===l||"INPUT"!==g.nodeName&&"TEXTAREA"!==g.nodeName)&&(G.userSelect=G.msUserSelect=G.webkitUserSelect=G.MozUserSelect="none"),("on"===l||!g.draggable)&&(G.webkitUserDrag="none"),G.touchAction="none",G.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(g){return new(g||j)(W.rXU($.hJ),W.rXU(W.aKT),W.rXU(F.R),W.rXU(W.c1b),W.rXU(W.SKi),W.rXU(L.OD),W.rXU(M.vr),W.rXU(M.FN),W.rXU(J),W.rXU(N.dS),W.rXU(pe,8),W.rXU(S.qQ))};static#t=this.\u0275dir=W.FsC({type:j,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(g,G){2&g&&W.AVh("mat-mdc-tooltip-disabled",G.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return j})(),w=(()=>{class j{constructor(l,g,G){this._changeDetectorRef=l,this._elementRef=g,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new X.B,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===G}show(l){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},l)}hide(l){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},l)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:l}){(!l||!this._triggerElement.contains(l))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const l=this._elementRef.nativeElement.getBoundingClientRect();return l.height>24&&l.width>=200}_handleAnimationEnd({animationName:l}){(l===this._showAnimation||l===this._hideAnimation)&&this._finalizeAnimation(l===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(l){l?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(l){const g=this._tooltip.nativeElement,G=this._showAnimation,H=this._hideAnimation;if(g.classList.remove(l?H:G),g.classList.add(l?G:H),this._isVisible!==l&&(this._isVisible=l,this._changeDetectorRef.markForCheck()),l&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const ne=getComputedStyle(g);("0s"===ne.getPropertyValue("animation-duration")||"none"===ne.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}l&&this._onShow(),this._animationsDisabled&&(g.classList.add("_mat-animation-noopable"),this._finalizeAnimation(l))}static#e=this.\u0275fac=function(g){return new(g||j)(W.rXU(W.gRc),W.rXU(W.aKT),W.rXU(W.bc$,8))};static#t=this.\u0275cmp=W.VBU({type:j,selectors:[["mat-tooltip-component"]],viewQuery:function(g,G){if(1&g&&W.GBs(re,7),2&g){let H;W.mGM(H=W.lsd())&&(G._tooltip=H.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(g,G){1&g&&W.bIt("mouseleave",function(ne){return G._handleMouseLeave(ne)}),2&g&&W.xc7("zoom",G.isVisible()?1:null)},standalone:!0,features:[W.aNF],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(g,G){if(1&g){const H=W.RV6();W.j41(0,"div",1,0),W.bIt("animationend",function(ce){return W.eBV(H),W.Njj(G._handleAnimationEnd(ce))}),W.j41(2,"div",2),W.EFF(3),W.k0s()()}2&g&&(W.AVh("mdc-tooltip--multiline",G._isMultiline),W.Y8G("ngClass",G.tooltipClass),W.R7$(3),W.JRh(G.message))},dependencies:[S.YU],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color);color:var(--mdc-plain-tooltip-supporting-text-color);border-radius:var(--mdc-plain-tooltip-container-shape);font-family:var(--mdc-plain-tooltip-supporting-text-font);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return j})(),D=(()=>{class j{static#e=this.\u0275fac=function(g){return new(g||j)};static#t=this.\u0275mod=W.$C({type:j});static#n=this.\u0275inj=W.G2t({providers:[se],imports:[M.Pd,S.MD,$.z_,Z.yE,Z.yE,F.Gj]})}return j})()},345:(Le,z,E)=>{"use strict";E.d(z,{B7:()=>we,B8:()=>H,hE:()=>ue,up:()=>xe});var m=E(60177),x=E(93953);class R extends m.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class W extends R{static makeCurrent(){(0,m.ZD)(new W)}onAndCancel(mt,st,Nt){return mt.addEventListener(st,Nt),()=>{mt.removeEventListener(st,Nt)}}dispatchEvent(mt,st){mt.dispatchEvent(st)}remove(mt){mt.parentNode&&mt.parentNode.removeChild(mt)}createElement(mt,st){return(st=st||this.getDefaultDocument()).createElement(mt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(mt){return mt.nodeType===Node.ELEMENT_NODE}isShadowRoot(mt){return mt instanceof DocumentFragment}getGlobalEventTarget(mt,st){return"window"===st?window:"document"===st?mt:"body"===st?mt.body:null}getBaseHref(mt){const st=function L(){return S=S||document.querySelector("base"),S?S.getAttribute("href"):null}();return null==st?null:function M($t){return new URL($t,document.baseURI).pathname}(st)}resetBaseElement(){S=null}getUserAgent(){return window.navigator.userAgent}getCookie(mt){return(0,m._b)(document.cookie,mt)}}let S=null,$=(()=>{class $t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(Nt){return new(Nt||$t)};static#t=this.\u0275prov=x.jDH({token:$t,factory:$t.\u0275fac})}return $t})();const F=new x.nKC("");let I=(()=>{class $t{constructor(st,Nt){this._zone=Nt,this._eventNameToPlugin=new Map,st.forEach(Kt=>{Kt.manager=this}),this._plugins=st.slice().reverse()}addEventListener(st,Nt,Kt){return this._findPluginFor(Nt).addEventListener(st,Nt,Kt)}getZone(){return this._zone}_findPluginFor(st){let Nt=this._eventNameToPlugin.get(st);if(Nt)return Nt;if(Nt=this._plugins.find(qt=>qt.supports(st)),!Nt)throw new x.wOt(5101,!1);return this._eventNameToPlugin.set(st,Nt),Nt}static#e=this.\u0275fac=function(Nt){return new(Nt||$t)(x.KVO(F),x.KVO(x.SKi))};static#t=this.\u0275prov=x.jDH({token:$t,factory:$t.\u0275fac})}return $t})();class X{constructor(mt){this._doc=mt}}const V="ng-app-id";let Z=(()=>{class $t{constructor(st,Nt,Kt,qt={}){this.doc=st,this.appId=Nt,this.nonce=Kt,this.platformId=qt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,m.Vy)(qt),this.resetHostNodes()}addStyles(st){for(const Nt of st)1===this.changeUsageCount(Nt,1)&&this.onStyleAdded(Nt)}removeStyles(st){for(const Nt of st)this.changeUsageCount(Nt,-1)<=0&&this.onStyleRemoved(Nt)}ngOnDestroy(){const st=this.styleNodesInDOM;st&&(st.forEach(Nt=>Nt.remove()),st.clear());for(const Nt of this.getAllStyles())this.onStyleRemoved(Nt);this.resetHostNodes()}addHost(st){this.hostNodes.add(st);for(const Nt of this.getAllStyles())this.addStyleToHost(st,Nt)}removeHost(st){this.hostNodes.delete(st)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(st){for(const Nt of this.hostNodes)this.addStyleToHost(Nt,st)}onStyleRemoved(st){const Nt=this.styleRef;Nt.get(st)?.elements?.forEach(Kt=>Kt.remove()),Nt.delete(st)}collectServerRenderedStyles(){const st=this.doc.head?.querySelectorAll(`style[${V}="${this.appId}"]`);if(st?.length){const Nt=new Map;return st.forEach(Kt=>{null!=Kt.textContent&&Nt.set(Kt.textContent,Kt)}),Nt}return null}changeUsageCount(st,Nt){const Kt=this.styleRef;if(Kt.has(st)){const qt=Kt.get(st);return qt.usage+=Nt,qt.usage}return Kt.set(st,{usage:Nt,elements:[]}),Nt}getStyleElement(st,Nt){const Kt=this.styleNodesInDOM,qt=Kt?.get(Nt);if(qt?.parentNode===st)return Kt.delete(Nt),qt.removeAttribute(V),qt;{const or=this.doc.createElement("style");return this.nonce&&or.setAttribute("nonce",this.nonce),or.textContent=Nt,this.platformIsServer&&or.setAttribute(V,this.appId),st.appendChild(or),or}}addStyleToHost(st,Nt){const Kt=this.getStyleElement(st,Nt),qt=this.styleRef,or=qt.get(Nt)?.elements;or?or.push(Kt):qt.set(Nt,{elements:[Kt],usage:1})}resetHostNodes(){const st=this.hostNodes;st.clear(),st.add(this.doc.head)}static#e=this.\u0275fac=function(Nt){return new(Nt||$t)(x.KVO(m.qQ),x.KVO(x.sZ2),x.KVO(x.BIS,8),x.KVO(x.Agw))};static#t=this.\u0275prov=x.jDH({token:$t,factory:$t.\u0275fac})}return $t})();const re={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},te=/%COMP%/g,Q="%COMP%",J=`_nghost-${Q}`,oe=`_ngcontent-${Q}`,ae=new x.nKC("",{providedIn:"root",factory:()=>!0});function ve($t,mt){return mt.map(st=>st.replace(te,$t))}let we=(()=>{class $t{constructor(st,Nt,Kt,qt,or,ft,gt,vt=null){this.eventManager=st,this.sharedStylesHost=Nt,this.appId=Kt,this.removeStylesOnCompDestroy=qt,this.doc=or,this.platformId=ft,this.ngZone=gt,this.nonce=vt,this.rendererByCompId=new Map,this.platformIsServer=(0,m.Vy)(ft),this.defaultRenderer=new De(st,or,gt,this.platformIsServer)}createRenderer(st,Nt){if(!st||!Nt)return this.defaultRenderer;this.platformIsServer&&Nt.encapsulation===x.gXe.ShadowDom&&(Nt={...Nt,encapsulation:x.gXe.Emulated});const Kt=this.getOrCreateRenderer(st,Nt);return Kt instanceof T?Kt.applyToHost(st):Kt instanceof w&&Kt.applyStyles(),Kt}getOrCreateRenderer(st,Nt){const Kt=this.rendererByCompId;let qt=Kt.get(Nt.id);if(!qt){const or=this.doc,ft=this.ngZone,gt=this.eventManager,vt=this.sharedStylesHost,He=this.removeStylesOnCompDestroy,Je=this.platformIsServer;switch(Nt.encapsulation){case x.gXe.Emulated:qt=new T(gt,vt,Nt,this.appId,He,or,ft,Je);break;case x.gXe.ShadowDom:return new y(gt,vt,st,Nt,or,ft,this.nonce,Je);default:qt=new w(gt,vt,Nt,He,or,ft,Je)}Kt.set(Nt.id,qt)}return qt}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(Nt){return new(Nt||$t)(x.KVO(I),x.KVO(Z),x.KVO(x.sZ2),x.KVO(ae),x.KVO(m.qQ),x.KVO(x.Agw),x.KVO(x.SKi),x.KVO(x.BIS))};static#t=this.\u0275prov=x.jDH({token:$t,factory:$t.\u0275fac})}return $t})();class De{constructor(mt,st,Nt,Kt){this.eventManager=mt,this.doc=st,this.ngZone=Nt,this.platformIsServer=Kt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(mt,st){return st?this.doc.createElementNS(re[st]||st,mt):this.doc.createElement(mt)}createComment(mt){return this.doc.createComment(mt)}createText(mt){return this.doc.createTextNode(mt)}appendChild(mt,st){(h(mt)?mt.content:mt).appendChild(st)}insertBefore(mt,st,Nt){mt&&(h(mt)?mt.content:mt).insertBefore(st,Nt)}removeChild(mt,st){mt&&mt.removeChild(st)}selectRootElement(mt,st){let Nt="string"==typeof mt?this.doc.querySelector(mt):mt;if(!Nt)throw new x.wOt(-5104,!1);return st||(Nt.textContent=""),Nt}parentNode(mt){return mt.parentNode}nextSibling(mt){return mt.nextSibling}setAttribute(mt,st,Nt,Kt){if(Kt){st=Kt+":"+st;const qt=re[Kt];qt?mt.setAttributeNS(qt,st,Nt):mt.setAttribute(st,Nt)}else mt.setAttribute(st,Nt)}removeAttribute(mt,st,Nt){if(Nt){const Kt=re[Nt];Kt?mt.removeAttributeNS(Kt,st):mt.removeAttribute(`${Nt}:${st}`)}else mt.removeAttribute(st)}addClass(mt,st){mt.classList.add(st)}removeClass(mt,st){mt.classList.remove(st)}setStyle(mt,st,Nt,Kt){Kt&(x.czy.DashCase|x.czy.Important)?mt.style.setProperty(st,Nt,Kt&x.czy.Important?"important":""):mt.style[st]=Nt}removeStyle(mt,st,Nt){Nt&x.czy.DashCase?mt.style.removeProperty(st):mt.style[st]=""}setProperty(mt,st,Nt){null!=mt&&(mt[st]=Nt)}setValue(mt,st){mt.nodeValue=st}listen(mt,st,Nt){if("string"==typeof mt&&!(mt=(0,m.QT)().getGlobalEventTarget(this.doc,mt)))throw new Error(`Unsupported event target ${mt} for event ${st}`);return this.eventManager.addEventListener(mt,st,this.decoratePreventDefault(Nt))}decoratePreventDefault(mt){return st=>{if("__ngUnwrap__"===st)return mt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>mt(st)):mt(st))&&st.preventDefault()}}}function h($t){return"TEMPLATE"===$t.tagName&&void 0!==$t.content}class y extends De{constructor(mt,st,Nt,Kt,qt,or,ft,gt){super(mt,qt,or,gt),this.sharedStylesHost=st,this.hostEl=Nt,this.shadowRoot=Nt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const vt=ve(Kt.id,Kt.styles);for(const He of vt){const Je=document.createElement("style");ft&&Je.setAttribute("nonce",ft),Je.textContent=He,this.shadowRoot.appendChild(Je)}}nodeOrShadowRoot(mt){return mt===this.hostEl?this.shadowRoot:mt}appendChild(mt,st){return super.appendChild(this.nodeOrShadowRoot(mt),st)}insertBefore(mt,st,Nt){return super.insertBefore(this.nodeOrShadowRoot(mt),st,Nt)}removeChild(mt,st){return super.removeChild(this.nodeOrShadowRoot(mt),st)}parentNode(mt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(mt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class w extends De{constructor(mt,st,Nt,Kt,qt,or,ft,gt){super(mt,qt,or,ft),this.sharedStylesHost=st,this.removeStylesOnCompDestroy=Kt,this.styles=gt?ve(gt,Nt.styles):Nt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class T extends w{constructor(mt,st,Nt,Kt,qt,or,ft,gt){const vt=Kt+"-"+Nt.id;super(mt,st,Nt,qt,or,ft,gt,vt),this.contentAttr=function pe($t){return oe.replace(te,$t)}(vt),this.hostAttr=function le($t){return J.replace(te,$t)}(vt)}applyToHost(mt){this.applyStyles(),this.setAttribute(mt,this.hostAttr,"")}createElement(mt,st){const Nt=super.createElement(mt,st);return super.setAttribute(Nt,this.contentAttr,""),Nt}}let D=(()=>{class $t extends X{constructor(st){super(st)}supports(st){return!0}addEventListener(st,Nt,Kt){return st.addEventListener(Nt,Kt,!1),()=>this.removeEventListener(st,Nt,Kt)}removeEventListener(st,Nt,Kt){return st.removeEventListener(Nt,Kt)}static#e=this.\u0275fac=function(Nt){return new(Nt||$t)(x.KVO(m.qQ))};static#t=this.\u0275prov=x.jDH({token:$t,factory:$t.\u0275fac})}return $t})(),j=(()=>{class $t extends X{constructor(st){super(st),this.delegate=(0,x.WQX)(x.zAP,{optional:!0})}supports(st){return!!this.delegate&&this.delegate.supports(st)}addEventListener(st,Nt,Kt){return this.delegate.addEventListener(st,Nt,Kt)}removeEventListener(st,Nt,Kt){return this.delegate.removeEventListener(st,Nt,Kt)}static#e=this.\u0275fac=function(Nt){return new(Nt||$t)(x.KVO(m.qQ))};static#t=this.\u0275prov=x.jDH({token:$t,factory:$t.\u0275fac})}return $t})();const A=["alt","control","meta","shift"],l={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},g={alt:$t=>$t.altKey,control:$t=>$t.ctrlKey,meta:$t=>$t.metaKey,shift:$t=>$t.shiftKey};let G=(()=>{class $t extends X{constructor(st){super(st)}supports(st){return null!=$t.parseEventName(st)}addEventListener(st,Nt,Kt){const qt=$t.parseEventName(Nt),or=$t.eventCallback(qt.fullKey,Kt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.QT)().onAndCancel(st,qt.domEventName,or))}static parseEventName(st){const Nt=st.toLowerCase().split("."),Kt=Nt.shift();if(0===Nt.length||"keydown"!==Kt&&"keyup"!==Kt)return null;const qt=$t._normalizeKey(Nt.pop());let or="",ft=Nt.indexOf("code");if(ft>-1&&(Nt.splice(ft,1),or="code."),A.forEach(vt=>{const He=Nt.indexOf(vt);He>-1&&(Nt.splice(He,1),or+=vt+".")}),or+=qt,0!=Nt.length||0===qt.length)return null;const gt={};return gt.domEventName=Kt,gt.fullKey=or,gt}static matchEventFullKeyCode(st,Nt){let Kt=l[st.key]||st.key,qt="";return Nt.indexOf("code.")>-1&&(Kt=st.code,qt="code."),!(null==Kt||!Kt)&&(Kt=Kt.toLowerCase()," "===Kt?Kt="space":"."===Kt&&(Kt="dot"),A.forEach(or=>{or!==Kt&&(0,g[or])(st)&&(qt+=or+".")}),qt+=Kt,qt===Nt)}static eventCallback(st,Nt,Kt){return qt=>{$t.matchEventFullKeyCode(qt,st)&&Kt.runGuarded(()=>Nt(qt))}}static _normalizeKey(st){return"esc"===st?"escape":st}static#e=this.\u0275fac=function(Nt){return new(Nt||$t)(x.KVO(m.qQ))};static#t=this.\u0275prov=x.jDH({token:$t,factory:$t.\u0275fac})}return $t})();function H($t,mt){return(0,x.TL3)({rootComponent:$t,...ce(mt)})}function ce($t){return{appProviders:[...he,...$t?.providers??[]],platformProviders:ge}}const ge=[{provide:x.Agw,useValue:m.AJ},{provide:x.PLl,useValue:function ke(){W.makeCurrent()},multi:!0},{provide:m.qQ,useFactory:function Ee(){return(0,x.TL$)(document),document},deps:[]}],he=[{provide:x.H8p,useValue:"root"},{provide:x.zcH,useFactory:function Fe(){return new x.zcH},deps:[]},{provide:F,useClass:D,multi:!0,deps:[m.qQ,x.SKi,x.Agw]},{provide:F,useClass:G,multi:!0,deps:[m.qQ]},{provide:F,useClass:j,multi:!0},we,Z,I,{provide:x._9s,useExisting:we},{provide:m.N0,useClass:$,deps:[]},[]];let ue=(()=>{class $t{constructor(st){this._doc=st}getTitle(){return this._doc.title}setTitle(st){this._doc.title=st||""}static#e=this.\u0275fac=function(Nt){return new(Nt||$t)(x.KVO(m.qQ))};static#t=this.\u0275prov=x.jDH({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})(),xe=(()=>{class $t{static#e=this.\u0275fac=function(Nt){return new(Nt||$t)};static#t=this.\u0275prov=x.jDH({token:$t,factory:function(Nt){let Kt=null;return Kt=Nt?new(Nt||$t):x.KVO(qe),Kt},providedIn:"root"})}return $t})(),qe=(()=>{class $t extends xe{constructor(st){super(),this._doc=st}sanitize(st,Nt){if(null==Nt)return null;switch(st){case x.WPN.NONE:return Nt;case x.WPN.HTML:return(0,x.ZF7)(Nt,"HTML")?(0,x.rcV)(Nt):(0,x.h9k)(this._doc,String(Nt)).toString();case x.WPN.STYLE:return(0,x.ZF7)(Nt,"Style")?(0,x.rcV)(Nt):Nt;case x.WPN.SCRIPT:if((0,x.ZF7)(Nt,"Script"))return(0,x.rcV)(Nt);throw new x.wOt(5200,!1);case x.WPN.URL:return(0,x.ZF7)(Nt,"URL")?(0,x.rcV)(Nt):(0,x.$MX)(String(Nt));case x.WPN.RESOURCE_URL:if((0,x.ZF7)(Nt,"ResourceURL"))return(0,x.rcV)(Nt);throw new x.wOt(5201,!1);default:throw new x.wOt(5202,!1)}}bypassSecurityTrustHtml(st){return(0,x.Kcf)(st)}bypassSecurityTrustStyle(st){return(0,x.cWb)(st)}bypassSecurityTrustScript(st){return(0,x.UyX)(st)}bypassSecurityTrustUrl(st){return(0,x.osQ)(st)}bypassSecurityTrustResourceUrl(st){return(0,x.e5t)(st)}static#e=this.\u0275fac=function(Nt){return new(Nt||$t)(x.KVO(m.qQ))};static#t=this.\u0275prov=x.jDH({token:$t,factory:$t.\u0275fac,providedIn:"root"})}return $t})()},18498:(Le,z,E)=>{"use strict";E.d(z,{nX:()=>fa,wF:()=>pr,Z:()=>yr,Kp:()=>Gf,Ix:()=>Fs,Wk:()=>Ec,wQ:()=>cd,iI:()=>ll,n3:()=>lr,lh:()=>at,Sn:()=>Vi});var m=E(93953),x=E(74402),R=E(86648),W=E(7673),S=E(84412),L=E(84572);const N=(0,E(81853).L)(Ve=>function(){Ve(this),this.name="EmptyError",this.message="no elements in sequence"});var $=E(28793),F=E(59030),I=E(71203),X=E(18810),V=E(983),Z=E(30017),re=E(21413),te=E(18359),Q=E(60177),J=E(96354),oe=E(25558),se=E(96697),ae=E(99172),pe=E(5964),le=E(31397),ve=E(39974),we=E(54360);function De(Ve){return(0,ve.N)((ct,Ge)=>{let dt=!1;ct.subscribe((0,we._)(Ge,It=>{dt=!0,Ge.next(It)},()=>{dt||Ge.next(Ve),Ge.complete()}))})}function k(Ve=u){return(0,ve.N)((ct,Ge)=>{let dt=!1;ct.subscribe((0,we._)(Ge,It=>{dt=!0,Ge.next(It)},()=>dt?Ge.complete():Ge.error(Ve())))})}function u(){return new N}var h=E(33669);function y(Ve,ct){const Ge=arguments.length>=2;return dt=>dt.pipe(Ve?(0,pe.p)((It,Gt)=>Ve(It,Gt,dt)):h.D,(0,se.s)(1),Ge?De(ct):k(()=>new N))}var w=E(70274),T=E(88141),D=E(99437);function l(Ve){return Ve<=0?()=>V.w:(0,ve.N)((ct,Ge)=>{let dt=[];ct.subscribe((0,we._)(Ge,It=>{dt.push(It),Ve<dt.length&&dt.shift()},()=>{for(const It of dt)Ge.next(It);Ge.complete()},void 0,()=>{dt=null}))})}var G=E(73703),H=E(70980),ne=E(99898),ce=E(56977),Ae=E(26365),ke=E(345);const Fe="primary",Ee=Symbol("RouteTitle");class ge{constructor(ct){this.params=ct||{}}has(ct){return Object.prototype.hasOwnProperty.call(this.params,ct)}get(ct){if(this.has(ct)){const Ge=this.params[ct];return Array.isArray(Ge)?Ge[0]:Ge}return null}getAll(ct){if(this.has(ct)){const Ge=this.params[ct];return Array.isArray(Ge)?Ge:[Ge]}return[]}get keys(){return Object.keys(this.params)}}function Oe(Ve){return new ge(Ve)}function ye(Ve,ct,Ge){const dt=Ge.path.split("/");if(dt.length>Ve.length||"full"===Ge.pathMatch&&(ct.hasChildren()||dt.length<Ve.length))return null;const It={};for(let Gt=0;Gt<dt.length;Gt++){const hn=dt[Gt],Zn=Ve[Gt];if(":"===hn[0])It[hn.substring(1)]=Zn;else if(hn!==Zn.path)return null}return{consumed:Ve.slice(0,dt.length),posParams:It}}function he(Ve,ct){const Ge=Ve?fe(Ve):void 0,dt=ct?fe(ct):void 0;if(!Ge||!dt||Ge.length!=dt.length)return!1;let It;for(let Gt=0;Gt<Ge.length;Gt++)if(It=Ge[Gt],!ee(Ve[It],ct[It]))return!1;return!0}function fe(Ve){return[...Object.keys(Ve),...Object.getOwnPropertySymbols(Ve)]}function ee(Ve,ct){if(Array.isArray(Ve)&&Array.isArray(ct)){if(Ve.length!==ct.length)return!1;const Ge=[...Ve].sort(),dt=[...ct].sort();return Ge.every((It,Gt)=>dt[Gt]===It)}return Ve===ct}function ie(Ve){return Ve.length>0?Ve[Ve.length-1]:null}function ue(Ve){return(0,x.A)(Ve)?Ve:(0,m.jNT)(Ve)?(0,R.H)(Promise.resolve(Ve)):(0,W.of)(Ve)}const be={exact:function yt(Ve,ct,Ge){if(!me(Ve.segments,ct.segments)||!U(Ve.segments,ct.segments,Ge)||Ve.numberOfChildren!==ct.numberOfChildren)return!1;for(const dt in ct.children)if(!Ve.children[dt]||!yt(Ve.children[dt],ct.children[dt],Ge))return!1;return!0},subset:Re},Ie={exact:function Be(Ve,ct){return he(Ve,ct)},subset:function Ke(Ve,ct){return Object.keys(ct).length<=Object.keys(Ve).length&&Object.keys(ct).every(Ge=>ee(Ve[Ge],ct[Ge]))},ignored:()=>!0};function Ne(Ve,ct,Ge){return be[Ge.paths](Ve.root,ct.root,Ge.matrixParams)&&Ie[Ge.queryParams](Ve.queryParams,ct.queryParams)&&!("exact"===Ge.fragment&&Ve.fragment!==ct.fragment)}function Re(Ve,ct,Ge){return ot(Ve,ct,ct.segments,Ge)}function ot(Ve,ct,Ge,dt){if(Ve.segments.length>Ge.length){const It=Ve.segments.slice(0,Ge.length);return!(!me(It,Ge)||ct.hasChildren()||!U(It,Ge,dt))}if(Ve.segments.length===Ge.length){if(!me(Ve.segments,Ge)||!U(Ve.segments,Ge,dt))return!1;for(const It in ct.children)if(!Ve.children[It]||!Re(Ve.children[It],ct.children[It],dt))return!1;return!0}{const It=Ge.slice(0,Ve.segments.length),Gt=Ge.slice(Ve.segments.length);return!!(me(Ve.segments,It)&&U(Ve.segments,It,dt)&&Ve.children[Fe])&&ot(Ve.children[Fe],ct,Gt,dt)}}function U(Ve,ct,Ge){return ct.every((dt,It)=>Ie[Ge](Ve[It].parameters,dt.parameters))}class _{constructor(ct=new p([],{}),Ge={},dt=null){this.root=ct,this.queryParams=Ge,this.fragment=dt}get queryParamMap(){return this._queryParamMap??=Oe(this.queryParams),this._queryParamMap}toString(){return ut.serialize(this)}}class p{constructor(ct,Ge){this.segments=ct,this.children=Ge,this.parent=null,Object.values(Ge).forEach(dt=>dt.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bt(this)}}class O{constructor(ct,Ge){this.path=ct,this.parameters=Ge}get parameterMap(){return this._parameterMap??=Oe(this.parameters),this._parameterMap}toString(){return mt(this)}}function me(Ve,ct){return Ve.length===ct.length&&Ve.every((Ge,dt)=>Ge.path===ct[dt].path)}let qe=(()=>{class Ve{static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275prov=m.jDH({token:Ve,factory:()=>new At,providedIn:"root"})}return Ve})();class At{parse(ct){const Ge=new Bt(ct);return new _(Ge.parseRootSegment(),Ge.parseQueryParams(),Ge.parseFragment())}serialize(ct){const Ge=`/${Lt(ct.root,!0)}`,dt=function Nt(Ve){const ct=Object.entries(Ve).map(([Ge,dt])=>Array.isArray(dt)?dt.map(It=>`${Zt(Ge)}=${Zt(It)}`).join("&"):`${Zt(Ge)}=${Zt(dt)}`).filter(Ge=>Ge);return ct.length?`?${ct.join("&")}`:""}(ct.queryParams);return`${Ge}${dt}${"string"==typeof ct.fragment?`#${function Jn(Ve){return encodeURI(Ve)}(ct.fragment)}`:""}`}}const ut=new At;function bt(Ve){return Ve.segments.map(ct=>mt(ct)).join("/")}function Lt(Ve,ct){if(!Ve.hasChildren())return bt(Ve);if(ct){const Ge=Ve.children[Fe]?Lt(Ve.children[Fe],!1):"",dt=[];return Object.entries(Ve.children).forEach(([It,Gt])=>{It!==Fe&&dt.push(`${It}:${Lt(Gt,!1)}`)}),dt.length>0?`${Ge}(${dt.join("//")})`:Ge}{const Ge=function xe(Ve,ct){let Ge=[];return Object.entries(Ve.children).forEach(([dt,It])=>{dt===Fe&&(Ge=Ge.concat(ct(It,dt)))}),Object.entries(Ve.children).forEach(([dt,It])=>{dt!==Fe&&(Ge=Ge.concat(ct(It,dt)))}),Ge}(Ve,(dt,It)=>It===Fe?[Lt(Ve.children[Fe],!1)]:[`${It}:${Lt(dt,!1)}`]);return 1===Object.keys(Ve.children).length&&null!=Ve.children[Fe]?`${bt(Ve)}/${Ge[0]}`:`${bt(Ve)}/(${Ge.join("//")})`}}function en(Ve){return encodeURIComponent(Ve).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zt(Ve){return en(Ve).replace(/%3B/gi,";")}function yn(Ve){return en(Ve).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vt(Ve){return decodeURIComponent(Ve)}function $t(Ve){return Vt(Ve.replace(/\+/g,"%20"))}function mt(Ve){return`${yn(Ve.path)}${function st(Ve){return Object.entries(Ve).map(([ct,Ge])=>`;${yn(ct)}=${yn(Ge)}`).join("")}(Ve.parameters)}`}const Kt=/^[^\/()?;#]+/;function qt(Ve){const ct=Ve.match(Kt);return ct?ct[0]:""}const or=/^[^\/()?;=#]+/,gt=/^[^=?&#]+/,He=/^[^&#]+/;class Bt{constructor(ct){this.url=ct,this.remaining=ct}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new p([],{}):new p([],this.parseChildren())}parseQueryParams(){const ct={};if(this.consumeOptional("?"))do{this.parseQueryParam(ct)}while(this.consumeOptional("&"));return ct}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ct=[];for(this.peekStartsWith("(")||ct.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ct.push(this.parseSegment());let Ge={};this.peekStartsWith("/(")&&(this.capture("/"),Ge=this.parseParens(!0));let dt={};return this.peekStartsWith("(")&&(dt=this.parseParens(!1)),(ct.length>0||Object.keys(Ge).length>0)&&(dt[Fe]=new p(ct,Ge)),dt}parseSegment(){const ct=qt(this.remaining);if(""===ct&&this.peekStartsWith(";"))throw new m.wOt(4009,!1);return this.capture(ct),new O(Vt(ct),this.parseMatrixParams())}parseMatrixParams(){const ct={};for(;this.consumeOptional(";");)this.parseParam(ct);return ct}parseParam(ct){const Ge=function ft(Ve){const ct=Ve.match(or);return ct?ct[0]:""}(this.remaining);if(!Ge)return;this.capture(Ge);let dt="";if(this.consumeOptional("=")){const It=qt(this.remaining);It&&(dt=It,this.capture(dt))}ct[Vt(Ge)]=Vt(dt)}parseQueryParam(ct){const Ge=function vt(Ve){const ct=Ve.match(gt);return ct?ct[0]:""}(this.remaining);if(!Ge)return;this.capture(Ge);let dt="";if(this.consumeOptional("=")){const hn=function Je(Ve){const ct=Ve.match(He);return ct?ct[0]:""}(this.remaining);hn&&(dt=hn,this.capture(dt))}const It=$t(Ge),Gt=$t(dt);if(ct.hasOwnProperty(It)){let hn=ct[It];Array.isArray(hn)||(hn=[hn],ct[It]=hn),hn.push(Gt)}else ct[It]=Gt}parseParens(ct){const Ge={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const dt=qt(this.remaining),It=this.remaining[dt.length];if("/"!==It&&")"!==It&&";"!==It)throw new m.wOt(4010,!1);let Gt;dt.indexOf(":")>-1?(Gt=dt.slice(0,dt.indexOf(":")),this.capture(Gt),this.capture(":")):ct&&(Gt=Fe);const hn=this.parseChildren();Ge[Gt]=1===Object.keys(hn).length?hn[Fe]:new p([],hn),this.consumeOptional("//")}return Ge}peekStartsWith(ct){return this.remaining.startsWith(ct)}consumeOptional(ct){return!!this.peekStartsWith(ct)&&(this.remaining=this.remaining.substring(ct.length),!0)}capture(ct){if(!this.consumeOptional(ct))throw new m.wOt(4011,!1)}}function Tt(Ve){return Ve.segments.length>0?new p([],{[Fe]:Ve}):Ve}function Yt(Ve){const ct={};for(const[dt,It]of Object.entries(Ve.children)){const Gt=Yt(It);if(dt===Fe&&0===Gt.segments.length&&Gt.hasChildren())for(const[hn,Zn]of Object.entries(Gt.children))ct[hn]=Zn;else(Gt.segments.length>0||Gt.hasChildren())&&(ct[dt]=Gt)}return function Pn(Ve){if(1===Ve.numberOfChildren&&Ve.children[Fe]){const ct=Ve.children[Fe];return new p(Ve.segments.concat(ct.segments),ct.children)}return Ve}(new p(Ve.segments,ct))}function cn(Ve){return Ve instanceof _}function vr(Ve){let ct;const It=Tt(function Ge(Gt){const hn={};for(const Bn of Gt.children){const kr=Ge(Bn);hn[Bn.outlet]=kr}const Zn=new p(Gt.url,hn);return Gt===Ve&&(ct=Zn),Zn}(Ve.root));return ct??It}function Un(Ve,ct,Ge,dt){let It=Ve;for(;It.parent;)It=It.parent;if(0===ct.length)return nt(It,It,It,Ge,dt);const Gt=function jt(Ve){if("string"==typeof Ve[0]&&1===Ve.length&&"/"===Ve[0])return new it(!0,0,Ve);let ct=0,Ge=!1;const dt=Ve.reduce((It,Gt,hn)=>{if("object"==typeof Gt&&null!=Gt){if(Gt.outlets){const Zn={};return Object.entries(Gt.outlets).forEach(([Bn,kr])=>{Zn[Bn]="string"==typeof kr?kr.split("/"):kr}),[...It,{outlets:Zn}]}if(Gt.segmentPath)return[...It,Gt.segmentPath]}return"string"!=typeof Gt?[...It,Gt]:0===hn?(Gt.split("/").forEach((Zn,Bn)=>{0==Bn&&"."===Zn||(0==Bn&&""===Zn?Ge=!0:".."===Zn?ct++:""!=Zn&&It.push(Zn))}),It):[...It,Gt]},[]);return new it(Ge,ct,dt)}(ct);if(Gt.toRoot())return nt(It,It,new p([],{}),Ge,dt);const hn=function Rn(Ve,ct,Ge){if(Ve.isAbsolute)return new dn(ct,!0,0);if(!Ge)return new dn(ct,!1,NaN);if(null===Ge.parent)return new dn(Ge,!0,0);const dt=An(Ve.commands[0])?0:1;return function Kn(Ve,ct,Ge){let dt=Ve,It=ct,Gt=Ge;for(;Gt>It;){if(Gt-=It,dt=dt.parent,!dt)throw new m.wOt(4005,!1);It=dt.segments.length}return new dn(dt,!1,It-Gt)}(Ge,Ge.segments.length-1+dt,Ve.numberOfDoubleDots)}(Gt,It,Ve),Zn=hn.processChildren?_r(hn.segmentGroup,hn.index,Gt.commands):Ar(hn.segmentGroup,hn.index,Gt.commands);return nt(It,hn.segmentGroup,Zn,Ge,dt)}function An(Ve){return"object"==typeof Ve&&null!=Ve&&!Ve.outlets&&!Ve.segmentPath}function On(Ve){return"object"==typeof Ve&&null!=Ve&&Ve.outlets}function nt(Ve,ct,Ge,dt,It){let hn,Gt={};dt&&Object.entries(dt).forEach(([Bn,kr])=>{Gt[Bn]=Array.isArray(kr)?kr.map(ui=>`${ui}`):`${kr}`}),hn=Ve===ct?Ge:$e(Ve,ct,Ge);const Zn=Tt(Yt(hn));return new _(Zn,Gt,It)}function $e(Ve,ct,Ge){const dt={};return Object.entries(Ve.children).forEach(([It,Gt])=>{dt[It]=Gt===ct?Ge:$e(Gt,ct,Ge)}),new p(Ve.segments,dt)}class it{constructor(ct,Ge,dt){if(this.isAbsolute=ct,this.numberOfDoubleDots=Ge,this.commands=dt,ct&&dt.length>0&&An(dt[0]))throw new m.wOt(4003,!1);const It=dt.find(On);if(It&&It!==ie(dt))throw new m.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class dn{constructor(ct,Ge,dt){this.segmentGroup=ct,this.processChildren=Ge,this.index=dt}}function Ar(Ve,ct,Ge){if(Ve??=new p([],{}),0===Ve.segments.length&&Ve.hasChildren())return _r(Ve,ct,Ge);const dt=function Pr(Ve,ct,Ge){let dt=0,It=ct;const Gt={match:!1,pathIndex:0,commandIndex:0};for(;It<Ve.segments.length;){if(dt>=Ge.length)return Gt;const hn=Ve.segments[It],Zn=Ge[dt];if(On(Zn))break;const Bn=`${Zn}`,kr=dt<Ge.length-1?Ge[dt+1]:null;if(It>0&&void 0===Bn)break;if(Bn&&kr&&"object"==typeof kr&&void 0===kr.outlets){if(!ln(Bn,kr,hn))return Gt;dt+=2}else{if(!ln(Bn,{},hn))return Gt;dt++}It++}return{match:!0,pathIndex:It,commandIndex:dt}}(Ve,ct,Ge),It=Ge.slice(dt.commandIndex);if(dt.match&&dt.pathIndex<Ve.segments.length){const Gt=new p(Ve.segments.slice(0,dt.pathIndex),{});return Gt.children[Fe]=new p(Ve.segments.slice(dt.pathIndex),Ve.children),_r(Gt,0,It)}return dt.match&&0===It.length?new p(Ve.segments,{}):dt.match&&!Ve.hasChildren()?$r(Ve,ct,Ge):dt.match?_r(Ve,0,It):$r(Ve,ct,Ge)}function _r(Ve,ct,Ge){if(0===Ge.length)return new p(Ve.segments,{});{const dt=function tr(Ve){return On(Ve[0])?Ve[0].outlets:{[Fe]:Ve}}(Ge),It={};if(Object.keys(dt).some(Gt=>Gt!==Fe)&&Ve.children[Fe]&&1===Ve.numberOfChildren&&0===Ve.children[Fe].segments.length){const Gt=_r(Ve.children[Fe],ct,Ge);return new p(Ve.segments,Gt.children)}return Object.entries(dt).forEach(([Gt,hn])=>{"string"==typeof hn&&(hn=[hn]),null!==hn&&(It[Gt]=Ar(Ve.children[Gt],ct,hn))}),Object.entries(Ve.children).forEach(([Gt,hn])=>{void 0===dt[Gt]&&(It[Gt]=hn)}),new p(Ve.segments,It)}}function $r(Ve,ct,Ge){const dt=Ve.segments.slice(0,ct);let It=0;for(;It<Ge.length;){const Gt=Ge[It];if(On(Gt)){const Bn=zr(Gt.outlets);return new p(dt,Bn)}if(0===It&&An(Ge[0])){dt.push(new O(Ve.segments[ct].path,Ht(Ge[0]))),It++;continue}const hn=On(Gt)?Gt.outlets[Fe]:`${Gt}`,Zn=It<Ge.length-1?Ge[It+1]:null;hn&&Zn&&An(Zn)?(dt.push(new O(hn,Ht(Zn))),It+=2):(dt.push(new O(hn,{})),It++)}return new p(dt,{})}function zr(Ve){const ct={};return Object.entries(Ve).forEach(([Ge,dt])=>{"string"==typeof dt&&(dt=[dt]),null!==dt&&(ct[Ge]=$r(new p([],{}),0,dt))}),ct}function Ht(Ve){const ct={};return Object.entries(Ve).forEach(([Ge,dt])=>ct[Ge]=`${dt}`),ct}function ln(Ve,ct,Ge){return Ve==Ge.path&&he(ct,Ge.parameters)}const vn="imperative";var Dn=function(Ve){return Ve[Ve.NavigationStart=0]="NavigationStart",Ve[Ve.NavigationEnd=1]="NavigationEnd",Ve[Ve.NavigationCancel=2]="NavigationCancel",Ve[Ve.NavigationError=3]="NavigationError",Ve[Ve.RoutesRecognized=4]="RoutesRecognized",Ve[Ve.ResolveStart=5]="ResolveStart",Ve[Ve.ResolveEnd=6]="ResolveEnd",Ve[Ve.GuardsCheckStart=7]="GuardsCheckStart",Ve[Ve.GuardsCheckEnd=8]="GuardsCheckEnd",Ve[Ve.RouteConfigLoadStart=9]="RouteConfigLoadStart",Ve[Ve.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",Ve[Ve.ChildActivationStart=11]="ChildActivationStart",Ve[Ve.ChildActivationEnd=12]="ChildActivationEnd",Ve[Ve.ActivationStart=13]="ActivationStart",Ve[Ve.ActivationEnd=14]="ActivationEnd",Ve[Ve.Scroll=15]="Scroll",Ve[Ve.NavigationSkipped=16]="NavigationSkipped",Ve}(Dn||{});class er{constructor(ct,Ge){this.id=ct,this.url=Ge}}class yr extends er{constructor(ct,Ge,dt="imperative",It=null){super(ct,Ge),this.type=Dn.NavigationStart,this.navigationTrigger=dt,this.restoredState=It}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pr extends er{constructor(ct,Ge,dt){super(ct,Ge),this.urlAfterRedirects=dt,this.type=Dn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Nr=function(Ve){return Ve[Ve.Redirect=0]="Redirect",Ve[Ve.SupersededByNewNavigation=1]="SupersededByNewNavigation",Ve[Ve.NoDataFromResolver=2]="NoDataFromResolver",Ve[Ve.GuardRejected=3]="GuardRejected",Ve}(Nr||{}),Cr=function(Ve){return Ve[Ve.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",Ve[Ve.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",Ve}(Cr||{});class $i extends er{constructor(ct,Ge,dt,It){super(ct,Ge),this.reason=dt,this.code=It,this.type=Dn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fo extends er{constructor(ct,Ge,dt,It){super(ct,Ge),this.reason=dt,this.code=It,this.type=Dn.NavigationSkipped}}class ci extends er{constructor(ct,Ge,dt,It){super(ct,Ge),this.error=dt,this.target=It,this.type=Dn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lo extends er{constructor(ct,Ge,dt,It){super(ct,Ge),this.urlAfterRedirects=dt,this.state=It,this.type=Dn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho extends er{constructor(ct,Ge,dt,It){super(ct,Ge),this.urlAfterRedirects=dt,this.state=It,this.type=Dn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Do extends er{constructor(ct,Ge,dt,It,Gt){super(ct,Ge),this.urlAfterRedirects=dt,this.state=It,this.shouldActivate=Gt,this.type=Dn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Di extends er{constructor(ct,Ge,dt,It){super(ct,Ge),this.urlAfterRedirects=dt,this.state=It,this.type=Dn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ki extends er{constructor(ct,Ge,dt,It){super(ct,Ge),this.urlAfterRedirects=dt,this.state=It,this.type=Dn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vo{constructor(ct){this.route=ct,this.type=Dn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ya{constructor(ct){this.route=ct,this.type=Dn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gr{constructor(ct){this.snapshot=ct,this.type=Dn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ts{constructor(ct){this.snapshot=ct,this.type=Dn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ba{constructor(ct){this.snapshot=ct,this.type=Dn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ca{constructor(ct){this.snapshot=ct,this.type=Dn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Is{constructor(ct,Ge,dt){this.routerEvent=ct,this.position=Ge,this.anchor=dt,this.type=Dn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ja{}class Na{constructor(ct,Ge){this.url=ct,this.navigationBehaviorOptions=Ge}}function da(Ve){return Ve.outlet||Fe}function Sa(Ve){if(!Ve)return null;if(Ve.routeConfig?._injector)return Ve.routeConfig._injector;for(let ct=Ve.parent;ct;ct=ct.parent){const Ge=ct.routeConfig;if(Ge?._loadedInjector)return Ge._loadedInjector;if(Ge?._injector)return Ge._injector}return null}class td{get injector(){return Sa(this.route?.snapshot)??this.rootInjector}set injector(ct){}constructor(ct){this.rootInjector=ct,this.outlet=null,this.route=null,this.children=new La(this.rootInjector),this.attachRef=null}}let La=(()=>{class Ve{constructor(Ge){this.rootInjector=Ge,this.contexts=new Map}onChildOutletCreated(Ge,dt){const It=this.getOrCreateContext(Ge);It.outlet=dt,this.contexts.set(Ge,It)}onChildOutletDestroyed(Ge){const dt=this.getContext(Ge);dt&&(dt.outlet=null,dt.attachRef=null)}onOutletDeactivated(){const Ge=this.contexts;return this.contexts=new Map,Ge}onOutletReAttached(Ge){this.contexts=Ge}getOrCreateContext(Ge){let dt=this.getContext(Ge);return dt||(dt=new td(this.rootInjector),this.contexts.set(Ge,dt)),dt}getContext(Ge){return this.contexts.get(Ge)||null}static#e=this.\u0275fac=function(dt){return new(dt||Ve)(m.KVO(m.uvJ))};static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();class Ls{constructor(ct){this._root=ct}get root(){return this._root.value}parent(ct){const Ge=this.pathFromRoot(ct);return Ge.length>1?Ge[Ge.length-2]:null}children(ct){const Ge=bc(ct,this._root);return Ge?Ge.children.map(dt=>dt.value):[]}firstChild(ct){const Ge=bc(ct,this._root);return Ge&&Ge.children.length>0?Ge.children[0].value:null}siblings(ct){const Ge=nd(ct,this._root);return Ge.length<2?[]:Ge[Ge.length-2].children.map(It=>It.value).filter(It=>It!==ct)}pathFromRoot(ct){return nd(ct,this._root).map(Ge=>Ge.value)}}function bc(Ve,ct){if(Ve===ct.value)return ct;for(const Ge of ct.children){const dt=bc(Ve,Ge);if(dt)return dt}return null}function nd(Ve,ct){if(Ve===ct.value)return[ct];for(const Ge of ct.children){const dt=nd(Ve,Ge);if(dt.length)return dt.unshift(ct),dt}return[]}class ua{constructor(ct,Ge){this.value=ct,this.children=Ge}toString(){return`TreeNode(${this.value})`}}function Qa(Ve){const ct={};return Ve&&Ve.children.forEach(Ge=>ct[Ge.value.outlet]=Ge),ct}class rd extends Ls{constructor(ct,Ge){super(ct),this.snapshot=Ge,qn(this,ct)}toString(){return this.snapshot.toString()}}function tu(Ve){const ct=function Us(Ve){const Gt=new wc([],{},{},"",{},Fe,Ve,null,{});return new Jt("",new ua(Gt,[]))}(Ve),Ge=new S.t([new O("",{})]),dt=new S.t({}),It=new S.t({}),Gt=new S.t({}),hn=new S.t(""),Zn=new fa(Ge,dt,Gt,hn,It,Fe,Ve,ct.root);return Zn.snapshot=ct.root,new rd(new ua(Zn,[]),ct)}class fa{constructor(ct,Ge,dt,It,Gt,hn,Zn,Bn){this.urlSubject=ct,this.paramsSubject=Ge,this.queryParamsSubject=dt,this.fragmentSubject=It,this.dataSubject=Gt,this.outlet=hn,this.component=Zn,this._futureSnapshot=Bn,this.title=this.dataSubject?.pipe((0,J.T)(kr=>kr[Ee]))??(0,W.of)(void 0),this.url=ct,this.params=Ge,this.queryParams=dt,this.fragment=It,this.data=Gt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,J.T)(ct=>Oe(ct))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,J.T)(ct=>Oe(ct))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ol(Ve,ct,Ge="emptyOnly"){let dt;const{routeConfig:It}=Ve;return dt=null===ct||"always"!==Ge&&""!==It?.path&&(ct.component||ct.routeConfig?.loadComponent)?{params:{...Ve.params},data:{...Ve.data},resolve:{...Ve.data,...Ve._resolvedData??{}}}:{params:{...ct.params,...Ve.params},data:{...ct.data,...Ve.data},resolve:{...Ve.data,...ct.data,...It?.data,...Ve._resolvedData}},It&&mr(It)&&(dt.resolve[Ee]=It.title),dt}class wc{get title(){return this.data?.[Ee]}constructor(ct,Ge,dt,It,Gt,hn,Zn,Bn,kr){this.url=ct,this.params=Ge,this.queryParams=dt,this.fragment=It,this.data=Gt,this.outlet=hn,this.component=Zn,this.routeConfig=Bn,this._resolve=kr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oe(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(dt=>dt.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jt extends Ls{constructor(ct,Ge){super(Ge),this.url=ct,qn(this,Ge)}toString(){return Rt(this._root)}}function qn(Ve,ct){ct.value._routerState=Ve,ct.children.forEach(Ge=>qn(Ve,Ge))}function Rt(Ve){const ct=Ve.children.length>0?` { ${Ve.children.map(Rt).join(", ")} } `:"";return`${Ve.value}${ct}`}function on(Ve){if(Ve.snapshot){const ct=Ve.snapshot,Ge=Ve._futureSnapshot;Ve.snapshot=Ge,he(ct.queryParams,Ge.queryParams)||Ve.queryParamsSubject.next(Ge.queryParams),ct.fragment!==Ge.fragment&&Ve.fragmentSubject.next(Ge.fragment),he(ct.params,Ge.params)||Ve.paramsSubject.next(Ge.params),function Se(Ve,ct){if(Ve.length!==ct.length)return!1;for(let Ge=0;Ge<Ve.length;++Ge)if(!he(Ve[Ge],ct[Ge]))return!1;return!0}(ct.url,Ge.url)||Ve.urlSubject.next(Ge.url),he(ct.data,Ge.data)||Ve.dataSubject.next(Ge.data)}else Ve.snapshot=Ve._futureSnapshot,Ve.dataSubject.next(Ve._futureSnapshot.data)}function gn(Ve,ct){const Ge=he(Ve.params,ct.params)&&function q(Ve,ct){return me(Ve,ct)&&Ve.every((Ge,dt)=>he(Ge.parameters,ct[dt].parameters))}(Ve.url,ct.url);return Ge&&!(!Ve.parent!=!ct.parent)&&(!Ve.parent||gn(Ve.parent,ct.parent))}function mr(Ve){return"string"==typeof Ve.title||null===Ve.title}let lr=(()=>{class Ve{constructor(){this.activated=null,this._activatedRoute=null,this.name=Fe,this.activateEvents=new m.bkB,this.deactivateEvents=new m.bkB,this.attachEvents=new m.bkB,this.detachEvents=new m.bkB,this.parentContexts=(0,m.WQX)(La),this.location=(0,m.WQX)(m.c1b),this.changeDetector=(0,m.WQX)(m.gRc),this.inputBinder=(0,m.WQX)(ur,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(Ge){if(Ge.name){const{firstChange:dt,previousValue:It}=Ge.name;if(dt)return;this.isTrackedInParentContexts(It)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(It)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(Ge){return this.parentContexts.getContext(Ge)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const Ge=this.parentContexts.getContext(this.name);Ge?.route&&(Ge.attachRef?this.attach(Ge.attachRef,Ge.route):this.activateWith(Ge.route,Ge.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.wOt(4012,!1);this.location.detach();const Ge=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Ge.instance),Ge}attach(Ge,dt){this.activated=Ge,this._activatedRoute=dt,this.location.insert(Ge.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(Ge.instance)}deactivate(){if(this.activated){const Ge=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Ge)}}activateWith(Ge,dt){if(this.isActivated)throw new m.wOt(4013,!1);this._activatedRoute=Ge;const It=this.location,hn=Ge.snapshot.component,Zn=this.parentContexts.getOrCreateContext(this.name).children,Bn=new pi(Ge,Zn,It.injector);this.activated=It.createComponent(hn,{index:It.length,injector:Bn,environmentInjector:dt}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275dir=m.FsC({type:Ve,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[m.OA$]})}return Ve})();class pi{__ngOutletInjector(ct){return new pi(this.route,this.childContexts,ct)}constructor(ct,Ge,dt){this.route=ct,this.childContexts=Ge,this.parent=dt}get(ct,Ge){return ct===fa?this.route:ct===La?this.childContexts:this.parent.get(ct,Ge)}}const ur=new m.nKC("");let Ni=(()=>{class Ve{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(Ge){this.unsubscribeFromRouteData(Ge),this.subscribeToRouteData(Ge)}unsubscribeFromRouteData(Ge){this.outletDataSubscriptions.get(Ge)?.unsubscribe(),this.outletDataSubscriptions.delete(Ge)}subscribeToRouteData(Ge){const{activatedRoute:dt}=Ge,It=(0,L.z)([dt.queryParams,dt.params,dt.data]).pipe((0,oe.n)(([Gt,hn,Zn],Bn)=>(Zn={...Gt,...hn,...Zn},0===Bn?(0,W.of)(Zn):Promise.resolve(Zn)))).subscribe(Gt=>{if(!Ge.isActivated||!Ge.activatedComponentRef||Ge.activatedRoute!==dt||null===dt.component)return void this.unsubscribeFromRouteData(Ge);const hn=(0,m.HJs)(dt.component);if(hn)for(const{templateName:Zn}of hn.inputs)Ge.activatedComponentRef.setInput(Zn,Gt[Zn]);else this.unsubscribeFromRouteData(Ge)});this.outletDataSubscriptions.set(Ge,It)}static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac})}return Ve})();function ro(Ve,ct,Ge){if(Ge&&Ve.shouldReuseRoute(ct.value,Ge.value.snapshot)){const dt=Ge.value;dt._futureSnapshot=ct.value;const It=function ns(Ve,ct,Ge){return ct.children.map(dt=>{for(const It of Ge.children)if(Ve.shouldReuseRoute(dt.value,It.value.snapshot))return ro(Ve,dt,It);return ro(Ve,dt)})}(Ve,ct,Ge);return new ua(dt,It)}{if(Ve.shouldAttach(ct.value)){const Gt=Ve.retrieve(ct.value);if(null!==Gt){const hn=Gt.route;return hn.value._futureSnapshot=ct.value,hn.children=ct.children.map(Zn=>ro(Ve,Zn)),hn}}const dt=function eo(Ve){return new fa(new S.t(Ve.url),new S.t(Ve.params),new S.t(Ve.queryParams),new S.t(Ve.fragment),new S.t(Ve.data),Ve.outlet,Ve.component,Ve)}(ct.value),It=ct.children.map(Gt=>ro(Ve,Gt));return new ua(dt,It)}}class Nc{constructor(ct,Ge){this.redirectTo=ct,this.navigationBehaviorOptions=Ge}}const rs="ngNavigationCancelingError";function ec(Ve,ct){const{redirectTo:Ge,navigationBehaviorOptions:dt}=cn(ct)?{redirectTo:ct,navigationBehaviorOptions:void 0}:ct,It=Lc(!1,Nr.Redirect);return It.url=Ge,It.navigationBehaviorOptions=dt,It}function Lc(Ve,ct){const Ge=new Error(`NavigationCancelingError: ${Ve||""}`);return Ge[rs]=!0,Ge.cancellationCode=ct,Ge}function tc(Ve){return!!Ve&&Ve[rs]}class Pd{constructor(ct,Ge,dt,It,Gt){this.routeReuseStrategy=ct,this.futureState=Ge,this.currState=dt,this.forwardEvent=It,this.inputBindingEnabled=Gt}activate(ct){const Ge=this.futureState._root,dt=this.currState?this.currState._root:null;this.deactivateChildRoutes(Ge,dt,ct),on(this.futureState.root),this.activateChildRoutes(Ge,dt,ct)}deactivateChildRoutes(ct,Ge,dt){const It=Qa(Ge);ct.children.forEach(Gt=>{const hn=Gt.value.outlet;this.deactivateRoutes(Gt,It[hn],dt),delete It[hn]}),Object.values(It).forEach(Gt=>{this.deactivateRouteAndItsChildren(Gt,dt)})}deactivateRoutes(ct,Ge,dt){const It=ct.value,Gt=Ge?Ge.value:null;if(It===Gt)if(It.component){const hn=dt.getContext(It.outlet);hn&&this.deactivateChildRoutes(ct,Ge,hn.children)}else this.deactivateChildRoutes(ct,Ge,dt);else Gt&&this.deactivateRouteAndItsChildren(Ge,dt)}deactivateRouteAndItsChildren(ct,Ge){ct.value.component&&this.routeReuseStrategy.shouldDetach(ct.value.snapshot)?this.detachAndStoreRouteSubtree(ct,Ge):this.deactivateRouteAndOutlet(ct,Ge)}detachAndStoreRouteSubtree(ct,Ge){const dt=Ge.getContext(ct.value.outlet),It=dt&&ct.value.component?dt.children:Ge,Gt=Qa(ct);for(const hn of Object.values(Gt))this.deactivateRouteAndItsChildren(hn,It);if(dt&&dt.outlet){const hn=dt.outlet.detach(),Zn=dt.children.onOutletDeactivated();this.routeReuseStrategy.store(ct.value.snapshot,{componentRef:hn,route:ct,contexts:Zn})}}deactivateRouteAndOutlet(ct,Ge){const dt=Ge.getContext(ct.value.outlet),It=dt&&ct.value.component?dt.children:Ge,Gt=Qa(ct);for(const hn of Object.values(Gt))this.deactivateRouteAndItsChildren(hn,It);dt&&(dt.outlet&&(dt.outlet.deactivate(),dt.children.onOutletDeactivated()),dt.attachRef=null,dt.route=null)}activateChildRoutes(ct,Ge,dt){const It=Qa(Ge);ct.children.forEach(Gt=>{this.activateRoutes(Gt,It[Gt.value.outlet],dt),this.forwardEvent(new ca(Gt.value.snapshot))}),ct.children.length&&this.forwardEvent(new Ts(ct.value.snapshot))}activateRoutes(ct,Ge,dt){const It=ct.value,Gt=Ge?Ge.value:null;if(on(It),It===Gt)if(It.component){const hn=dt.getOrCreateContext(It.outlet);this.activateChildRoutes(ct,Ge,hn.children)}else this.activateChildRoutes(ct,Ge,dt);else if(It.component){const hn=dt.getOrCreateContext(It.outlet);if(this.routeReuseStrategy.shouldAttach(It.snapshot)){const Zn=this.routeReuseStrategy.retrieve(It.snapshot);this.routeReuseStrategy.store(It.snapshot,null),hn.children.onOutletReAttached(Zn.contexts),hn.attachRef=Zn.componentRef,hn.route=Zn.route.value,hn.outlet&&hn.outlet.attach(Zn.componentRef,Zn.route.value),on(Zn.route.value),this.activateChildRoutes(ct,null,hn.children)}else hn.attachRef=null,hn.route=It,hn.outlet&&hn.outlet.activateWith(It,hn.injector),this.activateChildRoutes(ct,null,hn.children)}else this.activateChildRoutes(ct,null,dt)}}class gs{constructor(ct){this.path=ct,this.route=this.path[this.path.length-1]}}class nc{constructor(ct,Ge){this.component=ct,this.route=Ge}}function Rd(Ve,ct,Ge){const dt=Ve._root;return So(dt,ct?ct._root:null,Ge,[dt.value])}function po(Ve,ct){const Ge=Symbol(),dt=ct.get(Ve,Ge);return dt===Ge?"function"!=typeof Ve||(0,m.LfX)(Ve)?ct.get(Ve):Ve:dt}function So(Ve,ct,Ge,dt,It={canDeactivateChecks:[],canActivateChecks:[]}){const Gt=Qa(ct);return Ve.children.forEach(hn=>{(function Rp(Ve,ct,Ge,dt,It={canDeactivateChecks:[],canActivateChecks:[]}){const Gt=Ve.value,hn=ct?ct.value:null,Zn=Ge?Ge.getContext(Ve.value.outlet):null;if(hn&&Gt.routeConfig===hn.routeConfig){const Bn=function $f(Ve,ct,Ge){if("function"==typeof Ge)return Ge(Ve,ct);switch(Ge){case"pathParamsChange":return!me(Ve.url,ct.url);case"pathParamsOrQueryParamsChange":return!me(Ve.url,ct.url)||!he(Ve.queryParams,ct.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gn(Ve,ct)||!he(Ve.queryParams,ct.queryParams);default:return!gn(Ve,ct)}}(hn,Gt,Gt.routeConfig.runGuardsAndResolvers);Bn?It.canActivateChecks.push(new gs(dt)):(Gt.data=hn.data,Gt._resolvedData=hn._resolvedData),So(Ve,ct,Gt.component?Zn?Zn.children:null:Ge,dt,It),Bn&&Zn&&Zn.outlet&&Zn.outlet.isActivated&&It.canDeactivateChecks.push(new nc(Zn.outlet.component,hn))}else hn&&id(ct,Zn,It),It.canActivateChecks.push(new gs(dt)),So(Ve,null,Gt.component?Zn?Zn.children:null:Ge,dt,It)})(hn,Gt[hn.value.outlet],Ge,dt.concat([hn.value]),It),delete Gt[hn.value.outlet]}),Object.entries(Gt).forEach(([hn,Zn])=>id(Zn,Ge.getContext(hn),It)),It}function id(Ve,ct,Ge){const dt=Qa(Ve),It=Ve.value;Object.entries(dt).forEach(([Gt,hn])=>{id(hn,It.component?ct?ct.children.getContext(Gt):null:ct,Ge)}),Ge.canDeactivateChecks.push(new nc(It.component&&ct&&ct.outlet&&ct.outlet.isActivated?ct.outlet.component:null,It))}function od(Ve){return"function"==typeof Ve}function sl(Ve){return Ve instanceof N||"EmptyError"===Ve?.name}const ru=Symbol("INITIAL_VALUE");function St(){return(0,oe.n)(Ve=>(0,L.z)(Ve.map(ct=>ct.pipe((0,se.s)(1),(0,ae.Z)(ru)))).pipe((0,J.T)(ct=>{for(const Ge of ct)if(!0!==Ge){if(Ge===ru)return ru;if(!1===Ge||Ct(Ge))return Ge}return!0}),(0,pe.p)(ct=>ct!==ru),(0,se.s)(1)))}function Ct(Ve){return cn(Ve)||Ve instanceof Nc}function Bv(Ve){return(0,I.F)((0,T.M)(ct=>{if("boolean"!=typeof ct)throw ec(0,ct)}),(0,J.T)(ct=>!0===ct))}class Ml{constructor(ct){this.segmentGroup=ct||null}}class Eo extends Error{constructor(ct){super(),this.urlTree=ct}}function al(Ve){return(0,X.$)(new Ml(Ve))}class uf{constructor(ct,Ge){this.urlSerializer=ct,this.urlTree=Ge}lineralizeSegments(ct,Ge){let dt=[],It=Ge.root;for(;;){if(dt=dt.concat(It.segments),0===It.numberOfChildren)return(0,W.of)(dt);if(It.numberOfChildren>1||!It.children[Fe])return(0,X.$)(new m.wOt(4e3,!1));It=It.children[Fe]}}applyRedirectCommands(ct,Ge,dt,It,Gt){if("string"!=typeof Ge){const Zn=Ge,{queryParams:Bn,fragment:kr,routeConfig:ui,url:Oi,outlet:Wr,params:Yo,data:Lo,title:Fc}=It,bs=(0,m.N4e)(Gt,()=>Zn({params:Yo,data:Lo,queryParams:Bn,fragment:kr,routeConfig:ui,url:Oi,outlet:Wr,title:Fc}));if(bs instanceof _)throw new Eo(bs);Ge=bs}const hn=this.applyRedirectCreateUrlTree(Ge,this.urlSerializer.parse(Ge),ct,dt);if("/"===Ge[0])throw new Eo(hn);return hn}applyRedirectCreateUrlTree(ct,Ge,dt,It){const Gt=this.createSegmentGroup(ct,Ge.root,dt,It);return new _(Gt,this.createQueryParams(Ge.queryParams,this.urlTree.queryParams),Ge.fragment)}createQueryParams(ct,Ge){const dt={};return Object.entries(ct).forEach(([It,Gt])=>{if("string"==typeof Gt&&":"===Gt[0]){const Zn=Gt.substring(1);dt[It]=Ge[Zn]}else dt[It]=Gt}),dt}createSegmentGroup(ct,Ge,dt,It){const Gt=this.createSegments(ct,Ge.segments,dt,It);let hn={};return Object.entries(Ge.children).forEach(([Zn,Bn])=>{hn[Zn]=this.createSegmentGroup(ct,Bn,dt,It)}),new p(Gt,hn)}createSegments(ct,Ge,dt,It){return Ge.map(Gt=>":"===Gt.path[0]?this.findPosParam(ct,Gt,It):this.findOrReturn(Gt,dt))}findPosParam(ct,Ge,dt){const It=dt[Ge.path.substring(1)];if(!It)throw new m.wOt(4001,!1);return It}findOrReturn(ct,Ge){let dt=0;for(const It of Ge){if(It.path===ct.path)return Ge.splice(dt),It;dt++}return ct}}const Bd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oh(Ve,ct,Ge,dt,It){const Gt=Al(Ve,ct,Ge);return Gt.matched?(dt=function ed(Ve,ct){return Ve.providers&&!Ve._injector&&(Ve._injector=(0,m.Ol2)(Ve.providers,ct,`Route: ${Ve.path}`)),Ve._injector??ct}(ct,dt),function Np(Ve,ct,Ge,dt){const It=ct.canMatch;if(!It||0===It.length)return(0,W.of)(!0);const Gt=It.map(hn=>{const Zn=po(hn,Ve);return ue(function Pu(Ve){return Ve&&od(Ve.canMatch)}(Zn)?Zn.canMatch(ct,Ge):(0,m.N4e)(Ve,()=>Zn(ct,Ge)))});return(0,W.of)(Gt).pipe(St(),Bv())}(dt,ct,Ge).pipe((0,J.T)(hn=>!0===hn?Gt:{...Bd}))):(0,W.of)(Gt)}function Al(Ve,ct,Ge){if("**"===ct.path)return function rc(Ve){return{matched:!0,parameters:Ve.length>0?ie(Ve).parameters:{},consumedSegments:Ve,remainingSegments:[],positionalParamSegments:{}}}(Ge);if(""===ct.path)return"full"===ct.pathMatch&&(Ve.hasChildren()||Ge.length>0)?{...Bd}:{matched:!0,consumedSegments:[],remainingSegments:Ge,parameters:{},positionalParamSegments:{}};const It=(ct.matcher||ye)(Ge,Ve,ct);if(!It)return{...Bd};const Gt={};Object.entries(It.posParams??{}).forEach(([Zn,Bn])=>{Gt[Zn]=Bn.path});const hn=It.consumed.length>0?{...Gt,...It.consumed[It.consumed.length-1].parameters}:Gt;return{matched:!0,consumedSegments:It.consumed,remainingSegments:Ge.slice(It.consumed.length),parameters:hn,positionalParamSegments:It.posParams??{}}}function Mo(Ve,ct,Ge,dt){return Ge.length>0&&function ou(Ve,ct,Ge){return Ge.some(dt=>Uc(Ve,ct,dt)&&da(dt)!==Fe)}(Ve,Ge,dt)?{segmentGroup:new p(ct,wi(dt,new p(Ge,Ve.children))),slicedSegments:[]}:0===Ge.length&&function Hf(Ve,ct,Ge){return Ge.some(dt=>Uc(Ve,ct,dt))}(Ve,Ge,dt)?{segmentGroup:new p(Ve.segments,sd(Ve,Ge,dt,Ve.children)),slicedSegments:Ge}:{segmentGroup:new p(Ve.segments,Ve.children),slicedSegments:Ge}}function sd(Ve,ct,Ge,dt){const It={};for(const Gt of Ge)if(Uc(Ve,ct,Gt)&&!dt[da(Gt)]){const hn=new p([],{});It[da(Gt)]=hn}return{...dt,...It}}function wi(Ve,ct){const Ge={};Ge[Fe]=ct;for(const dt of Ve)if(""===dt.path&&da(dt)!==Fe){const It=new p([],{});Ge[da(dt)]=It}return Ge}function Uc(Ve,ct,Ge){return(!(Ve.hasChildren()||ct.length>0)||"full"!==Ge.pathMatch)&&""===Ge.path}class Ey{}class Lv{constructor(ct,Ge,dt,It,Gt,hn,Zn){this.injector=ct,this.configLoader=Ge,this.rootComponentType=dt,this.config=It,this.urlTree=Gt,this.paramsInheritanceStrategy=hn,this.urlSerializer=Zn,this.applyRedirects=new uf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(ct){return new m.wOt(4002,`'${ct.segmentGroup}'`)}recognize(){const ct=Mo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(ct).pipe((0,J.T)(({children:Ge,rootSnapshot:dt})=>{const It=new ua(dt,Ge),Gt=new Jt("",It),hn=function pn(Ve,ct,Ge=null,dt=null){return Un(vr(Ve),ct,Ge,dt)}(dt,[],this.urlTree.queryParams,this.urlTree.fragment);return hn.queryParams=this.urlTree.queryParams,Gt.url=this.urlSerializer.serialize(hn),{state:Gt,tree:hn}}))}match(ct){const Ge=new wc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,ct,Fe,Ge).pipe((0,J.T)(dt=>({children:dt,rootSnapshot:Ge})),(0,D.W)(dt=>{if(dt instanceof Eo)return this.urlTree=dt.urlTree,this.match(dt.urlTree.root);throw dt instanceof Ml?this.noMatchError(dt):dt}))}processSegmentGroup(ct,Ge,dt,It,Gt){return 0===dt.segments.length&&dt.hasChildren()?this.processChildren(ct,Ge,dt,Gt):this.processSegment(ct,Ge,dt,dt.segments,It,!0,Gt).pipe((0,J.T)(hn=>hn instanceof ua?[hn]:[]))}processChildren(ct,Ge,dt,It){const Gt=[];for(const hn of Object.keys(dt.children))"primary"===hn?Gt.unshift(hn):Gt.push(hn);return(0,R.H)(Gt).pipe((0,w.H)(hn=>{const Zn=dt.children[hn],Bn=function qa(Ve,ct){const Ge=Ve.filter(dt=>da(dt)===ct);return Ge.push(...Ve.filter(dt=>da(dt)!==ct)),Ge}(Ge,hn);return this.processSegmentGroup(ct,Bn,Zn,hn,It)}),function A(Ve,ct){return(0,ve.N)(function j(Ve,ct,Ge,dt,It){return(Gt,hn)=>{let Zn=Ge,Bn=ct,kr=0;Gt.subscribe((0,we._)(hn,ui=>{const Oi=kr++;Bn=Zn?Ve(Bn,ui,Oi):(Zn=!0,ui),dt&&hn.next(Bn)},It&&(()=>{Zn&&hn.next(Bn),hn.complete()})))}}(Ve,ct,arguments.length>=2,!0))}((hn,Zn)=>(hn.push(...Zn),hn)),De(null),function g(Ve,ct){const Ge=arguments.length>=2;return dt=>dt.pipe(Ve?(0,pe.p)((It,Gt)=>Ve(It,Gt,dt)):h.D,l(1),Ge?De(ct):k(()=>new N))}(),(0,le.Z)(hn=>{if(null===hn)return al(dt);const Zn=vs(hn);return function L_(Ve){Ve.sort((ct,Ge)=>ct.value.outlet===Fe?-1:Ge.value.outlet===Fe?1:ct.value.outlet.localeCompare(Ge.value.outlet))}(Zn),(0,W.of)(Zn)}))}processSegment(ct,Ge,dt,It,Gt,hn,Zn){return(0,R.H)(Ge).pipe((0,w.H)(Bn=>this.processSegmentAgainstRoute(Bn._injector??ct,Ge,Bn,dt,It,Gt,hn,Zn).pipe((0,D.W)(kr=>{if(kr instanceof Ml)return(0,W.of)(null);throw kr}))),y(Bn=>!!Bn),(0,D.W)(Bn=>{if(sl(Bn))return function Nv(Ve,ct,Ge){return 0===ct.length&&!Ve.children[Ge]}(dt,It,Gt)?(0,W.of)(new Ey):al(dt);throw Bn}))}processSegmentAgainstRoute(ct,Ge,dt,It,Gt,hn,Zn,Bn){return function Bh(Ve,ct,Ge,dt){return!!(da(Ve)===dt||dt!==Fe&&Uc(ct,Ge,Ve))&&Al(ct,Ve,Ge).matched}(dt,It,Gt,hn)?void 0===dt.redirectTo?this.matchSegmentAgainstRoute(ct,It,dt,Gt,hn,Bn):this.allowRedirects&&Zn?this.expandSegmentAgainstRouteUsingRedirect(ct,It,Ge,dt,Gt,hn,Bn):al(It):al(It)}expandSegmentAgainstRouteUsingRedirect(ct,Ge,dt,It,Gt,hn,Zn){const{matched:Bn,parameters:kr,consumedSegments:ui,positionalParamSegments:Oi,remainingSegments:Wr}=Al(Ge,It,Gt);if(!Bn)return al(Ge);"string"==typeof It.redirectTo&&"/"===It.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Yo=new wc(Gt,kr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Lp(It),da(It),It.component??It._loadedComponent??null,It,Km(It)),Lo=ol(Yo,Zn,this.paramsInheritanceStrategy);Yo.params=Object.freeze(Lo.params),Yo.data=Object.freeze(Lo.data);const Fc=this.applyRedirects.applyRedirectCommands(ui,It.redirectTo,Oi,Yo,ct);return this.applyRedirects.lineralizeSegments(It,Fc).pipe((0,le.Z)(bs=>this.processSegment(ct,dt,Ge,bs.concat(Wr),hn,!1,Zn)))}matchSegmentAgainstRoute(ct,Ge,dt,It,Gt,hn){const Zn=Oh(Ge,dt,It,ct);return"**"===dt.path&&(Ge.children={}),Zn.pipe((0,oe.n)(Bn=>Bn.matched?this.getChildConfig(ct=dt._injector??ct,dt,It).pipe((0,oe.n)(({routes:kr})=>{const ui=dt._loadedInjector??ct,{parameters:Oi,consumedSegments:Wr,remainingSegments:Yo}=Bn,Lo=new wc(Wr,Oi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Lp(dt),da(dt),dt.component??dt._loadedComponent??null,dt,Km(dt)),Fc=ol(Lo,hn,this.paramsInheritanceStrategy);Lo.params=Object.freeze(Fc.params),Lo.data=Object.freeze(Fc.data);const{segmentGroup:bs,slicedSegments:Fp}=Mo(Ge,Wr,Yo,kr);if(0===Fp.length&&bs.hasChildren())return this.processChildren(ui,kr,bs,Lo).pipe((0,J.T)(jp=>new ua(Lo,jp)));if(0===kr.length&&0===Fp.length)return(0,W.of)(new ua(Lo,[]));const Ay=da(dt)===Gt;return this.processSegment(ui,kr,bs,Fp,Ay?Fe:Gt,!0,Lo).pipe((0,J.T)(jp=>new ua(Lo,jp instanceof ua?[jp]:[])))})):al(Ge)))}getChildConfig(ct,Ge,dt){return Ge.children?(0,W.of)({routes:Ge.children,injector:ct}):Ge.loadChildren?void 0!==Ge._loadedRoutes?(0,W.of)({routes:Ge._loadedRoutes,injector:Ge._loadedInjector}):function zf(Ve,ct,Ge,dt){const It=ct.canLoad;if(void 0===It||0===It.length)return(0,W.of)(!0);const Gt=It.map(hn=>{const Zn=po(hn,Ve);return ue(function Sl(Ve){return Ve&&od(Ve.canLoad)}(Zn)?Zn.canLoad(ct,Ge):(0,m.N4e)(Ve,()=>Zn(ct,Ge)))});return(0,W.of)(Gt).pipe(St(),Bv())}(ct,Ge,dt).pipe((0,le.Z)(It=>It?this.configLoader.loadChildren(ct,Ge).pipe((0,T.M)(Gt=>{Ge._loadedRoutes=Gt.routes,Ge._loadedInjector=Gt.injector})):function Um(Ve){return(0,X.$)(Lc(!1,Nr.GuardRejected))}())):(0,W.of)({routes:[],injector:ct})}}function Wf(Ve){const ct=Ve.value.routeConfig;return ct&&""===ct.path}function vs(Ve){const ct=[],Ge=new Set;for(const dt of Ve){if(!Wf(dt)){ct.push(dt);continue}const It=ct.find(Gt=>dt.value.routeConfig===Gt.value.routeConfig);void 0!==It?(It.children.push(...dt.children),Ge.add(It)):ct.push(dt)}for(const dt of Ge){const It=vs(dt.children);ct.push(new ua(dt.value,It))}return ct.filter(dt=>!Ge.has(dt))}function Lp(Ve){return Ve.data||{}}function Km(Ve){return Ve.resolve||{}}function Nh(Ve){const ct=Ve.children.map(Ge=>Nh(Ge)).flat();return[Ve,...ct]}function Ru(Ve){return(0,oe.n)(ct=>{const Ge=Ve(ct);return Ge?(0,R.H)(Ge).pipe((0,J.T)(()=>ct)):(0,W.of)(ct)})}let Sy=(()=>{class Ve{buildTitle(Ge){let dt,It=Ge.root;for(;void 0!==It;)dt=this.getResolvedTitleForRoute(It)??dt,It=It.children.find(Gt=>Gt.outlet===Fe);return dt}getResolvedTitleForRoute(Ge){return Ge.data[Ee]}static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275prov=m.jDH({token:Ve,factory:()=>(0,m.WQX)(U_),providedIn:"root"})}return Ve})(),U_=(()=>{class Ve extends Sy{constructor(Ge){super(),this.title=Ge}updateTitle(Ge){const dt=this.buildTitle(Ge);void 0!==dt&&this.title.setTitle(dt)}static#e=this.\u0275fac=function(dt){return new(dt||Ve)(m.KVO(ke.hE))};static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();const au=new m.nKC("",{providedIn:"root",factory:()=>({})});let Lh=(()=>{class Ve{static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275cmp=m.VBU({type:Ve,selectors:[["ng-component"]],standalone:!0,features:[m.aNF],decls:1,vars:0,template:function(dt,It){1&dt&&m.nrm(0,"router-outlet")},dependencies:[lr],encapsulation:2})}return Ve})();function Ki(Ve){const ct=Ve.children&&Ve.children.map(Ki),Ge=ct?{...Ve,children:ct}:{...Ve};return!Ge.component&&!Ge.loadComponent&&(ct||Ge.loadChildren)&&Ge.outlet&&Ge.outlet!==Fe&&(Ge.component=Lh),Ge}const Ou=new m.nKC("");let Uh=(()=>{class Ve{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,m.WQX)(m.Ql9)}loadComponent(Ge){if(this.componentLoaders.get(Ge))return this.componentLoaders.get(Ge);if(Ge._loadedComponent)return(0,W.of)(Ge._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(Ge);const dt=ue(Ge.loadComponent()).pipe((0,J.T)(My),(0,T.M)(Gt=>{this.onLoadEndListener&&this.onLoadEndListener(Ge),Ge._loadedComponent=Gt}),(0,H.j)(()=>{this.componentLoaders.delete(Ge)})),It=new Z.G(dt,()=>new re.B).pipe((0,ne.B)());return this.componentLoaders.set(Ge,It),It}loadChildren(Ge,dt){if(this.childrenLoaders.get(dt))return this.childrenLoaders.get(dt);if(dt._loadedRoutes)return(0,W.of)({routes:dt._loadedRoutes,injector:dt._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(dt);const Gt=function _c(Ve,ct,Ge,dt){return ue(Ve.loadChildren()).pipe((0,J.T)(My),(0,le.Z)(It=>It instanceof m.Co$||Array.isArray(It)?(0,W.of)(It):(0,R.H)(ct.compileModuleAsync(It))),(0,J.T)(It=>{dt&&dt(Ve);let Gt,hn,Zn=!1;return Array.isArray(It)?(hn=It,!0):(Gt=It.create(Ge).injector,hn=Gt.get(Ou,[],{optional:!0,self:!0}).flat()),{routes:hn.map(Ki),injector:Gt}}))}(dt,this.compiler,Ge,this.onLoadEndListener).pipe((0,H.j)(()=>{this.childrenLoaders.delete(dt)})),hn=new Z.G(Gt,()=>new re.B).pipe((0,ne.B)());return this.childrenLoaders.set(dt,hn),hn}static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();function My(Ve){return function Fh(Ve){return Ve&&"object"==typeof Ve&&"default"in Ve}(Ve)?Ve.default:Ve}let ff=(()=>{class Ve{static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275prov=m.jDH({token:Ve,factory:()=>(0,m.WQX)(jh),providedIn:"root"})}return Ve})(),jh=(()=>{class Ve{shouldProcessUrl(Ge){return!0}extract(Ge){return Ge}merge(Ge,dt){return Ge}static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();const Bu=new m.nKC(""),et=new m.nKC("");function Ft(Ve,ct,Ge){const dt=Ve.get(et),It=Ve.get(Q.qQ);return Ve.get(m.SKi).runOutsideAngular(()=>{if(!It.startViewTransition||dt.skipNextTransition)return dt.skipNextTransition=!1,new Promise(kr=>setTimeout(kr));let Gt;const hn=new Promise(kr=>{Gt=kr}),Zn=It.startViewTransition(()=>(Gt(),function wt(Ve){return new Promise(ct=>{(0,m.mal)({read:()=>setTimeout(ct)},{injector:Ve})})}(Ve))),{onViewTransitionCreated:Bn}=dt;return Bn&&(0,m.N4e)(Ve,()=>Bn({transition:Zn,from:ct,to:Ge})),hn})}const kt=new m.nKC("");let fn=(()=>{class Ve{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re.B,this.transitionAbortSubject=new re.B,this.configLoader=(0,m.WQX)(Uh),this.environmentInjector=(0,m.WQX)(m.uvJ),this.urlSerializer=(0,m.WQX)(qe),this.rootContexts=(0,m.WQX)(La),this.location=(0,m.WQX)(Q.aZ),this.inputBindingEnabled=null!==(0,m.WQX)(ur,{optional:!0}),this.titleStrategy=(0,m.WQX)(Sy),this.options=(0,m.WQX)(au,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,m.WQX)(ff),this.createViewTransition=(0,m.WQX)(Bu,{optional:!0}),this.navigationErrorHandler=(0,m.WQX)(kt,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,W.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=It=>this.events.next(new Ya(It)),this.configLoader.onLoadStartListener=It=>this.events.next(new Vo(It))}complete(){this.transitions?.complete()}handleNavigationRequest(Ge){const dt=++this.navigationId;this.transitions?.next({...this.transitions.value,...Ge,id:dt})}setupNavigations(Ge,dt,It){return this.transitions=new S.t({id:0,currentUrlTree:dt,currentRawUrl:dt,extractedUrl:this.urlHandlingStrategy.extract(dt),urlAfterRedirects:this.urlHandlingStrategy.extract(dt),rawUrl:dt,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:vn,restoredState:null,currentSnapshot:It.snapshot,targetSnapshot:null,currentRouterState:It,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,pe.p)(Gt=>0!==Gt.id),(0,J.T)(Gt=>({...Gt,extractedUrl:this.urlHandlingStrategy.extract(Gt.rawUrl)})),(0,oe.n)(Gt=>{let hn=!1,Zn=!1;return(0,W.of)(Gt).pipe((0,oe.n)(Bn=>{if(this.navigationId>Gt.id)return this.cancelNavigationTransition(Gt,"",Nr.SupersededByNewNavigation),V.w;this.currentTransition=Gt,this.currentNavigation={id:Bn.id,initialUrl:Bn.rawUrl,extractedUrl:Bn.extractedUrl,targetBrowserUrl:"string"==typeof Bn.extras.browserUrl?this.urlSerializer.parse(Bn.extras.browserUrl):Bn.extras.browserUrl,trigger:Bn.source,extras:Bn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const kr=!Ge.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!kr&&"reload"!==(Bn.extras.onSameUrlNavigation??Ge.onSameUrlNavigation)){const Oi="";return this.events.next(new fo(Bn.id,this.urlSerializer.serialize(Bn.rawUrl),Oi,Cr.IgnoredSameUrlNavigation)),Bn.resolve(!1),V.w}if(this.urlHandlingStrategy.shouldProcessUrl(Bn.rawUrl))return(0,W.of)(Bn).pipe((0,oe.n)(Oi=>{const Wr=this.transitions?.getValue();return this.events.next(new yr(Oi.id,this.urlSerializer.serialize(Oi.extractedUrl),Oi.source,Oi.restoredState)),Wr!==this.transitions?.getValue()?V.w:Promise.resolve(Oi)}),function su(Ve,ct,Ge,dt,It,Gt){return(0,le.Z)(hn=>function Fm(Ve,ct,Ge,dt,It,Gt,hn="emptyOnly"){return new Lv(Ve,ct,Ge,dt,It,hn,Gt).recognize()}(Ve,ct,Ge,dt,hn.extractedUrl,It,Gt).pipe((0,J.T)(({state:Zn,tree:Bn})=>({...hn,targetSnapshot:Zn,urlAfterRedirects:Bn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,Ge.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,T.M)(Oi=>{Gt.targetSnapshot=Oi.targetSnapshot,Gt.urlAfterRedirects=Oi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Oi.urlAfterRedirects};const Wr=new lo(Oi.id,this.urlSerializer.serialize(Oi.extractedUrl),this.urlSerializer.serialize(Oi.urlAfterRedirects),Oi.targetSnapshot);this.events.next(Wr)}));if(kr&&this.urlHandlingStrategy.shouldProcessUrl(Bn.currentRawUrl)){const{id:Oi,extractedUrl:Wr,source:Yo,restoredState:Lo,extras:Fc}=Bn,bs=new yr(Oi,this.urlSerializer.serialize(Wr),Yo,Lo);this.events.next(bs);const Fp=tu(this.rootComponentType).snapshot;return this.currentTransition=Gt={...Bn,targetSnapshot:Fp,urlAfterRedirects:Wr,extras:{...Fc,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Wr,(0,W.of)(Gt)}{const Oi="";return this.events.next(new fo(Bn.id,this.urlSerializer.serialize(Bn.extractedUrl),Oi,Cr.IgnoredByUrlHandlingStrategy)),Bn.resolve(!1),V.w}}),(0,T.M)(Bn=>{const kr=new ho(Bn.id,this.urlSerializer.serialize(Bn.extractedUrl),this.urlSerializer.serialize(Bn.urlAfterRedirects),Bn.targetSnapshot);this.events.next(kr)}),(0,J.T)(Bn=>(this.currentTransition=Gt={...Bn,guards:Rd(Bn.targetSnapshot,Bn.currentSnapshot,this.rootContexts)},Gt)),function ht(Ve,ct){return(0,le.Z)(Ge=>{const{targetSnapshot:dt,currentSnapshot:It,guards:{canActivateChecks:Gt,canDeactivateChecks:hn}}=Ge;return 0===hn.length&&0===Gt.length?(0,W.of)({...Ge,guardsResult:!0}):function zt(Ve,ct,Ge,dt){return(0,R.H)(Ve).pipe((0,le.Z)(It=>function Bp(Ve,ct,Ge,dt,It){const Gt=ct&&ct.routeConfig?ct.routeConfig.canDeactivate:null;if(!Gt||0===Gt.length)return(0,W.of)(!0);const hn=Gt.map(Zn=>{const Bn=Sa(ct)??It,kr=po(Zn,Bn);return ue(function Op(Ve){return Ve&&od(Ve.canDeactivate)}(kr)?kr.canDeactivate(Ve,ct,Ge,dt):(0,m.N4e)(Bn,()=>kr(Ve,ct,Ge,dt))).pipe(y())});return(0,W.of)(hn).pipe(St())}(It.component,It.route,Ge,ct,dt)),y(It=>!0!==It,!0))}(hn,dt,It,Ve).pipe((0,le.Z)(Zn=>Zn&&function bi(Ve){return"boolean"==typeof Ve}(Zn)?function Mn(Ve,ct,Ge,dt){return(0,R.H)(ct).pipe((0,w.H)(It=>(0,$.x)(function Xi(Ve,ct){return null!==Ve&&ct&&ct(new Gr(Ve)),(0,W.of)(!0)}(It.route.parent,dt),function jr(Ve,ct){return null!==Ve&&ct&&ct(new Ba(Ve)),(0,W.of)(!0)}(It.route,dt),function ei(Ve,ct,Ge){const dt=ct[ct.length-1],Gt=ct.slice(0,ct.length-1).reverse().map(hn=>function mi(Ve){const ct=Ve.routeConfig?Ve.routeConfig.canActivateChild:null;return ct&&0!==ct.length?{node:Ve,guards:ct}:null}(hn)).filter(hn=>null!==hn).map(hn=>(0,F.v)(()=>{const Zn=hn.guards.map(Bn=>{const kr=Sa(hn.node)??Ge,ui=po(Bn,kr);return ue(function Vf(Ve){return Ve&&od(Ve.canActivateChild)}(ui)?ui.canActivateChild(dt,Ve):(0,m.N4e)(kr,()=>ui(dt,Ve))).pipe(y())});return(0,W.of)(Zn).pipe(St())}));return(0,W.of)(Gt).pipe(St())}(Ve,It.path,Ge),function zo(Ve,ct,Ge){const dt=ct.routeConfig?ct.routeConfig.canActivate:null;if(!dt||0===dt.length)return(0,W.of)(!0);const It=dt.map(Gt=>(0,F.v)(()=>{const hn=Sa(ct)??Ge,Zn=po(Gt,hn);return ue(function Co(Ve){return Ve&&od(Ve.canActivate)}(Zn)?Zn.canActivate(ct,Ve):(0,m.N4e)(hn,()=>Zn(ct,Ve))).pipe(y())}));return(0,W.of)(It).pipe(St())}(Ve,It.route,Ge))),y(It=>!0!==It,!0))}(dt,Gt,Ve,ct):(0,W.of)(Zn)),(0,J.T)(Zn=>({...Ge,guardsResult:Zn})))})}(this.environmentInjector,Bn=>this.events.next(Bn)),(0,T.M)(Bn=>{if(Gt.guardsResult=Bn.guardsResult,Bn.guardsResult&&"boolean"!=typeof Bn.guardsResult)throw ec(0,Bn.guardsResult);const kr=new Do(Bn.id,this.urlSerializer.serialize(Bn.extractedUrl),this.urlSerializer.serialize(Bn.urlAfterRedirects),Bn.targetSnapshot,!!Bn.guardsResult);this.events.next(kr)}),(0,pe.p)(Bn=>!!Bn.guardsResult||(this.cancelNavigationTransition(Bn,"",Nr.GuardRejected),!1)),Ru(Bn=>{if(Bn.guards.canActivateChecks.length)return(0,W.of)(Bn).pipe((0,T.M)(kr=>{const ui=new Di(kr.id,this.urlSerializer.serialize(kr.extractedUrl),this.urlSerializer.serialize(kr.urlAfterRedirects),kr.targetSnapshot);this.events.next(ui)}),(0,oe.n)(kr=>{let ui=!1;return(0,W.of)(kr).pipe(function Up(Ve,ct){return(0,le.Z)(Ge=>{const{targetSnapshot:dt,guards:{canActivateChecks:It}}=Ge;if(!It.length)return(0,W.of)(Ge);const Gt=new Set(It.map(Bn=>Bn.route)),hn=new Set;for(const Bn of Gt)if(!hn.has(Bn))for(const kr of Nh(Bn))hn.add(kr);let Zn=0;return(0,R.H)(hn).pipe((0,w.H)(Bn=>Gt.has(Bn)?function Pi(Ve,ct,Ge,dt){const It=Ve.routeConfig,Gt=Ve._resolve;return void 0!==It?.title&&!mr(It)&&(Gt[Ee]=It.title),function Yi(Ve,ct,Ge,dt){const It=fe(Ve);if(0===It.length)return(0,W.of)({});const Gt={};return(0,R.H)(It).pipe((0,le.Z)(hn=>function xy(Ve,ct,Ge,dt){const It=Sa(ct)??dt,Gt=po(Ve,It);return ue(Gt.resolve?Gt.resolve(ct,Ge):(0,m.N4e)(It,()=>Gt(ct,Ge)))}(Ve[hn],ct,Ge,dt).pipe(y(),(0,T.M)(Zn=>{if(Zn instanceof Nc)throw ec(new At,Zn);Gt[hn]=Zn}))),l(1),(0,G.u)(Gt),(0,D.W)(hn=>sl(hn)?V.w:(0,X.$)(hn)))}(Gt,Ve,ct,dt).pipe((0,J.T)(hn=>(Ve._resolvedData=hn,Ve.data=ol(Ve,Ve.parent,Ge).resolve,null)))}(Bn,dt,Ve,ct):(Bn.data=ol(Bn,Bn.parent,Ve).resolve,(0,W.of)(void 0))),(0,T.M)(()=>Zn++),l(1),(0,le.Z)(Bn=>Zn===hn.size?(0,W.of)(Ge):V.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,T.M)({next:()=>ui=!0,complete:()=>{ui||this.cancelNavigationTransition(kr,"",Nr.NoDataFromResolver)}}))}),(0,T.M)(kr=>{const ui=new ki(kr.id,this.urlSerializer.serialize(kr.extractedUrl),this.urlSerializer.serialize(kr.urlAfterRedirects),kr.targetSnapshot);this.events.next(ui)}))}),Ru(Bn=>{const kr=ui=>{const Oi=[];ui.routeConfig?.loadComponent&&!ui.routeConfig._loadedComponent&&Oi.push(this.configLoader.loadComponent(ui.routeConfig).pipe((0,T.M)(Wr=>{ui.component=Wr}),(0,J.T)(()=>{})));for(const Wr of ui.children)Oi.push(...kr(Wr));return Oi};return(0,L.z)(kr(Bn.targetSnapshot.root)).pipe(De(null),(0,se.s)(1))}),Ru(()=>this.afterPreactivation()),(0,oe.n)(()=>{const{currentSnapshot:Bn,targetSnapshot:kr}=Gt,ui=this.createViewTransition?.(this.environmentInjector,Bn.root,kr.root);return ui?(0,R.H)(ui).pipe((0,J.T)(()=>Gt)):(0,W.of)(Gt)}),(0,J.T)(Bn=>{const kr=function qr(Ve,ct,Ge){const dt=ro(Ve,ct._root,Ge?Ge._root:void 0);return new rd(dt,ct)}(Ge.routeReuseStrategy,Bn.targetSnapshot,Bn.currentRouterState);return this.currentTransition=Gt={...Bn,targetRouterState:kr},this.currentNavigation.targetRouterState=kr,Gt}),(0,T.M)(()=>{this.events.next(new Ja)}),((Ve,ct,Ge,dt)=>(0,J.T)(It=>(new Pd(ct,It.targetRouterState,It.currentRouterState,Ge,dt).activate(Ve),It)))(this.rootContexts,Ge.routeReuseStrategy,Bn=>this.events.next(Bn),this.inputBindingEnabled),(0,se.s)(1),(0,T.M)({next:Bn=>{hn=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pr(Bn.id,this.urlSerializer.serialize(Bn.extractedUrl),this.urlSerializer.serialize(Bn.urlAfterRedirects))),this.titleStrategy?.updateTitle(Bn.targetRouterState.snapshot),Bn.resolve(!0)},complete:()=>{hn=!0}}),(0,ce.Q)(this.transitionAbortSubject.pipe((0,T.M)(Bn=>{throw Bn}))),(0,H.j)(()=>{!hn&&!Zn&&this.cancelNavigationTransition(Gt,"",Nr.SupersededByNewNavigation),this.currentTransition?.id===Gt.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,D.W)(Bn=>{if(Zn=!0,tc(Bn))this.events.next(new $i(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),Bn.message,Bn.cancellationCode)),function Ma(Ve){return tc(Ve)&&cn(Ve.url)}(Bn)?this.events.next(new Na(Bn.url,Bn.navigationBehaviorOptions)):Gt.resolve(!1);else{const kr=new ci(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),Bn,Gt.targetSnapshot??void 0);try{const ui=(0,m.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(kr));if(ui instanceof Nc){const{message:Oi,cancellationCode:Wr}=ec(0,ui);this.events.next(new $i(Gt.id,this.urlSerializer.serialize(Gt.extractedUrl),Oi,Wr)),this.events.next(new Na(ui.redirectTo,ui.navigationBehaviorOptions))}else{this.events.next(kr);const Oi=Ge.errorHandler(Bn);Gt.resolve(!!Oi)}}catch(ui){this.options.resolveNavigationPromiseOnError?Gt.resolve(!1):Gt.reject(ui)}}return V.w}))}))}cancelNavigationTransition(Ge,dt,It){const Gt=new $i(Ge.id,this.urlSerializer.serialize(Ge.extractedUrl),dt,It);this.events.next(Gt),Ge.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const Ge=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),dt=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return Ge.toString()!==dt?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();function zn(Ve){return Ve!==vn}let cr=(()=>{class Ve{static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275prov=m.jDH({token:Ve,factory:()=>(0,m.WQX)(Xo),providedIn:"root"})}return Ve})();class Or{shouldDetach(ct){return!1}store(ct,Ge){}shouldAttach(ct){return!1}retrieve(ct){return null}shouldReuseRoute(ct,Ge){return ct.routeConfig===Ge.routeConfig}}let Xo=(()=>{class Ve extends Or{static#e=this.\u0275fac=(()=>{let Ge;return function(It){return(Ge||(Ge=m.xGo(Ve)))(It||Ve)}})();static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})(),Ri=(()=>{class Ve{static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275prov=m.jDH({token:Ve,factory:()=>(0,m.WQX)(No),providedIn:"root"})}return Ve})(),No=(()=>{class Ve extends Ri{constructor(){super(...arguments),this.location=(0,m.WQX)(Q.aZ),this.urlSerializer=(0,m.WQX)(qe),this.options=(0,m.WQX)(au,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,m.WQX)(ff),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tu(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(Ge){return this.location.subscribe(dt=>{"popstate"===dt.type&&Ge(dt.url,dt.state)})}handleRouterEvent(Ge,dt){if(Ge instanceof yr)this.stateMemento=this.createStateMemento();else if(Ge instanceof fo)this.rawUrlTree=dt.initialUrl;else if(Ge instanceof lo){if("eager"===this.urlUpdateStrategy&&!dt.extras.skipLocationChange){const It=this.urlHandlingStrategy.merge(dt.finalUrl,dt.initialUrl);this.setBrowserUrl(dt.targetBrowserUrl??It,dt)}}else Ge instanceof Ja?(this.currentUrlTree=dt.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(dt.finalUrl,dt.initialUrl),this.routerState=dt.targetRouterState,"deferred"===this.urlUpdateStrategy&&!dt.extras.skipLocationChange&&this.setBrowserUrl(dt.targetBrowserUrl??this.rawUrlTree,dt)):Ge instanceof $i&&(Ge.code===Nr.GuardRejected||Ge.code===Nr.NoDataFromResolver)?this.restoreHistory(dt):Ge instanceof ci?this.restoreHistory(dt,!0):Ge instanceof pr&&(this.lastSuccessfulId=Ge.id,this.currentPageId=this.browserPageId)}setBrowserUrl(Ge,dt){const It=Ge instanceof _?this.urlSerializer.serialize(Ge):Ge;if(this.location.isCurrentPathEqualTo(It)||dt.extras.replaceUrl){const hn={...dt.extras.state,...this.generateNgRouterState(dt.id,this.browserPageId)};this.location.replaceState(It,"",hn)}else{const Gt={...dt.extras.state,...this.generateNgRouterState(dt.id,this.browserPageId+1)};this.location.go(It,"",Gt)}}restoreHistory(Ge,dt=!1){if("computed"===this.canceledNavigationResolution){const Gt=this.currentPageId-this.browserPageId;0!==Gt?this.location.historyGo(Gt):this.currentUrlTree===Ge.finalUrl&&0===Gt&&(this.resetState(Ge),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(dt&&this.resetState(Ge),this.resetUrlToCurrentUrlTree())}resetState(Ge){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ge.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(Ge,dt){return"computed"===this.canceledNavigationResolution?{navigationId:Ge,\u0275routerPageId:dt}:{navigationId:Ge}}static#e=this.\u0275fac=(()=>{let Ge;return function(It){return(Ge||(Ge=m.xGo(Ve)))(It||Ve)}})();static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();var br=function(Ve){return Ve[Ve.COMPLETE=0]="COMPLETE",Ve[Ve.FAILED=1]="FAILED",Ve[Ve.REDIRECTING=2]="REDIRECTING",Ve}(br||{});function Ho(Ve,ct){Ve.events.pipe((0,pe.p)(Ge=>Ge instanceof pr||Ge instanceof $i||Ge instanceof ci||Ge instanceof fo),(0,J.T)(Ge=>Ge instanceof pr||Ge instanceof fo?br.COMPLETE:Ge instanceof $i&&(Ge.code===Nr.Redirect||Ge.code===Nr.SupersededByNewNavigation)?br.REDIRECTING:br.FAILED),(0,pe.p)(Ge=>Ge!==br.REDIRECTING),(0,se.s)(1)).subscribe(()=>{ct()})}function vo(Ve){throw Ve}const ko={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ad={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fs=(()=>{class Ve{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,m.WQX)(m.H3F),this.stateManager=(0,m.WQX)(Ri),this.options=(0,m.WQX)(au,{optional:!0})||{},this.pendingTasks=(0,m.WQX)(m.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,m.WQX)(fn),this.urlSerializer=(0,m.WQX)(qe),this.location=(0,m.WQX)(Q.aZ),this.urlHandlingStrategy=(0,m.WQX)(ff),this._events=new re.B,this.errorHandler=this.options.errorHandler||vo,this.navigated=!1,this.routeReuseStrategy=(0,m.WQX)(cr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,m.WQX)(Ou,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,m.WQX)(ur,{optional:!0}),this.eventsSubscription=new te.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:Ge=>{this.console.warn(Ge)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const Ge=this.navigationTransitions.events.subscribe(dt=>{try{const It=this.navigationTransitions.currentTransition,Gt=this.navigationTransitions.currentNavigation;if(null!==It&&null!==Gt)if(this.stateManager.handleRouterEvent(dt,Gt),dt instanceof $i&&dt.code!==Nr.Redirect&&dt.code!==Nr.SupersededByNewNavigation)this.navigated=!0;else if(dt instanceof pr)this.navigated=!0;else if(dt instanceof Na){const hn=dt.navigationBehaviorOptions,Zn=this.urlHandlingStrategy.merge(dt.url,It.currentRawUrl),Bn={browserUrl:It.extras.browserUrl,info:It.extras.info,skipLocationChange:It.extras.skipLocationChange,replaceUrl:It.extras.replaceUrl||"eager"===this.urlUpdateStrategy||zn(It.source),...hn};this.scheduleNavigation(Zn,vn,null,Bn,{resolve:It.resolve,reject:It.reject,promise:It.promise})}(function Tl(Ve){return!(Ve instanceof Ja||Ve instanceof Na)})(dt)&&this._events.next(dt)}catch(It){this.navigationTransitions.transitionAbortSubject.next(It)}});this.eventsSubscription.add(Ge)}resetRootComponentType(Ge){this.routerState.root.component=Ge,this.navigationTransitions.rootComponentType=Ge}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((Ge,dt)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(Ge,"popstate",dt)},0)})}navigateToSyncWithBrowser(Ge,dt,It){const Gt={replaceUrl:!0},hn=It?.navigationId?It:null;if(It){const Bn={...It};delete Bn.navigationId,delete Bn.\u0275routerPageId,0!==Object.keys(Bn).length&&(Gt.state=Bn)}const Zn=this.parseUrl(Ge);this.scheduleNavigation(Zn,dt,hn,Gt)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(Ge){this.config=Ge.map(Ki),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(Ge,dt={}){const{relativeTo:It,queryParams:Gt,fragment:hn,queryParamsHandling:Zn,preserveFragment:Bn}=dt,kr=Bn?this.currentUrlTree.fragment:hn;let Oi,ui=null;switch(Zn){case"merge":ui={...this.currentUrlTree.queryParams,...Gt};break;case"preserve":ui=this.currentUrlTree.queryParams;break;default:ui=Gt||null}null!==ui&&(ui=this.removeEmptyProps(ui));try{Oi=vr(It?It.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof Ge[0]||"/"!==Ge[0][0])&&(Ge=[]),Oi=this.currentUrlTree.root}return Un(Oi,Ge,ui,kr??null)}navigateByUrl(Ge,dt={skipLocationChange:!1}){const It=cn(Ge)?Ge:this.parseUrl(Ge),Gt=this.urlHandlingStrategy.merge(It,this.rawUrlTree);return this.scheduleNavigation(Gt,vn,null,dt)}navigate(Ge,dt={skipLocationChange:!1}){return function Nu(Ve){for(let ct=0;ct<Ve.length;ct++)if(null==Ve[ct])throw new m.wOt(4008,!1)}(Ge),this.navigateByUrl(this.createUrlTree(Ge,dt),dt)}serializeUrl(Ge){return this.urlSerializer.serialize(Ge)}parseUrl(Ge){try{return this.urlSerializer.parse(Ge)}catch{return this.urlSerializer.parse("/")}}isActive(Ge,dt){let It;if(It=!0===dt?{...ko}:!1===dt?{...ad}:dt,cn(Ge))return Ne(this.currentUrlTree,Ge,It);const Gt=this.parseUrl(Ge);return Ne(this.currentUrlTree,Gt,It)}removeEmptyProps(Ge){return Object.entries(Ge).reduce((dt,[It,Gt])=>(null!=Gt&&(dt[It]=Gt),dt),{})}scheduleNavigation(Ge,dt,It,Gt,hn){if(this.disposed)return Promise.resolve(!1);let Zn,Bn,kr;hn?(Zn=hn.resolve,Bn=hn.reject,kr=hn.promise):kr=new Promise((Oi,Wr)=>{Zn=Oi,Bn=Wr});const ui=this.pendingTasks.add();return Ho(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(ui))}),this.navigationTransitions.handleNavigationRequest({source:dt,restoredState:It,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:Ge,extras:Gt,resolve:Zn,reject:Bn,promise:kr,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),kr.catch(Oi=>Promise.reject(Oi))}static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})(),Ec=(()=>{class Ve{constructor(Ge,dt,It,Gt,hn,Zn){this.router=Ge,this.route=dt,this.tabIndexAttribute=It,this.renderer=Gt,this.el=hn,this.locationStrategy=Zn,this.href=null,this.onChanges=new re.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Bn=hn.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Bn||"area"===Bn,this.isAnchorElement?this.subscription=Ge.events.subscribe(kr=>{kr instanceof pr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(Ge){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",Ge)}ngOnChanges(Ge){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(Ge){null==Ge?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=cn(Ge)||Array.isArray(Ge)?Ge:[Ge],this.setTabIndexIfNotOnNativeEl("0"))}onClick(Ge,dt,It,Gt,hn){const Zn=this.urlTree;return!!(null===Zn||this.isAnchorElement&&(0!==Ge||dt||It||Gt||hn||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Zn,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const Ge=this.urlTree;this.href=null!==Ge&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(Ge)):null;const dt=null===this.href?null:(0,m.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",dt)}applyAttributeValue(Ge,dt){const It=this.renderer,Gt=this.el.nativeElement;null!==dt?It.setAttribute(Gt,Ge,dt):It.removeAttribute(Gt,Ge)}get urlTree(){return null===this.routerLinkInput?null:cn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(dt){return new(dt||Ve)(m.rXU(Fs),m.rXU(fa),m.kS0("tabindex"),m.rXU(m.sFG),m.rXU(m.aKT),m.rXU(Q.hb))};static#t=this.\u0275dir=m.FsC({type:Ve,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(dt,It){1&dt&&m.bIt("click",function(hn){return It.onClick(hn.button,hn.ctrlKey,hn.shiftKey,hn.altKey,hn.metaKey)}),2&dt&&m.BMQ("target",It.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",m.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",m.L39],replaceUrl:[2,"replaceUrl","replaceUrl",m.L39],routerLink:"routerLink"},standalone:!0,features:[m.GFd,m.OA$]})}return Ve})(),cd=(()=>{class Ve{get isActive(){return this._isActive}constructor(Ge,dt,It,Gt,hn){this.router=Ge,this.element=dt,this.renderer=It,this.cdr=Gt,this.link=hn,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new m.bkB,this.routerEventsSubscription=Ge.events.subscribe(Zn=>{Zn instanceof pr&&this.update()})}ngAfterContentInit(){(0,W.of)(this.links.changes,(0,W.of)(null)).pipe((0,Ae.U)()).subscribe(Ge=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const Ge=[...this.links.toArray(),this.link].filter(dt=>!!dt).map(dt=>dt.onChanges);this.linkInputChangesSubscription=(0,R.H)(Ge).pipe((0,Ae.U)()).subscribe(dt=>{this._isActive!==this.isLinkActive(this.router)(dt)&&this.update()})}set routerLinkActive(Ge){const dt=Array.isArray(Ge)?Ge:Ge.split(" ");this.classes=dt.filter(It=>!!It)}ngOnChanges(Ge){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const Ge=this.hasActiveLinks();this.classes.forEach(dt=>{Ge?this.renderer.addClass(this.element.nativeElement,dt):this.renderer.removeClass(this.element.nativeElement,dt)}),Ge&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==Ge&&(this._isActive=Ge,this.cdr.markForCheck(),this.isActiveChange.emit(Ge))})}isLinkActive(Ge){const dt=function Nd(Ve){return!!Ve.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return It=>{const Gt=It.urlTree;return!!Gt&&Ge.isActive(Gt,dt)}}hasActiveLinks(){const Ge=this.isLinkActive(this.router);return this.link&&Ge(this.link)||this.links.some(Ge)}static#e=this.\u0275fac=function(dt){return new(dt||Ve)(m.rXU(Fs),m.rXU(m.aKT),m.rXU(m.sFG),m.rXU(m.gRc),m.rXU(Ec,8))};static#t=this.\u0275dir=m.FsC({type:Ve,selectors:[["","routerLinkActive",""]],contentQueries:function(dt,It,Gt){if(1&dt&&m.wni(Gt,Ec,5),2&dt){let hn;m.mGM(hn=m.lsd())&&(It.links=hn)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[m.OA$]})}return Ve})();class hf{}let Gf=(()=>{class Ve{preload(Ge,dt){return dt().pipe((0,D.W)(()=>(0,W.of)(null)))}static#e=this.\u0275fac=function(dt){return new(dt||Ve)};static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})(),js=(()=>{class Ve{constructor(Ge,dt,It,Gt,hn){this.router=Ge,this.injector=It,this.preloadingStrategy=Gt,this.loader=hn}setUpPreloading(){this.subscription=this.router.events.pipe((0,pe.p)(Ge=>Ge instanceof pr),(0,w.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Ge,dt){const It=[];for(const Gt of dt){Gt.providers&&!Gt._injector&&(Gt._injector=(0,m.Ol2)(Gt.providers,Ge,`Route: ${Gt.path}`));const hn=Gt._injector??Ge,Zn=Gt._loadedInjector??hn;(Gt.loadChildren&&!Gt._loadedRoutes&&void 0===Gt.canLoad||Gt.loadComponent&&!Gt._loadedComponent)&&It.push(this.preloadConfig(hn,Gt)),(Gt.children||Gt._loadedRoutes)&&It.push(this.processRoutes(Zn,Gt.children??Gt._loadedRoutes))}return(0,R.H)(It).pipe((0,Ae.U)())}preloadConfig(Ge,dt){return this.preloadingStrategy.preload(dt,()=>{let It;It=dt.loadChildren&&void 0===dt.canLoad?this.loader.loadChildren(Ge,dt):(0,W.of)(null);const Gt=It.pipe((0,le.Z)(hn=>null===hn?(0,W.of)(void 0):(dt._loadedRoutes=hn.routes,dt._loadedInjector=hn.injector,this.processRoutes(hn.injector??Ge,hn.routes))));if(dt.loadComponent&&!dt._loadedComponent){const hn=this.loader.loadComponent(dt);return(0,R.H)([Gt,hn]).pipe((0,Ae.U)())}return Gt})}static#e=this.\u0275fac=function(dt){return new(dt||Ve)(m.KVO(Fs),m.KVO(m.Ql9),m.KVO(m.uvJ),m.KVO(hf),m.KVO(Uh))};static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}return Ve})();const Lu=new m.nKC("");let $m=(()=>{class Ve{constructor(Ge,dt,It,Gt,hn={}){this.urlSerializer=Ge,this.transitions=dt,this.viewportScroller=It,this.zone=Gt,this.options=hn,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},hn.scrollPositionRestoration||="disabled",hn.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(Ge=>{Ge instanceof yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Ge.navigationTrigger,this.restoredId=Ge.restoredState?Ge.restoredState.navigationId:0):Ge instanceof pr?(this.lastId=Ge.id,this.scheduleScrollEvent(Ge,this.urlSerializer.parse(Ge.urlAfterRedirects).fragment)):Ge instanceof fo&&Ge.code===Cr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(Ge,this.urlSerializer.parse(Ge.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(Ge=>{Ge instanceof Is&&(Ge.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Ge.position):Ge.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Ge.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Ge,dt){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Is(Ge,"popstate"===this.lastSource?this.store[this.restoredId]:null,dt))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(dt){m.QTQ()};static#t=this.\u0275prov=m.jDH({token:Ve,factory:Ve.\u0275fac})}return Ve})();function at(Ve,...ct){return(0,m.EmA)([{provide:Ou,multi:!0,useValue:Ve},[],{provide:fa,useFactory:Ye,deps:[Fs]},{provide:m.iLQ,multi:!0,useFactory:kn},ct.map(Ge=>Ge.\u0275providers)])}function Ye(Ve){return Ve.routerState.root}function We(Ve,ct){return{\u0275kind:Ve,\u0275providers:ct}}function kn(){const Ve=(0,m.WQX)(m.zZn);return ct=>{const Ge=Ve.get(m.o8S);if(ct!==Ge.components[0])return;const dt=Ve.get(Fs),It=Ve.get(Xn);1===Ve.get(Qn)&&dt.initialNavigation(),Ve.get(Ii,null,m.$GK.Optional)?.setUpPreloading(),Ve.get(Lu,null,m.$GK.Optional)?.init(),dt.resetRootComponentType(Ge.componentTypes[0]),It.closed||(It.next(),It.complete(),It.unsubscribe())}}const Xn=new m.nKC("",{factory:()=>new re.B}),Qn=new m.nKC("",{providedIn:"root",factory:()=>1}),Ii=new m.nKC("");function Vi(Ve){return We(0,[{provide:Ii,useExisting:js},{provide:hf,useExisting:Ve}])}function Fa(Ve){return We(9,[{provide:Bu,useValue:Ft},{provide:et,useValue:{skipNextTransition:!!Ve?.skipInitialTransition,...Ve}}])}const cl=new m.nKC("ROUTER_FORROOT_GUARD"),cu=[Q.aZ,{provide:qe,useClass:At},Fs,La,{provide:fa,useFactory:Ye,deps:[Fs]},Uh,[]];let ll=(()=>{class Ve{constructor(Ge){}static forRoot(Ge,dt){return{ngModule:Ve,providers:[cu,[],{provide:Ou,multi:!0,useValue:Ge},{provide:cl,useFactory:nx,deps:[[Fs,new m.Xx1,new m.kdw]]},{provide:au,useValue:dt||{}},dt?.useHash?{provide:Q.hb,useClass:Q.fw}:{provide:Q.hb,useClass:Q.Sm},{provide:Lu,useFactory:()=>{const Ve=(0,m.WQX)(Q.Xr),ct=(0,m.WQX)(m.SKi),Ge=(0,m.WQX)(au),dt=(0,m.WQX)(fn),It=(0,m.WQX)(qe);return Ge.scrollOffset&&Ve.setOffset(Ge.scrollOffset),new $m(It,dt,Ve,ct,Ge)}},dt?.preloadingStrategy?Vi(dt.preloadingStrategy).\u0275providers:[],dt?.initialNavigation?Uv(dt):[],dt?.bindToComponentInputs?We(8,[Ni,{provide:ur,useExisting:Ni}]).\u0275providers:[],dt?.enableViewTransitions?Fa().\u0275providers:[],[{provide:j_,useFactory:kn},{provide:m.iLQ,multi:!0,useExisting:j_}]]}}static forChild(Ge){return{ngModule:Ve,providers:[{provide:Ou,multi:!0,useValue:Ge}]}}static#e=this.\u0275fac=function(dt){return new(dt||Ve)(m.KVO(cl,8))};static#t=this.\u0275mod=m.$C({type:Ve});static#n=this.\u0275inj=m.G2t({})}return Ve})();function nx(Ve){return"guarded"}function Uv(Ve){return["disabled"===Ve.initialNavigation?We(3,[{provide:m.hnV,multi:!0,useFactory:()=>{const ct=(0,m.WQX)(Fs);return()=>{ct.setUpLocationChangeListener()}}},{provide:Qn,useValue:2}]).\u0275providers:[],"enabledBlocking"===Ve.initialNavigation?We(2,[{provide:Qn,useValue:0},{provide:m.hnV,multi:!0,deps:[m.zZn],useFactory:ct=>{const Ge=ct.get(Q.hj,Promise.resolve());return()=>Ge.then(()=>new Promise(dt=>{const It=ct.get(Fs),Gt=ct.get(Xn);Ho(It,()=>{dt(!0)}),ct.get(fn).afterPreactivation=()=>(dt(!0),Gt.closed?(0,W.of)(void 0):Gt),It.initialNavigation()}))}}]).\u0275providers:[]]}const j_=new m.nKC("")},52039:(Le,z,E)=>{"use strict";E.d(z,{oU:()=>Vt,Q2:()=>Jn});class x extends Error{constructor(Je,Bt){super(`${Je}: ${Bt}`),this.code=Je,Object.setPrototypeOf(this,new.target.prototype)}}new Uint8Array(0);class I{constructor(Je,Bt,Tt){this.name=Je,this.prefix=Bt,this.baseEncode=Tt}encode(Je){if(Je instanceof Uint8Array)return`${this.prefix}${this.baseEncode(Je)}`;throw Error("Unknown type, must be binary type")}}class X{constructor(Je,Bt,Tt){if(this.name=Je,this.prefix=Bt,void 0===Bt.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=Bt.codePointAt(0),this.baseDecode=Tt}decode(Je){if("string"==typeof Je){if(Je.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(Je)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(Je.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(Je){return Z(this,Je)}}class V{constructor(Je){this.decoders=Je}or(Je){return Z(this,Je)}decode(Je){const Tt=this.decoders[Je[0]];if(Tt)return Tt.decode(Je);throw RangeError(`Unable to decode multibase string ${JSON.stringify(Je)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Z=(He,Je)=>new V({...He.decoders||{[He.prefix]:He},...Je.decoders||{[Je.prefix]:Je}});class re{constructor(Je,Bt,Tt,Yt){this.name=Je,this.prefix=Bt,this.baseEncode=Tt,this.baseDecode=Yt,this.encoder=new I(Je,Bt,Tt),this.decoder=new X(Je,Bt,Yt)}encode(Je){return this.encoder.encode(Je)}decode(Je){return this.decoder.decode(Je)}}const se=({name:He,prefix:Je,bitsPerChar:Bt,alphabet:Tt})=>(({name:He,prefix:Je,encode:Bt,decode:Tt})=>new re(He,Je,Bt,Tt))({prefix:Je,name:He,encode:Yt=>((He,Je,Bt)=>{const Tt="="===Je[Je.length-1],Yt=(1<<Bt)-1;let Pn="",cn=0,pn=0;for(let vr=0;vr<He.length;++vr)for(pn=pn<<8|He[vr],cn+=8;cn>Bt;)cn-=Bt,Pn+=Je[Yt&pn>>cn];if(cn&&(Pn+=Je[Yt&pn<<Bt-cn]),Tt)for(;Pn.length*Bt&7;)Pn+="=";return Pn})(Yt,Tt,Bt),decode:Yt=>((He,Je,Bt,Tt)=>{const Yt={};for(let An=0;An<Je.length;++An)Yt[Je[An]]=An;let Pn=He.length;for(;"="===He[Pn-1];)--Pn;const cn=new Uint8Array(Pn*Bt/8|0);let pn=0,vr=0,Un=0;for(let An=0;An<Pn;++An){const On=Yt[He[An]];if(void 0===On)throw new SyntaxError(`Non-${Tt} character`);vr=vr<<Bt|On,pn+=Bt,pn>=8&&(pn-=8,cn[Un++]=255&vr>>pn)}if(pn>=Bt||255&vr<<8-pn)throw new SyntaxError("Unexpected end of data");return cn})(Yt,Tt,Bt,He)}),le=(se({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),se({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),se({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));se({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});class we{static encode(Je){return le.baseEncode(Je)}static decodeAsBytes(Je,Bt){if(!we.isBase64UrlString(Je))throw new x("EncodedStringIncorrectEncoding",`Given ${Bt} must be base64url string.`);return le.baseDecode(Je)}static decodeAsString(Je,Bt){const Tt=we.decodeAsBytes(Je,Bt);return we.bytesToString(Tt)}static isBase64UrlString(Je){return/^[A-Za-z0-9_-]+$/.test(Je)}static stringToBytes(Je){return(new TextEncoder).encode(Je)}static bytesToString(Je){return(new TextDecoder).decode(Je)}}var De=E(95568),k=function(He){return He.Public="public",He.Private="private",He}(k||{});const u=k;class h{static validateEs256kOperationKey(Je,Bt){const Tt=new Set(["kty","crv","x","y"]);Bt===u.Private&&Tt.add("d");for(const Yt in Je)if(!Tt.has(Yt))throw new x("PublicKeyJwkEs256kHasUnexpectedProperty",`SECP256K1 JWK key has unexpected property '${Yt}'.`);if("secp256k1"!==Je.crv)throw new x("JwkEs256kMissingOrInvalidCrv",`SECP256K1 JWK 'crv' property must be 'secp256k1' but got '${Je.crv}.'`);if("EC"!==Je.kty)throw new x("JwkEs256kMissingOrInvalidKty",`SECP256K1 JWK 'kty' property must be 'EC' but got '${Je.kty}.'`);if(43!==Je.x.length)throw new x("JwkEs256kHasIncorrectLengthOfX","SECP256K1 JWK 'x' property must be 43 bytes.");if(43!==Je.y.length)throw new x("JwkEs256kHasIncorrectLengthOfY","SECP256K1 JWK 'y' property must be 43 bytes.");if(Bt===u.Private&&(void 0===Je.d||43!==Je.d.length))throw new x("JwkEs256kHasIncorrectLengthOfD","SECP256K1 JWK 'd' property must be 43 bytes.")}static validateId(Je){if(Je.length>50)throw new x("IdTooLong",`Key ID length ${Je.length} exceed max allowed length of 50.`);if(!we.isBase64UrlString(Je))throw new x("IdNotUsingBase64UrlCharacterSet",`Key ID '${Je}' is not a Base64URL string.`)}static validatePublicKeyPurposes(Je){if(void 0===Je)return;const Bt=new Set;for(const Tt of Je){if(Bt.has(Tt))throw new x("PublicKeyPurposeDuplicated",`Public key purpose '${Tt}' already specified.`);Bt.add(Tt)}}}const w=(()=>{class He{}return He.hashAlgorithmInMultihashCode=18,He.maxCanonicalizedDeltaSizeInBytes=1e3,He})();var T=E(28846);class D{static canonicalizeAsBytes(Je){const Bt=D.removeAllUndefinedProperties(Je),Tt=T(Bt);return we.stringToBytes(Tt)}static removeAllUndefinedProperties(Je){for(const Bt in Je)"object"==typeof Je[Bt]?D.removeAllUndefinedProperties(Je[Bt]):void 0===Je[Bt]&&delete Je[Bt];return Je}}var A=128,g=-128,G=Math.pow(2,31),ce=128,Ae=127,Fe=Math.pow(2,7),Ee=Math.pow(2,14),ge=Math.pow(2,21),Oe=Math.pow(2,28),ye=Math.pow(2,35),Se=Math.pow(2,42),he=Math.pow(2,49),fe=Math.pow(2,56),ee=Math.pow(2,63);const Ie={encode:function H(He,Je,Bt){Je=Je||[];for(var Tt=Bt=Bt||0;He>=G;)Je[Bt++]=255&He|A,He/=128;for(;He&g;)Je[Bt++]=255&He|A,He>>>=7;return Je[Bt]=0|He,H.bytes=Bt-Tt+1,Je},decode:function ke(He,Tt){var cn,Bt=0,Yt=0,Pn=Tt=Tt||0,pn=He.length;do{if(Pn>=pn)throw ke.bytes=0,new RangeError("Could not decode varint");cn=He[Pn++],Bt+=Yt<28?(cn&Ae)<<Yt:(cn&Ae)*Math.pow(2,Yt),Yt+=7}while(cn>=ce);return ke.bytes=Pn-Tt,Bt},encodingLength:function(He){return He<Fe?1:He<Ee?2:He<ge?3:He<Oe?4:He<ye?5:He<Se?6:He<he?7:He<fe?8:He<ee?9:10}},Ne=(He,Je=0)=>[Ie.decode(He,Je),Ie.decode.bytes],Be=(He,Je,Bt=0)=>(Ie.encode(He,Je,Bt),Je),yt=He=>Ie.encodingLength(He),Ke=(He,Je)=>{const Bt=Je.byteLength,Tt=yt(He),Yt=Tt+yt(Bt),Pn=new Uint8Array(Yt+Bt);return Be(He,Pn,0),Be(Bt,Pn,Tt),Pn.set(Je,Yt),new U(He,Bt,Je,Pn)};class U{constructor(Je,Bt,Tt,Yt){this.code=Je,this.size=Bt,this.digest=Tt,this.bytes=Yt}}var _=E(10467);const p=({name:He,code:Je,encode:Bt})=>new O(He,Je,Bt);class O{constructor(Je,Bt,Tt){this.name=Je,this.code=Bt,this.encode=Tt}digest(Je){if(Je instanceof Uint8Array){const Bt=this.encode(Je);return Bt instanceof Uint8Array?Ke(this.code,Bt):Bt.then(Tt=>Ke(this.code,Tt))}throw Error("Unknown type, must be binary type")}}const q=He=>function(){var Je=(0,_.A)(function*(Bt){return new Uint8Array(yield crypto.subtle.digest(He,Bt))});return function(Bt){return Je.apply(this,arguments)}}(),me=p({name:"sha2-256",code:18,encode:q("SHA-256")});p({name:"sha2-512",code:19,encode:q("SHA-512")});var qe=function(He,Je,Bt,Tt){return new(Bt||(Bt=Promise))(function(Pn,cn){function pn(An){try{Un(Tt.next(An))}catch(On){cn(On)}}function vr(An){try{Un(Tt.throw(An))}catch(On){cn(On)}}function Un(An){An.done?Pn(An.value):function Yt(Pn){return Pn instanceof Bt?Pn:new Bt(function(cn){cn(Pn)})}(An.value).then(pn,vr)}Un((Tt=Tt.apply(He,Je||[])).next())})};class At{static hash(Je,Bt){return qe(this,void 0,void 0,function*(){let Tt;if(18!==Bt)throw new x("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Bt} is not supported.`);return Tt=(yield me.digest(Je)).bytes,Tt})}static hashAsNonMultihashBytes(Je,Bt){return qe(this,void 0,void 0,function*(){let Tt;if(18!==Bt)throw new x("MultihashUnsupportedHashAlgorithm",`Hash algorithm defined in multihash code ${Bt} is not supported.`);return Tt=yield me.encode(Je),Tt})}static canonicalizeThenHashThenEncode(Je,Bt){return qe(this,void 0,void 0,function*(){const Tt=D.canonicalizeAsBytes(Je);return yield At.hashThenEncode(Tt,Bt)})}static canonicalizeThenDoubleHashThenEncode(Je,Bt){return qe(this,void 0,void 0,function*(){const Tt=D.canonicalizeAsBytes(Je),Yt=yield At.hashAsNonMultihashBytes(Tt,Bt);return yield At.hashThenEncode(Yt,Bt)})}static hashThenEncode(Je,Bt){return qe(this,void 0,void 0,function*(){const Tt=yield At.hash(Je,Bt);return we.encode(Tt)})}static validateEncodedHashComputedUsingSupportedHashAlgorithm(Je,Bt){let Tt;const Yt=we.decodeAsBytes(Je,Bt);try{Tt=(He=>{const Je=(He=>{if(He instanceof Uint8Array&&"Uint8Array"===He.constructor.name)return He;if(He instanceof ArrayBuffer)return new Uint8Array(He);if(ArrayBuffer.isView(He))return new Uint8Array(He.buffer,He.byteOffset,He.byteLength);throw new Error("Unknown type, must be binary type")})(He),[Bt,Tt]=Ne(Je),[Yt,Pn]=Ne(Je.subarray(Tt)),cn=Je.subarray(Tt+Pn);if(cn.byteLength!==Yt)throw new Error("Incorrect length");return new U(Bt,Yt,cn,Je)})(Yt)}catch{throw new x("MultihashStringNotAMultihash",`Given ${Bt} string '${Je}' is not a multihash after decoding.`)}const Pn=w.hashAlgorithmInMultihashCode;if(Pn!==Tt.code)throw new x("MultihashUnsupportedHashAlgorithm",`Given ${Bt} uses unsupported multihash algorithm with code ${Tt.code}, should use ${Pn} or change IonSdkConfig to desired hashing algorithm.`)}}var ut=function(He){return He.Create="create",He.Update="update",He.Deactivate="deactivate",He.Recover="recover",He}(ut||{});const bt=ut;var Lt=function(He){return He.Replace="replace",He.AddPublicKeys="add-public-keys",He.RemovePublicKeys="remove-public-keys",He.AddServices="add-services",He.RemoveServices="remove-services",He}(Lt||{});const en=Lt;var Zt=function(He,Je,Bt,Tt){return new(Bt||(Bt=Promise))(function(Pn,cn){function pn(An){try{Un(Tt.next(An))}catch(On){cn(On)}}function vr(An){try{Un(Tt.throw(An))}catch(On){cn(On)}}function Un(An){An.done?Pn(An.value):function Yt(Pn){return Pn instanceof Bt?Pn:new Bt(function(cn){cn(Pn)})}(An.value).then(pn,vr)}Un((Tt=Tt.apply(He,Je||[])).next())})};class Jn{static createCreateRequest(Je){return Zt(this,void 0,void 0,function*(){const Bt=Je.recoveryKey,Tt=Je.updateKey,Yt=Je.document.publicKeys,Pn=Je.document.services;h.validateEs256kOperationKey(Bt,u.Public),h.validateEs256kOperationKey(Tt,u.Public),Jn.validateDidDocumentKeys(Yt),Jn.validateServices(Pn);const cn=w.hashAlgorithmInMultihashCode,pn=[{action:en.Replace,document:Je.document}],vr={updateCommitment:yield At.canonicalizeThenDoubleHashThenEncode(Tt,cn),patches:pn};Jn.validateDeltaSize(vr);const An={deltaHash:yield At.canonicalizeThenHashThenEncode(vr,cn),recoveryCommitment:yield At.canonicalizeThenDoubleHashThenEncode(Bt,cn)};return{type:bt.Create,suffixData:An,delta:vr}})}static createDeactivateRequest(Je){return Zt(this,void 0,void 0,function*(){Jn.validateDidSuffix(Je.didSuffix),h.validateEs256kOperationKey(Je.recoveryPublicKey,u.Public);const Bt=w.hashAlgorithmInMultihashCode,Tt=yield At.canonicalizeThenHashThenEncode(Je.recoveryPublicKey,Bt),Yt={didSuffix:Je.didSuffix,recoveryKey:Je.recoveryPublicKey},Pn=yield Je.signer.sign({alg:"ES256K"},Yt);return{type:bt.Deactivate,didSuffix:Je.didSuffix,revealValue:Tt,signedData:Pn}})}static createRecoverRequest(Je){return Zt(this,void 0,void 0,function*(){Jn.validateDidSuffix(Je.didSuffix),h.validateEs256kOperationKey(Je.recoveryPublicKey,u.Public),h.validateEs256kOperationKey(Je.nextRecoveryPublicKey,u.Public),h.validateEs256kOperationKey(Je.nextUpdatePublicKey,u.Public),Jn.validateDidDocumentKeys(Je.document.publicKeys),Jn.validateServices(Je.document.services);const Bt=w.hashAlgorithmInMultihashCode,Tt=yield At.canonicalizeThenHashThenEncode(Je.recoveryPublicKey,Bt),cn={patches:[{action:en.Replace,document:Je.document}],updateCommitment:yield At.canonicalizeThenDoubleHashThenEncode(Je.nextUpdatePublicKey,Bt)},pn=yield At.canonicalizeThenHashThenEncode(cn,Bt),Un={recoveryCommitment:yield At.canonicalizeThenDoubleHashThenEncode(Je.nextRecoveryPublicKey,Bt),recoveryKey:Je.recoveryPublicKey,deltaHash:pn},An=yield Je.signer.sign({alg:"ES256K"},Un);return{type:bt.Recover,didSuffix:Je.didSuffix,revealValue:Tt,delta:cn,signedData:An}})}static createUpdateRequest(Je){return Zt(this,void 0,void 0,function*(){if(Jn.validateDidSuffix(Je.didSuffix),h.validateEs256kOperationKey(Je.updatePublicKey,u.Public),h.validateEs256kOperationKey(Je.nextUpdatePublicKey,u.Public),Jn.validateServices(Je.servicesToAdd),Jn.validateDidDocumentKeys(Je.publicKeysToAdd),void 0!==Je.idsOfServicesToRemove)for(const it of Je.idsOfServicesToRemove)h.validateId(it);if(void 0!==Je.idsOfPublicKeysToRemove)for(const it of Je.idsOfPublicKeysToRemove)h.validateId(it);const Bt=[],Tt=Je.servicesToAdd;void 0!==Tt&&Tt.length>0&&Bt.push({action:en.AddServices,services:Tt});const Yt=Je.idsOfServicesToRemove;void 0!==Yt&&Yt.length>0&&Bt.push({action:en.RemoveServices,ids:Yt});const Pn=Je.publicKeysToAdd;void 0!==Pn&&Pn.length>0&&Bt.push({action:en.AddPublicKeys,publicKeys:Pn});const cn=Je.idsOfPublicKeysToRemove;void 0!==cn&&cn.length>0&&Bt.push({action:en.RemovePublicKeys,ids:cn});const pn=w.hashAlgorithmInMultihashCode,vr=yield At.canonicalizeThenHashThenEncode(Je.updatePublicKey,pn),An={patches:Bt,updateCommitment:yield At.canonicalizeThenDoubleHashThenEncode(Je.nextUpdatePublicKey,pn)},On=yield At.canonicalizeThenHashThenEncode(An,pn),nt={updateKey:Je.updatePublicKey,deltaHash:On},$e=yield Je.signer.sign({alg:"ES256K"},nt);return{type:bt.Update,didSuffix:Je.didSuffix,revealValue:vr,delta:An,signedData:$e}})}static validateDidSuffix(Je){At.validateEncodedHashComputedUsingSupportedHashAlgorithm(Je,"didSuffix")}static validateDidDocumentKeys(Je){if(void 0===Je)return;const Bt=new Set;for(const Tt of Je){if(Array.isArray(Tt.publicKeyJwk))throw new x("DidDocumentPublicKeyMissingOrIncorrectType","DID Document key 'publicKeyJwk' property is not a non-array object.");if(h.validateId(Tt.id),Bt.has(Tt.id))throw new x("DidDocumentPublicKeyIdDuplicated",`DID Document key with ID '${Tt.id}' already exists.`);Bt.add(Tt.id),h.validatePublicKeyPurposes(Tt.purposes)}}static validateServices(Je){if(void 0!==Je&&0!==Je.length){const Bt=new Set;for(const Tt of Je){if(Jn.validateService(Tt),Bt.has(Tt.id))throw new x("DidDocumentServiceIdDuplicated","Service id has to be unique");Bt.add(Tt.id)}}}static validateService(Je){if(h.validateId(Je.id),Je.type.length>30)throw new x("ServiceTypeTooLong",`Service endpoint type length ${Je.type.length} exceeds max allowed length of 30.`);if(Array.isArray(Je.serviceEndpoint))throw new x("ServiceEndpointCannotBeAnArray","Service endpoint value cannot be an array.");if("string"==typeof Je.serviceEndpoint&&void 0!==De.parse(Je.serviceEndpoint).error)throw new x("ServiceEndpointStringNotValidUri",`Service endpoint string '${Je.serviceEndpoint}' is not a URI.`)}static validateDeltaSize(Je){const Bt=D.canonicalizeAsBytes(Je);if(Bt.length>w.maxCanonicalizedDeltaSizeInBytes)throw new x("DeltaExceedsMaximumSize",`Delta of ${Bt.length} bytes exceeded limit of ${w.maxCanonicalizedDeltaSizeInBytes} bytes.`)}}var yn=function(He,Je,Bt,Tt){return new(Bt||(Bt=Promise))(function(Pn,cn){function pn(An){try{Un(Tt.next(An))}catch(On){cn(On)}}function vr(An){try{Un(Tt.throw(An))}catch(On){cn(On)}}function Un(An){An.done?Pn(An.value):function Yt(Pn){return Pn instanceof Bt?Pn:new Bt(function(cn){cn(Pn)})}(An.value).then(pn,vr)}Un((Tt=Tt.apply(He,Je||[])).next())})};class Vt{static createLongFormDid(Je){return yn(this,void 0,void 0,function*(){const Bt=yield Jn.createCreateRequest(Je),Tt=yield Vt.computeDidUniqueSuffix(Bt.suffixData);let Yt;Yt=void 0===w.network||"mainnet"===w.network?`did:ion:${Tt}`:`did:ion:${w.network}:${Tt}`;const cn=D.canonicalizeAsBytes({suffixData:Bt.suffixData,delta:Bt.delta});return`${Yt}:${we.encode(cn)}`})}static computeDidUniqueSuffix(Je){return yn(this,void 0,void 0,function*(){const Bt=D.canonicalizeAsBytes(Je),Tt=yield At.hash(Bt,w.hashAlgorithmInMultihashCode);return we.encode(Tt)})}}E(63741),E(68464)},49402:(Le,z,E)=>{"use strict";E.d(z,{hB:()=>Nt,D4:()=>Pn,lF:()=>Yt});const m=/^(\d{1,3}\.){3,3}\d{1,3}$/,R=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i,S={name:"v4",size:4,isFormat:nt=>m.test(nt),encode(nt,$e,it){it=~~it,$e=$e||new Uint8Array(it+4);const jt=nt.length;let dn=0;for(let Rn=0;Rn<jt;){const Kn=nt.charCodeAt(Rn++);46===Kn?($e[it++]=dn,dn=0):dn=10*dn+(Kn-48)}return $e[it]=dn,$e},decode:(nt,$e)=>($e=~~$e,`${nt[$e++]}.${nt[$e++]}.${nt[$e++]}.${nt[$e]}`)},L={name:"v6",size:16,isFormat:nt=>nt.length>0&&R.test(nt),encode(nt,$e,it){let jt=16+(it=~~it),dn=-1,Rn=0,Kn=0,tr=!0,Ar=!1;$e=$e||new Uint8Array(it+16);for(let _r=0;_r<nt.length;_r++){let Pr=nt.charCodeAt(_r);58===Pr?(tr?-1!==dn?(it<jt&&($e[it]=0),it<jt-1&&($e[it+1]=0),it+=2):it<jt&&(dn=it):(!0===Ar?(it<jt&&($e[it]=Kn),it++):(it<jt&&($e[it]=Rn>>8),it<jt-1&&($e[it+1]=255&Rn),it+=2),Rn=0,Kn=0),tr=!0,Ar=!1):46===Pr?(it<jt&&($e[it]=Kn),it++,Kn=0,Rn=0,tr=!1,Ar=!0):(tr=!1,Pr>=97?Pr-=87:Pr>=65?Pr-=55:(Pr-=48,Kn=10*Kn+Pr),Rn=(Rn<<4)+Pr)}if(!1===tr)!0===Ar?(it<jt&&($e[it]=Kn),it++):(it<jt&&($e[it]=Rn>>8),it<jt-1&&($e[it+1]=255&Rn),it+=2);else if(0===dn)it<jt&&($e[it]=0),it<jt-1&&($e[it+1]=0),it+=2;else if(-1!==dn){it+=2;for(let _r=Math.min(it-1,jt-1);_r>=dn+2;_r--)$e[_r]=$e[_r-2];$e[dn]=0,$e[dn+1]=0,dn=it}if(dn!==it&&-1!==dn)for(it>jt-2&&(it=jt-2);jt>dn;)$e[--jt]=it<jt&&it>dn?$e[--it]:0;else for(;it<jt;)$e[it++]=0;return $e},decode(nt,$e){$e=~~$e;let it="";for(let jt=0;jt<16;jt+=2)0!==jt&&(it+=":"),it+=(nt[$e+jt]<<8|nt[$e+jt+1]).toString(16);return it.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}};function N(nt){if(S.isFormat(nt))return S.size;if(L.isFormat(nt))return L.size;throw Error(`Invalid ip address: ${nt}`)}function X(nt){switch(nt){case 1:return"A";case 10:return"NULL";case 28:return"AAAA";case 18:return"AFSDB";case 42:return"APL";case 257:return"CAA";case 60:return"CDNSKEY";case 59:return"CDS";case 37:return"CERT";case 5:return"CNAME";case 49:return"DHCID";case 32769:return"DLV";case 39:return"DNAME";case 48:return"DNSKEY";case 43:return"DS";case 55:return"HIP";case 13:return"HINFO";case 45:return"IPSECKEY";case 25:return"KEY";case 36:return"KX";case 29:return"LOC";case 15:return"MX";case 35:return"NAPTR";case 2:return"NS";case 47:return"NSEC";case 50:return"NSEC3";case 51:return"NSEC3PARAM";case 12:return"PTR";case 46:return"RRSIG";case 17:return"RP";case 24:return"SIG";case 6:return"SOA";case 99:return"SPF";case 33:return"SRV";case 44:return"SSHFP";case 32768:return"TA";case 249:return"TKEY";case 52:return"TLSA";case 250:return"TSIG";case 16:return"TXT";case 252:return"AXFR";case 251:return"IXFR";case 41:return"OPT";case 255:return"ANY"}return"UNKNOWN_"+nt}function V(nt){switch(nt.toUpperCase()){case"A":return 1;case"NULL":return 10;case"AAAA":return 28;case"AFSDB":return 18;case"APL":return 42;case"CAA":return 257;case"CDNSKEY":return 60;case"CDS":return 59;case"CERT":return 37;case"CNAME":return 5;case"DHCID":return 49;case"DLV":return 32769;case"DNAME":return 39;case"DNSKEY":return 48;case"DS":return 43;case"HIP":return 55;case"HINFO":return 13;case"IPSECKEY":return 45;case"KEY":return 25;case"KX":return 36;case"LOC":return 29;case"MX":return 15;case"NAPTR":return 35;case"NS":return 2;case"NSEC":return 47;case"NSEC3":return 50;case"NSEC3PARAM":return 51;case"PTR":return 12;case"RRSIG":return 46;case"RP":return 17;case"SIG":return 24;case"SOA":return 6;case"SPF":return 99;case"SRV":return 33;case"SSHFP":return 44;case"TA":return 32768;case"TKEY":return 249;case"TLSA":return 52;case"TSIG":return 250;case"TXT":return 16;case"AXFR":return 252;case"IXFR":return 251;case"OPT":return 41;case"ANY":case"*":return 255}return nt.toUpperCase().startsWith("UNKNOWN_")?parseInt(nt.slice(8)):0}function Z(nt){switch(nt){case 0:return"NOERROR";case 1:return"FORMERR";case 2:return"SERVFAIL";case 3:return"NXDOMAIN";case 4:return"NOTIMP";case 5:return"REFUSED";case 6:return"YXDOMAIN";case 7:return"YXRRSET";case 8:return"NXRRSET";case 9:return"NOTAUTH";case 10:return"NOTZONE";case 11:return"RCODE_11";case 12:return"RCODE_12";case 13:return"RCODE_13";case 14:return"RCODE_14";case 15:return"RCODE_15"}return"RCODE_"+nt}function te(nt){switch(nt){case 0:return"QUERY";case 1:return"IQUERY";case 2:return"STATUS";case 3:return"OPCODE_3";case 4:return"NOTIFY";case 5:return"UPDATE";case 6:return"OPCODE_6";case 7:return"OPCODE_7";case 8:return"OPCODE_8";case 9:return"OPCODE_9";case 10:return"OPCODE_10";case 11:return"OPCODE_11";case 12:return"OPCODE_12";case 13:return"OPCODE_13";case 14:return"OPCODE_14";case 15:return"OPCODE_15"}return"OPCODE_"+nt}function J(nt){switch(nt){case 1:return"IN";case 2:return"CS";case 3:return"CH";case 4:return"HS";case 255:return"ANY"}return"UNKNOWN_"+nt}function oe(nt){switch(nt.toUpperCase()){case"IN":return 1;case"CS":return 2;case"CH":return 3;case"HS":return 4;case"ANY":return 255}return 0}function ae(nt){if("number"==typeof nt)return nt;if(!nt)return-1;switch(nt.toUpperCase()){case"OPTION_0":return 0;case"LLQ":return 1;case"UL":return 2;case"NSID":return 3;case"OPTION_4":return 4;case"DAU":return 5;case"DHU":return 6;case"N3U":return 7;case"CLIENT_SUBNET":return 8;case"EXPIRE":return 9;case"COOKIE":return 10;case"TCP_KEEPALIVE":return 11;case"PADDING":return 12;case"CHAIN":return 13;case"KEY_TAG":return 14;case"DEVICEID":return 26946;case"OPTION_65535":return 65535}const $e=nt.match(/_(\d+)$/);return $e?parseInt($e[1],10):-1}const pe=55296,le=56320;function we(nt){let $e=0;const it=nt.length;for(let jt=0;jt<it;jt+=1){const dn=nt.charCodeAt(jt);if(dn<=127)$e+=1;else if(dn<=2047)$e+=2;else if((63488&dn)!==pe)$e+=3;else{const Rn=jt+1;Rn===it||dn>=le||(64512&nt.charCodeAt(Rn))!==le?$e+=3:(jt=Rn,$e+=4)}}return $e}function De(nt,$e,it){const jt=nt.length;null==it&&(it=0),void 0===$e&&($e=new Uint8Array(we(nt)+it));let dn=it;for(let Rn=0;Rn<jt;Rn+=1){let Kn=nt.charCodeAt(Rn);if(Kn<=127)$e[dn++]=Kn;else if(Kn<=2047)$e[dn++]=192|(1984&Kn)>>6,$e[dn++]=128|63&Kn;else if((63488&Kn)!==pe)$e[dn++]=224|(61440&Kn)>>12,$e[dn++]=128|(4032&Kn)>>6,$e[dn++]=128|63&Kn;else{const tr=Rn+1;if(tr===jt||Kn>=le)$e[dn++]=239,$e[dn++]=191,$e[dn++]=189;else{const Ar=nt.charCodeAt(tr);(64512&Ar)!==le?($e[dn++]=239,$e[dn++]=191,$e[dn++]=189):(Rn=tr,Kn=65536|(1023&Kn)<<10|1023&Ar,$e[dn++]=240|(1835008&Kn)>>18,$e[dn++]=128|(258048&Kn)>>12,$e[dn++]=128|(4032&Kn)>>6,$e[dn++]=128|63&Kn)}}}return De.bytes=dn-it,$e}function k(nt,$e,it){let jt="";null==$e&&($e=0),null==it&&(it=nt.length);for(let dn=$e;dn<it;){const Rn=nt[dn++];let Kn;Rn<=128?Kn=Rn:Rn>191&&Rn<224?Kn=(31&Rn)<<6|63&nt[dn++]:Rn>239&&Rn<365?(Kn=((7&Rn)<<18|(63&nt[dn++])<<12|(63&nt[dn++])<<6|63&nt[dn++])-65536,jt+=String.fromCharCode(pe|Kn>>10&1023),Kn=le|1023&Kn):Kn=(15&Rn)<<12|(63&nt[dn++])<<6|63&nt[dn++],jt+=String.fromCharCode(Kn)}return k.bytes=it-$e,jt}De.bytes=0,k.bytes=0;const u=nt=>nt instanceof Uint8Array;function h(nt){return"string"==typeof nt?we(nt):nt.byteLength}function y(nt){return nt instanceof Uint8Array?nt:Array.isArray(nt)?new Uint8Array(nt):De(nt)}function w(nt,$e,it){if("string"!=typeof $e)throw new Error("unknown input type");return De($e,nt,it),De.bytes}const T={},D=new Array(255);for(let nt=0;nt<=15;nt+=1){const $e=nt.toString(16),it=$e.toUpperCase();for(let jt=0;jt<=15;jt+=1){const dn=jt.toString(16),Rn=dn.toUpperCase(),Kn=nt<<4|jt,tr=`${$e}${dn}`;D[Kn]=tr,T[tr]=Kn,T[`${it}${dn}`]=Kn,T[`${$e}${Rn}`]=Kn,T[`${it}${Rn}`]=Kn}}function A(nt){return nt.length>>>1}const g=Math.pow(2,24),G=Math.pow(2,16),H=Math.pow(2,8),ne=(nt,$e)=>nt[$e]*g+nt[$e+1]*G+nt[$e+2]*H+nt[$e+3],ce=(nt,$e)=>nt[$e]<<8|nt[$e+1],Ae=(nt,$e,it)=>(nt[it+3]=$e=+$e,nt[it+2]=$e>>>=8,nt[it+1]=$e>>>=8,nt[it]=$e>>>=8,it+4),ke=(nt,$e,it)=>(nt[it]=$e>>8,nt[it+1]=255&$e,it+2);function Fe(nt,$e,it,jt,dn){return it<0&&(jt-=it,it=0),jt<0&&(jt=0),dn<0?new Uint8Array(0):it>=$e.length||jt>=dn?0:function Ee(nt,$e,it,jt,dn){dn-jt>$e.length-it&&(dn=jt+$e.length-it);let Rn=dn-jt;const Kn=nt.length-jt;return Rn>Kn&&(Rn=Kn),(0!==jt||dn<nt.length)&&(nt=new Uint8Array(nt.buffer,nt.byteOffset+jt,Rn)),$e.set(nt,it),Rn}(nt,$e,it,jt,dn)}function ee({bytes:nt=0,encode:$e,decode:it,encodingLength:jt}){return $e.bytes=nt,it.bytes=nt,{encode:$e,decode:it,encodingLength:jt||(()=>nt)}}const ie=ee({encode(nt,$e,it){$e||($e=new Uint8Array(ie.encodingLength(nt))),it||(it=0);const jt=it,dn=nt.replace(/^\.|\.$/gm,"");if(dn.length){const Rn=dn.split(".");for(let Kn=0;Kn<Rn.length;Kn++){const tr=w($e,Rn[Kn],it+1);$e[it]=tr,it+=tr+1}}return $e[it++]=0,ie.encode.bytes=it-jt,$e},decode(nt,$e){$e||($e=0);const it=[];let jt=$e,dn=0,Rn=0,Kn=!1;for(;;){if($e>=nt.length)throw new Error("Cannot decode name (buffer overflow)");const tr=nt[$e++];if(Rn+=Kn?0:1,0===tr)break;if(192&tr){if(192&~tr)throw new Error("Cannot decode name (bad label)");{if($e+1>nt.length)throw new Error("Cannot decode name (buffer overflow)");const Ar=ce(nt,$e-1)-49152;if(Ar>=jt)throw new Error("Cannot decode name (bad pointer)");$e=Ar,jt=Ar,Rn+=Kn?0:1,Kn=!0}}else{if($e+tr>nt.length)throw new Error("Cannot decode name (buffer overflow)");if(dn+=tr+1,dn>254)throw new Error("Cannot decode name (name too long)");it.push(k(nt,$e,$e+tr)),$e+=tr,Rn+=Kn?0:tr}}return ie.decode.bytes=Rn,0===it.length?".":it.join(".")},encodingLength:nt=>"."===nt||".."===nt?1:h(nt.replace(/^\.|\.$/gm,""))+2}),ue=ee({encode(nt,$e,it){$e||($e=new Uint8Array(ue.encodingLength(nt))),it||(it=0);const jt=w($e,nt,it+1);return $e[it]=jt,ue.encode.bytes=jt+1,$e},decode(nt,$e){$e||($e=0);const it=nt[$e],jt=k(nt,$e+1,$e+1+it);return ue.decode.bytes=it+1,jt},encodingLength:nt=>h(nt)+1}),be=ee({bytes:12,encode(nt,$e,it){$e||($e=new Uint8Array(be.encodingLength(nt))),it||(it=0);const jt=32767&(nt.flags||0),dn="response"===nt.type?32768:0;return ke($e,nt.id||0,it),ke($e,jt|dn,it+2),ke($e,nt.questions.length,it+4),ke($e,nt.answers.length,it+6),ke($e,nt.authorities.length,it+8),ke($e,nt.additionals.length,it+10),$e},decode(nt,$e){if($e||($e=0),nt.length<12)throw new Error("Header must be 12 bytes");const it=ce(nt,$e+2);return{id:ce(nt,$e),type:32768&it?"response":"query",flags:32767&it,flag_qr:1==(it>>15&1),opcode:te(it>>11&15),flag_aa:1==(it>>10&1),flag_tc:1==(it>>9&1),flag_rd:1==(it>>8&1),flag_ra:1==(it>>7&1),flag_z:1==(it>>6&1),flag_ad:1==(it>>5&1),flag_cd:1==(it>>4&1),rcode:Z(15&it),questions:new Array(ce(nt,$e+4)),answers:new Array(ce(nt,$e+6)),authorities:new Array(ce(nt,$e+8)),additionals:new Array(ce(nt,$e+10))}},encodingLength:()=>12}),Ie=ee({encode(nt,$e,it){$e||($e=new Uint8Array(Ie.encodingLength(nt))),it||(it=0);const jt=nt.length;return ke($e,jt,it),Fe(nt,$e,it+2,0,jt),Ie.encode.bytes=jt+2,$e},decode(nt,$e){$e||($e=0);const it=ce(nt,$e),jt=nt.slice($e+2,$e+2+it);return Ie.decode.bytes=it+2,jt},encodingLength:nt=>nt.length+2}),Ne=ee({encode:(nt,$e,it)=>($e||($e=new Uint8Array(Ne.encodingLength(nt))),it||(it=0),ie.encode(nt,$e,it+2),ke($e,ie.encode.bytes,it),Ne.encode.bytes=ie.encode.bytes+2,$e),decode(nt,$e){$e||($e=0);const it=ce(nt,$e),jt=ie.decode(nt,$e+2);return Ne.decode.bytes=it+2,jt},encodingLength:nt=>ie.encodingLength(nt)+2}),Be=ee({encode(nt,$e,it){$e||($e=new Uint8Array(Be.encodingLength(nt))),it||(it=0);const jt=it;return ie.encode(nt.mname,$e,it+=2),ie.encode(nt.rname,$e,it+=ie.encode.bytes),Ae($e,nt.serial||0,it+=ie.encode.bytes),Ae($e,nt.refresh||0,it+=4),Ae($e,nt.retry||0,it+=4),Ae($e,nt.expire||0,it+=4),Ae($e,nt.minimum||0,it+=4),ke($e,(it+=4)-jt-2,jt),Be.encode.bytes=it-jt,$e},decode(nt,$e){$e||($e=0);const it=$e,jt={};return jt.mname=ie.decode(nt,$e+=2),jt.rname=ie.decode(nt,$e+=ie.decode.bytes),jt.serial=ne(nt,$e+=ie.decode.bytes),jt.refresh=ne(nt,$e+=4),jt.retry=ne(nt,$e+=4),jt.expire=ne(nt,$e+=4),jt.minimum=ne(nt,$e+=4),Be.decode.bytes=($e+=4)-it,jt},encodingLength:nt=>22+ie.encodingLength(nt.mname)+ie.encodingLength(nt.rname)}),yt=ee({encode(nt,$e,it){Array.isArray(nt)||(nt=[nt]);for(let dn=0;dn<nt.length;dn++)if("string"==typeof nt[dn]&&(nt[dn]=y(nt[dn])),!u(nt[dn]))throw new Error("Must be a Buffer");$e||($e=new Uint8Array(yt.encodingLength(nt))),it||(it=0);const jt=it;return it+=2,nt.forEach(function(dn){$e[it++]=dn.length,Fe(dn,$e,it,0,dn.length),it+=dn.length}),ke($e,it-jt-2,jt),yt.encode.bytes=it-jt,$e},decode(nt,$e){$e||($e=0);const it=$e;let jt=ce(nt,$e);$e+=2;const dn=[];for(;jt>0;){const Rn=nt[$e++];if(--jt,jt<Rn)throw new Error("Buffer overflow");dn.push(nt.slice($e,$e+Rn)),$e+=Rn,jt-=Rn}return yt.decode.bytes=$e-it,dn},encodingLength(nt){Array.isArray(nt)||(nt=[nt]);let $e=2;return nt.forEach(function(it){$e+="string"==typeof it?h(it)+1:it.length+1}),$e}}),Ke=ee({encode(nt,$e,it){$e||($e=new Uint8Array(Ke.encodingLength(nt))),it||(it=0),"string"==typeof nt&&(nt=y(nt)),nt||(nt=new Uint8Array(0));const jt=it,dn=nt.length;return Fe(nt,$e,it+=2,0,dn),ke($e,(it+=dn)-jt-2,jt),Ke.encode.bytes=it-jt,$e},decode(nt,$e){$e||($e=0);const it=$e,jt=ce(nt,$e),dn=nt.slice($e+=2,$e+jt);return Ke.decode.bytes=($e+=jt)-it,dn},encodingLength:nt=>nt?(u(nt)?nt.length:h(nt))+2:2}),Re=ee({encode(nt,$e,it){$e||($e=new Uint8Array(Re.encodingLength(nt))),it||(it=0);const jt=it;return ue.encode(nt.cpu,$e,it+=2),ue.encode(nt.os,$e,it+=ue.encode.bytes),ke($e,(it+=ue.encode.bytes)-jt-2,jt),Re.encode.bytes=it-jt,$e},decode(nt,$e){$e||($e=0);const it=$e,jt={};return jt.cpu=ue.decode(nt,$e+=2),jt.os=ue.decode(nt,$e+=ue.decode.bytes),Re.decode.bytes=($e+=ue.decode.bytes)-it,jt},encodingLength:nt=>ue.encodingLength(nt.cpu)+ue.encodingLength(nt.os)+2}),ot=ee({encode:(nt,$e,it)=>($e||($e=new Uint8Array(ot.encodingLength(nt))),it||(it=0),ie.encode(nt,$e,it+2),ke($e,ie.encode.bytes,it),ot.encode.bytes=ie.encode.bytes+2,$e),decode(nt,$e){$e||($e=0);const it=ie.decode(nt,$e+2);return ot.decode.bytes=ie.decode.bytes+2,it},encodingLength:nt=>ie.encodingLength(nt)+2}),U=ee({encode(nt,$e,it){$e||($e=new Uint8Array(U.encodingLength(nt))),it||(it=0),ke($e,nt.priority||0,it+2),ke($e,nt.weight||0,it+4),ke($e,nt.port||0,it+6),ie.encode(nt.target,$e,it+8);const jt=ie.encode.bytes+6;return ke($e,jt,it),U.encode.bytes=jt+2,$e},decode(nt,$e){$e||($e=0);const it=ce(nt,$e),jt={};return jt.priority=ce(nt,$e+2),jt.weight=ce(nt,$e+4),jt.port=ce(nt,$e+6),jt.target=ie.decode(nt,$e+8),U.decode.bytes=it+2,jt},encodingLength:nt=>8+ie.encodingLength(nt.target)}),_=ee({encode(nt,$e,it){const jt=_.encodingLength(nt);return $e||($e=new Uint8Array(_.encodingLength(nt))),it||(it=0),nt.issuerCritical&&(nt.flags=_.ISSUER_CRITICAL),ke($e,jt-2,it),$e[it+=2]=nt.flags||0,ue.encode(nt.tag,$e,it+=1),w($e,nt.value,it+=ue.encode.bytes),it+=h(nt.value),_.encode.bytes=jt,$e},decode(nt,$e){$e||($e=0);const it=ce(nt,$e),jt=$e+=2,dn={};return dn.flags=nt[$e],dn.tag=ue.decode(nt,$e+=1),dn.value=k(nt,$e+=ue.decode.bytes,jt+it),dn.issuerCritical=!!(dn.flags&_.ISSUER_CRITICAL),_.decode.bytes=it+2,dn},encodingLength:nt=>ue.encodingLength(nt.tag)+ue.encodingLength(nt.value)+2});_.ISSUER_CRITICAL=128;const p=ee({encode(nt,$e,it){$e||($e=new Uint8Array(p.encodingLength(nt))),it||(it=0);const jt=it;return ke($e,nt.preference||0,it+=2),ie.encode(nt.exchange,$e,it+=2),ke($e,(it+=ie.encode.bytes)-jt-2,jt),p.encode.bytes=it-jt,$e},decode(nt,$e){$e||($e=0);const it=$e,jt={};return jt.preference=ce(nt,$e+=2),jt.exchange=ie.decode(nt,$e+=2),p.decode.bytes=($e+=ie.decode.bytes)-it,jt},encodingLength:nt=>4+ie.encodingLength(nt.exchange)}),O=ee({encode:(nt,$e,it)=>($e||($e=new Uint8Array(O.encodingLength(nt))),it||(it=0),ke($e,4,it),S.encode(nt,$e,it+=2),$e),decode:(nt,$e)=>($e||($e=0),S.decode(nt,$e+=2)),bytes:6}),q=ee({encode:(nt,$e,it)=>($e||($e=new Uint8Array(q.encodingLength(nt))),it||(it=0),ke($e,16,it),L.encode(nt,$e,it+=2),q.encode.bytes=18,$e),decode(nt,$e){$e||($e=0);const it=L.decode(nt,$e+=2);return q.decode.bytes=18,it},bytes:18}),me=nt=>new Uint8Array(nt),xe=ee({encode(nt,$e,it){$e||($e=new Uint8Array(xe.encodingLength(nt))),it||(it=0);const jt=it,dn=ae(nt.code);if(ke($e,dn,it),it+=2,nt.data)ke($e,nt.data.length,it),Fe(nt.data,$e,it+=2),it+=nt.data.length;else switch(dn){case 8:{const Rn=nt.sourcePrefixLength||0,Kn=nt.family||function $(nt){return N(nt)===S.size?1:2}(nt.ip),tr=function F(nt,$e,it){it=~~it;const jt=N(nt);return"function"==typeof $e&&($e=$e(it+jt)),jt===S.size?S.encode(nt,$e,it):L.encode(nt,$e,it)}(nt.ip,me),Ar=Math.ceil(Rn/8);ke($e,Ar+4,it),ke($e,Kn,it+=2),it+=2,$e[it++]=Rn,$e[it++]=nt.scopePrefixLength||0,Fe(tr,$e,it,0,Ar),it+=Ar}break;case 11:nt.timeout?(ke($e,2,it),ke($e,nt.timeout,it+=2),it+=2):(ke($e,0,it),it+=2);break;case 12:{const Rn=nt.length||0;ke($e,Rn,it),$e.fill(0,it+=2,it+Rn),it+=Rn}break;case 14:ke($e,2*nt.tags.length,it),it+=2;for(const Kn of nt.tags)ke($e,Kn,it),it+=2;break;default:throw new Error(`Unknown roption code: ${nt.code}`)}return xe.encode.bytes=it-jt,$e},decode(nt,$e){$e||($e=0);const it={};it.code=ce(nt,$e),it.type=function se(nt){switch(nt){case 1:return"LLQ";case 2:return"UL";case 3:return"NSID";case 5:return"DAU";case 6:return"DHU";case 7:return"N3U";case 8:return"CLIENT_SUBNET";case 9:return"EXPIRE";case 10:return"COOKIE";case 11:return"TCP_KEEPALIVE";case 12:return"PADDING";case 13:return"CHAIN";case 14:return"KEY_TAG";case 26946:return"DEVICEID"}return nt<0?null:`OPTION_${nt}`}(it.code);const jt=ce(nt,$e+=2);switch(it.data=nt.slice($e+=2,$e+jt),it.code){case 8:it.family=ce(nt,$e),$e+=2,it.sourcePrefixLength=nt[$e++],it.scopePrefixLength=nt[$e++];{const dn=new Uint8Array(1===it.family?4:16);Fe(nt,dn,0,$e,$e+jt-4),it.ip=function I(nt,$e,it){if($e=~~$e,(it=it||nt.length-$e)===S.size)return S.decode(nt,$e,it);if(it===L.size)return L.decode(nt,$e,it);throw Error(`Invalid buffer size needs to be ${S.size} for v4 or ${L.size} for v6.`)}(dn)}break;case 11:jt>0&&(it.timeout=ce(nt,$e),$e+=2);break;case 14:it.tags=[];for(let dn=0;dn<jt;dn+=2)it.tags.push(ce(nt,$e)),$e+=2}return xe.decode.bytes=jt+4,it},encodingLength(nt){if(nt.data)return nt.data.length+4;switch(ae(nt.code)){case 8:return Math.ceil((nt.sourcePrefixLength||0)/8)+8;case 11:return"number"==typeof nt.timeout?6:4;case 12:return nt.length+4;case 14:return 4+2*nt.tags.length}throw new Error(`Unknown roption code: ${nt.code}`)}}),qe=ee({encode(nt,$e,it){$e||($e=new Uint8Array(qe.encodingLength(nt))),it||(it=0);const jt=it,dn=Un(nt,xe);return ke($e,dn,it),it=An(nt,xe,$e,it+2),qe.encode.bytes=it-jt,$e},decode(nt,$e){$e||($e=0);const it=$e,jt=[];let dn=ce(nt,$e);$e+=2;let Rn=0;for(;dn>0;)jt[Rn++]=xe.decode(nt,$e),$e+=xe.decode.bytes,dn-=xe.decode.bytes;return qe.decode.bytes=$e-it,jt},encodingLength:nt=>2+Un(nt||[],xe)}),At=ee({encode(nt,$e,it){$e||($e=new Uint8Array(At.encodingLength(nt))),it||(it=0);const jt=it,dn=nt.key;if(!u(dn))throw new Error("Key must be a Buffer");return ke($e,nt.flags,it+=2),$e[it+=2]=At.PROTOCOL_DNSSEC,$e[it+=1]=nt.algorithm,Fe(dn,$e,it+=1,0,dn.length),At.encode.bytes=(it+=dn.length)-jt,ke($e,At.encode.bytes-2,jt),$e},decode(nt,$e){$e||($e=0);const it=$e,jt={},dn=ce(nt,$e);if(jt.flags=ce(nt,$e+=2),nt[$e+=2]!==At.PROTOCOL_DNSSEC)throw new Error("Protocol must be 3");return jt.algorithm=nt[$e+=1],jt.key=nt.slice($e+=1,it+dn+2),At.decode.bytes=($e+=jt.key.length)-it,jt},encodingLength:nt=>6+h(nt.key)});At.PROTOCOL_DNSSEC=3,At.ZONE_KEY=128,At.SECURE_ENTRYPOINT=32768;const ut=ee({encode(nt,$e,it){$e||($e=new Uint8Array(ut.encodingLength(nt))),it||(it=0);const jt=it,dn=nt.signature;if(!u(dn))throw new Error("Signature must be a Buffer");return it+=2,ke($e,V(nt.typeCovered),it),$e[it+=2]=nt.algorithm,$e[it+=1]=nt.labels,Ae($e,nt.originalTTL,it+=1),Ae($e,nt.expiration,it+=4),Ae($e,nt.inception,it+=4),ke($e,nt.keyTag,it+=4),ie.encode(nt.signersName,$e,it+=2),Fe(dn,$e,it+=ie.encode.bytes,0,dn.length),ut.encode.bytes=(it+=dn.length)-jt,ke($e,ut.encode.bytes-2,jt),$e},decode(nt,$e){$e||($e=0);const it=$e,jt={},dn=ce(nt,$e);return jt.typeCovered=X(ce(nt,$e+=2)),jt.algorithm=nt[$e+=2],jt.labels=nt[$e+=1],jt.originalTTL=ne(nt,$e+=1),jt.expiration=ne(nt,$e+=4),jt.inception=ne(nt,$e+=4),jt.keyTag=ce(nt,$e+=4),jt.signersName=ie.decode(nt,$e+=2),jt.signature=nt.slice($e+=ie.decode.bytes,it+dn+2),ut.decode.bytes=($e+=jt.signature.length)-it,jt},encodingLength:nt=>20+ie.encodingLength(nt.signersName)+h(nt.signature)}),bt=ee({encode(nt,$e,it){$e||($e=new Uint8Array(bt.encodingLength(nt))),it||(it=0);const jt=it;return ie.encode(nt.mbox||".",$e,it+=2),ie.encode(nt.txt||".",$e,it+=ie.encode.bytes),bt.encode.bytes=(it+=ie.encode.bytes)-jt,ke($e,bt.encode.bytes-2,jt),$e},decode(nt,$e){$e||($e=0);const it=$e,jt={};return jt.mbox=ie.decode(nt,$e+=2)||".",jt.txt=ie.decode(nt,$e+=ie.decode.bytes)||".",bt.decode.bytes=($e+=ie.decode.bytes)-it,jt},encodingLength:nt=>2+ie.encodingLength(nt.mbox||".")+ie.encodingLength(nt.txt||".")}),Lt=ee({encode(nt,$e,it){$e||($e=new Uint8Array(Lt.encodingLength(nt))),it||(it=0);const jt=it,dn=[];for(let Rn=0;Rn<nt.length;Rn++){const Kn=V(nt[Rn]);void 0===dn[Kn>>8]&&(dn[Kn>>8]=[]),dn[Kn>>8][Kn>>3&31]|=1<<7-(7&Kn)}for(let Rn=0;Rn<dn.length;Rn++)if(void 0!==dn[Rn]){const Kn=y(dn[Rn]);$e[it]=Rn,$e[it+=1]=Kn.length,Fe(Kn,$e,it+=1,0,Kn.length),it+=Kn.length}return Lt.encode.bytes=it-jt,$e},decode(nt,$e,it){$e||($e=0);const jt=$e,dn=[];for(;$e-jt<it;){const Rn=nt[$e],Kn=nt[$e+=1];$e+=1;for(let tr=0;tr<Kn;tr++){const Ar=nt[$e+tr];for(let _r=0;_r<8;_r++)if(Ar&1<<7-_r){const Pr=X(Rn<<8|tr<<3|_r);dn.push(Pr)}}$e+=Kn}return Lt.decode.bytes=$e-jt,dn},encodingLength(nt){const $e=[];for(let jt=0;jt<nt.length;jt++){const dn=V(nt[jt]);$e[dn>>8]=Math.max($e[dn>>8]||0,255&dn)}let it=0;for(let jt=0;jt<$e.length;jt++)void 0!==$e[jt]&&(it+=2+Math.ceil(($e[jt]+1)/8));return it}}),en=ee({encode(nt,$e,it){$e||($e=new Uint8Array(en.encodingLength(nt))),it||(it=0);const jt=it;return ie.encode(nt.nextDomain,$e,it+=2),Lt.encode(nt.rrtypes,$e,it+=ie.encode.bytes),en.encode.bytes=(it+=Lt.encode.bytes)-jt,ke($e,en.encode.bytes-2,jt),$e},decode(nt,$e){$e||($e=0);const it=$e,jt={},dn=ce(nt,$e);return jt.nextDomain=ie.decode(nt,$e+=2),jt.rrtypes=Lt.decode(nt,$e+=ie.decode.bytes,dn-($e-it)),en.decode.bytes=($e+=Lt.decode.bytes)-it,jt},encodingLength:nt=>2+ie.encodingLength(nt.nextDomain)+Lt.encodingLength(nt.rrtypes)}),Zt=ee({encode(nt,$e,it){$e||($e=new Uint8Array(Zt.encodingLength(nt))),it||(it=0);const jt=it,dn=nt.salt;if(!u(dn))throw new Error("salt must be a Buffer");const Rn=nt.nextDomain;if(!u(Rn))throw new Error("nextDomain must be a Buffer");return $e[it+=2]=nt.algorithm,$e[it+=1]=nt.flags,ke($e,nt.iterations,it+=1),$e[it+=2]=dn.length,Fe(dn,$e,it+=1,0,dn.length),$e[it+=dn.length]=Rn.length,Fe(Rn,$e,it+=1,0,Rn.length),Lt.encode(nt.rrtypes,$e,it+=Rn.length),Zt.encode.bytes=(it+=Lt.encode.bytes)-jt,ke($e,Zt.encode.bytes-2,jt),$e},decode(nt,$e){$e||($e=0);const it=$e,jt={},dn=ce(nt,$e);jt.algorithm=nt[$e+=2],jt.flags=nt[$e+=1],jt.iterations=ce(nt,$e+=1);const Rn=nt[$e+=2];jt.salt=nt.slice($e+=1,$e+Rn);const Kn=nt[$e+=Rn];return jt.nextDomain=nt.slice($e+=1,$e+Kn),jt.rrtypes=Lt.decode(nt,$e+=Kn,dn-($e-it)),Zt.decode.bytes=($e+=Lt.decode.bytes)-it,jt},encodingLength:nt=>8+nt.salt.length+nt.nextDomain.length+Lt.encodingLength(nt.rrtypes)}),Jn=ee({encode(nt,$e,it){$e||($e=new Uint8Array(Jn.encodingLength(nt))),it||(it=0);const jt=it,dn=nt.digest;if(!u(dn))throw new Error("Digest must be a Buffer");return ke($e,nt.keyTag,it+=2),$e[it+=2]=nt.algorithm,$e[it+=1]=nt.digestType,Fe(dn,$e,it+=1,0,dn.length),Jn.encode.bytes=(it+=dn.length)-jt,ke($e,Jn.encode.bytes-2,jt),$e},decode(nt,$e){$e||($e=0);const it=$e,jt={},dn=ce(nt,$e);return jt.keyTag=ce(nt,$e+=2),jt.algorithm=nt[$e+=2],jt.digestType=nt[$e+=1],jt.digest=nt.slice($e+=1,it+dn+2),Jn.decode.bytes=($e+=jt.digest.length)-it,jt},encodingLength:nt=>6+h(nt.digest)}),yn=ee({encode(nt,$e,it){$e||($e=new Uint8Array(yn.encodingLength(nt))),it||(it=0);const jt=it;$e[it+=2]=nt.algorithm,$e[it+=1]=nt.hash,it+=1;const dn=A(nt.fingerprint),Rn=Vt(nt.hash);if(dn!==Rn)throw new Error(`Invalid length of fingerprint "${nt.fingerprint}" for hashType=${nt.hash}: ${dn} != ${Rn}`);return function l(nt,$e,it,jt){let dn=0;for(;it<jt;){const Rn=$e.substr(dn,2),Kn=T[Rn];if(void 0===Kn)return;nt[it++]=Kn,dn+=2}}($e,nt.fingerprint,it,it+=dn),yn.encode.bytes=it-jt,ke($e,yn.encode.bytes-2,jt),$e},decode(nt,$e){$e||($e=0);const it=$e,jt={};jt.algorithm=nt[$e+=2],jt.hash=nt[$e+=1],$e+=1;const dn=Vt(jt.hash);return jt.fingerprint=function j(nt,$e,it){let jt="";for(let dn=$e;dn<it;){const Rn=nt[dn++];jt+=D[Rn]}return jt}(nt,$e,$e+dn),yn.decode.bytes=($e+=dn)-it,jt},encodingLength:nt=>4+A(nt.fingerprint)});function Vt(nt){if(1===nt)return 20;if(2===nt)return 32;throw new Error(`Invalid hashType=${nt}, supported=1,2`)}function $t(nt){switch(nt.toUpperCase()){case"A":return O;case"PTR":case"CNAME":case"DNAME":return ot;case"TXT":return yt;case"NULL":return Ke;case"AAAA":return q;case"SRV":return U;case"HINFO":return Re;case"CAA":return _;case"NS":return Ne;case"SOA":return Be;case"MX":return p;case"OPT":return qe;case"DNSKEY":return At;case"RRSIG":return ut;case"RP":return bt;case"NSEC":return en;case"NSEC3":return Zt;case"SSHFP":return yn;case"DS":return Jn}return Ie}yn.getFingerprintLengthForHashType=Vt;const mt=ee({encode(nt,$e,it){$e||($e=new Uint8Array(mt.encodingLength(nt))),it||(it=0);const jt=it;if(ie.encode(nt.name,$e,it),it+=ie.encode.bytes,ke($e,V(nt.type),it),"OPT"===nt.type.toUpperCase()){if("."!==nt.name)throw new Error("OPT name must be root.");ke($e,nt.udpPayloadSize||4096,it+2),$e[it+4]=nt.extendedRcode||0,$e[it+5]=nt.ednsVersion||0,ke($e,nt.flags||0,it+6),qe.encode(nt.options||[],$e,it+=8),it+=qe.encode.bytes}else{let dn=oe(void 0===nt.class?"IN":nt.class);nt.flush&&(dn|=32768),ke($e,dn,it+2),Ae($e,nt.ttl||0,it+4),it+=8;const Rn=$t(nt.type);Rn.encode(nt.data,$e,it),it+=Rn.encode.bytes}return mt.encode.bytes=it-jt,$e},decode(nt,$e){$e||($e=0);const it={},jt=$e;if(it.name=ie.decode(nt,$e),it.type=X(ce(nt,$e+=ie.decode.bytes)),"OPT"===it.type)it.udpPayloadSize=ce(nt,$e+2),it.extendedRcode=nt[$e+4],it.ednsVersion=nt[$e+5],it.flags=ce(nt,$e+6),it.flag_do=1==(it.flags>>15&1),it.options=qe.decode(nt,$e+8),$e+=8+qe.decode.bytes;else{const dn=ce(nt,$e+2);it.ttl=ne(nt,$e+4),it.class=J(-32769&dn),it.flush=!!(32768&dn);const Rn=$t(it.type);it.data=Rn.decode(nt,$e+8),$e+=8+Rn.decode.bytes}return mt.decode.bytes=$e-jt,it},encodingLength(nt){const $e=null!=nt.data?nt.data:nt.options;return ie.encodingLength(nt.name)+8+$t(nt.type).encodingLength($e)}}),st=ee({encode(nt,$e,it){$e||($e=new Uint8Array(st.encodingLength(nt))),it||(it=0);const jt=it;return ie.encode(nt.name,$e,it),it+=ie.encode.bytes,ke($e,V(nt.type),it),it+=2,ke($e,oe(void 0===nt.class?"IN":nt.class),it),st.encode.bytes=(it+=2)-jt,nt},decode(nt,$e){$e||($e=0);const it=$e,jt={};return jt.name=ie.decode(nt,$e),jt.type=X(ce(nt,$e+=ie.decode.bytes)),jt.class=J(ce(nt,$e+=2)),$e+=2,!!(32768&jt.class)&&(jt.class&=-32769),st.decode.bytes=$e-it,jt},encodingLength:nt=>ie.encodingLength(nt.name)+4}),Nt=1024,He={encode:function(nt,$e,it){const jt=!$e;jt&&($e=new Uint8Array(cn(nt))),it||(it=0);const dn=it;return nt.questions||(nt.questions=[]),nt.answers||(nt.answers=[]),nt.authorities||(nt.authorities=[]),nt.additionals||(nt.additionals=[]),be.encode(nt,$e,it),it=An(nt.questions,st,$e,it+=be.encode.bytes),it=An(nt.answers,mt,$e,it),it=An(nt.authorities,mt,$e,it),it=An(nt.additionals,mt,$e,it),He.encode.bytes=it-dn,jt&&Yt.bytes!==$e.length?$e.slice(0,Yt.bytes):$e},decode:function(nt,$e){$e||($e=0);const it=$e,jt=be.decode(nt,$e);return $e=On(jt.questions,st,nt,$e+=be.decode.bytes),$e=On(jt.answers,mt,nt,$e),$e=On(jt.authorities,mt,nt,$e),$e=On(jt.additionals,mt,nt,$e),He.decode.bytes=$e-it,jt},encodingLength:function(nt){return be.encodingLength(nt)+Un(nt.questions||[],st)+Un(nt.answers||[],mt)+Un(nt.authorities||[],mt)+Un(nt.additionals||[],mt)}};function Je(nt,$e){if(nt.questions)throw new Error("Only one .question object expected instead of a .questions array!");const it=Object.assign({type:$e},nt);return it.question&&(it.questions=[it.question],delete it.question),it}He.encode.bytes=0,He.decode.bytes=0;const Bt={encode:function(nt,$e,it){return $e=He.encode(Je(nt,"query"),$e,it),Bt.encode.bytes=He.encode.bytes,$e},decode:function(nt,$e){const it=He.decode(nt,$e);return Bt.decode.bytes=He.decode.bytes,it.questions&&(it.question=it.questions[0],delete it.questions),it},encodingLength:function(nt){return He.encodingLength(Je(nt,"query"))}};Bt.encode.bytes=0,Bt.decode.bytes=0;const Tt={encode:function(nt,$e,it){return $e=He.encode(Je(nt,"response"),$e,it),Tt.encode.bytes=He.encode.bytes,$e},decode:function(nt,$e){const it=He.decode(nt,$e);return Tt.decode.bytes=He.decode.bytes,it.questions&&(it.question=it.questions[0],delete it.questions),it},encodingLength:function(nt){return He.encodingLength(Je(nt,"response"))}};Tt.encode.bytes=0,Tt.decode.bytes=0;const Yt=He.encode,Pn=He.decode,cn=He.encodingLength;function Un(nt,$e){let it=0;for(let jt=0;jt<nt.length;jt++)it+=$e.encodingLength(nt[jt]);return it}function An(nt,$e,it,jt){for(let dn=0;dn<nt.length;dn++)$e.encode(nt[dn],it,jt),jt+=$e.encode.bytes;return jt}function On(nt,$e,it,jt){for(let dn=0;dn<nt.length;dn++)nt[dn]=$e.decode(it,jt),jt+=$e.decode.bytes;return jt}},34931:(Le,z,E)=>{"use strict";function m(F){if(!Number.isSafeInteger(F)||F<0)throw new Error(`wrong positive integer: ${F}`)}function x(F){if("boolean"!=typeof F)throw new Error(`boolean expected, not ${F}`)}function W(F,...I){if(!function R(F){return null!=F&&"object"==typeof F&&(F instanceof Uint8Array||"Uint8Array"===F.constructor.name)}(F))throw new Error("Uint8Array expected");if(I.length>0&&!I.includes(F.length))throw new Error(`Uint8Array expected of length ${I}, not of length=${F.length}`)}function L(F,I=!0){if(F.destroyed)throw new Error("Hash instance has been destroyed");if(I&&F.finished)throw new Error("Hash#digest() has already been called")}function M(F,I){W(F);const X=I.outputLen;if(F.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}E.d(z,{CG:()=>M,ai:()=>m,ee:()=>W,lc:()=>x,t2:()=>L})},94730:(Le,z,E)=>{"use strict";var m=E(25953),x=E(34931);const R=(D,j)=>255&D[j++]|(255&D[j++])<<8;class W{constructor(j){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,j=(0,m.ZJ)(j),(0,m.qj)(j,32);const A=R(j,0),l=R(j,2),g=R(j,4),G=R(j,6),H=R(j,8),ne=R(j,10),ce=R(j,12),Ae=R(j,14);this.r[0]=8191&A,this.r[1]=8191&(A>>>13|l<<3),this.r[2]=7939&(l>>>10|g<<6),this.r[3]=8191&(g>>>7|G<<9),this.r[4]=255&(G>>>4|H<<12),this.r[5]=H>>>1&8190,this.r[6]=8191&(H>>>14|ne<<2),this.r[7]=8065&(ne>>>11|ce<<5),this.r[8]=8191&(ce>>>8|Ae<<8),this.r[9]=Ae>>>5&127;for(let ke=0;ke<8;ke++)this.pad[ke]=R(j,16+2*ke)}process(j,A,l=!1){const g=l?0:2048,{h:G,r:H}=this,ne=H[0],ce=H[1],Ae=H[2],ke=H[3],Fe=H[4],Ee=H[5],ge=H[6],Oe=H[7],ye=H[8],Se=H[9],he=R(j,A+0),fe=R(j,A+2),ee=R(j,A+4),ie=R(j,A+6),ue=R(j,A+8),be=R(j,A+10),Ie=R(j,A+12),Ne=R(j,A+14);let Be=G[0]+(8191&he),yt=G[1]+(8191&(he>>>13|fe<<3)),Ke=G[2]+(8191&(fe>>>10|ee<<6)),Re=G[3]+(8191&(ee>>>7|ie<<9)),ot=G[4]+(8191&(ie>>>4|ue<<12)),U=G[5]+(ue>>>1&8191),_=G[6]+(8191&(ue>>>14|be<<2)),p=G[7]+(8191&(be>>>11|Ie<<5)),O=G[8]+(8191&(Ie>>>8|Ne<<8)),q=G[9]+(Ne>>>5|g),me=0,xe=me+Be*ne+yt*(5*Se)+Ke*(5*ye)+Re*(5*Oe)+ot*(5*ge);me=xe>>>13,xe&=8191,xe+=U*(5*Ee)+_*(5*Fe)+p*(5*ke)+O*(5*Ae)+q*(5*ce),me+=xe>>>13,xe&=8191;let qe=me+Be*ce+yt*ne+Ke*(5*Se)+Re*(5*ye)+ot*(5*Oe);me=qe>>>13,qe&=8191,qe+=U*(5*ge)+_*(5*Ee)+p*(5*Fe)+O*(5*ke)+q*(5*Ae),me+=qe>>>13,qe&=8191;let At=me+Be*Ae+yt*ce+Ke*ne+Re*(5*Se)+ot*(5*ye);me=At>>>13,At&=8191,At+=U*(5*Oe)+_*(5*ge)+p*(5*Ee)+O*(5*Fe)+q*(5*ke),me+=At>>>13,At&=8191;let ut=me+Be*ke+yt*Ae+Ke*ce+Re*ne+ot*(5*Se);me=ut>>>13,ut&=8191,ut+=U*(5*ye)+_*(5*Oe)+p*(5*ge)+O*(5*Ee)+q*(5*Fe),me+=ut>>>13,ut&=8191;let bt=me+Be*Fe+yt*ke+Ke*Ae+Re*ce+ot*ne;me=bt>>>13,bt&=8191,bt+=U*(5*Se)+_*(5*ye)+p*(5*Oe)+O*(5*ge)+q*(5*Ee),me+=bt>>>13,bt&=8191;let Lt=me+Be*Ee+yt*Fe+Ke*ke+Re*Ae+ot*ce;me=Lt>>>13,Lt&=8191,Lt+=U*ne+_*(5*Se)+p*(5*ye)+O*(5*Oe)+q*(5*ge),me+=Lt>>>13,Lt&=8191;let en=me+Be*ge+yt*Ee+Ke*Fe+Re*ke+ot*Ae;me=en>>>13,en&=8191,en+=U*ce+_*ne+p*(5*Se)+O*(5*ye)+q*(5*Oe),me+=en>>>13,en&=8191;let Zt=me+Be*Oe+yt*ge+Ke*Ee+Re*Fe+ot*ke;me=Zt>>>13,Zt&=8191,Zt+=U*Ae+_*ce+p*ne+O*(5*Se)+q*(5*ye),me+=Zt>>>13,Zt&=8191;let Jn=me+Be*ye+yt*Oe+Ke*ge+Re*Ee+ot*Fe;me=Jn>>>13,Jn&=8191,Jn+=U*ke+_*Ae+p*ce+O*ne+q*(5*Se),me+=Jn>>>13,Jn&=8191;let yn=me+Be*Se+yt*ye+Ke*Oe+Re*ge+ot*Ee;me=yn>>>13,yn&=8191,yn+=U*Fe+_*ke+p*Ae+O*ce+q*ne,me+=yn>>>13,yn&=8191,me=(me<<2)+me|0,me=me+xe|0,xe=8191&me,me>>>=13,qe+=me,G[0]=xe,G[1]=qe,G[2]=At,G[3]=ut,G[4]=bt,G[5]=Lt,G[6]=en,G[7]=Zt,G[8]=Jn,G[9]=yn}finalize(){const{h:j,pad:A}=this,l=new Uint16Array(10);let g=j[1]>>>13;j[1]&=8191;for(let ne=2;ne<10;ne++)j[ne]+=g,g=j[ne]>>>13,j[ne]&=8191;j[0]+=5*g,g=j[0]>>>13,j[0]&=8191,j[1]+=g,g=j[1]>>>13,j[1]&=8191,j[2]+=g,l[0]=j[0]+5,g=l[0]>>>13,l[0]&=8191;for(let ne=1;ne<10;ne++)l[ne]=j[ne]+g,g=l[ne]>>>13,l[ne]&=8191;l[9]-=8192;let G=(1^g)-1;for(let ne=0;ne<10;ne++)l[ne]&=G;G=~G;for(let ne=0;ne<10;ne++)j[ne]=j[ne]&G|l[ne];j[0]=65535&(j[0]|j[1]<<13),j[1]=65535&(j[1]>>>3|j[2]<<10),j[2]=65535&(j[2]>>>6|j[3]<<7),j[3]=65535&(j[3]>>>9|j[4]<<4),j[4]=65535&(j[4]>>>12|j[5]<<1|j[6]<<14),j[5]=65535&(j[6]>>>2|j[7]<<11),j[6]=65535&(j[7]>>>5|j[8]<<8),j[7]=65535&(j[8]>>>8|j[9]<<5);let H=j[0]+A[0];j[0]=65535&H;for(let ne=1;ne<8;ne++)H=(j[ne]+A[ne]|0)+(H>>>16)|0,j[ne]=65535&H}update(j){(0,x.t2)(this);const{buffer:A,blockLen:l}=this,g=(j=(0,m.ZJ)(j)).length;for(let G=0;G<g;){const H=Math.min(l-this.pos,g-G);if(H!==l)A.set(j.subarray(G,G+H),this.pos),this.pos+=H,G+=H,this.pos===l&&(this.process(A,0,!1),this.pos=0);else for(;l<=g-G;G+=l)this.process(j,G)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(j){(0,x.t2)(this),(0,x.CG)(j,this),this.finished=!0;const{buffer:A,h:l}=this;let{pos:g}=this;if(g){for(A[g++]=1;g<16;g++)A[g]=0;this.process(A,0,!0)}this.finalize();let G=0;for(let H=0;H<8;H++)j[G++]=l[H]>>>0,j[G++]=l[H]>>>8;return j}digest(){const{buffer:j,outputLen:A}=this;this.digestInto(j);const l=j.slice(0,A);return this.destroy(),l}}const L=function S(D){const j=(l,g)=>D(g).update((0,m.ZJ)(l)).digest(),A=D(new Uint8Array(32));return j.outputLen=A.outputLen,j.blockLen=A.blockLen,j.create=l=>D(l),j}(D=>new W(D)),M=(0,m.AI)("expand 16-byte k"),N=(0,m.AI)("expand 32-byte k"),$=(0,m.DH)(M),F=(0,m.DH)(N);function I(D,j){return D<<j|D>>>32-j}function X(D){return D.byteOffset%4==0}const re=2**32-1,te=new Uint32Array;function J(D,j){const{allowShortKeys:A,extendNonceFn:l,counterLength:g,counterRight:G,rounds:H}=(0,m.tY)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},j);if("function"!=typeof D)throw new Error("core must be a function");return(0,x.ai)(g),(0,x.ai)(H),(0,x.lc)(G),(0,x.lc)(A),(ne,ce,Ae,ke,Fe=0)=>{(0,x.ee)(ne),(0,x.ee)(ce),(0,x.ee)(Ae);const Ee=Ae.length;if(ke||(ke=new Uint8Array(Ee)),(0,x.ee)(ke),(0,x.ai)(Fe),Fe<0||Fe>=re)throw new Error("arx: counter overflow");if(ke.length<Ee)throw new Error(`arx: output (${ke.length}) is shorter than data (${Ee})`);const ge=[];let ye,Se,Oe=ne.length;if(32===Oe)ye=ne.slice(),ge.push(ye),Se=F;else{if(16!==Oe||!A)throw new Error(`arx: invalid 32-byte key, got length=${Oe}`);ye=new Uint8Array(32),ye.set(ne),ye.set(ne,16),Se=$,ge.push(ye)}X(ce)||(ce=ce.slice(),ge.push(ce));const he=(0,m.DH)(ye);if(l){if(24!==ce.length)throw new Error("arx: extended nonce must be 24 bytes");l(Se,he,(0,m.DH)(ce.subarray(0,16)),he),ce=ce.subarray(16)}const fe=16-g;if(fe!==ce.length)throw new Error(`arx: nonce must be ${fe} or 16 bytes`);if(12!==fe){const ie=new Uint8Array(12);ie.set(ce,G?0:12-ce.length),ge.push(ce=ie)}const ee=(0,m.DH)(ce);for(function Q(D,j,A,l,g,G,H,ne){const ce=g.length,Ae=new Uint8Array(64),ke=(0,m.DH)(Ae),Fe=X(g)&&X(G),Ee=Fe?(0,m.DH)(g):te,ge=Fe?(0,m.DH)(G):te;for(let Oe=0;Oe<ce;H++){if(D(j,A,l,ke,H,ne),H>=re)throw new Error("arx: counter overflow");const ye=Math.min(64,ce-Oe);if(Fe&&64===ye){const Se=Oe/4;if(Oe%4!=0)throw new Error("arx: invalid block position");for(let fe,he=0;he<16;he++)fe=Se+he,ge[fe]=Ee[fe]^ke[he];Oe+=64}else{for(let he,Se=0;Se<ye;Se++)he=Oe+Se,G[he]=g[he]^Ae[Se];Oe+=ye}}}(D,Se,he,ee,Ae,ke,Fe,H);ge.length>0;)ge.pop().fill(0);return ke}}function oe(D,j,A,l,g,G=20){let H=D[0],ne=D[1],ce=D[2],Ae=D[3],ke=j[0],Fe=j[1],Ee=j[2],ge=j[3],Oe=j[4],ye=j[5],Se=j[6],he=j[7],fe=g,ee=A[0],ie=A[1],ue=A[2],be=H,Ie=ne,Ne=ce,Be=Ae,yt=ke,Ke=Fe,Re=Ee,ot=ge,U=Oe,_=ye,p=Se,O=he,q=fe,me=ee,xe=ie,qe=ue;for(let ut=0;ut<G;ut+=2)be=be+yt|0,q=I(q^be,16),U=U+q|0,yt=I(yt^U,12),be=be+yt|0,q=I(q^be,8),U=U+q|0,yt=I(yt^U,7),Ie=Ie+Ke|0,me=I(me^Ie,16),_=_+me|0,Ke=I(Ke^_,12),Ie=Ie+Ke|0,me=I(me^Ie,8),_=_+me|0,Ke=I(Ke^_,7),Ne=Ne+Re|0,xe=I(xe^Ne,16),p=p+xe|0,Re=I(Re^p,12),Ne=Ne+Re|0,xe=I(xe^Ne,8),p=p+xe|0,Re=I(Re^p,7),Be=Be+ot|0,qe=I(qe^Be,16),O=O+qe|0,ot=I(ot^O,12),Be=Be+ot|0,qe=I(qe^Be,8),O=O+qe|0,ot=I(ot^O,7),be=be+Ke|0,qe=I(qe^be,16),p=p+qe|0,Ke=I(Ke^p,12),be=be+Ke|0,qe=I(qe^be,8),p=p+qe|0,Ke=I(Ke^p,7),Ie=Ie+Re|0,q=I(q^Ie,16),O=O+q|0,Re=I(Re^O,12),Ie=Ie+Re|0,q=I(q^Ie,8),O=O+q|0,Re=I(Re^O,7),Ne=Ne+ot|0,me=I(me^Ne,16),U=U+me|0,ot=I(ot^U,12),Ne=Ne+ot|0,me=I(me^Ne,8),U=U+me|0,ot=I(ot^U,7),Be=Be+yt|0,xe=I(xe^Be,16),_=_+xe|0,yt=I(yt^_,12),Be=Be+yt|0,xe=I(xe^Be,8),_=_+xe|0,yt=I(yt^_,7);let At=0;l[At++]=H+be|0,l[At++]=ne+Ie|0,l[At++]=ce+Ne|0,l[At++]=Ae+Be|0,l[At++]=ke+yt|0,l[At++]=Fe+Ke|0,l[At++]=Ee+Re|0,l[At++]=ge+ot|0,l[At++]=Oe+U|0,l[At++]=ye+_|0,l[At++]=Se+p|0,l[At++]=he+O|0,l[At++]=fe+q|0,l[At++]=ee+me|0,l[At++]=ie+xe|0,l[At++]=ue+qe|0}const pe=J(oe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),le=J(oe,{counterRight:!1,counterLength:8,extendNonceFn:function se(D,j,A,l){let g=D[0],G=D[1],H=D[2],ne=D[3],ce=j[0],Ae=j[1],ke=j[2],Fe=j[3],Ee=j[4],ge=j[5],Oe=j[6],ye=j[7],Se=A[0],he=A[1],fe=A[2],ee=A[3];for(let ue=0;ue<20;ue+=2)g=g+ce|0,Se=I(Se^g,16),Ee=Ee+Se|0,ce=I(ce^Ee,12),g=g+ce|0,Se=I(Se^g,8),Ee=Ee+Se|0,ce=I(ce^Ee,7),G=G+Ae|0,he=I(he^G,16),ge=ge+he|0,Ae=I(Ae^ge,12),G=G+Ae|0,he=I(he^G,8),ge=ge+he|0,Ae=I(Ae^ge,7),H=H+ke|0,fe=I(fe^H,16),Oe=Oe+fe|0,ke=I(ke^Oe,12),H=H+ke|0,fe=I(fe^H,8),Oe=Oe+fe|0,ke=I(ke^Oe,7),ne=ne+Fe|0,ee=I(ee^ne,16),ye=ye+ee|0,Fe=I(Fe^ye,12),ne=ne+Fe|0,ee=I(ee^ne,8),ye=ye+ee|0,Fe=I(Fe^ye,7),g=g+Ae|0,ee=I(ee^g,16),Oe=Oe+ee|0,Ae=I(Ae^Oe,12),g=g+Ae|0,ee=I(ee^g,8),Oe=Oe+ee|0,Ae=I(Ae^Oe,7),G=G+ke|0,Se=I(Se^G,16),ye=ye+Se|0,ke=I(ke^ye,12),G=G+ke|0,Se=I(Se^G,8),ye=ye+Se|0,ke=I(ke^ye,7),H=H+Fe|0,he=I(he^H,16),Ee=Ee+he|0,Fe=I(Fe^Ee,12),H=H+Fe|0,he=I(he^H,8),Ee=Ee+he|0,Fe=I(Fe^Ee,7),ne=ne+ce|0,fe=I(fe^ne,16),ge=ge+fe|0,ce=I(ce^ge,12),ne=ne+ce|0,fe=I(fe^ne,8),ge=ge+fe|0,ce=I(ce^ge,7);let ie=0;l[ie++]=g,l[ie++]=G,l[ie++]=H,l[ie++]=ne,l[ie++]=Se,l[ie++]=he,l[ie++]=fe,l[ie++]=ee},allowShortKeys:!1}),De=new Uint8Array(16),k=(D,j)=>{D.update(j);const A=j.length%16;A&&D.update(De.subarray(A))},u=new Uint8Array(32);function h(D,j,A,l,g){const G=D(j,A,u),H=L.create(G);g&&k(H,g),k(H,l);const ne=new Uint8Array(16),ce=(0,m.O8)(ne);(0,m.zp)(ce,0,BigInt(g?g.length:0),!0),(0,m.zp)(ce,8,BigInt(l.length),!0),H.update(ne);const Ae=H.digest();return G.fill(0),Ae}const y=D=>(j,A,l)=>((0,m.qj)(j,32),(0,m.qj)(A),{encrypt:(G,H)=>{const ne=G.length,ce=ne+16;H?(0,m.qj)(H,ce):H=new Uint8Array(ce),D(j,A,G,H,1);const Ae=h(D,j,A,H.subarray(0,-16),l);return H.set(Ae,ne),H},decrypt:(G,H)=>{const ne=G.length,ce=ne-16;if(ne<16)throw new Error("encrypted data must be at least 16 bytes");H?(0,m.qj)(H,ce):H=new Uint8Array(ce);const Ae=G.subarray(0,-16),ke=G.subarray(-16),Fe=h(D,j,A,Ae,l);if(!(0,m.ex)(ke,Fe))throw new Error("invalid tag");return D(j,A,Ae,H,1),H}});y(pe),y(le)},25953:(Le,z,E)=>{"use strict";E.d(z,{AI:()=>J,DH:()=>R,O8:()=>S,ZJ:()=>se,ex:()=>we,qj:()=>ve,qn:()=>k,tY:()=>le,zp:()=>u});const R=y=>new Uint32Array(y.buffer,y.byteOffset,Math.floor(y.byteLength/4));function W(y){return y instanceof Uint8Array||null!=y&&"object"==typeof y&&"Uint8Array"===y.constructor.name}const S=y=>new DataView(y.buffer,y.byteOffset,y.byteLength);if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function J(y){if("string"!=typeof y)throw new Error("utf8ToBytes expected string, got "+typeof y);return new Uint8Array((new TextEncoder).encode(y))}function se(y){if("string"==typeof y)y=J(y);else{if(!W(y))throw new Error("expected Uint8Array, got "+typeof y);y=y.slice()}return y}const pe=y=>"[object Object]"===Object.prototype.toString.call(y)&&y.constructor===Object;function le(y,w){if(void 0!==w&&("object"!=typeof w||!pe(w)))throw new Error("options must be object or undefined");return Object.assign(y,w)}function ve(y,w){if(!W(y))throw new Error("Uint8Array expected");if("number"==typeof w&&y.length!==w)throw new Error(`Uint8Array length ${w} expected`)}function we(y,w){if(y.length!==w.length)return!1;let T=0;for(let D=0;D<y.length;D++)T|=y[D]^w[D];return 0===T}const k=(y,w)=>(Object.assign(w,y),w);function u(y,w,T,D){if("function"==typeof y.setBigUint64)return y.setBigUint64(w,T,D);const j=BigInt(32),A=BigInt(4294967295),l=Number(T>>j&A),g=Number(T&A),H=D?0:4;y.setUint32(w+(D?4:0),l,D),y.setUint32(w+H,g,D)}},91879:(Le,z,E)=>{"use strict";E.d(z,{NZ:()=>S});const m="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function S(){if(m&&"object"==typeof m.subtle&&null!=m.subtle)return m.subtle;throw new Error("crypto.subtle must be defined")}E(25953),E(34931)},2716:(Le,z,E)=>{"use strict";E.d(z,{s:()=>ae});var m=E(75781),x=E(62953),R=E(35765),W=E(91006),S=E(7184);const{Ph:M,aT:N}=W,$={Err:class extends Error{constructor(le=""){super(le)}},_parseInt(pe){const{Err:le}=$;if(pe.length<2||2!==pe[0])throw new le("Invalid signature integer tag");const ve=pe[1],we=pe.subarray(2,ve+2);if(!ve||we.length!==ve)throw new le("Invalid signature integer: wrong length");if(128&we[0])throw new le("Invalid signature integer: negative");if(0===we[0]&&!(128&we[1]))throw new le("Invalid signature integer: unnecessary leading zero");return{d:M(we),l:pe.subarray(ve+2)}},toSig(pe){const{Err:le}=$,ve="string"==typeof pe?N(pe):pe;if(!W.aY(ve))throw new Error("ui8a expected");let we=ve.length;if(we<2||48!=ve[0])throw new le("Invalid signature tag");if(ve[1]!==we-2)throw new le("Invalid signature: incorrect length");const{d:De,l:k}=$._parseInt(ve.subarray(2)),{d:u,l:h}=$._parseInt(k);if(h.length)throw new le("Invalid signature: left bytes after parsing");return{r:De,s:u}},hexFromSig(pe){const le=w=>8&Number.parseInt(w[0],16)?"00"+w:w,ve=w=>{const T=w.toString(16);return 1&T.length?`0${T}`:T},we=le(ve(pe.s)),De=le(ve(pe.r)),k=we.length/2,u=De.length/2,h=ve(k),y=ve(u);return`30${ve(u+k+4)}02${y}${De}02${h}${we}`}},F=BigInt(0),I=BigInt(1),V=(BigInt(2),BigInt(3));function Q(pe){const le=function te(pe){const le=(0,S.h)(pe);return W.Q5(le,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...le})}(pe),{Fp:ve,n:we}=le,De=ve.BYTES+1,k=2*ve.BYTES+1;function h(ie){return R.zi(ie,we)}function y(ie){return R.B8(ie,we)}const{ProjectivePoint:w,normPrivateKeyToScalar:T,weierstrassEquation:D,isWithinCurveOrder:j}=function re(pe){const le=function L(pe){const le=(0,S.h)(pe);W.Q5(le,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:ve,Fp:we,a:De}=le;if(ve){if(!we.eql(De,we.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof ve||"bigint"!=typeof ve.beta||"function"!=typeof ve.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...le})}(pe),{Fp:ve}=le,we=le.toBytes||((l,g,G)=>{const H=g.toAffine();return W.Id(Uint8Array.from([4]),ve.toBytes(H.x),ve.toBytes(H.y))}),De=le.fromBytes||(l=>{const g=l.subarray(1);return{x:ve.fromBytes(g.subarray(0,ve.BYTES)),y:ve.fromBytes(g.subarray(ve.BYTES,2*ve.BYTES))}});function k(l){const{a:g,b:G}=le,H=ve.sqr(l),ne=ve.mul(H,l);return ve.add(ve.add(ne,ve.mul(l,g)),G)}if(!ve.eql(ve.sqr(le.Gy),k(le.Gx)))throw new Error("bad generator point: equation left != right");function u(l){return"bigint"==typeof l&&F<l&&l<le.n}function h(l){if(!u(l))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function y(l){const{allowedPrivateKeyLengths:g,nByteLength:G,wrapPrivateKey:H,n:ne}=le;if(g&&"bigint"!=typeof l){if(W.aY(l)&&(l=W.My(l)),"string"!=typeof l||!g.includes(l.length))throw new Error("Invalid key");l=l.padStart(2*G,"0")}let ce;try{ce="bigint"==typeof l?l:W.Ph((0,W.qj)("private key",l,G))}catch{throw new Error(`private key must be ${G} bytes, hex or bigint, not ${typeof l}`)}return H&&(ce=R.zi(ce,ne)),h(ce),ce}const w=new Map;function T(l){if(!(l instanceof D))throw new Error("ProjectivePoint expected")}class D{constructor(g,G,H){if(this.px=g,this.py=G,this.pz=H,null==g||!ve.isValid(g))throw new Error("x required");if(null==G||!ve.isValid(G))throw new Error("y required");if(null==H||!ve.isValid(H))throw new Error("z required")}static fromAffine(g){const{x:G,y:H}=g||{};if(!g||!ve.isValid(G)||!ve.isValid(H))throw new Error("invalid affine point");if(g instanceof D)throw new Error("projective point not allowed");const ne=ce=>ve.eql(ce,ve.ZERO);return ne(G)&&ne(H)?D.ZERO:new D(G,H,ve.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const G=ve.invertBatch(g.map(H=>H.pz));return g.map((H,ne)=>H.toAffine(G[ne])).map(D.fromAffine)}static fromHex(g){const G=D.fromAffine(De((0,W.qj)("pointHex",g)));return G.assertValidity(),G}static fromPrivateKey(g){return D.BASE.multiply(y(g))}_setWindowSize(g){this._WINDOW_SIZE=g,w.delete(this)}assertValidity(){if(this.is0()){if(le.allowInfinityPoint&&!ve.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:G}=this.toAffine();if(!ve.isValid(g)||!ve.isValid(G))throw new Error("bad point: x or y not FE");const H=ve.sqr(G),ne=k(g);if(!ve.eql(H,ne))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(ve.isOdd)return!ve.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){T(g);const{px:G,py:H,pz:ne}=this,{px:ce,py:Ae,pz:ke}=g,Fe=ve.eql(ve.mul(G,ke),ve.mul(ce,ne)),Ee=ve.eql(ve.mul(H,ke),ve.mul(Ae,ne));return Fe&&Ee}negate(){return new D(this.px,ve.neg(this.py),this.pz)}double(){const{a:g,b:G}=le,H=ve.mul(G,V),{px:ne,py:ce,pz:Ae}=this;let ke=ve.ZERO,Fe=ve.ZERO,Ee=ve.ZERO,ge=ve.mul(ne,ne),Oe=ve.mul(ce,ce),ye=ve.mul(Ae,Ae),Se=ve.mul(ne,ce);return Se=ve.add(Se,Se),Ee=ve.mul(ne,Ae),Ee=ve.add(Ee,Ee),ke=ve.mul(g,Ee),Fe=ve.mul(H,ye),Fe=ve.add(ke,Fe),ke=ve.sub(Oe,Fe),Fe=ve.add(Oe,Fe),Fe=ve.mul(ke,Fe),ke=ve.mul(Se,ke),Ee=ve.mul(H,Ee),ye=ve.mul(g,ye),Se=ve.sub(ge,ye),Se=ve.mul(g,Se),Se=ve.add(Se,Ee),Ee=ve.add(ge,ge),ge=ve.add(Ee,ge),ge=ve.add(ge,ye),ge=ve.mul(ge,Se),Fe=ve.add(Fe,ge),ye=ve.mul(ce,Ae),ye=ve.add(ye,ye),ge=ve.mul(ye,Se),ke=ve.sub(ke,ge),Ee=ve.mul(ye,Oe),Ee=ve.add(Ee,Ee),Ee=ve.add(Ee,Ee),new D(ke,Fe,Ee)}add(g){T(g);const{px:G,py:H,pz:ne}=this,{px:ce,py:Ae,pz:ke}=g;let Fe=ve.ZERO,Ee=ve.ZERO,ge=ve.ZERO;const Oe=le.a,ye=ve.mul(le.b,V);let Se=ve.mul(G,ce),he=ve.mul(H,Ae),fe=ve.mul(ne,ke),ee=ve.add(G,H),ie=ve.add(ce,Ae);ee=ve.mul(ee,ie),ie=ve.add(Se,he),ee=ve.sub(ee,ie),ie=ve.add(G,ne);let ue=ve.add(ce,ke);return ie=ve.mul(ie,ue),ue=ve.add(Se,fe),ie=ve.sub(ie,ue),ue=ve.add(H,ne),Fe=ve.add(Ae,ke),ue=ve.mul(ue,Fe),Fe=ve.add(he,fe),ue=ve.sub(ue,Fe),ge=ve.mul(Oe,ie),Fe=ve.mul(ye,fe),ge=ve.add(Fe,ge),Fe=ve.sub(he,ge),ge=ve.add(he,ge),Ee=ve.mul(Fe,ge),he=ve.add(Se,Se),he=ve.add(he,Se),fe=ve.mul(Oe,fe),ie=ve.mul(ye,ie),he=ve.add(he,fe),fe=ve.sub(Se,fe),fe=ve.mul(Oe,fe),ie=ve.add(ie,fe),Se=ve.mul(he,ie),Ee=ve.add(Ee,Se),Se=ve.mul(ue,ie),Fe=ve.mul(ee,Fe),Fe=ve.sub(Fe,Se),Se=ve.mul(ee,he),ge=ve.mul(ue,ge),ge=ve.add(ge,Se),new D(Fe,Ee,ge)}subtract(g){return this.add(g.negate())}is0(){return this.equals(D.ZERO)}wNAF(g){return A.wNAFCached(this,w,g,G=>{const H=ve.invertBatch(G.map(ne=>ne.pz));return G.map((ne,ce)=>ne.toAffine(H[ce])).map(D.fromAffine)})}multiplyUnsafe(g){const G=D.ZERO;if(g===F)return G;if(h(g),g===I)return this;const{endo:H}=le;if(!H)return A.unsafeLadder(this,g);let{k1neg:ne,k1:ce,k2neg:Ae,k2:ke}=H.splitScalar(g),Fe=G,Ee=G,ge=this;for(;ce>F||ke>F;)ce&I&&(Fe=Fe.add(ge)),ke&I&&(Ee=Ee.add(ge)),ge=ge.double(),ce>>=I,ke>>=I;return ne&&(Fe=Fe.negate()),Ae&&(Ee=Ee.negate()),Ee=new D(ve.mul(Ee.px,H.beta),Ee.py,Ee.pz),Fe.add(Ee)}multiply(g){h(g);let H,ne,G=g;const{endo:ce}=le;if(ce){const{k1neg:Ae,k1:ke,k2neg:Fe,k2:Ee}=ce.splitScalar(G);let{p:ge,f:Oe}=this.wNAF(ke),{p:ye,f:Se}=this.wNAF(Ee);ge=A.constTimeNegate(Ae,ge),ye=A.constTimeNegate(Fe,ye),ye=new D(ve.mul(ye.px,ce.beta),ye.py,ye.pz),H=ge.add(ye),ne=Oe.add(Se)}else{const{p:Ae,f:ke}=this.wNAF(G);H=Ae,ne=ke}return D.normalizeZ([H,ne])[0]}multiplyAndAddUnsafe(g,G,H){const ne=D.BASE,ce=(ke,Fe)=>Fe!==F&&Fe!==I&&ke.equals(ne)?ke.multiply(Fe):ke.multiplyUnsafe(Fe),Ae=ce(this,G).add(ce(g,H));return Ae.is0()?void 0:Ae}toAffine(g){const{px:G,py:H,pz:ne}=this,ce=this.is0();null==g&&(g=ce?ve.ONE:ve.inv(ne));const Ae=ve.mul(G,g),ke=ve.mul(H,g),Fe=ve.mul(ne,g);if(ce)return{x:ve.ZERO,y:ve.ZERO};if(!ve.eql(Fe,ve.ONE))throw new Error("invZ was invalid");return{x:Ae,y:ke}}isTorsionFree(){const{h:g,isTorsionFree:G}=le;if(g===I)return!0;if(G)return G(D,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:G}=le;return g===I?this:G?G(D,this):this.multiplyUnsafe(le.h)}toRawBytes(g=!0){return this.assertValidity(),we(D,this,g)}toHex(g=!0){return W.My(this.toRawBytes(g))}}D.BASE=new D(le.Gx,le.Gy,ve.ONE),D.ZERO=new D(ve.ZERO,ve.ONE,ve.ZERO);const j=le.nBitLength,A=(0,S.A)(D,le.endo?Math.ceil(j/2):j);return{CURVE:le,ProjectivePoint:D,normPrivateKeyToScalar:y,weierstrassEquation:k,isWithinCurveOrder:u}}({...le,toBytes(ie,ue,be){const Ie=ue.toAffine(),Ne=ve.toBytes(Ie.x),Be=W.Id;return be?Be(Uint8Array.from([ue.hasEvenY()?2:3]),Ne):Be(Uint8Array.from([4]),Ne,ve.toBytes(Ie.y))},fromBytes(ie){const ue=ie.length,be=ie[0],Ie=ie.subarray(1);if(ue!==De||2!==be&&3!==be){if(ue===k&&4===be)return{x:ve.fromBytes(Ie.subarray(0,ve.BYTES)),y:ve.fromBytes(Ie.subarray(ve.BYTES,2*ve.BYTES))};throw new Error(`Point of length ${ue} was invalid. Expected ${De} compressed bytes or ${k} uncompressed bytes`)}{const Ne=W.Ph(Ie);if(!function u(ie){return F<ie&&ie<ve.ORDER}(Ne))throw new Error("Point is not on curve");const Be=D(Ne);let yt=ve.sqrt(Be);return!(1&~be)!=((yt&I)===I)&&(yt=ve.neg(yt)),{x:Ne,y:yt}}}}),A=ie=>W.My(W.lq(ie,le.nByteLength));function l(ie){return ie>we>>I}const G=(ie,ue,be)=>W.Ph(ie.slice(ue,be));class H{constructor(ue,be,Ie){this.r=ue,this.s=be,this.recovery=Ie,this.assertValidity()}static fromCompact(ue){const be=le.nByteLength;return ue=(0,W.qj)("compactSignature",ue,2*be),new H(G(ue,0,be),G(ue,be,2*be))}static fromDER(ue){const{r:be,s:Ie}=$.toSig((0,W.qj)("DER",ue));return new H(be,Ie)}assertValidity(){if(!j(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!j(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(ue){return new H(this.r,this.s,ue)}recoverPublicKey(ue){const{r:be,s:Ie,recovery:Ne}=this,Be=Ee((0,W.qj)("msgHash",ue));if(null==Ne||![0,1,2,3].includes(Ne))throw new Error("recovery id invalid");const yt=2===Ne||3===Ne?be+le.n:be;if(yt>=ve.ORDER)throw new Error("recovery id 2 or 3 invalid");const Re=w.fromHex((1&Ne?"03":"02")+A(yt)),ot=y(yt),U=h(-Be*ot),_=h(Ie*ot),p=w.BASE.multiplyAndAddUnsafe(Re,U,_);if(!p)throw new Error("point at infinify");return p.assertValidity(),p}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new H(this.r,h(-this.s),this.recovery):this}toDERRawBytes(){return W.aT(this.toDERHex())}toDERHex(){return $.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return W.aT(this.toCompactHex())}toCompactHex(){return A(this.r)+A(this.s)}}const ne={isValidPrivateKey(ie){try{return T(ie),!0}catch{return!1}},normPrivateKeyToScalar:T,randomPrivateKey:()=>{const ie=R.Tp(le.n);return R.qy(le.randomBytes(ie),le.n)},precompute:(ie=8,ue=w.BASE)=>(ue._setWindowSize(ie),ue.multiply(BigInt(3)),ue)};function Ae(ie){const ue=W.aY(ie),be="string"==typeof ie,Ie=(ue||be)&&ie.length;return ue?Ie===De||Ie===k:be?Ie===2*De||Ie===2*k:ie instanceof w}const Fe=le.bits2int||function(ie){const ue=W.Ph(ie),be=8*ie.length-le.nBitLength;return be>0?ue>>BigInt(be):ue},Ee=le.bits2int_modN||function(ie){return h(Fe(ie))},ge=W.OG(le.nBitLength);function Oe(ie){if("bigint"!=typeof ie)throw new Error("bigint expected");if(!(F<=ie&&ie<ge))throw new Error(`bigint expected < 2^${le.nBitLength}`);return W.lq(ie,le.nByteLength)}const Se={lowS:le.lowS,prehash:!1},he={lowS:le.lowS,prehash:!1};return w.BASE._setWindowSize(8),{CURVE:le,getPublicKey:function ce(ie,ue=!0){return w.fromPrivateKey(ie).toRawBytes(ue)},getSharedSecret:function ke(ie,ue,be=!0){if(Ae(ie))throw new Error("first arg must be private key");if(!Ae(ue))throw new Error("second arg must be public key");return w.fromHex(ue).multiply(T(ie)).toRawBytes(be)},sign:function fe(ie,ue,be=Se){const{seed:Ie,k2sig:Ne}=function ye(ie,ue,be=Se){if(["recovered","canonical"].some(q=>q in be))throw new Error("sign() legacy options not supported");const{hash:Ie,randomBytes:Ne}=le;let{lowS:Be,prehash:yt,extraEntropy:Ke}=be;null==Be&&(Be=!0),ie=(0,W.qj)("msgHash",ie),yt&&(ie=(0,W.qj)("prehashed msgHash",Ie(ie)));const Re=Ee(ie),ot=T(ue),U=[Oe(ot),Oe(Re)];if(null!=Ke){const q=!0===Ke?Ne(ve.BYTES):Ke;U.push((0,W.qj)("extraEntropy",q))}const _=W.Id(...U),p=Re;return{seed:_,k2sig:function O(q){const me=Fe(q);if(!j(me))return;const xe=y(me),qe=w.BASE.multiply(me).toAffine(),At=h(qe.x);if(At===F)return;const ut=h(xe*h(p+At*ot));if(ut===F)return;let bt=(qe.x===At?0:2)|Number(qe.y&I),Lt=ut;return Be&&l(ut)&&(Lt=function g(ie){return l(ie)?h(-ie):ie}(ut),bt^=1),new H(At,Lt,bt)}}}(ie,ue,be);return W.fg(le.hash.outputLen,le.nByteLength,le.hmac)(Ie,Ne)},verify:function ee(ie,ue,be,Ie=he){const Ne=ie;if(ue=(0,W.qj)("msgHash",ue),be=(0,W.qj)("publicKey",be),"strict"in Ie)throw new Error("options.strict was renamed to lowS");const{lowS:Be,prehash:yt}=Ie;let Ke,Re;try{if("string"==typeof Ne||W.aY(Ne))try{Ke=H.fromDER(Ne)}catch(qe){if(!(qe instanceof $.Err))throw qe;Ke=H.fromCompact(Ne)}else{if("object"!=typeof Ne||"bigint"!=typeof Ne.r||"bigint"!=typeof Ne.s)throw new Error("PARSE");{const{r:qe,s:At}=Ne;Ke=new H(qe,At)}}Re=w.fromHex(be)}catch(qe){if("PARSE"===qe.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Be&&Ke.hasHighS())return!1;yt&&(ue=le.hash(ue));const{r:ot,s:U}=Ke,_=Ee(ue),p=y(U),O=h(_*p),q=h(ot*p),me=w.BASE.multiplyAndAddUnsafe(Re,O,q)?.toAffine();return!!me&&h(me.x)===ot},ProjectivePoint:w,Signature:H,utils:ne}}function se(pe){return{hash:pe,hmac:(le,...ve)=>(0,m.w)(pe,le,(0,x.Id)(...ve)),randomBytes:x.po}}function ae(pe,le){const ve=we=>Q({...pe,...se(we)});return Object.freeze({...ve(le),create:ve})}BigInt(4)},7184:(Le,z,E)=>{"use strict";E.d(z,{A:()=>S,h:()=>L});var m=E(35765),x=E(91006);const R=BigInt(0),W=BigInt(1);function S(M,N){const $=(I,X)=>{const V=X.negate();return I?V:X},F=I=>({windows:Math.ceil(N/I)+1,windowSize:2**(I-1)});return{constTimeNegate:$,unsafeLadder(I,X){let V=M.ZERO,Z=I;for(;X>R;)X&W&&(V=V.add(Z)),Z=Z.double(),X>>=W;return V},precomputeWindow(I,X){const{windows:V,windowSize:Z}=F(X),re=[];let te=I,Q=te;for(let J=0;J<V;J++){Q=te,re.push(Q);for(let oe=1;oe<Z;oe++)Q=Q.add(te),re.push(Q);te=Q.double()}return re},wNAF(I,X,V){const{windows:Z,windowSize:re}=F(I);let te=M.ZERO,Q=M.BASE;const J=BigInt(2**I-1),oe=2**I,se=BigInt(I);for(let ae=0;ae<Z;ae++){const pe=ae*re;let le=Number(V&J);V>>=se,le>re&&(le-=oe,V+=W);const ve=pe,we=pe+Math.abs(le)-1,k=le<0;0===le?Q=Q.add($(ae%2!=0,X[ve])):te=te.add($(k,X[we]))}return{p:te,f:Q}},wNAFCached(I,X,V,Z){const re=I._WINDOW_SIZE||1;let te=X.get(I);return te||(te=this.precomputeWindow(I,re),1!==re&&X.set(I,Z(te))),this.wNAF(re,te,V)}}}function L(M){return(0,m.jr)(M.Fp),(0,x.Q5)(M,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,m.LH)(M.n,M.nBitLength),...M,p:M.Fp.ORDER})}},35765:(Le,z,E)=>{"use strict";E.d(z,{B8:()=>Z,D0:()=>we,LH:()=>ve,Tp:()=>y,Tv:()=>k,dQ:()=>Q,jr:()=>oe,n7:()=>X,qy:()=>w,zH:()=>V,zi:()=>I});var m=E(91006);const x=BigInt(0),R=BigInt(1),W=BigInt(2),S=BigInt(3),L=BigInt(4),M=BigInt(5),N=BigInt(8);function I(T,D){const j=T%D;return j>=x?j:D+j}function X(T,D,j){if(j<=x||D<x)throw new Error("Expected power/modulo > 0");if(j===R)return x;let A=R;for(;D>x;)D&R&&(A=A*T%j),T=T*T%j,D>>=R;return A}function V(T,D,j){let A=T;for(;D-- >x;)A*=A,A%=j;return A}function Z(T,D){if(T===x||D<=x)throw new Error(`invert: expected positive integers, got n=${T} mod=${D}`);let j=I(T,D),A=D,l=x,g=R,G=R,H=x;for(;j!==x;){const ce=A/j,Ae=A%j,ke=l-G*ce,Fe=g-H*ce;A=j,j=Ae,l=G,g=H,G=ke,H=Fe}if(A!==R)throw new Error("invert: does not exist");return I(l,D)}BigInt(9),BigInt(16);const Q=(T,D)=>(I(T,D)&R)===R,J=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oe(T){const j=J.reduce((A,l)=>(A[l]="function",A),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,m.Q5)(T,j)}function ve(T,D){const j=void 0!==D?D:T.toString(2).length;return{nBitLength:j,nByteLength:Math.ceil(j/8)}}function we(T,D,j=!1,A={}){if(T<=x)throw new Error(`Expected Field ORDER > 0, got ${T}`);const{nBitLength:l,nByteLength:g}=ve(T,D);if(g>2048)throw new Error("Field lengths over 2048 bytes are not supported");const G=function te(T){if(T%L===S){const D=(T+R)/L;return function(A,l){const g=A.pow(l,D);if(!A.eql(A.sqr(g),l))throw new Error("Cannot find square root");return g}}if(T%N===M){const D=(T-M)/N;return function(A,l){const g=A.mul(l,W),G=A.pow(g,D),H=A.mul(l,G),ne=A.mul(A.mul(H,W),G),ce=A.mul(H,A.sub(ne,A.ONE));if(!A.eql(A.sqr(ce),l))throw new Error("Cannot find square root");return ce}}return function re(T){const D=(T-R)/W;let j,A,l;for(j=T-R,A=0;j%W===x;j/=W,A++);for(l=W;l<T&&X(l,D,T)!==T-R;l++);if(1===A){const G=(T+R)/L;return function(ne,ce){const Ae=ne.pow(ce,G);if(!ne.eql(ne.sqr(Ae),ce))throw new Error("Cannot find square root");return Ae}}const g=(j+R)/W;return function(H,ne){if(H.pow(ne,D)===H.neg(H.ONE))throw new Error("Cannot find square root");let ce=A,Ae=H.pow(H.mul(H.ONE,l),j),ke=H.pow(ne,g),Fe=H.pow(ne,j);for(;!H.eql(Fe,H.ONE);){if(H.eql(Fe,H.ZERO))return H.ZERO;let Ee=1;for(let Oe=H.sqr(Fe);Ee<ce&&!H.eql(Oe,H.ONE);Ee++)Oe=H.sqr(Oe);const ge=H.pow(Ae,R<<BigInt(ce-Ee-1));Ae=H.sqr(ge),ke=H.mul(ke,ge),Fe=H.mul(Fe,Ae),ce=Ee}return ke}}(T)}(T),H=Object.freeze({ORDER:T,BITS:l,BYTES:g,MASK:(0,m.OG)(l),ZERO:x,ONE:R,create:ne=>I(ne,T),isValid:ne=>{if("bigint"!=typeof ne)throw new Error("Invalid field element: expected bigint, got "+typeof ne);return x<=ne&&ne<T},is0:ne=>ne===x,isOdd:ne=>(ne&R)===R,neg:ne=>I(-ne,T),eql:(ne,ce)=>ne===ce,sqr:ne=>I(ne*ne,T),add:(ne,ce)=>I(ne+ce,T),sub:(ne,ce)=>I(ne-ce,T),mul:(ne,ce)=>I(ne*ce,T),pow:(ne,ce)=>function se(T,D,j){if(j<x)throw new Error("Expected power > 0");if(j===x)return T.ONE;if(j===R)return D;let A=T.ONE,l=D;for(;j>x;)j&R&&(A=T.mul(A,l)),l=T.sqr(l),j>>=R;return A}(H,ne,ce),div:(ne,ce)=>I(ne*Z(ce,T),T),sqrN:ne=>ne*ne,addN:(ne,ce)=>ne+ce,subN:(ne,ce)=>ne-ce,mulN:(ne,ce)=>ne*ce,inv:ne=>Z(ne,T),sqrt:A.sqrt||(ne=>G(H,ne)),invertBatch:ne=>function ae(T,D){const j=new Array(D.length),A=D.reduce((g,G,H)=>T.is0(G)?g:(j[H]=g,T.mul(g,G)),T.ONE),l=T.inv(A);return D.reduceRight((g,G,H)=>T.is0(G)?g:(j[H]=T.mul(g,j[H]),T.mul(g,G)),l),j}(H,ne),cmov:(ne,ce,Ae)=>Ae?ce:ne,toBytes:ne=>j?(0,m.z)(ne,g):(0,m.lq)(ne,g),fromBytes:ne=>{if(ne.length!==g)throw new Error(`Fp.fromBytes: expected ${g}, got ${ne.length}`);return j?(0,m.lX)(ne):(0,m.Ph)(ne)}});return Object.freeze(H)}function k(T,D){if(!T.isOdd)throw new Error("Field doesn't have isOdd");const j=T.sqrt(D);return T.isOdd(j)?T.neg(j):j}function h(T){if("bigint"!=typeof T)throw new Error("field order must be bigint");const D=T.toString(2).length;return Math.ceil(D/8)}function y(T){const D=h(T);return D+Math.ceil(D/2)}function w(T,D,j=!1){const A=T.length,l=h(D),g=y(D);if(A<16||A<g||A>1024)throw new Error(`expected ${g}-1024 bytes of input, got ${A}`);const H=I(j?(0,m.Ph)(T):(0,m.lX)(T),D-R)+R;return j?(0,m.z)(H,l):(0,m.lq)(H,l)}},91006:(Le,z,E)=>{"use strict";E.d(z,{Id:()=>J,My:()=>L,OG:()=>ve,Ph:()=>X,Q5:()=>h,aT:()=>I,aY:()=>W,fg:()=>k,lX:()=>V,lq:()=>Z,qj:()=>Q,z:()=>re}),BigInt(0);const x=BigInt(1),R=BigInt(2);function W(y){return y instanceof Uint8Array||null!=y&&"object"==typeof y&&"Uint8Array"===y.constructor.name}const S=Array.from({length:256},(y,w)=>w.toString(16).padStart(2,"0"));function L(y){if(!W(y))throw new Error("Uint8Array expected");let w="";for(let T=0;T<y.length;T++)w+=S[y[T]];return w}function N(y){if("string"!=typeof y)throw new Error("hex string expected, got "+typeof y);return BigInt(""===y?"0":`0x${y}`)}const $={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function F(y){return y>=$._0&&y<=$._9?y-$._0:y>=$._A&&y<=$._F?y-($._A-10):y>=$._a&&y<=$._f?y-($._a-10):void 0}function I(y){if("string"!=typeof y)throw new Error("hex string expected, got "+typeof y);const w=y.length,T=w/2;if(w%2)throw new Error("padded hex string expected, got unpadded hex of length "+w);const D=new Uint8Array(T);for(let j=0,A=0;j<T;j++,A+=2){const l=F(y.charCodeAt(A)),g=F(y.charCodeAt(A+1));if(void 0===l||void 0===g)throw new Error('hex string expected, got non-hex character "'+(y[A]+y[A+1])+'" at index '+A);D[j]=16*l+g}return D}function X(y){return N(L(y))}function V(y){if(!W(y))throw new Error("Uint8Array expected");return N(L(Uint8Array.from(y).reverse()))}function Z(y,w){return I(y.toString(16).padStart(2*w,"0"))}function re(y,w){return Z(y,w).reverse()}function Q(y,w,T){let D;if("string"==typeof w)try{D=I(w)}catch(A){throw new Error(`${y} must be valid hex string, got "${w}". Cause: ${A}`)}else{if(!W(w))throw new Error(`${y} must be hex string or Uint8Array`);D=Uint8Array.from(w)}const j=D.length;if("number"==typeof T&&j!==T)throw new Error(`${y} expected ${T} bytes, got ${j}`);return D}function J(...y){let w=0;for(let j=0;j<y.length;j++){const A=y[j];if(!W(A))throw new Error("Uint8Array expected");w+=A.length}let T=new Uint8Array(w),D=0;for(let j=0;j<y.length;j++){const A=y[j];T.set(A,D),D+=A.length}return T}const ve=y=>(R<<BigInt(y-1))-x,we=y=>new Uint8Array(y),De=y=>Uint8Array.from(y);function k(y,w,T){if("number"!=typeof y||y<2)throw new Error("hashLen must be a number");if("number"!=typeof w||w<2)throw new Error("qByteLen must be a number");if("function"!=typeof T)throw new Error("hmacFn must be a function");let D=we(y),j=we(y),A=0;const l=()=>{D.fill(1),j.fill(0),A=0},g=(...ce)=>T(j,D,...ce),G=(ce=we())=>{j=g(De([0]),ce),D=g(),0!==ce.length&&(j=g(De([1]),ce),D=g())},H=()=>{if(A++>=1e3)throw new Error("drbg: tried 1000 values");let ce=0;const Ae=[];for(;ce<w;){D=g();const ke=D.slice();Ae.push(ke),ce+=D.length}return J(...Ae)};return(ce,Ae)=>{let ke;for(l(),G(ce);!(ke=Ae(H()));)G();return l(),ke}}const u={bigint:y=>"bigint"==typeof y,function:y=>"function"==typeof y,boolean:y=>"boolean"==typeof y,string:y=>"string"==typeof y,stringOrUint8Array:y=>"string"==typeof y||W(y),isSafeInteger:y=>Number.isSafeInteger(y),array:y=>Array.isArray(y),field:(y,w)=>w.Fp.isValid(y),hash:y=>"function"==typeof y&&Number.isSafeInteger(y.outputLen)};function h(y,w,T={}){const D=(j,A,l)=>{const g=u[A];if("function"!=typeof g)throw new Error(`Invalid validator "${A}", expected function`);const G=y[j];if(!(l&&void 0===G||g(G,y)))throw new Error(`Invalid param ${String(j)}=${G} (${typeof G}), expected ${A}`)};for(const[j,A]of Object.entries(w))D(j,A,!1);for(const[j,A]of Object.entries(T))D(j,A,!0);return y}},86295:(Le,z,E)=>{"use strict";E.d(z,{ev:()=>D,OA:()=>ne,GU:()=>G,TU:()=>g});var m=E(25431),x=E(62953),R=E(35765),W=E(91006),S=E(7184);const L=BigInt(0),M=BigInt(1),N=BigInt(2),$=BigInt(8),F={zip215:!0};function X(O){const q=function I(O){const q=(0,S.h)(O);return W.Q5(O,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...q})}(O),{Fp:me,n:xe,prehash:qe,hash:At,randomBytes:ut,nByteLength:bt,h:Lt}=q,en=N<<BigInt(8*bt)-M,Zt=me.create,Jn=q.uvRatio||((An,On)=>{try{return{isValid:!0,value:me.sqrt(An*me.inv(On))}}catch{return{isValid:!1,value:L}}}),yn=q.adjustScalarBytes||(An=>An),Vt=q.domain||((An,On,nt)=>{if(On.length||nt)throw new Error("Contexts/pre-hash are not supported");return An}),$t=An=>"bigint"==typeof An&&L<An,mt=(An,On)=>$t(An)&&$t(On)&&An<On,st=An=>An===L||mt(An,en);function Nt(An,On){if(mt(An,On))return An;throw new Error(`Expected valid scalar < ${On}, got ${typeof An} ${An}`)}function Kt(An){return An===L?An:Nt(An,xe)}const qt=new Map;function or(An){if(!(An instanceof ft))throw new Error("ExtendedPoint expected")}class ft{constructor(On,nt,$e,it){if(this.ex=On,this.ey=nt,this.ez=$e,this.et=it,!st(On))throw new Error("x required");if(!st(nt))throw new Error("y required");if(!st($e))throw new Error("z required");if(!st(it))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(On){if(On instanceof ft)throw new Error("extended point not allowed");const{x:nt,y:$e}=On||{};if(!st(nt)||!st($e))throw new Error("invalid affine point");return new ft(nt,$e,M,Zt(nt*$e))}static normalizeZ(On){const nt=me.invertBatch(On.map($e=>$e.ez));return On.map(($e,it)=>$e.toAffine(nt[it])).map(ft.fromAffine)}_setWindowSize(On){this._WINDOW_SIZE=On,qt.delete(this)}assertValidity(){const{a:On,d:nt}=q;if(this.is0())throw new Error("bad point: ZERO");const{ex:$e,ey:it,ez:jt,et:dn}=this,Rn=Zt($e*$e),Kn=Zt(it*it),tr=Zt(jt*jt),Ar=Zt(tr*tr),_r=Zt(Rn*On);if(Zt(tr*Zt(_r+Kn))!==Zt(Ar+Zt(nt*Zt(Rn*Kn))))throw new Error("bad point: equation left != right (1)");if(Zt($e*it)!==Zt(jt*dn))throw new Error("bad point: equation left != right (2)")}equals(On){or(On);const{ex:nt,ey:$e,ez:it}=this,{ex:jt,ey:dn,ez:Rn}=On,Kn=Zt(nt*Rn),tr=Zt(jt*it),Ar=Zt($e*Rn),_r=Zt(dn*it);return Kn===tr&&Ar===_r}is0(){return this.equals(ft.ZERO)}negate(){return new ft(Zt(-this.ex),this.ey,this.ez,Zt(-this.et))}double(){const{a:On}=q,{ex:nt,ey:$e,ez:it}=this,jt=Zt(nt*nt),dn=Zt($e*$e),Rn=Zt(N*Zt(it*it)),Kn=Zt(On*jt),tr=nt+$e,Ar=Zt(Zt(tr*tr)-jt-dn),_r=Kn+dn,Pr=_r-Rn,$r=Kn-dn,zr=Zt(Ar*Pr),Ht=Zt(_r*$r),ln=Zt(Ar*$r),vn=Zt(Pr*_r);return new ft(zr,Ht,vn,ln)}add(On){or(On);const{a:nt,d:$e}=q,{ex:it,ey:jt,ez:dn,et:Rn}=this,{ex:Kn,ey:tr,ez:Ar,et:_r}=On;if(nt===BigInt(-1)){const $i=Zt((jt-it)*(tr+Kn)),fo=Zt((jt+it)*(tr-Kn)),ci=Zt(fo-$i);if(ci===L)return this.double();const lo=Zt(dn*N*_r),ho=Zt(Rn*N*Ar),Do=ho+lo,Di=fo+$i,ki=ho-lo,Vo=Zt(Do*ci),Ya=Zt(Di*ki),Gr=Zt(Do*ki),Ts=Zt(ci*Di);return new ft(Vo,Ya,Ts,Gr)}const Pr=Zt(it*Kn),$r=Zt(jt*tr),zr=Zt(Rn*$e*_r),Ht=Zt(dn*Ar),ln=Zt((it+jt)*(Kn+tr)-Pr-$r),vn=Ht-zr,Dn=Ht+zr,er=Zt($r-nt*Pr),yr=Zt(ln*vn),pr=Zt(Dn*er),Nr=Zt(ln*er),Cr=Zt(vn*Dn);return new ft(yr,pr,Cr,Nr)}subtract(On){return this.add(On.negate())}wNAF(On){return He.wNAFCached(this,qt,On,ft.normalizeZ)}multiply(On){const{p:nt,f:$e}=this.wNAF(Nt(On,xe));return ft.normalizeZ([nt,$e])[0]}multiplyUnsafe(On){let nt=Kt(On);return nt===L?vt:this.equals(vt)||nt===M?this:this.equals(gt)?this.wNAF(nt).p:He.unsafeLadder(this,nt)}isSmallOrder(){return this.multiplyUnsafe(Lt).is0()}isTorsionFree(){return He.unsafeLadder(this,xe).is0()}toAffine(On){const{ex:nt,ey:$e,ez:it}=this,jt=this.is0();null==On&&(On=jt?$:me.inv(it));const dn=Zt(nt*On),Rn=Zt($e*On),Kn=Zt(it*On);if(jt)return{x:L,y:M};if(Kn!==M)throw new Error("invZ was invalid");return{x:dn,y:Rn}}clearCofactor(){const{h:On}=q;return On===M?this:this.multiplyUnsafe(On)}static fromHex(On,nt=!1){const{d:$e,a:it}=q,jt=me.BYTES,dn=(On=(0,W.qj)("pointHex",On,jt)).slice(),Rn=On[jt-1];dn[jt-1]=-129&Rn;const Kn=W.lX(dn);Kn===L||Nt(Kn,nt?en:me.ORDER);const tr=Zt(Kn*Kn),Ar=Zt(tr-M),_r=Zt($e*tr-it);let{isValid:Pr,value:$r}=Jn(Ar,_r);if(!Pr)throw new Error("Point.fromHex: invalid y coordinate");const zr=($r&M)===M,Ht=!!(128&Rn);if(!nt&&$r===L&&Ht)throw new Error("Point.fromHex: x=0 and x_0=1");return Ht!==zr&&($r=Zt(-$r)),ft.fromAffine({x:$r,y:Kn})}static fromPrivateKey(On){return Tt(On).point}toRawBytes(){const{x:On,y:nt}=this.toAffine(),$e=W.z(nt,me.BYTES);return $e[$e.length-1]|=On&M?128:0,$e}toHex(){return W.My(this.toRawBytes())}}ft.BASE=new ft(q.Gx,q.Gy,M,Zt(q.Gx*q.Gy)),ft.ZERO=new ft(L,M,M,L);const{BASE:gt,ZERO:vt}=ft,He=(0,S.A)(ft,8*bt);function Je(An){return(0,R.zi)(An,xe)}function Bt(An){return Je(W.lX(An))}function Tt(An){const On=bt;An=(0,W.qj)("private key",An,On);const nt=(0,W.qj)("hashed private key",At(An),2*On),$e=yn(nt.slice(0,On)),it=nt.slice(On,2*On),jt=Bt($e),dn=gt.multiply(jt),Rn=dn.toRawBytes();return{head:$e,prefix:it,scalar:jt,point:dn,pointBytes:Rn}}function Pn(An=new Uint8Array,...On){const nt=W.Id(...On);return Bt(At(Vt(nt,(0,W.qj)("context",An),!!qe)))}const pn=F;return gt._setWindowSize(8),{CURVE:q,getPublicKey:function Yt(An){return Tt(An).pointBytes},sign:function cn(An,On,nt={}){An=(0,W.qj)("message",An),qe&&(An=qe(An));const{prefix:$e,scalar:it,pointBytes:jt}=Tt(On),dn=Pn(nt.context,$e,An),Rn=gt.multiply(dn).toRawBytes(),tr=Je(dn+Pn(nt.context,Rn,jt,An)*it);Kt(tr);const Ar=W.Id(Rn,W.z(tr,me.BYTES));return(0,W.qj)("result",Ar,2*bt)},verify:function vr(An,On,nt,$e=pn){const{context:it,zip215:jt}=$e,dn=me.BYTES;An=(0,W.qj)("signature",An,2*dn),On=(0,W.qj)("message",On),qe&&(On=qe(On));const Rn=W.lX(An.slice(dn,2*dn));let Kn,tr,Ar;try{Kn=ft.fromHex(nt,jt),tr=ft.fromHex(An.slice(0,dn),jt),Ar=gt.multiplyUnsafe(Rn)}catch{return!1}if(!jt&&Kn.isSmallOrder())return!1;const _r=Pn(it,tr.toRawBytes(),Kn.toRawBytes(),On);return tr.add(Kn.multiplyUnsafe(_r)).subtract(Ar).clearCofactor().equals(ft.ZERO)},ExtendedPoint:ft,utils:{getExtendedPublicKey:Tt,randomPrivateKey:()=>ut(me.BYTES),precompute:(An=8,On=ft.BASE)=>(On._setWindowSize(An),On.multiply(BigInt(3)),On)}}}const V=BigInt(0),Z=BigInt(1),Q=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),J=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),se=(BigInt(0),BigInt(1)),ae=BigInt(2),pe=BigInt(5),le=BigInt(10),ve=BigInt(20),we=BigInt(40),De=BigInt(80);function k(O){const q=Q,xe=O*O%q*O%q,qe=(0,R.zH)(xe,ae,q)*xe%q,At=(0,R.zH)(qe,se,q)*O%q,ut=(0,R.zH)(At,pe,q)*At%q,bt=(0,R.zH)(ut,le,q)*ut%q,Lt=(0,R.zH)(bt,ve,q)*bt%q,en=(0,R.zH)(Lt,we,q)*Lt%q,Zt=(0,R.zH)(en,De,q)*en%q,Jn=(0,R.zH)(Zt,De,q)*en%q,yn=(0,R.zH)(Jn,le,q)*ut%q;return{pow_p_5_8:(0,R.zH)(yn,ae,q)*O%q,b2:xe}}function u(O){return O[0]&=248,O[31]&=127,O[31]|=64,O}const w=(0,R.D0)(Q,void 0,!0),T={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:w,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:m.Zf,randomBytes:x.po,adjustScalarBytes:u,uvRatio:function h(O,q){const me=Q,xe=(0,R.zi)(q*q*q,me),At=k(O*(0,R.zi)(xe*xe*q,me)).pow_p_5_8;let ut=(0,R.zi)(O*xe*At,me);const bt=(0,R.zi)(q*ut*ut,me),Lt=ut,en=(0,R.zi)(ut*J,me),Zt=bt===O,Jn=bt===(0,R.zi)(-O,me),yn=bt===(0,R.zi)(-O*J,me);return Zt&&(ut=Lt),(Jn||yn)&&(ut=en),(0,R.dQ)(ut,me)&&(ut=(0,R.zi)(-ut,me)),{isValid:Zt||Jn,value:ut}}},D=X(T);const g=function te(O){const q=function re(O){return(0,W.Q5)(O,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...O})}(O),{P:me}=q,xe=qt=>(0,R.zi)(qt,me),qe=q.montgomeryBits,At=Math.ceil(qe/8),ut=q.nByteLength,bt=q.adjustScalarBytes||(qt=>qt),Lt=q.powPminus2||(qt=>(0,R.n7)(qt,me-BigInt(2),me));function en(qt,or,ft){const gt=xe(qt*(or-ft));return[or=xe(or-gt),ft=xe(ft+gt)]}function Zt(qt){if("bigint"==typeof qt&&V<=qt&&qt<me)return qt;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const Jn=(q.a-BigInt(2))/BigInt(4);function Vt(qt){return(0,W.z)(xe(qt),At)}function st(qt,or){const ft=function $t(qt){const or=(0,W.qj)("u coordinate",qt,At);return 32===ut&&(or[31]&=127),(0,W.lX)(or)}(or),gt=function mt(qt){const or=(0,W.qj)("scalar",qt),ft=or.length;if(ft!==At&&ft!==ut)throw new Error(`Expected ${At} or ${ut} bytes, got ${ft}`);return(0,W.lX)(bt(or))}(qt),vt=function yn(qt,or){const ft=Zt(qt),gt=Zt(or),vt=ft;let Pn,He=Z,Je=V,Bt=ft,Tt=Z,Yt=V;for(let pn=BigInt(qe-1);pn>=V;pn--){const vr=gt>>pn&Z;Yt^=vr,Pn=en(Yt,He,Bt),He=Pn[0],Bt=Pn[1],Pn=en(Yt,Je,Tt),Je=Pn[0],Tt=Pn[1],Yt=vr;const Un=He+Je,An=xe(Un*Un),On=He-Je,nt=xe(On*On),$e=An-nt,it=Bt+Tt,dn=xe((Bt-Tt)*Un),Rn=xe(it*On),Kn=dn+Rn,tr=dn-Rn;Bt=xe(Kn*Kn),Tt=xe(vt*xe(tr*tr)),He=xe(An*nt),Je=xe($e*(An+xe(Jn*$e)))}Pn=en(Yt,He,Bt),He=Pn[0],Bt=Pn[1],Pn=en(Yt,Je,Tt),Je=Pn[0],Tt=Pn[1];const cn=Lt(Je);return xe(He*cn)}(ft,gt);if(vt===V)throw new Error("Invalid private or public key received");return Vt(vt)}const Nt=Vt(q.Gu);function Kt(qt){return st(qt,Nt)}return{scalarMult:st,scalarMultBase:Kt,getSharedSecret:(qt,or)=>st(qt,or),getPublicKey:qt=>Kt(qt),utils:{randomPrivateKey:()=>q.randomBytes(q.nByteLength)},GuBytes:Nt}}({P:Q,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:O=>{const q=Q,{pow_p_5_8:me,b2:xe}=k(O);return(0,R.zi)((0,R.zH)(me,BigInt(3),q)*xe,q)},adjustScalarBytes:u,randomBytes:x.po});function G(O){const{y:q}=D.ExtendedPoint.fromHex(O),me=BigInt(1);return w.toBytes(w.create((me+q)*w.inv(me-q)))}function ne(O){const q=T.hash(O.subarray(0,32));return T.adjustScalarBytes(q).subarray(0,32)}const ce=(w.ORDER+BigInt(3))/BigInt(8);w.pow(ae,ce),w.sqrt(w.neg(w.ONE)),BigInt(5),BigInt(8),BigInt(486662),(0,R.Tv)(w,w.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")},40499:(Le,z,E)=>{"use strict";E.d(z,{Ag:()=>N});var m=E(2716),x=E(47565);const W=(0,E(35765).D0)(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),S=W.create(BigInt("-3")),L=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),N=(0,m.s)({a:S,b:L,Fp:W,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},x.s)},94256:(Le,z,E)=>{"use strict";E.d(z,{bI:()=>I});var m=E(47565),x=E(35765),R=E(2716);const W=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),S=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),L=BigInt(1),M=BigInt(2),N=(A,l)=>(A+l/M)/l;const F=(0,x.D0)(W,void 0,void 0,{sqrt:function $(A){const l=W,g=BigInt(3),G=BigInt(6),H=BigInt(11),ne=BigInt(22),ce=BigInt(23),Ae=BigInt(44),ke=BigInt(88),Fe=A*A*A%l,Ee=Fe*Fe*A%l,ge=(0,x.zH)(Ee,g,l)*Ee%l,Oe=(0,x.zH)(ge,g,l)*Ee%l,ye=(0,x.zH)(Oe,M,l)*Fe%l,Se=(0,x.zH)(ye,H,l)*ye%l,he=(0,x.zH)(Se,ne,l)*Se%l,fe=(0,x.zH)(he,Ae,l)*he%l,ee=(0,x.zH)(fe,ke,l)*fe%l,ie=(0,x.zH)(ee,Ae,l)*he%l,ue=(0,x.zH)(ie,g,l)*Ee%l,be=(0,x.zH)(ue,ce,l)*Se%l,Ie=(0,x.zH)(be,G,l)*Fe%l,Ne=(0,x.zH)(Ie,M,l);if(!F.eql(F.sqr(Ne),A))throw new Error("Cannot find square root");return Ne}}),I=(0,R.s)({a:BigInt(0),b:BigInt(7),Fp:F,n:S,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:A=>{const l=S,g=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),G=-L*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),H=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ne=g,ce=BigInt("0x100000000000000000000000000000000"),Ae=N(ne*A,l),ke=N(-G*A,l);let Fe=(0,x.zi)(A-Ae*g-ke*H,l),Ee=(0,x.zi)(-Ae*G-ke*ne,l);const ge=Fe>ce,Oe=Ee>ce;if(ge&&(Fe=l-Fe),Oe&&(Ee=l-Ee),Fe>ce||Ee>ce)throw new Error("splitScalar: Endomorphism failed, k="+A);return{k1neg:ge,k1:Fe,k2neg:Oe,k2:Ee}}}},m.s);BigInt(0)},63741:(Le,z,E)=>{"use strict";E.d(z,{Rn:()=>l,Wp:()=>Oe,kv:()=>ke,wJ:()=>ne});var m=E(10467);const x=2n**255n-19n,R=2n**252n+27742317777372353535851937790883648493n,W=0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,S=0x6666666666666666666666666666666666666666666666666666666666666658n,L={a:-1n,d:37095705934669439343138083508754565189542113879843219016388785533085940283555n,p:x,n:R,h:8,Gx:W,Gy:S},M=(fe="")=>{throw new Error(fe)},N=fe=>"string"==typeof fe,$=(fe,ee)=>!(fe instanceof Uint8Array)||"number"==typeof ee&&ee>0&&fe.length!==ee?M("Uint8Array expected"):fe,F=fe=>new Uint8Array(fe),I=(fe,ee)=>$(N(fe)?se(fe):F(fe),ee),X=(fe,ee=x)=>{let ie=fe%ee;return ie>=0n?ie:ee+ie},V=fe=>fe instanceof re?fe:M("Point expected");let Z;class re{constructor(ee,ie,ue,be){this.ex=ee,this.ey=ie,this.ez=ue,this.et=be}static fromAffine(ee){return new re(ee.x,ee.y,1n,X(ee.x*ee.y))}static fromHex(ee,ie=!0){const{d:ue}=L,be=(ee=I(ee,32)).slice();be[31]=-129&ee[31];const Ie=pe(be);0n===Ie||(ie&&!(0n<Ie&&Ie<x)&&M("bad y coord 1"),!ie&&!(0n<Ie&&Ie<2n**256n)&&M("bad y coord 2"));const Ne=X(Ie*Ie),Be=X(Ne-1n),yt=X(ue*Ne+1n);let{isValid:Ke,value:Re}=u(Be,yt);return Ke||M("bad y coordinate 3"),!!(128&ee[31])!=(1n===(1n&Re))&&(Re=X(-Re)),new re(Re,Ie,1n,X(Re*Ie))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}equals(ee){const{ex:ie,ey:ue,ez:be}=this,{ex:Ie,ey:Ne,ez:Be}=V(ee),yt=X(ie*Be),Ke=X(Ie*be),Re=X(ue*Be),ot=X(Ne*be);return yt===Ke&&Re===ot}is0(){return this.equals(Q)}negate(){return new re(X(-this.ex),this.ey,this.ez,X(-this.et))}double(){const{ex:ee,ey:ie,ez:ue}=this,{a:be}=L,Ie=X(ee*ee),Ne=X(ie*ie),Be=X(2n*X(ue*ue)),yt=X(be*Ie),Ke=ee+ie,Re=X(X(Ke*Ke)-Ie-Ne),ot=yt+Ne,U=ot-Be,_=yt-Ne,p=X(Re*U),O=X(ot*_),q=X(Re*_),me=X(U*ot);return new re(p,O,me,q)}add(ee){const{ex:ie,ey:ue,ez:be,et:Ie}=this,{ex:Ne,ey:Be,ez:yt,et:Ke}=V(ee),{a:Re,d:ot}=L,U=X(ie*Ne),_=X(ue*Be),p=X(Ie*ot*Ke),O=X(be*yt),q=X((ie+ue)*(Ne+Be)-U-_),me=X(O-p),xe=X(O+p),qe=X(_-Re*U),At=X(q*me),ut=X(xe*qe),bt=X(q*qe),Lt=X(me*xe);return new re(At,ut,Lt,bt)}mul(ee,ie=!0){if(0n===ee)return!0===ie?M("cannot multiply by 0"):Q;if("bigint"==typeof ee&&0n<ee&&ee<R||M("invalid scalar, must be < L"),!ie&&this.is0()||1n===ee)return this;if(this.equals(te))return he(ee).p;let ue=Q,be=te;for(let Ie=this;ee>0n;Ie=Ie.double(),ee>>=1n)1n&ee?ue=ue.add(Ie):ie&&(be=be.add(Ie));return ue}multiply(ee){return this.mul(ee)}clearCofactor(){return this.mul(BigInt(L.h),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let ee=this.mul(R/2n,!1).double();return ee=ee.add(this),ee.is0()}toAffine(){const{ex:ee,ey:ie,ez:ue}=this;if(this.is0())return{x:0n,y:0n};const be=ve(ue);return 1n!==X(ue*be)&&M("invalid inverse"),{x:X(ee*be),y:X(ie*be)}}toRawBytes(){const{x:ee,y:ie}=this.toAffine(),ue=ae(ie);return ue[31]|=1n&ee?128:0,ue}toHex(){return oe(this.toRawBytes())}}re.BASE=new re(W,S,1n,X(W*S)),re.ZERO=new re(0n,1n,1n,0n);const{BASE:te,ZERO:Q}=re,J=(fe,ee)=>fe.toString(16).padStart(ee,"0"),oe=fe=>Array.from(fe).map(ee=>J(ee,2)).join(""),se=fe=>{const ee=fe.length;(!N(fe)||ee%2)&&M("hex invalid 1");const ie=F(ee/2);for(let ue=0;ue<ie.length;ue++){const be=2*ue,Ie=fe.slice(be,be+2),Ne=Number.parseInt(Ie,16);(Number.isNaN(Ne)||Ne<0)&&M("hex invalid 2"),ie[ue]=Ne}return ie},ae=fe=>se(J(fe,64)).reverse(),pe=fe=>BigInt("0x"+oe(F($(fe)).reverse())),le=(...fe)=>{const ee=F(fe.reduce((ue,be)=>ue+$(be).length,0));let ie=0;return fe.forEach(ue=>{ee.set(ue,ie),ie+=ue.length}),ee},ve=(fe,ee=x)=>{(0n===fe||ee<=0n)&&M("no inverse n="+fe+" mod="+ee);let ie=X(fe,ee),ue=ee,be=0n,Ie=1n,Ne=1n,Be=0n;for(;0n!==ie;){const yt=ue/ie,Ke=ue%ie,Re=be-Ne*yt,ot=Ie-Be*yt;ue=ie,ie=Ke,be=Ne,Ie=Be,Ne=Re,Be=ot}return 1n===ue?X(be,ee):M("no inverse")},we=(fe,ee)=>{let ie=fe;for(;ee-- >0n;)ie*=ie,ie%=x;return ie},k=19681161376707505956807079304988542015446066515923890162744021073123829784752n,u=(fe,ee)=>{const ie=X(ee*ee*ee),be=(fe=>{const ie=fe*fe%x*fe%x,ue=we(ie,2n)*ie%x,be=we(ue,1n)*fe%x,Ie=we(be,5n)*be%x,Ne=we(Ie,10n)*Ie%x,Be=we(Ne,20n)*Ne%x,yt=we(Be,40n)*Be%x,Ke=we(yt,80n)*yt%x,Re=we(Ke,80n)*yt%x,ot=we(Re,10n)*Ie%x;return{pow_p_5_8:we(ot,2n)*fe%x,b2:ie}})(fe*X(ie*ie*ee)).pow_p_5_8;let Ie=X(fe*ie*be);const Ne=X(ee*Ie*Ie),Be=Ie,yt=X(Ie*k),Ke=Ne===fe,Re=Ne===X(-fe),ot=Ne===X(-fe*k);return Ke&&(Ie=Be),(Re||ot)&&(Ie=yt),1n===(1n&X(Ie))&&(Ie=X(-Ie)),{isValid:Ke||Re,value:Ie}},h=fe=>X(pe(fe),R);let y;const w=(...fe)=>ge.sha512Async(...fe),T=(...fe)=>"function"==typeof y?y(...fe):M("etc.sha512Sync not set"),D=fe=>{const ee=fe.slice(0,32);ee[0]&=248,ee[31]&=127,ee[31]|=64;const ie=fe.slice(32,64),ue=h(ee),be=te.mul(ue),Ie=be.toRawBytes();return{head:ee,prefix:ie,scalar:ue,point:be,pointBytes:Ie}},j=fe=>w(I(fe,32)).then(D),l=fe=>j(fe).then(ee=>ee.pointBytes);function G(fe,ee){return fe?w(ee.hashable).then(ee.finish):ee.finish(T(ee.hashable))}const ne=function(){var fe=(0,m.A)(function*(ee,ie){const ue=I(ee),be=yield j(ie);return G(!0,((fe,ee,ie)=>{const{pointBytes:ue,scalar:be}=fe,Ie=h(ee),Ne=te.mul(Ie).toRawBytes();return{hashable:le(Ne,ue,ie),finish:Ke=>{const Re=X(Ie+h(Ke)*be,R);return $(le(Ne,ae(Re)),64)}}})(be,yield w(be.prefix,ue),ue))});return function(ie,ue){return fe.apply(this,arguments)}}(),ke=function(){var fe=(0,m.A)(function*(ee,ie,ue){return G(!0,((fe,ee,ie)=>{ee=I(ee),fe=I(fe,64);const ue=re.fromHex(ie,!1),be=re.fromHex(fe.slice(0,32),!1),Ie=pe(fe.slice(32,64)),Ne=te.mul(Ie,!1);return{hashable:le(be.toRawBytes(),ue.toRawBytes(),ee),finish:Ke=>{const Re=h(Ke);return be.add(ue.mul(Re,!1)).add(Ne.negate()).clearCofactor().is0()}}})(ee,ie,ue))});return function(ie,ue,be){return fe.apply(this,arguments)}}(),Ee=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ge={bytesToHex:oe,hexToBytes:se,concatBytes:le,mod:X,invert:ve,randomBytes:fe=>{const ee=Ee();return ee||M("crypto.getRandomValues must be defined"),ee.getRandomValues(F(fe))},sha512Async:(fe=(0,m.A)(function*(...ee){const ie=Ee();ie||M("crypto.subtle or etc.sha512Async must be defined");const ue=le(...ee);return F(yield ie.subtle.digest("SHA-512",ue.buffer))}),function(){return fe.apply(this,arguments)}),sha512Sync:void 0};var fe;Object.defineProperties(ge,{sha512Sync:{configurable:!1,get:()=>y,set(fe){y||(y=fe)}}});const Oe={getExtendedPublicKeyAsync:j,getExtendedPublicKey:fe=>D(T(I(fe,32))),randomPrivateKey:()=>ge.randomBytes(32),precompute:(fe=8,ee=te)=>(ee.multiply(3n),ee)},he=fe=>{const ee=Z||(Z=(()=>{const fe=[];let ie=te,ue=ie;for(let be=0;be<33;be++){ue=ie,fe.push(ue);for(let Ie=1;Ie<128;Ie++)ue=ue.add(ie),fe.push(ue);ie=ue.double()}return fe})()),ie=(Re,ot)=>{let U=ot.negate();return Re?U:ot};let ue=Q,be=te;const Be=BigInt(255),Ke=BigInt(8);for(let Re=0;Re<33;Re++){const ot=128*Re;let U=Number(fe&Be);fe>>=Ke,U>128&&(U-=256,fe+=1n);const _=ot,p=ot+Math.abs(U)-1,q=U<0;0===U?be=be.add(ie(Re%2!=0,ee[_])):ue=ue.add(ie(q,ee[p]))}return{p:ue,f:be}}},37099:(Le,z,E)=>{"use strict";function m(F){if(!Number.isSafeInteger(F)||F<0)throw new Error(`Wrong positive integer: ${F}`)}function W(F,...I){if(!function R(F){return F instanceof Uint8Array||null!=F&&"object"==typeof F&&"Uint8Array"===F.constructor.name}(F))throw new Error("Expected Uint8Array");if(I.length>0&&!I.includes(F.length))throw new Error(`Expected Uint8Array of length ${I}, not of length=${F.length}`)}function S(F){if("function"!=typeof F||"function"!=typeof F.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");m(F.outputLen),m(F.blockLen)}function L(F,I=!0){if(F.destroyed)throw new Error("Hash instance has been destroyed");if(I&&F.finished)throw new Error("Hash#digest() has already been called")}function M(F,I){W(F);const X=I.outputLen;if(F.length<X)throw new Error(`digestInto() expects output buffer of length at least ${X}`)}E.d(z,{CG:()=>M,ai:()=>m,ee:()=>W,t2:()=>L,tW:()=>S})},36405:(Le,z,E)=>{"use strict";E.d(z,{D:()=>W});var m=E(37099),x=E(62953);class W extends x.Vw{constructor(L,M,N,$){super(),this.blockLen=L,this.outputLen=M,this.padOffset=N,this.isLE=$,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(L),this.view=(0,x.O8)(this.buffer)}update(L){(0,m.t2)(this);const{view:M,buffer:N,blockLen:$}=this,F=(L=(0,x.ZJ)(L)).length;for(let I=0;I<F;){const X=Math.min($-this.pos,F-I);if(X!==$)N.set(L.subarray(I,I+X),this.pos),this.pos+=X,I+=X,this.pos===$&&(this.process(M,0),this.pos=0);else{const V=(0,x.O8)(L);for(;$<=F-I;I+=$)this.process(V,I)}}return this.length+=L.length,this.roundClean(),this}digestInto(L){(0,m.t2)(this),(0,m.CG)(L,this),this.finished=!0;const{buffer:M,view:N,blockLen:$,isLE:F}=this;let{pos:I}=this;M[I++]=128,this.buffer.subarray(I).fill(0),this.padOffset>$-I&&(this.process(N,0),I=0);for(let te=I;te<$;te++)M[te]=0;(function R(S,L,M,N){if("function"==typeof S.setBigUint64)return S.setBigUint64(L,M,N);const $=BigInt(32),F=BigInt(4294967295),I=Number(M>>$&F),X=Number(M&F),Z=N?0:4;S.setUint32(L+(N?4:0),I,N),S.setUint32(L+Z,X,N)})(N,$-8,BigInt(8*this.length),F),this.process(N,0);const X=(0,x.O8)(L),V=this.outputLen;if(V%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const Z=V/4,re=this.get();if(Z>re.length)throw new Error("_sha2: outputLen bigger than state");for(let te=0;te<Z;te++)X.setUint32(4*te,re[te],F)}digest(){const{buffer:L,outputLen:M}=this;this.digestInto(L);const N=L.slice(0,M);return this.destroy(),N}_cloneInto(L){L||(L=new this.constructor),L.set(...this.get());const{blockLen:M,buffer:N,length:$,finished:F,destroyed:I,pos:X}=this;return L.length=$,L.pos=X,L.finished=F,L.destroyed=I,$%M&&L.buffer.set(N),L}}},86703:(Le,z,E)=>{"use strict";E.d(z,{E:()=>m});const m="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},75781:(Le,z,E)=>{"use strict";E.d(z,{w:()=>W});var m=E(37099),x=E(62953);class R extends x.Vw{constructor(L,M){super(),this.finished=!1,this.destroyed=!1,(0,m.tW)(L);const N=(0,x.ZJ)(M);if(this.iHash=L.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const $=this.blockLen,F=new Uint8Array($);F.set(N.length>$?L.create().update(N).digest():N);for(let I=0;I<F.length;I++)F[I]^=54;this.iHash.update(F),this.oHash=L.create();for(let I=0;I<F.length;I++)F[I]^=106;this.oHash.update(F),F.fill(0)}update(L){return(0,m.t2)(this),this.iHash.update(L),this}digestInto(L){(0,m.t2)(this),(0,m.ee)(L,this.outputLen),this.finished=!0,this.iHash.digestInto(L),this.oHash.update(L),this.oHash.digestInto(L),this.destroy()}digest(){const L=new Uint8Array(this.oHash.outputLen);return this.digestInto(L),L}_cloneInto(L){L||(L=Object.create(Object.getPrototypeOf(this),{}));const{oHash:M,iHash:N,finished:$,destroyed:F,blockLen:I,outputLen:X}=this;return L.finished=$,L.destroyed=F,L.blockLen=I,L.outputLen=X,L.oHash=M._cloneInto(L.oHash),L.iHash=N._cloneInto(L.iHash),L}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const W=(S,L,M)=>new R(S,L).update(M).digest();W.create=(S,L)=>new R(S,L)},47565:(Le,z,E)=>{"use strict";E.d(z,{s:()=>F});var m=E(36405),x=E(62953);const R=(X,V,Z)=>X&V^~X&Z,W=(X,V,Z)=>X&V^X&Z^V&Z,S=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),L=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),M=new Uint32Array(64);class N extends m.D{constructor(){super(64,32,8,!1),this.A=0|L[0],this.B=0|L[1],this.C=0|L[2],this.D=0|L[3],this.E=0|L[4],this.F=0|L[5],this.G=0|L[6],this.H=0|L[7]}get(){const{A:V,B:Z,C:re,D:te,E:Q,F:J,G:oe,H:se}=this;return[V,Z,re,te,Q,J,oe,se]}set(V,Z,re,te,Q,J,oe,se){this.A=0|V,this.B=0|Z,this.C=0|re,this.D=0|te,this.E=0|Q,this.F=0|J,this.G=0|oe,this.H=0|se}process(V,Z){for(let le=0;le<16;le++,Z+=4)M[le]=V.getUint32(Z,!1);for(let le=16;le<64;le++){const ve=M[le-15],we=M[le-2],De=(0,x.Ow)(ve,7)^(0,x.Ow)(ve,18)^ve>>>3,k=(0,x.Ow)(we,17)^(0,x.Ow)(we,19)^we>>>10;M[le]=k+M[le-7]+De+M[le-16]|0}let{A:re,B:te,C:Q,D:J,E:oe,F:se,G:ae,H:pe}=this;for(let le=0;le<64;le++){const we=pe+((0,x.Ow)(oe,6)^(0,x.Ow)(oe,11)^(0,x.Ow)(oe,25))+R(oe,se,ae)+S[le]+M[le]|0,k=((0,x.Ow)(re,2)^(0,x.Ow)(re,13)^(0,x.Ow)(re,22))+W(re,te,Q)|0;pe=ae,ae=se,se=oe,oe=J+we|0,J=Q,Q=te,te=re,re=we+k|0}re=re+this.A|0,te=te+this.B|0,Q=Q+this.C|0,J=J+this.D|0,oe=oe+this.E|0,se=se+this.F|0,ae=ae+this.G|0,pe=pe+this.H|0,this.set(re,te,Q,J,oe,se,ae,pe)}roundClean(){M.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const F=(0,x.ld)(()=>new N)},25431:(Le,z,E)=>{"use strict";E.d(z,{Zf:()=>g});var m=E(36405);const x=BigInt(2**32-1),R=BigInt(32);function W(ce,Ae=!1){return Ae?{h:Number(ce&x),l:Number(ce>>R&x)}:{h:0|Number(ce>>R&x),l:0|Number(ce&x)}}const k_split=function S(ce,Ae=!1){let ke=new Uint32Array(ce.length),Fe=new Uint32Array(ce.length);for(let Ee=0;Ee<ce.length;Ee++){const{h:ge,l:Oe}=W(ce[Ee],Ae);[ke[Ee],Fe[Ee]]=[ge,Oe]}return[ke,Fe]},k_shrSH=(ce,Ae,ke)=>ce>>>ke,k_shrSL=(ce,Ae,ke)=>ce<<32-ke|Ae>>>ke,k_rotrSH=(ce,Ae,ke)=>ce>>>ke|Ae<<32-ke,k_rotrSL=(ce,Ae,ke)=>ce<<32-ke|Ae>>>ke,k_rotrBH=(ce,Ae,ke)=>ce<<64-ke|Ae>>>ke-32,k_rotrBL=(ce,Ae,ke)=>ce>>>ke-32|Ae<<64-ke,k_add=function oe(ce,Ae,ke,Fe){const Ee=(Ae>>>0)+(Fe>>>0);return{h:ce+ke+(Ee/2**32|0)|0,l:0|Ee}},k_add3L=(ce,Ae,ke)=>(ce>>>0)+(Ae>>>0)+(ke>>>0),k_add3H=(ce,Ae,ke,Fe)=>Ae+ke+Fe+(ce/2**32|0)|0,k_add4L=(ce,Ae,ke,Fe)=>(ce>>>0)+(Ae>>>0)+(ke>>>0)+(Fe>>>0),k_add4H=(ce,Ae,ke,Fe,Ee)=>Ae+ke+Fe+Ee+(ce/2**32|0)|0,k_add5H=(ce,Ae,ke,Fe,Ee,ge)=>Ae+ke+Fe+Ee+ge+(ce/2**32|0)|0,k_add5L=(ce,Ae,ke,Fe,Ee)=>(ce>>>0)+(Ae>>>0)+(ke>>>0)+(Fe>>>0)+(Ee>>>0);var u=E(62953);const[h,y]=k_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(ce=>BigInt(ce))),w=new Uint32Array(80),T=new Uint32Array(80);class D extends m.D{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:Ae,Al:ke,Bh:Fe,Bl:Ee,Ch:ge,Cl:Oe,Dh:ye,Dl:Se,Eh:he,El:fe,Fh:ee,Fl:ie,Gh:ue,Gl:be,Hh:Ie,Hl:Ne}=this;return[Ae,ke,Fe,Ee,ge,Oe,ye,Se,he,fe,ee,ie,ue,be,Ie,Ne]}set(Ae,ke,Fe,Ee,ge,Oe,ye,Se,he,fe,ee,ie,ue,be,Ie,Ne){this.Ah=0|Ae,this.Al=0|ke,this.Bh=0|Fe,this.Bl=0|Ee,this.Ch=0|ge,this.Cl=0|Oe,this.Dh=0|ye,this.Dl=0|Se,this.Eh=0|he,this.El=0|fe,this.Fh=0|ee,this.Fl=0|ie,this.Gh=0|ue,this.Gl=0|be,this.Hh=0|Ie,this.Hl=0|Ne}process(Ae,ke){for(let Ke=0;Ke<16;Ke++,ke+=4)w[Ke]=Ae.getUint32(ke),T[Ke]=Ae.getUint32(ke+=4);for(let Ke=16;Ke<80;Ke++){const Re=0|w[Ke-15],ot=0|T[Ke-15],U=k_rotrSH(Re,ot,1)^k_rotrSH(Re,ot,8)^k_shrSH(Re,ot,7),_=k_rotrSL(Re,ot,1)^k_rotrSL(Re,ot,8)^k_shrSL(Re,ot,7),p=0|w[Ke-2],O=0|T[Ke-2],q=k_rotrSH(p,O,19)^k_rotrBH(p,O,61)^k_shrSH(p,O,6),me=k_rotrSL(p,O,19)^k_rotrBL(p,O,61)^k_shrSL(p,O,6),xe=k_add4L(_,me,T[Ke-7],T[Ke-16]),qe=k_add4H(xe,U,q,w[Ke-7],w[Ke-16]);w[Ke]=0|qe,T[Ke]=0|xe}let{Ah:Fe,Al:Ee,Bh:ge,Bl:Oe,Ch:ye,Cl:Se,Dh:he,Dl:fe,Eh:ee,El:ie,Fh:ue,Fl:be,Gh:Ie,Gl:Ne,Hh:Be,Hl:yt}=this;for(let Ke=0;Ke<80;Ke++){const Re=k_rotrSH(ee,ie,14)^k_rotrSH(ee,ie,18)^k_rotrBH(ee,ie,41),ot=k_rotrSL(ee,ie,14)^k_rotrSL(ee,ie,18)^k_rotrBL(ee,ie,41),U=ee&ue^~ee&Ie,p=k_add5L(yt,ot,ie&be^~ie&Ne,y[Ke],T[Ke]),O=k_add5H(p,Be,Re,U,h[Ke],w[Ke]),q=0|p,me=k_rotrSH(Fe,Ee,28)^k_rotrBH(Fe,Ee,34)^k_rotrBH(Fe,Ee,39),xe=k_rotrSL(Fe,Ee,28)^k_rotrBL(Fe,Ee,34)^k_rotrBL(Fe,Ee,39),qe=Fe&ge^Fe&ye^ge&ye,At=Ee&Oe^Ee&Se^Oe&Se;Be=0|Ie,yt=0|Ne,Ie=0|ue,Ne=0|be,ue=0|ee,be=0|ie,({h:ee,l:ie}=k_add(0|he,0|fe,0|O,0|q)),he=0|ye,fe=0|Se,ye=0|ge,Se=0|Oe,ge=0|Fe,Oe=0|Ee;const ut=k_add3L(q,xe,At);Fe=k_add3H(ut,O,me,qe),Ee=0|ut}({h:Fe,l:Ee}=k_add(0|this.Ah,0|this.Al,0|Fe,0|Ee)),({h:ge,l:Oe}=k_add(0|this.Bh,0|this.Bl,0|ge,0|Oe)),({h:ye,l:Se}=k_add(0|this.Ch,0|this.Cl,0|ye,0|Se)),({h:he,l:fe}=k_add(0|this.Dh,0|this.Dl,0|he,0|fe)),({h:ee,l:ie}=k_add(0|this.Eh,0|this.El,0|ee,0|ie)),({h:ue,l:be}=k_add(0|this.Fh,0|this.Fl,0|ue,0|be)),({h:Ie,l:Ne}=k_add(0|this.Gh,0|this.Gl,0|Ie,0|Ne)),({h:Be,l:yt}=k_add(0|this.Hh,0|this.Hl,0|Be,0|yt)),this.set(Fe,Ee,ge,Oe,ye,Se,he,fe,ee,ie,ue,be,Ie,Ne,Be,yt)}roundClean(){w.fill(0),T.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const g=(0,u.ld)(()=>new D)},62953:(Le,z,E)=>{"use strict";E.d(z,{$h:()=>re,AI:()=>Q,Id:()=>oe,My:()=>F,O8:()=>L,Ow:()=>M,Vw:()=>se,ZJ:()=>J,aT:()=>V,ld:()=>le,po:()=>De,tY:()=>pe});var m=E(10467),x=E(86703);function S(k){return k instanceof Uint8Array||null!=k&&"object"==typeof k&&"Uint8Array"===k.constructor.name}const L=k=>new DataView(k.buffer,k.byteOffset,k.byteLength),M=(k,u)=>k<<32-u|k>>>u;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const $=Array.from({length:256},(k,u)=>u.toString(16).padStart(2,"0"));function F(k){if(!S(k))throw new Error("Uint8Array expected");let u="";for(let h=0;h<k.length;h++)u+=$[k[h]];return u}const I={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function X(k){return k>=I._0&&k<=I._9?k-I._0:k>=I._A&&k<=I._F?k-(I._A-10):k>=I._a&&k<=I._f?k-(I._a-10):void 0}function V(k){if("string"!=typeof k)throw new Error("hex string expected, got "+typeof k);const u=k.length,h=u/2;if(u%2)throw new Error("padded hex string expected, got unpadded hex of length "+u);const y=new Uint8Array(h);for(let w=0,T=0;w<h;w++,T+=2){const D=X(k.charCodeAt(T)),j=X(k.charCodeAt(T+1));if(void 0===D||void 0===j)throw new Error('hex string expected, got non-hex character "'+(k[T]+k[T+1])+'" at index '+T);y[w]=16*D+j}return y}const Z=function(){var k=(0,m.A)(function*(){});return function(){return k.apply(this,arguments)}}();function re(k,u,h){return te.apply(this,arguments)}function te(){return(te=(0,m.A)(function*(k,u,h){let y=Date.now();for(let w=0;w<k;w++){h(w);const T=Date.now()-y;T>=0&&T<u||(yield Z(),y+=T)}})).apply(this,arguments)}function Q(k){if("string"!=typeof k)throw new Error("utf8ToBytes expected string, got "+typeof k);return new Uint8Array((new TextEncoder).encode(k))}function J(k){if("string"==typeof k&&(k=Q(k)),!S(k))throw new Error("expected Uint8Array, got "+typeof k);return k}function oe(...k){let u=0;for(let y=0;y<k.length;y++){const w=k[y];if(!S(w))throw new Error("Uint8Array expected");u+=w.length}const h=new Uint8Array(u);for(let y=0,w=0;y<k.length;y++){const T=k[y];h.set(T,w),w+=T.length}return h}class se{clone(){return this._cloneInto()}}const ae={}.toString;function pe(k,u){if(void 0!==u&&"[object Object]"!==ae.call(u))throw new Error("Options should be object or undefined");return Object.assign(k,u)}function le(k){const u=y=>k().update(J(y)).digest(),h=k();return u.outputLen=h.outputLen,u.blockLen=h.blockLen,u.create=()=>k(),u}function De(k=32){if(x.E&&"function"==typeof x.E.getRandomValues)return x.E.getRandomValues(new Uint8Array(k));throw new Error("crypto.getRandomValues must be defined")}},68464:(Le,z,E)=>{"use strict";E.d(z,{CB:()=>ae,MX:()=>he,Wp:()=>ue,jn:()=>ie,lG:()=>l,wJ:()=>Oe});var m=E(10467);const x=2n**256n,R=x-0x1000003d1n,W=x-0x14551231950b75fc4402da1732fc9bebfn,S=0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798n,L=0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8n,M={p:R,n:W,a:0n,b:7n,Gx:S,Gy:L},N=32,$=Be=>J(J(Be*Be)*Be+M.b),F=(Be="")=>{throw new Error(Be)},I=Be=>"bigint"==typeof Be,X=Be=>"string"==typeof Be,V=Be=>I(Be)&&0n<Be&&Be<R,Z=Be=>I(Be)&&0n<Be&&Be<W,re=(Be,yt)=>!(Be instanceof Uint8Array)||"number"==typeof yt&&yt>0&&Be.length!==yt?F("Uint8Array expected"):Be,te=Be=>new Uint8Array(Be),Q=(Be,yt)=>re(X(Be)?De(Be):te(Be),yt),J=(Be,yt=R)=>{let Ke=Be%yt;return Ke>=0n?Ke:yt+Ke},oe=Be=>Be instanceof ae?Be:F("Point expected");let se;class ae{constructor(yt,Ke,Re){this.px=yt,this.py=Ke,this.pz=Re}static fromAffine(yt){return new ae(yt.x,yt.y,1n)}static fromHex(yt){let Ke;const Re=(yt=Q(yt))[0],ot=yt.subarray(1),U=u(ot,0,N),_=yt.length;if(33===_&&[2,3].includes(Re)){V(U)||F("Point hex invalid: x not FE");let p=D($(U));!(1&~Re)!=(1n===(1n&p))&&(p=J(-p)),Ke=new ae(U,p,1n)}return 65===_&&4===Re&&(Ke=new ae(U,u(ot,N,2*N),1n)),Ke?Ke.ok():F("Point is not on curve")}static fromPrivateKey(yt){return pe.mul(j(yt))}get x(){return this.aff().x}get y(){return this.aff().y}equals(yt){const{px:Ke,py:Re,pz:ot}=this,{px:U,py:_,pz:p}=oe(yt),O=J(Ke*p),q=J(U*ot),me=J(Re*p),xe=J(_*ot);return O===q&&me===xe}negate(){return new ae(this.px,J(-this.py),this.pz)}double(){return this.add(this)}add(yt){const{px:Ke,py:Re,pz:ot}=this,{px:U,py:_,pz:p}=oe(yt),{a:O,b:q}=M;let me=0n,xe=0n,qe=0n;const At=J(3n*q);let ut=J(Ke*U),bt=J(Re*_),Lt=J(ot*p),en=J(Ke+Re),Zt=J(U+_);en=J(en*Zt),Zt=J(ut+bt),en=J(en-Zt),Zt=J(Ke+ot);let Jn=J(U+p);return Zt=J(Zt*Jn),Jn=J(ut+Lt),Zt=J(Zt-Jn),Jn=J(Re+ot),me=J(_+p),Jn=J(Jn*me),me=J(bt+Lt),Jn=J(Jn-me),qe=J(O*Zt),me=J(At*Lt),qe=J(me+qe),me=J(bt-qe),qe=J(bt+qe),xe=J(me*qe),bt=J(ut+ut),bt=J(bt+ut),Lt=J(O*Lt),Zt=J(At*Zt),bt=J(bt+Lt),Lt=J(ut-Lt),Lt=J(O*Lt),Zt=J(Zt+Lt),ut=J(bt*Zt),xe=J(xe+ut),ut=J(Jn*Zt),me=J(en*me),me=J(me-ut),ut=J(en*bt),qe=J(Jn*qe),qe=J(qe+ut),new ae(me,xe,qe)}mul(yt,Ke=!0){if(!Ke&&0n===yt)return le;if(Z(yt)||F("invalid scalar"),this.equals(pe))return Ne(yt).p;let Re=le,ot=pe;for(let U=this;yt>0n;U=U.double(),yt>>=1n)1n&yt?Re=Re.add(U):Ke&&(ot=ot.add(U));return Re}mulAddQUns(yt,Ke,Re){return this.mul(Ke,!1).add(yt.mul(Re,!1)).ok()}toAffine(){const{px:yt,py:Ke,pz:Re}=this;if(this.equals(le))return{x:0n,y:0n};if(1n===Re)return{x:yt,y:Ke};const ot=T(Re);return 1n!==J(Re*ot)&&F("invalid inverse"),{x:J(yt*ot),y:J(Ke*ot)}}assertValidity(){const{x:yt,y:Ke}=this.aff();return(!V(yt)||!V(Ke))&&F("Point invalid: x or y"),J(Ke*Ke)===$(yt)?this:F("Point invalid: not on curve")}multiply(yt){return this.mul(yt)}aff(){return this.toAffine()}ok(){return this.assertValidity()}toHex(yt=!0){const{x:Ke,y:Re}=this.aff();return(yt?0n===(1n&Re)?"02":"03":"04")+y(Ke)+(yt?"":y(Re))}toRawBytes(yt=!0){return De(this.toHex(yt))}}ae.BASE=new ae(S,L,1n),ae.ZERO=new ae(0n,1n,0n);const{BASE:pe,ZERO:le}=ae,ve=(Be,yt)=>Be.toString(16).padStart(yt,"0"),we=Be=>Array.from(Be).map(yt=>ve(yt,2)).join(""),De=Be=>{const yt=Be.length;(!X(Be)||yt%2)&&F("hex invalid 1");const Ke=te(yt/2);for(let Re=0;Re<Ke.length;Re++){const ot=2*Re,U=Be.slice(ot,ot+2),_=Number.parseInt(U,16);(Number.isNaN(_)||_<0)&&F("hex invalid 2"),Ke[Re]=_}return Ke},k=Be=>BigInt("0x"+(we(Be)||"0")),u=(Be,yt,Ke)=>k(Be.slice(yt,Ke)),h=Be=>I(Be)&&Be>=0n&&Be<x?De(ve(Be,2*N)):F("bigint expected"),y=Be=>we(h(Be)),w=(...Be)=>{const yt=te(Be.reduce((Re,ot)=>Re+re(ot).length,0));let Ke=0;return Be.forEach(Re=>{yt.set(Re,Ke),Ke+=Re.length}),yt},T=(Be,yt=R)=>{(0n===Be||yt<=0n)&&F("no inverse n="+Be+" mod="+yt);let Ke=J(Be,yt),Re=yt,ot=0n,U=1n,_=1n,p=0n;for(;0n!==Ke;){const O=Re/Ke,q=Re%Ke,me=ot-_*O,xe=U-p*O;Re=Ke,Ke=q,ot=_,U=p,_=me,p=xe}return 1n===Re?J(ot,yt):F("no inverse")},D=Be=>{let yt=1n;for(let Ke=Be,Re=(R+1n)/4n;Re>0n;Re>>=1n)1n&Re&&(yt=yt*Ke%R),Ke=Ke*Ke%R;return J(yt*yt)===Be?yt:F("sqrt invalid")},j=Be=>(I(Be)||(Be=k(Q(Be,N))),Z(Be)?Be:F("private key out of range")),A=Be=>Be>W>>1n;function l(Be,yt=!0){return ae.fromPrivateKey(Be).toRawBytes(yt)}class g{constructor(yt,Ke,Re){this.r=yt,this.s=Ke,this.recovery=Re,this.assertValidity()}static fromCompact(yt){return yt=Q(yt,64),new g(u(yt,0,N),u(yt,N,2*N))}assertValidity(){return Z(this.r)&&Z(this.s)?this:F()}addRecoveryBit(yt){return new g(this.r,this.s,yt)}hasHighS(){return A(this.s)}recoverPublicKey(yt){const{r:Ke,s:Re,recovery:ot}=this;[0,1,2,3].includes(ot)||F("recovery id invalid");const U=H(Q(yt,32)),_=2===ot||3===ot?Ke+W:Ke;_>=R&&F("q.x invalid");const O=ae.fromHex((1&ot?"03":"02")+y(_)),q=T(_,W),me=J(-U*q,W),xe=J(Re*q,W);return pe.mulAddQUns(O,me,xe)}toCompactRawBytes(){return De(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const G=Be=>{const yt=8*Be.length-256,Ke=k(Be);return yt>0?Ke>>BigInt(yt):Ke},H=Be=>J(G(Be),W),ne=Be=>h(Be),ce=()=>"object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;let Ae;const ke={lowS:!0},Fe={lowS:!0};function Oe(Be,yt){return ye.apply(this,arguments)}function ye(){return(ye=(0,m.A)(function*(Be,yt,Ke=ke){const{seed:Re,k2sig:ot}=function Ee(Be,yt,Ke=ke){["der","recovered","canonical"].some(xe=>xe in Ke)&&F("sign() legacy options not supported");let{lowS:Re}=Ke;null==Re&&(Re=!0);const ot=H(Q(Be)),U=ne(ot),_=j(yt),p=[ne(_),U];let O=Ke.extraEntropy;if(O){!0===O&&(O=ie.randomBytes(N));const xe=Q(O);xe.length!==N&&F(),p.push(xe)}const q=ot;return{seed:w(...p),k2sig:xe=>{const qe=G(xe);if(!Z(qe))return;const At=T(qe,W),ut=pe.mul(qe).aff(),bt=J(ut.x,W);if(0n===bt)return;const Lt=J(At*J(q+J(_*bt,W),W),W);if(0n===Lt)return;let en=Lt,Zt=(ut.x===bt?0:2)|Number(1n&ut.y);return Re&&A(Lt)&&(en=J(-Lt,W),Zt^=1),new g(bt,en,Zt)}}}(Be,yt,Ke);return function ge(Be){let yt=te(N),Ke=te(N),Re=0;const ot=()=>{yt.fill(1),Ke.fill(0),Re=0},U="drbg: tried 1000 values";if(Be){const _=(...q)=>ie.hmacSha256Async(Ke,yt,...q),p=function(){var q=(0,m.A)(function*(me=te()){Ke=yield _(te([0]),me),yt=yield _(),0!==me.length&&(Ke=yield _(te([1]),me),yt=yield _())});return function(){return q.apply(this,arguments)}}(),O=function(){var q=(0,m.A)(function*(){return Re++>=1e3&&F(U),yt=yield _(),yt});return function(){return q.apply(this,arguments)}}();return function(){var q=(0,m.A)(function*(me,xe){let qe;for(ot(),yield p(me);!(qe=xe(yield O()));)yield p();return ot(),qe});return function(me,xe){return q.apply(this,arguments)}}()}{const _=(...q)=>{const me=Ae;return me||F("etc.hmacSha256Sync not set"),me(Ke,yt,...q)},p=(q=te())=>{Ke=_(te([0]),q),yt=_(),0!==q.length&&(Ke=_(te([1]),q),yt=_())},O=()=>(Re++>=1e3&&F(U),yt=_(),yt);return(q,me)=>{let xe;for(ot(),p(q);!(xe=me(O()));)p();return ot(),xe}}}(!0)(Re,ot)})).apply(this,arguments)}function he(Be,yt,Ke,Re=Fe){let U,_,p,{lowS:ot}=Re;null==ot&&(ot=!0),"strict"in Re&&F("verify() legacy options not supported");const O=Be&&"object"==typeof Be&&"r"in Be;!O&&Q(Be).length!==2*N&&F("signature must be 64 bytes");try{U=O?new g(Be.r,Be.s).assertValidity():g.fromCompact(Be),_=H(Q(yt,N)),p=Ke instanceof ae?Ke.ok():ae.fromHex(Ke)}catch{return!1}if(!U)return!1;const{r:q,s:me}=U;if(ot&&A(me))return!1;let xe;try{const At=T(me,W),ut=J(_*At,W),bt=J(q*At,W);xe=pe.mulAddQUns(p,ut,bt).aff()}catch{return!1}return!!xe&&J(xe.x,W)===q}function ee(Be){((Be=Q(Be)).length<N+8||Be.length>1024)&&F("expected proper params");const Ke=J(k(Be),W-1n)+1n;return h(Ke)}const ie={hexToBytes:De,bytesToHex:we,concatBytes:w,bytesToNumberBE:k,numberToBytesBE:h,mod:J,invert:T,hmacSha256Async:(Be=(0,m.A)(function*(yt,...Ke){const Re=ce();if(!Re)return F("etc.hmacSha256Async not set");const ot=Re.subtle,U=yield ot.importKey("raw",yt,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return te(yield ot.sign("HMAC",U,w(...Ke)))}),function(Ke){return Be.apply(this,arguments)}),hmacSha256Sync:Ae,hashToPrivateKey:ee,randomBytes:Be=>{const yt=ce();return yt||F("crypto.getRandomValues must be defined"),yt.getRandomValues(te(Be))}},ue={normPrivateKeyToScalar:j,isValidPrivateKey:Be=>{try{return!!j(Be)}catch{return!1}},randomPrivateKey:()=>ee(ie.randomBytes(N+8)),precompute:(Be=8,yt=pe)=>(yt.multiply(3n),yt)};var Be;Object.defineProperties(ie,{hmacSha256Sync:{configurable:!1,get:()=>Ae,set(Be){Ae||(Ae=Be)}}});const Ne=Be=>{const yt=se||(se=(()=>{const Be=[];let Ke=pe,Re=Ke;for(let ot=0;ot<33;ot++){Re=Ke,Be.push(Re);for(let U=1;U<128;U++)Re=Re.add(Ke),Be.push(Re);Ke=Re.double()}return Be})()),Ke=(me,xe)=>{let qe=xe.negate();return me?qe:xe};let Re=le,ot=pe;const p=BigInt(255),q=BigInt(8);for(let me=0;me<33;me++){const xe=128*me;let qe=Number(Be&p);Be>>=q,qe>128&&(qe-=256,Be+=1n);const At=xe,ut=xe+Math.abs(qe)-1,Lt=qe<0;0===qe?ot=ot.add(Ke(me%2!=0,yt[At])):Re=Re.add(Ke(Lt,yt[ut]))}return{p:Re,f:ot}}},53813:(Le,z,E)=>{"use strict";function x(ye){return ye instanceof Uint8Array||null!=ye&&"object"==typeof ye&&"Uint8Array"===ye.constructor.name}function N(ye,Se,he){if(Se<2)throw new Error(`convertRadix: wrong from=${Se}, base cannot be less than 2`);if(he<2)throw new Error(`convertRadix: wrong to=${he}, base cannot be less than 2`);if(!Array.isArray(ye))throw new Error("convertRadix: data should be array");if(!ye.length)return[];let fe=0;const ee=[],ie=Array.from(ye);for(ie.forEach(ue=>{if(ue<0||ue>=Se)throw new Error(`Wrong integer: ${ue}`)});;){let ue=0,be=!0;for(let Ie=fe;Ie<ie.length;Ie++){const Ne=ie[Ie],Be=Se*ue+Ne;if(!Number.isSafeInteger(Be)||Se*ue/Se!==ue||Be-Ne!=Se*ue)throw new Error("convertRadix: carry overflow");ue=Be%he;const yt=Math.floor(Be/he);if(ie[Ie]=yt,!Number.isSafeInteger(yt)||yt*he+ue!==Be)throw new Error("convertRadix: carry overflow");be&&(yt?be=!1:fe=Ie)}if(ee.push(ue),be)break}for(let ue=0;ue<ye.length-1&&0===ye[ue];ue++)ee.push(0);return ee.reverse()}E.d(z,{Wp:()=>te});const $=(ye,Se)=>Se?$(Se,ye%Se):ye,F=(ye,Se)=>ye+(Se-$(ye,Se));function I(ye,Se,he,fe){if(!Array.isArray(ye))throw new Error("convertRadix2: data should be array");if(Se<=0||Se>32)throw new Error(`convertRadix2: wrong from=${Se}`);if(he<=0||he>32)throw new Error(`convertRadix2: wrong to=${he}`);if(F(Se,he)>32)throw new Error(`convertRadix2: carry overflow from=${Se} to=${he} carryBits=${F(Se,he)}`);let ee=0,ie=0;const ue=2**he-1,be=[];for(const Ie of ye){if(Ie>=2**Se)throw new Error(`convertRadix2: invalid data word=${Ie} from=${Se}`);if(ee=ee<<Se|Ie,ie+Se>32)throw new Error(`convertRadix2: carry overflow pos=${ie} from=${Se}`);for(ie+=Se;ie>=he;ie-=he)be.push((ee>>ie-he&ue)>>>0);ee&=2**ie-1}if(ee=ee<<he-ie&ue,!fe&&ie>=Se)throw new Error("Excess padding");if(!fe&&ee)throw new Error(`Non-zero padding: ${ee}`);return fe&&ie>0&&be.push(ee>>>0),be}const te={alphabet:function W(ye){return{encode:Se=>{if(!Array.isArray(Se)||Se.length&&"number"!=typeof Se[0])throw new Error("alphabet.encode input should be an array of numbers");return Se.map(he=>{if(he<0||he>=ye.length)throw new Error(`Digit index outside alphabet: ${he} (alphabet: ${ye.length})`);return ye[he]})},decode:Se=>{if(!Array.isArray(Se)||Se.length&&"string"!=typeof Se[0])throw new Error("alphabet.decode input should be array of strings");return Se.map(he=>{if("string"!=typeof he)throw new Error(`alphabet.decode: not string element=${he}`);const fe=ye.indexOf(he);if(-1===fe)throw new Error(`Unknown letter: "${he}". Allowed: ${ye}`);return fe})}}},chain:function R(...ye){const Se=ie=>ie,he=(ie,ue)=>be=>ie(ue(be));return{encode:ye.map(ie=>ie.encode).reduceRight(he,Se),decode:ye.map(ie=>ie.decode).reduce(he,Se)}},checksum:function re(ye,Se){if("function"!=typeof Se)throw new Error("checksum fn should be function");return{encode(he){if(!x(he))throw new Error("checksum.encode: input should be Uint8Array");const fe=Se(he).slice(0,ye),ee=new Uint8Array(he.length+ye);return ee.set(he),ee.set(fe,he.length),ee},decode(he){if(!x(he))throw new Error("checksum.decode: input should be Uint8Array");const fe=he.slice(0,-ye),ee=Se(fe).slice(0,ye),ie=he.slice(-ye);for(let ue=0;ue<ye;ue++)if(ee[ue]!==ie[ue])throw new Error("Invalid checksum");return fe}}},convertRadix:N,convertRadix2:I,radix:function X(ye){return{encode:Se=>{if(!x(Se))throw new Error("radix.encode input should be Uint8Array");return N(Array.from(Se),256,ye)},decode:Se=>{if(!Array.isArray(Se)||Se.length&&"number"!=typeof Se[0])throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(N(Se,ye,256))}}},radix2:function V(ye,Se=!1){if(ye<=0||ye>32)throw new Error("radix2: bits should be in (0..32]");if(F(8,ye)>32||F(ye,8)>32)throw new Error("radix2: carry overflow");return{encode:he=>{if(!x(he))throw new Error("radix2.encode input should be Uint8Array");return I(Array.from(he),8,ye,!Se)},decode:he=>{if(!Array.isArray(he)||he.length&&"number"!=typeof he[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(I(he,ye,8,Se))}}},join:function S(ye=""){if("string"!=typeof ye)throw new Error("join separator should be string");return{encode:Se=>{if(!Array.isArray(Se)||Se.length&&"string"!=typeof Se[0])throw new Error("join.encode input should be array of strings");for(let he of Se)if("string"!=typeof he)throw new Error(`join.encode: non-string input=${he}`);return Se.join(ye)},decode:Se=>{if("string"!=typeof Se)throw new Error("join.decode input should be string");return Se.split(ye)}}},padding:function L(ye,Se="="){if("string"!=typeof Se)throw new Error("padding chr should be string");return{encode(he){if(!Array.isArray(he)||he.length&&"string"!=typeof he[0])throw new Error("padding.encode input should be array of strings");for(let fe of he)if("string"!=typeof fe)throw new Error(`padding.encode: non-string input=${fe}`);for(;he.length*ye%8;)he.push(Se);return he},decode(he){if(!Array.isArray(he)||he.length&&"string"!=typeof he[0])throw new Error("padding.encode input should be array of strings");for(let ee of he)if("string"!=typeof ee)throw new Error(`padding.decode: non-string input=${ee}`);let fe=he.length;if(fe*ye%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;fe>0&&he[fe-1]===Se;fe--)if(!((fe-1)*ye%8))throw new Error("Invalid padding: string has too much padding");return he.slice(0,fe)}}}}},95555:(Le,z,E)=>{"use strict";E.d(z,{uW:()=>DN});var m={};E.r(m),E.d(m,{DO:()=>Jt,OG:()=>nu,My:()=>Rt,Ph:()=>ur,lX:()=>Ni,Id:()=>Nc,fg:()=>gs,qj:()=>eo,aT:()=>pi,aY:()=>wc,lq:()=>qr,z:()=>ro,Q5:()=>Rd});var x={};E.r(x),E.d(x,{base10:()=>fn});var R={};E.r(R),E.d(R,{base16:()=>zn,base16upper:()=>cr});var W={};E.r(W),E.d(W,{base2:()=>Or});var S={};E.r(S),E.d(S,{base256emoji:()=>vo});var L={};E.r(L),E.d(L,{base32:()=>ko,base32hex:()=>Tl,base32hexpad:()=>cd,base32hexpadupper:()=>Nd,base32hexupper:()=>Ec,base32pad:()=>Fs,base32padupper:()=>Nu,base32upper:()=>ad,base32z:()=>hf});var M={};E.r(M),E.d(M,{base36:()=>Gf,base36upper:()=>tx});var N={};E.r(N),E.d(N,{base58btc:()=>js,base58flickr:()=>Lu});var $={};E.r($),E.d($,{base64:()=>$m,base64pad:()=>at,base64url:()=>Ye,base64urlpad:()=>We});var F={};E.r(F),E.d(F,{base8:()=>tt});var I={};E.r(I),E.d(I,{identity:()=>Ot});var X={};E.r(X),E.d(X,{code:()=>Xn,decode:()=>Tn,encode:()=>Qn,name:()=>kn});var V={};E.r(V),E.d(V,{code:()=>oi,decode:()=>Vi,encode:()=>Ii,name:()=>Hn});var Z={};E.r(Z),E.d(Z,{identity:()=>Wr});var re={};E.r(re),E.d(re,{sha256:()=>bs,sha512:()=>Fp});var te={};E.r(te),E.d(te,{Authorization:()=>fx,AuthorizationDelegatedGrant:()=>ul,AuthorizationOwner:()=>px,Definitions:()=>GN,GeneralJwk:()=>ZN,GeneralJws:()=>XN,GenericSignaturePayload:()=>bx,JwkVerificationMethod:()=>YN,MessagesFilter:()=>qN,MessagesQuery:()=>bI,MessagesRead:()=>QN,MessagesSubscribe:()=>H8,NumberRangeFilter:()=>wI,PaginationCursor:()=>W8,PermissionGrantData:()=>_I,PermissionRequestData:()=>X8,PermissionRevocationData:()=>SI,PermissionsDefinitions:()=>zv,PermissionsScopes:()=>J_,ProtocolDefinition:()=>Ui,ProtocolRuleSet:()=>ek,ProtocolsConfigure:()=>tk,ProtocolsQuery:()=>sr,PublicJwk:()=>gf,RecordsDelete:()=>Vv,RecordsFilter:()=>Hv,RecordsQuery:()=>Cy,RecordsRead:()=>DI,RecordsSubscribe:()=>mf,RecordsWrite:()=>K8,RecordsWriteDataEncoded:()=>$8,RecordsWriteSignaturePayload:()=>r9,RecordsWriteUnidentified:()=>mx,StringRangeFilter:()=>kI});var Q={};E.r(Q),E.d(Q,{code:()=>Vy,decode:()=>nb,encode:()=>zy,name:()=>Jx});var J={};E.r(J),E.d(J,{code:()=>db,createLink:()=>P9,createNode:()=>GD,decode:()=>th,encode:()=>nm,name:()=>fS,prepare:()=>c0,validate:()=>uS});var oe={};E.r(oe),E.d(oe,{code:()=>yb,decode:()=>RP,encode:()=>$d,name:()=>PP});var se={};E.r(se),E.d(se,{base10:()=>rg});var ae={};E.r(ae),E.d(ae,{base16:()=>PS,base16upper:()=>wb});var pe={};E.r(pe),E.d(pe,{base2:()=>y3});var le={};E.r(le),E.d(le,{base256emoji:()=>JP});var ve={};E.r(ve),E.d(ve,{base32:()=>_b,base32hex:()=>QP,base32hexpad:()=>eR,base32hexpadupper:()=>b3,base32hexupper:()=>v3,base32pad:()=>qP,base32padupper:()=>nE,base32upper:()=>g3,base32z:()=>tR});var we={};E.r(we),E.d(we,{base36:()=>nR,base36upper:()=>w3});var De={};E.r(De),E.d(De,{base58btc:()=>Sf,base58flickr:()=>_3});var k={};E.r(k),E.d(k,{base64:()=>Eb,base64pad:()=>xb,base64url:()=>Sb,base64urlpad:()=>rR});var u={};E.r(u),E.d(u,{base8:()=>iR});var h={};E.r(h),E.d(h,{identity:()=>oR});var y={};E.r(y),E.d(y,{code:()=>B9,decode:()=>aR,encode:()=>N9,name:()=>sR});var w={};E.r(w),E.d(w,{code:()=>L9,decode:()=>U9,encode:()=>lR,name:()=>cR});var T={};E.r(T),E.d(T,{identity:()=>wR});var D={};E.r(D),E.d(D,{sha256:()=>Rb,sha512:()=>k3});var j={};E.r(j),E.d(j,{OG:()=>ZA,My:()=>G0,Ph:()=>Z0,lX:()=>xp,Id:()=>rv,fg:()=>r4,qj:()=>Za,aT:()=>qw,aY:()=>bl,lq:()=>Sp,z:()=>Qw,Q5:()=>iv});var A=E(49970);const Fe=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class ye{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Se{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return fe(this,t)}}class he{constructor(t){this.decoders=t}or(t){return fe(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const fe=(r,t)=>new he({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class ee{constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new ye(t,n,i),this.decoder=new Se(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const ie=({name:r,prefix:t,encode:n,decode:i})=>new ee(r,t,n,i),ue=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:o}=function l(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),s=c.charCodeAt(0);if(255!==n[s])throw new TypeError(c+" is ambiguous");n[s]=o}var d=r.length,B=r.charAt(0),C=Math.log(d)/Math.log(256),b=Math.log(256)/Math.log(d);function _e(Te){if("string"!=typeof Te)throw new TypeError("Expected String");if(0===Te.length)return new Uint8Array;var Pe=0;if(" "!==Te[Pe]){for(var ze=0,rt=0;Te[Pe]===B;)ze++,Pe++;for(var Xe=(Te.length-Pe)*C+1>>>0,Ze=new Uint8Array(Xe);Te[Pe];){var lt=n[Te.charCodeAt(Pe)];if(255===lt)return;for(var Et=0,pt=Xe-1;(0!==lt||Et<rt)&&-1!==pt;pt--,Et++)Ze[pt]=(lt+=d*Ze[pt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");rt=Et,Pe++}if(" "!==Te[Pe]){for(var Mt=Xe-rt;Mt!==Xe&&0===Ze[Mt];)Mt++;for(var Pt=new Uint8Array(ze+(Xe-Mt)),sn=ze;Mt!==Xe;)Pt[sn++]=Ze[Mt++];return Pt}}}return{encode:function K(Te){if(Te instanceof Uint8Array||(ArrayBuffer.isView(Te)?Te=new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength):Array.isArray(Te)&&(Te=Uint8Array.from(Te))),!(Te instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Te.length)return"";for(var Pe=0,ze=0,rt=0,Xe=Te.length;rt!==Xe&&0===Te[rt];)rt++,Pe++;for(var Ze=(Xe-rt)*b+1>>>0,lt=new Uint8Array(Ze);rt!==Xe;){for(var Et=Te[rt],pt=0,Mt=Ze-1;(0!==Et||pt<ze)&&-1!==Mt;Mt--,pt++)lt[Mt]=(Et+=256*lt[Mt]>>>0)%d>>>0,Et=Et/d>>>0;if(0!==Et)throw new Error("Non-zero carry");ze=pt,rt++}for(var Pt=Ze-ze;Pt!==Ze&&0===lt[Pt];)Pt++;for(var sn=B.repeat(Pe);Pt<Ze;++Pt)sn+=r.charAt(lt[Pt]);return sn},decodeUnsafe:_e,decode:function Ce(Te){var Pe=_e(Te);if(Pe)return Pe;throw new Error(`Non-${t} character`)}}}(n,t);return ie({prefix:r,name:t,encode:i,decode:c=>Fe(o(c))})},Ne=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>ie({prefix:t,name:r,encode:o=>((r,t,n)=>{const i="="===t[t.length-1],o=(1<<n)-1;let c="",s=0,d=0;for(let B=0;B<r.length;++B)for(d=d<<8|r[B],s+=8;s>n;)s-=n,c+=t[o&d>>s];if(s&&(c+=t[o&d<<n-s]),i)for(;c.length*n&7;)c+="=";return c})(o,i,n),decode:o=>((r,t,n,i)=>{const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const s=new Uint8Array(c*n/8|0);let d=0,B=0,C=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);B=B<<n|K,d+=n,d>=8&&(d-=8,s[C++]=255&B>>d)}if(d>=n||255&B<<8-d)throw new SyntaxError("Unexpected end of data");return s})(o,i,n,r)}),Ke=(Ne({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ne({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ne({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6})),ot=(Ne({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),new TextEncoder),U=new TextDecoder;class _{static base64UrlToBytes(t){return Ke.baseDecode(t)}static base64UrlToObject(t){const n=Ke.baseDecode(t);return _.bytesToObject(n)}static bytesToBase64Url(t){return Ke.baseEncode(t)}static bytesToString(t){return U.decode(t)}static bytesToObject(t){const n=_.bytesToString(t);return JSON.parse(n)}static objectToBytes(t){const n=JSON.stringify(t);return ot.encode(n)}static stringToBase64Url(t){const n=ot.encode(t);return Ke.baseEncode(n)}static stringToBytes(t){return ot.encode(t)}}var p=E(63741);class O extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DwnError"}}var q=function(r){return r.AuthenticateJwsMissing="AuthenticateJwsMissing",r.AuthenticateDescriptorCidMismatch="AuthenticateDescriptorCidMismatch",r.AuthenticationMoreThanOneSignatureNotSupported="AuthenticationMoreThanOneSignatureNotSupported",r.AuthorizationAuthorNotOwner="AuthorizationAuthorNotOwner",r.AuthorizationNotGrantedToAuthor="AuthorizationNotGrantedToAuthor",r.ComputeCidCodecNotSupported="ComputeCidCodecNotSupported",r.ComputeCidMultihashNotSupported="ComputeCidMultihashNotSupported",r.Ed25519InvalidJwk="Ed25519InvalidJwk",r.EventEmitterStreamNotOpenError="EventEmitterStreamNotOpenError",r.MessagesGrantAuthorizationMismatchedProtocol="EventsGrantAuthorizationMismatchedProtocol",r.MessagesSubscribeAuthorizationFailed="MessagesSubscribeAuthorizationFailed",r.MessagesSubscribeEventStreamUnimplemented="MessagesSubscribeEventStreamUnimplemented",r.GeneralJwsVerifierGetPublicKeyNotFound="GeneralJwsVerifierGetPublicKeyNotFound",r.GeneralJwsVerifierInvalidSignature="GeneralJwsVerifierInvalidSignature",r.GrantAuthorizationGrantExpired="GrantAuthorizationGrantExpired",r.GrantAuthorizationGrantMissing="GrantAuthorizationGrantMissing",r.GrantAuthorizationGrantRevoked="GrantAuthorizationGrantRevoked",r.GrantAuthorizationInterfaceMismatch="GrantAuthorizationInterfaceMismatch",r.GrantAuthorizationMethodMismatch="GrantAuthorizationMethodMismatch",r.GrantAuthorizationNotGrantedForTenant="GrantAuthorizationNotGrantedForTenant",r.GrantAuthorizationNotGrantedToAuthor="GrantAuthorizationNotGrantedToAuthor",r.GrantAuthorizationGrantNotYetActive="GrantAuthorizationGrantNotYetActive",r.HdKeyDerivationPathInvalid="HdKeyDerivationPathInvalid",r.JwsVerifySignatureUnsupportedCrv="JwsVerifySignatureUnsupportedCrv",r.IndexInvalidCursorValueType="IndexInvalidCursorValueType",r.IndexInvalidCursorSortProperty="IndexInvalidCursorSortProperty",r.IndexInvalidSortPropertyInMemory="IndexInvalidSortPropertyInMemory",r.IndexMissingIndexableProperty="IndexMissingIndexableProperty",r.JwsDecodePlainObjectPayloadInvalid="JwsDecodePlainObjectPayloadInvalid",r.MessagesReadInvalidCid="MessagesReadInvalidCid",r.MessagesReadAuthorizationFailed="MessagesReadAuthorizationFailed",r.MessageGetInvalidCid="MessageGetInvalidCid",r.MessagesQueryAuthorizationFailed="MessagesQueryAuthorizationFailed",r.MessagesReadVerifyScopeFailed="MessagesReadVerifyScopeFailed",r.ParseCidCodecNotSupported="ParseCidCodecNotSupported",r.ParseCidMultihashNotSupported="ParseCidMultihashNotSupported",r.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol="PermissionsProtocolCreateGrantRecordsScopeMissingProtocol",r.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol="PermissionsProtocolCreateRequestRecordsScopeMissingProtocol",r.PermissionsProtocolGetScopeInvalidProtocol="PermissionsProtocolGetScopeInvalidProtocol",r.PermissionsProtocolValidateSchemaUnexpectedRecord="PermissionsProtocolValidateSchemaUnexpectedRecord",r.PermissionsProtocolValidateScopeContextIdProhibitedProperties="PermissionsProtocolValidateScopeContextIdProhibitedProperties",r.PermissionsProtocolValidateScopeProtocolMismatch="PermissionsProtocolValidateScopeProtocolMismatch",r.PermissionsProtocolValidateScopeMissingProtocolTag="PermissionsProtocolValidateScopeMissingProtocolTag",r.PermissionsProtocolValidateRevocationProtocolTagMismatch="PermissionsProtocolValidateRevocationProtocolTagMismatch",r.PrivateKeySignerUnableToDeduceAlgorithm="PrivateKeySignerUnableToDeduceAlgorithm",r.PrivateKeySignerUnableToDeduceKeyId="PrivateKeySignerUnableToDeduceKeyId",r.PrivateKeySignerUnsupportedCurve="PrivateKeySignerUnsupportedCurve",r.ProtocolAuthorizationActionNotAllowed="ProtocolAuthorizationActionNotAllowed",r.ProtocolAuthorizationActionRulesNotFound="ProtocolAuthorizationActionRulesNotFound",r.ProtocolAuthorizationIncorrectDataFormat="ProtocolAuthorizationIncorrectDataFormat",r.ProtocolAuthorizationIncorrectContextId="ProtocolAuthorizationIncorrectContextId",r.ProtocolAuthorizationIncorrectProtocolPath="ProtocolAuthorizationIncorrectProtocolPath",r.ProtocolAuthorizationDuplicateRoleRecipient="ProtocolAuthorizationDuplicateRoleRecipient",r.ProtocolAuthorizationInvalidSchema="ProtocolAuthorizationInvalidSchema",r.ProtocolAuthorizationInvalidType="ProtocolAuthorizationInvalidType",r.ProtocolAuthorizationMatchingRoleRecordNotFound="ProtocolAuthorizationMatchingRoleRecordNotFound",r.ProtocolAuthorizationMaxSizeInvalid="ProtocolAuthorizationMaxSizeInvalid",r.ProtocolAuthorizationMinSizeInvalid="ProtocolAuthorizationMinSizeInvalid",r.ProtocolAuthorizationMissingContextId="ProtocolAuthorizationMissingContextId",r.ProtocolAuthorizationMissingRuleSet="ProtocolAuthorizationMissingRuleSet",r.ProtocolAuthorizationParentlessIncorrectProtocolPath="ProtocolAuthorizationParentlessIncorrectProtocolPath",r.ProtocolAuthorizationNotARole="ProtocolAuthorizationNotARole",r.ProtocolAuthorizationParentNotFoundConstructingRecordChain="ProtocolAuthorizationParentNotFoundConstructingRecordChain",r.ProtocolAuthorizationProtocolNotFound="ProtocolAuthorizationProtocolNotFound",r.ProtocolAuthorizationRoleMissingRecipient="ProtocolAuthorizationRoleMissingRecipient",r.ProtocolAuthorizationTagsInvalidSchema="ProtocolAuthorizationTagsInvalidSchema",r.ProtocolsConfigureDuplicateActorInRuleSet="ProtocolsConfigureDuplicateActorInRuleSet",r.ProtocolsConfigureDuplicateRoleInRuleSet="ProtocolsConfigureDuplicateRoleInRuleSet",r.ProtocolsConfigureInvalidSize="ProtocolsConfigureInvalidSize",r.ProtocolsConfigureInvalidActionMissingOf="ProtocolsConfigureInvalidActionMissingOf",r.ProtocolsConfigureInvalidActionOfNotAllowed="ProtocolsConfigureInvalidActionOfNotAllowed",r.ProtocolsConfigureInvalidActionDeleteWithoutCreate="ProtocolsConfigureInvalidActionDeleteWithoutCreate",r.ProtocolsConfigureInvalidActionUpdateWithoutCreate="ProtocolsConfigureInvalidActionUpdateWithoutCreate",r.ProtocolsConfigureInvalidRecipientOfAction="ProtocolsConfigureInvalidRecipientOfAction",r.ProtocolsConfigureInvalidRuleSetRecordType="ProtocolsConfigureInvalidRuleSetRecordType",r.ProtocolsConfigureInvalidTagSchema="ProtocolsConfigureInvalidTagSchema",r.ProtocolsConfigureRecordNestingDepthExceeded="ProtocolsConfigureRecordNestingDepthExceeded",r.ProtocolsConfigureRoleDoesNotExistAtGivenPath="ProtocolsConfigureRoleDoesNotExistAtGivenPath",r.ProtocolsQueryUnauthorized="ProtocolsQueryUnauthorized",r.RecordsAuthorDelegatedGrantAndIdExistenceMismatch="RecordsAuthorDelegatedGrantAndIdExistenceMismatch",r.RecordsAuthorDelegatedGrantCidMismatch="RecordsAuthorDelegatedGrantCidMismatch",r.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsAuthorDelegatedGrantNotADelegatedGrant="RecordsAuthorDelegatedGrantNotADelegatedGrant",r.RecordsDecryptNoMatchingKeyEncryptedFound="RecordsDecryptNoMatchingKeyEncryptedFound",r.RecordsDeleteAuthorizationFailed="RecordsDeleteAuthorizationFailed",r.RecordsQueryCreateFilterPublishedSortInvalid="RecordsQueryCreateFilterPublishedSortInvalid",r.RecordsQueryParseFilterPublishedSortInvalid="RecordsQueryParseFilterPublishedSortInvalid",r.RecordsGrantAuthorizationConditionPublicationProhibited="RecordsGrantAuthorizationConditionPublicationProhibited",r.RecordsGrantAuthorizationConditionPublicationRequired="RecordsGrantAuthorizationConditionPublicationRequired",r.RecordsGrantAuthorizationDeleteProtocolScopeMismatch="RecordsGrantAuthorizationDeleteProtocolScopeMismatch",r.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch="RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch",r.RecordsGrantAuthorizationScopeContextIdMismatch="RecordsGrantAuthorizationScopeContextIdMismatch",r.RecordsGrantAuthorizationScopeProtocolMismatch="RecordsGrantAuthorizationScopeProtocolMismatch",r.RecordsGrantAuthorizationScopeProtocolPathMismatch="RecordsGrantAuthorizationScopeProtocolPathMismatch",r.RecordsDerivePrivateKeyUnSupportedCurve="RecordsDerivePrivateKeyUnSupportedCurve",r.RecordsInvalidAncestorKeyDerivationSegment="RecordsInvalidAncestorKeyDerivationSegment",r.RecordsOwnerDelegatedGrantAndIdExistenceMismatch="RecordsOwnerDelegatedGrantAndIdExistenceMismatch",r.RecordsOwnerDelegatedGrantCidMismatch="RecordsOwnerDelegatedGrantCidMismatch",r.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch="RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch",r.RecordsOwnerDelegatedGrantNotADelegatedGrant="RecordsOwnerDelegatedGrantNotADelegatedGrant",r.RecordsProtocolContextDerivationSchemeMissingContextId="RecordsProtocolContextDerivationSchemeMissingContextId",r.RecordsProtocolPathDerivationSchemeMissingProtocol="RecordsProtocolPathDerivationSchemeMissingProtocol",r.RecordsQueryFilterMissingRequiredProperties="RecordsQueryFilterMissingRequiredProperties",r.RecordsReadReturnedMultiple="RecordsReadReturnedMultiple",r.RecordsReadAuthorizationFailed="RecordsReadAuthorizationFailed",r.RecordsSubscribeEventStreamUnimplemented="RecordsSubscribeEventStreamUnimplemented",r.RecordsSubscribeFilterMissingRequiredProperties="RecordsSubscribeFilterMissingRequiredProperties",r.RecordsSchemasDerivationSchemeMissingSchema="RecordsSchemasDerivationSchemeMissingSchema",r.RecordsWriteAttestationIntegrityMoreThanOneSignature="RecordsWriteAttestationIntegrityMoreThanOneSignature",r.RecordsWriteAttestationIntegrityDescriptorCidMismatch="RecordsWriteAttestationIntegrityDescriptorCidMismatch",r.RecordsWriteAttestationIntegrityInvalidPayloadProperty="RecordsWriteAttestationIntegrityInvalidPayloadProperty",r.RecordsWriteAuthorizationFailed="RecordsWriteAuthorizationFailed",r.RecordsWriteCreateMissingSigner="RecordsWriteCreateMissingSigner",r.RecordsWriteCreateDataAndDataCidMutuallyExclusive="RecordsWriteCreateDataAndDataCidMutuallyExclusive",r.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive="RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive",r.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive="RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive",r.RecordsWriteDataCidMismatch="RecordsWriteDataCidMismatch",r.RecordsWriteDataSizeMismatch="RecordsWriteDataSizeMismatch",r.RecordsWriteGetEntryIdUndefinedAuthor="RecordsWriteGetEntryIdUndefinedAuthor",r.RecordsWriteGetNewestWriteRecordNotFound="RecordsWriteGetNewestWriteRecordNotFound",r.RecordsWriteGetInitialWriteNotFound="RecordsWriteGetInitialWriteNotFound",r.RecordsWriteImmutablePropertyChanged="RecordsWriteImmutablePropertyChanged",r.RecordsWriteMissingSigner="RecordsWriteMissingSigner",r.RecordsWriteMissingDataInPrevious="RecordsWriteMissingDataInPrevious",r.RecordsWriteMissingEncodedDataInPrevious="RecordsWriteMissingEncodedDataInPrevious",r.RecordsWriteMissingDataStream="RecordsWriteMissingDataStream",r.RecordsWriteMissingProtocol="RecordsWriteMissingProtocol",r.RecordsWriteMissingSchema="RecordsWriteMissingSchema",r.RecordsWriteOwnerAndTenantMismatch="RecordsWriteOwnerAndTenantMismatch",r.RecordsWriteSignAsOwnerDelegateUnknownAuthor="RecordsWriteSignAsOwnerDelegateUnknownAuthor",r.RecordsWriteSignAsOwnerUnknownAuthor="RecordsWriteSignAsOwnerUnknownAuthor",r.RecordsWriteValidateIntegrityAttestationMismatch="RecordsWriteValidateIntegrityAttestationMismatch",r.RecordsWriteValidateIntegrityContextIdMismatch="RecordsWriteValidateIntegrityContextIdMismatch",r.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload="RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload",r.RecordsWriteValidateIntegrityDateCreatedMismatch="RecordsWriteValidateIntegrityDateCreatedMismatch",r.RecordsWriteValidateIntegrityEncryptionCidMismatch="RecordsWriteValidateIntegrityEncryptionCidMismatch",r.RecordsWriteValidateIntegrityRecordIdUnauthorized="RecordsWriteValidateIntegrityRecordIdUnauthorized",r.SchemaValidatorAdditionalPropertyNotAllowed="SchemaValidatorAdditionalPropertyNotAllowed",r.SchemaValidatorFailure="SchemaValidatorFailure",r.SchemaValidatorSchemaNotFound="SchemaValidatorSchemaNotFound",r.SchemaValidatorUnevaluatedPropertyNotAllowed="SchemaValidatorUnevaluatedPropertyNotAllowed",r.Secp256k1KeyNotValid="Secp256k1KeyNotValid",r.Secp256r1KeyNotValid="Secp256r1KeyNotValid",r.TimestampInvalid="TimestampInvalid",r.UrlProtocolNotNormalized="UrlProtocolNotNormalized",r.UrlProtocolNotNormalizable="UrlProtocolNotNormalizable",r.UrlSchemaNotNormalized="UrlSchemaNotNormalized",r}(q||{}),me=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};function xe(r){if("OKP"!==r.kty||"Ed25519"!==r.crv)throw new O(q.Ed25519InvalidJwk,"invalid jwk. kty MUST be OKP. crv MUST be Ed25519")}function qe(r){return{alg:"EdDSA",kty:"OKP",crv:"Ed25519",x:_.bytesToBase64Url(r)}}const At={sign:(r,t)=>me(void 0,void 0,void 0,function*(){xe(t);const n=_.base64UrlToBytes(t.d);return p.wJ(r,n)}),verify:(r,t,n)=>me(void 0,void 0,void 0,function*(){xe(n);const i=_.base64UrlToBytes(n.x);return p.kv(t,r,i)}),generateKeyPair:()=>me(void 0,void 0,void 0,function*(){const r=p.Wp.randomPrivateKey(),t=yield p.Rn(r),n=_.bytesToBase64Url(r),i=qe(t);return{publicJwk:i,privateJwk:Object.assign(Object.assign({},i),{d:n})}}),publicKeyToJwk:r=>me(void 0,void 0,void 0,function*(){return qe(r)})};var ut=E(68464),bt=E(10467),en=128,Jn=-128,yn=Math.pow(2,31),mt=128,st=127,Kt=Math.pow(2,7),qt=Math.pow(2,14),or=Math.pow(2,21),ft=Math.pow(2,28),gt=Math.pow(2,35),vt=Math.pow(2,42),He=Math.pow(2,49),Je=Math.pow(2,56),Bt=Math.pow(2,63);const cn={encode:function Vt(r,t,n){t=t||[];for(var i=n=n||0;r>=yn;)t[n++]=255&r|en,r/=128;for(;r&Jn;)t[n++]=255&r|en,r>>>=7;return t[n]=0|r,Vt.bytes=n-i+1,t},decode:function Nt(r,i){var s,n=0,o=0,c=i=i||0,d=r.length;do{if(c>=d)throw Nt.bytes=0,new RangeError("Could not decode varint");s=r[c++],n+=o<28?(s&st)<<o:(s&st)*Math.pow(2,o),o+=7}while(s>=mt);return Nt.bytes=c-i,n},encodingLength:function(r){return r<Kt?1:r<qt?2:r<or?3:r<ft?4:r<gt?5:r<vt?6:r<He?7:r<Je?8:r<Bt?9:10}},pn=(r,t=0)=>[cn.decode(r,t),cn.decode.bytes],vr=(r,t,n=0)=>(cn.encode(r,t,n),t),Un=r=>cn.encodingLength(r),An=(r,t)=>{const n=t.byteLength,i=Un(r),o=i+Un(n),c=new Uint8Array(o+n);return vr(r,c,0),vr(n,c,i),c.set(t,o),new $e(r,n,t,c)},On=r=>{const t=Fe(r),[n,i]=pn(t),[o,c]=pn(t.subarray(i)),s=t.subarray(i+c);if(s.byteLength!==o)throw new Error("Incorrect length");return new $e(n,o,s,t)};class $e{constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const it=({name:r,code:t,encode:n})=>new jt(r,t,n);class jt{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?An(this.code,n):n.then(i=>An(this.code,i))}throw Error("Unknown type, must be binary type")}}const dn=r=>function(){var t=(0,bt.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),Rn=it({name:"sha2-256",code:18,encode:dn("SHA-256")});it({name:"sha2-512",code:19,encode:dn("SHA-512")});var tr=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class _r{static validateKey(t){if("EC"!==t.kty||"secp256k1"!==t.crv)throw new O(q.Secp256k1KeyNotValid,"Invalid SECP256K1 JWK: `kty` MUST be `EC`. `crv` MUST be `secp256k1`")}static publicKeyToJwk(t){return tr(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?ut.CB.fromHex(t).toRawBytes(!1):t,{alg:"ES256K",kty:"EC",crv:"secp256k1",x:_.bytesToBase64Url(n.subarray(1,33)),y:_.bytesToBase64Url(n.subarray(33,65))}})}static privateKeyToJwk(t){return tr(this,void 0,void 0,function*(){const n=yield _r.getPublicKey(t),i=yield _r.publicKeyToJwk(n);return i.d=_.bytesToBase64Url(t),i})}static publicJwkToBytes(t){const n=_.base64UrlToBytes(t.x),i=_.base64UrlToBytes(t.y);return ut.CB.fromAffine({x:ut.jn.bytesToNumberBE(n),y:ut.jn.bytesToNumberBE(i)}).toRawBytes(!0)}static privateJwkToBytes(t){return _.base64UrlToBytes(t.d)}static sign(t,n){return tr(this,void 0,void 0,function*(){_r.validateKey(n);const i=yield Rn.encode(t),o=_r.privateJwkToBytes(n);return(yield ut.wJ(i,o)).toCompactRawBytes()})}static verify(t,n,i){return tr(this,void 0,void 0,function*(){_r.validateKey(i);const o=_r.publicJwkToBytes(i),c=yield Rn.encode(t);return ut.MX(n,c,o)})}static generateKeyPair(){return tr(this,void 0,void 0,function*(){const t=ut.Wp.randomPrivateKey(),n=ut.lG(t,!1),i=_.bytesToBase64Url(t),o=yield _r.publicKeyToJwk(n);return{publicJwk:o,privateJwk:Object.assign(Object.assign({},o),{d:i})}})}static generateKeyPairRaw(){return tr(this,void 0,void 0,function*(){const t=ut.Wp.randomPrivateKey();return{publicKey:ut.lG(t,!0),privateKey:t}})}static getPublicKey(t){return tr(this,void 0,void 0,function*(){return ut.lG(t,!0)})}static getPublicJwk(t){return tr(this,void 0,void 0,function*(){return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"])})}}function Pr(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function Ht(r,...t){if(!function zr(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function vn(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const pr="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,fo=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),ci=(r,t)=>r<<32-t|r>>>t;function la(r){return"string"==typeof r&&(r=function Na(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}(r)),Ht(r),r}new Uint8Array(new Uint32Array([287454020]).buffer);class Qd{clone(){return this._cloneInto()}}function ku(r){const t=i=>r().update(la(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function eu(r=32){if(pr&&"function"==typeof pr.getRandomValues)return pr.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}const da=(r,t,n)=>r&t^~r&n,qa=(r,t,n)=>r&t^r&n^t&n;class Sa extends Qd{constructor(t,n,i,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=fo(this.buffer)}update(t){vn(this);const{view:n,buffer:i,blockLen:o}=this,c=(t=la(t)).length;for(let s=0;s<c;){const d=Math.min(o-this.pos,c-s);if(d!==o)i.set(t.subarray(s,s+d),this.pos),this.pos+=d,s+=d,this.pos===o&&(this.process(n,0),this.pos=0);else{const B=fo(t);for(;o<=c-s;s+=o)this.process(B,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){vn(this),function Dn(r,t){Ht(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:o,isLE:c}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(i,0),s=0);for(let K=s;K<o;K++)n[K]=0;(function kd(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const o=BigInt(32),c=BigInt(4294967295),s=Number(n>>o&c),d=Number(n&c),C=i?0:4;r.setUint32(t+(i?4:0),s,i),r.setUint32(t+C,d,i)})(i,o-8,BigInt(8*this.length),c),this.process(i,0);const d=fo(t),B=this.outputLen;if(B%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const C=B/4,b=this.get();if(C>b.length)throw new Error("_sha2: outputLen bigger than state");for(let K=0;K<C;K++)d.setUint32(4*K,b[K],c)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:o,finished:c,destroyed:s,pos:d}=this;return t.length=o,t.pos=d,t.finished=c,t.destroyed=s,o%n&&t.buffer.set(i),t}}const td=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),La=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ls=new Uint32Array(64);class bc extends Sa{constructor(){super(64,32,8,!1),this.A=0|La[0],this.B=0|La[1],this.C=0|La[2],this.D=0|La[3],this.E=0|La[4],this.F=0|La[5],this.G=0|La[6],this.H=0|La[7]}get(){const{A:t,B:n,C:i,D:o,E:c,F:s,G:d,H:B}=this;return[t,n,i,o,c,s,d,B]}set(t,n,i,o,c,s,d,B){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|o,this.E=0|c,this.F=0|s,this.G=0|d,this.H=0|B}process(t,n){for(let K=0;K<16;K++,n+=4)Ls[K]=t.getUint32(n,!1);for(let K=16;K<64;K++){const _e=Ls[K-15],Ce=Ls[K-2],Te=ci(_e,7)^ci(_e,18)^_e>>>3,Pe=ci(Ce,17)^ci(Ce,19)^Ce>>>10;Ls[K]=Pe+Ls[K-7]+Te+Ls[K-16]|0}let{A:i,B:o,C:c,D:s,E:d,F:B,G:C,H:b}=this;for(let K=0;K<64;K++){const Ce=b+(ci(d,6)^ci(d,11)^ci(d,25))+da(d,B,C)+td[K]+Ls[K]|0,Pe=(ci(i,2)^ci(i,13)^ci(i,22))+qa(i,o,c)|0;b=C,C=B,B=d,d=s+Ce|0,s=c,c=o,o=i,i=Ce+Pe|0}i=i+this.A|0,o=o+this.B|0,c=c+this.C|0,s=s+this.D|0,d=d+this.E|0,B=B+this.F|0,C=C+this.G|0,b=b+this.H|0,this.set(i,o,c,s,d,B,C,b)}roundClean(){Ls.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ua=ku(()=>new bc);class rd extends Qd{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function ln(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Pr(r.outputLen),Pr(r.blockLen)}(t);const i=la(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,c=new Uint8Array(o);c.set(i.length>o?t.create().update(i).digest():i);for(let s=0;s<c.length;s++)c[s]^=54;this.iHash.update(c),this.oHash=t.create();for(let s=0;s<c.length;s++)c[s]^=106;this.oHash.update(c),c.fill(0)}update(t){return vn(this),this.iHash.update(t),this}digestInto(t){vn(this),Ht(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:o,destroyed:c,blockLen:s,outputLen:d}=this;return t.finished=o,t.destroyed=c,t.blockLen=s,t.outputLen=d,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const tu=(r,t,n)=>new rd(r,t).update(n).digest();tu.create=(r,t)=>new rd(r,t);const fa=BigInt(1),ol=BigInt(2);function wc(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}function Jt(r){if(!wc(r))throw new Error("Uint8Array expected")}const qn=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Rt(r){Jt(r);let t="";for(let n=0;n<r.length;n++)t+=qn[r[n]];return t}function gn(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const mr={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function lr(r){return r>=mr._0&&r<=mr._9?r-mr._0:r>=mr._A&&r<=mr._F?r-(mr._A-10):r>=mr._a&&r<=mr._f?r-(mr._a-10):void 0}function pi(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let o=0,c=0;o<n;o++,c+=2){const s=lr(r.charCodeAt(c)),d=lr(r.charCodeAt(c+1));if(void 0===s||void 0===d)throw new Error('hex string expected, got non-hex character "'+(r[c]+r[c+1])+'" at index '+c);i[o]=16*s+d}return i}function ur(r){return gn(Rt(r))}function Ni(r){return Jt(r),gn(Rt(Uint8Array.from(r).reverse()))}function qr(r,t){return pi(r.toString(16).padStart(2*t,"0"))}function ro(r,t){return qr(r,t).reverse()}function eo(r,t,n){let i;if("string"==typeof t)try{i=pi(t)}catch(c){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${c}`)}else{if(!wc(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const o=i.length;if("number"==typeof n&&o!==n)throw new Error(`${r} expected ${n} bytes, got ${o}`);return i}function Nc(...r){let t=0;for(let i=0;i<r.length;i++){const o=r[i];Jt(o),t+=o.length}const n=new Uint8Array(t);for(let i=0,o=0;i<r.length;i++){const c=r[i];n.set(c,o),o+=c.length}return n}const nu=r=>(ol<<BigInt(r-1))-fa,ys=r=>new Uint8Array(r),Pd=r=>Uint8Array.from(r);function gs(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=ys(r),o=ys(r),c=0;const s=()=>{i.fill(1),o.fill(0),c=0},d=(...K)=>n(o,i,...K),B=(K=ys())=>{o=d(Pd([0]),K),i=d(),0!==K.length&&(o=d(Pd([1]),K),i=d())},C=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let K=0;const _e=[];for(;K<t;){i=d();const Ce=i.slice();_e.push(Ce),K+=i.length}return Nc(..._e)};return(K,_e)=>{let Ce;for(s(),B(K);!(Ce=_e(C()));)B();return s(),Ce}}const nc={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||wc(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function Rd(r,t,n={}){const i=(o,c,s)=>{const d=nc[c];if("function"!=typeof d)throw new Error(`Invalid validator "${c}", expected function`);const B=r[o];if(!(s&&void 0===B||d(B,r)))throw new Error(`Invalid param ${String(o)}=${B} (${typeof B}), expected ${c}`)};for(const[o,c]of Object.entries(t))i(o,c,!1);for(const[o,c]of Object.entries(n))i(o,c,!0);return r}const mi=BigInt(0),po=BigInt(1),So=BigInt(2),Rp=BigInt(3),$f=BigInt(4),id=BigInt(5),od=BigInt(8);function Co(r,t){const n=r%t;return n>=mi?n:t+n}function Vf(r,t,n){if(n<=mi||t<mi)throw new Error("Expected power/modulo > 0");if(n===po)return mi;let i=po;for(;t>mi;)t&po&&(i=i*r%n),r=r*r%n,t>>=po;return i}function Pu(r,t){if(r===mi||t<=mi)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=Co(r,t),i=t,o=mi,c=po,s=po,d=mi;for(;n!==mi;){const C=i/n,b=i%n,K=o-s*C,_e=c-d*C;i=n,n=b,o=s,c=d,s=K,d=_e}if(i!==po)throw new Error("invert: does not exist");return Co(o,t)}BigInt(9),BigInt(16);const Ct=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function zo(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Np(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Ml(r){const t=Np(r);return t+Math.ceil(t/2)}const al=BigInt(0),Od=BigInt(1);function Um(r){return function ht(r){Rd(r,Ct.reduce((i,o)=>(i[o]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),Rd(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...zo(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:Bd,aT:Oh}=m,Al={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=Al;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Bd(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=Al,n="string"==typeof r?Oh(r):r;Jt(n);let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:o,l:c}=Al._parseInt(n.subarray(2)),{d:s,l:d}=Al._parseInt(c);if(d.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(r){const t=C=>8&Number.parseInt(C[0],16)?"00"+C:C,n=C=>{const b=C.toString(16);return 1&b.length?`0${b}`:b},i=t(n(r.s)),o=t(n(r.r)),c=i.length/2,s=o.length/2,d=n(c),B=n(s);return`30${n(s+c+4)}02${B}${o}02${d}${i}`}},rc=BigInt(0),Mo=BigInt(1),wi=(BigInt(2),BigInt(3));function Bh(r){const t=function Uc(r){const t=Um(r);return Rd(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,o=n.BYTES+1,c=2*n.BYTES+1;function d(Wt){return Co(Wt,i)}function B(Wt){return Pu(Wt,i)}const{ProjectivePoint:C,normPrivateKeyToScalar:b,weierstrassEquation:K,isWithinCurveOrder:_e}=function Hf(r){const t=function uf(r){const t=Um(r);Rd(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:o}=t;if(n){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Te,Pe,ze)=>{const rt=Pe.toAffine();return Nc(Uint8Array.from([4]),n.toBytes(rt.x),n.toBytes(rt.y))}),o=t.fromBytes||(Te=>{const Pe=Te.subarray(1);return{x:n.fromBytes(Pe.subarray(0,n.BYTES)),y:n.fromBytes(Pe.subarray(n.BYTES,2*n.BYTES))}});function c(Te){const{a:Pe,b:ze}=t,rt=n.sqr(Te),Xe=n.mul(rt,Te);return n.add(n.add(Xe,n.mul(Te,Pe)),ze)}if(!n.eql(n.sqr(t.Gy),c(t.Gx)))throw new Error("bad generator point: equation left != right");function s(Te){return"bigint"==typeof Te&&rc<Te&&Te<t.n}function d(Te){if(!s(Te))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function B(Te){const{allowedPrivateKeyLengths:Pe,nByteLength:ze,wrapPrivateKey:rt,n:Xe}=t;if(Pe&&"bigint"!=typeof Te){if(wc(Te)&&(Te=Rt(Te)),"string"!=typeof Te||!Pe.includes(Te.length))throw new Error("Invalid key");Te=Te.padStart(2*ze,"0")}let Ze;try{Ze="bigint"==typeof Te?Te:ur(eo("private key",Te,ze))}catch{throw new Error(`private key must be ${ze} bytes, hex or bigint, not ${typeof Te}`)}return rt&&(Ze=Co(Ze,Xe)),d(Ze),Ze}const C=new Map;function b(Te){if(!(Te instanceof K))throw new Error("ProjectivePoint expected")}class K{constructor(Pe,ze,rt){if(this.px=Pe,this.py=ze,this.pz=rt,null==Pe||!n.isValid(Pe))throw new Error("x required");if(null==ze||!n.isValid(ze))throw new Error("y required");if(null==rt||!n.isValid(rt))throw new Error("z required")}static fromAffine(Pe){const{x:ze,y:rt}=Pe||{};if(!Pe||!n.isValid(ze)||!n.isValid(rt))throw new Error("invalid affine point");if(Pe instanceof K)throw new Error("projective point not allowed");const Xe=Ze=>n.eql(Ze,n.ZERO);return Xe(ze)&&Xe(rt)?K.ZERO:new K(ze,rt,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Pe){const ze=n.invertBatch(Pe.map(rt=>rt.pz));return Pe.map((rt,Xe)=>rt.toAffine(ze[Xe])).map(K.fromAffine)}static fromHex(Pe){const ze=K.fromAffine(o(eo("pointHex",Pe)));return ze.assertValidity(),ze}static fromPrivateKey(Pe){return K.BASE.multiply(B(Pe))}_setWindowSize(Pe){this._WINDOW_SIZE=Pe,C.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Pe,y:ze}=this.toAffine();if(!n.isValid(Pe)||!n.isValid(ze))throw new Error("bad point: x or y not FE");const rt=n.sqr(ze),Xe=c(Pe);if(!n.eql(rt,Xe))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Pe}=this.toAffine();if(n.isOdd)return!n.isOdd(Pe);throw new Error("Field doesn't support isOdd")}equals(Pe){b(Pe);const{px:ze,py:rt,pz:Xe}=this,{px:Ze,py:lt,pz:Et}=Pe,pt=n.eql(n.mul(ze,Et),n.mul(Ze,Xe)),Mt=n.eql(n.mul(rt,Et),n.mul(lt,Xe));return pt&&Mt}negate(){return new K(this.px,n.neg(this.py),this.pz)}double(){const{a:Pe,b:ze}=t,rt=n.mul(ze,wi),{px:Xe,py:Ze,pz:lt}=this;let Et=n.ZERO,pt=n.ZERO,Mt=n.ZERO,Pt=n.mul(Xe,Xe),sn=n.mul(Ze,Ze),an=n.mul(lt,lt),_n=n.mul(Xe,Ze);return _n=n.add(_n,_n),Mt=n.mul(Xe,lt),Mt=n.add(Mt,Mt),Et=n.mul(Pe,Mt),pt=n.mul(rt,an),pt=n.add(Et,pt),Et=n.sub(sn,pt),pt=n.add(sn,pt),pt=n.mul(Et,pt),Et=n.mul(_n,Et),Mt=n.mul(rt,Mt),an=n.mul(Pe,an),_n=n.sub(Pt,an),_n=n.mul(Pe,_n),_n=n.add(_n,Mt),Mt=n.add(Pt,Pt),Pt=n.add(Mt,Pt),Pt=n.add(Pt,an),Pt=n.mul(Pt,_n),pt=n.add(pt,Pt),an=n.mul(Ze,lt),an=n.add(an,an),Pt=n.mul(an,_n),Et=n.sub(Et,Pt),Mt=n.mul(an,sn),Mt=n.add(Mt,Mt),Mt=n.add(Mt,Mt),new K(Et,pt,Mt)}add(Pe){b(Pe);const{px:ze,py:rt,pz:Xe}=this,{px:Ze,py:lt,pz:Et}=Pe;let pt=n.ZERO,Mt=n.ZERO,Pt=n.ZERO;const sn=t.a,an=n.mul(t.b,wi);let _n=n.mul(ze,Ze),$n=n.mul(rt,lt),wn=n.mul(Xe,Et),Cn=n.add(ze,rt),Wt=n.add(Ze,lt);Cn=n.mul(Cn,Wt),Wt=n.add(_n,$n),Cn=n.sub(Cn,Wt),Wt=n.add(ze,Xe);let nn=n.add(Ze,Et);return Wt=n.mul(Wt,nn),nn=n.add(_n,wn),Wt=n.sub(Wt,nn),nn=n.add(rt,Xe),pt=n.add(lt,Et),nn=n.mul(nn,pt),pt=n.add($n,wn),nn=n.sub(nn,pt),Pt=n.mul(sn,Wt),pt=n.mul(an,wn),Pt=n.add(pt,Pt),pt=n.sub($n,Pt),Pt=n.add($n,Pt),Mt=n.mul(pt,Pt),$n=n.add(_n,_n),$n=n.add($n,_n),wn=n.mul(sn,wn),Wt=n.mul(an,Wt),$n=n.add($n,wn),wn=n.sub(_n,wn),wn=n.mul(sn,wn),Wt=n.add(Wt,wn),_n=n.mul($n,Wt),Mt=n.add(Mt,_n),_n=n.mul(nn,Wt),pt=n.mul(Cn,pt),pt=n.sub(pt,_n),_n=n.mul(Cn,$n),Pt=n.mul(nn,Pt),Pt=n.add(Pt,_n),new K(pt,Mt,Pt)}subtract(Pe){return this.add(Pe.negate())}is0(){return this.equals(K.ZERO)}wNAF(Pe){return Ce.wNAFCached(this,C,Pe,ze=>{const rt=n.invertBatch(ze.map(Xe=>Xe.pz));return ze.map((Xe,Ze)=>Xe.toAffine(rt[Ze])).map(K.fromAffine)})}multiplyUnsafe(Pe){const ze=K.ZERO;if(Pe===rc)return ze;if(d(Pe),Pe===Mo)return this;const{endo:rt}=t;if(!rt)return Ce.unsafeLadder(this,Pe);let{k1neg:Xe,k1:Ze,k2neg:lt,k2:Et}=rt.splitScalar(Pe),pt=ze,Mt=ze,Pt=this;for(;Ze>rc||Et>rc;)Ze&Mo&&(pt=pt.add(Pt)),Et&Mo&&(Mt=Mt.add(Pt)),Pt=Pt.double(),Ze>>=Mo,Et>>=Mo;return Xe&&(pt=pt.negate()),lt&&(Mt=Mt.negate()),Mt=new K(n.mul(Mt.px,rt.beta),Mt.py,Mt.pz),pt.add(Mt)}multiply(Pe){d(Pe);let rt,Xe,ze=Pe;const{endo:Ze}=t;if(Ze){const{k1neg:lt,k1:Et,k2neg:pt,k2:Mt}=Ze.splitScalar(ze);let{p:Pt,f:sn}=this.wNAF(Et),{p:an,f:_n}=this.wNAF(Mt);Pt=Ce.constTimeNegate(lt,Pt),an=Ce.constTimeNegate(pt,an),an=new K(n.mul(an.px,Ze.beta),an.py,an.pz),rt=Pt.add(an),Xe=sn.add(_n)}else{const{p:lt,f:Et}=this.wNAF(ze);rt=lt,Xe=Et}return K.normalizeZ([rt,Xe])[0]}multiplyAndAddUnsafe(Pe,ze,rt){const Xe=K.BASE,Ze=(Et,pt)=>pt!==rc&&pt!==Mo&&Et.equals(Xe)?Et.multiply(pt):Et.multiplyUnsafe(pt),lt=Ze(this,ze).add(Ze(Pe,rt));return lt.is0()?void 0:lt}toAffine(Pe){const{px:ze,py:rt,pz:Xe}=this,Ze=this.is0();null==Pe&&(Pe=Ze?n.ONE:n.inv(Xe));const lt=n.mul(ze,Pe),Et=n.mul(rt,Pe),pt=n.mul(Xe,Pe);if(Ze)return{x:n.ZERO,y:n.ZERO};if(!n.eql(pt,n.ONE))throw new Error("invZ was invalid");return{x:lt,y:Et}}isTorsionFree(){const{h:Pe,isTorsionFree:ze}=t;if(Pe===Mo)return!0;if(ze)return ze(K,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Pe,clearCofactor:ze}=t;return Pe===Mo?this:ze?ze(K,this):this.multiplyUnsafe(t.h)}toRawBytes(Pe=!0){return this.assertValidity(),i(K,this,Pe)}toHex(Pe=!0){return Rt(this.toRawBytes(Pe))}}K.BASE=new K(t.Gx,t.Gy,n.ONE),K.ZERO=new K(n.ZERO,n.ONE,n.ZERO);const _e=t.nBitLength,Ce=function iu(r,t){const n=(o,c)=>{const s=c.negate();return o?s:c},i=o=>({windows:Math.ceil(t/o)+1,windowSize:2**(o-1)});return{constTimeNegate:n,unsafeLadder(o,c){let s=r.ZERO,d=o;for(;c>al;)c&Od&&(s=s.add(d)),d=d.double(),c>>=Od;return s},precomputeWindow(o,c){const{windows:s,windowSize:d}=i(c),B=[];let C=o,b=C;for(let K=0;K<s;K++){b=C,B.push(b);for(let _e=1;_e<d;_e++)b=b.add(C),B.push(b);C=b.double()}return B},wNAF(o,c,s){const{windows:d,windowSize:B}=i(o);let C=r.ZERO,b=r.BASE;const K=BigInt(2**o-1),_e=2**o,Ce=BigInt(o);for(let Te=0;Te<d;Te++){const Pe=Te*B;let ze=Number(s&K);s>>=Ce,ze>B&&(ze-=_e,s+=Od);const rt=Pe,Xe=Pe+Math.abs(ze)-1,lt=ze<0;0===ze?b=b.add(n(Te%2!=0,c[rt])):C=C.add(n(lt,c[Xe]))}return{p:C,f:b}},wNAFCached(o,c,s,d){const B=o._WINDOW_SIZE||1;let C=c.get(o);return C||(C=this.precomputeWindow(o,B),1!==B&&c.set(o,d(C))),this.wNAF(B,C,s)}}}(K,t.endo?Math.ceil(_e/2):_e);return{CURVE:t,ProjectivePoint:K,normPrivateKeyToScalar:B,weierstrassEquation:c,isWithinCurveOrder:s}}({...t,toBytes(Wt,nn,rn){const Sn=nn.toAffine(),un=n.toBytes(Sn.x),In=Nc;return rn?In(Uint8Array.from([nn.hasEvenY()?2:3]),un):In(Uint8Array.from([4]),un,n.toBytes(Sn.y))},fromBytes(Wt){const nn=Wt.length,rn=Wt[0],Sn=Wt.subarray(1);if(nn!==o||2!==rn&&3!==rn){if(nn===c&&4===rn)return{x:n.fromBytes(Sn.subarray(0,n.BYTES)),y:n.fromBytes(Sn.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${nn} was invalid. Expected ${o} compressed bytes or ${c} uncompressed bytes`)}{const un=ur(Sn);if(!function s(Wt){return rc<Wt&&Wt<n.ORDER}(un))throw new Error("Point is not on curve");const In=K(un);let Gn;try{Gn=n.sqrt(In)}catch(Yn){const dr=Yn instanceof Error?": "+Yn.message:"";throw new Error("Point is not on curve"+dr)}return!(1&~rn)!=((Gn&Mo)===Mo)&&(Gn=n.neg(Gn)),{x:un,y:Gn}}}}),Ce=Wt=>Rt(qr(Wt,t.nByteLength));function Te(Wt){return Wt>i>>Mo}const ze=(Wt,nn,rn)=>ur(Wt.slice(nn,rn));class rt{constructor(nn,rn,Sn){this.r=nn,this.s=rn,this.recovery=Sn,this.assertValidity()}static fromCompact(nn){const rn=t.nByteLength;return nn=eo("compactSignature",nn,2*rn),new rt(ze(nn,0,rn),ze(nn,rn,2*rn))}static fromDER(nn){const{r:rn,s:Sn}=Al.toSig(eo("DER",nn));return new rt(rn,Sn)}assertValidity(){if(!_e(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!_e(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(nn){return new rt(this.r,this.s,nn)}recoverPublicKey(nn){const{r:rn,s:Sn,recovery:un}=this,In=Mt(eo("msgHash",nn));if(null==un||![0,1,2,3].includes(un))throw new Error("recovery id invalid");const Gn=2===un||3===un?rn+t.n:rn;if(Gn>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Qt=C.fromHex((1&un?"03":"02")+Ce(Gn)),Yn=B(Gn),dr=d(-In*Yn),Nn=d(Sn*Yn),En=C.BASE.multiplyAndAddUnsafe(Qt,dr,Nn);if(!En)throw new Error("point at infinify");return En.assertValidity(),En}hasHighS(){return Te(this.s)}normalizeS(){return this.hasHighS()?new rt(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return pi(this.toDERHex())}toDERHex(){return Al.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return pi(this.toCompactHex())}toCompactHex(){return Ce(this.r)+Ce(this.s)}}const Xe={isValidPrivateKey(Wt){try{return b(Wt),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{const Wt=Ml(t.n);return function Eo(r,t,n=!1){const i=r.length,o=Np(t),c=Ml(t);if(i<16||i<c||i>1024)throw new Error(`expected ${c}-1024 bytes of input, got ${i}`);const d=Co(n?ur(r):Ni(r),t-po)+po;return n?ro(d,o):qr(d,o)}(t.randomBytes(Wt),t.n)},precompute:(Wt=8,nn=C.BASE)=>(nn._setWindowSize(Wt),nn.multiply(BigInt(3)),nn)};function lt(Wt){const nn=wc(Wt),rn="string"==typeof Wt,Sn=(nn||rn)&&Wt.length;return nn?Sn===o||Sn===c:rn?Sn===2*o||Sn===2*c:Wt instanceof C}const pt=t.bits2int||function(Wt){const nn=ur(Wt),rn=8*Wt.length-t.nBitLength;return rn>0?nn>>BigInt(rn):nn},Mt=t.bits2int_modN||function(Wt){return d(pt(Wt))},Pt=nu(t.nBitLength);function sn(Wt){if("bigint"!=typeof Wt)throw new Error("bigint expected");if(!(rc<=Wt&&Wt<Pt))throw new Error(`bigint expected < 2^${t.nBitLength}`);return qr(Wt,t.nByteLength)}const _n={lowS:t.lowS,prehash:!1},$n={lowS:t.lowS,prehash:!1};return C.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function Ze(Wt,nn=!0){return C.fromPrivateKey(Wt).toRawBytes(nn)},getSharedSecret:function Et(Wt,nn,rn=!0){if(lt(Wt))throw new Error("first arg must be private key");if(!lt(nn))throw new Error("second arg must be public key");return C.fromHex(nn).multiply(b(Wt)).toRawBytes(rn)},sign:function wn(Wt,nn,rn=_n){const{seed:Sn,k2sig:un}=function an(Wt,nn,rn=_n){if(["recovered","canonical"].some(rr=>rr in rn))throw new Error("sign() legacy options not supported");const{hash:Sn,randomBytes:un}=t;let{lowS:In,prehash:Gn,extraEntropy:Wn}=rn;null==In&&(In=!0),Wt=eo("msgHash",Wt),Gn&&(Wt=eo("prehashed msgHash",Sn(Wt)));const Qt=Mt(Wt),Yn=b(nn),dr=[sn(Yn),sn(Qt)];if(null!=Wn&&!1!==Wn){const rr=!0===Wn?un(n.BYTES):Wn;dr.push(eo("extraEntropy",rr))}const Nn=Nc(...dr),En=Qt;return{seed:Nn,k2sig:function jn(rr){const gr=pt(rr);if(!_e(gr))return;const Er=B(gr),fr=C.BASE.multiply(gr).toAffine(),hr=d(fr.x);if(hr===rc)return;const Hr=d(Er*d(En+hr*Yn));if(Hr===rc)return;let Ms=(fr.x===hr?0:2)|Number(fr.y&Mo),ir=Hr;return In&&Te(Hr)&&(ir=function Pe(Wt){return Te(Wt)?d(-Wt):Wt}(Hr),Ms^=1),new rt(hr,ir,Ms)}}}(Wt,nn,rn);return gs(t.hash.outputLen,t.nByteLength,t.hmac)(Sn,un)},verify:function Cn(Wt,nn,rn,Sn=$n){const un=Wt;if(nn=eo("msgHash",nn),rn=eo("publicKey",rn),"strict"in Sn)throw new Error("options.strict was renamed to lowS");const{lowS:In,prehash:Gn}=Sn;let Wn,Qt;try{if("string"==typeof un||wc(un))try{Wn=rt.fromDER(un)}catch(fr){if(!(fr instanceof Al.Err))throw fr;Wn=rt.fromCompact(un)}else{if("object"!=typeof un||"bigint"!=typeof un.r||"bigint"!=typeof un.s)throw new Error("PARSE");{const{r:fr,s:hr}=un;Wn=new rt(fr,hr)}}Qt=C.fromHex(rn)}catch(fr){if("PARSE"===fr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(In&&Wn.hasHighS())return!1;Gn&&(nn=t.hash(nn));const{r:Yn,s:dr}=Wn,Nn=Mt(nn),En=B(dr),jn=d(Nn*En),rr=d(Yn*En),gr=C.BASE.multiplyAndAddUnsafe(Qt,jn,rr)?.toAffine();return!!gr&&d(gr.x)===Yn},ProjectivePoint:C,Signature:rt,utils:Xe}}function Fm(r){return{hash:r,hmac:(t,...n)=>tu(r,t,function ed(...r){let t=0;for(let i=0;i<r.length;i++){const o=r[i];Ht(o),t+=o.length}const n=new Uint8Array(t);for(let i=0,o=0;i<r.length;i++){const c=r[i];n.set(c,o),o+=c.length}return n}(...n)),randomBytes:eu}}BigInt(4);const Lv=function ei(r,t,n=!1,i={}){if(r<=mi)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:o,nByteLength:c}=zo(r,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function ru(r){if(r%$f===Rp){const t=(r+po)/$f;return function(i,o){const c=i.pow(o,t);if(!i.eql(i.sqr(c),o))throw new Error("Cannot find square root");return c}}if(r%od===id){const t=(r-id)/od;return function(i,o){const c=i.mul(o,So),s=i.pow(c,t),d=i.mul(o,s),B=i.mul(i.mul(d,So),s),C=i.mul(d,i.sub(B,i.ONE));if(!i.eql(i.sqr(C),o))throw new Error("Cannot find square root");return C}}return function sl(r){const t=(r-po)/So;let n,i,o;for(n=r-po,i=0;n%So===mi;n/=So,i++);for(o=So;o<r&&Vf(o,t,r)!==r-po;o++);if(1===i){const s=(r+po)/$f;return function(B,C){const b=B.pow(C,s);if(!B.eql(B.sqr(b),C))throw new Error("Cannot find square root");return b}}const c=(n+po)/So;return function(d,B){if(d.pow(B,t)===d.neg(d.ONE))throw new Error("Cannot find square root");let C=i,b=d.pow(d.mul(d.ONE,o),n),K=d.pow(B,c),_e=d.pow(B,n);for(;!d.eql(_e,d.ONE);){if(d.eql(_e,d.ZERO))return d.ZERO;let Ce=1;for(let Pe=d.sqr(_e);Ce<C&&!d.eql(Pe,d.ONE);Ce++)Pe=d.sqr(Pe);const Te=d.pow(b,po<<BigInt(C-Ce-1));b=d.sqr(Te),K=d.mul(K,Te),_e=d.mul(_e,b),C=Ce}return K}}(r)}(r),d=Object.freeze({ORDER:r,BITS:o,BYTES:c,MASK:nu(o),ZERO:mi,ONE:po,create:B=>Co(B,r),isValid:B=>{if("bigint"!=typeof B)throw new Error("Invalid field element: expected bigint, got "+typeof B);return mi<=B&&B<r},is0:B=>B===mi,isOdd:B=>(B&po)===po,neg:B=>Co(-B,r),eql:(B,C)=>B===C,sqr:B=>Co(B*B,r),add:(B,C)=>Co(B+C,r),sub:(B,C)=>Co(B-C,r),mul:(B,C)=>Co(B*C,r),pow:(B,C)=>function zt(r,t,n){if(n<mi)throw new Error("Expected power > 0");if(n===mi)return r.ONE;if(n===po)return t;let i=r.ONE,o=t;for(;n>mi;)n&po&&(i=r.mul(i,o)),o=r.sqr(o),n>>=po;return i}(d,B,C),div:(B,C)=>Co(B*Pu(C,r),r),sqrN:B=>B*B,addN:(B,C)=>B+C,subN:(B,C)=>B-C,mulN:(B,C)=>B*C,inv:B=>Pu(B,r),sqrt:i.sqrt||(B=>s(d,B)),invertBatch:B=>function Mn(r,t){const n=new Array(t.length),i=t.reduce((c,s,d)=>r.is0(s)?c:(n[d]=c,r.mul(c,s)),r.ONE),o=r.inv(i);return t.reduceRight((c,s,d)=>r.is0(s)?c:(n[d]=r.mul(c,n[d]),r.mul(c,s)),o),n}(d,B),cmov:(B,C,b)=>b?C:B,toBytes:B=>n?ro(B,c):qr(B,c),fromBytes:B=>{if(B.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${B.length}`);return n?Ni(B):ur(B)}});return Object.freeze(d)}(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),vs=function N_(r,t){const n=i=>Bh({...r,...Fm(i)});return Object.freeze({...n(t),create:n})}({a:Lv.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:Lv,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},ua),jm=vs;function Ru(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class _c{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Fh{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return ff(this,t)}}class My{decoders;constructor(t){this.decoders=t}or(t){return ff(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function ff(r,t){return new My({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class jh{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new _c(t,n,i),this.decoder=new Fh(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function Bu({name:r,prefix:t,encode:n,decode:i}){return new jh(r,t,n,i)}function et({name:r,prefix:t,alphabet:n}){const{encode:i,decode:o}=function Lh(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),s=c.charCodeAt(0);if(255!==n[s])throw new TypeError(c+" is ambiguous");n[s]=o}var d=r.length,B=r.charAt(0),C=Math.log(d)/Math.log(256),b=Math.log(256)/Math.log(d);function _e(Te){if("string"!=typeof Te)throw new TypeError("Expected String");if(0===Te.length)return new Uint8Array;var Pe=0;if(" "!==Te[Pe]){for(var ze=0,rt=0;Te[Pe]===B;)ze++,Pe++;for(var Xe=(Te.length-Pe)*C+1>>>0,Ze=new Uint8Array(Xe);Te[Pe];){var lt=n[Te.charCodeAt(Pe)];if(255===lt)return;for(var Et=0,pt=Xe-1;(0!==lt||Et<rt)&&-1!==pt;pt--,Et++)Ze[pt]=(lt+=d*Ze[pt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");rt=Et,Pe++}if(" "!==Te[Pe]){for(var Mt=Xe-rt;Mt!==Xe&&0===Ze[Mt];)Mt++;for(var Pt=new Uint8Array(ze+(Xe-Mt)),sn=ze;Mt!==Xe;)Pt[sn++]=Ze[Mt++];return Pt}}}return{encode:function K(Te){if(Te instanceof Uint8Array||(ArrayBuffer.isView(Te)?Te=new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength):Array.isArray(Te)&&(Te=Uint8Array.from(Te))),!(Te instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Te.length)return"";for(var Pe=0,ze=0,rt=0,Xe=Te.length;rt!==Xe&&0===Te[rt];)rt++,Pe++;for(var Ze=(Xe-rt)*b+1>>>0,lt=new Uint8Array(Ze);rt!==Xe;){for(var Et=Te[rt],pt=0,Mt=Ze-1;(0!==Et||pt<ze)&&-1!==Mt;Mt--,pt++)lt[Mt]=(Et+=256*lt[Mt]>>>0)%d>>>0,Et=Et/d>>>0;if(0!==Et)throw new Error("Non-zero carry");ze=pt,rt++}for(var Pt=Ze-ze;Pt!==Ze&&0===lt[Pt];)Pt++;for(var sn=B.repeat(Pe);Pt<Ze;++Pt)sn+=r.charAt(lt[Pt]);return sn},decodeUnsafe:_e,decode:function Ce(Te){var Pe=_e(Te);if(Pe)return Pe;throw new Error(`Non-${t} character`)}}}(n,r);return Bu({prefix:t,name:r,encode:i,decode:c=>Ru(o(c))})}function kt({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return Bu({prefix:t,name:r,encode:o=>function wt(r,t,n){const i="="===t[t.length-1],o=(1<<n)-1;let c="",s=0,d=0;for(let B=0;B<r.length;++B)for(d=d<<8|r[B],s+=8;s>n;)s-=n,c+=t[o&d>>s];if(0!==s&&(c+=t[o&d<<n-s]),i)for(;c.length*n&7;)c+="=";return c}(o,i,n),decode:o=>function Ft(r,t,n,i){const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const s=new Uint8Array(c*n/8|0);let d=0,B=0,C=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);B=B<<n|K,d+=n,d>=8&&(d-=8,s[C++]=255&B>>d)}if(d>=n||255&B<<8-d)throw new SyntaxError("Unexpected end of data");return s}(o,i,n,r)})}const fn=et({prefix:"9",name:"base10",alphabet:"0123456789"}),zn=kt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),cr=kt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Or=kt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Xo=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Ri=Xo.reduce((r,t,n)=>(r[n]=t,r),[]),No=Xo.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),vo=Bu({prefix:"\u{1f680}",name:"base256emoji",encode:function br(r){return r.reduce((t,n)=>t+Ri[n],"")},decode:function Ho(r){const t=[];for(const n of r){const i=No[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),ko=kt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ad=kt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Fs=kt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Nu=kt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Tl=kt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ec=kt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),cd=kt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Nd=kt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),hf=kt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Gf=et({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tx=et({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),js=et({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Lu=et({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),$m=kt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),at=kt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ye=kt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),We=kt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),tt=kt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Ot=Bu({prefix:"\0",name:"identity",encode:r=>function au(r){return(new TextDecoder).decode(r)}(r),decode:r=>function U_(r){return(new TextEncoder).encode(r)}(r)}),Ut=new TextEncoder,tn=new TextDecoder,kn="json",Xn=512;function Qn(r){return Ut.encode(JSON.stringify(r))}function Tn(r){return JSON.parse(tn.decode(r))}const Hn="raw",oi=85;function Ii(r){return Ru(r)}function Vi(r){return Ru(r)}var Il=128,Ua=-128,Fa=Math.pow(2,31),cu=128,ll=127,Kh=Math.pow(2,7),F_=Math.pow(2,14),nx=Math.pow(2,21),Uv=Math.pow(2,28),j_=Math.pow(2,35),rx=Math.pow(2,42),Uu=Math.pow(2,49),iI=Math.pow(2,56),ix=Math.pow(2,63);const Ve={encode:function Dl(r,t,n){t=t||[];for(var i=n=n||0;r>=Fa;)t[n++]=255&r|Il,r/=128;for(;r&Ua;)t[n++]=255&r|Il,r>>>=7;return t[n]=0|r,Dl.bytes=n-i+1,t},decode:function Sc(r,i){var s,n=0,o=0,c=i=i||0,d=r.length;do{if(c>=d)throw Sc.bytes=0,new RangeError("Could not decode varint");s=r[c++],n+=o<28?(s&ll)<<o:(s&ll)*Math.pow(2,o),o+=7}while(s>=cu);return Sc.bytes=c-i,n},encodingLength:function(r){return r<Kh?1:r<F_?2:r<nx?3:r<Uv?4:r<j_?5:r<rx?6:r<Uu?7:r<iI?8:r<ix?9:10}};function Ge(r,t,n=0){return Ve.encode(r,t,n),t}function dt(r){return Ve.encodingLength(r)}function It(r,t){const n=t.byteLength,i=dt(r),o=i+dt(n),c=new Uint8Array(o+n);return Ge(r,c,0),Ge(n,c,i),c.set(t,o),new Zn(r,n,t,c)}class Zn{code;size;digest;bytes;constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const ui=Ru,Wr={code:0,name:"identity",encode:ui,digest:function Oi(r){return It(0,ui(r))}};function Yo({name:r,code:t,encode:n}){return new Lo(r,t,n)}class Lo{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?It(this.code,n):n.then(i=>It(this.code,i))}throw Error("Unknown type, must be binary type")}}function Fc(r){return function(){var t=(0,bt.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}()}const bs=Yo({name:"sha2-256",code:18,encode:Fc("SHA-256")}),Fp=Yo({name:"sha2-512",code:19,encode:Fc("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const cx={...I,...W,...F,...x,...R,...L,...M,...N,...$,...S};function Kp(r=0){return new Uint8Array(r)}function $h(r=0){return new Uint8Array(r)}function Fv(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const uI=Fv("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),jv=Fv("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=$h((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),lu={utf8:uI,"utf-8":uI,hex:cx.base16,latin1:jv,ascii:jv,binary:jv,...cx};function $p(r,t="utf8"){const n=lu[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${r}`)}var V_=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};const N8_toString=function dx(r,t="utf8"){const n=lu[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(r).substring(1)};class Fu{static validateKey(t){if("EC"!==t.kty||"P-256"!==t.crv)throw new O(q.Secp256r1KeyNotValid,"Invalid SECP256R1 JWK: `kty` MUST be `EC`. `crv` MUST be `P-256`")}static publicKeyToJwk(t){return V_(this,void 0,void 0,function*(){let n;return n=33===t.byteLength?vs.ProjectivePoint.fromHex(t).toRawBytes(!1):t,{alg:"ES256",kty:"EC",crv:"P-256",x:_.bytesToBase64Url(n.subarray(1,33)),y:_.bytesToBase64Url(n.subarray(33,65))}})}static privateJwkToBytes(t){return _.base64UrlToBytes(t.d)}static sign(t,n){return V_(this,void 0,void 0,function*(){Fu.validateKey(n);const i=yield Rn.encode(t),o=Fu.privateJwkToBytes(n);return Promise.resolve(vs.sign(i,o).toCompactRawBytes())})}static verify(t,n,i){return V_(this,void 0,void 0,function*(){let o;Fu.validateKey(i),o=64===n.length?vs.Signature.fromCompact(n):vs.Signature.fromDER(n);const c=yield Rn.encode(t),s=vs.ProjectivePoint.fromAffine({x:Fu.bytesToBigInt(_.base64UrlToBytes(i.x)),y:Fu.bytesToBigInt(_.base64UrlToBytes(i.y))}).toRawBytes(!1);return vs.verify(o,c,s)})}static generateKeyPair(){return V_(this,void 0,void 0,function*(){const t=vs.utils.randomPrivateKey(),n=jm.getPublicKey(t,!1),i=_.bytesToBase64Url(t),o=yield Fu.publicKeyToJwk(n);return{publicJwk:o,privateJwk:Object.assign(Object.assign({},o),{d:i})}})}static bytesToBigInt(t){return BigInt("0x"+N8_toString(t,"base16"))}}const Vh={Ed25519:At,secp256k1:{sign:_r.sign,verify:_r.verify,generateKeyPair:_r.generateKeyPair,publicKeyToJwk:_r.publicKeyToJwk},"P-256":{sign:Fu.sign,verify:Fu.verify,generateKeyPair:Fu.generateKeyPair,publicKeyToJwk:Fu.publicKeyToJwk}};class U8{constructor(t){var n,i;if(void 0===t.keyId&&void 0===t.privateJwk.kid)throw new O(q.PrivateKeySignerUnableToDeduceKeyId,"Unable to deduce the key ID");if(void 0===t.algorithm&&void 0===t.privateJwk.alg)throw new O(q.PrivateKeySignerUnableToDeduceAlgorithm,"Unable to deduce the signature algorithm");if(this.keyId=null!==(n=t.keyId)&&void 0!==n?n:t.privateJwk.kid,this.algorithm=null!==(i=t.algorithm)&&void 0!==i?i:t.privateJwk.alg,this.privateJwk=t.privateJwk,this.signatureAlgorithm=Vh[t.privateJwk.crv],!this.signatureAlgorithm)throw new O(q.PrivateKeySignerUnsupportedCurve,`Unsupported crv ${t.privateJwk.crv}, crv must be one of ${Object.keys(Vh)}`)}sign(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return yield this.signatureAlgorithm.sign(t,this.privateJwk)})}}class Ds{static getKid(t){const{kid:n}=_.base64UrlToObject(t.protected);return n}static getSignerDid(t){const n=Ds.getKid(t);return Ds.extractDid(n)}static verifySignature(t,n,i){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const o=Vh[i.crv];if(!o)throw new O(q.JwsVerifySignatureUnsupportedCrv,`unsupported crv. crv must be one of ${Object.keys(Vh)}`);const c=_.stringToBytes(`${n.protected}.${t}`),s=_.base64UrlToBytes(n.signature);return yield o.verify(c,s,i)})}static decodePlainObjectPayload(t){let n;try{n=_.base64UrlToObject(t.payload)}catch{throw new O(q.JwsDecodePlainObjectPayloadInvalid,"payload is not a JSON object")}if(!A(n))throw new O(q.JwsDecodePlainObjectPayloadInvalid,"signed payload must be a plain object");return n}static extractDid(t){const[n]=t.split("#");return n}static createSigners(t){return t.map(i=>Ds.createSigner(i))}static createSigner(t){return new U8({privateJwk:t.keyPair.privateJwk,keyId:t.keyId})}}var z_=E(40573);const Iy="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,Kv=new Set,Vp="object"==typeof z_&&z_?z_:{},fI=(r,t,n,i)=>{"function"==typeof Vp.emitWarning?Vp.emitWarning(r,t,n,i):console.error(`[${n}] ${t}: ${r}`)};let H_=globalThis.AbortController,ic=globalThis.AbortSignal;if(typeof H_>"u"){ic=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(i,o){this._onabort.push(o)}},H_=class{constructor(){t()}signal=new ic;abort(i){if(!this.signal.aborted){this.signal.reason=i,this.signal.aborted=!0;for(const o of this.signal._onabort)o(i);this.signal.onabort?.(i)}}};let r="1"!==Vp.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{r&&(r=!1,fI("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const ju=r=>r&&r===Math.floor(r)&&r>0&&isFinite(r),pI=r=>ju(r)?r<=Math.pow(2,8)?Uint8Array:r<=Math.pow(2,16)?Uint16Array:r<=Math.pow(2,32)?Uint32Array:r<=Number.MAX_SAFE_INTEGER?W_:null:null;class W_ extends Array{constructor(t){super(t),this.fill(0)}}class Dy{heap;length;static#e=!1;static create(t){const n=pI(t);if(!n)return[];Dy.#e=!0;const i=new Dy(t,n);return Dy.#e=!1,i}constructor(t,n){if(!Dy.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class ux{#e;#t;#n;#f;#A;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#y;#a;#o;#r;#u;#p;#d;#c;#g;#l;#E;#x;#v;#b;#M;#h;static unsafeExposeInternals(t){return{starts:t.#x,ttls:t.#v,sizes:t.#E,keyMap:t.#a,keyList:t.#o,valList:t.#r,next:t.#u,prev:t.#p,get head(){return t.#d},get tail(){return t.#c},free:t.#g,isBackgroundFetch:n=>t.#i(n),backgroundFetch:(n,i,o,c)=>t.#P(n,i,o,c),moveToTail:n=>t.#D(n),indexes:n=>t.#w(n),rindexes:n=>t.#_(n),isStale:n=>t.#m(n)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#y}get size(){return this.#s}get fetchMethod(){return this.#A}get dispose(){return this.#n}get disposeAfter(){return this.#f}constructor(t){const{max:n=0,ttl:i,ttlResolution:o=1,ttlAutopurge:c,updateAgeOnGet:s,updateAgeOnHas:d,allowStale:B,dispose:C,disposeAfter:b,noDisposeOnSet:K,noUpdateTTL:_e,maxSize:Ce=0,maxEntrySize:Te=0,sizeCalculation:Pe,fetchMethod:ze,noDeleteOnFetchRejection:rt,noDeleteOnStaleGet:Xe,allowStaleOnFetchRejection:Ze,allowStaleOnFetchAbort:lt,ignoreFetchAbort:Et}=t;if(0!==n&&!ju(n))throw new TypeError("max option must be a nonnegative integer");const pt=n?pI(n):Array;if(!pt)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=Ce,this.maxEntrySize=Te||this.#t,this.sizeCalculation=Pe,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==ze&&"function"!=typeof ze)throw new TypeError("fetchMethod must be a function if specified");if(this.#A=ze,this.#M=!!ze,this.#a=new Map,this.#o=new Array(n).fill(void 0),this.#r=new Array(n).fill(void 0),this.#u=new pt(n),this.#p=new pt(n),this.#d=0,this.#c=0,this.#g=Dy.create(n),this.#s=0,this.#y=0,"function"==typeof C&&(this.#n=C),"function"==typeof b?(this.#f=b,this.#l=[]):(this.#f=void 0,this.#l=void 0),this.#b=!!this.#n,this.#h=!!this.#f,this.noDisposeOnSet=!!K,this.noUpdateTTL=!!_e,this.noDeleteOnFetchRejection=!!rt,this.allowStaleOnFetchRejection=!!Ze,this.allowStaleOnFetchAbort=!!lt,this.ignoreFetchAbort=!!Et,0!==this.maxEntrySize){if(0!==this.#t&&!ju(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!ju(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#U()}if(this.allowStale=!!B,this.noDeleteOnStaleGet=!!Xe,this.updateAgeOnGet=!!s,this.updateAgeOnHas=!!d,this.ttlResolution=ju(o)||0===o?o:1,this.ttlAutopurge=!!c,this.ttl=i||0,this.ttl){if(!ju(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#R()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const Mt="LRU_CACHE_UNBOUNDED";!Kv.has(Mt)&&(Kv.add(Mt),fI("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Mt,ux))}}getRemainingTTL(t){return this.#a.has(t)?1/0:0}#R(){const t=new W_(this.#e),n=new W_(this.#e);this.#v=t,this.#x=n,this.#O=(c,s,d=Iy.now())=>{if(n[c]=0!==s?d:0,t[c]=s,0!==s&&this.ttlAutopurge){const B=setTimeout(()=>{this.#m(c)&&this.delete(this.#o[c])},s+1);B.unref&&B.unref()}},this.#T=c=>{n[c]=0!==t[c]?Iy.now():0},this.#S=(c,s)=>{if(t[s]){const d=t[s],B=n[s];c.ttl=d,c.start=B,c.now=i||o(),c.remainingTTL=d-(c.now-B)}};let i=0;const o=()=>{const c=Iy.now();if(this.ttlResolution>0){i=c;const s=setTimeout(()=>i=0,this.ttlResolution);s.unref&&s.unref()}return c};this.getRemainingTTL=c=>{const s=this.#a.get(c);if(void 0===s)return 0;const d=t[s],B=n[s];return 0===d||0===B?1/0:d-((i||o())-B)},this.#m=c=>0!==t[c]&&0!==n[c]&&(i||o())-n[c]>t[c]}#T=()=>{};#S=()=>{};#O=()=>{};#m=()=>!1;#U(){const t=new W_(this.#e);this.#y=0,this.#E=t,this.#I=n=>{this.#y-=t[n],t[n]=0},this.#B=(n,i,o,c)=>{if(this.#i(i))return 0;if(!ju(o)){if(!c)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof c)throw new TypeError("sizeCalculation must be a function");if(o=c(i,n),!ju(o))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return o},this.#C=(n,i,o)=>{if(t[n]=i,this.#t){const c=this.#t-t[n];for(;this.#y>c;)this.#k(!0)}this.#y+=t[n],o&&(o.entrySize=i,o.totalCalculatedSize=this.#y)}}#I=t=>{};#C=(t,n,i)=>{};#B=(t,n,i,o)=>{if(i||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#w({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#c;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#d);)n=this.#p[n]}*#_({allowStale:t=this.allowStale}={}){if(this.#s)for(let n=this.#d;this.#N(n)&&((t||!this.#m(n))&&(yield n),n!==this.#c);)n=this.#u[n]}#N(t){return void 0!==t&&this.#a.get(this.#o[t])===t}*entries(){for(const t of this.#w())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*rentries(){for(const t of this.#_())void 0!==this.#r[t]&&void 0!==this.#o[t]&&!this.#i(this.#r[t])&&(yield[this.#o[t],this.#r[t]])}*keys(){for(const t of this.#w()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*rkeys(){for(const t of this.#_()){const n=this.#o[t];void 0!==n&&!this.#i(this.#r[t])&&(yield n)}}*values(){for(const t of this.#w())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}*rvalues(){for(const t of this.#_())void 0!==this.#r[t]&&!this.#i(this.#r[t])&&(yield this.#r[t])}[Symbol.iterator](){return this.entries()}find(t,n={}){for(const i of this.#w()){const o=this.#r[i],c=this.#i(o)?o.__staleWhileFetching:o;if(void 0!==c&&t(c,this.#o[i],this))return this.get(this.#o[i],n)}}forEach(t,n=this){for(const i of this.#w()){const o=this.#r[i],c=this.#i(o)?o.__staleWhileFetching:o;void 0!==c&&t.call(n,c,this.#o[i],this)}}rforEach(t,n=this){for(const i of this.#_()){const o=this.#r[i],c=this.#i(o)?o.__staleWhileFetching:o;void 0!==c&&t.call(n,c,this.#o[i],this)}}purgeStale(){let t=!1;for(const n of this.#_({allowStale:!0}))this.#m(n)&&(this.delete(this.#o[n]),t=!0);return t}dump(){const t=[];for(const n of this.#w({allowStale:!0})){const i=this.#o[n],o=this.#r[n],c=this.#i(o)?o.__staleWhileFetching:o;if(void 0===c||void 0===i)continue;const s={value:c};if(this.#v&&this.#x){s.ttl=this.#v[n];const d=Iy.now()-this.#x[n];s.start=Math.floor(Date.now()-d)}this.#E&&(s.size=this.#E[n]),t.unshift([i,s])}return t}load(t){this.clear();for(const[n,i]of t){if(i.start){const o=Date.now()-i.start;i.start=Iy.now()-o}this.set(n,i.value,i)}}set(t,n,i={}){if(void 0===n)return this.delete(t),this;const{ttl:o=this.ttl,start:c,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:d=this.sizeCalculation,status:B}=i;let{noUpdateTTL:C=this.noUpdateTTL}=i;const b=this.#B(t,n,i.size||0,d);if(this.maxEntrySize&&b>this.maxEntrySize)return B&&(B.set="miss",B.maxEntrySizeExceeded=!0),this.delete(t),this;let K=0===this.#s?void 0:this.#a.get(t);if(void 0===K)K=0===this.#s?this.#c:0!==this.#g.length?this.#g.pop():this.#s===this.#e?this.#k(!1):this.#s,this.#o[K]=t,this.#r[K]=n,this.#a.set(t,K),this.#u[this.#c]=K,this.#p[K]=this.#c,this.#c=K,this.#s++,this.#C(K,b,B),B&&(B.set="add"),C=!1;else{this.#D(K);const _e=this.#r[K];if(n!==_e){if(this.#M&&this.#i(_e)?_e.__abortController.abort(new Error("replaced")):s||(this.#b&&this.#n?.(_e,t,"set"),this.#h&&this.#l?.push([_e,t,"set"])),this.#I(K),this.#C(K,b,B),this.#r[K]=n,B){B.set="replace";const Ce=_e&&this.#i(_e)?_e.__staleWhileFetching:_e;void 0!==Ce&&(B.oldValue=Ce)}}else B&&(B.set="update")}if(0!==o&&!this.#v&&this.#R(),this.#v&&(C||this.#O(K,o,c),B&&this.#S(B,K)),!s&&this.#h&&this.#l){const _e=this.#l;let Ce;for(;Ce=_e?.shift();)this.#f?.(...Ce)}return this}pop(){try{for(;this.#s;){const t=this.#r[this.#d];if(this.#k(!0),this.#i(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}#k(t){const n=this.#d,i=this.#o[n],o=this.#r[n];return this.#M&&this.#i(o)?o.__abortController.abort(new Error("evicted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(o,i,"evict"),this.#h&&this.#l?.push([o,i,"evict"])),this.#I(n),t&&(this.#o[n]=void 0,this.#r[n]=void 0,this.#g.push(n)),1===this.#s?(this.#d=this.#c=0,this.#g.length=0):this.#d=this.#u[n],this.#a.delete(i),this.#s--,n}has(t,n={}){const{updateAgeOnHas:i=this.updateAgeOnHas,status:o}=n,c=this.#a.get(t);if(void 0!==c){const s=this.#r[c];if(this.#i(s)&&void 0===s.__staleWhileFetching)return!1;if(!this.#m(c))return i&&this.#T(c),o&&(o.has="hit",this.#S(o,c)),!0;o&&(o.has="stale",this.#S(o,c))}else o&&(o.has="miss");return!1}peek(t,n={}){const{allowStale:i=this.allowStale}=n,o=this.#a.get(t);if(void 0!==o&&(i||!this.#m(o))){const c=this.#r[o];return this.#i(c)?c.__staleWhileFetching:c}}#P(t,n,i,o){const c=void 0===n?void 0:this.#r[n];if(this.#i(c))return c;const s=new H_,{signal:d}=i;d?.addEventListener("abort",()=>s.abort(d.reason),{signal:s.signal});const B={signal:s.signal,options:i,context:o},C=(Pe,ze=!1)=>{const{aborted:rt}=s.signal,Xe=i.ignoreFetchAbort&&void 0!==Pe;return i.status&&(rt&&!ze?(i.status.fetchAborted=!0,i.status.fetchError=s.signal.reason,Xe&&(i.status.fetchAbortIgnored=!0)):i.status.fetchResolved=!0),!rt||Xe||ze?(this.#r[n]===Ce&&(void 0===Pe?Ce.__staleWhileFetching?this.#r[n]=Ce.__staleWhileFetching:this.delete(t):(i.status&&(i.status.fetchUpdated=!0),this.set(t,Pe,B.options))),Pe):K(s.signal.reason)},K=Pe=>{const{aborted:ze}=s.signal,rt=ze&&i.allowStaleOnFetchAbort,Xe=rt||i.allowStaleOnFetchRejection,lt=Ce;if(this.#r[n]===Ce&&((Xe||i.noDeleteOnFetchRejection)&&void 0!==lt.__staleWhileFetching?rt||(this.#r[n]=lt.__staleWhileFetching):this.delete(t)),Xe)return i.status&&void 0!==lt.__staleWhileFetching&&(i.status.returnedStale=!0),lt.__staleWhileFetching;if(lt.__returned===lt)throw Pe};i.status&&(i.status.fetchDispatched=!0);const Ce=new Promise((Pe,ze)=>{const rt=this.#A?.(t,c,B);rt&&rt instanceof Promise&&rt.then(Xe=>Pe(Xe),ze),s.signal.addEventListener("abort",()=>{(!i.ignoreFetchAbort||i.allowStaleOnFetchAbort)&&(Pe(),i.allowStaleOnFetchAbort&&(Pe=Xe=>C(Xe,!0)))})}).then(C,Pe=>(i.status&&(i.status.fetchRejected=!0,i.status.fetchError=Pe),K(Pe))),Te=Object.assign(Ce,{__abortController:s,__staleWhileFetching:c,__returned:void 0});return void 0===n?(this.set(t,Te,{...B.options,status:void 0}),n=this.#a.get(t)):this.#r[n]=Te,Te}#i(t){if(!this.#M)return!1;const n=t;return!!n&&n instanceof Promise&&n.hasOwnProperty("__staleWhileFetching")&&n.__abortController instanceof H_}fetch(t,n={}){var i=this;return(0,bt.A)(function*(){const{allowStale:o=i.allowStale,updateAgeOnGet:c=i.updateAgeOnGet,noDeleteOnStaleGet:s=i.noDeleteOnStaleGet,ttl:d=i.ttl,noDisposeOnSet:B=i.noDisposeOnSet,size:C=0,sizeCalculation:b=i.sizeCalculation,noUpdateTTL:K=i.noUpdateTTL,noDeleteOnFetchRejection:_e=i.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Ce=i.allowStaleOnFetchRejection,ignoreFetchAbort:Te=i.ignoreFetchAbort,allowStaleOnFetchAbort:Pe=i.allowStaleOnFetchAbort,context:ze,forceRefresh:rt=!1,status:Xe,signal:Ze}=n;if(!i.#M)return Xe&&(Xe.fetch="get"),i.get(t,{allowStale:o,updateAgeOnGet:c,noDeleteOnStaleGet:s,status:Xe});const lt={allowStale:o,updateAgeOnGet:c,noDeleteOnStaleGet:s,ttl:d,noDisposeOnSet:B,size:C,sizeCalculation:b,noUpdateTTL:K,noDeleteOnFetchRejection:_e,allowStaleOnFetchRejection:Ce,allowStaleOnFetchAbort:Pe,ignoreFetchAbort:Te,status:Xe,signal:Ze};let Et=i.#a.get(t);if(void 0===Et){Xe&&(Xe.fetch="miss");const pt=i.#P(t,Et,lt,ze);return pt.__returned=pt}{const pt=i.#r[Et];if(i.#i(pt)){const _n=o&&void 0!==pt.__staleWhileFetching;return Xe&&(Xe.fetch="inflight",_n&&(Xe.returnedStale=!0)),_n?pt.__staleWhileFetching:pt.__returned=pt}const Mt=i.#m(Et);if(!rt&&!Mt)return Xe&&(Xe.fetch="hit"),i.#D(Et),c&&i.#T(Et),Xe&&i.#S(Xe,Et),pt;const Pt=i.#P(t,Et,lt,ze),an=void 0!==Pt.__staleWhileFetching&&o;return Xe&&(Xe.fetch=Mt?"stale":"refresh",an&&Mt&&(Xe.returnedStale=!0)),an?Pt.__staleWhileFetching:Pt.__returned=Pt}})()}get(t,n={}){const{allowStale:i=this.allowStale,updateAgeOnGet:o=this.updateAgeOnGet,noDeleteOnStaleGet:c=this.noDeleteOnStaleGet,status:s}=n,d=this.#a.get(t);if(void 0!==d){const B=this.#r[d],C=this.#i(B);return s&&this.#S(s,d),this.#m(d)?(s&&(s.get="stale"),C?(s&&i&&void 0!==B.__staleWhileFetching&&(s.returnedStale=!0),i?B.__staleWhileFetching:void 0):(c||this.delete(t),s&&i&&(s.returnedStale=!0),i?B:void 0)):(s&&(s.get="hit"),C?B.__staleWhileFetching:(this.#D(d),o&&this.#T(d),B))}s&&(s.get="miss")}#L(t,n){this.#p[n]=t,this.#u[t]=n}#D(t){t!==this.#c&&(t===this.#d?this.#d=this.#u[t]:this.#L(this.#p[t],this.#u[t]),this.#L(this.#c,t),this.#c=t)}delete(t){let n=!1;if(0!==this.#s){const i=this.#a.get(t);if(void 0!==i)if(n=!0,1===this.#s)this.clear();else{this.#I(i);const o=this.#r[i];this.#i(o)?o.__abortController.abort(new Error("deleted")):(this.#b||this.#h)&&(this.#b&&this.#n?.(o,t,"delete"),this.#h&&this.#l?.push([o,t,"delete"])),this.#a.delete(t),this.#o[i]=void 0,this.#r[i]=void 0,i===this.#c?this.#c=this.#p[i]:i===this.#d?this.#d=this.#u[i]:(this.#u[this.#p[i]]=this.#u[i],this.#p[this.#u[i]]=this.#p[i]),this.#s--,this.#g.push(i)}}if(this.#h&&this.#l?.length){const i=this.#l;let o;for(;o=i?.shift();)this.#f?.(...o)}return n}clear(){for(const t of this.#_({allowStale:!0})){const n=this.#r[t];if(this.#i(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#o[t];this.#b&&this.#n?.(n,i,"delete"),this.#h&&this.#l?.push([n,i,"delete"])}}if(this.#a.clear(),this.#r.fill(void 0),this.#o.fill(void 0),this.#v&&this.#x&&(this.#v.fill(0),this.#x.fill(0)),this.#E&&this.#E.fill(0),this.#d=0,this.#c=0,this.#g.length=0,this.#y=0,this.#s=0,this.#h&&this.#l){const t=this.#l;let n;for(;n=t?.shift();)this.#f?.(...n)}}}var mI=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class j8{constructor(t){this.timeToLiveInSeconds=t,this.cache=new ux({max:1e5,ttl:1e3*t})}set(t,n){return mI(this,void 0,void 0,function*(){try{this.cache.set(t,n)}catch{}})}get(t){return mI(this,void 0,void 0,function*(){return this.cache.get(t)})}}const fx=Jo,ti=new RegExp("^[A-Za-z0-9_-]+$","u");function Bi(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const B=Bi.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Bi.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const _e=0;for(const Ce in r)if("payload"!==Ce&&"signatures"!==Ce)return Bi.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(0===_e){if(void 0!==r.payload){let Ce=r.payload;const Te=0;if("string"!=typeof Ce)return Bi.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ti.test(Ce))return Bi.errors=[{instancePath:t+"/payload",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var C=0===Te}else C=!0;if(C)if(void 0!==r.signatures){let Ce=r.signatures;const Te=0;if(0===Te){if(!Array.isArray(Ce))return Bi.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Ce.length<1)return Bi.errors=[{instancePath:t+"/signatures",schemaPath:"#/properties/signatures/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const ze=Ce.length;for(let rt=0;rt<ze;rt++){let Xe=Ce[rt];const Ze=0;if(0===Ze){if(!Xe||"object"!=typeof Xe||Array.isArray(Xe))return Bi.errors=[{instancePath:t+"/signatures/"+rt,schemaPath:"#/properties/signatures/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==Xe.protected){let Et=Xe.protected;const pt=0;if("string"!=typeof Et)return Bi.errors=[{instancePath:t+"/signatures/"+rt+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ti.test(Et))return Bi.errors=[{instancePath:t+"/signatures/"+rt+"/protected",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;var K=0===pt}else K=!0;if(K)if(void 0!==Xe.signature){let Et=Xe.signature;const pt=0;if("string"!=typeof Et)return Bi.errors=[{instancePath:t+"/signatures/"+rt+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ti.test(Et))return Bi.errors=[{instancePath:t+"/signatures/"+rt+"/signature",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1;K=0===pt}else K=!0}if(0!==Ze)break}}}C=0===Te}else C=!0}}return Bi.errors=null,!0}function Jo(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Jo.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Jo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const C=d;for(const b in r)if("signature"!==b)return Jo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;C===d&&void 0!==r.signature&&(Bi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:o,dynamicAnchors:c})||(s=null===s?Bi.errors:s.concat(Bi.errors),d=s.length))}}return Jo.errors=s,0===d}Bi.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Jo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ul=Lr,Uo={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-write-unidentified.json",type:"object",required:["descriptor"],properties:{recordId:{type:"string"},contextId:{type:"string",pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},attestation:{$ref:"https://identity.foundation/dwn/json-schemas/general-jws.json"},authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-owner.json"},encryption:{type:"object",properties:{algorithm:{type:"string",enum:["A256CTR"]},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},keyEncryption:{type:"array",minItems:1,items:{type:"object",properties:{rootKeyId:{type:"string"},derivationScheme:{type:"string",enum:["dataFormats","protocolContext","protocolPath","schemas"]},derivedPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},algorithm:{type:"string",enum:["ECIES-ES256K"]},encryptedKey:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},initializationVector:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"},ephemeralPublicKey:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"},messageAuthenticationCode:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url"}},additionalProperties:!1,required:["rootKeyId","derivationScheme","algorithm","encryptedKey","initializationVector","ephemeralPublicKey","messageAuthenticationCode"]}}},additionalProperties:!1,required:["algorithm","initializationVector","keyEncryption"]},descriptor:{type:"object",properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Write"],type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},protocol:{type:"string"},protocolPath:{type:"string",pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},schema:{type:"string"},tags:{type:"object",minProperties:1,maxProperties:10,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"array",minItems:1,maxItems:10,items:{type:"string"}},{type:"array",minItems:1,maxItems:10,items:{type:"number"}}]}},parentId:{type:"string"},dataCid:{type:"string"},dataSize:{type:"number"},dateCreated:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},published:{type:"boolean"},datePublished:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},dataFormat:{type:"string"}},additionalProperties:!1,required:["interface","method","dataCid","dataSize","dateCreated","messageTimestamp","dataFormat"],dependencies:{parentId:["protocol"]},allOf:[{$comment:"rule defining `published` and `datePublished` relationship",anyOf:[{properties:{published:{type:"boolean",enum:[!0]}},required:["published","datePublished"]},{properties:{published:{type:"boolean",enum:[!1]}},not:{required:["datePublished"]}},{allOf:[{not:{required:["published"]}},{not:{required:["datePublished"]}}]}]}]}},$comment:"rule defining `protocol` and `contextId` relationship",anyOf:[{properties:{descriptor:{type:"object",required:["protocol","protocolPath"]}},required:["contextId"]},{allOf:[{not:{required:["contextId"]}},{properties:{descriptor:{type:"object",not:{required:["protocol"]}}}},{properties:{descriptor:{type:"object",not:{required:["protocolPath"]}}}}]}]},Li=new RegExp("^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$","u"),Zf=new RegExp("^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$","u"),yI=new RegExp("^[a-zA-Z]+(/[a-zA-Z]+)*$","u"),Gs=new RegExp("^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$","u"),Ku={validate:ma};function ld(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=ld.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return ld.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const b=d;for(const K in r)if("signature"!==K&&"authorDelegatedGrant"!==K&&"ownerSignature"!==K&&"ownerDelegatedGrant"!==K)return ld.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"}],!1;if(b===d){let K;if(void 0!==r.ownerSignature&&void 0===r.signature&&(K="signature"))return ld.errors=[{instancePath:t,schemaPath:"#/dependencies",keyword:"dependencies",params:{property:"ownerSignature",missingProperty:K,depsCount:1,deps:"signature"},message:"must have property signature when property ownerSignature is present"}],!1;if(void 0!==r.signature){const _e=d;Bi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:o,dynamicAnchors:c})||(s=null===s?Bi.errors:s.concat(Bi.errors),d=s.length);var C=_e===d}else C=!0;if(C){if(void 0!==r.authorDelegatedGrant){const _e=d;Ku.validate(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:o,dynamicAnchors:c})||(s=null===s?Ku.validate.errors:s.concat(Ku.validate.errors),d=s.length),C=_e===d}else C=!0;if(C){if(void 0!==r.ownerSignature){const _e=d;Bi(r.ownerSignature,{instancePath:t+"/ownerSignature",parentData:r,parentDataProperty:"ownerSignature",rootData:o,dynamicAnchors:c})||(s=null===s?Bi.errors:s.concat(Bi.errors),d=s.length),C=_e===d}else C=!0;if(C)if(void 0!==r.ownerDelegatedGrant){const _e=d;Ku.validate(r.ownerDelegatedGrant,{instancePath:t+"/ownerDelegatedGrant",parentData:r,parentDataProperty:"ownerDelegatedGrant",rootData:o,dynamicAnchors:c})||(s=null===s?Ku.validate.errors:s.concat(Ku.validate.errors),d=s.length),C=_e===d}else C=!0}}}}}return ld.errors=s,0===d}ld.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const zm={$id:"https://identity.foundation/dwn/json-schemas/general-jwk.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",required:["kty"],properties:{alg:{type:"string"},kid:{type:"string"},kty:{enum:["EC","RSA","oct","OKP"]},crv:{type:"string"},use:{type:"string"},key_ops:{type:"string"},x5u:{type:"string"},x5c:{type:"string"},x5t:{type:"string"},"x5t#S256":{type:"string"}},oneOf:[{properties:{kty:{const:"EC"},crv:{type:"string"},x:{type:"string"},y:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"OKP"},crv:{type:"string"},x:{type:"string"},d:{type:"string"}},required:["crv","x"]},{properties:{kty:{const:"RSA"},n:{type:"string"},e:{type:"string"},d:{type:"string"},p:{type:"string"},q:{type:"string"},dp:{type:"string"},dq:{type:"string"},qi:{type:"string"},oth:{type:"object"}},required:["n","e"]},{properties:{kty:{const:"oct"},k:{type:"string"}},required:["k"]}]};function qo(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=qo.evaluated;B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0);const C=d,b=d;let K=!1,_e=null;const Ce=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Cn;if(void 0===r.crv&&(Cn="crv")||void 0===r.x&&(Cn="x")){const Wt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/required",keyword:"required",params:{missingProperty:Cn},message:"must have required property '"+Cn+"'"};null===s?s=[Wt]:s.push(Wt),d++}else{if(void 0!==r.kty){const Wt=d;if("EC"!==r.kty){const nn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===s?s=[nn]:s.push(nn),d++}var Te=Wt===d}else Te=!0;if(Te){if(void 0!==r.crv){const Wt=d;if("string"!=typeof r.crv){const rn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[rn]:s.push(rn),d++}Te=Wt===d}else Te=!0;if(Te){if(void 0!==r.x){const Wt=d;if("string"!=typeof r.x){const rn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[rn]:s.push(rn),d++}Te=Wt===d}else Te=!0;if(Te){if(void 0!==r.y){const Wt=d;if("string"!=typeof r.y){const rn={instancePath:t+"/y",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[rn]:s.push(rn),d++}Te=Wt===d}else Te=!0;if(Te)if(void 0!==r.d){const Wt=d;if("string"!=typeof r.d){const rn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[rn]:s.push(rn),d++}Te=Wt===d}else Te=!0}}}}}if(Xe=Ce===d){K=!0,_e=0;var Pe={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const ze=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Cn;if(void 0===r.crv&&(Cn="crv")||void 0===r.x&&(Cn="x")){const Wt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/required",keyword:"required",params:{missingProperty:Cn},message:"must have required property '"+Cn+"'"};null===s?s=[Wt]:s.push(Wt),d++}else{if(void 0!==r.kty){const Wt=d;if("OKP"!==r.kty){const nn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===s?s=[nn]:s.push(nn),d++}var rt=Wt===d}else rt=!0;if(rt){if(void 0!==r.crv){const Wt=d;if("string"!=typeof r.crv){const rn={instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[rn]:s.push(rn),d++}rt=Wt===d}else rt=!0;if(rt){if(void 0!==r.x){const Wt=d;if("string"!=typeof r.x){const rn={instancePath:t+"/x",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[rn]:s.push(rn),d++}rt=Wt===d}else rt=!0;if(rt)if(void 0!==r.d){const Wt=d;if("string"!=typeof r.d){const rn={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[rn]:s.push(rn),d++}rt=Wt===d}else rt=!0}}}}if((Xe=ze===d)&&K)K=!1,_e=[_e,1];else{Xe&&(K=!0,_e=1,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.crv=!0,Pe.x=!0,Pe.d=!0));const Cn=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let nn;if(void 0===r.n&&(nn="n")||void 0===r.e&&(nn="e")){const rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/required",keyword:"required",params:{missingProperty:nn},message:"must have required property '"+nn+"'"};null===s?s=[rn]:s.push(rn),d++}else{if(void 0!==r.kty){const rn=d;if("RSA"!==r.kty){const Sn={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===s?s=[Sn]:s.push(Sn),d++}var Ze=rn===d}else Ze=!0;if(Ze){if(void 0!==r.n){const rn=d;if("string"!=typeof r.n){const un={instancePath:t+"/n",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[un]:s.push(un),d++}Ze=rn===d}else Ze=!0;if(Ze){if(void 0!==r.e){const rn=d;if("string"!=typeof r.e){const un={instancePath:t+"/e",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[un]:s.push(un),d++}Ze=rn===d}else Ze=!0;if(Ze){if(void 0!==r.d){const rn=d;if("string"!=typeof r.d){const un={instancePath:t+"/d",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[un]:s.push(un),d++}Ze=rn===d}else Ze=!0;if(Ze){if(void 0!==r.p){const rn=d;if("string"!=typeof r.p){const un={instancePath:t+"/p",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[un]:s.push(un),d++}Ze=rn===d}else Ze=!0;if(Ze){if(void 0!==r.q){const rn=d;if("string"!=typeof r.q){const un={instancePath:t+"/q",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[un]:s.push(un),d++}Ze=rn===d}else Ze=!0;if(Ze){if(void 0!==r.dp){const rn=d;if("string"!=typeof r.dp){const un={instancePath:t+"/dp",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[un]:s.push(un),d++}Ze=rn===d}else Ze=!0;if(Ze){if(void 0!==r.dq){const rn=d;if("string"!=typeof r.dq){const un={instancePath:t+"/dq",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[un]:s.push(un),d++}Ze=rn===d}else Ze=!0;if(Ze){if(void 0!==r.qi){const rn=d;if("string"!=typeof r.qi){const un={instancePath:t+"/qi",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[un]:s.push(un),d++}Ze=rn===d}else Ze=!0;if(Ze)if(void 0!==r.oth){let rn=r.oth;const Sn=d;if(!rn||"object"!=typeof rn||Array.isArray(rn)){const In={instancePath:t+"/oth",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[In]:s.push(In),d++}Ze=Sn===d}else Ze=!0}}}}}}}}}}if((Xe=Cn===d)&&K)K=!1,_e=[_e,2];else{Xe&&(K=!0,_e=2,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.n=!0,Pe.e=!0,Pe.d=!0,Pe.p=!0,Pe.q=!0,Pe.dp=!0,Pe.dq=!0,Pe.qi=!0,Pe.oth=!0));const nn=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Sn;if(void 0===r.k&&(Sn="k")){const un={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/required",keyword:"required",params:{missingProperty:Sn},message:"must have required property '"+Sn+"'"};null===s?s=[un]:s.push(un),d++}else{if(void 0!==r.kty){const un=d;if("oct"!==r.kty){const In={instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===s?s=[In]:s.push(In),d++}var lt=un===d}else lt=!0;if(lt)if(void 0!==r.k){const un=d;if("string"!=typeof r.k){const Gn={instancePath:t+"/k",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Gn]:s.push(Gn),d++}lt=un===d}else lt=!0}}var Xe;(Xe=nn===d)&&K?(K=!1,_e=[_e,3]):Xe&&(K=!0,_e=3,!0!==Pe&&((Pe=Pe||{}).kty=!0,Pe.k=!0))}}if(!K){const Cn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/oneOf",keyword:"oneOf",params:{passingSchemas:_e},message:"must match exactly one schema in oneOf"};return null===s?s=[Cn]:s.push(Cn),d++,qo.errors=s,!1}if(d=b,null!==s&&(b?s.length=b:s=null),d===C){if(!r||"object"!=typeof r||Array.isArray(r))return qo.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Cn;if(void 0===r.kty&&(Cn="kty"))return qo.errors=[{instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/required",keyword:"required",params:{missingProperty:Cn},message:"must have required property '"+Cn+"'"}],!1;if(!0!==Pe&&((Pe=Pe||{}).alg=!0,Pe.kid=!0,Pe.kty=!0,Pe.crv=!0,Pe.use=!0,Pe.key_ops=!0,Pe.x5u=!0,Pe.x5c=!0,Pe.x5t=!0,Pe["x5t#S256"]=!0),void 0!==r.alg){const Wt=d;if("string"!=typeof r.alg)return qo.errors=[{instancePath:t+"/alg",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Et=Wt===d}else Et=!0;if(Et){if(void 0!==r.kid){const Wt=d;if("string"!=typeof r.kid)return qo.errors=[{instancePath:t+"/kid",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=Wt===d}else Et=!0;if(Et){if(void 0!==r.kty){let Wt=r.kty;const nn=d;if("EC"!==Wt&&"RSA"!==Wt&&"oct"!==Wt&&"OKP"!==Wt)return qo.errors=[{instancePath:t+"/kty",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/kty/enum",keyword:"enum",params:{allowedValues:zm.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;Et=nn===d}else Et=!0;if(Et){if(void 0!==r.crv){const Wt=d;if("string"!=typeof r.crv)return qo.errors=[{instancePath:t+"/crv",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=Wt===d}else Et=!0;if(Et){if(void 0!==r.use){const Wt=d;if("string"!=typeof r.use)return qo.errors=[{instancePath:t+"/use",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=Wt===d}else Et=!0;if(Et){if(void 0!==r.key_ops){const Wt=d;if("string"!=typeof r.key_ops)return qo.errors=[{instancePath:t+"/key_ops",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=Wt===d}else Et=!0;if(Et){if(void 0!==r.x5u){const Wt=d;if("string"!=typeof r.x5u)return qo.errors=[{instancePath:t+"/x5u",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=Wt===d}else Et=!0;if(Et){if(void 0!==r.x5c){const Wt=d;if("string"!=typeof r.x5c)return qo.errors=[{instancePath:t+"/x5c",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=Wt===d}else Et=!0;if(Et){if(void 0!==r.x5t){const Wt=d;if("string"!=typeof r.x5t)return qo.errors=[{instancePath:t+"/x5t",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=Wt===d}else Et=!0;if(Et)if(void 0!==r["x5t#S256"]){const Wt=d;if("string"!=typeof r["x5t#S256"])return qo.errors=[{instancePath:t+"/x5t#S256",schemaPath:"https://identity.foundation/dwn/json-schemas/general-jwk.json/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Et=Wt===d}else Et=!0}}}}}}}}}}if(C===d){const Cn=d,Wt=d,nn=d;let rn=!1;const Sn=d,un=d;let In=!1;const Gn=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let ir;if(void 0===r.d&&(ir="d")){const ai={};null===s?s=[ai]:s.push(ai),d++}}if(In=In||Gn===d,In)d=un,null!==s&&(un?s.length=un:s=null);else{const ir={};null===s?s=[ir]:s.push(ir),d++}if(d===Sn)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"EC"!==r.kty){const ir={};null===s?s=[ir]:s.push(ir),d++}}else{const ir={};null===s?s=[ir]:s.push(ir),d++}var $n=Sn===d;if(rn=rn||$n,$n)var Pt={kty:!0};const Wn=d,Qt=d;let Yn=!1;const dr=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let ir;if(void 0===r.d&&(ir="d")){const ai={};null===s?s=[ai]:s.push(ai),d++}}if(Yn=Yn||dr===d,Yn)d=Qt,null!==s&&(Qt?s.length=Qt:s=null);else{const ir={};null===s?s=[ir]:s.push(ir),d++}if(d===Wn)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty&&"OKP"!==r.kty){const ir={};null===s?s=[ir]:s.push(ir),d++}}else{const ir={};null===s?s=[ir]:s.push(ir),d++}$n=Wn===d,rn=rn||$n,$n&&!0!==Pt&&((Pt=Pt||{}).kty=!0);const Nn=d,En=d;let jn=!1;const rr=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let ir;if(void 0===r.d&&(ir="d")){const ai={};null===s?s=[ai]:s.push(ai),d++}}var an=rr===d;jn=jn||an;const gr=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let ir;if(void 0===r.p&&(ir="p")){const ai={};null===s?s=[ai]:s.push(ai),d++}}an=gr===d,jn=jn||an;const Er=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let ir;if(void 0===r.q&&(ir="q")){const ai={};null===s?s=[ai]:s.push(ai),d++}}an=Er===d,jn=jn||an;const fr=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let ir;if(void 0===r.dp&&(ir="dp")){const ai={};null===s?s=[ai]:s.push(ai),d++}}an=fr===d,jn=jn||an;const hr=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let ir;if(void 0===r.dq&&(ir="dq")){const ai={};null===s?s=[ai]:s.push(ai),d++}}an=hr===d,jn=jn||an;const Hr=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let ir;if(void 0===r.qi&&(ir="qi")){const ai={};null===s?s=[ai]:s.push(ai),d++}}an=Hr===d,jn=jn||an;const Ms=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let ir;if(void 0===r.oth&&(ir="oth")){const ai={};null===s?s=[ai]:s.push(ai),d++}}if(an=Ms===d,jn=jn||an,jn)d=En,null!==s&&(En?s.length=En:s=null);else{const ir={};null===s?s=[ir]:s.push(ir),d++}if(d===Nn)if(r&&"object"==typeof r&&!Array.isArray(r)){if(void 0!==r.kty){const ir=d;if("RSA"!==r.kty){const ai={};null===s?s=[ai]:s.push(ai),d++}var _n=ir===d}else _n=!0;if(_n)if(void 0!==r.oth){let ir=r.oth;const ai=d;if(!ir||"object"!=typeof ir||Array.isArray(ir)){const Jr={};null===s?s=[Jr]:s.push(Jr),d++}_n=ai===d}else _n=!0}else{const ir={};null===s?s=[ir]:s.push(ir),d++}if($n=Nn===d,rn=rn||$n,$n&&!0!==Pt&&((Pt=Pt||{}).kty=!0,Pt.d=!0,Pt.p=!0,Pt.q=!0,Pt.dp=!0,Pt.dq=!0,Pt.qi=!0,Pt.oth=!0),rn)d=nn,null!==s&&(nn?s.length=nn:s=null);else{const ir={};null===s?s=[ir]:s.push(ir),d++}if(Wt===d)return qo.errors=[{instancePath:t,schemaPath:"#/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=Cn,null!==s&&(Cn?s.length=Cn:s=null)}return qo.errors=s,B.props=Pe,0===d}qo.evaluated={dynamicProps:!0,dynamicItems:!1};const Hh=Object.prototype.hasOwnProperty;function Ur(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Ur.evaluated;B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0);const C=d;let b=!1;const K=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Wn;if(void 0===r.contextId&&(Wn="contextId")){const Qt={instancePath:t,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty:Wn},message:"must have required property '"+Wn+"'"};null===s?s=[Qt]:s.push(Qt),d++}else if(void 0!==r.descriptor){let Qt=r.descriptor;if(d==d)if(Qt&&"object"==typeof Qt&&!Array.isArray(Qt)){let dr;if(void 0===Qt.protocol&&(dr="protocol")||void 0===Qt.protocolPath&&(dr="protocolPath")){const Nn={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/required",keyword:"required",params:{missingProperty:dr},message:"must have required property '"+dr+"'"};null===s?s=[Nn]:s.push(Nn),d++}}else{const dr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/0/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[dr]:s.push(dr),d++}}}var Et=K===d;if(b=b||Et,Et)var _e={descriptor:!0};const Ce=d,Te=d,Pe=d,ze=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Wn;if(void 0===r.contextId&&(Wn="contextId")){const Qt={};null===s?s=[Qt]:s.push(Qt),d++}}if(ze===d){const Wn={instancePath:t,schemaPath:"#/anyOf/1/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[Wn]:s.push(Wn),d++}else d=Pe,null!==s&&(Pe?s.length=Pe:s=null);if(Te===d){const Wn=d;if(r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Yn=r.descriptor;if(!Yn||"object"!=typeof Yn||Array.isArray(Yn)){const En={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[En]:s.push(En),d++}const dr=d,Nn=d;if(Yn&&"object"==typeof Yn&&!Array.isArray(Yn)){let En;if(void 0===Yn.protocol&&(En="protocol")){const jn={};null===s?s=[jn]:s.push(jn),d++}}if(Nn===d){const En={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/1/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[En]:s.push(En),d++}else d=dr,null!==s&&(dr?s.length=dr:s=null)}if(Wn===d&&r&&"object"==typeof r&&!Array.isArray(r)&&void 0!==r.descriptor){let Nn=r.descriptor;if(!Nn||"object"!=typeof Nn||Array.isArray(Nn)){const rr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[rr]:s.push(rr),d++}const En=d,jn=d;if(Nn&&"object"==typeof Nn&&!Array.isArray(Nn)){let rr;if(void 0===Nn.protocolPath&&(rr="protocolPath")){const gr={};null===s?s=[gr]:s.push(gr),d++}}if(jn===d){const rr={instancePath:t+"/descriptor",schemaPath:"#/anyOf/1/allOf/2/properties/descriptor/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[rr]:s.push(rr),d++}else d=En,null!==s&&(En?s.length=En:s=null)}}if(Et=Ce===d,b=b||Et,Et&&!0!==_e&&((_e=_e||{}).descriptor=!0),!b){const Wn={instancePath:t,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===s?s=[Wn]:s.push(Wn),d++,Ur.errors=s,!1}if(d=C,null!==s&&(C?s.length=C:s=null),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Ur.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Wn;if(void 0===r.descriptor&&(Wn="descriptor"))return Ur.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Wn},message:"must have required property '"+Wn+"'"}],!1;if(!0!==_e&&((_e=_e||{}).recordId=!0,_e.contextId=!0,_e.attestation=!0,_e.authorization=!0,_e.encryption=!0,_e.descriptor=!0),void 0!==r.recordId){const Qt=d;if("string"!=typeof r.recordId)return Ur.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var pt=Qt===d}else pt=!0;if(pt){if(void 0!==r.contextId){let Qt=r.contextId;const Yn=d;if(d===Yn){if("string"!=typeof Qt)return Ur.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Li.test(Qt))return Ur.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"},message:'must match pattern "^[a-zA-Z0-9]+(/[a-zA-Z0-9]+)*$"'}],!1}pt=Yn===d}else pt=!0;if(pt){if(void 0!==r.attestation){const Qt=d;Bi(r.attestation,{instancePath:t+"/attestation",parentData:r,parentDataProperty:"attestation",rootData:o,dynamicAnchors:c})||(s=null===s?Bi.errors:s.concat(Bi.errors),d=s.length),pt=Qt===d}else pt=!0;if(pt){if(void 0!==r.authorization){const Qt=d;ld(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(s=null===s?ld.errors:s.concat(ld.errors),d=s.length),pt=Qt===d}else pt=!0;if(pt){if(void 0!==r.encryption){let Qt=r.encryption;const Yn=d;if(d===Yn){if(!Qt||"object"!=typeof Qt||Array.isArray(Qt))return Ur.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Nn;if(void 0===Qt.algorithm&&(Nn="algorithm")||void 0===Qt.initializationVector&&(Nn="initializationVector")||void 0===Qt.keyEncryption&&(Nn="keyEncryption"))return Ur.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"}],!1;{const En=d;for(const jn in Qt)if("algorithm"!==jn&&"initializationVector"!==jn&&"keyEncryption"!==jn)return Ur.errors=[{instancePath:t+"/encryption",schemaPath:"#/properties/encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:jn},message:"must NOT have additional properties"}],!1;if(En===d){if(void 0!==Qt.algorithm){let jn=Qt.algorithm;const rr=d;if("string"!=typeof jn)return Ur.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("A256CTR"!==jn)return Ur.errors=[{instancePath:t+"/encryption/algorithm",schemaPath:"#/properties/encryption/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Uo.properties.encryption.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;var Mt=rr===d}else Mt=!0;if(Mt){if(void 0!==Qt.initializationVector){let jn=Qt.initializationVector;const rr=d;if(d==d){if("string"!=typeof jn)return Ur.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ti.test(jn))return Ur.errors=[{instancePath:t+"/encryption/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}Mt=rr===d}else Mt=!0;if(Mt)if(void 0!==Qt.keyEncryption){let jn=Qt.keyEncryption;const rr=d;if(d===rr){if(!Array.isArray(jn))return Ur.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(jn.length<1)return Ur.errors=[{instancePath:t+"/encryption/keyEncryption",schemaPath:"#/properties/encryption/properties/keyEncryption/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const Er=jn.length;for(let fr=0;fr<Er;fr++){let hr=jn[fr];const Hr=d;if(d===Hr){if(!hr||"object"!=typeof hr||Array.isArray(hr))return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ir;if(void 0===hr.rootKeyId&&(ir="rootKeyId")||void 0===hr.derivationScheme&&(ir="derivationScheme")||void 0===hr.algorithm&&(ir="algorithm")||void 0===hr.encryptedKey&&(ir="encryptedKey")||void 0===hr.initializationVector&&(ir="initializationVector")||void 0===hr.ephemeralPublicKey&&(ir="ephemeralPublicKey")||void 0===hr.messageAuthenticationCode&&(ir="messageAuthenticationCode"))return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/required",keyword:"required",params:{missingProperty:ir},message:"must have required property '"+ir+"'"}],!1;{const ai=d;for(const di in hr)if("rootKeyId"!==di&&"derivationScheme"!==di&&"derivedPublicKey"!==di&&"algorithm"!==di&&"encryptedKey"!==di&&"initializationVector"!==di&&"ephemeralPublicKey"!==di&&"messageAuthenticationCode"!==di)return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr,schemaPath:"#/properties/encryption/properties/keyEncryption/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:di},message:"must NOT have additional properties"}],!1;if(ai===d){if(void 0!==hr.rootKeyId){const di=d;if("string"!=typeof hr.rootKeyId)return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr+"/rootKeyId",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var sn=di===d}else sn=!0;if(sn){if(void 0!==hr.derivationScheme){let di=hr.derivationScheme;const Jr=d;if("string"!=typeof di)return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("dataFormats"!==di&&"protocolContext"!==di&&"protocolPath"!==di&&"schemas"!==di)return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr+"/derivationScheme",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/derivationScheme/enum",keyword:"enum",params:{allowedValues:Uo.properties.encryption.properties.keyEncryption.items.properties.derivationScheme.enum},message:"must be equal to one of the allowed values"}],!1;sn=Jr===d}else sn=!0;if(sn){if(void 0!==hr.derivedPublicKey){const di=d;qo(hr.derivedPublicKey,{instancePath:t+"/encryption/keyEncryption/"+fr+"/derivedPublicKey",parentData:hr,parentDataProperty:"derivedPublicKey",rootData:o,dynamicAnchors:c})||(s=null===s?qo.errors:s.concat(qo.errors),d=s.length),sn=di===d}else sn=!0;if(sn){if(void 0!==hr.algorithm){let di=hr.algorithm;const Jr=d;if("string"!=typeof di)return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("ECIES-ES256K"!==di)return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr+"/algorithm",schemaPath:"#/properties/encryption/properties/keyEncryption/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues:Uo.properties.encryption.properties.keyEncryption.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"}],!1;sn=Jr===d}else sn=!0;if(sn){if(void 0!==hr.encryptedKey){let di=hr.encryptedKey;const Jr=d;if(d==d){if("string"!=typeof di)return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ti.test(di))return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr+"/encryptedKey",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}sn=Jr===d}else sn=!0;if(sn){if(void 0!==hr.initializationVector){let di=hr.initializationVector;const Jr=d;if(d==d){if("string"!=typeof di)return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ti.test(di))return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr+"/initializationVector",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}sn=Jr===d}else sn=!0;if(sn){if(void 0!==hr.ephemeralPublicKey){const di=d;qo(hr.ephemeralPublicKey,{instancePath:t+"/encryption/keyEncryption/"+fr+"/ephemeralPublicKey",parentData:hr,parentDataProperty:"ephemeralPublicKey",rootData:o,dynamicAnchors:c})||(s=null===s?qo.errors:s.concat(qo.errors),d=s.length),sn=di===d}else sn=!0;if(sn)if(void 0!==hr.messageAuthenticationCode){let di=hr.messageAuthenticationCode;const Jr=d;if(d==d){if("string"!=typeof di)return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!ti.test(di))return Ur.errors=[{instancePath:t+"/encryption/keyEncryption/"+fr+"/messageAuthenticationCode",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/base64url/pattern",keyword:"pattern",params:{pattern:"^[A-Za-z0-9_-]+$"},message:'must match pattern "^[A-Za-z0-9_-]+$"'}],!1}sn=Jr===d}else sn=!0}}}}}}}}}}if(Hr!==d)break}}}Mt=rr===d}else Mt=!0}}}}}pt=Yn===d}else pt=!0;if(pt)if(void 0!==r.descriptor){let Qt=r.descriptor;const Yn=d,dr=d;let Nn=!1;const En=d;if(Qt&&"object"==typeof Qt&&!Array.isArray(Qt)){let ir;if(void 0===Qt.published&&(ir="published")||void 0===Qt.datePublished&&(ir="datePublished")){const ai={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/required",keyword:"required",params:{missingProperty:ir},message:"must have required property '"+ir+"'"};null===s?s=[ai]:s.push(ai),d++}else if(void 0!==Qt.published){let ai=Qt.published;if("boolean"!=typeof ai){const di={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===s?s=[di]:s.push(di),d++}if(!0!==ai){const di={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:Uo.properties.descriptor.allOf[0].anyOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===s?s=[di]:s.push(di),d++}}}var Wt=En===d;if(Nn=Nn||Wt,Wt)var an={published:!0};const jn=d,rr=d,gr=d;if(Qt&&"object"==typeof Qt&&!Array.isArray(Qt)){let ir;if(void 0===Qt.datePublished&&(ir="datePublished")){const ai={};null===s?s=[ai]:s.push(ai),d++}}if(gr===d){const ir={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[ir]:s.push(ir),d++}else d=rr,null!==s&&(rr?s.length=rr:s=null);if(d===jn&&Qt&&"object"==typeof Qt&&!Array.isArray(Qt)&&void 0!==Qt.published){let ir=Qt.published;if("boolean"!=typeof ir){const ai={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===s?s=[ai]:s.push(ai),d++}if(!1!==ir){const ai={instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/allOf/0/anyOf/1/properties/published/enum",keyword:"enum",params:{allowedValues:Uo.properties.descriptor.allOf[0].anyOf[1].properties.published.enum},message:"must be equal to one of the allowed values"};null===s?s=[ai]:s.push(ai),d++}}Wt=jn===d,Nn=Nn||Wt,Wt&&!0!==an&&((an=an||{}).published=!0);const Er=d,fr=d,hr=d,Hr=d;if(Qt&&"object"==typeof Qt&&!Array.isArray(Qt)){let ir;if(void 0===Qt.published&&(ir="published")){const ai={};null===s?s=[ai]:s.push(ai),d++}}if(Hr===d){const ir={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/0/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[ir]:s.push(ir),d++}else d=hr,null!==s&&(hr?s.length=hr:s=null);if(fr===d){const ai=d,di=d;if(Qt&&"object"==typeof Qt&&!Array.isArray(Qt)){let ls;if(void 0===Qt.datePublished&&(ls="datePublished")){const ql={};null===s?s=[ql]:s.push(ql),d++}}if(di===d){const ls={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf/2/allOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[ls]:s.push(ls),d++}else d=ai,null!==s&&(ai?s.length=ai:s=null)}if(Wt=Er===d,Nn=Nn||Wt,!Nn){const ir={instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/allOf/0/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};return null===s?s=[ir]:s.push(ir),d++,Ur.errors=s,!1}if(d=dr,null!==s&&(dr?s.length=dr:s=null),d===Yn){if(!Qt||"object"!=typeof Qt||Array.isArray(Qt))return Ur.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ir;if(void 0===Qt.interface&&(ir="interface")||void 0===Qt.method&&(ir="method")||void 0===Qt.dataCid&&(ir="dataCid")||void 0===Qt.dataSize&&(ir="dataSize")||void 0===Qt.dateCreated&&(ir="dateCreated")||void 0===Qt.messageTimestamp&&(ir="messageTimestamp")||void 0===Qt.dataFormat&&(ir="dataFormat"))return Ur.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ir},message:"must have required property '"+ir+"'"}],!1;{const ai=d;for(const di in Qt)if(!Hh.call(Uo.properties.descriptor.properties,di))return Ur.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:di},message:"must NOT have additional properties"}],!1;if(ai===d){let di;if(void 0!==Qt.parentId&&void 0===Qt.protocol&&(di="protocol"))return Ur.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/dependencies",keyword:"dependencies",params:{property:"parentId",missingProperty:di,depsCount:1,deps:"protocol"},message:"must have property protocol when property parentId is present"}],!1;if(void 0!==Qt.interface){let Jr=Qt.interface;const ls=d;if("string"!=typeof Jr)return Ur.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Jr)return Ur.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Uo.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var nn=ls===d}else nn=!0;if(nn){if(void 0!==Qt.method){let Jr=Qt.method;const ls=d;if("string"!=typeof Jr)return Ur.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Write"!==Jr)return Ur.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Uo.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;nn=ls===d}else nn=!0;if(nn){if(void 0!==Qt.recipient){let Jr=Qt.recipient;const ls=d;if(d==d){if("string"!=typeof Jr)return Ur.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Zf.test(Jr))return Ur.errors=[{instancePath:t+"/descriptor/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}nn=ls===d}else nn=!0;if(nn){if(void 0!==Qt.protocol){const Jr=d;if("string"!=typeof Qt.protocol)return Ur.errors=[{instancePath:t+"/descriptor/protocol",schemaPath:"#/properties/descriptor/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;nn=Jr===d}else nn=!0;if(nn){if(void 0!==Qt.protocolPath){let Jr=Qt.protocolPath;const ls=d;if(d===ls){if("string"!=typeof Jr)return Ur.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!yI.test(Jr))return Ur.errors=[{instancePath:t+"/descriptor/protocolPath",schemaPath:"#/properties/descriptor/properties/protocolPath/pattern",keyword:"pattern",params:{pattern:"^[a-zA-Z]+(/[a-zA-Z]+)*$"},message:'must match pattern "^[a-zA-Z]+(/[a-zA-Z]+)*$"'}],!1}nn=ls===d}else nn=!0;if(nn){if(void 0!==Qt.schema){const Jr=d;if("string"!=typeof Qt.schema)return Ur.errors=[{instancePath:t+"/descriptor/schema",schemaPath:"#/properties/descriptor/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;nn=Jr===d}else nn=!0;if(nn){if(void 0!==Qt.tags){let Jr=Qt.tags;const ls=d;if(d===ls){if(!Jr||"object"!=typeof Jr||Array.isArray(Jr))return Ur.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Jr).length>10)return Ur.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/maxProperties",keyword:"maxProperties",params:{limit:10},message:"must NOT have more than 10 properties"}],!1;if(Object.keys(Jr).length<1)return Ur.errors=[{instancePath:t+"/descriptor/tags",schemaPath:"#/properties/descriptor/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const wo in Jr){let _o=Jr[wo];const As=d,To=d;let ii=!1,Io=null;const Ql=d;if("string"!=typeof _o){const Bc={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Bc]:s.push(Bc),d++}(rn=Ql===d)&&(ii=!0,Io=0);const vc=d;if("number"!=typeof _o||!isFinite(_o)){const Bc={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[Bc]:s.push(Bc),d++}if((rn=vc===d)&&ii)ii=!1,Io=[Io,1];else{rn&&(ii=!0,Io=1);const Bc=d;if("boolean"!=typeof _o){const B_={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===s?s=[B_]:s.push(B_),d++}if((rn=Bc===d)&&ii)ii=!1,Io=[Io,2];else{rn&&(ii=!0,Io=2);const B_=d;if(d===B_)if(Array.isArray(_o))if(_o.length>10){const jf={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===s?s=[jf]:s.push(jf),d++}else if(_o.length<1){const jf={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===s?s=[jf]:s.push(jf),d++}else{const jf=_o.length;for(let R8=0;R8<jf;R8++){const Ph=d;if("string"!=typeof _o[R8]){const rI={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+R8,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[rI]:s.push(rI),d++}if(Ph!==d)break}}else{const jf={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"array"},message:"must be array"};null===s?s=[jf]:s.push(jf),d++}if((rn=B_===d)&&ii)ii=!1,Io=[Io,3];else{if(rn){ii=!0,Io=3;var un=!0}const jf=d;if(d===jf)if(Array.isArray(_o))if(_o.length>10){const Ph={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/maxItems",keyword:"maxItems",params:{limit:10},message:"must NOT have more than 10 items"};null===s?s=[Ph]:s.push(Ph),d++}else if(_o.length<1){const Ph={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===s?s=[Ph]:s.push(Ph),d++}else{const Ph=_o.length;for(let O8=0;O8<Ph;O8++){let rI=_o[O8];const pH=d;if("number"!=typeof rI||!isFinite(rI)){const xF={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1")+"/"+O8,schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/items/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[xF]:s.push(xF),d++}if(pH!==d)break}}else{const Ph={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf/4/type",keyword:"type",params:{type:"array"},message:"must be array"};null===s?s=[Ph]:s.push(Ph),d++}var rn;(rn=jf===d)&&ii?(ii=!1,Io=[Io,4]):rn&&(ii=!0,Io=4,!0!==un&&(un=!0))}}}if(!ii){const Bc={instancePath:t+"/descriptor/tags/"+wo.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/descriptor/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Io},message:"must match exactly one schema in oneOf"};return null===s?s=[Bc]:s.push(Bc),d++,Ur.errors=s,!1}if(d=To,null!==s&&(To?s.length=To:s=null),As!==d)break}}nn=ls===d}else nn=!0;if(nn){if(void 0!==Qt.parentId){const Jr=d;if("string"!=typeof Qt.parentId)return Ur.errors=[{instancePath:t+"/descriptor/parentId",schemaPath:"#/properties/descriptor/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;nn=Jr===d}else nn=!0;if(nn){if(void 0!==Qt.dataCid){const Jr=d;if("string"!=typeof Qt.dataCid)return Ur.errors=[{instancePath:t+"/descriptor/dataCid",schemaPath:"#/properties/descriptor/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;nn=Jr===d}else nn=!0;if(nn){if(void 0!==Qt.dataSize){let Jr=Qt.dataSize;const ls=d;if("number"!=typeof Jr||!isFinite(Jr))return Ur.errors=[{instancePath:t+"/descriptor/dataSize",schemaPath:"#/properties/descriptor/properties/dataSize/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;nn=ls===d}else nn=!0;if(nn){if(void 0!==Qt.dateCreated){let Jr=Qt.dateCreated;const ls=d;if(d==d){if("string"!=typeof Jr)return Ur.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(Jr))return Ur.errors=[{instancePath:t+"/descriptor/dateCreated",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}nn=ls===d}else nn=!0;if(nn){if(void 0!==Qt.messageTimestamp){let Jr=Qt.messageTimestamp;const ls=d;if(d==d){if("string"!=typeof Jr)return Ur.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(Jr))return Ur.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}nn=ls===d}else nn=!0;if(nn){if(void 0!==Qt.published){const Jr=d;if("boolean"!=typeof Qt.published)return Ur.errors=[{instancePath:t+"/descriptor/published",schemaPath:"#/properties/descriptor/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;nn=Jr===d}else nn=!0;if(nn){if(void 0!==Qt.datePublished){let Jr=Qt.datePublished;const ls=d;if(d==d){if("string"!=typeof Jr)return Ur.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(Jr))return Ur.errors=[{instancePath:t+"/descriptor/datePublished",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}nn=ls===d}else nn=!0;if(nn)if(void 0!==Qt.dataFormat){const Jr=d;if("string"!=typeof Qt.dataFormat)return Ur.errors=[{instancePath:t+"/descriptor/dataFormat",schemaPath:"#/properties/descriptor/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;nn=Jr===d}else nn=!0}}}}}}}}}}}}}}}}}pt=Yn===d}else pt=!0}}}}}}return Ur.errors=s,B.props=_e,0===d}function ma(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=ma.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),Ur(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:o,dynamicAnchors:c}))var C=Ur.evaluated.props;else s=null===s?Ur.errors:s.concat(Ur.errors),d=s.length;if(0===d){if(!r||"object"!=typeof r||Array.isArray(r))return ma.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let K;if(void 0===r.recordId&&(K="recordId")||void 0===r.authorization&&(K="authorization")||void 0===r.encodedData&&(K="encodedData"))return ma.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;if(!0!==C&&((C=C||{}).encodedData=!0),void 0!==r.encodedData){const _e=d;if("string"!=typeof r.encodedData)return ma.errors=[{instancePath:t+"/encodedData",schemaPath:"#/properties/encodedData/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var b=_e===d}else b=!0;if(b&&!0!==C)for(const _e in r)if(!C||!C[_e])return ma.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:_e},message:"must NOT have unevaluated properties"}],!1}}return ma.errors=s,0===d}function Lr(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Lr.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Lr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const b=d;for(const K in r)if("signature"!==K&&"authorDelegatedGrant"!==K)return Lr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:K},message:"must NOT have additional properties"}],!1;if(b===d){if(void 0!==r.signature){const K=d;Bi(r.signature,{instancePath:t+"/signature",parentData:r,parentDataProperty:"signature",rootData:o,dynamicAnchors:c})||(s=null===s?Bi.errors:s.concat(Bi.errors),d=s.length);var C=K===d}else C=!0;if(C)if(void 0!==r.authorDelegatedGrant){const K=d;ma(r.authorDelegatedGrant,{instancePath:t+"/authorDelegatedGrant",parentData:r,parentDataProperty:"authorDelegatedGrant",rootData:o,dynamicAnchors:c})||(s=null===s?ma.errors:s.concat(ma.errors),d=s.length),C=K===d}else C=!0}}}return Lr.errors=s,0===d}Ur.evaluated={dynamicProps:!0,dynamicItems:!1},ma.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Lr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const px=ld,Vv=ja,pf={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-delete.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","recordId","prune"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Delete"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},recordId:{type:"string"},prune:{type:"boolean"}}}}};function ja(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=ja.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return ja.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let K;if(void 0===r.authorization&&(K="authorization")||void 0===r.descriptor&&(K="descriptor"))return ja.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;{const _e=d;for(const Ce in r)if("authorization"!==Ce&&"descriptor"!==Ce)return ja.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(_e===d){if(void 0!==r.authorization){const Ce=d;Lr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(s=null===s?Lr.errors:s.concat(Lr.errors),d=s.length);var C=Ce===d}else C=!0;if(C)if(void 0!==r.descriptor){let Ce=r.descriptor;const Te=d;if(d===Te){if(!Ce||"object"!=typeof Ce||Array.isArray(Ce))return ja.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ze;if(void 0===Ce.interface&&(ze="interface")||void 0===Ce.method&&(ze="method")||void 0===Ce.messageTimestamp&&(ze="messageTimestamp")||void 0===Ce.recordId&&(ze="recordId")||void 0===Ce.prune&&(ze="prune"))return ja.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ze},message:"must have required property '"+ze+"'"}],!1;{const rt=d;for(const Xe in Ce)if("interface"!==Xe&&"method"!==Xe&&"messageTimestamp"!==Xe&&"recordId"!==Xe&&"prune"!==Xe)return ja.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xe},message:"must NOT have additional properties"}],!1;if(rt===d){if(void 0!==Ce.interface){let Xe=Ce.interface;const Ze=d;if("string"!=typeof Xe)return ja.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Xe)return ja.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:pf.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Ze===d}else b=!0;if(b){if(void 0!==Ce.method){let Xe=Ce.method;const Ze=d;if("string"!=typeof Xe)return ja.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Delete"!==Xe)return ja.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:pf.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Ze===d}else b=!0;if(b){if(void 0!==Ce.messageTimestamp){let Xe=Ce.messageTimestamp;const Ze=d;if(d==d){if("string"!=typeof Xe)return ja.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(Xe))return ja.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Ze===d}else b=!0;if(b){if(void 0!==Ce.recordId){const Xe=d;if("string"!=typeof Ce.recordId)return ja.errors=[{instancePath:t+"/descriptor/recordId",schemaPath:"#/properties/descriptor/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=Xe===d}else b=!0;if(b)if(void 0!==Ce.prune){const Xe=d;if("boolean"!=typeof Ce.prune)return ja.errors=[{instancePath:t+"/descriptor/prune",schemaPath:"#/properties/descriptor/properties/prune/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;b=Xe===d}else b=!0}}}}}}}C=Te===d}else C=!0}}}}return ja.errors=s,0===d}ja.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Cy=Qo,ya={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"},pagination:{type:"object",additionalProperties:!1,properties:{limit:{type:"number",minimum:1},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}},dateSort:{enum:["createdAscending","createdDescending","publishedAscending","publishedDescending"],type:"string"}}}}},ky={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json",type:"object",minProperties:1,additionalProperties:!1,required:["messageCid","value"],properties:{messageCid:{type:"string"},value:{type:["string","number"]}}},Ac={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-filter.json",type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},protocolPath:{type:"string"},author:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},attester:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},contextId:{type:"string"},schema:{type:"string"},tags:{type:"object",minProperties:1,additionalProperties:{oneOf:[{type:"string"},{type:"number"},{type:"boolean"},{type:"object",minProperties:1,additionalProperties:!1,properties:{startsWith:{type:"string"}}},{$ref:"https://identity.foundation/dwn/json-schemas/string-range-filter.json"},{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"}]}},recordId:{type:"string"},parentId:{type:"string"},published:{type:"boolean"},dataFormat:{type:"string"},dataSize:{$ref:"https://identity.foundation/dwn/json-schemas/number-range-filter.json"},dataCid:{type:"string"},dateCreated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},datePublished:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}},dateUpdated:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}},dependencies:{datePublished:{oneOf:[{properties:{published:{enum:[!0]}},required:["published"]},{not:{required:["published"]}}]}}};function Kr(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Kr.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Kr.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Kr.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Wn=d;for(const Qt in r)if(!Hh.call(Ac.properties,Qt))return Kr.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Qt},message:"must NOT have additional properties"}],!1;if(Wn===d){if(void 0!==r.datePublished){const Qt=d,Yn=d;let dr=!1,Nn=null;const En=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Er;if(void 0===r.published&&(Er="published")){const fr={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/0/required",keyword:"required",params:{missingProperty:Er},message:"must have required property '"+Er+"'"};null===s?s=[fr]:s.push(fr),d++}else if(void 0!==r.published&&!0!==r.published){const fr={instancePath:t+"/published",schemaPath:"#/dependencies/datePublished/oneOf/0/properties/published/enum",keyword:"enum",params:{allowedValues:Ac.dependencies.datePublished.oneOf[0].properties.published.enum},message:"must be equal to one of the allowed values"};null===s?s=[fr]:s.push(fr),d++}}En===d&&(dr=!0,Nn=0);const jn=d,rr=d,gr=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Er;if(void 0===r.published&&(Er="published")){const fr={};null===s?s=[fr]:s.push(fr),d++}}var K;if(gr===d){const Er={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf/1/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[Er]:s.push(Er),d++}else d=rr,null!==s&&(rr?s.length=rr:s=null);if((K=jn===d)&&dr?(dr=!1,Nn=[Nn,1]):K&&(dr=!0,Nn=1),!dr){const Er={instancePath:t,schemaPath:"#/dependencies/datePublished/oneOf",keyword:"oneOf",params:{passingSchemas:Nn},message:"must match exactly one schema in oneOf"};return null===s?s=[Er]:s.push(Er),d++,Kr.errors=s,!1}d=Yn,null!==s&&(Yn?s.length=Yn:s=null);var _e=Qt===d}else _e=!0;if(_e){if(void 0!==r.protocol){const Qt=d;if("string"!=typeof r.protocol)return Kr.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Ce=Qt===d}else Ce=!0;if(Ce){if(void 0!==r.protocolPath){const Qt=d;if("string"!=typeof r.protocolPath)return Kr.errors=[{instancePath:t+"/protocolPath",schemaPath:"#/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ce=Qt===d}else Ce=!0;if(Ce){if(void 0!==r.author){let Qt=r.author;const Yn=d;if(d==d){if("string"!=typeof Qt)return Kr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Zf.test(Qt))return Kr.errors=[{instancePath:t+"/author",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Ce=Yn===d}else Ce=!0;if(Ce){if(void 0!==r.attester){let Qt=r.attester;const Yn=d;if(d==d){if("string"!=typeof Qt)return Kr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Zf.test(Qt))return Kr.errors=[{instancePath:t+"/attester",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Ce=Yn===d}else Ce=!0;if(Ce){if(void 0!==r.recipient){let Qt=r.recipient;const Yn=d;if(d==d){if("string"!=typeof Qt)return Kr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Zf.test(Qt))return Kr.errors=[{instancePath:t+"/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}Ce=Yn===d}else Ce=!0;if(Ce){if(void 0!==r.contextId){const Qt=d;if("string"!=typeof r.contextId)return Kr.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ce=Qt===d}else Ce=!0;if(Ce){if(void 0!==r.schema){const Qt=d;if("string"!=typeof r.schema)return Kr.errors=[{instancePath:t+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ce=Qt===d}else Ce=!0;if(Ce){if(void 0!==r.tags){let Qt=r.tags;const Yn=d;if(d===Yn){if(!Qt||"object"!=typeof Qt||Array.isArray(Qt))return Kr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Qt).length<1)return Kr.errors=[{instancePath:t+"/tags",schemaPath:"#/properties/tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;for(const Nn in Qt){let En=Qt[Nn];const jn=d,rr=d;let gr=!1,Er=null;const fr=d;if("string"!=typeof En){const Hr={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/0/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Hr]:s.push(Hr),d++}(Te=fr===d)&&(gr=!0,Er=0);const hr=d;if("number"!=typeof En||!isFinite(En)){const Hr={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/1/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[Hr]:s.push(Hr),d++}if((Te=hr===d)&&gr)gr=!1,Er=[Er,1];else{Te&&(gr=!0,Er=1);const Hr=d;if("boolean"!=typeof En){const ir={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/2/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===s?s=[ir]:s.push(ir),d++}if((Te=Hr===d)&&gr)gr=!1,Er=[Er,2];else{Te&&(gr=!0,Er=2);const ir=d;if(d===ir)if(En&&"object"==typeof En&&!Array.isArray(En))if(Object.keys(En).length<1){const di={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===s?s=[di]:s.push(di),d++}else{const di=d;for(const Jr in En)if("startsWith"!==Jr){const ls={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Jr},message:"must NOT have additional properties"};null===s?s=[ls]:s.push(ls),d++;break}if(di===d&&void 0!==En.startsWith&&"string"!=typeof En.startsWith){const Jr={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/startsWith",schemaPath:"#/properties/tags/additionalProperties/oneOf/3/properties/startsWith/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Jr]:s.push(Jr),d++}}else{const di={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf/3/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[di]:s.push(di),d++}if((Te=ir===d)&&gr)gr=!1,Er=[Er,3];else{if(Te){gr=!0,Er=3;var Pe=!0}const di=d;if(d==d)if(En&&"object"==typeof En&&!Array.isArray(En))if(Object.keys(En).length<1){const ql={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===s?s=[ql]:s.push(ql),d++}else{const ql=d;for(const wo in En)if("gt"!==wo&&"gte"!==wo&&"lt"!==wo&&"lte"!==wo){const _o={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wo},message:"must NOT have additional properties"};null===s?s=[_o]:s.push(_o),d++;break}if(ql===d){if(void 0!==En.gt){const wo=d,_o=d,As=d;if(En&&"object"==typeof En&&!Array.isArray(En)){let To;if(void 0===En.gte&&(To="gte")){const ii={};null===s?s=[ii]:s.push(ii),d++}}if(As===d){const To={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[To]:s.push(To),d++}else d=_o,null!==s&&(_o?s.length=_o:s=null);var rt=wo===d}else rt=!0;if(rt){if(void 0!==En.gte){const wo=d,_o=d,As=d;if(En&&"object"==typeof En&&!Array.isArray(En)){let ii;if(void 0===En.gt&&(ii="gt")){const Io={};null===s?s=[Io]:s.push(Io),d++}}if(As===d){const ii={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[ii]:s.push(ii),d++}else d=_o,null!==s&&(_o?s.length=_o:s=null);rt=wo===d}else rt=!0;if(rt){if(void 0!==En.lt){const wo=d,_o=d,As=d;if(En&&"object"==typeof En&&!Array.isArray(En)){let ii;if(void 0===En.lte&&(ii="lte")){const Io={};null===s?s=[Io]:s.push(Io),d++}}if(As===d){const ii={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[ii]:s.push(ii),d++}else d=_o,null!==s&&(_o?s.length=_o:s=null);rt=wo===d}else rt=!0;if(rt){if(void 0!==En.lte){const wo=d,_o=d,As=d;if(En&&"object"==typeof En&&!Array.isArray(En)){let ii;if(void 0===En.lt&&(ii="lt")){const Io={};null===s?s=[Io]:s.push(Io),d++}}if(As===d){const ii={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[ii]:s.push(ii),d++}else d=_o,null!==s&&(_o?s.length=_o:s=null);rt=wo===d}else rt=!0;if(rt){if(void 0!==En.gt){const wo=d;if("string"!=typeof En.gt){const _o={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[_o]:s.push(_o),d++}var Et=wo===d}else Et=!0;if(Et){if(void 0!==En.gte){const wo=d;if("string"!=typeof En.gte){const As={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[As]:s.push(As),d++}Et=wo===d}else Et=!0;if(Et){if(void 0!==En.lt){const wo=d;if("string"!=typeof En.lt){const As={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[As]:s.push(As),d++}Et=wo===d}else Et=!0;if(Et)if(void 0!==En.lte){const wo=d;if("string"!=typeof En.lte){const As={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[As]:s.push(As),d++}Et=wo===d}else Et=!0}}}}}}}}else{const ql={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/string-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[ql]:s.push(ql),d++}if((Te=di===d)&&gr)gr=!1,Er=[Er,4];else{Te&&(gr=!0,Er=4,!0!==Pe&&(Pe=!0));const ql=d;if(d==d)if(En&&"object"==typeof En&&!Array.isArray(En))if(Object.keys(En).length<1){const As={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"};null===s?s=[As]:s.push(As),d++}else{const As=d;for(const To in En)if("gt"!==To&&"gte"!==To&&"lt"!==To&&"lte"!==To){const ii={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:To},message:"must NOT have additional properties"};null===s?s=[ii]:s.push(ii),d++;break}if(As===d){if(void 0!==En.gt){const To=d,ii=d,Io=d;if(En&&"object"==typeof En&&!Array.isArray(En)){let Ql;if(void 0===En.gte&&(Ql="gte")){const vc={};null===s?s=[vc]:s.push(vc),d++}}if(Io===d){const Ql={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[Ql]:s.push(Ql),d++}else d=ii,null!==s&&(ii?s.length=ii:s=null);var Mt=To===d}else Mt=!0;if(Mt){if(void 0!==En.gte){const To=d,ii=d,Io=d;if(En&&"object"==typeof En&&!Array.isArray(En)){let vc;if(void 0===En.gt&&(vc="gt")){const Bc={};null===s?s=[Bc]:s.push(Bc),d++}}if(Io===d){const vc={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[vc]:s.push(vc),d++}else d=ii,null!==s&&(ii?s.length=ii:s=null);Mt=To===d}else Mt=!0;if(Mt){if(void 0!==En.lt){const To=d,ii=d,Io=d;if(En&&"object"==typeof En&&!Array.isArray(En)){let vc;if(void 0===En.lte&&(vc="lte")){const Bc={};null===s?s=[Bc]:s.push(Bc),d++}}if(Io===d){const vc={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[vc]:s.push(vc),d++}else d=ii,null!==s&&(ii?s.length=ii:s=null);Mt=To===d}else Mt=!0;if(Mt){if(void 0!==En.lte){const To=d,ii=d,Io=d;if(En&&"object"==typeof En&&!Array.isArray(En)){let vc;if(void 0===En.lt&&(vc="lt")){const Bc={};null===s?s=[Bc]:s.push(Bc),d++}}if(Io===d){const vc={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"};null===s?s=[vc]:s.push(vc),d++}else d=ii,null!==s&&(ii?s.length=ii:s=null);Mt=To===d}else Mt=!0;if(Mt){if(void 0!==En.gt){let To=En.gt;const ii=d;if("number"!=typeof To||!isFinite(To)){const Io={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[Io]:s.push(Io),d++}var _n=ii===d}else _n=!0;if(_n){if(void 0!==En.gte){let To=En.gte;const ii=d;if("number"!=typeof To||!isFinite(To)){const Ql={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[Ql]:s.push(Ql),d++}_n=ii===d}else _n=!0;if(_n){if(void 0!==En.lt){let To=En.lt;const ii=d;if("number"!=typeof To||!isFinite(To)){const Ql={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[Ql]:s.push(Ql),d++}_n=ii===d}else _n=!0;if(_n)if(void 0!==En.lte){let To=En.lte;const ii=d;if("number"!=typeof To||!isFinite(To)){const Ql={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"};null===s?s=[Ql]:s.push(Ql),d++}_n=ii===d}else _n=!0}}}}}}}}else{const As={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[As]:s.push(As),d++}var Te;(Te=ql===d)&&gr?(gr=!1,Er=[Er,5]):Te&&(gr=!0,Er=5,!0!==Pe&&(Pe=!0))}}}}if(!gr){const Hr={instancePath:t+"/tags/"+Nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/tags/additionalProperties/oneOf",keyword:"oneOf",params:{passingSchemas:Er},message:"must match exactly one schema in oneOf"};return null===s?s=[Hr]:s.push(Hr),d++,Kr.errors=s,!1}if(d=rr,null!==s&&(rr?s.length=rr:s=null),jn!==d)break}}Ce=Yn===d}else Ce=!0;if(Ce){if(void 0!==r.recordId){const Qt=d;if("string"!=typeof r.recordId)return Kr.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ce=Qt===d}else Ce=!0;if(Ce){if(void 0!==r.parentId){const Qt=d;if("string"!=typeof r.parentId)return Kr.errors=[{instancePath:t+"/parentId",schemaPath:"#/properties/parentId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ce=Qt===d}else Ce=!0;if(Ce){if(void 0!==r.published){const Qt=d;if("boolean"!=typeof r.published)return Kr.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;Ce=Qt===d}else Ce=!0;if(Ce){if(void 0!==r.dataFormat){const Qt=d;if("string"!=typeof r.dataFormat)return Kr.errors=[{instancePath:t+"/dataFormat",schemaPath:"#/properties/dataFormat/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ce=Qt===d}else Ce=!0;if(Ce){if(void 0!==r.dataSize){let Qt=r.dataSize;const Yn=d;if(d==d){if(!Qt||"object"!=typeof Qt||Array.isArray(Qt))return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Qt).length<1)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const En=d;for(const jn in Qt)if("gt"!==jn&&"gte"!==jn&&"lt"!==jn&&"lte"!==jn)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:jn},message:"must NOT have additional properties"}],!1;if(En===d){if(void 0!==Qt.gt){const jn=d,rr=d,gr=d;if(Qt&&"object"==typeof Qt&&!Array.isArray(Qt)){let Er;if(void 0===Qt.gte&&(Er="gte")){const fr={};null===s?s=[fr]:s.push(fr),d++}}if(gr===d)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rr,null!==s&&(rr?s.length=rr:s=null);var Cn=jn===d}else Cn=!0;if(Cn){if(void 0!==Qt.gte){const jn=d,rr=d,gr=d;if(Qt&&"object"==typeof Qt&&!Array.isArray(Qt)){let fr;if(void 0===Qt.gt&&(fr="gt")){const hr={};null===s?s=[hr]:s.push(hr),d++}}if(gr===d)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rr,null!==s&&(rr?s.length=rr:s=null),Cn=jn===d}else Cn=!0;if(Cn){if(void 0!==Qt.lt){const jn=d,rr=d,gr=d;if(Qt&&"object"==typeof Qt&&!Array.isArray(Qt)){let fr;if(void 0===Qt.lte&&(fr="lte")){const hr={};null===s?s=[hr]:s.push(hr),d++}}if(gr===d)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rr,null!==s&&(rr?s.length=rr:s=null),Cn=jn===d}else Cn=!0;if(Cn){if(void 0!==Qt.lte){const jn=d,rr=d,gr=d;if(Qt&&"object"==typeof Qt&&!Array.isArray(Qt)){let fr;if(void 0===Qt.lt&&(fr="lt")){const hr={};null===s?s=[hr]:s.push(hr),d++}}if(gr===d)return Kr.errors=[{instancePath:t+"/dataSize",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rr,null!==s&&(rr?s.length=rr:s=null),Cn=jn===d}else Cn=!0;if(Cn){if(void 0!==Qt.gt){let jn=Qt.gt;const rr=d;if("number"!=typeof jn||!isFinite(jn))return Kr.errors=[{instancePath:t+"/dataSize/gt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Sn=rr===d}else Sn=!0;if(Sn){if(void 0!==Qt.gte){let jn=Qt.gte;const rr=d;if("number"!=typeof jn||!isFinite(jn))return Kr.errors=[{instancePath:t+"/dataSize/gte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Sn=rr===d}else Sn=!0;if(Sn){if(void 0!==Qt.lt){let jn=Qt.lt;const rr=d;if("number"!=typeof jn||!isFinite(jn))return Kr.errors=[{instancePath:t+"/dataSize/lt",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Sn=rr===d}else Sn=!0;if(Sn)if(void 0!==Qt.lte){let jn=Qt.lte;const rr=d;if("number"!=typeof jn||!isFinite(jn))return Kr.errors=[{instancePath:t+"/dataSize/lte",schemaPath:"https://identity.foundation/dwn/json-schemas/number-range-filter.json/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Sn=rr===d}else Sn=!0}}}}}}}}}Ce=Yn===d}else Ce=!0;if(Ce){if(void 0!==r.dataCid){const Qt=d;if("string"!=typeof r.dataCid)return Kr.errors=[{instancePath:t+"/dataCid",schemaPath:"#/properties/dataCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Ce=Qt===d}else Ce=!0;if(Ce){if(void 0!==r.dateCreated){let Qt=r.dateCreated;const Yn=d;if(d===Yn){if(!Qt||"object"!=typeof Qt||Array.isArray(Qt))return Kr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Qt).length<1)return Kr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Nn=d;for(const En in Qt)if("from"!==En&&"to"!==En)return Kr.errors=[{instancePath:t+"/dateCreated",schemaPath:"#/properties/dateCreated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:En},message:"must NOT have additional properties"}],!1;if(Nn===d){if(void 0!==Qt.from){let En=Qt.from;const jn=d;if(d==d){if("string"!=typeof En)return Kr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(En))return Kr.errors=[{instancePath:t+"/dateCreated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var un=jn===d}else un=!0;if(un)if(void 0!==Qt.to){let En=Qt.to;const jn=d;if(d==d){if("string"!=typeof En)return Kr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(En))return Kr.errors=[{instancePath:t+"/dateCreated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}un=jn===d}else un=!0}}}Ce=Yn===d}else Ce=!0;if(Ce){if(void 0!==r.datePublished){let Qt=r.datePublished;const Yn=d;if(d===Yn){if(!Qt||"object"!=typeof Qt||Array.isArray(Qt))return Kr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Qt).length<1)return Kr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Nn=d;for(const En in Qt)if("from"!==En&&"to"!==En)return Kr.errors=[{instancePath:t+"/datePublished",schemaPath:"#/properties/datePublished/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:En},message:"must NOT have additional properties"}],!1;if(Nn===d){if(void 0!==Qt.from){let En=Qt.from;const jn=d;if(d==d){if("string"!=typeof En)return Kr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(En))return Kr.errors=[{instancePath:t+"/datePublished/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var In=jn===d}else In=!0;if(In)if(void 0!==Qt.to){let En=Qt.to;const jn=d;if(d==d){if("string"!=typeof En)return Kr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(En))return Kr.errors=[{instancePath:t+"/datePublished/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}In=jn===d}else In=!0}}}Ce=Yn===d}else Ce=!0;if(Ce)if(void 0!==r.dateUpdated){let Qt=r.dateUpdated;const Yn=d;if(d===Yn){if(!Qt||"object"!=typeof Qt||Array.isArray(Qt))return Kr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Qt).length<1)return Kr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Nn=d;for(const En in Qt)if("from"!==En&&"to"!==En)return Kr.errors=[{instancePath:t+"/dateUpdated",schemaPath:"#/properties/dateUpdated/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:En},message:"must NOT have additional properties"}],!1;if(Nn===d){if(void 0!==Qt.from){let En=Qt.from;const jn=d;if(d==d){if("string"!=typeof En)return Kr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(En))return Kr.errors=[{instancePath:t+"/dateUpdated/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}var Gn=jn===d}else Gn=!0;if(Gn)if(void 0!==Qt.to){let En=Qt.to;const jn=d;if(d==d){if("string"!=typeof En)return Kr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(En))return Kr.errors=[{instancePath:t+"/dateUpdated/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}Gn=jn===d}else Gn=!0}}}Ce=Yn===d}else Ce=!0}}}}}}}}}}}}}}}}}}}return Kr.errors=s,0===d}function Qo(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Qo.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Qo.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ce;if(void 0===r.descriptor&&(Ce="descriptor"))return Qo.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ce},message:"must have required property '"+Ce+"'"}],!1;{const Te=d;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return Qo.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Te===d){if(void 0!==r.authorization){const Pe=d;Lr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(s=null===s?Lr.errors:s.concat(Lr.errors),d=s.length);var C=Pe===d}else C=!0;if(C)if(void 0!==r.descriptor){let Pe=r.descriptor;const ze=d;if(d===ze){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return Qo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Xe;if(void 0===Pe.interface&&(Xe="interface")||void 0===Pe.method&&(Xe="method")||void 0===Pe.messageTimestamp&&(Xe="messageTimestamp")||void 0===Pe.filter&&(Xe="filter"))return Qo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Xe},message:"must have required property '"+Xe+"'"}],!1;{const Ze=d;for(const lt in Pe)if("interface"!==lt&&"method"!==lt&&"messageTimestamp"!==lt&&"filter"!==lt&&"pagination"!==lt&&"dateSort"!==lt)return Qo.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:lt},message:"must NOT have additional properties"}],!1;if(Ze===d){if(void 0!==Pe.interface){let lt=Pe.interface;const Et=d;if("string"!=typeof lt)return Qo.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==lt)return Qo.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:ya.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Et===d}else b=!0;if(b){if(void 0!==Pe.method){let lt=Pe.method;const Et=d;if("string"!=typeof lt)return Qo.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==lt)return Qo.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:ya.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Et===d}else b=!0;if(b){if(void 0!==Pe.messageTimestamp){let lt=Pe.messageTimestamp;const Et=d;if(d==d){if("string"!=typeof lt)return Qo.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(lt))return Qo.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Et===d}else b=!0;if(b){if(void 0!==Pe.filter){const lt=d;Kr(Pe.filter,{instancePath:t+"/descriptor/filter",parentData:Pe,parentDataProperty:"filter",rootData:o,dynamicAnchors:c})||(s=null===s?Kr.errors:s.concat(Kr.errors),d=s.length),b=lt===d}else b=!0;if(b){if(void 0!==Pe.pagination){let lt=Pe.pagination;const Et=d;if(d===Et){if(!lt||"object"!=typeof lt||Array.isArray(lt))return Qo.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const Mt=d;for(const Pt in lt)if("limit"!==Pt&&"cursor"!==Pt)return Qo.errors=[{instancePath:t+"/descriptor/pagination",schemaPath:"#/properties/descriptor/properties/pagination/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pt},message:"must NOT have additional properties"}],!1;if(Mt===d){if(void 0!==lt.limit){let Pt=lt.limit;const sn=d;if(d===sn){if("number"!=typeof Pt||!isFinite(Pt))return Qo.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(Pt<1||isNaN(Pt))return Qo.errors=[{instancePath:t+"/descriptor/pagination/limit",schemaPath:"#/properties/descriptor/properties/pagination/properties/limit/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"}],!1}var K=sn===d}else K=!0;if(K)if(void 0!==lt.cursor){let Pt=lt.cursor;const sn=d;if(d==d){if(!Pt||"object"!=typeof Pt||Array.isArray(Pt))return Qo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Pt).length<1)return Qo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let $n;if(void 0===Pt.messageCid&&($n="messageCid")||void 0===Pt.value&&($n="value"))return Qo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:$n},message:"must have required property '"+$n+"'"}],!1;{const wn=d;for(const Cn in Pt)if("messageCid"!==Cn&&"value"!==Cn)return Qo.errors=[{instancePath:t+"/descriptor/pagination/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Cn},message:"must NOT have additional properties"}],!1;if(wn===d){if(void 0!==Pt.messageCid){const Cn=d;if("string"!=typeof Pt.messageCid)return Qo.errors=[{instancePath:t+"/descriptor/pagination/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _e=Cn===d}else _e=!0;if(_e)if(void 0!==Pt.value){let Cn=Pt.value;const Wt=d;if("string"!=typeof Cn&&("number"!=typeof Cn||!isFinite(Cn)))return Qo.errors=[{instancePath:t+"/descriptor/pagination/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:ky.properties.value.type},message:"must be string,number"}],!1;_e=Wt===d}else _e=!0}}}}K=sn===d}else K=!0}}}b=Et===d}else b=!0;if(b)if(void 0!==Pe.dateSort){let lt=Pe.dateSort;const Et=d;if("string"!=typeof lt)return Qo.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("createdAscending"!==lt&&"createdDescending"!==lt&&"publishedAscending"!==lt&&"publishedDescending"!==lt)return Qo.errors=[{instancePath:t+"/descriptor/dateSort",schemaPath:"#/properties/descriptor/properties/dateSort/enum",keyword:"enum",params:{allowedValues:ya.properties.descriptor.properties.dateSort.enum},message:"must be equal to one of the allowed values"}],!1;b=Et===d}else b=!0}}}}}}}}C=ze===d}else C=!0}}}}return Qo.errors=s,0===d}Kr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},Qo.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const mf=Cl,Py={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function Cl(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Cl.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Cl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let K;if(void 0===r.descriptor&&(K="descriptor"))return Cl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;{const _e=d;for(const Ce in r)if("authorization"!==Ce&&"descriptor"!==Ce)return Cl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(_e===d){if(void 0!==r.authorization){const Ce=d;Lr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(s=null===s?Lr.errors:s.concat(Lr.errors),d=s.length);var C=Ce===d}else C=!0;if(C)if(void 0!==r.descriptor){let Ce=r.descriptor;const Te=d;if(d===Te){if(!Ce||"object"!=typeof Ce||Array.isArray(Ce))return Cl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ze;if(void 0===Ce.interface&&(ze="interface")||void 0===Ce.method&&(ze="method")||void 0===Ce.messageTimestamp&&(ze="messageTimestamp")||void 0===Ce.filter&&(ze="filter"))return Cl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ze},message:"must have required property '"+ze+"'"}],!1;{const rt=d;for(const Xe in Ce)if("interface"!==Xe&&"method"!==Xe&&"messageTimestamp"!==Xe&&"filter"!==Xe)return Cl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xe},message:"must NOT have additional properties"}],!1;if(rt===d){if(void 0!==Ce.interface){let Xe=Ce.interface;const Ze=d;if("string"!=typeof Xe)return Cl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Xe)return Cl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:Py.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Ze===d}else b=!0;if(b){if(void 0!==Ce.method){let Xe=Ce.method;const Ze=d;if("string"!=typeof Xe)return Cl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==Xe)return Cl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:Py.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Ze===d}else b=!0;if(b){if(void 0!==Ce.messageTimestamp){let Xe=Ce.messageTimestamp;const Ze=d;if(d==d){if("string"!=typeof Xe)return Cl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(Xe))return Cl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Ze===d}else b=!0;if(b)if(void 0!==Ce.filter){const Xe=d;Kr(Ce.filter,{instancePath:t+"/descriptor/filter",parentData:Ce,parentDataProperty:"filter",rootData:o,dynamicAnchors:c})||(s=null===s?Kr.errors:s.concat(Kr.errors),d=s.length),b=Xe===d}else b=!0}}}}}}C=Te===d}else C=!0}}}}return Cl.errors=s,0===d}Cl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const K8=Hp;function Hp(r,{instancePath:t="",parentData:n,parentDataProperty:i,rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Hp.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),Ur(r,{instancePath:t,parentData:n,parentDataProperty:i,rootData:o,dynamicAnchors:c}))var C=Ur.evaluated.props;else s=null===s?Ur.errors:s.concat(Ur.errors),d=s.length;if(0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Hp.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.recordId&&(b="recordId")||void 0===r.authorization&&(b="authorization"))return Hp.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;if(!0!==C)for(const K in r)if(!C||!C[K])return Hp.errors=[{instancePath:t,schemaPath:"#/unevaluatedProperties",keyword:"unevaluatedProperties",params:{unevaluatedProperty:K},message:"must NOT have unevaluated properties"}],!1}}return Hp.errors=s,0===d}Hp.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const $8=ma,mx=Ur,GN=G_;function G_(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const B=G_.evaluated;return B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(G_.errors=null,!0):(G_.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}G_.evaluated={dynamicProps:!1,dynamicItems:!1};const ZN=kl;function kl(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=kl.evaluated;B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0);const C=d;let b=!1,K=null;const _e=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Et;if(void 0===r.crv&&(Et="crv")||void 0===r.x&&(Et="x")){const pt={instancePath:t,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:Et},message:"must have required property '"+Et+"'"};null===s?s=[pt]:s.push(pt),d++}else{if(void 0!==r.kty){const pt=d;if("EC"!==r.kty){const Mt={instancePath:t+"/kty",schemaPath:"#/oneOf/0/properties/kty/const",keyword:"const",params:{allowedValue:"EC"},message:"must be equal to constant"};null===s?s=[Mt]:s.push(Mt),d++}var Ce=pt===d}else Ce=!0;if(Ce){if(void 0!==r.crv){const pt=d;if("string"!=typeof r.crv){const Pt={instancePath:t+"/crv",schemaPath:"#/oneOf/0/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Pt]:s.push(Pt),d++}Ce=pt===d}else Ce=!0;if(Ce){if(void 0!==r.x){const pt=d;if("string"!=typeof r.x){const Pt={instancePath:t+"/x",schemaPath:"#/oneOf/0/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Pt]:s.push(Pt),d++}Ce=pt===d}else Ce=!0;if(Ce){if(void 0!==r.y){const pt=d;if("string"!=typeof r.y){const Pt={instancePath:t+"/y",schemaPath:"#/oneOf/0/properties/y/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Pt]:s.push(Pt),d++}Ce=pt===d}else Ce=!0;if(Ce)if(void 0!==r.d){const pt=d;if("string"!=typeof r.d){const Pt={instancePath:t+"/d",schemaPath:"#/oneOf/0/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Pt]:s.push(Pt),d++}Ce=pt===d}else Ce=!0}}}}}if(rt=_e===d){b=!0,K=0;var Te={kty:!0,crv:!0,x:!0,y:!0,d:!0}}const Pe=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Et;if(void 0===r.crv&&(Et="crv")||void 0===r.x&&(Et="x")){const pt={instancePath:t,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:Et},message:"must have required property '"+Et+"'"};null===s?s=[pt]:s.push(pt),d++}else{if(void 0!==r.kty){const pt=d;if("OKP"!==r.kty){const Mt={instancePath:t+"/kty",schemaPath:"#/oneOf/1/properties/kty/const",keyword:"const",params:{allowedValue:"OKP"},message:"must be equal to constant"};null===s?s=[Mt]:s.push(Mt),d++}var ze=pt===d}else ze=!0;if(ze){if(void 0!==r.crv){const pt=d;if("string"!=typeof r.crv){const Pt={instancePath:t+"/crv",schemaPath:"#/oneOf/1/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Pt]:s.push(Pt),d++}ze=pt===d}else ze=!0;if(ze){if(void 0!==r.x){const pt=d;if("string"!=typeof r.x){const Pt={instancePath:t+"/x",schemaPath:"#/oneOf/1/properties/x/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Pt]:s.push(Pt),d++}ze=pt===d}else ze=!0;if(ze)if(void 0!==r.d){const pt=d;if("string"!=typeof r.d){const Pt={instancePath:t+"/d",schemaPath:"#/oneOf/1/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Pt]:s.push(Pt),d++}ze=pt===d}else ze=!0}}}}if((rt=Pe===d)&&b)b=!1,K=[K,1];else{rt&&(b=!0,K=1,!0!==Te&&((Te=Te||{}).kty=!0,Te.crv=!0,Te.x=!0,Te.d=!0));const Et=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Mt;if(void 0===r.n&&(Mt="n")||void 0===r.e&&(Mt="e")){const Pt={instancePath:t,schemaPath:"#/oneOf/2/required",keyword:"required",params:{missingProperty:Mt},message:"must have required property '"+Mt+"'"};null===s?s=[Pt]:s.push(Pt),d++}else{if(void 0!==r.kty){const Pt=d;if("RSA"!==r.kty){const sn={instancePath:t+"/kty",schemaPath:"#/oneOf/2/properties/kty/const",keyword:"const",params:{allowedValue:"RSA"},message:"must be equal to constant"};null===s?s=[sn]:s.push(sn),d++}var Xe=Pt===d}else Xe=!0;if(Xe){if(void 0!==r.n){const Pt=d;if("string"!=typeof r.n){const an={instancePath:t+"/n",schemaPath:"#/oneOf/2/properties/n/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[an]:s.push(an),d++}Xe=Pt===d}else Xe=!0;if(Xe){if(void 0!==r.e){const Pt=d;if("string"!=typeof r.e){const an={instancePath:t+"/e",schemaPath:"#/oneOf/2/properties/e/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[an]:s.push(an),d++}Xe=Pt===d}else Xe=!0;if(Xe){if(void 0!==r.d){const Pt=d;if("string"!=typeof r.d){const an={instancePath:t+"/d",schemaPath:"#/oneOf/2/properties/d/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[an]:s.push(an),d++}Xe=Pt===d}else Xe=!0;if(Xe){if(void 0!==r.p){const Pt=d;if("string"!=typeof r.p){const an={instancePath:t+"/p",schemaPath:"#/oneOf/2/properties/p/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[an]:s.push(an),d++}Xe=Pt===d}else Xe=!0;if(Xe){if(void 0!==r.q){const Pt=d;if("string"!=typeof r.q){const an={instancePath:t+"/q",schemaPath:"#/oneOf/2/properties/q/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[an]:s.push(an),d++}Xe=Pt===d}else Xe=!0;if(Xe){if(void 0!==r.dp){const Pt=d;if("string"!=typeof r.dp){const an={instancePath:t+"/dp",schemaPath:"#/oneOf/2/properties/dp/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[an]:s.push(an),d++}Xe=Pt===d}else Xe=!0;if(Xe){if(void 0!==r.dq){const Pt=d;if("string"!=typeof r.dq){const an={instancePath:t+"/dq",schemaPath:"#/oneOf/2/properties/dq/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[an]:s.push(an),d++}Xe=Pt===d}else Xe=!0;if(Xe){if(void 0!==r.qi){const Pt=d;if("string"!=typeof r.qi){const an={instancePath:t+"/qi",schemaPath:"#/oneOf/2/properties/qi/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[an]:s.push(an),d++}Xe=Pt===d}else Xe=!0;if(Xe)if(void 0!==r.oth){let Pt=r.oth;const sn=d;if(!Pt||"object"!=typeof Pt||Array.isArray(Pt)){const _n={instancePath:t+"/oth",schemaPath:"#/oneOf/2/properties/oth/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[_n]:s.push(_n),d++}Xe=sn===d}else Xe=!0}}}}}}}}}}if((rt=Et===d)&&b)b=!1,K=[K,2];else{rt&&(b=!0,K=2,!0!==Te&&((Te=Te||{}).kty=!0,Te.n=!0,Te.e=!0,Te.d=!0,Te.p=!0,Te.q=!0,Te.dp=!0,Te.dq=!0,Te.qi=!0,Te.oth=!0));const Mt=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let sn;if(void 0===r.k&&(sn="k")){const an={instancePath:t,schemaPath:"#/oneOf/3/required",keyword:"required",params:{missingProperty:sn},message:"must have required property '"+sn+"'"};null===s?s=[an]:s.push(an),d++}else{if(void 0!==r.kty){const an=d;if("oct"!==r.kty){const _n={instancePath:t+"/kty",schemaPath:"#/oneOf/3/properties/kty/const",keyword:"const",params:{allowedValue:"oct"},message:"must be equal to constant"};null===s?s=[_n]:s.push(_n),d++}var Ze=an===d}else Ze=!0;if(Ze)if(void 0!==r.k){const an=d;if("string"!=typeof r.k){const $n={instancePath:t+"/k",schemaPath:"#/oneOf/3/properties/k/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[$n]:s.push($n),d++}Ze=an===d}else Ze=!0}}var rt;(rt=Mt===d)&&b?(b=!1,K=[K,3]):rt&&(b=!0,K=3,!0!==Te&&((Te=Te||{}).kty=!0,Te.k=!0))}}if(!b){const Et={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:K},message:"must match exactly one schema in oneOf"};return null===s?s=[Et]:s.push(Et),d++,kl.errors=s,!1}if(d=C,null!==s&&(C?s.length=C:s=null),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return kl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Et;if(void 0===r.kty&&(Et="kty"))return kl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Et},message:"must have required property '"+Et+"'"}],!1;if(!0!==Te&&((Te=Te||{}).alg=!0,Te.kid=!0,Te.kty=!0,Te.crv=!0,Te.use=!0,Te.key_ops=!0,Te.x5u=!0,Te.x5c=!0,Te.x5t=!0,Te["x5t#S256"]=!0),void 0!==r.alg){const pt=d;if("string"!=typeof r.alg)return kl.errors=[{instancePath:t+"/alg",schemaPath:"#/properties/alg/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var lt=pt===d}else lt=!0;if(lt){if(void 0!==r.kid){const pt=d;if("string"!=typeof r.kid)return kl.errors=[{instancePath:t+"/kid",schemaPath:"#/properties/kid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=pt===d}else lt=!0;if(lt){if(void 0!==r.kty){let pt=r.kty;const Mt=d;if("EC"!==pt&&"RSA"!==pt&&"oct"!==pt&&"OKP"!==pt)return kl.errors=[{instancePath:t+"/kty",schemaPath:"#/properties/kty/enum",keyword:"enum",params:{allowedValues:zm.properties.kty.enum},message:"must be equal to one of the allowed values"}],!1;lt=Mt===d}else lt=!0;if(lt){if(void 0!==r.crv){const pt=d;if("string"!=typeof r.crv)return kl.errors=[{instancePath:t+"/crv",schemaPath:"#/properties/crv/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=pt===d}else lt=!0;if(lt){if(void 0!==r.use){const pt=d;if("string"!=typeof r.use)return kl.errors=[{instancePath:t+"/use",schemaPath:"#/properties/use/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=pt===d}else lt=!0;if(lt){if(void 0!==r.key_ops){const pt=d;if("string"!=typeof r.key_ops)return kl.errors=[{instancePath:t+"/key_ops",schemaPath:"#/properties/key_ops/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=pt===d}else lt=!0;if(lt){if(void 0!==r.x5u){const pt=d;if("string"!=typeof r.x5u)return kl.errors=[{instancePath:t+"/x5u",schemaPath:"#/properties/x5u/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=pt===d}else lt=!0;if(lt){if(void 0!==r.x5c){const pt=d;if("string"!=typeof r.x5c)return kl.errors=[{instancePath:t+"/x5c",schemaPath:"#/properties/x5c/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=pt===d}else lt=!0;if(lt){if(void 0!==r.x5t){const pt=d;if("string"!=typeof r.x5t)return kl.errors=[{instancePath:t+"/x5t",schemaPath:"#/properties/x5t/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=pt===d}else lt=!0;if(lt)if(void 0!==r["x5t#S256"]){const pt=d;if("string"!=typeof r["x5t#S256"])return kl.errors=[{instancePath:t+"/x5t#S256",schemaPath:"#/properties/x5t%23S256/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;lt=pt===d}else lt=!0}}}}}}}}}}return kl.errors=s,B.props=Te,0===d}kl.evaluated={dynamicProps:!0,dynamicItems:!1};const XN=Bi,YN=Xf,JN={$id:"https://identity.foundation/dwn/json-schemas/jwk-verification-method.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,required:["id","type","controller","publicKeyJwk"],properties:{id:{type:"string"},type:{enum:["JsonWebKey","JsonWebKey2020"]},controller:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}}};function Xf(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Xf.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Xf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.id&&(b="id")||void 0===r.type&&(b="type")||void 0===r.controller&&(b="controller")||void 0===r.publicKeyJwk&&(b="publicKeyJwk"))return Xf.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=d;for(const _e in r)if("id"!==_e&&"type"!==_e&&"controller"!==_e&&"publicKeyJwk"!==_e)return Xf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(K===d){if(void 0!==r.id){const _e=d;if("string"!=typeof r.id)return Xf.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=_e===d}else C=!0;if(C){if(void 0!==r.type){let _e=r.type;const Ce=d;if("JsonWebKey"!==_e&&"JsonWebKey2020"!==_e)return Xf.errors=[{instancePath:t+"/type",schemaPath:"#/properties/type/enum",keyword:"enum",params:{allowedValues:JN.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;C=Ce===d}else C=!0;if(C){if(void 0!==r.controller){let _e=r.controller;const Ce=d;if(d==d){if("string"!=typeof _e)return Xf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Zf.test(_e))return Xf.errors=[{instancePath:t+"/controller",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}C=Ce===d}else C=!0;if(C)if(void 0!==r.publicKeyJwk){const _e=d;qo(r.publicKeyJwk,{instancePath:t+"/publicKeyJwk",parentData:r,parentDataProperty:"publicKeyJwk",rootData:o,dynamicAnchors:c})||(s=null===s?qo.errors:s.concat(qo.errors),d=s.length),C=_e===d}else C=!0}}}}}}return Xf.errors=s,0===d}Xf.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const qN=ra,V8={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-filter.json",type:"object",additionalProperties:!1,minProperties:1,properties:{interface:{enum:["Protocols","Records"],type:"string"},method:{enum:["Configure","Delete","Write"],type:"string"},protocol:{type:"string"},messageTimestamp:{type:"object",minProperties:1,additionalProperties:!1,properties:{from:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},to:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"}}}}};function ra(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const B=ra.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return ra.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return ra.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const K=0;for(const _e in r)if("interface"!==_e&&"method"!==_e&&"protocol"!==_e&&"messageTimestamp"!==_e)return ra.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(0===K){if(void 0!==r.interface){let _e=r.interface;const Ce=0;if("string"!=typeof _e)return ra.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==_e&&"Records"!==_e)return ra.errors=[{instancePath:t+"/interface",schemaPath:"#/properties/interface/enum",keyword:"enum",params:{allowedValues:V8.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var C=0===Ce}else C=!0;if(C){if(void 0!==r.method){let _e=r.method;const Ce=0;if("string"!=typeof _e)return ra.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==_e&&"Delete"!==_e&&"Write"!==_e)return ra.errors=[{instancePath:t+"/method",schemaPath:"#/properties/method/enum",keyword:"enum",params:{allowedValues:V8.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;C=0===Ce}else C=!0;if(C){if(void 0!==r.protocol){const _e=0;if("string"!=typeof r.protocol)return ra.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=0===_e}else C=!0;if(C)if(void 0!==r.messageTimestamp){let _e=r.messageTimestamp;const Ce=0;if(0===Ce){if(!_e||"object"!=typeof _e||Array.isArray(_e))return ra.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(_e).length<1)return ra.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Pe=0;for(const ze in _e)if("from"!==ze&&"to"!==ze)return ra.errors=[{instancePath:t+"/messageTimestamp",schemaPath:"#/properties/messageTimestamp/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ze},message:"must NOT have additional properties"}],!1;if(0===Pe){if(void 0!==_e.from){let ze=_e.from;const rt=0;if("string"!=typeof ze)return ra.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(ze))return ra.errors=[{instancePath:t+"/messageTimestamp/from",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;var b=0===rt}else b=!0;if(b)if(void 0!==_e.to){let ze=_e.to;const rt=0;if("string"!=typeof ze)return ra.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(ze))return ra.errors=[{instancePath:t+"/messageTimestamp/to",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1;b=0===rt}else b=!0}}}C=0===Ce}else C=!0}}}}return ra.errors=null,!0}ra.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const bI=Aa,yx={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-query.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}},cursor:{$ref:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json"}}}}};function Aa(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Aa.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Aa.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Ce;if(void 0===r.authorization&&(Ce="authorization")||void 0===r.descriptor&&(Ce="descriptor"))return Aa.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Ce},message:"must have required property '"+Ce+"'"}],!1;{const Te=d;for(const Pe in r)if("authorization"!==Pe&&"descriptor"!==Pe)return Aa.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Pe},message:"must NOT have additional properties"}],!1;if(Te===d){if(void 0!==r.authorization){const Pe=d;Jo(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(s=null===s?Jo.errors:s.concat(Jo.errors),d=s.length);var C=Pe===d}else C=!0;if(C)if(void 0!==r.descriptor){let Pe=r.descriptor;const ze=d;if(d===ze){if(!Pe||"object"!=typeof Pe||Array.isArray(Pe))return Aa.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Xe;if(void 0===Pe.interface&&(Xe="interface")||void 0===Pe.method&&(Xe="method")||void 0===Pe.messageTimestamp&&(Xe="messageTimestamp")||void 0===Pe.filters&&(Xe="filters"))return Aa.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:Xe},message:"must have required property '"+Xe+"'"}],!1;{const Ze=d;for(const lt in Pe)if("interface"!==lt&&"method"!==lt&&"messageTimestamp"!==lt&&"filters"!==lt&&"cursor"!==lt)return Aa.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:lt},message:"must NOT have additional properties"}],!1;if(Ze===d){if(void 0!==Pe.interface){let lt=Pe.interface;const Et=d;if("string"!=typeof lt)return Aa.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==lt)return Aa.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:yx.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Et===d}else b=!0;if(b){if(void 0!==Pe.method){let lt=Pe.method;const Et=d;if("string"!=typeof lt)return Aa.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==lt)return Aa.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:yx.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Et===d}else b=!0;if(b){if(void 0!==Pe.messageTimestamp){let lt=Pe.messageTimestamp;const Et=d;if(d==d){if("string"!=typeof lt)return Aa.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(lt))return Aa.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Et===d}else b=!0;if(b){if(void 0!==Pe.filters){let lt=Pe.filters;const Et=d;if(d===Et){if(!Array.isArray(lt))return Aa.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Mt=lt.length;for(let Pt=0;Pt<Mt;Pt++){const sn=d;if(ra(lt[Pt],{instancePath:t+"/descriptor/filters/"+Pt,parentData:lt,parentDataProperty:Pt,rootData:o,dynamicAnchors:c})||(s=null===s?ra.errors:s.concat(ra.errors),d=s.length),sn!==d)break}}}b=Et===d}else b=!0;if(b)if(void 0!==Pe.cursor){let lt=Pe.cursor;const Et=d;if(d==d){if(!lt||"object"!=typeof lt||Array.isArray(lt))return Aa.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(lt).length<1)return Aa.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let Pt;if(void 0===lt.messageCid&&(Pt="messageCid")||void 0===lt.value&&(Pt="value"))return Aa.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/required",keyword:"required",params:{missingProperty:Pt},message:"must have required property '"+Pt+"'"}],!1;{const sn=d;for(const an in lt)if("messageCid"!==an&&"value"!==an)return Aa.errors=[{instancePath:t+"/descriptor/cursor",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:an},message:"must NOT have additional properties"}],!1;if(sn===d){if(void 0!==lt.messageCid){const an=d;if("string"!=typeof lt.messageCid)return Aa.errors=[{instancePath:t+"/descriptor/cursor/messageCid",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var _e=an===d}else _e=!0;if(_e)if(void 0!==lt.value){let an=lt.value;const _n=d;if("string"!=typeof an&&("number"!=typeof an||!isFinite(an)))return Aa.errors=[{instancePath:t+"/descriptor/cursor/value",schemaPath:"https://identity.foundation/dwn/json-schemas/pagination-cursor.json/properties/value/type",keyword:"type",params:{type:ky.properties.value.type},message:"must be string,number"}],!1;_e=_n===d}else _e=!0}}}}b=Et===d}else b=!0}}}}}}}C=ze===d}else C=!0}}}}return Aa.errors=s,0===d}Aa.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const QN=Pl,z8={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-read.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},messageCid:{type:"string"}}}}};function Pl(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Pl.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Pl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let K;if(void 0===r.authorization&&(K="authorization")||void 0===r.descriptor&&(K="descriptor"))return Pl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;{const _e=d;for(const Ce in r)if("authorization"!==Ce&&"descriptor"!==Ce)return Pl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(_e===d){if(void 0!==r.authorization){const Ce=d;Jo(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(s=null===s?Jo.errors:s.concat(Jo.errors),d=s.length);var C=Ce===d}else C=!0;if(C)if(void 0!==r.descriptor){let Ce=r.descriptor;const Te=d;if(d===Te){if(!Ce||"object"!=typeof Ce||Array.isArray(Ce))return Pl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ze;if(void 0===Ce.interface&&(ze="interface")||void 0===Ce.method&&(ze="method")||void 0===Ce.messageTimestamp&&(ze="messageTimestamp"))return Pl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ze},message:"must have required property '"+ze+"'"}],!1;{const rt=d;for(const Xe in Ce)if("interface"!==Xe&&"method"!==Xe&&"messageTimestamp"!==Xe&&"messageCid"!==Xe)return Pl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xe},message:"must NOT have additional properties"}],!1;if(rt===d){if(void 0!==Ce.interface){let Xe=Ce.interface;const Ze=d;if("string"!=typeof Xe)return Pl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==Xe)return Pl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:z8.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Ze===d}else b=!0;if(b){if(void 0!==Ce.method){let Xe=Ce.method;const Ze=d;if("string"!=typeof Xe)return Pl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==Xe)return Pl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:z8.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Ze===d}else b=!0;if(b){if(void 0!==Ce.messageTimestamp){let Xe=Ce.messageTimestamp;const Ze=d;if(d==d){if("string"!=typeof Xe)return Pl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(Xe))return Pl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Ze===d}else b=!0;if(b)if(void 0!==Ce.messageCid){const Xe=d;if("string"!=typeof Ce.messageCid)return Pl.errors=[{instancePath:t+"/descriptor/messageCid",schemaPath:"#/properties/descriptor/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=Xe===d}else b=!0}}}}}}C=Te===d}else C=!0}}}}return Pl.errors=s,0===d}Pl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const H8=jc,gx={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/messages-subscribe.json",type:"object",additionalProperties:!1,required:["descriptor","authorization"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filters"],properties:{interface:{enum:["Messages"],type:"string"},method:{enum:["Subscribe"],type:"string"},messageTimestamp:{type:"string"},filters:{type:"array",items:{$ref:"https://identity.foundation/dwn/json-schemas/messages-filter.json"}}}}}};function jc(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=jc.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return jc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let _e;if(void 0===r.descriptor&&(_e="descriptor")||void 0===r.authorization&&(_e="authorization"))return jc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:_e},message:"must have required property '"+_e+"'"}],!1;{const Ce=d;for(const Te in r)if("authorization"!==Te&&"descriptor"!==Te)return jc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(Ce===d){if(void 0!==r.authorization){const Te=d;Jo(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(s=null===s?Jo.errors:s.concat(Jo.errors),d=s.length);var C=Te===d}else C=!0;if(C)if(void 0!==r.descriptor){let Te=r.descriptor;const Pe=d;if(d===Pe){if(!Te||"object"!=typeof Te||Array.isArray(Te))return jc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Te.interface&&(rt="interface")||void 0===Te.method&&(rt="method")||void 0===Te.messageTimestamp&&(rt="messageTimestamp")||void 0===Te.filters&&(rt="filters"))return jc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const Xe=d;for(const Ze in Te)if("interface"!==Ze&&"method"!==Ze&&"messageTimestamp"!==Ze&&"filters"!==Ze)return jc.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ze},message:"must NOT have additional properties"}],!1;if(Xe===d){if(void 0!==Te.interface){let Ze=Te.interface;const lt=d;if("string"!=typeof Ze)return jc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Messages"!==Ze)return jc.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:gx.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=lt===d}else b=!0;if(b){if(void 0!==Te.method){let Ze=Te.method;const lt=d;if("string"!=typeof Ze)return jc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Subscribe"!==Ze)return jc.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:gx.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=lt===d}else b=!0;if(b){if(void 0!==Te.messageTimestamp){const Ze=d;if("string"!=typeof Te.messageTimestamp)return jc.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"#/properties/descriptor/properties/messageTimestamp/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;b=Ze===d}else b=!0;if(b)if(void 0!==Te.filters){let Ze=Te.filters;const lt=d;if(d===lt){if(!Array.isArray(Ze))return jc.errors=[{instancePath:t+"/descriptor/filters",schemaPath:"#/properties/descriptor/properties/filters/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const pt=Ze.length;for(let Mt=0;Mt<pt;Mt++){const Pt=d;if(ra(Ze[Mt],{instancePath:t+"/descriptor/filters/"+Mt,parentData:Ze,parentDataProperty:Mt,rootData:o,dynamicAnchors:c})||(s=null===s?ra.errors:s.concat(ra.errors),d=s.length),Pt!==d)break}}}b=lt===d}else b=!0}}}}}}C=Pe===d}else C=!0}}}}return jc.errors=s,0===d}jc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const wI=ud;function ud(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=ud.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return ud.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return ud.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Pe=d;for(const ze in r)if("gt"!==ze&&"gte"!==ze&&"lt"!==ze&&"lte"!==ze)return ud.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ze},message:"must NOT have additional properties"}],!1;if(Pe===d){if(void 0!==r.gt){const ze=d,rt=d,Xe=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ze;if(void 0===r.gte&&(Ze="gte")){const lt={};null===s?s=[lt]:s.push(lt),d++}}if(Xe===d)return ud.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rt,null!==s&&(rt?s.length=rt:s=null);var b=ze===d}else b=!0;if(b){if(void 0!==r.gte){const ze=d,rt=d,Xe=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.gt&&(lt="gt")){const Et={};null===s?s=[Et]:s.push(Et),d++}}if(Xe===d)return ud.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rt,null!==s&&(rt?s.length=rt:s=null),b=ze===d}else b=!0;if(b){if(void 0!==r.lt){const ze=d,rt=d,Xe=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.lte&&(lt="lte")){const Et={};null===s?s=[Et]:s.push(Et),d++}}if(Xe===d)return ud.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rt,null!==s&&(rt?s.length=rt:s=null),b=ze===d}else b=!0;if(b){if(void 0!==r.lte){const ze=d,rt=d,Xe=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.lt&&(lt="lt")){const Et={};null===s?s=[Et]:s.push(Et),d++}}if(Xe===d)return ud.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rt,null!==s&&(rt?s.length=rt:s=null),b=ze===d}else b=!0;if(b){if(void 0!==r.gt){let ze=r.gt;const rt=d;if("number"!=typeof ze||!isFinite(ze))return ud.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;var Te=rt===d}else Te=!0;if(Te){if(void 0!==r.gte){let ze=r.gte;const rt=d;if("number"!=typeof ze||!isFinite(ze))return ud.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Te=rt===d}else Te=!0;if(Te){if(void 0!==r.lt){let ze=r.lt;const rt=d;if("number"!=typeof ze||!isFinite(ze))return ud.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Te=rt===d}else Te=!0;if(Te)if(void 0!==r.lte){let ze=r.lte;const rt=d;if("number"!=typeof ze||!isFinite(ze))return ud.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;Te=rt===d}else Te=!0}}}}}}}}}return ud.errors=s,0===d}ud.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const W8=yf;function yf(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const B=yf.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return yf.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return yf.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{let b;if(void 0===r.messageCid&&(b="messageCid")||void 0===r.value&&(b="value"))return yf.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=0;for(const _e in r)if("messageCid"!==_e&&"value"!==_e)return yf.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(0===K){if(void 0!==r.messageCid){const _e=0;if("string"!=typeof r.messageCid)return yf.errors=[{instancePath:t+"/messageCid",schemaPath:"#/properties/messageCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=0===_e}else C=!0;if(C)if(void 0!==r.value){let _e=r.value;const Ce=0;if("string"!=typeof _e&&("number"!=typeof _e||!isFinite(_e)))return yf.errors=[{instancePath:t+"/value",schemaPath:"#/properties/value/type",keyword:"type",params:{type:ky.properties.value.type},message:"must be string,number"}],!1;C=0===Ce}else C=!0}}}return yf.errors=null,!0}yf.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const _I=ws,Z_={type:"object",additionalProperties:!1,properties:{publication:{enum:["Required","Prohibited"],type:"string"}}};function du(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=du.evaluated;B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0);const C=d;let b=!1,K=null;const _e=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let _n;if(void 0===r.interface&&(_n="interface")||void 0===r.method&&(_n="method")){const $n={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:_n},message:"must have required property '"+_n+"'"};null===s?s=[$n]:s.push($n),d++}else{const $n=d;for(const wn in r)if("interface"!==wn&&"method"!==wn&&"protocol"!==wn){const Cn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wn},message:"must NOT have additional properties"};null===s?s=[Cn]:s.push(Cn),d++;break}if($n===d){if(void 0!==r.interface){const wn=d;if("Messages"!==r.interface){const Cn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[Cn]:s.push(Cn),d++}var Te=wn===d}else Te=!0;if(Te){if(void 0!==r.method){const wn=d;if("Query"!==r.method){const Wt={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[Wt]:s.push(Wt),d++}Te=wn===d}else Te=!0;if(Te)if(void 0!==r.protocol){const wn=d;if("string"!=typeof r.protocol){const Wt={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Wt]:s.push(Wt),d++}Te=wn===d}else Te=!0}}}}else{const _n={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[_n]:s.push(_n),d++}if(Ze=_e===d){b=!0,K=0;var Pe=!0}const ze=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let _n;if(void 0===r.interface&&(_n="interface")||void 0===r.method&&(_n="method")){const $n={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:_n},message:"must have required property '"+_n+"'"};null===s?s=[$n]:s.push($n),d++}else{const $n=d;for(const wn in r)if("interface"!==wn&&"method"!==wn&&"protocol"!==wn){const Cn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wn},message:"must NOT have additional properties"};null===s?s=[Cn]:s.push(Cn),d++;break}if($n===d){if(void 0!==r.interface){const wn=d;if("Messages"!==r.interface){const Cn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[Cn]:s.push(Cn),d++}var Xe=wn===d}else Xe=!0;if(Xe){if(void 0!==r.method){const wn=d;if("Read"!==r.method){const Wt={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===s?s=[Wt]:s.push(Wt),d++}Xe=wn===d}else Xe=!0;if(Xe)if(void 0!==r.protocol){const wn=d;if("string"!=typeof r.protocol){const Wt={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Wt]:s.push(Wt),d++}Xe=wn===d}else Xe=!0}}}}else{const _n={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[_n]:s.push(_n),d++}if((Ze=ze===d)&&b)b=!1,K=[K,1];else{Ze&&(b=!0,K=1,!0!==Pe&&(Pe=!0));const _n=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let Cn;if(void 0===r.interface&&(Cn="interface")||void 0===r.method&&(Cn="method")){const Wt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:Cn},message:"must have required property '"+Cn+"'"};null===s?s=[Wt]:s.push(Wt),d++}else{const Wt=d;for(const nn in r)if("interface"!==nn&&"method"!==nn&&"protocol"!==nn){const rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:nn},message:"must NOT have additional properties"};null===s?s=[rn]:s.push(rn),d++;break}if(Wt===d){if(void 0!==r.interface){const nn=d;if("Messages"!==r.interface){const rn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[rn]:s.push(rn),d++}var lt=nn===d}else lt=!0;if(lt){if(void 0!==r.method){const nn=d;if("Subscribe"!==r.method){const Sn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===s?s=[Sn]:s.push(Sn),d++}lt=nn===d}else lt=!0;if(lt)if(void 0!==r.protocol){const nn=d;if("string"!=typeof r.protocol){const Sn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Sn]:s.push(Sn),d++}lt=nn===d}else lt=!0}}}}else{const Cn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Cn]:s.push(Cn),d++}if((Ze=_n===d)&&b)b=!1,K=[K,2];else{Ze&&(b=!0,K=2,!0!==Pe&&(Pe=!0));const Cn=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let rn;if(void 0===r.interface&&(rn="interface")||void 0===r.method&&(rn="method")){const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:rn},message:"must have required property '"+rn+"'"};null===s?s=[Sn]:s.push(Sn),d++}else{const Sn=d;for(const un in r)if("interface"!==un&&"method"!==un){const In={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:un},message:"must NOT have additional properties"};null===s?s=[In]:s.push(In),d++;break}if(Sn===d){if(void 0!==r.interface){const un=d;if("Protocols"!==r.interface){const In={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===s?s=[In]:s.push(In),d++}var Et=un===d}else Et=!0;if(Et)if(void 0!==r.method){const un=d;if("Query"!==r.method){const Gn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[Gn]:s.push(Gn),d++}Et=un===d}else Et=!0}}}else{const rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[rn]:s.push(rn),d++}if((Ze=Cn===d)&&b)b=!1,K=[K,3];else{Ze&&(b=!0,K=3,!0!==Pe&&(Pe=!0));const rn=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let In;if(void 0===r.interface&&(In="interface")||void 0===r.method&&(In="method")){const Gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:In},message:"must have required property '"+In+"'"};null===s?s=[Gn]:s.push(Gn),d++}else{const Gn=d;for(const Wn in r)if("interface"!==Wn&&"method"!==Wn&&"protocol"!==Wn&&"contextId"!==Wn&&"protocolPath"!==Wn){const Qt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Wn},message:"must NOT have additional properties"};null===s?s=[Qt]:s.push(Qt),d++;break}if(Gn===d){if(void 0!==r.interface){const Wn=d;if("Records"!==r.interface){const Qt={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[Qt]:s.push(Qt),d++}var pt=Wn===d}else pt=!0;if(pt){if(void 0!==r.method){const Wn=d;if("Read"!==r.method){const Yn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===s?s=[Yn]:s.push(Yn),d++}pt=Wn===d}else pt=!0;if(pt){if(void 0!==r.protocol){const Wn=d;if("string"!=typeof r.protocol){const Yn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Yn]:s.push(Yn),d++}pt=Wn===d}else pt=!0;if(pt){if(void 0!==r.contextId){const Wn=d;if("string"!=typeof r.contextId){const Yn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Yn]:s.push(Yn),d++}pt=Wn===d}else pt=!0;if(pt)if(void 0!==r.protocolPath){const Wn=d;if("string"!=typeof r.protocolPath){const Yn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Yn]:s.push(Yn),d++}pt=Wn===d}else pt=!0}}}}}}else{const In={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[In]:s.push(In),d++}if((Ze=rn===d)&&b)b=!1,K=[K,4];else{Ze&&(b=!0,K=4,!0!==Pe&&(Pe=!0));const In=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let Qt;if(void 0===r.interface&&(Qt="interface")||void 0===r.method&&(Qt="method")){const Yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:Qt},message:"must have required property '"+Qt+"'"};null===s?s=[Yn]:s.push(Yn),d++}else{const Yn=d;for(const dr in r)if("interface"!==dr&&"method"!==dr&&"protocol"!==dr&&"contextId"!==dr&&"protocolPath"!==dr){const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dr},message:"must NOT have additional properties"};null===s?s=[Nn]:s.push(Nn),d++;break}if(Yn===d){if(void 0!==r.interface){const dr=d;if("Records"!==r.interface){const Nn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[Nn]:s.push(Nn),d++}var Mt=dr===d}else Mt=!0;if(Mt){if(void 0!==r.method){const dr=d;if("Delete"!==r.method){const En={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===s?s=[En]:s.push(En),d++}Mt=dr===d}else Mt=!0;if(Mt){if(void 0!==r.protocol){const dr=d;if("string"!=typeof r.protocol){const En={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[En]:s.push(En),d++}Mt=dr===d}else Mt=!0;if(Mt){if(void 0!==r.contextId){const dr=d;if("string"!=typeof r.contextId){const En={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[En]:s.push(En),d++}Mt=dr===d}else Mt=!0;if(Mt)if(void 0!==r.protocolPath){const dr=d;if("string"!=typeof r.protocolPath){const En={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[En]:s.push(En),d++}Mt=dr===d}else Mt=!0}}}}}}else{const Qt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Qt]:s.push(Qt),d++}if((Ze=In===d)&&b)b=!1,K=[K,5];else{Ze&&(b=!0,K=5,!0!==Pe&&(Pe=!0));const Qt=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.interface&&(Nn="interface")||void 0===r.method&&(Nn="method")){const En={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===s?s=[En]:s.push(En),d++}else{const En=d;for(const jn in r)if("interface"!==jn&&"method"!==jn&&"protocol"!==jn&&"contextId"!==jn&&"protocolPath"!==jn){const rr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:jn},message:"must NOT have additional properties"};null===s?s=[rr]:s.push(rr),d++;break}if(En===d){if(void 0!==r.interface){const jn=d;if("Records"!==r.interface){const rr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[rr]:s.push(rr),d++}var Pt=jn===d}else Pt=!0;if(Pt){if(void 0!==r.method){const jn=d;if("Write"!==r.method){const gr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===s?s=[gr]:s.push(gr),d++}Pt=jn===d}else Pt=!0;if(Pt){if(void 0!==r.protocol){const jn=d;if("string"!=typeof r.protocol){const gr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[gr]:s.push(gr),d++}Pt=jn===d}else Pt=!0;if(Pt){if(void 0!==r.contextId){const jn=d;if("string"!=typeof r.contextId){const gr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[gr]:s.push(gr),d++}Pt=jn===d}else Pt=!0;if(Pt)if(void 0!==r.protocolPath){const jn=d;if("string"!=typeof r.protocolPath){const gr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[gr]:s.push(gr),d++}Pt=jn===d}else Pt=!0}}}}}}else{const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Nn]:s.push(Nn),d++}if((Ze=Qt===d)&&b)b=!1,K=[K,6];else{Ze&&(b=!0,K=6,!0!==Pe&&(Pe=!0));const Nn=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let rr;if(void 0===r.interface&&(rr="interface")||void 0===r.method&&(rr="method")){const gr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:rr},message:"must have required property '"+rr+"'"};null===s?s=[gr]:s.push(gr),d++}else{const gr=d;for(const Er in r)if("interface"!==Er&&"method"!==Er&&"protocol"!==Er&&"contextId"!==Er&&"protocolPath"!==Er){const fr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Er},message:"must NOT have additional properties"};null===s?s=[fr]:s.push(fr),d++;break}if(gr===d){if(void 0!==r.interface){const Er=d;if("Records"!==r.interface){const fr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[fr]:s.push(fr),d++}var sn=Er===d}else sn=!0;if(sn){if(void 0!==r.method){const Er=d;if("Query"!==r.method){const hr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[hr]:s.push(hr),d++}sn=Er===d}else sn=!0;if(sn){if(void 0!==r.protocol){const Er=d;if("string"!=typeof r.protocol){const hr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hr]:s.push(hr),d++}sn=Er===d}else sn=!0;if(sn){if(void 0!==r.contextId){const Er=d;if("string"!=typeof r.contextId){const hr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hr]:s.push(hr),d++}sn=Er===d}else sn=!0;if(sn)if(void 0!==r.protocolPath){const Er=d;if("string"!=typeof r.protocolPath){const hr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hr]:s.push(hr),d++}sn=Er===d}else sn=!0}}}}}}else{const rr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[rr]:s.push(rr),d++}if((Ze=Nn===d)&&b)b=!1,K=[K,7];else{Ze&&(b=!0,K=7,!0!==Pe&&(Pe=!0));const rr=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let fr;if(void 0===r.interface&&(fr="interface")||void 0===r.method&&(fr="method")){const hr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:fr},message:"must have required property '"+fr+"'"};null===s?s=[hr]:s.push(hr),d++}else{const hr=d;for(const Hr in r)if("interface"!==Hr&&"method"!==Hr&&"protocol"!==Hr&&"contextId"!==Hr&&"protocolPath"!==Hr){const Ms={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Hr},message:"must NOT have additional properties"};null===s?s=[Ms]:s.push(Ms),d++;break}if(hr===d){if(void 0!==r.interface){const Hr=d;if("Records"!==r.interface){const Ms={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[Ms]:s.push(Ms),d++}var an=Hr===d}else an=!0;if(an){if(void 0!==r.method){const Hr=d;if("Subscribe"!==r.method){const ir={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===s?s=[ir]:s.push(ir),d++}an=Hr===d}else an=!0;if(an){if(void 0!==r.protocol){const Hr=d;if("string"!=typeof r.protocol){const ir={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[ir]:s.push(ir),d++}an=Hr===d}else an=!0;if(an){if(void 0!==r.contextId){const Hr=d;if("string"!=typeof r.contextId){const ir={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[ir]:s.push(ir),d++}an=Hr===d}else an=!0;if(an)if(void 0!==r.protocolPath){const Hr=d;if("string"!=typeof r.protocolPath){const ir={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[ir]:s.push(ir),d++}an=Hr===d}else an=!0}}}}}}else{const fr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[fr]:s.push(fr),d++}var Ze;(Ze=rr===d)&&b?(b=!1,K=[K,8]):Ze&&(b=!0,K=8,!0!==Pe&&(Pe=!0))}}}}}}}if(!b){const _n={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:K},message:"must match exactly one schema in oneOf"};return null===s?s=[_n]:s.push(_n),d++,du.errors=s,!1}return d=C,null!==s&&(C?s.length=C:s=null),du.errors=s,B.props=Pe,0===d}function ws(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=ws.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return ws.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.dateExpires&&(b="dateExpires")||void 0===r.scope&&(b="scope"))return ws.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=d;for(const _e in r)if("description"!==_e&&"dateExpires"!==_e&&"requestId"!==_e&&"delegated"!==_e&&"scope"!==_e&&"conditions"!==_e)return ws.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(K===d){if(void 0!==r.description){const _e=d;if("string"!=typeof r.description)return ws.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=_e===d}else C=!0;if(C){if(void 0!==r.dateExpires){let _e=r.dateExpires;const Ce=d;if(d==d){if("string"!=typeof _e)return ws.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(_e))return ws.errors=[{instancePath:t+"/dateExpires",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}C=Ce===d}else C=!0;if(C){if(void 0!==r.requestId){const _e=d;if("string"!=typeof r.requestId)return ws.errors=[{instancePath:t+"/requestId",schemaPath:"#/properties/requestId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=_e===d}else C=!0;if(C){if(void 0!==r.delegated){const _e=d;if("boolean"!=typeof r.delegated)return ws.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;C=_e===d}else C=!0;if(C){if(void 0!==r.scope){const _e=d;du(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:o,dynamicAnchors:c})||(s=null===s?du.errors:s.concat(du.errors),d=s.length),C=_e===d}else C=!0;if(C)if(void 0!==r.conditions){let _e=r.conditions;const Ce=d;if(d==d){if(!_e||"object"!=typeof _e||Array.isArray(_e))return ws.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const ze=d;for(const rt in _e)if("publication"!==rt)return ws.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(ze===d&&void 0!==_e.publication){let rt=_e.publication;if("string"!=typeof rt)return ws.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==rt&&"Prohibited"!==rt)return ws.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Z_.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}C=Ce===d}else C=!0}}}}}}}}return ws.errors=s,0===d}du.evaluated={dynamicProps:!0,dynamicItems:!1},ws.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const X8=ia;function Hm(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Hm.evaluated;B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0);const C=d;let b=!1,K=null;const _e=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let _n;if(void 0===r.interface&&(_n="interface")||void 0===r.method&&(_n="method")){const $n={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/required",keyword:"required",params:{missingProperty:_n},message:"must have required property '"+_n+"'"};null===s?s=[$n]:s.push($n),d++}else{const $n=d;for(const wn in r)if("interface"!==wn&&"method"!==wn&&"protocol"!==wn){const Cn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wn},message:"must NOT have additional properties"};null===s?s=[Cn]:s.push(Cn),d++;break}if($n===d){if(void 0!==r.interface){const wn=d;if("Messages"!==r.interface){const Cn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[Cn]:s.push(Cn),d++}var Te=wn===d}else Te=!0;if(Te){if(void 0!==r.method){const wn=d;if("Query"!==r.method){const Wt={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[Wt]:s.push(Wt),d++}Te=wn===d}else Te=!0;if(Te)if(void 0!==r.protocol){const wn=d;if("string"!=typeof r.protocol){const Wt={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Wt]:s.push(Wt),d++}Te=wn===d}else Te=!0}}}}else{const _n={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[_n]:s.push(_n),d++}if(Ze=_e===d){b=!0,K=0;var Pe=!0}const ze=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let _n;if(void 0===r.interface&&(_n="interface")||void 0===r.method&&(_n="method")){const $n={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/required",keyword:"required",params:{missingProperty:_n},message:"must have required property '"+_n+"'"};null===s?s=[$n]:s.push($n),d++}else{const $n=d;for(const wn in r)if("interface"!==wn&&"method"!==wn&&"protocol"!==wn){const Cn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wn},message:"must NOT have additional properties"};null===s?s=[Cn]:s.push(Cn),d++;break}if($n===d){if(void 0!==r.interface){const wn=d;if("Messages"!==r.interface){const Cn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[Cn]:s.push(Cn),d++}var Xe=wn===d}else Xe=!0;if(Xe){if(void 0!==r.method){const wn=d;if("Read"!==r.method){const Wt={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===s?s=[Wt]:s.push(Wt),d++}Xe=wn===d}else Xe=!0;if(Xe)if(void 0!==r.protocol){const wn=d;if("string"!=typeof r.protocol){const Wt={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Wt]:s.push(Wt),d++}Xe=wn===d}else Xe=!0}}}}else{const _n={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[_n]:s.push(_n),d++}if((Ze=ze===d)&&b)b=!1,K=[K,1];else{Ze&&(b=!0,K=1,!0!==Pe&&(Pe=!0));const _n=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let Cn;if(void 0===r.interface&&(Cn="interface")||void 0===r.method&&(Cn="method")){const Wt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/required",keyword:"required",params:{missingProperty:Cn},message:"must have required property '"+Cn+"'"};null===s?s=[Wt]:s.push(Wt),d++}else{const Wt=d;for(const nn in r)if("interface"!==nn&&"method"!==nn&&"protocol"!==nn){const rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:nn},message:"must NOT have additional properties"};null===s?s=[rn]:s.push(rn),d++;break}if(Wt===d){if(void 0!==r.interface){const nn=d;if("Messages"!==r.interface){const rn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Messages"},message:"must be equal to constant"};null===s?s=[rn]:s.push(rn),d++}var lt=nn===d}else lt=!0;if(lt){if(void 0!==r.method){const nn=d;if("Subscribe"!==r.method){const Sn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===s?s=[Sn]:s.push(Sn),d++}lt=nn===d}else lt=!0;if(lt)if(void 0!==r.protocol){const nn=d;if("string"!=typeof r.protocol){const Sn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Sn]:s.push(Sn),d++}lt=nn===d}else lt=!0}}}}else{const Cn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/messages-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Cn]:s.push(Cn),d++}if((Ze=_n===d)&&b)b=!1,K=[K,2];else{Ze&&(b=!0,K=2,!0!==Pe&&(Pe=!0));const Cn=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let rn;if(void 0===r.interface&&(rn="interface")||void 0===r.method&&(rn="method")){const Sn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/required",keyword:"required",params:{missingProperty:rn},message:"must have required property '"+rn+"'"};null===s?s=[Sn]:s.push(Sn),d++}else{const Sn=d;for(const un in r)if("interface"!==un&&"method"!==un){const In={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:un},message:"must NOT have additional properties"};null===s?s=[In]:s.push(In),d++;break}if(Sn===d){if(void 0!==r.interface){const un=d;if("Protocols"!==r.interface){const In={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Protocols"},message:"must be equal to constant"};null===s?s=[In]:s.push(In),d++}var Et=un===d}else Et=!0;if(Et)if(void 0!==r.method){const un=d;if("Query"!==r.method){const Gn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[Gn]:s.push(Gn),d++}Et=un===d}else Et=!0}}}else{const rn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/protocols-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[rn]:s.push(rn),d++}if((Ze=Cn===d)&&b)b=!1,K=[K,3];else{Ze&&(b=!0,K=3,!0!==Pe&&(Pe=!0));const rn=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let In;if(void 0===r.interface&&(In="interface")||void 0===r.method&&(In="method")){const Gn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/required",keyword:"required",params:{missingProperty:In},message:"must have required property '"+In+"'"};null===s?s=[Gn]:s.push(Gn),d++}else{const Gn=d;for(const Wn in r)if("interface"!==Wn&&"method"!==Wn&&"protocol"!==Wn&&"contextId"!==Wn&&"protocolPath"!==Wn){const Qt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Wn},message:"must NOT have additional properties"};null===s?s=[Qt]:s.push(Qt),d++;break}if(Gn===d){if(void 0!==r.interface){const Wn=d;if("Records"!==r.interface){const Qt={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[Qt]:s.push(Qt),d++}var pt=Wn===d}else pt=!0;if(pt){if(void 0!==r.method){const Wn=d;if("Read"!==r.method){const Yn={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/method/const",keyword:"const",params:{allowedValue:"Read"},message:"must be equal to constant"};null===s?s=[Yn]:s.push(Yn),d++}pt=Wn===d}else pt=!0;if(pt){if(void 0!==r.protocol){const Wn=d;if("string"!=typeof r.protocol){const Yn={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Yn]:s.push(Yn),d++}pt=Wn===d}else pt=!0;if(pt){if(void 0!==r.contextId){const Wn=d;if("string"!=typeof r.contextId){const Yn={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Yn]:s.push(Yn),d++}pt=Wn===d}else pt=!0;if(pt)if(void 0!==r.protocolPath){const Wn=d;if("string"!=typeof r.protocolPath){const Yn={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Yn]:s.push(Yn),d++}pt=Wn===d}else pt=!0}}}}}}else{const In={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-read-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[In]:s.push(In),d++}if((Ze=rn===d)&&b)b=!1,K=[K,4];else{Ze&&(b=!0,K=4,!0!==Pe&&(Pe=!0));const In=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let Qt;if(void 0===r.interface&&(Qt="interface")||void 0===r.method&&(Qt="method")){const Yn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/required",keyword:"required",params:{missingProperty:Qt},message:"must have required property '"+Qt+"'"};null===s?s=[Yn]:s.push(Yn),d++}else{const Yn=d;for(const dr in r)if("interface"!==dr&&"method"!==dr&&"protocol"!==dr&&"contextId"!==dr&&"protocolPath"!==dr){const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:dr},message:"must NOT have additional properties"};null===s?s=[Nn]:s.push(Nn),d++;break}if(Yn===d){if(void 0!==r.interface){const dr=d;if("Records"!==r.interface){const Nn={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[Nn]:s.push(Nn),d++}var Mt=dr===d}else Mt=!0;if(Mt){if(void 0!==r.method){const dr=d;if("Delete"!==r.method){const En={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/method/const",keyword:"const",params:{allowedValue:"Delete"},message:"must be equal to constant"};null===s?s=[En]:s.push(En),d++}Mt=dr===d}else Mt=!0;if(Mt){if(void 0!==r.protocol){const dr=d;if("string"!=typeof r.protocol){const En={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[En]:s.push(En),d++}Mt=dr===d}else Mt=!0;if(Mt){if(void 0!==r.contextId){const dr=d;if("string"!=typeof r.contextId){const En={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[En]:s.push(En),d++}Mt=dr===d}else Mt=!0;if(Mt)if(void 0!==r.protocolPath){const dr=d;if("string"!=typeof r.protocolPath){const En={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[En]:s.push(En),d++}Mt=dr===d}else Mt=!0}}}}}}else{const Qt={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-delete-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Qt]:s.push(Qt),d++}if((Ze=In===d)&&b)b=!1,K=[K,5];else{Ze&&(b=!0,K=5,!0!==Pe&&(Pe=!0));const Qt=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let Nn;if(void 0===r.interface&&(Nn="interface")||void 0===r.method&&(Nn="method")){const En={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===s?s=[En]:s.push(En),d++}else{const En=d;for(const jn in r)if("interface"!==jn&&"method"!==jn&&"protocol"!==jn&&"contextId"!==jn&&"protocolPath"!==jn){const rr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:jn},message:"must NOT have additional properties"};null===s?s=[rr]:s.push(rr),d++;break}if(En===d){if(void 0!==r.interface){const jn=d;if("Records"!==r.interface){const rr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[rr]:s.push(rr),d++}var Pt=jn===d}else Pt=!0;if(Pt){if(void 0!==r.method){const jn=d;if("Write"!==r.method){const gr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/method/const",keyword:"const",params:{allowedValue:"Write"},message:"must be equal to constant"};null===s?s=[gr]:s.push(gr),d++}Pt=jn===d}else Pt=!0;if(Pt){if(void 0!==r.protocol){const jn=d;if("string"!=typeof r.protocol){const gr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[gr]:s.push(gr),d++}Pt=jn===d}else Pt=!0;if(Pt){if(void 0!==r.contextId){const jn=d;if("string"!=typeof r.contextId){const gr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[gr]:s.push(gr),d++}Pt=jn===d}else Pt=!0;if(Pt)if(void 0!==r.protocolPath){const jn=d;if("string"!=typeof r.protocolPath){const gr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[gr]:s.push(gr),d++}Pt=jn===d}else Pt=!0}}}}}}else{const Nn={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-write-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[Nn]:s.push(Nn),d++}if((Ze=Qt===d)&&b)b=!1,K=[K,6];else{Ze&&(b=!0,K=6,!0!==Pe&&(Pe=!0));const Nn=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let rr;if(void 0===r.interface&&(rr="interface")||void 0===r.method&&(rr="method")){const gr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/required",keyword:"required",params:{missingProperty:rr},message:"must have required property '"+rr+"'"};null===s?s=[gr]:s.push(gr),d++}else{const gr=d;for(const Er in r)if("interface"!==Er&&"method"!==Er&&"protocol"!==Er&&"contextId"!==Er&&"protocolPath"!==Er){const fr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Er},message:"must NOT have additional properties"};null===s?s=[fr]:s.push(fr),d++;break}if(gr===d){if(void 0!==r.interface){const Er=d;if("Records"!==r.interface){const fr={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[fr]:s.push(fr),d++}var sn=Er===d}else sn=!0;if(sn){if(void 0!==r.method){const Er=d;if("Query"!==r.method){const hr={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/method/const",keyword:"const",params:{allowedValue:"Query"},message:"must be equal to constant"};null===s?s=[hr]:s.push(hr),d++}sn=Er===d}else sn=!0;if(sn){if(void 0!==r.protocol){const Er=d;if("string"!=typeof r.protocol){const hr={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hr]:s.push(hr),d++}sn=Er===d}else sn=!0;if(sn){if(void 0!==r.contextId){const Er=d;if("string"!=typeof r.contextId){const hr={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hr]:s.push(hr),d++}sn=Er===d}else sn=!0;if(sn)if(void 0!==r.protocolPath){const Er=d;if("string"!=typeof r.protocolPath){const hr={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[hr]:s.push(hr),d++}sn=Er===d}else sn=!0}}}}}}else{const rr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-query-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[rr]:s.push(rr),d++}if((Ze=Nn===d)&&b)b=!1,K=[K,7];else{Ze&&(b=!0,K=7,!0!==Pe&&(Pe=!0));const rr=d;if(d==d)if(r&&"object"==typeof r&&!Array.isArray(r)){let fr;if(void 0===r.interface&&(fr="interface")||void 0===r.method&&(fr="method")){const hr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/required",keyword:"required",params:{missingProperty:fr},message:"must have required property '"+fr+"'"};null===s?s=[hr]:s.push(hr),d++}else{const hr=d;for(const Hr in r)if("interface"!==Hr&&"method"!==Hr&&"protocol"!==Hr&&"contextId"!==Hr&&"protocolPath"!==Hr){const Ms={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Hr},message:"must NOT have additional properties"};null===s?s=[Ms]:s.push(Ms),d++;break}if(hr===d){if(void 0!==r.interface){const Hr=d;if("Records"!==r.interface){const Ms={instancePath:t+"/interface",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/interface/const",keyword:"const",params:{allowedValue:"Records"},message:"must be equal to constant"};null===s?s=[Ms]:s.push(Ms),d++}var an=Hr===d}else an=!0;if(an){if(void 0!==r.method){const Hr=d;if("Subscribe"!==r.method){const ir={instancePath:t+"/method",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/method/const",keyword:"const",params:{allowedValue:"Subscribe"},message:"must be equal to constant"};null===s?s=[ir]:s.push(ir),d++}an=Hr===d}else an=!0;if(an){if(void 0!==r.protocol){const Hr=d;if("string"!=typeof r.protocol){const ir={instancePath:t+"/protocol",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[ir]:s.push(ir),d++}an=Hr===d}else an=!0;if(an){if(void 0!==r.contextId){const Hr=d;if("string"!=typeof r.contextId){const ir={instancePath:t+"/contextId",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[ir]:s.push(ir),d++}an=Hr===d}else an=!0;if(an)if(void 0!==r.protocolPath){const Hr=d;if("string"!=typeof r.protocolPath){const ir={instancePath:t+"/protocolPath",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/properties/protocolPath/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[ir]:s.push(ir),d++}an=Hr===d}else an=!0}}}}}}else{const fr={instancePath:t,schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/scopes.json#/$defs/records-subscribe-scope/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[fr]:s.push(fr),d++}var Ze;(Ze=rr===d)&&b?(b=!1,K=[K,8]):Ze&&(b=!0,K=8,!0!==Pe&&(Pe=!0))}}}}}}}if(!b){const _n={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:K},message:"must match exactly one schema in oneOf"};return null===s?s=[_n]:s.push(_n),d++,Hm.errors=s,!1}return d=C,null!==s&&(C?s.length=C:s=null),Hm.errors=s,B.props=Pe,0===d}function ia(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=ia.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return ia.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.delegated&&(b="delegated")||void 0===r.scope&&(b="scope"))return ia.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=d;for(const _e in r)if("description"!==_e&&"delegated"!==_e&&"scope"!==_e&&"conditions"!==_e)return ia.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(K===d){if(void 0!==r.description){const _e=d;if("string"!=typeof r.description)return ia.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=_e===d}else C=!0;if(C){if(void 0!==r.delegated){const _e=d;if("boolean"!=typeof r.delegated)return ia.errors=[{instancePath:t+"/delegated",schemaPath:"#/properties/delegated/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;C=_e===d}else C=!0;if(C){if(void 0!==r.scope){const _e=d;Hm(r.scope,{instancePath:t+"/scope",parentData:r,parentDataProperty:"scope",rootData:o,dynamicAnchors:c})||(s=null===s?Hm.errors:s.concat(Hm.errors),d=s.length),C=_e===d}else C=!0;if(C)if(void 0!==r.conditions){let _e=r.conditions;const Ce=d;if(d==d){if(!_e||"object"!=typeof _e||Array.isArray(_e))return ia.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const ze=d;for(const rt in _e)if("publication"!==rt)return ia.errors=[{instancePath:t+"/conditions",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rt},message:"must NOT have additional properties"}],!1;if(ze===d&&void 0!==_e.publication){let rt=_e.publication;if("string"!=typeof rt)return ia.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Required"!==rt&&"Prohibited"!==rt)return ia.errors=[{instancePath:t+"/conditions/publication",schemaPath:"https://identity.foundation/dwn/json-schemas/permissions/defs.json#/$defs/conditions/properties/publication/enum",keyword:"enum",params:{allowedValues:Z_.properties.publication.enum},message:"must be equal to one of the allowed values"}],!1}}}C=Ce===d}else C=!0}}}}}}return ia.errors=s,0===d}Hm.evaluated={dynamicProps:!0,dynamicItems:!1},ia.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const SI=Wp;function Wp(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const B=Wp.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Wp.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const C=0;for(const b in r)if("description"!==b)return Wp.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:b},message:"must NOT have additional properties"}],!1;if(0===C&&void 0!==r.description&&"string"!=typeof r.description)return Wp.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1}return Wp.errors=null,!0}Wp.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const zv=Gp;function Gp(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const B=Gp.evaluated;return B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(Gp.errors=null,!0):(Gp.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}Gp.evaluated={dynamicProps:!1,dynamicItems:!1};const J_=uu;function uu(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const B=uu.evaluated;return B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),r&&"object"==typeof r&&!Array.isArray(r)?(uu.errors=null,!0):(uu.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1)}uu.evaluated={dynamicProps:!1,dynamicItems:!1};const Ui=oc,q_=new RegExp(".*","u"),Wm={$id:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json",$schema:"https://json-schema.org/draft/2020-12/schema",type:"object",additionalProperties:!1,properties:{$encryption:{type:"object",additionalProperties:!1,properties:{rootKeyId:{type:"string"},publicKeyJwk:{$ref:"https://identity.foundation/dwn/json-schemas/public-jwk.json"}},required:["rootKeyId","publicKeyJwk"]},$actions:{type:"array",minItems:1,items:{type:"object",oneOf:[{required:["who","can"],additionalProperties:!1,properties:{who:{type:"string",enum:["anyone","author","recipient"]},of:{type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-prune","co-update","create","delete","prune","read","update"]}}}},{required:["role","can"],properties:{role:{$comment:"Must be the protocol path of a role record type",type:"string"},can:{type:"array",minItems:1,items:{type:"string",enum:["co-delete","co-update","create","delete","query","subscribe","read","update"]}}}}]}},$role:{$comment:"When `true`, this turns a record into `role` that may be used within a context/sub-context",type:"boolean"},$size:{type:"object",additionalProperties:!1,properties:{min:{type:"number",minimum:0},max:{type:"number",minimum:0}}},$tags:{type:"object",minProperties:1,properties:{$requiredTags:{type:"array",items:{type:"string"}},$allowUndefinedTags:{type:"boolean"}},patternProperties:{"^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$":{type:"object",additionalProperties:!1,properties:{type:{enum:["string","number","integer","boolean","array"]},items:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}},contains:{type:"object",properties:{type:{enum:["string","number","integer"]}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$":{}}}},patternProperties:{"^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$":{}}}}}},patternProperties:{"^[^$].*$":{$ref:"https://identity.foundation/dwn/json-schemas/protocol-rule-set.json"}}},J8=new RegExp("^[^$].*$","u"),q8=new RegExp("^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$","u"),Q8=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength|minItems|maxItems|uniqueItems|minContains|maxContains)$","u"),TI=new RegExp("^(enum|minimum|maximum|exclusiveMinimum|exclusiveMaximum|minLength|maxLength)$","u"),Q_={validate:Ji};function Ji(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Ji.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Ji.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const $n=d;for(const wn in r)if("$encryption"!==wn&&"$actions"!==wn&&"$role"!==wn&&"$size"!==wn&&"$tags"!==wn&&!J8.test(wn))return Ji.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:wn},message:"must NOT have additional properties"}],!1;if($n===d){if(void 0!==r.$encryption){let wn=r.$encryption;const Cn=d;if(d===Cn){if(!wn||"object"!=typeof wn||Array.isArray(wn))return Ji.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Wt;if(void 0===wn.rootKeyId&&(Wt="rootKeyId")||void 0===wn.publicKeyJwk&&(Wt="publicKeyJwk"))return Ji.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/required",keyword:"required",params:{missingProperty:Wt},message:"must have required property '"+Wt+"'"}],!1;{const nn=d;for(const rn in wn)if("rootKeyId"!==rn&&"publicKeyJwk"!==rn)return Ji.errors=[{instancePath:t+"/$encryption",schemaPath:"#/properties/%24encryption/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rn},message:"must NOT have additional properties"}],!1;if(nn===d){if(void 0!==wn.rootKeyId){const rn=d;if("string"!=typeof wn.rootKeyId)return Ji.errors=[{instancePath:t+"/$encryption/rootKeyId",schemaPath:"#/properties/%24encryption/properties/rootKeyId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=rn===d}else C=!0;if(C)if(void 0!==wn.publicKeyJwk){const rn=d;qo(wn.publicKeyJwk,{instancePath:t+"/$encryption/publicKeyJwk",parentData:wn,parentDataProperty:"publicKeyJwk",rootData:o,dynamicAnchors:c})||(s=null===s?qo.errors:s.concat(qo.errors),d=s.length),C=rn===d}else C=!0}}}}var b=Cn===d}else b=!0;if(b){if(void 0!==r.$actions){let wn=r.$actions;const Cn=d;if(d===Cn){if(!Array.isArray(wn))return Ji.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(wn.length<1)return Ji.errors=[{instancePath:t+"/$actions",schemaPath:"#/properties/%24actions/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const nn=wn.length;for(let rn=0;rn<nn;rn++){let Sn=wn[rn];const un=d;if(!Sn||"object"!=typeof Sn||Array.isArray(Sn))return Ji.errors=[{instancePath:t+"/$actions/"+rn,schemaPath:"#/properties/%24actions/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;const In=d;let Gn=!1,Wn=null;const Qt=d;if(Sn&&"object"==typeof Sn&&!Array.isArray(Sn)){let Nn;if(void 0===Sn.who&&(Nn="who")||void 0===Sn.can&&(Nn="can")){const En={instancePath:t+"/$actions/"+rn,schemaPath:"#/properties/%24actions/items/oneOf/0/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===s?s=[En]:s.push(En),d++}else{const En=d;for(const jn in Sn)if("who"!==jn&&"of"!==jn&&"can"!==jn){const rr={instancePath:t+"/$actions/"+rn,schemaPath:"#/properties/%24actions/items/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:jn},message:"must NOT have additional properties"};null===s?s=[rr]:s.push(rr),d++;break}if(En===d){if(void 0!==Sn.who){let jn=Sn.who;const rr=d;if("string"!=typeof jn){const gr={instancePath:t+"/$actions/"+rn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[gr]:s.push(gr),d++}if("anyone"!==jn&&"author"!==jn&&"recipient"!==jn){const gr={instancePath:t+"/$actions/"+rn+"/who",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/who/enum",keyword:"enum",params:{allowedValues:Wm.properties.$actions.items.oneOf[0].properties.who.enum},message:"must be equal to one of the allowed values"};null===s?s=[gr]:s.push(gr),d++}var _e=rr===d}else _e=!0;if(_e){if(void 0!==Sn.of){const jn=d;if("string"!=typeof Sn.of){const gr={instancePath:t+"/$actions/"+rn+"/of",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/of/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[gr]:s.push(gr),d++}_e=jn===d}else _e=!0;if(_e)if(void 0!==Sn.can){let jn=Sn.can;const rr=d;if(d===rr)if(Array.isArray(jn))if(jn.length<1){const Er={instancePath:t+"/$actions/"+rn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===s?s=[Er]:s.push(Er),d++}else{const Er=jn.length;for(let fr=0;fr<Er;fr++){let hr=jn[fr];const Hr=d;if("string"!=typeof hr){const ir={instancePath:t+"/$actions/"+rn+"/can/"+fr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[ir]:s.push(ir),d++}if("co-delete"!==hr&&"co-prune"!==hr&&"co-update"!==hr&&"create"!==hr&&"delete"!==hr&&"prune"!==hr&&"read"!==hr&&"update"!==hr){const ir={instancePath:t+"/$actions/"+rn+"/can/"+fr,schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/items/enum",keyword:"enum",params:{allowedValues:Wm.properties.$actions.items.oneOf[0].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===s?s=[ir]:s.push(ir),d++}if(Hr!==d)break}}else{const Er={instancePath:t+"/$actions/"+rn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/0/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===s?s=[Er]:s.push(Er),d++}_e=rr===d}else _e=!0}}}}if(Qt===d){Gn=!0,Wn=0;var Te=!0}const Yn=d;if(Sn&&"object"==typeof Sn&&!Array.isArray(Sn)){let Nn;if(void 0===Sn.role&&(Nn="role")||void 0===Sn.can&&(Nn="can")){const En={instancePath:t+"/$actions/"+rn,schemaPath:"#/properties/%24actions/items/oneOf/1/required",keyword:"required",params:{missingProperty:Nn},message:"must have required property '"+Nn+"'"};null===s?s=[En]:s.push(En),d++}else{if(void 0!==Sn.role){const En=d;if("string"!=typeof Sn.role){const jn={instancePath:t+"/$actions/"+rn+"/role",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/role/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[jn]:s.push(jn),d++}var Pe=En===d}else Pe=!0;if(Pe)if(void 0!==Sn.can){let En=Sn.can;const jn=d;if(d===jn)if(Array.isArray(En))if(En.length<1){const gr={instancePath:t+"/$actions/"+rn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};null===s?s=[gr]:s.push(gr),d++}else{const gr=En.length;for(let Er=0;Er<gr;Er++){let fr=En[Er];const hr=d;if("string"!=typeof fr){const Ms={instancePath:t+"/$actions/"+rn+"/can/"+Er,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/type",keyword:"type",params:{type:"string"},message:"must be string"};null===s?s=[Ms]:s.push(Ms),d++}if("co-delete"!==fr&&"co-update"!==fr&&"create"!==fr&&"delete"!==fr&&"query"!==fr&&"subscribe"!==fr&&"read"!==fr&&"update"!==fr){const Ms={instancePath:t+"/$actions/"+rn+"/can/"+Er,schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/items/enum",keyword:"enum",params:{allowedValues:Wm.properties.$actions.items.oneOf[1].properties.can.items.enum},message:"must be equal to one of the allowed values"};null===s?s=[Ms]:s.push(Ms),d++}if(hr!==d)break}}else{const gr={instancePath:t+"/$actions/"+rn+"/can",schemaPath:"#/properties/%24actions/items/oneOf/1/properties/can/type",keyword:"type",params:{type:"array"},message:"must be array"};null===s?s=[gr]:s.push(gr),d++}Pe=jn===d}else Pe=!0}}var rt;if((rt=Yn===d)&&Gn?(Gn=!1,Wn=[Wn,1]):rt&&(Gn=!0,Wn=1,!0!==Te&&((Te=Te||{}).role=!0,Te.can=!0)),!Gn){const Nn={instancePath:t+"/$actions/"+rn,schemaPath:"#/properties/%24actions/items/oneOf",keyword:"oneOf",params:{passingSchemas:Wn},message:"must match exactly one schema in oneOf"};return null===s?s=[Nn]:s.push(Nn),d++,Ji.errors=s,!1}if(d=In,null!==s&&(In?s.length=In:s=null),un!==d)break}}}b=Cn===d}else b=!0;if(b){if(void 0!==r.$role){const wn=d;if("boolean"!=typeof r.$role)return Ji.errors=[{instancePath:t+"/$role",schemaPath:"#/properties/%24role/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;b=wn===d}else b=!0;if(b){if(void 0!==r.$size){let wn=r.$size;const Cn=d;if(d===Cn){if(!wn||"object"!=typeof wn||Array.isArray(wn))return Ji.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const nn=d;for(const rn in wn)if("min"!==rn&&"max"!==rn)return Ji.errors=[{instancePath:t+"/$size",schemaPath:"#/properties/%24size/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:rn},message:"must NOT have additional properties"}],!1;if(nn===d){if(void 0!==wn.min){let rn=wn.min;const Sn=d;if(d===Sn){if("number"!=typeof rn||!isFinite(rn))return Ji.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(rn<0||isNaN(rn))return Ji.errors=[{instancePath:t+"/$size/min",schemaPath:"#/properties/%24size/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}var Xe=Sn===d}else Xe=!0;if(Xe)if(void 0!==wn.max){let rn=wn.max;const Sn=d;if(d===Sn){if("number"!=typeof rn||!isFinite(rn))return Ji.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/type",keyword:"type",params:{type:"number"},message:"must be number"}],!1;if(rn<0||isNaN(rn))return Ji.errors=[{instancePath:t+"/$size/max",schemaPath:"#/properties/%24size/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"}],!1}Xe=Sn===d}else Xe=!0}}}b=Cn===d}else b=!0;if(b){if(void 0!==r.$tags){let wn=r.$tags;const Cn=d;if(d===Cn){if(!wn||"object"!=typeof wn||Array.isArray(wn))return Ji.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(wn).length<1)return Ji.errors=[{instancePath:t+"/$tags",schemaPath:"#/properties/%24tags/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;if(void 0!==wn.$requiredTags){let nn=wn.$requiredTags;const rn=d;if(d===rn){if(!Array.isArray(nn))return Ji.errors=[{instancePath:t+"/$tags/$requiredTags",schemaPath:"#/properties/%24tags/properties/%24requiredTags/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{const Sn=nn.length;for(let un=0;un<Sn;un++){const In=d;if("string"!=typeof nn[un])return Ji.errors=[{instancePath:t+"/$tags/$requiredTags/"+un,schemaPath:"#/properties/%24tags/properties/%24requiredTags/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(In!==d)break}}}var lt=rn===d}else lt=!0;if(lt){if(void 0!==wn.$allowUndefinedTags){const nn=d;if("boolean"!=typeof wn.$allowUndefinedTags)return Ji.errors=[{instancePath:t+"/$tags/$allowUndefinedTags",schemaPath:"#/properties/%24tags/properties/%24allowUndefinedTags/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;lt=nn===d}else lt=!0;if(lt){var Et={$requiredTags:!0,$allowUndefinedTags:!0};for(const nn in wn)if(q8.test(nn)){let rn=wn[nn];if(d==d){if(!rn||"object"!=typeof rn||Array.isArray(rn))return Ji.errors=[{instancePath:t+"/$tags/"+nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const un=d;for(const In in rn)if("type"!==In&&"items"!==In&&"contains"!==In&&!Q8.test(In))return Ji.errors=[{instancePath:t+"/$tags/"+nn.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:In},message:"must NOT have additional properties"}],!1;if(un===d){if(void 0!==rn.type){let In=rn.type;const Gn=d;if("string"!==In&&"number"!==In&&"integer"!==In&&"boolean"!==In&&"array"!==In)return Ji.errors=[{instancePath:t+"/$tags/"+nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/type/enum",keyword:"enum",params:{allowedValues:Wm.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var pt=Gn===d}else pt=!0;if(pt){if(void 0!==rn.items){let In=rn.items;const Gn=d;if(d===Gn){if(!In||"object"!=typeof In||Array.isArray(In))return Ji.errors=[{instancePath:t+"/$tags/"+nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==In.type){let Qt=In.type;const Yn=d;if("string"!==Qt&&"number"!==Qt&&"integer"!==Qt)return Ji.errors=[{instancePath:t+"/$tags/"+nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/items/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/items/properties/type/enum",keyword:"enum",params:{allowedValues:Wm.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.items.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var Mt=Yn===d}else Mt=!0;if(Mt){var Pt={type:!0};for(const Qt in In)TI.test(Qt)&&(Pt[Qt]=!0)}}pt=Gn===d}else pt=!0;if(pt)if(void 0!==rn.contains){let In=rn.contains;const Gn=d;if(d===Gn){if(!In||"object"!=typeof In||Array.isArray(In))return Ji.errors=[{instancePath:t+"/$tags/"+nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(void 0!==In.type){let Qt=In.type;const Yn=d;if("string"!==Qt&&"number"!==Qt&&"integer"!==Qt)return Ji.errors=[{instancePath:t+"/$tags/"+nn.replace(/~/g,"~0").replace(/\//g,"~1")+"/contains/type",schemaPath:"#/properties/%24tags/patternProperties/%5E(%3F!%5C%24requiredTags%24%7C%5C%24allowUndefinedTags%24).*%24/properties/contains/properties/type/enum",keyword:"enum",params:{allowedValues:Wm.properties.$tags.patternProperties["^(?!\\$requiredTags$|\\$allowUndefinedTags$).*$"].properties.contains.properties.type.enum},message:"must be equal to one of the allowed values"}],!1;var sn=Yn===d}else sn=!0;if(sn){var an={type:!0};for(const Qt in In)TI.test(Qt)&&(an[Qt]=!0)}}pt=Gn===d}else pt=!0}}}}Et[nn]=!0}}}}b=Cn===d}else b=!0;if(b)for(const wn in r)if(J8.test(wn)){const Cn=d;if(Q_.validate(r[wn],{instancePath:t+"/"+wn.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:r,parentDataProperty:wn,rootData:o,dynamicAnchors:c})||(s=null===s?Q_.validate.errors:s.concat(Q_.validate.errors),d=s.length),Cn!==d)break}}}}}}}}return Ji.errors=s,0===d}function oc(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=oc.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return oc.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let Te;if(void 0===r.protocol&&(Te="protocol")||void 0===r.published&&(Te="published")||void 0===r.types&&(Te="types")||void 0===r.structure&&(Te="structure"))return oc.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:Te},message:"must have required property '"+Te+"'"}],!1;{const Pe=d;for(const ze in r)if("protocol"!==ze&&"published"!==ze&&"types"!==ze&&"structure"!==ze)return oc.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ze},message:"must NOT have additional properties"}],!1;if(Pe===d){if(void 0!==r.protocol){const ze=d;if("string"!=typeof r.protocol)return oc.errors=[{instancePath:t+"/protocol",schemaPath:"#/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=ze===d}else C=!0;if(C){if(void 0!==r.published){const ze=d;if("boolean"!=typeof r.published)return oc.errors=[{instancePath:t+"/published",schemaPath:"#/properties/published/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"}],!1;C=ze===d}else C=!0;if(C){if(void 0!==r.types){let ze=r.types;const rt=d;if(d===rt){if(!ze||"object"!=typeof ze||Array.isArray(ze))return oc.errors=[{instancePath:t+"/types",schemaPath:"#/properties/types/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var b={};for(const Ze in ze)if(q_.test(Ze)){let lt=ze[Ze];if(d==d){if(!lt||"object"!=typeof lt||Array.isArray(lt))return oc.errors=[{instancePath:t+"/types/"+Ze.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{const pt=d;for(const Mt in lt)if("schema"!==Mt&&"dataFormats"!==Mt)return oc.errors=[{instancePath:t+"/types/"+Ze.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/types/patternProperties/.*/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Mt},message:"must NOT have additional properties"}],!1;if(pt===d){if(void 0!==lt.schema){const Mt=d;if("string"!=typeof lt.schema)return oc.errors=[{instancePath:t+"/types/"+Ze.replace(/~/g,"~0").replace(/\//g,"~1")+"/schema",schemaPath:"#/properties/types/patternProperties/.*/properties/schema/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var K=Mt===d}else K=!0;if(K)if(void 0!==lt.dataFormats){let Mt=lt.dataFormats;const Pt=d;if(d===Pt){if(!Array.isArray(Mt))return oc.errors=[{instancePath:t+"/types/"+Ze.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;if(Mt.length<1)return oc.errors=[{instancePath:t+"/types/"+Ze.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats",schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"}],!1;{const an=Mt.length;for(let _n=0;_n<an;_n++){const $n=d;if("string"!=typeof Mt[_n])return oc.errors=[{instancePath:t+"/types/"+Ze.replace(/~/g,"~0").replace(/\//g,"~1")+"/dataFormats/"+_n,schemaPath:"#/properties/types/patternProperties/.*/properties/dataFormats/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if($n!==d)break}}}K=Pt===d}else K=!0}}}b[Ze]=!0}}C=rt===d}else C=!0;if(C)if(void 0!==r.structure){let ze=r.structure;const rt=d;if(d===rt){if(!ze||"object"!=typeof ze||Array.isArray(ze))return oc.errors=[{instancePath:t+"/structure",schemaPath:"#/properties/structure/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;var Ce={};for(const Ze in ze)q_.test(Ze)&&(Ji(ze[Ze],{instancePath:t+"/structure/"+Ze.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:ze,parentDataProperty:Ze,rootData:o,dynamicAnchors:c})||(s=null===s?Ji.errors:s.concat(Ji.errors),d=s.length),Ce[Ze]=!0)}C=rt===d}else C=!0}}}}}}return oc.errors=s,0===d}Ji.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1},oc.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const ek=Ji,tk=Rl,II={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-configure.json",type:"object",additionalProperties:!1,required:["authorization","descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","definition"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Configure"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},definition:{$ref:"https://identity.foundation/dwn/json-schemas/protocol-definition.json"}}}}};function Rl(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Rl.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Rl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let K;if(void 0===r.authorization&&(K="authorization")||void 0===r.descriptor&&(K="descriptor"))return Rl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;{const _e=d;for(const Ce in r)if("authorization"!==Ce&&"descriptor"!==Ce)return Rl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(_e===d){if(void 0!==r.authorization){const Ce=d;Jo(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(s=null===s?Jo.errors:s.concat(Jo.errors),d=s.length);var C=Ce===d}else C=!0;if(C)if(void 0!==r.descriptor){let Ce=r.descriptor;const Te=d;if(d===Te){if(!Ce||"object"!=typeof Ce||Array.isArray(Ce))return Rl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ze;if(void 0===Ce.interface&&(ze="interface")||void 0===Ce.method&&(ze="method")||void 0===Ce.messageTimestamp&&(ze="messageTimestamp")||void 0===Ce.definition&&(ze="definition"))return Rl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ze},message:"must have required property '"+ze+"'"}],!1;{const rt=d;for(const Xe in Ce)if("interface"!==Xe&&"method"!==Xe&&"messageTimestamp"!==Xe&&"definition"!==Xe)return Rl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xe},message:"must NOT have additional properties"}],!1;if(rt===d){if(void 0!==Ce.interface){let Xe=Ce.interface;const Ze=d;if("string"!=typeof Xe)return Rl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==Xe)return Rl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:II.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Ze===d}else b=!0;if(b){if(void 0!==Ce.method){let Xe=Ce.method;const Ze=d;if("string"!=typeof Xe)return Rl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Configure"!==Xe)return Rl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:II.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Ze===d}else b=!0;if(b){if(void 0!==Ce.messageTimestamp){let Xe=Ce.messageTimestamp;const Ze=d;if(d==d){if("string"!=typeof Xe)return Rl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(Xe))return Rl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Ze===d}else b=!0;if(b)if(void 0!==Ce.definition){const Xe=d;oc(Ce.definition,{instancePath:t+"/descriptor/definition",parentData:Ce,parentDataProperty:"definition",rootData:o,dynamicAnchors:c})||(s=null===s?oc.errors:s.concat(oc.errors),d=s.length),b=Xe===d}else b=!0}}}}}}C=Te===d}else C=!0}}}}return Rl.errors=s,0===d}Rl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const sr=ga,to={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/protocols-query.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp"],properties:{interface:{enum:["Protocols"],type:"string"},method:{enum:["Query"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{type:"object",minProperties:1,additionalProperties:!1,properties:{protocol:{type:"string"},recipient:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did"}}}}}}};function ga(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=ga.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return ga.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let _e;if(void 0===r.descriptor&&(_e="descriptor"))return ga.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:_e},message:"must have required property '"+_e+"'"}],!1;{const Ce=d;for(const Te in r)if("authorization"!==Te&&"descriptor"!==Te)return ga.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Te},message:"must NOT have additional properties"}],!1;if(Ce===d){if(void 0!==r.authorization){const Te=d;Jo(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(s=null===s?Jo.errors:s.concat(Jo.errors),d=s.length);var C=Te===d}else C=!0;if(C)if(void 0!==r.descriptor){let Te=r.descriptor;const Pe=d;if(d===Pe){if(!Te||"object"!=typeof Te||Array.isArray(Te))return ga.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let rt;if(void 0===Te.interface&&(rt="interface")||void 0===Te.method&&(rt="method")||void 0===Te.messageTimestamp&&(rt="messageTimestamp"))return ga.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:rt},message:"must have required property '"+rt+"'"}],!1;{const Xe=d;for(const Ze in Te)if("interface"!==Ze&&"method"!==Ze&&"messageTimestamp"!==Ze&&"filter"!==Ze)return ga.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ze},message:"must NOT have additional properties"}],!1;if(Xe===d){if(void 0!==Te.interface){let Ze=Te.interface;const lt=d;if("string"!=typeof Ze)return ga.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Protocols"!==Ze)return ga.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:to.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=lt===d}else b=!0;if(b){if(void 0!==Te.method){let Ze=Te.method;const lt=d;if("string"!=typeof Ze)return ga.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Query"!==Ze)return ga.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:to.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=lt===d}else b=!0;if(b){if(void 0!==Te.messageTimestamp){let Ze=Te.messageTimestamp;const lt=d;if(d==d){if("string"!=typeof Ze)return ga.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(Ze))return ga.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=lt===d}else b=!0;if(b)if(void 0!==Te.filter){let Ze=Te.filter;const lt=d;if(d===lt){if(!Ze||"object"!=typeof Ze||Array.isArray(Ze))return ga.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(Ze).length<1)return ga.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const pt=d;for(const Mt in Ze)if("protocol"!==Mt&&"recipient"!==Mt)return ga.errors=[{instancePath:t+"/descriptor/filter",schemaPath:"#/properties/descriptor/properties/filter/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Mt},message:"must NOT have additional properties"}],!1;if(pt===d){if(void 0!==Ze.protocol){const Mt=d;if("string"!=typeof Ze.protocol)return ga.errors=[{instancePath:t+"/descriptor/filter/protocol",schemaPath:"#/properties/descriptor/properties/filter/properties/protocol/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var K=Mt===d}else K=!0;if(K)if(void 0!==Ze.recipient){let Mt=Ze.recipient;const Pt=d;if(d==d){if("string"!=typeof Mt)return ga.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Zf.test(Mt))return ga.errors=[{instancePath:t+"/descriptor/filter/recipient",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/did/pattern",keyword:"pattern",params:{pattern:"^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"},message:'must match pattern "^did:([a-z0-9]+):((?:(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))*:)*((?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))+))((;[a-zA-Z0-9_.:%-]+=[a-zA-Z0-9_.:%-]*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$"'}],!1}K=Pt===d}else K=!0}}}b=lt===d}else b=!0}}}}}}C=Pe===d}else C=!0}}}}return ga.errors=s,0===d}ga.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const DI=fl,is={$schema:"https://json-schema.org/draft/2020-12/schema",$id:"https://identity.foundation/dwn/json-schemas/records-read.json",type:"object",additionalProperties:!1,required:["descriptor"],properties:{authorization:{$ref:"https://identity.foundation/dwn/json-schemas/authorization-delegated-grant.json"},descriptor:{type:"object",additionalProperties:!1,required:["interface","method","messageTimestamp","filter"],properties:{interface:{enum:["Records"],type:"string"},method:{enum:["Read"],type:"string"},messageTimestamp:{$ref:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time"},filter:{$ref:"https://identity.foundation/dwn/json-schemas/records-filter.json"}}}}};function fl(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=fl.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return fl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let K;if(void 0===r.descriptor&&(K="descriptor"))return fl.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:K},message:"must have required property '"+K+"'"}],!1;{const _e=d;for(const Ce in r)if("authorization"!==Ce&&"descriptor"!==Ce)return fl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Ce},message:"must NOT have additional properties"}],!1;if(_e===d){if(void 0!==r.authorization){const Ce=d;Lr(r.authorization,{instancePath:t+"/authorization",parentData:r,parentDataProperty:"authorization",rootData:o,dynamicAnchors:c})||(s=null===s?Lr.errors:s.concat(Lr.errors),d=s.length);var C=Ce===d}else C=!0;if(C)if(void 0!==r.descriptor){let Ce=r.descriptor;const Te=d;if(d===Te){if(!Ce||"object"!=typeof Ce||Array.isArray(Ce))return fl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let ze;if(void 0===Ce.interface&&(ze="interface")||void 0===Ce.method&&(ze="method")||void 0===Ce.messageTimestamp&&(ze="messageTimestamp")||void 0===Ce.filter&&(ze="filter"))return fl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/required",keyword:"required",params:{missingProperty:ze},message:"must have required property '"+ze+"'"}],!1;{const rt=d;for(const Xe in Ce)if("interface"!==Xe&&"method"!==Xe&&"messageTimestamp"!==Xe&&"filter"!==Xe)return fl.errors=[{instancePath:t+"/descriptor",schemaPath:"#/properties/descriptor/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Xe},message:"must NOT have additional properties"}],!1;if(rt===d){if(void 0!==Ce.interface){let Xe=Ce.interface;const Ze=d;if("string"!=typeof Xe)return fl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Records"!==Xe)return fl.errors=[{instancePath:t+"/descriptor/interface",schemaPath:"#/properties/descriptor/properties/interface/enum",keyword:"enum",params:{allowedValues:is.properties.descriptor.properties.interface.enum},message:"must be equal to one of the allowed values"}],!1;var b=Ze===d}else b=!0;if(b){if(void 0!==Ce.method){let Xe=Ce.method;const Ze=d;if("string"!=typeof Xe)return fl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("Read"!==Xe)return fl.errors=[{instancePath:t+"/descriptor/method",schemaPath:"#/properties/descriptor/properties/method/enum",keyword:"enum",params:{allowedValues:is.properties.descriptor.properties.method.enum},message:"must be equal to one of the allowed values"}],!1;b=Ze===d}else b=!0;if(b){if(void 0!==Ce.messageTimestamp){let Xe=Ce.messageTimestamp;const Ze=d;if(d==d){if("string"!=typeof Xe)return fl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!Gs.test(Xe))return fl.errors=[{instancePath:t+"/descriptor/messageTimestamp",schemaPath:"https://identity.foundation/dwn/json-schemas/defs.json#/$defs/date-time/pattern",keyword:"pattern",params:{pattern:"^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"},message:'must match pattern "^\\d{4}-[0-1]\\d-[0-3]\\dT(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)\\.\\d{6}Z$"'}],!1}b=Ze===d}else b=!0;if(b)if(void 0!==Ce.filter){const Xe=d;Kr(Ce.filter,{instancePath:t+"/descriptor/filter",parentData:Ce,parentDataProperty:"filter",rootData:o,dynamicAnchors:c})||(s=null===s?Kr.errors:s.concat(Kr.errors),d=s.length),b=Xe===d}else b=!0}}}}}}C=Te===d}else C=!0}}}}return fl.errors=s,0===d}fl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const Hv=Kr,gf=qo,bx=$u;function $u(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const B=$u.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return $u.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.descriptorCid&&(b="descriptorCid"))return $u.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=0;for(const _e in r)if("descriptorCid"!==_e&&"delegatedGrantId"!==_e&&"permissionGrantId"!==_e&&"protocolRole"!==_e)return $u.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(0===K){if(void 0!==r.descriptorCid){const _e=0;if("string"!=typeof r.descriptorCid)return $u.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=0===_e}else C=!0;if(C){if(void 0!==r.delegatedGrantId){const _e=0;if("string"!=typeof r.delegatedGrantId)return $u.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=0===_e}else C=!0;if(C){if(void 0!==r.permissionGrantId){const _e=0;if("string"!=typeof r.permissionGrantId)return $u.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=0===_e}else C=!0;if(C)if(void 0!==r.protocolRole){const _e=0;if("string"!=typeof r.protocolRole)return $u.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=0===_e}else C=!0}}}}}return $u.errors=null,!0}$u.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const r9=Ol;function Ol(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){const B=Ol.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),!r||"object"!=typeof r||Array.isArray(r))return Ol.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let b;if(void 0===r.descriptorCid&&(b="descriptorCid")||void 0===r.recordId&&(b="recordId"))return Ol.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:b},message:"must have required property '"+b+"'"}],!1;{const K=0;for(const _e in r)if("descriptorCid"!==_e&&"recordId"!==_e&&"contextId"!==_e&&"attestationCid"!==_e&&"encryptionCid"!==_e&&"delegatedGrantId"!==_e&&"permissionGrantId"!==_e&&"protocolRole"!==_e)return Ol.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:_e},message:"must NOT have additional properties"}],!1;if(0===K){if(void 0!==r.descriptorCid){const _e=0;if("string"!=typeof r.descriptorCid)return Ol.errors=[{instancePath:t+"/descriptorCid",schemaPath:"#/properties/descriptorCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var C=0===_e}else C=!0;if(C){if(void 0!==r.recordId){const _e=0;if("string"!=typeof r.recordId)return Ol.errors=[{instancePath:t+"/recordId",schemaPath:"#/properties/recordId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=0===_e}else C=!0;if(C){if(void 0!==r.contextId){const _e=0;if("string"!=typeof r.contextId)return Ol.errors=[{instancePath:t+"/contextId",schemaPath:"#/properties/contextId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=0===_e}else C=!0;if(C){if(void 0!==r.attestationCid){const _e=0;if("string"!=typeof r.attestationCid)return Ol.errors=[{instancePath:t+"/attestationCid",schemaPath:"#/properties/attestationCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=0===_e}else C=!0;if(C){if(void 0!==r.encryptionCid){const _e=0;if("string"!=typeof r.encryptionCid)return Ol.errors=[{instancePath:t+"/encryptionCid",schemaPath:"#/properties/encryptionCid/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=0===_e}else C=!0;if(C){if(void 0!==r.delegatedGrantId){const _e=0;if("string"!=typeof r.delegatedGrantId)return Ol.errors=[{instancePath:t+"/delegatedGrantId",schemaPath:"#/properties/delegatedGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=0===_e}else C=!0;if(C){if(void 0!==r.permissionGrantId){const _e=0;if("string"!=typeof r.permissionGrantId)return Ol.errors=[{instancePath:t+"/permissionGrantId",schemaPath:"#/properties/permissionGrantId/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=0===_e}else C=!0;if(C)if(void 0!==r.protocolRole){const _e=0;if("string"!=typeof r.protocolRole)return Ol.errors=[{instancePath:t+"/protocolRole",schemaPath:"#/properties/protocolRole/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;C=0===_e}else C=!0}}}}}}}}}return Ol.errors=null,!0}Ol.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};const kI=Bl;function Bl(r,{instancePath:t="",rootData:o=r,dynamicAnchors:c={}}={}){let s=null,d=0;const B=Bl.evaluated;if(B.dynamicProps&&(B.props=void 0),B.dynamicItems&&(B.items=void 0),0===d){if(!r||"object"!=typeof r||Array.isArray(r))return Bl.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;if(Object.keys(r).length<1)return Bl.errors=[{instancePath:t,schemaPath:"#/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties"}],!1;{const Pe=d;for(const ze in r)if("gt"!==ze&&"gte"!==ze&&"lt"!==ze&&"lte"!==ze)return Bl.errors=[{instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:ze},message:"must NOT have additional properties"}],!1;if(Pe===d){if(void 0!==r.gt){const ze=d,rt=d,Xe=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let Ze;if(void 0===r.gte&&(Ze="gte")){const lt={};null===s?s=[lt]:s.push(lt),d++}}if(Xe===d)return Bl.errors=[{instancePath:t,schemaPath:"#/dependencies/gt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rt,null!==s&&(rt?s.length=rt:s=null);var b=ze===d}else b=!0;if(b){if(void 0!==r.gte){const ze=d,rt=d,Xe=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.gt&&(lt="gt")){const Et={};null===s?s=[Et]:s.push(Et),d++}}if(Xe===d)return Bl.errors=[{instancePath:t,schemaPath:"#/dependencies/gte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rt,null!==s&&(rt?s.length=rt:s=null),b=ze===d}else b=!0;if(b){if(void 0!==r.lt){const ze=d,rt=d,Xe=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.lte&&(lt="lte")){const Et={};null===s?s=[Et]:s.push(Et),d++}}if(Xe===d)return Bl.errors=[{instancePath:t,schemaPath:"#/dependencies/lt/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rt,null!==s&&(rt?s.length=rt:s=null),b=ze===d}else b=!0;if(b){if(void 0!==r.lte){const ze=d,rt=d,Xe=d;if(r&&"object"==typeof r&&!Array.isArray(r)){let lt;if(void 0===r.lt&&(lt="lt")){const Et={};null===s?s=[Et]:s.push(Et),d++}}if(Xe===d)return Bl.errors=[{instancePath:t,schemaPath:"#/dependencies/lte/not",keyword:"not",params:{},message:"must NOT be valid"}],!1;d=rt,null!==s&&(rt?s.length=rt:s=null),b=ze===d}else b=!0;if(b){if(void 0!==r.gt){const ze=d;if("string"!=typeof r.gt)return Bl.errors=[{instancePath:t+"/gt",schemaPath:"#/properties/gt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var Te=ze===d}else Te=!0;if(Te){if(void 0!==r.gte){const ze=d;if("string"!=typeof r.gte)return Bl.errors=[{instancePath:t+"/gte",schemaPath:"#/properties/gte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=ze===d}else Te=!0;if(Te){if(void 0!==r.lt){const ze=d;if("string"!=typeof r.lt)return Bl.errors=[{instancePath:t+"/lt",schemaPath:"#/properties/lt/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=ze===d}else Te=!0;if(Te)if(void 0!==r.lte){const ze=d;if("string"!=typeof r.lte)return Bl.errors=[{instancePath:t+"/lte",schemaPath:"#/properties/lte/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;Te=ze===d}else Te=!0}}}}}}}}}return Bl.errors=s,0===d}function sc(r,t){const n=te[r];if(!n)throw new O(q.SchemaValidatorSchemaNotFound,`schema for ${r} not found.`);if(n(t),!n.errors)return;const[i]=n.errors;let{instancePath:o,message:c,keyword:s}=i;if(o||(o=r),"additionalProperties"===s)throw new O(q.SchemaValidatorAdditionalPropertyNotAllowed,`${c}: ${o}: ${i.params.additionalProperty}`);if("unevaluatedProperties"===s)throw new O(q.SchemaValidatorUnevaluatedPropertyNotAllowed,`${c}: ${o}: ${i.params.unevaluatedProperty}`);throw new O(q.SchemaValidatorFailure,`${o}: ${c}`)}Bl.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};var vf=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Vu{constructor(t){this.cache=t||new j8(600)}static get singleton(){return void 0===Vu._singleton&&(Vu._singleton=new Vu),Vu._singleton}static verifySignatures(t,n){return vf(this,void 0,void 0,function*(){return yield Vu.singleton.verifySignatures(t,n)})}verifySignatures(t,n){return vf(this,void 0,void 0,function*(){const i=[];for(const o of t.signatures){let c;const s=Ds.getKid(o),d=`${o.protected}.${t.payload}.${o.signature}`,B=yield this.cache.get(d);if(void 0===B){const b=yield Vu.getPublicKey(s,n);c=yield Ds.verifySignature(t.payload,o,b),yield this.cache.set(d,c)}else c=B;const C=Ds.extractDid(s);if(!c)throw new O(q.GeneralJwsVerifierInvalidSignature,`Signature verification failed for ${C}`);i.push(C)}return{signers:i}})}static getPublicKey(t,n){return vf(this,void 0,void 0,function*(){const i=Ds.extractDid(t),{didDocument:o}=yield n.resolve(i),{verificationMethod:c=[]}=o||{};let s;for(const B of c)if(t.endsWith(B.id)){s=B;break}if(!s)throw new O(q.GeneralJwsVerifierGetPublicKeyNotFound,"public key needed to verify signature not found in DID Document");sc("JwkVerificationMethod",s);const{publicKeyJwk:d}=s;return d})}}const bf=["string","number","bigint","symbol"],Gh=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];class wr{constructor(t,n,i){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=i}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}wr.uint=new wr(0,"uint",!0),wr.negint=new wr(1,"negint",!0),wr.bytes=new wr(2,"bytes",!0),wr.string=new wr(3,"string",!0),wr.array=new wr(4,"array",!1),wr.map=new wr(5,"map",!1),wr.tag=new wr(6,"tag",!1),wr.float=new wr(7,"float",!0),wr.false=new wr(7,"false",!0),wr.true=new wr(7,"true",!0),wr.null=new wr(7,"null",!0),wr.undefined=new wr(7,"undefined",!0),wr.break=new wr(7,"break",!0);class si{constructor(t,n,i){this.type=t,this.value=n,this.encodedLength=i,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Zp=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,wx=new TextDecoder,e1=new TextEncoder;function t1(r){return Zp&&globalThis.Buffer.isBuffer(r)}function _x(r){return r instanceof Uint8Array?t1(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r)}const Ex=Zp?(r,t,n)=>n-t>64?globalThis.Buffer.from(r.subarray(t,n)).toString("utf8"):BI(r,t,n):(r,t,n)=>n-t>64?wx.decode(r.subarray(t,n)):BI(r,t,n),RI=Zp?r=>r.length>64?globalThis.Buffer.from(r):Sx(r):r=>r.length>64?e1.encode(r):Sx(r),Yf=r=>Uint8Array.from(r),n1=Zp?(r,t,n)=>t1(r)?new Uint8Array(r.subarray(t,n)):r.slice(t,n):(r,t,n)=>r.slice(t,n),OI=Zp?(r,t)=>(r=r.map(n=>n instanceof Uint8Array?n:globalThis.Buffer.from(n)),_x(globalThis.Buffer.concat(r,t))):(r,t)=>{const n=new Uint8Array(t);let i=0;for(let o of r)i+o.length>n.length&&(o=o.subarray(0,n.length-i)),n.set(o,i),i+=o.length;return n},xx=Zp?r=>globalThis.Buffer.allocUnsafe(r):r=>new Uint8Array(r);function Sx(r,t=1/0){let n;const i=r.length;let o=null;const c=[];for(let s=0;s<i;++s){if(n=r.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&c.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&c.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&c.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&c.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;c.push(n)}else if(n<2048){if((t-=2)<0)break;c.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;c.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;c.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return c}function BI(r,t,n){const i=[];for(;t<n;){const o=r[t];let c=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let d,B,C,b;switch(s){case 1:o<128&&(c=o);break;case 2:d=r[t+1],128==(192&d)&&(b=(31&o)<<6|63&d,b>127&&(c=b));break;case 3:d=r[t+1],B=r[t+2],128==(192&d)&&128==(192&B)&&(b=(15&o)<<12|(63&d)<<6|63&B,b>2047&&(b<55296||b>57343)&&(c=b));break;case 4:d=r[t+1],B=r[t+2],C=r[t+3],128==(192&d)&&128==(192&B)&&128==(192&C)&&(b=(15&o)<<18|(63&d)<<12|(63&B)<<6|63&C,b>65535&&b<1114112&&(c=b))}}null===c?(c=65533,s=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),t+=s}return function ik(r){const t=r.length;if(t<=Mx)return String.fromCharCode.apply(String,r);let n="",i=0;for(;i<t;)n+=String.fromCharCode.apply(String,r.slice(i,i+=Mx));return n}(i)}const Mx=4096;class Ax{constructor(t=256){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let n=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1)n.set(t,n.length-(this.maxCursor-this.cursor)-1);else{if(n){const o=n.length-(this.maxCursor-this.cursor)-1;o<n.length&&(this.chunks[this.chunks.length-1]=n.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(n=xx(this.chunkSize),this.chunks.push(n),this.maxCursor+=n.length,null===this._initReuseChunk&&(this._initReuseChunk=n),n.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let n;if(1===this.chunks.length){const i=this.chunks[0];t&&this.cursor>i.length/2?(n=this.cursor===i.length?i:i.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):n=n1(i,0,this.cursor)}else n=OI(this.chunks,this.cursor);return t&&this.reset(),n}}const io="CBOR decode error:",wf="CBOR encode error:",Wv=[];function Zh(r,t,n){if(r.length-t<n)throw new Error(`${io} not enough data for type`)}Wv[23]=1,Wv[24]=2,Wv[25]=3,Wv[26]=5,Wv[27]=9;const ac=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Jf(r,t,n){Zh(r,t,1);const i=r[t];if(!0===n.strict&&i<ac[0])throw new Error(`${io} integer encoded in more bytes than necessary (strict decode)`);return i}function Xh(r,t,n){Zh(r,t,2);const i=r[t]<<8|r[t+1];if(!0===n.strict&&i<ac[1])throw new Error(`${io} integer encoded in more bytes than necessary (strict decode)`);return i}function Xp(r,t,n){Zh(r,t,4);const i=16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3];if(!0===n.strict&&i<ac[2])throw new Error(`${io} integer encoded in more bytes than necessary (strict decode)`);return i}function Yp(r,t,n){Zh(r,t,8);const o=16777216*r[t+4]+(r[t+5]<<16)+(r[t+6]<<8)+r[t+7],c=(BigInt(16777216*r[t]+(r[t+1]<<16)+(r[t+2]<<8)+r[t+3])<<BigInt(32))+BigInt(o);if(!0===n.strict&&c<ac[3])throw new Error(`${io} integer encoded in more bytes than necessary (strict decode)`);if(c<=Number.MAX_SAFE_INTEGER)return Number(c);if(!0===n.allowBigInt)return c;throw new Error(`${io} integers outside of the safe integer range are not supported`)}function Yh(r,t){return fu(r,0,t.value)}function fu(r,t,n){if(n<ac[0]){const i=Number(n);r.push([t|i])}else if(n<ac[1]){const i=Number(n);r.push([24|t,i])}else if(n<ac[2]){const i=Number(n);r.push([25|t,i>>>8,255&i])}else if(n<ac[3]){const i=Number(n);r.push([26|t,i>>>24&255,i>>>16&255,i>>>8&255,255&i])}else{const i=BigInt(n);if(!(i<ac[4]))throw new Error(`${io} encountered BigInt larger than allowable range`);{const o=[27|t,0,0,0,0,0,0,0];let c=Number(i&BigInt(4294967295)),s=Number(i>>BigInt(32)&BigInt(4294967295));o[8]=255&c,c>>=8,o[7]=255&c,c>>=8,o[6]=255&c,c>>=8,o[5]=255&c,o[4]=255&s,s>>=8,o[3]=255&s,s>>=8,o[2]=255&s,s>>=8,o[1]=255&s,r.push(o)}}}Yh.encodedSize=function(t){return fu.encodedSize(t.value)},fu.encodedSize=function(t){return t<ac[0]?1:t<ac[1]?2:t<ac[2]?3:t<ac[3]?5:9},Yh.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};const LI=BigInt(-1),r1=BigInt(1);function Zv(r,t){const n=t.value;fu(r,t.type.majorEncoded,"bigint"==typeof n?n*LI-r1:-1*n-1)}function Jh(r,t,n,i){Zh(r,t,n+i);const o=n1(r,t+n,t+n+i);return new si(wr.bytes,o,n+i)}function lk(r,t,n,i){return Jh(r,t,1,n)}function Ix(r){return void 0===r.encodedBytes&&(r.encodedBytes=r.type===wr.string?RI(r.value):r.value),r.encodedBytes}function Yv(r,t){const n=Ix(t);fu(r,t.type.majorEncoded,n.length),r.push(n)}function Jv(r,t,n,i,o){const c=n+i;Zh(r,t,c);const s=new si(wr.string,Ex(r,t+n,t+c),c);return!0===o.retainStringBytes&&(s.byteValue=n1(r,t+n,t+c)),s}function qf(r,t,n,i){return Jv(r,t,1,n,i)}Zv.encodedSize=function(t){const n=t.value,i="bigint"==typeof n?n*LI-r1:-1*n-1;return i<ac[0]?1:i<ac[1]?2:i<ac[2]?3:i<ac[3]?5:9},Zv.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0},Yv.encodedSize=function(t){const n=Ix(t);return fu.encodedSize(n.length)+n.length},Yv.compareTokens=function(t,n){return function UI(r,t){return r.length<t.length?-1:r.length>t.length?1:function Ks(r,t){if(t1(r)&&t1(t))return r.compare(t);for(let n=0;n<r.length;n++)if(r[n]!==t[n])return r[n]<t[n]?-1:1;return 0}(r,t)}(Ix(t),Ix(n))};const a1=Yv;function Jp(r,t,n,i){return new si(wr.array,i,n)}function fk(r,t,n,i){return Jp(0,0,1,n)}function By(r,t){fu(r,wr.array.majorEncoded,t.value)}function zu(r,t,n,i){return new si(wr.map,i,n)}function pk(r,t,n,i){return zu(0,0,1,n)}function Cx(r,t){fu(r,wr.map.majorEncoded,t.value)}function WI(r,t,n,i){return new si(wr.tag,n,1)}function Px(r,t){fu(r,wr.tag.majorEncoded,t.value)}By.compareTokens=Yh.compareTokens,By.encodedSize=function(t){return fu.encodedSize(t.value)},Cx.compareTokens=Yh.compareTokens,Cx.encodedSize=function(t){return fu.encodedSize(t.value)},Px.compareTokens=Yh.compareTokens,Px.encodedSize=function(t){return fu.encodedSize(t.value)};function Ox(r,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(r))throw new Error(`${io} NaN values are not supported`);if(!1===n.allowInfinity&&(r===1/0||r===-1/0))throw new Error(`${io} Infinity values are not supported`)}return new si(wr.float,r,t)}function Bx(r,t,n){const i=t.value;if(!1===i)r.push([20|wr.float.majorEncoded]);else if(!0===i)r.push([21|wr.float.majorEncoded]);else if(null===i)r.push([22|wr.float.majorEncoded]);else if(void 0===i)r.push([23|wr.float.majorEncoded]);else{let o,c=!1;(!n||!0!==n.float64)&&(Nx(i),o=Ka(Hu,1),i===o||Number.isNaN(i)?(Hu[0]=249,r.push(Hu.slice(0,3)),c=!0):(bk(i),o=Lx(Hu,1),i===o&&(Hu[0]=250,r.push(Hu.slice(0,5)),c=!0))),c||(function s9(r){_f.setFloat64(0,r,!1)}(i),o=Ux(Hu,1),Hu[0]=251,r.push(Hu.slice(0,9)))}}Bx.encodedSize=function(t,n){const i=t.value;if(!1===i||!0===i||null==i)return 1;if(!n||!0!==n.float64){Nx(i);let o=Ka(Hu,1);if(i===o||Number.isNaN(i))return 3;if(bk(i),o=Lx(Hu,1),i===o)return 5}return 9};const qI=new ArrayBuffer(9),_f=new DataView(qI,1),Hu=new Uint8Array(qI,0);function Nx(r){if(r===1/0)_f.setUint16(0,31744,!1);else if(r===-1/0)_f.setUint16(0,64512,!1);else if(Number.isNaN(r))_f.setUint16(0,32256,!1);else{_f.setFloat32(0,r);const t=_f.getUint32(0),n=(2139095040&t)>>23,i=8388607&t;if(255===n)_f.setUint16(0,31744,!1);else if(0===n)_f.setUint16(0,(2147483648&r)>>16|i>>13,!1);else{const o=n-127;o<-24?_f.setUint16(0,0):_f.setUint16(0,o<-14?(2147483648&t)>>16|1<<24+o:(2147483648&t)>>16|o+15<<10|i>>13,!1)}}}function Ka(r,t){if(r.length-t<2)throw new Error(`${io} not enough data for float16`);const n=(r[t]<<8)+r[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const i=n>>10&31,o=1023&n;let c;return c=0===i?o*2**-24:31!==i?(o+1024)*2**(i-25):0===o?1/0:NaN,32768&n?-c:c}function bk(r){_f.setFloat32(0,r,!1)}function Lx(r,t){if(r.length-t<4)throw new Error(`${io} not enough data for float32`);return new DataView(r.buffer,(r.byteOffset||0)+t,4).getFloat32(0,!1)}function Ux(r,t){if(r.length-t<8)throw new Error(`${io} not enough data for float64`);return new DataView(r.buffer,(r.byteOffset||0)+t,8).getFloat64(0,!1)}function es(r,t,n){throw new Error(`${io} encountered invalid minor (${n}) for major ${r[t]>>>5}`)}function Uy(r){return()=>{throw new Error(`${io} ${r}`)}}Bx.compareTokens=Yh.compareTokens;const Br=[];for(let r=0;r<=23;r++)Br[r]=es;Br[24]=function ok(r,t,n,i){return new si(wr.uint,Jf(r,t+1,i),2)},Br[25]=function Oy(r,t,n,i){return new si(wr.uint,Xh(r,t+1,i),3)},Br[26]=function Gv(r,t,n,i){return new si(wr.uint,Xp(r,t+1,i),5)},Br[27]=function sk(r,t,n,i){return new si(wr.uint,Yp(r,t+1,i),9)},Br[28]=es,Br[29]=es,Br[30]=es,Br[31]=es;for(let r=32;r<=55;r++)Br[r]=es;Br[56]=function ak(r,t,n,i){return new si(wr.negint,-1-Jf(r,t+1,i),2)},Br[57]=function ck(r,t,n,i){return new si(wr.negint,-1-Xh(r,t+1,i),3)},Br[58]=function o9(r,t,n,i){return new si(wr.negint,-1-Xp(r,t+1,i),5)},Br[59]=function Gm(r,t,n,i){const o=Yp(r,t+1,i);if("bigint"!=typeof o){const c=-1-o;if(c>=Number.MIN_SAFE_INTEGER)return new si(wr.negint,c,9)}if(!0!==i.allowBigInt)throw new Error(`${io} integers outside of the safe integer range are not supported`);return new si(wr.negint,LI-BigInt(o),9)},Br[60]=es,Br[61]=es,Br[62]=es,Br[63]=es;for(let r=64;r<=87;r++)Br[r]=lk;Br[88]=function Xv(r,t,n,i){return Jh(r,t,2,Jf(r,t+1,i))},Br[89]=function dk(r,t,n,i){return Jh(r,t,3,Xh(r,t+1,i))},Br[90]=function Tx(r,t,n,i){return Jh(r,t,5,Xp(r,t+1,i))},Br[91]=function o1(r,t,n,i){const o=Yp(r,t+1,i);if("bigint"==typeof o)throw new Error(`${io} 64-bit integer bytes lengths not supported`);return Jh(r,t,9,o)},Br[92]=es,Br[93]=es,Br[94]=es,Br[95]=Uy("indefinite length bytes/strings are not supported");for(let r=96;r<=119;r++)Br[r]=qf;Br[120]=function uk(r,t,n,i){return Jv(r,t,2,Jf(r,t+1,i),i)},Br[121]=function s1(r,t,n,i){return Jv(r,t,3,Xh(r,t+1,i),i)},Br[122]=function Dx(r,t,n,i){return Jv(r,t,5,Xp(r,t+1,i),i)},Br[123]=function FI(r,t,n,i){const o=Yp(r,t+1,i);if("bigint"==typeof o)throw new Error(`${io} 64-bit integer string lengths not supported`);return Jv(r,t,9,o,i)},Br[124]=es,Br[125]=es,Br[126]=es,Br[127]=Uy("indefinite length bytes/strings are not supported");for(let r=128;r<=151;r++)Br[r]=fk;Br[152]=function jI(r,t,n,i){return Jp(0,0,2,Jf(r,t+1,i))},Br[153]=function KI(r,t,n,i){return Jp(0,0,3,Xh(r,t+1,i))},Br[154]=function $I(r,t,n,i){return Jp(0,0,5,Xp(r,t+1,i))},Br[155]=function VI(r,t,n,i){const o=Yp(r,t+1,i);if("bigint"==typeof o)throw new Error(`${io} 64-bit integer array lengths not supported`);return Jp(0,0,9,o)},Br[156]=es,Br[157]=es,Br[158]=es,Br[159]=function hk(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${io} indefinite length items not allowed`);return Jp(0,0,1,1/0)};for(let r=160;r<=183;r++)Br[r]=pk;Br[184]=function zI(r,t,n,i){return zu(0,0,2,Jf(r,t+1,i))},Br[185]=function HI(r,t,n,i){return zu(0,0,3,Xh(r,t+1,i))},Br[186]=function Ny(r,t,n,i){return zu(0,0,5,Xp(r,t+1,i))},Br[187]=function Ly(r,t,n,i){const o=Yp(r,t+1,i);if("bigint"==typeof o)throw new Error(`${io} 64-bit integer map lengths not supported`);return zu(0,0,9,o)},Br[188]=es,Br[189]=es,Br[190]=es,Br[191]=function Tc(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${io} indefinite length items not allowed`);return zu(0,0,1,1/0)};for(let r=192;r<=215;r++)Br[r]=WI;Br[216]=function kx(r,t,n,i){return new si(wr.tag,Jf(r,t+1,i),2)},Br[217]=function mk(r,t,n,i){return new si(wr.tag,Xh(r,t+1,i),3)},Br[218]=function GI(r,t,n,i){return new si(wr.tag,Xp(r,t+1,i),5)},Br[219]=function c1(r,t,n,i){return new si(wr.tag,Yp(r,t+1,i),9)},Br[220]=es,Br[221]=es,Br[222]=es,Br[223]=es;for(let r=224;r<=243;r++)Br[r]=Uy("simple values are not supported");Br[244]=es,Br[245]=es,Br[246]=es,Br[247]=function yk(r,t,n,i){if(!1===i.allowUndefined)throw new Error(`${io} undefined values are not supported`);return!0===i.coerceUndefinedToNull?new si(wr.null,null,1):new si(wr.undefined,void 0,1)},Br[248]=Uy("simple values are not supported"),Br[249]=function YI(r,t,n,i){return Ox(Ka(r,t+1),3,i)},Br[250]=function vk(r,t,n,i){return Ox(Lx(r,t+1),5,i)},Br[251]=function JI(r,t,n,i){return Ox(Ux(r,t+1),9,i)},Br[252]=es,Br[253]=es,Br[254]=es,Br[255]=function gk(r,t,n,i){if(!1===i.allowIndefinite)throw new Error(`${io} indefinite length items not allowed`);return new si(wr.break,void 0,1)};const Qf=[];for(let r=0;r<24;r++)Qf[r]=new si(wr.uint,r,1);for(let r=-1;r>=-24;r--)Qf[31-r]=new si(wr.negint,r,1);Qf[64]=new si(wr.bytes,new Uint8Array(0),1),Qf[96]=new si(wr.string,"",1),Qf[128]=new si(wr.array,0,1),Qf[160]=new si(wr.map,0,1),Qf[244]=new si(wr.false,!1,1),Qf[245]=new si(wr.true,!0,1),Qf[246]=new si(wr.null,null,1);const Zm={float64:!1,mapSorter:function _k(r,t){const n=Array.isArray(r[0])?r[0][0]:r[0],i=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==i.type)return n.type.compare(i.type);const c=QI[n.type.major].compareTokens(n,i);return 0===c&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),c},quickEncodeToken:function wk(r){switch(r.type){case wr.false:return Yf([244]);case wr.true:return Yf([245]);case wr.null:return Yf([246]);case wr.bytes:return r.value.length?void 0:Yf([64]);case wr.string:return""===r.value?Yf([96]):void 0;case wr.array:return 0===r.value?Yf([128]):void 0;case wr.map:return 0===r.value?Yf([160]):void 0;case wr.uint:return r.value<24?Yf([Number(r.value)]):void 0;case wr.negint:if(r.value>=-24)return Yf([31-Number(r.value)])}}},QI=function a9(){const r=[];return r[wr.uint.major]=Yh,r[wr.negint.major]=Zv,r[wr.bytes.major]=Yv,r[wr.string.major]=a1,r[wr.array.major]=By,r[wr.map.major]=Cx,r[wr.tag.major]=Px,r[wr.float.major]=Bx,r}(),Wu=new Ax;class Xm{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do{if(n.obj===t)return!0}while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${wf} object contains circular references`);return new Xm(n,t)}}const qh={null:new si(wr.null,null),undefined:new si(wr.undefined,void 0),true:new si(wr.true,!0),false:new si(wr.false,!1),emptyArray:new si(wr.array,0),emptyMap:new si(wr.map,0)},Qh={number:(r,t,n,i)=>Number.isInteger(r)&&Number.isSafeInteger(r)?new si(r>=0?wr.uint:wr.negint,r):new si(wr.float,r),bigint:(r,t,n,i)=>r>=BigInt(0)?new si(wr.uint,r):new si(wr.negint,r),Uint8Array:(r,t,n,i)=>new si(wr.bytes,r),string:(r,t,n,i)=>new si(wr.string,r),boolean:(r,t,n,i)=>r?qh.true:qh.false,null:(r,t,n,i)=>qh.null,undefined:(r,t,n,i)=>qh.undefined,ArrayBuffer:(r,t,n,i)=>new si(wr.bytes,new Uint8Array(r)),DataView:(r,t,n,i)=>new si(wr.bytes,new Uint8Array(r.buffer,r.byteOffset,r.byteLength)),Array(r,t,n,i){if(!r.length)return!0===n.addBreakTokens?[qh.emptyArray,new si(wr.break)]:qh.emptyArray;i=Xm.createCheck(i,r);const o=[];let c=0;for(const s of r)o[c++]=Fx(s,n,i);return n.addBreakTokens?[new si(wr.array,r.length),o,new si(wr.break)]:[new si(wr.array,r.length),o]},Object(r,t,n,i){const o="Object"!==t,c=o?r.keys():Object.keys(r),s=o?r.size:c.length;if(!s)return!0===n.addBreakTokens?[qh.emptyMap,new si(wr.break)]:qh.emptyMap;i=Xm.createCheck(i,r);const d=[];let B=0;for(const C of c)d[B++]=[Fx(C,n,i),Fx(o?r.get(C):r[C],n,i)];return function Zs(r,t){t.mapSorter&&r.sort(t.mapSorter)}(d,n),n.addBreakTokens?[new si(wr.map,s),d,new si(wr.break)]:[new si(wr.map,s),d]}};Qh.Map=Qh.Object,Qh.Buffer=Qh.Uint8Array;for(const r of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Qh[`${r}Array`]=Qh.DataView;function Fx(r,t={},n){const i=function nk(r){if(null===r)return"null";if(void 0===r)return"undefined";if(!0===r||!1===r)return"boolean";const t=typeof r;if(bf.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(r))return"Array";if(function PI(r){return r&&r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer.call(null,r)}(r))return"Buffer";const n=function rk(r){const t=Object.prototype.toString.call(r).slice(8,-1);if(Gh.includes(t))return t}(r);return n||"Object"}(r),o=t&&t.typeEncoders&&t.typeEncoders[i]||Qh[i];if("function"==typeof o){const s=o(r,i,t,n);if(null!=s)return s}const c=Qh[i];if(!c)throw new Error(`${wf} unsupported type: ${i}`);return c(r,i,t,n)}function d1(r,t,n,i){if(Array.isArray(t))for(const o of t)d1(r,o,n,i);else n[t.type.major](r,t,i)}function Ek(r,t,n){const i=Fx(r,n);if(!Array.isArray(i)&&n.quickEncodeToken){const o=n.quickEncodeToken(i);if(o)return o;const c=t[i.type.major];if(c.encodedSize){const s=c.encodedSize(i,n),d=new Ax(s);if(c(d,i,n),1!==d.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${i} was wrong`);return _x(d.chunks[0])}}return Wu.reset(),d1(Wu,i,t,n),Wu.toBytes(!0)}const jx={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class eD{constructor(t,n={}){this.pos=0,this.data=t,this.options=n}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let n=Qf[t];if(void 0===n){const i=Br[t];if(!i)throw new Error(`${io} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);n=i(this.data,this.pos,31&t,this.options)}return this.pos+=n.encodedLength,n}}const Fy=Symbol.for("DONE"),jy=Symbol.for("BREAK");function Ky(r,t){if(r.done())return Fy;const n=r.next();if(n.type===wr.break)return jy;if(n.type.terminal)return n.value;if(n.type===wr.array)return function Sk(r,t,n){const i=[];for(let o=0;o<r.value;o++){const c=Ky(t,n);if(c===jy){if(r.value===1/0)break;throw new Error(`${io} got unexpected break to lengthed array`)}if(c===Fy)throw new Error(`${io} found array but not enough entries (got ${o}, expected ${r.value})`);i[o]=c}return i}(n,r,t);if(n.type===wr.map)return function Mk(r,t,n){const i=!0===n.useMaps,o=i?void 0:{},c=i?new Map:void 0;for(let s=0;s<r.value;s++){const d=Ky(t,n);if(d===jy){if(r.value===1/0)break;throw new Error(`${io} got unexpected break to lengthed map`)}if(d===Fy)throw new Error(`${io} found map but not enough entries (got ${s} [no key], expected ${r.value})`);if(!0!==i&&"string"!=typeof d)throw new Error(`${io} non-string keys not supported (got ${typeof d})`);if(!0===n.rejectDuplicateMapKeys&&(i&&c.has(d)||!i&&d in o))throw new Error(`${io} found repeat map key "${d}"`);const B=Ky(t,n);if(B===Fy)throw new Error(`${io} found map but not enough entries (got ${s} [no value], expected ${r.value})`);i?c.set(d,B):o[d]=B}return i?c:o}(n,r,t);if(n.type===wr.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const i=Ky(r,t);return t.tags[n.value](i)}throw new Error(`${io} tag not supported (${n.value})`)}throw new Error("unsupported")}const Kx=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class kk{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class f1{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return nD(this,t)}}class Qv{constructor(t){this.decoders=t}or(t){return nD(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const nD=(r,t)=>new Qv({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class rD{constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new kk(t,n,i),this.decoder=new f1(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const $x=({name:r,prefix:t,encode:n,decode:i})=>new rD(r,t,n,i),eb=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:o}=function eh(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),s=c.charCodeAt(0);if(255!==n[s])throw new TypeError(c+" is ambiguous");n[s]=o}var d=r.length,B=r.charAt(0),C=Math.log(d)/Math.log(256),b=Math.log(256)/Math.log(d);function _e(Te){if("string"!=typeof Te)throw new TypeError("Expected String");if(0===Te.length)return new Uint8Array;var Pe=0;if(" "!==Te[Pe]){for(var ze=0,rt=0;Te[Pe]===B;)ze++,Pe++;for(var Xe=(Te.length-Pe)*C+1>>>0,Ze=new Uint8Array(Xe);Te[Pe];){var lt=n[Te.charCodeAt(Pe)];if(255===lt)return;for(var Et=0,pt=Xe-1;(0!==lt||Et<rt)&&-1!==pt;pt--,Et++)Ze[pt]=(lt+=d*Ze[pt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");rt=Et,Pe++}if(" "!==Te[Pe]){for(var Mt=Xe-rt;Mt!==Xe&&0===Ze[Mt];)Mt++;for(var Pt=new Uint8Array(ze+(Xe-Mt)),sn=ze;Mt!==Xe;)Pt[sn++]=Ze[Mt++];return Pt}}}return{encode:function K(Te){if(Te instanceof Uint8Array||(ArrayBuffer.isView(Te)?Te=new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength):Array.isArray(Te)&&(Te=Uint8Array.from(Te))),!(Te instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Te.length)return"";for(var Pe=0,ze=0,rt=0,Xe=Te.length;rt!==Xe&&0===Te[rt];)rt++,Pe++;for(var Ze=(Xe-rt)*b+1>>>0,lt=new Uint8Array(Ze);rt!==Xe;){for(var Et=Te[rt],pt=0,Mt=Ze-1;(0!==Et||pt<ze)&&-1!==Mt;Mt--,pt++)lt[Mt]=(Et+=256*lt[Mt]>>>0)%d>>>0,Et=Et/d>>>0;if(0!==Et)throw new Error("Non-zero carry");ze=pt,rt++}for(var Pt=Ze-ze;Pt!==Ze&&0===lt[Pt];)Pt++;for(var sn=B.repeat(Pe);Pt<Ze;++Pt)sn+=r.charAt(lt[Pt]);return sn},decodeUnsafe:_e,decode:function Ce(Te){var Pe=_e(Te);if(Pe)return Pe;throw new Error(`Non-${t} character`)}}}(n,t);return $x({prefix:r,name:t,encode:i,decode:c=>Kx(o(c))})},ep=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>$x({prefix:t,name:r,encode:o=>((r,t,n)=>{const i="="===t[t.length-1],o=(1<<n)-1;let c="",s=0,d=0;for(let B=0;B<r.length;++B)for(d=d<<8|r[B],s+=8;s>n;)s-=n,c+=t[o&d>>s];if(s&&(c+=t[o&d<<n-s]),i)for(;c.length*n&7;)c+="=";return c})(o,i,n),decode:o=>((r,t,n,i)=>{const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const s=new Uint8Array(c*n/8|0);let d=0,B=0,C=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);B=B<<n|K,d+=n,d>=8&&(d-=8,s[C++]=255&B>>d)}if(d>=n||255&B<<8-d)throw new SyntaxError("Unexpected end of data");return s})(o,i,n,r)}),p1=ep({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ym=(ep({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ep({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ep({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ep({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ep({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ep({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ep({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ep({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),eb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));eb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Jm=128,sD=-128,Ok=Math.pow(2,31),aD=128,cD=127,Nk=Math.pow(2,7),Lk=Math.pow(2,14),Uk=Math.pow(2,21),Fk=Math.pow(2,28),lD=Math.pow(2,35),dD=Math.pow(2,42),uD=Math.pow(2,49),y1=Math.pow(2,56),fD=Math.pow(2,63);const g1={encode:function Hx(r,t,n){t=t||[];for(var i=n=n||0;r>=Ok;)t[n++]=255&r|Jm,r/=128;for(;r&sD;)t[n++]=255&r|Jm,r>>>=7;return t[n]=0|r,Hx.bytes=n-i+1,t},decode:function m1(r,i){var s,n=0,o=0,c=i=i||0,d=r.length;do{if(c>=d)throw m1.bytes=0,new RangeError("Could not decode varint");s=r[c++],n+=o<28?(s&cD)<<o:(s&cD)*Math.pow(2,o),o+=7}while(s>=aD);return m1.bytes=c-i,n},encodingLength:function(r){return r<Nk?1:r<Lk?2:r<Uk?3:r<Fk?4:r<lD?5:r<dD?6:r<uD?7:r<y1?8:r<fD?9:10}},Wx=(r,t=0)=>[g1.decode(r,t),g1.decode.bytes],v1=(r,t,n=0)=>(g1.encode(r,t,n),t),b1=r=>g1.encodingLength(r);class Gx{constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const Zx=(r,t)=>{const{bytes:n,version:i}=r;return 0===i?w1(n,tb(r),t||Ym.encoder):jk(n,tb(r),t||p1.encoder)},Xx=new WeakMap,tb=r=>{const t=Xx.get(r);if(null==t){const n=new Map;return Xx.set(r,n),n}return t};class Ic{constructor(t,n,i,o){this.code=n,this.version=t,this.multihash=i,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==$y)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==Yx)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ic.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=((r,t)=>{const n=t.byteLength,i=b1(r),o=i+b1(n),c=new Uint8Array(o+n);return v1(r,c,0),v1(n,c,i),c.set(t,o),new Gx(r,n,t,c)})(t,n);return Ic.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Ic.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return Zx(this,t)}toJSON(){return{"/":Zx(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Ic)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:o,multihash:c,bytes:s}=n;return new Ic(i,o,c,s||Kk(i,o,c.bytes))}if(!0===n[$k]){const{version:i,multihash:o,code:c}=n,s=(r=>{const t=Kx(r),[n,i]=Wx(t),[o,c]=Wx(t.subarray(i)),s=t.subarray(i+c);if(s.byteLength!==o)throw new Error("Incorrect length");return new Gx(n,o,s,t)})(o);return Ic.create(i,c,s)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==$y)throw new Error(`Version 0 CID must use dag-pb (code: ${$y}) block encoding`);return new Ic(t,n,i,i.bytes);case 1:{const o=Kk(t,n,i.bytes);return new Ic(t,n,i,o)}default:throw new Error("Invalid version")}}static createV0(t){return Ic.create(0,$y,t)}static createV1(t,n){return Ic.create(1,t,n)}static decode(t){const[n,i]=Ic.decodeFirst(t);if(i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Ic.inspectBytes(t),i=n.size-n.multihashSize,o=Kx(t.subarray(i,i+n.multihashSize));if(o.byteLength!==n.multihashSize)throw new Error("Incorrect length");const c=o.subarray(n.multihashSize-n.digestSize),s=new Gx(n.multihashCode,n.digestSize,c,o);return[0===n.version?Ic.createV0(s):Ic.createV1(n.codec,s),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[K,_e]=Wx(t.subarray(n));return n+=_e,K};let o=i(),c=$y;if(18===o?(o=0,n=0):c=i(),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const s=n,d=i(),B=i(),C=n+B;return{version:o,codec:c,multihashCode:d,digestSize:B,multihashSize:C-s,size:C}}static parse(t,n){const[i,o]=qp(t,n),c=Ic.decode(o);if(0===c.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return tb(c).set(i,t),c}}const qp=(r,t)=>{switch(r[0]){case"Q":return[Ym.prefix,(t||Ym).decode(`${Ym.prefix}${r}`)];case Ym.prefix:return[Ym.prefix,(t||Ym).decode(r)];case p1.prefix:return[p1.prefix,(t||p1).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},w1=(r,t,n)=>{const{prefix:i}=n;if(i!==Ym.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(i);if(null==o){const c=n.encode(r).slice(1);return t.set(i,c),c}return o},jk=(r,t,n)=>{const{prefix:i}=n,o=t.get(i);if(null==o){const c=n.encode(r);return t.set(i,c),c}return o},$y=112,Yx=18,Kk=(r,t,n)=>{const i=b1(r),o=i+b1(t),c=new Uint8Array(o+n.byteLength);return v1(r,c,0),v1(t,c,i),c.set(n,o),c},$k=Symbol.for("@ipld/js-cid/CID"),g9={float64:!0,typeEncoders:{Object:function Vk(r){if(r.asCID!==r&&r["/"]!==r.bytes)return null;const t=Ic.asCID(r);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new si(wr.tag,42),new si(wr.bytes,n)]},undefined:function zk(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function y9(r){if(Number.isNaN(r))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(r===1/0||r===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}},bD={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};bD.tags[42]=function _1(r){if(0!==r[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return Ic.decode(r.subarray(1))};const Jx="dag-cbor",Vy=113,zy=r=>function xk(r,t){return t=Object.assign({},Zm,t),Ek(r,QI,t)}(r,g9),nb=r=>function Ak(r,t){if(!(r instanceof Uint8Array))throw new Error(`${io} data to decode must be a Uint8Array`);const n=(t=Object.assign({},jx,t)).tokenizer||new eD(r,t),i=Ky(n,t);if(i===Fy)throw new Error(`${io} did not find any content to decode`);if(i===jy)throw new Error(`${io} got unexpected break`);if(!n.done())throw new Error(`${io} too many terminals, data makes no sense`);return i}(r,bD),Fd=ue({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),qm=(ue({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Ne({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),Hy=(Ne({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ne({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Ne({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Ne({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ne({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ne({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ne({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ne({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})),Qx=(r,t)=>{const{bytes:n,version:i}=r;return 0===i?Gk(n,ib(r),t||Fd.encoder):ob(n,ib(r),t||qm.encoder)},xD=new WeakMap,ib=r=>{const t=xD.get(r);if(null==t){const n=new Map;return xD.set(r,n),n}return t};class oo{constructor(t,n,i,o){this.code=n,this.version=t,this.multihash=i,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==Wy)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==eS)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return oo.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=An(t,n);return oo.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return oo.equals(this,t)}static equals(t,n){return n&&t.code===n.code&&t.version===n.version&&((r,t)=>r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&((r,t)=>{if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0})(r.bytes,t.bytes))(t.multihash,n.multihash)}toString(t){return Qx(this,t)}toJSON(){return{"/":Qx(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof oo)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:o,multihash:c,bytes:s}=n;return new oo(i,o,c,s||SD(i,o,c.bytes))}if(!0===n[b9]){const{version:i,multihash:o,code:c}=n,s=On(o);return oo.create(i,c,s)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==Wy)throw new Error(`Version 0 CID must use dag-pb (code: ${Wy}) block encoding`);return new oo(t,n,i,i.bytes);case 1:{const o=SD(t,n,i.bytes);return new oo(t,n,i,o)}default:throw new Error("Invalid version")}}static createV0(t){return oo.create(0,Wy,t)}static createV1(t,n){return oo.create(1,t,n)}static decode(t){const[n,i]=oo.decodeFirst(t);if(i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=oo.inspectBytes(t),i=n.size-n.multihashSize,o=Fe(t.subarray(i,i+n.multihashSize));if(o.byteLength!==n.multihashSize)throw new Error("Incorrect length");const c=o.subarray(n.multihashSize-n.digestSize),s=new $e(n.multihashCode,n.digestSize,c,o);return[0===n.version?oo.createV0(s):oo.createV1(n.codec,s),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[K,_e]=pn(t.subarray(n));return n+=_e,K};let o=i(),c=Wy;if(18===o?(o=0,n=0):c=i(),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const s=n,d=i(),B=i(),C=n+B;return{version:o,codec:c,multihashCode:d,digestSize:B,multihashSize:C-s,size:C}}static parse(t,n){const[i,o]=Wk(t,n),c=oo.decode(o);if(0===c.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return ib(c).set(i,t),c}}const Wk=(r,t)=>{switch(r[0]){case"Q":return[Fd.prefix,(t||Fd).decode(`${Fd.prefix}${r}`)];case Fd.prefix:return[Fd.prefix,(t||Fd).decode(r)];case qm.prefix:return[qm.prefix,(t||qm).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}},Gk=(r,t,n)=>{const{prefix:i}=n;if(i!==Fd.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(i);if(null==o){const c=n.encode(r).slice(1);return t.set(i,c),c}return o},ob=(r,t,n)=>{const{prefix:i}=n,o=t.get(i);if(null==o){const c=n.encode(r);return t.set(i,c),c}return o},Wy=112,eS=18,SD=(r,t,n)=>{const i=Un(r),o=i+Un(t),c=new Uint8Array(o+n.byteLength);return vr(r,c,0),vr(t,c,i),c.set(n,o),c},b9=Symbol.for("@ipld/js-cid/CID");var Qm=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},Qp=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(s){return new Promise(function(d,B){!function o(c,s,d,B){Promise.resolve(B).then(function(C){c({value:C,done:d})},s)}(d,B,(s=r[c](s)).done,s.value)})}}},Kc=function(r){return this instanceof Kc?(this.v=r,this):new Kc(r)},e0=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),c=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(_e){i[_e]&&(o[_e]=function(Ce){return new Promise(function(Te,Pe){c.push([_e,Ce,Te,Pe])>1||d(_e,Ce)})})}function d(_e,Ce){try{!function B(_e){_e.value instanceof Kc?Promise.resolve(_e.value.v).then(C,b):K(c[0][2],_e)}(i[_e](Ce))}catch(Te){K(c[0][3],Te)}}function C(_e){d("next",_e)}function b(_e){d("throw",_e)}function K(_e,Ce){_e(Ce),c.shift(),c.length&&d(c[0][0],c[0][1])}};class S1{open(){return Qm(this,void 0,void 0,function*(){})}close(){return Qm(this,void 0,void 0,function*(){})}put(t,n,i){return Qm(this,void 0,void 0,function*(){return t})}get(t,n){return Qm(this,void 0,void 0,function*(){return new Uint8Array})}has(t,n){return Qm(this,void 0,void 0,function*(){return!1})}delete(t,n){return Qm(this,void 0,void 0,function*(){})}isEmpty(t){return Qm(this,void 0,void 0,function*(){return!0})}putMany(t,n){return e0(this,arguments,function*(){var o,c,s;try{for(var b,B=!0,C=Qp(t);!(o=(b=yield Kc(C.next())).done);B=!0){B=!1;const K=b.value;yield Kc(this.put(K.cid,K.block,n)),yield yield Kc(K.cid)}}catch(K){c={error:K}}finally{try{!B&&!o&&(s=C.return)&&(yield Kc(s.call(C)))}finally{if(c)throw c.error}}})}getMany(t,n){return e0(this,arguments,function*(){var o,c,s;try{for(var b,B=!0,C=Qp(t);!(o=(b=yield Kc(C.next())).done);B=!0){B=!1;const K=b.value;yield yield Kc({cid:K,block:yield Kc(this.get(K,n))})}}catch(K){c={error:K}}finally{try{!B&&!o&&(s=C.return)&&(yield Kc(s.call(C)))}finally{if(c)throw c.error}}})}getAll(t){return e0(this,arguments,function*(){var i,o,c,s;const d=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var b,B=!0,C=Qp(d);!(i=(b=yield Kc(C.next())).done);B=!0){s=b.value,B=!1;const[K,_e]=s;yield yield Kc({cid:oo.decode(K),block:_e})}}catch(K){o={error:K}}finally{try{!B&&!i&&(c=C.return)&&(yield Kc(c.call(C)))}finally{if(o)throw o.error}}})}deleteMany(t,n){return e0(this,arguments,function*(){var o,c,s;try{for(var b,B=!0,C=Qp(t);!(o=(b=yield Kc(C.next())).done);B=!0){B=!1;const K=b.value;yield Kc(this.delete(K,n)),yield yield Kc(K)}}catch(K){c={error:K}}finally{try{!B&&!o&&(s=C.return)&&(yield Kc(s.call(C)))}finally{if(c)throw c.error}}})}clear(){return Qm(this,void 0,void 0,function*(){})}}function M1(r,t){this.v=r,this.k=t}function Zr(r){return new M1(r,0)}function Po(r){return function(){return new t0(r.apply(this,arguments))}}function t0(r){var t,n;function i(c,s){try{var d=r[c](s),B=d.value,C=B instanceof M1;Promise.resolve(C?B.v:B).then(function(b){if(C){var K="return"===c?"return":"next";if(!B.k||b.done)return i(K,b);b=r[K](b).value}o(d.done?"return":"normal",b)},function(b){i("throw",b)})}catch(b){o("throw",b)}}function o(c,s){switch(c){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(c,s){return new Promise(function(d,B){var C={key:c,arg:s,resolve:d,reject:B,next:null};n?n=n.next=C:(t=n=C,i(c,s))})},"function"!=typeof r.return&&(this.return=void 0)}function uo(r){var t,n,i,o=2;for(typeof Symbol<"u"&&(n=Symbol.asyncIterator,i=Symbol.iterator);o--;){if(n&&null!=(t=r[n]))return t.call(r);if(i&&null!=(t=r[i]))return new em(t.call(r));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function em(r){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var i=n.done;return Promise.resolve(n.value).then(function(o){return{value:o,done:i}})}return(em=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(i){var o=this.s.return;return void 0===o?Promise.resolve({value:i,done:!0}):t(o.apply(this.s,arguments))},throw:function(i){var o=this.s.return;return void 0===o?Promise.reject(i):t(o.apply(this.s,arguments))}},new em(r)}t0.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},t0.prototype.next=function(r){return this._invoke("next",r)},t0.prototype.throw=function(r){return this._invoke("throw",r)},t0.prototype.return=function(r){return this._invoke("return",r)};var sb=E(5014);const tS=function MD(r,t=1){return t=Number(t),function A1(r){return null!=r[Symbol.asyncIterator]}(r)?Po(function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");var c,i=!1,o=!1;try{for(var d,s=uo(r);i=!(d=yield Zr(s.next())).done;i=!1)for(n.push(d.value);n.length>=t;)yield n.slice(0,t),n=n.slice(t)}catch(B){o=!0,c=B}finally{try{i&&null!=s.return&&(yield Zr(s.return()))}finally{if(o)throw c}}for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)})():function*(){let n=[];if(t<1&&(t=1),t!==Math.round(t))throw new Error("Batch size must be an integer");for(const i of r)for(n.push(i);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length>0;)yield n.slice(0,t),n=n.slice(t)}()};function nS(r){return Gy.apply(this,arguments)}function Gy(){return Gy=Po(function*(r,t=1){var o,n=!1,i=!1;try{for(var s,c=uo(tS(r,t));n=!(s=yield Zr(c.next())).done;n=!1){const B=s.value.map(function(){var C=(0,bt.A)(function*(b){return b().then(K=>({ok:!0,value:K}),K=>({ok:!1,err:K}))});return function(b){return C.apply(this,arguments)}}());for(let C=0;C<B.length;C++){const b=yield Zr(B[C]);if(!b.ok)throw b.err;yield b.value}}}catch(d){i=!0,o=d}finally{try{n&&null!=c.return&&(yield Zr(c.return()))}finally{if(i)throw o}}}),Gy.apply(this,arguments)}function T1(r,t){null==t&&(t=r.reduce((o,c)=>o+c.length,0));const n=$h(t);let i=0;for(const o of r)n.set(o,i),i+=o.length;return n}function I1(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}const D1=Symbol.for("@achingbrain/uint8arraylist");function n0(r,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let n=0;for(const i of r){const o=n+i.byteLength;if(t<o)return{buf:i,index:t-n};n=o}throw new RangeError("index is out of bounds")}function C1(r){return!!r?.[D1]}class r0{bufs;length;[D1]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let n=0;for(const i of t)if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.push(i);else{if(!C1(i))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.push(...i.bufs)}this.length+=n}prepend(...t){this.prependAll(t)}prependAll(t){let n=0;for(const i of t.reverse())if(i instanceof Uint8Array)n+=i.byteLength,this.bufs.unshift(i);else{if(!C1(i))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");n+=i.byteLength,this.bufs.unshift(...i.bufs)}this.length+=n}get(t){const n=n0(this.bufs,t);return n.buf[n.index]}set(t,n){const i=n0(this.bufs,t);i.buf[i.index]=n}write(t,n=0){if(t instanceof Uint8Array)for(let i=0;i<t.length;i++)this.set(n+i,t[i]);else{if(!C1(t))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let i=0;i<t.length;i++)this.set(n+i,t.get(i))}}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(t>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(t,n){const{bufs:i,length:o}=this._subList(t,n);return T1(i,o)}subarray(t,n){const{bufs:i,length:o}=this._subList(t,n);return 1===i.length?i[0]:T1(i,o)}sublist(t,n){const{bufs:i,length:o}=this._subList(t,n),c=new r0;return c.length=o,c.bufs=[...i],c}_subList(t,n){if((t=t??0)<0&&(t=this.length+t),(n=n??this.length)<0&&(n=this.length+n),t<0||n>this.length)throw new RangeError("index is out of bounds");if(t===n)return{bufs:[],length:0};if(0===t&&n===this.length)return{bufs:this.bufs,length:this.length};const i=[];let o=0;for(let c=0;c<this.bufs.length;c++){const s=this.bufs[c],d=o,B=d+s.byteLength;if(o=B,t>=B)continue;const C=t>=d&&t<B,b=n>d&&n<=B;if(C&&b){if(t===d&&n===B){i.push(s);break}const K=t-d;i.push(s.subarray(K,K+(n-t)));break}if(C){if(0===t){i.push(s);continue}i.push(s.subarray(t-d))}else{if(b){if(n===B){i.push(s);break}i.push(s.subarray(0,n-d));break}i.push(s)}}return{bufs:i,length:n-t}}indexOf(t,n=0){if(!(C1(t)||t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const i=t instanceof Uint8Array?t:t.subarray();if(n=Number(n??0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),0===t.length)return n>this.length?this.length:n;const o=i.byteLength;if(0===o)throw new TypeError("search must be at least 1 byte long");const s=new Int32Array(256);for(let K=0;K<256;K++)s[K]=-1;for(let K=0;K<o;K++)s[i[K]]=K;const d=s,B=this.byteLength-i.byteLength,C=i.byteLength-1;let b;for(let K=n;K<=B;K+=b){b=0;for(let _e=C;_e>=0;_e--){const Ce=this.get(K+_e);if(i[_e]!==Ce){b=Math.max(1,_e-d[Ce]);break}}if(0===b)return K}return-1}getInt8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt8(0)}setInt8(t,n){const i=$h(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt8(0,n),this.write(i,t)}getInt16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt16(0,n)}setInt16(t,n,i){const o=Kp(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt16(0,n,i),this.write(o,t)}getInt32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getInt32(0,n)}setInt32(t,n,i){const o=Kp(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt32(0,n,i),this.write(o,t)}getBigInt64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigInt64(0,n)}setBigInt64(t,n,i){const o=Kp(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigInt64(0,n,i),this.write(o,t)}getUint8(t){const n=this.subarray(t,t+1);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint8(0)}setUint8(t,n){const i=$h(1);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint8(0,n),this.write(i,t)}getUint16(t,n){const i=this.subarray(t,t+2);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint16(0,n)}setUint16(t,n,i){const o=Kp(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint16(0,n,i),this.write(o,t)}getUint32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getUint32(0,n)}setUint32(t,n,i){const o=Kp(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint32(0,n,i),this.write(o,t)}getBigUint64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getBigUint64(0,n)}setBigUint64(t,n,i){const o=Kp(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigUint64(0,n,i),this.write(o,t)}getFloat32(t,n){const i=this.subarray(t,t+4);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat32(0,n)}setFloat32(t,n,i){const o=Kp(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat32(0,n,i),this.write(o,t)}getFloat64(t,n){const i=this.subarray(t,t+8);return new DataView(i.buffer,i.byteOffset,i.byteLength).getFloat64(0,n)}setFloat64(t,n,i){const o=Kp(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat64(0,n,i),this.write(o,t)}equals(t){if(null==t||!(t instanceof r0)||t.bufs.length!==this.bufs.length)return!1;for(let n=0;n<this.bufs.length;n++)if(!I1(this.bufs[n],t.bufs[n]))return!1;return!0}static fromUint8Arrays(t,n){const i=new r0;return i.bufs=t,null==n&&(n=t.reduce((o,c)=>o+c.byteLength,0)),i.length=n,i}}const k1=(r={})=>{const t=r.chunkSize??262144;return function(){var n=Po(function*(o){let c=new r0,s=0,d=!1;var b,B=!1,C=!1;try{for(var _e,K=uo(o);B=!(_e=yield Zr(K.next())).done;B=!1){const Ce=_e.value;for(c.append(Ce),s+=Ce.length;s>=t;)if(yield c.slice(0,t),d=!0,t===c.length)c=new r0,s=0;else{const Te=new r0;Te.append(c.sublist(t)),c=Te,s-=t}}}catch(Ce){C=!0,b=Ce}finally{try{B&&null!=K.return&&(yield Zr(K.return()))}finally{if(C)throw b}}(!d||s>0)&&(yield c.subarray(0,s))});return function i(o){return n.apply(this,arguments)}}()};function tp(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}new Uint8Array(0);class qk{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Qk{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return ID(this,t)}}class eP{decoders;constructor(t){this.decoders=t}or(t){return ID(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function ID(r,t){return new eP({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class tP{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new qk(t,n,i),this.decoder=new Qk(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function DD({name:r,prefix:t,encode:n,decode:i}){return new tP(r,t,n,i)}function iS({name:r,prefix:t,alphabet:n}){const{encode:i,decode:o}=function Yk(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),s=c.charCodeAt(0);if(255!==n[s])throw new TypeError(c+" is ambiguous");n[s]=o}var d=r.length,B=r.charAt(0),C=Math.log(d)/Math.log(256),b=Math.log(256)/Math.log(d);function _e(Te){if("string"!=typeof Te)throw new TypeError("Expected String");if(0===Te.length)return new Uint8Array;var Pe=0;if(" "!==Te[Pe]){for(var ze=0,rt=0;Te[Pe]===B;)ze++,Pe++;for(var Xe=(Te.length-Pe)*C+1>>>0,Ze=new Uint8Array(Xe);Te[Pe];){var lt=n[Te.charCodeAt(Pe)];if(255===lt)return;for(var Et=0,pt=Xe-1;(0!==lt||Et<rt)&&-1!==pt;pt--,Et++)Ze[pt]=(lt+=d*Ze[pt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");rt=Et,Pe++}if(" "!==Te[Pe]){for(var Mt=Xe-rt;Mt!==Xe&&0===Ze[Mt];)Mt++;for(var Pt=new Uint8Array(ze+(Xe-Mt)),sn=ze;Mt!==Xe;)Pt[sn++]=Ze[Mt++];return Pt}}}return{encode:function K(Te){if(Te instanceof Uint8Array||(ArrayBuffer.isView(Te)?Te=new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength):Array.isArray(Te)&&(Te=Uint8Array.from(Te))),!(Te instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Te.length)return"";for(var Pe=0,ze=0,rt=0,Xe=Te.length;rt!==Xe&&0===Te[rt];)rt++,Pe++;for(var Ze=(Xe-rt)*b+1>>>0,lt=new Uint8Array(Ze);rt!==Xe;){for(var Et=Te[rt],pt=0,Mt=Ze-1;(0!==Et||pt<ze)&&-1!==Mt;Mt--,pt++)lt[Mt]=(Et+=256*lt[Mt]>>>0)%d>>>0,Et=Et/d>>>0;if(0!==Et)throw new Error("Non-zero carry");ze=pt,rt++}for(var Pt=Ze-ze;Pt!==Ze&&0===lt[Pt];)Pt++;for(var sn=B.repeat(Pe);Pt<Ze;++Pt)sn+=r.charAt(lt[Pt]);return sn},decodeUnsafe:_e,decode:function Ce(Te){var Pe=_e(Te);if(Pe)return Pe;throw new Error(`Non-${t} character`)}}}(n,r);return DD({prefix:t,name:r,encode:i,decode:c=>tp(o(c))})}function rp({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return DD({prefix:t,name:r,encode:o=>function rP(r,t,n){const i="="===t[t.length-1],o=(1<<n)-1;let c="",s=0,d=0;for(let B=0;B<r.length;++B)for(d=d<<8|r[B],s+=8;s>n;)s-=n,c+=t[o&d>>s];if(0!==s&&(c+=t[o&d<<n-s]),i)for(;c.length*n&7;)c+="=";return c}(o,i,n),decode:o=>function nP(r,t,n,i){const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const s=new Uint8Array(c*n/8|0);let d=0,B=0,C=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);B=B<<n|K,d+=n,d>=8&&(d-=8,s[C++]=255&B>>d)}if(d>=n||255&B<<8-d)throw new SyntaxError("Unexpected end of data");return s}(o,i,n,r)})}const P1=rp({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o0=(rp({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rp({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),rp({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),rp({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rp({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rp({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),rp({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rp({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),iS({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}));iS({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var aP=128,kD=-128,cP=Math.pow(2,31),dP=128,RD=127,OD=Math.pow(2,7),uP=Math.pow(2,14),fP=Math.pow(2,21),BD=Math.pow(2,28),B1=Math.pow(2,35),ND=Math.pow(2,42),aS=Math.pow(2,49),hP=Math.pow(2,56),s0=Math.pow(2,63);const Xy={encode:function PD(r,t,n){t=t||[];for(var i=n=n||0;r>=cP;)t[n++]=255&r|aP,r/=128;for(;r&kD;)t[n++]=255&r|aP,r>>>=7;return t[n]=0|r,PD.bytes=n-i+1,t},decode:function O1(r,i){var s,n=0,o=0,c=i=i||0,d=r.length;do{if(c>=d)throw O1.bytes=0,new RangeError("Could not decode varint");s=r[c++],n+=o<28?(s&RD)<<o:(s&RD)*Math.pow(2,o),o+=7}while(s>=dP);return O1.bytes=c-i,n},encodingLength:function(r){return r<OD?1:r<uP?2:r<fP?3:r<BD?4:r<B1?5:r<ND?6:r<aS?7:r<hP?8:r<s0?9:10}};function lS(r,t=0){return[Xy.decode(r,t),Xy.decode.bytes]}function N1(r,t,n=0){return Xy.encode(r,t,n),t}function L1(r){return Xy.encodingLength(r)}class FD{code;size;digest;bytes;constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}function a0(r,t){const{bytes:n,version:i}=r;return 0===i?function gP(r,t,n){const{prefix:i}=n;if(i!==o0.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(i);if(null==o){const c=n.encode(r).slice(1);return t.set(i,c),c}return o}(n,U1(r),t??o0.encoder):function vP(r,t,n){const{prefix:i}=n,o=t.get(i);if(null==o){const c=n.encode(r);return t.set(i,c),c}return o}(n,U1(r),t??P1.encoder)}const jD=new WeakMap;function U1(r){const t=jD.get(r);if(null==t){const n=new Map;return jD.set(r,n),n}return t}class Ta{code;version;multihash;bytes;"/";constructor(t,n,i,o){this.code=n,this.version=t,this.multihash=i,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==ab)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==bP)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Ta.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,i=function mP(r,t){const n=t.byteLength,i=L1(r),o=i+L1(n),c=new Uint8Array(o+n);return N1(r,c,0),N1(n,c,i),c.set(t,o),new FD(r,n,t,c)}(t,n);return Ta.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return Ta.equals(this,t)}static equals(t,n){return null!=n&&t.code===n.code&&t.version===n.version&&function M9(r,t){return r===t||r.code===t.code&&r.size===t.size&&t.bytes instanceof Uint8Array&&function TD(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let n=0;n<r.byteLength;n++)if(r[n]!==t[n])return!1;return!0}(r.bytes,t.bytes)}(t.multihash,n.multihash)}toString(t){return a0(this,t)}toJSON(){return{"/":a0(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(null==t)return null;const n=t;if(n instanceof Ta)return n;if(null!=n["/"]&&n["/"]===n.bytes||n.asCID===n){const{version:i,code:o,multihash:c,bytes:s}=n;return new Ta(i,o,c,s??F1(i,o,c.bytes))}if(!0===n[I9]){const{version:i,multihash:o,code:c}=n,s=function UD(r){const t=tp(r),[n,i]=lS(t),[o,c]=lS(t.subarray(i)),s=t.subarray(i+c);if(s.byteLength!==o)throw new Error("Incorrect length");return new FD(n,o,s,t)}(o);return Ta.create(i,c,s)}return null}static create(t,n,i){if("number"!=typeof n)throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:if(n!==ab)throw new Error(`Version 0 CID must use dag-pb (code: ${ab}) block encoding`);return new Ta(t,n,i,i.bytes);case 1:{const o=F1(t,n,i.bytes);return new Ta(t,n,i,o)}default:throw new Error("Invalid version")}}static createV0(t){return Ta.create(0,ab,t)}static createV1(t,n){return Ta.create(1,t,n)}static decode(t){const[n,i]=Ta.decodeFirst(t);if(0!==i.length)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=Ta.inspectBytes(t),i=n.size-n.multihashSize,o=tp(t.subarray(i,i+n.multihashSize));if(o.byteLength!==n.multihashSize)throw new Error("Incorrect length");const c=o.subarray(n.multihashSize-n.digestSize),s=new FD(n.multihashCode,n.digestSize,c,o);return[0===n.version?Ta.createV0(s):Ta.createV1(n.codec,s),t.subarray(n.size)]}static inspectBytes(t){let n=0;const i=()=>{const[K,_e]=lS(t.subarray(n));return n+=_e,K};let o=i(),c=ab;if(18===o?(o=0,n=0):c=i(),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const s=n,d=i(),B=i(),C=n+B;return{version:o,codec:c,multihashCode:d,digestSize:B,multihashSize:C-s,size:C}}static parse(t,n){const[i,o]=function yP(r,t){switch(r[0]){case"Q":return[o0.prefix,(t??o0).decode(`${o0.prefix}${r}`)];case o0.prefix:return[o0.prefix,(t??o0).decode(r)];case P1.prefix:return[P1.prefix,(t??P1).decode(r)];default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}(t,n),c=Ta.decode(o);if(0===c.version&&"Q"!==t[0])throw Error("Version 0 CID string must not include multibase prefix");return U1(c).set(i,t),c}}const ab=112,bP=18;function F1(r,t,n){const i=L1(r),o=i+L1(t),c=new Uint8Array(o+n.byteLength);return N1(r,c,0),N1(t,c,i),c.set(n,o),c}const I9=Symbol.for("@ipld/js-cid/CID"),D9=new TextDecoder;function cb(r,t){let n=0;for(let i=0;;i+=7){if(i>=64)throw new Error("protobuf: varint overflow");if(t>=r.length)throw new Error("protobuf: unexpected end of data");const o=r[t++];if(n+=i<28?(127&o)<<i:(127&o)*2**i,o<128)break}return[n,t]}function dS(r,t){let n;[n,t]=cb(r,t);const i=t+n;if(n<0||i<0)throw new Error("protobuf: invalid length");if(i>r.length)throw new Error("protobuf: unexpected end of data");return[r.subarray(t,i),i]}function wP(r,t){let n;return[n,t]=cb(r,t),[7&n,n>>3,t]}function C9(r){const t={},n=r.length;let i=0;for(;i<n;){let o,c;if([o,c,i]=wP(r,i),1===c){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==o)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,i]=dS(r,i)}else if(2===c){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==o)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let s;[s,i]=dS(r,i),t.Name=D9.decode(s)}else{if(3!==c)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${c}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==o)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,i]=cb(r,i)}}if(i>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const _P=new TextEncoder,KD=2**32,j1=2**31;function K1(r,t){let n=t.length;if("number"==typeof r.Tsize){if(r.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(r.Tsize))throw new Error("Tsize too large for encoding");n=lb(t,n,r.Tsize)-1,t[n]=24}if("string"==typeof r.Name){const i=_P.encode(r.Name);n-=i.length,t.set(i,n),n=lb(t,n,i.length)-1,t[n]=18}return r.Hash&&(n-=r.Hash.length,t.set(r.Hash,n),n=lb(t,n,r.Hash.length)-1,t[n]=10),t.length-n}function VD(r){let t=0;if(r.Hash){const n=r.Hash.length;t+=1+n+Yy(n)}if("string"==typeof r.Name){const n=_P.encode(r.Name).length;t+=1+n+Yy(n)}return"number"==typeof r.Tsize&&(t+=1+Yy(r.Tsize)),t}function lb(r,t,n){const i=t-=Yy(n);for(;n>=j1;)r[t++]=127&n|128,n/=128;for(;n>=128;)r[t++]=127&n|128,n>>>=7;return r[t]=n,i}function Yy(r){return r%2==0&&r++,Math.floor((function HD(r){let t=0;return r>=KD&&(r=Math.floor(r/KD),t=32),r>=65536&&(r>>>=16,t+=16),r>=256&&(r>>>=8,t+=8),t+Jy[r]}(r)+6)/7)}const Jy=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pu=["Data","Links"],jd=["Hash","Name","Tsize"],$1=new TextEncoder;function EP(r,t){if(r===t)return 0;const n=r.Name?$1.encode(r.Name):[],i=t.Name?$1.encode(t.Name):[];let o=n.length,c=i.length;for(let s=0,d=Math.min(o,c);s<d;++s)if(n[s]!==i[s]){o=n[s],c=i[s];break}return o<c?-1:c<o?1:0}function WD(r,t){return!Object.keys(r).some(n=>!t.includes(n))}function xP(r){if("object"==typeof r.asCID){const n=Ta.asCID(r);if(!n)throw new TypeError("Invalid DAG-PB form");return{Hash:n}}if("object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(r.Hash){let n=Ta.asCID(r.Hash);try{n||("string"==typeof r.Hash?n=Ta.parse(r.Hash):r.Hash instanceof Uint8Array&&(n=Ta.decode(r.Hash)))}catch(i){throw new TypeError(`Invalid DAG-PB form: ${i.message}`)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof r.Name&&(t.Name=r.Name),"number"==typeof r.Tsize&&(t.Tsize=r.Tsize),t}function c0(r){if((r instanceof Uint8Array||"string"==typeof r)&&(r={Data:r}),"object"!=typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==r.Data)if("string"==typeof r.Data)t.Data=$1.encode(r.Data);else{if(!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=r.Data}if(void 0!==r.Links){if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form");t.Links=r.Links.map(xP),t.Links.sort(EP)}else t.Links=[];return t}function uS(r){if(!r||"object"!=typeof r||Array.isArray(r)||r instanceof Uint8Array||r["/"]&&r["/"]===r.bytes)throw new TypeError("Invalid DAG-PB form");if(!WD(r,pu))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==r.Data&&!(r.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(r.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(let t=0;t<r.Links.length;t++){const n=r.Links[t];if(!n||"object"!=typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!WD(n,jd))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!=typeof n.Tsize||n.Tsize%1!=0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===EP(n,r.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function GD(r,t=[]){return c0({Data:r,Links:t})}function P9(r,t,n){return xP({Hash:n,Name:r,Tsize:t})}const fS="dag-pb",db=112;function nm(r){uS(r);const t={};return r.Links&&(t.Links=r.Links.map(n=>{const i={};return n.Hash&&(i.Hash=n.Hash.bytes),void 0!==n.Name&&(i.Name=n.Name),void 0!==n.Tsize&&(i.Tsize=n.Tsize),i})),r.Data&&(t.Data=r.Data),function $D(r){const t=function zD(r){let t=0;if(r.Data){const n=r.Data.length;t+=1+n+Yy(n)}if(r.Links)for(const n of r.Links){const i=VD(n);t+=1+i+Yy(i)}return t}(r),n=new Uint8Array(t);let i=t;if(r.Data&&(i-=r.Data.length,n.set(r.Data,i),i=lb(n,i,r.Data.length)-1,n[i]=10),r.Links)for(let o=r.Links.length-1;o>=0;o--){const c=K1(r.Links[o],n.subarray(0,i));i-=c,i=lb(n,i,c)-1,n[i]=18}return n}(t)}function th(r){const t=function V1(r){return r instanceof ArrayBuffer?new Uint8Array(r,0,r.byteLength):r}(r),n=function k9(r){const t=r.length;let i,c,n=0,o=!1;for(;n<t;){let d,B;if([d,B,n]=wP(r,n),2!==d)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${d}`);if(1===B){if(c)throw new Error("protobuf: (PBNode) duplicate Data section");[c,n]=dS(r,n),i&&(o=!0)}else{if(2!==B)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${B}`);{if(o)throw new Error("protobuf: (PBNode) duplicate Links section");let C;i||(i=[]),[C,n]=dS(r,n),i.push(C9(C))}}}if(n>t)throw new Error("protobuf: (PBNode) unexpected end of data");const s={};return c&&(s.Data=c),s.Links=i||[],s}(t),i={};return n.Data&&(i.Data=n.Data),n.Links&&(i.Links=n.Links.map(o=>{const c={};try{c.Hash=Ta.decode(o.Hash)}catch{}if(!c.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==o.Name&&(c.Name=o.Name),void 0!==o.Tsize&&(c.Tsize=o.Tsize),c})),i}var z1=E(3087);const ZD=Math.pow(2,7),hS=Math.pow(2,14),H1=Math.pow(2,21),pS=Math.pow(2,28),mS=Math.pow(2,35),W1=Math.pow(2,42),yS=Math.pow(2,49),os=128,hl=127;function l0(r){if(r<ZD)return 1;if(r<hS)return 2;if(r<H1)return 3;if(r<pS)return 4;if(r<mS)return 5;if(r<W1)return 6;if(r<yS)return 7;if(null!=Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function qy(r,t,n=0){switch(l0(r)){case 8:t[n++]=255&r|os,r/=128;case 7:t[n++]=255&r|os,r/=128;case 6:t[n++]=255&r|os,r/=128;case 5:t[n++]=255&r|os,r/=128;case 4:t[n++]=255&r|os,r>>>=7;case 3:t[n++]=255&r|os,r>>>=7;case 2:t[n++]=255&r|os,r>>>=7;case 1:t[n++]=255&r,r>>>=7;break;default:throw new Error("unreachable")}return t}const Qy=new Float32Array([-0]),Ia=new Uint8Array(Qy.buffer);function YD(r,t,n){Qy[0]=r,t[n]=Ia[0],t[n+1]=Ia[1],t[n+2]=Ia[2],t[n+3]=Ia[3]}const rm=new Float64Array([-0]),Zo=new Uint8Array(rm.buffer);function JD(r,t,n){rm[0]=r,t[n]=Zo[0],t[n+1]=Zo[1],t[n+2]=Zo[2],t[n+3]=Zo[3],t[n+4]=Zo[4],t[n+5]=Zo[5],t[n+6]=Zo[6],t[n+7]=Zo[7]}const e3=BigInt(Number.MAX_SAFE_INTEGER),X1=BigInt(Number.MIN_SAFE_INTEGER);class Da{lo;hi;constructor(t,n){this.lo=0|t,this.hi=0|n}toNumber(t=!1){if(!t&&this.hi>>>31>0){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(n+4294967296*i)}return this.lo+4294967296*this.hi}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){const n=1+~this.lo>>>0;let i=~this.hi>>>0;return 0===n&&(i=i+1>>>0),-(BigInt(n)+(BigInt(i)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){const t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){const t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){const t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return 0===i?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:i<128?9:10}static fromBigInt(t){if(0n===t)return im;if(t<e3&&t>X1)return this.fromNumber(Number(t));const n=t<0n;n&&(t=-t);let i=t>>32n,o=t-(i<<32n);return n&&(i=0n|~i,o=0n|~o,++o>Y1&&(o=0n,++i>Y1&&(i=0n))),new Da(Number(o),Number(i))}static fromNumber(t){if(0===t)return im;const n=t<0;n&&(t=-t);let i=t>>>0,o=(t-i)/4294967296>>>0;return n&&(o=~o>>>0,i=~i>>>0,++i>4294967295&&(i=0,++o>4294967295&&(o=0))),new Da(i,o)}static from(t){return"number"==typeof t?Da.fromNumber(t):"bigint"==typeof t?Da.fromBigInt(t):"string"==typeof t?Da.fromBigInt(BigInt(t)):null!=t.low||null!=t.high?new Da(t.low>>>0,t.high>>>0):im}}const im=new Da(0,0);im.toBigInt=function(){return 0n},im.zzEncode=im.zzDecode=function(){return this},im.length=function(){return 1};const Y1=4294967296n;function J1(r,t,n){const i=n;let o,c;for(let s=0;s<r.length;++s)o=r.charCodeAt(s),o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296==(64512&o)&&56320==(64512&(c=r.charCodeAt(s+1)))?(o=65536+((1023&o)<<10)+(1023&c),++s,t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128);return n-i}function Kd(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function q1(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}class n3{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(t=(t|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Kd(this,10);return t}int32(){return 0|this.uint32()}sint32(){const t=this.uint32();return t>>>1^-(1&t)}bool(){return 0!==this.uint32()}fixed32(){if(this.pos+4>this.len)throw Kd(this,4);return q1(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw Kd(this,4);return 0|q1(this.buf,this.pos+=4)}float(){if(this.pos+4>this.len)throw Kd(this,4);const t=function AP(r,t){return Ia[0]=r[t],Ia[1]=r[t+1],Ia[2]=r[t+2],Ia[3]=r[t+3],Qy[0]}(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw Kd(this,4);const t=function qD(r,t){return Zo[0]=r[t],Zo[1]=r[t+1],Zo[2]=r[t+2],Zo[3]=r[t+3],Zo[4]=r[t+4],Zo[5]=r[t+5],Zo[6]=r[t+6],Zo[7]=r[t+7],rm[0]}(this.buf,this.pos);return this.pos+=8,t}bytes(){const t=this.uint32(),n=this.pos,i=this.pos+t;if(i>this.len)throw Kd(this,t);return this.pos+=t,n===i?new Uint8Array(0):this.buf.subarray(n,i)}string(){const t=this.bytes();return function t3(r,t,n){if(n-t<1)return"";let o;const c=[];let d,s=0;for(;t<n;)d=r[t++],d<128?c[s++]=d:d>191&&d<224?c[s++]=(31&d)<<6|63&r[t++]:d>239&&d<365?(d=((7&d)<<18|(63&r[t++])<<12|(63&r[t++])<<6|63&r[t++])-65536,c[s++]=55296+(d>>10),c[s++]=56320+(1023&d)):c[s++]=(15&d)<<12|(63&r[t++])<<6|63&r[t++],s>8191&&((o??(o=[])).push(String.fromCharCode.apply(String,c)),s=0);return null!=o?(s>0&&o.push(String.fromCharCode.apply(String,c.slice(0,s))),o.join("")):String.fromCharCode.apply(String,c.slice(0,s))}(t,0,t.length)}skip(t){if("number"==typeof t){if(this.pos+t>this.len)throw Kd(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw Kd(this)}while(128&this.buf[this.pos++]);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){const t=new Da(0,0);let n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw Kd(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw Kd(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw Kd(this,8);const t=q1(this.buf,this.pos+=4),n=q1(this.buf,this.pos+=4);return new Da(t,n)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){const t=function Z1(r,t){let n=r[t],i=0;if(i+=n&hl,n<os||(n=r[t+1],i+=(n&hl)<<7,n<os)||(n=r[t+2],i+=(n&hl)<<14,n<os)||(n=r[t+3],i+=(n&hl)<<21,n<os)||(n=r[t+4],i+=(n&hl)*pS,n<os)||(n=r[t+5],i+=(n&hl)*mS,n<os)||(n=r[t+6],i+=(n&hl)*W1,n<os)||(n=r[t+7],i+=(n&hl)*yS,n<os))return i;throw new RangeError("Could not decode varint")}(this.buf,this.pos);return this.pos+=l0(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}}function gS(r,t,n){const i=function IP(r){return new n3(r instanceof Uint8Array?r:r.subarray())}(r);return t.decode(i,void 0,n)}class eg{fn;len;next;val;constructor(t,n,i){this.fn=t,this.len=n,this.next=void 0,this.val=i}}function Q1(){}class zi{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}}const r3=function DP(r){const t=r??8192,n=t>>>1;let i,o=t;return function(s){if(s<1||s>n)return $h(s);o+s>t&&(i=$h(t),o=0);const d=i.subarray(o,o+=s);return 7&o&&(o=1+(7|o)),d}}();class om{len;head;tail;states;constructor(){this.len=0,this.head=new eg(Q1,0,0),this.tail=this.head,this.states=null}_push(t,n,i){return this.tail=this.tail.next=new eg(t,n,i),this.len+=n,this}uint32(t){return this.len+=(this.tail=this.tail.next=new CP((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(d0,10,Da.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){const n=Da.fromBigInt(t);return this._push(d0,n.length(),n)}uint64Number(t){return this._push(qy,l0(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){const n=Da.fromBigInt(t).zzEncode();return this._push(d0,n.length(),n)}sint64Number(t){const n=Da.fromNumber(t).zzEncode();return this._push(d0,n.length(),n)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(eE,1,t?1:0)}fixed32(t){return this._push(Ef,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){const n=Da.fromBigInt(t);return this._push(Ef,4,n.lo)._push(Ef,4,n.hi)}fixed64Number(t){const n=Da.fromNumber(t);return this._push(Ef,4,n.lo)._push(Ef,4,n.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(YD,4,t)}double(t){return this._push(JD,8,t)}bytes(t){const n=t.length>>>0;return 0===n?this._push(eE,1,0):this.uint32(n)._push(vS,n,t)}string(t){const n=function ub(r){let t=0,n=0;for(let i=0;i<r.length;++i)n=r.charCodeAt(i),n<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&r.charCodeAt(i+1))?(++i,t+=4):t+=3;return t}(t);return 0!==n?this.uint32(n)._push(J1,n,t):this._push(eE,1,0)}fork(){return this.states=new zi(this),this.head=this.tail=new eg(Q1,0,0),this.len=0,this}reset(){return null!=this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new eg(Q1,0,0),this.len=0),this}ldelim(){const t=this.head,n=this.tail,i=this.len;return this.reset().uint32(i),0!==i&&(this.tail.next=t.next,this.tail=n,this.len+=i),this}finish(){let t=this.head.next;const n=function i3(r){return null!=globalThis.Buffer?$h(r):r3(r)}(this.len);let i=0;for(;null!=t;)t.fn(t.val,n,i),i+=t.len,t=t.next;return n}}function eE(r,t,n){t[n]=255&r}function o3(r,t,n){for(;r>127;)t[n++]=127&r|128,r>>>=7;t[n]=r}class CP extends eg{next;constructor(t,n){super(o3,t,n),this.next=void 0}}function d0(r,t,n){for(;0!==r.hi;)t[n++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[n++]=127&r.lo|128,r.lo=r.lo>>>7;t[n++]=r.lo}function Ef(r,t,n){t[n]=255&r,t[n+1]=r>>>8&255,t[n+2]=r>>>16&255,t[n+3]=r>>>24}function vS(r,t,n){t.set(r,n)}function fb(r,t,n){t.set(r,n)}function s3(r,t,n){r.length<40?J1(r,t,n):null!=t.utf8Write?t.utf8Write(r,n):t.set($p(r),n)}function hb(r,t){const n=function bS(){return new om}();return t.encode(r,n,{lengthDelimited:!1}),n.finish()}null!=globalThis.Buffer&&(om.prototype.bytes=function(r){const t=r.length>>>0;return this.uint32(t),t>0&&this._push(fb,t,r),this},om.prototype.string=function(r){const t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(s3,t,r),this});var nh,mb,a3,pb=function(r){return r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32",r}(pb||{});function wS(r,t,n,i){return{name:r,type:t,encode:n,decode:i}}function ES(r,t){return wS("message",pb.LENGTH_DELIMITED,r,t)}Error,function(r){let t;var o;let n,i;(o=t=r.DataType||(r.DataType={})).Raw="Raw",o.Directory="Directory",o.File="File",o.Metadata="Metadata",o.Symlink="Symlink",o.HAMTShard="HAMTShard",function(o){o[o.Raw=0]="Raw",o[o.Directory=1]="Directory",o[o.File=2]="File",o[o.Metadata=3]="Metadata",o[o.Symlink=4]="Symlink",o[o.HAMTShard=5]="HAMTShard"}(n||(n={})),function(o){o.codec=()=>function _S(r){function t(o){if(null==r[o.toString()])throw new Error("Invalid enum value");return r[o]}return wS("enum",pb.VARINT,function(c,s){const d=t(c);s.int32(d)},function(c){return t(c.int32())})}(n)}(t=r.DataType||(r.DataType={})),r.codec=()=>(null==i&&(i=ES((o,c,s={})=>{if(!1!==s.lengthDelimited&&c.fork(),null!=o.Type&&(c.uint32(8),r.DataType.codec().encode(o.Type,c)),null!=o.Data&&(c.uint32(18),c.bytes(o.Data)),null!=o.filesize&&(c.uint32(24),c.uint64(o.filesize)),null!=o.blocksizes)for(const d of o.blocksizes)c.uint32(32),c.uint64(d);null!=o.hashType&&(c.uint32(40),c.uint64(o.hashType)),null!=o.fanout&&(c.uint32(48),c.uint64(o.fanout)),null!=o.mode&&(c.uint32(56),c.uint32(o.mode)),null!=o.mtime&&(c.uint32(66),mb.codec().encode(o.mtime,c)),!1!==s.lengthDelimited&&c.ldelim()},(o,c)=>{const s={blocksizes:[]},d=null==c?o.len:o.pos+c;for(;o.pos<d;){const B=o.uint32();switch(B>>>3){case 1:s.Type=r.DataType.codec().decode(o);break;case 2:s.Data=o.bytes();break;case 3:s.filesize=o.uint64();break;case 4:s.blocksizes.push(o.uint64());break;case 5:s.hashType=o.uint64();break;case 6:s.fanout=o.uint64();break;case 7:s.mode=o.uint32();break;case 8:s.mtime=mb.codec().decode(o,o.uint32());break;default:o.skipType(7&B)}}return s})),i),r.encode=o=>hb(o,r.codec()),r.decode=o=>gS(o,r.codec())}(nh||(nh={})),function(r){let t;r.codec=()=>(null==t&&(t=ES((n,i,o={})=>{!1!==o.lengthDelimited&&i.fork(),null!=n.Seconds&&(i.uint32(8),i.int64(n.Seconds)),null!=n.FractionalNanoseconds&&(i.uint32(21),i.fixed32(n.FractionalNanoseconds)),!1!==o.lengthDelimited&&i.ldelim()},(n,i)=>{const o={},c=null==i?n.len:n.pos+i;for(;n.pos<c;){const s=n.uint32();switch(s>>>3){case 1:o.Seconds=n.int64();break;case 2:o.FractionalNanoseconds=n.fixed32();break;default:n.skipType(7&s)}}return o})),t),r.encode=n=>hb(n,r.codec()),r.decode=n=>gS(n,r.codec())}(mb||(mb={})),function(r){let t;r.codec=()=>(null==t&&(t=ES((n,i,o={})=>{!1!==o.lengthDelimited&&i.fork(),null!=n.MimeType&&(i.uint32(10),i.string(n.MimeType)),!1!==o.lengthDelimited&&i.ldelim()},(n,i)=>{const o={},c=null==i?n.len:n.pos+i;for(;n.pos<c;){const s=n.uint32();s>>>3==1?o.MimeType=n.string():n.skipType(7&s)}return o})),t),r.encode=n=>hb(n,r.codec()),r.decode=n=>gS(n,r.codec())}(a3||(a3={}));const c3={Raw:"raw",Directory:"directory",File:"file",Metadata:"metadata",Symlink:"symlink",HAMTShard:"hamt-sharded-directory"},kP=["directory","hamt-sharded-directory"],l3=parseInt("0644",8),xS=parseInt("0755",8);class Gu{static unmarshal(t){const n=nh.decode(t),i=new Gu({type:c3[null!=n.Type?n.Type.toString():"File"],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:null!=n.mtime?{secs:n.mtime.Seconds??0n,nsecs:n.mtime.FractionalNanoseconds}:void 0,fanout:n.fanout});return i._originalMode=n.mode??0,i}type;data;blockSizes;hashType;fanout;mtime;_mode;_originalMode;constructor(t={type:"file"}){const{type:n,data:i,blockSizes:o,hashType:c,fanout:s,mtime:d,mode:B}=t;if(null!=n&&!Object.values(c3).includes(n))throw z1(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n??"file",this.data=i,this.hashType=c,this.fanout=s,this.blockSizes=o??[],this._originalMode=0,this.mode=B,this.mtime=d}set mode(t){this._mode=null==t?this.isDirectory()?xS:l3:4095&t}get mode(){return this._mode}isDirectory(){return kP.includes(this.type)}addBlockSize(t){this.blockSizes.push(t)}removeBlockSize(t){this.blockSizes.splice(t,1)}fileSize(){if(this.isDirectory())return 0n;let t=0n;return this.blockSizes.forEach(n=>{t+=n}),null!=this.data&&(t+=BigInt(this.data.length)),t}marshal(){let t;switch(this.type){case"raw":t=nh.DataType.Raw;break;case"directory":t=nh.DataType.Directory;break;case"file":t=nh.DataType.File;break;case"metadata":t=nh.DataType.Metadata;break;case"symlink":t=nh.DataType.Symlink;break;case"hamt-sharded-directory":t=nh.DataType.HAMTShard;break;default:throw z1(new Error(`Type: ${t} is not valid`),"ERR_INVALID_TYPE")}let i,o,n=this.data;return(null==this.data||0===this.data.length)&&(n=void 0),null!=this.mode&&(i=4294963200&this._originalMode|(this.mode??0),i===l3&&!this.isDirectory()&&(i=void 0),i===xS&&this.isDirectory()&&(i=void 0)),null!=this.mtime&&(o={Seconds:this.mtime.secs,FractionalNanoseconds:this.mtime.nsecs}),nh.encode({Type:t,Data:n,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:i,mtime:o})}}const PP="raw",yb=85,$d=r=>Fe(r),RP=r=>Fe(r);class Zu extends Event{type;detail;constructor(t,n){super(t),this.type=t,this.detail=n}}const gb=function(){var r=(0,bt.A)(function*(t,n,i){null==i.codec&&(i.codec=J);const o=yield Rn.digest(t),c=oo.create(i.cidVersion,i.codec.code,o);return yield n.put(c,t,i),c});return function(n,i,o){return r.apply(this,arguments)}}();function SS(r){return function(){var t=Po(function*(i,o){let c=0n;var B,s=!1,d=!1;try{for(var b,C=uo(i.content);s=!(b=yield Zr(C.next())).done;s=!1){let K=b.value;yield(0,bt.A)(function*(){let _e;const Ce={codec:J,cidVersion:r.cidVersion,onProgress:r.onProgress};r.rawLeaves?(Ce.codec=oe,Ce.cidVersion=1):(_e=new Gu({type:r.leafType,data:K}),K=nm({Data:_e.marshal(),Links:[]}));const Te=yield gb(K,o,Ce);return c+=BigInt(K.byteLength),r.onProgress?.(new Zu("unixfs:importer:progress:file:write",{bytesWritten:c,cid:Te,path:i.path})),{cid:Te,unixfs:_e,size:BigInt(K.length),block:K}})}}catch(K){d=!0,B=K}finally{try{s&&null!=C.return&&(yield Zr(C.return()))}finally{if(d)throw B}}});return function n(i,o){return t.apply(this,arguments)}}()}function xf(r){var t={},n=!1;function i(o,c){return n=!0,{done:!1,value:new M1(c=new Promise(function(s){s(r[o](c))}),1)}}return t[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(o){return n?(n=!1,o):i("next",o)},"function"==typeof r.throw&&(t.throw=function(o){if(n)throw n=!1,o;return i("throw",o)}),"function"==typeof r.return&&(t.return=function(o){return n?(n=!1,o):i("return",o)}),t}const OP=function(){var r=(0,bt.A)(function*(t,n,i){const o=new Gu({type:"directory",mtime:t.mtime,mode:t.mode}),c=nm(c0({Data:o.marshal()}));return{cid:yield gb(c,n,i),path:t.path,unixfs:o,size:BigInt(c.length),originalPath:t.originalPath,block:c}});return function(n,i,o){return r.apply(this,arguments)}}();function MS(){return(MS=Po(function*(r,t,n){let o,i=-1;var d,c=!1,s=!1;try{for(var C,B=uo(nS(n.bufferImporter(r,t),n.blockWriteConcurrency));c=!(C=yield Zr(B.next())).done;c=!1){const b=C.value;i++,0!==i?(1===i&&null!=o&&(yield{...o,block:void 0,single:void 0},o=void 0),yield{...b,block:void 0}):o={...b,single:!0}}}catch(b){s=!0,d=b}finally{try{c&&null!=B.return&&(yield Zr(B.return()))}finally{if(s)throw d}}null!=o&&(yield o)})).apply(this,arguments)}function AS(r){return!0===r.single}const NP=(r,t,n)=>function(){var o=(0,bt.A)(function*(c){if(1===c.length&&AS(c[0])&&n.reduceSingleLeafToSelf){const K=c[0];let _e=K.block;return AS(K)&&(void 0!==r.mtime||void 0!==r.mode)&&(K.unixfs=new Gu({type:"file",mtime:r.mtime,mode:r.mode,data:K.block}),_e={Data:K.unixfs.marshal(),Links:[]},K.block=nm(c0(_e)),K.cid=yield gb(K.block,t,{...n,cidVersion:n.cidVersion}),K.size=BigInt(K.block.length)),n.onProgress?.(new Zu("unixfs:importer:progress:file:layout",{cid:K.cid,path:K.originalPath})),{cid:K.cid,path:r.path,unixfs:K.unixfs,size:K.size,originalPath:K.originalPath}}const s=new Gu({type:"file",mtime:r.mtime,mode:r.mode}),d=c.filter(K=>K.cid.code===yb&&K.size>0||null!=K.unixfs&&null==K.unixfs.data&&K.unixfs.fileSize()>0n||!!K.unixfs?.data?.length).map(K=>K.cid.code===yb?(s.addBlockSize(K.size),{Name:"",Tsize:Number(K.size),Hash:K.cid}):(s.addBlockSize(null==K.unixfs||null==K.unixfs.data?K.unixfs?.fileSize()??0n:BigInt(K.unixfs.data.length)),{Name:"",Tsize:Number(K.size),Hash:K.cid})),B={Data:s.marshal(),Links:d},C=nm(c0(B)),b=yield gb(C,t,n);return n.onProgress?.(new Zu("unixfs:importer:progress:file:layout",{cid:b,path:r.originalPath})),{cid:b,path:r.path,unixfs:s,size:BigInt(C.length+B.Links.reduce((K,_e)=>K+(_e.Tsize??0),0)),originalPath:r.originalPath,block:C}});return function(s){return o.apply(this,arguments)}}(),LP=function(){var r=(0,bt.A)(function*(t,n,i){return i.layout(function BP(r,t,n){return MS.apply(this,arguments)}(t,n,i),NP(t,n,i))});return function(n,i,o){return r.apply(this,arguments)}}();function FP(r){try{if(r instanceof Uint8Array)return Po(function*(){yield r})();if(function TS(r){return Symbol.iterator in r}(r))return Po(function*(){yield*xf(uo(r))})();if(function UP(r){return Symbol.asyncIterator in r}(r))return r}catch{throw sb(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}throw sb(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}function KP(r){return null!=r.content}function d3(r){return null!=globalThis.Buffer?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}const vb=(new Uint8Array(0),r=>{if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")});class tE{constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class kS{constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return p3(this,t)}}class ip{constructor(t){this.decoders=t}or(t){return p3(this,t)}decode(t){const i=this.decoders[t[0]];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const p3=(r,t)=>new ip({...r.decoders||{[r.prefix]:r},...t.decoders||{[t.prefix]:t}});class WP{constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new tE(t,n,i),this.decoder=new kS(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const tg=({name:r,prefix:t,encode:n,decode:i})=>new WP(r,t,n,i),bb=({prefix:r,name:t,alphabet:n})=>{const{encode:i,decode:o}=function rh(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),s=c.charCodeAt(0);if(255!==n[s])throw new TypeError(c+" is ambiguous");n[s]=o}var d=r.length,B=r.charAt(0),C=Math.log(d)/Math.log(256),b=Math.log(256)/Math.log(d);function _e(Te){if("string"!=typeof Te)throw new TypeError("Expected String");if(0===Te.length)return new Uint8Array;var Pe=0;if(" "!==Te[Pe]){for(var ze=0,rt=0;Te[Pe]===B;)ze++,Pe++;for(var Xe=(Te.length-Pe)*C+1>>>0,Ze=new Uint8Array(Xe);Te[Pe];){var lt=n[Te.charCodeAt(Pe)];if(255===lt)return;for(var Et=0,pt=Xe-1;(0!==lt||Et<rt)&&-1!==pt;pt--,Et++)Ze[pt]=(lt+=d*Ze[pt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");rt=Et,Pe++}if(" "!==Te[Pe]){for(var Mt=Xe-rt;Mt!==Xe&&0===Ze[Mt];)Mt++;for(var Pt=new Uint8Array(ze+(Xe-Mt)),sn=ze;Mt!==Xe;)Pt[sn++]=Ze[Mt++];return Pt}}}return{encode:function K(Te){if(Te instanceof Uint8Array||(ArrayBuffer.isView(Te)?Te=new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength):Array.isArray(Te)&&(Te=Uint8Array.from(Te))),!(Te instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Te.length)return"";for(var Pe=0,ze=0,rt=0,Xe=Te.length;rt!==Xe&&0===Te[rt];)rt++,Pe++;for(var Ze=(Xe-rt)*b+1>>>0,lt=new Uint8Array(Ze);rt!==Xe;){for(var Et=Te[rt],pt=0,Mt=Ze-1;(0!==Et||pt<ze)&&-1!==Mt;Mt--,pt++)lt[Mt]=(Et+=256*lt[Mt]>>>0)%d>>>0,Et=Et/d>>>0;if(0!==Et)throw new Error("Non-zero carry");ze=pt,rt++}for(var Pt=Ze-ze;Pt!==Ze&&0===lt[Pt];)Pt++;for(var sn=B.repeat(Pe);Pt<Ze;++Pt)sn+=r.charAt(lt[Pt]);return sn},decodeUnsafe:_e,decode:function Ce(Te){var Pe=_e(Te);if(Pe)return Pe;throw new Error(`Non-${t} character`)}}}(n,t);return tg({prefix:r,name:t,encode:i,decode:c=>vb(o(c))})},va=({name:r,prefix:t,bitsPerChar:n,alphabet:i})=>tg({prefix:t,name:r,encode:o=>((r,t,n)=>{const i="="===t[t.length-1],o=(1<<n)-1;let c="",s=0,d=0;for(let B=0;B<r.length;++B)for(d=d<<8|r[B],s+=8;s>n;)s-=n,c+=t[o&d>>s];if(s&&(c+=t[o&d<<n-s]),i)for(;c.length*n&7;)c+="=";return c})(o,i,n),decode:o=>((r,t,n,i)=>{const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const s=new Uint8Array(c*n/8|0);let d=0,B=0,C=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);B=B<<n|K,d+=n,d>=8&&(d-=8,s[C++]=255&B>>d)}if(d>=n||255&B<<8-d)throw new SyntaxError("Unexpected end of data");return s})(o,i,n,r)}),rg=bb({prefix:"9",name:"base10",alphabet:"0123456789"}),PS=va({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),wb=va({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),y3=va({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),RS=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),GP=RS.reduce((r,t,n)=>(r[n]=t,r),[]),ZP=RS.reduce((r,t,n)=>(r[t.codePointAt(0)]=n,r),[]),JP=tg({prefix:"\u{1f680}",name:"base256emoji",encode:function XP(r){return r.reduce((t,n)=>t+GP[n],"")},decode:function YP(r){const t=[];for(const n of r){const i=ZP[n.codePointAt(0)];if(void 0===i)throw new Error(`Non-base256emoji character: ${n}`);t.push(i)}return new Uint8Array(t)}}),_b=va({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),g3=va({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),qP=va({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),nE=va({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),QP=va({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),v3=va({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eR=va({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),b3=va({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),tR=va({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),nR=bb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),w3=bb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Sf=bb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_3=bb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Eb=va({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),xb=va({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Sb=va({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),rR=va({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),iR=va({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),oR=tg({prefix:"\0",name:"identity",encode:r=>(r=>(new TextDecoder).decode(r))(r),decode:r=>(r=>(new TextEncoder).encode(r))(r)}),rE=new TextEncoder,OS=new TextDecoder,sR="json",B9=512,N9=r=>rE.encode(JSON.stringify(r)),aR=r=>JSON.parse(OS.decode(r)),cR="raw",L9=85,lR=r=>vb(r),U9=r=>vb(r);var E3=128,BS=-128,Mb=Math.pow(2,31),fR=Math.pow(2,7),Ab=Math.pow(2,14),S3=Math.pow(2,21),M3=Math.pow(2,28),A3=Math.pow(2,35),T3=Math.pow(2,42),hR=Math.pow(2,49),pR=Math.pow(2,56),mR=Math.pow(2,63);const aE_encode=function iE(r,t,n){t=t||[];for(var i=n=n||0;r>=Mb;)t[n++]=255&r|E3,r/=128;for(;r&BS;)t[n++]=255&r|E3,r>>>=7;return t[n]=0|r,iE.bytes=n-i+1,t},aE_encodingLength=function(r){return r<fR?1:r<Ab?2:r<S3?3:r<M3?4:r<A3?5:r<T3?6:r<hR?7:r<pR?8:r<mR?9:10},Ib=(r,t,n=0)=>(aE_encode(r,t,n),t),Db=r=>aE_encodingLength(r),Cb=(r,t)=>{const n=t.byteLength,i=Db(r),o=i+Db(n),c=new Uint8Array(o+n);return Ib(r,c,0),Ib(n,c,i),c.set(t,o),new kb(r,n,t,c)};class kb{constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}const D3=vb,wR={code:0,name:"identity",encode:D3,digest:r=>Cb(0,D3(r))},C3=({name:r,code:t,encode:n})=>new _R(r,t,n);class _R{constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?Cb(this.code,n):n.then(i=>Cb(this.code,i))}throw Error("Unknown type, must be binary type")}}const cE=r=>function(){var t=(0,bt.A)(function*(n){return new Uint8Array(yield crypto.subtle.digest(r,n))});return function(n){return t.apply(this,arguments)}}(),Rb=C3({name:"sha2-256",code:18,encode:cE("SHA-256")}),k3=C3({name:"sha2-512",code:19,encode:cE("SHA-512")});Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const US={...h,...pe,...u,...se,...ae,...ve,...we,...De,...k,...le};function N3(r,t,n,i){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:n},decoder:{decode:i}}}const L3=N3("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>(new TextEncoder).encode(r.substring(1))),FS=N3("ascii","a",r=>{let t="a";for(let n=0;n<r.length;n++)t+=String.fromCharCode(r[n]);return t},r=>{const t=function SR(r=0){return null!=globalThis.Buffer?.allocUnsafe?d3(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}((r=r.substring(1)).length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t}),MR={utf8:L3,"utf-8":L3,hex:US.base16,latin1:FS,ascii:FS,binary:FS,...US};function AR(r,t="utf8"){const n=MR[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode(`${n.prefix}${r}`):d3(globalThis.Buffer.from(r,"utf-8"))}const TR=()=>function(){var r=Po(function*(n){var c,i=!1,o=!1;try{for(var d,s=uo(n);i=!(d=yield Zr(s.next())).done;i=!1){const B=d.value;if(void 0===B.length)throw sb(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof B||B instanceof String)yield AR(B.toString());else if(Array.isArray(B))yield Uint8Array.from(B);else{if(!(B instanceof Uint8Array))throw sb(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield B}}}catch(B){o=!0,c=B}finally{try{i&&null!=s.return&&(yield Zr(s.return()))}finally{if(o)throw c}}});return function t(n){return r.apply(this,arguments)}}(),u0=174;function Bb(r){const t=r?.maxChildrenPerNode??u0;return function(){var n=(0,bt.A)(function*(o,c){const s=[];var C,d=!1,B=!1;try{for(var K,b=uo(tS(o,t));d=!(K=yield b.next()).done;d=!1){const _e=K.value;s.push(yield c(_e))}}catch(_e){B=!0,C=_e}finally{try{d&&null!=b.return&&(yield b.return())}finally{if(B)throw C}}return s.length>1?i(s,c):s[0]});function i(o,c){return n.apply(this,arguments)}return i}()}class Nb{options;root;dir;path;dirty;flat;parent;parentKey;unixfs;mode;mtime;cid;size;nodeSize;constructor(t,n){this.options=n??{},this.root=t.root,this.dir=t.dir,this.path=t.path,this.dirty=t.dirty,this.flat=t.flat,this.parent=t.parent,this.parentKey=t.parentKey,this.unixfs=t.unixfs,this.mode=t.mode,this.mtime=t.mtime}}const $S=oo.parse("QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn"),VS=oo.parse("zdj7WbTaiJT1fgatdet9Ei9iDB5hdCxkbVyhyh8YTUnXMiwYi");class zS extends Nb{_children;constructor(t,n){super(t,n),this._children=new Map}put(t,n){var i=this;return(0,bt.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,i._children.set(t,n)})()}get(t){var n=this;return(0,bt.A)(function*(){return Promise.resolve(n._children.get(t))})()}childCount(){return this._children.size}directChildrenCount(){return this.childCount()}onlyChild(){return this._children.values().next().value}eachChildSeries(){var t=this;return Po(function*(){for(const[n,i]of t._children.entries())yield{key:n,child:i}})()}estimateNodeSize(){if(void 0!==this.nodeSize)return this.nodeSize;this.nodeSize=0;for(const[t,n]of this._children.entries())null!=n.size&&null!=n.cid&&(this.nodeSize+=t.length+(1===this.options.cidVersion?VS.bytes.byteLength:$S.bytes.byteLength));return this.nodeSize}flush(t){var n=this;return Po(function*(){const i=[];for(const[Te,Pe]of n._children.entries()){let ze=Pe;if(Pe instanceof Nb){var s,o=!1,c=!1;try{for(var B,d=uo(Pe.flush(t));o=!(B=yield Zr(d.next())).done;o=!1){const rt=B.value;ze=rt,yield rt}}catch(rt){c=!0,s=rt}finally{try{o&&null!=d.return&&(yield Zr(d.return()))}finally{if(c)throw s}}}null!=ze.size&&null!=ze.cid&&i.push({Name:Te,Tsize:Number(ze.size),Hash:ze.cid})}const C=new Gu({type:"directory",mtime:n.mtime,mode:n.mode}),b={Data:C.marshal(),Links:i},K=nm(c0(b)),_e=yield Zr(gb(K,t,n.options)),Ce=K.length+b.Links.reduce((Te,Pe)=>Te+(null==Pe.Tsize?0:Pe.Tsize),0);n.cid=_e,n.size=Ce,yield{cid:_e,unixfs:C,path:n.path,size:BigInt(Ce)}})()}}const IR=new Uint8Array(0);function j3(r){const t=r.match(/../g);return null!=t?new Uint8Array(t.map(n=>parseInt(n,16))):IR}class Lb{name;prefix;baseEncode;constructor(t,n,i){this.name=t,this.prefix=n,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class W9{name;prefix;baseDecode;prefixCodePoint;constructor(t,n,i){if(this.name=t,this.prefix=n,void 0===n.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=i}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return V3(this,t)}}class $3{decoders;constructor(t){this.decoders=t}or(t){return V3(this,t)}decode(t){const i=this.decoders[t[0]];if(null!=i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function V3(r,t){return new $3({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}class z3{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,n,i,o){this.name=t,this.prefix=n,this.baseEncode=i,this.baseDecode=o,this.encoder=new Lb(t,n,i),this.decoder=new W9(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function H3({name:r,prefix:t,encode:n,decode:i}){return new z3(r,t,n,i)}function HS({name:r,prefix:t,alphabet:n}){const{encode:i,decode:o}=function kR(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),i=0;i<n.length;i++)n[i]=255;for(var o=0;o<r.length;o++){var c=r.charAt(o),s=c.charCodeAt(0);if(255!==n[s])throw new TypeError(c+" is ambiguous");n[s]=o}var d=r.length,B=r.charAt(0),C=Math.log(d)/Math.log(256),b=Math.log(256)/Math.log(d);function _e(Te){if("string"!=typeof Te)throw new TypeError("Expected String");if(0===Te.length)return new Uint8Array;var Pe=0;if(" "!==Te[Pe]){for(var ze=0,rt=0;Te[Pe]===B;)ze++,Pe++;for(var Xe=(Te.length-Pe)*C+1>>>0,Ze=new Uint8Array(Xe);Te[Pe];){var lt=n[Te.charCodeAt(Pe)];if(255===lt)return;for(var Et=0,pt=Xe-1;(0!==lt||Et<rt)&&-1!==pt;pt--,Et++)Ze[pt]=(lt+=d*Ze[pt]>>>0)%256>>>0,lt=lt/256>>>0;if(0!==lt)throw new Error("Non-zero carry");rt=Et,Pe++}if(" "!==Te[Pe]){for(var Mt=Xe-rt;Mt!==Xe&&0===Ze[Mt];)Mt++;for(var Pt=new Uint8Array(ze+(Xe-Mt)),sn=ze;Mt!==Xe;)Pt[sn++]=Ze[Mt++];return Pt}}}return{encode:function K(Te){if(Te instanceof Uint8Array||(ArrayBuffer.isView(Te)?Te=new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength):Array.isArray(Te)&&(Te=Uint8Array.from(Te))),!(Te instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Te.length)return"";for(var Pe=0,ze=0,rt=0,Xe=Te.length;rt!==Xe&&0===Te[rt];)rt++,Pe++;for(var Ze=(Xe-rt)*b+1>>>0,lt=new Uint8Array(Ze);rt!==Xe;){for(var Et=Te[rt],pt=0,Mt=Ze-1;(0!==Et||pt<ze)&&-1!==Mt;Mt--,pt++)lt[Mt]=(Et+=256*lt[Mt]>>>0)%d>>>0,Et=Et/d>>>0;if(0!==Et)throw new Error("Non-zero carry");ze=pt,rt++}for(var Pt=Ze-ze;Pt!==Ze&&0===lt[Pt];)Pt++;for(var sn=B.repeat(Pe);Pt<Ze;++Pt)sn+=r.charAt(lt[Pt]);return sn},decodeUnsafe:_e,decode:function Ce(Te){var Pe=_e(Te);if(Pe)return Pe;throw new Error(`Non-${t} character`)}}}(n,r);return H3({prefix:t,name:r,encode:i,decode:c=>function ag(r){if(r instanceof Uint8Array&&"Uint8Array"===r.constructor.name)return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}(o(c))})}function mu({name:r,prefix:t,bitsPerChar:n,alphabet:i}){return H3({prefix:t,name:r,encode:o=>function RR(r,t,n){const i="="===t[t.length-1],o=(1<<n)-1;let c="",s=0,d=0;for(let B=0;B<r.length;++B)for(d=d<<8|r[B],s+=8;s>n;)s-=n,c+=t[o&d>>s];if(0!==s&&(c+=t[o&d<<n-s]),i)for(;c.length*n&7;)c+="=";return c}(o,i,n),decode:o=>function G9(r,t,n,i){const o={};for(let b=0;b<t.length;++b)o[t[b]]=b;let c=r.length;for(;"="===r[c-1];)--c;const s=new Uint8Array(c*n/8|0);let d=0,B=0,C=0;for(let b=0;b<c;++b){const K=o[r[b]];if(void 0===K)throw new SyntaxError(`Non-${i} character`);B=B<<n|K,d+=n,d>=8&&(d-=8,s[C++]=255&B>>d)}if(d>=n||255&B<<8-d)throw new SyntaxError("Unexpected end of data");return s}(o,i,n,r)})}mu({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),mu({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),mu({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),mu({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),mu({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mu({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),mu({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),mu({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mu({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),HS({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),HS({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var G3=128,LR=-128,UR=Math.pow(2,31),sm=128,Fb=127,jb=Math.pow(2,7),FR=Math.pow(2,14),jR=Math.pow(2,21),GS=Math.pow(2,28),X3=Math.pow(2,35),am=Math.pow(2,42),Kb=Math.pow(2,49),J9=Math.pow(2,56),fE=Math.pow(2,63);const cm={encode:function Ub(r,t,n){t=t||[];for(var i=n=n||0;r>=UR;)t[n++]=255&r|G3,r/=128;for(;r&LR;)t[n++]=255&r|G3,r>>>=7;return t[n]=0|r,Ub.bytes=n-i+1,t},decode:function uE(r,i){var s,n=0,o=0,c=i=i||0,d=r.length;do{if(c>=d)throw uE.bytes=0,new RangeError("Could not decode varint");s=r[c++],n+=o<28?(s&Fb)<<o:(s&Fb)*Math.pow(2,o),o+=7}while(s>=sm);return uE.bytes=c-i,n},encodingLength:function(r){return r<jb?1:r<FR?2:r<jR?3:r<GS?4:r<X3?5:r<am?6:r<Kb?7:r<J9?8:r<fE?9:10}};function hE(r,t,n=0){return cm.encode(r,t,n),t}function pE(r){return cm.encodingLength(r)}function XS(r,t){const n=t.byteLength,i=pE(r),o=i+pE(n),c=new Uint8Array(o+n);return hE(r,c,0),hE(n,c,i),c.set(t,o),new YS(r,n,t,c)}class YS{code;size;digest;bytes;constructor(t,n,i,o){this.code=t,this.size=n,this.digest=i,this.bytes=o}}function nM({name:r,code:t,encode:n}){return new HR(r,t,n)}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class HR{name;code;encode;constructor(t,n,i){this.name=t,this.code=n,this.encode=i}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?XS(this.code,n):n.then(i=>XS(this.code,i))}throw Error("Unknown type, must be binary type")}}var rM=E(13026);nM({name:"murmur3-32",code:35,encode:r=>function iM(r){const t=new Array(4);for(let n=0;n<4;n++)t[n]=255&r,r>>=8;return new Uint8Array(t)}(rM.x86.hash32(r))});const oM=nM({name:"murmur3-128",code:34,encode:r=>j3(rM.x64.hash128(r))});nM({name:"murmur3-x64-64",code:34,encode:r=>j3(rM.x64.hash128(r)).subarray(0,8)});var sM=E(18876);class yu{_options;_popCount;_parent;_posAtParent;_children;key;constructor(t,n,i=0){this._options=t,this._popCount=0,this._parent=n,this._posAtParent=i,this._children=new sM,this.key=null}put(t,n){var i=this;return(0,bt.A)(function*(){const o=yield i._findNewBucketAndPos(t);o.bucket._putAt(o,t,n)})()}get(t){var n=this;return(0,bt.A)(function*(){const i=yield n._findChild(t);if(null!=i)return i.value})()}del(t){var n=this;return(0,bt.A)(function*(){const i=yield n._findPlace(t),o=i.bucket._at(i.pos);null!=o&&o.key===t&&i.bucket._delAt(i.pos)})()}leafCount(){return this._children.compactArray().reduce((n,i)=>i instanceof yu?n+i.leafCount():n+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const t=this._children.compactArray();for(const n of t)n instanceof yu?yield*n.eachLeafSeries():yield n}serialize(t,n){return n(this._children.reduce((o,c,s)=>(null!=c&&o.push(c instanceof yu?c.serialize(t,n):t(c,s)),o),[]))}asyncTransform(t,n){var i=this;return(0,bt.A)(function*(){return aM(i,t,n)})()}toJSON(){return this.serialize(GR,ZR)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}_findChild(t){var n=this;return(0,bt.A)(function*(){const i=yield n._findPlace(t),o=i.bucket._at(i.pos);if(!(o instanceof yu)&&null!=o&&o.key===t)return o})()}_findPlace(t){var n=this;return(0,bt.A)(function*(){const i=n._options.hash("string"==typeof t?$p(t):t),o=yield i.take(n._options.bits),c=n._children.get(o);return c instanceof yu?c._findPlace(i):{bucket:n,pos:o,hash:i,existingChild:c}})()}_findNewBucketAndPos(t){var n=this;return(0,bt.A)(function*(){const i=yield n._findPlace(t);if(null!=i.existingChild&&i.existingChild.key!==t){const o=new yu(n._options,i.bucket,i.pos);i.bucket._putObjectAt(i.pos,o);const c=yield o._findPlace(i.existingChild.hash);return c.bucket._putAt(c,i.existingChild.key,i.existingChild.value),o._findNewBucketAndPos(i.hash)}return i})()}_putAt(t,n,i){this._putObjectAt(t.pos,{key:n,value:i,hash:t.hash})}_putObjectAt(t,n){null==this._children.get(t)&&this._popCount++,this._children.set(t,n)}_delAt(t){if(-1===t)throw new Error("Invalid position");null!=this._children.get(t)&&this._popCount--,this._children.unset(t),this._level()}_level(){if(null!=this._parent&&this._popCount<=1)if(1===this._popCount){const t=this._children.find(WR);if(null!=t&&!(t instanceof yu)){const n=t.hash;n.untake(this._options.bits),this._parent._putAt({pos:this._posAtParent,hash:n,bucket:this._parent},t.key,t.value)}}else this._parent._delAt(this._posAtParent)}_at(t){return this._children.get(t)}}function WR(r){return!!r}function GR(r,t){return r.key}function ZR(r){return r}function aM(r,t,n){return $b.apply(this,arguments)}function $b(){return($b=(0,bt.A)(function*(r,t,n){const i=[];for(const o of r._children.compactArray())if(o instanceof yu)yield aM(o,t,n);else{const c=yield t(o);i.push({bitField:r._children.bitField(),children:c})}return n(i)})).apply(this,arguments)}const cM=[255,254,252,248,240,224,192,128],rC=[1,3,7,15,31,63,127,255];class iC{_value;_currentBytePos;_currentBitPos;constructor(t){this._value=t,this._currentBytePos=t.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(t){let n=t,i=0;for(;n>0&&this._haveBits();){const o=this._value[this._currentBytePos],c=this._currentBitPos+1,s=Math.min(c,n);i=(i<<s)+oC(o,c-s,s),n-=s,this._currentBitPos-=s,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(t){for(this._currentBitPos+=t;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}function oC(r,t,n){const i=function XR(r,t){return cM[r]&rC[Math.min(t+r-1,7)]}(t,n);return(r&i)>>>t}function sC(r){return function t(n){return n instanceof aC?n:new aC(n,r)}}class aC{_value;_hashFn;_depth;_availableBits;_currentBufferIndex;_buffers;constructor(t,n){if(!(t instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=t,this._hashFn=n,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}take(t){var n=this;return(0,bt.A)(function*(){let i=t;for(;n._availableBits<i;)yield n._produceMoreBits();let o=0;for(;i>0;){const c=n._buffers[n._currentBufferIndex],s=Math.min(c.availableBits(),i);o=(o<<s)+c.take(s),i-=s,n._availableBits-=s,0===c.availableBits()&&n._currentBufferIndex++}return o})()}untake(t){let n=t;for(;n>0;){const i=this._buffers[this._currentBufferIndex],o=Math.min(i.totalBits()-i.availableBits(),n);i.untake(o),n-=o,this._availableBits+=o,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}_produceMoreBits(){var t=this;return(0,bt.A)(function*(){t._depth++;const n=t._depth>0?T1([t._value,Uint8Array.from([t._depth])]):t._value,i=yield t._hashFn(n),o=new iC(i);t._buffers.push(o),t._availableBits+=o.availableBits()})()}}function yE(r){if(null==r||null==r.hashFn)throw new Error("please define an options.hashFn");const t={bits:r.bits??8,hash:sC(r.hashFn)};return new yu(t)}function cC(r){return Vb.apply(this,arguments)}function Vb(){return(Vb=(0,bt.A)(function*(r){return(yield oM.encode(r)).slice(0,8).reverse()})).apply(this,arguments)}const YR=BigInt(34),lC=class Q9 extends Nb{_bucket;constructor(t,n){super(t,n),this._bucket=yE({hashFn:cC,bits:8})}put(t,n){var i=this;return(0,bt.A)(function*(){i.cid=void 0,i.size=void 0,i.nodeSize=void 0,yield i._bucket.put(t,n)})()}get(t){var n=this;return(0,bt.A)(function*(){return n._bucket.get(t)})()}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}eachChildSeries(){var t=this;return Po(function*(){var o,n=!1,i=!1;try{for(var s,c=uo(t._bucket.eachLeafSeries());n=!(s=yield Zr(c.next())).done;n=!1){const{key:d,value:B}=s.value;yield{key:d,child:B}}}catch(d){i=!0,o=d}finally{try{n&&null!=c.return&&(yield Zr(c.return()))}finally{if(i)throw o}}})()}estimateNodeSize(){return void 0!==this.nodeSize||(this.nodeSize=uM(this._bucket,this,this.options)),this.nodeSize}flush(t){var n=this;return Po(function*(){var c,i=!1,o=!1;try{for(var d,s=uo(lM(n._bucket,t,n,n.options));i=!(d=yield Zr(s.next())).done;i=!1)yield{...d.value,path:n.path}}catch(B){o=!0,c=B}finally{try{i&&null!=s.return&&(yield Zr(s.return()))}finally{if(o)throw c}}})()}};function lM(r,t,n,i){return gE.apply(this,arguments)}function gE(){return(gE=Po(function*(r,t,n,i){const o=r._children,c=[];let s=0n;for(let Mt=0;Mt<o.length;Mt++){const Pt=o.get(Mt);if(null==Pt)continue;const sn=Mt.toString(16).toUpperCase().padStart(2,"0");if(Pt instanceof yu){let an;var C,d=!1,B=!1;try{for(var K,b=uo(lM(Pt,t,null,i));d=!(K=yield Zr(b.next())).done;d=!1)an=K.value}catch(_n){B=!0,C=_n}finally{try{d&&null!=b.return&&(yield Zr(b.return()))}finally{if(B)throw C}}if(null==an)throw new Error("Could not flush sharded directory, no subshard found");c.push({Name:sn,Tsize:Number(an.size),Hash:an.cid}),s+=an.size}else if(dM(Pt.value)){const an=Pt.value;let _n;var Te,_e=!1,Ce=!1;try{for(var ze,Pe=uo(an.flush(t));_e=!(ze=yield Zr(Pe.next())).done;_e=!1)_n=ze.value,yield _n}catch(wn){Ce=!0,Te=wn}finally{try{_e&&null!=Pe.return&&(yield Zr(Pe.return()))}finally{if(Ce)throw Te}}if(null==_n)throw new Error("Did not flush dir");c.push({Name:sn+Pt.key,Tsize:Number(_n.size),Hash:_n.cid}),s+=_n.size}else{const an=Pt.value;if(null==an.cid)continue;const $n=an.size;c.push({Name:sn+Pt.key,Tsize:Number($n),Hash:an.cid}),s+=BigInt($n??0)}}const rt=Uint8Array.from(o.bitField().reverse()),Xe=new Gu({type:"hamt-sharded-directory",data:rt,fanout:BigInt(r.tableSize()),hashType:YR,mtime:n?.mtime,mode:n?.mode}),lt=nm(c0({Data:Xe.marshal(),Links:c})),Et=yield Zr(gb(lt,t,i)),pt=BigInt(lt.byteLength)+s;yield{cid:Et,unixfs:Xe,size:pt}})).apply(this,arguments)}function dM(r){return"function"==typeof r.flush}function uM(r,t,n){const i=r._children,o=[];for(let B=0;B<i.length;B++){const C=i.get(B);if(null==C)continue;const b=B.toString(16).toUpperCase().padStart(2,"0");if(C instanceof yu){const K=uM(C,null,n);o.push({Name:b,Tsize:Number(K),Hash:0===n.cidVersion?$S:VS})}else if("function"==typeof C.value.flush){const _e=C.value.nodeSize();o.push({Name:b+C.key,Tsize:Number(_e),Hash:0===n.cidVersion?$S:VS})}else{const K=C.value;if(null==K.cid)continue;o.push({Name:b+C.key,Tsize:Number(K.size),Hash:K.cid})}}const c=Uint8Array.from(i.bitField().reverse());return nm(c0({Data:new Gu({type:"hamt-sharded-directory",data:c,fanout:BigInt(r.tableSize()),hashType:YR,mtime:t?.mtime,mode:t?.mode}).marshal(),Links:o})).length}function fM(r,t,n,i){return vE.apply(this,arguments)}function vE(){return vE=(0,bt.A)(function*(r,t,n,i){let o=t;t instanceof zS&&t.estimateNodeSize()>n&&(o=yield function dC(r,t){return hM.apply(this,arguments)}(t,i));const c=o.parent;if(null!=c){if(o!==t){if(null!=r&&(r.parent=o),null==o.parentKey)throw new Error("No parent key found");yield c.put(o.parentKey,o)}return fM(o,c,n,i)}return o}),vE.apply(this,arguments)}function hM(){return(hM=(0,bt.A)(function*(r,t){const n=new lC({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},t);var c,i=!1,o=!1;try{for(var d,s=uo(r.eachChildSeries());i=!(d=yield s.next()).done;i=!1){const{key:B,child:C}=d.value;yield n.put(B,C)}}catch(B){o=!0,c=B}finally{try{i&&null!=s.return&&(yield s.return())}finally{if(o)throw c}}return n})).apply(this,arguments)}const uC=(r="")=>(r.trim().match(/([^\\/]|\\\/)+/g)??[]).filter(Boolean);function JR(r,t,n){return pM.apply(this,arguments)}function pM(){return(pM=(0,bt.A)(function*(r,t,n){const i=uC(r.path??""),o=i.length-1;let c=t,s="";for(let d=0;d<i.length;d++){const B=i[d];s+=`${""!==s?"/":""}${B}`;const C=d===o;if(c.dirty=!0,c.cid=void 0,c.size=void 0,C)yield c.put(B,r),t=yield fM(null,c,n.shardSplitThresholdBytes,n);else{let b=yield c.get(B);(null==b||!(b instanceof Nb))&&(b=new zS({root:!1,dir:!0,parent:c,parentKey:B,path:s,dirty:!0,flat:!0,mtime:b?.unixfs?.mtime,mode:b?.unixfs?.mode},n)),yield c.put(B,b),c=b}}return t})).apply(this,arguments)}function qR(r,t){return bE.apply(this,arguments)}function bE(){return(bE=Po(function*(r,t){r instanceof Nb?yield*xf(uo(r.flush(t))):!0===r.unixfs?.isDirectory()&&(yield r)})).apply(this,arguments)}function zb(r,t){return fC.apply(this,arguments)}function fC(){return fC=Po(function*(r,t,n={}){let i;i=Symbol.asyncIterator in r||Symbol.iterator in r?r:[r];const o=n.wrapWithDirectory??!1,c=n.shardSplitThresholdBytes??262144,s=n.cidVersion??1,d=n.rawLeaves??!0,B=n.leafType??"file",C=n.fileImportConcurrency??50,b=n.blockWriteConcurrency??10,K=n.reduceSingleLeafToSelf??!0,_e=n.chunker??k1(),Ce=n.chunkValidator??TR(),Te=n.dagBuilder??function jP(r){return function(){var t=Po(function*(i,o){var d,c=!1,s=!1;try{for(var C,B=uo(i);c=!(C=yield Zr(B.next())).done;c=!1){const b=C.value;{let K;if(null!=b.path&&(K=b.path,b.path=b.path.split("/").filter(_e=>null!=_e&&"."!==_e).join("/")),KP(b)){const _e={path:b.path,mtime:b.mtime,mode:b.mode,content:Po(function*(){let Ce=0n;var ze,Te=!1,Pe=!1;try{for(var Xe,rt=uo(r.chunker(r.chunkValidator(FP(b.content))));Te=!(Xe=yield Zr(rt.next())).done;Te=!1){const Ze=Xe.value;{const lt=BigInt(Ze.byteLength);Ce+=lt,r.onProgress?.(new Zu("unixfs:importer:progress:file:read",{bytesRead:Ce,chunkSize:lt,path:b.path})),yield Ze}}}catch(Ze){Pe=!0,ze=Ze}finally{try{Te&&null!=rt.return&&(yield Zr(rt.return()))}finally{if(Pe)throw ze}}})(),originalPath:K};yield(0,bt.A)(function*(){return LP(_e,o,r)})}else{if(null==b.path)throw new Error("Import candidate must have content or path or both");{const _e={path:b.path,mtime:b.mtime,mode:b.mode,originalPath:K};yield(0,bt.A)(function*(){return OP(_e,o,r)})}}}}}catch(b){s=!0,d=b}finally{try{c&&null!=B.return&&(yield Zr(B.return()))}finally{if(s)throw d}}});return function n(i,o){return t.apply(this,arguments)}}()}({chunker:_e,chunkValidator:Ce,wrapWithDirectory:o,layout:n.layout??Bb(),bufferImporter:n.bufferImporter??SS({cidVersion:s,rawLeaves:d,leafType:B,onProgress:n.onProgress}),blockWriteConcurrency:b,reduceSingleLeafToSelf:K,cidVersion:s,onProgress:n.onProgress}),Pe=n.treeBuilder??function QR(r){return function(){var t=Po(function*(i,o){let s,c=new zS({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r),d=!1;var b,B=!1,C=!1;try{for(var _e,K=uo(i);B=!(_e=yield Zr(K.next())).done;B=!1){const Xe=_e.value;{if(null==Xe)continue;const Ze=`${Xe.originalPath??""}`.split("/")[0];null!=Ze&&""!==Ze&&(null==s?(s=Ze,d=!0):s!==Ze&&(d=!1)),c=yield Zr(JR(Xe,c,r)),(null==Xe.unixfs||!Xe.unixfs.isDirectory())&&(yield Xe)}}}catch(Xe){C=!0,b=Xe}finally{try{B&&null!=K.return&&(yield Zr(K.return()))}finally{if(C)throw b}}if(r.wrapWithDirectory||d&&c.childCount()>1)yield*xf(uo(qR(c,o)));else{var Pe,Ce=!1,Te=!1;try{for(var rt,ze=uo(c.eachChildSeries());Ce=!(rt=yield Zr(ze.next())).done;Ce=!1){const Xe=rt.value;null!=Xe&&(yield*xf(uo(qR(Xe.child,o))))}}catch(Xe){Te=!0,Pe=Xe}finally{try{Ce&&null!=ze.return&&(yield Zr(ze.return()))}finally{if(Te)throw Pe}}}});return function n(i,o){return t.apply(this,arguments)}}()}({wrapWithDirectory:o,shardSplitThresholdBytes:c,cidVersion:s,onProgress:n.onProgress});var Xe,ze=!1,rt=!1;try{for(var lt,Ze=uo(Pe(nS(Te(i,t),C),t));ze=!(lt=yield Zr(Ze.next())).done;ze=!1){const Et=lt.value;yield{cid:Et.cid,path:Et.path,unixfs:Et.unixfs,size:Et.size}}}catch(Et){rt=!0,Xe=Et}finally{try{ze&&null!=Ze.return&&(yield Zr(Ze.return()))}finally{if(rt)throw Xe}}}),fC.apply(this,arguments)}var mC=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},tO=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(s){return new Promise(function(d,B){!function o(c,s,d,B){Promise.resolve(B).then(function(C){c({value:C,done:d})},s)}(d,B,(s=r[c](s)).done,s.value)})}}};const nO={[Rn.code]:Rn},yC={[Vy]:Q};class ba{static computeCid(t,n=Vy,i=Rn.code){return mC(this,void 0,void 0,function*(){const o=yC[n];if(!o)throw new O(q.ComputeCidCodecNotSupported,`codec [${n}] not supported`);const c=nO[i];if(!c)throw new O(q.ComputeCidMultihashNotSupported,`multihash code [${i}] not supported`);const s=o.encode(t),d=yield c.digest(s);return(yield oo.createV1(o.code,d)).toString()})}static parseCid(t){const n=oo.parse(t).toV1();if(!yC[n.code])throw new O(q.ParseCidCodecNotSupported,`codec [${n.code}] not supported`);if(!nO[n.multihash.code])throw new O(q.ParseCidMultihashNotSupported,`multihash code [${n.multihash.code}] not supported`);return n}static computeDagPbCidFromBytes(t){var n,i,o;return mC(this,void 0,void 0,function*(){const s=zb([{content:t}],new S1,{cidVersion:1});let d;try{for(var b,B=!0,C=tO(s);b=yield C.next(),!(n=b.done);B=!0)B=!1,d=b.value}catch(K){i={error:K}}finally{try{!B&&!n&&(o=C.return)&&(yield o.call(C))}finally{if(i)throw i.error}}return d?d.cid.toString():""})}static computeDagPbCidFromStream(t){var n,i,o;return mC(this,void 0,void 0,function*(){const s=zb([{content:t}],new S1,{cidVersion:1});let d;try{for(var b,B=!0,C=tO(s);b=yield C.next(),!(n=b.done);B=!0)B=!1,d=b.value}catch(K){i={error:K}}finally{try{!B&&!n&&(o=C.return)&&(yield o.call(C))}finally{if(i)throw i.error}}return d?d.cid.toString():""})}}var dg=E(91426),Hb=E(63397),_E=E(65797),Wb=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};Hb.VV.isEphemeralKeyCompressed=!0;class Gb{static aes256CtrEncrypt(t,n,i){return Wb(this,void 0,void 0,function*(){const o=dg.createCipheriv("aes-256-ctr",t,n),c=new _E.Readable({read(){}});return i.on("data",s=>{const d=o.update(s);c.push(d)}),i.on("end",()=>{const s=o.final();c.push(s),c.push(null)}),i.on("error",s=>{c.emit("error",s)}),c})}static aes256CtrDecrypt(t,n,i){return Wb(this,void 0,void 0,function*(){const o=dg.createDecipheriv("aes-256-ctr",t,n),c=new _E.Readable({read(){}});return i.on("data",s=>{const d=o.update(s);c.push(d)}),i.on("end",()=>{const s=o.final();c.push(s),c.push(null)}),i.on("error",s=>{c.emit("error",s)}),c})}static eciesSecp256k1Encrypt(t,n){return Wb(this,void 0,void 0,function*(){const i=Buffer.from(t),o=Buffer.from(n),c=Hb.w(i,o);let s=0,d=Gb.isEphemeralKeyCompressed?33:65;const B=c.subarray(s,d);s=d,d+=Hb.VV.symmetricNonceLength;const C=c.subarray(s,d);s=d,d+=16;const b=c.subarray(s,d);return{ciphertext:c.subarray(d),ephemeralPublicKey:B,initializationVector:C,messageAuthenticationCode:b}})}static eciesSecp256k1Decrypt(t){return Wb(this,void 0,void 0,function*(){const n=Buffer.from(t.privateKey),i=Buffer.concat([t.ephemeralPublicKey,t.initializationVector,t.messageAuthenticationCode,t.ciphertext]);return Hb.Yc(n,i)})}static get isEphemeralKeyCompressed(){return Hb.VV.isEphemeralKeyCompressed}}var gC=function(r){return r.Aes256Ctr="A256CTR",r.EciesSecp256k1="ECIES-ES256K",r}(gC||{}),vC=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Zb{constructor(t){this.jws=t}static create(t,n=[]){return vC(this,void 0,void 0,function*(){const i={payload:_.bytesToBase64Url(t),signatures:[]},o=new Zb(i);for(const c of n)yield o.addSignature(c);return o})}addSignature(t){return vC(this,void 0,void 0,function*(){const i=JSON.stringify({kid:t.keyId,alg:t.algorithm}),o=_.stringToBase64Url(i),s=_.stringToBytes(`${o}.${this.jws.payload}`),d=yield t.sign(s),B=_.bytesToBase64Url(d);this.jws.signatures.push({protected:o,signature:B})})}getJws(){return this.jws}}const m0="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;var EE=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},gu=function(r){return r.DataFormats="dataFormats",r.ProtocolContext="protocolContext",r.ProtocolPath="protocolPath",r.Schemas="schemas",r}(gu||{});class Xb{static derivePrivateKey(t,n){var i;return EE(this,void 0,void 0,function*(){const o=_r.privateJwkToBytes(t.derivedPrivateKey),c=null!==(i=t.derivationPath)&&void 0!==i?i:[],s=yield Xb.derivePrivateKeyBytes(o,n),d=yield _r.privateKeyToJwk(s);return{rootKeyId:t.rootKeyId,derivationScheme:t.derivationScheme,derivationPath:[...c,...n],derivedPrivateKey:d}})}static derivePublicKey(t,n){return EE(this,void 0,void 0,function*(){const i=yield Xb.derivePrivateKey(t,n);return yield _r.getPublicJwk(i.derivedPrivateKey)})}static derivePrivateKeyBytes(t,n){return EE(this,void 0,void 0,function*(){Xb.validateKeyDerivationPath(n);let i=t;for(const o of n){const c=_.stringToBytes(o);i=yield Xb.deriveKeyUsingHkdf({hashAlgorithm:"SHA-256",initialKeyMaterial:i,info:c,keyLengthInBytes:32})}return i})}static deriveKeyUsingHkdf(t){return EE(this,void 0,void 0,function*(){const{hashAlgorithm:n,initialKeyMaterial:i,info:o,keyLengthInBytes:c}=t,d=yield function bC(){if(m0&&"object"==typeof m0.subtle&&null!=m0.subtle)return m0.subtle;throw new Error("crypto.subtle must be defined")}().importKey("raw",i,{name:"HKDF"},!1,["deriveBits"]),B=yield crypto.subtle.deriveBits({name:"HKDF",hash:n,salt:new Uint8Array(0),info:o},d,8*c);return new Uint8Array(B)})}static validateKeyDerivationPath(t){if(t.includes(""))throw new O(q.HdKeyDerivationPathInvalid,`Invalid key derivation path: ${t}`)}}function xE(r,t){return r>t?1:r<t?-1:0}function vM(r){if("object"!=typeof r)return!1;for(const t in r)return!1;return!0}function pd(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&pd(r[t])})}var Xu=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Dr{static validateJsonSchema(t){sc(t.descriptor.interface+t.descriptor.method,t)}static getSigner(t){return void 0===t.authorization?void 0:Ds.getSignerDid(t.authorization.signature.signatures[0])}static getCid(t){return Xu(this,void 0,void 0,function*(){const n=Object.assign({},t);return n.encodedData&&delete n.encodedData,yield ba.computeCid(n)})}static compareCid(t,n){return Xu(this,void 0,void 0,function*(){return xE(yield Dr.getCid(t),yield Dr.getCid(n))})}static createAuthorization(t){return Xu(this,void 0,void 0,function*(){const{descriptor:n,signer:i,delegatedGrant:o,permissionGrantId:c,protocolRole:s}=t;let d;void 0!==o&&(d=yield Dr.getCid(o));const C={signature:yield Dr.createSignature(n,i,{delegatedGrantId:d,permissionGrantId:c,protocolRole:s})};return void 0!==o&&(C.authorDelegatedGrant=o),C})}static createSignature(t,n,i){return Xu(this,void 0,void 0,function*(){const o=yield ba.computeCid(t),c=Object.assign({descriptorCid:o},i);pd(c);const s=_.objectToBytes(c);return(yield Zb.create(s,[n])).getJws()})}static getNewestMessage(t){return Xu(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Dr.isNewer(i,n)))&&(n=i);return n})}static getOldestMessage(t){return Xu(this,void 0,void 0,function*(){let n;for(const i of t)(void 0===n||(yield Dr.isOlder(i,n)))&&(n=i);return n})}static isNewer(t,n){return Xu(this,void 0,void 0,function*(){return(yield Dr.compareMessageTimestamp(t,n))>0})}static isOlder(t,n){return Xu(this,void 0,void 0,function*(){return(yield Dr.compareMessageTimestamp(t,n))<0})}static isSignedByAuthorDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.authorDelegatedGrant)}static isSignedByOwnerDelegate(t){var n;return void 0!==(null===(n=t.authorization)||void 0===n?void 0:n.ownerDelegatedGrant)}static compareMessageTimestamp(t,n){return Xu(this,void 0,void 0,function*(){return t.descriptor.messageTimestamp>n.descriptor.messageTimestamp?1:t.descriptor.messageTimestamp<n.descriptor.messageTimestamp?-1:Dr.compareCid(t,n)})}static validateSignatureStructure(t,n,i="GenericSignaturePayload"){return Xu(this,void 0,void 0,function*(){if(1!==t.signatures.length)throw new O(q.AuthenticationMoreThanOneSignatureNotSupported,"expected no more than 1 signature for authorization purpose");const o=Ds.decodePlainObjectPayload(t);sc(i,o);const{descriptorCid:c}=o,s=yield ba.computeCid(n);if(c!==s)throw new O(q.AuthenticateDescriptorCidMismatch,`provided descriptorCid ${c} does not match expected CID ${s}`);return o})}}class md{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new md(t)})}constructor(t){this.id=t.recordId,this.grantor=Dr.getSigner(t),this.grantee=t.descriptor.recipient,this.dateGranted=t.descriptor.dateCreated;const i=_.base64UrlToObject(t.encodedData);this.dateExpires=i.dateExpires,this.delegated=i.delegated,this.description=i.description,this.requestId=i.requestId,this.scope=i.scope,this.conditions=i.conditions}}var vu=function(r){return r.CreatedAscending="createdAscending",r.CreatedDescending="createdDescending",r.PublishedAscending="publishedAscending",r.PublishedDescending="publishedDescending",r}(vu||{});class Ul{static matchAnyFilter(t,n){if(0===n.length)return!0;for(const i of n)if(this.matchFilter(t,i))return!0;return!1}static matchFilter(t,n){for(const i in n){const o=n[i],c=t[i];if(void 0===c||!(Array.isArray(c)?this.matchAnyIndexValue(o,c):this.matchIndexValue(o,c)))return!1}return!0}static matchAnyIndexValue(t,n){for(const i of n)if(this.matchIndexValue(t,i))return!0;return!1}static matchIndexValue(t,n){if("object"==typeof t){if(Array.isArray(t)){if(this.matchOneOf(t,n))return!0}else if(this.matchRange(t,n))return!0}else if(n===t)return!0;return!1}static matchOneOf(t,n){for(const i of t)if(n===i)return!0;return!1}static matchRange(t,n){return!(void 0!==t.lt&&n>=t.lt||void 0!==t.lte&&n>t.lte||void 0!==t.gt&&n<=t.gt||void 0!==t.gte&&n<t.gte)}static isEqualFilter(t){return"object"!=typeof t}static isRangeFilter(t){return"object"==typeof t&&!Array.isArray(t)&&("gt"in t||"lt"in t||"lte"in t||"gte"in t)}static isOneOfFilter(t){return!("object"!=typeof t||!Array.isArray(t))}static convertRangeCriterion(t){let n;return void 0!==t.to&&void 0!==t.from?n={gte:t.from,lt:t.to}:void 0!==t.to?n={lt:t.to}:void 0!==t.from&&(n={gte:t.from}),n}static constructPrefixFilterAsRangeFilter(t){return{gte:t,lt:t+"\uffff"}}}class sO{static reduceFilter(t){if(Object.keys(t).length<=1)return t;const{recordId:i,attester:o,parentId:c,recipient:s,contextId:d,protocolPath:C,schema:b,protocol:K}=t,_e=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["recordId","attester","parentId","recipient","contextId","author","protocolPath","schema","protocol"]);if(void 0!==i)return{recordId:i};if(void 0!==o)return{attester:o};if(void 0!==c)return{parentId:c};if(void 0!==s)return{recipient:s};if(void 0!==d)return{contextId:d};if(void 0!==C)return{protocolPath:C};if(void 0!==b)return{schema:b};if(void 0!==K)return{protocol:K};const Te=Object.keys(_e)[0],Pe={};return Pe[Te]=t[Te],Pe}}var Mi=function(r){return r.Messages="Messages",r.Protocols="Protocols",r.Records="Records",r}(Mi||{}),Xr=function(r){return r.Configure="Configure",r.Query="Query",r.Read="Read",r.Write="Write",r.Delete="Delete",r.Subscribe="Subscribe",r}(Xr||{});function op(r){let t;try{t=sp(r)}catch{t=void 0}if(r!==t)throw new O(q.UrlProtocolNotNormalized,`Protocol URI ${r} must be normalized.`)}function sp(r){return aO(r)}function Yb(r){let t;try{t=SE(r)}catch{t=void 0}if(r!==t)throw new O(q.UrlSchemaNotNormalized,`Schema URI ${r} must be normalized.`)}function SE(r){return aO(r)}function aO(r){let t;t=/^[^:]+:(\/{2})?[^\/].*/.test(r)?r:`http://${r}`;try{const n=new URL(t);return n.search="",n.hash="",function wC(r){return r.endsWith("/")?r.slice(0,-1):r}(n.href)}catch{throw new O(q.UrlProtocolNotNormalizable,"Could not normalize protocol URI")}}var ME=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Fi{static isRecordsWrite(t){return t.descriptor.interface===Mi.Records&&t.descriptor.method===Xr.Write}static getAuthor(t){let n;return n=Dr.getSigner(void 0!==t.authorization.authorDelegatedGrant?t.authorization.authorDelegatedGrant:t),n}static decrypt(t,n,i){return ME(this,void 0,void 0,function*(){const{encryption:o}=t,c=o.keyEncryption.find(Pe=>Pe.rootKeyId===n.rootKeyId&&Pe.derivationScheme===n.derivationScheme);if(void 0===c)throw new O(q.RecordsDecryptNoMatchingKeyEncryptedFound,`Unable to find a symmetric key encrypted using key         with ID '${n.rootKeyId}' and '${n.derivationScheme}' derivation scheme.`);const s=Fi.constructKeyDerivationPath(c.derivationScheme,t),d=yield Fi.derivePrivateKey(n,s),B=_.base64UrlToBytes(c.encryptedKey),C=_r.publicJwkToBytes(c.ephemeralPublicKey),b=_.base64UrlToBytes(c.initializationVector),K=_.base64UrlToBytes(c.messageAuthenticationCode),_e=yield Gb.eciesSecp256k1Decrypt({ciphertext:B,ephemeralPublicKey:C,initializationVector:b,messageAuthenticationCode:K,privateKey:d}),Ce=_.base64UrlToBytes(o.initializationVector);return yield Gb.aes256CtrDecrypt(_e,Ce,i)})}static constructKeyDerivationPath(t,n){const i=n.descriptor,o=n.contextId;let c;return c=t===gu.DataFormats?Fi.constructKeyDerivationPathUsingDataFormatsScheme(i.schema,i.dataFormat):t===gu.ProtocolPath?Fi.constructKeyDerivationPathUsingProtocolPathScheme(i):t===gu.ProtocolContext?Fi.constructKeyDerivationPathUsingProtocolContextScheme(o):Fi.constructKeyDerivationPathUsingSchemasScheme(i.schema),c}static constructKeyDerivationPathUsingDataFormatsScheme(t,n){return void 0!==t?[gu.DataFormats,t,n]:[gu.DataFormats,n]}static constructKeyDerivationPathUsingProtocolPathScheme(t){if(void 0===t.protocol)throw new O(q.RecordsProtocolPathDerivationSchemeMissingProtocol,"Unable to construct key derivation path using `protocols` scheme because `protocol` is missing.");const n=t.protocolPath.split("/");return[gu.ProtocolPath,t.protocol,...n]}static constructKeyDerivationPathUsingProtocolContextScheme(t){if(void 0===t)throw new O(q.RecordsProtocolContextDerivationSchemeMissingContextId,"Unable to construct key derivation path using `protocolContext` scheme because `contextId` is missing.");const n=t.split("/")[0];return[gu.ProtocolContext,n]}static constructKeyDerivationPathUsingSchemasScheme(t){if(void 0===t)throw new O(q.RecordsSchemasDerivationSchemeMissingSchema,"Unable to construct key derivation path using `schemas` scheme because `schema` is missing.");return[gu.Schemas,t]}static derivePrivateKey(t,n){var i;return ME(this,void 0,void 0,function*(){if("secp256k1"!==t.derivedPrivateKey.crv)throw new O(q.RecordsDerivePrivateKeyUnSupportedCurve,`Curve ${t.derivedPrivateKey.crv} is not supported.`);const o=null!==(i=t.derivationPath)&&void 0!==i?i:[];Fi.validateAncestorKeyAndDescentKeyDerivationPathsMatch(o,n);const c=n.slice(o.length),s=_r.privateJwkToBytes(t.derivedPrivateKey);return yield Xb.derivePrivateKeyBytes(s,c)})}static validateAncestorKeyAndDescentKeyDerivationPathsMatch(t,n){for(let i=0;i<t.length;i++){const o=t[i],c=n[i];if(o!==c)throw new O(q.RecordsInvalidAncestorKeyDerivationSegment,`Ancestor key derivation segment '${o}' mismatches against the descendant key derivation segment '${c}'.`)}}static getParentContextFromOfContextId(t){if(void 0===t)return;const n=t.lastIndexOf("/");return-1===n?"":t.substring(0,n)}static normalizeFilter(t){let n,i;n=void 0===t.protocol?void 0:sp(t.protocol),i=void 0===t.schema?void 0:SE(t.schema);const o=Object.assign(Object.assign({},t),{protocol:n,schema:i});return pd(o),o}static isStartsWithFilter(t){return"object"==typeof t&&"startsWith"in t&&"string"==typeof t.startsWith}static buildTagIndexes(t){const n={};for(const i in t)n[`tag.${i}`]=t[i];return n}static convertTagsFilter(t){const n={};for(const i in t){const o=t[i];n[`tag.${i}`]=this.isStartsWithFilter(o)?Ul.constructPrefixFilterAsRangeFilter(o.startsWith):o}return n}static convertFilter(t,n){const{tags:i}=t,o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["tags"]);let c={};void 0!==i&&(c=Object.assign({},this.convertTagsFilter(i)));const s=Object.assign(Object.assign({},o),c),{dateCreated:d,datePublished:B,dateUpdated:C,contextId:b}=t,K=d?Ul.convertRangeCriterion(d):void 0;K&&(s.dateCreated=K);const _e=B?Ul.convertRangeCriterion(B):void 0;_e&&(s.published=!0,s.datePublished=_e),!0!==s.published&&(n===vu.PublishedAscending||n===vu.PublishedDescending)&&(s.published=!0);const Ce=C?Ul.convertRangeCriterion(C):void 0;Ce&&(s.messageTimestamp=Ce,delete s.dateUpdated);const Te=b?Ul.constructPrefixFilterAsRangeFilter(b):void 0;return Te&&(s.contextId=Te),s}static validateDelegatedGrantReferentialIntegrity(t,n,i){var o,c;return ME(this,void 0,void 0,function*(){const s=void 0!==n?.delegatedGrantId,d=void 0!==(null===(o=t.authorization)||void 0===o?void 0:o.authorDelegatedGrant);if(s!==d)throw new O(q.RecordsAuthorDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in message (author) signature and authorDelegatedGrant must both exist or be undefined.          delegatedGrantId in message (author) signature defined: ${s},          authorDelegatedGrant defined: ${d}`);if(d){const b=t.authorization.authorDelegatedGrant;if(!0!==(yield md.parse(b)).delegated)throw new O(q.RecordsAuthorDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const _e=b.descriptor.recipient,Ce=Dr.getSigner(t);if(_e!==Ce)throw new O(q.RecordsAuthorDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${_e} in author delegated grant must be the same as the signer ${Ce} of the message signature.`);const Te=yield Dr.getCid(b);if(Te!==n.delegatedGrantId)throw new O(q.RecordsAuthorDelegatedGrantCidMismatch,`CID of the author delegated grant ${Te} must be the same as           the delegatedGrantId ${n.delegatedGrantId} in the message signature.`)}const B=void 0!==i?.delegatedGrantId,C=void 0!==(null===(c=t.authorization)||void 0===c?void 0:c.ownerDelegatedGrant);if(B!==C)throw new O(q.RecordsOwnerDelegatedGrantAndIdExistenceMismatch,`delegatedGrantId in owner signature and ownerDelegatedGrant must both exist or be undefined.          delegatedGrantId in owner signature defined: ${B},          ownerDelegatedGrant defined: ${C}`);if(C){const b=t.authorization.ownerDelegatedGrant;if(!0!==(yield md.parse(b)).delegated)throw new O(q.RecordsOwnerDelegatedGrantNotADelegatedGrant,"The owner delegated grant given is not a delegated grant.");const _e=b.descriptor.recipient,Ce=Ds.getSignerDid(t.authorization.ownerSignature.signatures[0]);if(_e!==Ce)throw new O(q.RecordsOwnerDelegatedGrantGrantedToAndOwnerSignatureMismatch,`grantedTo ${_e} in owner delegated grant must be the same as the signer ${Ce} of the owner signature.`);const Te=yield Dr.getCid(b);if(Te!==i.delegatedGrantId)throw new O(q.RecordsOwnerDelegatedGrantCidMismatch,`CID of the owner delegated grant ${Te} must be the same as           the delegatedGrantId ${i.delegatedGrantId} in the owner signature.`)}})}static shouldProtocolAuthorize(t){return void 0!==t.protocolRole}static filterIncludesPublishedRecords(t){return void 0!==t.datePublished||!1!==t.published}static filterIncludesUnpublishedRecords(t){return void 0===t.datePublished&&void 0===t.published||!1===t.published}}var bM=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class oh{static performBaseValidation(t){return bM(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:s}=t,d=n.descriptor;oh.verifyExpectedGrantorAndGrantee(i,o,c);const B=i;yield oh.verifyGrantActive(B,d.messageTimestamp,c,s),yield oh.verifyGrantScopeInterfaceAndMethod(d.interface,d.method,c)})}static verifyExpectedGrantorAndGrantee(t,n,i){const o=i.grantee;if(n!==o)throw new O(q.GrantAuthorizationNotGrantedToAuthor,`Permission grant is granted to ${o}, but need to be granted to ${n}`);const c=i.grantor;if(t!==c)throw new O(q.GrantAuthorizationNotGrantedForTenant,`Permission grant is granted by ${c}, but need to be granted by ${t}`)}static verifyGrantActive(t,n,i,o){return bM(this,void 0,void 0,function*(){if(n<i.dateGranted)throw new O(q.GrantAuthorizationGrantNotYetActive,"The message has a timestamp before the associated permission grant becomes active");if(n>=i.dateExpires)throw new O(q.GrantAuthorizationGrantExpired,"The message has timestamp after the expiry of the associated permission grant");const c={parentId:i.id,protocolPath:"grant/revocation",isLatestBaseState:!0},{messages:s}=yield o.query(t,[c]),d=yield Dr.getOldestMessage(s);if(void 0!==d&&d.descriptor.messageTimestamp<=n)throw new O(q.GrantAuthorizationGrantRevoked,`Permission grant with CID ${i.id} has been revoked`)})}static verifyGrantScopeInterfaceAndMethod(t,n,i){return bM(this,void 0,void 0,function*(){if(t!==i.scope.interface)throw new O(q.GrantAuthorizationInterfaceMismatch,`DWN Interface of incoming message is outside the scope of permission grant with ID ${i.id}`);if(n!==i.scope.method)throw new O(q.GrantAuthorizationMethodMismatch,`DWN Method of incoming message is outside the scope of permission grant with ID ${i.id}`)})}}var Jb=function(r){return r.Required="Required",r.Prohibited="Prohibited",r}(Jb||{}),ug=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Yu{static authorizeWrite(t){return ug(this,void 0,void 0,function*(){const{recordsWriteMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:s}=t;yield oh.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:s}),Yu.verifyScope(n,c.scope),Yu.verifyConditions(n,c.conditions)})}static authorizeRead(t){return ug(this,void 0,void 0,function*(){const{recordsReadMessage:n,recordsWriteMessageToBeRead:i,expectedGrantor:o,expectedGrantee:c,permissionGrant:s,messageStore:d}=t;yield oh.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:c,permissionGrant:s,messageStore:d}),Yu.verifyScope(i,s.scope)})}static authorizeQueryOrSubscribe(t){return ug(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:s}=t;yield oh.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:s});const B=c.scope.protocol,C=n.descriptor.filter.protocol;if(void 0!==B&&C!==B)throw new O(q.RecordsGrantAuthorizationQueryOrSubscribeProtocolScopeMismatch,`Grant protocol scope ${B} does not match protocol in message ${C}`)})}static authorizeDelete(t){return ug(this,void 0,void 0,function*(){const{recordsDeleteMessage:n,recordsWriteToDelete:i,expectedGrantor:o,expectedGrantee:c,permissionGrant:s,messageStore:d}=t;yield oh.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:c,permissionGrant:s,messageStore:d});const C=s.scope.protocol,b=i.descriptor.protocol;if(void 0!==C&&b!==C)throw new O(q.RecordsGrantAuthorizationDeleteProtocolScopeMismatch,`Grant protocol scope ${C} does not match protocol in record to delete ${b}`)})}static verifyScope(t,n){if(n.protocol!==t.descriptor.protocol)throw new O(q.RecordsGrantAuthorizationScopeProtocolMismatch,"Grant scope specifies different protocol than what appears in the record");if(void 0!==n.contextId&&(void 0===t.contextId||!t.contextId.startsWith(n.contextId)))throw new O(q.RecordsGrantAuthorizationScopeContextIdMismatch,"Grant scope specifies different contextId than what appears in the record");if(void 0!==n.protocolPath&&n.protocolPath!==t.descriptor.protocolPath)throw new O(q.RecordsGrantAuthorizationScopeProtocolPathMismatch,"Grant scope specifies different protocolPath than what appears in the record")}static verifyConditions(t,n){if(n?.publication===Jb.Required&&!t.descriptor.published)throw new O(q.RecordsGrantAuthorizationConditionPublicationRequired,"Permission grant requires message to be published");if(n?.publication===Jb.Prohibited&&t.descriptor.published)throw new O(q.RecordsGrantAuthorizationConditionPublicationProhibited,"Permission grant prohibits message from being published")}}var xt=E(89994);const qb={};function sh(r,t){Object.defineProperty(r.prototype,Symbol.toStringTag,{value:t,writable:!1,enumerable:!1,configurable:!0});for(const n of Object.getOwnPropertyNames(r)){const i=Object.getOwnPropertyDescriptor(r,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r,n,i))}for(const n of Object.getOwnPropertyNames(r.prototype)){const i=Object.getOwnPropertyDescriptor(r.prototype,n);i.configurable&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(r.prototype,n,i))}$s(t,r),$s(`${t}.prototype`,r.prototype)}function $s(r,t){const n=`%${r}%`;if(void 0!==qb[n])throw new Error(`intrinsic ${r} already exists`);qb[n]=t}function xr(r){return qb[r]}var _C,EC;const Yr="slot-epochNanoSeconds",ah="slot-timezone-identifier",Mr="slot-year",Rr="slot-month",Sr="slot-day",fi="slot-hour",Ei="slot-minute",ni="slot-second",yi="slot-millisecond",Ci="slot-microsecond",_i="slot-nanosecond",Fn="slot-calendar",wM="slot-date-brand",_M="slot-year-month-brand",xC="slot-month-day-brand",Vc="slot-cached-instant",gi="slot-time-zone",zc="slot-years",cc="slot-months",xo="slot-weeks",$a="slot-days",Ca="slot-hours",lc="slot-minutes",Va="slot-seconds",dc="slot-milliseconds",Hc="slot-microseconds",Wc="slot-nanoseconds",_s="slot-calendar-identifier",Qb=new WeakMap,ew=Symbol.for("@@Temporal__GetSlots");(_C=globalThis)[ew]||(_C[ew]=function(t){return Qb.get(t)});const AE=globalThis[ew],fg=Symbol.for("@@Temporal__CreateSlots");(EC=globalThis)[fg]||(EC[fg]=function(t){Qb.set(t,Object.create(null))});const Fl=globalThis[fg];function za(r,...t){if(!r||"object"!=typeof r)return!1;const n=AE(r);return!!n&&t.every(i=>i in n)}function je(r,t){const n=AE(r)?.[t];if(void 0===n)throw new TypeError(`Missing internal slot ${t}`);return n}function ji(r,t,n){const i=AE(r);if(void 0===i)throw new TypeError("Missing slots for the given container");if(i[t])throw new TypeError(`${t} already has set`);i[t]=n}const SC=/\.[-A-Za-z_]|\.\.[-A-Za-z._]{1,12}|\.[-A-Za-z_][-A-Za-z._]{0,12}|[A-Za-z_][-A-Za-z._]{0,13}/,g0=new RegExp("(?:"+[`(?:${SC.source})(?:\\/(?:${SC.source}))*`,"Etc/GMT(?:0|[-+]\\d{1,2})","GMT[-+]?0","EST5EDT","CST6CDT","MST7MDT","PST8PDT",/(?:[+\u2212-][0-2][0-9](?::?[0-5][0-9](?::?[0-5][0-9](?:[.,]\d{1,9})?)?)?)/.source].join("|")+")"),EM=/(?:[+\u2212-]\d{6}|\d{4})/,tw=/(?:0[1-9]|1[0-2])/,xM=/(?:0[1-9]|[12]\d|3[01])/,t7=new RegExp(`(${EM.source})(?:-(${tw.source})-(${xM.source})|(${tw.source})(${xM.source}))`),MC=/(\d{2})(?::(\d{2})(?::(\d{2})(?:[.,](\d{1,9}))?)?|(\d{2})(?:(\d{2})(?:[.,](\d{1,9}))?)?)?/,nw=/([+\u2212-])([01][0-9]|2[0-3])(?::?([0-5][0-9])(?::?([0-5][0-9])(?:[.,](\d{1,9}))?)?)?/,TE=new RegExp(`([zZ])|${nw.source}?`),ch=/\[(!)?([a-z_][a-z0-9_-]*)=([A-Za-z0-9]+(?:-[A-Za-z0-9]+)*)\]/g,hg=new RegExp([`^${t7.source}`,`(?:(?:T|\\s+)${MC.source}(?:${TE.source})?)?`,`(?:\\[!?(${g0.source})\\])?`,`((?:${ch.source})*)$`].join(""),"i"),AC=new RegExp([`^T?${MC.source}`,`(?:${TE.source})?`,`(?:\\[!?${g0.source}\\])?`,`((?:${ch.source})*)$`].join(""),"i"),TC=new RegExp(`^(${EM.source})-?(${tw.source})(?:\\[!?${g0.source}\\])?((?:${ch.source})*)$`),pg=new RegExp(`^(?:--)?(${tw.source})-?(${xM.source})(?:\\[!?${g0.source}\\])?((?:${ch.source})*)$`),rw=/(\d+)(?:[.,](\d{1,9}))?/,SM=new RegExp(`(?:${rw.source}H)?(?:${rw.source}M)?(?:${rw.source}S)?`),IC=new RegExp(`^([+\u2212-])?P${/(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?/.source}(?:T(?!$)${SM.source})?$`,"i"),DC=Array.prototype.includes,MM=Array.prototype.push,CC=globalThis.Intl.DateTimeFormat,cO=Math.min,mg=Math.max,ss=Math.abs,yd=Math.floor,yg=Math.sign,v0=Math.trunc,iw=Number.isNaN,Gc=Number.isFinite,lO=Number,IE=String,dO=Number.MAX_SAFE_INTEGER,uc=Object.create,AM=Object.getOwnPropertyDescriptor,DE=Reflect.apply,uO=Reflect.ownKeys,Vs=xt.BigInt(0),gg=xt.BigInt(1),lh=xt.BigInt(60),kC=xt.BigInt(24),mo=xt.BigInt(1e3),Vd=xt.BigInt(1e6),dh=xt.BigInt(1e9),fO=xt.BigInt(-1),PC=xt.multiply(xt.BigInt(3600),dh),RC=xt.multiply(lh,dh),uh=xt.multiply(PC,kC),ow=xt.multiply(xt.BigInt(-86400),xt.BigInt(1e17)),vg=xt.multiply(xt.BigInt(86400),xt.BigInt(1e17)),CE=-271821,sw=275760,b0=xt.multiply(xt.BigInt(-388152),xt.BigInt(1e13)),lm=xt.multiply(uh,xt.BigInt(3660)),kE=xt.multiply(uh,xt.BigInt(366)),OC=xt.multiply(uh,xt.BigInt(14)),BC=["iso8601","hebrew","islamic","islamic-umalqura","islamic-tbla","islamic-civil","islamic-rgsa","islamicc","persian","ethiopic","ethioaa","coptic","chinese","dangi","roc","indian","buddhist","japanese","gregory"];function bu(r){return xt.equal(r,Vs)}function yo(r,t){const n=r[t];if(void 0!==n)return n}function Vr(r,t,n){return DE(r,t,arguments.length>2?n:[])}function Fo(r){return"object"==typeof r&&null!==r||"function"==typeof r}function dm(r){if("bigint"==typeof r)throw new TypeError("Cannot convert BigInt to number");return lO(r)}function Es(r){const t=dm(r);if(iw(t)||0===t)return 0;if(!Gc(t))return t;const n=yd(ss(t));return 0===n?0:yg(t)*n}function gd(r){if("number"!=typeof r||iw(r)||!Gc(r))return!1;const t=ss(r);return yd(t)===t}function ka(r){if("symbol"==typeof r)throw new TypeError("Cannot convert a Symbol value to a String");return IE(r)}function no(r){const t=dm(r);if(0===t)return 0;if(iw(t)||!Gc(t))throw new RangeError("invalid number value");const n=v0(t);return 0===n?0:n}function w0(r,t){const n=no(r);if(n<=0)throw void 0!==t?new RangeError(`property '${t}' cannot be a a number less than one`):new RangeError("Cannot convert a number less than one to a positive integer");return n}function zs(r){const t=dm(r);if(!Gc(t))throw new RangeError("infinity is out of range");if(!gd(t))throw new RangeError(`unsupported fractional value ${r}`);return 0===t?0:t}function ds(r,t){return{quotient:xt.divide(r,t),remainder:xt.remainder(r,t)}}function ap(r){return xt.lessThan(r,Vs)}function _0(r){return bu(r)?0:ap(r)?-1:1}function jl(r){return xt.lessThan(r,Vs)?xt.multiply(r,fO):r}const E0=new Map([["year",no],["month",w0],["monthCode",ka],["day",w0],["hour",no],["minute",no],["second",no],["millisecond",no],["microsecond",no],["nanosecond",no],["years",zs],["months",zs],["weeks",zs],["days",zs],["hours",zs],["minutes",zs],["seconds",zs],["milliseconds",zs],["microseconds",zs],["nanoseconds",zs],["era",ka],["eraYear",Es],["offset",ka]]),bg=new Map([["hour",0],["minute",0],["second",0],["millisecond",0],["microsecond",0],["nanosecond",0]]),fh=[["years","year","date"],["months","month","date"],["weeks","week","date"],["days","day","date"],["hours","hour","time"],["minutes","minute","time"],["seconds","second","time"],["milliseconds","millisecond","time"],["microseconds","microsecond","time"],["nanoseconds","nanosecond","time"]],aw=new Map(fh.map(r=>[r[0],r[1]])),NC=new Map(fh.map(([r,t])=>[t,r])),TM=fh.map(([,r])=>r),IM=Array.from(aw.keys()).sort(),DM=new Map;function CM(r){let t=DM.get(r);return void 0===t&&(t=new CC("en-us",{timeZone:IE(r),hour12:!1,era:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),DM.set(r,t)),t}function kM(r){if(null==r)throw new TypeError(`Expected object not ${r}`);return Object(r)}function x0(r,t,n,i){if(null==t)return;const o=uO(t);for(const c of o)if(!n.some(s=>Object.is(s,c))&&Object.prototype.propertyIsEnumerable.call(t,c)){const s=t[c];if(i&&i.some(d=>Object.is(d,s)))continue;r[c]=s}}function wa(r){return za(r,Yr)&&!za(r,gi,Fn)}function Kl(r){return za(r,ah)}function jo(r){return za(r,_s)}function Hs(r){return za(r,zc,cc,$a,Ca,lc,Va,dc,Hc,Wc)}function Wi(r){return za(r,wM)}function xs(r){return za(r,fi,Ei,ni,yi,Ci,_i)&&!za(r,Mr,Rr,Sr)}function li(r){return za(r,Mr,Rr,Sr,fi,Ei,ni,yi,Ci,_i)}function so(r){return za(r,_M)}function Ha(r){return za(r,xC)}function Fr(r){return za(r,Yr,gi,Fn)}function cw(r){if(za(r,Fn)||za(r,gi))throw new TypeError("with() does not support a calendar or timeZone property");if(xs(r))throw new TypeError("with() does not accept Temporal.PlainTime, use withPlainTime() instead");if(void 0!==r.calendar)throw new TypeError("with() does not support a calendar property");if(void 0!==r.timeZone)throw new TypeError("with() does not support a timeZone property")}function PM(r,t){return"never"===t?"":RM(fc(r),t)}function RM(r,t){return"never"===t||"auto"===t&&"iso8601"===r?"":`[${"critical"===t?"!":""}u-ca=${r}]`}function Mf(r){const t=hg.exec(r);if(!t)throw new RangeError(`invalid ISO 8601 string: ${r}`);let n=t[1];if("\u2212"===n[0]&&(n=`-${n.slice(1)}`),"-000000"===n)throw new RangeError(`invalid ISO 8601 string: ${r}`);const i=Es(n),o=Es(t[2]||t[4]),c=Es(t[3]||t[5]),s=Es(t[6]),d=void 0!==t[6],B=Es(t[7]||t[10]);let C=Es(t[8]||t[11]);60===C&&(C=59);const b=(t[9]||t[12])+"000000000",K=Es(b.slice(0,3)),_e=Es(b.slice(3,6)),Ce=Es(b.slice(6,9));let Te,Pe=!1;if(t[13])Te=void 0,Pe=!0;else if(t[14]&&t[15]){const pt=t[17]||"00";let Mt=t[18]||"0";if(Te=`${"-"===t[14]||"\u2212"===t[14]?"-":"+"}${t[15]||"00"}:${t[16]||"00"}`,+Mt){for(;Mt.endsWith("0");)Mt=Mt.slice(0,-1);Te+=`:${pt}.${Mt}`}else+pt&&(Te+=`:${pt}`);"-00:00"===Te&&(Te="+00:00")}const ze=t[19],rt=t[20];let Xe;for(const[,Ze,lt,Et]of rt.matchAll(ch))if("u-ca"===lt)void 0===Xe&&(Xe=Et);else if("!"===Ze)throw new RangeError(`Unrecognized annotation: !${lt}=${Et}`);return ZC(i,o,c,s,B,C,K,_e,Ce),{year:i,month:o,day:c,hasTime:d,hour:s,minute:B,second:C,millisecond:K,microsecond:_e,nanosecond:Ce,ianaName:ze,offset:Te,z:Pe,calendar:Xe}}function OM(r){const t=TC.exec(r);let n,i,o,c;if(t){let s=t[1];if("\u2212"===s[0]&&(s=`-${s.slice(1)}`),"-000000"===s)throw new RangeError(`invalid ISO 8601 string: ${r}`);n=Es(s),i=Es(t[2]);const d=t[3];for(const[,B,C,b]of d.matchAll(ch))if("u-ca"===C)void 0===o&&(o=b);else if("!"===B)throw new RangeError(`Unrecognized annotation: !${C}=${b}`);if(void 0!==o&&"iso8601"!==o)throw new RangeError("YYYY-MM format is only valid with iso8601 calendar")}else{let s;if(({year:n,month:i,calendar:o,day:c,z:s}=Mf(r)),s)throw new RangeError("Z designator not supported for PlainYearMonth")}return{year:n,month:i,calendar:o,referenceISODay:c}}function Wa(r){const t=pg.exec(r);let n,i,o,c;if(t){n=Es(t[1]),i=Es(t[2]);const s=t[3];for(const[,d,B,C]of s.matchAll(ch))if("u-ca"===B)void 0===o&&(o=C);else if("!"===d)throw new RangeError(`Unrecognized annotation: !${B}=${C}`);if(void 0!==o&&"iso8601"!==o)throw new RangeError("MM-DD format is only valid with iso8601 calendar")}else{let s;if(({month:n,day:i,calendar:o,year:c,z:s}=Mf(r)),s)throw new RangeError("Z designator not supported for PlainMonthDay")}return{month:n,day:i,calendar:o,referenceISOYear:c}}function PE(r,t,n,i){let o=r,c=t,s=n;switch(i){case"reject":ph(o,c,s);break;case"constrain":({year:o,month:c,day:s}=WM(o,c,s))}return{year:o,month:c,day:s}}function RE(r,t,n,i,o,c,s){let d=r,B=t,C=n,b=i,K=o,_e=c;switch(s){case"reject":GE(d,B,C,b,K,_e);break;case"constrain":({hour:d,minute:B,second:C,millisecond:b,microsecond:K,nanosecond:_e}=(Pe=B,ze=C,rt=b,Xe=K,Ze=_e,{hour:Hl(d,0,23),minute:Hl(Pe,0,59),second:Hl(ze,0,59),millisecond:Hl(rt,0,999),microsecond:Hl(Xe,0,999),nanosecond:Hl(Ze,0,999)}))}var Pe,ze,rt,Xe,Ze;return{hour:d,minute:B,second:C,millisecond:b,microsecond:K,nanosecond:_e}}function um(r){if(!Fo(r))return function(Te){const Pe=IC.exec(Te);if(!Pe)throw new RangeError(`invalid duration: ${Te}`);if(Pe.slice(2).every(rn=>void 0===rn))throw new RangeError(`invalid duration: ${Te}`);const ze="-"===Pe[1]||"\u2212"===Pe[1]?-1:1,rt=void 0===Pe[2]?0:no(Pe[2])*ze,Xe=void 0===Pe[3]?0:no(Pe[3])*ze,Ze=void 0===Pe[4]?0:no(Pe[4])*ze,lt=void 0===Pe[5]?0:no(Pe[5])*ze,Et=void 0===Pe[6]?0:no(Pe[6])*ze,pt=Pe[7],Mt=Pe[8],Pt=Pe[9],sn=Pe[10],an=Pe[11];let _n=0,$n=0,wn=0;if(void 0!==pt){if(Mt??Pt??sn??an)throw new RangeError("only the smallest unit can be fractional");wn=3600*Es((pt+"000000000").slice(0,9))*ze}else if(_n=void 0===Mt?0:no(Mt)*ze,void 0!==Pt){if(sn??an)throw new RangeError("only the smallest unit can be fractional");wn=60*Es((Pt+"000000000").slice(0,9))*ze}else $n=void 0===sn?0:no(sn)*ze,void 0!==an&&(wn=Es((an+"000000000").slice(0,9))*ze);const Cn=wn%1e3,Wt=v0(wn/1e3)%1e3,nn=v0(wn/1e6)%1e3;return $n+=v0(wn/1e9)%60,_n+=v0(wn/6e10),ZM(rt,Xe,Ze,lt,Et,_n,$n,nn,Wt,Cn),{years:rt,months:Xe,weeks:Ze,days:lt,hours:Et,minutes:_n,seconds:$n,milliseconds:nn,microseconds:Wt,nanoseconds:Cn}}(ka(r));if(Hs(r))return{years:je(r,zc),months:je(r,cc),weeks:je(r,xo),days:je(r,$a),hours:je(r,Ca),minutes:je(r,lc),seconds:je(r,Va),milliseconds:je(r,dc),microseconds:je(r,Hc),nanoseconds:je(r,Wc)};const t={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};let n=function(Te){if(!Fo(Te))throw new TypeError("invalid duration-like");const Pe={years:void 0,months:void 0,weeks:void 0,days:void 0,hours:void 0,minutes:void 0,seconds:void 0,milliseconds:void 0,microseconds:void 0,nanoseconds:void 0};let ze=!1;for(const rt of IM){const Xe=Te[rt];void 0!==Xe&&(ze=!0,Pe[rt]=zs(Xe))}if(!ze)throw new TypeError("invalid duration-like");return Pe}(r);for(const Ce of IM){const Te=n[Ce];void 0!==Te&&(t[Ce]=Te)}let{years:i,months:o,weeks:c,days:s,hours:d,minutes:B,seconds:C,milliseconds:b,microseconds:K,nanoseconds:_e}=t;return ZM(i,o,c,s,d,B,C,b,K,_e),{years:i,months:o,weeks:c,days:s,hours:d,minutes:B,seconds:C,milliseconds:b,microseconds:K,nanoseconds:_e}}function oa(r){return void 0===r?"constrain":Em(r,"overflow",["constrain","reject"],"constrain")}function S0(r){return void 0===r?"compatible":Em(r,"disambiguation",["compatible","earlier","later","reject"],"compatible")}function Ju(r,t){return Em(r,"roundingMode",["ceil","floor","expand","trunc","halfCeil","halfFloor","halfExpand","halfTrunc","halfEven"],t)}function cp(r,t){return void 0===r?t:Em(r,"offset",["prefer","use","ignore","reject"],t)}function lw(r){return Em(r,"calendarName",["auto","always","never","critical"],"auto")}function wg(r){let t=r.roundingIncrement;if(void 0===t)return 1;if(t=dm(t),!Gc(t))throw new RangeError("roundingIncrement must be finite");const n=v0(t);if(n<1||n>1e9)throw new RangeError(`roundingIncrement must be at least 1 and at most 1e9, not ${t}`);return n}function M0(r,t,n){const i=n?t:t-1;if(r>i)throw new RangeError(`roundingIncrement must be at least 1 and less than ${i}, not ${r}`);if(t%r!=0)throw new RangeError(`Rounding increment must divide evenly into ${t}`)}function dw(r){const t=r.fractionalSecondDigits;if(void 0===t)return"auto";if("number"!=typeof t){if("auto"!==ka(t))throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return"auto"}const n=yd(t);if(!Gc(n)||n<0||n>9)throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`);return n}function _g(r,t){switch(r){case"minute":return{precision:"minute",unit:"minute",increment:1};case"second":return{precision:0,unit:"second",increment:1};case"millisecond":return{precision:3,unit:"millisecond",increment:1};case"microsecond":return{precision:6,unit:"microsecond",increment:1};case"nanosecond":return{precision:9,unit:"nanosecond",increment:1}}switch(t){case"auto":return{precision:t,unit:"nanosecond",increment:1};case 0:return{precision:t,unit:"second",increment:1};case 1:case 2:case 3:return{precision:t,unit:"millisecond",increment:10**(3-t)};case 4:case 5:case 6:return{precision:t,unit:"microsecond",increment:10**(6-t)};case 7:case 8:case 9:return{precision:t,unit:"nanosecond",increment:10**(9-t)};default:throw new RangeError(`fractionalSecondDigits must be 'auto' or 0 through 9, not ${t}`)}}const Eg=Symbol("~required~");function ml(r,t,n,i,o=[]){const c=[];for(const[,C,b]of fh)"datetime"!==n&&n!==b||c.push(C);c.push(...o);let s=i;s===Eg?s=void 0:void 0!==s&&c.push(s);const d=[...c];for(const C of c){const b=NC.get(C);void 0!==b&&d.push(b)}let B=Em(r,t,d,s);if(void 0===B&&i===Eg)throw new RangeError(`${t} is required`);return aw.has(B)?aw.get(B):B}function xg(r){const t=r.relativeTo;if(void 0===t)return t;let n,i,o,c,s,d,B,C,b,K,_e,Ce,Te="option",Pe=!1;if(Fo(t)){if(Fr(t)||Wi(t))return t;if(li(t))return Ag(t);K=Ew(t);const ze=sa(K,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);ze.push("timeZone","offset");const rt=hi(t,ze,[]),Xe=uc(null);Xe.overflow="constrain",({year:n,month:i,day:o,hour:c,minute:s,second:d,millisecond:B,microsecond:C,nanosecond:b}=zd(K,rt,Xe)),Ce=rt.offset,void 0===Ce&&(Te="wall"),_e=rt.timeZone,void 0!==_e&&(_e=Ga(_e))}else{let ze,rt;if(({year:n,month:i,day:o,hour:c,minute:s,second:d,millisecond:B,microsecond:C,nanosecond:b,calendar:K,ianaName:ze,offset:Ce,z:rt}=Mf(ka(t))),ze)_e=Ga(ze),rt?Te="exact":Ce||(Te="wall"),Pe=!0;else if(rt)throw new RangeError("Z designator not supported for PlainDate relativeTo; either remove the Z or add a bracketed time zone");if(K||(K="iso8601"),!yp(K))throw new RangeError(`invalid calendar identifier ${K}`);K=Tf(K)}return void 0===_e?gl(n,i,o,K):Dc(BE(n,i,o,c,s,d,B,C,b,Te,"option"===Te?ym(Ce):0,_e,"compatible","reject",Pe),_e,K)}function uw(r,t,n,i,o,c,s,d,B,C){for(const[b,K]of[["years",r],["months",t],["weeks",n],["days",i],["hours",o],["minutes",c],["seconds",s],["milliseconds",d],["microseconds",B],["nanoseconds",C]])if(0!==K)return aw.get(b);return"nanosecond"}function lp(r,t){return TM.indexOf(r)>TM.indexOf(t)?t:r}function hi(r,t,n,{emptySourceErrorMessage:i}={emptySourceErrorMessage:"no supported properties found"}){const o=uc(null);let c=!1;t.sort();for(const s of t){let d=r[s];if(void 0!==d)c=!0,E0.has(s)&&(d=E0.get(s)(d)),o[s]=d;else if("partial"!==n){if(DC.call(n,s))throw new TypeError(`required property '${s}' missing or undefined`);d=bg.get(s),o[s]=d}}if("partial"===n&&!c)throw new TypeError(i);return o}function OE(r,t="complete"){const n=["hour","microsecond","millisecond","minute","nanosecond","second"],i=hi(r,n,"partial",{emptySourceErrorMessage:"invalid time-like"}),o={};for(const c of n){const s=AM(i,c);void 0!==s?o[c]=s.value:"complete"===t&&(o[c]=0)}return o}function Ao(r,t){let n=r;if(Fo(n)){if(Wi(n))return n;if(Fr(n)&&(oa(t),n=vd(je(n,gi),je(n,Vc),je(n,Fn))),li(n))return oa(t),gl(je(n,Mr),je(n,Rr),je(n,Sr),je(n,Fn));const B=Ew(n);return pm(B,hi(n,sa(B,["day","month","monthCode","year"]),[]),t)}oa(t);let{year:i,month:o,day:c,calendar:s,z:d}=Mf(ka(n));if(d)throw new RangeError("Z designator not supported for PlainDate");if(s||(s="iso8601"),!yp(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=Tf(s),gl(i,o,c,s)}function zd(r,t,n){let{hour:i,minute:o,second:c,millisecond:s,microsecond:d,nanosecond:B}=OE(t);const C=oa(n),b=pm(r,t,n),K=je(b,Mr),_e=je(b,Rr),Ce=je(b,Sr);return({hour:i,minute:o,second:c,millisecond:s,microsecond:d,nanosecond:B}=RE(i,o,c,s,d,B,C)),{year:K,month:_e,day:Ce,hour:i,minute:o,second:c,millisecond:s,microsecond:d,nanosecond:B}}function yl(r,t){let n,i,o,c,s,d,B,C,b,K;if(Fo(r)){if(li(r))return r;if(Fr(r))return oa(t),vd(je(r,gi),je(r,Vc),je(r,Fn));if(Wi(r))return oa(t),Vl(je(r,Mr),je(r,Rr),je(r,Sr),0,0,0,0,0,0,je(r,Fn));K=Ew(r);const _e=hi(r,sa(K,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]),[]);({year:n,month:i,day:o,hour:c,minute:s,second:d,millisecond:B,microsecond:C,nanosecond:b}=zd(K,_e,t))}else{let _e;if(oa(t),({year:n,month:i,day:o,hour:c,minute:s,second:d,millisecond:B,microsecond:C,nanosecond:b,calendar:K,z:_e}=Mf(ka(r))),_e)throw new RangeError("Z designator not supported for PlainDateTime");if(ZC(n,i,o,c,s,d,B,C,b),K||(K="iso8601"),!yp(K))throw new RangeError(`invalid calendar identifier ${K}`);K=Tf(K)}return Vl(n,i,o,c,s,d,B,C,b,K)}function $l(r){if(Hs(r))return r;let{years:t,months:n,weeks:i,days:o,hours:c,minutes:s,seconds:d,milliseconds:B,microseconds:C,nanoseconds:b}=um(r);return new(xr("%Temporal.Duration%"))(t,n,i,o,c,s,d,B,C,b)}function qu(r){if(wa(r))return r;if(Fr(r))return new(xr("%Temporal.Instant%"))(je(r,Yr));const t=function LC(r){let{year:t,month:n,day:i,hour:o,minute:c,second:s,millisecond:d,microsecond:B,nanosecond:C,offset:b,z:K}=function(Pe){const ze=Mf(Pe);if(!ze.z&&!ze.offset)throw new RangeError("Temporal.Instant requires a time zone offset");return ze}(r);if(!K&&!b)throw new RangeError("Temporal.Instant requires a time zone offset");const _e=K?0:ym(b);({year:t,month:n,day:i,hour:o,minute:c,second:s,millisecond:d,microsecond:B,nanosecond:C}=k0(t,n,i,o,c,s,d,B,C-_e));const Ce=up(t,n,i,o,c,s,d,B,C);if(null===Ce)throw new RangeError("DateTime outside of supported range");return Ce}(ka(r));return new(xr("%Temporal.Instant%"))(t)}function BM(r,t){let n=r;if(Fo(n)){if(Ha(n))return n;let d,B;if(za(n,Fn))d=je(n,Fn),B=!1;else{let b=n.calendar;B=void 0===b,void 0===b&&(b="iso8601"),d=zl(b)}const C=hi(n,sa(d,["day","month","monthCode","year"]),[]);return B&&void 0!==C.month&&void 0===C.monthCode&&void 0===C.year&&(C.year=1972),I0(d,C,t)}oa(t);let{month:i,day:o,referenceISOYear:c,calendar:s}=Wa(ka(n));if(void 0===s&&(s="iso8601"),!yp(s))throw new RangeError(`invalid calendar identifier ${s}`);return s=Tf(s),void 0===c?(ph(1972,i,o),pw(i,o,s)):I0(s,pw(i,o,s,c))}function dp(r,t="constrain"){let n,i,o,c,s,d,B=r;if(Fo(B)){if(xs(B))return B;if(Fr(B)&&(B=vd(je(B,gi),je(B,Vc),je(B,Fn))),li(B))return new(xr("%Temporal.PlainTime%"))(je(B,fi),je(B,Ei),je(B,ni),je(B,yi),je(B,Ci),je(B,_i));({hour:n,minute:i,second:o,millisecond:c,microsecond:s,nanosecond:d}=OE(B)),({hour:n,minute:i,second:o,millisecond:c,microsecond:s,nanosecond:d}=RE(n,i,o,c,s,d,t))}else({hour:n,minute:i,second:o,millisecond:c,microsecond:s,nanosecond:d}=function(b){const K=AC.exec(b);let _e,Ce,Te,Pe,ze,rt,Xe;if(K){_e=Es(K[1]),Ce=Es(K[2]||K[5]),Te=Es(K[3]||K[6]),60===Te&&(Te=59);const Ze=(K[4]||K[7])+"000000000";Pe=Es(Ze.slice(0,3)),ze=Es(Ze.slice(3,6)),rt=Es(Ze.slice(6,9)),Xe=K[14];for(const[,lt,Et,pt]of Xe.matchAll(ch))if("u-ca"!==Et&&"!"===lt)throw new RangeError(`Unrecognized annotation: !${Et}=${pt}`);if(K[8])throw new RangeError("Z designator not supported for PlainTime")}else{let Ze,lt;if(({hasTime:lt,hour:_e,minute:Ce,second:Te,millisecond:Pe,microsecond:ze,nanosecond:rt,z:Ze}=Mf(b)),!lt)throw new RangeError(`time is missing in string: ${b}`);if(Ze)throw new RangeError("Z designator not supported for PlainTime")}if(/[tT ][0-9][0-9]/.test(b))return{hour:_e,minute:Ce,second:Te,millisecond:Pe,microsecond:ze,nanosecond:rt};try{const{month:Ze,day:lt}=Wa(b);ph(1972,Ze,lt)}catch{try{const{year:Ze,month:lt}=OM(b);ph(Ze,lt,1)}catch{return{hour:_e,minute:Ce,second:Te,millisecond:Pe,microsecond:ze,nanosecond:rt}}}throw new RangeError(`invalid ISO 8601 time-only string ${b}; may need a T prefix`)}(ka(B))),GE(n,i,o,c,s,d);return new(xr("%Temporal.PlainTime%"))(n,i,o,c,s,d)}function fw(r,t){if(Fo(r)){if(so(r))return r;const s=Ew(r);return T0(s,hi(r,sa(s,["month","monthCode","year"]),[]),t)}oa(t);let{year:n,month:i,referenceISODay:o,calendar:c}=OM(ka(r));if(void 0===c&&(c="iso8601"),!yp(c))throw new RangeError(`invalid calendar identifier ${c}`);return c=Tf(c),void 0===o?(ph(n,i,1),Sg(n,i,c)):T0(c,Sg(n,i,c,o))}function BE(r,t,n,i,o,c,s,d,B,C,b,K,_e,Ce,Te){const Pe=new(xr("%Temporal.PlainDateTime%"))(r,t,n,i,o,c,s,d,B);if("wall"===C||"ignore"===Ce)return je(vl(K,Pe,_e),Yr);if("exact"===C||"use"===Ce){const rt=up(r,t,n,i,o,c,s,d,B);if(null===rt)throw new RangeError("ZonedDateTime outside of supported range");return xt.subtract(rt,xt.BigInt(b))}const ze=$E(K,Pe);for(const rt of ze){const Xe=Hd(K,rt),Ze=xt.toNumber(wd(xt.BigInt(Xe),RC,"halfExpand"));if(Xe===b||Te&&Ze===b)return je(rt,Yr)}if("reject"===Ce){const rt=Cg(b),Xe=Kl(K)?je(K,ah):"time zone";throw new RangeError(`Offset ${rt} is invalid for ${Pe.toString()} in ${Xe}`)}return je($C(ze,K,Pe,_e),Yr)}function hw(r,t){let n,i,o,c,s,d,B,C,b,K,_e,Ce,Te,Pe,ze=!1,rt="option";if(Fo(r)){if(Fr(r))return r;Ce=Ew(r);const Ze=sa(Ce,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);Ze.push("timeZone","offset");const lt=hi(r,Ze,["timeZone"]);K=Ga(lt.timeZone),_e=lt.offset,void 0===_e&&(rt="wall"),Te=S0(t),Pe=cp(t,"reject"),({year:n,month:i,day:o,hour:c,minute:s,second:d,millisecond:B,microsecond:C,nanosecond:b}=zd(Ce,lt,t))}else{let Ze,lt;if(({year:n,month:i,day:o,hour:c,minute:s,second:d,millisecond:B,microsecond:C,nanosecond:b,ianaName:Ze,offset:_e,z:lt,calendar:Ce}=function(pt){const Mt=Mf(pt);if(!Mt.ianaName)throw new RangeError("Temporal.ZonedDateTime requires a time zone ID in brackets");return Mt}(ka(r))),K=Ga(Ze),lt?rt="exact":_e||(rt="wall"),Ce||(Ce="iso8601"),!yp(Ce))throw new RangeError(`invalid calendar identifier ${Ce}`);Ce=Tf(Ce),ze=!0,Te=S0(t),Pe=cp(t,"reject"),oa(t)}let Xe=0;return"option"===rt&&(Xe=ym(_e)),Dc(BE(n,i,o,c,s,d,B,C,b,rt,Xe,K,Te,Pe,ze),K,Ce)}function NE(r,t,n,i,o){ph(t,n,i),GM(t,n,i),Fl(r),ji(r,Mr,t),ji(r,Rr,n),ji(r,Sr,i),ji(r,Fn,o),ji(r,wM,!0)}function gl(r,t,n,i="iso8601"){const o=xr("%Temporal.PlainDate%"),c=uc(o.prototype);return NE(c,r,t,n,i),c}function UC(r,t,n,i,o,c,s,d,B,C,b){ZC(t,n,i,o,c,s,d,B,C),yO(t,n,i,o,c,s,d,B,C),Fl(r),ji(r,Mr,t),ji(r,Rr,n),ji(r,Sr,i),ji(r,fi,o),ji(r,Ei,c),ji(r,ni,s),ji(r,yi,d),ji(r,Ci,B),ji(r,_i,C),ji(r,Fn,b)}function Vl(r,t,n,i,o,c,s,d,B,C="iso8601"){const b=xr("%Temporal.PlainDateTime%"),K=uc(b.prototype);return UC(K,r,t,n,i,o,c,s,d,B,C),K}function FC(r,t,n,i,o){ph(o,t,n),GM(o,t,n),Fl(r),ji(r,Rr,t),ji(r,Sr,n),ji(r,Mr,o),ji(r,Fn,i),ji(r,xC,!0)}function pw(r,t,n="iso8601",i=1972){const o=xr("%Temporal.PlainMonthDay%"),c=uc(o.prototype);return FC(c,r,t,n,i),c}function NM(r,t,n,i,o){var s,d;ph(t,n,o),d=n,hc(s=t,CE,sw),s===CE?hc(d,4,12):s===sw&&hc(d,1,9),Fl(r),ji(r,Mr,t),ji(r,Rr,n),ji(r,Sr,o),ji(r,Fn,i),ji(r,_M,!0)}function Sg(r,t,n="iso8601",i=1){const o=xr("%Temporal.PlainYearMonth%"),c=uc(o.prototype);return NM(c,r,t,n,i),c}function mw(r,t,n,i){Og(t),Fl(r),ji(r,Yr,t),ji(r,gi,n),ji(r,Fn,i);const o=new(xr("%Temporal.Instant%"))(je(r,Yr));ji(r,Vc,o)}function Dc(r,t,n="iso8601"){const i=xr("%Temporal.ZonedDateTime%"),o=uc(i.prototype);return mw(o,r,t,n),o}function sa(r,t){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.fields%"),o,[t])}const n=Vr(yo(r,"fields"),r,[t]),i=[];for(const o of n){if("string"!=typeof o)throw new TypeError("bad return from calendar.fields()");MM.call(i,o)}return i}function fm(r,t,n){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.mergeFields%"),o,[t,n])}const i=Vr(yo(r,"mergeFields"),r,[t,n]);if(!Fo(i))throw new TypeError("bad return from calendar.mergeFields()");return i}function Cc(r,t,n,i,o){let c=o;if("string"==typeof r){const d=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.dateAdd%"),d,[t,n,i])}void 0===c&&(c=yo(r,"dateAdd"));const s=DE(c,r,[t,n,i]);if(!Wi(s))throw new TypeError("invalid result");return s}function hm(r,t,n,i,o){let c=o;if("string"==typeof r){const d=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.dateUntil%"),d,[t,n,i])}void 0===c&&(c=yo(r,"dateUntil"));const s=DE(c,r,[t,n,i]);if(!Hs(s))throw new TypeError("invalid result");return s}function LE(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.year%"),i,[t])}let n=Vr(yo(r,"year"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar year result must be an integer");if(!gd(n))throw new RangeError("calendar year result must be an integer");return n}function UE(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.month%"),i,[t])}let n=Vr(yo(r,"month"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar month result must be a positive integer");if(!gd(n)||n<1)throw new RangeError("calendar month result must be a positive integer");return n}function yw(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.monthCode%"),i,[t])}let n=Vr(yo(r,"monthCode"),r,[t]);if("string"!=typeof n)throw new TypeError("calendar monthCode result must be a string");return n}function gw(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.day%"),i,[t])}const n=Vr(yo(r,"day"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar day result must be a positive integer");if(!gd(n)||n<1)throw new RangeError("calendar day result must be a positive integer");return n}function FE(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.era%"),i,[t])}let n=Vr(yo(r,"era"),r,[t]);if(void 0===n)return n;if("string"!=typeof n)throw new TypeError("calendar era result must be a string or undefined");return n}function jE(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.eraYear%"),i,[t])}let n=Vr(yo(r,"eraYear"),r,[t]);if(void 0===n)return n;if("number"!=typeof n)throw new TypeError("calendar eraYear result must be an integer or undefined");if(!gd(n))throw new RangeError("calendar eraYear result must be an integer or undefined");return n}function LM(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.dayOfWeek%"),i,[t])}const n=Vr(yo(r,"dayOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfWeek result must be a positive integer");if(!gd(n)||n<1)throw new RangeError("calendar dayOfWeek result must be a positive integer");return n}function UM(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.dayOfYear%"),i,[t])}const n=Vr(yo(r,"dayOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar dayOfYear result must be a positive integer");if(!gd(n)||n<1)throw new RangeError("calendar dayOfYear result must be a positive integer");return n}function vw(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.weekOfYear%"),i,[t])}const n=Vr(yo(r,"weekOfYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar weekOfYear result must be a positive integer");if(!gd(n)||n<1)throw new RangeError("calendar weekOfYear result must be a positive integer");return n}function jC(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.yearOfWeek%"),i,[t])}const n=Vr(yo(r,"yearOfWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar yearOfWeek result must be an integer");if(!gd(n))throw new RangeError("calendar yearOfWeek result must be an integer");return n}function FM(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.daysInWeek%"),i,[t])}const n=Vr(yo(r,"daysInWeek"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInWeek result must be a positive integer");if(!gd(n)||n<1)throw new RangeError("calendar daysInWeek result must be a positive integer");return n}function Mg(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.daysInMonth%"),i,[t])}const n=Vr(yo(r,"daysInMonth"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInMonth result must be a positive integer");if(!gd(n)||n<1)throw new RangeError("calendar daysInMonth result must be a positive integer");return n}function bw(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.daysInYear%"),i,[t])}const n=Vr(yo(r,"daysInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar daysInYear result must be a positive integer");if(!gd(n)||n<1)throw new RangeError("calendar daysInYear result must be a positive integer");return n}function ww(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.monthsInYear%"),i,[t])}const n=Vr(yo(r,"monthsInYear"),r,[t]);if("number"!=typeof n)throw new TypeError("calendar monthsInYear result must be a positive integer");if(!gd(n)||n<1)throw new RangeError("calendar monthsInYear result must be a positive integer");return n}function _w(r,t){if("string"==typeof r){const i=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.inLeapYear%"),i,[t])}const n=Vr(yo(r,"inLeapYear"),r,[t]);if("boolean"!=typeof n)throw new TypeError("calendar inLeapYear result must be a boolean");return n}function zl(r){if(Fo(r)){if(za(r,Fn))return je(r,Fn);if(!(jo(o=r)||"dateAdd"in o&&"dateFromFields"in o&&"dateUntil"in o&&"day"in o&&"dayOfWeek"in o&&"dayOfYear"in o&&"daysInMonth"in o&&"daysInWeek"in o&&"daysInYear"in o&&"fields"in o&&"id"in o&&"inLeapYear"in o&&"mergeFields"in o&&"month"in o&&"monthCode"in o&&"monthDayFromFields"in o&&"monthsInYear"in o&&"weekOfYear"in o&&"year"in o&&"yearMonthFromFields"in o&&"yearOfWeek"in o))throw new TypeError("expected a Temporal.Calendar or object implementing the Temporal.Calendar protocol");return r}var o;const t=ka(r);if(yp(t))return Tf(t);let n;try{({calendar:n}=Mf(t))}catch{try{({calendar:n}=OM(t))}catch{({calendar:n}=Wa(t))}}if(n||(n="iso8601"),!yp(n))throw new RangeError(`invalid calendar identifier ${n}`);return Tf(n)}function Ew(r){if(za(r,Fn))return je(r,Fn);const{calendar:t}=r;return void 0===t?"iso8601":zl(t)}function fc(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("calendar.id should be a string");return t}function A0(r){return Fo(r)?r:new(xr("%Temporal.Calendar%"))(r)}function xw(r,t){return r===t||fc(r)===fc(t)}function Sw(r,t,n){if(r===t)return;const i=fc(r),o=fc(t);if(i!==o)throw new RangeError(`cannot ${n} of ${i} and ${o} calendars`)}function hO(r,t){if(r===t)return t;const n=fc(r),i=fc(t);if(n===i||"iso8601"===n)return t;if("iso8601"===i)return r;throw new RangeError("irreconcilable calendars")}function pm(r,t,n,i){if("string"==typeof r){const c=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.dateFromFields%"),c,[t,n])}const o=Vr(i??yo(r,"dateFromFields"),r,[t,n]);if(!Wi(o))throw new TypeError("invalid result");return o}function T0(r,t,n){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.yearMonthFromFields%"),o,[t,n])}let i=Vr(yo(r,"yearMonthFromFields"),r,[t,n]);if(!so(i))throw new TypeError("invalid result");return i}function I0(r,t,n){if("string"==typeof r){const o=new(xr("%Temporal.Calendar%"))(r);return Vr(xr("%Temporal.Calendar.prototype.monthDayFromFields%"),o,[t,n])}let i=Vr(yo(r,"monthDayFromFields"),r,[t,n]);if(!Ha(i))throw new TypeError("invalid result");return i}function Ga(r){if(Fo(r)){if(Fr(r))return je(r,gi);if(!(Kl(n=r)||"getOffsetNanosecondsFor"in n&&"getPossibleInstantsFor"in n&&"id"in n))throw new TypeError("expected a Temporal.TimeZone or object implementing the Temporal.TimeZone protocol");return r}var n;return function n7(r){const{ianaName:t,offset:n,z:i}=function(c){if(new RegExp(`^${g0.source}$`,"i").test(c))return{ianaName:c};try{const s=Mf(c);if(s.z||s.offset||s.ianaName)return s}catch{}throw new RangeError(`Invalid time zone: ${c}`)}(r);return t?gm(t):i?"UTC":Cg(ym(n))}(ka(r))}function Mw(r){if("string"==typeof r)return r;const t=r.id;if("string"!=typeof t)throw new TypeError("timeZone.id should be a string");return t}function KC(r){return Fo(r)?r:new(xr("%Temporal.TimeZone%"))(r)}function KE(r,t){return r===t||Mw(r)===Mw(t)}function Ag(r){return gl(je(r,Mr),je(r,Rr),je(r,Sr),je(r,Fn))}function Tg(r){return new(xr("%Temporal.PlainTime%"))(je(r,fi),je(r,Ei),je(r,ni),je(r,yi),je(r,Ci),je(r,_i))}function Hd(r,t,n){if("string"==typeof r){const o=new(xr("%Temporal.TimeZone%"))(r);return Vr(xr("%Temporal.TimeZone.prototype.getOffsetNanosecondsFor%"),o,[t])}const i=Vr(n??yo(r,"getOffsetNanosecondsFor"),r,[t]);if("number"!=typeof i)throw new TypeError("bad return from getOffsetNanosecondsFor");if(!gd(i)||ss(i)>=864e11)throw new RangeError("out-of-range return from getOffsetNanosecondsFor");return i}function Aw(r,t){return Cg(Hd(r,t))}function vd(r,t,n){const i=je(t,Yr),o=Hd(r,t);let{year:c,month:s,day:d,hour:B,minute:C,second:b,millisecond:K,microsecond:_e,nanosecond:Ce}=VM(i);return({year:c,month:s,day:d,hour:B,minute:C,second:b,millisecond:K,microsecond:_e,nanosecond:Ce}=k0(c,s,d,B,C,b,K,_e,Ce+o)),Vl(c,s,d,B,C,b,K,_e,Ce,n)}function vl(r,t,n){return $C($E(r,t),r,t,n)}function $C(r,t,n,i){const o=xr("%Temporal.Instant%"),c=r.length;if(1===c)return r[0];if(c)switch(i){case"compatible":case"earlier":return r[0];case"later":return r[c-1];case"reject":throw new RangeError("multiple instants found")}const s=je(n,Mr),d=je(n,Rr),B=je(n,Sr),C=je(n,fi),b=je(n,Ei),K=je(n,ni),_e=je(n,yi),Ce=je(n,Ci),Te=je(n,_i),Pe=up(s,d,B,C,b,K,_e,Ce,Te);if(null===Pe)throw new RangeError("DateTime outside of supported range");const ze=new o(xt.subtract(Pe,uh)),rt=new o(xt.add(Pe,uh)),Xe=Hd(t,ze),Ze=Hd(t,rt)-Xe;switch(i){case"earlier":{const lt=je(n,Fn),Et=xr("%Temporal.PlainDateTime%"),pt=qM(s,d,B,C,b,K,_e,Ce,Te,lt,0,0,0,0,0,0,0,0,0,-Ze,void 0);return $E(t,new Et(pt.year,pt.month,pt.day,pt.hour,pt.minute,pt.second,pt.millisecond,pt.microsecond,pt.nanosecond,lt))[0]}case"compatible":case"later":{const lt=je(n,Fn),Et=xr("%Temporal.PlainDateTime%"),pt=qM(s,d,B,C,b,K,_e,Ce,Te,lt,0,0,0,0,0,0,0,0,0,Ze,void 0),Mt=$E(t,new Et(pt.year,pt.month,pt.day,pt.hour,pt.minute,pt.second,pt.millisecond,pt.microsecond,pt.nanosecond,lt));return Mt[Mt.length-1]}case"reject":throw new RangeError("no such instant found")}}function $E(r,t,n){if("string"==typeof r){const c=new(xr("%Temporal.TimeZone%"))(r);return Vr(xr("%Temporal.TimeZone.prototype.getPossibleInstantsFor%"),c,[t])}const i=Vr(n??yo(r,"getPossibleInstantsFor"),r,[t]),o=[];for(const c of i){if(!wa(c))throw new TypeError("bad return from getPossibleInstantsFor");MM.call(o,c)}return o}function hh(r){let t;return t=r<0||r>9999?(r<0?"-":"+")+`000000${ss(r)}`.slice(-6):`0000${r}`.slice(-4),t}function ts(r){return`00${r}`.slice(-2)}function Ig(r,t,n,i,o){if("minute"===o)return"";const c=`:${ts(r)}`;let s,d=1e6*t+1e3*n+i;if("auto"===o){if(0===d)return c;for(s=`${d}`.padStart(9,"0");"0"===s[s.length-1];)s=s.slice(0,-1)}else{if(0===o)return c;s=`${d}`.padStart(9,"0").slice(0,o)}return`${c}.${s}`}function jM(r,t,n){let i=t;void 0===i&&(i="UTC");const o=vd(i,r,"iso8601"),c=hh(je(o,Mr)),s=ts(je(o,Rr)),d=ts(je(o,Sr)),B=ts(je(o,fi)),C=ts(je(o,Ei)),b=Ig(je(o,ni),je(o,yi),je(o,Ci),je(o,_i),n);let K="Z";return void 0!==t&&(K=pO(Hd(i,r))),`${c}-${s}-${d}T${B}:${C}${b}${K}`}function KM(r,t="auto",n){function i(sn){return sn<=dO?sn.toString(10):xt.BigInt(sn).toString(10)}const o=je(r,zc),c=je(r,cc),s=je(r,xo),d=je(r,$a),B=je(r,Ca),C=je(r,lc);let b=je(r,Va),K=je(r,dc),_e=je(r,Hc),Ce=je(r,Wc);const Te=Af(o,c,s,d,B,C,b,K,_e,Ce);if(n){const{unit:sn,increment:an,roundingMode:_n}=n;({seconds:b,milliseconds:K,microseconds:_e,nanoseconds:Ce}=hp(0,0,0,0,0,0,b,K,_e,Ce,an,sn,_n))}const Pe=[];o&&Pe.push(`${i(ss(o))}Y`),c&&Pe.push(`${i(ss(c))}M`),s&&Pe.push(`${i(ss(s))}W`),d&&Pe.push(`${i(ss(d))}D`);const ze=[];B&&ze.push(`${i(ss(B))}H`),C&&ze.push(`${i(ss(C))}M`);const rt=[];let Xe,Ze,lt,Et,pt=Pg(0,0,0,b,K,_e,Ce,0);({quotient:pt,remainder:Xe}=ds(pt,mo)),({quotient:pt,remainder:Ze}=ds(pt,mo)),({quotient:Et,remainder:lt}=ds(pt,mo));const Mt=1e6*ss(xt.toNumber(lt))+1e3*ss(xt.toNumber(Ze))+ss(xt.toNumber(Xe));let Pt;if("auto"===t){if(0!==Mt)for(Pt=`${Mt}`.padStart(9,"0");"0"===Pt[Pt.length-1];)Pt=Pt.slice(0,-1)}else 0!==t&&(Pt=`${Mt}`.padStart(9,"0").slice(0,t));return Pt&&rt.unshift(".",Pt),xt.equal(Et,Vs)&&!rt.length&&"auto"===t||rt.unshift(jl(Et).toString()),rt.length&&ze.push(`${rt.join("")}S`),ze.length&&ze.unshift("T"),Pe.length||ze.length?`${Te<0?"-":""}P${Pe.join("")}${ze.join("")}`:"PT0S"}function VC(r,t="auto"){return`${hh(je(r,Mr))}-${ts(je(r,Rr))}-${ts(je(r,Sr))}${PM(je(r,Fn),t)}`}function $M(r,t,n="auto",i){let o=je(r,Mr),c=je(r,Rr),s=je(r,Sr),d=je(r,fi),B=je(r,Ei),C=je(r,ni),b=je(r,yi),K=je(r,Ci),_e=je(r,_i);if(i){const{unit:Ce,increment:Te,roundingMode:Pe}=i;({year:o,month:c,day:s,hour:d,minute:B,second:C,millisecond:b,microsecond:K,nanosecond:_e}=tA(o,c,s,d,B,C,b,K,_e,Te,Ce,Pe))}return`${hh(o)}-${ts(c)}-${ts(s)}T${ts(d)}:${ts(B)}${Ig(C,b,K,_e,t)}${PM(je(r,Fn),n)}`}function VE(r,t="auto"){let n=`${ts(je(r,Rr))}-${ts(je(r,Sr))}`;const i=fc(je(r,Fn));("always"===t||"critical"===t||"iso8601"!==i)&&(n=`${hh(je(r,Mr))}-${n}`);const o=RM(i,t);return o&&(n+=o),n}function zE(r,t="auto"){let n=`${hh(je(r,Mr))}-${ts(je(r,Rr))}`;const i=fc(je(r,Fn));("always"===t||"critical"===t||"iso8601"!==i)&&(n+=`-${ts(je(r,Sr))}`);const o=RM(i,t);return o&&(n+=o),n}function mm(r,t,n="auto",i="auto",o="auto",c){let s=je(r,Vc);if(c){const{unit:b,increment:K,roundingMode:_e}=c,Ce=Dw(je(r,Yr),K,b,_e);s=new(xr("%Temporal.Instant%"))(Ce)}const d=je(r,gi),B=vd(d,s,"iso8601");let C=`${hh(je(B,Mr))}-${ts(je(B,Rr))}-${ts(je(B,Sr))}T${ts(je(B,fi))}:${ts(je(B,Ei))}${Ig(je(B,ni),je(B,yi),je(B,Ci),je(B,_i),t)}`;return"never"!==o&&(C+=pO(Hd(d,s))),"never"!==i&&(C+=`[${"critical"===i?"!":""}${Mw(d)}]`),C+=PM(je(r,Fn),n),C}function Dg(r){return oA.test(IE(r))}function ym(r){const t=oA.exec(IE(r));if(!t)throw new RangeError(`invalid time zone offset: ${r}`);return("-"===t[1]||"\u2212"===t[1]?-1:1)*(1e9*(60*(60*+t[2]+ +(t[3]||0))+ +(t[4]||0))+ +((t[5]||0)+"000000000").slice(0,9))}function gm(r){return Dg(r)?Cg(ym(r)):CM(IE(r)).resolvedOptions().timeZone}function vm(r,t){const{year:n,month:i,day:o,hour:c,minute:s,second:d,millisecond:B,microsecond:C,nanosecond:b}=mO(r,t),K=n%400,_e=(n-K)/400,Ce=xt.multiply(xt.BigInt(146097),uh),Te=up(K,i,o,c,s,d,B,C,b),Pe=xt.add(Te,xt.multiply(Ce,xt.BigInt(_e)));return xt.toNumber(xt.subtract(Pe,t))}function Cg(r){const t=r<0?"-":"+",n=ss(r),i=n%1e9,o=yd(n/1e9)%60,c=yd(n/6e10)%60,s=ts(yd(n/36e11)),d=ts(c),B=ts(o);let C="";if(i){let b=`${i}`.padStart(9,"0");for(;"0"===b[b.length-1];)b=b.slice(0,-1);C=`:${B}.${b}`}else o&&(C=`:${B}`);return`${t}${s}:${d}${C}`}function pO(r){let t=xt.toNumber(wd(xt.BigInt(r),RC,"halfExpand"));const n=t<0?"-":"+";t=ss(t);const i=t/6e10%60;return`${n}${ts(yd(t/36e11))}:${ts(i)}`}function up(r,t,n,i,o,c,s,d,B){const C=new Date;C.setUTCHours(i,o,c,s),C.setUTCFullYear(r,t-1,n);const b=C.getTime();if(iw(b))return null;let K=xt.multiply(xt.BigInt(b),Vd);return K=xt.add(K,xt.multiply(xt.BigInt(d),mo)),K=xt.add(K,xt.BigInt(B)),xt.lessThan(K,ow)||xt.greaterThan(K,vg)?null:K}function VM(r){const{quotient:t,remainder:n}=ds(r,Vd);let i=xt.toNumber(t),o=xt.toNumber(n);o<0&&(o+=1e6,i-=1);const c=yd(o/1e3)%1e3,s=o%1e3,d=new Date(i);return{epochMilliseconds:i,year:d.getUTCFullYear(),month:d.getUTCMonth()+1,day:d.getUTCDate(),hour:d.getUTCHours(),minute:d.getUTCMinutes(),second:d.getUTCSeconds(),millisecond:d.getUTCMilliseconds(),microsecond:c,nanosecond:s}}function mO(r,t){const{epochMilliseconds:n,millisecond:i,microsecond:o,nanosecond:c}=VM(t),{year:s,month:d,day:B,hour:C,minute:b,second:K}=(Te=n,function(rt){const Xe=rt.split(/[^\w]+/);if(7!==Xe.length)throw new RangeError(`expected 7 parts in "${rt}`);const Ze=+Xe[0],lt=+Xe[1];let Et=+Xe[2];const pt=Xe[3].toUpperCase();if("B"===pt||"BC"===pt)Et=1-Et;else if("A"!==pt&&"AD"!==pt)throw new RangeError(`Unknown era ${pt} in "${rt}`);let Mt=+Xe[4];24===Mt&&(Mt=0);const Pt=+Xe[5],sn=+Xe[6];if(!(Gc(Et)&&Gc(Ze)&&Gc(lt)&&Gc(Mt)&&Gc(Pt)&&Gc(sn)))throw new RangeError(`Invalid number in "${rt}`);return{year:Et,month:Ze,day:lt,hour:Mt,minute:Pt,second:sn}}(CM(r).format(new Date(Te))));var Te;return k0(s,d,B,C,b,K,i,o,c)}function D0(r,t){return xt.lessThan(r,t)?t:r}function zC(){return xt.add(iA(),lm)}function HC(r,t){if(xt.lessThan(t,b0))return HC(r,b0);const n=xt.add(t,kE),i=D0(zC(),n);let o=D0(b0,t);const c=vm(r,o);let s=o,d=c;for(;c===d&&xt.lessThan(xt.BigInt(o),i);){if(s=xt.add(o,OC),xt.greaterThan(s,vg))return null;d=vm(r,s),c===d&&(o=s)}return c===d?null:qE(B=>vm(r,B),o,s,c,d)}function zM(r,t){const n=zC(),i=xt.greaterThan(t,n),o=i?xt.subtract(t,kE):b0;if("Africa/Casablanca"===r||"Africa/El_Aaiun"===r){const C=je(qu("2088-01-01T00Z"),Yr);if(xt.lessThan(C,t))return zM(r,C)}let c=xt.subtract(t,gg);if(xt.lessThan(c,b0))return null;const s=vm(r,c);let d=c,B=s;for(;s===B&&xt.greaterThan(c,o);){if(d=xt.subtract(c,OC),xt.lessThan(d,b0))return null;B=vm(r,d),s===B&&(c=d)}if(s===B){if(i){const C=xt.subtract(n,uh);return zM(r,C)}return null}return qE(C=>vm(r,C),d,c,B,s)}function wu(r){return void 0!==r&&r%4==0&&(r%100!=0||r%400==0)}function fp(r,t){return{standard:[31,28,31,30,31,30,31,31,30,31,30,31],leapyear:[31,29,31,30,31,30,31,31,30,31,30,31]}[wu(r)?"leapyear":"standard"][t-1]}function kg(r,t,n){const i=t+(t<3?10:-2),o=r-(t<3?1:0),c=yd(o/100),s=o-100*c,d=(n+yd(2.6*i-.2)+(s+yd(s/4))+(yd(c/4)-2*c))%7;return d+(d<=0?7:0)}function C0(r,t,n){let i=n;for(let o=t-1;o>0;o--)i+=fp(r,o);return i}function bd(r,t,n){const i=C0(r,t,n),o=kg(r,t,n)||7,c=kg(r,1,1),s=yd((i-o+10)/7);return s<1?5===c||6===c&&wu(r-1)?{week:53,year:r-1}:{week:52,year:r-1}:53===s&&(wu(r)?366:365)-i<4-o?{week:1,year:r+1}:{week:s,year:r}}function Af(r,t,n,i,o,c,s,d,B,C){for(const b of[r,t,n,i,o,c,s,d,B,C])if(0!==b)return b<0?-1:1;return 0}function Tw(r,t){let n=r,i=t;if(!Gc(n)||!Gc(i))throw new RangeError("infinity is out of range");return i-=1,n+=yd(i/12),i%=12,i<0&&(i+=12),i+=1,{year:n,month:i}}function HE(r,t,n){let i=r,o=t,c=n;if(!Gc(c))throw new RangeError("infinity is out of range");({year:i,month:o}=Tw(i,o));const s=146097;if(ss(c)>s){const C=v0(c/s);i+=400*C,c-=C*s}let d=0,B=o>2?i:i-1;for(;d=wu(B)?366:365,c<-d;)i-=1,B-=1,c+=d;for(B+=1;d=wu(B)?366:365,c>d;)i+=1,B+=1,c-=d;for(;c<1;)({year:i,month:o}=Tw(i,o-1)),c+=fp(i,o);for(;c>fp(i,o);)c-=fp(i,o),({year:i,month:o}=Tw(i,o+1));return{year:i,month:o,day:c}}function k0(r,t,n,i,o,c,s,d,B){const{deltaDays:C,hour:b,minute:K,second:_e,millisecond:Ce,microsecond:Te,nanosecond:Pe}=_u(i,o,c,s,d,B),{year:ze,month:rt,day:Xe}=HE(r,t,n+C);return{year:ze,month:rt,day:Xe,hour:b,minute:K,second:_e,millisecond:Ce,microsecond:Te,nanosecond:Pe}}function _u(r,t,n,i,o,c){let s,d=xt.BigInt(r),B=xt.BigInt(t),C=xt.BigInt(n),b=xt.BigInt(i),K=xt.BigInt(o),_e=xt.BigInt(c);return({quotient:s,remainder:_e}=R0(_e,mo)),K=xt.add(K,s),({quotient:s,remainder:K}=R0(K,mo)),b=xt.add(b,s),({quotient:s,remainder:b}=R0(b,mo)),C=xt.add(C,s),({quotient:s,remainder:C}=R0(C,lh)),B=xt.add(B,s),({quotient:s,remainder:B}=R0(B,lh)),d=xt.add(d,s),({quotient:s,remainder:d}=R0(d,kC)),{deltaDays:xt.toNumber(s),hour:xt.toNumber(d),minute:xt.toNumber(B),second:xt.toNumber(C),millisecond:xt.toNumber(b),microsecond:xt.toNumber(K),nanosecond:xt.toNumber(_e)}}function Pg(r,t,n,i,o,c,s,d){const B=xt.BigInt(r);let C=xt.BigInt(s);0!==r&&(C=xt.subtract(xt.BigInt(s),xt.BigInt(d)));const b=xt.add(xt.BigInt(t),xt.multiply(B,xt.BigInt(24))),K=xt.add(xt.BigInt(n),xt.multiply(b,lh)),_e=xt.add(xt.BigInt(i),xt.multiply(K,lh)),Ce=xt.add(xt.BigInt(o),xt.multiply(_e,mo)),Te=xt.add(xt.BigInt(c),xt.multiply(Ce,mo));return xt.add(xt.BigInt(C),xt.multiply(Te,mo))}function HM(r,t){const n=xr("%Temporal.Instant%"),i=yg(xt.toNumber(r));let o=xt.BigInt(r),c=864e11;if(0===i)return{days:0,nanoseconds:Vs,dayLengthNs:c};if(!Fr(t)){let Ze;return({quotient:Ze,remainder:o}=ds(o,xt.BigInt(c))),{days:xt.toNumber(Ze),nanoseconds:o,dayLengthNs:c}}const s=je(t,Yr),d=je(t,Vc),B=xt.add(s,o),C=new n(B),b=je(t,gi),K=je(t,Fn),_e=vd(b,d,K),Ce=vd(b,C,K);let{days:Te}=YM(je(_e,Mr),je(_e,Rr),je(_e,Sr),je(_e,fi),je(_e,Ei),je(_e,ni),je(_e,yi),je(_e,Ci),je(_e,_i),je(Ce,Mr),je(Ce,Rr),je(Ce,Sr),je(Ce,fi),je(Ce,Ei),je(Ce,ni),je(Ce,yi),je(Ce,Ci),je(Ce,_i),K,"day",uc(null)),Pe=Wd(d,b,K,0,0,0,Te,0,0,0,0,0,0),ze=xt.BigInt(Te);if(1===i)for(;xt.greaterThan(ze,Vs)&&xt.greaterThan(Pe,B);)ze=xt.subtract(ze,gg),Pe=Wd(d,b,K,0,0,0,xt.toNumber(ze),0,0,0,0,0,0);o=xt.subtract(B,Pe);let rt=!1,Xe=new n(Pe);do{const Ze=Wd(Xe,b,K,0,0,0,i,0,0,0,0,0,0),lt=je(Xe,Yr);c=xt.toNumber(xt.subtract(Ze,lt)),rt=xt.greaterThanOrEqual(xt.multiply(xt.subtract(o,xt.BigInt(c)),xt.BigInt(i)),Vs),rt&&(o=xt.subtract(o,xt.BigInt(c)),Xe=new n(Ze),ze=xt.add(ze,xt.BigInt(i)))}while(rt);if(!bu(ze)&&_0(ze)!==i)throw new RangeError("Time zone or calendar converted nanoseconds into a number of days with the opposite sign");if(!bu(o)&&_0(o)!==i)throw ap(o)&&1===i?new Error("assert not reached"):new RangeError("Time zone or calendar ended up with a remainder of nanoseconds with the opposite sign");if(xt.greaterThanOrEqual(jl(o),jl(xt.BigInt(c))))throw new Error("assert not reached");return{days:xt.toNumber(ze),nanoseconds:o,dayLengthNs:ss(c)}}function Eu(r,t,n,i,o,c,s,d,B){let C=Rg(r,t,n,i,o,c,s,d,B);if("positive overflow"===C||"negative overflow"===C)throw new RangeError("Duration out of range");return C}function Rg(r,t,n,i,o,c,s,d,B){let C,b,K,_e,Ce,Te,Pe=r;if(Fr(B)){const Mt=Wd(je(B,Vc),je(B,gi),je(B,Fn),0,0,0,Pe,t,n,i,o,c,s),Pt=je(B,Yr);C=xt.subtract(Mt,Pt)}else C=Pg(Pe,t,n,i,o,c,s,0);"year"===d||"month"===d||"week"===d||"day"===d?({days:Pe,nanoseconds:C}=HM(C,B)):Pe=0;const ze=xt.lessThan(C,Vs)?-1:1;switch(C=jl(C),b=K=_e=Ce=Te=Vs,d){case"year":case"month":case"week":case"day":case"hour":({quotient:b,remainder:C}=ds(C,mo)),({quotient:K,remainder:b}=ds(b,mo)),({quotient:_e,remainder:K}=ds(K,mo)),({quotient:Ce,remainder:_e}=ds(_e,lh)),({quotient:Te,remainder:Ce}=ds(Ce,lh));break;case"minute":({quotient:b,remainder:C}=ds(C,mo)),({quotient:K,remainder:b}=ds(b,mo)),({quotient:_e,remainder:K}=ds(K,mo)),({quotient:Ce,remainder:_e}=ds(_e,lh));break;case"second":({quotient:b,remainder:C}=ds(C,mo)),({quotient:K,remainder:b}=ds(b,mo)),({quotient:_e,remainder:K}=ds(K,mo));break;case"millisecond":({quotient:b,remainder:C}=ds(C,mo)),({quotient:K,remainder:b}=ds(b,mo));break;case"microsecond":({quotient:b,remainder:C}=ds(C,mo));break;case"nanosecond":break;default:throw new Error("assert not reached")}const rt=xt.toNumber(Te)*ze,Xe=xt.toNumber(Ce)*ze,Ze=xt.toNumber(_e)*ze,lt=xt.toNumber(K)*ze,Et=xt.toNumber(b)*ze,pt=xt.toNumber(C)*ze;for(const Mt of[Pe,rt,Xe,Ze,lt,Et,pt])if(!Gc(Mt))return 1===ze?"positive overflow":"negative overflow";return{days:Pe,hours:rt,minutes:Xe,seconds:Ze,milliseconds:lt,microseconds:Et,nanoseconds:pt}}function WE(r,t,n,i,o,c){const s=xr("%Temporal.Duration%"),d=Af(r,t,n,i,0,0,0,0,0,0);if(0===d)return{years:r,months:t,weeks:n,days:i};const B=xt.BigInt(d);let C,b,K=xt.BigInt(r),_e=xt.BigInt(t),Ce=xt.BigInt(n),Te=xt.BigInt(i);c&&(b=Ao(c),C=je(b,Fn));const Pe=new s(d),ze=new s(0,d),rt=new s(0,0,d);switch(o){case"year":break;case"month":{if(!C)throw new RangeError("a starting point is required for months balancing");let Xe,Ze;for("string"!=typeof C&&(Xe=yo(C,"dateAdd"),Ze=yo(C,"dateUntil"));!bu(K);){const lt=Cc(C,b,Pe,void 0,Xe),Et=uc(null);Et.largestUnit="month";const pt=hm(C,b,lt,Et,Ze),Mt=xt.BigInt(je(pt,cc));b=lt,_e=xt.add(_e,Mt),K=xt.subtract(K,B)}}break;case"week":{if(!C)throw new RangeError("a starting point is required for weeks balancing");const Xe="string"!=typeof C?yo(C,"dateAdd"):void 0;for(;!bu(K);){let Ze;({relativeTo:b,days:Ze}=pc(C,b,Pe,Xe)),Te=xt.add(Te,xt.BigInt(Ze)),K=xt.subtract(K,B)}for(;!bu(_e);){let Ze;({relativeTo:b,days:Ze}=pc(C,b,ze,Xe)),Te=xt.add(Te,xt.BigInt(Ze)),_e=xt.subtract(_e,B)}break}default:{if(bu(K)&&bu(_e)&&bu(Ce))break;if(!C)throw new RangeError("a starting point is required for balancing calendar units");const Xe="string"!=typeof C?yo(C,"dateAdd"):void 0;for(;!bu(K);){let Ze;({relativeTo:b,days:Ze}=pc(C,b,Pe,Xe)),Te=xt.add(Te,xt.BigInt(Ze)),K=xt.subtract(K,B)}for(;!bu(_e);){let Ze;({relativeTo:b,days:Ze}=pc(C,b,ze,Xe)),Te=xt.add(Te,xt.BigInt(Ze)),_e=xt.subtract(_e,B)}for(;!bu(Ce);){let Ze;({relativeTo:b,days:Ze}=pc(C,b,rt,Xe)),Te=xt.add(Te,xt.BigInt(Ze)),Ce=xt.subtract(Ce,B)}break}}return{years:xt.toNumber(K),months:xt.toNumber(_e),weeks:xt.toNumber(Ce),days:xt.toNumber(Te)}}function WC(r,t,n,i,o){if(Fr(r)){const c=je(r,Vc),s=je(r,gi),d=je(r,Fn),B=Hd(s,c),C=Wd(c,s,d,t,n,i,o,0,0,0,0,0,0);return Hd(s,new(xr("%Temporal.Instant%"))(C))-B}return 0}function GC(r){return new(xr("%Temporal.Duration%"))(-je(r,zc),-je(r,cc),-je(r,xo),-je(r,$a),-je(r,Ca),-je(r,lc),-je(r,Va),-je(r,dc),-je(r,Hc),-je(r,Wc))}function Hl(r,t,n){return cO(n,mg(t,r))}function WM(r,t,n){const i=Hl(t,1,12);return{year:r,month:i,day:Hl(n,1,fp(r,i))}}function hc(r,t,n){if(r<t||r>n)throw new RangeError(`value out of range: ${t} <= ${r} <= ${n}`)}function ph(r,t,n){hc(t,1,12),hc(n,1,fp(r,t))}function GM(r,t,n){yO(r,t,n,12,0,0,0,0,0)}function GE(r,t,n,i,o,c){hc(r,0,23),hc(t,0,59),hc(n,0,59),hc(i,0,999),hc(o,0,999),hc(c,0,999)}function ZC(r,t,n,i,o,c,s,d,B){ph(r,t,n),GE(i,o,c,s,d,B)}function yO(r,t,n,i,o,c,s,d,B){if(hc(r,CE,sw),r===CE&&null==up(r,t,n+1,i,o,c,s,d,B-1)||r===sw&&null==up(r,t,n-1,i,o,c,s,d,B+1))throw new RangeError("DateTime outside of supported range")}function Og(r){if(xt.lessThan(r,ow)||xt.greaterThan(r,vg))throw new RangeError("Instant outside of supported range")}function ZM(r,t,n,i,o,c,s,d,B,C){const b=Af(r,t,n,i,o,c,s,d,B,C);for(const K of[r,t,n,i,o,c,s,d,B,C]){if(!Gc(K))throw new RangeError("infinite values not allowed as duration fields");const _e=yg(K);if(0!==_e&&_e!==b)throw new RangeError("mixed-sign values not allowed as duration fields")}}function ZE(r,t,n,i,o,c,s){switch(s){case"year":case"month":{const d=-wm(r,t,n,i,o,c);if(0===d)return{years:0,months:0,weeks:0,days:0};const B={year:r,month:t,day:n},C={year:i,month:o,day:c};let b=C.year-B.year,K=bm(r,t,n,b,0,0,0,"constrain"),_e=-wm(K.year,K.month,K.day,i,o,c);if(0===_e)return"year"===s?{years:b,months:0,weeks:0,days:0}:{years:0,months:12*b,weeks:0,days:0};let Ce=C.month-B.month;if(_e!==d&&(b-=d,Ce+=12*d),K=bm(r,t,n,b,Ce,0,0,"constrain"),_e=-wm(K.year,K.month,K.day,i,o,c),0===_e)return"year"===s?{years:b,months:Ce,weeks:0,days:0}:{years:0,months:Ce+12*b,weeks:0,days:0};_e!==d&&(Ce-=d,Ce===-d&&(b-=d,Ce=11*d),K=bm(r,t,n,b,Ce,0,0,"constrain"));let Te=0;return Te=K.month===C.month?C.day-K.day:d<0?-K.day-(fp(C.year,C.month)-C.day):C.day+(fp(K.year,K.month)-K.day),"month"===s&&(Ce+=12*b,b=0),{years:b,months:Ce,weeks:0,days:Te}}case"week":case"day":{let d,B,C;wm(r,t,n,i,o,c)<0?(B={year:r,month:t,day:n},d={year:i,month:o,day:c},C=1):(B={year:i,month:o,day:c},d={year:r,month:t,day:n},C=-1);let b=C0(d.year,d.month,d.day)-C0(B.year,B.month,B.day);for(let _e=B.year;_e<d.year;++_e)b+=wu(_e)?366:365;let K=0;return"week"===s&&(K=yd(b/7),b%=7),K*=C,b*=C,{years:0,months:0,weeks:K,days:b}}default:throw new Error("assert not reached")}}function Iw(r,t,n,i,o,c,s,d,B,C,b,K){let _e=s-r,Ce=d-t,Te=B-n,Pe=C-i,ze=b-o,rt=K-c;const Xe=Af(0,0,0,0,_e,Ce,Te,Pe,ze,rt);_e*=Xe,Ce*=Xe,Te*=Xe,Pe*=Xe,ze*=Xe,rt*=Xe;let Ze=0;if(({deltaDays:Ze,hour:_e,minute:Ce,second:Te,millisecond:Pe,microsecond:ze,nanosecond:rt}=_u(_e,Ce,Te,Pe,ze,rt)),0!=Ze)throw new Error("assertion failure in DifferenceTime: _bt_.[[Days]] should be 0");return _e*=Xe,Ce*=Xe,Te*=Xe,Pe*=Xe,ze*=Xe,rt*=Xe,{hours:_e,minutes:Ce,seconds:Te,milliseconds:Pe,microseconds:ze,nanoseconds:rt}}function XM(r,t,n,i,o,c){const s=xt.subtract(t,r);let d=0,B=0,C=xt.toNumber(xt.remainder(s,mo)),b=xt.toNumber(xt.remainder(xt.divide(s,mo),mo)),K=xt.toNumber(xt.remainder(xt.divide(s,Vd),mo)),_e=xt.toNumber(xt.divide(s,dh));return({hours:d,minutes:B,seconds:_e,milliseconds:K,microseconds:b,nanoseconds:C}=hp(0,0,0,0,0,0,_e,K,b,C,n,i,c)),Eu(0,d,B,_e,K,b,C,o)}function YM(r,t,n,i,o,c,s,d,B,C,b,K,_e,Ce,Te,Pe,ze,rt,Xe,Ze,lt){let Et=r,pt=t,Mt=n,{hours:Pt,minutes:sn,seconds:an,milliseconds:_n,microseconds:$n,nanoseconds:wn}=Iw(i,o,c,s,d,B,_e,Ce,Te,Pe,ze,rt);const Cn=Af(0,0,0,0,Pt,sn,an,_n,$n,wn);wm(C,b,K,Et,pt,Mt)===-Cn&&(({year:Et,month:pt,day:Mt}=HE(Et,pt,Mt-Cn)),({hours:Pt,minutes:sn,seconds:an,milliseconds:_n,microseconds:$n,nanoseconds:wn}=Eu(-Cn,Pt,sn,an,_n,$n,wn,Ze)));const Wt=gl(Et,pt,Mt,Xe),nn=gl(C,b,K,Xe),rn=lp("day",Ze),Sn=mp(lt);Sn.largestUnit=rn;let{years:un,months:In,weeks:Gn,days:Wn}=hm(Xe,Wt,nn,Sn);return({days:Wn,hours:Pt,minutes:sn,seconds:an,milliseconds:_n,microseconds:$n,nanoseconds:wn}=Eu(Wn,Pt,sn,an,_n,$n,wn,Ze)),{years:un,months:In,weeks:Gn,days:Wn,hours:Pt,minutes:sn,seconds:an,milliseconds:_n,microseconds:$n,nanoseconds:wn}}function JM(r,t,n,i,o,c){const s=xt.subtract(t,r);if(xt.equal(s,Vs))return{years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,milliseconds:0,microseconds:0,nanoseconds:0};const d=xr("%Temporal.Instant%"),B=new d(r),C=new d(t),b=vd(n,B,i),K=vd(n,C,i);let{years:_e,months:Ce,weeks:Te,days:Pe}=YM(je(b,Mr),je(b,Rr),je(b,Sr),je(b,fi),je(b,Ei),je(b,ni),je(b,yi),je(b,Ci),je(b,_i),je(K,Mr),je(K,Rr),je(K,Sr),je(K,fi),je(K,Ei),je(K,ni),je(K,yi),je(K,Ci),je(K,_i),i,o,c);const ze=Wd(B,n,i,_e,Ce,Te,0,0,0,0,0,0,0);let rt=xt.subtract(t,ze);const Xe=Dc(ze,n,i);({nanoseconds:rt,days:Pe}=HM(rt,Xe));const{hours:Ze,minutes:lt,seconds:Et,milliseconds:pt,microseconds:Mt,nanoseconds:Pt}=Eu(0,0,0,0,0,0,xt.toNumber(rt),"hour");return{years:_e,months:Ce,weeks:Te,days:Pe,hours:Ze,minutes:lt,seconds:Et,milliseconds:pt,microseconds:Mt,nanoseconds:Pt}}function mh(r,t,n,i,o,c){const s=fh.reduce((Ce,Te)=>{const Pe=Te[0],ze=Te[1];return"datetime"!==n&&Te[2]!==n||i.includes(ze)||Ce.push(ze,Pe),Ce},[]);let d=ml(t,"largestUnit",n,"auto");if(i.includes(d))throw new RangeError(`largestUnit must be one of ${s.join(", ")}, not ${d}`);const B=wg(t);let C=Ju(t,"trunc");"since"===r&&(C=function(Te){switch(Te){case"ceil":return"floor";case"floor":return"ceil";case"halfCeil":return"halfFloor";case"halfFloor":return"halfCeil";default:return Te}}(C));const b=ml(t,"smallestUnit",n,o);if(i.includes(b))throw new RangeError(`smallestUnit must be one of ${s.join(", ")}, not ${b}`);const K=lp(c,b);if("auto"===d&&(d=K),lp(d,b)!==d)throw new RangeError(`largestUnit ${d} cannot be smaller than smallestUnit ${b}`);const _e={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[b];return void 0!==_e&&M0(B,_e,!1),{largestUnit:d,roundingIncrement:B,roundingMode:C,smallestUnit:b}}function XC(r,t,n,i){const o="since"===r?-1:1,c=qu(n),s=mh(r,mp(i),"time",[],"nanosecond","second"),d=je(t,Yr),B=je(c,Yr);let{hours:C,minutes:b,seconds:K,milliseconds:_e,microseconds:Ce,nanoseconds:Te}=XM(d,B,s.roundingIncrement,s.smallestUnit,s.largestUnit,s.roundingMode);return new(xr("%Temporal.Duration%"))(0,0,0,0,o*C,o*b,o*K,o*_e,o*Ce,o*Te)}function YC(r,t,n,i){const o="since"===r?-1:1,c=Ao(n),s=je(t,Fn);Sw(s,je(c,Fn),"compute difference between dates");const d=mp(i),B=mh(r,d,"date",[],"day","day");d.largestUnit=B.largestUnit;let{years:C,months:b,weeks:K,days:_e}=hm(s,t,c,d);return"day"===B.smallestUnit&&1===B.roundingIncrement||({years:C,months:b,weeks:K,days:_e}=hp(C,b,K,_e,0,0,0,0,0,0,B.roundingIncrement,B.smallestUnit,B.roundingMode,t)),new(xr("%Temporal.Duration%"))(o*C,o*b,o*K,o*_e,0,0,0,0,0,0)}function JC(r,t,n,i){const o="since"===r?-1:1,c=yl(n),s=je(t,Fn);Sw(s,je(c,Fn),"compute difference between dates");const d=mp(i),B=mh(r,d,"datetime",[],"nanosecond","day");let{years:C,months:b,weeks:K,days:_e,hours:Ce,minutes:Te,seconds:Pe,milliseconds:ze,microseconds:rt,nanoseconds:Xe}=YM(je(t,Mr),je(t,Rr),je(t,Sr),je(t,fi),je(t,Ei),je(t,ni),je(t,yi),je(t,Ci),je(t,_i),je(c,Mr),je(c,Rr),je(c,Sr),je(c,fi),je(c,Ei),je(c,ni),je(c,yi),je(c,Ci),je(c,_i),s,B.largestUnit,d);const Ze=Ag(t);return({years:C,months:b,weeks:K,days:_e,hours:Ce,minutes:Te,seconds:Pe,milliseconds:ze,microseconds:rt,nanoseconds:Xe}=hp(C,b,K,_e,Ce,Te,Pe,ze,rt,Xe,B.roundingIncrement,B.smallestUnit,B.roundingMode,Ze)),({days:_e,hours:Ce,minutes:Te,seconds:Pe,milliseconds:ze,microseconds:rt,nanoseconds:Xe}=Eu(_e,Ce,Te,Pe,ze,rt,Xe,B.largestUnit)),new(xr("%Temporal.Duration%"))(o*C,o*b,o*K,o*_e,o*Ce,o*Te,o*Pe,o*ze,o*rt,o*Xe)}function qC(r,t,n,i){const o="since"===r?-1:1,c=dp(n),s=mh(r,mp(i),"time",[],"nanosecond","hour");let{hours:d,minutes:B,seconds:C,milliseconds:b,microseconds:K,nanoseconds:_e}=Iw(je(t,fi),je(t,Ei),je(t,ni),je(t,yi),je(t,Ci),je(t,_i),je(c,fi),je(c,Ei),je(c,ni),je(c,yi),je(c,Ci),je(c,_i));return({hours:d,minutes:B,seconds:C,milliseconds:b,microseconds:K,nanoseconds:_e}=hp(0,0,0,0,d,B,C,b,K,_e,s.roundingIncrement,s.smallestUnit,s.roundingMode)),({hours:d,minutes:B,seconds:C,milliseconds:b,microseconds:K,nanoseconds:_e}=Eu(0,d,B,C,b,K,_e,s.largestUnit)),new(xr("%Temporal.Duration%"))(0,0,0,0,o*d,o*B,o*C,o*b,o*K,o*_e)}function gO(r,t,n,i){const o="since"===r?-1:1,c=fw(n),s=je(t,Fn);Sw(s,je(c,Fn),"compute difference between months");const d=mp(i),B=mh(r,d,"date",["week","day"],"month","year");d.largestUnit=B.largestUnit;const C=sa(s,["monthCode","year"]),b=hi(t,C,[]);b.day=1;const K=pm(s,b),_e=hi(c,C,[]);_e.day=1;const Ce=pm(s,_e);let{years:Te,months:Pe}=hm(s,K,Ce,d);return"month"===B.smallestUnit&&1===B.roundingIncrement||({years:Te,months:Pe}=hp(Te,Pe,0,0,0,0,0,0,0,0,B.roundingIncrement,B.smallestUnit,B.roundingMode,K)),new(xr("%Temporal.Duration%"))(o*Te,o*Pe,0,0,0,0,0,0,0,0)}function QC(r,t,n,i){const o="since"===r?-1:1,c=hw(n),s=je(t,Fn);Sw(s,je(c,Fn),"compute difference between dates");const d=mp(i),B=mh(r,d,"datetime",[],"nanosecond","hour");d.largestUnit=B.largestUnit;const C=je(t,Yr),b=je(c,Yr);let K,_e,Ce,Te,Pe,ze,rt,Xe,Ze,lt;if("year"!==B.largestUnit&&"month"!==B.largestUnit&&"week"!==B.largestUnit&&"day"!==B.largestUnit)K=0,_e=0,Ce=0,Te=0,({hours:Pe,minutes:ze,seconds:rt,milliseconds:Xe,microseconds:Ze,nanoseconds:lt}=XM(C,b,B.roundingIncrement,B.smallestUnit,B.largestUnit,B.roundingMode));else{const Et=je(t,gi);if(!KE(Et,je(c,gi)))throw new RangeError("When calculating difference between time zones, largestUnit must be 'hours' or smaller because day lengths can vary between time zones due to DST or time zone offset changes.");({years:K,months:_e,weeks:Ce,days:Te,hours:Pe,minutes:ze,seconds:rt,milliseconds:Xe,microseconds:Ze,nanoseconds:lt}=JM(C,b,Et,s,B.largestUnit,d)),({years:K,months:_e,weeks:Ce,days:Te,hours:Pe,minutes:ze,seconds:rt,milliseconds:Xe,microseconds:Ze,nanoseconds:lt}=hp(K,_e,Ce,Te,Pe,ze,rt,Xe,Ze,lt,B.roundingIncrement,B.smallestUnit,B.roundingMode,t)),({years:K,months:_e,weeks:Ce,days:Te,hours:Pe,minutes:ze,seconds:rt,milliseconds:Xe,microseconds:Ze,nanoseconds:lt}=rA(K,_e,Ce,Te,Pe,ze,rt,Xe,Ze,lt,B.roundingIncrement,B.smallestUnit,B.roundingMode,t))}return new(xr("%Temporal.Duration%"))(o*K,o*_e,o*Ce,o*Te,o*Pe,o*ze,o*rt,o*Xe,o*Ze,o*lt)}function bm(r,t,n,i,o,c,s,d){let B=r,C=t,b=n,K=c,_e=s;return B+=i,C+=o,({year:B,month:C}=Tw(B,C)),({year:B,month:C,day:b}=PE(B,C,b,d)),_e+=7*K,b+=_e,({year:B,month:C,day:b}=HE(B,C,b)),{year:B,month:C,day:b}}function e6(r,t,n,i,o,c,s,d,B,C,b,K){let _e=r,Ce=t,Te=n,Pe=i,ze=o,rt=c;_e+=s,Ce+=d,Te+=B,Pe+=C,ze+=b,rt+=K;let Xe=0;return({deltaDays:Xe,hour:_e,minute:Ce,second:Te,millisecond:Pe,microsecond:ze,nanosecond:rt}=_u(_e,Ce,Te,Pe,ze,rt)),{deltaDays:Xe,hour:_e,minute:Ce,second:Te,millisecond:Pe,microsecond:ze,nanosecond:rt}}function t6(r,t,n,i,o,c,s,d,B,C,b,K,_e,Ce,Te,Pe,ze,rt,Xe,Ze,lt){const Et=lp(uw(r,t,n,i,o,c,s,d,B,C),uw(b,K,_e,Ce,Te,Pe,ze,rt,Xe,Ze));let pt,Mt,Pt,sn,an,_n,$n,wn,Cn,Wt;if(lt)if(Wi(lt)){const nn=xr("%Temporal.Duration%"),rn=je(lt,Fn),Sn=new nn(r,t,n,i,0,0,0,0,0,0),un=new nn(b,K,_e,Ce,0,0,0,0,0,0),In="string"!=typeof rn?yo(rn,"dateAdd"):void 0,Gn=Cc(rn,lt,Sn,void 0,In),Wn=Cc(rn,Gn,un,void 0,In),Qt=lp("day",Et),Yn=uc(null);Yn.largestUnit=Qt,({years:pt,months:Mt,weeks:Pt,days:sn}=hm(rn,lt,Wn,Yn)),({days:sn,hours:an,minutes:_n,seconds:$n,milliseconds:wn,microseconds:Cn,nanoseconds:Wt}=Eu(sn,xt.add(xt.BigInt(o),xt.BigInt(Te)),xt.add(xt.BigInt(c),xt.BigInt(Pe)),xt.add(xt.BigInt(s),xt.BigInt(ze)),xt.add(xt.BigInt(d),xt.BigInt(rt)),xt.add(xt.BigInt(B),xt.BigInt(Xe)),xt.add(xt.BigInt(C),xt.BigInt(Ze)),Et))}else{const nn=xr("%Temporal.Instant%"),rn=je(lt,gi),Sn=je(lt,Fn),un=Wd(je(lt,Vc),rn,Sn,r,t,n,i,o,c,s,d,B,C),In=Wd(new nn(un),rn,Sn,b,K,_e,Ce,Te,Pe,ze,rt,Xe,Ze);"year"!==Et&&"month"!==Et&&"week"!==Et&&"day"!==Et?(pt=0,Mt=0,Pt=0,sn=0,({hours:an,minutes:_n,seconds:$n,milliseconds:wn,microseconds:Cn,nanoseconds:Wt}=XM(je(lt,Yr),In,1,"nanosecond",Et,"halfExpand"))):({years:pt,months:Mt,weeks:Pt,days:sn,hours:an,minutes:_n,seconds:$n,milliseconds:wn,microseconds:Cn,nanoseconds:Wt}=JM(je(lt,Yr),In,rn,Sn,Et,uc(null)))}else{if("year"===Et||"month"===Et||"week"===Et)throw new RangeError("relativeTo is required for years, months, or weeks arithmetic");pt=Mt=Pt=0,({days:sn,hours:an,minutes:_n,seconds:$n,milliseconds:wn,microseconds:Cn,nanoseconds:Wt}=Eu(i+Ce,xt.add(xt.BigInt(o),xt.BigInt(Te)),xt.add(xt.BigInt(c),xt.BigInt(Pe)),xt.add(xt.BigInt(s),xt.BigInt(ze)),xt.add(xt.BigInt(d),xt.BigInt(rt)),xt.add(xt.BigInt(B),xt.BigInt(Xe)),xt.add(xt.BigInt(C),xt.BigInt(Ze)),Et))}return ZM(pt,Mt,Pt,sn,an,_n,$n,wn,Cn,Wt),{years:pt,months:Mt,weeks:Pt,days:sn,hours:an,minutes:_n,seconds:$n,milliseconds:wn,microseconds:Cn,nanoseconds:Wt}}function P0(r,t,n,i,o,c,s){let d=Vs;d=xt.add(d,xt.BigInt(s)),d=xt.add(d,xt.multiply(xt.BigInt(c),mo)),d=xt.add(d,xt.multiply(xt.BigInt(o),Vd)),d=xt.add(d,xt.multiply(xt.BigInt(i),dh)),d=xt.add(d,xt.multiply(xt.BigInt(n),xt.BigInt(6e10))),d=xt.add(d,xt.multiply(xt.BigInt(t),xt.BigInt(36e11)));const B=xt.add(r,d);return Og(B),B}function qM(r,t,n,i,o,c,s,d,B,C,b,K,_e,Ce,Te,Pe,ze,rt,Xe,Ze,lt){let Et=Ce,{deltaDays:pt,hour:Mt,minute:Pt,second:sn,millisecond:an,microsecond:_n,nanosecond:$n}=e6(i,o,c,s,d,B,Te,Pe,ze,rt,Xe,Ze);Et+=pt;const wn=xr("%Temporal.Duration%"),Cn=Cc(C,gl(r,t,n,C),new wn(b,K,_e,Et,0,0,0,0,0,0),lt);return{year:je(Cn,Mr),month:je(Cn,Rr),day:je(Cn,Sr),hour:Mt,minute:Pt,second:sn,millisecond:an,microsecond:_n,nanosecond:$n}}function Wd(r,t,n,i,o,c,s,d,B,C,b,K,_e,Ce){const Te=xr("%Temporal.Duration%");if(0===Af(i,o,c,s,0,0,0,0,0,0))return P0(je(r,Yr),d,B,C,b,K,_e);const Pe=vd(t,r,n),ze=Cc(n,gl(je(Pe,Mr),je(Pe,Rr),je(Pe,Sr),n),new Te(i,o,c,s,0,0,0,0,0,0),Ce),rt=Vl(je(ze,Mr),je(ze,Rr),je(ze,Sr),je(Pe,fi),je(Pe,Ei),je(Pe,ni),je(Pe,yi),je(Pe,Ci),je(Pe,_i),n);return P0(je(vl(t,rt,"compatible"),Yr),d,B,C,b,K,_e)}function QM(r,t,n,i){const o="subtract"===r?-1:1;let{years:c,months:s,weeks:d,days:B,hours:C,minutes:b,seconds:K,milliseconds:_e,microseconds:Ce,nanoseconds:Te}=um(n);const Pe=xg(qi(i));return({years:c,months:s,weeks:d,days:B,hours:C,minutes:b,seconds:K,milliseconds:_e,microseconds:Ce,nanoseconds:Te}=t6(je(t,zc),je(t,cc),je(t,xo),je(t,$a),je(t,Ca),je(t,lc),je(t,Va),je(t,dc),je(t,Hc),je(t,Wc),o*c,o*s,o*d,o*B,o*C,o*b,o*K,o*_e,o*Ce,o*Te,Pe)),new(xr("%Temporal.Duration%"))(c,s,d,B,C,b,K,_e,Ce,Te)}function n6(r,t,n){const i="subtract"===r?-1:1,{hours:o,minutes:c,seconds:s,milliseconds:d,microseconds:B,nanoseconds:C}=function(_e,Ce){let Te=um(_e);for(const Pe of["years","months","weeks","days"])if(0!==Te[Pe])throw new RangeError(`Duration field ${Pe} not supported by Temporal.Instant. Try Temporal.ZonedDateTime instead.`);return Te}(n),b=P0(je(t,Yr),i*o,i*c,i*s,i*d,i*B,i*C);return new(xr("%Temporal.Instant%"))(b)}function eA(r,t,n,i){const o="subtract"===r?-1:1,{years:c,months:s,weeks:d,days:B,hours:C,minutes:b,seconds:K,milliseconds:_e,microseconds:Ce,nanoseconds:Te}=um(n),Pe=qi(i),ze=je(t,Fn),{year:rt,month:Xe,day:Ze,hour:lt,minute:Et,second:pt,millisecond:Mt,microsecond:Pt,nanosecond:sn}=qM(je(t,Mr),je(t,Rr),je(t,Sr),je(t,fi),je(t,Ei),je(t,ni),je(t,yi),je(t,Ci),je(t,_i),ze,o*c,o*s,o*d,o*B,o*C,o*b,o*K,o*_e,o*Ce,o*Te,Pe);return Vl(rt,Xe,Ze,lt,Et,pt,Mt,Pt,sn,ze)}function r6(r,t,n){const i="subtract"===r?-1:1,{hours:o,minutes:c,seconds:s,milliseconds:d,microseconds:B,nanoseconds:C}=um(n);let{hour:b,minute:K,second:_e,millisecond:Ce,microsecond:Te,nanosecond:Pe}=e6(je(t,fi),je(t,Ei),je(t,ni),je(t,yi),je(t,Ci),je(t,_i),i*o,i*c,i*s,i*d,i*B,i*C);return({hour:b,minute:K,second:_e,millisecond:Ce,microsecond:Te,nanosecond:Pe}=RE(b,K,_e,Ce,Te,Pe,"reject")),new(xr("%Temporal.PlainTime%"))(b,K,_e,Ce,Te,Pe)}function XE(r,t,n,i){let o=um(n);"subtract"===r&&(o={years:-o.years,months:-o.months,weeks:-o.weeks,days:-o.days,hours:-o.hours,minutes:-o.minutes,seconds:-o.seconds,milliseconds:-o.milliseconds,microseconds:-o.microseconds,nanoseconds:-o.nanoseconds});let{years:c,months:s,weeks:d,days:B,hours:C,minutes:b,seconds:K,milliseconds:_e,microseconds:Ce,nanoseconds:Te}=o;({days:B}=Eu(B,C,b,K,_e,Ce,Te,"day"));const Pe=qi(i),ze=je(t,Fn),rt=sa(ze,["monthCode","year"]),Xe=hi(t,rt,[]),Ze=uc(null);x0(Ze,Xe,[]),Xe.day=1;let lt=pm(ze,Xe);const Et=Af(c,s,d,B,0,0,0,0,0,0),pt=yo(ze,"dateAdd"),Mt=xr("%Temporal.Duration%");if(Et<0){const an=Cc(ze,lt,new Mt(0,1,0,0,0,0,0,0,0,0),void 0,pt),_n=Cc(ze,an,new Mt(0,0,0,-1,0,0,0,0,0,0),void 0,pt);Ze.day=gw(ze,_n),lt=pm(ze,Ze)}const Pt=new Mt(c,s,d,B,0,0,0,0,0,0),sn=mp(Pe);return T0(ze,hi(Cc(ze,lt,Pt,Pe,pt),rt,[]),sn)}function i6(r,t,n,i){const o="subtract"===r?-1:1,{years:c,months:s,weeks:d,days:B,hours:C,minutes:b,seconds:K,milliseconds:_e,microseconds:Ce,nanoseconds:Te}=um(n),Pe=qi(i),ze=je(t,gi),rt=je(t,Fn);return Dc(Wd(je(t,Vc),ze,rt,o*c,o*s,o*d,o*B,o*C,o*b,o*K,o*_e,o*Ce,o*Te,Pe),ze,rt)}function wd(r,t,n){if(xt.equal(t,gg))return r;let{quotient:i,remainder:o}=ds(r,t);if(xt.equal(o,Vs))return r;const c=xt.lessThan(o,Vs)?-1:1,s=jl(xt.multiply(o,xt.BigInt(2))),d=xt.equal(s,t),B=xt.greaterThan(s,t);switch(n){case"ceil":c>0&&(i=xt.add(i,xt.BigInt(c)));break;case"floor":c<0&&(i=xt.add(i,xt.BigInt(c)));break;case"expand":i=xt.add(i,xt.BigInt(c));break;case"trunc":break;case"halfCeil":(B||d&&c>0)&&(i=xt.add(i,xt.BigInt(c)));break;case"halfFloor":(B||d&&c<0)&&(i=xt.add(i,xt.BigInt(c)));break;case"halfExpand":(B||d)&&(i=xt.add(i,xt.BigInt(c)));break;case"halfTrunc":B&&(i=xt.add(i,xt.BigInt(c)));break;case"halfEven":(B||d&&1===xt.toNumber(xt.remainder(jl(i),xt.BigInt(2))))&&(i=xt.add(i,xt.BigInt(c)))}return xt.multiply(i,t)}function Dw(r,t,n,i){let{remainder:o}=R0(r,uh);const c=xt.subtract(r,o),s=wd(o,xt.BigInt(QE[n]*t),i);return xt.add(c,s)}function tA(r,t,n,i,o,c,s,d,B,C,b,K,_e=864e11){const{deltaDays:Ce,hour:Te,minute:Pe,second:ze,millisecond:rt,microsecond:Xe,nanosecond:Ze}=nA(i,o,c,s,d,B,C,b,K,_e),{year:lt,month:Et,day:pt}=HE(r,t,n+Ce);return{year:lt,month:Et,day:pt,hour:Te,minute:Pe,second:ze,millisecond:rt,microsecond:Xe,nanosecond:Ze}}function nA(r,t,n,i,o,c,s,d,B,C=864e11){let b=Vs;switch(d){case"day":case"hour":b=xt.BigInt(r);case"minute":b=xt.add(xt.multiply(b,lh),xt.BigInt(t));case"second":b=xt.add(xt.multiply(b,lh),xt.BigInt(n));case"millisecond":b=xt.add(xt.multiply(b,mo),xt.BigInt(i));case"microsecond":b=xt.add(xt.multiply(b,mo),xt.BigInt(o));case"nanosecond":b=xt.add(xt.multiply(b,mo),xt.BigInt(c))}const K="day"===d?C:QE[d],_e=wd(b,xt.BigInt(K*s),B),Ce=xt.toNumber(xt.divide(_e,xt.BigInt(K)));switch(d){case"day":return{deltaDays:Ce,hour:0,minute:0,second:0,millisecond:0,microsecond:0,nanosecond:0};case"hour":return _u(Ce,0,0,0,0,0);case"minute":return _u(r,Ce,0,0,0,0);case"second":return _u(r,t,Ce,0,0,0);case"millisecond":return _u(r,t,n,Ce,0,0);case"microsecond":return _u(r,t,n,i,Ce,0);case"nanosecond":return _u(r,t,n,i,o,Ce);default:throw new Error(`Invalid unit ${d}`)}}function YE(r,t){return ZE(je(r,Mr),je(r,Rr),je(r,Sr),je(t,Mr),je(t,Rr),je(t,Sr),"day").days}function pc(r,t,n,i){const o=Cc(r,t,n,void 0,i);return{relativeTo:o,days:YE(t,o)}}function o6(r,t,n,i,o){const c=je(r,gi),s=je(r,Fn);return Dc(Wd(je(r,Vc),c,s,t,n,i,o,0,0,0,0,0,0),c,s)}function rA(r,t,n,i,o,c,s,d,B,C,b,K,_e,Ce){let Te=r,Pe=t,ze=n,rt=i,Xe=o,Ze=c,lt=s,Et=d,pt=B,Mt=C;if(!Fr(Ce)||"year"===K||"month"===K||"week"===K||"day"===K||"nanosecond"===K&&1===b)return{years:Te,months:Pe,weeks:ze,days:rt,hours:Xe,minutes:Ze,seconds:lt,milliseconds:Et,microseconds:pt,nanoseconds:Mt};let Pt=Pg(0,Xe,Ze,lt,Et,pt,Mt,0);const sn=yg(xt.toNumber(Pt)),an=je(Ce,gi),_n=je(Ce,Fn),$n=Wd(je(Ce,Vc),an,_n,Te,Pe,ze,rt,0,0,0,0,0,0),wn=Wd(new(xr("%Temporal.Instant%"))($n),an,_n,0,0,0,sn,0,0,0,0,0,0),Cn=xt.subtract(wn,$n);return xt.greaterThanOrEqual(xt.multiply(xt.subtract(Pt,Cn),xt.BigInt(sn)),Vs)&&(({years:Te,months:Pe,weeks:ze,days:rt}=t6(Te,Pe,ze,rt,0,0,0,0,0,0,0,0,0,sn,0,0,0,0,0,0,Ce)),Pt=Dw(xt.subtract(Pt,Cn),b,K,_e),({hours:Xe,minutes:Ze,seconds:lt,milliseconds:Et,microseconds:pt,nanoseconds:Mt}=Eu(0,0,0,0,0,0,xt.toNumber(Pt),"hour"))),{years:Te,months:Pe,weeks:ze,days:rt,hours:Xe,minutes:Ze,seconds:lt,milliseconds:Et,microseconds:pt,nanoseconds:Mt}}function hp(r,t,n,i,o,c,s,d,B,C,b,K,_e,Ce){let Te=r,Pe=t,ze=n,rt=i,Xe=o,Ze=c,lt=s,Et=d,pt=B,Mt=xt.BigInt(C);const Pt=xr("%Temporal.Duration%");let sn,an,_n,$n,wn=Ce;if(wn){if(Fr(wn))an=wn,wn=Ao(wn);else if(!Wi(wn))throw new TypeError("starting point must be PlainDate or ZonedDateTime");sn=je(wn,Fn)}if("year"===K||"month"===K||"week"===K||"day"===K){let Cn,Wt,nn;Mt=Pg(0,Xe,Ze,lt,Et,pt,C,0),an&&(Cn=o6(an,Te,Pe,ze,rt)),({days:Wt,nanoseconds:Mt,dayLengthNs:nn}=HM(Mt,Cn)),_n=xt.BigInt(nn),rt+=Wt,Xe=Ze=lt=Et=pt=0}switch(K){case"year":{if(!sn)throw new RangeError("A starting point is required for years rounding");const Cn=new Pt(Te),Wt="string"!=typeof sn?yo(sn,"dateAdd"):void 0,nn=Cc(sn,wn,Cn,void 0,Wt),rn=Cc(sn,wn,new Pt(Te,Pe,ze),void 0,Wt);wn=nn,rt+=YE(nn,rn);const Sn=Cc(sn,wn,new Pt(0,0,0,rt),void 0,Wt),un=uc(null);un.largestUnit="year";const In=hm(sn,wn,Sn,un).years;Te+=In;const Gn=wn;wn=Cc(sn,wn,new Pt(In),void 0,Wt),rt-=YE(Gn,wn);const Wn=new Pt(rt<0?-1:1);let{days:Qt}=pc(sn,wn,Wn,Wt);Qt=ss(Qt);const Yn=xt.multiply(xt.BigInt(Qt),_n);Mt=xt.add(xt.add(xt.multiply(Yn,xt.BigInt(Te)),xt.multiply(xt.BigInt(rt),_n)),Mt);const dr=wd(Mt,xt.multiply(Yn,xt.BigInt(b)),_e);$n=yh(Mt,Yn),Te=xt.toNumber(xt.divide(dr,Yn)),Mt=Vs,Pe=ze=rt=0;break}case"month":{if(!sn)throw new RangeError("A starting point is required for months rounding");const Cn=new Pt(Te,Pe),Wt="string"!=typeof sn?yo(sn,"dateAdd"):void 0,nn=Cc(sn,wn,Cn,void 0,Wt),rn=Cc(sn,wn,new Pt(Te,Pe,ze),void 0,Wt);wn=nn,rt+=YE(nn,rn);const Sn=yg(rt),un=new Pt(0,rt<0?-1:1);let In;for(({relativeTo:wn,days:In}=pc(sn,wn,un,Wt));ss(rt)>=ss(In);)Pe+=Sn,rt-=In,({relativeTo:wn,days:In}=pc(sn,wn,un,Wt));In=ss(In);const Gn=xt.multiply(xt.BigInt(In),_n);Mt=xt.add(xt.add(xt.multiply(Gn,xt.BigInt(Pe)),xt.multiply(xt.BigInt(rt),_n)),Mt);const Wn=wd(Mt,xt.multiply(Gn,xt.BigInt(b)),_e);$n=yh(Mt,Gn),Pe=xt.toNumber(xt.divide(Wn,Gn)),Mt=Vs,ze=rt=0;break}case"week":{if(!sn)throw new RangeError("A starting point is required for weeks rounding");const Cn=yg(rt),Wt=new Pt(0,0,rt<0?-1:1),nn="string"!=typeof sn?yo(sn,"dateAdd"):void 0;let rn;for(({relativeTo:wn,days:rn}=pc(sn,wn,Wt,nn));ss(rt)>=ss(rn);)ze+=Cn,rt-=rn,({relativeTo:wn,days:rn}=pc(sn,wn,Wt,nn));rn=ss(rn);const Sn=xt.multiply(xt.BigInt(rn),_n);Mt=xt.add(xt.add(xt.multiply(Sn,xt.BigInt(ze)),xt.multiply(xt.BigInt(rt),_n)),Mt);const un=wd(Mt,xt.multiply(Sn,xt.BigInt(b)),_e);$n=yh(Mt,Sn),ze=xt.toNumber(xt.divide(un,Sn)),Mt=Vs,rt=0;break}case"day":{const Cn=_n;Mt=xt.add(xt.multiply(Cn,xt.BigInt(rt)),Mt);const Wt=wd(Mt,xt.multiply(Cn,xt.BigInt(b)),_e);$n=yh(Mt,Cn),rt=xt.toNumber(xt.divide(Wt,Cn)),Mt=Vs;break}case"hour":{let Wt=xt.multiply(xt.BigInt(Xe),xt.BigInt(36e11));Wt=xt.add(Wt,xt.multiply(xt.BigInt(Ze),xt.BigInt(6e10))),Wt=xt.add(Wt,xt.multiply(xt.BigInt(lt),dh)),Wt=xt.add(Wt,xt.multiply(xt.BigInt(Et),Vd)),Wt=xt.add(Wt,xt.multiply(xt.BigInt(pt),mo)),Wt=xt.add(Wt,Mt),$n=yh(Wt,xt.BigInt(36e11));const nn=wd(Wt,xt.BigInt(36e11*b),_e);Xe=xt.toNumber(xt.divide(nn,xt.BigInt(36e11))),Mt=Vs,Ze=lt=Et=pt=0;break}case"minute":{let Wt=xt.multiply(xt.BigInt(Ze),xt.BigInt(6e10));Wt=xt.add(Wt,xt.multiply(xt.BigInt(lt),dh)),Wt=xt.add(Wt,xt.multiply(xt.BigInt(Et),Vd)),Wt=xt.add(Wt,xt.multiply(xt.BigInt(pt),mo)),Wt=xt.add(Wt,Mt),$n=yh(Wt,xt.BigInt(6e10));const nn=wd(Wt,xt.BigInt(6e10*b),_e);Ze=xt.toNumber(xt.divide(nn,xt.BigInt(6e10))),Mt=Vs,lt=Et=pt=0;break}case"second":{let Wt=xt.multiply(xt.BigInt(lt),dh);Wt=xt.add(Wt,xt.multiply(xt.BigInt(Et),Vd)),Wt=xt.add(Wt,xt.multiply(xt.BigInt(pt),mo)),Wt=xt.add(Wt,Mt),$n=yh(Wt,xt.BigInt(1e9));const nn=wd(Wt,xt.BigInt(1e9*b),_e);lt=xt.toNumber(xt.divide(nn,xt.BigInt(1e9))),Mt=Vs,Et=pt=0;break}case"millisecond":{let Wt=xt.multiply(xt.BigInt(Et),Vd);Wt=xt.add(Wt,xt.multiply(xt.BigInt(pt),mo)),Wt=xt.add(Wt,Mt),$n=yh(Wt,xt.BigInt(1e6));const nn=wd(Wt,xt.BigInt(1e6*b),_e);Et=xt.toNumber(xt.divide(nn,xt.BigInt(1e6))),Mt=Vs,pt=0;break}case"microsecond":{let Wt=xt.multiply(xt.BigInt(pt),mo);Wt=xt.add(Wt,Mt),$n=yh(Wt,xt.BigInt(1e3));const nn=wd(Wt,xt.BigInt(1e3*b),_e);pt=xt.toNumber(xt.divide(nn,xt.BigInt(1e3))),Mt=Vs;break}case"nanosecond":$n=xt.toNumber(Mt),Mt=wd(xt.BigInt(Mt),xt.BigInt(b),_e)}return{years:Te,months:Pe,weeks:ze,days:rt,hours:Xe,minutes:Ze,seconds:lt,milliseconds:Et,microseconds:pt,nanoseconds:xt.toNumber(Mt),total:$n}}function wm(r,t,n,i,o,c){for(const[s,d]of[[r,i],[t,o],[n,c]])if(s!==d)return _m(s-d);return 0}function R0(r,t){let{quotient:n,remainder:i}=ds(r,t);return xt.lessThan(i,Vs)&&(n=xt.subtract(n,gg),i=xt.add(i,t)),{quotient:n,remainder:i}}function Bg(r,t){const{quotient:n,remainder:i}=ds(r,t);return bu(i)||!ap(r)==!ap(t)?n:xt.subtract(n,gg)}function yh(r,t){const{quotient:n,remainder:i}=ds(r,t);return xt.toNumber(n)+xt.toNumber(i)/xt.toNumber(t)}function JE(r){const t=Cw(r);return void 0!==globalThis.BigInt?globalThis.BigInt(t.toString(10)):t}function Cw(r){let t=r;if("object"==typeof r){const n=r[Symbol.toPrimitive];n&&"function"==typeof n&&(t=DE(n,r,["number"]))}if("number"==typeof t)throw new TypeError("cannot convert number to bigint");return xt.BigInt("bigint"==typeof t?t.toString(10):t)}const iA=(()=>{let r=xt.BigInt(Date.now()%1e6);return()=>{const t=xt.BigInt(Date.now()),n=xt.add(xt.multiply(t,Vd),r);return r=xt.remainder(t,Vd),xt.greaterThan(n,vg)?vg:xt.lessThan(n,ow)?ow:n}})();function pp(){return(new CC).resolvedOptions().timeZone}function _m(r){return r<0?-1:r>0?1:r}function qi(r){if(void 0===r)return uc(null);if(Fo(r)&&null!==r)return r;throw new TypeError("Options parameter must be an object, not "+(null===r?"null":typeof r))}function Ng(r,t){const n=uc(null);return n[r]=t,n}function mp(r){const t=uc(null);return x0(t,qi(r),[]),t}function Em(r,t,n,i){let o=r[t];if(void 0!==o){if(o=ka(o),!n.includes(o))throw new RangeError(`${t} must be one of ${n.join(", ")}, not ${o}`);return o}return i}function yp(r){return BC.includes(Tf(r))}function Tf(r){return r.replace(/[A-Z]/g,t=>{const n=t.charCodeAt(0);return String.fromCharCode(n+32)})}const oA=new RegExp(`^${nw.source}$`);function qE(r,t,n,i=r(t),o=r(n)){let c=xt.BigInt(t),s=xt.BigInt(n),d=i,B=o;for(;xt.greaterThan(xt.subtract(s,c),gg);){const C=xt.divide(xt.add(c,s),xt.BigInt(2)),b=r(C);if(b===d)c=C,d=b;else{if(b!==B)throw new Error(`invalid state in bisection ${d} - ${b} - ${B}`);s=C,B=b}}return s}const QE={hour:36e11,minute:6e10,second:1e9,millisecond:1e6,microsecond:1e3,nanosecond:1},s6=Symbol("date"),e2=Symbol("ym"),sA=Symbol("md"),aA=Symbol("time"),vO=Symbol("datetime"),cA=Symbol("instant"),Lg=Symbol("original"),O0=Symbol("timezone"),xu=Symbol("calendar-id"),a6=Symbol("locale"),kw=Symbol("options"),B0=r=>({value:r,enumerable:!0,writable:!1,configurable:!0}),N0=globalThis.Intl.DateTimeFormat,gh=Object.assign,c6=Object.prototype.hasOwnProperty,l6=Reflect.apply;function L0(r,t){let n=r[t];return"function"==typeof n&&(n=new N0(r[a6],n(r[kw])),r[t]=n),n}function xm(r,t={}){if(!(this instanceof xm))return new xm(r,t);const n=void 0!==t,i=n?gh({},t):{},o=new N0(r,i),c=o.resolvedOptions();if(n){const s=gh({},c);for(const d in s)l6(c6,i,[d])||delete s[d];this[kw]=s}else this[kw]=i;this[a6]=c.locale,this[Lg]=o,this[O0]=c.timeZone,this[xu]=c.calendar,this[s6]=h6,this[e2]=u6,this[sA]=f6,this[aA]=d6,this[vO]=p6,this[cA]=m6}Object.defineProperty(xm,"name",{writable:!0,value:"DateTimeFormat"}),xm.supportedLocalesOf=function(r,t){return N0.supportedLocalesOf(r,t)};const t2={resolvedOptions:B0(function(){return this[Lg].resolvedOptions()}),format:B0(function(t,...n){let{instant:i,formatter:o}=jg(t,this);return i&&o?o.format(i.epochMilliseconds):this[Lg].format(t,...n)}),formatRange:B0(function(t,n){if(Fg(t)||Fg(n)){if(!y6(t,n))throw new TypeError("Intl.DateTimeFormat.formatRange accepts two values of the same type");const{instant:i,formatter:o}=jg(t,this),{instant:c,formatter:s}=jg(n,this);if(i&&c&&o&&s&&o===s)return o.formatRange(i.epochMilliseconds,c.epochMilliseconds)}return this[Lg].formatRange(t,n)})};"formatToParts"in N0.prototype&&(t2.formatToParts=B0(function(t,...n){let{instant:i,formatter:o}=jg(t,this);return i&&o?o.formatToParts(i.epochMilliseconds):this[Lg].formatToParts(t,...n)})),"formatRangeToParts"in N0.prototype&&(t2.formatRangeToParts=B0(function(t,n){if(Fg(t)||Fg(n)){if(!y6(t,n))throw new TypeError("Intl.DateTimeFormat.formatRangeToParts accepts two values of the same type");const{instant:i,formatter:o}=jg(t,this),{instant:c,formatter:s}=jg(n,this);if(i&&c&&o&&s&&o===s)return o.formatRangeToParts(i.epochMilliseconds,c.epochMilliseconds)}return this[Lg].formatRangeToParts(t,n)})),xm.prototype=Object.create(N0.prototype,t2),Object.defineProperty(xm,"prototype",{writable:!1,enumerable:!1,configurable:!1});const vh=xm;function Ug(r={},t={}){const n=gh({},r);for(const i of["year","month","day","hour","minute","second","weekday","dayPeriod","timeZoneName","dateStyle","timeStyle"])n[i]=i in t?t[i]:n[i],!1!==n[i]&&void 0!==n[i]||delete n[i];return n}function d6(r){let t=Ug(r,{year:!1,month:!1,day:!1,weekday:!1,timeZoneName:!1,dateStyle:!1});return n2(t)||(t=gh({},t,{hour:"numeric",minute:"numeric",second:"numeric"})),t}function u6(r){let t=Ug(r,{day:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"year"in t||"month"in t||(t=gh(t,{year:"numeric",month:"numeric"})),t}function f6(r){let t=Ug(r,{year:!1,hour:!1,minute:!1,second:!1,weekday:!1,dayPeriod:!1,timeZoneName:!1,dateStyle:!1,timeStyle:!1});return"month"in t||"day"in t||(t=gh({},t,{month:"numeric",day:"numeric"})),t}function h6(r){let t=Ug(r,{hour:!1,minute:!1,second:!1,dayPeriod:!1,timeZoneName:!1,timeStyle:!1});return Pw(t)||(t=gh({},t,{year:"numeric",month:"numeric",day:"numeric"})),t}function p6(r){let t=Ug(r,{timeZoneName:!1});return n2(t)||Pw(t)||(t=gh({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function m6(r){let t=r;return n2(t)||Pw(t)||(t=gh({},t,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})),t}function Pw(r){return"year"in r||"month"in r||"day"in r||"weekday"in r||"dateStyle"in r}function n2(r){return"hour"in r||"minute"in r||"second"in r||"timeStyle"in r||"dayPeriod"in r}function Fg(r){return Wi(r)||xs(r)||li(r)||Fr(r)||so(r)||Ha(r)||wa(r)}function y6(r,t){return!(!Fg(r)||!Fg(t)||xs(r)&&!xs(t)||Wi(r)&&!Wi(t)||li(r)&&!li(t)||Fr(r)&&!Fr(t)||so(r)&&!so(t)||Ha(r)&&!Ha(t)||wa(r)&&!wa(t))}function jg(r,t){const n=xr("%Temporal.PlainDateTime%");if(xs(r)){const i=new n(1970,1,1,je(r,fi),je(r,Ei),je(r,ni),je(r,yi),je(r,Ci),je(r,_i),t[xu]);return{instant:vl(t[O0],i,"compatible"),formatter:L0(t,aA)}}if(so(r)){const i=je(r,Mr),o=je(r,Rr),c=je(r,Sr),s=fc(je(r,Fn));if(s!==t[xu])throw new RangeError(`cannot format PlainYearMonth with calendar ${s} in locale with calendar ${t[xu]}`);const d=new n(i,o,c,12,0,0,0,0,0,s);return{instant:vl(t[O0],d,"compatible"),formatter:L0(t,e2)}}if(Ha(r)){const i=je(r,Mr),o=je(r,Rr),c=je(r,Sr),s=fc(je(r,Fn));if(s!==t[xu])throw new RangeError(`cannot format PlainMonthDay with calendar ${s} in locale with calendar ${t[xu]}`);const d=new n(i,o,c,12,0,0,0,0,0,s);return{instant:vl(t[O0],d,"compatible"),formatter:L0(t,sA)}}if(Wi(r)){const i=je(r,Mr),o=je(r,Rr),c=je(r,Sr),s=fc(je(r,Fn));if("iso8601"!==s&&s!==t[xu])throw new RangeError(`cannot format PlainDate with calendar ${s} in locale with calendar ${t[xu]}`);const d=new n(i,o,c,12,0,0,0,0,0,t[xu]);return{instant:vl(t[O0],d,"compatible"),formatter:L0(t,s6)}}if(li(r)){const i=je(r,Mr),o=je(r,Rr),c=je(r,Sr),s=je(r,fi),d=je(r,Ei),B=je(r,ni),C=je(r,yi),b=je(r,Ci),K=je(r,_i),_e=fc(je(r,Fn));if("iso8601"!==_e&&_e!==t[xu])throw new RangeError(`cannot format PlainDateTime with calendar ${_e} in locale with calendar ${t[xu]}`);let Ce=r;return"iso8601"===_e&&(Ce=new n(i,o,c,s,d,B,C,b,K,t[xu])),{instant:vl(t[O0],Ce,"compatible"),formatter:L0(t,vO)}}if(Fr(r))throw new TypeError("Temporal.ZonedDateTime not supported in DateTimeFormat methods. Use toLocaleString() instead.");return wa(r)?{instant:r,formatter:L0(t,cA)}:{}}Object.freeze({__proto__:null,DateTimeFormat:vh});class Qu{constructor(t){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");const n=Cw(t);Og(n),Fl(this),ji(this,Yr,n)}get epochSeconds(){if(!wa(this))throw new TypeError("invalid receiver");const t=je(this,Yr);return xt.toNumber(Bg(t,dh))}get epochMilliseconds(){if(!wa(this))throw new TypeError("invalid receiver");const t=xt.BigInt(je(this,Yr));return xt.toNumber(Bg(t,Vd))}get epochMicroseconds(){if(!wa(this))throw new TypeError("invalid receiver");return JE(Bg(xt.BigInt(je(this,Yr)),mo))}get epochNanoseconds(){if(!wa(this))throw new TypeError("invalid receiver");return JE(xt.BigInt(je(this,Yr)))}add(t){if(!wa(this))throw new TypeError("invalid receiver");return n6("add",this,t)}subtract(t){if(!wa(this))throw new TypeError("invalid receiver");return n6("subtract",this,t)}until(t,n){if(!wa(this))throw new TypeError("invalid receiver");return XC("until",this,t,n)}since(t,n){if(!wa(this))throw new TypeError("invalid receiver");return XC("since",this,t,n)}round(t){if(!wa(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Ng("smallestUnit",t):qi(t),i=wg(n),o=Ju(n,"halfExpand"),c=ml(n,"smallestUnit","time",Eg);M0(i,{hour:24,minute:1440,second:86400,millisecond:864e5,microsecond:864e8,nanosecond:864e11}[c],!0);const s=Dw(je(this,Yr),i,c,o);return new Qu(s)}equals(t){if(!wa(this))throw new TypeError("invalid receiver");const n=qu(t),i=je(this,Yr),o=je(n,Yr);return xt.equal(xt.BigInt(i),xt.BigInt(o))}toString(t){if(!wa(this))throw new TypeError("invalid receiver");const n=qi(t),i=dw(n),o=Ju(n,"trunc"),c=ml(n,"smallestUnit","time",void 0);if("hour"===c)throw new RangeError('smallestUnit must be a time unit other than "hour"');let s=n.timeZone;void 0!==s&&(s=Ga(s));const{precision:d,unit:B,increment:C}=_g(c,i),b=Dw(je(this,Yr),C,B,o);return jM(new Qu(b),s,d)}toJSON(){if(!wa(this))throw new TypeError("invalid receiver");return jM(this,void 0,"auto")}toLocaleString(t,n){if(!wa(this))throw new TypeError("invalid receiver");return new vh(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.Instant")}toZonedDateTime(t){if(!wa(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("invalid argument in toZonedDateTime");const n=t.calendar;if(void 0===n)throw new TypeError("missing calendar property in toZonedDateTime");const i=zl(n),o=t.timeZone;if(void 0===o)throw new TypeError("missing timeZone property in toZonedDateTime");const c=Ga(o);return Dc(je(this,Yr),c,i)}toZonedDateTimeISO(t){if(!wa(this))throw new TypeError("invalid receiver");const n=Ga(t);return Dc(je(this,Yr),n,"iso8601")}static fromEpochSeconds(t){const n=dm(t),i=xt.multiply(xt.BigInt(n),dh);return Og(i),new Qu(i)}static fromEpochMilliseconds(t){const n=dm(t),i=xt.multiply(xt.BigInt(n),Vd);return Og(i),new Qu(i)}static fromEpochMicroseconds(t){const n=Cw(t),i=xt.multiply(n,mo);return Og(i),new Qu(i)}static fromEpochNanoseconds(t){const n=Cw(t);return Og(n),new Qu(n)}static from(t){return wa(t)?new Qu(je(t,Yr)):qu(t)}static compare(t,n){const i=qu(t),o=qu(n),c=je(i,Yr),s=je(o,Yr);return xt.lessThan(c,s)?-1:xt.greaterThan(c,s)?1:0}}sh(Qu,"Temporal.Instant");const g6=Array.prototype.includes,bO=Array.prototype.push,wO=globalThis.Intl.DateTimeFormat,_O=Array.prototype.sort,v6=Math.abs,b6=Math.floor,r2=Object.create,o2=Object.entries,lA=Set,dA=Reflect.ownKeys,kc=Set.prototype.add,uA=Set.prototype.values,us={};class Cs{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: id is required");const n=ka(t);if(!yp(n))throw new RangeError(`invalid calendar identifier ${n}`);Fl(this),ji(this,_s,Tf(n))}get id(){if(!jo(this))throw new TypeError("invalid receiver");return je(this,_s)}dateFromFields(t,n){if(!jo(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("invalid fields");const i=qi(n),o=je(this,_s);return us[o].dateFromFields(t,i,o)}yearMonthFromFields(t,n){if(!jo(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("invalid fields");const i=qi(n),o=je(this,_s);return us[o].yearMonthFromFields(t,i,o)}monthDayFromFields(t,n){if(!jo(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("invalid fields");const i=qi(n),o=je(this,_s);return us[o].monthDayFromFields(t,i,o)}fields(t){if(!jo(this))throw new TypeError("invalid receiver");const n=[],i=new Set(["year","month","monthCode","day","hour","minute","second","millisecond","microsecond","nanosecond"]);for(const o of t){if("string"!=typeof o)throw new TypeError("invalid fields");if(!i.has(o))throw new RangeError(`invalid field name ${o}`);i.delete(o),bO.call(n,o)}return us[je(this,_s)].fields(n)}mergeFields(t,n){if(!jo(this))throw new TypeError("invalid receiver");const i=kM(t),o=r2(null);x0(o,i,[],[void 0]);const c=kM(n),s=r2(null);x0(s,c,[],[void 0]);const d=dA(s),B=us[je(this,_s)].fieldKeysToIgnore(d),C=r2(null),b=dA(o);for(const K of b){let _e;_e=Vr(g6,B,[K])?s[K]:o[K],void 0!==_e&&(C[K]=_e)}return x0(C,s,[]),C}dateAdd(t,n,i){if(!jo(this))throw new TypeError("invalid receiver");const o=Ao(t),c=$l(n),s=oa(qi(i)),{days:d}=Eu(je(c,$a),je(c,Ca),je(c,lc),je(c,Va),je(c,dc),je(c,Hc),je(c,Wc),"day"),B=je(this,_s);return us[B].dateAdd(o,je(c,zc),je(c,cc),je(c,xo),d,s,B)}dateUntil(t,n,i){if(!jo(this))throw new TypeError("invalid receiver");const o=Ao(t),c=Ao(n);let s=ml(qi(i),"largestUnit","date","auto");"auto"===s&&(s="day");const{years:d,months:B,weeks:C,days:b}=us[je(this,_s)].dateUntil(o,c,s);return new(xr("%Temporal.Duration%"))(d,B,C,b,0,0,0,0,0,0)}year(t){let n=t;if(!jo(this))throw new TypeError("invalid receiver");return so(n)||(n=Ao(n)),us[je(this,_s)].year(n)}month(t){let n=t;if(!jo(this))throw new TypeError("invalid receiver");if(Ha(n))throw new TypeError("use monthCode on PlainMonthDay instead");return so(n)||(n=Ao(n)),us[je(this,_s)].month(n)}monthCode(t){let n=t;if(!jo(this))throw new TypeError("invalid receiver");return so(n)||Ha(n)||(n=Ao(n)),us[je(this,_s)].monthCode(n)}day(t){let n=t;if(!jo(this))throw new TypeError("invalid receiver");return Ha(n)||(n=Ao(n)),us[je(this,_s)].day(n)}era(t){let n=t;if(!jo(this))throw new TypeError("invalid receiver");return so(n)||(n=Ao(n)),us[je(this,_s)].era(n)}eraYear(t){let n=t;if(!jo(this))throw new TypeError("invalid receiver");return so(n)||(n=Ao(n)),us[je(this,_s)].eraYear(n)}dayOfWeek(t){if(!jo(this))throw new TypeError("invalid receiver");const n=Ao(t);return us[je(this,_s)].dayOfWeek(n)}dayOfYear(t){if(!jo(this))throw new TypeError("invalid receiver");const n=Ao(t);return us[je(this,_s)].dayOfYear(n)}weekOfYear(t){if(!jo(this))throw new TypeError("invalid receiver");const n=Ao(t);return us[je(this,_s)].weekOfYear(n)}yearOfWeek(t){if(!jo(this))throw new TypeError("invalid receiver");const n=Ao(t);return us[je(this,_s)].yearOfWeek(n)}daysInWeek(t){if(!jo(this))throw new TypeError("invalid receiver");const n=Ao(t);return us[je(this,_s)].daysInWeek(n)}daysInMonth(t){let n=t;if(!jo(this))throw new TypeError("invalid receiver");return so(n)||(n=Ao(n)),us[je(this,_s)].daysInMonth(n)}daysInYear(t){let n=t;if(!jo(this))throw new TypeError("invalid receiver");return so(n)||(n=Ao(n)),us[je(this,_s)].daysInYear(n)}monthsInYear(t){let n=t;if(!jo(this))throw new TypeError("invalid receiver");return so(n)||(n=Ao(n)),us[je(this,_s)].monthsInYear(n)}inLeapYear(t){let n=t;if(!jo(this))throw new TypeError("invalid receiver");return so(n)||(n=Ao(n)),us[je(this,_s)].inLeapYear(n)}toString(){if(!jo(this))throw new TypeError("invalid receiver");return je(this,_s)}toJSON(){if(!jo(this))throw new TypeError("invalid receiver");return je(this,_s)}static from(t){return A0(zl(t))}}function s2(r){if(!r.startsWith("M"))throw new RangeError(`Invalid month code: ${r}.  Month codes must start with M.`);const t=+r.slice(1);if(isNaN(t))throw new RangeError(`Invalid month code: ${r}`);return t}function gp(r,t=!1){return`M${r.toString().padStart(2,"0")}${t?"L":""}`}function a2(r,t,n=12){let{month:i,monthCode:o}=r;if(void 0===o){if(void 0===i)throw new TypeError("Either month or monthCode are required");"reject"===t&&hc(i,1,n),"constrain"===t&&(i=Hl(i,1,n)),o=gp(i)}else{const c=s2(o);if(void 0!==i&&i!==c)throw new RangeError(`monthCode ${o} and month ${i} must match if both are present`);if(o!==gp(c))throw new RangeError(`Invalid month code: ${o}`);if(i=c,i<1||i>n)throw new RangeError(`Invalid monthCode: ${o}`)}return{...r,month:i,monthCode:o}}sh(Cs,"Temporal.Calendar"),$s("Temporal.Calendar.from",Cs.from),$s("Temporal.Calendar.prototype.dateAdd",Cs.prototype.dateAdd),$s("Temporal.Calendar.prototype.dateFromFields",Cs.prototype.dateFromFields),$s("Temporal.Calendar.prototype.dateUntil",Cs.prototype.dateUntil),$s("Temporal.Calendar.prototype.day",Cs.prototype.day),$s("Temporal.Calendar.prototype.dayOfWeek",Cs.prototype.dayOfWeek),$s("Temporal.Calendar.prototype.dayOfYear",Cs.prototype.dayOfYear),$s("Temporal.Calendar.prototype.daysInMonth",Cs.prototype.daysInMonth),$s("Temporal.Calendar.prototype.daysInWeek",Cs.prototype.daysInWeek),$s("Temporal.Calendar.prototype.daysInYear",Cs.prototype.daysInYear),$s("Temporal.Calendar.prototype.era",Cs.prototype.era),$s("Temporal.Calendar.prototype.eraYear",Cs.prototype.eraYear),$s("Temporal.Calendar.prototype.fields",Cs.prototype.fields),$s("Temporal.Calendar.prototype.inLeapYear",Cs.prototype.inLeapYear),$s("Temporal.Calendar.prototype.mergeFields",Cs.prototype.mergeFields),$s("Temporal.Calendar.prototype.month",Cs.prototype.month),$s("Temporal.Calendar.prototype.monthCode",Cs.prototype.monthCode),$s("Temporal.Calendar.prototype.monthDayFromFields",Cs.prototype.monthDayFromFields),$s("Temporal.Calendar.prototype.monthsInYear",Cs.prototype.monthsInYear),$s("Temporal.Calendar.prototype.weekOfYear",Cs.prototype.weekOfYear),$s("Temporal.Calendar.prototype.year",Cs.prototype.year),$s("Temporal.Calendar.prototype.yearMonthFromFields",Cs.prototype.yearMonthFromFields),$s("Temporal.Calendar.prototype.yearOfWeek",Cs.prototype.yearOfWeek),us.iso8601={dateFromFields(r,t,n){let i=hi(r,["day","month","monthCode","year"],["year","day"]);const o=oa(t);i=a2(i);let{year:c,month:s,day:d}=i;return({year:c,month:s,day:d}=PE(c,s,d,o)),gl(c,s,d,n)},yearMonthFromFields(r,t,n){let i=hi(r,["month","monthCode","year"],["year"]);const o=oa(t);i=a2(i);let{year:c,month:s}=i;return({year:c,month:s}=function(B,C,b){let K=B,_e=C;switch(b){case"reject":ph(K,_e,1);break;case"constrain":({year:K,month:_e}=WM(K,_e))}return{year:K,month:_e}}(c,s,o)),Sg(c,s,n,1)},monthDayFromFields(r,t,n){let i=hi(r,["day","month","monthCode","year"],["day"]);const o=oa(t);if(void 0!==i.month&&void 0===i.year&&void 0===i.monthCode)throw new TypeError("either year or monthCode required with month");const c=void 0===i.monthCode;i=a2(i);let{month:s,day:d,year:B}=i;return({month:s,day:d}=PE(c?B:1972,s,d,o)),pw(s,d,n,1972)},fields:r=>r,fieldKeysToIgnore(r){const t=new lA;for(let n=0;n<r.length;n++){const i=r[n];Vr(kc,t,[i]),"month"===i?Vr(kc,t,["monthCode"]):"monthCode"===i&&Vr(kc,t,["month"])}return[...Vr(uA,t,[])]},dateAdd(r,t,n,i,o,c,s){let d=je(r,Mr),B=je(r,Rr),C=je(r,Sr);return({year:d,month:B,day:C}=bm(d,B,C,t,n,i,o,c)),gl(d,B,C,s)},dateUntil:(r,t,n)=>ZE(je(r,Mr),je(r,Rr),je(r,Sr),je(t,Mr),je(t,Rr),je(t,Sr),n),year:r=>je(r,Mr),era(){},eraYear(){},month:r=>je(r,Rr),monthCode:r=>gp(je(r,Rr)),day:r=>je(r,Sr),dayOfWeek:r=>kg(je(r,Mr),je(r,Rr),je(r,Sr)),dayOfYear:r=>C0(je(r,Mr),je(r,Rr),je(r,Sr)),weekOfYear:r=>bd(je(r,Mr),je(r,Rr),je(r,Sr)).week,yearOfWeek:r=>bd(je(r,Mr),je(r,Rr),je(r,Sr)).year,daysInWeek:()=>7,daysInMonth:r=>fp(je(r,Mr),je(r,Rr)),daysInYear(r){let t=r;return za(t,Mr)||(t=Ao(t)),wu(je(t,Mr))?366:365},monthsInYear:()=>12,inLeapYear(r){let t=r;return za(t,Mr)||(t=Ao(t)),wu(je(t,Mr))}};class fs{constructor(t){if(this.map=new Map,this.calls=0,this.hits=0,this.misses=0,this.now=globalThis.performance?globalThis.performance.now():Date.now(),void 0!==t){let n=0;for(const i of t.map.entries()){if(++n>fs.MAX_CACHE_ENTRIES)break;this.map.set(...i)}}}get(t){const n=this.map.get(t);return n&&(this.hits++,this.report()),this.calls++,n}set(t,n){this.map.set(t,n),this.misses++,this.report()}report(){}setObject(t){if(fs.objectMap.get(t))throw new RangeError("object already cached");fs.objectMap.set(t,this),this.report()}static getCacheForObject(t){let n=fs.objectMap.get(t);return n||(n=new fs,fs.objectMap.set(t,n)),n}}function Rw({isoYear:r,isoMonth:t,isoDay:n}){return`${hh(r)}-${ts(t)}-${ts(n)}T00:00Z`}function Ow(r,t){return{years:r.year-t.year,months:r.month-t.month,days:r.day-t.day}}fs.objectMap=new WeakMap,fs.MAX_CACHE_ENTRIES=1e3;class Sm{constructor(){this.eraLength="short",this.hasEra=!0,this.erasBeginMidYear=!1}getFormatter(){return void 0===this.formatter&&(this.formatter=new wO(`en-US-u-ca-${this.id}`,{day:"numeric",month:"numeric",year:"numeric",era:this.eraLength,timeZone:"UTC"})),this.formatter}isoToCalendarDate(t,n){const{year:i,month:o,day:c}=t,s=JSON.stringify({func:"isoToCalendarDate",isoYear:i,isoMonth:o,isoDay:c,id:this.id}),d=n.get(s);if(d)return d;const B=this.getFormatter();let C,b;try{b=Rw({isoYear:i,isoMonth:o,isoDay:c}),C=B.formatToParts(new Date(b))}catch{throw new RangeError(`Invalid ISO date: ${JSON.stringify({isoYear:i,isoMonth:o,isoDay:c})}`)}const K={};for(let{type:Ce,value:Te}of C){if("year"===Ce&&(K.eraYear=+Te),"relatedYear"===Ce&&(K.eraYear=+Te),"month"===Ce){const Pe=/^([0-9]*)(.*?)$/.exec(Te);if(!Pe||3!=Pe.length||!Pe[1]&&!Pe[2])throw new RangeError(`Unexpected month: ${Te}`);if(K.month=Pe[1]?+Pe[1]:1,K.month<1)throw new RangeError(`Invalid month ${Te} from ${b}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10527)`);if(K.month>13)throw new RangeError(`Invalid month ${Te} from ${b}[u-ca-${this.id}] (probably due to https://bugs.chromium.org/p/v8/issues/detail?id=10529)`);Pe[2]&&(K.monthExtra=Pe[2])}"day"===Ce&&(K.day=+Te),this.hasEra&&"era"===Ce&&null!=Te&&""!==Te&&(Te=Te.split(" (")[0],K.era=Te.normalize("NFD").replace(/[^-0-9 \p{L}]/gu,"").replace(" ","-").toLowerCase())}if(void 0===K.eraYear)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);if(this.reviseIntlEra){const{era:Ce,eraYear:Te}=this.reviseIntlEra(K,t);K.era=Ce,K.eraYear=Te}this.checkIcuBugs&&this.checkIcuBugs(t);const _e=this.adjustCalendarDate(K,n,"constrain",!0);if(void 0===_e.year)throw new RangeError(`Missing year converting ${JSON.stringify(t)}`);if(void 0===_e.month)throw new RangeError(`Missing month converting ${JSON.stringify(t)}`);if(void 0===_e.day)throw new RangeError(`Missing day converting ${JSON.stringify(t)}`);return n.set(s,_e),["constrain","reject"].forEach(Ce=>{const Te=JSON.stringify({func:"calendarToIsoDate",year:_e.year,month:_e.month,day:_e.day,overflow:Ce,id:this.id});n.set(Te,t)}),_e}validateCalendarDate(t){const{era:n,month:i,year:o,day:c,eraYear:s,monthCode:d,monthExtra:B}=t;if(void 0!==B)throw new RangeError("Unexpected `monthExtra` value");if(void 0===o&&void 0===s)throw new TypeError("year or eraYear is required");if(void 0===i&&void 0===d)throw new TypeError("month or monthCode is required");if(void 0===c)throw new RangeError("Missing day");if(void 0!==d){if("string"!=typeof d)throw new RangeError("monthCode must be a string, not "+typeof d);if(!/^M([01]?\d)(L?)$/.test(d))throw new RangeError(`Invalid monthCode: ${d}`)}if(this.constantEra){if(void 0!==n&&n!==this.constantEra)throw new RangeError(`era must be ${this.constantEra}, not ${n}`);if(void 0!==s&&void 0!==o&&s!==o)throw new RangeError(`eraYear ${s} does not match year ${o}`)}if(this.hasEra&&void 0===t.era!=(void 0===t.eraYear))throw new RangeError("properties 'era' and 'eraYear' must be provided together")}adjustCalendarDate(t,n,i="constrain",o=!1){if("lunisolar"===this.calendarType)throw new RangeError("Override required for lunisolar calendars");let c=t;if(this.validateCalendarDate(c),this.constantEra){const{year:C,eraYear:b}=c;c={...c,era:this.constantEra,year:void 0!==C?C:b,eraYear:void 0!==b?b:C}}const s=this.monthsInYear(c,n);let{month:d,monthCode:B}=c;return({month:d,monthCode:B}=a2(c,i,s)),{...c,month:d,monthCode:B}}regulateMonthDayNaive(t,n,i){const o=this.monthsInYear(t,i);let{month:c,day:s}=t;return"reject"===n?(hc(c,1,o),hc(s,1,this.maximumMonthLength(t))):(c=Hl(c,1,o),s=Hl(s,1,this.maximumMonthLength({...t,month:c}))),{...t,month:c,day:s}}calendarToIsoDate(t,n="constrain",i){const o=t;let c=this.adjustCalendarDate(t,i,n,!1);c=this.regulateMonthDayNaive(c,n,i);const{year:s,month:d,day:B}=c,C=JSON.stringify({func:"calendarToIsoDate",year:s,month:d,day:B,overflow:n,id:this.id});let b,K=i.get(C);if(K||void 0!==o.year&&void 0!==o.month&&void 0!==o.day&&(o.year!==c.year||o.month!==c.month||o.day!==c.day)&&(b=JSON.stringify({func:"calendarToIsoDate",year:o.year,month:o.month,day:o.day,overflow:n,id:this.id}),K=i.get(b),K))return K;let _e=this.estimateIsoDate({year:s,month:d,day:B});const Ce=Xe=>{let Ze=this.addDaysIso(_e,Xe);if(c.day>this.minimumMonthLength(c)){let lt=this.isoToCalendarDate(Ze,i);for(;lt.month!==d||lt.year!==s;){if("reject"===n)throw new RangeError(`day ${B} does not exist in month ${d} of year ${s}`);Ze=this.addDaysIso(Ze,-1),lt=this.isoToCalendarDate(Ze,i)}}return Ze};let Te=0,Pe=this.isoToCalendarDate(_e,i),ze=Ow(c,Pe);0===ze.years&&0===ze.months&&0===ze.days||(_e=this.addDaysIso(_e,365*ze.years+30*ze.months+ze.days),Pe=this.isoToCalendarDate(_e,i),ze=Ow(c,Pe),0===ze.years&&0===ze.months?_e=Ce(ze.days):Te=this.compareCalendarDates(c,Pe));let rt=8;for(;Te;){_e=this.addDaysIso(_e,Te*rt);const Xe=Pe;Pe=this.isoToCalendarDate(_e,i);const Ze=Te;if(Te=this.compareCalendarDates(c,Pe),Te)if(ze=Ow(c,Pe),0===ze.years&&0===ze.months)_e=Ce(ze.days),Te=0;else if(Ze&&Te!==Ze)if(rt>1)rt/=2;else{if("reject"===n)throw new RangeError(`Can't find ISO date from calendar date: ${JSON.stringify({...o})}`);this.compareCalendarDates(Pe,Xe)>0&&(_e=this.addDaysIso(_e,-1)),Te=0}}if(i.set(C,_e),b&&i.set(b,_e),void 0===c.year||void 0===c.month||void 0===c.day||void 0===c.monthCode||this.hasEra&&(void 0===c.era||void 0===c.eraYear))throw new RangeError("Unexpected missing property");return _e}temporalToCalendarDate(t,n){const i={year:je(t,Mr),month:je(t,Rr),day:je(t,Sr)};return this.isoToCalendarDate(i,n)}compareCalendarDates(t,n){const i=hi(t,["day","month","year"],["day","month","year"]),o=hi(n,["day","month","year"],["day","month","year"]);return i.year!==o.year?_m(i.year-o.year):i.month!==o.month?_m(i.month-o.month):i.day!==o.day?_m(i.day-o.day):0}regulateDate(t,n="constrain",i){const o=this.calendarToIsoDate(t,n,i);return this.isoToCalendarDate(o,i)}addDaysIso(t,n){return bm(t.year,t.month,t.day,0,0,0,n,"constrain")}addDaysCalendar(t,n,i){const o=this.calendarToIsoDate(t,"constrain",i),c=this.addDaysIso(o,n);return this.isoToCalendarDate(c,i)}addMonthsCalendar(t,n,i,o){let c=t;const{day:s}=c;for(let d=0,B=v6(n);d<B;d++){const{month:C}=c,b=c,K=n<0?-Math.max(s,this.daysInPreviousMonth(c,o)):this.daysInMonth(c,o),_e=this.calendarToIsoDate(c,"constrain",o);let Ce=this.addDaysIso(_e,K);if(c=this.isoToCalendarDate(Ce,o),n>0){const Te=this.monthsInYear(b,o);for(;c.month-1!=C%Te;)Ce=this.addDaysIso(Ce,-1),c=this.isoToCalendarDate(Ce,o)}c.day!==s&&(c=this.regulateDate({...c,day:s},"constrain",o))}if("reject"===i&&c.day!==s)throw new RangeError(`Day ${s} does not exist in resulting calendar month`);return c}addCalendar(t,{years:n=0,months:i=0,weeks:o=0,days:c=0},s,d){const{year:B,day:C,monthCode:b}=t,K=this.adjustCalendarDate({year:B+n,monthCode:b,day:C},d),_e=this.addMonthsCalendar(K,i,s,d);return this.addDaysCalendar(_e,c+7*o,d)}untilCalendar(t,n,i,o){let c=0,s=0,d=0,B=0;switch(i){case"day":c=this.calendarDaysUntil(t,n,o);break;case"week":{const C=this.calendarDaysUntil(t,n,o);c=C%7,s=(C-c)/7;break}case"month":case"year":{const C=this.compareCalendarDates(n,t);if(!C)return{years:0,months:0,weeks:0,days:0};const b=n.year-t.year;if("year"===i&&b){let Te=0;n.monthCode>t.monthCode&&(Te=1),n.monthCode<t.monthCode&&(Te=-1),Te||(Te=Math.sign(n.day-t.day)),B=Te*C<0?b-C:b}let _e,Ce=B?this.addCalendar(t,{years:B},"constrain",o):t;do{d+=C,_e=Ce,Ce=this.addMonthsCalendar(_e,C,"constrain",o),Ce.day!==t.day&&(Ce=this.regulateDate({...Ce,day:t.day},"constrain",o))}while(this.compareCalendarDates(n,Ce)*C>=0);d-=C,c=this.calendarDaysUntil(_e,n,o);break}}return{years:B,months:d,weeks:s,days:c}}daysInMonth(t,n){const{day:i}=t,o=this.maximumMonthLength(t),c=this.minimumMonthLength(t);if(c===o)return c;const s=i<=o-c?o:c,d=this.calendarToIsoDate(t,"constrain",n),B=this.addDaysIso(d,s),C=this.isoToCalendarDate(B,n),b=this.addDaysIso(B,-C.day);return this.isoToCalendarDate(b,n).day}daysInPreviousMonth(t,n){const{day:i,month:o,year:c}=t;let s={year:o>1?c:c-1,month:o,day:1};const d=o>1?o-1:this.monthsInYear(s,n);s={...s,month:d};const B=this.minimumMonthLength(s),C=this.maximumMonthLength(s);if(B===C)return C;const b=this.calendarToIsoDate(t,"constrain",n),K=this.addDaysIso(b,-i);return this.isoToCalendarDate(K,n).day}startOfCalendarYear(t){return{year:t.year,month:1,monthCode:"M01",day:1}}startOfCalendarMonth(t){return{year:t.year,month:t.month,day:1}}calendarDaysUntil(t,n,i){const o=this.calendarToIsoDate(t,"constrain",i),c=this.calendarToIsoDate(n,"constrain",i);return this.isoDaysUntil(o,c)}isoDaysUntil(t,n){return ZE(t.year,t.month,t.day,n.year,n.month,n.day,"day").days}monthDayFromFields(t,n,i){let o,c,s,d,B,{monthCode:C,day:b}=t;if(void 0===C){let{year:Ce,era:Te,eraYear:Pe}=t;if(void 0===Ce&&(void 0===Te||void 0===Pe))throw new TypeError("when `monthCode` is omitted, `year` (or `era` and `eraYear`) and `month` are required");({monthCode:C,day:b}=this.isoToCalendarDate(this.calendarToIsoDate(t,n,i),i))}const K=this.isoToCalendarDate({year:1972,month:12,day:31},i),_e=K.monthCode>C||K.monthCode===C&&K.day>=b?K.year:K.year-1;for(let Ce=0;Ce<100;Ce++){const Te=this.adjustCalendarDate({day:b,monthCode:C,year:_e-Ce},i),Pe=this.calendarToIsoDate(Te,"constrain",i),ze=this.isoToCalendarDate(Pe,i);if(({year:o,month:c,day:s}=Pe),ze.monthCode===C&&ze.day===b)return{month:c,day:s,year:o};"constrain"===n&&(void 0===d||ze.monthCode===d.monthCode&&ze.day>d.day)&&(d=ze,B=Pe)}if("constrain"===n&&void 0!==B)return B;throw new RangeError(`No recent ${this.id} year with monthCode ${C} and day ${b}`)}}class w6 extends Sm{constructor(){super(...arguments),this.id="hebrew",this.calendarType="lunisolar",this.months={Tishri:{leap:1,regular:1,monthCode:"M01",days:30},Heshvan:{leap:2,regular:2,monthCode:"M02",days:{min:29,max:30}},Kislev:{leap:3,regular:3,monthCode:"M03",days:{min:29,max:30}},Tevet:{leap:4,regular:4,monthCode:"M04",days:29},Shevat:{leap:5,regular:5,monthCode:"M05",days:30},Adar:{leap:void 0,regular:6,monthCode:"M06",days:29},"Adar I":{leap:6,regular:void 0,monthCode:"M05L",days:30},"Adar II":{leap:7,regular:void 0,monthCode:"M06",days:29},Nisan:{leap:8,regular:7,monthCode:"M07",days:30},Iyar:{leap:9,regular:8,monthCode:"M08",days:29},Sivan:{leap:10,regular:9,monthCode:"M09",days:30},Tamuz:{leap:11,regular:10,monthCode:"M10",days:29},Av:{leap:12,regular:11,monthCode:"M11",days:30},Elul:{leap:13,regular:12,monthCode:"M12",days:29}},this.hasEra=!1}inLeapYear(t){const{year:n}=t;return(7*n+1)%19<7}monthsInYear(t){return this.inLeapYear(t)?13:12}minimumMonthLength(t){return this.minMaxMonthLength(t,"min")}maximumMonthLength(t){return this.minMaxMonthLength(t,"max")}minMaxMonthLength(t,n){const{month:i,year:o}=t,c=this.getMonthCode(o,i),s=o2(this.months).find(B=>B[1].monthCode===c);if(void 0===s)throw new RangeError(`unmatched Hebrew month: ${i}`);const d=s[1].days;return"number"==typeof d?d:d[n]}estimateIsoDate(t){const{year:n}=t;return{year:n-3760,month:1,day:1}}getMonthCode(t,n){return this.inLeapYear({year:t})?6===n?gp(5,!0):gp(n<6?n:n-1):gp(n)}adjustCalendarDate(t,n,i="constrain",o=!1){let{year:c,eraYear:s,month:d,monthCode:B,day:C,monthExtra:b}=t;if(void 0===c&&void 0!==s&&(c=s),void 0===s&&void 0!==c&&(s=c),o){if(b){const K=this.months[b];if(!K)throw new RangeError(`Unrecognized month from formatToParts: ${b}`);d=this.inLeapYear({year:c})?K.leap:K.regular}return B=this.getMonthCode(c,d),{year:c,month:d,day:C,era:void 0,eraYear:s,monthCode:B}}if(this.validateCalendarDate(t),void 0===d)if(B.endsWith("L")){if("M05L"!==B)throw new RangeError(`Hebrew leap month must have monthCode M05L, not ${B}`);if(d=6,!this.inLeapYear({year:c})){if("reject"===i)throw new RangeError(`Hebrew monthCode M05L is invalid in year ${c} which is not a leap year`);d=6,B="M06"}}else{d=s2(B),this.inLeapYear({year:c})&&d>=6&&d++;const K=this.monthsInYear({year:c});if(d<1||d>K)throw new RangeError(`Invalid monthCode: ${B}`)}else if("reject"===i?(hc(d,1,this.monthsInYear({year:c})),hc(C,1,this.maximumMonthLength({year:c,month:d}))):(d=Hl(d,1,this.monthsInYear({year:c})),C=Hl(C,1,this.maximumMonthLength({year:c,month:d}))),void 0===B)B=this.getMonthCode(c,d);else if(this.getMonthCode(c,d)!==B)throw new RangeError(`monthCode ${B} doesn't correspond to month ${d} in Hebrew year ${c}`);return{...t,day:C,month:d,monthCode:B,year:c,eraYear:s}}}class U0 extends Sm{constructor(){super(...arguments),this.calendarType="lunar",this.DAYS_PER_ISLAMIC_YEAR=354+11/30,this.DAYS_PER_ISO_YEAR=365.2425,this.constantEra="ah"}inLeapYear(t,n){return 30===this.daysInMonth({year:t.year,month:12,day:1},n)}monthsInYear(){return 12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:b6(n*this.DAYS_PER_ISLAMIC_YEAR/this.DAYS_PER_ISO_YEAR)+622,month:1,day:1}}}class fA extends U0{constructor(){super(...arguments),this.id="islamic"}}class _6 extends U0{constructor(){super(...arguments),this.id="islamic-umalqura"}}class E6 extends U0{constructor(){super(...arguments),this.id="islamic-tbla"}}class x6 extends U0{constructor(){super(...arguments),this.id="islamic-civil"}}class hA extends U0{constructor(){super(...arguments),this.id="islamic-rgsa"}}class S6 extends U0{constructor(){super(...arguments),this.id="islamicc"}}class pA extends Sm{constructor(){super(...arguments),this.id="persian",this.calendarType="solar",this.constantEra="ap"}inLeapYear(t,n){return fA.prototype.inLeapYear.call(this,t,n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 12===n?29:n<=6?31:30}maximumMonthLength(t){const{month:n}=t;return 12===n?30:n<=6?31:30}estimateIsoDate(t){const{year:n}=this.adjustCalendarDate(t);return{year:n+621,month:1,day:1}}}class M6 extends Sm{constructor(){super(...arguments),this.id="indian",this.calendarType="solar",this.constantEra="saka",this.months={1:{length:30,month:3,day:22,leap:{length:31,month:3,day:21}},2:{length:31,month:4,day:21},3:{length:31,month:5,day:22},4:{length:31,month:6,day:22},5:{length:31,month:7,day:23},6:{length:31,month:8,day:23},7:{length:30,month:9,day:23},8:{length:30,month:10,day:23},9:{length:30,month:11,day:22},10:{length:30,month:12,day:22},11:{length:30,month:1,nextYear:!0,day:21},12:{length:30,month:2,nextYear:!0,day:20}},this.vulnerableToBceBug="10/11/-79 Saka"!==new Date("0000-01-01T00:00Z").toLocaleDateString("en-US-u-ca-indian",{timeZone:"UTC"})}inLeapYear(t){return c2(t.year+78)}monthsInYear(){return 12}minimumMonthLength(t){return this.getMonthInfo(t).length}maximumMonthLength(t){return this.getMonthInfo(t).length}getMonthInfo(t){const{month:n}=t;let i=this.months[n];if(void 0===i)throw new RangeError(`Invalid month: ${n}`);return this.inLeapYear(t)&&i.leap&&(i=i.leap),i}estimateIsoDate(t){const n=this.adjustCalendarDate(t),i=this.getMonthInfo(n);return bm(n.year+78+(i.nextYear?1:0),i.month,i.day,0,0,0,n.day-1,"constrain")}checkIcuBugs(t){if(this.vulnerableToBceBug&&t.year<1)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 0001-01-01 (see https://bugs.chromium.org/p/v8/issues/detail?id=10529)`)}}function c2(r){return r%4==0&&(r%100!=0||r%400==0)}class Bw extends Sm{constructor(t,n){super(),this.calendarType="solar",this.v8IsVulnerableToJulianBug=new Date("+001001-01-01T00:00Z").toLocaleDateString("en-US-u-ca-japanese",{timeZone:"UTC"}).startsWith("12"),this.calendarIsVulnerableToJulianBug=!1,this.id=t;const{eras:i,anchorEra:o}=function(s){let d,B=s;if(0===B.length)throw new RangeError("Invalid era data: eras are required");if(1===B.length&&B[0].reverseOf)throw new RangeError("Invalid era data: anchor era cannot count years backwards");if(1===B.length&&!B[0].name)throw new RangeError("Invalid era data: at least one named era is required");if(B.filter(b=>null!=b.reverseOf).length>1)throw new RangeError("Invalid era data: only one era can count years backwards");B.forEach(b=>{if(b.isAnchor||!b.anchorEpoch&&!b.reverseOf){if(d)throw new RangeError("Invalid era data: cannot have multiple anchor eras");d=b,b.anchorEpoch={year:b.hasYearZero?0:1}}else if(!b.name)throw new RangeError("If era name is blank, it must be the anchor era")}),B=B.filter(b=>b.name),B.forEach(b=>{const{reverseOf:K}=b;if(K){const _e=B.find(Ce=>Ce.name===K);if(void 0===_e)throw new RangeError(`Invalid era data: unmatched reverseOf era: ${K}`);b.reverseOf=_e,b.anchorEpoch=_e.anchorEpoch,b.isoEpoch=_e.isoEpoch}void 0===b.anchorEpoch.month&&(b.anchorEpoch.month=1),void 0===b.anchorEpoch.day&&(b.anchorEpoch.day=1)}),_O.call(B,(b,K)=>{if(b.reverseOf)return 1;if(K.reverseOf)return-1;if(!b.isoEpoch||!K.isoEpoch)throw new RangeError("Invalid era data: missing ISO epoch");return K.isoEpoch.year-b.isoEpoch.year});const C=B[B.length-1].reverseOf;if(C&&C!==B[B.length-2])throw new RangeError("Invalid era data: invalid reverse-sign era");return B.forEach((b,K)=>{b.genericName="era"+(B.length-1-K)}),{eras:B,anchorEra:d||B[0]}}(n);this.anchorEra=o,this.eras=i}inLeapYear(t){const{year:n}=this.estimateIsoDate({month:1,day:1,year:t.year});return c2(n)}monthsInYear(){return 12}minimumMonthLength(t){const{month:n}=t;return 2===n?this.inLeapYear(t)?29:28:[4,6,9,11].indexOf(n)>=0?30:31}maximumMonthLength(t){return this.minimumMonthLength(t)}completeEraYear(t){const n=(d,B)=>{const C=t[d];if(null!=C&&C!=B)throw new RangeError(`Input ${d} ${C} doesn't match calculated value ${B}`)},i=d=>{let B;const C={...t,year:d},b=this.eras.find((K,_e)=>{if(_e===this.eras.length-1){if(K.reverseOf){if(d>0)throw new RangeError(`Signed year ${d} is invalid for era ${K.name}`);return B=K.anchorEpoch.year-d,!0}return B=d-K.anchorEpoch.year+(K.hasYearZero?0:1),!0}return this.compareCalendarDates(C,K.anchorEpoch)>=0&&(B=d-K.anchorEpoch.year+(K.hasYearZero?0:1),!0)});if(!b)throw new RangeError(`Year ${d} was not matched by any era`);return{eraYear:B,era:b.name}};let{year:o,eraYear:c,era:s}=t;if(null!=o)({eraYear:c,era:s}=i(o)),n("era",s),n("eraYear",c);else{if(null==c)throw new RangeError("Either `year` or `eraYear` and `era` are required");{const d=void 0===s?void 0:this.eras.find(B=>B.name===s||B.genericName===s);if(!d)throw new RangeError(`Era ${s} (ISO year ${c}) was not matched by any era`);if(c<1&&d.reverseOf)throw new RangeError(`Years in ${s} era must be positive, not ${o}`);o=d.reverseOf?d.anchorEpoch.year-c:c+d.anchorEpoch.year-(d.hasYearZero?0:1),n("year",o),({eraYear:c,era:s}=i(o))}}return{...t,year:o,eraYear:c,era:s}}adjustCalendarDate(t,n,i="constrain"){let o=t;const{month:c,monthCode:s}=o;return void 0===c&&(o={...o,month:s2(s)}),this.validateCalendarDate(o),o=this.completeEraYear(o),super.adjustCalendarDate(o,n,i)}estimateIsoDate(t){const n=this.adjustCalendarDate(t),{year:i,month:o,day:c}=n,{anchorEra:s}=this;return PE(i+s.isoEpoch.year-(s.hasYearZero?0:1),o,c,"constrain")}checkIcuBugs(t){if(this.calendarIsVulnerableToJulianBug&&this.v8IsVulnerableToJulianBug&&wm(t.year,t.month,t.day,1582,10,15)<0)throw new RangeError(`calendar '${this.id}' is broken for ISO dates before 1582-10-15 (see https://bugs.chromium.org/p/chromium/issues/detail?id=1173158)`)}}class mA extends Bw{constructor(t,n){super(t,n)}inLeapYear(t){const{year:n}=t;return(n+1)%4==0}monthsInYear(){return 13}minimumMonthLength(t){const{month:n}=t;return 13===n?this.inLeapYear(t)?6:5:30}maximumMonthLength(t){return this.minimumMonthLength(t)}}class EO extends mA{constructor(){super("ethioaa",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}}])}}class yA extends mA{constructor(){super("coptic",[{name:"era1",isoEpoch:{year:284,month:8,day:29}},{name:"era0",reverseOf:"era1"}])}}class gA extends mA{constructor(){super("ethiopic",[{name:"era0",isoEpoch:{year:-5492,month:7,day:17}},{name:"era1",isoEpoch:{year:8,month:8,day:27},anchorEpoch:{year:5501}}])}}class A6 extends Bw{constructor(){super("roc",[{name:"minguo",isoEpoch:{year:1912,month:1,day:1}},{name:"before-roc",reverseOf:"minguo"}]),this.calendarIsVulnerableToJulianBug=!0}}class vA extends Bw{constructor(){super("buddhist",[{name:"be",hasYearZero:!0,isoEpoch:{year:-543,month:1,day:1}}]),this.calendarIsVulnerableToJulianBug=!0}}class xO extends Bw{constructor(){super("gregory",[{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}])}reviseIntlEra(t){let{era:n,eraYear:i}=t;return"bc"!==n&&"b"!==n||(n="bce"),"ad"!==n&&"a"!==n||(n="ce"),{era:n,eraYear:i}}}class SO extends Bw{constructor(){super("japanese",[{name:"reiwa",isoEpoch:{year:2019,month:5,day:1},anchorEpoch:{year:2019,month:5,day:1}},{name:"heisei",isoEpoch:{year:1989,month:1,day:8},anchorEpoch:{year:1989,month:1,day:8}},{name:"showa",isoEpoch:{year:1926,month:12,day:25},anchorEpoch:{year:1926,month:12,day:25}},{name:"taisho",isoEpoch:{year:1912,month:7,day:30},anchorEpoch:{year:1912,month:7,day:30}},{name:"meiji",isoEpoch:{year:1868,month:9,day:8},anchorEpoch:{year:1868,month:9,day:8}},{name:"ce",isoEpoch:{year:1,month:1,day:1}},{name:"bce",reverseOf:"ce"}]),this.calendarIsVulnerableToJulianBug=!0,this.eraLength="long",this.erasBeginMidYear=!0}reviseIntlEra(t,n){const{era:i,eraYear:o}=t,{year:c}=n;return this.eras.find(s=>s.name===i)?{era:i,eraYear:o}:c<1?{era:"bce",eraYear:1-c}:{era:"ce",eraYear:c}}}class l2 extends Sm{constructor(){super(...arguments),this.calendarType="lunisolar",this.hasEra=!1}inLeapYear(t,n){const i=this.getMonthList(t.year,n);return 13===o2(i).length}monthsInYear(t,n){return this.inLeapYear(t,n)?13:12}minimumMonthLength(){return 29}maximumMonthLength(){return 30}getMonthList(t,n){if(void 0===t)throw new TypeError("Missing year");const i=JSON.stringify({func:"getMonthList",calendarYear:t,id:this.id}),o=n.get(i);if(o)return o;const c=this.getFormatter(),s=(ze,rt)=>{const Xe=Rw({isoYear:ze,isoMonth:2,isoDay:1}),Ze=new Date(Xe);Ze.setUTCDate(rt+1);const lt=c.formatToParts(Ze),Et=lt.find(Pt=>"month"===Pt.type).value,pt=+lt.find(Pt=>"day"===Pt.type).value;let Mt=lt.find(Pt=>"relatedYear"===Pt.type);if(void 0===Mt)throw new RangeError(`Intl.DateTimeFormat.formatToParts lacks relatedYear in ${this.id} calendar. Try Node 14+ or modern browsers.`);return Mt=+Mt.value,{calendarMonthString:Et,calendarDay:pt,calendarYearToVerify:Mt}};let d=17,{calendarMonthString:B,calendarDay:C,calendarYearToVerify:b}=s(t,d);"1"!==B&&(d+=29,({calendarMonthString:B,calendarDay:C}=s(t,d))),d-=C-5;const K={};let _e,Ce,Te=1,Pe=!1;do{({calendarMonthString:B,calendarDay:C,calendarYearToVerify:b}=s(t,d)),_e&&(K[Ce].daysInMonth=_e+30-C),b!==t?Pe=!0:(K[B]={monthIndex:Te++},d+=30),_e=C,Ce=B}while(!Pe);return K[Ce].daysInMonth=_e+30-C,n.set(i,K),K}estimateIsoDate(t){const{year:n,month:i}=t;return{year:n,month:i>=12?12:i+1,day:1}}adjustCalendarDate(t,n,i="constrain",o=!1){let{year:c,month:s,monthExtra:d,day:B,monthCode:C,eraYear:b}=t;if(o){if(c=b,d&&"bis"!==d)throw new RangeError(`Unexpected leap month suffix: ${d}`);const K=gp(s,void 0!==d),_e=`${s}${d||""}`,Ce=this.getMonthList(c,n)[_e];if(void 0===Ce)throw new RangeError(`Unmatched month ${_e} in Chinese year ${c}`);return s=Ce.monthIndex,{year:c,month:s,day:B,era:void 0,eraYear:b,monthCode:K}}if(this.validateCalendarDate(t),void 0===c&&(c=b),void 0===b&&(b=c),void 0===s){const K=this.getMonthList(c,n);let _e=C.replace("L","bis").slice(1);"0"===_e[0]&&(_e=_e.slice(1));let Ce=K[_e];if(s=Ce&&Ce.monthIndex,void 0===s&&C.endsWith("L")&&"M13L"!=C&&"constrain"===i){let Te=C.slice(1,-1);"0"===Te[0]&&(Te=Te.slice(1)),Ce=K[Te],Ce&&(s=Ce.monthIndex,C=gp(Te))}if(void 0===s)throw new RangeError(`Unmatched month ${C} in Chinese year ${c}`)}else if(void 0===C){const K=this.getMonthList(c,n),_e=o2(K),Ce=_e.length;"reject"===i?(hc(s,1,Ce),hc(B,1,this.maximumMonthLength())):(s=Hl(s,1,Ce),B=Hl(B,1,this.maximumMonthLength()));const Te=_e.find(([,Pe])=>Pe.monthIndex===s);if(void 0===Te)throw new RangeError(`Invalid month ${s} in Chinese year ${c}`);C=gp(Te[0].replace("bis",""),-1!==Te[0].indexOf("bis"))}else{const K=this.getMonthList(c,n);let _e=C.replace("L","bis").slice(1);"0"===_e[0]&&(_e=_e.slice(1));const Ce=K[_e];if(!Ce)throw new RangeError(`Unmatched monthCode ${C} in Chinese year ${c}`);if(s!==Ce.monthIndex)throw new RangeError(`monthCode ${C} doesn't correspond to month ${s} in Chinese year ${c}`)}return{...t,year:c,eraYear:b,month:s,monthCode:C,day:B}}}class MO extends l2{constructor(){super(...arguments),this.id="chinese"}}class T6 extends l2{constructor(){super(...arguments),this.id="dangi"}}class AO{constructor(t){this.helper=t}dateFromFields(t,n,i){const o=new fs,c=hi(t,this.fields(["day","month","monthCode","year"]),[]),s=oa(n),{year:d,month:B,day:C}=this.helper.calendarToIsoDate(c,s,o),b=gl(d,B,C,i);return o.setObject(b),b}yearMonthFromFields(t,n,i){const o=new fs,c=hi(t,this.fields(["month","monthCode","year"]),[]),s=oa(n),{year:d,month:B,day:C}=this.helper.calendarToIsoDate({...c,day:1},s,o),b=Sg(d,B,i,C);return o.setObject(b),b}monthDayFromFields(t,n,i){const o=new fs,c=hi(t,this.fields(["day","month","monthCode","year"]),[]),s=oa(n),{year:d,month:B,day:C}=this.helper.monthDayFromFields(c,s,o),b=pw(B,C,i,d);return o.setObject(b),b}fields(t){let n=t;return g6.call(n,"year")&&(n=[...n,"era","eraYear"]),n}fieldKeysToIgnore(t){const n=new lA;for(let i=0;i<t.length;i++){const o=t[i];switch(Vr(kc,n,[o]),o){case"era":Vr(kc,n,["eraYear"]),Vr(kc,n,["year"]);break;case"eraYear":Vr(kc,n,["era"]),Vr(kc,n,["year"]);break;case"year":Vr(kc,n,["era"]),Vr(kc,n,["eraYear"]);break;case"month":Vr(kc,n,["monthCode"]),this.helper.erasBeginMidYear&&(Vr(kc,n,["era"]),Vr(kc,n,["eraYear"]));break;case"monthCode":Vr(kc,n,["month"]),this.helper.erasBeginMidYear&&(Vr(kc,n,["era"]),Vr(kc,n,["eraYear"]));break;case"day":this.helper.erasBeginMidYear&&(Vr(kc,n,["era"]),Vr(kc,n,["eraYear"]))}}return[...Vr(uA,n,[])]}dateAdd(t,n,i,o,c,s,d){const B=fs.getCacheForObject(t),C=this.helper.temporalToCalendarDate(t,B),b=this.helper.addCalendar(C,{years:n,months:i,weeks:o,days:c},s,B),K=this.helper.calendarToIsoDate(b,"constrain",B),{year:_e,month:Ce,day:Te}=K,Pe=gl(_e,Ce,Te,d);return new fs(B).setObject(Pe),Pe}dateUntil(t,n,i){const o=fs.getCacheForObject(t),c=fs.getCacheForObject(n),s=this.helper.temporalToCalendarDate(t,o),d=this.helper.temporalToCalendarDate(n,c);return this.helper.untilCalendar(s,d,i,o)}year(t){const n=fs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).year}month(t){const n=fs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).month}day(t){const n=fs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).day}era(t){if(!this.helper.hasEra)return;const n=fs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).era}eraYear(t){if(!this.helper.hasEra)return;const n=fs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).eraYear}monthCode(t){const n=fs.getCacheForObject(t);return this.helper.temporalToCalendarDate(t,n).monthCode}dayOfWeek(t){return us.iso8601.dayOfWeek(t)}dayOfYear(t){const n=fs.getCacheForObject(t),i=this.helper.isoToCalendarDate(t,n),o=this.helper.startOfCalendarYear(i);return this.helper.calendarDaysUntil(o,i,n)+1}weekOfYear(t){return us.iso8601.weekOfYear(t)}yearOfWeek(t){return us.iso8601.yearOfWeek(t)}daysInWeek(t){return us.iso8601.daysInWeek(t)}daysInMonth(t){const n=fs.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n),o=this.helper.maximumMonthLength(i);if(o===this.helper.minimumMonthLength(i))return o;const c=this.helper.startOfCalendarMonth(i),s=this.helper.addMonthsCalendar(c,1,"constrain",n);return this.helper.calendarDaysUntil(c,s,n)}daysInYear(t){let n=t;za(n,Mr)||(n=Ao(n));const i=fs.getCacheForObject(n),o=this.helper.temporalToCalendarDate(n,i),c=this.helper.startOfCalendarYear(o),s=this.helper.addCalendar(c,{years:1},"constrain",i);return this.helper.calendarDaysUntil(c,s,i)}monthsInYear(t){const n=fs.getCacheForObject(t),i=this.helper.temporalToCalendarDate(t,n);return this.helper.monthsInYear(i,n)}inLeapYear(t){let n=t;za(n,Mr)||(n=Ao(n));const i=fs.getCacheForObject(n),o=this.helper.temporalToCalendarDate(n,i);return this.helper.inLeapYear(o,i)}}for(const r of[w6,pA,gA,EO,yA,MO,T6,A6,M6,vA,xO,SO,fA,_6,E6,x6,hA,S6]){const t=new r;us[t.id]=new AO(t)}class Kg{constructor(t,n,i,o="iso8601"){NE(this,no(t),no(n),no(i),zl(o))}get calendarId(){if(!Wi(this))throw new TypeError("invalid receiver");return fc(je(this,Fn))}get era(){if(!Wi(this))throw new TypeError("invalid receiver");return FE(je(this,Fn),this)}get eraYear(){if(!Wi(this))throw new TypeError("invalid receiver");return jE(je(this,Fn),this)}get year(){if(!Wi(this))throw new TypeError("invalid receiver");return LE(je(this,Fn),this)}get month(){if(!Wi(this))throw new TypeError("invalid receiver");return UE(je(this,Fn),this)}get monthCode(){if(!Wi(this))throw new TypeError("invalid receiver");return yw(je(this,Fn),this)}get day(){if(!Wi(this))throw new TypeError("invalid receiver");return gw(je(this,Fn),this)}get dayOfWeek(){if(!Wi(this))throw new TypeError("invalid receiver");return LM(je(this,Fn),this)}get dayOfYear(){if(!Wi(this))throw new TypeError("invalid receiver");return UM(je(this,Fn),this)}get weekOfYear(){if(!Wi(this))throw new TypeError("invalid receiver");return vw(je(this,Fn),this)}get yearOfWeek(){if(!Wi(this))throw new TypeError("invalid receiver");return jC(je(this,Fn),this)}get daysInWeek(){if(!Wi(this))throw new TypeError("invalid receiver");return FM(je(this,Fn),this)}get daysInMonth(){if(!Wi(this))throw new TypeError("invalid receiver");return Mg(je(this,Fn),this)}get daysInYear(){if(!Wi(this))throw new TypeError("invalid receiver");return bw(je(this,Fn),this)}get monthsInYear(){if(!Wi(this))throw new TypeError("invalid receiver");return ww(je(this,Fn),this)}get inLeapYear(){if(!Wi(this))throw new TypeError("invalid receiver");return _w(je(this,Fn),this)}with(t,n){if(!Wi(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("invalid argument");cw(t);const i=qi(n),o=je(this,Fn),c=sa(o,["day","month","monthCode","year"]);let s=hi(this,c,[]);return s=fm(o,s,hi(t,c,"partial")),s=hi(s,c,[]),pm(o,s,i)}withCalendar(t){if(!Wi(this))throw new TypeError("invalid receiver");const n=zl(t);return new Kg(je(this,Mr),je(this,Rr),je(this,Sr),n)}add(t,n){if(!Wi(this))throw new TypeError("invalid receiver");const i=$l(t),o=qi(n);return Cc(je(this,Fn),this,i,o)}subtract(t,n){if(!Wi(this))throw new TypeError("invalid receiver");const i=GC($l(t)),o=qi(n);return Cc(je(this,Fn),this,i,o)}until(t,n){if(!Wi(this))throw new TypeError("invalid receiver");return YC("until",this,t,n)}since(t,n){if(!Wi(this))throw new TypeError("invalid receiver");return YC("since",this,t,n)}equals(t){if(!Wi(this))throw new TypeError("invalid receiver");const n=Ao(t);for(const i of[Mr,Rr,Sr])if(je(this,i)!==je(n,i))return!1;return xw(je(this,Fn),je(n,Fn))}toString(t){if(!Wi(this))throw new TypeError("invalid receiver");return VC(this,lw(qi(t)))}toJSON(){if(!Wi(this))throw new TypeError("invalid receiver");return VC(this)}toLocaleString(t,n){if(!Wi(this))throw new TypeError("invalid receiver");return new vh(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDate")}toPlainDateTime(t){if(!Wi(this))throw new TypeError("invalid receiver");const n=je(this,Mr),i=je(this,Rr),o=je(this,Sr),c=je(this,Fn);if(void 0===t)return Vl(n,i,o,0,0,0,0,0,0,c);const s=dp(t);return Vl(n,i,o,je(s,fi),je(s,Ei),je(s,ni),je(s,yi),je(s,Ci),je(s,_i),c)}toZonedDateTime(t){if(!Wi(this))throw new TypeError("invalid receiver");let n,i;if(Fo(t))if(Kl(t))n=t;else{const Te=t.timeZone;void 0===Te?n=Ga(t):(n=Ga(Te),i=t.plainTime)}else n=Ga(t);const o=je(this,Mr),c=je(this,Rr),s=je(this,Sr),d=je(this,Fn);let B=0,C=0,b=0,K=0,_e=0,Ce=0;return void 0!==i&&(i=dp(i),B=je(i,fi),C=je(i,Ei),b=je(i,ni),K=je(i,yi),_e=je(i,Ci),Ce=je(i,_i)),Dc(je(vl(n,Vl(o,c,s,B,C,b,K,_e,Ce,d),"compatible"),Yr),n,d)}toPlainYearMonth(){if(!Wi(this))throw new TypeError("invalid receiver");const t=je(this,Fn);return T0(t,hi(this,sa(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Wi(this))throw new TypeError("invalid receiver");const t=je(this,Fn);return I0(t,hi(this,sa(t,["day","monthCode"]),[]))}getISOFields(){if(!Wi(this))throw new TypeError("invalid receiver");return{calendar:je(this,Fn),isoDay:je(this,Sr),isoMonth:je(this,Rr),isoYear:je(this,Mr)}}getCalendar(){if(!Wi(this))throw new TypeError("invalid receiver");return A0(je(this,Fn))}static from(t,n){const i=qi(n);return Wi(t)?(oa(i),gl(je(t,Mr),je(t,Rr),je(t,Sr),je(t,Fn))):Ao(t,i)}static compare(t,n){const i=Ao(t),o=Ao(n);return wm(je(i,Mr),je(i,Rr),je(i,Sr),je(o,Mr),je(o,Rr),je(o,Sr))}}sh(Kg,"Temporal.PlainDate");class Nw{constructor(t,n,i,o=0,c=0,s=0,d=0,B=0,C=0,b="iso8601"){UC(this,no(t),no(n),no(i),void 0===o?0:no(o),void 0===c?0:no(c),void 0===s?0:no(s),void 0===d?0:no(d),void 0===B?0:no(B),void 0===C?0:no(C),zl(b))}get calendarId(){if(!li(this))throw new TypeError("invalid receiver");return fc(je(this,Fn))}get year(){if(!li(this))throw new TypeError("invalid receiver");return LE(je(this,Fn),this)}get month(){if(!li(this))throw new TypeError("invalid receiver");return UE(je(this,Fn),this)}get monthCode(){if(!li(this))throw new TypeError("invalid receiver");return yw(je(this,Fn),this)}get day(){if(!li(this))throw new TypeError("invalid receiver");return gw(je(this,Fn),this)}get hour(){if(!li(this))throw new TypeError("invalid receiver");return je(this,fi)}get minute(){if(!li(this))throw new TypeError("invalid receiver");return je(this,Ei)}get second(){if(!li(this))throw new TypeError("invalid receiver");return je(this,ni)}get millisecond(){if(!li(this))throw new TypeError("invalid receiver");return je(this,yi)}get microsecond(){if(!li(this))throw new TypeError("invalid receiver");return je(this,Ci)}get nanosecond(){if(!li(this))throw new TypeError("invalid receiver");return je(this,_i)}get era(){if(!li(this))throw new TypeError("invalid receiver");return FE(je(this,Fn),this)}get eraYear(){if(!li(this))throw new TypeError("invalid receiver");return jE(je(this,Fn),this)}get dayOfWeek(){if(!li(this))throw new TypeError("invalid receiver");return LM(je(this,Fn),this)}get dayOfYear(){if(!li(this))throw new TypeError("invalid receiver");return UM(je(this,Fn),this)}get weekOfYear(){if(!li(this))throw new TypeError("invalid receiver");return vw(je(this,Fn),this)}get yearOfWeek(){if(!li(this))throw new TypeError("invalid receiver");return jC(je(this,Fn),this)}get daysInWeek(){if(!li(this))throw new TypeError("invalid receiver");return FM(je(this,Fn),this)}get daysInYear(){if(!li(this))throw new TypeError("invalid receiver");return bw(je(this,Fn),this)}get daysInMonth(){if(!li(this))throw new TypeError("invalid receiver");return Mg(je(this,Fn),this)}get monthsInYear(){if(!li(this))throw new TypeError("invalid receiver");return ww(je(this,Fn),this)}get inLeapYear(){if(!li(this))throw new TypeError("invalid receiver");return _w(je(this,Fn),this)}with(t,n){if(!li(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("invalid argument");cw(t);const i=qi(n),o=je(this,Fn),c=sa(o,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);let s=hi(this,c,[]);s=fm(o,s,hi(t,c,"partial")),s=hi(s,c,[]);const{year:d,month:B,day:C,hour:b,minute:K,second:_e,millisecond:Ce,microsecond:Te,nanosecond:Pe}=zd(o,s,i);return Vl(d,B,C,b,K,_e,Ce,Te,Pe,o)}withPlainTime(t){if(!li(this))throw new TypeError("invalid receiver");const n=je(this,Mr),i=je(this,Rr),o=je(this,Sr),c=je(this,Fn);if(void 0===t)return Vl(n,i,o,0,0,0,0,0,0,c);const s=dp(t);return Vl(n,i,o,je(s,fi),je(s,Ei),je(s,ni),je(s,yi),je(s,Ci),je(s,_i),c)}withPlainDate(t){if(!li(this))throw new TypeError("invalid receiver");const n=Ao(t),i=je(n,Mr),o=je(n,Rr),c=je(n,Sr);let s=je(n,Fn);const d=je(this,fi),B=je(this,Ei),C=je(this,ni),b=je(this,yi),K=je(this,Ci),_e=je(this,_i);return s=hO(je(this,Fn),s),Vl(i,o,c,d,B,C,b,K,_e,s)}withCalendar(t){if(!li(this))throw new TypeError("invalid receiver");const n=zl(t);return new Nw(je(this,Mr),je(this,Rr),je(this,Sr),je(this,fi),je(this,Ei),je(this,ni),je(this,yi),je(this,Ci),je(this,_i),n)}add(t,n){if(!li(this))throw new TypeError("invalid receiver");return eA("add",this,t,n)}subtract(t,n){if(!li(this))throw new TypeError("invalid receiver");return eA("subtract",this,t,n)}until(t,n){if(!li(this))throw new TypeError("invalid receiver");return JC("until",this,t,n)}since(t,n){if(!li(this))throw new TypeError("invalid receiver");return JC("since",this,t,n)}round(t){if(!li(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Ng("smallestUnit",t):qi(t),i=wg(n),o=Ju(n,"halfExpand"),c=ml(n,"smallestUnit","time",Eg,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[c];M0(i,s,1===s);let d=je(this,Mr),B=je(this,Rr),C=je(this,Sr),b=je(this,fi),K=je(this,Ei),_e=je(this,ni),Ce=je(this,yi),Te=je(this,Ci),Pe=je(this,_i);return({year:d,month:B,day:C,hour:b,minute:K,second:_e,millisecond:Ce,microsecond:Te,nanosecond:Pe}=tA(d,B,C,b,K,_e,Ce,Te,Pe,i,c,o)),Vl(d,B,C,b,K,_e,Ce,Te,Pe,je(this,Fn))}equals(t){if(!li(this))throw new TypeError("invalid receiver");const n=yl(t);for(const i of[Mr,Rr,Sr,fi,Ei,ni,yi,Ci,_i])if(je(this,i)!==je(n,i))return!1;return xw(je(this,Fn),je(n,Fn))}toString(t){if(!li(this))throw new TypeError("invalid receiver");const n=qi(t),i=lw(n),o=dw(n),c=Ju(n,"trunc"),s=ml(n,"smallestUnit","time",void 0);if("hour"===s)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:d,unit:B,increment:C}=_g(s,o);return $M(this,d,i,{unit:B,increment:C,roundingMode:c})}toJSON(){if(!li(this))throw new TypeError("invalid receiver");return $M(this,"auto")}toLocaleString(t,n){if(!li(this))throw new TypeError("invalid receiver");return new vh(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainDateTime")}toZonedDateTime(t,n){if(!li(this))throw new TypeError("invalid receiver");const i=Ga(t);return Dc(je(vl(i,this,S0(qi(n))),Yr),i,je(this,Fn))}toPlainDate(){if(!li(this))throw new TypeError("invalid receiver");return Ag(this)}toPlainYearMonth(){if(!li(this))throw new TypeError("invalid receiver");const t=je(this,Fn);return T0(t,hi(this,sa(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!li(this))throw new TypeError("invalid receiver");const t=je(this,Fn);return I0(t,hi(this,sa(t,["day","monthCode"]),[]))}toPlainTime(){if(!li(this))throw new TypeError("invalid receiver");return Tg(this)}getISOFields(){if(!li(this))throw new TypeError("invalid receiver");return{calendar:je(this,Fn),isoDay:je(this,Sr),isoHour:je(this,fi),isoMicrosecond:je(this,Ci),isoMillisecond:je(this,yi),isoMinute:je(this,Ei),isoMonth:je(this,Rr),isoNanosecond:je(this,_i),isoSecond:je(this,ni),isoYear:je(this,Mr)}}getCalendar(){if(!li(this))throw new TypeError("invalid receiver");return A0(je(this,Fn))}static from(t,n){const i=qi(n);return li(t)?(oa(i),Vl(je(t,Mr),je(t,Rr),je(t,Sr),je(t,fi),je(t,Ei),je(t,ni),je(t,yi),je(t,Ci),je(t,_i),je(t,Fn))):yl(t,i)}static compare(t,n){const i=yl(t),o=yl(n);for(const c of[Mr,Rr,Sr,fi,Ei,ni,yi,Ci,_i]){const s=je(i,c),d=je(o,c);if(s!==d)return _m(s-d)}return 0}}sh(Nw,"Temporal.PlainDateTime");class Mm{constructor(t=0,n=0,i=0,o=0,c=0,s=0,d=0,B=0,C=0,b=0){const K=void 0===t?0:zs(t),_e=void 0===n?0:zs(n),Ce=void 0===i?0:zs(i),Te=void 0===o?0:zs(o),Pe=void 0===c?0:zs(c),ze=void 0===s?0:zs(s),rt=void 0===d?0:zs(d),Xe=void 0===B?0:zs(B),Ze=void 0===C?0:zs(C),lt=void 0===b?0:zs(b);ZM(K,_e,Ce,Te,Pe,ze,rt,Xe,Ze,lt),Fl(this),ji(this,zc,K),ji(this,cc,_e),ji(this,xo,Ce),ji(this,$a,Te),ji(this,Ca,Pe),ji(this,lc,ze),ji(this,Va,rt),ji(this,dc,Xe),ji(this,Hc,Ze),ji(this,Wc,lt)}get years(){if(!Hs(this))throw new TypeError("invalid receiver");return je(this,zc)}get months(){if(!Hs(this))throw new TypeError("invalid receiver");return je(this,cc)}get weeks(){if(!Hs(this))throw new TypeError("invalid receiver");return je(this,xo)}get days(){if(!Hs(this))throw new TypeError("invalid receiver");return je(this,$a)}get hours(){if(!Hs(this))throw new TypeError("invalid receiver");return je(this,Ca)}get minutes(){if(!Hs(this))throw new TypeError("invalid receiver");return je(this,lc)}get seconds(){if(!Hs(this))throw new TypeError("invalid receiver");return je(this,Va)}get milliseconds(){if(!Hs(this))throw new TypeError("invalid receiver");return je(this,dc)}get microseconds(){if(!Hs(this))throw new TypeError("invalid receiver");return je(this,Hc)}get nanoseconds(){if(!Hs(this))throw new TypeError("invalid receiver");return je(this,Wc)}get sign(){if(!Hs(this))throw new TypeError("invalid receiver");return Af(je(this,zc),je(this,cc),je(this,xo),je(this,$a),je(this,Ca),je(this,lc),je(this,Va),je(this,dc),je(this,Hc),je(this,Wc))}get blank(){if(!Hs(this))throw new TypeError("invalid receiver");return 0===Af(je(this,zc),je(this,cc),je(this,xo),je(this,$a),je(this,Ca),je(this,lc),je(this,Va),je(this,dc),je(this,Hc),je(this,Wc))}with(t){if(!Hs(this))throw new TypeError("invalid receiver");const n=hi(t,["days","hours","microseconds","milliseconds","minutes","months","nanoseconds","seconds","weeks","years"],"partial"),{years:i=je(this,zc),months:o=je(this,cc),weeks:c=je(this,xo),days:s=je(this,$a),hours:d=je(this,Ca),minutes:B=je(this,lc),seconds:C=je(this,Va),milliseconds:b=je(this,dc),microseconds:K=je(this,Hc),nanoseconds:_e=je(this,Wc)}=n;return new Mm(i,o,c,s,d,B,C,b,K,_e)}negated(){if(!Hs(this))throw new TypeError("invalid receiver");return GC(this)}abs(){if(!Hs(this))throw new TypeError("invalid receiver");return new Mm(Math.abs(je(this,zc)),Math.abs(je(this,cc)),Math.abs(je(this,xo)),Math.abs(je(this,$a)),Math.abs(je(this,Ca)),Math.abs(je(this,lc)),Math.abs(je(this,Va)),Math.abs(je(this,dc)),Math.abs(je(this,Hc)),Math.abs(je(this,Wc)))}add(t,n){if(!Hs(this))throw new TypeError("invalid receiver");return QM("add",this,t,n)}subtract(t,n){if(!Hs(this))throw new TypeError("invalid receiver");return QM("subtract",this,t,n)}round(t){if(!Hs(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");let n=je(this,zc),i=je(this,cc),o=je(this,xo),c=je(this,$a),s=je(this,Ca),d=je(this,lc),B=je(this,Va),C=je(this,dc),b=je(this,Hc),K=je(this,Wc),_e=uw(n,i,o,c,s,d,B,C,b,K);const Ce="string"==typeof t?Ng("smallestUnit",t):qi(t);let Te=ml(Ce,"largestUnit","datetime",void 0,["auto"]),Pe=xg(Ce);const ze=wg(Ce),rt=Ju(Ce,"halfExpand");let Xe=ml(Ce,"smallestUnit","datetime",void 0),Ze=!0;Xe||(Ze=!1,Xe="nanosecond"),_e=lp(_e,Xe);let lt=!0;if(Te||(lt=!1,Te=_e),"auto"===Te&&(Te=_e),!Ze&&!lt)throw new RangeError("at least one of smallestUnit or largestUnit is required");if(lp(Te,Xe)!==Te)throw new RangeError(`largestUnit ${Te} cannot be smaller than smallestUnit ${Xe}`);const Et={hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[Xe];return void 0!==Et&&M0(ze,Et,!1),({years:n,months:i,weeks:o,days:c}=WE(n,i,o,c,Te,Pe)),({years:n,months:i,weeks:o,days:c,hours:s,minutes:d,seconds:B,milliseconds:C,microseconds:b,nanoseconds:K}=hp(n,i,o,c,s,d,B,C,b,K,ze,Xe,rt,Pe)),({years:n,months:i,weeks:o,days:c,hours:s,minutes:d,seconds:B,milliseconds:C,microseconds:b,nanoseconds:K}=rA(n,i,o,c,s,d,B,C,b,K,ze,Xe,rt,Pe)),({days:c,hours:s,minutes:d,seconds:B,milliseconds:C,microseconds:b,nanoseconds:K}=Eu(c,s,d,B,C,b,K,Te,Pe)),({years:n,months:i,weeks:o,days:c}=function(Mt,Pt,sn,an,_n,$n){const wn=xr("%Temporal.Duration%"),Cn=Af(Mt,Pt,sn,an,0,0,0,0,0,0);if(0===Cn)return{years:Mt,months:Pt,weeks:sn,days:an};const Wt=xt.BigInt(Cn);let nn,rn,Sn=xt.BigInt(Mt),un=xt.BigInt(Pt),In=xt.BigInt(sn),Gn=xt.BigInt(an);$n&&(rn=Ao($n),nn=je(rn,Fn));const Wn=new wn(Cn),Qt=new wn(0,Cn),Yn=new wn(0,0,Cn);switch(_n){case"year":{if(!nn)throw new RangeError("a starting point is required for years balancing");const dr="string"!=typeof nn?yo(nn,"dateAdd"):void 0;let Nn,En,jn;for(({relativeTo:Nn,days:En}=pc(nn,rn,Wn,dr));xt.greaterThanOrEqual(jl(Gn),xt.BigInt(ss(En)));)Gn=xt.subtract(Gn,xt.BigInt(En)),Sn=xt.add(Sn,Wt),rn=Nn,({relativeTo:Nn,days:En}=pc(nn,rn,Wn,dr));for(({relativeTo:Nn,days:jn}=pc(nn,rn,Qt,dr));xt.greaterThanOrEqual(jl(Gn),xt.BigInt(ss(jn)));)Gn=xt.subtract(Gn,xt.BigInt(jn)),un=xt.add(un,Wt),rn=Nn,({relativeTo:Nn,days:jn}=pc(nn,rn,Qt,dr));Nn=Cc(nn,rn,Wn,void 0,dr);const rr="string"!=typeof nn?yo(nn,"dateUntil"):void 0,gr=uc(null);gr.largestUnit="month";let Er=hm(nn,rn,Nn,gr,rr),fr=je(Er,cc);for(;xt.greaterThanOrEqual(jl(un),xt.BigInt(ss(fr)));){un=xt.subtract(un,xt.BigInt(fr)),Sn=xt.add(Sn,Wt),rn=Nn,Nn=Cc(nn,rn,Wn,void 0,dr);const hr=uc(null);hr.largestUnit="month",Er=hm(nn,rn,Nn,hr,rr),fr=je(Er,cc)}break}case"month":{if(!nn)throw new RangeError("a starting point is required for months balancing");const dr="string"!=typeof nn?yo(nn,"dateAdd"):void 0;let Nn,En;for(({relativeTo:Nn,days:En}=pc(nn,rn,Qt,dr));xt.greaterThanOrEqual(jl(Gn),xt.BigInt(ss(En)));)Gn=xt.subtract(Gn,xt.BigInt(En)),un=xt.add(un,Wt),rn=Nn,({relativeTo:Nn,days:En}=pc(nn,rn,Qt,dr));break}case"week":{if(!nn)throw new RangeError("a starting point is required for weeks balancing");const dr="string"!=typeof nn?yo(nn,"dateAdd"):void 0;let Nn,En;for(({relativeTo:Nn,days:En}=pc(nn,rn,Yn,dr));xt.greaterThanOrEqual(jl(Gn),xt.BigInt(ss(En)));)Gn=xt.subtract(Gn,xt.BigInt(En)),In=xt.add(In,Wt),rn=Nn,({relativeTo:Nn,days:En}=pc(nn,rn,Yn,dr));break}}return{years:xt.toNumber(Sn),months:xt.toNumber(un),weeks:xt.toNumber(In),days:xt.toNumber(Gn)}}(n,i,o,c,Te,Pe)),new Mm(n,i,o,c,s,d,B,C,b,K)}total(t){if(!Hs(this))throw new TypeError("invalid receiver");let n=je(this,zc),i=je(this,cc),o=je(this,xo),c=je(this,$a),s=je(this,Ca),d=je(this,lc),B=je(this,Va),C=je(this,dc),b=je(this,Hc),K=je(this,Wc);if(void 0===t)throw new TypeError("options argument is required");const _e="string"==typeof t?Ng("unit",t):qi(t),Ce=xg(_e),Te=ml(_e,"unit","datetime",Eg);let Pe;({years:n,months:i,weeks:o,days:c}=WE(n,i,o,c,Te,Ce)),Fr(Ce)&&(Pe=o6(Ce,n,i,o,0));let ze=Rg(c,s,d,B,C,b,K,Te,Pe);if("positive overflow"===ze)return 1/0;if("negative overflow"===ze)return-1/0;({days:c,hours:s,minutes:d,seconds:B,milliseconds:C,microseconds:b,nanoseconds:K}=ze);const{total:rt}=hp(n,i,o,c,s,d,B,C,b,K,1,Te,"trunc",Ce);return rt}toString(t){if(!Hs(this))throw new TypeError("invalid receiver");const n=qi(t),i=dw(n),o=Ju(n,"trunc"),c=ml(n,"smallestUnit","time",void 0);if("hour"===c||"minute"===c)throw new RangeError('smallestUnit must be a time unit other than "hours" or "minutes"');const{precision:s,unit:d,increment:B}=_g(c,i);return KM(this,s,{unit:d,increment:B,roundingMode:o})}toJSON(){if(!Hs(this))throw new TypeError("invalid receiver");return KM(this)}toLocaleString(t,n){if(!Hs(this))throw new TypeError("invalid receiver");return typeof Intl<"u"&&void 0!==Intl.DurationFormat?new Intl.DurationFormat(t,n).format(this):(console.warn("Temporal.Duration.prototype.toLocaleString() requires Intl.DurationFormat."),KM(this))}valueOf(){throw new TypeError("use compare() to compare Temporal.Duration")}static from(t){return Hs(t)?new Mm(je(t,zc),je(t,cc),je(t,xo),je(t,$a),je(t,Ca),je(t,lc),je(t,Va),je(t,dc),je(t,Hc),je(t,Wc)):$l(t)}static compare(t,n,i){const o=$l(t),c=$l(n),s=xg(qi(i)),d=je(o,zc),B=je(o,cc),C=je(o,xo);let b=je(o,$a);const K=je(o,Ca),_e=je(o,lc),Ce=je(o,Va),Te=je(o,dc),Pe=je(o,Hc);let ze=je(o,Wc);const rt=je(c,zc),Xe=je(c,cc),Ze=je(c,xo);let lt=je(c,$a);const Et=je(c,Ca),pt=je(c,lc),Mt=je(c,Va),Pt=je(c,dc),sn=je(c,Hc);let an=je(c,Wc);const _n=WC(s,d,B,C,b),$n=WC(s,rt,Xe,Ze,lt);0===d&&0===rt&&0===B&&0===Xe&&0===C&&0===Ze||(({days:b}=WE(d,B,C,b,"day",s)),({days:lt}=WE(rt,Xe,Ze,lt,"day",s)));const wn=Pg(b,K,_e,Ce,Te,Pe,ze,_n),Cn=Pg(lt,Et,pt,Mt,Pt,sn,an,$n);return _m(xt.toNumber(xt.subtract(wn,Cn)))}}sh(Mm,"Temporal.Duration");const d2=Object.create;class u2{constructor(t,n,i="iso8601",o=1972){FC(this,no(t),no(n),zl(i),no(o))}get monthCode(){if(!Ha(this))throw new TypeError("invalid receiver");return yw(je(this,Fn),this)}get day(){if(!Ha(this))throw new TypeError("invalid receiver");return gw(je(this,Fn),this)}get calendarId(){if(!Ha(this))throw new TypeError("invalid receiver");return fc(je(this,Fn))}with(t,n){if(!Ha(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("invalid argument");cw(t);const i=qi(n),o=je(this,Fn),c=sa(o,["day","month","monthCode","year"]);let s=hi(this,c,[]);return s=fm(o,s,hi(t,c,"partial")),s=hi(s,c,[]),I0(o,s,i)}equals(t){if(!Ha(this))throw new TypeError("invalid receiver");const n=BM(t);for(const i of[Rr,Sr,Mr])if(je(this,i)!==je(n,i))return!1;return xw(je(this,Fn),je(n,Fn))}toString(t){if(!Ha(this))throw new TypeError("invalid receiver");return VE(this,lw(qi(t)))}toJSON(){if(!Ha(this))throw new TypeError("invalid receiver");return VE(this)}toLocaleString(t,n){if(!Ha(this))throw new TypeError("invalid receiver");return new vh(t,n).format(this)}valueOf(){throw new TypeError("use equals() to compare Temporal.PlainMonthDay")}toPlainDate(t){if(!Ha(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("argument should be an object");const n=je(this,Fn),i=sa(n,["day","monthCode"]),o=hi(this,i,[]),c=sa(n,["year"]);let s=fm(n,o,hi(t,c,[]));s=hi(s,[...new Set([...i,...c])],[]);const d=d2(null);return d.overflow="reject",pm(n,s,d)}getISOFields(){if(!Ha(this))throw new TypeError("invalid receiver");return{calendar:je(this,Fn),isoDay:je(this,Sr),isoMonth:je(this,Rr),isoYear:je(this,Mr)}}getCalendar(){if(!Ha(this))throw new TypeError("invalid receiver");return A0(je(this,Fn))}static from(t,n){const i=qi(n);return Ha(t)?(oa(i),pw(je(t,Rr),je(t,Sr),je(t,Fn),je(t,Mr))):BM(t,i)}}sh(u2,"Temporal.PlainMonthDay");const $g=()=>new(xr("%Temporal.Instant%"))(iA()),TO=(r,t=pp())=>{const n=Ga(t),i=zl(r);return vd(n,$g(),i)},bA=(r=pp())=>vd(Ga(r),$g(),"iso8601"),wA=(r,t=pp())=>{const n=Ga(t),i=zl(r);return Dc(iA(),n,i)},_A={instant:$g,plainDateTime:TO,plainDateTimeISO:bA,plainDate:(r,t=pp())=>Ag(TO(r,t)),plainDateISO:(r=pp())=>Ag(bA(r)),plainTimeISO:(r=pp())=>Tg(bA(r)),timeZoneId:()=>pp(),zonedDateTime:wA,zonedDateTimeISO:(r=pp())=>wA("iso8601",r),[Symbol.toStringTag]:"Temporal.Now"};Object.defineProperty(_A,Symbol.toStringTag,{value:"Temporal.Now",writable:!1,enumerable:!1,configurable:!0});const I6=Object.assign;function EA(r,t,n){let i=je(r,fi),o=je(r,Ei),c=je(r,ni),s=je(r,yi),d=je(r,Ci),B=je(r,_i);if(n){const{unit:C,increment:b,roundingMode:K}=n;({hour:i,minute:o,second:c,millisecond:s,microsecond:d,nanosecond:B}=nA(i,o,c,s,d,B,b,C,K))}return`${ts(i)}:${ts(o)}${Ig(c,s,d,B,t)}`}class F0{constructor(t=0,n=0,i=0,o=0,c=0,s=0){const d=void 0===t?0:no(t),B=void 0===n?0:no(n),C=void 0===i?0:no(i),b=void 0===o?0:no(o),K=void 0===c?0:no(c),_e=void 0===s?0:no(s);GE(d,B,C,b,K,_e),Fl(this),ji(this,fi,d),ji(this,Ei,B),ji(this,ni,C),ji(this,yi,b),ji(this,Ci,K),ji(this,_i,_e)}get hour(){if(!xs(this))throw new TypeError("invalid receiver");return je(this,fi)}get minute(){if(!xs(this))throw new TypeError("invalid receiver");return je(this,Ei)}get second(){if(!xs(this))throw new TypeError("invalid receiver");return je(this,ni)}get millisecond(){if(!xs(this))throw new TypeError("invalid receiver");return je(this,yi)}get microsecond(){if(!xs(this))throw new TypeError("invalid receiver");return je(this,Ci)}get nanosecond(){if(!xs(this))throw new TypeError("invalid receiver");return je(this,_i)}with(t,n){if(!xs(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("invalid argument");cw(t);const i=oa(qi(n)),o=OE(t,"partial"),c=OE(this);let{hour:s,minute:d,second:B,millisecond:C,microsecond:b,nanosecond:K}=I6(c,o);return({hour:s,minute:d,second:B,millisecond:C,microsecond:b,nanosecond:K}=RE(s,d,B,C,b,K,i)),new F0(s,d,B,C,b,K)}add(t){if(!xs(this))throw new TypeError("invalid receiver");return r6("add",this,t)}subtract(t){if(!xs(this))throw new TypeError("invalid receiver");return r6("subtract",this,t)}until(t,n){if(!xs(this))throw new TypeError("invalid receiver");return qC("until",this,t,n)}since(t,n){if(!xs(this))throw new TypeError("invalid receiver");return qC("since",this,t,n)}round(t){if(!xs(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Ng("smallestUnit",t):qi(t),i=wg(n),o=Ju(n,"halfExpand"),c=ml(n,"smallestUnit","time",Eg);M0(i,{hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[c],!1);let s=je(this,fi),d=je(this,Ei),B=je(this,ni),C=je(this,yi),b=je(this,Ci),K=je(this,_i);return({hour:s,minute:d,second:B,millisecond:C,microsecond:b,nanosecond:K}=nA(s,d,B,C,b,K,i,c,o)),new F0(s,d,B,C,b,K)}equals(t){if(!xs(this))throw new TypeError("invalid receiver");const n=dp(t);for(const i of[fi,Ei,ni,yi,Ci,_i])if(je(this,i)!==je(n,i))return!1;return!0}toString(t){if(!xs(this))throw new TypeError("invalid receiver");const n=qi(t),i=dw(n),o=Ju(n,"trunc"),c=ml(n,"smallestUnit","time",void 0);if("hour"===c)throw new RangeError('smallestUnit must be a time unit other than "hour"');const{precision:s,unit:d,increment:B}=_g(c,i);return EA(this,s,{unit:d,increment:B,roundingMode:o})}toJSON(){if(!xs(this))throw new TypeError("invalid receiver");return EA(this,"auto")}toLocaleString(t,n){if(!xs(this))throw new TypeError("invalid receiver");return new vh(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainTime")}toPlainDateTime(t){if(!xs(this))throw new TypeError("invalid receiver");const n=Ao(t),i=je(n,Mr),o=je(n,Rr),c=je(n,Sr),s=je(n,Fn);return Vl(i,o,c,je(this,fi),je(this,Ei),je(this,ni),je(this,yi),je(this,Ci),je(this,_i),s)}toZonedDateTime(t){if(!xs(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("invalid argument");const n=t.plainDate;if(void 0===n)throw new TypeError("missing date property");const i=Ao(n),o=t.timeZone;if(void 0===o)throw new TypeError("missing timeZone property");const c=Ga(o),s=je(i,Mr),d=je(i,Rr),B=je(i,Sr),C=je(i,Fn),b=je(this,fi),K=je(this,Ei),_e=je(this,ni),Ce=je(this,yi),Te=je(this,Ci),Pe=je(this,_i);return Dc(je(vl(c,new(xr("%Temporal.PlainDateTime%"))(s,d,B,b,K,_e,Ce,Te,Pe,C),"compatible"),Yr),c,C)}getISOFields(){if(!xs(this))throw new TypeError("invalid receiver");return{isoHour:je(this,fi),isoMicrosecond:je(this,Ci),isoMillisecond:je(this,yi),isoMinute:je(this,Ei),isoNanosecond:je(this,_i),isoSecond:je(this,ni)}}static from(t,n){const i=oa(qi(n));return xs(t)?new F0(je(t,fi),je(t,Ei),je(t,ni),je(t,yi),je(t,Ci),je(t,_i)):dp(t,i)}static compare(t,n){const i=dp(t),o=dp(n);for(const c of[fi,Ei,ni,yi,Ci,_i]){const s=je(i,c),d=je(o,c);if(s!==d)return _m(s-d)}return 0}}sh(F0,"Temporal.PlainTime");class Lw{constructor(t){if(arguments.length<1)throw new RangeError("missing argument: identifier is required");const n=gm(t);Fl(this),ji(this,ah,n)}get id(){if(!Kl(this))throw new TypeError("invalid receiver");return je(this,ah)}getOffsetNanosecondsFor(t){if(!Kl(this))throw new TypeError("invalid receiver");const n=qu(t),i=je(this,ah);return Dg(i)?ym(i):vm(i,je(n,Yr))}getOffsetStringFor(t){if(!Kl(this))throw new TypeError("invalid receiver");return Aw(this,qu(t))}getPlainDateTimeFor(t,n="iso8601"){if(!Kl(this))throw new TypeError("invalid receiver");return vd(this,qu(t),zl(n))}getInstantFor(t,n){if(!Kl(this))throw new TypeError("invalid receiver");return vl(this,yl(t),S0(qi(n)))}getPossibleInstantsFor(t){if(!Kl(this))throw new TypeError("invalid receiver");const n=yl(t),i=xr("%Temporal.Instant%"),o=je(this,ah);if(Dg(o)){const s=up(je(n,Mr),je(n,Rr),je(n,Sr),je(n,fi),je(n,Ei),je(n,ni),je(n,yi),je(n,Ci),je(n,_i));if(null===s)throw new RangeError("DateTime outside of supported range");const d=ym(o);return[new i(xt.subtract(s,xt.BigInt(d)))]}return function(d,B,C,b,K,_e,Ce,Te,Pe,ze){const rt=up(B,C,b,K,_e,Ce,Te,Pe,ze);if(null===rt)throw new RangeError("DateTime outside of supported range");let Xe=xt.subtract(rt,uh);xt.lessThan(Xe,ow)&&(Xe=rt);let Ze=xt.add(rt,uh);xt.greaterThan(Ze,vg)&&(Ze=rt);const lt=vm(d,Xe),Et=vm(d,Ze);return(lt===Et?[lt]:[lt,Et]).map(pt=>{const Mt=xt.subtract(rt,xt.BigInt(pt)),Pt=mO(d,Mt);if(B===Pt.year&&C===Pt.month&&b===Pt.day&&K===Pt.hour&&_e===Pt.minute&&Ce===Pt.second&&Te===Pt.millisecond&&Pe===Pt.microsecond&&ze===Pt.nanosecond)return Mt}).filter(pt=>void 0!==pt)}(o,je(n,Mr),je(n,Rr),je(n,Sr),je(n,fi),je(n,Ei),je(n,ni),je(n,yi),je(n,Ci),je(n,_i)).map(s=>new i(s))}getNextTransition(t){if(!Kl(this))throw new TypeError("invalid receiver");const n=qu(t),i=je(this,ah);if(Dg(i)||"UTC"===i)return null;let o=je(n,Yr);const c=xr("%Temporal.Instant%");return o=HC(i,o),null===o?null:new c(o)}getPreviousTransition(t){if(!Kl(this))throw new TypeError("invalid receiver");const n=qu(t),i=je(this,ah);if(Dg(i)||"UTC"===i)return null;let o=je(n,Yr);const c=xr("%Temporal.Instant%");return o=zM(i,o),null===o?null:new c(o)}toString(){if(!Kl(this))throw new TypeError("invalid receiver");return je(this,ah)}toJSON(){if(!Kl(this))throw new TypeError("invalid receiver");return je(this,ah)}static from(t){return KC(Ga(t))}}sh(Lw,"Temporal.TimeZone"),$s("Temporal.TimeZone.prototype.getOffsetNanosecondsFor",Lw.prototype.getOffsetNanosecondsFor),$s("Temporal.TimeZone.prototype.getPossibleInstantsFor",Lw.prototype.getPossibleInstantsFor);const IO=Object.create;class xA{constructor(t,n,i="iso8601",o=1){NM(this,no(t),no(n),zl(i),no(o))}get year(){if(!so(this))throw new TypeError("invalid receiver");return LE(je(this,Fn),this)}get month(){if(!so(this))throw new TypeError("invalid receiver");return UE(je(this,Fn),this)}get monthCode(){if(!so(this))throw new TypeError("invalid receiver");return yw(je(this,Fn),this)}get calendarId(){if(!so(this))throw new TypeError("invalid receiver");return fc(je(this,Fn))}get era(){if(!so(this))throw new TypeError("invalid receiver");return FE(je(this,Fn),this)}get eraYear(){if(!so(this))throw new TypeError("invalid receiver");return jE(je(this,Fn),this)}get daysInMonth(){if(!so(this))throw new TypeError("invalid receiver");return Mg(je(this,Fn),this)}get daysInYear(){if(!so(this))throw new TypeError("invalid receiver");return bw(je(this,Fn),this)}get monthsInYear(){if(!so(this))throw new TypeError("invalid receiver");return ww(je(this,Fn),this)}get inLeapYear(){if(!so(this))throw new TypeError("invalid receiver");return _w(je(this,Fn),this)}with(t,n){if(!so(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("invalid argument");cw(t);const i=qi(n),o=je(this,Fn),c=sa(o,["month","monthCode","year"]);let s=hi(this,c,[]);return s=fm(o,s,hi(t,c,"partial")),s=hi(s,c,[]),T0(o,s,i)}add(t,n){if(!so(this))throw new TypeError("invalid receiver");return XE("add",this,t,n)}subtract(t,n){if(!so(this))throw new TypeError("invalid receiver");return XE("subtract",this,t,n)}until(t,n){if(!so(this))throw new TypeError("invalid receiver");return gO("until",this,t,n)}since(t,n){if(!so(this))throw new TypeError("invalid receiver");return gO("since",this,t,n)}equals(t){if(!so(this))throw new TypeError("invalid receiver");const n=fw(t);for(const i of[Mr,Rr,Sr])if(je(this,i)!==je(n,i))return!1;return xw(je(this,Fn),je(n,Fn))}toString(t){if(!so(this))throw new TypeError("invalid receiver");return zE(this,lw(qi(t)))}toJSON(){if(!so(this))throw new TypeError("invalid receiver");return zE(this)}toLocaleString(t,n){if(!so(this))throw new TypeError("invalid receiver");return new vh(t,n).format(this)}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.PlainYearMonth")}toPlainDate(t){if(!so(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("argument should be an object");const n=je(this,Fn),i=sa(n,["monthCode","year"]),o=hi(this,i,[]),c=sa(n,["day"]);let s=fm(n,o,hi(t,c,[]));s=hi(s,[...new Set([...i,...c])],[]);const d=IO(null);return d.overflow="reject",pm(n,s,d)}getISOFields(){if(!so(this))throw new TypeError("invalid receiver");return{calendar:je(this,Fn),isoDay:je(this,Sr),isoMonth:je(this,Rr),isoYear:je(this,Mr)}}getCalendar(){if(!so(this))throw new TypeError("invalid receiver");return A0(je(this,Fn))}static from(t,n){const i=qi(n);return so(t)?(oa(i),Sg(je(t,Mr),je(t,Rr),je(t,Fn),je(t,Sr))):fw(t,i)}static compare(t,n){const i=fw(t),o=fw(n);return wm(je(i,Mr),je(i,Rr),je(i,Sr),je(o,Mr),je(o,Rr),je(o,Sr))}}sh(xA,"Temporal.PlainYearMonth");const DO=vh.prototype.resolvedOptions,CO=Object.create;class SA{constructor(t,n,i="iso8601"){if(arguments.length<1)throw new TypeError("missing argument: epochNanoseconds is required");mw(this,Cw(t),Ga(n),zl(i))}get calendarId(){if(!Fr(this))throw new TypeError("invalid receiver");return fc(je(this,Fn))}get timeZoneId(){if(!Fr(this))throw new TypeError("invalid receiver");return Mw(je(this,gi))}get year(){if(!Fr(this))throw new TypeError("invalid receiver");return LE(je(this,Fn),Ro(this))}get month(){if(!Fr(this))throw new TypeError("invalid receiver");return UE(je(this,Fn),Ro(this))}get monthCode(){if(!Fr(this))throw new TypeError("invalid receiver");return yw(je(this,Fn),Ro(this))}get day(){if(!Fr(this))throw new TypeError("invalid receiver");return gw(je(this,Fn),Ro(this))}get hour(){if(!Fr(this))throw new TypeError("invalid receiver");return je(Ro(this),fi)}get minute(){if(!Fr(this))throw new TypeError("invalid receiver");return je(Ro(this),Ei)}get second(){if(!Fr(this))throw new TypeError("invalid receiver");return je(Ro(this),ni)}get millisecond(){if(!Fr(this))throw new TypeError("invalid receiver");return je(Ro(this),yi)}get microsecond(){if(!Fr(this))throw new TypeError("invalid receiver");return je(Ro(this),Ci)}get nanosecond(){if(!Fr(this))throw new TypeError("invalid receiver");return je(Ro(this),_i)}get era(){if(!Fr(this))throw new TypeError("invalid receiver");return FE(je(this,Fn),Ro(this))}get eraYear(){if(!Fr(this))throw new TypeError("invalid receiver");return jE(je(this,Fn),Ro(this))}get epochSeconds(){if(!Fr(this))throw new TypeError("invalid receiver");const t=je(this,Yr);return xt.toNumber(Bg(t,dh))}get epochMilliseconds(){if(!Fr(this))throw new TypeError("invalid receiver");const t=je(this,Yr);return xt.toNumber(Bg(t,Vd))}get epochMicroseconds(){if(!Fr(this))throw new TypeError("invalid receiver");return JE(Bg(je(this,Yr),mo))}get epochNanoseconds(){if(!Fr(this))throw new TypeError("invalid receiver");return JE(je(this,Yr))}get dayOfWeek(){if(!Fr(this))throw new TypeError("invalid receiver");return LM(je(this,Fn),Ro(this))}get dayOfYear(){if(!Fr(this))throw new TypeError("invalid receiver");return UM(je(this,Fn),Ro(this))}get weekOfYear(){if(!Fr(this))throw new TypeError("invalid receiver");return vw(je(this,Fn),Ro(this))}get yearOfWeek(){if(!Fr(this))throw new TypeError("invalid receiver");return jC(je(this,Fn),Ro(this))}get hoursInDay(){if(!Fr(this))throw new TypeError("invalid receiver");const t=Ro(this),n=xr("%Temporal.PlainDateTime%"),i=je(t,Mr),o=je(t,Rr),c=je(t,Sr),s=new n(i,o,c,0,0,0,0,0,0),d=bm(i,o,c,0,0,0,1,"reject"),B=new n(d.year,d.month,d.day,0,0,0,0,0,0),C=je(this,gi),b=je(vl(C,s,"compatible"),Yr),K=je(vl(C,B,"compatible"),Yr);return yh(xt.subtract(K,b),PC)}get daysInWeek(){if(!Fr(this))throw new TypeError("invalid receiver");return FM(je(this,Fn),Ro(this))}get daysInMonth(){if(!Fr(this))throw new TypeError("invalid receiver");return Mg(je(this,Fn),Ro(this))}get daysInYear(){if(!Fr(this))throw new TypeError("invalid receiver");return bw(je(this,Fn),Ro(this))}get monthsInYear(){if(!Fr(this))throw new TypeError("invalid receiver");return ww(je(this,Fn),Ro(this))}get inLeapYear(){if(!Fr(this))throw new TypeError("invalid receiver");return _w(je(this,Fn),Ro(this))}get offset(){if(!Fr(this))throw new TypeError("invalid receiver");return Aw(je(this,gi),je(this,Vc))}get offsetNanoseconds(){if(!Fr(this))throw new TypeError("invalid receiver");return Hd(je(this,gi),je(this,Vc))}with(t,n){if(!Fr(this))throw new TypeError("invalid receiver");if(!Fo(t))throw new TypeError("invalid zoned-date-time-like");cw(t);const i=qi(n),o=je(this,Fn);let c=sa(o,["day","hour","microsecond","millisecond","minute","month","monthCode","nanosecond","second","year"]);c.push("offset");let s=hi(this,c,["offset"]);s=fm(o,s,hi(t,c,"partial")),s=hi(s,c,["offset"]);const d=S0(i),B=cp(i,"prefer");let{year:C,month:b,day:K,hour:_e,minute:Ce,second:Te,millisecond:Pe,microsecond:ze,nanosecond:rt}=zd(o,s,i);const Xe=ym(s.offset),Ze=je(this,gi);return Dc(BE(C,b,K,_e,Ce,Te,Pe,ze,rt,"option",Xe,Ze,d,B,!1),Ze,o)}withPlainDate(t){if(!Fr(this))throw new TypeError("invalid receiver");const n=Ao(t),i=je(n,Mr),o=je(n,Rr),c=je(n,Sr);let s=je(n,Fn);const d=Ro(this),B=je(d,fi),C=je(d,Ei),b=je(d,ni),K=je(d,yi),_e=je(d,Ci),Ce=je(d,_i);s=hO(je(this,Fn),s);const Te=je(this,gi);return Dc(je(vl(Te,new(xr("%Temporal.PlainDateTime%"))(i,o,c,B,C,b,K,_e,Ce,s),"compatible"),Yr),Te,s)}withPlainTime(t){if(!Fr(this))throw new TypeError("invalid receiver");const n=xr("%Temporal.PlainTime%"),i=void 0===t?new n:dp(t),o=Ro(this),c=je(o,Mr),s=je(o,Rr),d=je(o,Sr),B=je(this,Fn),C=je(i,fi),b=je(i,Ei),K=je(i,ni),_e=je(i,yi),Ce=je(i,Ci),Te=je(i,_i),Pe=je(this,gi);return Dc(je(vl(Pe,new(xr("%Temporal.PlainDateTime%"))(c,s,d,C,b,K,_e,Ce,Te,B),"compatible"),Yr),Pe,B)}withTimeZone(t){if(!Fr(this))throw new TypeError("invalid receiver");const n=Ga(t);return Dc(je(this,Yr),n,je(this,Fn))}withCalendar(t){if(!Fr(this))throw new TypeError("invalid receiver");const n=zl(t);return Dc(je(this,Yr),je(this,gi),n)}add(t,n){if(!Fr(this))throw new TypeError("invalid receiver");return i6("add",this,t,n)}subtract(t,n){if(!Fr(this))throw new TypeError("invalid receiver");return i6("subtract",this,t,n)}until(t,n){if(!Fr(this))throw new TypeError("invalid receiver");return QC("until",this,t,n)}since(t,n){if(!Fr(this))throw new TypeError("invalid receiver");return QC("since",this,t,n)}round(t){if(!Fr(this))throw new TypeError("invalid receiver");if(void 0===t)throw new TypeError("options parameter is required");const n="string"==typeof t?Ng("smallestUnit",t):qi(t),i=wg(n),o=Ju(n,"halfExpand"),c=ml(n,"smallestUnit","time",Eg,["day"]),s={day:1,hour:24,minute:60,second:60,millisecond:1e3,microsecond:1e3,nanosecond:1e3}[c];M0(i,s,1===s);const d=Ro(this);let B=je(d,Mr),C=je(d,Rr),b=je(d,Sr),K=je(d,fi),_e=je(d,Ei),Ce=je(d,ni),Te=je(d,yi),Pe=je(d,Ci),ze=je(d,_i);const rt=xr("%Temporal.PlainDateTime%"),Xe=je(this,gi),Ze=je(this,Fn),lt=vl(Xe,new rt(je(d,Mr),je(d,Rr),je(d,Sr),0,0,0,0,0,0),"compatible"),Et=Wd(lt,Xe,Ze,0,0,0,1,0,0,0,0,0,0),pt=xt.subtract(Et,xt.BigInt(je(lt,Yr)));if(xt.lessThanOrEqual(pt,Vs))throw new RangeError("cannot round a ZonedDateTime in a calendar with zero or negative length days");return({year:B,month:C,day:b,hour:K,minute:_e,second:Ce,millisecond:Te,microsecond:Pe,nanosecond:ze}=tA(B,C,b,K,_e,Ce,Te,Pe,ze,i,c,o,xt.toNumber(pt))),Dc(BE(B,C,b,K,_e,Ce,Te,Pe,ze,"option",Hd(Xe,je(this,Vc)),Xe,"compatible","prefer",!1),Xe,je(this,Fn))}equals(t){if(!Fr(this))throw new TypeError("invalid receiver");const n=hw(t),i=je(this,Yr),o=je(n,Yr);return!!xt.equal(xt.BigInt(i),xt.BigInt(o))&&!!KE(je(this,gi),je(n,gi))&&xw(je(this,Fn),je(n,Fn))}toString(t){if(!Fr(this))throw new TypeError("invalid receiver");const n=qi(t),i=lw(n),o=dw(n),c=Em(n,"offset",["auto","never"],"auto"),s=Ju(n,"trunc"),d=ml(n,"smallestUnit","time",void 0);if("hour"===d)throw new RangeError('smallestUnit must be a time unit other than "hour"');const B=Em(n,"timeZoneName",["auto","never","critical"],"auto"),{precision:C,unit:b,increment:K}=_g(d,o);return mm(this,C,i,B,c,{unit:b,increment:K,roundingMode:s})}toLocaleString(t,n){if(!Fr(this))throw new TypeError("invalid receiver");const i=qi(n),o=CO(null);if(x0(o,i,["timeZone"]),void 0!==i.timeZone)throw new TypeError("ZonedDateTime toLocaleString does not accept a timeZone option");void 0===o.year&&void 0===o.month&&void 0===o.day&&void 0===o.weekday&&void 0===o.dateStyle&&void 0===o.hour&&void 0===o.minute&&void 0===o.second&&void 0===o.timeStyle&&void 0===o.dayPeriod&&void 0===o.timeZoneName&&(o.timeZoneName="short");let c=Mw(je(this,gi));if(Dg(c))throw new RangeError("toLocaleString does not support offset string time zones");c=gm(c),o.timeZone=c;const s=new vh(t,o),d=Vr(DO,s,[]).calendar,B=fc(je(this,Fn));if("iso8601"!==B&&"iso8601"!==d&&d!==B)throw new RangeError(`cannot format ZonedDateTime with calendar ${B} in locale with calendar ${d}`);return s.format(je(this,Vc))}toJSON(){if(!Fr(this))throw new TypeError("invalid receiver");return mm(this,"auto")}valueOf(){throw new TypeError("use compare() or equals() to compare Temporal.ZonedDateTime")}startOfDay(){if(!Fr(this))throw new TypeError("invalid receiver");const t=Ro(this),n=xr("%Temporal.PlainDateTime%"),i=je(this,Fn),o=new n(je(t,Mr),je(t,Rr),je(t,Sr),0,0,0,0,0,0,i),c=je(this,gi);return Dc(je(vl(c,o,"compatible"),Yr),c,i)}toInstant(){if(!Fr(this))throw new TypeError("invalid receiver");return new(xr("%Temporal.Instant%"))(je(this,Yr))}toPlainDate(){if(!Fr(this))throw new TypeError("invalid receiver");return Ag(Ro(this))}toPlainTime(){if(!Fr(this))throw new TypeError("invalid receiver");return Tg(Ro(this))}toPlainDateTime(){if(!Fr(this))throw new TypeError("invalid receiver");return Ro(this)}toPlainYearMonth(){if(!Fr(this))throw new TypeError("invalid receiver");const t=je(this,Fn);return T0(t,hi(this,sa(t,["monthCode","year"]),[]))}toPlainMonthDay(){if(!Fr(this))throw new TypeError("invalid receiver");const t=je(this,Fn);return I0(t,hi(this,sa(t,["day","monthCode"]),[]))}getISOFields(){if(!Fr(this))throw new TypeError("invalid receiver");const t=Ro(this),n=je(this,gi);return{calendar:je(this,Fn),isoDay:je(t,Sr),isoHour:je(t,fi),isoMicrosecond:je(t,Ci),isoMillisecond:je(t,yi),isoMinute:je(t,Ei),isoMonth:je(t,Rr),isoNanosecond:je(t,_i),isoSecond:je(t,ni),isoYear:je(t,Mr),offset:Aw(n,je(this,Vc)),timeZone:n}}getCalendar(){if(!Fr(this))throw new TypeError("invalid receiver");return A0(je(this,Fn))}getTimeZone(){if(!Fr(this))throw new TypeError("invalid receiver");return KC(je(this,gi))}static from(t,n){const i=qi(n);return Fr(t)?(S0(i),cp(i,"reject"),oa(i),Dc(je(t,Yr),je(t,gi),je(t,Fn))):hw(t,i)}static compare(t,n){const i=hw(t),o=hw(n),c=je(i,Yr),s=je(o,Yr);return xt.lessThan(xt.BigInt(c),xt.BigInt(s))?-1:xt.greaterThan(xt.BigInt(c),xt.BigInt(s))?1:0}}function Ro(r){return vd(je(r,gi),je(r,Vc),je(r,Fn))}sh(SA,"Temporal.ZonedDateTime");var j0=Object.freeze({__proto__:null,Calendar:Cs,Duration:Mm,Instant:Qu,Now:_A,PlainDate:Kg,PlainDateTime:Nw,PlainMonthDay:u2,PlainTime:F0,PlainYearMonth:xA,TimeZone:Lw,ZonedDateTime:SA});const D6=[Qu,Cs,Kg,Nw,Mm,u2,F0,Lw,xA,SA];for(const r of D6){const t=Object.getOwnPropertyDescriptor(r,"prototype");(t.configurable||t.enumerable||t.writable)&&(t.configurable=!1,t.enumerable=!1,t.writable=!1,Object.defineProperty(r,"prototype",t))}var MA=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Ws{static sleep(t){return MA(this,void 0,void 0,function*(){return new Promise(n=>setTimeout(n,t))})}static minimalSleep(){return MA(this,void 0,void 0,function*(){yield Ws.sleep(2)})}static getCurrentTimestamp(){return j0.Now.instant().toString({smallestUnit:"microseconds"})}static createTimestamp(t){const{year:n,month:i,day:o,hour:c,minute:s,second:d,millisecond:B,microsecond:C}=t;return j0.ZonedDateTime.from({timeZone:"UTC",year:n,month:i,day:o,hour:c,minute:s,second:d,millisecond:B,microsecond:C}).toInstant().toString({smallestUnit:"microseconds"})}static createOffsetTimestamp(t,n){const i=n?j0.Instant.from(n):j0.Now.instant(),o=j0.Duration.from(t);return i.add(o).toString({smallestUnit:"microseconds"})}static validateTimestamp(t){try{j0.Instant.from(t)}catch{throw new O(q.TimestampInvalid,`Invalid timestamp: ${t}`)}}}var _a=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class go{get message(){if(void 0===this._message.authorization)throw new O(q.RecordsWriteMissingSigner,"This RecordsWrite is not yet signed, JSON message cannot be generated from an incomplete state.");return this._message}get author(){return this._author}get signaturePayload(){return this._signaturePayload}get owner(){return this._owner}get ownerSignaturePayload(){return this._ownerSignaturePayload}get isSignedByAuthorDelegate(){return Dr.isSignedByAuthorDelegate(this._message)}get isSignedByOwnerDelegate(){return Dr.isSignedByOwnerDelegate(this._message)}get signer(){return Dr.getSigner(this._message)}get ownerSignatureSigner(){var t;return void 0===(null===(t=this._message.authorization)||void 0===t?void 0:t.ownerSignature)?void 0:Ds.getSignerDid(this._message.authorization.ownerSignature.signatures[0])}constructor(t,n){this.parentContextId=n,this._message=t,void 0!==t.authorization&&(this._author=Fi.getAuthor(t),this._signaturePayload=Ds.decodePlainObjectPayload(t.authorization.signature),void 0!==t.authorization.ownerSignature&&(this._owner=void 0!==t.authorization.ownerDelegatedGrant?Dr.getSigner(t.authorization.ownerDelegatedGrant):Ds.getSignerDid(t.authorization.ownerSignature.signatures[0]),this._ownerSignaturePayload=Ds.decodePlainObjectPayload(t.authorization.ownerSignature))),this.attesters=go.getAttesters(t)}static parse(t){return _a(this,void 0,void 0,function*(){const n=JSON.parse(JSON.stringify(t));yield Dr.validateSignatureStructure(n.authorization.signature,n.descriptor,"RecordsWriteSignaturePayload"),void 0!==n.authorization.ownerSignature&&(yield Dr.validateSignatureStructure(n.authorization.ownerSignature,n.descriptor)),yield go.validateAttestationIntegrity(n);const i=new go(n);return yield i.validateIntegrity(),i})}static create(t){var n,i,o,c;return _a(this,void 0,void 0,function*(){if(void 0===t.protocol&&void 0!==t.protocolPath||void 0!==t.protocol&&void 0===t.protocolPath)throw new O(q.RecordsWriteCreateProtocolAndProtocolPathMutuallyInclusive,"`protocol` and `protocolPath` must both be defined or undefined at the same time");if(void 0===t.data&&void 0===t.dataCid||void 0!==t.data&&void 0!==t.dataCid)throw new O(q.RecordsWriteCreateDataAndDataCidMutuallyExclusive,"one and only one parameter between `data` and `dataCid` is required");if(void 0===t.dataCid&&void 0!==t.dataSize||void 0!==t.dataCid&&void 0===t.dataSize)throw new O(q.RecordsWriteCreateDataCidAndDataSizeMutuallyInclusive,"`dataCid` and `dataSize` must both be defined or undefined at the same time");if(void 0===t.signer&&void 0!==t.delegatedGrant)throw new O(q.RecordsWriteCreateMissingSigner,"`signer` must be given when `delegatedGrant` is given");const s=null!==(n=t.dataCid)&&void 0!==n?n:yield ba.computeDagPbCidFromBytes(t.data),d=null!==(i=t.dataSize)&&void 0!==i?i:t.data.length,B=Ws.getCurrentTimestamp(),C={interface:Mi.Records,method:Xr.Write,protocol:void 0!==t.protocol?sp(t.protocol):void 0,protocolPath:t.protocolPath,recipient:t.recipient,schema:void 0!==t.schema?SE(t.schema):void 0,tags:t.tags,parentId:go.getRecordIdFromContextId(t.parentContextId),dataCid:s,dataSize:d,dateCreated:null!==(o=t.dateCreated)&&void 0!==o?o:B,messageTimestamp:null!==(c=t.messageTimestamp)&&void 0!==c?c:B,published:t.published,datePublished:t.datePublished,dataFormat:t.dataFormat};!0===t.published&&void 0===t.datePublished&&(C.datePublished=B),pd(C);const b=t.recordId,K=yield ba.computeCid(C),_e=yield go.createAttestation(K,t.attestationSigners),Ce=yield go.createEncryptionProperty(C,t.encryptionInput),Te={recordId:b,descriptor:C};void 0!==_e&&(Te.attestation=_e),void 0!==Ce&&(Te.encryption=Ce);const Pe=new go(Te,t.parentContextId);return void 0!==t.signer&&(yield Pe.sign({signer:t.signer,delegatedGrant:t.delegatedGrant,permissionGrantId:t.permissionGrantId,protocolRole:t.protocolRole})),Pe})}static getRecordIdFromContextId(t){return t?.split("/").filter(n=>""!==n).pop()}static createFrom(t){var n,i,o,c;return _a(this,void 0,void 0,function*(){const s=t.recordsWriteMessage,d=yield go.parse(s),B=Ws.getCurrentTimestamp(),C=null!==(n=t.published)&&void 0!==n?n:!!t.datePublished||s.descriptor.published;let b;t.datePublished?b=t.datePublished:C&&(b=s.descriptor.published?s.descriptor.datePublished:B);const K={recipient:s.descriptor.recipient,recordId:s.recordId,dateCreated:s.descriptor.dateCreated,protocol:s.descriptor.protocol,protocolPath:s.descriptor.protocolPath,schema:s.descriptor.schema,parentContextId:Fi.getParentContextFromOfContextId(s.contextId),messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:B,published:C,datePublished:b,tags:t.tags,data:t.data,dataCid:t.data?void 0:s.descriptor.dataCid,dataSize:t.data?void 0:s.descriptor.dataSize,dataFormat:null!==(o=t.dataFormat)&&void 0!==o?o:s.descriptor.dataFormat,protocolRole:null!==(c=t.protocolRole)&&void 0!==c?c:d.signaturePayload.protocolRole,delegatedGrant:t.delegatedGrant,signer:t.signer,attestationSigners:t.attestationSigners};return yield go.create(K)})}toJSON(){return this.message}encryptSymmetricEncryptionKey(t){return _a(this,void 0,void 0,function*(){this._message.encryption=yield go.createEncryptionProperty(this._message.descriptor,t),delete this._message.authorization,this._signaturePayload=void 0,this._author=void 0})}sign(t){var n;return _a(this,void 0,void 0,function*(){const{signer:i,delegatedGrant:o,permissionGrantId:c,protocolRole:s}=t;let d,B;void 0!==o?(d=yield Dr.getCid(o),B=Ds.getSignerDid(o.authorization.signature.signatures[0])):B=Ds.extractDid(i.keyId);const C=this._message.descriptor,b=yield ba.computeCid(C);this._message.recordId=null!==(n=this._message.recordId)&&void 0!==n?n:yield go.getEntryId(B,C),void 0!==this._message.descriptor.protocol&&(this._message.contextId=void 0===this.parentContextId||""===this.parentContextId?this._message.recordId:this.parentContextId+"/"+this._message.recordId);const K=yield go.createSignerSignature({recordId:this._message.recordId,contextId:this._message.contextId,descriptorCid:b,attestation:this._message.attestation,encryption:this._message.encryption,signer:i,delegatedGrantId:d,permissionGrantId:c,protocolRole:s});this._message.authorization={signature:K},void 0!==o&&(this._message.authorization.authorDelegatedGrant=o),this._signaturePayload=Ds.decodePlainObjectPayload(K),this._author=B})}signAsOwner(t){return _a(this,void 0,void 0,function*(){if(void 0===this._author)throw new O(q.RecordsWriteSignAsOwnerUnknownAuthor,"Unable to sign as owner without message signature because owner needs to sign over `recordId` which depends on author DID.");const n=this._message.descriptor,i=yield Dr.createSignature(n,t);this._message.authorization.ownerSignature=i,this._ownerSignaturePayload=Ds.decodePlainObjectPayload(i),this._owner=Ds.extractDid(t.keyId)})}signAsOwnerDelegate(t,n){return _a(this,void 0,void 0,function*(){if(void 0===this._author)throw new O(q.RecordsWriteSignAsOwnerDelegateUnknownAuthor,"Unable to sign as owner delegate without message signature because owner delegate needs to sign over `recordId` which depends on author DID.");const i=yield Dr.getCid(n),o=this._message.descriptor,c=yield Dr.createSignature(o,t,{delegatedGrantId:i});this._message.authorization.ownerSignature=c,this._message.authorization.ownerDelegatedGrant=n,this._ownerSignaturePayload=Ds.decodePlainObjectPayload(c),this._owner=Ds.getSignerDid(n.authorization.signature.signatures[0])})}validateIntegrity(){return _a(this,void 0,void 0,function*(){if(yield this.isInitialWrite()){const i=this.message.descriptor.dateCreated,o=this.message.descriptor.messageTimestamp;if(o!==i)throw new O(q.RecordsWriteValidateIntegrityDateCreatedMismatch,`messageTimestamp ${o} must match dateCreated ${i} for the initial write`);if(void 0!==this.message.descriptor.protocol&&void 0===this.message.descriptor.parentId){const c=yield this.getEntryId();if(this.message.contextId!==c)throw new O(q.RecordsWriteValidateIntegrityContextIdMismatch,`contextId in message: ${this.message.contextId} does not match deterministic contextId: ${c}`)}}const n=this.signaturePayload;if(this.message.recordId!==n.recordId)throw new O(q.RecordsWriteValidateIntegrityRecordIdUnauthorized,`recordId in message ${this.message.recordId} does not match recordId in authorization: ${n.recordId}`);if(this.message.contextId!==n.contextId)throw new O(q.RecordsWriteValidateIntegrityContextIdNotInSignerSignaturePayload,`contextId in message ${this.message.contextId} does not match contextId in authorization: ${n.contextId}`);if(yield Fi.validateDelegatedGrantReferentialIntegrity(this.message,n,this.ownerSignaturePayload),void 0!==n.attestationCid){const i=yield ba.computeCid(this.message.attestation),o=n.attestationCid;if(o!==i)throw new O(q.RecordsWriteValidateIntegrityAttestationMismatch,`CID ${i} of attestation property in message does not match attestationCid in authorization: ${o}`)}if(void 0!==n.encryptionCid){const i=yield ba.computeCid(this.message.encryption),o=n.encryptionCid;if(o!==i)throw new O(q.RecordsWriteValidateIntegrityEncryptionCidMismatch,`CID ${i} of encryption property in message does not match encryptionCid in authorization: ${o}`)}void 0!==this.message.descriptor.protocol&&op(this.message.descriptor.protocol),void 0!==this.message.descriptor.schema&&Yb(this.message.descriptor.schema),Ws.validateTimestamp(this.message.descriptor.messageTimestamp),Ws.validateTimestamp(this.message.descriptor.dateCreated),this.message.descriptor.datePublished&&Ws.validateTimestamp(this.message.descriptor.datePublished)})}static validateAttestationIntegrity(t){return _a(this,void 0,void 0,function*(){if(void 0===t.attestation)return;if(1!==t.attestation.signatures.length)throw new O(q.RecordsWriteAttestationIntegrityMoreThanOneSignature,`Currently implementation only supports 1 attester, but got ${t.attestation.signatures.length}`);const n=Ds.decodePlainObjectPayload(t.attestation),{descriptorCid:i}=n,o=yield ba.computeCid(t.descriptor);if(i!==o)throw new O(q.RecordsWriteAttestationIntegrityDescriptorCidMismatch,`descriptorCid ${i} does not match expected descriptorCid ${o}`);const c=Object.keys(n).length;if(c>1)throw new O(q.RecordsWriteAttestationIntegrityInvalidPayloadProperty,`Only 'descriptorCid' is allowed in attestation payload, but got ${c} properties.`)})}getEntryId(){return _a(this,void 0,void 0,function*(){return yield go.getEntryId(this.author,this.message.descriptor)})}static getEntryId(t,n){return _a(this,void 0,void 0,function*(){if(void 0===t)throw new O(q.RecordsWriteGetEntryIdUndefinedAuthor,"Property `author` is needed to compute entry ID.");const i=Object.assign({},n);return i.author=t,yield ba.computeCid(i)})}isInitialWrite(){return _a(this,void 0,void 0,function*(){return(yield this.getEntryId())===this.message.recordId})}constructIndexes(t){return _a(this,void 0,void 0,function*(){const n=this.message,i=n.descriptor,{tags:o}=i,c=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(i,["tags"]);delete c.published;let s=Object.assign(Object.assign({},c),{isLatestBaseState:t,published:!!n.descriptor.published,author:this.author,recordId:n.recordId,entryId:yield go.getEntryId(this.author,this.message.descriptor)});if(void 0!==o&&!0===t){const d=Fi.buildTagIndexes(Object.assign({},o));s=Object.assign(Object.assign({},s),d)}return this.attesters.length>0&&(s.attester=this.attesters[0]),void 0!==n.contextId&&(s.contextId=n.contextId),s})}authorizeAuthorDelegate(t){return _a(this,void 0,void 0,function*(){const n=yield md.parse(this.message.authorization.authorDelegatedGrant);yield Yu.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}authorizeOwnerDelegate(t){return _a(this,void 0,void 0,function*(){const n=yield md.parse(this.message.authorization.ownerDelegatedGrant);yield Yu.authorizeWrite({recordsWriteMessage:this.message,expectedGrantor:this.owner,expectedGrantee:this.ownerSignatureSigner,permissionGrant:n,messageStore:t})})}static isInitialWrite(t){return _a(this,void 0,void 0,function*(){if(t.descriptor.interface!==Mi.Records||t.descriptor.method!==Xr.Write)return!1;const n=t,i=Fi.getAuthor(n);return(yield go.getEntryId(i,n.descriptor))===n.recordId})}static createEncryptionProperty(t,n){var i,o;return _a(this,void 0,void 0,function*(){if(void 0===n)return;const c=[];for(const d of n.keyEncryptionInputs){if(d.derivationScheme===gu.ProtocolPath&&void 0===t.protocol)throw new O(q.RecordsWriteMissingProtocol,"`protocols` encryption scheme cannot be applied to record without the `protocol` property.");if(d.derivationScheme===gu.Schemas&&void 0===t.schema)throw new O(q.RecordsWriteMissingSchema,"`schemas` encryption scheme cannot be applied to record without the `schema` property.");const B=_r.publicJwkToBytes(d.publicKey),C=yield Gb.eciesSecp256k1Encrypt(B,n.key),b=_.bytesToBase64Url(C.ciphertext),K=yield _r.publicKeyToJwk(C.ephemeralPublicKey),_e=_.bytesToBase64Url(C.initializationVector),Ce=_.bytesToBase64Url(C.messageAuthenticationCode),Te={rootKeyId:d.publicKeyId,algorithm:null!==(i=d.algorithm)&&void 0!==i?i:gC.EciesSecp256k1,derivationScheme:d.derivationScheme,ephemeralPublicKey:K,initializationVector:_e,messageAuthenticationCode:Ce,encryptedKey:b};d.derivationScheme===gu.ProtocolContext&&(Te.derivedPublicKey=d.publicKey),c.push(Te)}return{algorithm:null!==(o=n.algorithm)&&void 0!==o?o:gC.Aes256Ctr,initializationVector:_.bytesToBase64Url(n.initializationVector),keyEncryption:c}})}static createAttestation(t,n){return _a(this,void 0,void 0,function*(){if(void 0===n||0===n.length)return;const o=_.objectToBytes({descriptorCid:t});return(yield Zb.create(o,n)).getJws()})}static createSignerSignature(t){return _a(this,void 0,void 0,function*(){const{recordId:n,contextId:i,descriptorCid:o,attestation:c,encryption:s,signer:d,delegatedGrantId:B,permissionGrantId:C,protocolRole:b}=t,Ce={recordId:n,descriptorCid:o,contextId:i,attestationCid:c?yield ba.computeCid(c):void 0,encryptionCid:s?yield ba.computeCid(s):void 0,delegatedGrantId:B,permissionGrantId:C,protocolRole:b};pd(Ce);const Te=_.objectToBytes(Ce);return(yield Zb.create(Te,[d])).getJws()})}static getInitialWrite(t){return _a(this,void 0,void 0,function*(){for(const n of t)if(yield go.isInitialWrite(n))return n;throw new O(q.RecordsWriteGetInitialWriteNotFound,"Initial write is not found.")})}static verifyEqualityOfImmutableProperties(t,n){const i=["dataCid","dataSize","dataFormat","datePublished","published","messageTimestamp","tags"];let o=[];o.push(...Object.keys(t.descriptor)),o.push(...Object.keys(n.descriptor)),o=[...new Set(o)];for(const c of o)if(-1===i.indexOf(c)){const s=t.descriptor[c],d=n.descriptor[c];if(d!==s)throw new O(q.RecordsWriteImmutablePropertyChanged,`${c} is an immutable property: cannot change '${s}' to '${d}'`)}return!0}static getAttesters(t){var n,i;return(null!==(i=null===(n=t.attestation)||void 0===n?void 0:n.signatures)&&void 0!==i?i:[]).map(s=>Ds.getSignerDid(s))}static fetchNewestRecordsWrite(t,n,i){return _a(this,void 0,void 0,function*(){const o={interface:Mi.Records,method:Xr.Write,recordId:i},{messages:c}=yield t.query(n,[o]),s=yield Dr.getNewestMessage(c);if(void 0!==s)return s;throw new O(q.RecordsWriteGetNewestWriteRecordNotFound,"record not found")})}static fetchInitialRecordsWrite(t,n,i){return _a(this,void 0,void 0,function*(){const o={entryId:i},{messages:c}=yield t.query(n,[o]);return 0===c.length?void 0:yield go.parse(c[0])})}}var RO=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};function If(r,t){return RO(this,void 0,void 0,function*(){if(void 0===r)throw new O(q.AuthenticateJwsMissing,"Missing JWS.");if(yield Vu.verifySignatures(r.signature,t),void 0!==r.ownerSignature&&(yield Vu.verifySignatures(r.ownerSignature,t)),void 0!==r.authorDelegatedGrant){const n=yield go.parse(r.authorDelegatedGrant);yield Vu.verifySignatures(n.message.authorization.signature,t)}if(void 0!==r.ownerDelegatedGrant){const n=yield go.parse(r.ownerDelegatedGrant);yield Vu.verifySignatures(n.message.authorization.signature,t)}})}class NO{isActiveTenant(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return{isActiveTenant:!0}})}}class vp{get message(){return this._message}get signer(){return this._signer}get author(){return this._author}get signaturePayload(){return this._signaturePayload}constructor(t){this._message=t,void 0!==t.authorization&&(this._signer=Dr.getSigner(t),this._author=void 0!==t.authorization.authorDelegatedGrant?Dr.getSigner(t.authorization.authorDelegatedGrant):this._signer,this._signaturePayload=Ds.decodePlainObjectPayload(t.authorization.signature))}toJSON(){return this.message}}var K0=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Vg extends vp{static parse(t){return K0(this,void 0,void 0,function*(){if(!1===t.descriptor.filter.published&&(t.descriptor.dateSort===vu.PublishedAscending||t.descriptor.dateSort===vu.PublishedDescending))throw new O(q.RecordsQueryParseFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.descriptor.dateSort}`);let n;if(void 0!==t.authorization&&(n=yield Dr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Fi.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new O(q.RecordsQueryFilterMissingRequiredProperties,"Role-authorized queries must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&op(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&Yb(t.descriptor.filter.schema),Ws.validateTimestamp(t.descriptor.messageTimestamp),new Vg(t)})}static create(t){var n;return K0(this,void 0,void 0,function*(){const i={interface:Mi.Records,method:Xr.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ws.getCurrentTimestamp(),filter:Fi.normalizeFilter(t.filter),dateSort:t.dateSort,pagination:t.pagination};if(!1===t.filter.published&&(t.dateSort===vu.PublishedAscending||t.dateSort===vu.PublishedDescending))throw new O(q.RecordsQueryCreateFilterPublishedSortInvalid,`queries must not filter for \`published:false\` and sort by ${t.dateSort}`);pd(i);const o=t.signer;let c;o&&(c=yield Dr.createAuthorization({descriptor:i,signer:o,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const s={descriptor:i,authorization:c};return Dr.validateJsonSchema(s),new Vg(s)})}authorizeDelegate(t){return K0(this,void 0,void 0,function*(){const n=yield md.parse(this.message.authorization.authorDelegatedGrant);yield Yu.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantee:this.signer,expectedGrantor:this.author,permissionGrant:n,messageStore:t})})}}var C6=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Am{static toBytes(t){return C6(this,void 0,void 0,function*(){return new Promise((n,i)=>{const o=[];t.on("data",c=>{o.push(c)}),t.on("end",()=>{const c=Am.concatenateArrayOfBytes(o);n(c)}),t.on("error",i)})})}static toObject(t){return C6(this,void 0,void 0,function*(){const n=yield Am.toBytes(t);return _.bytesToObject(n)})}static concatenateArrayOfBytes(t){const n=t.reduce((c,s)=>c+s.length,0),i=new Uint8Array(n);let o=0;for(const c of t)i.set(c,o),o+=c.length;return i}static fromBytes(t){let i=0;return new _E.Readable({read(c){i+1e5>t.length?(this.push(t.subarray(i)),this.push(null)):(this.push(t.subarray(i,i+1e5)),i+=1e5)}})}static fromObject(t){const n=_.objectToBytes(t);return Am.fromBytes(n)}static duplicateDataStream(t,n){const i=[];for(let o=0;o<n;o++){const c=new _E.PassThrough;t.pipe(c),i.push(c)}return i}}function Qi(r,t){return{status:{code:t,detail:r instanceof Error?r.message:"Error"}}}class AA{static parse(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return new AA(t)})}constructor(t){this.id=t.recordId,this.requester=Dr.getSigner(t);const i=_.base64UrlToObject(t.encodedData);this.delegated=i.delegated,this.description=i.description,this.scope=i.scope,this.conditions=i.conditions}}var Uw=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Hi{static parseRequest(t){return _.base64UrlToObject(t)}static createRequest(t){return Uw(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new O(q.PermissionsProtocolCreateRequestRecordsScopeMissingProtocol,"Permission request for Records must have a scope with a `protocol` property");const n=Hi.normalizePermissionScope(t.scope),i={description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let o;this.hasProtocolScope(n)&&(o={protocol:n.protocol});const c=_.objectToBytes(i),s=yield go.create({signer:t.signer,messageTimestamp:t.dateRequested,protocol:Hi.uri,protocolPath:Hi.requestPath,dataFormat:"application/json",data:c,tags:o});return{recordsWrite:s,permissionRequestData:i,permissionRequestBytes:c,dataEncodedMessage:Object.assign(Object.assign({},s.message),{encodedData:_.bytesToBase64Url(c)})}})}static createGrant(t){return Uw(this,void 0,void 0,function*(){if(this.isRecordPermissionScope(t.scope)&&void 0===t.scope.protocol)throw new O(q.PermissionsProtocolCreateGrantRecordsScopeMissingProtocol,"Permission grants for Records must have a scope with a `protocol` property");const n=Hi.normalizePermissionScope(t.scope),i={dateExpires:t.dateExpires,requestId:t.requestId,description:t.description,delegated:t.delegated,scope:n,conditions:t.conditions};let o;this.hasProtocolScope(n)&&(o={protocol:n.protocol});const c=_.objectToBytes(i),s=yield go.create({signer:t.signer,messageTimestamp:t.dateGranted,dateCreated:t.dateGranted,recipient:t.grantedTo,protocol:Hi.uri,protocolPath:Hi.grantPath,dataFormat:"application/json",data:c,tags:o});return{recordsWrite:s,permissionGrantData:i,permissionGrantBytes:c,dataEncodedMessage:Object.assign(Object.assign({},s.message),{encodedData:_.bytesToBase64Url(c)})}})}static createRevocation(t){return Uw(this,void 0,void 0,function*(){const n={description:t.description},i=t.grant.id;let o;this.hasProtocolScope(t.grant.scope)&&(o={protocol:sp(t.grant.scope.protocol)});const c=_.objectToBytes(n),s=yield go.create({signer:t.signer,parentContextId:i,protocol:Hi.uri,protocolPath:Hi.revocationPath,dataFormat:"application/json",data:c,tags:o});return{recordsWrite:s,permissionRevocationData:n,permissionRevocationBytes:c,dataEncodedMessage:Object.assign(Object.assign({},s.message),{encodedData:_.bytesToBase64Url(c)})}})}static validateSchema(t,n){const i=_.bytesToString(n),o=JSON.parse(i);if(t.descriptor.protocolPath===Hi.requestPath){const c=o;sc("PermissionRequestData",c),Hi.validateScopeAndTags(c.scope,t)}else if(t.descriptor.protocolPath===Hi.grantPath){sc("PermissionGrantData",o);const c=o;Hi.validateScopeAndTags(c.scope,t),Ws.validateTimestamp(c.dateExpires)}else{if(t.descriptor.protocolPath!==Hi.revocationPath)throw new O(q.PermissionsProtocolValidateSchemaUnexpectedRecord,`Unexpected permission record: ${t.descriptor.protocolPath}`);sc("PermissionRevocationData",o)}}static fetchGrant(t,n,i){return Uw(this,void 0,void 0,function*(){const o={recordId:i,isLatestBaseState:!0},{messages:c}=yield n.query(t,[o]),s=c[0],d=s?.descriptor.interface,B=s?.descriptor.method;if(d!==Mi.Records||B!==Xr.Write||s.descriptor.protocolPath!==Hi.grantPath)throw new O(q.GrantAuthorizationGrantMissing,`Could not find permission grant with record ID ${i}.`);const C=s;return yield md.parse(C)})}static getScopeFromPermissionRecord(t,n,i){return Uw(this,void 0,void 0,function*(){if(i.descriptor.protocol!==Hi.uri)throw new O(q.PermissionsProtocolGetScopeInvalidProtocol,`Unexpected protocol for permission record: ${i.descriptor.protocol}`);return i.descriptor.protocolPath===Hi.revocationPath?(yield Hi.fetchGrant(t,n,i.descriptor.parentId)).scope:i.descriptor.protocolPath===Hi.grantPath?(yield md.parse(i)).scope:(yield AA.parse(i)).scope})}static normalizePermissionScope(t){const n=Object.assign({},t);return Hi.hasProtocolScope(n)&&(n.protocol=sp(n.protocol)),n}static isRecordPermissionScope(t){return"Records"===t.interface}static hasProtocolScope(t){return"protocol"in t&&void 0!==t.protocol}static validateTags(t,n){if(void 0===t.descriptor.tags||void 0===t.descriptor.tags.protocol)throw new O(q.PermissionsProtocolValidateScopeMissingProtocolTag,"Permission grants must have a `tags` property that contains a protocol tag");const i=t.descriptor.tags.protocol;if(i!==n)throw new O(q.PermissionsProtocolValidateScopeProtocolMismatch,`Permission grants must have a scope with a protocol that matches the tagged protocol: ${i}`)}static validateScopeAndTags(t,n){if(this.hasProtocolScope(t)&&(op(t.protocol),this.validateTags(n,t.protocol)),this.isRecordPermissionScope(t)&&void 0!==t.contextId&&void 0!==t.protocolPath)throw new O(q.PermissionsProtocolValidateScopeContextIdProhibitedProperties,"Permission grants cannot have both `contextId` and `protocolPath` present")}}Hi.uri="https://tbd.website/dwn/permissions",Hi.requestPath="request",Hi.grantPath="grant",Hi.revocationPath="grant/revocation",Hi.definition={published:!0,protocol:Hi.uri,types:{request:{dataFormats:["application/json"]},grant:{dataFormats:["application/json"]},revocation:{dataFormats:["application/json"]}},structure:{request:{$size:{max:1e4},$actions:[{who:"anyone",can:["create"]}]},grant:{$size:{max:1e4},$actions:[{who:"recipient",of:"grant",can:["read","query"]}],revocation:{$size:{max:1e4},$actions:[{who:"anyone",can:["read"]}]}}}};class k6{static normalizeFilters(t){const n=[];for(const i of t){const o=void 0!==i.protocol?sp(i.protocol):void 0,c=Object.assign(Object.assign({},i),{protocol:o});pd(c),vM(c)||n.push(c)}return n}static convertFilters(t){const n=[];for(const i of t){const o=this.constructPermissionRecordsFilter(i);o&&n.push(o),n.push(this.convertFilter(i))}return n}static constructPermissionRecordsFilter(t){const{protocol:n,messageTimestamp:i}=t;if(void 0!==n){const o=Object.assign({protocol:Hi.uri},Fi.convertTagsFilter({protocol:n}));if(null!=i){const c=Ul.convertRangeCriterion(i);c&&(o.messageTimestamp=c)}return o}}static convertFilter(t){const n=Object.assign({},t),{messageTimestamp:i}=t,o=i?Ul.convertRangeCriterion(i):void 0;return o&&(n.messageTimestamp=o,delete n.dateUpdated),n}}var $0=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Fw{static authorizeMessagesRead(t){return $0(this,void 0,void 0,function*(){const{messagesReadMessage:n,messageToRead:i,expectedGrantor:o,expectedGrantee:c,permissionGrant:s,messageStore:d}=t;yield oh.performBaseValidation({incomingMessage:n,expectedGrantor:o,expectedGrantee:c,permissionGrant:s,messageStore:d});const B=s.scope;yield Fw.verifyScope(o,i,B,d)})}static authorizeQueryOrSubscribe(t){return $0(this,void 0,void 0,function*(){const{incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:s}=t;if(yield oh.performBaseValidation({incomingMessage:n,expectedGrantor:i,expectedGrantee:o,permissionGrant:c,messageStore:s}),Hi.hasProtocolScope(c.scope)){const d=c.scope.protocol;for(const B of n.descriptor.filters)if(B.protocol!==d)throw new O(q.MessagesGrantAuthorizationMismatchedProtocol,`The protocol ${B.protocol} does not match the scoped protocol ${d}`)}})}static verifyScope(t,n,i,o){return $0(this,void 0,void 0,function*(){if(void 0!==i.protocol){if(n.descriptor.interface===Mi.Records){const c=n,s=Fi.isRecordsWrite(c)?c:yield go.fetchNewestRecordsWrite(o,t,c.descriptor.recordId);if(s.descriptor.protocol===i.protocol)return;if(s.descriptor.protocol===Hi.uri){const d=yield Hi.getScopeFromPermissionRecord(t,o,s);if(Hi.hasProtocolScope(d)&&d.protocol===i.protocol)return}}else if(n.descriptor.interface===Mi.Protocols&&n.descriptor.definition.protocol===i.protocol)return;throw new O(q.MessagesReadVerifyScopeFailed,"record message failed scope authorization")}})}}var f2=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class jw extends vp{static parse(t){return f2(this,void 0,void 0,function*(){Dr.validateJsonSchema(t),yield Dr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&op(n.protocol);return new jw(t)})}static create(t){var n;return f2(this,void 0,void 0,function*(){const i={interface:Mi.Messages,method:Xr.Query,filters:t.filters?k6.normalizeFilters(t.filters):[],messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ws.getCurrentTimestamp(),cursor:t.cursor};pd(i);const{permissionGrantId:o,signer:c}=t,d={descriptor:i,authorization:yield Dr.createAuthorization({descriptor:i,signer:c,permissionGrantId:o})};return Dr.validateJsonSchema(d),new jw(d)})}}var TA=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class IA{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventLog=i}handle({tenant:t,message:n}){return TA(this,void 0,void 0,function*(){let i;try{i=yield jw.parse(n)}catch(d){return Qi(d,400)}try{yield If(n.authorization,this.didResolver),yield IA.authorizeMessagesQuery(t,i,this.messageStore)}catch(d){return Qi(d,401)}const o=k6.convertFilters(n.descriptor.filters),{events:c,cursor:s}=yield this.eventLog.queryEvents(t,o,n.descriptor.cursor);return{status:{code:200,detail:"OK"},entries:c,cursor:s}})}static authorizeMessagesQuery(t,n,i){return TA(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new O(q.MessagesQueryAuthorizationFailed,"message failed authorization");{const o=yield Hi.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Fw.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:o,messageStore:i})}}})}}var P6=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Hg extends vp{static parse(t){return P6(this,void 0,void 0,function*(){return Dr.validateJsonSchema(t),this.validateMessageCid(t.descriptor.messageCid),yield Dr.validateSignatureStructure(t.authorization.signature,t.descriptor),Ws.validateTimestamp(t.descriptor.messageTimestamp),new Hg(t)})}static create(t){var n;return P6(this,void 0,void 0,function*(){const i={interface:Mi.Messages,method:Xr.Read,messageCid:t.messageCid,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ws.getCurrentTimestamp()},{signer:o,permissionGrantId:c}=t,d={descriptor:i,authorization:yield Dr.createAuthorization({descriptor:i,signer:o,permissionGrantId:c})};return Dr.validateJsonSchema(d),Hg.validateMessageCid(t.messageCid),new Hg(d)})}static validateMessageCid(t){try{ba.parseCid(t)}catch{throw new O(q.MessagesReadInvalidCid,`${t} is not a valid CID`)}}}var h2=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class p2{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return h2(this,void 0,void 0,function*(){let i;try{i=yield Hg.parse(n)}catch(s){return Qi(s,400)}try{yield If(n.authorization,this.didResolver)}catch(s){return Qi(s,401)}const o=yield this.messageStore.get(t,n.descriptor.messageCid);if(void 0===o)return{status:{code:404,detail:"Not Found"}};try{yield p2.authorizeMessagesRead(t,i,o,this.messageStore)}catch(s){return Qi(s,401)}const c={message:o,messageCid:n.descriptor.messageCid};if(Fi.isRecordsWrite(o)){const s=c.message;if(void 0!==s.encodedData){const d=_.base64UrlToBytes(s.encodedData);c.data=Am.fromBytes(d),delete s.encodedData}else{const d=yield this.dataStore.get(t,s.recordId,s.descriptor.dataCid);void 0!==d?.dataStream&&(c.data=d.dataStream)}}return{status:{code:200,detail:"OK"},entry:c}})}static authorizeMessagesRead(t,n,i,o){return h2(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new O(q.MessagesReadAuthorizationFailed,"protocol message failed authorization");{const c=yield Hi.fetchGrant(t,o,n.signaturePayload.permissionGrantId);yield Fw.authorizeMessagesRead({messagesReadMessage:n.message,messageToRead:i,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:c,messageStore:o})}}})}}var R6=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Tm extends vp{static parse(t){return R6(this,void 0,void 0,function*(){Dr.validateJsonSchema(t),yield Dr.validateSignatureStructure(t.authorization.signature,t.descriptor);for(const n of t.descriptor.filters)"protocol"in n&&void 0!==n.protocol&&op(n.protocol);return Ws.validateTimestamp(t.descriptor.messageTimestamp),new Tm(t)})}static create(t){var n,i;return R6(this,void 0,void 0,function*(){const o=Ws.getCurrentTimestamp(),c={interface:Mi.Messages,method:Xr.Subscribe,filters:null!==(n=t.filters)&&void 0!==n?n:[],messageTimestamp:null!==(i=t.messageTimestamp)&&void 0!==i?i:o};pd(c);const{permissionGrantId:s,signer:d}=t,C={descriptor:c,authorization:yield Dr.createAuthorization({descriptor:c,signer:d,permissionGrantId:s})};return Dr.validateJsonSchema(C),new Tm(C)})}}var m2=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class O6{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return m2(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Qi(new O(q.MessagesSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let o;try{o=yield Tm.parse(n)}catch(b){return Qi(b,400)}try{yield If(n.authorization,this.didResolver),yield O6.authorizeMessagesSubscribe(t,o,this.messageStore)}catch(b){return Qi(b,401)}const{filters:c}=n.descriptor,s=k6.convertFilters(c),d=yield Dr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,d,(b,K,_e)=>{t===b&&Ul.matchAnyFilter(_e,s)&&i(K)})}})}static authorizeMessagesSubscribe(t,n,i){return m2(this,void 0,void 0,function*(){if(n.author!==t){if(void 0===n.author||void 0===n.signaturePayload.permissionGrantId)throw new O(q.MessagesSubscribeAuthorizationFailed,"message failed authorization");{const o=yield Hi.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Fw.authorizeQueryOrSubscribe({incomingMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:o,messageStore:i})}}})}}var DA=E(20844),Wg=function(r){return r.Anyone="anyone",r.Author="author",r.Recipient="recipient",r}(Wg||{}),mc=function(r){return r.CoDelete="co-delete",r.CoPrune="co-prune",r.CoUpdate="co-update",r.Create="create",r.Delete="delete",r.Prune="prune",r.Query="query",r.Read="read",r.Subscribe="subscribe",r.Update="update",r}(mc||{}),V0=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Gd extends vp{static parse(t){return V0(this,void 0,void 0,function*(){return Dr.validateJsonSchema(t),Gd.validateProtocolDefinition(t.descriptor.definition),yield Dr.validateSignatureStructure(t.authorization.signature,t.descriptor),Ws.validateTimestamp(t.descriptor.messageTimestamp),new Gd(t)})}static create(t){var n;return V0(this,void 0,void 0,function*(){const i={interface:Mi.Protocols,method:Xr.Configure,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ws.getCurrentTimestamp(),definition:Gd.normalizeDefinition(t.definition)},c={descriptor:i,authorization:yield Dr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId})};return Dr.validateJsonSchema(c),Gd.validateProtocolDefinition(c.descriptor.definition),new Gd(c)})}static validateProtocolDefinition(t){const{protocol:n,types:i}=t;op(n);for(const o in i){const c=i[o].schema;void 0!==c&&Yb(c)}Gd.validateStructure(t)}static validateStructure(t){const n=Object.keys(t.types),i=Gd.fetchAllRolePathsRecursively("",t.structure,[]);Gd.validateRuleSetRecursively({ruleSet:t.structure,ruleSetProtocolPath:"",recordTypes:n,roles:i})}static fetchAllRolePathsRecursively(t,n,i){if(t.split("/").length>10)throw new O(q.ProtocolsConfigureRecordNestingDepthExceeded,"Record nesting depth exceeded 10 levels.");for(const o in n){if(o.startsWith("$"))continue;const c=n[o];let s;s=""===t?o:`${t}/${o}`,c.$role?i.push(s):Gd.fetchAllRolePathsRecursively(s,c,i)}return i}static validateRuleSetRecursively(t){var n;const{ruleSet:i,ruleSetProtocolPath:o,recordTypes:c,roles:s}=t;if(void 0!==i.$size){const{min:B=0,max:C}=i.$size;if(void 0!==C&&C<B)throw new O(q.ProtocolsConfigureInvalidSize,`Invalid size range found: max limit ${C} less than min limit ${B} at protocol path '${o}'`)}if(i.$tags){const B=new DA.default,_e=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(i.$tags,["$allowUndefinedTags","$requiredTags"]);for(const Ce in _e)if(!B.validateSchema(_e[Ce])){const Pe=B.errorsText(B.errors,{dataVar:`${o}/$tags/${Ce}`});throw new O(q.ProtocolsConfigureInvalidTagSchema,`tags schema validation error: ${Pe}`)}}const d=null!==(n=i.$actions)&&void 0!==n?n:[];for(let B=0;B<d.length;B++){const C=d[B];if(void 0!==C.role&&!s.includes(C.role))throw new O(q.ProtocolsConfigureRoleDoesNotExistAtGivenPath,`Role in action ${JSON.stringify(C)} for rule set ${o} does not exist.`);if("anyone"===C.who&&C.of)throw new O(q.ProtocolsConfigureInvalidActionOfNotAllowed,`'of' is not allowed at rule set protocol path (${o})`);if(C.who===Wg.Recipient&&void 0===C.of&&C.can.some(K=>![mc.CoUpdate,mc.CoDelete,mc.CoPrune].includes(K)))throw new O(q.ProtocolsConfigureInvalidRecipientOfAction,"Rules for `recipient` without `of` property must have `can` containing only `co-update`, `co-delete`, and `co-prune`.");if(C.who===Wg.Author&&!C.of)throw new O(q.ProtocolsConfigureInvalidActionMissingOf,"'of' is required when 'author' is specified as 'who'");if(void 0!==C.can){if(C.can.includes(mc.Update)&&!C.can.includes(mc.Create))throw new O(q.ProtocolsConfigureInvalidActionUpdateWithoutCreate,`Action rule ${JSON.stringify(C)} contains 'update' action but missing the required 'create' action.`);if(C.can.includes(mc.Delete)&&!C.can.includes(mc.Create))throw new O(q.ProtocolsConfigureInvalidActionDeleteWithoutCreate,`Action rule ${JSON.stringify(C)} contains 'delete' action but missing the required 'create' action.`)}for(let b=B+1;b<d.length;b++){const K=d[b];if(void 0!==C.who){if(C.who===K.who&&C.of===K.of)throw new O(q.ProtocolsConfigureDuplicateActorInRuleSet,`More than one action rule per actor ${C.who} of ${C.of} not allowed within a rule set: ${JSON.stringify(C)}`)}else if(C.role===K.role)throw new O(q.ProtocolsConfigureDuplicateRoleInRuleSet,`More than one action rule per role ${C.role} not allowed within a rule set: ${JSON.stringify(C)}`)}}for(const B in i){if(B.startsWith("$"))continue;if(!c.includes(B))throw new O(q.ProtocolsConfigureInvalidRuleSetRecordType,`Rule set ${B} is not declared as an allowed type in the protocol definition.`);let b;b=""===o?B:`${o}/${B}`,Gd.validateRuleSetRecursively({ruleSet:i[B],ruleSetProtocolPath:b,recordTypes:c,roles:s})}}static normalizeDefinition(t){const n=Object.assign({},t.types);for(const i in n){const o=n[i].schema;void 0!==o&&(n[i].schema=SE(o))}return Object.assign(Object.assign({},t),{protocol:sp(t.protocol),types:n})}}class kA{constructor(t,n,i,o){this.didResolver=t,this.messageStore=n,this.eventLog=i,this.eventStream=o}handle({tenant:t,message:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){let i;try{i=yield Gd.parse(n)}catch(b){return Qi(b,400)}try{yield If(n.authorization,this.didResolver),yield function OO(r,t){return RO(this,void 0,void 0,function*(){if(t.author!==r)throw new O(q.AuthorizationAuthorNotOwner,`Message authored by ${t.author}, not authored by expected owner ${r}.`)})}(t,i)}catch(b){return Qi(b,401)}const o={interface:Mi.Protocols,method:Xr.Configure,protocol:n.descriptor.definition.protocol},{messages:c}=yield this.messageStore.query(t,[o]);let B,s=yield Dr.getNewestMessage(c),d=!1;if((void 0===s||(yield Dr.isNewer(n,s)))&&(d=!0,s=n),d){const b=kA.constructIndexes(i);yield this.messageStore.put(t,n,b);const K=yield Dr.getCid(n);yield this.eventLog.append(t,K,b),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n},b),B={status:{code:202,detail:"Accepted"}}}else B={status:{code:409,detail:"Conflict"}};const C=[];for(const b of c)if(yield Dr.isNewer(s,b)){const K=yield Dr.getCid(b);C.push(K),yield this.messageStore.delete(t,K)}return yield this.eventLog.deleteEventsByCid(t,C),B})}static constructIndexes(t){const n=t.message.descriptor,{definition:i}=n,o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(n,["definition"]),{author:c}=t;return Object.assign(Object.assign({},o),{author:c,protocol:i.protocol,published:i.published})}}var PA=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Gg extends vp{static parse(t){return PA(this,void 0,void 0,function*(){return void 0!==t.authorization&&(yield Dr.validateSignatureStructure(t.authorization.signature,t.descriptor)),void 0!==t.descriptor.filter&&op(t.descriptor.filter.protocol),Ws.validateTimestamp(t.descriptor.messageTimestamp),new Gg(t)})}static create(t){var n;return PA(this,void 0,void 0,function*(){const i={interface:Mi.Protocols,method:Xr.Query,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ws.getCurrentTimestamp(),filter:t.filter?Gg.normalizeFilter(t.filter):void 0};let o;pd(i),void 0!==t.signer&&(o=yield Dr.createAuthorization({descriptor:i,signer:t.signer,permissionGrantId:t.permissionGrantId}));const c={descriptor:i,authorization:o};return Dr.validateJsonSchema(c),new Gg(c)})}static normalizeFilter(t){return Object.assign(Object.assign({},t),{protocol:sp(t.protocol)})}authorize(t,n){return PA(this,void 0,void 0,function*(){if(this.author!==t){if(void 0===this.author||!this.signaturePayload.permissionGrantId)throw new O(q.ProtocolsQueryUnauthorized,"The ProtocolsQuery failed authorization");{const i=yield Hi.fetchGrant(t,n,this.signaturePayload.permissionGrantId);yield oh.performBaseValidation({incomingMessage:this.message,expectedGrantor:t,expectedGrantee:this.author,permissionGrant:i,messageStore:n})}}})}}var RA=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class B6{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return RA(this,void 0,void 0,function*(){let i;try{i=yield Gg.parse(n)}catch(s){return Qi(s,400)}try{yield If(n.authorization,this.didResolver),yield i.authorize(t,this.messageStore)}catch(s){return s.code===q.AuthenticateJwsMissing||s.code===q.ProtocolsQueryUnauthorized?{status:{code:200,detail:"OK"},entries:yield this.fetchPublishedProtocolsConfigure(t,i)}:Qi(s,401)}const o=Object.assign(Object.assign({},n.descriptor.filter),{interface:Mi.Protocols,method:Xr.Configure});pd(o);const{messages:c}=yield this.messageStore.query(t,[o]);return{status:{code:200,detail:"OK"},entries:c}})}fetchPublishedProtocolsConfigure(t,n){return RA(this,void 0,void 0,function*(){const i=Object.assign(Object.assign({},n.message.descriptor.filter),{interface:Mi.Protocols,method:Xr.Configure,published:!0}),{messages:o}=yield this.messageStore.query(t,[i]);return o})}}var Zd=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Gi{static validateReferentialIntegrity(t,n,i){return Zd(this,void 0,void 0,function*(){const o=yield Gi.fetchProtocolDefinition(t,n.message.descriptor.protocol,i);Gi.verifyType(n.message,o.types),yield Gi.verifyProtocolPathAndContextId(t,n,i);const c=Gi.getRuleSet(n.message.descriptor.protocolPath,o);yield Gi.verifyAsRoleRecordIfNeeded(t,n,c,i),Gi.verifySizeLimit(n,c),Gi.verifyTagsIfNeeded(n,c)})}static authorizeWrite(t,n,i){return Zd(this,void 0,void 0,function*(){let c;c=void 0===(yield Gi.fetchInitialWrite(t,n.message.recordId,i))?yield Gi.constructRecordChain(t,n.message.descriptor.parentId,i):yield Gi.constructRecordChain(t,n.message.recordId,i);const s=yield Gi.fetchProtocolDefinition(t,n.message.descriptor.protocol,i),d=Gi.getRuleSet(n.message.descriptor.protocolPath,s);yield Gi.verifyInvokedRole(t,n,n.message.descriptor.protocol,n.message.contextId,s,i),yield Gi.authorizeAgainstAllowedActions(t,n,d,c,i)})}static authorizeRead(t,n,i,o){return Zd(this,void 0,void 0,function*(){const c=yield Gi.constructRecordChain(t,i.message.recordId,o),s=yield Gi.fetchProtocolDefinition(t,i.message.descriptor.protocol,o),d=Gi.getRuleSet(i.message.descriptor.protocolPath,s);yield Gi.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,s,o),yield Gi.authorizeAgainstAllowedActions(t,n,d,c,o)})}static authorizeQueryOrSubscribe(t,n,i){return Zd(this,void 0,void 0,function*(){const{protocol:o,protocolPath:c,contextId:s}=n.message.descriptor.filter,d=yield Gi.fetchProtocolDefinition(t,o,i),B=Gi.getRuleSet(c,d);yield Gi.verifyInvokedRole(t,n,o,s,d,i),yield Gi.authorizeAgainstAllowedActions(t,n,B,[],i)})}static authorizeDelete(t,n,i,o){return Zd(this,void 0,void 0,function*(){const c=yield Gi.constructRecordChain(t,n.message.descriptor.recordId,o),s=yield Gi.fetchProtocolDefinition(t,i.message.descriptor.protocol,o),d=Gi.getRuleSet(i.message.descriptor.protocolPath,s);yield Gi.verifyInvokedRole(t,n,i.message.descriptor.protocol,i.message.contextId,s,o),yield Gi.authorizeAgainstAllowedActions(t,n,d,c,o)})}static fetchProtocolDefinition(t,n,i){return Zd(this,void 0,void 0,function*(){if(n===Hi.uri)return Hi.definition;const o={interface:Mi.Protocols,method:Xr.Configure,protocol:n},{messages:c}=yield i.query(t,[o]);if(0===c.length)throw new O(q.ProtocolAuthorizationProtocolNotFound,`unable to find protocol definition for ${n}`);return c[0].descriptor.definition})}static constructRecordChain(t,n,i){return Zd(this,void 0,void 0,function*(){if(void 0===n)return[];const o=[];let c=n;for(;void 0!==c;){const s=yield Gi.fetchInitialWrite(t,c,i);if(void 0===s)throw new O(q.ProtocolAuthorizationParentNotFoundConstructingRecordChain,`Unexpected error that should never trigger: no parent found with ID ${c} when constructing record chain.`);o.push(s),c=s.descriptor.parentId}return o.reverse()})}static fetchInitialWrite(t,n,i){return Zd(this,void 0,void 0,function*(){const o={interface:Mi.Records,method:Xr.Write,recordId:n},{messages:c}=yield i.query(t,[o]);return 0===c.length?void 0:yield go.getInitialWrite(c)})}static getRuleSet(t,n){const i=Gi.getRuleSetAtProtocolPath(t,n);if(void 0===i)throw new O(q.ProtocolAuthorizationMissingRuleSet,`No rule set defined for protocolPath ${t}`);return i}static verifyProtocolPathAndContextId(t,n,i){var o;return Zd(this,void 0,void 0,function*(){const c=n.message.descriptor.protocolPath,s=Gi.getTypeName(c),d=n.message.descriptor.parentId;if(void 0===d){if(c!==s)throw new O(q.ProtocolAuthorizationParentlessIncorrectProtocolPath,`Declared protocol path '${c}' is not valid for records with no parent'.`);return}const C={isLatestBaseState:!0,interface:Mi.Records,method:Xr.Write,protocol:n.message.descriptor.protocol,recordId:d},{messages:b}=yield i.query(t,[C]),K=b[0];if(`${null===(o=K?.descriptor)||void 0===o?void 0:o.protocolPath}/${s}`!==c)throw new O(q.ProtocolAuthorizationIncorrectProtocolPath,`Could not find matching parent record to verify declared protocol path '${c}'.`);const Te=`${K.contextId}/${n.message.recordId}`,Pe=n.message.contextId;if(Pe!==Te)throw new O(q.ProtocolAuthorizationIncorrectContextId,`Declared contextId '${Pe}' is not the same as expected: '${Te}'.`)})}static verifyType(t,n){const i=Object.keys(n),c=Gi.getTypeName(t.descriptor.protocolPath);if(!i.includes(c))throw new O(q.ProtocolAuthorizationInvalidType,`record with type ${c} not allowed in protocol`);const d=Gi.getTypeName(t.descriptor.protocolPath),B=n[d],{schema:C}=t.descriptor;if(void 0!==B.schema&&B.schema!==C)throw new O(q.ProtocolAuthorizationInvalidSchema,`type '${d}' must have schema '${B.schema}',         instead has '${C}'`);const{dataFormat:b}=t.descriptor;if(void 0!==B.dataFormats&&!B.dataFormats.includes(b))throw new O(q.ProtocolAuthorizationIncorrectDataFormat,`type '${d}' must have data format in (${B.dataFormats}),         instead has '${b}'`)}static verifyInvokedRole(t,n,i,o,c,s){var d;return Zd(this,void 0,void 0,function*(){const B=null===(d=n.signaturePayload)||void 0===d?void 0:d.protocolRole;if(void 0===B)return;const C=Gi.getRuleSetAtProtocolPath(B,c);if(void 0===C||!C.$role)throw new O(q.ProtocolAuthorizationNotARole,`Protocol path ${B} does not match role record type.`);const b={interface:Mi.Records,method:Xr.Write,protocol:i,protocolPath:B,recipient:n.author,isLatestBaseState:!0},K=B.split("/").length-1;if(void 0===o&&K>0)throw new O(q.ProtocolAuthorizationMissingContextId,"Could not verify role because contextId is missing.");if(K>0){const Te=o.split("/").slice(0,K).join("/"),Pe=Ul.constructPrefixFilterAsRangeFilter(Te);b.contextId=Pe}const{messages:_e}=yield s.query(t,[b]);if(0===_e.length)throw new O(q.ProtocolAuthorizationMatchingRoleRecordNotFound,`No matching role record found for protocol path ${B}`)})}static getActionsSeekingARuleMatch(t,n,i){return Zd(this,void 0,void 0,function*(){switch(n.message.descriptor.method){case Xr.Delete:const o=n,c=o.message.descriptor.recordId,s=yield go.fetchInitialRecordsWrite(i,t,c);if(void 0===s)return[];const d=[];return o.message.descriptor.prune?(d.push(mc.CoPrune),n.author===s.author&&d.push(mc.Prune)):(d.push(mc.CoDelete),n.author===s.author&&d.push(mc.Delete)),d;case Xr.Query:return[mc.Query];case Xr.Read:return[mc.Read];case Xr.Subscribe:return[mc.Subscribe];case Xr.Write:if(yield n.isInitialWrite())return[mc.Create];{const b=n.message.recordId,K=yield go.fetchInitialRecordsWrite(i,t,b);return void 0===K?[]:n.author===K.author?[mc.CoUpdate,mc.Update]:[mc.CoUpdate]}}return[]})}static authorizeAgainstAllowedActions(t,n,i,o,c){var s;return Zd(this,void 0,void 0,function*(){const d=n.message.descriptor.method,B=yield Gi.getActionsSeekingARuleMatch(t,n,c),C=n.author,b=i.$actions;if(void 0===b)throw new O(q.ProtocolAuthorizationActionRulesNotFound,`no action rule defined for Records${d}, ${C} is unauthorized`);const K=null===(s=n.signaturePayload)||void 0===s?void 0:s.protocolRole;for(const _e of b)if(_e.can.some(Pe=>B.includes(Pe))){if(_e.who===Wg.Anyone)return;if(void 0!==C)if(void 0===K)if(_e.who!==Wg.Recipient||void 0!==_e.of){if(yield Gi.checkActor(C,_e,o))return}else{let Pe;if(Pe=n.message.descriptor.method===Xr.Write?n.message:o[o.length-1],Pe.descriptor.recipient===C)return}else if(_e.role===K)return}throw new O(q.ProtocolAuthorizationActionNotAllowed,`Inbound message action Records${d} by author ${n.author} not allowed.`)})}static verifySizeLimit(t,n){const{min:i=0,max:o}=n.$size||{},c=t.message.descriptor.dataSize;if(c<i)throw new O(q.ProtocolAuthorizationMinSizeInvalid,`data size ${c} is less than allowed ${i}`);if(void 0!==o&&c>o)throw new O(q.ProtocolAuthorizationMaxSizeInvalid,`data size ${c} is more than allowed ${o}`)}static verifyTagsIfNeeded(t,n){if(void 0!==n.$tags){const{tags:i={},protocol:o,protocolPath:c}=t.message.descriptor,s=n.$tags,{$allowUndefinedTags:d,$requiredTags:B}=s,C=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(s,["$allowUndefinedTags","$requiredTags"]),b=d||!1,K=B||[],_e=new DA.default,Ce=_e.compile({type:"object",properties:C,required:K,additionalProperties:b});if(!Ce(i)){const Pe=_e.errorsText(Ce.errors,{dataVar:`${o}/${c}/$tags`});throw new O(q.ProtocolAuthorizationTagsInvalidSchema,`tags schema validation error: ${Pe}`)}}}static verifyAsRoleRecordIfNeeded(t,n,i,o){return Zd(this,void 0,void 0,function*(){if(!i.$role)return;const c=n,s=c.message.descriptor.recipient;if(void 0===s)throw new O(q.ProtocolAuthorizationRoleMissingRecipient,"Role records must have a recipient");const d=c.message.descriptor.protocolPath,B={interface:Mi.Records,method:Xr.Write,isLatestBaseState:!0,protocol:c.message.descriptor.protocol,protocolPath:d,recipient:s},C=Fi.getParentContextFromOfContextId(c.message.contextId);if(""!==C){const Ce=Ul.constructPrefixFilterAsRangeFilter(C);B.contextId=Ce}const{messages:b}=yield o.query(t,[B]);if(b.filter(Ce=>Ce.recordId!==c.message.recordId).length>0)throw new O(q.ProtocolAuthorizationDuplicateRoleRecipient,`DID '${s}' is already recipient of a role record at protocol path '${d} under the parent context ${C}.`)})}static getRuleSetAtProtocolPath(t,n){const i=t.split("/");let o=n.structure,c=0;for(;c<i.length;){const d=o[i[c]];if(void 0===d)return;o=d,c++}return o}static checkActor(t,n,i){return Zd(this,void 0,void 0,function*(){const o=i.find(c=>c.descriptor.protocolPath===n.of);if(void 0===o)return!1;if(n.who===Wg.Recipient)return t===o.descriptor.recipient;{const c=(yield go.parse(o)).author;return t===c}})}static getTypeName(t){return t.split("/").slice(-1)[0]}}var OA=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Zg extends vp{static parse(t){return OA(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Dr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Fi.validateDelegatedGrantReferentialIntegrity(t,n),Ws.validateTimestamp(t.descriptor.messageTimestamp),new Zg(t)})}static create(t){var n,i;return OA(this,void 0,void 0,function*(){const o=t.recordId,c=Ws.getCurrentTimestamp(),s={interface:Mi.Records,method:Xr.Delete,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:c,recordId:o,prune:null!==(i=t.prune)&&void 0!==i&&i},B={descriptor:s,authorization:yield Dr.createAuthorization({descriptor:s,signer:t.signer,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant})};return Dr.validateJsonSchema(B),new Zg(B)})}constructIndexes(t){const i=Object.assign({},this.message.descriptor),{protocol:o,protocolPath:c,recipient:s,schema:d,parentId:B,dateCreated:C}=t.descriptor,b=Object.assign({protocol:o,protocolPath:c,recipient:s,schema:d,parentId:B,dateCreated:C,contextId:t.contextId,author:this.author},i);return pd(b),b}authorizeDelegate(t,n){return OA(this,void 0,void 0,function*(){const i=yield md.parse(this.message.authorization.authorDelegatedGrant);yield Yu.authorizeDelete({recordsDeleteMessage:this.message,recordsWriteToDelete:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var z0=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},BA=function(r){return r.RecordsDelete="RecordsDelete",r}(BA||{});let L6=(()=>{class r{constructor(n,i){this.resumableTaskStore=n,this.resumableTaskBatchSize=100,this.resumableTaskHandlers={[BA.RecordsDelete]:o=>z0(this,void 0,void 0,function*(){return yield i.performRecordsDelete(o)})}}run(n){return z0(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds,o=yield this.resumableTaskStore.register(n,i);yield this.runWithAutomaticTimeoutExtension(o)})}runWithAutomaticTimeoutExtension(n){return z0(this,void 0,void 0,function*(){const i=2*r.timeoutExtensionFrequencyInSeconds;let o;try{o=setInterval(()=>{this.resumableTaskStore.extend(n.id,i)},1e3*r.timeoutExtensionFrequencyInSeconds);const c=this.resumableTaskHandlers[n.task.name];yield c(n.task.data),yield this.resumableTaskStore.delete(n.id)}finally{r.clearTimeoutExtensionTimer(o)}})}static clearTimeoutExtensionTimer(n){clearInterval(n)}resumeTasksAndWaitForCompletion(){return z0(this,void 0,void 0,function*(){for(;;){const n=yield this.resumableTaskStore.grab(this.resumableTaskBatchSize);if(void 0===n||0===n.length)break;yield this.retryTasksUntilCompletion(n)}})}retryTasksUntilCompletion(n){return z0(this,void 0,void 0,function*(){let i=n;for(;i.length>0;){const o=i;i=[];const c=o.map(s=>z0(this,void 0,void 0,function*(){try{yield this.runWithAutomaticTimeoutExtension(s)}catch(d){console.error("Error while running resumable task:",d),console.error("Resumable task:",n),i.push(s)}}));yield Promise.all(c)}})}}return r.timeoutExtensionFrequencyInSeconds=30,r})();var NA=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class y2{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.resumableTaskManager=i}handle({tenant:t,message:n}){return NA(this,void 0,void 0,function*(){let i;try{i=yield Zg.parse(n)}catch(C){return Qi(C,400)}try{yield If(n.authorization,this.didResolver)}catch(C){return Qi(C,401)}const o={interface:Mi.Records,recordId:n.descriptor.recordId},{messages:c}=yield this.messageStore.query(t,[o]),s=yield Dr.getNewestMessage(c);if(void 0===s||s.descriptor.method===Xr.Delete)return{status:{code:404,detail:"Not Found"}};if(!(yield Dr.isNewer(n,s)))return{status:{code:409,detail:"Conflict"}};try{yield y2.authorizeRecordsDelete(t,i,yield go.parse(s),this.messageStore)}catch(C){return Qi(C,401)}return yield this.resumableTaskManager.run({name:BA.RecordsDelete,data:{tenant:t,message:n}}),{status:{code:202,detail:"Accepted"}}})}static authorizeRecordsDelete(t,n,i,o){return NA(this,void 0,void 0,function*(){if(Dr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,o)),n.author!==t){if(void 0===i.message.descriptor.protocol)throw new O(q.RecordsDeleteAuthorizationFailed,"RecordsDelete message failed authorization");yield Gi.authorizeDelete(t,n,i,o)}})}}var Su=function(r){return r[r.Descending=-1]="Descending",r[r.Ascending=1]="Ascending",r}(Su||{}),Kw=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Im{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return Kw(this,void 0,void 0,function*(){let i,o,c;try{i=yield Vg.parse(n)}catch(s){return Qi(s,400)}if(Fi.filterIncludesPublishedRecords(i.message.descriptor.filter)&&void 0===i.author){const s=yield this.fetchPublishedRecords(t,i);o=s.messages,c=s.cursor}else{try{yield If(n.authorization,this.didResolver),yield Im.authorizeRecordsQuery(t,i,this.messageStore)}catch(s){return Qi(s,401)}if(i.author===t){const s=yield this.fetchRecordsAsOwner(t,i);o=s.messages,c=s.cursor}else{const s=yield this.fetchRecordsAsNonOwner(t,i);o=s.messages,c=s.cursor}}for(const s of o)if(!(yield go.isInitialWrite(s))){const B=(yield this.messageStore.query(t,[{recordId:s.recordId,isLatestBaseState:!1,method:Xr.Write}])).messages[0];delete B.encodedData,s.initialWrite=B}return{status:{code:200,detail:"OK"},entries:o,cursor:c}})}convertDateSort(t){switch(t){case vu.CreatedAscending:return{dateCreated:Su.Ascending};case vu.CreatedDescending:return{dateCreated:Su.Descending};case vu.PublishedAscending:return{datePublished:Su.Ascending};case vu.PublishedDescending:return{datePublished:Su.Descending};default:return{dateCreated:Su.Ascending}}}fetchRecordsAsOwner(t,n){return Kw(this,void 0,void 0,function*(){const{dateSort:i,filter:o,pagination:c}=n.message.descriptor,s=Object.assign(Object.assign({},Fi.convertFilter(o,i)),{interface:Mi.Records,method:Xr.Write,isLatestBaseState:!0}),d=this.convertDateSort(i);return this.messageStore.query(t,[s],d,c)})}fetchRecordsAsNonOwner(t,n){return Kw(this,void 0,void 0,function*(){const{dateSort:i,pagination:o,filter:c}=n.message.descriptor,s=[];if(Fi.filterIncludesPublishedRecords(c)&&s.push(Im.buildPublishedRecordsFilter(n)),Fi.filterIncludesUnpublishedRecords(c)){s.push(Im.buildUnpublishedRecordsByQueryAuthorFilter(n));const B=n.message.descriptor.filter.recipient;(void 0===B||B===n.author)&&s.push(Im.buildUnpublishedRecordsForQueryAuthorFilter(n)),Fi.shouldProtocolAuthorize(n.signaturePayload)&&s.push(Im.buildUnpublishedProtocolAuthorizedRecordsFilter(n))}const d=this.convertDateSort(i);return this.messageStore.query(t,s,d,o)})}fetchPublishedRecords(t,n){return Kw(this,void 0,void 0,function*(){const{dateSort:i,pagination:o}=n.message.descriptor,c=Im.buildPublishedRecordsFilter(n),s=this.convertDateSort(i);return this.messageStore.query(t,[c],s,o)})}static buildPublishedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Fi.convertFilter(i,n)),{interface:Mi.Records,method:Xr.Write,published:!0,isLatestBaseState:!0})}static buildUnpublishedRecordsForQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Fi.convertFilter(i,n)),{interface:Mi.Records,method:Xr.Write,recipient:t.author,isLatestBaseState:!0,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Fi.convertFilter(i,n)),{interface:Mi.Records,method:Xr.Write,isLatestBaseState:!0,published:!1})}static buildUnpublishedRecordsByQueryAuthorFilter(t){const{dateSort:n,filter:i}=t.message.descriptor;return Object.assign(Object.assign({},Fi.convertFilter(i,n)),{author:t.author,interface:Mi.Records,method:Xr.Write,isLatestBaseState:!0,published:!1})}static authorizeRecordsQuery(t,n,i){return Kw(this,void 0,void 0,function*(){Dr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),Fi.shouldProtocolAuthorize(n.signaturePayload)&&(yield Gi.authorizeQueryOrSubscribe(t,n,i))})}}var U6=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Xg extends vp{static parse(t){return U6(this,void 0,void 0,function*(){let n;return void 0!==t.authorization&&(n=yield Dr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Fi.validateDelegatedGrantReferentialIntegrity(t,n),Ws.validateTimestamp(t.descriptor.messageTimestamp),new Xg(t)})}static create(t){var n;return U6(this,void 0,void 0,function*(){const{filter:i,signer:o,permissionGrantId:c,protocolRole:s}=t,d=Ws.getCurrentTimestamp(),B={interface:Mi.Records,method:Xr.Read,filter:Fi.normalizeFilter(i),messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:d};let C;pd(B),void 0!==o&&(C=yield Dr.createAuthorization({descriptor:B,signer:o,permissionGrantId:c,protocolRole:s,delegatedGrant:t.delegatedGrant}));const b={descriptor:B,authorization:C};return Dr.validateJsonSchema(b),new Xg(b)})}authorizeDelegate(t,n){return U6(this,void 0,void 0,function*(){const i=yield md.parse(this.message.authorization.authorDelegatedGrant);yield Yu.authorizeRead({recordsReadMessage:this.message,recordsWriteMessageToBeRead:t,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:i,messageStore:n})})}}var UO=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class F6{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.dataStore=i}handle({tenant:t,message:n}){return UO(this,void 0,void 0,function*(){let i;try{i=yield Xg.parse(n)}catch(b){return Qi(b,400)}try{void 0!==i.author&&(yield If(n.authorization,this.didResolver))}catch(b){return Qi(b,401)}const o=Object.assign({interface:Mi.Records,isLatestBaseState:!0},Fi.convertFilter(n.descriptor.filter)),{messages:c}=yield this.messageStore.query(t,[o]);if(0===c.length)return{status:{code:404,detail:"Not Found"}};if(c.length>1)return Qi(new O(q.RecordsReadReturnedMultiple,"Multiple records exist for the RecordsRead filter"),400);const s=c[0];try{yield F6.authorizeRecordsRead(t,i,yield go.parse(s),this.messageStore)}catch(b){return Qi(b,401)}let d;if(void 0!==s.encodedData){const b=_.base64UrlToBytes(s.encodedData);d=Am.fromBytes(b),delete s.encodedData}else{const b=yield this.dataStore.get(t,s.recordId,s.descriptor.dataCid);if(void 0===b?.dataStream)return{status:{code:404,detail:"Not Found"}};d=b.dataStream}const B=Object.assign(Object.assign({},s),{data:d});if(!(yield go.isInitialWrite(B))){const K=(yield this.messageStore.query(t,[{recordId:B.recordId,isLatestBaseState:!1,method:Xr.Write}])).messages[0];delete K.encodedData,B.initialWrite=K}return{status:{code:200,detail:"OK"},record:B}})}static authorizeRecordsRead(t,n,i,o){return UO(this,void 0,void 0,function*(){Dr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i.message,o));const{descriptor:c}=i.message;if(n.author!==t){if(!0===c.published)return;if(void 0!==n.author&&n.author===c.recipient)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const s=yield Hi.fetchGrant(t,o,n.signaturePayload.permissionGrantId);yield Yu.authorizeRead({recordsReadMessage:n.message,recordsWriteMessageToBeRead:i.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:s,messageStore:o})}else{if(void 0===c.protocol)throw new O(q.RecordsReadAuthorizationFailed,"message failed authorization");yield Gi.authorizeRead(t,n,i,o)}}})}}var j6=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class g2 extends vp{static parse(t){return j6(this,void 0,void 0,function*(){let n;if(void 0!==t.authorization&&(n=yield Dr.validateSignatureStructure(t.authorization.signature,t.descriptor)),yield Fi.validateDelegatedGrantReferentialIntegrity(t,n),void 0!==n?.protocolRole&&void 0===t.descriptor.filter.protocolPath)throw new O(q.RecordsSubscribeFilterMissingRequiredProperties,"Role-authorized subscriptions must include `protocolPath` in the filter");return void 0!==t.descriptor.filter.protocol&&op(t.descriptor.filter.protocol),void 0!==t.descriptor.filter.schema&&Yb(t.descriptor.filter.schema),Ws.validateTimestamp(t.descriptor.messageTimestamp),new g2(t)})}static create(t){var n;return j6(this,void 0,void 0,function*(){const i={interface:Mi.Records,method:Xr.Subscribe,messageTimestamp:null!==(n=t.messageTimestamp)&&void 0!==n?n:Ws.getCurrentTimestamp(),filter:Fi.normalizeFilter(t.filter)};pd(i);const o=t.signer;let c;o&&(c=yield Dr.createAuthorization({descriptor:i,signer:o,protocolRole:t.protocolRole,delegatedGrant:t.delegatedGrant}));const s={descriptor:i,authorization:c};return Dr.validateJsonSchema(s),new g2(s)})}authorizeDelegate(t){return j6(this,void 0,void 0,function*(){const n=yield md.parse(this.message.authorization.authorDelegatedGrant);yield Yu.authorizeQueryOrSubscribe({incomingMessage:this.message,expectedGrantor:this.author,expectedGrantee:this.signer,permissionGrant:n,messageStore:t})})}}var LA=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class bp{constructor(t,n,i){this.didResolver=t,this.messageStore=n,this.eventStream=i}handle({tenant:t,message:n,subscriptionHandler:i}){return LA(this,void 0,void 0,function*(){if(void 0===this.eventStream)return Qi(new O(q.RecordsSubscribeEventStreamUnimplemented,"Subscriptions are not supported"),501);let o;try{o=yield g2.parse(n)}catch(C){return Qi(C,400)}let c=[];if(Fi.filterIncludesPublishedRecords(o.message.descriptor.filter)&&void 0===o.author)c=[bp.buildPublishedRecordsFilter(o)],delete n.authorization;else{try{yield If(n.authorization,this.didResolver),yield bp.authorizeRecordsSubscribe(t,o,this.messageStore)}catch(C){return Qi(C,401)}c=o.author===t?yield bp.filterAsOwner(o):yield bp.filterAsNonOwner(o)}const d=yield Dr.getCid(n);return{status:{code:200,detail:"OK"},subscription:yield this.eventStream.subscribe(t,d,(C,b,K)=>{t===C&&Ul.matchAnyFilter(K,c)&&i(b)})}})}static filterAsOwner(t){return LA(this,void 0,void 0,function*(){const{filter:n}=t.message.descriptor;return[Object.assign(Object.assign({},Fi.convertFilter(n)),{interface:Mi.Records,method:[Xr.Write,Xr.Delete]})]})}static filterAsNonOwner(t){return LA(this,void 0,void 0,function*(){const n=[],{filter:i}=t.message.descriptor;if(Fi.filterIncludesPublishedRecords(i)&&n.push(bp.buildPublishedRecordsFilter(t)),Fi.filterIncludesUnpublishedRecords(i)){n.push(bp.buildUnpublishedRecordsBySubscribeAuthorFilter(t));const o=t.message.descriptor.filter.recipient;(void 0===o||o===t.author)&&n.push(bp.buildUnpublishedRecordsForSubscribeAuthorFilter(t)),Fi.shouldProtocolAuthorize(t.signaturePayload)&&n.push(bp.buildUnpublishedProtocolAuthorizedRecordsFilter(t))}return n})}static buildPublishedRecordsFilter(t){return Object.assign(Object.assign({},Fi.convertFilter(t.message.descriptor.filter)),{interface:Mi.Records,method:[Xr.Write,Xr.Delete],published:!0})}static buildUnpublishedRecordsForSubscribeAuthorFilter(t){return Object.assign(Object.assign({},Fi.convertFilter(t.message.descriptor.filter)),{interface:Mi.Records,method:[Xr.Write,Xr.Delete],recipient:t.author,published:!1})}static buildUnpublishedProtocolAuthorizedRecordsFilter(t){return Object.assign(Object.assign({},Fi.convertFilter(t.message.descriptor.filter)),{interface:Mi.Records,method:[Xr.Write,Xr.Delete],published:!1})}static buildUnpublishedRecordsBySubscribeAuthorFilter(t){return Object.assign(Object.assign({},Fi.convertFilter(t.message.descriptor.filter)),{author:t.author,interface:Mi.Records,method:[Xr.Write,Xr.Delete],published:!1})}static authorizeRecordsSubscribe(t,n,i){return LA(this,void 0,void 0,function*(){Dr.isSignedByAuthorDelegate(n.message)&&(yield n.authorizeDelegate(i)),Fi.shouldProtocolAuthorize(n.signaturePayload)&&(yield Gi.authorizeQueryOrSubscribe(t,n,i))})}}let K6=(()=>{class r{}return r.maxDataSizeAllowedToBeEncoded=3e4,r})();var v2=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class wp{constructor({messageStore:t,dataStore:n,eventLog:i,eventStream:o}){this.messageStore=t,this.dataStore=n,this.eventLog=i,this.eventStream=o}performRecordsDelete({tenant:t,message:n}){return v2(this,void 0,void 0,function*(){const i={interface:Mi.Records,recordId:n.descriptor.recordId},{messages:o}=yield this.messageStore.query(t,[i]),c=yield Dr.getNewestMessage(o);if(void 0===c||c.descriptor.method===Xr.Delete)return;const s=yield Zg.parse(n),d=yield go.getInitialWrite(o),B=s.constructIndexes(d),C=yield Dr.getCid(n);yield this.messageStore.put(t,n,B),yield this.eventLog.append(t,C,B),void 0!==this.eventStream&&this.eventStream.emit(t,{message:n,initialWrite:d},B),n.descriptor.prune&&(yield wp.purgeRecordDescendants(t,n.descriptor.recordId,this.messageStore,this.dataStore,this.eventLog)),yield wp.deleteAllOlderMessagesButKeepInitialWrite(t,o,n,this.messageStore,this.dataStore,this.eventLog)})}static deleteFromDataStoreIfNeeded(t,n,i,o){return v2(this,void 0,void 0,function*(){if(i.descriptor.method!==Xr.Write)return;const c=i;c.descriptor.dataSize<=K6.maxDataSizeAllowedToBeEncoded||c.descriptor.dataCid!==o.descriptor.dataCid&&(yield t.delete(n,c.recordId,c.descriptor.dataCid))})}static purgeRecordDescendants(t,n,i,o,c){return v2(this,void 0,void 0,function*(){const s={interface:Mi.Records,parentId:n},{messages:d}=yield i.query(t,[s]),B=new Map;for(const C of d){let b;b=Fi.isRecordsWrite(C)?C.recordId:C.descriptor.recordId,B.has(b)||B.set(b,[]),B.get(b).push(C)}for(const C of B.keys())yield wp.purgeRecordDescendants(t,C,i,o,c);for(const C of B.keys())yield wp.purgeRecordMessages(t,B.get(C),i,o,c)})}static purgeRecordMessages(t,n,i,o,c){return v2(this,void 0,void 0,function*(){const s=n.filter(C=>C.descriptor.method===Xr.Write),d=yield Dr.getNewestMessage(s);yield o.delete(t,d.recordId,d.descriptor.dataCid);const B=yield Promise.all(n.map(C=>Dr.getCid(C)));yield c.deleteEventsByCid(t,B),yield Promise.all(B.map(C=>i.delete(t,C)))})}static deleteAllOlderMessagesButKeepInitialWrite(t,n,i,o,c,s){return v2(this,void 0,void 0,function*(){const d=[];for(const B of n){if(yield Dr.isOlder(B,i)){yield wp.deleteFromDataStoreIfNeeded(c,t,B,i);const b=yield Dr.getCid(B);if(yield o.delete(t,b),yield go.isInitialWrite(B)){const Te=yield(yield go.parse(B)).constructIndexes(!1),Pe=B;delete Pe.encodedData,yield o.put(t,Pe,Te)}else{const _e=yield Dr.getCid(B);d.push(_e)}}yield s.deleteEventsByCid(t,d)}})}}var Yg=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Jg{constructor(t,n,i,o,c){this.didResolver=t,this.messageStore=n,this.dataStore=i,this.eventLog=o,this.eventStream=c}handle({tenant:t,message:n,dataStream:i}){return Yg(this,void 0,void 0,function*(){let o;try{o=yield go.parse(n),void 0!==n.descriptor.protocol&&(yield Gi.validateReferentialIntegrity(t,o,this.messageStore))}catch(Ce){return Qi(Ce,400)}try{yield If(n.authorization,this.didResolver),yield Jg.authorizeRecordsWrite(t,o,this.messageStore)}catch(Ce){return Qi(Ce,401)}const c={interface:Mi.Records,recordId:n.recordId},{messages:s}=yield this.messageStore.query(t,[c]),d=yield o.isInitialWrite();let B;if(!d)try{B=yield go.getInitialWrite(s),go.verifyEqualityOfImmutableProperties(B,n)}catch(Ce){return Qi(Ce,400)}const C=yield Dr.getNewestMessage(s);let K,b=!1;if(void 0===C||(yield Dr.isNewer(n,C))?(b=!0,K=n):K=C,!b)return{status:{code:409,detail:"Conflict"}};try{yield this.preProcessingForCoreRecordsWrite(t,n);let Ce=!1,Te=n;if(void 0!==i)Te=yield this.processMessageWithDataStream(t,n,i),Ce=!0;else{if(C?.descriptor.method===Xr.Delete)throw new O(q.RecordsWriteMissingDataStream,"No data stream was provided with the previous message being a delete");if(!d){const ze=C;Te=yield this.processMessageWithoutDataStream(t,n,ze),Ce=!0}}const Pe=yield o.constructIndexes(Ce);yield this.messageStore.put(t,Te,Pe),yield this.eventLog.append(t,yield Dr.getCid(n),Pe),void 0!==this.eventStream&&Ce&&this.eventStream.emit(t,{message:n,initialWrite:B},Pe)}catch(Ce){const Te=Ce;if(void 0!==Te.code&&(Te.code===q.RecordsWriteMissingEncodedDataInPrevious||Te.code===q.RecordsWriteMissingDataInPrevious||Te.code===q.RecordsWriteMissingDataStream||Te.code===q.RecordsWriteDataCidMismatch||Te.code===q.RecordsWriteDataSizeMismatch||Te.code.startsWith("PermissionsProtocolValidate")||Te.code.startsWith("SchemaValidator")))return Qi(Ce,400);throw Ce}return yield wp.deleteAllOlderMessagesButKeepInitialWrite(t,s,K,this.messageStore,this.dataStore,this.eventLog),yield this.postProcessingForCoreRecordsWrite(t,o),{status:{code:202,detail:"Accepted"}}})}preProcessingForCoreRecordsWrite(t,n){var i;return Yg(this,void 0,void 0,function*(){if(n.descriptor.protocol===Hi.uri&&n.descriptor.protocolPath===Hi.revocationPath){const o=n.descriptor.parentId,c=yield Hi.fetchGrant(t,this.messageStore,o),s=null===(i=n.descriptor.tags)||void 0===i?void 0:i.protocol,d="protocol"in c.scope?c.scope.protocol:void 0;if(d!==s)throw new O(q.PermissionsProtocolValidateRevocationProtocolTagMismatch,`Revocation protocol ${s} does not match grant protocol ${d}`)}})}static validateSchemaForCoreRecordsWrite(t,n){t.descriptor.protocol===Hi.uri&&Hi.validateSchema(t,n)}postProcessingForCoreRecordsWrite(t,n){return Yg(this,void 0,void 0,function*(){if(n.message.descriptor.protocol===Hi.uri&&n.message.descriptor.protocolPath===Hi.revocationPath){const o={permissionGrantId:n.message.descriptor.parentId,dateCreated:{gte:n.message.descriptor.messageTimestamp}},{messages:c}=yield this.messageStore.query(t,[o]),s=[];for(const d of c){const B=yield Dr.getCid(d);yield this.messageStore.delete(t,B)}this.eventLog.deleteEventsByCid(t,s)}})}cloneAndAddEncodedData(t,n){return Yg(this,void 0,void 0,function*(){const i=Object.assign({},t);return i.encodedData=_.bytesToBase64Url(n),i})}processMessageWithDataStream(t,n,i){return Yg(this,void 0,void 0,function*(){let o=n;if(n.descriptor.dataSize<=K6.maxDataSizeAllowedToBeEncoded){const c=yield Am.toBytes(i),s=yield ba.computeDagPbCidFromBytes(c);Jg.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,s,c.length),Jg.validateSchemaForCoreRecordsWrite(n,c),o=yield this.cloneAndAddEncodedData(n,c)}else{const[c,s]=Am.duplicateDataStream(i,2);try{const[d,B]=yield Promise.all([ba.computeDagPbCidFromStream(c),this.dataStore.put(t,n.recordId,n.descriptor.dataCid,s)]);Jg.validateDataIntegrity(n.descriptor.dataCid,n.descriptor.dataSize,d,B.dataSize)}catch(d){throw yield this.dataStore.delete(t,n.recordId,n.descriptor.dataCid),d}}return o})}processMessageWithoutDataStream(t,n,i){return Yg(this,void 0,void 0,function*(){const o=Object.assign({},n),{dataCid:c,dataSize:s}=n.descriptor;if(Jg.validateDataIntegrity(c,s,i.descriptor.dataCid,i.descriptor.dataSize),s<=K6.maxDataSizeAllowedToBeEncoded){if(void 0===i.encodedData)throw new O(q.RecordsWriteMissingEncodedDataInPrevious,"No dataStream was provided and unable to get data from previous message");o.encodedData=i.encodedData}else if(void 0===(yield this.dataStore.get(t,i.recordId,n.descriptor.dataCid)))throw new O(q.RecordsWriteMissingDataInPrevious,"No dataStream was provided and unable to get data from previous message");return o})}static validateDataIntegrity(t,n,i,o){if(t!==i)throw new O(q.RecordsWriteDataCidMismatch,`actual data CID ${i} does not match dataCid in descriptor: ${t}`);if(n!==o)throw new O(q.RecordsWriteDataSizeMismatch,`actual data size ${o} bytes does not match dataSize in descriptor: ${n}`)}static authorizeRecordsWrite(t,n,i){return Yg(this,void 0,void 0,function*(){if(void 0!==n.owner&&n.owner!==t)throw new O(q.RecordsWriteOwnerAndTenantMismatch,`Owner ${n.owner} must be the same as tenant ${t} when specified.`);if(n.isSignedByAuthorDelegate&&(yield n.authorizeAuthorDelegate(i)),n.isSignedByOwnerDelegate&&(yield n.authorizeOwnerDelegate(i)),void 0===n.owner){if(n.author===t)return;if(void 0!==n.author&&void 0!==n.signaturePayload.permissionGrantId){const o=yield Hi.fetchGrant(t,i,n.signaturePayload.permissionGrantId);yield Yu.authorizeWrite({recordsWriteMessage:n.message,expectedGrantor:t,expectedGrantee:n.author,permissionGrant:o,messageStore:i})}else{if(void 0===n.message.descriptor.protocol)throw new O(q.RecordsWriteAuthorizationFailed,"message failed authorization");yield Gi.authorizeWrite(t,n,i)}}})}}var $w=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}($w||{});const bh={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ko{constructor({method:t,id:n,path:i,query:o,fragment:c,params:s}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=c,this.params=s}static parse(t){if(!t)return null;const n=Ko.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:c,query:s,fragment:d}=n.groups,B={uri:`did:${i}:${o}`,method:i,id:o};if(c&&(B.path=c),s&&(B.query=s.slice(1)),d&&(B.fragment=d.slice(1)),s){const C={},b=s.slice(1).split("&");for(const K of b){const[_e,Ce]=K.split("=");C[_e]=Ce}B.params=C}return B}}Ko.METHOD_PATTERN="([a-z0-9]+)",Ko.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ko.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ko.PCT_ENCODED_PATTERN})`,Ko.METHOD_ID_PATTERN=`((?:${Ko.ID_CHAR_PATTERN}*:)*(${Ko.ID_CHAR_PATTERN}+))`,Ko.PATH_PATTERN="(/[^#?]*)?",Ko.QUERY_PATTERN="([?][^#]*)?",Ko.FRAGMENT_PATTERN="(#.*)?",Ko.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ko.METHOD_PATTERN}):(?<id>${Ko.METHOD_ID_PATTERN})(?<path>${Ko.PATH_PATTERN})(?<query>${Ko.QUERY_PATTERN})(?<fragment>${Ko.FRAGMENT_PATTERN})$`);class vi extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vi)}}var Ai=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Ai||{}),Vw=E(52191);function b2(r){const n=Object.prototype.toString.call(r).match(/\s([a-zA-Z0-9]+)/),[i,o]=n;return o}var zw=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},UA=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(s){return new Promise(function(d,B){!function o(c,s,d,B){Promise.resolve(B).then(function(C){c({value:C,done:d})},s)}(d,B,(s=r[c](s)).done,s.value)})}}};const w2=new TextEncoder,H0=new TextDecoder;class mn{constructor(t,n){this.data=t,this.format=n}static arrayBuffer(t){return new mn(t,"ArrayBuffer")}static asyncIterable(t){if(!function jO(r){return"object"==typeof r&&null!==r&&"function"==typeof r[Symbol.asyncIterator]}(t))throw new TypeError("Input must be of type AsyncIterable.");return new mn(t,"AsyncIterable")}static base32Z(t){return new mn(t,"Base32Z")}static base58Btc(t){return new mn(t,"Base58Btc")}static base64Url(t){return new mn(t,"Base64Url")}static bufferSource(t){return new mn(t,"BufferSource")}static hex(t){if("string"!=typeof t)throw new TypeError("Hex input must be a string.");if(t.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new mn(t,"Hex")}static multibase(t){return new mn(t,"Multibase")}static object(t){return new mn(t,"Object")}static string(t){return new mn(t,"String")}static uint8Array(t){return new mn(t,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return Fd.baseDecode(this.data).buffer;case"Base64Url":return Ke.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===b2(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function FO(r){return 0!==r.byteOffset||r.byteLength!==r.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return zw(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return Hy.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const t=new Uint8Array(this.data);return Fd.baseEncode(t)}case"Multibase":return this.data.substring(1);case"Uint8Array":return Fd.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const t=new Uint8Array(this.data);return Ke.baseEncode(t)}case"BufferSource":{const t=this.toUint8Array();return Ke.baseEncode(t)}case"Object":{const t=JSON.stringify(this.data),n=w2.encode(t);return Ke.baseEncode(n)}case"String":{const t=w2.encode(this.data);return Ke.baseEncode(t)}case"Uint8Array":return Ke.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var t,n,i;return zw(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const B=[];try{for(var d,c=!0,s=UA(this.data);d=yield s.next(),!(t=d.done);c=!0)c=!1,B.push(d.value)}catch(b){n={error:b}}finally{try{!c&&!t&&(i=s.return)&&(yield i.call(s))}finally{if(n)throw n.error}}return new Blob(B)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const t=Array.from({length:256},(n,i)=>i.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const n=this.toUint8Array();return mn.uint8Array(n).toHex()}case"Base64Url":{const n=this.toUint8Array();return mn.uint8Array(n).toHex()}case"Uint8Array":{let n="";for(let i=0;i<this.data.length;i++)n+=t[this.data[i]];return n}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const t=Ke.baseDecode(this.data),n=H0.decode(t);return JSON.parse(n)}case"String":return JSON.parse(this.data);case"Uint8Array":{const t=H0.decode(this.data);return JSON.parse(t)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return zw(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const t=yield this.toStringAsync();return JSON.parse(t)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return H0.decode(this.data);case"Base64Url":{const t=Ke.baseDecode(this.data);return H0.decode(t)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var t,n,i,o;return zw(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let B="";try{for(var d,c=!0,s=UA(this.data);d=yield s.next(),!(t=d.done);c=!0)c=!1,B+="string"==typeof(o=d.value)?o:H0.decode(o,{stream:!0})}catch(C){n={error:C}}finally{try{!c&&!t&&(i=s.return)&&(yield i.call(s))}finally{if(n)throw n.error}}return B+=H0.decode(void 0,{stream:!1}),B}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return Hy.baseDecode(this.data);case"Base58Btc":return Fd.baseDecode(this.data);case"Base64Url":return Ke.baseDecode(this.data);case"BufferSource":{const t=b2(this.data);if("Uint8Array"===t)return this.data;if("ArrayBuffer"===t)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const t=new Uint8Array(this.data.length/2);for(let n=0;n<this.data.length;n+=2){const i=parseInt(this.data.substring(n,n+2),16);if(isNaN(i))throw new TypeError("Input is not a valid hexadecimal string.");t[n/2]=i}return t}case"Object":{const t=JSON.stringify(this.data);return w2.encode(t)}case"String":return w2.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return zw(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const t=yield this.toArrayBufferAsync();return new Uint8Array(t)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}class Pa{static addPrefix(t){var n;let{code:i,data:o,name:c}=t;if(!(c?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(i=Pa.codeToName.has(i)?i:Pa.nameToCode.get(c),void 0===i)throw new Error(`Unsupported multicodec: ${null!==(n=t.name)&&void 0!==n?n:t.code}`);const s=Un(i),d=new Uint8Array(s+o.byteLength);return d.set(o,s),vr(i,d),d}static getCodeFromData(t){const{prefixedData:n}=t,[i,o]=pn(n);return i}static getCodeFromName(t){const{name:n}=t,i=Pa.nameToCode.get(n);if(void 0===i)throw new Error(`Unsupported multicodec: ${n}`);return i}static getNameFromCode(t){const{code:n}=t,i=Pa.codeToName.get(n);if(void 0===i)throw new Error(`Unsupported multicodec: ${n}`);return i}static registerCodec(t){Pa.codeToName.set(t.code,t.name),Pa.nameToCode.set(t.name,t.code)}static removePrefix(t){const{prefixedData:n}=t,[i,o]=pn(n),c=Pa.codeToName.get(i);if(void 0===c)throw new Error(`Unsupported multicodec: ${i}`);return{code:i,data:n.slice(o),name:c}}}function FA(r){return!("object"!=typeof r||null===r||Object.getOwnPropertySymbols(r).length>0)&&0===Object.keys(r).length}function W0(r){Object.keys(r).forEach(t=>{void 0===r[t]?delete r[t]:"object"==typeof r[t]&&W0(r[t])})}Pa.codeToName=new Map,Pa.nameToCode=new Map,Pa.registerCodec({code:237,name:"ed25519-pub"}),Pa.registerCodec({code:4864,name:"ed25519-priv"}),Pa.registerCodec({code:236,name:"x25519-pub"}),Pa.registerCodec({code:4866,name:"x25519-priv"}),Pa.registerCodec({code:231,name:"secp256k1-pub"}),Pa.registerCodec({code:4865,name:"secp256k1-priv"});var jA=E(54626),ef=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class $O{constructor({db:t,location:n="DATASTORE"}={}){this.store=t??new jA.Level(n)}clear(){return ef(this,void 0,void 0,function*(){yield this.store.clear()})}close(){return ef(this,void 0,void 0,function*(){yield this.store.close()})}delete(t){return ef(this,void 0,void 0,function*(){yield this.store.del(t)})}get(t){return ef(this,void 0,void 0,function*(){try{return yield this.store.get(t)}catch(n){if(n.notFound)return;throw n}})}set(t,n){return ef(this,void 0,void 0,function*(){yield this.store.put(t,n)})}}class Hw{constructor(){this.store=new Map}clear(){return ef(this,void 0,void 0,function*(){this.store.clear()})}close(){return ef(this,void 0,void 0,function*(){})}delete(t){return ef(this,void 0,void 0,function*(){return this.store.delete(t)})}get(t){return ef(this,void 0,void 0,function*(){return this.store.get(t)})}has(t){return ef(this,void 0,void 0,function*(){return this.store.has(t)})}list(){return ef(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(t,n){return ef(this,void 0,void 0,function*(){this.store.set(t,n)})}}var Ww=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},Gw=function(r){return this instanceof Gw?(this.v=r,this):new Gw(r)};class _d{static asAsyncIterator(t){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),c=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(_e){i[_e]&&(o[_e]=function(Ce){return new Promise(function(Te,Pe){c.push([_e,Ce,Te,Pe])>1||d(_e,Ce)})})}function d(_e,Ce){try{!function B(_e){_e.value instanceof Gw?Promise.resolve(_e.value.v).then(C,b):K(c[0][2],_e)}(i[_e](Ce))}catch(Te){K(c[0][3],Te)}}function C(_e){d("next",_e)}function b(_e){d("throw",_e)}function K(_e,Ce){_e(Ce),c.shift(),c.length&&d(c[0][0],c[0][1])}}(this,arguments,function*(){const i=t.getReader();try{for(;;){const{done:o,value:c}=yield Gw(i.read());if(o)break;yield yield Gw(c)}}finally{i.releaseLock()}})}static consumeToArrayBuffer({readableStream:t}){return Ww(this,void 0,void 0,function*(){const n=_d.asAsyncIterator(t);return yield mn.asyncIterable(n).toArrayBufferAsync()})}static consumeToBlob({readableStream:t}){return Ww(this,void 0,void 0,function*(){const n=_d.asAsyncIterator(t);return yield mn.asyncIterable(n).toBlobAsync()})}static consumeToBytes({readableStream:t}){return Ww(this,void 0,void 0,function*(){const n=_d.asAsyncIterator(t);return yield mn.asyncIterable(n).toUint8ArrayAsync()})}static consumeToJson({readableStream:t}){return Ww(this,void 0,void 0,function*(){const n=_d.asAsyncIterator(t);return yield mn.asyncIterable(n).toObjectAsync()})}static consumeToText({readableStream:t}){return Ww(this,void 0,void 0,function*(){const n=_d.asAsyncIterator(t);return yield mn.asyncIterable(n).toStringAsync()})}static generateByteStream({streamLength:t,chunkLength:n,fillValue:i}){let c,o=t??1/0;function s(){const d=Math.min(o,n??1/0);let B;if(o-=d,"number"==typeof i)B=new Uint8Array(d).fill(i);else if(Array.isArray(i)){B=new Uint8Array(d);const[C,b]=i,K=b-C+1;for(let _e=0;_e<d;_e++)B[_e]=Math.floor(Math.random()*K)+C}else B=new Uint8Array(d);c.enqueue(B),o<=0&&c.close()}return new ReadableStream({start(d){c=d,s()},pull(){s()}})}static isReadable({readableStream:t}){if(!_d.isReadableStream(t)||t.locked)return!1;try{return t.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(t){return"object"==typeof t&&null!==t&&"getReader"in t&&"function"==typeof t.getReader}static isStream(t){return _d.isReadableStream(t)||_d.isWritableStream(t)||_d.isTransformStream(t)}static isTransformStream(t){return"object"==typeof t&&null!==t&&"readable"in t&&"object"==typeof t.readable&&"writable"in t&&"object"==typeof t.writable}static isWritableStream(t){return"object"==typeof t&&null!==t&&"getWriter"in t&&"function"==typeof t.getWriter&&"abort"in t&&"function"==typeof t.abort}}var VO=E(95424),Zw=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Zc{static consumeToArrayBuffer({readable:t}){return Zw(this,void 0,void 0,function*(){return yield mn.asyncIterable(t).toArrayBufferAsync()})}static consumeToBlob({readable:t}){return Zw(this,void 0,void 0,function*(){return yield mn.asyncIterable(t).toBlobAsync()})}static consumeToBytes({readable:t}){return Zw(this,void 0,void 0,function*(){return yield mn.asyncIterable(t).toUint8ArrayAsync()})}static consumeToJson({readable:t}){return Zw(this,void 0,void 0,function*(){return yield mn.asyncIterable(t).toObjectAsync()})}static consumeToText({readable:t}){return Zw(this,void 0,void 0,function*(){return yield mn.asyncIterable(t).toStringAsync()})}static fromWebReadable({readableStream:t,readableOptions:n}){if(!_d.isReadableStream(t))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");const i=t.getReader();let o=!1;const c=new VO.Readable(Object.assign(Object.assign({},n),{read:function(){i.read().then(({done:s,value:d})=>{if(s)this.push(null);else if(!this.push(d))return}).catch(s=>{this.destroy(s)})},destroy:function(s,d){function B(){d(s)}o?B():i.cancel(s).then(B).catch(B)}}));return i.closed.then(()=>{o=!0}).catch(s=>{o=!0,c.destroy(s)}),c}static isDestroyed({stream:t}){if(!Zc.isStream(t))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");return!(!t.destroyed&&!(("_writableState"in t?t._writableState:void 0)||t._readableState).destroyed)}static isReadable({readable:t}){return!!Zc.isReadableStream(t)&&t.readable&&"boolean"==typeof t._readableState.ended&&!t._readableState.ended&&"boolean"==typeof t._readableState.endEmitted&&!t._readableState.endEmitted&&!t.destroyed&&!t.isPaused()}static isReadableStream(t){return"object"==typeof t&&null!==t&&"pipe"in t&&"function"==typeof t.pipe&&"on"in t&&"function"==typeof t.on&&!("_writableState"in t)&&"_readableState"in t}static isStream(t){return"object"==typeof t&&null!==t&&("_readableState"in t||"_writableState"in t)}static toWebReadable({readable:t}){if(!Zc.isReadableStream(t))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(Zc.isDestroyed({stream:t})){const n=new ReadableStream;return n.cancel(),n}return new ReadableStream({start(n){t.on("data",i=>{n.enqueue(i)}),t.on("end",()=>{n.close()}),t.on("error",i=>{n.error(i)})},cancel(){t.destroy()}})}}function KA(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function $A(r,...t){if(!function s7(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}(r))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function qg(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}const Qg="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function _2(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const Xw=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Mu=(r,t)=>r<<32-t|r>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function Yw(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function tv(r){if("string"==typeof r&&(r=Yw(r)),!_2(r))throw new Error("expected Uint8Array, got "+typeof r);return r}function X6(...r){let t=0;for(let i=0;i<r.length;i++){const o=r[i];if(!_2(o))throw new Error("Uint8Array expected");t+=o.length}const n=new Uint8Array(t);for(let i=0,o=0;i<r.length;i++){const c=r[i];n.set(c,o),o+=c.length}return n}class Y6{clone(){return this._cloneInto()}}function ZO(r){const t=i=>r().update(tv(i)).digest(),n=r();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>r(),t}function E2(r=32){if(Qg&&"function"==typeof Qg.getRandomValues)return Qg.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}class x2 extends Y6{constructor(t,n,i,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=i,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Xw(this.buffer)}update(t){qg(this);const{view:n,buffer:i,blockLen:o}=this,c=(t=tv(t)).length;for(let s=0;s<c;){const d=Math.min(o-this.pos,c-s);if(d!==o)i.set(t.subarray(s,s+d),this.pos),this.pos+=d,s+=d,this.pos===o&&(this.process(n,0),this.pos=0);else{const B=Xw(t);for(;o<=c-s;s+=o)this.process(B,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){qg(this),function z6(r,t){$A(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,view:i,blockLen:o,isLE:c}=this;let{pos:s}=this;n[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(i,0),s=0);for(let K=s;K<o;K++)n[K]=0;(function YO(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const o=BigInt(32),c=BigInt(4294967295),s=Number(n>>o&c),d=Number(n&c),C=i?0:4;r.setUint32(t+(i?4:0),s,i),r.setUint32(t+C,d,i)})(i,o-8,BigInt(8*this.length),c),this.process(i,0);const d=Xw(t),B=this.outputLen;if(B%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const C=B/4,b=this.get();if(C>b.length)throw new Error("_sha2: outputLen bigger than state");for(let K=0;K<C;K++)d.setUint32(4*K,b[K],c)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:i,length:o,finished:c,destroyed:s,pos:d}=this;return t.length=o,t.pos=d,t.finished=c,t.destroyed=s,o%n&&t.buffer.set(i),t}}const JO=(r,t,n)=>r&t^~r&n,zA=(r,t,n)=>r&t^r&n^t&n,qO=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_p=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_h=new Uint32Array(64);class HA extends x2{constructor(){super(64,32,8,!1),this.A=0|_p[0],this.B=0|_p[1],this.C=0|_p[2],this.D=0|_p[3],this.E=0|_p[4],this.F=0|_p[5],this.G=0|_p[6],this.H=0|_p[7]}get(){const{A:t,B:n,C:i,D:o,E:c,F:s,G:d,H:B}=this;return[t,n,i,o,c,s,d,B]}set(t,n,i,o,c,s,d,B){this.A=0|t,this.B=0|n,this.C=0|i,this.D=0|o,this.E=0|c,this.F=0|s,this.G=0|d,this.H=0|B}process(t,n){for(let K=0;K<16;K++,n+=4)_h[K]=t.getUint32(n,!1);for(let K=16;K<64;K++){const _e=_h[K-15],Ce=_h[K-2],Te=Mu(_e,7)^Mu(_e,18)^_e>>>3,Pe=Mu(Ce,17)^Mu(Ce,19)^Ce>>>10;_h[K]=Pe+_h[K-7]+Te+_h[K-16]|0}let{A:i,B:o,C:c,D:s,E:d,F:B,G:C,H:b}=this;for(let K=0;K<64;K++){const Ce=b+(Mu(d,6)^Mu(d,11)^Mu(d,25))+JO(d,B,C)+qO[K]+_h[K]|0,Pe=(Mu(i,2)^Mu(i,13)^Mu(i,22))+zA(i,o,c)|0;b=C,C=B,B=d,d=s+Ce|0,s=c,c=o,o=i,i=Ce+Pe|0}i=i+this.A|0,o=o+this.B|0,c=c+this.C|0,s=s+this.D|0,d=d+this.E|0,B=B+this.F|0,C=C+this.G|0,b=b+this.H|0,this.set(i,o,c,s,d,B,C,b)}roundClean(){_h.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Df=ZO(()=>new HA);class Jw{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return Df(t)})}}class WA{}BigInt(0);const nv=BigInt(1),q6=BigInt(2);function bl(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}const Q6=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function G0(r){if(!bl(r))throw new Error("Uint8Array expected");let t="";for(let n=0;n<r.length;n++)t+=Q6[r[n]];return t}function GA(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);return BigInt(""===r?"0":`0x${r}`)}const Ep={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function S2(r){return r>=Ep._0&&r<=Ep._9?r-Ep._0:r>=Ep._A&&r<=Ep._F?r-(Ep._A-10):r>=Ep._a&&r<=Ep._f?r-(Ep._a-10):void 0}function qw(r){if("string"!=typeof r)throw new Error("hex string expected, got "+typeof r);const t=r.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const i=new Uint8Array(n);for(let o=0,c=0;o<n;o++,c+=2){const s=S2(r.charCodeAt(c)),d=S2(r.charCodeAt(c+1));if(void 0===s||void 0===d)throw new Error('hex string expected, got non-hex character "'+(r[c]+r[c+1])+'" at index '+c);i[o]=16*s+d}return i}function Z0(r){return GA(G0(r))}function xp(r){if(!bl(r))throw new Error("Uint8Array expected");return GA(G0(Uint8Array.from(r).reverse()))}function Sp(r,t){return qw(r.toString(16).padStart(2*t,"0"))}function Qw(r,t){return Sp(r,t).reverse()}function Za(r,t,n){let i;if("string"==typeof t)try{i=qw(t)}catch(c){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${c}`)}else{if(!bl(t))throw new Error(`${r} must be hex string or Uint8Array`);i=Uint8Array.from(t)}const o=i.length;if("number"==typeof n&&o!==n)throw new Error(`${r} expected ${n} bytes, got ${o}`);return i}function rv(...r){let t=0;for(let o=0;o<r.length;o++){const c=r[o];if(!bl(c))throw new Error("Uint8Array expected");t+=c.length}let n=new Uint8Array(t),i=0;for(let o=0;o<r.length;o++){const c=r[o];n.set(c,i),i+=c.length}return n}const ZA=r=>(q6<<BigInt(r-1))-nv,e5=r=>new Uint8Array(r),n4=r=>Uint8Array.from(r);function r4(r,t,n){if("number"!=typeof r||r<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let i=e5(r),o=e5(r),c=0;const s=()=>{i.fill(1),o.fill(0),c=0},d=(...K)=>n(o,i,...K),B=(K=e5())=>{o=d(n4([0]),K),i=d(),0!==K.length&&(o=d(n4([1]),K),i=d())},C=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let K=0;const _e=[];for(;K<t;){i=d();const Ce=i.slice();_e.push(Ce),K+=i.length}return rv(..._e)};return(K,_e)=>{let Ce;for(s(),B(K);!(Ce=_e(C()));)B();return s(),Ce}}const m7={bigint:r=>"bigint"==typeof r,function:r=>"function"==typeof r,boolean:r=>"boolean"==typeof r,string:r=>"string"==typeof r,stringOrUint8Array:r=>"string"==typeof r||bl(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>"function"==typeof r&&Number.isSafeInteger(r.outputLen)};function iv(r,t,n={}){const i=(o,c,s)=>{const d=m7[c];if("function"!=typeof d)throw new Error(`Invalid validator "${c}", expected function`);const B=r[o];if(!(s&&void 0===B||d(B,r)))throw new Error(`Invalid param ${String(o)}=${B} (${typeof B}), expected ${c}`)};for(const[o,c]of Object.entries(t))i(o,c,!1);for(const[o,c]of Object.entries(n))i(o,c,!0);return r}const yc=BigInt(0),as=BigInt(1),Cm=BigInt(2),i4=BigInt(3),M2=BigInt(4),km=BigInt(5),XA=BigInt(8);function ks(r,t){const n=r%t;return n>=yc?n:t+n}function A2(r,t,n){if(n<=yc||t<yc)throw new Error("Expected power/modulo > 0");if(n===as)return yc;let i=as;for(;t>yc;)t&as&&(i=i*r%n),r=r*r%n,t>>=as;return i}function Xs(r,t,n){let i=r;for(;t-- >yc;)i*=i,i%=n;return i}function X0(r,t){if(r===yc||t<=yc)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let n=ks(r,t),i=t,o=yc,c=as,s=as,d=yc;for(;n!==yc;){const C=i/n,b=i%n,K=o-s*C,_e=c-d*C;i=n,n=b,o=s,c=d,s=K,d=_e}if(i!==as)throw new Error("invert: does not exist");return ks(o,t)}BigInt(9),BigInt(16);const t5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function T2(r,t){const n=void 0!==t?t:r.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function I2(r,t,n=!1,i={}){if(r<=yc)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:o,nByteLength:c}=T2(r,t);if(c>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function g7(r){if(r%M2===i4){const t=(r+as)/M2;return function(i,o){const c=i.pow(o,t);if(!i.eql(i.sqr(c),o))throw new Error("Cannot find square root");return c}}if(r%XA===km){const t=(r-km)/XA;return function(i,o){const c=i.mul(o,Cm),s=i.pow(c,t),d=i.mul(o,s),B=i.mul(i.mul(d,Cm),s),C=i.mul(d,i.sub(B,i.ONE));if(!i.eql(i.sqr(C),o))throw new Error("Cannot find square root");return C}}return function y7(r){const t=(r-as)/Cm;let n,i,o;for(n=r-as,i=0;n%Cm===yc;n/=Cm,i++);for(o=Cm;o<r&&A2(o,t,r)!==r-as;o++);if(1===i){const s=(r+as)/M2;return function(B,C){const b=B.pow(C,s);if(!B.eql(B.sqr(b),C))throw new Error("Cannot find square root");return b}}const c=(n+as)/Cm;return function(d,B){if(d.pow(B,t)===d.neg(d.ONE))throw new Error("Cannot find square root");let C=i,b=d.pow(d.mul(d.ONE,o),n),K=d.pow(B,c),_e=d.pow(B,n);for(;!d.eql(_e,d.ONE);){if(d.eql(_e,d.ZERO))return d.ZERO;let Ce=1;for(let Pe=d.sqr(_e);Ce<C&&!d.eql(Pe,d.ONE);Ce++)Pe=d.sqr(Pe);const Te=d.pow(b,as<<BigInt(C-Ce-1));b=d.sqr(Te),K=d.mul(K,Te),_e=d.mul(_e,b),C=Ce}return K}}(r)}(r),d=Object.freeze({ORDER:r,BITS:o,BYTES:c,MASK:ZA(o),ZERO:yc,ONE:as,create:B=>ks(B,r),isValid:B=>{if("bigint"!=typeof B)throw new Error("Invalid field element: expected bigint, got "+typeof B);return yc<=B&&B<r},is0:B=>B===yc,isOdd:B=>(B&as)===as,neg:B=>ks(-B,r),eql:(B,C)=>B===C,sqr:B=>ks(B*B,r),add:(B,C)=>ks(B+C,r),sub:(B,C)=>ks(B-C,r),mul:(B,C)=>ks(B*C,r),pow:(B,C)=>function s4(r,t,n){if(n<yc)throw new Error("Expected power > 0");if(n===yc)return r.ONE;if(n===as)return t;let i=r.ONE,o=t;for(;n>yc;)n&as&&(i=r.mul(i,o)),o=r.sqr(o),n>>=as;return i}(d,B,C),div:(B,C)=>ks(B*X0(C,r),r),sqrN:B=>B*B,addN:(B,C)=>B+C,subN:(B,C)=>B-C,mulN:(B,C)=>B*C,inv:B=>X0(B,r),sqrt:i.sqrt||(B=>s(d,B)),invertBatch:B=>function a4(r,t){const n=new Array(t.length),i=t.reduce((c,s,d)=>r.is0(s)?c:(n[d]=c,r.mul(c,s)),r.ONE),o=r.inv(i);return t.reduceRight((c,s,d)=>r.is0(s)?c:(n[d]=r.mul(c,n[d]),r.mul(c,s)),o),n}(d,B),cmov:(B,C,b)=>b?C:B,toBytes:B=>n?Qw(B,c):Sp(B,c),fromBytes:B=>{if(B.length!==c)throw new Error(`Fp.fromBytes: expected ${c}, got ${B.length}`);return n?xp(B):Z0(B)}});return Object.freeze(d)}function D2(r){if("bigint"!=typeof r)throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function u4(r){const t=D2(r);return t+Math.ceil(t/2)}class C2 extends Y6{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,function VA(r){if("function"!=typeof r||"function"!=typeof r.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");KA(r.outputLen),KA(r.blockLen)}(t);const i=tv(n);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,c=new Uint8Array(o);c.set(i.length>o?t.create().update(i).digest():i);for(let s=0;s<c.length;s++)c[s]^=54;this.iHash.update(c),this.oHash=t.create();for(let s=0;s<c.length;s++)c[s]^=106;this.oHash.update(c),c.fill(0)}update(t){return qg(this),this.iHash.update(t),this}digestInto(t){qg(this),$A(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:i,finished:o,destroyed:c,blockLen:s,outputLen:d}=this;return t.finished=o,t.destroyed=c,t.blockLen=s,t.outputLen=d,t.oHash=n._cloneInto(t.oHash),t.iHash=i._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const r5=(r,t,n)=>new C2(r,t).update(n).digest();r5.create=(r,t)=>new C2(r,t);const f4=BigInt(0),i5=BigInt(1);function h4(r,t){const n=(o,c)=>{const s=c.negate();return o?s:c},i=o=>({windows:Math.ceil(t/o)+1,windowSize:2**(o-1)});return{constTimeNegate:n,unsafeLadder(o,c){let s=r.ZERO,d=o;for(;c>f4;)c&i5&&(s=s.add(d)),d=d.double(),c>>=i5;return s},precomputeWindow(o,c){const{windows:s,windowSize:d}=i(c),B=[];let C=o,b=C;for(let K=0;K<s;K++){b=C,B.push(b);for(let _e=1;_e<d;_e++)b=b.add(C),B.push(b);C=b.double()}return B},wNAF(o,c,s){const{windows:d,windowSize:B}=i(o);let C=r.ZERO,b=r.BASE;const K=BigInt(2**o-1),_e=2**o,Ce=BigInt(o);for(let Te=0;Te<d;Te++){const Pe=Te*B;let ze=Number(s&K);s>>=Ce,ze>B&&(ze-=_e,s+=i5);const rt=Pe,Xe=Pe+Math.abs(ze)-1,lt=ze<0;0===ze?b=b.add(n(Te%2!=0,c[rt])):C=C.add(n(lt,c[Xe]))}return{p:C,f:b}},wNAFCached(o,c,s,d){const B=o._WINDOW_SIZE||1;let C=c.get(o);return C||(C=this.precomputeWindow(o,B),1!==B&&c.set(o,d(C))),this.wNAF(B,C,s)}}}function o5(r){return function o4(r){iv(r,t5.reduce((i,o)=>(i[o]="function",i),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}(r.Fp),iv(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...T2(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const{Ph:E7,aT:Pc}=j,Cf={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=Cf;if(r.length<2||2!==r[0])throw new t("Invalid signature integer tag");const n=r[1],i=r.subarray(2,n+2);if(!n||i.length!==n)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:E7(i),l:r.subarray(n+2)}},toSig(r){const{Err:t}=Cf,n="string"==typeof r?Pc(r):r;if(!bl(n))throw new Error("ui8a expected");let i=n.length;if(i<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==i-2)throw new t("Invalid signature: incorrect length");const{d:o,l:c}=Cf._parseInt(n.subarray(2)),{d:s,l:d}=Cf._parseInt(c);if(d.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(r){const t=C=>8&Number.parseInt(C[0],16)?"00"+C:C,n=C=>{const b=C.toString(16);return 1&b.length?`0${b}`:b},i=t(n(r.s)),o=t(n(r.r)),c=i.length/2,s=o.length/2,d=n(c),B=n(s);return`30${n(s+c+4)}02${B}${o}02${d}${i}`}},Xd=BigInt(0),Ys=BigInt(1),qA=(BigInt(2),BigInt(3));function QA(r){const t=function S7(r){const t=o5(r);return iv(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(r),{Fp:n,n:i}=t,o=n.BYTES+1,c=2*n.BYTES+1;function d(Wt){return ks(Wt,i)}function B(Wt){return X0(Wt,i)}const{ProjectivePoint:C,normPrivateKeyToScalar:b,weierstrassEquation:K,isWithinCurveOrder:_e}=function x7(r){const t=function _7(r){const t=o5(r);iv(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:i,a:o}=t;if(n){if(!i.eql(o,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(r),{Fp:n}=t,i=t.toBytes||((Te,Pe,ze)=>{const rt=Pe.toAffine();return rv(Uint8Array.from([4]),n.toBytes(rt.x),n.toBytes(rt.y))}),o=t.fromBytes||(Te=>{const Pe=Te.subarray(1);return{x:n.fromBytes(Pe.subarray(0,n.BYTES)),y:n.fromBytes(Pe.subarray(n.BYTES,2*n.BYTES))}});function c(Te){const{a:Pe,b:ze}=t,rt=n.sqr(Te),Xe=n.mul(rt,Te);return n.add(n.add(Xe,n.mul(Te,Pe)),ze)}if(!n.eql(n.sqr(t.Gy),c(t.Gx)))throw new Error("bad generator point: equation left != right");function s(Te){return"bigint"==typeof Te&&Xd<Te&&Te<t.n}function d(Te){if(!s(Te))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function B(Te){const{allowedPrivateKeyLengths:Pe,nByteLength:ze,wrapPrivateKey:rt,n:Xe}=t;if(Pe&&"bigint"!=typeof Te){if(bl(Te)&&(Te=G0(Te)),"string"!=typeof Te||!Pe.includes(Te.length))throw new Error("Invalid key");Te=Te.padStart(2*ze,"0")}let Ze;try{Ze="bigint"==typeof Te?Te:Z0(Za("private key",Te,ze))}catch{throw new Error(`private key must be ${ze} bytes, hex or bigint, not ${typeof Te}`)}return rt&&(Ze=ks(Ze,Xe)),d(Ze),Ze}const C=new Map;function b(Te){if(!(Te instanceof K))throw new Error("ProjectivePoint expected")}class K{constructor(Pe,ze,rt){if(this.px=Pe,this.py=ze,this.pz=rt,null==Pe||!n.isValid(Pe))throw new Error("x required");if(null==ze||!n.isValid(ze))throw new Error("y required");if(null==rt||!n.isValid(rt))throw new Error("z required")}static fromAffine(Pe){const{x:ze,y:rt}=Pe||{};if(!Pe||!n.isValid(ze)||!n.isValid(rt))throw new Error("invalid affine point");if(Pe instanceof K)throw new Error("projective point not allowed");const Xe=Ze=>n.eql(Ze,n.ZERO);return Xe(ze)&&Xe(rt)?K.ZERO:new K(ze,rt,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Pe){const ze=n.invertBatch(Pe.map(rt=>rt.pz));return Pe.map((rt,Xe)=>rt.toAffine(ze[Xe])).map(K.fromAffine)}static fromHex(Pe){const ze=K.fromAffine(o(Za("pointHex",Pe)));return ze.assertValidity(),ze}static fromPrivateKey(Pe){return K.BASE.multiply(B(Pe))}_setWindowSize(Pe){this._WINDOW_SIZE=Pe,C.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Pe,y:ze}=this.toAffine();if(!n.isValid(Pe)||!n.isValid(ze))throw new Error("bad point: x or y not FE");const rt=n.sqr(ze),Xe=c(Pe);if(!n.eql(rt,Xe))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Pe}=this.toAffine();if(n.isOdd)return!n.isOdd(Pe);throw new Error("Field doesn't support isOdd")}equals(Pe){b(Pe);const{px:ze,py:rt,pz:Xe}=this,{px:Ze,py:lt,pz:Et}=Pe,pt=n.eql(n.mul(ze,Et),n.mul(Ze,Xe)),Mt=n.eql(n.mul(rt,Et),n.mul(lt,Xe));return pt&&Mt}negate(){return new K(this.px,n.neg(this.py),this.pz)}double(){const{a:Pe,b:ze}=t,rt=n.mul(ze,qA),{px:Xe,py:Ze,pz:lt}=this;let Et=n.ZERO,pt=n.ZERO,Mt=n.ZERO,Pt=n.mul(Xe,Xe),sn=n.mul(Ze,Ze),an=n.mul(lt,lt),_n=n.mul(Xe,Ze);return _n=n.add(_n,_n),Mt=n.mul(Xe,lt),Mt=n.add(Mt,Mt),Et=n.mul(Pe,Mt),pt=n.mul(rt,an),pt=n.add(Et,pt),Et=n.sub(sn,pt),pt=n.add(sn,pt),pt=n.mul(Et,pt),Et=n.mul(_n,Et),Mt=n.mul(rt,Mt),an=n.mul(Pe,an),_n=n.sub(Pt,an),_n=n.mul(Pe,_n),_n=n.add(_n,Mt),Mt=n.add(Pt,Pt),Pt=n.add(Mt,Pt),Pt=n.add(Pt,an),Pt=n.mul(Pt,_n),pt=n.add(pt,Pt),an=n.mul(Ze,lt),an=n.add(an,an),Pt=n.mul(an,_n),Et=n.sub(Et,Pt),Mt=n.mul(an,sn),Mt=n.add(Mt,Mt),Mt=n.add(Mt,Mt),new K(Et,pt,Mt)}add(Pe){b(Pe);const{px:ze,py:rt,pz:Xe}=this,{px:Ze,py:lt,pz:Et}=Pe;let pt=n.ZERO,Mt=n.ZERO,Pt=n.ZERO;const sn=t.a,an=n.mul(t.b,qA);let _n=n.mul(ze,Ze),$n=n.mul(rt,lt),wn=n.mul(Xe,Et),Cn=n.add(ze,rt),Wt=n.add(Ze,lt);Cn=n.mul(Cn,Wt),Wt=n.add(_n,$n),Cn=n.sub(Cn,Wt),Wt=n.add(ze,Xe);let nn=n.add(Ze,Et);return Wt=n.mul(Wt,nn),nn=n.add(_n,wn),Wt=n.sub(Wt,nn),nn=n.add(rt,Xe),pt=n.add(lt,Et),nn=n.mul(nn,pt),pt=n.add($n,wn),nn=n.sub(nn,pt),Pt=n.mul(sn,Wt),pt=n.mul(an,wn),Pt=n.add(pt,Pt),pt=n.sub($n,Pt),Pt=n.add($n,Pt),Mt=n.mul(pt,Pt),$n=n.add(_n,_n),$n=n.add($n,_n),wn=n.mul(sn,wn),Wt=n.mul(an,Wt),$n=n.add($n,wn),wn=n.sub(_n,wn),wn=n.mul(sn,wn),Wt=n.add(Wt,wn),_n=n.mul($n,Wt),Mt=n.add(Mt,_n),_n=n.mul(nn,Wt),pt=n.mul(Cn,pt),pt=n.sub(pt,_n),_n=n.mul(Cn,$n),Pt=n.mul(nn,Pt),Pt=n.add(Pt,_n),new K(pt,Mt,Pt)}subtract(Pe){return this.add(Pe.negate())}is0(){return this.equals(K.ZERO)}wNAF(Pe){return Ce.wNAFCached(this,C,Pe,ze=>{const rt=n.invertBatch(ze.map(Xe=>Xe.pz));return ze.map((Xe,Ze)=>Xe.toAffine(rt[Ze])).map(K.fromAffine)})}multiplyUnsafe(Pe){const ze=K.ZERO;if(Pe===Xd)return ze;if(d(Pe),Pe===Ys)return this;const{endo:rt}=t;if(!rt)return Ce.unsafeLadder(this,Pe);let{k1neg:Xe,k1:Ze,k2neg:lt,k2:Et}=rt.splitScalar(Pe),pt=ze,Mt=ze,Pt=this;for(;Ze>Xd||Et>Xd;)Ze&Ys&&(pt=pt.add(Pt)),Et&Ys&&(Mt=Mt.add(Pt)),Pt=Pt.double(),Ze>>=Ys,Et>>=Ys;return Xe&&(pt=pt.negate()),lt&&(Mt=Mt.negate()),Mt=new K(n.mul(Mt.px,rt.beta),Mt.py,Mt.pz),pt.add(Mt)}multiply(Pe){d(Pe);let rt,Xe,ze=Pe;const{endo:Ze}=t;if(Ze){const{k1neg:lt,k1:Et,k2neg:pt,k2:Mt}=Ze.splitScalar(ze);let{p:Pt,f:sn}=this.wNAF(Et),{p:an,f:_n}=this.wNAF(Mt);Pt=Ce.constTimeNegate(lt,Pt),an=Ce.constTimeNegate(pt,an),an=new K(n.mul(an.px,Ze.beta),an.py,an.pz),rt=Pt.add(an),Xe=sn.add(_n)}else{const{p:lt,f:Et}=this.wNAF(ze);rt=lt,Xe=Et}return K.normalizeZ([rt,Xe])[0]}multiplyAndAddUnsafe(Pe,ze,rt){const Xe=K.BASE,Ze=(Et,pt)=>pt!==Xd&&pt!==Ys&&Et.equals(Xe)?Et.multiply(pt):Et.multiplyUnsafe(pt),lt=Ze(this,ze).add(Ze(Pe,rt));return lt.is0()?void 0:lt}toAffine(Pe){const{px:ze,py:rt,pz:Xe}=this,Ze=this.is0();null==Pe&&(Pe=Ze?n.ONE:n.inv(Xe));const lt=n.mul(ze,Pe),Et=n.mul(rt,Pe),pt=n.mul(Xe,Pe);if(Ze)return{x:n.ZERO,y:n.ZERO};if(!n.eql(pt,n.ONE))throw new Error("invZ was invalid");return{x:lt,y:Et}}isTorsionFree(){const{h:Pe,isTorsionFree:ze}=t;if(Pe===Ys)return!0;if(ze)return ze(K,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Pe,clearCofactor:ze}=t;return Pe===Ys?this:ze?ze(K,this):this.multiplyUnsafe(t.h)}toRawBytes(Pe=!0){return this.assertValidity(),i(K,this,Pe)}toHex(Pe=!0){return G0(this.toRawBytes(Pe))}}K.BASE=new K(t.Gx,t.Gy,n.ONE),K.ZERO=new K(n.ZERO,n.ONE,n.ZERO);const _e=t.nBitLength,Ce=h4(K,t.endo?Math.ceil(_e/2):_e);return{CURVE:t,ProjectivePoint:K,normPrivateKeyToScalar:B,weierstrassEquation:c,isWithinCurveOrder:s}}({...t,toBytes(Wt,nn,rn){const Sn=nn.toAffine(),un=n.toBytes(Sn.x),In=rv;return rn?In(Uint8Array.from([nn.hasEvenY()?2:3]),un):In(Uint8Array.from([4]),un,n.toBytes(Sn.y))},fromBytes(Wt){const nn=Wt.length,rn=Wt[0],Sn=Wt.subarray(1);if(nn!==o||2!==rn&&3!==rn){if(nn===c&&4===rn)return{x:n.fromBytes(Sn.subarray(0,n.BYTES)),y:n.fromBytes(Sn.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${nn} was invalid. Expected ${o} compressed bytes or ${c} uncompressed bytes`)}{const un=Z0(Sn);if(!function s(Wt){return Xd<Wt&&Wt<n.ORDER}(un))throw new Error("Point is not on curve");const In=K(un);let Gn=n.sqrt(In);return!(1&~rn)!=((Gn&Ys)===Ys)&&(Gn=n.neg(Gn)),{x:un,y:Gn}}}}),Ce=Wt=>G0(Sp(Wt,t.nByteLength));function Te(Wt){return Wt>i>>Ys}const ze=(Wt,nn,rn)=>Z0(Wt.slice(nn,rn));class rt{constructor(nn,rn,Sn){this.r=nn,this.s=rn,this.recovery=Sn,this.assertValidity()}static fromCompact(nn){const rn=t.nByteLength;return nn=Za("compactSignature",nn,2*rn),new rt(ze(nn,0,rn),ze(nn,rn,2*rn))}static fromDER(nn){const{r:rn,s:Sn}=Cf.toSig(Za("DER",nn));return new rt(rn,Sn)}assertValidity(){if(!_e(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!_e(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(nn){return new rt(this.r,this.s,nn)}recoverPublicKey(nn){const{r:rn,s:Sn,recovery:un}=this,In=Mt(Za("msgHash",nn));if(null==un||![0,1,2,3].includes(un))throw new Error("recovery id invalid");const Gn=2===un||3===un?rn+t.n:rn;if(Gn>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Qt=C.fromHex((1&un?"03":"02")+Ce(Gn)),Yn=B(Gn),dr=d(-In*Yn),Nn=d(Sn*Yn),En=C.BASE.multiplyAndAddUnsafe(Qt,dr,Nn);if(!En)throw new Error("point at infinify");return En.assertValidity(),En}hasHighS(){return Te(this.s)}normalizeS(){return this.hasHighS()?new rt(this.r,d(-this.s),this.recovery):this}toDERRawBytes(){return qw(this.toDERHex())}toDERHex(){return Cf.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return qw(this.toCompactHex())}toCompactHex(){return Ce(this.r)+Ce(this.s)}}const Xe={isValidPrivateKey(Wt){try{return b(Wt),!0}catch{return!1}},normPrivateKeyToScalar:b,randomPrivateKey:()=>{const Wt=u4(t.n);return function n5(r,t,n=!1){const i=r.length,o=D2(t),c=u4(t);if(i<16||i<c||i>1024)throw new Error(`expected ${c}-1024 bytes of input, got ${i}`);const d=ks(n?Z0(r):xp(r),t-as)+as;return n?Qw(d,o):Sp(d,o)}(t.randomBytes(Wt),t.n)},precompute:(Wt=8,nn=C.BASE)=>(nn._setWindowSize(Wt),nn.multiply(BigInt(3)),nn)};function lt(Wt){const nn=bl(Wt),rn="string"==typeof Wt,Sn=(nn||rn)&&Wt.length;return nn?Sn===o||Sn===c:rn?Sn===2*o||Sn===2*c:Wt instanceof C}const pt=t.bits2int||function(Wt){const nn=Z0(Wt),rn=8*Wt.length-t.nBitLength;return rn>0?nn>>BigInt(rn):nn},Mt=t.bits2int_modN||function(Wt){return d(pt(Wt))},Pt=ZA(t.nBitLength);function sn(Wt){if("bigint"!=typeof Wt)throw new Error("bigint expected");if(!(Xd<=Wt&&Wt<Pt))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Sp(Wt,t.nByteLength)}const _n={lowS:t.lowS,prehash:!1},$n={lowS:t.lowS,prehash:!1};return C.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function Ze(Wt,nn=!0){return C.fromPrivateKey(Wt).toRawBytes(nn)},getSharedSecret:function Et(Wt,nn,rn=!0){if(lt(Wt))throw new Error("first arg must be private key");if(!lt(nn))throw new Error("second arg must be public key");return C.fromHex(nn).multiply(b(Wt)).toRawBytes(rn)},sign:function wn(Wt,nn,rn=_n){const{seed:Sn,k2sig:un}=function an(Wt,nn,rn=_n){if(["recovered","canonical"].some(rr=>rr in rn))throw new Error("sign() legacy options not supported");const{hash:Sn,randomBytes:un}=t;let{lowS:In,prehash:Gn,extraEntropy:Wn}=rn;null==In&&(In=!0),Wt=Za("msgHash",Wt),Gn&&(Wt=Za("prehashed msgHash",Sn(Wt)));const Qt=Mt(Wt),Yn=b(nn),dr=[sn(Yn),sn(Qt)];if(null!=Wn){const rr=!0===Wn?un(n.BYTES):Wn;dr.push(Za("extraEntropy",rr))}const Nn=rv(...dr),En=Qt;return{seed:Nn,k2sig:function jn(rr){const gr=pt(rr);if(!_e(gr))return;const Er=B(gr),fr=C.BASE.multiply(gr).toAffine(),hr=d(fr.x);if(hr===Xd)return;const Hr=d(Er*d(En+hr*Yn));if(Hr===Xd)return;let Ms=(fr.x===hr?0:2)|Number(fr.y&Ys),ir=Hr;return In&&Te(Hr)&&(ir=function Pe(Wt){return Te(Wt)?d(-Wt):Wt}(Hr),Ms^=1),new rt(hr,ir,Ms)}}}(Wt,nn,rn);return r4(t.hash.outputLen,t.nByteLength,t.hmac)(Sn,un)},verify:function Cn(Wt,nn,rn,Sn=$n){const un=Wt;if(nn=Za("msgHash",nn),rn=Za("publicKey",rn),"strict"in Sn)throw new Error("options.strict was renamed to lowS");const{lowS:In,prehash:Gn}=Sn;let Wn,Qt;try{if("string"==typeof un||bl(un))try{Wn=rt.fromDER(un)}catch(fr){if(!(fr instanceof Cf.Err))throw fr;Wn=rt.fromCompact(un)}else{if("object"!=typeof un||"bigint"!=typeof un.r||"bigint"!=typeof un.s)throw new Error("PARSE");{const{r:fr,s:hr}=un;Wn=new rt(fr,hr)}}Qt=C.fromHex(rn)}catch(fr){if("PARSE"===fr.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(In&&Wn.hasHighS())return!1;Gn&&(nn=t.hash(nn));const{r:Yn,s:dr}=Wn,Nn=Mt(nn),En=B(dr),jn=d(Nn*En),rr=d(Yn*En),gr=C.BASE.multiplyAndAddUnsafe(Qt,jn,rr)?.toAffine();return!!gr&&d(gr.x)===Yn},ProjectivePoint:C,Signature:rt,utils:Xe}}function a5(r){return{hash:r,hmac:(t,...n)=>r5(r,t,X6(...n)),randomBytes:E2}}function eT(r,t){const n=i=>QA({...r,...a5(i)});return Object.freeze({...n(t),create:n})}BigInt(4);const e_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),k2=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),c5=BigInt(1),t_=BigInt(2),l5=(r,t)=>(r+t/t_)/t;const ov=I2(e_,void 0,void 0,{sqrt:function tT(r){const t=e_,n=BigInt(3),i=BigInt(6),o=BigInt(11),c=BigInt(22),s=BigInt(23),d=BigInt(44),B=BigInt(88),C=r*r*r%t,b=C*C*r%t,K=Xs(b,n,t)*b%t,_e=Xs(K,n,t)*b%t,Ce=Xs(_e,t_,t)*C%t,Te=Xs(Ce,o,t)*Ce%t,Pe=Xs(Te,c,t)*Te%t,ze=Xs(Pe,d,t)*Pe%t,rt=Xs(ze,B,t)*ze%t,Xe=Xs(rt,d,t)*Pe%t,Ze=Xs(Xe,n,t)*b%t,lt=Xs(Ze,s,t)*Te%t,Et=Xs(lt,i,t)*C%t,pt=Xs(Et,t_,t);if(!ov.eql(ov.sqr(pt),r))throw new Error("Cannot find square root");return pt}}),Xc=eT({a:BigInt(0),b:BigInt(7),Fp:ov,n:k2,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=k2,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-c5*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),c=n,s=BigInt("0x100000000000000000000000000000000"),d=l5(c*r,t),B=l5(-i*r,t);let C=ks(r-d*n-B*o,t),b=ks(-d*i-B*c,t);const K=C>s,_e=b>s;if(K&&(C=t-C),_e&&(b=t-b),C>s||b>s)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:K,k1:C,k2neg:_e,k2:b}}}},Df);BigInt(0);const p5="urn:jwk:";function hs({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}W0(n);const i=function _4(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const o=Object.keys(i).sort(),c={};for(const s of o)c[s]=t(i[s]);return c}return i},n=t(r);return JSON.stringify(n)}(n),o=mn.string(i).toUint8Array(),c=yield Jw.digest({data:o});return mn.uint8Array(c).toBase64Url()})}function sv(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function oT(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function J0(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function B2(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var Yc=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Js{static adjustSignatureToLowS({signature:t}){return Yc(this,void 0,void 0,function*(){const n=Xc.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Yc(this,void 0,void 0,function*(){const n=yield Js.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield hs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Yc(this,void 0,void 0,function*(){const n=yield Js.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield hs({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Yc(this,void 0,void 0,function*(){return Xc.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Yc(this,void 0,void 0,function*(){const n=yield Js.privateKeyToBytes({privateKey:t}),i=yield Js.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"secp256k1",x:mn.uint8Array(i.x).toBase64Url(),y:mn.uint8Array(i.y).toBase64Url()};return o.kid=yield hs({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Yc(this,void 0,void 0,function*(){return Xc.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Yc(this,void 0,void 0,function*(){return Xc.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Yc(this,void 0,void 0,function*(){const t=Xc.utils.randomPrivateKey(),n=yield Js.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield hs({jwk:n}),n})}static getPublicKey({key:t}){var n;return Yc(this,void 0,void 0,function*(){if(!sv(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield hs({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Yc(this,void 0,void 0,function*(){if(!sv(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Yc(this,void 0,void 0,function*(){if(!oT(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=mn.base64Url(t.x).toUint8Array(),o=mn.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Yc(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Js.privateKeyToBytes({privateKey:t}),o=yield Js.publicKeyToBytes({publicKey:n});return Xc.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Yc(this,void 0,void 0,function*(){const i=yield Js.privateKeyToBytes({privateKey:n}),o=Df(t);return Xc.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Yc(this,void 0,void 0,function*(){return Xc.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Yc(this,void 0,void 0,function*(){try{Xc.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Yc(this,void 0,void 0,function*(){const o=yield Js.publicKeyToBytes({publicKey:t}),c=Df(i);return Xc.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Yc(this,void 0,void 0,function*(){32===t.byteLength&&(t=Xc.getPublicKey(t));const n=Xc.ProjectivePoint.fromHex(t);return{x:Sp(n.x,32),y:Sp(n.y,32)}})}}const sT=I2(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),tf=eT({a:sT.create(BigInt("-3")),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Fp:sT,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Df);var wl=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Ea{static adjustSignatureToLowS({signature:t}){return wl(this,void 0,void 0,function*(){const n=tf.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return wl(this,void 0,void 0,function*(){const n=yield Ea.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield hs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return wl(this,void 0,void 0,function*(){const n=yield Ea.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield hs({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return wl(this,void 0,void 0,function*(){return tf.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return wl(this,void 0,void 0,function*(){const n=yield Ea.privateKeyToBytes({privateKey:t}),i=yield Ea.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"P-256",x:mn.uint8Array(i.x).toBase64Url(),y:mn.uint8Array(i.y).toBase64Url()};return o.kid=yield hs({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return wl(this,void 0,void 0,function*(){return tf.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return wl(this,void 0,void 0,function*(){return tf.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return wl(this,void 0,void 0,function*(){const t=tf.utils.randomPrivateKey(),n=yield Ea.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield hs({jwk:n}),n})}static getPublicKey({key:t}){var n;return wl(this,void 0,void 0,function*(){if(!sv(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield hs({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return wl(this,void 0,void 0,function*(){if(!sv(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return wl(this,void 0,void 0,function*(){if(!oT(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=mn.base64Url(t.x).toUint8Array(),o=mn.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return wl(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Ea.privateKeyToBytes({privateKey:t}),o=yield Ea.publicKeyToBytes({publicKey:n});return tf.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return wl(this,void 0,void 0,function*(){const i=yield Ea.privateKeyToBytes({privateKey:n}),o=Df(t);return tf.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return wl(this,void 0,void 0,function*(){return tf.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return wl(this,void 0,void 0,function*(){try{tf.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return wl(this,void 0,void 0,function*(){const o=yield Ea.publicKeyToBytes({publicKey:t}),c=Df(i);return tf.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return wl(this,void 0,void 0,function*(){32===t.byteLength&&(t=tf.getPublicKey(t));const n=tf.ProjectivePoint.fromHex(t);return{x:Sp(n.x,32),y:Sp(n.y,32)}})}}var av=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class y5 extends WA{computePublicKey({key:t}){return av(this,void 0,void 0,function*(){if(!sv(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Js.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Ea.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return av(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield Js.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield Ea.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return av(this,void 0,void 0,function*(){if(!sv(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Js.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Ea.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return av(this,void 0,void 0,function*(){if(!sv(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield Js.sign({key:t,data:n});case"P-256":return yield Ea.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return av(this,void 0,void 0,function*(){if(!oT(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield Js.verify({key:t,signature:n,data:i});case"P-256":return yield Ea.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}const n_=BigInt(2**32-1),N2=BigInt(32);function I4(r,t=!1){return t?{h:Number(r&n_),l:Number(r>>N2&n_)}:{h:0|Number(r>>N2&n_),l:0|Number(r&n_)}}const ao_split=function D4(r,t=!1){let n=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let o=0;o<r.length;o++){const{h:c,l:s}=I4(r[o],t);[n[o],i[o]]=[c,s]}return[n,i]},ao_shrSH=(r,t,n)=>r>>>n,ao_shrSL=(r,t,n)=>r<<32-n|t>>>n,ao_rotrSH=(r,t,n)=>r>>>n|t<<32-n,ao_rotrSL=(r,t,n)=>r<<32-n|t>>>n,ao_rotrBH=(r,t,n)=>r<<64-n|t>>>n-32,ao_rotrBL=(r,t,n)=>r>>>n-32|t<<64-n,ao_add=function R7(r,t,n,i){const o=(t>>>0)+(i>>>0);return{h:r+n+(o/2**32|0)|0,l:0|o}},ao_add3L=(r,t,n)=>(r>>>0)+(t>>>0)+(n>>>0),ao_add3H=(r,t,n,i)=>t+n+i+(r/2**32|0)|0,ao_add4L=(r,t,n,i)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0),ao_add4H=(r,t,n,i,o)=>t+n+i+o+(r/2**32|0)|0,ao_add5H=(r,t,n,i,o,c)=>t+n+i+o+c+(r/2**32|0)|0,ao_add5L=(r,t,n,i,o)=>(r>>>0)+(t>>>0)+(n>>>0)+(i>>>0)+(o>>>0),[N4,L7]=ao_split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),q0=new Uint32Array(80),Q0=new Uint32Array(80);class cT extends x2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:i,Bl:o,Ch:c,Cl:s,Dh:d,Dl:B,Eh:C,El:b,Fh:K,Fl:_e,Gh:Ce,Gl:Te,Hh:Pe,Hl:ze}=this;return[t,n,i,o,c,s,d,B,C,b,K,_e,Ce,Te,Pe,ze]}set(t,n,i,o,c,s,d,B,C,b,K,_e,Ce,Te,Pe,ze){this.Ah=0|t,this.Al=0|n,this.Bh=0|i,this.Bl=0|o,this.Ch=0|c,this.Cl=0|s,this.Dh=0|d,this.Dl=0|B,this.Eh=0|C,this.El=0|b,this.Fh=0|K,this.Fl=0|_e,this.Gh=0|Ce,this.Gl=0|Te,this.Hh=0|Pe,this.Hl=0|ze}process(t,n){for(let Ze=0;Ze<16;Ze++,n+=4)q0[Ze]=t.getUint32(n),Q0[Ze]=t.getUint32(n+=4);for(let Ze=16;Ze<80;Ze++){const lt=0|q0[Ze-15],Et=0|Q0[Ze-15],pt=ao_rotrSH(lt,Et,1)^ao_rotrSH(lt,Et,8)^ao_shrSH(lt,Et,7),Mt=ao_rotrSL(lt,Et,1)^ao_rotrSL(lt,Et,8)^ao_shrSL(lt,Et,7),Pt=0|q0[Ze-2],sn=0|Q0[Ze-2],an=ao_rotrSH(Pt,sn,19)^ao_rotrBH(Pt,sn,61)^ao_shrSH(Pt,sn,6),_n=ao_rotrSL(Pt,sn,19)^ao_rotrBL(Pt,sn,61)^ao_shrSL(Pt,sn,6),$n=ao_add4L(Mt,_n,Q0[Ze-7],Q0[Ze-16]),wn=ao_add4H($n,pt,an,q0[Ze-7],q0[Ze-16]);q0[Ze]=0|wn,Q0[Ze]=0|$n}let{Ah:i,Al:o,Bh:c,Bl:s,Ch:d,Cl:B,Dh:C,Dl:b,Eh:K,El:_e,Fh:Ce,Fl:Te,Gh:Pe,Gl:ze,Hh:rt,Hl:Xe}=this;for(let Ze=0;Ze<80;Ze++){const lt=ao_rotrSH(K,_e,14)^ao_rotrSH(K,_e,18)^ao_rotrBH(K,_e,41),Et=ao_rotrSL(K,_e,14)^ao_rotrSL(K,_e,18)^ao_rotrBL(K,_e,41),pt=K&Ce^~K&Pe,Pt=ao_add5L(Xe,Et,_e&Te^~_e&ze,L7[Ze],Q0[Ze]),sn=ao_add5H(Pt,rt,lt,pt,N4[Ze],q0[Ze]),an=0|Pt,_n=ao_rotrSH(i,o,28)^ao_rotrBH(i,o,34)^ao_rotrBH(i,o,39),$n=ao_rotrSL(i,o,28)^ao_rotrBL(i,o,34)^ao_rotrBL(i,o,39),wn=i&c^i&d^c&d,Cn=o&s^o&B^s&B;rt=0|Pe,Xe=0|ze,Pe=0|Ce,ze=0|Te,Ce=0|K,Te=0|_e,({h:K,l:_e}=ao_add(0|C,0|b,0|sn,0|an)),C=0|d,b=0|B,d=0|c,B=0|s,c=0|i,s=0|o;const Wt=ao_add3L(an,$n,Cn);i=ao_add3H(Wt,sn,_n,wn),o=0|Wt}({h:i,l:o}=ao_add(0|this.Ah,0|this.Al,0|i,0|o)),({h:c,l:s}=ao_add(0|this.Bh,0|this.Bl,0|c,0|s)),({h:d,l:B}=ao_add(0|this.Ch,0|this.Cl,0|d,0|B)),({h:C,l:b}=ao_add(0|this.Dh,0|this.Dl,0|C,0|b)),({h:K,l:_e}=ao_add(0|this.Eh,0|this.El,0|K,0|_e)),({h:Ce,l:Te}=ao_add(0|this.Fh,0|this.Fl,0|Ce,0|Te)),({h:Pe,l:ze}=ao_add(0|this.Gh,0|this.Gl,0|Pe,0|ze)),({h:rt,l:Xe}=ao_add(0|this.Hh,0|this.Hl,0|rt,0|Xe)),this.set(i,o,c,s,d,B,C,b,K,_e,Ce,Te,Pe,ze,rt,Xe)}roundClean(){q0.fill(0),Q0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const L4=ZO(()=>new cT),kf=BigInt(0),Au=BigInt(1),U2=BigInt(2),U4=BigInt(8),F4={zip215:!0};function lT(r){const t=function w5(r){const t=o5(r);return iv(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(r),{Fp:n,n:i,prehash:o,hash:c,randomBytes:s,nByteLength:d,h:B}=t,C=U2<<BigInt(8*d)-Au,b=n.create,K=t.uvRatio||((Sn,un)=>{try{return{isValid:!0,value:n.sqrt(Sn*n.inv(un))}}catch{return{isValid:!1,value:kf}}}),_e=t.adjustScalarBytes||(Sn=>Sn),Ce=t.domain||((Sn,un,In)=>{if(un.length||In)throw new Error("Contexts/pre-hash are not supported");return Sn}),Te=Sn=>"bigint"==typeof Sn&&kf<Sn,Pe=(Sn,un)=>Te(Sn)&&Te(un)&&Sn<un,ze=Sn=>Sn===kf||Pe(Sn,C);function rt(Sn,un){if(Pe(Sn,un))return Sn;throw new Error(`Expected valid scalar < ${un}, got ${typeof Sn} ${Sn}`)}function Xe(Sn){return Sn===kf?Sn:rt(Sn,i)}const Ze=new Map;function lt(Sn){if(!(Sn instanceof Et))throw new Error("ExtendedPoint expected")}class Et{constructor(un,In,Gn,Wn){if(this.ex=un,this.ey=In,this.ez=Gn,this.et=Wn,!ze(un))throw new Error("x required");if(!ze(In))throw new Error("y required");if(!ze(Gn))throw new Error("z required");if(!ze(Wn))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(un){if(un instanceof Et)throw new Error("extended point not allowed");const{x:In,y:Gn}=un||{};if(!ze(In)||!ze(Gn))throw new Error("invalid affine point");return new Et(In,Gn,Au,b(In*Gn))}static normalizeZ(un){const In=n.invertBatch(un.map(Gn=>Gn.ez));return un.map((Gn,Wn)=>Gn.toAffine(In[Wn])).map(Et.fromAffine)}_setWindowSize(un){this._WINDOW_SIZE=un,Ze.delete(this)}assertValidity(){const{a:un,d:In}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:Gn,ey:Wn,ez:Qt,et:Yn}=this,dr=b(Gn*Gn),Nn=b(Wn*Wn),En=b(Qt*Qt),jn=b(En*En),rr=b(dr*un);if(b(En*b(rr+Nn))!==b(jn+b(In*b(dr*Nn))))throw new Error("bad point: equation left != right (1)");if(b(Gn*Wn)!==b(Qt*Yn))throw new Error("bad point: equation left != right (2)")}equals(un){lt(un);const{ex:In,ey:Gn,ez:Wn}=this,{ex:Qt,ey:Yn,ez:dr}=un,Nn=b(In*dr),En=b(Qt*Wn),jn=b(Gn*dr),rr=b(Yn*Wn);return Nn===En&&jn===rr}is0(){return this.equals(Et.ZERO)}negate(){return new Et(b(-this.ex),this.ey,this.ez,b(-this.et))}double(){const{a:un}=t,{ex:In,ey:Gn,ez:Wn}=this,Qt=b(In*In),Yn=b(Gn*Gn),dr=b(U2*b(Wn*Wn)),Nn=b(un*Qt),En=In+Gn,jn=b(b(En*En)-Qt-Yn),rr=Nn+Yn,gr=rr-dr,Er=Nn-Yn,fr=b(jn*gr),hr=b(rr*Er),Hr=b(jn*Er),Ms=b(gr*rr);return new Et(fr,hr,Ms,Hr)}add(un){lt(un);const{a:In,d:Gn}=t,{ex:Wn,ey:Qt,ez:Yn,et:dr}=this,{ex:Nn,ey:En,ez:jn,et:rr}=un;if(In===BigInt(-1)){const wo=b((Qt-Wn)*(En+Nn)),_o=b((Qt+Wn)*(En-Nn)),As=b(_o-wo);if(As===kf)return this.double();const To=b(Yn*U2*rr),ii=b(dr*U2*jn),Io=ii+To,Ql=_o+wo,vc=ii-To,Bc=b(Io*As),fH=b(Ql*vc),B_=b(Io*vc),hH=b(As*Ql);return new Et(Bc,fH,hH,B_)}const gr=b(Wn*Nn),Er=b(Qt*En),fr=b(dr*Gn*rr),hr=b(Yn*jn),Hr=b((Wn+Qt)*(Nn+En)-gr-Er),Ms=hr-fr,ir=hr+fr,ai=b(Er-In*gr),di=b(Hr*Ms),Jr=b(ir*ai),ls=b(Hr*ai),ql=b(Ms*ir);return new Et(di,Jr,ql,ls)}subtract(un){return this.add(un.negate())}wNAF(un){return Pt.wNAFCached(this,Ze,un,Et.normalizeZ)}multiply(un){const{p:In,f:Gn}=this.wNAF(rt(un,i));return Et.normalizeZ([In,Gn])[0]}multiplyUnsafe(un){let In=Xe(un);return In===kf?Mt:this.equals(Mt)||In===Au?this:this.equals(pt)?this.wNAF(In).p:Pt.unsafeLadder(this,In)}isSmallOrder(){return this.multiplyUnsafe(B).is0()}isTorsionFree(){return Pt.unsafeLadder(this,i).is0()}toAffine(un){const{ex:In,ey:Gn,ez:Wn}=this,Qt=this.is0();null==un&&(un=Qt?U4:n.inv(Wn));const Yn=b(In*un),dr=b(Gn*un),Nn=b(Wn*un);if(Qt)return{x:kf,y:Au};if(Nn!==Au)throw new Error("invZ was invalid");return{x:Yn,y:dr}}clearCofactor(){const{h:un}=t;return un===Au?this:this.multiplyUnsafe(un)}static fromHex(un,In=!1){const{d:Gn,a:Wn}=t,Qt=n.BYTES,Yn=(un=Za("pointHex",un,Qt)).slice(),dr=un[Qt-1];Yn[Qt-1]=-129&dr;const Nn=xp(Yn);Nn===kf||rt(Nn,In?C:n.ORDER);const En=b(Nn*Nn),jn=b(En-Au),rr=b(Gn*En-Wn);let{isValid:gr,value:Er}=K(jn,rr);if(!gr)throw new Error("Point.fromHex: invalid y coordinate");const fr=(Er&Au)===Au,hr=!!(128&dr);if(!In&&Er===kf&&hr)throw new Error("Point.fromHex: x=0 and x_0=1");return hr!==fr&&(Er=b(-Er)),Et.fromAffine({x:Er,y:Nn})}static fromPrivateKey(un){return _n(un).point}toRawBytes(){const{x:un,y:In}=this.toAffine(),Gn=Qw(In,n.BYTES);return Gn[Gn.length-1]|=un&Au?128:0,Gn}toHex(){return G0(this.toRawBytes())}}Et.BASE=new Et(t.Gx,t.Gy,Au,b(t.Gx*t.Gy)),Et.ZERO=new Et(kf,Au,Au,kf);const{BASE:pt,ZERO:Mt}=Et,Pt=h4(Et,8*d);function sn(Sn){return ks(Sn,i)}function an(Sn){return sn(xp(Sn))}function _n(Sn){const un=d;Sn=Za("private key",Sn,un);const In=Za("hashed private key",c(Sn),2*un),Gn=_e(In.slice(0,un)),Wn=In.slice(un,2*un),Qt=an(Gn),Yn=pt.multiply(Qt),dr=Yn.toRawBytes();return{head:Gn,prefix:Wn,scalar:Qt,point:Yn,pointBytes:dr}}function wn(Sn=new Uint8Array,...un){const In=rv(...un);return an(c(Ce(In,Za("context",Sn),!!o)))}const Wt=F4;return pt._setWindowSize(8),{CURVE:t,getPublicKey:function $n(Sn){return _n(Sn).pointBytes},sign:function Cn(Sn,un,In={}){Sn=Za("message",Sn),o&&(Sn=o(Sn));const{prefix:Gn,scalar:Wn,pointBytes:Qt}=_n(un),Yn=wn(In.context,Gn,Sn),dr=pt.multiply(Yn).toRawBytes(),En=sn(Yn+wn(In.context,dr,Qt,Sn)*Wn);return Xe(En),Za("result",rv(dr,Qw(En,n.BYTES)),2*d)},verify:function nn(Sn,un,In,Gn=Wt){const{context:Wn,zip215:Qt}=Gn,Yn=n.BYTES;Sn=Za("signature",Sn,2*Yn),un=Za("message",un),o&&(un=o(un));const dr=xp(Sn.slice(Yn,2*Yn));let Nn,En,jn;try{Nn=Et.fromHex(In,Qt),En=Et.fromHex(Sn.slice(0,Yn),Qt),jn=pt.multiplyUnsafe(dr)}catch{return!1}if(!Qt&&Nn.isSmallOrder())return!1;const rr=wn(Wn,En.toRawBytes(),Nn.toRawBytes(),un);return En.add(Nn.multiplyUnsafe(rr)).subtract(jn).clearCofactor().equals(Et.ZERO)},ExtendedPoint:Et,utils:{getExtendedPublicKey:_n,randomPrivateKey:()=>s(n.BYTES),precompute:(Sn=8,un=Et.BASE)=>(un._setWindowSize(Sn),un.multiply(BigInt(3)),un)}}}const i_=BigInt(0),_5=BigInt(1),v=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),P=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),de=(BigInt(0),BigInt(1)),Me=BigInt(2),Ue=BigInt(5),Qe=BigInt(10),_t=BigInt(20),Dt=BigInt(40),Xt=BigInt(80);function bn(r){const t=v,i=r*r%t*r%t,o=Xs(i,Me,t)*i%t,c=Xs(o,de,t)*r%t,s=Xs(c,Ue,t)*c%t,d=Xs(s,Qe,t)*s%t,B=Xs(d,_t,t)*d%t,C=Xs(B,Dt,t)*B%t,b=Xs(C,Xt,t)*C%t,K=Xs(b,Xt,t)*C%t,_e=Xs(K,Qe,t)*s%t;return{pow_p_5_8:Xs(_e,Me,t)*r%t,b2:i}}function xn(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const Vn=I2(v,void 0,!0),Ir={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Vn,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:L4,randomBytes:E2,adjustScalarBytes:xn,uvRatio:function Ln(r,t){const n=v,i=ks(t*t*t,n),o=ks(i*i*t,n);let s=ks(r*i*bn(r*o).pow_p_5_8,n);const d=ks(t*s*s,n),B=s,C=ks(s*P,n),b=d===r,K=d===ks(-r,n),_e=d===ks(-r*P,n);return b&&(s=B),(K||_e)&&(s=C),((r,t)=>(ks(r,t)&as)===as)(s,n)&&(s=ks(-s,n)),{isValid:b||K,value:s}}},nr=lT(Ir);const xa=function f(r){const t=function a(r){return iv(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}(r),{P:n}=t,i=Ze=>ks(Ze,n),o=t.montgomeryBits,c=Math.ceil(o/8),s=t.nByteLength,d=t.adjustScalarBytes||(Ze=>Ze),B=t.powPminus2||(Ze=>A2(Ze,n-BigInt(2),n));function C(Ze,lt,Et){const pt=i(Ze*(lt-Et));return[lt=i(lt-pt),Et=i(Et+pt)]}function b(Ze){if("bigint"==typeof Ze&&i_<=Ze&&Ze<n)return Ze;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const K=(t.a-BigInt(2))/BigInt(4);function Ce(Ze){return Qw(i(Ze),c)}function ze(Ze,lt){const Et=function Te(Ze){const lt=Za("u coordinate",Ze,c);return 32===s&&(lt[31]&=127),xp(lt)}(lt),pt=function Pe(Ze){const lt=Za("scalar",Ze),Et=lt.length;if(Et!==c&&Et!==s)throw new Error(`Expected ${c} or ${s} bytes, got ${Et}`);return xp(d(lt))}(Ze),Mt=function _e(Ze,lt){const Et=b(Ze),pt=b(lt),Mt=Et;let wn,Pt=_5,sn=i_,an=Et,_n=_5,$n=i_;for(let Wt=BigInt(o-1);Wt>=i_;Wt--){const nn=pt>>Wt&_5;$n^=nn,wn=C($n,Pt,an),Pt=wn[0],an=wn[1],wn=C($n,sn,_n),sn=wn[0],_n=wn[1],$n=nn;const rn=Pt+sn,Sn=i(rn*rn),un=Pt-sn,In=i(un*un),Gn=Sn-In,Wn=an+_n,Yn=i((an-_n)*rn),dr=i(Wn*un),Nn=Yn+dr,En=Yn-dr;an=i(Nn*Nn),_n=i(Mt*i(En*En)),Pt=i(Sn*In),sn=i(Gn*(Sn+i(K*Gn)))}wn=C($n,Pt,an),Pt=wn[0],an=wn[1],wn=C($n,sn,_n),sn=wn[0],_n=wn[1];const Cn=B(sn);return i(Pt*Cn)}(Et,pt);if(Mt===i_)throw new Error("Invalid private or public key received");return Ce(Mt)}const rt=Ce(t.Gu);function Xe(Ze){return ze(Ze,rt)}return{scalarMult:ze,scalarMultBase:Xe,getSharedSecret:(Ze,lt)=>ze(Ze,lt),getPublicKey:Ze=>Xe(Ze),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:rt}}({P:v,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{const t=v,{pow_p_5_8:n,b2:i}=bn(r);return ks(Xs(n,BigInt(3),t)*i,t)},adjustScalarBytes:xn,randomBytes:E2}),j4=(Vn.ORDER+BigInt(3))/BigInt(8);Vn.pow(Me,j4),Vn.sqrt(Vn.neg(Vn.ONE)),BigInt(5),BigInt(8),BigInt(486662),function l4(r,t){if(!r.isOdd)throw new Error("Field doesn't have isOdd");const n=r.sqrt(t);r.isOdd(n)&&r.neg(n)}(Vn,Vn.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var xh=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class gc{static bytesToPrivateKey({privateKeyBytes:t}){return xh(this,void 0,void 0,function*(){const n=nr.getPublicKey(t),i={crv:"Ed25519",d:mn.uint8Array(t).toBase64Url(),kty:"OKP",x:mn.uint8Array(n).toBase64Url()};return i.kid=yield hs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return xh(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:mn.uint8Array(t).toBase64Url()};return n.kid=yield hs({jwk:n}),n})}static computePublicKey({key:t}){return xh(this,void 0,void 0,function*(){const n=yield gc.privateKeyToBytes({privateKey:t}),i=nr.getPublicKey(n),o={kty:"OKP",crv:"Ed25519",x:mn.uint8Array(i).toBase64Url()};return o.kid=yield hs({jwk:o}),o})}static convertPrivateKeyToX25519({privateKey:t}){return xh(this,void 0,void 0,function*(){const i=function E5(r){const t=Ir.hash(r.subarray(0,32));return Ir.adjustScalarBytes(t).subarray(0,32)}(yield gc.privateKeyToBytes({privateKey:t})),o=xa.getPublicKey(i),c={kty:"OKP",crv:"X25519",d:mn.uint8Array(i).toBase64Url(),x:mn.uint8Array(o).toBase64Url()};return c.kid=yield hs({jwk:c}),c})}static convertPublicKeyToX25519({publicKey:t}){return xh(this,void 0,void 0,function*(){const n=yield gc.publicKeyToBytes({publicKey:t});if(!(yield gc.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const o=function Yd(r){const{y:t}=nr.ExtendedPoint.fromHex(r),n=BigInt(1);return Vn.toBytes(Vn.create((n+t)*Vn.inv(n-t)))}(n),c={kty:"OKP",crv:"X25519",x:mn.uint8Array(o).toBase64Url()};return c.kid=yield hs({jwk:c}),c})}static generateKey(){return xh(this,void 0,void 0,function*(){const t=nr.utils.randomPrivateKey(),n=yield gc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield hs({jwk:n}),n})}static getPublicKey({key:t}){var n;return xh(this,void 0,void 0,function*(){if(!J0(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield hs({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return xh(this,void 0,void 0,function*(){if(!J0(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return xh(this,void 0,void 0,function*(){if(!B2(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return mn.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return xh(this,void 0,void 0,function*(){const i=yield gc.privateKeyToBytes({privateKey:t});return nr.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return xh(this,void 0,void 0,function*(){try{nr.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return xh(this,void 0,void 0,function*(){const o=yield gc.publicKeyToBytes({publicKey:t});return nr.verify(n,i,o)})}}var dT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},ey=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};const z4={Ed25519:{implementation:class dj extends WA{computePublicKey({key:t}){return dT(this,void 0,void 0,function*(){if(!J0(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield gc.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return dT(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield gc.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return dT(this,void 0,void 0,function*(){if(!J0(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield gc.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return dT(this,void 0,void 0,function*(){if(!J0(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield gc.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return dT(this,void 0,void 0,function*(){if(!B2(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield gc.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:y5,names:["ES256K","secp256k1"]},secp256r1:{implementation:y5,names:["ES256","secp256r1"]},"SHA-256":{implementation:class f7 extends WA{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield Jw.digest({data:n})})}},names:["SHA-256"]}};class s_{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new Hw}digest({algorithm:t,data:n}){return ey(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return ey(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return ey(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${p5}${i.kid}`;return yield this._keyStore.set(o,i),o})}getKeyUri({key:t}){return ey(this,void 0,void 0,function*(){const n=yield hs({jwk:t});return`${p5}${n}`})}getPublicKey({keyUri:t}){return ey(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return ey(this,void 0,void 0,function*(){if(!function m5(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield hs({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set(o,i),o})}sign({keyUri:t,data:n}){return ey(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return ey(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=z4[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o in z4){const c=z4[o];if(n&&c.names.includes(n))return o;if(i&&c.names.includes(i))return o}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return ey(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function uj(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}"object"==typeof globalThis&&"crypto"in globalThis&&globalThis;const cv=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4));function x5(r){return r instanceof Uint8Array||null!=r&&"object"==typeof r&&"Uint8Array"===r.constructor.name}if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function W4(r){if("string"!=typeof r)throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array((new TextEncoder).encode(r))}function G4(r){if("string"==typeof r)r=W4(r);else{if(!x5(r))throw new Error("expected Uint8Array, got "+typeof r);r=r.slice()}return r}function uT(r,t){if(!x5(r))throw new Error("Uint8Array expected");if("number"==typeof t&&r.length!==t)throw new Error(`Uint8Array length ${t} expected`)}function S5(r,t,n,i){if("function"==typeof r.setBigUint64)return r.setBigUint64(t,n,i);const o=BigInt(32),c=BigInt(4294967295),s=Number(n>>o&c),d=Number(n&c),C=i?0:4;r.setUint32(t+(i?4:0),s,i),r.setUint32(t+C,d,i)}function F2(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`wrong positive integer: ${r}`)}function Z4(r){if("boolean"!=typeof r)throw new Error(`boolean expected, not ${r}`)}function j2(r,...t){if(!function wj(r){return null!=r&&"object"==typeof r&&(r instanceof Uint8Array||"Uint8Array"===r.constructor.name)}(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function X4(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}var lv=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class c_{static bytesToPrivateKey({privateKeyBytes:t}){return lv(this,void 0,void 0,function*(){const n=xa.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n).toBase64Url()};return i.kid=yield hs({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return lv(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:mn.uint8Array(t).toBase64Url()};return n.kid=yield hs({jwk:n}),n})}static computePublicKey({key:t}){return lv(this,void 0,void 0,function*(){const n=yield c_.privateKeyToBytes({privateKey:t}),i=xa.getPublicKey(n),o={kty:"OKP",crv:"X25519",x:mn.uint8Array(i).toBase64Url()};return o.kid=yield hs({jwk:o}),o})}static generateKey(){return lv(this,void 0,void 0,function*(){const t=xa.utils.randomPrivateKey(),n=yield c_.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield hs({jwk:n}),n})}static getPublicKey({key:t}){var n;return lv(this,void 0,void 0,function*(){if(!J0(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield hs({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return lv(this,void 0,void 0,function*(){if(!J0(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return lv(this,void 0,void 0,function*(){if(!B2(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return mn.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return lv(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield c_.privateKeyToBytes({privateKey:t}),o=yield c_.publicKeyToBytes({publicKey:n});return xa.getSharedSecret(i,o)})}}const Ed=(r,t)=>255&r[t++]|(255&r[t++])<<8;class Ij{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,uT(t=G4(t),32);const n=Ed(t,0),i=Ed(t,2),o=Ed(t,4),c=Ed(t,6),s=Ed(t,8),d=Ed(t,10),B=Ed(t,12),C=Ed(t,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|i<<3),this.r[2]=7939&(i>>>10|o<<6),this.r[3]=8191&(o>>>7|c<<9),this.r[4]=255&(c>>>4|s<<12),this.r[5]=s>>>1&8190,this.r[6]=8191&(s>>>14|d<<2),this.r[7]=8065&(d>>>11|B<<5),this.r[8]=8191&(B>>>8|C<<8),this.r[9]=C>>>5&127;for(let b=0;b<8;b++)this.pad[b]=Ed(t,16+2*b)}process(t,n,i=!1){const o=i?0:2048,{h:c,r:s}=this,d=s[0],B=s[1],C=s[2],b=s[3],K=s[4],_e=s[5],Ce=s[6],Te=s[7],Pe=s[8],ze=s[9],rt=Ed(t,n+0),Xe=Ed(t,n+2),Ze=Ed(t,n+4),lt=Ed(t,n+6),Et=Ed(t,n+8),pt=Ed(t,n+10),Mt=Ed(t,n+12),Pt=Ed(t,n+14);let sn=c[0]+(8191&rt),an=c[1]+(8191&(rt>>>13|Xe<<3)),_n=c[2]+(8191&(Xe>>>10|Ze<<6)),$n=c[3]+(8191&(Ze>>>7|lt<<9)),wn=c[4]+(8191&(lt>>>4|Et<<12)),Cn=c[5]+(Et>>>1&8191),Wt=c[6]+(8191&(Et>>>14|pt<<2)),nn=c[7]+(8191&(pt>>>11|Mt<<5)),rn=c[8]+(8191&(Mt>>>8|Pt<<8)),Sn=c[9]+(Pt>>>5|o),un=0,In=un+sn*d+an*(5*ze)+_n*(5*Pe)+$n*(5*Te)+wn*(5*Ce);un=In>>>13,In&=8191,In+=Cn*(5*_e)+Wt*(5*K)+nn*(5*b)+rn*(5*C)+Sn*(5*B),un+=In>>>13,In&=8191;let Gn=un+sn*B+an*d+_n*(5*ze)+$n*(5*Pe)+wn*(5*Te);un=Gn>>>13,Gn&=8191,Gn+=Cn*(5*Ce)+Wt*(5*_e)+nn*(5*K)+rn*(5*b)+Sn*(5*C),un+=Gn>>>13,Gn&=8191;let Wn=un+sn*C+an*B+_n*d+$n*(5*ze)+wn*(5*Pe);un=Wn>>>13,Wn&=8191,Wn+=Cn*(5*Te)+Wt*(5*Ce)+nn*(5*_e)+rn*(5*K)+Sn*(5*b),un+=Wn>>>13,Wn&=8191;let Qt=un+sn*b+an*C+_n*B+$n*d+wn*(5*ze);un=Qt>>>13,Qt&=8191,Qt+=Cn*(5*Pe)+Wt*(5*Te)+nn*(5*Ce)+rn*(5*_e)+Sn*(5*K),un+=Qt>>>13,Qt&=8191;let Yn=un+sn*K+an*b+_n*C+$n*B+wn*d;un=Yn>>>13,Yn&=8191,Yn+=Cn*(5*ze)+Wt*(5*Pe)+nn*(5*Te)+rn*(5*Ce)+Sn*(5*_e),un+=Yn>>>13,Yn&=8191;let dr=un+sn*_e+an*K+_n*b+$n*C+wn*B;un=dr>>>13,dr&=8191,dr+=Cn*d+Wt*(5*ze)+nn*(5*Pe)+rn*(5*Te)+Sn*(5*Ce),un+=dr>>>13,dr&=8191;let Nn=un+sn*Ce+an*_e+_n*K+$n*b+wn*C;un=Nn>>>13,Nn&=8191,Nn+=Cn*B+Wt*d+nn*(5*ze)+rn*(5*Pe)+Sn*(5*Te),un+=Nn>>>13,Nn&=8191;let En=un+sn*Te+an*Ce+_n*_e+$n*K+wn*b;un=En>>>13,En&=8191,En+=Cn*C+Wt*B+nn*d+rn*(5*ze)+Sn*(5*Pe),un+=En>>>13,En&=8191;let jn=un+sn*Pe+an*Te+_n*Ce+$n*_e+wn*K;un=jn>>>13,jn&=8191,jn+=Cn*b+Wt*C+nn*B+rn*d+Sn*(5*ze),un+=jn>>>13,jn&=8191;let rr=un+sn*ze+an*Pe+_n*Te+$n*Ce+wn*_e;un=rr>>>13,rr&=8191,rr+=Cn*K+Wt*b+nn*C+rn*B+Sn*d,un+=rr>>>13,rr&=8191,un=(un<<2)+un|0,un=un+In|0,In=8191&un,un>>>=13,Gn+=un,c[0]=In,c[1]=Gn,c[2]=Wn,c[3]=Qt,c[4]=Yn,c[5]=dr,c[6]=Nn,c[7]=En,c[8]=jn,c[9]=rr}finalize(){const{h:t,pad:n}=this,i=new Uint16Array(10);let o=t[1]>>>13;t[1]&=8191;for(let d=2;d<10;d++)t[d]+=o,o=t[d]>>>13,t[d]&=8191;t[0]+=5*o,o=t[0]>>>13,t[0]&=8191,t[1]+=o,o=t[1]>>>13,t[1]&=8191,t[2]+=o,i[0]=t[0]+5,o=i[0]>>>13,i[0]&=8191;for(let d=1;d<10;d++)i[d]=t[d]+o,o=i[d]>>>13,i[d]&=8191;i[9]-=8192;let c=(1^o)-1;for(let d=0;d<10;d++)i[d]&=c;c=~c;for(let d=0;d<10;d++)t[d]=t[d]&c|i[d];t[0]=65535&(t[0]|t[1]<<13),t[1]=65535&(t[1]>>>3|t[2]<<10),t[2]=65535&(t[2]>>>6|t[3]<<7),t[3]=65535&(t[3]>>>9|t[4]<<4),t[4]=65535&(t[4]>>>12|t[5]<<1|t[6]<<14),t[5]=65535&(t[6]>>>2|t[7]<<11),t[6]=65535&(t[7]>>>5|t[8]<<8),t[7]=65535&(t[8]>>>8|t[9]<<5);let s=t[0]+n[0];t[0]=65535&s;for(let d=1;d<8;d++)s=(t[d]+n[d]|0)+(s>>>16)|0,t[d]=65535&s}update(t){X4(this);const{buffer:n,blockLen:i}=this,o=(t=G4(t)).length;for(let c=0;c<o;){const s=Math.min(i-this.pos,o-c);if(s!==i)n.set(t.subarray(c,c+s),this.pos),this.pos+=s,c+=s,this.pos===i&&(this.process(n,0,!1),this.pos=0);else for(;i<=o-c;c+=i)this.process(t,c)}return this}destroy(){this.h.fill(0),this.r.fill(0),this.buffer.fill(0),this.pad.fill(0)}digestInto(t){X4(this),function G7(r,t){j2(r);const n=t.outputLen;if(r.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(t,this),this.finished=!0;const{buffer:n,h:i}=this;let{pos:o}=this;if(o){for(n[o++]=1;o<16;o++)n[o]=0;this.process(n,0,!0)}this.finalize();let c=0;for(let s=0;s<8;s++)t[c++]=i[s]>>>0,t[c++]=i[s]>>>8;return t}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const i=t.slice(0,n);return this.destroy(),i}}const Cj=function Dj(r){const t=(i,o)=>r(o).update(G4(i)).digest(),n=r(new Uint8Array(32));return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=i=>r(i),t}(r=>new Ij(r)),kj=W4("expand 16-byte k"),Pj=W4("expand 32-byte k"),Rj=cv(kj),Oj=cv(Pj);function Qr(r,t){return r<<t|r>>>32-t}function q4(r){return r.byteOffset%4==0}const Y7=2**32-1,J7=new Uint32Array;function pT(r,t){const{allowShortKeys:n,extendNonceFn:i,counterLength:o,counterRight:c,rounds:s}=function vj(r,t){if(void 0!==t&&("object"!=typeof t||!(r=>"[object Object]"===Object.prototype.toString.call(r)&&r.constructor===Object)(t)))throw new Error("options must be object or undefined");return Object.assign(r,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof r)throw new Error("core must be a function");return F2(o),F2(s),Z4(c),Z4(n),(d,B,C,b,K=0)=>{j2(d),j2(B),j2(C);const _e=C.length;if(b||(b=new Uint8Array(_e)),j2(b),F2(K),K<0||K>=Y7)throw new Error("arx: counter overflow");if(b.length<_e)throw new Error(`arx: output (${b.length}) is shorter than data (${_e})`);const Ce=[];let Pe,ze,Te=d.length;if(32===Te)Pe=d.slice(),Ce.push(Pe),ze=Oj;else{if(16!==Te||!n)throw new Error(`arx: invalid 32-byte key, got length=${Te}`);Pe=new Uint8Array(32),Pe.set(d),Pe.set(d,16),ze=Rj,Ce.push(Pe)}q4(B)||(B=B.slice(),Ce.push(B));const rt=cv(Pe);if(i){if(24!==B.length)throw new Error("arx: extended nonce must be 24 bytes");i(ze,rt,cv(B.subarray(0,16)),rt),B=B.subarray(16)}const Xe=16-o;if(Xe!==B.length)throw new Error(`arx: nonce must be ${Xe} or 16 bytes`);if(12!==Xe){const lt=new Uint8Array(12);lt.set(B,c?0:12-B.length),Ce.push(B=lt)}const Ze=cv(B);for(function Nj(r,t,n,i,o,c,s,d){const B=o.length,C=new Uint8Array(64),b=cv(C),K=q4(o)&&q4(c),_e=K?cv(o):J7,Ce=K?cv(c):J7;for(let Te=0;Te<B;s++){if(r(t,n,i,b,s,d),s>=Y7)throw new Error("arx: counter overflow");const Pe=Math.min(64,B-Te);if(K&&64===Pe){const ze=Te/4;if(Te%4!=0)throw new Error("arx: invalid block position");for(let Xe,rt=0;rt<16;rt++)Xe=ze+rt,Ce[Xe]=_e[Xe]^b[rt];Te+=64}else{for(let rt,ze=0;ze<Pe;ze++)rt=Te+ze,c[rt]=o[rt]^C[ze];Te+=Pe}}}(r,ze,rt,Ze,C,b,K,s);Ce.length>0;)Ce.pop().fill(0);return b}}function mT(r,t,n,i,o,c=20){let s=r[0],d=r[1],B=r[2],C=r[3],b=t[0],K=t[1],_e=t[2],Ce=t[3],Te=t[4],Pe=t[5],ze=t[6],rt=t[7],Xe=o,Ze=n[0],lt=n[1],Et=n[2],pt=s,Mt=d,Pt=B,sn=C,an=b,_n=K,$n=_e,wn=Ce,Cn=Te,Wt=Pe,nn=ze,rn=rt,Sn=Xe,un=Ze,In=lt,Gn=Et;for(let Qt=0;Qt<c;Qt+=2)pt=pt+an|0,Sn=Qr(Sn^pt,16),Cn=Cn+Sn|0,an=Qr(an^Cn,12),pt=pt+an|0,Sn=Qr(Sn^pt,8),Cn=Cn+Sn|0,an=Qr(an^Cn,7),Mt=Mt+_n|0,un=Qr(un^Mt,16),Wt=Wt+un|0,_n=Qr(_n^Wt,12),Mt=Mt+_n|0,un=Qr(un^Mt,8),Wt=Wt+un|0,_n=Qr(_n^Wt,7),Pt=Pt+$n|0,In=Qr(In^Pt,16),nn=nn+In|0,$n=Qr($n^nn,12),Pt=Pt+$n|0,In=Qr(In^Pt,8),nn=nn+In|0,$n=Qr($n^nn,7),sn=sn+wn|0,Gn=Qr(Gn^sn,16),rn=rn+Gn|0,wn=Qr(wn^rn,12),sn=sn+wn|0,Gn=Qr(Gn^sn,8),rn=rn+Gn|0,wn=Qr(wn^rn,7),pt=pt+_n|0,Gn=Qr(Gn^pt,16),nn=nn+Gn|0,_n=Qr(_n^nn,12),pt=pt+_n|0,Gn=Qr(Gn^pt,8),nn=nn+Gn|0,_n=Qr(_n^nn,7),Mt=Mt+$n|0,Sn=Qr(Sn^Mt,16),rn=rn+Sn|0,$n=Qr($n^rn,12),Mt=Mt+$n|0,Sn=Qr(Sn^Mt,8),rn=rn+Sn|0,$n=Qr($n^rn,7),Pt=Pt+wn|0,un=Qr(un^Pt,16),Cn=Cn+un|0,wn=Qr(wn^Cn,12),Pt=Pt+wn|0,un=Qr(un^Pt,8),Cn=Cn+un|0,wn=Qr(wn^Cn,7),sn=sn+an|0,In=Qr(In^sn,16),Wt=Wt+In|0,an=Qr(an^Wt,12),sn=sn+an|0,In=Qr(In^sn,8),Wt=Wt+In|0,an=Qr(an^Wt,7);let Wn=0;i[Wn++]=s+pt|0,i[Wn++]=d+Mt|0,i[Wn++]=B+Pt|0,i[Wn++]=C+sn|0,i[Wn++]=b+an|0,i[Wn++]=K+_n|0,i[Wn++]=_e+$n|0,i[Wn++]=Ce+wn|0,i[Wn++]=Te+Cn|0,i[Wn++]=Pe+Wt|0,i[Wn++]=ze+nn|0,i[Wn++]=rt+rn|0,i[Wn++]=Xe+Sn|0,i[Wn++]=Ze+un|0,i[Wn++]=lt+In|0,i[Wn++]=Et+Gn|0}const Uj=pT(mT,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Fj=pT(mT,{counterRight:!1,counterLength:8,extendNonceFn:function Lj(r,t,n,i){let o=r[0],c=r[1],s=r[2],d=r[3],B=t[0],C=t[1],b=t[2],K=t[3],_e=t[4],Ce=t[5],Te=t[6],Pe=t[7],ze=n[0],rt=n[1],Xe=n[2],Ze=n[3];for(let Et=0;Et<20;Et+=2)o=o+B|0,ze=Qr(ze^o,16),_e=_e+ze|0,B=Qr(B^_e,12),o=o+B|0,ze=Qr(ze^o,8),_e=_e+ze|0,B=Qr(B^_e,7),c=c+C|0,rt=Qr(rt^c,16),Ce=Ce+rt|0,C=Qr(C^Ce,12),c=c+C|0,rt=Qr(rt^c,8),Ce=Ce+rt|0,C=Qr(C^Ce,7),s=s+b|0,Xe=Qr(Xe^s,16),Te=Te+Xe|0,b=Qr(b^Te,12),s=s+b|0,Xe=Qr(Xe^s,8),Te=Te+Xe|0,b=Qr(b^Te,7),d=d+K|0,Ze=Qr(Ze^d,16),Pe=Pe+Ze|0,K=Qr(K^Pe,12),d=d+K|0,Ze=Qr(Ze^d,8),Pe=Pe+Ze|0,K=Qr(K^Pe,7),o=o+C|0,Ze=Qr(Ze^o,16),Te=Te+Ze|0,C=Qr(C^Te,12),o=o+C|0,Ze=Qr(Ze^o,8),Te=Te+Ze|0,C=Qr(C^Te,7),c=c+b|0,ze=Qr(ze^c,16),Pe=Pe+ze|0,b=Qr(b^Pe,12),c=c+b|0,ze=Qr(ze^c,8),Pe=Pe+ze|0,b=Qr(b^Pe,7),s=s+K|0,rt=Qr(rt^s,16),_e=_e+rt|0,K=Qr(K^_e,12),s=s+K|0,rt=Qr(rt^s,8),_e=_e+rt|0,K=Qr(K^_e,7),d=d+B|0,Xe=Qr(Xe^d,16),Ce=Ce+Xe|0,B=Qr(B^Ce,12),d=d+B|0,Xe=Qr(Xe^d,8),Ce=Ce+Xe|0,B=Qr(B^Ce,7);let lt=0;i[lt++]=o,i[lt++]=c,i[lt++]=s,i[lt++]=d,i[lt++]=ze,i[lt++]=rt,i[lt++]=Xe,i[lt++]=Ze},allowShortKeys:!1}),jj=new Uint8Array(16),q7=(r,t)=>{r.update(t);const n=t.length%16;n&&r.update(jj.subarray(n))},Kj=new Uint8Array(32);function Q7(r,t,n,i,o){const c=r(t,n,Kj),s=Cj.create(c);o&&q7(s,o),q7(s,i);const d=new Uint8Array(16),B=(r=>new DataView(r.buffer,r.byteOffset,r.byteLength))(d);S5(B,0,BigInt(o?o.length:0),!0),S5(B,8,BigInt(i.length),!0),s.update(d);const C=s.digest();return c.fill(0),C}const eL=r=>(t,n,i)=>(uT(t,32),uT(n),{encrypt:(c,s)=>{const d=c.length,B=d+16;s?uT(s,B):s=new Uint8Array(B),r(t,n,c,s,1);const C=Q7(r,t,n,s.subarray(0,-16),i);return s.set(C,d),s},decrypt:(c,s)=>{const d=c.length,B=d-16;if(d<16)throw new Error("encrypted data must be at least 16 bytes");s?uT(s,B):s=new Uint8Array(B);const C=c.subarray(0,-16);if(!function bj(r,t){if(r.length!==t.length)return!1;let n=0;for(let i=0;i<r.length;i++)n|=r[i]^t[i];return 0===n}(c.subarray(-16),Q7(r,t,n,C,i)))throw new Error("invalid tag");return r(t,n,C,s,1),s}});function Ap(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function tB({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(nB))&&void 0!==n?n:[]),Object.keys($w).forEach(o=>{var c,s;i.push(...null!==(s=null===(c=r[o])||void 0===c?void 0:c.filter(nB))&&void 0!==s?s:[])}),i}function Wj({didDocument:r,methodId:t}){const n=[];return Object.keys($w).forEach(i=>{if(Array.isArray(r[i])){const o=r[i],c=Ap(t);o.some(d=>{const B=Ap(d)===c,C=nB(d)&&Ap(d.id)===c;return B||C})&&n.push(i)}}),n}function nB(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}function tL({keyBytes:r,multicodecCode:t,multicodecName:n}){const i=Pa.addPrefix({code:t,data:r,name:n}),o=mn.uint8Array(i).toBase58Btc();return mn.base58Btc(o).toMultibase()}function nL({multibaseKeyId:r}){try{const t=mn.multibase(r).toBase58Btc(),n=mn.base58Btc(t).toUint8Array(),{code:i,data:o,name:c}=Pa.removePrefix({prefixedData:n});return{keyBytes:o,multicodecCode:i,multicodecName:c}}catch{throw new vi(Ai.InvalidDid,`Invalid multibase identifier: ${r}`)}}eL(Uj),eL(Fj);var vT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class dv{constructor({uri:t,document:n,metadata:i,keyManager:o}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=o}export(){return vT(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.exportKey({keyUri:o});n.push(Object.assign({},c))}t.privateKeys=n}return t})}getSigner(t){return vT(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(B=>{var C,b;return Ap(B.id)===(null!==(C=Ap(t?.methodId))&&void 0!==C?C:Ap(null===(b=this.document.assertionMethod)||void 0===b?void 0:b[0]))});if(!i||!i.publicKeyJwk)throw new vi(Ai.InternalError,"A verification method intended for signing could not be determined from the DID Document");const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.getPublicKey({keyUri:o}),s=this.keyManager;return{algorithm:uj(c),keyId:i.id,sign(B){return vT(this,arguments,void 0,function*({data:C}){return yield s.sign({data:C,keyUri:o})})},verify(B){return vT(this,arguments,void 0,function*({data:C,signature:b}){return yield s.verify({data:C,key:c,signature:b})})}}})}static import(t){return vT(this,arguments,void 0,function*({portableDid:n,keyManager:i=new s_}){var o;const c=tB({didDocument:n.document});if(0===c.length)throw new vi(Ai.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let d of null!==(o=n.privateKeys)&&void 0!==o?o:[])yield i.importKey({key:d});for(let d of c){if(!d.publicKeyJwk)throw new Error(`Verification method '${d.id}' does not contain a public key in JWK format`);const B=yield i.getKeyUri({key:d.publicKeyJwk});yield i.getPublicKey({keyUri:B})}return new dv({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var uv=E(2198),Sh=E(49402),rL=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class rB{static getSigningMethod(t){return rL(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return rL(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Wl=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},iL=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const oL="https://diddht.tbddev.org",fv=7200,Tu=",";var sL=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(sL||{}),nf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(nf||{}),aL=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(aL||{});const cL={Ed25519:nf.Ed25519,ES256K:nf.secp256k1,ES256:nf.secp256r1,"P-256":nf.secp256r1,secp256k1:nf.secp256k1,secp256r1:nf.secp256r1,X25519:nf.X25519},lL={[nf.Ed25519]:"Ed25519",[nf.secp256k1]:"ES256K",[nf.secp256r1]:"ES256",[nf.X25519]:"ECDH-ES+A256KW"};let iB=(()=>{class r extends rB{static create(){return Wl(this,arguments,void 0,function*({keyManager:n=new s_,options:i={}}={}){var o,c,s,d,B,C,b,K,_e,Ce,Te;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(pt=>!(pt.algorithm in cL)))throw new Error("One or more verification method algorithms are not supported");const Pe=null===(c=i.verificationMethods)||void 0===c?void 0:c.filter(pt=>"id"in pt).map(pt=>pt.id);if(Pe&&Pe.length!==new Set(Pe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(s=i.services)&&void 0!==s&&s.some(pt=>!pt.id||!pt.type||!pt.serviceEndpoint))throw new Error("One or more services are missing required properties");const ze=yield n.generateKey({algorithm:"Ed25519"}),rt=yield n.getPublicKey({keyUri:ze}),Xe=yield Jc.identityKeyToIdentifier({identityKey:rt}),Ze=Object.assign(Object.assign({id:Xe},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),lt=[...null!==(d=i.verificationMethods)&&void 0!==d?d:[]];lt?.some(pt=>{var Mt;return"0"===(null===(Mt=pt.id)||void 0===Mt?void 0:Mt.split("#").pop())})||lt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const pt of lt){const Mt=pt.id&&"0"===pt.id.split("#").pop()?ze:yield n.generateKey({algorithm:pt.algorithm}),Pt=yield n.getPublicKey({keyUri:Mt});let sn=null!==(C=null!==(B=pt.id)&&void 0!==B?B:Pt.kid)&&void 0!==C?C:yield hs({jwk:Pt});sn=`${Xe}#${Ap(sn)}`,null!==(b=Ze.verificationMethod)&&void 0!==b||(Ze.verificationMethod=[]),Ze.verificationMethod.push({id:sn,type:"JsonWebKey",controller:null!==(K=pt.controller)&&void 0!==K?K:Xe,publicKeyJwk:Pt});for(const an of null!==(_e=pt.purposes)&&void 0!==_e?_e:[])Ze[an]||(Ze[an]=[]),Ze[an].push(sn)}null===(Ce=i.services)||void 0===Ce||Ce.forEach(pt=>{var Mt;null!==(Mt=Ze.service)&&void 0!==Mt||(Ze.service=[]),pt.id=`${Xe}#${pt.id.split("#").pop()}`,Ze.service.push(pt)});const Et=new dv({uri:Xe,document:Ze,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Te=i.publish)||void 0===Te||Te){const pt=yield r.publish({did:Et,gatewayUri:i.gatewayUri});Et.metadata=pt.didDocumentMetadata}return Et})}static import(n){return Wl(this,arguments,void 0,function*({portableDid:i,keyManager:o=new s_}){var c;const s=Ko.parse(i.uri);if(s?.method!==r.methodName)throw new vi(Ai.MethodNotSupported,"Method not supported");const d=yield dv.import({portableDid:i,keyManager:o});if(null===(c=d.document.verificationMethod)||void 0===c||!c.some(B=>{var C;return"0"===(null===(C=B.id)||void 0===C?void 0:C.split("#").pop())}))throw new vi(Ai.InvalidDidDocument,"DID document must contain an Identity Key");return d})}static getSigningMethod(n){return Wl(this,arguments,void 0,function*({didDocument:i,methodId:o="#0"}){var c;const s=Ko.parse(i.id);if(s&&s.method!==this.methodName)throw new vi(Ai.MethodNotSupported,`Method not supported: ${s.method}`);const d=null===(c=i.verificationMethod)||void 0===c?void 0:c.find(B=>{var C,b;return Ap(B.id)===(null!==(C=Ap(o))&&void 0!==C?C:Ap(null===(b=i.assertionMethod)||void 0===b?void 0:b[0]))});if(!d||!d.publicKeyJwk)throw new vi(Ai.InternalError,"A verification method intended for signing could not be determined from the DID Document");return d})}static publish(n){return Wl(this,arguments,void 0,function*({did:i,gatewayUri:o=oL}){return yield ny.put({did:i,gatewayUri:o})})}static resolve(n){return Wl(this,arguments,void 0,function*(i,o={}){var c;const s=null!==(c=o?.gatewayUri)&&void 0!==c?c:oL;try{yield Jc.identifierToIdentityKey({didUri:i});const{didDocument:d,didDocumentMetadata:B}=yield ny.get({didUri:i,gatewayUri:s});return Object.assign(Object.assign({},bh),{didDocument:d,didDocumentMetadata:B})}catch(d){if(!(d instanceof vi))throw new Error(d);return Object.assign(Object.assign({},bh),{didResolutionMetadata:Object.assign({error:d.code},d.message&&{errorMessage:d.message})})}})}}return r.methodName="dht",r})();class ny{static get(t){return Wl(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const o=Jc.identifierToIdentityKeyBytes({didUri:n}),c=yield ny.pkarrGet({gatewayUri:i,publicKeyBytes:o}),s=yield Jc.parseBep44GetMessage({bep44Message:c}),d=yield ny.fromDnsPacket({didUri:n,dnsPacket:s});return d.didDocumentMetadata.versionId=c.seq.toString(),d})}static put(t){return Wl(this,arguments,void 0,function*({did:n,gatewayUri:i}){const o=yield ny.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),c=yield Jc.createBep44PutMessage({dnsPacket:o,publicKeyBytes:Jc.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),s=yield ny.pkarrPut({gatewayUri:i,bep44Message:c});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:s,versionId:c.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return Wl(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const o=mn.uint8Array(i).toBase32Z(),c=new URL(o,n).href;let s;try{if(s=yield fetch(c,{method:"GET"}),!s.ok)throw new vi(Ai.NotFound,`Pkarr record not found for: ${o}`)}catch(C){throw C instanceof vi?C:new vi(Ai.InternalError,`Failed to fetch Pkarr record: ${C.message}`)}const d=yield s.arrayBuffer();if(!d)throw new vi(Ai.NotFound,`Pkarr record not found for: ${o}`);if(d.byteLength<72)throw new vi(Ai.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${d.byteLength}`);if(d.byteLength>1072)throw new vi(Ai.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${d.byteLength}`);return{k:i,seq:Number(new DataView(d).getBigUint64(64)),sig:new Uint8Array(d,0,64),v:new Uint8Array(d,72)}})}static pkarrPut(t){return Wl(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const o=mn.uint8Array(i.k).toBase32Z(),c=new URL(o,n).href,s=new Uint8Array(i.v.length+72);let d;s.set(i.sig,0),new DataView(s.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),s.set(i.v,i.sig.length+8);try{d=yield fetch(c,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:s})}catch(B){throw new vi(Ai.InternalError,`Failed to put Pkarr record for identifier ${o}: ${B.message}`)}return d.ok})}static fromDnsPacket(t){return Wl(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var o,c,s;const d={id:n},B={published:!0},C=new Map;for(const b of null!==(o=i?.answers)&&void 0!==o?o:[]){if("TXT"!==b.type)continue;const K=b.name.split(".")[0].substring(1);switch(!0){case K.startsWith("aka"):{const _e=Jc.parseTxtDataToString(b.data);d.alsoKnownAs=_e.split(Tu);break}case K.startsWith("cnt"):{const _e=Jc.parseTxtDataToString(b.data);d.controller=_e.includes(Tu)?_e.split(Tu):_e;break}case K.startsWith("k"):{const{id:_e,t:Ce,k:Te,c:Pe,a:ze}=Jc.parseTxtDataToObject(b.data),rt=mn.base64Url(Te).toUint8Array(),Xe=nf[Number(Ce)];let Ze=yield Jc.keyConverter(Xe).bytesToPublicKey({publicKeyBytes:rt});Ze.alg=ze||lL[Number(Ce)];const lt="k0"===K?"0":void 0!==_e?_e:yield hs({jwk:Ze});null!==(c=d.verificationMethod)&&void 0!==c||(d.verificationMethod=[]);const Et=`${n}#${lt}`;d.verificationMethod.push({id:Et,type:"JsonWebKey",controller:Pe??n,publicKeyJwk:Ze}),C.set(K,Et);break}case K.startsWith("s"):{const _e=Jc.parseTxtDataToObject(b.data),{id:Ce,t:Te,se:Pe}=_e,ze=iL(_e,["id","t","se"]),rt=Pe.includes(Tu)?Pe.split(Tu):[Pe],Xe=Object.fromEntries(Object.entries(ze).map(([Ze,lt])=>[Ze,lt.includes(Tu)?lt.split(Tu):lt]));null!==(s=d.service)&&void 0!==s||(d.service=[]),d.service.push(Object.assign(Object.assign({},Xe),{id:`${n}#${Ce}`,type:Te,serviceEndpoint:rt}));break}case K.startsWith("typ"):{const{id:_e}=Jc.parseTxtDataToObject(b.data);B.types=_e.split(Tu).map(Ce=>Number(Ce));break}case K.startsWith("did"):{const _e=Xe=>Xe.split(Tu).map(Ze=>C.get(Ze)).filter(Ze=>"string"==typeof Ze),{auth:Ce,asm:Te,del:Pe,inv:ze,agm:rt}=Jc.parseTxtDataToObject(b.data);Ce&&(d.authentication=_e(Ce)),Te&&(d.assertionMethod=_e(Te)),Pe&&(d.capabilityDelegation=_e(Pe)),ze&&(d.capabilityInvocation=_e(ze)),rt&&(d.keyAgreement=_e(rt));break}}}return{didDocument:d,didDocumentMetadata:B,didResolutionMetadata:{}}})}static toDnsPacket(t){return Wl(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:o,previousDidProof:c}){var s,d,B,C,b;const K=[],_e=[],Ce=new Map,Te=[],Pe=[];if(void 0!==c){const{signature:Xe,previousDid:Ze}=c;yield Jc.validatePreviousDidProof({newDid:n.id,previousDidProof:c}),K.push({type:"TXT",name:"_prv._did.",ttl:fv,data:`id=${Ze};s=${Xe}`})}if(n.alsoKnownAs&&K.push({type:"TXT",name:"_aka._did.",ttl:fv,data:n.alsoKnownAs.join(Tu)}),n.controller){const Xe=Array.isArray(n.controller)?n.controller.join(Tu):n.controller;K.push({type:"TXT",name:"_cnt._did.",ttl:fv,data:Xe})}for(const[Xe,Ze]of null!==(d=null===(s=n.verificationMethod)||void 0===s?void 0:s.entries())&&void 0!==d?d:[]){const lt=`k${Xe}`;Pe.push(lt);let Et=Ze.id.split("#").pop();Ce.set(Et,lt);const pt=Ze.publicKeyJwk;if(!pt?.crv||!(pt.crv in cL))throw new vi(Ai.InvalidPublicKeyType,`Verification method '${Ze.id}' contains an unsupported key type: ${null!==(B=pt?.crv)&&void 0!==B?B:"undefined"}`);const Mt=nf[pt.crv],Pt=yield Jc.keyConverter(pt.crv).publicKeyToBytes({publicKey:pt}),an=[`t=${Mt}`,`k=${mn.uint8Array(Pt).toBase64Url()}`];"0"!==Et&&(yield hs({jwk:pt}))!==Et&&an.unshift(`id=${Et}`),pt.alg!==lL[Mt]&&an.push(`a=${pt.alg}`),Ze.controller!==n.id&&an.push(`c=${Ze.controller}`),K.push({type:"TXT",name:`_${lt}._did.`,ttl:fv,data:an.join(";")})}null===(C=n.service)||void 0===C||C.forEach((Xe,Ze)=>{const lt=`s${Ze}`;Te.push(lt);let{id:Et,type:pt,serviceEndpoint:Mt}=Xe,Pt=iL(Xe,["id","type","serviceEndpoint"]);Et=Ap(Et),Mt=Array.isArray(Mt)?Mt.join(","):Mt;const an=Object.entries(Object.assign({id:Et,t:pt,se:Mt},Pt)).map(([$n,wn])=>`${$n}=${wn}`).join(";"),_n=Jc.chunkDataIfNeeded(an);K.push({type:"TXT",name:`_${lt}._did.`,ttl:fv,data:_n})});const ze=["v=0"];if(Pe.length&&ze.push(`vm=${Pe.join(Tu)}`),Object.keys($w).forEach(Xe=>{var Ze;const lt=null===(Ze=n[Xe])||void 0===Ze?void 0:Ze.map(Et=>Ce.get(Et.split("#").pop()));lt&&ze.push(`${aL[Xe]}=${lt.join(Tu)}`)}),Te.length&&ze.push(`svc=${Te.join(Tu)}`),null!==(b=i.types)&&void 0!==b&&b.length){const Ze=i.types.map(lt=>"string"==typeof lt?sL[lt]:lt);K.push({type:"TXT",name:"_typ._did.",ttl:fv,data:`id=${Ze.join(Tu)}`})}K.push({type:"TXT",name:"_did."+ny.getUniqueDidSuffix(n.id)+".",ttl:fv,data:ze.join(";")});for(const Xe of o||[])_e.push({type:"NS",name:"_did."+ny.getUniqueDidSuffix(n.id)+".",ttl:fv,data:Xe+"."});return{id:0,type:"response",flags:Sh.hB,answers:[...K,..._e]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class Jc{static createBep44PutMessage(t){return Wl(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:o}){const c=Math.ceil(Date.now()/1e3),s=(0,Sh.lF)(n),d=uv.A.encode({seq:c,v:s}).subarray(1,-1);if(d.length>1e3)throw new vi(Ai.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${d.length} bytes`);return{k:i,seq:c,sig:yield o.sign({data:d}),v:s}})}static identifierToIdentityKey(t){return Wl(this,arguments,void 0,function*({didUri:n}){let i=Jc.identifierToIdentityKeyBytes({didUri:n});return yield gc.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ko.parse(t);if(!n)throw new vi(Ai.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==iB.methodName)throw new vi(Ai.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=mn.base32Z(n.id).toUint8Array()}catch{throw new vi(Ai.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new vi(Ai.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return Wl(this,arguments,void 0,function*({identityKey:n}){const i=yield gc.publicKeyToBytes({publicKey:n}),o=mn.uint8Array(i).toBase32Z();return`did:${iB.methodName}:${o}`})}static keyConverter(t){const i={Ed25519:gc,"P-256":{publicKeyToBytes:o=>Wl(this,[o],void 0,function*({publicKey:c}){const s=yield Ea.publicKeyToBytes({publicKey:c});return yield Ea.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:Ea.bytesToPublicKey,privateKeyToBytes:Ea.privateKeyToBytes,bytesToPrivateKey:Ea.bytesToPrivateKey},secp256k1:{publicKeyToBytes:o=>Wl(this,[o],void 0,function*({publicKey:c}){const s=yield Js.publicKeyToBytes({publicKey:c});return yield Js.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:Js.bytesToPublicKey,privateKeyToBytes:Js.privateKeyToBytes,bytesToPrivateKey:Js.bytesToPrivateKey},X25519:c_}[t];if(!i)throw new vi(Ai.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return Wl(this,arguments,void 0,function*({bep44Message:n}){const i=yield gc.bytesToPublicKey({publicKeyBytes:n.k}),o=uv.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield gc.verify({key:i,signature:n.sig,data:o})))throw new vi(Ai.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,Sh.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[o,c]=i.split("=");return n[o]=c,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return mn.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new vi(Ai.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return Wl(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const o=yield Jc.identifierToIdentityKey({didUri:i.previousDid}),c=Jc.identifierToIdentityKeyBytes({didUri:n}),s=mn.base64Url(i.signature).toUint8Array();if(!(yield gc.verify({key:o,data:c,signature:s})))throw new vi(Ai.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var dL=E(52039),hv=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},ry=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(ry||{});const Xj={Ed25519:ry.Ed25519,ES256K:ry.secp256k1,ES256:ry.secp256r1,"P-256":ry.secp256r1,secp256k1:ry.secp256k1,secp256r1:ry.secp256r1},uL="https://ion.tbd.engineering";let Yj=(()=>{class r extends rB{static create(){return hv(this,arguments,void 0,function*({keyManager:n=new s_,options:i={}}={}){var o,c,s,d,B,C,b;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(pt=>!(pt.algorithm in Xj)))throw new Error("One or more verification method algorithms are not supported");const K=null===(c=i.verificationMethods)||void 0===c?void 0:c.filter(pt=>"id"in pt).map(pt=>pt.id);if(K&&K.length!==new Set(K).size)throw new Error("One or more verification method IDs are not unique");if(null!==(s=i.services)&&void 0!==s&&s.some(pt=>!pt.id||!pt.type||!pt.serviceEndpoint))throw new Error("One or more services are missing required properties");const _e={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Ce=[];for(const pt of null!==(d=i.verificationMethods)&&void 0!==d?d:[_e]){const Mt=yield n.generateKey({algorithm:pt.algorithm}),Pt=yield n.getPublicKey({keyUri:Mt});Ce.push({id:pt.id,publicKeyJwk:Pt,purposes:null!==(B=pt.purposes)&&void 0!==B?B:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Te=yield n.generateKey({algorithm:ry.secp256k1}),Pe=yield n.getPublicKey({keyUri:Te}),ze=yield n.generateKey({algorithm:ry.secp256k1}),rt=yield n.getPublicKey({keyUri:ze}),Xe=yield Mh.computeLongFormDidUri({recoveryKey:Pe,updateKey:rt,services:null!==(C=i.services)&&void 0!==C?C:[],verificationMethods:Ce}),{didDocument:Ze,didResolutionMetadata:lt}=yield r.resolve(Xe,{gatewayUri:i.gatewayUri});if(null===Ze)throw new Error(`Unable to resolve DID during creation: ${lt?.error}`);const Et=new dv({uri:Xe,document:Ze,metadata:{published:!1,canonicalId:Xe.split(":",3).join(":"),recoveryKey:Pe,updateKey:rt},keyManager:n});if(null===(b=i.publish)||void 0===b||b){const pt=yield r.publish({did:Et,gatewayUri:i.gatewayUri});Et.metadata=pt.didDocumentMetadata}return Et})}static getSigningMethod(n){return hv(this,arguments,void 0,function*({didDocument:i,methodId:o}){var c;const s=Ko.parse(i.id);if(s&&s.method!==this.methodName)throw new vi(Ai.MethodNotSupported,`Method not supported: ${s.method}`);const d=null===(c=i.verificationMethod)||void 0===c?void 0:c.find(B=>{var C;return B.id===(o??(null===(C=i.assertionMethod)||void 0===C?void 0:C[0]))});if(!d||!d.publicKeyJwk)throw new vi(Ai.InternalError,"A verification method intended for signing could not be determined from the DID Document");return d})}static import(n){return hv(this,arguments,void 0,function*({portableDid:i,keyManager:o=new s_}){const c=Ko.parse(i.uri);if(c?.method!==r.methodName)throw new vi(Ai.MethodNotSupported,"Method not supported");return yield dv.import({portableDid:i,keyManager:o})})}static publish(n){return hv(this,arguments,void 0,function*({did:i,gatewayUri:o=uL}){var c,s,d;const B=null!==(s=null===(c=i.document.verificationMethod)||void 0===c?void 0:c.map(K=>({id:K.id,publicKeyJwk:K.publicKeyJwk,purposes:Wj({didDocument:i.document,methodId:K.id})})))&&void 0!==s?s:[],C=yield Mh.createIonDocument({services:null!==(d=i.document.service)&&void 0!==d?d:[],verificationMethods:B}),b=yield Mh.constructCreateRequest({ionDocument:C,recoveryKey:i.metadata.recoveryKey,updateKey:i.metadata.updateKey});try{const K=Mh.appendPathToUrl({baseUrl:o,path:"/operations"}),_e=yield fetch(K,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});return{didDocument:i.document,didDocumentMetadata:Object.assign(Object.assign({},i.metadata),{published:_e.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:Ai.InternalError,errorMessage:`Failed to publish DID document for: ${i.uri}`}}}})}static resolve(n){return hv(this,arguments,void 0,function*(i,o={}){var c,s;const d=Ko.parse(i);if(!d)return Object.assign(Object.assign({},bh),{didResolutionMetadata:{error:"invalidDid"}});if(d.method!==r.methodName)return Object.assign(Object.assign({},bh),{didResolutionMetadata:{error:"methodNotSupported"}});const B=null!==(c=o?.gatewayUri)&&void 0!==c?c:uL;try{const C=Mh.appendPathToUrl({baseUrl:B,path:`/identifiers/${i}`}),b=yield fetch(C);if(!b.ok)throw new vi(Ai.NotFound,`Unable to find DID document for: ${i}`);const{didDocument:K,didDocumentMetadata:_e}=yield b.json();return Object.assign(Object.assign(Object.assign({},bh),K&&{didDocument:K}),{didDocumentMetadata:Object.assign({published:null===(s=_e?.method)||void 0===s?void 0:s.published},_e)})}catch(C){if(!(C instanceof vi))throw new Error(C);return Object.assign(Object.assign({},bh),{didResolutionMetadata:Object.assign({error:C.code},C.message&&{errorMessage:C.message})})}})}}return r.methodName="ion",r})();class Mh{static appendPathToUrl({baseUrl:t,path:n}){const i=new URL(t);return i.pathname=i.pathname.endsWith("/")?i.pathname:i.pathname+"/",i.pathname+=n.startsWith("/")?n.substring(1):n,i.toString()}static computeLongFormDidUri(t){return hv(this,arguments,void 0,function*({recoveryKey:n,updateKey:i,services:o,verificationMethods:c}){const s=yield Mh.createIonDocument({services:o,verificationMethods:c}),d=Mh.normalizeJwk(n),B=Mh.normalizeJwk(i);return yield dL.oU.createLongFormDid({document:s,recoveryKey:d,updateKey:B})})}static constructCreateRequest(t){return hv(this,arguments,void 0,function*({ionDocument:n,recoveryKey:i,updateKey:o}){return yield dL.Q2.createCreateRequest({document:n,recoveryKey:Mh.normalizeJwk(i),updateKey:Mh.normalizeJwk(o)})})}static createIonDocument(t){return hv(this,arguments,void 0,function*({services:n,verificationMethods:i}){var o,c;const s=[];for(const C of i){let b=null!==(c=null!==(o=C.id)&&void 0!==o?o:C.publicKeyJwk.kid)&&void 0!==c?c:yield hs({jwk:C.publicKeyJwk});b=`${b.split("#").pop()}`;const K={id:b,publicKeyJwk:Mh.normalizeJwk(C.publicKeyJwk),purposes:C.purposes,type:"JsonWebKey2020"};s.push(K)}return{publicKeys:s,services:n.map(C=>Object.assign(Object.assign({},C),{id:`${C.id.split("#").pop()}`}))}})}static normalizeJwk(t){const n=t.kty;let i;if("EC"===n)i={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===n)i={k:t.k,kty:t.kty};else if("OKP"===n)i={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==n)throw new Error(`Unsupported key type: ${n}`);i={e:t.e,kty:t.kty,n:t.n}}return i}}var Tp=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},pv=function(r){return r.Ed25519="Ed25519",r.secp256k1="secp256k1",r.secp256r1="secp256r1",r.X25519="X25519",r}(pv||{});const oB={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},Jj={Ed25519:pv.Ed25519,ES256K:pv.secp256k1,ES256:pv.secp256r1,"P-256":pv.secp256r1,secp256k1:pv.secp256k1,secp256r1:pv.secp256r1,X25519:pv.X25519};let qj=(()=>{class r extends rB{static create(){return Tp(this,arguments,void 0,function*({keyManager:n=new s_,options:i={}}={}){var o,c,s,d;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const B=null!==(d=null!==(o=i.algorithm)&&void 0!==o?o:null===(s=null===(c=i.verificationMethods)||void 0===c?void 0:c[0])||void 0===s?void 0:s.algorithm)&&void 0!==d?d:"Ed25519",C=yield n.generateKey({algorithm:B}),b=yield n.getPublicKey({keyUri:C}),K=yield iy.publicKeyToMultibaseId({publicKey:b}),_e=`did:${r.methodName}:${K}`,Te=(yield r.resolve(_e,i)).didDocument;return new dv({uri:_e,document:Te,metadata:{},keyManager:n})})}static getSigningMethod(n){return Tp(this,arguments,void 0,function*({didDocument:i}){var o;const c=Ko.parse(i.id);if(c&&c.method!==this.methodName)throw new vi(Ai.MethodNotSupported,`Method not supported: ${c.method}`);const[s]=i.assertionMethod||[],d=null===(o=i.verificationMethod)||void 0===o?void 0:o.find(B=>B.id===s);if(!d||!d.publicKeyJwk)throw new vi(Ai.InternalError,"A verification method intended for signing could not be determined from the DID Document");return d})}static import(n){return Tp(this,arguments,void 0,function*({portableDid:i,keyManager:o=new s_}){const c=Ko.parse(i.uri);if(c?.method!==r.methodName)throw new vi(Ai.MethodNotSupported,"Method not supported");const s=yield dv.import({portableDid:i,keyManager:o});if(1!==s.document.verificationMethod.length)throw new vi(Ai.InvalidDidDocument,"DID document must contain exactly one verification method");return s})}static resolve(n,i){return Tp(this,void 0,void 0,function*(){try{const o=yield r.createDocument({didUri:n,options:i});return Object.assign(Object.assign({},bh),{didDocument:o})}catch(o){if(!(o instanceof vi))throw new Error(o);return Object.assign(Object.assign({},bh),{didResolutionMetadata:Object.assign({error:o.code},o.message&&{errorMessage:o.message})})}})}static createDocument(n){return Tp(this,arguments,void 0,function*({didUri:i,options:o={}}){const{defaultContext:c="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:s=!1,enableExperimentalPublicKeyTypes:d=!1,publicKeyFormat:B="JsonWebKey2020"}=o,C={id:""},b=Ko.parse(i);if(!b)throw new vi(Ai.InvalidDid,`Invalid DID URI: ${i}`);const K=b.id;if(b.method!==r.methodName)throw new vi(Ai.MethodNotSupported,`Method not supported: ${b.method}`);if(!r.validateIdentifier(b))throw new vi(Ai.InvalidDid,`Invalid DID URI: ${i}`);const _e=yield r.createSignatureMethod({didUri:i,multibaseValue:K,options:{enableExperimentalPublicKeyTypes:d,publicKeyFormat:B}});if(C.id=b.uri,C.verificationMethod=[_e],C.authentication=[_e.id],C.assertionMethod=[_e.id],C.capabilityInvocation=[_e.id],C.capabilityDelegation=[_e.id],!0===s){const Pe="Ed25519VerificationKey2020"===B?"X25519KeyAgreementKey2020":"JsonWebKey2020",ze=yield this.createEncryptionMethod({didUri:i,multibaseValue:K,options:{enableExperimentalPublicKeyTypes:d,publicKeyFormat:Pe}});C.verificationMethod.push(ze),C.keyAgreement=[ze.id]}const Ce=[c];return function Hj({didDocument:r}){const n=tB({didDocument:r}).map(i=>i.type);return[...new Set(n)]}({didDocument:C}).forEach(Pe=>{Ce.push(oB[Pe])}),C["@context"]=Ce,C})}static createEncryptionMethod(n){return Tp(this,arguments,void 0,function*({didUri:i,multibaseValue:o,options:c}){const{enableExperimentalPublicKeyTypes:s,publicKeyFormat:d}=c,B={id:"",type:"",controller:""},{keyBytes:C,multicodecCode:b}=yield r.deriveEncryptionKey({multibaseValue:o}),K=C.byteLength,_e=iy.MULTICODEC_PUBLIC_KEY_LENGTH[b];if(K!==_e)throw new vi(Ai.InvalidPublicKeyLength,`Expected ${K} bytes. Actual: ${_e}`);const Ce=tL({keyBytes:C,multicodecCode:b});B.id=`${i}#${Ce}`;try{new URL(B.id)}catch{throw new vi(Ai.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(d in oB))throw new vi(Ai.UnsupportedPublicKeyType,`Unsupported format: ${d}`);if(!1===s&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(d))throw new vi(Ai.InvalidPublicKeyType,`Specified '${d}' without setting enableExperimentalPublicKeyTypes to true.`);if(B.type=d,B.controller=i,"X25519KeyAgreementKey2020"===d&&(B.publicKeyMultibase=Ce),"JsonWebKey2020"===d){const{crv:Pe}=yield iy.multicodecToJwk({code:b});B.publicKeyJwk=yield iy.keyConverter(Pe).bytesToPublicKey({publicKeyBytes:C})}return B})}static createSignatureMethod(n){return Tp(this,arguments,void 0,function*({didUri:i,multibaseValue:o,options:c}){const{enableExperimentalPublicKeyTypes:s,publicKeyFormat:d}=c,B={id:"",type:"",controller:""},{keyBytes:C,multicodecCode:b,multicodecName:K}=nL({multibaseKeyId:o}),_e=C.byteLength,Ce=iy.MULTICODEC_PUBLIC_KEY_LENGTH[b];if(_e!==Ce)throw new vi(Ai.InvalidPublicKeyLength,`Expected ${_e} bytes. Actual: ${Ce}`);let Te=!1;switch(K){case"secp256k1-pub":Te=yield Js.validatePublicKey({publicKeyBytes:C});break;case"ed25519-pub":Te=yield gc.validatePublicKey({publicKeyBytes:C});break;case"x25519-pub":Te=!0}if(!Te)throw new vi(Ai.InvalidPublicKey,"Invalid public key detected.");B.id=`${i}#${o}`;try{new URL(B.id)}catch{throw new vi(Ai.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(d in oB))throw new vi(Ai.UnsupportedPublicKeyType,`Unsupported format: ${d}`);if(!1===s&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(d))throw new vi(Ai.InvalidPublicKeyType,`Specified '${d}' without setting enableExperimentalPublicKeyTypes to true.`);if(B.type=d,B.controller=i,"Ed25519VerificationKey2020"===d&&(B.publicKeyMultibase=o),"JsonWebKey2020"===d){const{crv:ze}=yield iy.multicodecToJwk({code:b});B.publicKeyJwk=yield iy.keyConverter(ze).bytesToPublicKey({publicKeyBytes:C})}return B})}static deriveEncryptionKey(n){return Tp(this,arguments,void 0,function*({multibaseValue:i}){let o={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:c,multicodecCode:s}=nL({multibaseKeyId:i});if(237===s){const d=yield iy.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:c}),B=yield gc.convertPublicKeyToX25519({publicKey:d});o={keyBytes:yield iy.keyConverter("Ed25519").publicKeyToBytes({publicKey:B}),multicodecCode:236}}return o})}static validateIdentifier(n){const{method:i,id:o}=n,[c]=n.uri.split(":",1);return"did"===c&&"key"===i&&Number("1")>0&&"String"===b2(o)&&o.startsWith("z")}}return r.methodName="key",r})(),iy=(()=>{class r{static jwkToMulticodec(n){return Tp(this,arguments,void 0,function*({jwk:i}){const o=[];i.crv&&(o.push(i.crv),o.push(i.d?"private":"public"));const c=o.join(":"),s=r.JWK_TO_MULTICODEC[c];if(void 0===s)throw new Error(`Unsupported JWK to Multicodec conversion: '${c}'`);return{code:Pa.getCodeFromName({name:s}),name:s}})}static keyCompressor(n){const o={"P-256":Ea.compressPublicKey,secp256k1:Js.compressPublicKey}[n];if(!o)throw new vi(Ai.InvalidPublicKeyType,`Unsupported curve: ${n}`);return o}static keyConverter(n){const o={Ed25519:gc,"P-256":Ea,secp256k1:Js,X25519:c_}[n];if(!o)throw new vi(Ai.InvalidPublicKeyType,`Unsupported curve: ${n}`);return o}static multicodecToJwk(n){return Tp(this,arguments,void 0,function*({code:i,name:o}){if(!(o?!i:i))throw new Error("Either 'name' or 'code' must be defined, but not both.");o=void 0===o?Pa.getNameFromCode({code:i}):o;const s=r.MULTICODEC_TO_JWK[o];if(void 0===s)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},s)})}static publicKeyToMultibaseId(n){return Tp(this,arguments,void 0,function*({publicKey:i}){var o;if(!i?.crv||!(i.crv in Jj))throw new vi(Ai.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(o=i?.crv)&&void 0!==o?o:"undefined"}`);let c=yield r.keyConverter(i.crv).publicKeyToBytes({publicKey:i});/^(secp256k1|P-256|P-384|P-521)$/.test(i.crv)&&(c=yield r.keyCompressor(i.crv)({publicKeyBytes:c}));const{name:s}=yield r.jwkToMulticodec({jwk:i});return tL({keyBytes:c,multicodecName:s})})}}return r.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},r.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},r.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},r})();var Qj=E(14078),eK=E(42064);class nK{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new eK.Level(n),this.ttl=Qj(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},o=JSON.stringify(i);return this.cache.put(t,o)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const rK={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var fL=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class iK{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||rK;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return fL(this,void 0,void 0,function*(){const i=Ko.parse(t);if(!i)return Object.assign(Object.assign({},bh),{didResolutionMetadata:{error:Ai.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const o=this.didResolvers.get(i.method);if(!o)return Object.assign(Object.assign({},bh),{didResolutionMetadata:{error:Ai.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const c=yield this.cache.get(i.uri);if(c)return c;{const s=yield o.resolve(i.uri,n);return s.didResolutionMetadata.error||(yield this.cache.set(i.uri,s)),s}})}dereference(t,n){return fL(this,void 0,void 0,function*(){const i=Ko.parse(t);if(!i)return{dereferencingMetadata:{error:Ai.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:o,didResolutionMetadata:c,didDocumentMetadata:s}=yield this.resolve(i.uri);if(!o)return{dereferencingMetadata:{error:c.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:o,contentMetadata:s};const{service:d=[],verificationMethod:B=[]}=o,C=new Set([t,i.fragment,`#${i.fragment}`]);let b;for(let K of B)if(C.has(K.id)){b=K;break}for(let K of d)if(C.has(K.id)){b=K;break}return b?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:b,contentMetadata:c}:{dereferencingMetadata:{error:Ai.NotFound},contentStream:null,contentMetadata:{}}})}}var K2=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class sB{constructor(t){this.didResolver=t.didResolver,this.tenantGate=t.tenantGate,this.eventStream=t.eventStream,this.messageStore=t.messageStore,this.dataStore=t.dataStore,this.resumableTaskStore=t.resumableTaskStore,this.eventLog=t.eventLog,this.eventStream=t.eventStream,this.storageController=new wp({messageStore:this.messageStore,dataStore:this.dataStore,eventLog:this.eventLog,eventStream:this.eventStream}),this.resumableTaskManager=new L6(t.resumableTaskStore,this.storageController),this.methodHandlers={[Mi.Messages+Xr.Query]:new IA(this.didResolver,this.messageStore,this.eventLog),[Mi.Messages+Xr.Read]:new p2(this.didResolver,this.messageStore,this.dataStore),[Mi.Messages+Xr.Subscribe]:new O6(this.didResolver,this.messageStore,this.eventStream),[Mi.Protocols+Xr.Configure]:new kA(this.didResolver,this.messageStore,this.eventLog,this.eventStream),[Mi.Protocols+Xr.Query]:new B6(this.didResolver,this.messageStore,this.dataStore),[Mi.Records+Xr.Delete]:new y2(this.didResolver,this.messageStore,this.resumableTaskManager),[Mi.Records+Xr.Query]:new Im(this.didResolver,this.messageStore,this.dataStore),[Mi.Records+Xr.Read]:new F6(this.didResolver,this.messageStore,this.dataStore),[Mi.Records+Xr.Subscribe]:new bp(this.didResolver,this.messageStore,this.eventStream),[Mi.Records+Xr.Write]:new Jg(this.didResolver,this.messageStore,this.dataStore,this.eventLog,this.eventStream)}}static create(t){var n,i;return K2(this,void 0,void 0,function*(){null!==(n=t.didResolver)&&void 0!==n||(t.didResolver=new iK({didResolvers:[iB,Yj,qj],cache:new nK({location:"RESOLVERCACHE"})})),null!==(i=t.tenantGate)&&void 0!==i||(t.tenantGate=new NO);const o=new sB(t);return yield o.open(),o})}open(){var t;return K2(this,void 0,void 0,function*(){yield this.messageStore.open(),yield this.dataStore.open(),yield this.resumableTaskStore.open(),yield this.eventLog.open(),yield null===(t=this.eventStream)||void 0===t?void 0:t.open(),yield this.resumableTaskManager.resumeTasksAndWaitForCompletion()})}close(){var t;return K2(this,void 0,void 0,function*(){yield null===(t=this.eventStream)||void 0===t?void 0:t.close(),yield this.messageStore.close(),yield this.dataStore.close(),yield this.resumableTaskStore.close(),yield this.eventLog.close()})}processMessage(t,n,i={}){var o;return K2(this,void 0,void 0,function*(){const c=null!==(o=yield this.validateTenant(t))&&void 0!==o?o:yield this.validateMessageIntegrity(n);if(void 0!==c)return c;const{dataStream:s,subscriptionHandler:d}=i,B=n.descriptor.interface+n.descriptor.method;return yield this.methodHandlers[B].handle({tenant:t,message:n,dataStream:s,subscriptionHandler:d})})}validateTenant(t){var n;return K2(this,void 0,void 0,function*(){const i=yield this.tenantGate.isActiveTenant(t);if(!i.isActiveTenant)return{status:{code:401,detail:null!==(n=i.detail)&&void 0!==n?n:`DID ${t} is not an active tenant.`}}})}validateMessageIntegrity(t){var n,i;return K2(this,void 0,void 0,function*(){const o=null===(n=t?.descriptor)||void 0===n?void 0:n.interface,c=null===(i=t?.descriptor)||void 0===i?void 0:i.method;if(void 0===o||void 0===c)return{status:{code:400,detail:`Both interface and method must be present, interface: ${o}, method: ${c}`}};try{Dr.validateJsonSchema(t)}catch(s){return Qi(s,400)}})}}function sK(r){return new Promise((t,n)=>{r.aborted?n(r.reason):r.addEventListener("abort",()=>{n(r.reason)})})}function xd(r,t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return t?Promise.race([r,sK(t)]):r})}var Pf=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},Ip=function(r){return this instanceof Ip?(this.v=r,this):new Ip(r)},aB=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(s){return new Promise(function(d,B){!function o(c,s,d,B){Promise.resolve(B).then(function(C){c({value:C,done:d})},s)}(d,B,(s=r[c](s)).done,s.value)})}}},pL=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),c=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(_e){i[_e]&&(o[_e]=function(Ce){return new Promise(function(Te,Pe){c.push([_e,Ce,Te,Pe])>1||d(_e,Ce)})})}function d(_e,Ce){try{!function B(_e){_e.value instanceof Ip?Promise.resolve(_e.value.v).then(C,b):K(c[0][2],_e)}(i[_e](Ce))}catch(Te){K(c[0][3],Te)}}function C(_e){d("next",_e)}function b(_e){d("throw",_e)}function K(_e,Ce){_e(Ce),c.shift(),c.length&&d(c[0][0],c[0][1])}};function l_(r,t){return Pf(this,void 0,void 0,function*(){return new jA.Level(r,Object.assign(Object.assign({},t),{keyEncoding:"utf8"}))})}class $2{constructor(t,n){this.config=Object.assign({createLevelDatabase:l_},t),this.db=n}open(){return Pf(this,void 0,void 0,function*(){switch(yield this.createLevelDatabase(),this.db.status){case"open":return;case"opening":return new Promise(t=>{this.db.once("open",t)});case"closing":return new Promise((t,n)=>{this.db.once("closed",()=>{this.db.open().then(t).catch(n)})});case"closed":return this.db.open()}})}close(){return Pf(this,void 0,void 0,function*(){if(this.db)switch(this.db.status){case"open":return this.db.close();case"opening":return new Promise((t,n)=>{this.db.once("open",()=>{this.db.close().then(t).catch(n)})});case"closing":return new Promise(t=>{this.db.once("closed",t)});case"closed":return}})}partition(t){return Pf(this,void 0,void 0,function*(){return yield this.createLevelDatabase(),new $2(this.config,this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}get(t,n){var i;return Pf(this,void 0,void 0,function*(){null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield xd(this.createLevelDatabase(),n?.signal);try{return yield xd(this.db.get(String(t)),n?.signal)}catch(o){if("LEVEL_NOT_FOUND"===o.code)return;throw o}})}has(t,n){return Pf(this,void 0,void 0,function*(){return!!(yield this.get(t,n))})}keys(t){var n,i;return pL(this,arguments,function*(){var c,s,d;null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield Ip(xd(this.createLevelDatabase(),t?.signal));try{for(var K,C=!0,b=aB(this.db.keys());!(c=(K=yield Ip(b.next())).done);C=!0){C=!1;const _e=K.value;null===(i=t?.signal)||void 0===i||i.throwIfAborted(),yield yield Ip(_e)}}catch(_e){s={error:_e}}finally{try{!C&&!c&&(d=b.return)&&(yield Ip(d.call(b)))}finally{if(s)throw s.error}}})}iterator(t,n){var i,o;return pL(this,arguments,function*(){var s,d,B;null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield Ip(xd(this.createLevelDatabase(),n?.signal));try{for(var _e,b=!0,K=aB(this.db.iterator(t));!(s=(_e=yield Ip(K.next())).done);b=!0){b=!1;const Ce=_e.value;null===(o=n?.signal)||void 0===o||o.throwIfAborted(),yield yield Ip(Ce)}}catch(Ce){d={error:Ce}}finally{try{!b&&!s&&(B=K.return)&&(yield Ip(B.call(K)))}finally{if(d)throw d.error}}})}put(t,n,i){var o;return Pf(this,void 0,void 0,function*(){return null===(o=i?.signal)||void 0===o||o.throwIfAborted(),yield xd(this.createLevelDatabase(),i?.signal),xd(this.db.put(String(t),n),i?.signal)})}delete(t,n){var i;return Pf(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield xd(this.createLevelDatabase(),n?.signal),xd(this.db.del(String(t)),n?.signal)})}isEmpty(t){var n,i,o;return Pf(this,void 0,void 0,function*(){try{for(var B,s=!0,d=aB(this.keys(t));B=yield d.next(),!(n=B.done);s=!0)return s=!1,!1}catch(C){i={error:C}}finally{try{!s&&!n&&(o=d.return)&&(yield o.call(d))}finally{if(i)throw i.error}}return!0})}clear(){return Pf(this,void 0,void 0,function*(){yield this.createLevelDatabase(),yield this.db.clear(),yield this.compactUnderlyingStorage()})}batch(t,n){var i;return Pf(this,void 0,void 0,function*(){return null===(i=n?.signal)||void 0===i||i.throwIfAborted(),yield xd(this.createLevelDatabase(),n?.signal),xd(this.db.batch(t),n?.signal)})}createPartitionOperation(t,n){return Object.assign(Object.assign({},n),{sublevel:this.db.sublevel(t,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding})})}compactUnderlyingStorage(t){var n,i,o;return Pf(this,void 0,void 0,function*(){null===(n=t?.signal)||void 0===n||n.throwIfAborted(),yield xd(this.createLevelDatabase(),t?.signal);const c=this.sublevelRange;if(!c)return;const s=this.root;return s.db.supports.additionalMethods.compactRange?xd(null===(o=(i=s.db).compactRange)||void 0===o?void 0:o.call(i,...c),t?.signal):void 0})}get sublevelRange(){const t=this.db.prefix;if(!t)return;const n=t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+1);return[t,n]}get root(){let t=this.db;for(const n=t.db;n&&n!==t;)t=n;return new $2(this.config,t)}createLevelDatabase(){var t;return Pf(this,void 0,void 0,function*(){null!==(t=this.db)&&void 0!==t||(this.db=yield this.config.createLevelDatabase(this.config.location,{keyEncoding:"utf8",valueEncoding:this.config.valueEncoding}))})}}var oy=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},k5=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(s){return new Promise(function(d,B){!function o(c,s,d,B){Promise.resolve(B).then(function(C){c({value:C,done:d})},s)}(d,B,(s=r[c](s)).done,s.value)})}}},Gl=function(r){return this instanceof Gl?(this.v=r,this):new Gl(r)},P5=function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),c=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(_e){i[_e]&&(o[_e]=function(Ce){return new Promise(function(Te,Pe){c.push([_e,Ce,Te,Pe])>1||d(_e,Ce)})})}function d(_e,Ce){try{!function B(_e){_e.value instanceof Gl?Promise.resolve(_e.value.v).then(C,b):K(c[0][2],_e)}(i[_e](Ce))}catch(Te){K(c[0][3],Te)}}function C(_e){d("next",_e)}function b(_e){d("throw",_e)}function K(_e,Ce){_e(Ce),c.shift(),c.length&&d(c[0][0],c[0][1])}};class R5{constructor(t,n){this.config=Object.assign({createLevelDatabase:l_},t),this.db=n??new $2(Object.assign(Object.assign({},this.config),{valueEncoding:"binary"}))}open(){return oy(this,void 0,void 0,function*(){return this.db.open()})}close(){return oy(this,void 0,void 0,function*(){return this.db.close()})}partition(t){return oy(this,void 0,void 0,function*(){const n=yield this.db.partition(t);return new R5(Object.assign(Object.assign({},this.config),{location:""}),n)})}put(t,n,i){return oy(this,void 0,void 0,function*(){return yield this.db.put(String(t),n,i),oo.parse(t.toString())})}get(t,n){return oy(this,void 0,void 0,function*(){return yield this.db.get(String(t),n)})}has(t,n){return oy(this,void 0,void 0,function*(){return this.db.has(String(t),n)})}delete(t,n){return oy(this,void 0,void 0,function*(){return this.db.delete(String(t),n)})}isEmpty(t){return oy(this,void 0,void 0,function*(){return this.db.isEmpty(t)})}putMany(t,n){return P5(this,arguments,function*(){var o,c,s;try{for(var b,B=!0,C=k5(t);!(o=(b=yield Gl(C.next())).done);B=!0){B=!1;const K=b.value;yield Gl(this.put(K.cid,K.block,n)),yield yield Gl(K.cid)}}catch(K){c={error:K}}finally{try{!B&&!o&&(s=C.return)&&(yield Gl(s.call(C)))}finally{if(c)throw c.error}}})}getMany(t,n){return P5(this,arguments,function*(){var o,c,s;try{for(var b,B=!0,C=k5(t);!(o=(b=yield Gl(C.next())).done);B=!0){B=!1;const K=b.value;yield yield Gl({cid:K,block:yield Gl(this.get(K,n))})}}catch(K){c={error:K}}finally{try{!B&&!o&&(s=C.return)&&(yield Gl(s.call(C)))}finally{if(c)throw c.error}}})}getAll(t){return P5(this,arguments,function*(){var i,o,c,s;const d=this.db.iterator({keys:!0,keyEncoding:"buffer"},t);try{for(var b,B=!0,C=k5(d);!(i=(b=yield Gl(C.next())).done);B=!0){s=b.value,B=!1;const[K,_e]=s;yield yield Gl({cid:oo.decode(K),block:_e})}}catch(K){o={error:K}}finally{try{!B&&!i&&(c=C.return)&&(yield Gl(c.call(C)))}finally{if(o)throw o.error}}})}deleteMany(t,n){return P5(this,arguments,function*(){var o,c,s;try{for(var b,B=!0,C=k5(t);!(o=(b=yield Gl(C.next())).done);B=!0){B=!1;const K=b.value;yield Gl(this.delete(K,n)),yield yield Gl(K)}}catch(K){c={error:K}}finally{try{!B&&!o&&(s=C.return)&&(yield Gl(s.call(C)))}finally{if(c)throw c.error}}})}clear(){return oy(this,void 0,void 0,function*(){return this.db.clear()})}}var Rc=E(42853);const lK=function cK(r){if(function aK(r){return null!=r[Symbol.asyncIterator]}(r))return(0,bt.A)(function*(){let n;var c,i=!1,o=!1;try{for(var d,s=uo(r);i=!(d=yield s.next()).done;i=!1)n=d.value}catch(B){o=!0,c=B}finally{try{i&&null!=s.return&&(yield s.return())}finally{if(o)throw c}}return n})();let t;for(const n of r)t=n;return t},fK=function(){var r=(0,bt.A)(function*(t,n,i,o,c,s,d,B){const C=yield d.get(t,B),b=nb(C);let K=b,_e=i;for(;o.length>0;){const Ce=o[0];if(!(Ce in K))throw Rc(new Error(`No property named ${Ce} found in cbor node ${t}`),"ERR_NO_PROP");{o.shift(),_e=`${_e}/${Ce}`;const Te=oo.asCID(K[Ce]);if(null!=Te)return{entry:{type:"object",name:n,path:i,cid:t,node:C,depth:s,size:BigInt(C.length),content:function(){var Pe=Po(function*(){yield b});return function(){return Pe.apply(this,arguments)}}()},next:{cid:Te,name:Ce,path:_e,toResolve:o}};K=K[Ce]}}return{entry:{type:"object",name:n,path:i,cid:t,node:C,depth:s,size:BigInt(C.length),content:(Ce=Po(function*(){yield b}),function(){return Ce.apply(this,arguments)})}};var Ce});return function(n,i,o,c,s,d,B,C){return r.apply(this,arguments)}}(),O5=function hK(r,t,n,i){const o=BigInt(r.length),c=BigInt(t+o);return n>=c||i<t?new Uint8Array(0):(i>=t&&i<c&&(r=r.subarray(0,Number(i-t))),n>=t&&n<c&&(r=r.subarray(Number(n-t))),r)},cB=(r,t=0,n=r)=>{const i=BigInt(r),o=BigInt(t??0);let c=BigInt(n);if(c!==i&&(c=o+c),c>i&&(c=i),o<0n)throw Rc(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(o>i)throw Rc(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(c<0n)throw Rc(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(c>i)throw Rc(new Error("Length must be less than the file size"),"ERR_INVALID_PARAMS");return{start:o,end:c}},pK=r=>{function n(){return(n=Po(function*(i={}){const{start:o,end:c}=cB(r.length,i.offset,i.length),s=O5(r,0n,o,c);i.onProgress?.(new Zu("unixfs:exporter:progress:identity",{bytesRead:BigInt(s.byteLength),totalBytes:c-o,fileSize:BigInt(r.byteLength)})),yield s})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},mK=function(){var r=(0,bt.A)(function*(t,n,i,o,c,s,d,B){if(o.length>0)throw Rc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const C=On(t.multihash.bytes);return{entry:{type:"identity",name:n,path:i,cid:t,content:pK(C.digest),depth:s,size:BigInt(C.digest.length),node:C.digest}}});return function(n,i,o,c,s,d,B,C){return r.apply(this,arguments)}}(),yK=r=>{function n(){return(n=Po(function*(i={}){const{start:o,end:c}=cB(r.length,i.offset,i.length),s=O5(r,0n,o,c);i.onProgress?.(new Zu("unixfs:exporter:progress:raw",{bytesRead:BigInt(s.byteLength),totalBytes:c-o,fileSize:BigInt(r.byteLength)})),yield s})).apply(this,arguments)}return function t(){return n.apply(this,arguments)}},gK=function(){var r=(0,bt.A)(function*(t,n,i,o,c,s,d,B){if(o.length>0)throw Rc(new Error(`No link named ${i} found in raw node ${t}`),"ERR_NOT_FOUND");const C=yield d.get(t,B);return{entry:{type:"raw",name:n,path:i,cid:t,content:yK(C),depth:s,size:BigInt(C.length),node:C}}});return function(n,i,o,c,s,d,B,C){return r.apply(this,arguments)}}(),vK=function(){var r=(0,bt.A)(function*(t){return(yield oM.encode(t)).slice(0,8).reverse()});return function(n){return r.apply(this,arguments)}}(),bK=function(){var r=(0,bt.A)(function*(t,n,i){yield Promise.all(t.map(function(){var o=(0,bt.A)(function*(c){if(null==c.Name)throw new Error("Unexpected Link without a Name");if(2!==c.Name.length)yield i.put(c.Name.substring(2),!0);else{const s=parseInt(c.Name,16);n._putObjectAt(s,new yu({hash:i._options.hash,bits:i._options.bits},n,s))}});return function(c){return o.apply(this,arguments)}}()))});return function(n,i,o){return r.apply(this,arguments)}}(),gL=r=>r.toString(16).toUpperCase().padStart(2,"0").substring(0,2),vL=function(){var r=(0,bt.A)(function*(t,n,i,o,c){if(null==o){const K=yE({hashFn:vK});o={rootBucket:K,hamtDepth:1,lastBucket:K}}yield bK(t.Links,o.lastBucket,o.rootBucket);const s=yield o.rootBucket._findNewBucketAndPos(n);let d=gL(s.pos);const B=(r=>{let t=r.bucket;const n=[];for(;null!=t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(s);B.length>o.hamtDepth&&(o.lastBucket=B[o.hamtDepth],d=gL(o.lastBucket._posAtParent));const C=t.Links.find(K=>{if(null==K.Name)return!1;const _e=K.Name.substring(0,2),Ce=K.Name.substring(2);return!(_e!==d||""!==Ce&&Ce!==n)});if(null!=C)return null!=C.Name&&C.Name.substring(2)===n?C.Hash:(o.hamtDepth++,t=th(yield i.get(C.Hash,c)),vL(t,n,i,o,c))});return function(n,i,o,c,s){return r.apply(this,arguments)}}(),_K=vL,bL=function EK(r){const[t,n]=null!=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>t.next(),push:o=>{i.push(o)},next:()=>i.length>0?{done:!1,value:i.shift()}:t.next(),[n](){return this}}},lB=function TK(r,t){let n=0;if(function AK(r){return null!=r[Symbol.asyncIterator]}(r))return Po(function*(){var b,B=!1,C=!1;try{for(var _e,K=uo(r);B=!(_e=yield Zr(K.next())).done;B=!1){const Ce=_e.value;yield t(Ce,n++)}}catch(Ce){C=!0,b=Ce}finally{try{B&&null!=K.return&&(yield Zr(K.return()))}finally{if(C)throw b}}})();const i=bL(r),{value:o,done:c}=i.next();if(!0===c)return function*(){}();const s=t(o,n++);if("function"==typeof s.then)return Po(function*(){yield yield Zr(s);var b,B=!1,C=!1;try{for(var _e,K=uo(i);B=!(_e=yield Zr(K.next())).done;B=!1){const Ce=_e.value;yield t(Ce,n++)}}catch(Ce){C=!0,b=Ce}finally{try{B&&null!=K.return&&(yield Zr(K.return()))}finally{if(C)throw b}}})();const d=t;return function*(){yield s;for(const B of i)yield d(B,n++)}()};function V2(){const r={};return r.promise=new Promise((t,n)=>{r.resolve=t,r.reject=n}),r}const B5=globalThis.CustomEvent??Event;function dB(r){return uB.apply(this,arguments)}function uB(){return(uB=Po(function*(r,t={}){let n=t.concurrency??1/0;n<1&&(n=1/0);const i=null!=t.ordered&&t.ordered,o=new EventTarget,c=[];let C,s=V2(),d=V2(),B=!1,b=!1;function K(){return i?c[0]?.done:!!c.find(Te=>Te.done)}function*_e(){for(;c.length>0&&c[0].done;){const Te=c[0];if(c.shift(),!Te.ok)throw b=!0,s.resolve(),Te.err;yield Te.value,s.resolve()}}function*Ce(){for(;K();)for(let Te=0;Te<c.length;Te++)if(c[Te].done){const Pe=c[Te];if(c.splice(Te,1),Te--,!Pe.ok)throw b=!0,s.resolve(),Pe.err;yield Pe.value,s.resolve()}}for(o.addEventListener("task-complete",()=>{d.resolve()}),Promise.resolve().then((0,bt.A)(function*(){try{var ze,Te=!1,Pe=!1;try{for(var Xe,rt=uo(r);Te=!(Xe=yield rt.next()).done;Te=!1){const Ze=Xe.value;{if(c.length===n&&(s=V2(),yield s.promise),b)break;const lt={done:!1};c.push(lt),Ze().then(Et=>{lt.done=!0,lt.ok=!0,lt.value=Et,o.dispatchEvent(new B5("task-complete"))},Et=>{lt.done=!0,lt.err=Et,o.dispatchEvent(new B5("task-complete"))})}}}catch(Ze){Pe=!0,ze=Ze}finally{try{Te&&null!=rt.return&&(yield rt.return())}finally{if(Pe)throw ze}}B=!0,o.dispatchEvent(new B5("task-complete"))}catch(Ze){C=Ze,o.dispatchEvent(new B5("task-complete"))}}));;){if(K()||(d=V2(),yield Zr(d.promise)),null!=C)throw C;if(i?yield*xf(uo(_e())):yield*xf(uo(Ce())),B&&0===c.length)break}})).apply(this,arguments)}class wL{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){const t=this.buffer[this.btm];if(void 0!==t)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return void 0===this.buffer[this.btm]}}class fB{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new wL(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return null!=t?.byteLength?t.byteLength:1}push(t){null!=t?.value&&(this.size+=this.calculateSize(t.value)),this.head.push(t)||(this.head=this.head.next=new wL(2*this.head.buffer.length),this.head.push(t))}shift(){let t=this.tail.shift();if(void 0===t&&null!=this.tail.next){const n=this.tail.next;this.tail.next=null,this.tail=n,t=this.tail.shift()}return null!=t?.value&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}}class IK extends Error{type;code;constructor(t,n){super(t??"The operation was aborted"),this.type="aborted",this.code=n??"ABORT_ERR"}}function hB(r={}){return function _L(r,t){let o,c,s,n=(t=t??{}).onEnd,i=new fB,d=V2();const B=function(){var ze=(0,bt.A)(function*(){try{return i.isEmpty()?s?{done:!0}:yield new Promise((rt,Xe)=>{c=Ze=>{c=null,i.push(Ze);try{rt(r(i))}catch(lt){Xe(lt)}return o}}):r(i)}finally{i.isEmpty()&&queueMicrotask(()=>{d.resolve(),d=V2()})}});return function(){return ze.apply(this,arguments)}}(),C=ze=>null!=c?c(ze):(i.push(ze),o),K=ze=>{if(s)return o;if(!0!==t?.objectMode&&null==ze?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return C({done:!1,value:ze})},_e=ze=>s?o:(s=!0,null!=ze?(ze=>(i=new fB,null!=c?c({error:ze}):(i.push({error:ze}),o)))(ze):C({done:!0}));if(o={[Symbol.asyncIterator](){return this},next:B,return:()=>(i=new fB,_e(),{done:!0}),throw:ze=>(_e(ze),{done:!0}),push:K,end:_e,get readableLength(){return i.size},onEmpty:(ze=(0,bt.A)(function*(rt){const Xe=rt?.signal;if(Xe?.throwIfAborted(),i.isEmpty())return;let Ze,lt;null!=Xe&&(Ze=new Promise((Et,pt)=>{lt=()=>{pt(new IK)},Xe.addEventListener("abort",lt)}));try{yield Promise.race([d.promise,Ze])}finally{null!=lt&&null!=Xe&&Xe?.removeEventListener("abort",lt)}}),function(Xe){return ze.apply(this,arguments)})},null==n)return o;var ze;const Pe=o;return o={[Symbol.asyncIterator](){return this},next:()=>Pe.next(),throw:ze=>(Pe.throw(ze),null!=n&&(n(ze),n=void 0),{done:!0}),return:()=>(Pe.return(),null!=n&&(n(),n=void 0),{done:!0}),push:K,end:ze=>(Pe.end(ze),null!=n&&(n(ze),n=void 0),o),get readableLength(){return Pe.readableLength},onEmpty:ze=>Pe.onEmpty(ze)},o}(n=>{const i=n.shift();if(null==i)return{done:!0};if(null!=i.error)throw i.error;return{done:!0===i.done,value:i.value}},r)}function DK(r){return null!=r[Symbol.asyncIterator]}function pB(r,...t){if(null==r)throw new Error("Empty pipeline");if(mB(r)){const i=r;r=()=>i.source}else if(xL(r)||EL(r)){const i=r;r=()=>i}const n=[r,...t];if(n.length>1&&mB(n[n.length-1])&&(n[n.length-1]=n[n.length-1].sink),n.length>2)for(let i=1;i<n.length-1;i++)mB(n[i])&&(n[i]=RK(n[i]));return PK(...n)}const PK=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},EL=r=>null!=r?.[Symbol.asyncIterator],xL=r=>null!=r?.[Symbol.iterator],mB=r=>null!=r&&null!=r.sink&&null!=r.source,RK=r=>t=>{const n=r.sink(t);if(null!=n?.then){const i=hB({objectMode:!0});let o;n.then(()=>{i.end()},s=>{i.end(s)});const c=r.source;if(EL(c))o=function(){var s=Po(function*(){yield*xf(uo(c)),i.end()});return function(){return s.apply(this,arguments)}}();else{if(!xL(c))throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");o=function*(){yield*c,i.end()}}return function CK(...r){const t=[];for(const n of r)DK(n)||t.push(n);return t.length===r.length?function*(){for(const n of t)yield*n}():Po(function*(){const n=hB({objectMode:!0});Promise.resolve().then((0,bt.A)(function*(){try{yield Promise.all(r.map(function(){var i=(0,bt.A)(function*(o){var d,c=!1,s=!1;try{for(var C,B=uo(o);c=!(C=yield B.next()).done;c=!1)n.push(C.value)}catch(b){s=!0,d=b}finally{try{c&&null!=B.return&&(yield B.return())}finally{if(s)throw d}}});return function(o){return i.apply(this,arguments)}}())),n.end()}catch(i){n.end(i)}})),yield*xf(uo(n))})()}(i,o())}return r.source};var BK=E(50233);class SL extends Error{constructor(t){super(t),this.name="TimeoutError"}}class NK extends Error{constructor(t){super(),this.name="AbortError",this.message=t}}const ML=r=>void 0===globalThis.DOMException?new NK(r):new DOMException(r),AL=r=>{const t=void 0===r.reason?ML("This operation was aborted."):r.reason;return t instanceof Error?t:ML(t)};var sy,d_=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};sy=new WeakMap;const jK=class FK{constructor(){sy.set(this,[])}enqueue(t,n){const i={priority:(n={priority:0,...n}).priority,run:t};if(this.size&&d_(this,sy,"f")[this.size-1].priority>=n.priority)return void d_(this,sy,"f").push(i);const o=function UK(r,t,n){let i=0,o=r.length;for(;o>0;){const c=Math.trunc(o/2);let s=i+c;n(r[s],t)<=0?(i=++s,o-=c+1):o=c}return i}(d_(this,sy,"f"),i,(c,s)=>s.priority-c.priority);d_(this,sy,"f").splice(o,0,i)}dequeue(){const t=d_(this,sy,"f").shift();return t?.run}filter(t){return d_(this,sy,"f").filter(n=>n.priority===t.priority).map(n=>n.run)}get size(){return d_(this,sy,"f").length}};var Oc,bT,wT,mv,N5,_T,L5,Dp,ET,Rf,U5,Of,xT,yv,F5,TL,IL,DL,CL,kL,j5,yB,gB,K5,PL,$5,Xa=function(r,t,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?r!==t||!o:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(r,n):o?o.value=n:t.set(r,n),n},ri=function(r,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?r!==t||!i:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(r):i?i.value:t.get(r)};class RL extends Error{}bT=new WeakMap,wT=new WeakMap,mv=new WeakMap,N5=new WeakMap,_T=new WeakMap,L5=new WeakMap,Dp=new WeakMap,ET=new WeakMap,Rf=new WeakMap,U5=new WeakMap,Of=new WeakMap,xT=new WeakMap,yv=new WeakMap,F5=new WeakMap,Oc=new WeakSet,TL=function(){return ri(this,wT,"f")||ri(this,mv,"f")<ri(this,N5,"f")},IL=function(){return ri(this,Of,"f")<ri(this,xT,"f")},DL=function(){var t;Xa(this,Of,(t=ri(this,Of,"f"),--t),"f"),ri(this,Oc,"m",j5).call(this),this.emit("next")},CL=function(){ri(this,Oc,"m",gB).call(this),ri(this,Oc,"m",yB).call(this),Xa(this,ET,void 0,"f")},kL=function(){const t=Date.now();if(void 0===ri(this,Dp,"f")){const n=ri(this,L5,"f")-t;if(!(n<0))return void 0===ri(this,ET,"f")&&Xa(this,ET,setTimeout(()=>{ri(this,Oc,"m",CL).call(this)},n),"f"),!0;Xa(this,mv,ri(this,bT,"f")?ri(this,Of,"f"):0,"f")}return!1},j5=function(){if(0===ri(this,Rf,"f").size)return ri(this,Dp,"f")&&clearInterval(ri(this,Dp,"f")),Xa(this,Dp,void 0,"f"),this.emit("empty"),0===ri(this,Of,"f")&&this.emit("idle"),!1;if(!ri(this,yv,"f")){const t=!ri(this,Oc,"a",kL);if(ri(this,Oc,"a",TL)&&ri(this,Oc,"a",IL)){const n=ri(this,Rf,"f").dequeue();return!!n&&(this.emit("active"),n(),t&&ri(this,Oc,"m",yB).call(this),!0)}}return!1},yB=function(){ri(this,wT,"f")||void 0!==ri(this,Dp,"f")||(Xa(this,Dp,setInterval(()=>{ri(this,Oc,"m",gB).call(this)},ri(this,_T,"f")),"f"),Xa(this,L5,Date.now()+ri(this,_T,"f"),"f"))},gB=function(){0===ri(this,mv,"f")&&0===ri(this,Of,"f")&&ri(this,Dp,"f")&&(clearInterval(ri(this,Dp,"f")),Xa(this,Dp,void 0,"f")),Xa(this,mv,ri(this,bT,"f")?ri(this,Of,"f"):0,"f"),ri(this,Oc,"m",K5).call(this)},K5=function(){for(;ri(this,Oc,"m",j5).call(this););},PL=function(){var r=(0,bt.A)(function*(n){return new Promise((i,o)=>{n.addEventListener("abort",()=>{o(new RL("The task was aborted."))},{once:!0})})});return function t(n){return r.apply(this,arguments)}}(),$5=function(){var r=(0,bt.A)(function*(n,i){return new Promise(o=>{const c=()=>{i&&!i()||(this.off(n,c),o())};this.on(n,c)})});return function t(n,i){return r.apply(this,arguments)}}();const $K=class KK extends BK{constructor(t){var n,i,o,c;if(super(),Oc.add(this),bT.set(this,void 0),wT.set(this,void 0),mv.set(this,0),N5.set(this,void 0),_T.set(this,void 0),L5.set(this,0),Dp.set(this,void 0),ET.set(this,void 0),Rf.set(this,void 0),U5.set(this,void 0),Of.set(this,0),xT.set(this,void 0),yv.set(this,void 0),F5.set(this,void 0),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!("number"==typeof(t={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:jK,...t}).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(i=null===(n=t.intervalCap)||void 0===n?void 0:n.toString())&&void 0!==i?i:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(c=null===(o=t.interval)||void 0===o?void 0:o.toString())&&void 0!==c?c:""}\` (${typeof t.interval})`);Xa(this,bT,t.carryoverConcurrencyCount,"f"),Xa(this,wT,t.intervalCap===Number.POSITIVE_INFINITY||0===t.interval,"f"),Xa(this,N5,t.intervalCap,"f"),Xa(this,_T,t.interval,"f"),Xa(this,Rf,new t.queueClass,"f"),Xa(this,U5,t.queueClass,"f"),this.concurrency=t.concurrency,this.timeout=t.timeout,Xa(this,F5,!0===t.throwOnTimeout,"f"),Xa(this,yv,!1===t.autoStart,"f")}get concurrency(){return ri(this,xT,"f")}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);Xa(this,xT,t,"f"),ri(this,Oc,"m",K5).call(this)}add(t,n={}){var i=this;return(0,bt.A)(function*(){return n={timeout:i.timeout,throwOnTimeout:ri(i,F5,"f"),...n},new Promise((o,c)=>{ri(i,Rf,"f").enqueue((0,bt.A)(function*(){var s,d,B;Xa(i,Of,(d=ri(i,Of,"f"),++d),"f"),Xa(i,mv,(B=ri(i,mv,"f"),++B),"f");try{if(null!==(s=n.signal)&&void 0!==s&&s.aborted)throw new RL("The task was aborted.");let C=t({signal:n.signal});n.timeout&&(C=function LK(r,t,n,i){let o;const c=new Promise((s,d)=>{if("number"!=typeof t||1!==Math.sign(t))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${t}\``);if(t!==Number.POSITIVE_INFINITY){if((i={customTimers:{setTimeout,clearTimeout},...i}).signal){const{signal:B}=i;B.aborted&&d(AL(B)),B.addEventListener("abort",()=>{d(AL(B))})}o=i.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{s(n())}catch(b){d(b)}return}const C=n instanceof Error?n:new SL("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof r.cancel&&r.cancel(),d(C)},t),(0,bt.A)(function*(){try{s(yield r)}catch(B){d(B)}finally{i.customTimers.clearTimeout.call(void 0,o)}})()}else s(r)});return c.clear=()=>{clearTimeout(o),o=void 0},c}(Promise.resolve(C),n.timeout)),n.signal&&(C=Promise.race([C,ri(i,Oc,"m",PL).call(i,n.signal)]));const b=yield C;o(b),i.emit("completed",b)}catch(C){if(C instanceof SL&&!n.throwOnTimeout)return void o();c(C),i.emit("error",C)}finally{ri(i,Oc,"m",DL).call(i)}}),n),i.emit("add"),ri(i,Oc,"m",j5).call(i)})})()}addAll(t,n){var i=this;return(0,bt.A)(function*(){return Promise.all(t.map(function(){var o=(0,bt.A)(function*(c){return i.add(c,n)});return function(c){return o.apply(this,arguments)}}()))})()}start(){return ri(this,yv,"f")?(Xa(this,yv,!1,"f"),ri(this,Oc,"m",K5).call(this),this):this}pause(){Xa(this,yv,!0,"f")}clear(){Xa(this,Rf,new(ri(this,U5,"f")),"f")}onEmpty(){var t=this;return(0,bt.A)(function*(){0!==ri(t,Rf,"f").size&&(yield ri(t,Oc,"m",$5).call(t,"empty"))})()}onSizeLessThan(t){var n=this;return(0,bt.A)(function*(){ri(n,Rf,"f").size<t||(yield ri(n,Oc,"m",$5).call(n,"next",()=>ri(n,Rf,"f").size<t))})()}onIdle(){var t=this;return(0,bt.A)(function*(){0===ri(t,Of,"f")&&0===ri(t,Rf,"f").size||(yield ri(t,Oc,"m",$5).call(t,"idle"))})()}get size(){return ri(this,Rf,"f").size}sizeBy(t){return ri(this,Rf,"f").filter(t).length}get pending(){return ri(this,Of,"f")}get isPaused(){return ri(this,yv,"f")}};function OL(r,t,n,i,o,c,s){return vB.apply(this,arguments)}function vB(){return vB=(0,bt.A)(function*(r,t,n,i,o,c,s){if(t instanceof Uint8Array){const C=O5(t,i,o,c);return void n.push(C)}if(null==t.Data)throw Rc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let d;try{d=Gu.unmarshal(t.Data)}catch(C){throw Rc(C,"ERR_NOT_UNIXFS")}if(null!=d.data){const b=O5(d.data,i,o,c);n.push(b),i+=BigInt(b.byteLength)}const B=[];if(t.Links.length!==d.blockSizes.length)throw Rc(new Error("Inconsistent block sizes and dag links"),"ERR_NOT_UNIXFS");for(let C=0;C<t.Links.length;C++){const _e=i+d.blockSizes[C];if((o>=i&&o<_e||c>=i&&c<=_e||o<i&&c>_e)&&B.push({link:t.Links[C],blockStart:i}),(i=_e)>c)break}yield pB(B,C=>lB(C,b=>(0,bt.A)(function*(){const K=yield r.get(b.link.Hash,s);return{...b,block:K}})),C=>dB(C,{ordered:!0}),function(){var C=(0,bt.A)(function*(b){var Ce,K=!1,_e=!1;try{for(var Pe,Te=uo(b);K=!(Pe=yield Te.next()).done;K=!1){const{link:ze,block:rt,blockStart:Xe}=Pe.value;{let Ze;switch(ze.Hash.code){case db:Ze=th(rt);break;case yb:Ze=rt;break;default:return void n.end(Rc(new Error(`Unsupported codec: ${ze.Hash.code}`),"ERR_NOT_UNIXFS"))}const lt=new $K({concurrency:1});lt.on("error",Et=>{n.end(Et)}),lt.add((0,bt.A)(function*(){s.onProgress?.(new Zu("unixfs:exporter:walk:file",{cid:ze.Hash})),yield OL(r,Ze,n,Xe,o,c,s)})),yield lt.onIdle()}}}catch(ze){_e=!0,Ce=ze}finally{try{K&&null!=Te.return&&(yield Te.return())}finally{if(_e)throw Ce}}});return function(b){return C.apply(this,arguments)}}()),i>=c&&n.end()}),vB.apply(this,arguments)}const BL=(r,t,n,i,o,c,s)=>{function B(){return(B=Po(function*(C={}){const b=n.fileSize();if(void 0===b)throw new Error("File was a directory");const{start:K,end:_e}=cB(b,C.offset,C.length);if(0n===_e)return;let Ce=0n;const Te=_e-K,Pe=hB();C.onProgress?.(new Zu("unixfs:exporter:walk:file",{cid:r})),OL(s,t,Pe,0n,K,_e,C).catch(Et=>{Pe.end(Et)});var Xe,ze=!1,rt=!1;try{for(var lt,Ze=uo(Pe);ze=!(lt=yield Zr(Ze.next())).done;ze=!1){const Et=lt.value;if(null!=Et){if(Ce+=BigInt(Et.byteLength),Ce>Te)throw Pe.end(),Rc(new Error("Read too many bytes - the file size reported by the UnixFS data in the root node may be incorrect"),"ERR_OVER_READ");Ce===Te&&Pe.end(),C.onProgress?.(new Zu("unixfs:exporter:progress:unixfs:file",{bytesRead:Ce,totalBytes:Te,fileSize:b})),yield Et}}}catch(Et){rt=!0,Xe=Et}finally{try{ze&&null!=Ze.return&&(yield Zr(Ze.return()))}finally{if(rt)throw Xe}}if(Ce<Te)throw Rc(new Error("Traversed entire DAG but did not read enough bytes"),"ERR_UNDER_READ")})).apply(this,arguments)}return function d(){return B.apply(this,arguments)}};function NL(r,t,n,i,o,c){return bB.apply(this,arguments)}function bB(){return(bB=Po(function*(r,t,n,i,o,c){const d=pB(r.Links,Ce=>lB(Ce,Te=>(0,bt.A)(function*(){const Pe=null!=Te.Name?Te.Name.substring(2):null;if(null!=Pe&&""!==Pe){const ze=yield n(Te.Hash,Pe,`${t}/${Pe}`,[],i+1,o,c);return{entries:null==ze.entry?[]:[ze.entry]}}{const ze=yield o.get(Te.Hash,c);return r=th(ze),c.onProgress?.(new Zu("unixfs:exporter:walk:hamt-sharded-directory",{cid:Te.Hash})),{entries:NL(r,t,n,i,o,c)}}})),Ce=>dB(Ce,{ordered:!0}));var b,B=!1,C=!1;try{for(var _e,K=uo(d);B=!(_e=yield Zr(K.next())).done;B=!1){const{entries:Ce}=_e.value;yield*xf(uo(Ce))}}catch(Ce){C=!0,b=Ce}finally{try{B&&null!=K.return&&(yield Zr(K.return()))}finally{if(C)throw b}}})).apply(this,arguments)}const WK={raw:BL,file:BL,directory:(r,t,n,i,o,c,s)=>{function B(){return(B=Po(function*(C={}){const _e=t.Links.slice(C.offset??0,C.length??t.Links.length);C.onProgress?.(new Zu("unixfs:exporter:walk:directory",{cid:r})),yield*xf(uo(pB(_e,Ce=>lB(Ce,Te=>(0,bt.A)(function*(){const Pe=Te.Name??"",ze=`${i}/${Pe}`;return(yield o(Te.Hash,Pe,ze,[],c+1,s,C)).entry})),Ce=>dB(Ce,{ordered:!0}),Ce=>function SK(r,t){let n=0;if(function xK(r){return null!=r[Symbol.asyncIterator]}(r))return Po(function*(){var b,B=!1,C=!1;try{for(var _e,K=uo(r);B=!(_e=yield Zr(K.next())).done;B=!1){const Ce=_e.value;(yield Zr(t(Ce,n++)))&&(yield Ce)}}catch(Ce){C=!0,b=Ce}finally{try{B&&null!=K.return&&(yield Zr(K.return()))}finally{if(C)throw b}}})();const i=bL(r),{value:o,done:c}=i.next();if(!0===c)return function*(){}();const s=t(o,n++);if("function"==typeof s.then)return Po(function*(){(yield Zr(s))&&(yield o);var b,B=!1,C=!1;try{for(var _e,K=uo(i);B=!(_e=yield Zr(K.next())).done;B=!1){const Ce=_e.value;(yield Zr(t(Ce,n++)))&&(yield Ce)}}catch(Ce){C=!0,b=Ce}finally{try{B&&null!=K.return&&(yield Zr(K.return()))}finally{if(C)throw b}}})();const d=t;return function*(){!0===s&&(yield o);for(const B of i)d(B,n++)&&(yield B)}()}(Ce,Te=>null!=Te))))})).apply(this,arguments)}return function d(){return B.apply(this,arguments)}},"hamt-sharded-directory":(r,t,n,i,o,c,s)=>function d(B={}){return B.onProgress?.(new Zu("unixfs:exporter:walk:hamt-sharded-directory",{cid:r})),NL(t,i,o,c,s,B)},metadata:(r,t,n,i,o,c,s)=>()=>[],symlink:(r,t,n,i,o,c,s)=>()=>[]},ZK={[db]:function(){var r=(0,bt.A)(function*(t,n,i,o,c,s,d,B){const b=th(yield d.get(t,B));let K,_e;if(null==n&&(n=t.toString()),null==b.Data)throw Rc(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{K=Gu.unmarshal(b.Data)}catch(Te){throw Rc(Te,"ERR_NOT_UNIXFS")}if(null==i&&(i=n),o.length>0){let Te;if(Te="hamt-sharded-directory"===K?.type?yield _K(b,o[0],d):((r,t)=>r.Links.find(i=>i.Name===t)?.Hash)(b,o[0]),null==Te)throw Rc(new Error("file does not exist"),"ERR_NOT_FOUND");const Pe=o.shift();_e={cid:Te,toResolve:o,name:Pe??"",path:`${i}/${Pe}`}}const Ce=WK[K.type](t,b,K,i,c,s,d);if(null==Ce)throw Rc(new Error("could not find content exporter"),"ERR_NOT_FOUND");return K.isDirectory()?{entry:{type:"directory",name:n,path:i,cid:t,content:Ce,unixfs:K,depth:s,node:b,size:K.fileSize()},next:_e}:{entry:{type:"file",name:n,path:i,cid:t,content:Ce,unixfs:K,depth:s,node:b,size:K.fileSize()},next:_e}});return function(n,i,o,c,s,d,B,C){return r.apply(this,arguments)}}(),[yb]:gK,[Vy]:fK,0:mK},LL=function(){var r=(0,bt.A)(function*(t,n,i,o,c,s,d){const B=ZK[t.code];if(null==B)throw Rc(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return B(t,n,i,o,LL,c,s,d)});return function(n,i,o,c,s,d,B){return r.apply(this,arguments)}}(),XK=LL,JK=r=>{if(r instanceof Uint8Array)return{cid:oo.decode(r),toResolve:[]};const t=oo.asCID(r);if(null!=t)return{cid:t,toResolve:[]};if("string"==typeof r){0===r.indexOf("/ipfs/")&&(r=r.substring(6));const n=((r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)??[]).filter(Boolean))(r);return{cid:oo.parse(n[0]),toResolve:n.slice(1)}}throw Rc(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")};function wB(){return(wB=Po(function*(r,t,n={}){let{cid:i,toResolve:o}=JK(r),c=i.toString(),s=c;const d=o.length;for(;;){const B=yield Zr(XK(i,c,s,o,d,t,n));if(null==B.entry&&null==B.next)throw Rc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(null!=B.entry&&(yield B.entry),null==B.next)return;o=B.next.toResolve,i=B.next.cid,c=B.next.name,s=B.next.path}})).apply(this,arguments)}function _B(){return _B=(0,bt.A)(function*(r,t,n={}){const i=yield lK(function qK(r,t){return wB.apply(this,arguments)}(r,t,n));if(null==i)throw Rc(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");return i}),_B.apply(this,arguments)}var gv=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class e${constructor(t={}){this.config=Object.assign({blockstoreLocation:"DATASTORE",createLevelDatabase:l_},t),this.blockstore=new R5({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return gv(this,void 0,void 0,function*(){yield this.blockstore.open()})}close(){return gv(this,void 0,void 0,function*(){yield this.blockstore.close()})}put(t,n,i,o){var c,s,d,C,b;return gv(this,void 0,void 0,function*(){const K=yield this.getBlockstoreForStoringData(t,n,i),_e=zb([{content:o}],K,{cidVersion:1});let Ce;try{for(var ze,Te=!0,Pe=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(s){return new Promise(function(d,B){!function o(c,s,d,B){Promise.resolve(B).then(function(C){c({value:C,done:d})},s)}(d,B,(s=r[c](s)).done,s.value)})}}}(_e);ze=yield Pe.next(),!(c=ze.done);Te=!0)Te=!1,Ce=ze.value}catch(rt){s={error:rt}}finally{try{!Te&&!c&&(d=Pe.return)&&(yield d.call(Pe))}finally{if(s)throw s.error}}return{dataSize:Number(null!==(b=null===(C=Ce.unixfs)||void 0===C?void 0:C.fileSize())&&void 0!==b?b:Ce.size)}})}get(t,n,i){return gv(this,void 0,void 0,function*(){const o=yield this.getBlockstoreForStoringData(t,n,i);if(!(yield o.has(i)))return;const s=yield function UL(r,t){return _B.apply(this,arguments)}(i,o),d=s.content(),B=new _E.Readable({read(){return gv(this,void 0,void 0,function*(){const b=yield d.next();this.push(b.done?null:b.value)})}});let C=s.size;return("file"===s.type||"directory"===s.type)&&(C=s.unixfs.fileSize()),{dataSize:Number(C),dataStream:B}})}delete(t,n,i){return gv(this,void 0,void 0,function*(){yield(yield this.getBlockstoreForStoringData(t,n,i)).clear()})}clear(){return gv(this,void 0,void 0,function*(){yield this.blockstore.clear()})}getBlockstoreForStoringData(t,n,i){return gv(this,void 0,void 0,function*(){return yield(yield(yield(yield this.blockstore.partition("data")).partition(t)).partition(n)).partition(i)})}}var _l=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},ST=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(s){return new Promise(function(d,B){!function o(c,s,d,B){Promise.resolve(B).then(function(C){c({value:C,done:d})},s)}(d,B,(s=r[c](s)).done,s.value)})}}},u_=function(r){return this instanceof u_?(this.v=r,this):new u_(r)};let V5=(()=>{class r{constructor(n){this.config=Object.assign({createLevelDatabase:l_},n),this.db=new $2({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return _l(this,void 0,void 0,function*(){yield this.db.open()})}close(){return _l(this,void 0,void 0,function*(){yield this.db.close()})}clear(){return _l(this,void 0,void 0,function*(){yield this.db.clear()})}put(n,i,o,c){return _l(this,void 0,void 0,function*(){if(vM(o))throw new O(q.IndexMissingIndexableProperty,"Index must include at least one valid indexable property");const s={messageCid:i,indexes:o},d=[];for(const K in o){const _e=o[K];if(Array.isArray(_e))for(const Ce of _e){const Te=this.createPutIndexedItemOperation(n,s,K,Ce);d.push(Te)}else{const Ce=this.createPutIndexedItemOperation(n,s,K,_e);d.push(Ce)}}const B=this.createOperationForIndexesLookupPartition(n,{type:"put",key:i,value:JSON.stringify(o)});d.push(B);const C=yield Promise.all(d);yield(yield this.db.partition(n)).batch(C,c)})}delete(n,i,o){return _l(this,void 0,void 0,function*(){const c=[],s=yield this.getIndexes(n,i);if(void 0===s)return;const d=this.createOperationForIndexesLookupPartition(n,{type:"del",key:i});c.push(d);for(const b in s){const K=s[b];if(Array.isArray(K))for(const _e of K){const Ce=this.createDeleteIndexedItemOperation(n,i,b,_e);c.push(Ce)}else{const _e=this.createDeleteIndexedItemOperation(n,i,b,K);c.push(_e)}}const B=yield Promise.all(c);yield(yield this.db.partition(n)).batch(B,o)})}createPutIndexedItemOperation(n,i,o,c){return _l(this,void 0,void 0,function*(){const{messageCid:s}=i,d=r.keySegmentJoin(r.encodeValue(c),s);return this.createOperationForIndexPartition(n,o,{type:"put",key:d,value:JSON.stringify(i)})})}createDeleteIndexedItemOperation(n,i,o,c){return _l(this,void 0,void 0,function*(){const s=r.keySegmentJoin(r.encodeValue(c),i);return this.createOperationForIndexPartition(n,o,{type:"del",key:s})})}createOperationForIndexPartition(n,i,o){return _l(this,void 0,void 0,function*(){const c=yield this.db.partition(n),s=r.getIndexPartitionName(i);return c.createPartitionOperation(s,o)})}createOperationForIndexesLookupPartition(n,i){return _l(this,void 0,void 0,function*(){return(yield this.db.partition(n)).createPartitionOperation("index",i)})}static getIndexPartitionName(n){return`__${n}__`}getIndexPartition(n,i){return _l(this,void 0,void 0,function*(){const o=r.getIndexPartitionName(i);return(yield this.db.partition(n)).partition(o)})}getIndexesLookupPartition(n){return _l(this,void 0,void 0,function*(){return(yield this.db.partition(n)).partition("index")})}query(n,i,o,c){return _l(this,void 0,void 0,function*(){return r.shouldQueryWithInMemoryPaging(i,o)?this.queryWithInMemoryPaging(n,i,o,c):this.queryWithIteratorPaging(n,i,o,c)})}queryWithIteratorPaging(n,i,o,c){var s,d,B;return _l(this,void 0,void 0,function*(){const{cursor:b,limit:K}=o,_e=b?this.createStartingKeyFromCursor(b):"",Ce=[];try{for(var ze,Te=!0,Pe=ST(this.getIndexIterator(n,_e,o,c));ze=yield Pe.next(),!(s=ze.done);Te=!0){Te=!1;const rt=ze.value;if(void 0!==K&&K===Ce.length)break;const{indexes:Xe}=rt;Ul.matchAnyFilter(Xe,i)&&Ce.push(rt)}}catch(rt){d={error:rt}}finally{try{!Te&&!s&&(B=Pe.return)&&(yield B.call(Pe))}finally{if(d)throw d.error}}return Ce})}getIndexIterator(n,i,o,c){return function(r,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,i=n.apply(r,t||[]),c=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(_e){i[_e]&&(o[_e]=function(Ce){return new Promise(function(Te,Pe){c.push([_e,Ce,Te,Pe])>1||d(_e,Ce)})})}function d(_e,Ce){try{!function B(_e){_e.value instanceof u_?Promise.resolve(_e.value.v).then(C,b):K(c[0][2],_e)}(i[_e](Ce))}catch(Te){K(c[0][3],Te)}}function C(_e){d("next",_e)}function b(_e){d("throw",_e)}function K(_e,Ce){_e(Ce),c.shift(),c.length&&d(c[0][0],c[0][1])}}(this,arguments,function*(){var d,B,C,b;const{sortProperty:K,sortDirection:_e=Su.Ascending,cursor:Ce}=o,Te={gt:i};_e===Su.Descending&&(Te.reverse=!0,void 0!==Ce&&(Te.lt=i,delete Te.gt));const Pe=yield u_(this.getIndexPartition(n,K));try{for(var Xe,ze=!0,rt=ST(Pe.iterator(Te,c));!(d=(Xe=yield u_(rt.next())).done);ze=!0){b=Xe.value,ze=!1;const[Ze,lt]=b,{indexes:Et,messageCid:pt}=JSON.parse(lt);yield yield u_({indexes:Et,messageCid:pt})}}catch(Ze){B={error:Ze}}finally{try{!ze&&!d&&(C=rt.return)&&(yield u_(C.call(rt)))}finally{if(B)throw B.error}}})}createStartingKeyFromCursor(n){const{messageCid:i,value:o}=n;return r.keySegmentJoin(r.encodeValue(o),i)}static createCursorFromLastArrayItem(n,i){if(n.length>0)return this.createCursorFromItem(n.at(-1),i)}static createCursorFromItem(n,i){const{messageCid:o,indexes:c}=n,s=c[i];if(void 0===s)throw new O(q.IndexInvalidCursorSortProperty,`the sort property '${i}' is not defined within the given item.`);if("boolean"==typeof s||Array.isArray(s))throw new O(q.IndexInvalidCursorValueType,`only string or number values are supported for cursors, a(n) ${typeof s} was given.`);return{messageCid:o,value:s}}queryWithInMemoryPaging(n,i,o,c){return _l(this,void 0,void 0,function*(){const{sortProperty:s,sortDirection:d=Su.Ascending,cursor:B,limit:C}=o,b=B?this.createStartingKeyFromCursor(B):void 0,K=new Map;0===i.length&&(i=[{}]);try{yield Promise.all(i.map(Pe=>this.executeSingleFilterQuery(n,Pe,s,K,c)))}catch(Pe){if(Pe.code===q.IndexInvalidSortPropertyInMemory)return[]}const _e=[...K.values()].sort((Pe,ze)=>this.sortItems(Pe,ze,s,d)),Ce=void 0!==b?this.findCursorStartingIndex(_e,d,s,b):0;return Ce<0?[]:_e.slice(Ce,void 0!==C?Ce+C:void 0)})}executeSingleFilterQuery(n,i,o,c,s){return _l(this,void 0,void 0,function*(){const d=[];if(vM(i)){const C=this.getAllItems(n,o);d.push(C)}const B=sO.reduceFilter(i);for(const C in B){const b=B[C];if(Ul.isEqualFilter(b)){const K=this.filterExactMatches(n,C,b,s);d.push(K)}else if(Ul.isOneOfFilter(b))for(const K of new Set(b)){const _e=this.filterExactMatches(n,C,K,s);d.push(_e)}else if(Ul.isRangeFilter(b)){const K=this.filterRangeMatches(n,C,b,s);d.push(K)}}for(const C of d){const b=yield C;for(const K of b)if(!c.has(K.messageCid)&&Ul.matchFilter(K.indexes,i)){if(void 0===K.indexes[o])throw new O(q.IndexInvalidSortPropertyInMemory,`invalid sort property ${o}`);c.set(K.messageCid,K)}}})}getAllItems(n,i){var o,c,s,d;return _l(this,void 0,void 0,function*(){const B=yield this.getIndexPartition(n,i),C=[];try{for(var _e,b=!0,K=ST(B.iterator());_e=yield K.next(),!(o=_e.done);b=!0){d=_e.value,b=!1;const[Ce,Te]=d;C.push(JSON.parse(Te))}}catch(Ce){c={error:Ce}}finally{try{!b&&!o&&(s=K.return)&&(yield s.call(K))}finally{if(c)throw c.error}}return C})}filterExactMatches(n,i,o,c){var s,d,B,C;return _l(this,void 0,void 0,function*(){const b=r.keySegmentJoin(r.encodeValue(o)),K={gt:b},_e=yield this.getIndexPartition(n,i),Ce=[];try{for(var ze,Te=!0,Pe=ST(_e.iterator(K,c));ze=yield Pe.next(),!(s=ze.done);Te=!0){C=ze.value,Te=!1;const[rt,Xe]=C;if(!rt.startsWith(b))break;Ce.push(JSON.parse(Xe))}}catch(rt){d={error:rt}}finally{try{!Te&&!s&&(B=Pe.return)&&(yield B.call(Pe))}finally{if(d)throw d.error}}return Ce})}filterRangeMatches(n,i,o,c){var s,d,B,C;return _l(this,void 0,void 0,function*(){const b={};for(const ze in o)b[ze]=r.encodeValue(o[ze]);void 0===b.gt&&void 0===b.gte&&(b.reverse=!0);const K=[],_e=yield this.getIndexPartition(n,i);try{for(var Pe,Ce=!0,Te=ST(_e.iterator(b,c));Pe=yield Te.next(),!(s=Pe.done);Ce=!0){C=Pe.value,Ce=!1;const[ze,rt]=C;"gt"in o&&this.extractIndexValueFromKey(ze)===r.encodeValue(o.gt)||K.push(JSON.parse(rt))}}catch(ze){d={error:ze}}finally{try{!Ce&&!s&&(B=Te.return)&&(yield B.call(Te))}finally{if(d)throw d.error}}if("lte"in o)for(const ze of yield this.filterExactMatches(n,i,o.lte,c))K.push(ze);return K})}sortItems(n,i,o,c){const d=i.indexes[o],B=r.encodeValue(n.indexes[o])+n.messageCid,C=r.encodeValue(d)+i.messageCid;return c===Su.Ascending?xE(B,C):xE(C,B)}findCursorStartingIndex(n,i,o,c){return n.findIndex(d=>{const{messageCid:B,indexes:C}=d,K=r.keySegmentJoin(r.encodeValue(C[o]),B);return i===Su.Ascending?K>c:K<c})}getIndexes(n,i){return _l(this,void 0,void 0,function*(){const c=yield(yield this.getIndexesLookupPartition(n)).get(i);if(void 0!==c)return JSON.parse(c)})}extractIndexValueFromKey(n){const[i]=n.split(r.delimiter);return i}static keySegmentJoin(...n){return n.join(r.delimiter)}static encodeNumberValue(n){const i=Number.MAX_SAFE_INTEGER,c=String(Number.MAX_SAFE_INTEGER).length;return(n<0?"!":"")+String(n+(n<0?i:0)).padStart(c,"0")}static encodeValue(n){return"number"==typeof n?this.encodeNumberValue(n):JSON.stringify(n)}static shouldQueryWithInMemoryPaging(n,i){for(const o of n)if(!r.isFilterConcise(o,i))return!1;return!0}static isFilterConcise(n,i){return void 0!==n.recordId||void 0===i.cursor&&(void 0!==n.protocolPath||void 0!==n.contextId||void 0!==n.parentId||void 0!==n.schema)}}return r.delimiter="\0",r})();function xB(r){if(!SB(r))throw new Error("Parameter was not an error")}function SB(r){return"[object Error]"===function n$(r){return Object.prototype.toString.call(r)}(r)||r instanceof Error}class Bf extends Error{constructor(t,n){const i=[...arguments],{options:o,shortMessage:c}=function r$(r){let t,n="";if(0===r.length)t={};else if(SB(r[0]))t={cause:r[0]},n=r.slice(1).join(" ")||"";else if(r[0]&&"object"==typeof r[0])t=Object.assign({},r[0]),n=r.slice(1).join(" ")||"";else{if("string"!=typeof r[0])throw new Error("Invalid arguments passed to Layerr");t={},n=n=r.join(" ")||""}return{options:t,shortMessage:n}}(i);let s=c;o.cause&&(s=`${s}: ${o.cause.message}`),super(s),this.message=s,this.name=o.name&&"string"==typeof o.name?o.name:"Layerr",o.cause&&Object.defineProperty(this,"_cause",{value:o.cause}),Object.defineProperty(this,"_info",{value:{}}),o.info&&"object"==typeof o.info&&Object.assign(this._info,o.info),Error.captureStackTrace&&Error.captureStackTrace(this,o.constructorOpt||this.constructor)}static cause(t){return xB(t),t._cause&&SB(t._cause)?t._cause:null}static fullStack(t){xB(t);const n=Bf.cause(t);return n?`${t.stack}\ncaused by: ${Bf.fullStack(n)}`:t.stack}static info(t){xB(t);const n={},i=Bf.cause(t);return i&&Object.assign(n,Bf.info(i)),t._info&&Object.assign(n,t._info),n}cause(){return Bf.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t=`${t}: ${this.message}`),t}}const f_="0123456789ABCDEFGHJKMNPQRSTVWXYZ",h_=32,MB=0xffffffffffff,Pm=Object.freeze({source:"ulid"});function AB(r,t){if(isNaN(r))throw new Bf({info:{code:"ENC_TIME_NAN",...Pm}},`Time must be a number: ${r}`);if(r>MB)throw new Bf({info:{code:"ENC_TIME_SIZE_EXCEED",...Pm}},`Cannot encode a time larger than ${MB}: ${r}`);if(r<0)throw new Bf({info:{code:"ENC_TIME_NEG",...Pm}},`Time must be positive: ${r}`);if(!1===Number.isInteger(r))throw new Bf({info:{code:"ENC_TIME_TYPE",...Pm}},`Time must be an integer: ${r}`);let n,i="";for(let o=t;o>0;o--)n=r%h_,i=f_.charAt(n)+i,r=(r-n)/h_;return i}function $L(r){const t=r||function jL(r){const t=r||function i$(){return function s$(){return typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope}()?self:typeof window<"u"?window:typeof globalThis<"u"||typeof globalThis<"u"?globalThis:null}(),n=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof n?.getRandomValues)return()=>{const i=new Uint8Array(1);return n.getRandomValues(i),i[0]/255};if("function"==typeof n?.randomBytes)return()=>n.randomBytes(1).readUInt8()/255;throw new Bf({info:{code:"PRNG_DETECT",...Pm}},"Failed to find a reliable PRNG")}();let i,n=0;return function(c){const s=isNaN(c)?Date.now():c;if(s<=n){const B=i=function o$(r){let t,i,o,n=r.length,c=r;const s=h_-1;for(;!t&&n-- >=0;){if(i=c[n],o=f_.indexOf(i),-1===o)throw new Bf({info:{code:"B32_INC_ENC",...Pm}},"Incorrectly encoded string");o!==s?t=VL(c,n,f_[o+1]):c=VL(c,n,f_[0])}if("string"==typeof t)return t;throw new Bf({info:{code:"B32_INC_INVALID",...Pm}},"Failed incrementing string")}(i);return AB(n,10)+B}n=s;const d=i=function KL(r,t){let n="";for(;r>0;r--)n=a$(t)+n;return n}(16,t);return AB(s,10)+d}}function a$(r){let t=Math.floor(r()*h_);return t===h_&&(t=h_-1),f_.charAt(t)}function VL(r,t,n){return t>r.length-1?r:r.substr(0,t)+n+r.substr(t+1)}var p_=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class c${constructor(t){this.index=new V5(Object.assign({location:"EVENTLOG",createLevelDatabase:l_},t)),this.ulidFactory=$L()}open(){return p_(this,void 0,void 0,function*(){return this.index.open()})}close(){return p_(this,void 0,void 0,function*(){return this.index.close()})}clear(){return p_(this,void 0,void 0,function*(){return this.index.clear()})}append(t,n,i){return p_(this,void 0,void 0,function*(){const o=this.ulidFactory();yield this.index.put(t,n,Object.assign(Object.assign({},i),{watermark:o}))})}queryEvents(t,n,i){return p_(this,void 0,void 0,function*(){const o=yield this.index.query(t,n,{sortProperty:"watermark",cursor:i});return{events:o.map(({messageCid:c})=>c),cursor:V5.createCursorFromLastArrayItem(o,"watermark")}})}getEvents(t,n){return p_(this,void 0,void 0,function*(){return this.queryEvents(t,[],n)})}deleteEventsByCid(t,n){return p_(this,void 0,void 0,function*(){const i=[];for(const o of n)i.push(this.index.delete(t,o));yield Promise.all(i)})}}function H5({enumerable:r=!0,configurable:t=!1}={}){return{enumerable:r,configurable:t,writable:!1}}function*l$(r,t){if(null!=t&&"object"==typeof t)if(Array.isArray(t))for(const[n,i]of t.entries()){const o=[...r,n],c=oo.asCID(i);c?yield[o.join("/"),c]:"object"==typeof i&&(yield*TB(i,o))}else{const n=oo.asCID(t);n?yield[r.join("/"),n]:yield*TB(t,r)}}function*TB(r,t){if(null==r||r instanceof Uint8Array)return;const n=oo.asCID(r);n&&(yield[t.join("/"),n]);for(const[i,o]of Object.entries(r)){const c=[...t,i];yield*l$(c,o)}}function*d$(r,t){if(Array.isArray(t))for(const[n,i]of t.entries()){const o=[...r,n];yield o.join("/"),"object"==typeof i&&!oo.asCID(i)&&(yield*IB(i,o))}else yield*IB(t,r)}function*IB(r,t){if(null!=r&&"object"==typeof r)for(const[n,i]of Object.entries(r)){const o=[...t,n];yield o.join("/"),null!=i&&!(i instanceof Uint8Array)&&"object"==typeof i&&!oo.asCID(i)&&(yield*d$(o,i))}}class DB{constructor({cid:t,bytes:n,value:i}){if(!t||!n||typeof i>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=i,this.asBlock=this,Object.defineProperties(this,{cid:H5(),bytes:H5(),value:H5(),asBlock:H5()})}links(){return TB(this.value,[])}tree(){return IB(this.value,[])}get(t="/"){return function u$(r,t){let n=r;for(const[i,o]of t.entries()){if(n=n[o],null==n)throw new Error(`Object has no property at ${t.slice(0,i+1).map(s=>`[${JSON.stringify(s)}]`).join("")}`);const c=oo.asCID(n);if(c)return{value:c,remaining:t.slice(i+1).join("/")}}return{value:n}}(this.value,t.split("/").filter(Boolean))}}function CB(){return(CB=(0,bt.A)(function*({value:r,codec:t,hasher:n}){if(typeof r>"u")throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.encode(r),o=yield n.digest(i),c=oo.create(1,t.code,o);return new DB({value:r,bytes:i,cid:c})})).apply(this,arguments)}function kB(){return(kB=(0,bt.A)(function*({bytes:r,codec:t,hasher:n}){if(!r)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.decode(r),o=yield n.digest(r),c=oo.create(1,t.code,o);return new DB({value:i,bytes:r,cid:c})})).apply(this,arguments)}var m_=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class RB{constructor(t={}){this.config=Object.assign({blockstoreLocation:"MESSAGESTORE",indexLocation:"INDEX",createLevelDatabase:l_},t),this.blockstore=new R5({location:this.config.blockstoreLocation,createLevelDatabase:this.config.createLevelDatabase}),this.index=new V5({location:this.config.indexLocation,createLevelDatabase:this.config.createLevelDatabase})}open(){return m_(this,void 0,void 0,function*(){yield this.blockstore.open(),yield this.index.open()})}close(){return m_(this,void 0,void 0,function*(){yield this.blockstore.close(),yield this.index.close()})}get(t,n,i){var o;return m_(this,void 0,void 0,function*(){null===(o=i?.signal)||void 0===o||o.throwIfAborted();const c=yield xd(this.blockstore.partition(t),i?.signal),s=oo.parse(n),d=yield c.get(s,i);return d?(yield xd(function h$(r){return kB.apply(this,arguments)}({bytes:d,codec:Q,hasher:Rn}),i?.signal)).value:void 0})}query(t,n,i,o,c){var s;return m_(this,void 0,void 0,function*(){null===(s=c?.signal)||void 0===s||s.throwIfAborted();const d=RB.buildQueryOptions(i,o),B=yield this.index.query(t,n,d,c);let C;void 0!==o?.limit&&o.limit<B.length&&(B.splice(-1),C=V5.createCursorFromLastArrayItem(B,d.sortProperty));const b=[];for(let K=0;K<B.length;K++){const{messageCid:_e}=B[K],Ce=yield this.get(t,_e,c);Ce&&b.push(Ce)}return{messages:b,cursor:C}})}static buildQueryOptions(t={},n={}){let{limit:i,cursor:o}=n;const{dateCreated:c,datePublished:s,messageTimestamp:d}=t;let B=Su.Ascending,C="messageTimestamp";return void 0!==c?C="dateCreated":void 0!==s?C="datePublished":void 0!==d&&(C="messageTimestamp"),void 0!==t[C]&&(B=t[C]),void 0!==i&&i>0&&(i+=1),{sortDirection:B,sortProperty:C,limit:i,cursor:o}}delete(t,n,i){var o;return m_(this,void 0,void 0,function*(){null===(o=i?.signal)||void 0===o||o.throwIfAborted();const c=yield xd(this.blockstore.partition(t),i?.signal),s=oo.parse(n);yield c.delete(s,i),yield this.index.delete(t,n,i)})}put(t,n,i,o){var c;return m_(this,void 0,void 0,function*(){null===(c=o?.signal)||void 0===c||c.throwIfAborted();const s=yield xd(this.blockstore.partition(t),o?.signal),d=yield xd(function f$(r){return CB.apply(this,arguments)}({value:n,codec:Q,hasher:Rn}),o?.signal),B=ba.parseCid(yield Dr.getCid(n));yield s.put(B,d.bytes,o);const C=B.toString();yield this.index.put(t,C,i,o)})}clear(){return m_(this,void 0,void 0,function*(){yield this.blockstore.clear(),yield this.index.clear()})}}var vv=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};let y$=(()=>{class r{constructor(n){this.config=Object.assign({location:"RESUMABLE-TASK-STORE",createLevelDatabase:l_},n),this.db=new $2({location:this.config.location,createLevelDatabase:this.config.createLevelDatabase,keyEncoding:"utf8"})}open(){return vv(this,void 0,void 0,function*(){yield this.db.open()})}close(){return vv(this,void 0,void 0,function*(){yield this.db.close()})}register(n,i){return vv(this,void 0,void 0,function*(){const o=yield ba.computeCid(n),c={id:o,timeout:Date.now()+1e3*i,retryCount:0,task:n};return yield this.db.put(o,JSON.stringify(c)),c})}grab(n){var i,o,c,s;return vv(this,void 0,void 0,function*(){const d=[];try{for(var b,B=!0,C=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=r[Symbol.asyncIterator];return t?t.call(r):(r="function"==typeof __values?__values(r):r[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=r[c]&&function(s){return new Promise(function(d,B){!function o(c,s,d,B){Promise.resolve(B).then(function(C){c({value:C,done:d})},s)}(d,B,(s=r[c](s)).done,s.value)})}}}(this.db.iterator());b=yield C.next(),!(i=b.done);B=!0){s=b.value,B=!1;const[K,_e]=s,Ce=JSON.parse(_e);if(Date.now()>=Ce.timeout&&(Ce.timeout=Date.now()+1e3*r.taskTimeoutInSeconds,Ce.retryCount++,yield this.db.put(Ce.id,JSON.stringify(Ce)),d.push(Ce)),d.length>=n)break}}catch(K){o={error:K}}finally{try{!B&&!i&&(c=C.return)&&(yield c.call(C))}finally{if(o)throw o.error}}return d})}read(n){return vv(this,void 0,void 0,function*(){const i=yield this.db.get(n);if(i)return JSON.parse(i)})}extend(n,i){return vv(this,void 0,void 0,function*(){const o=yield this.db.get(n);if(o){const c=JSON.parse(o);c.timeout=Date.now()+1e3*i,yield this.db.put(c.id,JSON.stringify(c))}})}delete(n){return vv(this,void 0,void 0,function*(){return this.db.delete(n)})}clear(){return vv(this,void 0,void 0,function*(){yield this.db.clear()})}}return r.taskTimeoutInSeconds=60,r})();E(44356);var Zi=function(r){return r.MessagesQuery="MessagesQuery",r.MessagesRead="MessagesRead",r.MessagesSubscribe="MessagesSubscribe",r.ProtocolsConfigure="ProtocolsConfigure",r.ProtocolsQuery="ProtocolsQuery",r.RecordsDelete="RecordsDelete",r.RecordsQuery="RecordsQuery",r.RecordsRead="RecordsRead",r.RecordsSubscribe="RecordsSubscribe",r.RecordsWrite="RecordsWrite",r}(Zi||{});const zL={[Zi.MessagesQuery]:jw,[Zi.MessagesRead]:Hg,[Zi.MessagesSubscribe]:Tm,[Zi.ProtocolsConfigure]:Gd,[Zi.ProtocolsQuery]:Gg,[Zi.RecordsDelete]:Zg,[Zi.RecordsQuery]:Vg,[Zi.RecordsRead]:Xg,[Zi.RecordsSubscribe]:g2,[Zi.RecordsWrite]:go};class G5{constructor({did:t,metadata:n}){this.did=t,this.metadata=n}export(){return r=this,t=void 0,i=function*(){return{portableDid:yield this.did.export(),metadata:this.metadata}},new((n=void 0)||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())});var r,t,n,i}}var Sd=E(47565);class BB{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,Sd.s)(t)})}}class Rm{}class NB extends Rm{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield BB.digest({data:n})})}}var Oo=E(94256),Ah=E(91006);const Z5="urn:jwk:";function bo({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}W0(n);const i=function w$(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const o=Object.keys(i).sort(),c={};for(const s of o)c[s]=t(i[s]);return c}return i},n=t(r);return JSON.stringify(n)}(n),o=mn.string(i).toUint8Array(),c=yield BB.digest({data:o});return mn.uint8Array(c).toBase64Url()})}function Om(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function X5(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function HL(r){return!(!r||"object"!=typeof r||!("kty"in r)||!("k"in r)||"oct"!==r.kty||"string"!=typeof r.k)}function Bm(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function Y5(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}function LB(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}var Md=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Os{static adjustSignatureToLowS({signature:t}){return Md(this,void 0,void 0,function*(){const n=Oo.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Md(this,void 0,void 0,function*(){const n=yield Os.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield bo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Md(this,void 0,void 0,function*(){const n=yield Os.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield bo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Md(this,void 0,void 0,function*(){return Oo.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Md(this,void 0,void 0,function*(){const n=yield Os.privateKeyToBytes({privateKey:t}),i=yield Os.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"secp256k1",x:mn.uint8Array(i.x).toBase64Url(),y:mn.uint8Array(i.y).toBase64Url()};return o.kid=yield bo({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Md(this,void 0,void 0,function*(){return Oo.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Md(this,void 0,void 0,function*(){return Oo.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Md(this,void 0,void 0,function*(){const t=Oo.bI.utils.randomPrivateKey(),n=yield Os.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield bo({jwk:n}),n})}static getPublicKey({key:t}){var n;return Md(this,void 0,void 0,function*(){if(!Om(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield bo({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Md(this,void 0,void 0,function*(){if(!Om(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Md(this,void 0,void 0,function*(){if(!X5(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=mn.base64Url(t.x).toUint8Array(),o=mn.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Md(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Os.privateKeyToBytes({privateKey:t}),o=yield Os.publicKeyToBytes({publicKey:n});return Oo.bI.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Md(this,void 0,void 0,function*(){const i=yield Os.privateKeyToBytes({privateKey:n}),o=(0,Sd.s)(t);return Oo.bI.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Md(this,void 0,void 0,function*(){return Oo.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Md(this,void 0,void 0,function*(){try{Oo.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Md(this,void 0,void 0,function*(){const o=yield Os.publicKeyToBytes({publicKey:t}),c=(0,Sd.s)(i);return Oo.bI.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Md(this,void 0,void 0,function*(){32===t.byteLength&&(t=Oo.bI.getPublicKey(t));const n=Oo.bI.ProjectivePoint.fromHex(t);return{x:(0,Ah.lq)(n.x,32),y:(0,Ah.lq)(n.y,32)}})}}var Bo=E(40499),Ad=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Bs{static adjustSignatureToLowS({signature:t}){return Ad(this,void 0,void 0,function*(){const n=Bo.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Ad(this,void 0,void 0,function*(){const n=yield Bs.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield bo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Ad(this,void 0,void 0,function*(){const n=yield Bs.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield bo({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Ad(this,void 0,void 0,function*(){return Bo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Ad(this,void 0,void 0,function*(){const n=yield Bs.privateKeyToBytes({privateKey:t}),i=yield Bs.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"P-256",x:mn.uint8Array(i.x).toBase64Url(),y:mn.uint8Array(i.y).toBase64Url()};return o.kid=yield bo({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Ad(this,void 0,void 0,function*(){return Bo.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Ad(this,void 0,void 0,function*(){return Bo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Ad(this,void 0,void 0,function*(){const t=Bo.Ag.utils.randomPrivateKey(),n=yield Bs.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield bo({jwk:n}),n})}static getPublicKey({key:t}){var n;return Ad(this,void 0,void 0,function*(){if(!Om(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield bo({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Ad(this,void 0,void 0,function*(){if(!Om(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Ad(this,void 0,void 0,function*(){if(!X5(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=mn.base64Url(t.x).toUint8Array(),o=mn.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Ad(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Bs.privateKeyToBytes({privateKey:t}),o=yield Bs.publicKeyToBytes({publicKey:n});return Bo.Ag.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Ad(this,void 0,void 0,function*(){const i=yield Bs.privateKeyToBytes({privateKey:n}),o=(0,Sd.s)(t);return Bo.Ag.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Ad(this,void 0,void 0,function*(){return Bo.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Ad(this,void 0,void 0,function*(){try{Bo.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Ad(this,void 0,void 0,function*(){const o=yield Bs.publicKeyToBytes({publicKey:t}),c=(0,Sd.s)(i);return Bo.Ag.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Ad(this,void 0,void 0,function*(){32===t.byteLength&&(t=Bo.Ag.getPublicKey(t));const n=Bo.Ag.ProjectivePoint.fromHex(t);return{x:(0,Ah.lq)(n.x,32),y:(0,Ah.lq)(n.y,32)}})}}var MT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class J5 extends Rm{computePublicKey({key:t}){return MT(this,void 0,void 0,function*(){if(!Om(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Os.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Bs.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return MT(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield Os.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield Bs.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return MT(this,void 0,void 0,function*(){if(!Om(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Os.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Bs.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return MT(this,void 0,void 0,function*(){if(!Om(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield Os.sign({key:t,data:n});case"P-256":return yield Bs.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return MT(this,void 0,void 0,function*(){if(!X5(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield Os.verify({key:t,signature:n,data:i});case"P-256":return yield Bs.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var co=E(86295),Th=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Ns{static bytesToPrivateKey({privateKeyBytes:t}){return Th(this,void 0,void 0,function*(){const n=co.ev.getPublicKey(t),i={crv:"Ed25519",d:mn.uint8Array(t).toBase64Url(),kty:"OKP",x:mn.uint8Array(n).toBase64Url()};return i.kid=yield bo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Th(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:mn.uint8Array(t).toBase64Url()};return n.kid=yield bo({jwk:n}),n})}static computePublicKey({key:t}){return Th(this,void 0,void 0,function*(){const n=yield Ns.privateKeyToBytes({privateKey:t}),i=co.ev.getPublicKey(n),o={kty:"OKP",crv:"Ed25519",x:mn.uint8Array(i).toBase64Url()};return o.kid=yield bo({jwk:o}),o})}static convertPrivateKeyToX25519({privateKey:t}){return Th(this,void 0,void 0,function*(){const n=yield Ns.privateKeyToBytes({privateKey:t}),i=(0,co.OA)(n),o=co.TU.getPublicKey(i),c={kty:"OKP",crv:"X25519",d:mn.uint8Array(i).toBase64Url(),x:mn.uint8Array(o).toBase64Url()};return c.kid=yield bo({jwk:c}),c})}static convertPublicKeyToX25519({publicKey:t}){return Th(this,void 0,void 0,function*(){const n=yield Ns.publicKeyToBytes({publicKey:t});if(!(yield Ns.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const o=(0,co.GU)(n),c={kty:"OKP",crv:"X25519",x:mn.uint8Array(o).toBase64Url()};return c.kid=yield bo({jwk:c}),c})}static generateKey(){return Th(this,void 0,void 0,function*(){const t=co.ev.utils.randomPrivateKey(),n=yield Ns.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield bo({jwk:n}),n})}static getPublicKey({key:t}){var n;return Th(this,void 0,void 0,function*(){if(!Bm(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield bo({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Th(this,void 0,void 0,function*(){if(!Bm(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Th(this,void 0,void 0,function*(){if(!Y5(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return mn.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return Th(this,void 0,void 0,function*(){const i=yield Ns.privateKeyToBytes({privateKey:t});return co.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return Th(this,void 0,void 0,function*(){try{co.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Th(this,void 0,void 0,function*(){const o=yield Ns.publicKeyToBytes({publicKey:t});return co.ev.verify(n,i,o)})}}var AT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class WL extends Rm{computePublicKey({key:t}){return AT(this,void 0,void 0,function*(){if(!Bm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Ns.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return AT(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield Ns.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return AT(this,void 0,void 0,function*(){if(!Bm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Ns.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return AT(this,void 0,void 0,function*(){if(!Bm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield Ns.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return AT(this,void 0,void 0,function*(){if(!Y5(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield Ns.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}}var ay=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};const UB={Ed25519:{implementation:WL,names:["Ed25519"]},secp256k1:{implementation:J5,names:["ES256K","secp256k1"]},secp256r1:{implementation:J5,names:["ES256","secp256r1"]},"SHA-256":{implementation:NB,names:["SHA-256"]}};class Nm{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new Hw}digest({algorithm:t,data:n}){return ay(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return ay(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return ay(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${Z5}${i.kid}`;return yield this._keyStore.set(o,i),o})}getKeyUri({key:t}){return ay(this,void 0,void 0,function*(){const n=yield bo({jwk:t});return`${Z5}${n}`})}getPublicKey({keyUri:t}){return ay(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return ay(this,void 0,void 0,function*(){if(!LB(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield bo({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set(o,i),o})}sign({keyUri:t,data:n}){return ay(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return ay(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=UB[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o in UB){const c=UB[o];if(n&&c.names.includes(n))return o;if(i&&c.names.includes(i))return o}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return ay(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}var FB=E(86703),Zl=E(62953);function GL(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}function ZL(r){return(0,Zl.po)(r)}function y_(){return FB.E.randomUUID()}var bv=E(91879),IT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};const YL=[128,192,256],t8=[96,104,112,120,128];class wv{static bytesToPrivateKey({privateKeyBytes:t}){return IT(this,void 0,void 0,function*(){const n={k:mn.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield bo({jwk:n}),n})}static decrypt({key:t,data:n,iv:i,additionalData:o,tagLength:c}){return IT(this,void 0,void 0,function*(){if(12!==i.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(c&&!t8.includes(c))throw new RangeError(`The tag length is invalid: Must be ${t8.join(", ")} bits`);const s=(0,bv.NZ)(),d=yield s.importKey("jwk",t,{name:"AES-GCM"},!0,["decrypt"]),B=Object.assign(Object.assign({name:"AES-GCM",iv:i},c&&{tagLength:c}),o&&{additionalData:o}),C=yield s.decrypt(B,d,n);return new Uint8Array(C)})}static encrypt({data:t,iv:n,key:i,additionalData:o,tagLength:c}){return IT(this,void 0,void 0,function*(){if(12!==n.byteLength)throw new TypeError("The initialization vector must be 96 bits in length");if(c&&!t8.includes(c))throw new RangeError(`The tag length is invalid: Must be ${t8.join(", ")} bits`);const s=(0,bv.NZ)(),d=yield s.importKey("jwk",i,{name:"AES-GCM"},!0,["encrypt"]),B=Object.assign(Object.assign({name:"AES-GCM",iv:n},c&&{tagLength:c}),o&&{additionalData:o}),C=yield s.encrypt(B,d,t);return new Uint8Array(C)})}static generateKey({length:t}){return IT(this,void 0,void 0,function*(){if(!YL.includes(t))throw new RangeError(`The key length is invalid: Must be ${YL.join(", ")} bits`);const n=(0,bv.NZ)(),i=yield n.generateKey({name:"AES-GCM",length:t},!0,["encrypt"]),d=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(yield n.exportKey("jwk",i),["ext","key_ops"]);return d.kid=yield bo({jwk:d}),d})}static privateKeyToBytes({privateKey:t}){return IT(this,void 0,void 0,function*(){if(!HL(t))throw new Error("AesGcm: The provided key is not a valid oct private key.");return mn.base64Url(t.k).toUint8Array()})}}var KB=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},_v=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class H2{static bytesToPrivateKey({privateKeyBytes:t}){return _v(this,void 0,void 0,function*(){const n=co.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n).toBase64Url()};return i.kid=yield bo({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return _v(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:mn.uint8Array(t).toBase64Url()};return n.kid=yield bo({jwk:n}),n})}static computePublicKey({key:t}){return _v(this,void 0,void 0,function*(){const n=yield H2.privateKeyToBytes({privateKey:t}),i=co.TU.getPublicKey(n),o={kty:"OKP",crv:"X25519",x:mn.uint8Array(i).toBase64Url()};return o.kid=yield bo({jwk:o}),o})}static generateKey(){return _v(this,void 0,void 0,function*(){const t=co.TU.utils.randomPrivateKey(),n=yield H2.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield bo({jwk:n}),n})}static getPublicKey({key:t}){var n;return _v(this,void 0,void 0,function*(){if(!Bm(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield bo({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return _v(this,void 0,void 0,function*(){if(!Bm(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return _v(this,void 0,void 0,function*(){if(!Y5(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return mn.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return _v(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield H2.privateKeyToBytes({privateKey:t}),o=yield H2.publicKeyToBytes({publicKey:n});return co.TU.getSharedSecret(i,o)})}}E(94730);class O${static deriveKeyBytes({baseKeyBytes:t,length:n,hash:i,salt:o,info:c=new Uint8Array}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const d=yield(0,bv.NZ)().importKey("raw",t,{name:"HKDF"},!1,["deriveBits"]);o="string"==typeof o?mn.string(o).toUint8Array():o,c="string"==typeof c?mn.string(c).toUint8Array():c;const B=yield crypto.subtle.deriveBits({name:"HKDF",hash:i,salt:o,info:c},d,n);return new Uint8Array(B)})}}class xi extends Error{constructor(t,n){super(n),this.code=t,this.name="CryptoError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xi)}}var Si=function(r){return r.AlgorithmNotSupported="algorithmNotSupported",r.EncodingError="encodingError",r.InvalidJwe="invalidJwe",r.InvalidJwk="invalidJwk",r.OperationNotSupported="operationNotSupported",r}(Si||{}),cy=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class JL extends Rm{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return cy(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield Os.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield Bs.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}default:throw new xi(Si.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return cy(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const i=yield Os.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}case"ES256":case"secp256r1":{const i=yield Bs.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}default:throw new xi(Si.AlgorithmNotSupported,`Algorithm not supported: ${t}`)}})}computePublicKey({key:t}){return cy(this,void 0,void 0,function*(){if(!Om(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Os.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Bs.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return cy(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield Os.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield Bs.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return cy(this,void 0,void 0,function*(){if(!Om(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Os.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield Bs.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}privateKeyToBytes({privateKey:t}){return cy(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield Os.privateKeyToBytes({privateKey:t});case"P-256":return yield Bs.privateKeyToBytes({privateKey:t});default:throw new xi(Si.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}publicKeyToBytes({publicKey:t}){return cy(this,void 0,void 0,function*(){switch(t.crv){case"secp256k1":return yield Os.publicKeyToBytes({publicKey:t});case"P-256":return yield Bs.publicKeyToBytes({publicKey:t});default:throw new xi(Si.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)}})}sign({key:t,data:n}){return cy(this,void 0,void 0,function*(){if(!Om(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield Os.sign({key:t,data:n});case"P-256":return yield Bs.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return cy(this,void 0,void 0,function*(){if(!X5(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield Os.verify({key:t,signature:n,data:i});case"P-256":return yield Bs.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var ly=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},kT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},qL=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const QL=[128,192,256];class PT{static bytesToPrivateKey({privateKeyBytes:t}){return kT(this,void 0,void 0,function*(){const n={k:mn.uint8Array(t).toBase64Url(),kty:"oct"};return n.kid=yield bo({jwk:n}),n.alg={128:"A128KW",192:"A192KW",256:"A256KW"}[8*t.length],n})}static generateKey({length:t}){return kT(this,void 0,void 0,function*(){if(!QL.includes(t))throw new RangeError(`The key length is invalid: Must be ${QL.join(", ")} bits`);const n=(0,bv.NZ)(),i=yield n.generateKey({name:"AES-KW",length:t},!0,["wrapKey","unwrapKey"]),o=yield n.exportKey("jwk",i),d=qL(o,["ext","key_ops"]);return d.kid=yield bo({jwk:d}),d})}static privateKeyToBytes({privateKey:t}){return kT(this,void 0,void 0,function*(){if(!HL(t))throw new Error("AesKw: The provided key is not a valid oct private key.");return mn.base64Url(t.k).toUint8Array()})}static unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:i}){return kT(this,void 0,void 0,function*(){if(!("alg"in i)||!i.alg)throw new xi(Si.InvalidJwk,"The decryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(i.alg))throw new xi(Si.AlgorithmNotSupported,`The 'decryptionKey' algorithm is not supported: ${i.alg}`);const o=(0,bv.NZ)(),c=yield o.importKey("jwk",i,{name:"AES-KW"},!0,["unwrapKey"]),s={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[n];if(!s)throw new xi(Si.AlgorithmNotSupported,`The 'wrappedKeyAlgorithm' is not supported: ${n}`);const d=yield o.unwrapKey("raw",t.buffer,c,"AES-KW",{name:s},!0,["unwrapKey"]),B=yield o.exportKey("jwk",d),_e=qL(B,["ext","key_ops"]);return _e.kid=yield bo({jwk:_e}),_e})}static wrapKey({unwrappedKey:t,encryptionKey:n}){return kT(this,void 0,void 0,function*(){if(!("alg"in n)||!n.alg)throw new xi(Si.InvalidJwk,"The encryption key is missing the 'alg' property.");if(!["A128KW","A192KW","A256KW"].includes(n.alg))throw new xi(Si.AlgorithmNotSupported,`The 'encryptionKey' algorithm is not supported: ${n.alg}`);if(!("alg"in t)||!t.alg)throw new xi(Si.InvalidJwk,"The private key to wrap is missing the 'alg' property.");const i=(0,bv.NZ)(),o=yield i.importKey("jwk",n,{name:"AES-KW"},!0,["wrapKey"]),c={A128KW:"AES-KW",A192KW:"AES-KW",A256KW:"AES-KW",A128GCM:"AES-GCM",A192GCM:"AES-GCM",A256GCM:"AES-GCM"}[t.alg];if(!c)throw new xi(Si.AlgorithmNotSupported,`The 'unwrappedKey' algorithm is not supported: ${t.alg}`);const s=yield i.importKey("jwk",t,{name:c},!0,["unwrapKey"]),d=yield i.wrapKey("raw",s,o,"AES-KW");return new Uint8Array(d)})}}var RT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class eU extends Rm{bytesToPrivateKey({privateKeyBytes:t}){return RT(this,void 0,void 0,function*(){const n=yield PT.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128KW",24:"A192KW",32:"A256KW"}[t.length],n})}generateKey({algorithm:t}){return RT(this,void 0,void 0,function*(){const n={A128KW:128,A192KW:192,A256KW:256}[t],i=yield PT.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return RT(this,void 0,void 0,function*(){return yield PT.privateKeyToBytes({privateKey:t})})}unwrapKey(t){return RT(this,void 0,void 0,function*(){return yield PT.unwrapKey(t)})}wrapKey(t){return RT(this,void 0,void 0,function*(){return PT.wrapKey(t)})}}class j${static deriveKeyBytes({baseKeyBytes:t,hash:n,salt:i,iterations:o,length:c}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const s=(0,bv.NZ)(),d=yield s.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]),B=yield s.deriveBits({name:"PBKDF2",hash:n,salt:i,iterations:o},d,c);return new Uint8Array(B)})}}var OT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},qd=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};const zB={"AES-GCM":{implementation:class z$ extends Rm{bytesToPrivateKey({privateKeyBytes:t}){return OT(this,void 0,void 0,function*(){const n=yield wv.bytesToPrivateKey({privateKeyBytes:t});return n.alg={16:"A128GCM",24:"A192GCM",32:"A256GCM"}[t.length],n})}decrypt(t){return OT(this,void 0,void 0,function*(){return wv.decrypt(t)})}encrypt(t){return OT(this,void 0,void 0,function*(){return wv.encrypt(t)})}generateKey({algorithm:t}){return OT(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield wv.generateKey({length:n});return i.alg=t,i})}privateKeyToBytes({privateKey:t}){return OT(this,void 0,void 0,function*(){return yield wv.privateKeyToBytes({privateKey:t})})}},names:["A128GCM","A192GCM","A256GCM"],operations:["bytesToPrivateKey","decrypt","encrypt","generateKey"]},"AES-KW":{implementation:eU,names:["A128KW","A192KW","A256KW"],operations:["bytesToPrivateKey","generateKey","privateKeyToBytes","wrapKey","unwrapKey"]},Ed25519:{implementation:class U$ extends Rm{bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return ly(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield Ns.bytesToPrivateKey({privateKeyBytes:n});return i.alg="EdDSA",i}throw new xi(Si.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return ly(this,void 0,void 0,function*(){if("Ed25519"===t){const i=yield Ns.bytesToPublicKey({publicKeyBytes:n});return i.alg="EdDSA",i}throw new xi(Si.AlgorithmNotSupported,`Algorithm not supported: ${t}`)})}computePublicKey({key:t}){return ly(this,void 0,void 0,function*(){if(!Bm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Ns.computePublicKey({key:t});return n.alg="EdDSA",n}throw new xi(Si.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}generateKey({algorithm:t}){return ly(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield Ns.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return ly(this,void 0,void 0,function*(){if(!Bm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield Ns.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}privateKeyToBytes({privateKey:t}){return ly(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield Ns.privateKeyToBytes({privateKey:t});throw new xi(Si.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}publicKeyToBytes({publicKey:t}){return ly(this,void 0,void 0,function*(){if("Ed25519"===t.crv)return yield Ns.publicKeyToBytes({publicKey:t});throw new xi(Si.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}sign({key:t,data:n}){return ly(this,void 0,void 0,function*(){if(!Bm(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield Ns.sign({key:t,data:n});throw new xi(Si.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return ly(this,void 0,void 0,function*(){if(!Y5(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield Ns.verify({key:t,signature:n,data:i});throw new xi(Si.AlgorithmNotSupported,`Curve not supported: ${t.crv}`)})}},names:["Ed25519"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},HKDF:{implementation:class L$ extends Rm{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const o={"HKDF-256":"SHA-256","HKDF-384":"SHA-384","HKDF-512":"SHA-512"}[n];return yield O$.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:o}))})}},names:["HKDF-256","HKDF-384","HKDF-512"],operations:["deriveKey","deriveKeyBytes"]},PBKDF2:{implementation:class V$ extends Rm{deriveKeyBytes(t){var{algorithm:n}=t,i=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["algorithm"]);return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const[,o]=n.split(/[-+]/),c={HS256:"SHA-256",HS384:"SHA-384",HS512:"SHA-512"}[o];return yield j$.deriveKeyBytes(Object.assign(Object.assign({},i),{hash:c}))})}},names:["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"],operations:["deriveKey","deriveKeyBytes"]},secp256k1:{implementation:JL,names:["ES256K","secp256k1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},secp256r1:{implementation:JL,names:["ES256","secp256r1"],operations:["bytesToPrivateKey","bytesToPublicKey","generateKey","sign","verify"]},"SHA-256":{implementation:NB,names:["SHA-256"],operations:["digest"]}};class W2{constructor(){this._algorithmInstances=new Map}bytesToPrivateKey({algorithm:t,privateKeyBytes:n}){return qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPrivateKey({algorithm:t,privateKeyBytes:n})})}bytesToPublicKey({algorithm:t,publicKeyBytes:n}){return qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t});return yield this.getAlgorithm({algorithm:i}).bytesToPublicKey({algorithm:t,publicKeyBytes:n})})}decrypt(t){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).decrypt(t)})}deriveKey(t){var n,i;return qd(this,void 0,void 0,function*(){const o=this.getAlgorithmName({algorithm:t.algorithm}),c=this.getAlgorithm({algorithm:o});let s;switch(t.algorithm){case"HKDF-256":case"HKDF-384":case"HKDF-512":s=t.derivedKeyAlgorithm;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":s=t.algorithm.split(/[-+]/)[2];break;default:throw new xi(Si.AlgorithmNotSupported,`The specified "algorithm" is not supported: ${t.algorithm}`)}const d=+(null!==(i=null===(n=s.match(/\d+/))||void 0===n?void 0:n[0])&&void 0!==i?i:-1);if(-1===d)throw new xi(Si.AlgorithmNotSupported,`The derived key algorithm" is not supported: ${s}`);const B=yield c.deriveKeyBytes(Object.assign(Object.assign({},t),{length:d}));return yield this.bytesToPrivateKey({algorithm:s,privateKeyBytes:B})})}deriveKeyBytes(t){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({algorithm:t.algorithm});return yield this.getAlgorithm({algorithm:n}).deriveKeyBytes(t)})}digest({algorithm:t,data:n}){return qd(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}encrypt(t){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.key});return yield this.getAlgorithm({algorithm:n}).encrypt(t)})}generateKey(t){var n;return qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({algorithm:t.algorithm}),c=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t.algorithm});return null!==(n=c.kid)&&void 0!==n||(c.kid=yield bo({jwk:c})),c})}getKeyUri(t){return qd(this,void 0,void 0,function*(){throw new Error("Method not implemented.")})}getPublicKey({key:t}){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).getPublicKey({key:t})})}privateKeyToBytes({privateKey:t}){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).privateKeyToBytes({privateKey:t})})}publicKeyToBytes({publicKey:t}){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t});return yield this.getAlgorithm({algorithm:n}).publicKeyToBytes({publicKey:t})})}sign({key:t,data:n}){return qd(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:i}).sign({data:n,key:t})})}unwrapKey(t){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.decryptionKey});return yield this.getAlgorithm({algorithm:n}).unwrapKey(t)})}verify({key:t,signature:n,data:i}){return qd(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}wrapKey(t){return qd(this,void 0,void 0,function*(){const n=this.getAlgorithmName({key:t.encryptionKey});return yield this.getAlgorithm({algorithm:n}).wrapKey(t)})}getAlgorithm({algorithm:t}){var n;const i=null===(n=zB[t])||void 0===n?void 0:n.implementation;if(!i)throw new xi(Si.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({algorithm:t,key:n}){var i;const o=null!==(i=n?.alg)&&void 0!==i?i:t,c=n?.crv;for(const s of Object.keys(zB)){const d=zB[s].names;if(o&&d.includes(o))return s;if(c&&d.includes(c))return s}throw new xi(Si.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${o}, crv=${c}. Please check the documentation for the list of supported algorithms.`)}}var n8=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(n8||{});const v_={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class qs{constructor({method:t,id:n,path:i,query:o,fragment:c,params:s}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=c,this.params=s}static parse(t){if(!t)return null;const n=qs.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:c,query:s,fragment:d}=n.groups,B={uri:`did:${i}:${o}`,method:i,id:o};if(c&&(B.path=c),s&&(B.query=s.slice(1)),d&&(B.fragment=d.slice(1)),s){const C={},b=s.slice(1).split("&");for(const K of b){const[_e,Ce]=K.split("=");C[_e]=Ce}B.params=C}return B}}qs.METHOD_PATTERN="([a-z0-9]+)",qs.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",qs.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${qs.PCT_ENCODED_PATTERN})`,qs.METHOD_ID_PATTERN=`((?:${qs.ID_CHAR_PATTERN}*:)*(${qs.ID_CHAR_PATTERN}+))`,qs.PATH_PATTERN="(/[^#?]*)?",qs.QUERY_PATTERN="([?][^#]*)?",qs.FRAGMENT_PATTERN="(#.*)?",qs.DID_URI_PATTERN=new RegExp(`^did:(?<method>${qs.METHOD_PATTERN}):(?<id>${qs.METHOD_ID_PATTERN})(?<path>${qs.PATH_PATTERN})(?<query>${qs.QUERY_PATTERN})(?<fragment>${qs.FRAGMENT_PATTERN})$`);class ps extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ps)}}var cs=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(cs||{});function Cp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function WB(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var BT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class dy{constructor({uri:t,document:n,metadata:i,keyManager:o}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=o}export(){return BT(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.exportKey({keyUri:o});n.push(Object.assign({},c))}t.privateKeys=n}return t})}getSigner(t){return BT(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(B=>{var C,b;return Cp(B.id)===(null!==(C=Cp(t?.methodId))&&void 0!==C?C:Cp(null===(b=this.document.assertionMethod)||void 0===b?void 0:b[0]))});if(!i||!i.publicKeyJwk)throw new ps(cs.InternalError,"A verification method intended for signing could not be determined from the DID Document");const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.getPublicKey({keyUri:o}),s=this.keyManager;return{algorithm:GL(c),keyId:i.id,sign(B){return BT(this,arguments,void 0,function*({data:C}){return yield s.sign({data:C,keyUri:o})})},verify(B){return BT(this,arguments,void 0,function*({data:C,signature:b}){return yield s.verify({data:C,key:c,signature:b})})}}})}static import(t){return BT(this,arguments,void 0,function*({portableDid:n,keyManager:i=new Nm}){var o;const c=function HB({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(WB))&&void 0!==n?n:[]),Object.keys(n8).forEach(o=>{var c,s;i.push(...null!==(s=null===(c=r[o])||void 0===c?void 0:c.filter(WB))&&void 0!==s?s:[])}),i}({didDocument:n.document});if(0===c.length)throw new ps(cs.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let d of null!==(o=n.privateKeys)&&void 0!==o?o:[])yield i.importKey({key:d});for(let d of c){if(!d.publicKeyJwk)throw new Error(`Verification method '${d.id}' does not contain a public key in JWK format`);const B=yield i.getKeyUri({key:d.publicKeyJwk});yield i.getPublicKey({keyUri:B})}return new dy({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var tU=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class nU{static getSigningMethod(t){return tU(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return tU(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Xl=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},rU=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const iU="https://diddht.tbddev.org",Ev=7200,Iu=",";var oU=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(oU||{}),rf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(rf||{}),sU=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(sU||{});const aU={Ed25519:rf.Ed25519,ES256K:rf.secp256k1,ES256:rf.secp256r1,"P-256":rf.secp256r1,secp256k1:rf.secp256k1,secp256r1:rf.secp256r1,X25519:rf.X25519},cU={[rf.Ed25519]:"Ed25519",[rf.secp256k1]:"ES256K",[rf.secp256r1]:"ES256",[rf.X25519]:"ECDH-ES+A256KW"};let i8=(()=>{class r extends nU{static create(){return Xl(this,arguments,void 0,function*({keyManager:n=new Nm,options:i={}}={}){var o,c,s,d,B,C,b,K,_e,Ce,Te;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(pt=>!(pt.algorithm in aU)))throw new Error("One or more verification method algorithms are not supported");const Pe=null===(c=i.verificationMethods)||void 0===c?void 0:c.filter(pt=>"id"in pt).map(pt=>pt.id);if(Pe&&Pe.length!==new Set(Pe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(s=i.services)&&void 0!==s&&s.some(pt=>!pt.id||!pt.type||!pt.serviceEndpoint))throw new Error("One or more services are missing required properties");const ze=yield n.generateKey({algorithm:"Ed25519"}),rt=yield n.getPublicKey({keyUri:ze}),Xe=yield qc.identityKeyToIdentifier({identityKey:rt}),Ze=Object.assign(Object.assign({id:Xe},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),lt=[...null!==(d=i.verificationMethods)&&void 0!==d?d:[]];lt?.some(pt=>{var Mt;return"0"===(null===(Mt=pt.id)||void 0===Mt?void 0:Mt.split("#").pop())})||lt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const pt of lt){const Mt=pt.id&&"0"===pt.id.split("#").pop()?ze:yield n.generateKey({algorithm:pt.algorithm}),Pt=yield n.getPublicKey({keyUri:Mt});let sn=null!==(C=null!==(B=pt.id)&&void 0!==B?B:Pt.kid)&&void 0!==C?C:yield bo({jwk:Pt});sn=`${Xe}#${Cp(sn)}`,null!==(b=Ze.verificationMethod)&&void 0!==b||(Ze.verificationMethod=[]),Ze.verificationMethod.push({id:sn,type:"JsonWebKey",controller:null!==(K=pt.controller)&&void 0!==K?K:Xe,publicKeyJwk:Pt});for(const an of null!==(_e=pt.purposes)&&void 0!==_e?_e:[])Ze[an]||(Ze[an]=[]),Ze[an].push(sn)}null===(Ce=i.services)||void 0===Ce||Ce.forEach(pt=>{var Mt;null!==(Mt=Ze.service)&&void 0!==Mt||(Ze.service=[]),pt.id=`${Xe}#${pt.id.split("#").pop()}`,Ze.service.push(pt)});const Et=new dy({uri:Xe,document:Ze,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Te=i.publish)||void 0===Te||Te){const pt=yield r.publish({did:Et,gatewayUri:i.gatewayUri});Et.metadata=pt.didDocumentMetadata}return Et})}static import(n){return Xl(this,arguments,void 0,function*({portableDid:i,keyManager:o=new Nm}){var c;const s=qs.parse(i.uri);if(s?.method!==r.methodName)throw new ps(cs.MethodNotSupported,"Method not supported");const d=yield dy.import({portableDid:i,keyManager:o});if(null===(c=d.document.verificationMethod)||void 0===c||!c.some(B=>{var C;return"0"===(null===(C=B.id)||void 0===C?void 0:C.split("#").pop())}))throw new ps(cs.InvalidDidDocument,"DID document must contain an Identity Key");return d})}static getSigningMethod(n){return Xl(this,arguments,void 0,function*({didDocument:i,methodId:o="#0"}){var c;const s=qs.parse(i.id);if(s&&s.method!==this.methodName)throw new ps(cs.MethodNotSupported,`Method not supported: ${s.method}`);const d=null===(c=i.verificationMethod)||void 0===c?void 0:c.find(B=>{var C,b;return Cp(B.id)===(null!==(C=Cp(o))&&void 0!==C?C:Cp(null===(b=i.assertionMethod)||void 0===b?void 0:b[0]))});if(!d||!d.publicKeyJwk)throw new ps(cs.InternalError,"A verification method intended for signing could not be determined from the DID Document");return d})}static publish(n){return Xl(this,arguments,void 0,function*({did:i,gatewayUri:o=iU}){return yield uy.put({did:i,gatewayUri:o})})}static resolve(n){return Xl(this,arguments,void 0,function*(i,o={}){var c;const s=null!==(c=o?.gatewayUri)&&void 0!==c?c:iU;try{yield qc.identifierToIdentityKey({didUri:i});const{didDocument:d,didDocumentMetadata:B}=yield uy.get({didUri:i,gatewayUri:s});return Object.assign(Object.assign({},v_),{didDocument:d,didDocumentMetadata:B})}catch(d){if(!(d instanceof ps))throw new Error(d);return Object.assign(Object.assign({},v_),{didResolutionMetadata:Object.assign({error:d.code},d.message&&{errorMessage:d.message})})}})}}return r.methodName="dht",r})();class uy{static get(t){return Xl(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const o=qc.identifierToIdentityKeyBytes({didUri:n}),c=yield uy.pkarrGet({gatewayUri:i,publicKeyBytes:o}),s=yield qc.parseBep44GetMessage({bep44Message:c}),d=yield uy.fromDnsPacket({didUri:n,dnsPacket:s});return d.didDocumentMetadata.versionId=c.seq.toString(),d})}static put(t){return Xl(this,arguments,void 0,function*({did:n,gatewayUri:i}){const o=yield uy.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),c=yield qc.createBep44PutMessage({dnsPacket:o,publicKeyBytes:qc.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),s=yield uy.pkarrPut({gatewayUri:i,bep44Message:c});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:s,versionId:c.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return Xl(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const o=mn.uint8Array(i).toBase32Z(),c=new URL(o,n).href;let s;try{if(s=yield fetch(c,{method:"GET"}),!s.ok)throw new ps(cs.NotFound,`Pkarr record not found for: ${o}`)}catch(C){throw C instanceof ps?C:new ps(cs.InternalError,`Failed to fetch Pkarr record: ${C.message}`)}const d=yield s.arrayBuffer();if(!d)throw new ps(cs.NotFound,`Pkarr record not found for: ${o}`);if(d.byteLength<72)throw new ps(cs.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${d.byteLength}`);if(d.byteLength>1072)throw new ps(cs.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${d.byteLength}`);return{k:i,seq:Number(new DataView(d).getBigUint64(64)),sig:new Uint8Array(d,0,64),v:new Uint8Array(d,72)}})}static pkarrPut(t){return Xl(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const o=mn.uint8Array(i.k).toBase32Z(),c=new URL(o,n).href,s=new Uint8Array(i.v.length+72);let d;s.set(i.sig,0),new DataView(s.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),s.set(i.v,i.sig.length+8);try{d=yield fetch(c,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:s})}catch(B){throw new ps(cs.InternalError,`Failed to put Pkarr record for identifier ${o}: ${B.message}`)}return d.ok})}static fromDnsPacket(t){return Xl(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var o,c,s;const d={id:n},B={published:!0},C=new Map;for(const b of null!==(o=i?.answers)&&void 0!==o?o:[]){if("TXT"!==b.type)continue;const K=b.name.split(".")[0].substring(1);switch(!0){case K.startsWith("aka"):{const _e=qc.parseTxtDataToString(b.data);d.alsoKnownAs=_e.split(Iu);break}case K.startsWith("cnt"):{const _e=qc.parseTxtDataToString(b.data);d.controller=_e.includes(Iu)?_e.split(Iu):_e;break}case K.startsWith("k"):{const{id:_e,t:Ce,k:Te,c:Pe,a:ze}=qc.parseTxtDataToObject(b.data),rt=mn.base64Url(Te).toUint8Array(),Xe=rf[Number(Ce)];let Ze=yield qc.keyConverter(Xe).bytesToPublicKey({publicKeyBytes:rt});Ze.alg=ze||cU[Number(Ce)];const lt="k0"===K?"0":void 0!==_e?_e:yield bo({jwk:Ze});null!==(c=d.verificationMethod)&&void 0!==c||(d.verificationMethod=[]);const Et=`${n}#${lt}`;d.verificationMethod.push({id:Et,type:"JsonWebKey",controller:Pe??n,publicKeyJwk:Ze}),C.set(K,Et);break}case K.startsWith("s"):{const _e=qc.parseTxtDataToObject(b.data),{id:Ce,t:Te,se:Pe}=_e,ze=rU(_e,["id","t","se"]),rt=Pe.includes(Iu)?Pe.split(Iu):[Pe],Xe=Object.fromEntries(Object.entries(ze).map(([Ze,lt])=>[Ze,lt.includes(Iu)?lt.split(Iu):lt]));null!==(s=d.service)&&void 0!==s||(d.service=[]),d.service.push(Object.assign(Object.assign({},Xe),{id:`${n}#${Ce}`,type:Te,serviceEndpoint:rt}));break}case K.startsWith("typ"):{const{id:_e}=qc.parseTxtDataToObject(b.data);B.types=_e.split(Iu).map(Ce=>Number(Ce));break}case K.startsWith("did"):{const _e=Xe=>Xe.split(Iu).map(Ze=>C.get(Ze)).filter(Ze=>"string"==typeof Ze),{auth:Ce,asm:Te,del:Pe,inv:ze,agm:rt}=qc.parseTxtDataToObject(b.data);Ce&&(d.authentication=_e(Ce)),Te&&(d.assertionMethod=_e(Te)),Pe&&(d.capabilityDelegation=_e(Pe)),ze&&(d.capabilityInvocation=_e(ze)),rt&&(d.keyAgreement=_e(rt));break}}}return{didDocument:d,didDocumentMetadata:B,didResolutionMetadata:{}}})}static toDnsPacket(t){return Xl(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:o,previousDidProof:c}){var s,d,B,C,b;const K=[],_e=[],Ce=new Map,Te=[],Pe=[];if(void 0!==c){const{signature:Xe,previousDid:Ze}=c;yield qc.validatePreviousDidProof({newDid:n.id,previousDidProof:c}),K.push({type:"TXT",name:"_prv._did.",ttl:Ev,data:`id=${Ze};s=${Xe}`})}if(n.alsoKnownAs&&K.push({type:"TXT",name:"_aka._did.",ttl:Ev,data:n.alsoKnownAs.join(Iu)}),n.controller){const Xe=Array.isArray(n.controller)?n.controller.join(Iu):n.controller;K.push({type:"TXT",name:"_cnt._did.",ttl:Ev,data:Xe})}for(const[Xe,Ze]of null!==(d=null===(s=n.verificationMethod)||void 0===s?void 0:s.entries())&&void 0!==d?d:[]){const lt=`k${Xe}`;Pe.push(lt);let Et=Ze.id.split("#").pop();Ce.set(Et,lt);const pt=Ze.publicKeyJwk;if(!pt?.crv||!(pt.crv in aU))throw new ps(cs.InvalidPublicKeyType,`Verification method '${Ze.id}' contains an unsupported key type: ${null!==(B=pt?.crv)&&void 0!==B?B:"undefined"}`);const Mt=rf[pt.crv],Pt=yield qc.keyConverter(pt.crv).publicKeyToBytes({publicKey:pt}),an=[`t=${Mt}`,`k=${mn.uint8Array(Pt).toBase64Url()}`];"0"!==Et&&(yield bo({jwk:pt}))!==Et&&an.unshift(`id=${Et}`),pt.alg!==cU[Mt]&&an.push(`a=${pt.alg}`),Ze.controller!==n.id&&an.push(`c=${Ze.controller}`),K.push({type:"TXT",name:`_${lt}._did.`,ttl:Ev,data:an.join(";")})}null===(C=n.service)||void 0===C||C.forEach((Xe,Ze)=>{const lt=`s${Ze}`;Te.push(lt);let{id:Et,type:pt,serviceEndpoint:Mt}=Xe,Pt=rU(Xe,["id","type","serviceEndpoint"]);Et=Cp(Et),Mt=Array.isArray(Mt)?Mt.join(","):Mt;const an=Object.entries(Object.assign({id:Et,t:pt,se:Mt},Pt)).map(([$n,wn])=>`${$n}=${wn}`).join(";"),_n=qc.chunkDataIfNeeded(an);K.push({type:"TXT",name:`_${lt}._did.`,ttl:Ev,data:_n})});const ze=["v=0"];if(Pe.length&&ze.push(`vm=${Pe.join(Iu)}`),Object.keys(n8).forEach(Xe=>{var Ze;const lt=null===(Ze=n[Xe])||void 0===Ze?void 0:Ze.map(Et=>Ce.get(Et.split("#").pop()));lt&&ze.push(`${sU[Xe]}=${lt.join(Iu)}`)}),Te.length&&ze.push(`svc=${Te.join(Iu)}`),null!==(b=i.types)&&void 0!==b&&b.length){const Ze=i.types.map(lt=>"string"==typeof lt?oU[lt]:lt);K.push({type:"TXT",name:"_typ._did.",ttl:Ev,data:`id=${Ze.join(Iu)}`})}K.push({type:"TXT",name:"_did."+uy.getUniqueDidSuffix(n.id)+".",ttl:Ev,data:ze.join(";")});for(const Xe of o||[])_e.push({type:"NS",name:"_did."+uy.getUniqueDidSuffix(n.id)+".",ttl:Ev,data:Xe+"."});return{id:0,type:"response",flags:Sh.hB,answers:[...K,..._e]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class qc{static createBep44PutMessage(t){return Xl(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:o}){const c=Math.ceil(Date.now()/1e3),s=(0,Sh.lF)(n),d=uv.A.encode({seq:c,v:s}).subarray(1,-1);if(d.length>1e3)throw new ps(cs.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${d.length} bytes`);return{k:i,seq:c,sig:yield o.sign({data:d}),v:s}})}static identifierToIdentityKey(t){return Xl(this,arguments,void 0,function*({didUri:n}){let i=qc.identifierToIdentityKeyBytes({didUri:n});return yield Ns.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=qs.parse(t);if(!n)throw new ps(cs.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==i8.methodName)throw new ps(cs.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=mn.base32Z(n.id).toUint8Array()}catch{throw new ps(cs.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new ps(cs.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return Xl(this,arguments,void 0,function*({identityKey:n}){const i=yield Ns.publicKeyToBytes({publicKey:n}),o=mn.uint8Array(i).toBase32Z();return`did:${i8.methodName}:${o}`})}static keyConverter(t){const i={Ed25519:Ns,"P-256":{publicKeyToBytes:o=>Xl(this,[o],void 0,function*({publicKey:c}){const s=yield Bs.publicKeyToBytes({publicKey:c});return yield Bs.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:Bs.bytesToPublicKey,privateKeyToBytes:Bs.privateKeyToBytes,bytesToPrivateKey:Bs.bytesToPrivateKey},secp256k1:{publicKeyToBytes:o=>Xl(this,[o],void 0,function*({publicKey:c}){const s=yield Os.publicKeyToBytes({publicKey:c});return yield Os.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:Os.bytesToPublicKey,privateKeyToBytes:Os.privateKeyToBytes,bytesToPrivateKey:Os.bytesToPrivateKey},X25519:H2}[t];if(!i)throw new ps(cs.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return Xl(this,arguments,void 0,function*({bep44Message:n}){const i=yield Ns.bytesToPublicKey({publicKeyBytes:n.k}),o=uv.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield Ns.verify({key:i,signature:n.sig,data:o})))throw new ps(cs.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,Sh.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[o,c]=i.split("=");return n[o]=c,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return mn.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new ps(cs.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return Xl(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const o=yield qc.identifierToIdentityKey({didUri:i.previousDid}),c=qc.identifierToIdentityKeyBytes({didUri:n}),s=mn.base64Url(i.signature).toUint8Array();if(!(yield Ns.verify({key:o,data:c,signature:s})))throw new ps(cs.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var o8=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};let X$=(()=>{class r extends nU{static create(){return o8(this,arguments,void 0,function*({keyManager:n=new Nm,options:i={}}={}){var o,c,s,d;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const B=null!==(d=null!==(o=i.algorithm)&&void 0!==o?o:null===(s=null===(c=i.verificationMethods)||void 0===c?void 0:c[0])||void 0===s?void 0:s.algorithm)&&void 0!==d?d:"Ed25519",C=yield n.generateKey({algorithm:B}),b=yield n.getPublicKey({keyUri:C}),K=mn.object(b).toBase64Url(),_e=`did:${r.methodName}:${K}`,Te=(yield r.resolve(_e)).didDocument;return new dy({uri:_e,document:Te,metadata:{},keyManager:n})})}static getSigningMethod(n){return o8(this,arguments,void 0,function*({didDocument:i}){var o;const c=qs.parse(i.id);if(c&&c.method!==this.methodName)throw new ps(cs.MethodNotSupported,`Method not supported: ${c.method}`);const[s]=null!==(o=i.verificationMethod)&&void 0!==o?o:[];if(!s||!s.publicKeyJwk)throw new ps(cs.InternalError,"A verification method intended for signing could not be determined from the DID Document");return s})}static import(n){return o8(this,arguments,void 0,function*({portableDid:i,keyManager:o=new Nm}){const c=qs.parse(i.uri);if(c?.method!==r.methodName)throw new ps(cs.MethodNotSupported,"Method not supported");const s=yield dy.import({portableDid:i,keyManager:o});if(1!==s.document.verificationMethod.length)throw new ps(cs.InvalidDidDocument,"DID document must contain exactly one verification method");return s})}static resolve(n,i){return o8(this,void 0,void 0,function*(){const o=qs.parse(n);let c;try{c=mn.base64Url(o.id).toObject()}catch{}if(!o||!c)return Object.assign(Object.assign({},v_),{didResolutionMetadata:{error:"invalidDid"}});if(o.method!==r.methodName)return Object.assign(Object.assign({},v_),{didResolutionMetadata:{error:"methodNotSupported"}});const s={"@context":["https://www.w3.org/ns/did/v1"],id:o.uri},d=`${s.id}#0`;switch(s.verificationMethod=[{id:d,type:"JsonWebKey",controller:s.id,publicKeyJwk:c}],s.authentication=[d],s.assertionMethod=[d],s.capabilityInvocation=[d],s.capabilityDelegation=[d],s.keyAgreement=[d],c.use){case"sig":delete s.keyAgreement;break;case"enc":delete s.authentication,delete s.assertionMethod,delete s.capabilityInvocation,delete s.capabilityDelegation}return Object.assign(Object.assign({},v_),{didDocument:s})})}}return r.methodName="jwk",r})();var __=E(81447),Y$=E(94787);class q${constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new Y$.Level(n),this.ttl=__(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},o=JSON.stringify(i);return this.cache.put(t,o)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}const Q$={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var lU=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class dU{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||Q$;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return lU(this,void 0,void 0,function*(){const i=qs.parse(t);if(!i)return Object.assign(Object.assign({},v_),{didResolutionMetadata:{error:cs.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const o=this.didResolvers.get(i.method);if(!o)return Object.assign(Object.assign({},v_),{didResolutionMetadata:{error:cs.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const c=yield this.cache.get(i.uri);if(c)return c;{const s=yield o.resolve(i.uri,n);return s.didResolutionMetadata.error||(yield this.cache.set(i.uri,s)),s}})}dereference(t,n){return lU(this,void 0,void 0,function*(){const i=qs.parse(t);if(!i)return{dereferencingMetadata:{error:cs.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:o,didResolutionMetadata:c,didDocumentMetadata:s}=yield this.resolve(i.uri);if(!o)return{dereferencingMetadata:{error:c.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:o,contentMetadata:s};const{service:d=[],verificationMethod:B=[]}=o,C=new Set([t,i.fragment,`#${i.fragment}`]);let b;for(let K of B)if(C.has(K.id)){b=K;break}for(let K of d)if(C.has(K.id)){b=K;break}return b?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:b,contentMetadata:c}:{dereferencingMetadata:{error:cs.NotFound},contentStream:null,contentMetadata:{}}})}}const uU={protocol:"http://identity.foundation/protocols/web5/identity-store",published:!1,types:{portableDid:{schema:"https://identity.foundation/schemas/web5/portable-did",dataFormats:["application/json"]},identityMetadata:{schema:"https://identity.foundation/schemas/web5/identity-metadata",dataFormats:["application/json"]}},structure:{portableDid:{},identityMetadata:{}}},eV={protocol:"http://identity.foundation/protocols/web5/jwk-store",published:!1,types:{privateJwk:{schema:"https://identity.foundation/schemas/web5/private-jwk",dataFormats:["application/json"]}},structure:{privateJwk:{}}};function fU(r){return!(!r||"object"!=typeof r||null===r)&&"uri"in r&&"document"in r&&"metadata"in r&&(!("keyManager"in r)||void 0===r.keyManager)}var G2=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};const Nf="^";class nV extends Nm{constructor(){super(),this._predefinedKeys=new Map,this._keyGenerator=this._predefinedKeys.keys()}addPredefinedKeys({privateKeys:t}){var n;return G2(this,void 0,void 0,function*(){const i={};for(const o of t)null!==(n=o.kid)&&void 0!==n||(o.kid=yield bo({jwk:o})),i[yield this.getKeyUri({key:o})]=o;this._predefinedKeys=new Map(Object.entries(i)),this._keyGenerator=this._predefinedKeys.keys()})}exportKey({keyUri:t}){return G2(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.exportKey: Key not found: ${t}`);return n})}generateKey(t){return G2(this,void 0,void 0,function*(){const{value:n,done:i}=this._keyGenerator.next();if(i)throw new Error("Ran out of predefined keys");return n})}getPublicKey({keyUri:t}){return G2(this,void 0,void 0,function*(){const n=this._predefinedKeys.get(t);if(!n)throw new Error(`DeterministicKeyGenerator.getPublicKey: Key not found: ${t}`);return function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(n,["d"])})}sign({keyUri:t,data:n}){return G2(this,void 0,void 0,function*(){const i=this._predefinedKeys.get(t);if(!i)throw new Error(`DeterministicKeyGenerator.sign: Key not found: ${t}`);return yield Ns.sign({data:n,key:i})})}}function fy({agent:r,tenant:t,didUri:n}){return G2(this,void 0,void 0,function*(){if(t)return t;if(r.agentDid)return r.agentDid.uri;if(!n)throw new Error("Failed to determine tenant DID: 'agent.agentDid', 'tenant', and 'didUri' are undefined");return n})}var Lf=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class ZB{constructor(){this.name="DwnDataStore",this._cache=new Vw({ttl:__("15 minutes"),max:100}),this._index=new Vw({ttl:__("2 hours"),max:1e3}),this._protocolInitializedCache=new Vw({ttl:__("1 hour"),max:1e3}),this._recordProperties={dataFormat:"application/json"}}delete({id:t,agent:n,tenant:i}){return Lf(this,void 0,void 0,function*(){const o=yield fy({agent:n,tenant:i,didUri:t});let c=yield this.lookupRecordId({id:t,tenantDid:o,agent:n});if(!c)return!1;const{reply:{status:s}}=yield n.dwn.processRequest({author:o,target:o,messageType:Zi.RecordsDelete,messageParams:{recordId:c}});if(202===s.code)return this._index.delete(`${o}${Nf}${t}`),this._cache.delete(c),!0;throw new Error(`${this.name}: Failed to delete '${t}' from store: (${s.code}) ${s.detail}`)})}get({id:t,agent:n,tenant:i,useCache:o=!1}){return Lf(this,void 0,void 0,function*(){const c=yield fy({agent:n,tenant:i,didUri:t});let s=yield this.lookupRecordId({id:t,tenantDid:c,agent:n});if(s)return yield this.getRecord({recordId:s,tenantDid:c,agent:n,useCache:o})})}list({agent:t,tenant:n}){return Lf(this,void 0,void 0,function*(){const i=yield fy({tenant:n,agent:t});return yield this.getAllRecords({agent:t,tenantDid:i})})}set({id:t,data:n,tenant:i,agent:o,preventDuplicates:c=!0,useCache:s=!1}){return Lf(this,void 0,void 0,function*(){const d=yield fy({agent:o,tenant:i,didUri:t});if(yield this.initialize({tenant:d,agent:o}),c&&(yield this.lookupRecordId({id:t,tenantDid:d,agent:o})))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const B=mn.object(n).toUint8Array(),{message:C,reply:{status:b}}=yield o.dwn.processRequest({author:d,target:d,messageType:Zi.RecordsWrite,messageParams:Object.assign({},this._recordProperties),dataStream:new Blob([B],{type:"application/json"})});if(!C||202!==b.code)throw new Error(`${this.name}: Failed to write data to store for: ${t}`);this._index.set(`${d}${Nf}${t}`,C.recordId),s&&this._cache.set(C.recordId,n)})}initialize({tenant:t,agent:n}){return Lf(this,void 0,void 0,function*(){const i=yield fy({agent:n,tenant:t});if(this._protocolInitializedCache.has(i))return;const{reply:{status:o,entries:c}}=yield n.dwn.processRequest({author:i,target:i,messageType:Zi.ProtocolsQuery,messageParams:{filter:{protocol:this._recordProtocolDefinition.protocol}}});if(200!==o.code)throw new Error(`Failed to query for protocols: ${o.code} - ${o.detail}`);0===c?.length&&(yield this.installProtocol(i,n)),this._protocolInitializedCache.set(i,!0)})}getAllRecords(t){return Lf(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DwnDataStore must implement getAllRecords()")})}getRecord({recordId:t,tenantDid:n,agent:i,useCache:o}){var c;return Lf(this,void 0,void 0,function*(){if(o){const B=this._cache.get(t);if(B)return B}const{reply:s}=yield i.dwn.processRequest({author:n,target:n,messageType:Zi.RecordsRead,messageParams:{filter:{recordId:t}}});if(null===(c=s.record)||void 0===c||!c.data)throw new Error(`${this.name}: Failed to read data from DWN for: ${t}`);const d=yield Zc.consumeToJson({readable:s.record.data});return o&&this._cache.set(t,d),d})}installProtocol(t,n){return Lf(this,void 0,void 0,function*(){const{reply:{status:i}}=yield n.dwn.processRequest({author:t,target:t,messageType:Zi.ProtocolsConfigure,messageParams:{definition:this._recordProtocolDefinition}});if(202!==i.code)throw new Error(`Failed to install protocol: ${i.code} - ${i.detail}`)})}lookupRecordId({id:t,tenantDid:n,agent:i}){return Lf(this,void 0,void 0,function*(){let o=this._index.get(`${n}${Nf}${t}`,{updateAgeOnGet:!0});return o||(yield this.getAllRecords({agent:i,tenantDid:n}),o=this._index.get(`${n}${Nf}${t}`)),o})}}class XB{constructor(){this.name="InMemoryDataStore",this.store=new Map}delete({id:t,agent:n,tenant:i}){return Lf(this,void 0,void 0,function*(){const o=yield fy({agent:n,tenant:i,didUri:t});return!!this.store.has(`${o}${Nf}${t}`)&&(this.store.delete(`${o}${Nf}${t}`),!0)})}get({id:t,agent:n,tenant:i}){return Lf(this,void 0,void 0,function*(){const o=yield fy({agent:n,tenant:i,didUri:t});return this.store.get(`${o}${Nf}${t}`)})}list({agent:t,tenant:n}){return Lf(this,void 0,void 0,function*(){const i=yield fy({tenant:n,agent:t}),o=[];for(const[c,s]of this.store.entries())c.startsWith(`${i}${Nf}`)&&o.push(s);return o})}set({id:t,data:n,tenant:i,agent:o,preventDuplicates:c}){return Lf(this,void 0,void 0,function*(){const s=yield fy({agent:o,tenant:i,didUri:t});if(c&&this.store.has(`${s}${Nf}${t}`))throw new Error(`${this.name}: Import failed due to duplicate entry for: ${t}`);const d=structuredClone(n);this.store.set(`${s}${Nf}${t}`,d)})}}var hy=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class rV extends ZB{constructor(){super(...arguments),this.name="DwnDidStore",this._recordProtocolDefinition=uU,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"portableDid",schema:this._recordProtocolDefinition.types.portableDid.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return hy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return hy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return hy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return hy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return hy(this,void 0,void 0,function*(){this._index.clear();const{reply:o}=yield t.dwn.processRequest({author:n,target:n,messageType:Zi.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let c=[];for(const s of null!==(i=o.entries)&&void 0!==i?i:[]){if(!s.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const d=mn.base64Url(s.encodedData).toObject();fU(d)&&(this._index.set(`${n}${Nf}${d.uri}`,s.recordId),this._cache.set(s.recordId,d),c.push(d))}return c})}}class iV extends XB{constructor(){super(...arguments),this.name="InMemoryDidStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return hy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return hy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return hy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return hy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var NT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class oV{constructor({ttl:t="15m"}={}){this.cache=new Vw({ttl:__(t)})}get(t){return NT(this,void 0,void 0,function*(){if(!t)throw new Error("Key cannot be null or undefined");return this.cache.get(t)})}set(t,n){return NT(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return NT(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return NT(this,void 0,void 0,function*(){this.cache.clear()})}close(){return NT(this,void 0,void 0,function*(){})}}var Sv=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},LT=function(r){return r.Create="Create",r.Resolve="Resolve",r}(LT||{});function hU(r,t){return r.messageType===t}class sV extends dU{constructor({agent:t,didMethods:n,resolverCache:i,store:o}){if(!n)throw new TypeError("AgentDidApi: Required parameter missing: 'didMethods'");super({didResolvers:n,cache:i??new oV}),this._didMethods=new Map,this._agent=t,this._store=o??new iV;for(const c of n)this._didMethods.set(c.methodName,c)}get agent(){if(void 0===this._agent)throw new Error("AgentDidApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({method:t,tenant:n,options:i,store:o}){return Sv(this,void 0,void 0,function*(){const s=yield this.getMethod(t).create({keyManager:this.agent.keyManager,options:i});if(o??1){const{uri:d,document:B,metadata:C}=s,b={uri:d,document:B,metadata:C};yield this._store.set({id:b.uri,data:b,agent:this.agent,tenant:n??b.uri,preventDuplicates:!1,useCache:!0})}return s})}export({didUri:t,tenant:n}){return Sv(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentDidApi: Failed to export due to DID not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return Sv(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});return i?yield dy.import({portableDid:i,keyManager:this.agent.keyManager}):void 0})}getSigningMethod({didUri:t,methodId:n}){return Sv(this,void 0,void 0,function*(){const i=qs.parse(t);if(!i)throw new Error(`Invalid DID URI: ${t}`);const o=this.getMethod(i.method),{didDocument:c,didResolutionMetadata:s}=yield this.resolve(t);if(!c)throw new Error(`DID resolution failed for '${t}': ${JSON.stringify(s)}`);return yield o.getSigningMethod({didDocument:c,methodId:n})})}import({portableDid:t,tenant:n}){return Sv(this,void 0,void 0,function*(){const i=yield dy.import({keyManager:this.agent.keyManager,portableDid:t}),{uri:o,document:c,metadata:s}=i,d={uri:o,document:c,metadata:s};return yield this._store.set({id:d.uri,data:d,agent:this.agent,tenant:n??d.uri,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n,deleteKey:i=!0}){return Sv(this,void 0,void 0,function*(){const o=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!1});if(!o)throw new Error("AgentDidApi: Could not delete, DID not found");yield this._store.delete({id:t,agent:this.agent,tenant:n}),i&&(yield this.deleteKeys({portableDid:o}))})}deleteKeys({portableDid:t}){return Sv(this,void 0,void 0,function*(){for(const n of t.document.verificationMethod||[]){if(!n.publicKeyJwk)continue;const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk});yield this.agent.keyManager.deleteKey({keyUri:i})}})}processRequest(t){var n;return Sv(this,void 0,void 0,function*(){if(hU(t,LT.Create))try{const i=yield this.create(Object.assign({},t.messageParams));return{result:{uri:i.uri,document:i.document,metadata:i.metadata},ok:!0,status:{code:201,message:"Created"}}}catch(i){return{ok:!1,status:{code:500,message:null!==(n=i.message)&&void 0!==n?n:"Unknown error occurred"}}}if(hU(t,LT.Resolve)){const{didUri:i,options:o}=t.messageParams;return{result:yield this.resolve(i,o),ok:!0,status:{code:200,message:"OK"}}}throw new Error(`AgentDidApi: Unsupported request type: ${t.messageType}`)})}getMethod(t){const n=this._didMethods.get(t);if(void 0===n)throw new Error(`DID Method not supported: ${t}`);return n}}var aV=E(85493),pU=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};function mU(r){return JB(r.stream())}function yU(r,t){return pU(this,void 0,void 0,function*(){const n=yield t.dereference(`${r}#dwn`);if(n.dereferencingMetadata.error)throw new Error(`Failed to dereference '${r}#dwn': ${n.dereferencingMetadata.error}`);if(function G$(r){if(!function W$(r){return!(!r||"object"!=typeof r||null===r)&&"id"in r&&"type"in r&&"serviceEndpoint"in r}(r)||"DecentralizedWebNode"!==r.type||!("enc"in r)||!("sig"in r))return!1;const t=n=>"string"==typeof n||Array.isArray(n)&&n.every(i=>"string"==typeof i);return t(r.enc)&&t(r.sig)}(n.contentStream)){const{serviceEndpoint:i}=n.contentStream,o="string"==typeof i?[i]:Array.isArray(i)&&i.every(c=>"string"==typeof c)?i:[];if(o.length>0)return o}return[]})}function YB(r){return Fi.getAuthor(r)}function s8(r){return!(!r||"object"!=typeof r||null===r)&&"message"in r&&"object"==typeof r.message&&null!==r.message&&"descriptor"in r.message&&"object"==typeof r.message.descriptor&&null!==r.message.descriptor&&"interface"in r.message.descriptor&&r.message.descriptor.interface===Mi.Records&&"method"in r.message.descriptor&&r.message.descriptor.method===Xr.Write}function cV(r){return Dr.getCid(r)}function JB(r){return new aV.s(r)}function qB(r,t){return r.endsWith("/")&&(r=r.slice(0,-1)),t.startsWith("/")&&(t=t.slice(1)),`${r}/${t}`}var py=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};function a8(r,t){return t.descriptor.interface+t.descriptor.method===r}class gU{constructor({agent:t,dwn:n}){this._agent=t,this._dwn=n}get agent(){if(void 0===this._agent)throw new Error("AgentDwnApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}get node(){return this._dwn}static createDwn({dataPath:t,dataStore:n,didResolver:i,eventLog:o,eventStream:c,messageStore:s,tenantGate:d,resumableTaskStore:B}){return py(this,void 0,void 0,function*(){return n??(n=new e$({blockstoreLocation:`${t}/DWN_DATASTORE`})),i??(i=new dU({didResolvers:[i8,X$],cache:new q$({location:`${t}/DID_RESOLVERCACHE`})})),o??(o=new c$({location:`${t}/DWN_EVENTLOG`})),s??(s=new RB({blockstoreLocation:`${t}/DWN_MESSAGESTORE`,indexLocation:`${t}/DWN_MESSAGEINDEX`})),B??(B=new y$({location:`${t}/DWN_RESUMABLETASKSTORE`})),yield sB.create({dataStore:n,didResolver:i,eventLog:o,eventStream:c,messageStore:s,tenantGate:d,resumableTaskStore:B})})}processRequest(t){return py(this,void 0,void 0,function*(){const{message:n,dataStream:i}=yield this.constructDwnMessage({request:t}),{subscriptionHandler:o}=t;return{reply:!1!==t.store?yield this._dwn.processMessage(t.target,n,{dataStream:i,subscriptionHandler:o}):{status:{code:202,detail:"Accepted"}},message:n,messageCid:yield Dr.getCid(n)}})}sendRequest(t){return py(this,void 0,void 0,function*(){const n=yield yU(t.target,this.agent.did);if(0===n.length)throw new Error(`AgentDwnApi: DID Service is missing or malformed: ${t.target}#dwn`);let i,o,c,s;if("messageCid"in t)({message:o,data:c}=yield this.getDwnMessage({author:t.author,messageCid:t.messageCid,messageType:t.messageType})),i=t.messageCid;else{if(({message:o}=yield this.constructDwnMessage({request:t})),t.dataStream&&!(t.dataStream instanceof Blob))throw new Error("AgentDwnApi: DataStream must be provided as a Blob");c=t.dataStream,s=t.subscriptionHandler}const d=yield this.sendDwnRpcRequest({targetDid:t.target,dwnEndpointUrls:n,message:o,data:c,subscriptionHandler:s});return i??(i=yield Dr.getCid(o)),{reply:d,message:o,messageCid:i}})}sendDwnRpcRequest({targetDid:t,dwnEndpointUrls:n,message:i,data:o,subscriptionHandler:c}){return py(this,void 0,void 0,function*(){const s=[];if(i.descriptor.method===Xr.Subscribe&&void 0===c)throw new Error("AgentDwnApi: Subscription handler is required for subscription requests.");for(let d of n)try{if(void 0!==c){if(!(yield this.agent.rpc.getServerInfo(d)).webSocketSupport){s.push({url:d,message:"WebSocket support is not enabled on the server."});continue}const b=new URL(d);b.protocol="http:"===b.protocol?"ws:":"wss:",d=b.toString()}return yield this.agent.rpc.sendDwnRequest({dwnUrl:d,targetDid:t,message:i,data:o,subscriptionHandler:c})}catch(B){s.push({url:d,message:B instanceof Error?B.message:"Unknown error"})}throw new Error(`Failed to send DWN RPC request: ${JSON.stringify(s)}`)})}constructDwnMessage({request:t}){var n;return py(this,void 0,void 0,function*(){const i=t.rawMessage;let o;if(function dV(r,t){return r.messageType===t}(t,Zi.RecordsWrite)){const B=t.messageParams;if(t.dataStream&&!B?.data){const{dataStream:C}=t;let b;if(C instanceof Blob)b=mU(C),o=mU(C);else if(C instanceof ReadableStream){const[K,_e]=C.tee();b=JB(K),o=JB(_e)}i||(B.dataCid=yield ba.computeDagPbCidFromStream(b),null!==(n=B.dataSize)&&void 0!==n||(B.dataSize=b.bytesRead))}}const c=yield this.getSigner(t.author),s=zL[t.messageType],d=i?yield s.parse(i):yield s.create(Object.assign(Object.assign({},t.messageParams),{signer:c}));return s8(d)&&t.signAsOwner&&(yield d.signAsOwner(c)),{message:d.message,dataStream:o}})}getSigner(t){return py(this,void 0,void 0,function*(){if(t===this.agent.agentDid.uri){const n=yield this.agent.agentDid.getSigner();return{algorithm:n.algorithm,keyId:n.keyId,sign:i=>py(this,void 0,void 0,function*(){return yield n.sign({data:i})})}}try{const n=yield this.agent.did.getSigningMethod({didUri:t});if(!n.publicKeyJwk)throw new Error(`Verification method '${n.id}' does not contain a public key in JWK format`);const i=yield this.agent.keyManager.getKeyUri({key:n.publicKeyJwk}),o=yield this.agent.keyManager.getPublicKey({keyUri:i}),c=this.agent.keyManager;return{algorithm:GL(o),keyId:n.id,sign:s=>py(this,void 0,void 0,function*(){return yield c.sign({data:s,keyUri:i})})}}catch(n){throw new Error(`AgentDwnApi: Unable to get signer for author '${t}': ${n.message}`)}})}getDwnMessage({author:t,messageCid:n}){return py(this,void 0,void 0,function*(){const i=yield this.getSigner(t),o=yield zL[Zi.MessagesRead].create({messageCid:n,signer:i}),c=yield this._dwn.processMessage(t,o.message);if(200!==c.status.code)throw new Error(`AgentDwnApi: Failed to read message, response status: ${c.status.code} - ${c.status.detail}`);const s=c.entry;let B={message:s.message};if(s8(s)&&s.data){const C=yield Zc.consumeToBytes({readable:s.data});B.data=new Blob([C],{type:s.message.descriptor.dataFormat})}return B})}}var c8=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Z2{static registerTenant(t,n){return c8(this,void 0,void 0,function*(){const i=qB(t,"registration"),o=qB(i,"terms-of-service"),c=qB(i,"proof-of-work"),s=yield fetch(o,{method:"GET"});if(200!==s.status){const Pe=s.status,ze=s.statusText,rt=yield s.text();throw new Error(`Failed fetching terms-of-service: ${Pe} ${ze}: ${rt}`)}const d=yield s.text(),B=yield fetch(c,{method:"GET"}),{challengeNonce:C,maximumAllowedHashValue:b}=yield B.json(),K={did:n,termsOfServiceHash:yield Z2.hashAsHexString(d)},_e=yield Z2.findQualifiedResponseNonce({challengeNonce:C,maximumAllowedHashValue:b,requestData:JSON.stringify(K)}),Te=yield fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({registrationData:K,proofOfWork:{challengeNonce:C,responseNonce:_e}})});if(200!==Te.status){const Pe=Te.status,ze=Te.statusText,rt=yield Te.text();throw new Error(`Registration failed: ${Pe} ${ze}: ${rt}`)}})}static hashAsHexString(t){return c8(this,void 0,void 0,function*(){const n=yield BB.digest({data:mn.string(t).toUint8Array()});return mn.uint8Array(n).toHex()})}static findQualifiedResponseNonce(t){return c8(this,void 0,void 0,function*(){const n=Date.now(),{maximumAllowedHashValue:i,challengeNonce:o,requestData:c}=t,s=BigInt(`0x${i}`);let B,d=1,C=!1;do{B=yield this.generateNonce();const b=yield Z2.hashAsHexString(o+B+c);C=BigInt(`0x${b}`)<=s,d++}while(!C);return console.log(`iterations: ${d}, time lapsed: ${Date.now()-n} ms`),B})}static generateNonce(){return c8(this,void 0,void 0,function*(){const t=ZL(32);return yield mn.uint8Array(t).toHex().toUpperCase()})}}var QB=E(75781),uV=E(36405);const fV=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),vU=Uint8Array.from({length:16},(r,t)=>t);let eN=[vU],tN=[vU.map(r=>(9*r+5)%16)];for(let r=0;r<4;r++)for(let t of[eN,tN])t.push(t[r].map(n=>fV[n]));const bU=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),pV=eN.map((r,t)=>r.map(n=>bU[t][n])),mV=tN.map((r,t)=>r.map(n=>bU[t][n])),yV=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),gV=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),l8=(r,t)=>r<<t|r>>>32-t;function wU(r,t,n,i){return 0===r?t^n^i:1===r?t&n|~t&i:2===r?(t|~n)^i:3===r?t&i|n&~i:t^(n|~i)}const d8=new Uint32Array(16);class vV extends uV.D{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:i,h3:o,h4:c}=this;return[t,n,i,o,c]}set(t,n,i,o,c){this.h0=0|t,this.h1=0|n,this.h2=0|i,this.h3=0|o,this.h4=0|c}process(t,n){for(let Ce=0;Ce<16;Ce++,n+=4)d8[Ce]=t.getUint32(n,!0);let i=0|this.h0,o=i,c=0|this.h1,s=c,d=0|this.h2,B=d,C=0|this.h3,b=C,K=0|this.h4,_e=K;for(let Ce=0;Ce<5;Ce++){const Te=4-Ce,Pe=yV[Ce],ze=gV[Ce],rt=eN[Ce],Xe=tN[Ce],Ze=pV[Ce],lt=mV[Ce];for(let Et=0;Et<16;Et++){const pt=l8(i+wU(Ce,c,d,C)+d8[rt[Et]]+Pe,Ze[Et])+K|0;i=K,K=C,C=0|l8(d,10),d=c,c=pt}for(let Et=0;Et<16;Et++){const pt=l8(o+wU(Te,s,B,b)+d8[Xe[Et]]+ze,lt[Et])+_e|0;o=_e,_e=b,b=0|l8(B,10),B=s,s=pt}}this.set(this.h1+d+b|0,this.h2+C+_e|0,this.h3+K+o|0,this.h4+i+s|0,this.h0+c+B|0)}roundClean(){d8.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const bV=(0,Zl.ld)(()=>new vV);var nN=E(25431),my=E(37099);const wV=(0,Zl.AI)("ed25519 seed"),rN=2147483648,_U=new Uint8Array([0]);function EU(r,...t){return"string"==typeof r&&(r=(0,Zl.aT)(r)),(0,my.ee)(r,...t),r}const iN=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return(0,Zl.O8)(t).setUint32(0,r,!1),t};class u8{get publicKeyRaw(){return co.ev.getPublicKey(this.privateKey)}get publicKey(){return(0,Zl.Id)(_U,this.publicKeyRaw)}get pubHash(){return bV((0,Sd.s)(this.publicKey))}get fingerprint(){return(0,Zl.O8)(this.pubHash).getUint32(0,!1)}get fingerprintHex(){return(0,Zl.My)(iN(this.fingerprint))}get parentFingerprintHex(){return(0,Zl.My)(iN(this.parentFingerprint))}static fromMasterSeed(t){if(8*(t=EU(t)).length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=(0,QB.w)(nN.Zf,wV,t);return new u8({privateKey:n.slice(0,32),chainCode:n.slice(32)})}constructor(t){if(this.depth=0,this.index=0,this.parentFingerprint=0,!t||"object"!=typeof t)throw new Error("HDKey.constructor must not be called directly");if((0,my.ee)(t.privateKey,32),(0,my.ee)(t.chainCode,32),this.depth=t.depth||0,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");this.chainCode=t.chainCode,this.privateKey=t.privateKey}derive(t,n=!1){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const i=t.replace(/^[mM]'?\//,"").split("/");let o=this;for(const c of i){const s=/^(\d+)('?)$/.exec(c);if(!s||3!==s.length)throw new Error(`Invalid child index: ${c}`);let d=+s[1];if(!Number.isSafeInteger(d)||d>=rN)throw new Error("Invalid index");(n||"'"===s[2])&&(d+=rN),o=o.deriveChild(d)}return o}deriveChild(t){if(t<rN)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const n=(0,Zl.Id)(_U,this.privateKey,iN(t)),i=(0,QB.w)(nN.Zf,this.chainCode,n);return new u8({chainCode:i.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:i.slice(0,32)})}sign(t){return co.ev.sign(t,this.privateKey)}verify(t,n){return n=EU(n,64),co.ev.verify(n,t,this.publicKeyRaw)}}const xU="abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n");function oN(){return(oN=(0,bt.A)(function*(r,t,n,i){const{c:o,dkLen:c,asyncTick:s,DK:d,PRF:B,PRFSalt:C}=function SU(r,t,n,i){(0,my.tW)(r);const o=(0,Zl.tY)({dkLen:32,asyncTick:10},i),{c,dkLen:s,asyncTick:d}=o;if((0,my.ai)(c),(0,my.ai)(s),(0,my.ai)(d),c<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const B=(0,Zl.ZJ)(t),C=(0,Zl.ZJ)(n),b=new Uint8Array(s),K=QB.w.create(r,B),_e=K._cloneInto().update(C);return{c,dkLen:s,asyncTick:d,DK:b,PRF:K,PRFSalt:_e}}(r,t,n,i);let b;const K=new Uint8Array(4),_e=(0,Zl.O8)(K),Ce=new Uint8Array(B.outputLen);for(let Te=1,Pe=0;Pe<c;Te++,Pe+=B.outputLen){const ze=d.subarray(Pe,Pe+B.outputLen);_e.setInt32(0,Te,!1),(b=C._cloneInto(b)).update(K).digestInto(Ce),ze.set(Ce.subarray(0,ze.length)),yield(0,Zl.$h)(o-1,s,()=>{B._cloneInto(b).update(Ce).digestInto(Ce);for(let rt=0;rt<ze.length;rt++)ze[rt]^=Ce[rt]})}return function MU(r,t,n,i,o){return r.destroy(),t.destroy(),i&&i.destroy(),o.fill(0),n}(B,C,d,b,Ce)})).apply(this,arguments)}var f8=E(53813);function AU(r){if("string"!=typeof r)throw new TypeError("Invalid mnemonic type: "+typeof r);return r.normalize("NFKD")}function sN(r){const t=AU(r),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function TU(r){(0,my.ee)(r,16,20,24,28,32)}const AV=r=>{const t=8-r.length/4;return new Uint8Array([(0,Sd.s)(r)[0]>>t<<t])};function IU(r){if(!Array.isArray(r)||2048!==r.length||"string"!=typeof r[0])throw new Error("Wordlist: expected array of 2048 strings");return r.forEach(t=>{if("string"!=typeof t)throw new Error(`Wordlist: non-string element: ${t}`)}),f8.Wp.chain(f8.Wp.checksum(1,AV),f8.Wp.radix2(11,!0),f8.Wp.alphabet(r))}function CV(r,t=""){return function xV(r,t,n,i){return oN.apply(this,arguments)}(nN.Zf,sN(r).nfkd,(r=>AU(`mnemonic${r}`))(t),{c:2048,dkLen:64})}var yy=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class kV extends ZB{constructor(){super(...arguments),this.name="DwnKeyStore",this._recordProtocolDefinition=eV,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"privateJwk",schema:this._recordProtocolDefinition.types.privateJwk.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return yy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return yy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return yy(this,void 0,void 0,function*(){yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return yy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return yy(this,void 0,void 0,function*(){this._index.clear();const{reply:o}=yield t.dwn.processRequest({author:n,target:n,messageType:Zi.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let c=[];for(const s of null!==(i=o.entries)&&void 0!==i?i:[]){if(!s.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const d=mn.base64Url(s.encodedData).toObject();LB(d)&&(this._index.set(`${n}${Nf}${Z5}${d.kid}`,s.recordId),this._cache.set(s.recordId,d),c.push(d))}return c})}}class PV extends XB{constructor(){super(...arguments),this.name="InMemoryKeyStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return yy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return yy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return yy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return yy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var Uf=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},CU=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const aN={"AES-GCM":{implementation:class T$ extends Rm{decrypt(t){return KB(this,void 0,void 0,function*(){return wv.decrypt(t)})}encrypt(t){return KB(this,void 0,void 0,function*(){return wv.encrypt(t)})}generateKey({algorithm:t}){return KB(this,void 0,void 0,function*(){const n={A128GCM:128,A192GCM:192,A256GCM:256}[t],i=yield wv.generateKey({length:n});return i.alg=t,i})}},names:["A128GCM","A192GCM","A256GCM"]},"AES-KW":{implementation:eU,names:["A128KW","A192KW","A256KW"]},Ed25519:{implementation:WL,names:["Ed25519"]},secp256k1:{implementation:J5,names:["ES256K","secp256k1"]},secp256r1:{implementation:J5,names:["ES256","secp256r1"]},"SHA-256":{implementation:NB,names:["SHA-256"]}};class E_{constructor({agent:t,keyStore:n}={}){this._algorithmInstances=new Map,this._agent=t,this._keyStore=n??new PV}get agent(){if(void 0===this._agent)throw new Error("LocalKeyManager: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}decrypt(t){var{keyUri:n}=t,i=CU(t,["keyUri"]);return Uf(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:n}),c=this.getAlgorithmName({key:o});return yield this.getAlgorithm({algorithm:c}).decrypt(Object.assign({key:o},i))})}digest(t){throw new Error("Method not implemented.")}encrypt(t){var{keyUri:n}=t,i=CU(t,["keyUri"]);return Uf(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:n}),c=this.getAlgorithmName({key:o});return yield this.getAlgorithm({algorithm:c}).encrypt(Object.assign({key:o},i))})}exportKey({keyUri:t}){return Uf(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){var n;return Uf(this,void 0,void 0,function*(){const i=this.getAlgorithmName({key:{alg:t}}),c=yield this.getAlgorithm({algorithm:i}).generateKey({algorithm:t});null!==(n=c.kid)&&void 0!==n||(c.kid=yield bo({jwk:c}));const s=yield this.getKeyUri({key:c});return yield this._keyStore.set({id:s,data:c,agent:this.agent,preventDuplicates:!1,useCache:!0}),s})}getKeyUri({key:t}){return Uf(this,void 0,void 0,function*(){const n=yield bo({jwk:t});return`${Z5}${n}`})}getPublicKey({keyUri:t}){return Uf(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return Uf(this,void 0,void 0,function*(){if(!LB(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield bo({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set({id:o,data:i,agent:this.agent,preventDuplicates:!0,useCache:!0}),o})}sign({keyUri:t,data:n}){return Uf(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKeyUri:i}){return Uf(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:i}),c=this.getAlgorithmName({key:o});return yield this.getAlgorithm({algorithm:c}).unwrapKey({wrappedKeyBytes:t,wrappedKeyAlgorithm:n,decryptionKey:o})})}verify({key:t,signature:n,data:i}){return Uf(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}wrapKey({unwrappedKey:t,encryptionKeyUri:n}){return Uf(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:n}),o=this.getAlgorithmName({key:i});return yield this.getAlgorithm({algorithm:o}).wrapKey({unwrappedKey:t,encryptionKey:i})})}deleteKey({keyUri:t}){return Uf(this,void 0,void 0,function*(){if(!(yield this._keyStore.get({id:t,agent:this.agent,useCache:!0})))throw new Error(`Key not found: ${t}`);yield this._keyStore.delete({id:t,agent:this.agent})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=aN[t])||void 0===n?void 0:n.implementation;if(!i)throw new xi(Si.AlgorithmNotSupported,`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o of Object.keys(aN)){const c=aN[o].names;if(n&&c.includes(n))return o;if(i&&c.includes(i))return o}throw new xi(Si.AlgorithmNotSupported,`Algorithm not supported based on provided input: alg=${n}, crv=${i}. Please check the documentation for the list of supported algorithms.`)}getPrivateKey({keyUri:t}){return Uf(this,void 0,void 0,function*(){const n=yield this._keyStore.get({id:t,agent:this.agent,useCache:!0});if(!n)throw new Error(`Key not found: ${t}`);return n})}}var kU=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};function cN(r){return"object"==typeof r&&null!==r&&"alg"in r&&void 0!==r.alg&&"enc"in r&&void 0!==r.enc}class PU{static decrypt({key:t,encryptedKey:n,joseHeader:i,crypto:o}){return kU(this,void 0,void 0,function*(){switch(i.alg){case"dir":if(void 0!==n)throw new xi(Si.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new xi(Si.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');return t;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof i.p2c)throw new xi(Si.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof i.p2s)throw new xi(Si.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new xi(Si.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');if(void 0===n)throw new xi(Si.InvalidJwe,'JWE "encrypted_key" is required when using "PBES2" (Key Encryption Mode).');let c;try{c=new Uint8Array([...mn.string(i.alg).toUint8Array(),0,...mn.base64Url(i.p2s).toUint8Array()])}catch{throw new xi(Si.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const s=yield o.deriveKey({algorithm:i.alg,baseKeyBytes:t,iterations:i.p2c,salt:c});if(!s.alg||!["A128KW","A192KW","A256KW"].includes(s.alg))throw new xi(Si.AlgorithmNotSupported,`Unsupported Key Encryption Algorithm (alg) value: ${s.alg}`);return yield o.unwrapKey({decryptionKey:s,wrappedKeyBytes:n,wrappedKeyAlgorithm:i.enc})}default:throw new xi(Si.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${i.alg}`)}})}static encrypt({key:t,joseHeader:n,crypto:i}){return kU(this,void 0,void 0,function*(){let o,c;switch(n.alg){case"dir":if(void 0!==c)throw new xi(Si.InvalidJwe,'JWE "encrypted_key" is not allowed when using "dir" (Direct Encryption Mode).');if(t instanceof Uint8Array)throw new xi(Si.InvalidJwe,'Key management "key" must be a Key URI or JWK when using "dir" (Direct Encryption Mode).');o=t;break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if("number"!=typeof n.p2c)throw new xi(Si.InvalidJwe,'JOSE Header "p2c" (PBES2 Count) is missing or not a number.');if("string"!=typeof n.p2s)throw new xi(Si.InvalidJwe,'JOSE Header "p2s" (PBES2 salt) is missing or not a string.');if(!(t instanceof Uint8Array))throw new xi(Si.InvalidJwe,'Key management "key" must be a Uint8Array when using "PBES2" (Key Encryption Mode).');let s;o=yield i.generateKey({algorithm:n.enc});try{s=new Uint8Array([...mn.string(n.alg).toUint8Array(),0,...mn.base64Url(n.p2s).toUint8Array()])}catch{throw new xi(Si.EncodingError,'Failed to decode the JOSE Header "p2s" (PBES2 salt) value.')}const d=yield i.deriveKey({algorithm:n.alg,baseKeyBytes:t,iterations:n.p2c,salt:s});c=yield i.wrapKey({encryptionKey:d,unwrappedKey:o});break}default:throw new xi(Si.AlgorithmNotSupported,`Unsupported "alg" (Algorithm) Header Parameter value: ${n.alg}`)}return{cek:o,encryptedKey:c}})}}function h8(r){return null!==r&&"object"==typeof r&&"encrypt"in r&&"function"==typeof r.encrypt&&"decrypt"in r&&"function"==typeof r.decrypt}function RU(...r){const t=new Set,n=r.filter(Boolean);for(const i of n)for(const o in i){if(t.has(o))return!0;t.add(o)}return!1}var OU=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};function lN(r,t){if(void 0!==t)try{if("string"!=typeof t)throw new Error;return mn.base64Url(t).toUint8Array()}catch{throw new xi(Si.InvalidJwe,`Failed to decode the JWE Header parameter '${r}' from Base64 URL format to Uint8Array. Ensure the value is properly encoded in Base64 URL format without padding.`)}}class p8{constructor(t){this.ciphertext="",Object.assign(this,t)}static decrypt({jwe:t,key:n,keyManager:i=new Nm,crypto:o=new W2,options:c={}}){var s,d;return OU(this,void 0,void 0,function*(){if(!h8(o))throw new xi(Si.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!h8(i))throw new xi(Si.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!t.protected&&!t.header&&!t.unprotected)throw new xi(Si.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protected", "header", or "unprotected"');if("string"!=typeof t.ciphertext)throw new xi(Si.InvalidJwe,"JWE Ciphertext is missing or not a string.");let B;if(t.protected)try{B=mn.base64Url(t.protected).toObject()}catch{throw new Error("JWE Protected Header is invalid")}if(RU(B,t.header,t.unprotected))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "header", "protected", and "unprotected" objects.');const C=Object.assign(Object.assign(Object.assign({},B),t.header),t.unprotected);if(!cN(C))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');if(Array.isArray(c.allowedAlgValues)&&!c.allowedAlgValues.includes(C.alg))throw new Error(`"alg" (Algorithm) Header Parameter value not allowed: ${C.alg}`);if(Array.isArray(c.allowedEncValues)&&!c.allowedEncValues.includes(C.enc))throw new Error(`"enc" (Encryption Algorithm) Header Parameter value not allowed: ${C.enc}`);let b;try{const ze=t.encrypted_key?mn.base64Url(t.encrypted_key).toUint8Array():void 0;b=yield PU.decrypt({key:n,encryptedKey:ze,joseHeader:C,keyManager:i,crypto:o})}catch(ze){if(ze instanceof xi&&(ze.code===Si.InvalidJwe||ze.code===Si.AlgorithmNotSupported))throw ze;b="string"==typeof n?yield i.generateKey({algorithm:C.enc}):yield o.generateKey({algorithm:C.enc})}const K=lN("iv",t.iv),_e=lN("tag",t.tag),Ce=void 0!==_e?new Uint8Array([...mn.base64Url(t.ciphertext).toUint8Array(),..._e??[]]):mn.base64Url(t.ciphertext).toUint8Array(),Te=void 0!==t.aad?new Uint8Array([...mn.string(null!==(s=t.protected)&&void 0!==s?s:"").toUint8Array(),...mn.string(".").toUint8Array(),...mn.string(t.aad).toUint8Array()]):mn.string(null!==(d=t.protected)&&void 0!==d?d:"").toUint8Array();return{plaintext:"string"==typeof b?yield i.decrypt({keyUri:b,data:Ce,iv:K,additionalData:Te}):yield o.decrypt({key:b,data:Ce,iv:K,additionalData:Te}),protectedHeader:B,additionalAuthenticatedData:lN("aad",t.aad),sharedUnprotectedHeader:t.unprotected,unprotectedHeader:t.header}})}static encrypt({key:t,plaintext:n,additionalAuthenticatedData:i,protectedHeader:o,sharedUnprotectedHeader:c,unprotectedHeader:s,keyManager:d=new Nm,crypto:B=new W2}){return OU(this,void 0,void 0,function*(){if(!h8(B))throw new xi(Si.OperationNotSupported,'Crypto API does not support the "encrypt" operation.');if(!h8(d))throw new xi(Si.OperationNotSupported,'Key Manager does not support the "decrypt" operation.');if(!o&&!c&&!s)throw new xi(Si.InvalidJwe,'JWE is missing the required JOSE header parameters. Please provide at least one of the following: "protectedHeader", "sharedUnprotectedHeader", or "unprotectedHeader"');if(!(n instanceof Uint8Array))throw new xi(Si.InvalidJwe,"Plaintext is missing or not a byte array.");if(RU(o,c,s))throw new Error('Duplicate properties detected. Please ensure that each parameter is defined only once across the JWE "protectedHeader", "sharedUnprotectedHeader", and "unprotectedHeader" objects.');const C=Object.assign(Object.assign(Object.assign({},o),c),s);if(!cN(C))throw new Error('JWE Header is missing required "alg" (Algorithm) and/or "enc" (Encryption) Header Parameters');const{cek:b,encryptedKey:K}=yield PU.encrypt({key:t,joseHeader:C,keyManager:d,crypto:B});let _e;switch(C.enc){case"A128GCM":case"A192GCM":case"A256GCM":_e=ZL(12);break;default:_e=new Uint8Array(0)}const Ce=o?mn.object(o).toBase64Url():"";let Te,Pe;i?(Pe=mn.uint8Array(i).toBase64Url(),Te=mn.string(Ce+"."+Pe).toUint8Array()):Te=mn.string(Ce).toUint8Array();const ze="string"==typeof b?yield d.encrypt({keyUri:b,data:n,iv:_e,additionalData:Te}):yield B.encrypt({key:b,data:n,iv:_e,additionalData:Te}),rt=ze.slice(0,-16),Xe=ze.slice(-16),Ze=new p8({ciphertext:mn.uint8Array(rt).toBase64Url()});return K&&(Ze.encrypted_key=mn.uint8Array(K).toBase64Url()),o&&(Ze.protected=Ce),c&&(Ze.unprotected=c),s&&(Ze.header=s),_e&&(Ze.iv=mn.uint8Array(_e).toBase64Url()),Pe&&(Ze.aad=Pe),Xe&&(Ze.tag=mn.uint8Array(Xe).toBase64Url()),Ze})}}var BU=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class X2{static decrypt({jwe:t,key:n,keyManager:i=new Nm,crypto:o=new W2,options:c={}}){return BU(this,void 0,void 0,function*(){if("string"!=typeof t)throw new xi(Si.InvalidJwe,"Invalid JWE format. JWE must be a string.");const{0:s,1:d,2:B,3:C,4:b,length:K}=t.split(".");if(5!==K)throw new xi(Si.InvalidJwe,"Invalid JWE format. JWE must have 5 parts.");const _e=yield p8.decrypt({jwe:{ciphertext:C,encrypted_key:d||void 0,iv:B||void 0,protected:s,tag:b||void 0},key:n,keyManager:i,crypto:o,options:c});if(!cN(_e.protectedHeader))throw new xi(Si.InvalidJwe,"Decrypt operation failed due to missing or malformed JWE Protected Header");return{plaintext:_e.plaintext,protectedHeader:_e.protectedHeader}})}static encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:o=new Nm,crypto:c=new W2,options:s={}}){return BU(this,void 0,void 0,function*(){const d=yield p8.encrypt({plaintext:t,protectedHeader:n,key:i,keyManager:o,crypto:c,options:s});return[d.protected,d.encrypted_key,d.iv,d.ciphertext,d.tag].join(".")})}}var Ih=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};function NU(r){return"string"!=typeof r||0===r.trim().length}class BV{constructor({keyDerivationWorkFactor:t,store:n}={}){this.crypto=new W2,this._keyDerivationWorkFactor=t??21e4,this._store=n??new Hw}backup(){return Ih(this,void 0,void 0,function*(){if(this.isLocked()||!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the backup operation because the identity vault has not been initialized and unlocked. Please ensure the vault is properly initialized with a secure password before attempting to backup its contents.");const t={did:yield this.getStoredDid(),contentEncryptionKey:yield this.getStoredContentEncryptionKey(),status:yield this.getStatus()},n=mn.object(t).toBase64Url(),i={data:n,dateCreated:(new Date).toISOString(),size:n.length};return yield this.setStatus({lastBackup:i.dateCreated}),i})}changePassword({oldPassword:t,newPassword:n}){return Ih(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Unable to proceed with the change password operation because the identity vault has not been initialized. Please ensure the vault is properly initialized with a secure password before trying again.");yield this.lock();const i=yield this.getStoredContentEncryptionKey();let o,c;try{let d;({plaintext:d,protectedHeader:o}=yield X2.decrypt({jwe:i,key:mn.string(t).toUint8Array(),crypto:this.crypto,keyManager:new E_})),c=mn.uint8Array(d).toObject()}catch{throw new Error("HdIdentityVault: Unable to change the vault password due to an incorrectly entered old password.")}const s=yield X2.encrypt({key:mn.string(n).toUint8Array(),protectedHeader:o,plaintext:mn.object(c).toUint8Array(),crypto:this.crypto,keyManager:new E_});yield this._store.set("contentEncryptionKey",s),this._contentEncryptionKey=c})}getDid(){return Ih(this,void 0,void 0,function*(){if(this.isLocked())throw new Error("HdIdentityVault: Vault has not been initialized and unlocked.");const t=yield this.getStoredDid(),{plaintext:n}=yield X2.decrypt({jwe:t,key:this._contentEncryptionKey,crypto:this.crypto,keyManager:new E_}),i=mn.uint8Array(n).toObject();if(!fU(i))throw new Error("HdIdentityVault: Unable to decode malformed DID in identity vault");return yield dy.import({portableDid:i})})}getStatus(){return Ih(this,void 0,void 0,function*(){const t=yield this._store.get("vaultStatus");if(!t)return{initialized:!1,lastBackup:null,lastRestore:null};const n=mn.string(t).toObject();if(!function OV(r){return"object"==typeof r&&null!==r&&"initialized"in r&&"boolean"==typeof r.initialized&&"lastBackup"in r&&"lastRestore"in r}(n))throw new Error("HdIdentityVault: Invalid IdentityVaultStatus object in store");return n})}initialize({password:t,recoveryPhrase:n}){return Ih(this,void 0,void 0,function*(){if(yield this.isInitialized())throw new Error("HdIdentityVault: Vault has already been initialized.");if(NU(t))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n&&NU(n))throw new Error("HdIdentityVault: The password is required and cannot be blank. Please provide a ' +\n        'valid, non-empty password.");if(n??(n=function MV(r,t=128){if((0,my.ai)(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function IV(r,t){return TU(r),IU(t).encode(r).join((r=>"\u3042\u3044\u3053\u304f\u3057\u3093"===r[0])(t)?"\u3000":" ")}((0,Zl.po)(t/8),r)}(xU,128)),!function DV(r,t){try{!function TV(r,t){const{words:n}=sN(r);TU(IU(t).decode(n))}(r,t)}catch{return!1}return!0}(n,xU))throw new Error("HdIdentityVault: The provided recovery phrase is invalid. Please ensure that the recovery phrase is a correctly formatted series of 12 words.");const i=yield CV(n),o=u8.fromMasterSeed(i),c=o.derive("m/44'/0'/0'/0'/0'"),s=yield this.crypto.deriveKey({algorithm:"HKDF-512",baseKeyBytes:c.privateKey,salt:"",info:"vault_cek",derivedKeyAlgorithm:"A256GCM"}),d=yield this.crypto.deriveKeyBytes({algorithm:"HKDF-512",baseKeyBytes:c.publicKey,salt:"",info:"vault_unlock_salt",length:256}),B={alg:"PBES2-HS512+A256KW",enc:"A256GCM",cty:"text/plain",p2c:this._keyDerivationWorkFactor,p2s:mn.uint8Array(d).toBase64Url()},C=yield X2.encrypt({key:mn.string(t).toUint8Array(),protectedHeader:B,plaintext:mn.object(s).toUint8Array(),crypto:this.crypto,keyManager:new E_});yield this._store.set("contentEncryptionKey",C);const b=o.derive("m/44'/0'/1708523827'/0'/0'"),K=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:b.privateKey});let _e=o.derive("m/44'/0'/1708523827'/0'/1'");const Ce=yield this.crypto.bytesToPrivateKey({algorithm:"Ed25519",privateKeyBytes:_e.privateKey}),Te=new nV;yield Te.addPredefinedKeys({privateKeys:[K,Ce]});const ze=yield(yield i8.create({keyManager:Te,options:{verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]}]}})).export(),Xe=yield X2.encrypt({key:s,plaintext:mn.object(ze).toUint8Array(),protectedHeader:{alg:"dir",enc:"A256GCM",cty:"json"},crypto:this.crypto,keyManager:new E_});return yield this._store.set("did",Xe),this._contentEncryptionKey=s,yield this.setStatus({initialized:!0}),n})}isInitialized(){return Ih(this,void 0,void 0,function*(){return this.getStatus().then(({initialized:t})=>t)})}isLocked(){return!this._contentEncryptionKey}lock(){return Ih(this,void 0,void 0,function*(){if(!1===(yield this.isInitialized()))throw new Error("HdIdentityVault: Lock operation failed. Vault has not been initialized.");this._contentEncryptionKey&&(this._contentEncryptionKey.k=""),this._contentEncryptionKey=void 0})}restore({backup:t,password:n}){return Ih(this,void 0,void 0,function*(){if(!function RV(r){return"object"==typeof r&&null!==r&&"dateCreated"in r&&"string"==typeof r.dateCreated&&"size"in r&&"number"==typeof r.size&&"data"in r&&"string"==typeof r.data}(t))throw new Error("HdIdentityVault: Restore operation failed due to invalid backup object.");let i,o,c;try{c=yield this.getStoredDid(),o=yield this.getStoredContentEncryptionKey(),i=yield this.getStatus()}catch{throw new Error("HdIdentityVault: The restore operation cannot proceed because the existing vault contents are missing or inaccessible. If the problem persists consider re-initializing the vault and retrying the restore.")}try{const s=mn.base64Url(t.data).toObject();yield this._store.set("did",s.did),yield this._store.set("contentEncryptionKey",s.contentEncryptionKey),yield this.setStatus(s.status),yield this.unlock({password:n})}catch{throw yield this.setStatus(i),yield this._store.set("contentEncryptionKey",o),yield this._store.set("did",c),new Error("HdIdentityVault: Restore operation failed due to invalid backup data or an incorrect password. Please verify the password is correct for the provided backup and try again.")}yield this.setStatus({lastRestore:(new Date).toISOString()})})}unlock({password:t}){return Ih(this,void 0,void 0,function*(){yield this.lock();const n=yield this.getStoredContentEncryptionKey();try{const{plaintext:i}=yield X2.decrypt({jwe:n,key:mn.string(t).toUint8Array(),crypto:this.crypto,keyManager:new E_}),o=mn.uint8Array(i).toObject();this._contentEncryptionKey=o}catch{throw new Error("HdIdentityVault: Unable to unlock the vault due to an incorrect password.")}})}getStoredDid(){return Ih(this,void 0,void 0,function*(){const t=yield this._store.get("did");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the DID record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}getStoredContentEncryptionKey(){return Ih(this,void 0,void 0,function*(){const t=yield this._store.get("contentEncryptionKey");if(!t)throw new Error("HdIdentityVault: Unable to retrieve the Content Encryption Key record from the vault. Please check the vault status and if the problem persists consider re-initializing the vault and restoring the contents from a previous backup.");return t})}setStatus({initialized:t,lastBackup:n,lastRestore:i}){return Ih(this,void 0,void 0,function*(){let o=yield this.getStatus();return o.initialized=t??o.initialized,o.lastBackup=n??o.lastBackup,o.lastRestore=i??o.lastRestore,yield this._store.set("vaultStatus",JSON.stringify(o)),!0})}}var gy=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class LV extends ZB{constructor(){super(...arguments),this.name="DwnIdentityStore",this._recordProtocolDefinition=uU,this._recordProperties={dataFormat:"application/json",protocol:this._recordProtocolDefinition.protocol,protocolPath:"identityMetadata",schema:this._recordProtocolDefinition.types.identityMetadata.schema}}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return gy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return gy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return gy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return gy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}getAllRecords({agent:t,tenantDid:n}){var i;return gy(this,void 0,void 0,function*(){this._index.clear();const{reply:o}=yield t.dwn.processRequest({author:n,target:n,messageType:Zi.RecordsQuery,messageParams:{filter:Object.assign({},this._recordProperties)}});let c=[];for(const s of null!==(i=o.entries)&&void 0!==i?i:[]){if(!s.encodedData)throw new Error(`${this.name}: Expected 'encodedData' to be present in the DWN query result entry`);const d=mn.base64Url(s.encodedData).toObject();(r=d)&&"object"==typeof r&&null!==r&&"name"in r&&(this._index.set(`${n}${Nf}${d.uri}`,s.recordId),this._cache.set(s.recordId,d),c.push(d))}var r;return c})}}class UV extends XB{constructor(){super(...arguments),this.name="InMemoryIdentityStore"}delete(t){const n=Object.create(null,{delete:{get:()=>super.delete}});return gy(this,void 0,void 0,function*(){return yield n.delete.call(this,t)})}get(t){const n=Object.create(null,{get:{get:()=>super.get}});return gy(this,void 0,void 0,function*(){return yield n.get.call(this,t)})}list(t){const n=Object.create(null,{list:{get:()=>super.list}});return gy(this,void 0,void 0,function*(){return yield n.list.call(this,t)})}set(t){const n=Object.create(null,{set:{get:()=>super.set}});return gy(this,void 0,void 0,function*(){return yield n.set.call(this,t)})}}var x_=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class FV{constructor({agent:t,store:n}={}){this._agent=t,this._store=n??new UV}get agent(){if(void 0===this._agent)throw new Error("AgentIdentityApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}create({metadata:t,didMethod:n="dht",didOptions:i,store:o,tenant:c}){return x_(this,void 0,void 0,function*(){const s=yield this.agent.did.create({method:n,options:i,store:o,tenant:c}),d=new G5({did:s,metadata:Object.assign(Object.assign({},t),{uri:s.uri,tenant:c??s.uri})});return(o??!0)&&(yield this._store.set({id:d.did.uri,data:d.metadata,agent:this.agent,tenant:d.metadata.tenant,preventDuplicates:!1,useCache:!0})),d})}export({didUri:t,tenant:n}){return x_(this,void 0,void 0,function*(){const i=yield this.get({didUri:t,tenant:n});if(!i)throw new Error(`AgentIdentityApi: Failed to export due to Identity not found: ${t}`);return yield i.export()})}get({didUri:t,tenant:n}){return x_(this,void 0,void 0,function*(){const i=yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0});if(!i)return;const o=yield this.agent.did.get({didUri:t,tenant:i.tenant});if(!o)throw new Error(`AgentIdentityApi: Identity is present in the store but DID is missing: ${t}`);return new G5({did:o,metadata:i})})}import({portableIdentity:t}){return x_(this,void 0,void 0,function*(){const n=yield this.agent.did.import({portableDid:t.portableDid,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to import Identity: ${t.metadata.uri}`);const i=new G5({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,tenant:i.metadata.tenant,preventDuplicates:!0,useCache:!0}),i})}list({tenant:t}={}){return x_(this,void 0,void 0,function*(){const n=yield this._store.list({agent:this.agent,tenant:t}),i=[];for(const o of n){const c=yield this.get({didUri:o.uri,tenant:o.tenant});i.push(c)}return i})}manage({portableIdentity:t}){return x_(this,void 0,void 0,function*(){const n=yield this.agent.did.get({didUri:t.metadata.uri,tenant:t.metadata.tenant});if(!n)throw new Error(`AgentIdentityApi: Failed to manage Identity: ${t.metadata.uri}`);const i=new G5({did:n,metadata:t.metadata});return yield this._store.set({id:i.did.uri,data:i.metadata,agent:this.agent,preventDuplicates:!0,useCache:!0}),i})}delete({didUri:t,tenant:n}){return x_(this,void 0,void 0,function*(){if(!(yield this._store.get({id:t,agent:this.agent,tenant:n,useCache:!0})))throw new Error(`AgentIdentityApi: Failed to purge due to Identity not found: ${t}`);yield this._store.delete({id:t,agent:this.agent,tenant:n})})}}const dN=(r,t,n)=>({jsonrpc:"2.0",id:r,method:t,params:n}),LU=(r,t,n,i)=>({jsonrpc:"2.0",id:r,method:`rpc.subscribe.${t}`,params:i,subscription:{id:n}});function m8(r){try{return JSON.parse(r)}catch{return null}}var UT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class KV{constructor({ttl:t="15m"}={}){this.cache=new Vw({ttl:__(t)})}get(t){return UT(this,void 0,void 0,function*(){return this.cache.get(t)})}set(t,n){return UT(this,void 0,void 0,function*(){this.cache.set(t,n)})}delete(t){return UT(this,void 0,void 0,function*(){this.cache.delete(t)})}clear(){return UT(this,void 0,void 0,function*(){this.cache.clear()})}close(){return UT(this,void 0,void 0,function*(){})}}var UU=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class $V{constructor(t){this.serverInfoCache=t??new KV}get transportProtocols(){return["http:","https:"]}sendDwnRequest(t){return UU(this,void 0,void 0,function*(){const n=y_(),i=dN(n,"dwn.processMessage",{target:t.targetDid,message:t.message}),o={method:"POST",headers:{"dwn-request":JSON.stringify(i)}};t.data&&(o.headers["content-type"]="application/octet-stream",o.body=t.data);const c=yield fetch(t.dwnUrl,o);let s,d;const{headers:B}=c;if(B.has("dwn-response")){const b=m8(B.get("dwn-response"));if(null==b)throw new Error(`failed to parse json rpc response. dwn url: ${t.dwnUrl}`);d=c.body,s=b}else{const b=yield c.text();s=JSON.parse(b)}if(s.error){const{code:b,message:K}=s.error;throw new Error(`(${b}) - ${K}`)}const{reply:C}=s.result;return d&&C.record?C.record.data=d:d&&C.entry&&(C.entry.data=d),C})}getServerInfo(t){return UU(this,void 0,void 0,function*(){const n=yield this.serverInfoCache.get(t);if(n)return n;const i=new URL(t);i.pathname.endsWith("/")?i.pathname+="info":i.pathname+="/info";try{const o=yield fetch(i.toString());if(o.ok){const c=yield o.json(),s={registrationRequirements:c.registrationRequirements,maxFileSize:c.maxFileSize,webSocketSupport:c.webSocketSupport};return this.serverInfoCache.set(t,s),s}throw new Error(`HTTP (${o.status}) - ${o.statusText}`)}catch(o){throw new Error(`Error encountered while processing response from ${i.toString()}: ${o.message}`)}})}}var Y2=null;typeof WebSocket<"u"?Y2=WebSocket:typeof MozWebSocket<"u"?Y2=MozWebSocket:typeof globalThis<"u"?Y2=globalThis.WebSocket||globalThis.MozWebSocket:typeof window<"u"?Y2=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(Y2=self.WebSocket||self.MozWebSocket);const VV=Y2;var y8=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};const zV=3e3,HV=3e4;class uN{constructor(t,n){this.socket=t,this.responseTimeout=n,this.messageHandlers=new Map}static connect(t,n={}){return y8(this,void 0,void 0,function*(){const{connectTimeout:i=zV,responseTimeout:o=HV,onclose:c,onerror:s}=n,d=new VV(t);return d.onclose=c||(()=>{console.info(`JSON RPC Socket close ${t}`)}),d.onerror=s||(B=>{console.error(`JSON RPC Socket error ${t}`,B)}),new Promise((B,C)=>{d.addEventListener("open",()=>{const b=new uN(d,o);d.addEventListener("message",K=>{const _e=m8(K.data),Ce=b.messageHandlers.get(_e.id);Ce&&Ce(K)}),B(b)}),d.addEventListener("error",b=>{C(b)}),setTimeout(()=>C,i)})})}close(){this.socket.close()}request(t){return y8(this,void 0,void 0,function*(){return new Promise((n,i)=>{var o;null!==(o=t.id)&&void 0!==o||(t.id=y_()),this.messageHandlers.set(t.id,s=>{const d=m8(s.data);if(d.id===t.id)return this.messageHandlers.delete(t.id),n(d)}),this.send(t),setTimeout(()=>{this.messageHandlers.delete(t.id),i(new Error("request timed out"))},this.responseTimeout)})})}subscribe(t,n){return y8(this,void 0,void 0,function*(){if(!t.method.startsWith("rpc.subscribe."))throw new Error("subscribe rpc requests must include the `rpc.subscribe` prefix");if(!t.subscription)throw new Error("subscribe rpc requests must include subscribe options");const i=t.subscription.id;this.messageHandlers.set(i,d=>{const B=m8(d.data.toString());B.id===i&&(void 0!==B.error&&(this.messageHandlers.delete(i),this.closeSubscription(i)),n(B))});const c=yield this.request(t);return c.error?(this.messageHandlers.delete(i),{response:c}):{response:c,close:()=>y8(this,void 0,void 0,function*(){this.messageHandlers.delete(i),yield this.closeSubscription(i)})}})}closeSubscription(t){const n=y_(),i=LU(n,"close",t,{});return this.request(i)}send(t){this.socket.send(JSON.stringify(t))}}var fN=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Mv{get transportProtocols(){return["ws:","wss:"]}sendDwnRequest(t,n){return fN(this,void 0,void 0,function*(){const i=new URL(t.dwnUrl);if("ws:"!==i.protocol&&"wss:"!==i.protocol)throw new Error(`Invalid websocket protocol ${i.protocol}`);if(!Mv.connections.has(i.host))try{const C=yield uN.connect(i.toString(),n);Mv.connections.set(i.host,{socket:C,subscriptions:new Map})}catch(C){throw new Error(`Error connecting to ${i.host}: ${C.message}`)}const c=Mv.connections.get(i.host),{targetDid:s,message:d,subscriptionHandler:B}=t;return B?Mv.subscriptionRequest(c,s,d,B):Mv.processMessage(c,s,d)})}static processMessage(t,n,i){return fN(this,void 0,void 0,function*(){const o=y_(),c=dN(o,"dwn.processMessage",{target:n,message:i}),{socket:s}=t,d=yield s.request(c),{error:B,result:C}=d;if(void 0!==B)throw new Error(`error sending DWN request: ${B.message}`);return C.reply})}static subscriptionRequest(t,n,i,o){return fN(this,void 0,void 0,function*(){const c=y_(),s=y_(),d=LU(c,"dwn.processMessage",s,{target:n,message:i}),{socket:B,subscriptions:C}=t,{response:b,close:K}=yield B.subscribe(d,Pe=>{const{result:ze,error:rt}=Pe;if(rt){const Ze=C.get(s);return Ze&&Ze.close(),void C.delete(s)}const{event:Xe}=ze;o(Xe)}),{error:_e,result:Ce}=b;if(_e)throw new Error(`could not subscribe via jsonrpc socket: ${_e.message}`);const{reply:Te}=Ce;return Te.subscription&&K&&(C.set(s,Object.assign(Object.assign({},Te.subscription),{close:K})),Te.subscription.close=K),Te})}}Mv.connections=new Map;var FT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class GV{constructor(t=[]){this.transportClients=new Map,t=[new ZV,new XV,...t];for(let n of t)for(let i of n.transportProtocols)this.transportClients.set(i,n)}get transportProtocols(){return Array.from(this.transportClients.keys())}sendDidRequest(t){return FT(this,void 0,void 0,function*(){const n=new URL(t.url),i=this.transportClients.get(n.protocol);if(!i){const o=new Error(`no ${n.protocol} transport client available`);throw o.name="NO_TRANSPORT_CLIENT",o}return i.sendDidRequest(t)})}sendDwnRequest(t){const n=new URL(t.dwnUrl),i=this.transportClients.get(n.protocol);if(!i){const o=new Error(`no ${n.protocol} transport client available`);throw o.name="NO_TRANSPORT_CLIENT",o}return i.sendDwnRequest(t)}getServerInfo(t){return FT(this,void 0,void 0,function*(){const n=new URL(t),i=this.transportClients.get(n.protocol);if(!i){const o=new Error(`no ${n.protocol} transport client available`);throw o.name="NO_TRANSPORT_CLIENT",o}return i.getServerInfo(t)})}}class ZV extends $V{sendDidRequest(t){return FT(this,void 0,void 0,function*(){const n=y_(),i=dN(n,t.method,{data:t.data}),o=new Request(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});let c;try{const s=yield fetch(o);if(!s.ok)throw new Error(`HTTP (${s.status}) - ${s.statusText}`);if(c=yield s.json(),c.error){const{code:d,message:B}=c.error;throw new Error(`JSON RPC (${d}) - ${B}`)}}catch(s){throw new Error(`Error encountered while processing response from ${t.url}: ${s.message}`)}return c.result})}}class XV extends Mv{sendDidRequest(t){return FT(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}getServerInfo(t){return FT(this,void 0,void 0,function*(){throw new Error(`not implemented for transports [${this.transportProtocols.join(", ")}]`)})}}class JV{constructor({agent:t,syncEngine:n}){this._syncEngine=n,this._agent=t}get agent(){if(void 0===this._agent)throw new Error("AgentSyncApi: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t,this._syncEngine.agent=t}registerIdentity(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){yield this._syncEngine.registerIdentity(t)})}startSync(t){return this._syncEngine.startSync(t)}stopSync(){this._syncEngine.stopSync()}}var sf=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class g8{constructor({agent:t,dataPath:n,db:i}){this._agent=t,this._db=i||new jA.Level(n??"DATA/AGENT/SYNC_STORE"),this._ulidFactory=$L()}get agent(){if(void 0===this._agent)throw new Error("SyncEngineLevel: Unable to determine agent execution context.");return this._agent}set agent(t){this._agent=t}clear(){return sf(this,void 0,void 0,function*(){yield this._db.clear()})}close(){return sf(this,void 0,void 0,function*(){yield this._db.close()})}pull(){var t;return sf(this,void 0,void 0,function*(){const n=yield this.getSyncPeerState({syncDirection:"pull"});yield this.enqueueOperations({syncDirection:"pull",syncPeerState:n});const i=this.getPullQueue(),o=yield i.iterator().all(),c=[],s=new Set;for(let d of o){const[B]=d,[C,b,K,_e]=B.split("~");if(s.has(b))continue;if(yield this.messageExists(C,_e)){c.push({type:"del",key:B});continue}const Te=yield this.agent.processDwnRequest({store:!1,author:C,target:C,messageType:Zi.MessagesRead,messageParams:{messageCid:_e}});let Pe;try{Pe=yield this.agent.rpc.sendDwnRequest({dwnUrl:b,targetDid:C,message:Te.message})}catch{s.add(b);continue}if(200!==Pe.status.code||null===(t=Pe.entry)||void 0===t||!t.message){yield this.addMessage(C,_e),c.push({type:"del",key:B});continue}const ze=Pe.entry,rt=ze.message,Xe=s8(ze)&&ze.data?Zc.fromWebReadable({readableStream:ze.data}):void 0,Ze=yield this.agent.dwn.node.processMessage(C,rt,{dataStream:Xe});g8.syncMessageReplyIsSuccessful(Ze)&&(yield this.addMessage(C,_e),c.push({type:"del",key:B}))}yield i.batch(c)})}push(){return sf(this,void 0,void 0,function*(){const t=yield this.getSyncPeerState({syncDirection:"push"});yield this.enqueueOperations({syncDirection:"push",syncPeerState:t});const n=this.getPushQueue(),i=yield n.iterator().all(),o=[],c=new Set;for(let s of i){const[d]=s,[B,C,b,K]=d.split("~");if(c.has(C))continue;const _e=yield this.getDwnMessage({author:B,messageCid:K});if(_e)try{const Ce=yield this.agent.rpc.sendDwnRequest({dwnUrl:C,targetDid:B,data:_e.data,message:_e.message});g8.syncMessageReplyIsSuccessful(Ce)&&(yield this.addMessage(B,K),o.push({type:"del",key:d}))}catch{c.add(C)}else o.push({type:"del",key:d}),yield this.addMessage(B,K)}yield n.batch(o)})}registerIdentity({did:t}){return sf(this,void 0,void 0,function*(){yield this._db.sublevel("registeredIdentities").put(t,"")})}startSync({interval:t}){const n=__(t);return new Promise((i,o)=>{const c=()=>sf(this,void 0,void 0,function*(){this._syncIntervalId&&clearInterval(this._syncIntervalId);try{yield this.push(),yield this.pull()}catch(s){this.stopSync(),o(s)}this._syncIntervalId=setInterval(c,n)});this._syncIntervalId=setInterval(c,n)})}stopSync(){this._syncIntervalId&&(clearInterval(this._syncIntervalId),this._syncIntervalId=void 0)}static syncMessageReplyIsSuccessful(t){var n,i;return 202===t.status.code||409===t.status.code||(null===(n=t.entry)||void 0===n?void 0:n.message.descriptor.interface)===Mi.Records&&(null===(i=t.entry)||void 0===i?void 0:i.message.descriptor.method)===Xr.Delete&&404===t.status.code}enqueueOperations({syncDirection:t,syncPeerState:n}){return sf(this,void 0,void 0,function*(){for(let i of n){const o=yield this.getDwnEventLog({did:i.did,dwnUrl:i.dwnUrl,cursor:i.cursor,syncDirection:t}),c=[];for(let s of o){const d=this._ulidFactory(),B=[i.did,i.dwnUrl,d,s].join("~");c.push({type:"put",key:B,value:""})}c.length>0&&(yield("pull"===t?this.getPullQueue():this.getPushQueue()).batch(c))}})}getDwnEventLog({did:t,dwnUrl:n,syncDirection:i,cursor:o}){var c;return sf(this,void 0,void 0,function*(){let s={};if("pull"===i){const B=yield this.agent.dwn.processRequest({store:!1,target:t,author:t,messageType:Zi.MessagesQuery,messageParams:{filters:[],cursor:o}});try{s=yield this.agent.rpc.sendDwnRequest({dwnUrl:n,targetDid:t,message:B.message})}catch{}}else"push"===i&&(s=(yield this.agent.dwn.processRequest({author:t,target:t,messageType:Zi.MessagesQuery,messageParams:{filters:[],cursor:o}})).reply);const d=null!==(c=s.entries)&&void 0!==c?c:[];return s.cursor&&this.setCursor(t,n,i,s.cursor),d})}getDwnMessage({author:t,messageCid:n}){return sf(this,void 0,void 0,function*(){let{reply:i}=yield this.agent.dwn.processRequest({author:t,target:t,messageType:Zi.MessagesRead,messageParams:{messageCid:n}});if(200!==i.status.code||!i.entry)return;const o=i.entry;let c={message:o.message};if(s8(o)&&o.data){const s=yield Zc.consumeToBytes({readable:o.data});c.data=new Blob([s],{type:o.message.descriptor.dataFormat})}return c})}getSyncPeerState({syncDirection:t}){return sf(this,void 0,void 0,function*(){const n=yield this._db.sublevel("registeredIdentities").keys().all(),i=[];for(let o of n){const c=yield yU(o,this.agent.did);if(0!==c.length)for(let s of c){const d=yield this.getCursor(o,s,t);i.push({did:o,dwnUrl:s,cursor:d})}}return i})}getCursor(t,n,i){return sf(this,void 0,void 0,function*(){const o=`${t}~${n}~${i}`,c=this.getCursorStore();try{const s=yield c.get(o);if(s)return JSON.parse(s)}catch(s){if(s.notFound)return}})}setCursor(t,n,i,o){return sf(this,void 0,void 0,function*(){const c=`${t}~${n}~${i}`;yield this.getCursorStore().put(c,JSON.stringify(o))})}messageExists(t,n){return sf(this,void 0,void 0,function*(){const i=this.getMessageStore(t);try{return yield i.get(n),!0}catch(o){if(o.notFound)return!1;throw o}})}addMessage(t,n){return sf(this,void 0,void 0,function*(){return yield this.getMessageStore(t).put(n,"")})}getMessageStore(t){return this._db.sublevel("history").sublevel(t).sublevel("messages")}getCursorStore(){return this._db.sublevel("cursors")}getPushQueue(){return this._db.sublevel("pushQueue")}getPullQueue(){return this._db.sublevel("pullQueue")}}var FU=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class QV{constructor(t){this.agent=t.agent,this.connectedDid=t.connectedDid}create(t){return FU(this,void 0,void 0,function*(){const n=yield this.agent.processDidRequest({messageType:LT.Create,messageParams:Object.assign({},t)}),{result:i}=n,o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(n,["result"]);return Object.assign({did:i},o)})}resolve(t,n){return FU(this,void 0,void 0,function*(){const{result:i}=yield this.agent.processDidRequest({messageParams:{didUri:t,options:n},messageType:LT.Resolve});return i})}}function jU(r,t){let n;const i=b2(r);if("text/plain"===t||"String"===i)n=new Blob([r],{type:"text/plain"});else if("application/json"===t||"Object"===i){const o=mn.object(r).toUint8Array();n=new Blob([o],{type:"application/json"})}else if("Uint8Array"===i||"ArrayBuffer"===i)n=new Blob([r],{type:"application/octet-stream"});else{if("Blob"!==i)throw new Error("data type not supported.");n=r}return{dataBlob:n,dataFormat:t=t||n.type||"application/octet-stream"}}class Dh{static check(t,n){let i=Dh.cache.get(t);return!!i&&i.has(n)}static set(t,n){let i=Dh.cache.get(t)||new Set;if(Dh.cache.delete(t),Dh.cache.set(t,i),this.cache.size>Dh.sendCacheLimit){const o=Dh.cache.keys().next().value;Dh.cache.delete(o)}if(i.delete(n),i.add(n),i.size>Dh.sendCacheLimit){const o=i.keys().next().value;i.delete(o)}}}Dh.cache=new Map,Dh.sendCacheLimit=100;var Ff=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},hN=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};let pN=(()=>{class r{get _recordsWriteDescriptor(){if(a8(Zi.RecordsWrite,this.rawMessage))return this._descriptor}get _immutableProperties(){return this._recordsWriteDescriptor||this._initialWrite.descriptor}get id(){return this._recordId}get contextId(){return this._contextId}get dateCreated(){return this._immutableProperties.dateCreated}get parentId(){return this._immutableProperties.parentId}get protocol(){return this._immutableProperties.protocol}get protocolPath(){return this._immutableProperties.protocolPath}get recipient(){return this._immutableProperties.recipient}get schema(){return this._immutableProperties.schema}get dataFormat(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.dataFormat}get dataCid(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.dataCid}get dataSize(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.dataSize}get datePublished(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.datePublished}get published(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.published}get tags(){var n;return null===(n=this._recordsWriteDescriptor)||void 0===n?void 0:n.tags}get author(){return this._author}get dateModified(){return this._descriptor.messageTimestamp}get encryption(){return this._encryption}get authorization(){return this._authorization}get attestation(){return this._attestation}get protocolRole(){return this._protocolRole}get deleted(){return a8(Zi.RecordsDelete,this.rawMessage)}get initialWrite(){return this._initialWrite}get rawMessage(){let i;return i=this._descriptor.interface+this._descriptor.method===Zi.RecordsWrite?JSON.parse(JSON.stringify({contextId:this._contextId,recordId:this._recordId,descriptor:this._descriptor,attestation:this._attestation,authorization:this._authorization,encryption:this._encryption})):JSON.parse(JSON.stringify({descriptor:this._descriptor,authorization:this._authorization})),W0(i),i}constructor(n,i){this._agent=n,this._author=i.author,this._connectedDid=i.connectedDid,this._remoteOrigin=i.remoteOrigin,this._attestation=i.attestation,this._authorization=i.authorization,this._contextId=i.contextId,this._descriptor=i.descriptor,this._encryption=i.encryption,this._initialWrite=i.initialWrite,this._recordId=i.recordId,this._protocolRole=i.protocolRole,i.encodedData&&(this._encodedData="string"==typeof i.encodedData?new Blob([mn.base64Url(i.encodedData).toUint8Array()],{type:this.dataFormat}):i.encodedData),i.data&&(this._readableStream=_d.isReadableStream(i.data)?Zc.fromWebReadable({readableStream:i.data}):i.data)}get data(){const n=this;return{blob(){return Ff(this,void 0,void 0,function*(){return new Blob([yield Zc.consumeToBytes({readable:yield this.stream()})],{type:n.dataFormat})})},bytes(){return Ff(this,void 0,void 0,function*(){return yield Zc.consumeToBytes({readable:yield this.stream()})})},json(){return Ff(this,void 0,void 0,function*(){return yield Zc.consumeToJson({readable:yield this.stream()})})},text(){return Ff(this,void 0,void 0,function*(){return yield Zc.consumeToText({readable:yield this.stream()})})},stream(){return Ff(this,void 0,void 0,function*(){if(n._encodedData?n._readableStream=Zc.fromWebReadable({readableStream:n._encodedData.stream()}):Zc.isReadable({readable:n._readableStream})||(n._readableStream=n._remoteOrigin?yield n.readRecordData({target:n._remoteOrigin,isRemote:!0}):yield n.readRecordData({target:n._connectedDid,isRemote:!1})),!n._readableStream)throw new Error("Record data is not available.");return n._readableStream})},then(o,c){return this.stream().then(o,c)},catch(o){return this.stream().catch(o)}}}store(n=!1){return Ff(this,void 0,void 0,function*(){return this.processRecord({signAsOwner:n,store:!0})})}import(n=!0){return Ff(this,void 0,void 0,function*(){return this.processRecord({store:n,signAsOwner:!0})})}send(n){return Ff(this,void 0,void 0,function*(){const i=this._initialWrite;if(n??(n=this._connectedDid),i&&!r._sendCache.check(this._recordId,n)){const s=Object.assign({},i);W0(s),yield this._agent.sendDwnRequest({messageType:Zi.RecordsWrite,author:this._connectedDid,target:n,rawMessage:s}),r._sendCache.set(this._recordId,n)}let o;o=this.deleted?{messageType:Zi.RecordsDelete,author:this._connectedDid,target:n,rawMessage:Object.assign({},this.rawMessage)}:{messageType:Zi.RecordsWrite,author:this._connectedDid,target:n,dataStream:yield this.data.blob(),rawMessage:Object.assign({},this.rawMessage)};const{reply:c}=yield this._agent.sendDwnRequest(o);return c})}toJSON(){return{attestation:this.attestation,author:this.author,authorization:this.authorization,contextId:this.contextId,dataCid:this.dataCid,dataFormat:this.dataFormat,dataSize:this.dataSize,dateCreated:this.dateCreated,messageTimestamp:this.dateModified,datePublished:this.datePublished,encryption:this.encryption,parentId:this.parentId,protocol:this.protocol,protocolPath:this.protocolPath,protocolRole:this.protocolRole,published:this.published,recipient:this.recipient,recordId:this.id,schema:this.schema,tags:this.tags}}toString(){let n="Record: {\n";return n+=`  ID: ${this.id}\n`,n+=this.contextId?`  Context ID: ${this.contextId}\n`:"",n+=this.protocol?`  Protocol: ${this.protocol}\n`:"",n+=this.schema?`  Schema: ${this.schema}\n`:"",this.deleted||(n+=`  Data CID: ${this.dataCid}\n`,n+=`  Data Format: ${this.dataFormat}\n`,n+=`  Data Size: ${this.dataSize}\n`),n+=`  Deleted: ${this.deleted}\n`,n+=`  Created: ${this.dateCreated}\n`,n+=`  Modified: ${this.dateModified}\n`,n+="}",n}paginationCursor(n){return Ff(this,void 0,void 0,function*(){return a8(Zi.RecordsWrite,this.rawMessage)?function lV(r,t){return pU(this,void 0,void 0,function*(){const n=t===vu.CreatedAscending||t===vu.CreatedDescending?r.descriptor.dateCreated:r.descriptor.datePublished;if(void 0===n)throw new Error("The dateCreated or datePublished property is missing from the record descriptor.");return{messageCid:yield cV(r),value:n}})}(this.rawMessage,n):void 0})}update(n){var{dateModified:i,data:o}=n,c=hN(n,["dateModified","data"]);return Ff(this,void 0,void 0,function*(){if(!a8(Zi.RecordsWrite,this.rawMessage)&&!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");const s=this._recordsWriteDescriptor,{parentId:d}=s,B=hN(s,["parentId"]),C=d?this._contextId.split("/").slice(0,-1).join("/"):void 0;let K,b=Object.assign(Object.assign(Object.assign({},B),c),{parentContextId:C,messageTimestamp:i,recordId:this._recordId});(FA(b.tags)||null===b.tags)&&delete b.tags,void 0!==o&&(delete b.dataCid,delete b.dataSize,({dataBlob:K}=jU(o,b.dataFormat)));const _e=new Set(["data","dataCid","dataSize","datePublished","messageTimestamp","published","tags"]);r.verifyPermittedMutation(Object.keys(c),_e),!1===c.published&&void 0!==b.datePublished&&delete b.datePublished;const Ce=yield this._agent.processDwnRequest({author:this._connectedDid,dataStream:K,messageParams:Object.assign({},b),messageType:Zi.RecordsWrite,target:this._connectedDid}),{message:Te,reply:{status:Pe}}=Ce,ze=Te;return 200<=Pe.code&&Pe.code<=299&&(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._authorization=ze.authorization,this._protocolRole=c.protocolRole,_e.forEach(rt=>{this._descriptor[rt]=ze.descriptor[rt]}),void 0!==o&&(this._encodedData=K)),{status:Pe}})}delete(n){return Ff(this,void 0,void 0,function*(){const i=n||{},{store:o,signAsOwner:c,dateModified:s}=i,d=hN(i,["store","signAsOwner","dateModified"]);let B={messageType:Zi.RecordsDelete,author:this._connectedDid,target:this._connectedDid,store:o,signAsOwner:c};if(this.deleted){if(!this._initialWrite)throw new Error("If initial write is not set, the current rawRecord must be a RecordsWrite message.");B.rawMessage=this.rawMessage}else B.messageParams=Object.assign(Object.assign({},d),{recordId:this._recordId,messageTimestamp:s});const C=yield this._agent.processDwnRequest(B),{message:b,reply:{status:K}}=C;return 202!==K.code||(this._initialWrite||(this._initialWrite=Object.assign({},this.rawMessage)),this._author=YB(b),this._descriptor=b.descriptor,this._authorization=b.authorization,this._encodedData=void 0,this._encryption=void 0,this._attestation=void 0),{status:K}})}processRecord({store:n,signAsOwner:i}){return Ff(this,void 0,void 0,function*(){if(this._initialWrite&&(i&&!this._initialWriteSigned||n&&!this._initialWriteStored)){const C={messageType:Zi.RecordsWrite,rawMessage:this.initialWrite,author:this._connectedDid,target:this._connectedDid,signAsOwner:i,store:n},b=yield this._agent.processDwnRequest(C),{message:K,reply:{status:_e}}=b,Ce=K;200<=_e.code&&_e.code<=299&&(n&&(this._initialWriteStored=!0),i&&(this._initialWriteSigned=!0,this.initialWrite.authorization=Ce.authorization))}let o;o=this.deleted?{messageType:Zi.RecordsDelete,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,signAsOwner:i,store:n}:{messageType:Zi.RecordsWrite,rawMessage:this.rawMessage,author:this._connectedDid,target:this._connectedDid,dataStream:yield this.data.blob(),signAsOwner:i,store:n};const c=yield this._agent.processDwnRequest(o),{message:s,reply:{status:d}}=c;return 200<=d.code&&d.code<=299&&i&&(this._authorization=s.authorization),{status:d}})}readRecordData({target:n,isRemote:i}){return Ff(this,void 0,void 0,function*(){const o={author:this._connectedDid,messageParams:{filter:{recordId:this.id}},messageType:Zi.RecordsRead,target:n},c=i?this._agent.sendDwnRequest(o):this._agent.processDwnRequest(o);try{const{reply:{status:s,record:d}}=yield c;if(200!==s.code)throw new Error(`${s.code}: ${s.detail}`);const B=d.data;return _d.isReadableStream(B)?Zc.fromWebReadable({readableStream:B}):B}catch(s){throw new Error(`Error encountered while attempting to read data: ${s.message}`)}})}static verifyPermittedMutation(n,i){for(const o of n)if(!i.has(o))throw new Error(`${o} is an immutable property. Its value cannot be changed.`)}}return r._sendCache=Dh,r})();class KU{constructor(t,n,i){this._agent=t,this._metadata=i,this._protocolsConfigureMessage=n}get definition(){return this._protocolsConfigureMessage.descriptor.definition}toJSON(){return this._protocolsConfigureMessage}send(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const{reply:n}=yield this._agent.sendDwnRequest({author:this._metadata.author,messageCid:this._metadata.messageCid,messageType:Zi.ProtocolsConfigure,target:t});return{status:n.status}})}}var Av=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class nz{constructor(t){this.agent=t.agent,this.connectedDid=t.connectedDid}get protocols(){return{configure:t=>Av(this,void 0,void 0,function*(){const n=yield this.agent.processDwnRequest({author:this.connectedDid,messageParams:t.message,messageType:Zi.ProtocolsConfigure,target:this.connectedDid}),{message:i,messageCid:o,reply:{status:c}}=n,s={status:c};return c.code<300&&(s.protocol=new KU(this.agent,i,{author:this.connectedDid,messageCid:o})),s}),query:t=>Av(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:Zi.ProtocolsQuery,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const o=i.reply,{entries:c=[],status:s}=o;return{protocols:c.map(B=>new KU(this.agent,B,{author:this.connectedDid})),status:s}})}}get records(){return{create:t=>Av(this,void 0,void 0,function*(){return this.records.write(t)}),createFrom:t=>Av(this,void 0,void 0,function*(){var n;const i=t.record.toJSON(),{author:o}=i,c=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(i,["author"]);return void 0!==t.data&&(delete c.dataCid,delete c.dataSize),!1===(null===(n=t.message)||void 0===n?void 0:n.published)&&void 0!==c.datePublished&&(delete c.datePublished,delete c.published),(!FA(t.message)||t.author&&t.author!==o)&&delete c.recordId,this.records.write({data:t.data,message:Object.assign(Object.assign({},c),t.message)})}),delete:t=>Av(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:Zi.RecordsDelete,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const{reply:{status:o}}=i;return{status:o}}),query:t=>Av(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:Zi.RecordsQuery,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const o=i.reply,{entries:c,status:s,cursor:d}=o;return{records:c.map(C=>{const b=Object.assign({author:YB(C),connectedDid:this.connectedDid,remoteOrigin:t.from},C);return new pN(this.agent,b)}),status:s,cursor:d}}),read:t=>Av(this,void 0,void 0,function*(){const n={author:this.connectedDid,messageParams:t.message,messageType:Zi.RecordsRead,target:t.from||this.connectedDid};let i;i=t.from?yield this.agent.sendDwnRequest(n):yield this.agent.processDwnRequest(n);const{reply:{record:o,status:c}}=i;let s;if(200<=c.code&&c.code<=299){const d=Object.assign({author:YB(o),connectedDid:this.connectedDid,remoteOrigin:t.from},o);s=new pN(this.agent,d)}return{record:s,status:c}}),write:t=>Av(this,void 0,void 0,function*(){var n;const{dataBlob:i,dataFormat:o}=jU(t.data,null===(n=t.message)||void 0===n?void 0:n.dataFormat),c=yield this.agent.processDwnRequest({author:this.connectedDid,dataStream:i,messageParams:Object.assign(Object.assign({},t.message),{dataFormat:o}),messageType:Zi.RecordsWrite,store:t.store,target:this.connectedDid}),{message:s,reply:{status:d}}=c;let B;if(200<=d.code&&d.code<=299){const C=Object.assign({author:this.connectedDid,connectedDid:this.connectedDid,encodedData:i},s);B=new pN(this.agent,C)}return{record:B,status:d}})}}}class iz{constructor(t){this.agent=t.agent,this.connectedDid=t.connectedDid}create(){return r=this,t=void 0,i=function*(){throw new Error("Not implemented.")},new((n=void 0)||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())});var r,t,n,i}}var mN=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(mN||{});const KT={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Ra{constructor({method:t,id:n,path:i,query:o,fragment:c,params:s}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=c,this.params=s}static parse(t){if(!t)return null;const n=Ra.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:c,query:s,fragment:d}=n.groups,B={uri:`did:${i}:${o}`,method:i,id:o};if(c&&(B.path=c),s&&(B.query=s.slice(1)),d&&(B.fragment=d.slice(1)),s){const C={},b=s.slice(1).split("&");for(const K of b){const[_e,Ce]=K.split("=");C[_e]=Ce}B.params=C}return B}}Ra.METHOD_PATTERN="([a-z0-9]+)",Ra.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Ra.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Ra.PCT_ENCODED_PATTERN})`,Ra.METHOD_ID_PATTERN=`((?:${Ra.ID_CHAR_PATTERN}*:)*(${Ra.ID_CHAR_PATTERN}+))`,Ra.PATH_PATTERN="(/[^#?]*)?",Ra.QUERY_PATTERN="([?][^#]*)?",Ra.FRAGMENT_PATTERN="(#.*)?",Ra.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Ra.METHOD_PATTERN}):(?<id>${Ra.METHOD_ID_PATTERN})(?<path>${Ra.PATH_PATTERN})(?<query>${Ra.QUERY_PATTERN})(?<fragment>${Ra.FRAGMENT_PATTERN})$`);class Ss extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ss)}}var Qs=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(Qs||{});class $U{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,Sd.s)(t)})}}class yN{}const VU="urn:jwk:";function ea({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}W0(n);const i=function cz(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const o=Object.keys(i).sort(),c={};for(const s of o)c[s]=t(i[s]);return c}return i},n=t(r);return JSON.stringify(n)}(n),o=mn.string(i).toUint8Array(),c=yield $U.digest({data:o});return mn.uint8Array(c).toBase64Url()})}function S_(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function gN(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function M_(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function vN(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var Td=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Qc{static adjustSignatureToLowS({signature:t}){return Td(this,void 0,void 0,function*(){const n=Oo.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Td(this,void 0,void 0,function*(){const n=yield Qc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield ea({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Td(this,void 0,void 0,function*(){const n=yield Qc.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield ea({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Td(this,void 0,void 0,function*(){return Oo.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Td(this,void 0,void 0,function*(){const n=yield Qc.privateKeyToBytes({privateKey:t}),i=yield Qc.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"secp256k1",x:mn.uint8Array(i.x).toBase64Url(),y:mn.uint8Array(i.y).toBase64Url()};return o.kid=yield ea({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Td(this,void 0,void 0,function*(){return Oo.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Td(this,void 0,void 0,function*(){return Oo.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Td(this,void 0,void 0,function*(){const t=Oo.bI.utils.randomPrivateKey(),n=yield Qc.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ea({jwk:n}),n})}static getPublicKey({key:t}){var n;return Td(this,void 0,void 0,function*(){if(!S_(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield ea({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Td(this,void 0,void 0,function*(){if(!S_(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Td(this,void 0,void 0,function*(){if(!gN(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=mn.base64Url(t.x).toUint8Array(),o=mn.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Td(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield Qc.privateKeyToBytes({privateKey:t}),o=yield Qc.publicKeyToBytes({publicKey:n});return Oo.bI.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Td(this,void 0,void 0,function*(){const i=yield Qc.privateKeyToBytes({privateKey:n}),o=(0,Sd.s)(t);return Oo.bI.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Td(this,void 0,void 0,function*(){return Oo.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Td(this,void 0,void 0,function*(){try{Oo.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Td(this,void 0,void 0,function*(){const o=yield Qc.publicKeyToBytes({publicKey:t}),c=(0,Sd.s)(i);return Oo.bI.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Td(this,void 0,void 0,function*(){32===t.byteLength&&(t=Oo.bI.getPublicKey(t));const n=Oo.bI.ProjectivePoint.fromHex(t);return{x:(0,Ah.lq)(n.x,32),y:(0,Ah.lq)(n.y,32)}})}}var Id=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class el{static adjustSignatureToLowS({signature:t}){return Id(this,void 0,void 0,function*(){const n=Bo.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Id(this,void 0,void 0,function*(){const n=yield el.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield ea({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Id(this,void 0,void 0,function*(){const n=yield el.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield ea({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Id(this,void 0,void 0,function*(){return Bo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Id(this,void 0,void 0,function*(){const n=yield el.privateKeyToBytes({privateKey:t}),i=yield el.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"P-256",x:mn.uint8Array(i.x).toBase64Url(),y:mn.uint8Array(i.y).toBase64Url()};return o.kid=yield ea({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Id(this,void 0,void 0,function*(){return Bo.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Id(this,void 0,void 0,function*(){return Bo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Id(this,void 0,void 0,function*(){const t=Bo.Ag.utils.randomPrivateKey(),n=yield el.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ea({jwk:n}),n})}static getPublicKey({key:t}){var n;return Id(this,void 0,void 0,function*(){if(!S_(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield ea({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Id(this,void 0,void 0,function*(){if(!S_(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Id(this,void 0,void 0,function*(){if(!gN(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=mn.base64Url(t.x).toUint8Array(),o=mn.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Id(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield el.privateKeyToBytes({privateKey:t}),o=yield el.publicKeyToBytes({publicKey:n});return Bo.Ag.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Id(this,void 0,void 0,function*(){const i=yield el.privateKeyToBytes({privateKey:n}),o=(0,Sd.s)(t);return Bo.Ag.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Id(this,void 0,void 0,function*(){return Bo.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Id(this,void 0,void 0,function*(){try{Bo.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Id(this,void 0,void 0,function*(){const o=yield el.publicKeyToBytes({publicKey:t}),c=(0,Sd.s)(i);return Bo.Ag.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Id(this,void 0,void 0,function*(){32===t.byteLength&&(t=Bo.Ag.getPublicKey(t));const n=Bo.Ag.ProjectivePoint.fromHex(t);return{x:(0,Ah.lq)(n.x,32),y:(0,Ah.lq)(n.y,32)}})}}var $T=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class zU extends yN{computePublicKey({key:t}){return $T(this,void 0,void 0,function*(){if(!S_(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Qc.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield el.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return $T(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield Qc.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield el.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return $T(this,void 0,void 0,function*(){if(!S_(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield Qc.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield el.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return $T(this,void 0,void 0,function*(){if(!S_(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield Qc.sign({key:t,data:n});case"P-256":return yield el.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return $T(this,void 0,void 0,function*(){if(!gN(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield Qc.verify({key:t,signature:n,data:i});case"P-256":return yield el.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var Ch=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class El{static bytesToPrivateKey({privateKeyBytes:t}){return Ch(this,void 0,void 0,function*(){const n=co.ev.getPublicKey(t),i={crv:"Ed25519",d:mn.uint8Array(t).toBase64Url(),kty:"OKP",x:mn.uint8Array(n).toBase64Url()};return i.kid=yield ea({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Ch(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:mn.uint8Array(t).toBase64Url()};return n.kid=yield ea({jwk:n}),n})}static computePublicKey({key:t}){return Ch(this,void 0,void 0,function*(){const n=yield El.privateKeyToBytes({privateKey:t}),i=co.ev.getPublicKey(n),o={kty:"OKP",crv:"Ed25519",x:mn.uint8Array(i).toBase64Url()};return o.kid=yield ea({jwk:o}),o})}static convertPrivateKeyToX25519({privateKey:t}){return Ch(this,void 0,void 0,function*(){const n=yield El.privateKeyToBytes({privateKey:t}),i=(0,co.OA)(n),o=co.TU.getPublicKey(i),c={kty:"OKP",crv:"X25519",d:mn.uint8Array(i).toBase64Url(),x:mn.uint8Array(o).toBase64Url()};return c.kid=yield ea({jwk:c}),c})}static convertPublicKeyToX25519({publicKey:t}){return Ch(this,void 0,void 0,function*(){const n=yield El.publicKeyToBytes({publicKey:t});if(!(yield El.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const o=(0,co.GU)(n),c={kty:"OKP",crv:"X25519",x:mn.uint8Array(o).toBase64Url()};return c.kid=yield ea({jwk:c}),c})}static generateKey(){return Ch(this,void 0,void 0,function*(){const t=co.ev.utils.randomPrivateKey(),n=yield El.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ea({jwk:n}),n})}static getPublicKey({key:t}){var n;return Ch(this,void 0,void 0,function*(){if(!M_(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield ea({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Ch(this,void 0,void 0,function*(){if(!M_(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Ch(this,void 0,void 0,function*(){if(!vN(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return mn.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return Ch(this,void 0,void 0,function*(){const i=yield El.privateKeyToBytes({privateKey:t});return co.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return Ch(this,void 0,void 0,function*(){try{co.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Ch(this,void 0,void 0,function*(){const o=yield El.publicKeyToBytes({publicKey:t});return co.ev.verify(n,i,o)})}}var VT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},vy=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};const bN={Ed25519:{implementation:class pz extends yN{computePublicKey({key:t}){return VT(this,void 0,void 0,function*(){if(!M_(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield El.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return VT(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield El.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return VT(this,void 0,void 0,function*(){if(!M_(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield El.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return VT(this,void 0,void 0,function*(){if(!M_(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield El.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return VT(this,void 0,void 0,function*(){if(!vN(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield El.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:zU,names:["ES256K","secp256k1"]},secp256r1:{implementation:zU,names:["ES256","secp256r1"]},"SHA-256":{implementation:class az extends yN{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield $U.digest({data:n})})}},names:["SHA-256"]}};class zT{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new Hw}digest({algorithm:t,data:n}){return vy(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return vy(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return vy(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${VU}${i.kid}`;return yield this._keyStore.set(o,i),o})}getKeyUri({key:t}){return vy(this,void 0,void 0,function*(){const n=yield ea({jwk:t});return`${VU}${n}`})}getPublicKey({keyUri:t}){return vy(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return vy(this,void 0,void 0,function*(){if(!function dz(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield ea({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set(o,i),o})}sign({keyUri:t,data:n}){return vy(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return vy(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=bN[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o in bN){const c=bN[o];if(n&&c.names.includes(n))return o;if(i&&c.names.includes(i))return o}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return vy(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function mz(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}var Tv=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class q2{static bytesToPrivateKey({privateKeyBytes:t}){return Tv(this,void 0,void 0,function*(){const n=co.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n).toBase64Url()};return i.kid=yield ea({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Tv(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:mn.uint8Array(t).toBase64Url()};return n.kid=yield ea({jwk:n}),n})}static computePublicKey({key:t}){return Tv(this,void 0,void 0,function*(){const n=yield q2.privateKeyToBytes({privateKey:t}),i=co.TU.getPublicKey(n),o={kty:"OKP",crv:"X25519",x:mn.uint8Array(i).toBase64Url()};return o.kid=yield ea({jwk:o}),o})}static generateKey(){return Tv(this,void 0,void 0,function*(){const t=co.TU.utils.randomPrivateKey(),n=yield q2.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield ea({jwk:n}),n})}static getPublicKey({key:t}){var n;return Tv(this,void 0,void 0,function*(){if(!M_(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield ea({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Tv(this,void 0,void 0,function*(){if(!M_(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Tv(this,void 0,void 0,function*(){if(!vN(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return mn.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Tv(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield q2.privateKeyToBytes({privateKey:t}),o=yield q2.publicKeyToBytes({publicKey:n});return co.TU.getSharedSecret(i,o)})}}function kp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function MN(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var XT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class Q2{constructor({uri:t,document:n,metadata:i,keyManager:o}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=o}export(){return XT(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.exportKey({keyUri:o});n.push(Object.assign({},c))}t.privateKeys=n}return t})}getSigner(t){return XT(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(B=>{var C,b;return kp(B.id)===(null!==(C=kp(t?.methodId))&&void 0!==C?C:kp(null===(b=this.document.assertionMethod)||void 0===b?void 0:b[0]))});if(!i||!i.publicKeyJwk)throw new Ss(Qs.InternalError,"A verification method intended for signing could not be determined from the DID Document");const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.getPublicKey({keyUri:o}),s=this.keyManager;return{algorithm:mz(c),keyId:i.id,sign(B){return XT(this,arguments,void 0,function*({data:C}){return yield s.sign({data:C,keyUri:o})})},verify(B){return XT(this,arguments,void 0,function*({data:C,signature:b}){return yield s.verify({data:C,key:c,signature:b})})}}})}static import(t){return XT(this,arguments,void 0,function*({portableDid:n,keyManager:i=new zT}){var o;const c=function SN({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(MN))&&void 0!==n?n:[]),Object.keys(mN).forEach(o=>{var c,s;i.push(...null!==(s=null===(c=r[o])||void 0===c?void 0:c.filter(MN))&&void 0!==s?s:[])}),i}({didDocument:n.document});if(0===c.length)throw new Ss(Qs.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let d of null!==(o=n.privateKeys)&&void 0!==o?o:[])yield i.importKey({key:d});for(let d of c){if(!d.publicKeyJwk)throw new Error(`Verification method '${d.id}' does not contain a public key in JWK format`);const B=yield i.getKeyUri({key:d.publicKeyJwk});yield i.getPublicKey({keyUri:B})}return new Q2({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var GU=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class ZU{static getSigningMethod(t){return GU(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return GU(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Yl=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},XU=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const YU="https://diddht.tbddev.org",Iv=7200,Du=",";var JU=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(JU||{}),af=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(af||{}),qU=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(qU||{});const QU={Ed25519:af.Ed25519,ES256K:af.secp256k1,ES256:af.secp256r1,"P-256":af.secp256r1,secp256k1:af.secp256k1,secp256r1:af.secp256r1,X25519:af.X25519},eF={[af.Ed25519]:"Ed25519",[af.secp256k1]:"ES256K",[af.secp256r1]:"ES256",[af.X25519]:"ECDH-ES+A256KW"};let AN=(()=>{class r extends ZU{static create(){return Yl(this,arguments,void 0,function*({keyManager:n=new zT,options:i={}}={}){var o,c,s,d,B,C,b,K,_e,Ce,Te;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(pt=>!(pt.algorithm in QU)))throw new Error("One or more verification method algorithms are not supported");const Pe=null===(c=i.verificationMethods)||void 0===c?void 0:c.filter(pt=>"id"in pt).map(pt=>pt.id);if(Pe&&Pe.length!==new Set(Pe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(s=i.services)&&void 0!==s&&s.some(pt=>!pt.id||!pt.type||!pt.serviceEndpoint))throw new Error("One or more services are missing required properties");const ze=yield n.generateKey({algorithm:"Ed25519"}),rt=yield n.getPublicKey({keyUri:ze}),Xe=yield tl.identityKeyToIdentifier({identityKey:rt}),Ze=Object.assign(Object.assign({id:Xe},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),lt=[...null!==(d=i.verificationMethods)&&void 0!==d?d:[]];lt?.some(pt=>{var Mt;return"0"===(null===(Mt=pt.id)||void 0===Mt?void 0:Mt.split("#").pop())})||lt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const pt of lt){const Mt=pt.id&&"0"===pt.id.split("#").pop()?ze:yield n.generateKey({algorithm:pt.algorithm}),Pt=yield n.getPublicKey({keyUri:Mt});let sn=null!==(C=null!==(B=pt.id)&&void 0!==B?B:Pt.kid)&&void 0!==C?C:yield ea({jwk:Pt});sn=`${Xe}#${kp(sn)}`,null!==(b=Ze.verificationMethod)&&void 0!==b||(Ze.verificationMethod=[]),Ze.verificationMethod.push({id:sn,type:"JsonWebKey",controller:null!==(K=pt.controller)&&void 0!==K?K:Xe,publicKeyJwk:Pt});for(const an of null!==(_e=pt.purposes)&&void 0!==_e?_e:[])Ze[an]||(Ze[an]=[]),Ze[an].push(sn)}null===(Ce=i.services)||void 0===Ce||Ce.forEach(pt=>{var Mt;null!==(Mt=Ze.service)&&void 0!==Mt||(Ze.service=[]),pt.id=`${Xe}#${pt.id.split("#").pop()}`,Ze.service.push(pt)});const Et=new Q2({uri:Xe,document:Ze,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Te=i.publish)||void 0===Te||Te){const pt=yield r.publish({did:Et,gatewayUri:i.gatewayUri});Et.metadata=pt.didDocumentMetadata}return Et})}static import(n){return Yl(this,arguments,void 0,function*({portableDid:i,keyManager:o=new zT}){var c;const s=Ra.parse(i.uri);if(s?.method!==r.methodName)throw new Ss(Qs.MethodNotSupported,"Method not supported");const d=yield Q2.import({portableDid:i,keyManager:o});if(null===(c=d.document.verificationMethod)||void 0===c||!c.some(B=>{var C;return"0"===(null===(C=B.id)||void 0===C?void 0:C.split("#").pop())}))throw new Ss(Qs.InvalidDidDocument,"DID document must contain an Identity Key");return d})}static getSigningMethod(n){return Yl(this,arguments,void 0,function*({didDocument:i,methodId:o="#0"}){var c;const s=Ra.parse(i.id);if(s&&s.method!==this.methodName)throw new Ss(Qs.MethodNotSupported,`Method not supported: ${s.method}`);const d=null===(c=i.verificationMethod)||void 0===c?void 0:c.find(B=>{var C,b;return kp(B.id)===(null!==(C=kp(o))&&void 0!==C?C:kp(null===(b=i.assertionMethod)||void 0===b?void 0:b[0]))});if(!d||!d.publicKeyJwk)throw new Ss(Qs.InternalError,"A verification method intended for signing could not be determined from the DID Document");return d})}static publish(n){return Yl(this,arguments,void 0,function*({did:i,gatewayUri:o=YU}){return yield by.put({did:i,gatewayUri:o})})}static resolve(n){return Yl(this,arguments,void 0,function*(i,o={}){var c;const s=null!==(c=o?.gatewayUri)&&void 0!==c?c:YU;try{yield tl.identifierToIdentityKey({didUri:i});const{didDocument:d,didDocumentMetadata:B}=yield by.get({didUri:i,gatewayUri:s});return Object.assign(Object.assign({},KT),{didDocument:d,didDocumentMetadata:B})}catch(d){if(!(d instanceof Ss))throw new Error(d);return Object.assign(Object.assign({},KT),{didResolutionMetadata:Object.assign({error:d.code},d.message&&{errorMessage:d.message})})}})}}return r.methodName="dht",r})();class by{static get(t){return Yl(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const o=tl.identifierToIdentityKeyBytes({didUri:n}),c=yield by.pkarrGet({gatewayUri:i,publicKeyBytes:o}),s=yield tl.parseBep44GetMessage({bep44Message:c}),d=yield by.fromDnsPacket({didUri:n,dnsPacket:s});return d.didDocumentMetadata.versionId=c.seq.toString(),d})}static put(t){return Yl(this,arguments,void 0,function*({did:n,gatewayUri:i}){const o=yield by.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),c=yield tl.createBep44PutMessage({dnsPacket:o,publicKeyBytes:tl.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),s=yield by.pkarrPut({gatewayUri:i,bep44Message:c});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:s,versionId:c.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return Yl(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const o=mn.uint8Array(i).toBase32Z(),c=new URL(o,n).href;let s;try{if(s=yield fetch(c,{method:"GET"}),!s.ok)throw new Ss(Qs.NotFound,`Pkarr record not found for: ${o}`)}catch(C){throw C instanceof Ss?C:new Ss(Qs.InternalError,`Failed to fetch Pkarr record: ${C.message}`)}const d=yield s.arrayBuffer();if(!d)throw new Ss(Qs.NotFound,`Pkarr record not found for: ${o}`);if(d.byteLength<72)throw new Ss(Qs.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${d.byteLength}`);if(d.byteLength>1072)throw new Ss(Qs.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${d.byteLength}`);return{k:i,seq:Number(new DataView(d).getBigUint64(64)),sig:new Uint8Array(d,0,64),v:new Uint8Array(d,72)}})}static pkarrPut(t){return Yl(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const o=mn.uint8Array(i.k).toBase32Z(),c=new URL(o,n).href,s=new Uint8Array(i.v.length+72);let d;s.set(i.sig,0),new DataView(s.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),s.set(i.v,i.sig.length+8);try{d=yield fetch(c,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:s})}catch(B){throw new Ss(Qs.InternalError,`Failed to put Pkarr record for identifier ${o}: ${B.message}`)}return d.ok})}static fromDnsPacket(t){return Yl(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var o,c,s;const d={id:n},B={published:!0},C=new Map;for(const b of null!==(o=i?.answers)&&void 0!==o?o:[]){if("TXT"!==b.type)continue;const K=b.name.split(".")[0].substring(1);switch(!0){case K.startsWith("aka"):{const _e=tl.parseTxtDataToString(b.data);d.alsoKnownAs=_e.split(Du);break}case K.startsWith("cnt"):{const _e=tl.parseTxtDataToString(b.data);d.controller=_e.includes(Du)?_e.split(Du):_e;break}case K.startsWith("k"):{const{id:_e,t:Ce,k:Te,c:Pe,a:ze}=tl.parseTxtDataToObject(b.data),rt=mn.base64Url(Te).toUint8Array(),Xe=af[Number(Ce)];let Ze=yield tl.keyConverter(Xe).bytesToPublicKey({publicKeyBytes:rt});Ze.alg=ze||eF[Number(Ce)];const lt="k0"===K?"0":void 0!==_e?_e:yield ea({jwk:Ze});null!==(c=d.verificationMethod)&&void 0!==c||(d.verificationMethod=[]);const Et=`${n}#${lt}`;d.verificationMethod.push({id:Et,type:"JsonWebKey",controller:Pe??n,publicKeyJwk:Ze}),C.set(K,Et);break}case K.startsWith("s"):{const _e=tl.parseTxtDataToObject(b.data),{id:Ce,t:Te,se:Pe}=_e,ze=XU(_e,["id","t","se"]),rt=Pe.includes(Du)?Pe.split(Du):[Pe],Xe=Object.fromEntries(Object.entries(ze).map(([Ze,lt])=>[Ze,lt.includes(Du)?lt.split(Du):lt]));null!==(s=d.service)&&void 0!==s||(d.service=[]),d.service.push(Object.assign(Object.assign({},Xe),{id:`${n}#${Ce}`,type:Te,serviceEndpoint:rt}));break}case K.startsWith("typ"):{const{id:_e}=tl.parseTxtDataToObject(b.data);B.types=_e.split(Du).map(Ce=>Number(Ce));break}case K.startsWith("did"):{const _e=Xe=>Xe.split(Du).map(Ze=>C.get(Ze)).filter(Ze=>"string"==typeof Ze),{auth:Ce,asm:Te,del:Pe,inv:ze,agm:rt}=tl.parseTxtDataToObject(b.data);Ce&&(d.authentication=_e(Ce)),Te&&(d.assertionMethod=_e(Te)),Pe&&(d.capabilityDelegation=_e(Pe)),ze&&(d.capabilityInvocation=_e(ze)),rt&&(d.keyAgreement=_e(rt));break}}}return{didDocument:d,didDocumentMetadata:B,didResolutionMetadata:{}}})}static toDnsPacket(t){return Yl(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:o,previousDidProof:c}){var s,d,B,C,b;const K=[],_e=[],Ce=new Map,Te=[],Pe=[];if(void 0!==c){const{signature:Xe,previousDid:Ze}=c;yield tl.validatePreviousDidProof({newDid:n.id,previousDidProof:c}),K.push({type:"TXT",name:"_prv._did.",ttl:Iv,data:`id=${Ze};s=${Xe}`})}if(n.alsoKnownAs&&K.push({type:"TXT",name:"_aka._did.",ttl:Iv,data:n.alsoKnownAs.join(Du)}),n.controller){const Xe=Array.isArray(n.controller)?n.controller.join(Du):n.controller;K.push({type:"TXT",name:"_cnt._did.",ttl:Iv,data:Xe})}for(const[Xe,Ze]of null!==(d=null===(s=n.verificationMethod)||void 0===s?void 0:s.entries())&&void 0!==d?d:[]){const lt=`k${Xe}`;Pe.push(lt);let Et=Ze.id.split("#").pop();Ce.set(Et,lt);const pt=Ze.publicKeyJwk;if(!pt?.crv||!(pt.crv in QU))throw new Ss(Qs.InvalidPublicKeyType,`Verification method '${Ze.id}' contains an unsupported key type: ${null!==(B=pt?.crv)&&void 0!==B?B:"undefined"}`);const Mt=af[pt.crv],Pt=yield tl.keyConverter(pt.crv).publicKeyToBytes({publicKey:pt}),an=[`t=${Mt}`,`k=${mn.uint8Array(Pt).toBase64Url()}`];"0"!==Et&&(yield ea({jwk:pt}))!==Et&&an.unshift(`id=${Et}`),pt.alg!==eF[Mt]&&an.push(`a=${pt.alg}`),Ze.controller!==n.id&&an.push(`c=${Ze.controller}`),K.push({type:"TXT",name:`_${lt}._did.`,ttl:Iv,data:an.join(";")})}null===(C=n.service)||void 0===C||C.forEach((Xe,Ze)=>{const lt=`s${Ze}`;Te.push(lt);let{id:Et,type:pt,serviceEndpoint:Mt}=Xe,Pt=XU(Xe,["id","type","serviceEndpoint"]);Et=kp(Et),Mt=Array.isArray(Mt)?Mt.join(","):Mt;const an=Object.entries(Object.assign({id:Et,t:pt,se:Mt},Pt)).map(([$n,wn])=>`${$n}=${wn}`).join(";"),_n=tl.chunkDataIfNeeded(an);K.push({type:"TXT",name:`_${lt}._did.`,ttl:Iv,data:_n})});const ze=["v=0"];if(Pe.length&&ze.push(`vm=${Pe.join(Du)}`),Object.keys(mN).forEach(Xe=>{var Ze;const lt=null===(Ze=n[Xe])||void 0===Ze?void 0:Ze.map(Et=>Ce.get(Et.split("#").pop()));lt&&ze.push(`${qU[Xe]}=${lt.join(Du)}`)}),Te.length&&ze.push(`svc=${Te.join(Du)}`),null!==(b=i.types)&&void 0!==b&&b.length){const Ze=i.types.map(lt=>"string"==typeof lt?JU[lt]:lt);K.push({type:"TXT",name:"_typ._did.",ttl:Iv,data:`id=${Ze.join(Du)}`})}K.push({type:"TXT",name:"_did."+by.getUniqueDidSuffix(n.id)+".",ttl:Iv,data:ze.join(";")});for(const Xe of o||[])_e.push({type:"NS",name:"_did."+by.getUniqueDidSuffix(n.id)+".",ttl:Iv,data:Xe+"."});return{id:0,type:"response",flags:Sh.hB,answers:[...K,..._e]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class tl{static createBep44PutMessage(t){return Yl(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:o}){const c=Math.ceil(Date.now()/1e3),s=(0,Sh.lF)(n),d=uv.A.encode({seq:c,v:s}).subarray(1,-1);if(d.length>1e3)throw new Ss(Qs.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${d.length} bytes`);return{k:i,seq:c,sig:yield o.sign({data:d}),v:s}})}static identifierToIdentityKey(t){return Yl(this,arguments,void 0,function*({didUri:n}){let i=tl.identifierToIdentityKeyBytes({didUri:n});return yield El.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Ra.parse(t);if(!n)throw new Ss(Qs.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==AN.methodName)throw new Ss(Qs.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=mn.base32Z(n.id).toUint8Array()}catch{throw new Ss(Qs.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new Ss(Qs.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return Yl(this,arguments,void 0,function*({identityKey:n}){const i=yield El.publicKeyToBytes({publicKey:n}),o=mn.uint8Array(i).toBase32Z();return`did:${AN.methodName}:${o}`})}static keyConverter(t){const i={Ed25519:El,"P-256":{publicKeyToBytes:o=>Yl(this,[o],void 0,function*({publicKey:c}){const s=yield el.publicKeyToBytes({publicKey:c});return yield el.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:el.bytesToPublicKey,privateKeyToBytes:el.privateKeyToBytes,bytesToPrivateKey:el.bytesToPrivateKey},secp256k1:{publicKeyToBytes:o=>Yl(this,[o],void 0,function*({publicKey:c}){const s=yield Qc.publicKeyToBytes({publicKey:c});return yield Qc.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:Qc.bytesToPublicKey,privateKeyToBytes:Qc.privateKeyToBytes,bytesToPrivateKey:Qc.bytesToPrivateKey},X25519:q2}[t];if(!i)throw new Ss(Qs.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return Yl(this,arguments,void 0,function*({bep44Message:n}){const i=yield El.bytesToPublicKey({publicKeyBytes:n.k}),o=uv.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield El.verify({key:i,signature:n.sig,data:o})))throw new Ss(Qs.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,Sh.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[o,c]=i.split("=");return n[o]=c,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return mn.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new Ss(Qs.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return Yl(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const o=yield tl.identifierToIdentityKey({didUri:i.previousDid}),c=tl.identifierToIdentityKeyBytes({didUri:n}),s=mn.base64Url(i.signature).toUint8Array();if(!(yield El.verify({key:o,data:c,signature:s})))throw new Ss(Qs.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}var x8=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};let Az=(()=>{class r extends ZU{static create(){return x8(this,arguments,void 0,function*({keyManager:n=new zT,options:i={}}={}){var o,c,s,d;if(i.algorithm&&i.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(i.verificationMethods&&1!==i.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const B=null!==(d=null!==(o=i.algorithm)&&void 0!==o?o:null===(s=null===(c=i.verificationMethods)||void 0===c?void 0:c[0])||void 0===s?void 0:s.algorithm)&&void 0!==d?d:"Ed25519",C=yield n.generateKey({algorithm:B}),b=yield n.getPublicKey({keyUri:C}),K=mn.object(b).toBase64Url(),_e=`did:${r.methodName}:${K}`,Te=(yield r.resolve(_e)).didDocument;return new Q2({uri:_e,document:Te,metadata:{},keyManager:n})})}static getSigningMethod(n){return x8(this,arguments,void 0,function*({didDocument:i}){var o;const c=Ra.parse(i.id);if(c&&c.method!==this.methodName)throw new Ss(Qs.MethodNotSupported,`Method not supported: ${c.method}`);const[s]=null!==(o=i.verificationMethod)&&void 0!==o?o:[];if(!s||!s.publicKeyJwk)throw new Ss(Qs.InternalError,"A verification method intended for signing could not be determined from the DID Document");return s})}static import(n){return x8(this,arguments,void 0,function*({portableDid:i,keyManager:o=new zT}){const c=Ra.parse(i.uri);if(c?.method!==r.methodName)throw new Ss(Qs.MethodNotSupported,"Method not supported");const s=yield Q2.import({portableDid:i,keyManager:o});if(1!==s.document.verificationMethod.length)throw new Ss(Qs.InvalidDidDocument,"DID document must contain exactly one verification method");return s})}static resolve(n,i){return x8(this,void 0,void 0,function*(){const o=Ra.parse(n);let c;try{c=mn.base64Url(o.id).toObject()}catch{}if(!o||!c)return Object.assign(Object.assign({},KT),{didResolutionMetadata:{error:"invalidDid"}});if(o.method!==r.methodName)return Object.assign(Object.assign({},KT),{didResolutionMetadata:{error:"methodNotSupported"}});const s={"@context":["https://www.w3.org/ns/did/v1"],id:o.uri},d=`${s.id}#0`;switch(s.verificationMethod=[{id:d,type:"JsonWebKey",controller:s.id,publicKeyJwk:c}],s.authentication=[d],s.assertionMethod=[d],s.capabilityInvocation=[d],s.capabilityDelegation=[d],s.keyAgreement=[d],c.use){case"sig":delete s.keyAgreement;break;case"enc":delete s.authentication,delete s.assertionMethod,delete s.capabilityInvocation,delete s.capabilityDelegation}return Object.assign(Object.assign({},KT),{didDocument:s})})}}return r.methodName="jwk",r})();var Tz=E(97829),Iz=E(67449);class Cz{constructor({db:t,location:n="DATA/DID_RESOLVERCACHE",ttl:i="15m"}={}){this.cache=t??new Iz.Level(n),this.ttl=Tz(i)}get(t){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){try{const n=yield this.cache.get(t),i=JSON.parse(n);return Date.now()>=i.ttlMillis?void this.cache.nextTick(()=>this.cache.del(t)):i.value}catch(n){if(n.notFound)return;throw n}})}set(t,n){const i={ttlMillis:Date.now()+this.ttl,value:n},o=JSON.stringify(i);return this.cache.put(t,o)}delete(t){return this.cache.del(t)}clear(){return this.cache.clear()}close(){return this.cache.close()}}var Lm=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class IN{constructor(t){this._agentDid=t.agentDid,this.crypto=t.cryptoApi,this.did=t.didApi,this.dwn=t.dwnApi,this.identity=t.identityApi,this.keyManager=t.keyManager,this.rpc=t.rpcClient,this.sync=t.syncApi,this.vault=t.agentVault,this.did.agent=this,this.dwn.agent=this,this.identity.agent=this,this.keyManager.agent=this,this.sync.agent=this}get agentDid(){if(void 0===this._agentDid)throw new Error('Web5UserAgent: The "agentDid" property is not set. Ensure the agent is properly initialized and a DID is assigned.');return this._agentDid}set agentDid(t){this._agentDid=t}static create({dataPath:t="DATA/AGENT",agentDid:n,agentVault:i,cryptoApi:o,didApi:c,dwnApi:s,identityApi:d,keyManager:B,rpcClient:C,syncApi:b}={}){return Lm(this,void 0,void 0,function*(){return i??(i=new BV({keyDerivationWorkFactor:21e4,store:new $O({location:`${t}/VAULT_STORE`})})),o??(o=new W2),c??(c=new sV({didMethods:[AN,Az],resolverCache:new Cz({location:`${t}/DID_RESOLVERCACHE`}),store:new rV})),s??(s=new gU({dwn:yield gU.createDwn({dataPath:t,didResolver:c})})),d??(d=new FV({store:new LV})),B??(B=new E_({keyStore:new kV})),C??(C=new GV),b??(b=new JV({syncEngine:new g8({dataPath:t})})),new IN({agentDid:n,agentVault:i,cryptoApi:o,didApi:c,dwnApi:s,keyManager:B,identityApi:d,rpcClient:C,syncApi:b})})}firstLaunch(){return Lm(this,void 0,void 0,function*(){return!1===(yield this.vault.isInitialized())})}initialize({password:t,recoveryPhrase:n}){return Lm(this,void 0,void 0,function*(){return n=yield this.vault.initialize({password:t,recoveryPhrase:n})})}processDidRequest(t){return Lm(this,void 0,void 0,function*(){return this.did.processRequest(t)})}processDwnRequest(t){return Lm(this,void 0,void 0,function*(){return this.dwn.processRequest(t)})}processVcRequest(t){return Lm(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDidRequest(t){return Lm(this,void 0,void 0,function*(){throw new Error("Not implemented")})}sendDwnRequest(t){return Lm(this,void 0,void 0,function*(){return this.dwn.sendRequest(t)})}sendVcRequest(t){return Lm(this,void 0,void 0,function*(){throw new Error("Not implemented")})}start({password:t}){return Lm(this,void 0,void 0,function*(){this.vault.isLocked()&&(yield this.vault.unlock({password:t})),this.agentDid=yield this.vault.getDid()})}}class DN{constructor({agent:t,connectedDid:n}){this.agent=t,this.connectedDid=n,this.did=new QV({agent:t,connectedDid:n}),this.dwn=new nz({agent:t,connectedDid:n}),this.vc=new iz({agent:t,connectedDid:n})}static connect({agent:t,agentVault:n,connectedDid:i,password:o,recoveryPhrase:c,sync:s,techPreview:d,didCreateOptions:B,registration:C}={}){var b,K,_e;return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if(void 0===t){const Te=yield IN.create({agentVault:n});t=Te,void 0===o&&(o="insecure-static-phrase",console.warn("%cSECURITY WARNING:%c You have not set a password, which defaults to a static, guessable value. This significantly compromises the security of your data. Please configure a secure, unique password.","font-weight: bold; color: red;","font-weight: normal; color: inherit;")),(yield Te.firstLaunch())&&(c=yield Te.initialize({password:o,recoveryPhrase:c})),yield Te.start({password:o});{let ze;const rt=yield Te.identity.list(),Xe=rt.length;if(0===Xe){const Ze=null!==(K=null!==(b=d?.dwnEndpoints)&&void 0!==b?b:B?.dwnEndpoints)&&void 0!==K?K:["https://dwn.tbddev.org/beta"];ze=yield Te.identity.create({didMethod:"dht",metadata:{name:"Default"},didOptions:{services:[{id:"dwn",type:"DecentralizedWebNode",serviceEndpoint:Ze,enc:"#enc",sig:"#sig"}],verificationMethods:[{algorithm:"Ed25519",id:"sig",purposes:["assertionMethod","authentication"]},{algorithm:"secp256k1",id:"enc",purposes:["keyAgreement"]}]}}),yield Te.identity.manage({portableIdentity:yield ze.export()})}else{if(1!==Xe)throw new Error(`connect() failed due to unexpected state: Expected 1 but found ${Xe} stored identities.`);ze=rt[0]}i=ze.did.uri}if(void 0!==C){const ze=null!==(_e=d?.dwnEndpoints)&&void 0!==_e?_e:B?.dwnEndpoints;try{for(const rt of ze)0!==(yield Te.rpc.getServerInfo(rt)).registrationRequirements.length&&(yield Z2.registerTenant(rt,t.agentDid.uri),yield Z2.registerTenant(rt,i));C.onSuccess()}catch(rt){C.onFailure(rt)}}"off"!==s&&(yield Te.sync.registerIdentity({did:i}),s??(s="2m"),Te.sync.startSync({interval:s}).catch(ze=>{console.error(`Sync failed: ${ze}`)}))}return{web5:new DN({agent:t,connectedDid:i}),did:i,recoveryPhrase:c}})}}var CN=function(r){return r.authentication="authentication",r.assertionMethod="assertionMethod",r.keyAgreement="keyAgreement",r.capabilityInvocation="capabilityInvocation",r.capabilityDelegation="capabilityDelegation",r}(CN||{});const Cv={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Oa{constructor({method:t,id:n,path:i,query:o,fragment:c,params:s}){this.uri=`did:${t}:${n}`,this.method=t,this.id=n,this.path=i,this.query=o,this.fragment=c,this.params=s}static parse(t){if(!t)return null;const n=Oa.DID_URI_PATTERN.exec(t);if(!n||!n.groups)return null;const{method:i,id:o,path:c,query:s,fragment:d}=n.groups,B={uri:`did:${i}:${o}`,method:i,id:o};if(c&&(B.path=c),s&&(B.query=s.slice(1)),d&&(B.fragment=d.slice(1)),s){const C={},b=s.slice(1).split("&");for(const K of b){const[_e,Ce]=K.split("=");C[_e]=Ce}B.params=C}return B}}Oa.METHOD_PATTERN="([a-z0-9]+)",Oa.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",Oa.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${Oa.PCT_ENCODED_PATTERN})`,Oa.METHOD_ID_PATTERN=`((?:${Oa.ID_CHAR_PATTERN}*:)*(${Oa.ID_CHAR_PATTERN}+))`,Oa.PATH_PATTERN="(/[^#?]*)?",Oa.QUERY_PATTERN="([?][^#]*)?",Oa.FRAGMENT_PATTERN="(#.*)?",Oa.DID_URI_PATTERN=new RegExp(`^did:(?<method>${Oa.METHOD_PATTERN}):(?<id>${Oa.METHOD_ID_PATTERN})(?<path>${Oa.PATH_PATTERN})(?<query>${Oa.QUERY_PATTERN})(?<fragment>${Oa.FRAGMENT_PATTERN})$`);class aa extends Error{constructor(t,n){super(`${t}: ${n}`),this.code=t,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aa)}}var ta=function(r){return r.InvalidDid="invalidDid",r.MethodNotSupported="methodNotSupported",r.InternalError="internalError",r.InvalidDidDocument="invalidDidDocument",r.InvalidDidDocumentLength="invalidDidDocumentLength",r.InvalidDidUrl="invalidDidUrl",r.InvalidPreviousDidProof="invalidPreviousDidProof",r.InvalidPublicKey="invalidPublicKey",r.InvalidPublicKeyLength="invalidPublicKeyLength",r.InvalidPublicKeyType="invalidPublicKeyType",r.InvalidSignature="invalidSignature",r.NotFound="notFound",r.RepresentationNotSupported="representationNotSupported",r.UnsupportedPublicKeyType="unsupportedPublicKeyType",r}(ta||{});class nF{static digest({data:t}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){return(0,Sd.s)(t)})}}class kN{}const rF="urn:jwk:";function na({jwk:r}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const t=r.kty;let n;if("EC"===t)n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===t)n={k:r.k,kty:r.kty};else if("OKP"===t)n={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==t)throw new Error(`Unsupported key type: ${t}`);n={e:r.e,kty:r.kty,n:r.n}}W0(n);const i=function Bz(r){const t=i=>{if(null!==i&&"object"==typeof i&&!Array.isArray(i)){const o=Object.keys(i).sort(),c={};for(const s of o)c[s]=t(i[s]);return c}return i},n=t(r);return JSON.stringify(n)}(n),o=mn.string(i).toUint8Array(),c=yield nF.digest({data:o});return mn.uint8Array(c).toBase64Url()})}function D_(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"EC"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function PN(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r)||"d"in r||"EC"!==r.kty||"string"!=typeof r.x)}function C_(r){return!(!r||"object"!=typeof r||!("kty"in r&&"crv"in r&&"x"in r&&"d"in r)||"OKP"!==r.kty||"string"!=typeof r.d||"string"!=typeof r.x)}function RN(r){return!(!r||"object"!=typeof r||"d"in r||!("kty"in r&&"crv"in r&&"x"in r)||"OKP"!==r.kty||"string"!=typeof r.x)}var Dd=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class nl{static adjustSignatureToLowS({signature:t}){return Dd(this,void 0,void 0,function*(){const n=Oo.bI.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Dd(this,void 0,void 0,function*(){const n=yield nl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield na({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Dd(this,void 0,void 0,function*(){const n=yield nl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"secp256k1",x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield na({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Dd(this,void 0,void 0,function*(){return Oo.bI.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Dd(this,void 0,void 0,function*(){const n=yield nl.privateKeyToBytes({privateKey:t}),i=yield nl.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"secp256k1",x:mn.uint8Array(i.x).toBase64Url(),y:mn.uint8Array(i.y).toBase64Url()};return o.kid=yield na({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Dd(this,void 0,void 0,function*(){return Oo.bI.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Dd(this,void 0,void 0,function*(){return Oo.bI.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Dd(this,void 0,void 0,function*(){const t=Oo.bI.utils.randomPrivateKey(),n=yield nl.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield na({jwk:n}),n})}static getPublicKey({key:t}){var n;return Dd(this,void 0,void 0,function*(){if(!D_(t)||"secp256k1"!==t.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield na({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Dd(this,void 0,void 0,function*(){if(!D_(t))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Dd(this,void 0,void 0,function*(){if(!PN(t)||!t.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=mn.base64Url(t.x).toUint8Array(),o=mn.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Dd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield nl.privateKeyToBytes({privateKey:t}),o=yield nl.publicKeyToBytes({publicKey:n});return Oo.bI.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Dd(this,void 0,void 0,function*(){const i=yield nl.privateKeyToBytes({privateKey:n}),o=(0,Sd.s)(t);return Oo.bI.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Dd(this,void 0,void 0,function*(){return Oo.bI.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Dd(this,void 0,void 0,function*(){try{Oo.bI.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Dd(this,void 0,void 0,function*(){const o=yield nl.publicKeyToBytes({publicKey:t}),c=(0,Sd.s)(i);return Oo.bI.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Dd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Oo.bI.getPublicKey(t));const n=Oo.bI.ProjectivePoint.fromHex(t);return{x:(0,Ah.lq)(n.x,32),y:(0,Ah.lq)(n.y,32)}})}}var Cd=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class rl{static adjustSignatureToLowS({signature:t}){return Cd(this,void 0,void 0,function*(){const n=Bo.Ag.Signature.fromCompact(t);return n.hasHighS()?n.normalizeS().toCompactRawBytes():t})}static bytesToPrivateKey({privateKeyBytes:t}){return Cd(this,void 0,void 0,function*(){const n=yield rl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield na({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return Cd(this,void 0,void 0,function*(){const n=yield rl.getCurvePoint({keyBytes:t}),i={kty:"EC",crv:"P-256",x:mn.uint8Array(n.x).toBase64Url(),y:mn.uint8Array(n.y).toBase64Url()};return i.kid=yield na({jwk:i}),i})}static compressPublicKey({publicKeyBytes:t}){return Cd(this,void 0,void 0,function*(){return Bo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!0)})}static computePublicKey({key:t}){return Cd(this,void 0,void 0,function*(){const n=yield rl.privateKeyToBytes({privateKey:t}),i=yield rl.getCurvePoint({keyBytes:n}),o={kty:"EC",crv:"P-256",x:mn.uint8Array(i.x).toBase64Url(),y:mn.uint8Array(i.y).toBase64Url()};return o.kid=yield na({jwk:o}),o})}static convertDerToCompactSignature({derSignature:t}){return Cd(this,void 0,void 0,function*(){return Bo.Ag.Signature.fromDER(t).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:t}){return Cd(this,void 0,void 0,function*(){return Bo.Ag.ProjectivePoint.fromHex(t).toRawBytes(!1)})}static generateKey(){return Cd(this,void 0,void 0,function*(){const t=Bo.Ag.utils.randomPrivateKey(),n=yield rl.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield na({jwk:n}),n})}static getPublicKey({key:t}){var n;return Cd(this,void 0,void 0,function*(){if(!D_(t)||"P-256"!==t.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield na({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return Cd(this,void 0,void 0,function*(){if(!D_(t))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return Cd(this,void 0,void 0,function*(){if(!PN(t)||!t.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const n=new Uint8Array([4]),i=mn.base64Url(t.x).toUint8Array(),o=mn.base64Url(t.y).toUint8Array();return new Uint8Array([...n,...i,...o])})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return Cd(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield rl.privateKeyToBytes({privateKey:t}),o=yield rl.publicKeyToBytes({publicKey:n});return Bo.Ag.getSharedSecret(i,o,!0).slice(1)})}static sign({data:t,key:n}){return Cd(this,void 0,void 0,function*(){const i=yield rl.privateKeyToBytes({privateKey:n}),o=(0,Sd.s)(t);return Bo.Ag.sign(o,i).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:t}){return Cd(this,void 0,void 0,function*(){return Bo.Ag.utils.isValidPrivateKey(t)})}static validatePublicKey({publicKeyBytes:t}){return Cd(this,void 0,void 0,function*(){try{Bo.Ag.ProjectivePoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return Cd(this,void 0,void 0,function*(){const o=yield rl.publicKeyToBytes({publicKey:t}),c=(0,Sd.s)(i);return Bo.Ag.verify(n,c,o,{lowS:!1})})}static getCurvePoint({keyBytes:t}){return Cd(this,void 0,void 0,function*(){32===t.byteLength&&(t=Bo.Ag.getPublicKey(t));const n=Bo.Ag.ProjectivePoint.fromHex(t);return{x:(0,Ah.lq)(n.x,32),y:(0,Ah.lq)(n.y,32)}})}}var YT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class iF extends kN{computePublicKey({key:t}){return YT(this,void 0,void 0,function*(){if(!D_(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield nl.computePublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield rl.computePublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}generateKey({algorithm:t}){return YT(this,void 0,void 0,function*(){switch(t){case"ES256K":case"secp256k1":{const n=yield nl.generateKey();return n.alg="ES256K",n}case"ES256":case"secp256r1":{const n=yield rl.generateKey();return n.alg="ES256",n}}})}getPublicKey({key:t}){return YT(this,void 0,void 0,function*(){if(!D_(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":{const n=yield nl.getPublicKey({key:t});return n.alg="ES256K",n}case"P-256":{const n=yield rl.getPublicKey({key:t});return n.alg="ES256",n}default:throw new Error(`Unsupported curve: ${t.crv}`)}})}sign({key:t,data:n}){return YT(this,void 0,void 0,function*(){if(!D_(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(t.crv){case"secp256k1":return yield nl.sign({key:t,data:n});case"P-256":return yield rl.sign({key:t,data:n});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}verify({key:t,signature:n,data:i}){return YT(this,void 0,void 0,function*(){if(!PN(t))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(t.crv){case"secp256k1":return yield nl.verify({key:t,signature:n,data:i});case"P-256":return yield rl.verify({key:t,signature:n,data:i});default:throw new Error(`Unsupported curve: ${t.crv}`)}})}}var kh=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class xl{static bytesToPrivateKey({privateKeyBytes:t}){return kh(this,void 0,void 0,function*(){const n=co.ev.getPublicKey(t),i={crv:"Ed25519",d:mn.uint8Array(t).toBase64Url(),kty:"OKP",x:mn.uint8Array(n).toBase64Url()};return i.kid=yield na({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return kh(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"Ed25519",x:mn.uint8Array(t).toBase64Url()};return n.kid=yield na({jwk:n}),n})}static computePublicKey({key:t}){return kh(this,void 0,void 0,function*(){const n=yield xl.privateKeyToBytes({privateKey:t}),i=co.ev.getPublicKey(n),o={kty:"OKP",crv:"Ed25519",x:mn.uint8Array(i).toBase64Url()};return o.kid=yield na({jwk:o}),o})}static convertPrivateKeyToX25519({privateKey:t}){return kh(this,void 0,void 0,function*(){const n=yield xl.privateKeyToBytes({privateKey:t}),i=(0,co.OA)(n),o=co.TU.getPublicKey(i),c={kty:"OKP",crv:"X25519",d:mn.uint8Array(i).toBase64Url(),x:mn.uint8Array(o).toBase64Url()};return c.kid=yield na({jwk:c}),c})}static convertPublicKeyToX25519({publicKey:t}){return kh(this,void 0,void 0,function*(){const n=yield xl.publicKeyToBytes({publicKey:t});if(!(yield xl.validatePublicKey({publicKeyBytes:n})))throw new Error("Ed25519: Invalid public key.");const o=(0,co.GU)(n),c={kty:"OKP",crv:"X25519",x:mn.uint8Array(o).toBase64Url()};return c.kid=yield na({jwk:c}),c})}static generateKey(){return kh(this,void 0,void 0,function*(){const t=co.ev.utils.randomPrivateKey(),n=yield xl.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield na({jwk:n}),n})}static getPublicKey({key:t}){var n;return kh(this,void 0,void 0,function*(){if(!C_(t)||"Ed25519"!==t.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield na({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return kh(this,void 0,void 0,function*(){if(!C_(t))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return kh(this,void 0,void 0,function*(){if(!RN(t))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return mn.base64Url(t.x).toUint8Array()})}static sign({key:t,data:n}){return kh(this,void 0,void 0,function*(){const i=yield xl.privateKeyToBytes({privateKey:t});return co.ev.sign(n,i)})}static validatePublicKey({publicKeyBytes:t}){return kh(this,void 0,void 0,function*(){try{co.ev.ExtendedPoint.fromHex(t).assertValidity()}catch{return!1}return!0})}static verify({key:t,signature:n,data:i}){return kh(this,void 0,void 0,function*(){const o=yield xl.publicKeyToBytes({publicKey:t});return co.ev.verify(n,i,o)})}}var JT=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},wy=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};const ON={Ed25519:{implementation:class Kz extends kN{computePublicKey({key:t}){return JT(this,void 0,void 0,function*(){if(!C_(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield xl.computePublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}generateKey({algorithm:t}){return JT(this,void 0,void 0,function*(){if("Ed25519"===t){const n=yield xl.generateKey();return n.alg="EdDSA",n}})}getPublicKey({key:t}){return JT(this,void 0,void 0,function*(){if(!C_(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv){const n=yield xl.getPublicKey({key:t});return n.alg="EdDSA",n}throw new Error(`Unsupported curve: ${t.crv}`)})}sign({key:t,data:n}){return JT(this,void 0,void 0,function*(){if(!C_(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===t.crv)return yield xl.sign({key:t,data:n});throw new Error(`Unsupported curve: ${t.crv}`)})}verify({key:t,signature:n,data:i}){return JT(this,void 0,void 0,function*(){if(!RN(t))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===t.crv)return yield xl.verify({key:t,signature:n,data:i});throw new Error(`Unsupported curve: ${t.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:iF,names:["ES256K","secp256k1"]},secp256r1:{implementation:iF,names:["ES256","secp256r1"]},"SHA-256":{implementation:class Oz extends kN{digest({algorithm:t,data:n}){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===t)return yield nF.digest({data:n})})}},names:["SHA-256"]}};class BN{constructor(t){var n;this._algorithmInstances=new Map,this._keyStore=null!==(n=t?.keyStore)&&void 0!==n?n:new Hw}digest({algorithm:t,data:n}){return wy(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:t}).digest({algorithm:t,data:n})})}exportKey({keyUri:t}){return wy(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:t})})}generateKey({algorithm:t}){return wy(this,void 0,void 0,function*(){const i=yield this.getAlgorithm({algorithm:t}).generateKey({algorithm:t});if(void 0===i?.kid)throw new Error("Generated key is missing a required property: kid");const o=`${rF}${i.kid}`;return yield this._keyStore.set(o,i),o})}getKeyUri({key:t}){return wy(this,void 0,void 0,function*(){const n=yield na({jwk:t});return`${rF}${n}`})}getPublicKey({keyUri:t}){return wy(this,void 0,void 0,function*(){const n=yield this.getPrivateKey({keyUri:t}),i=this.getAlgorithmName({key:n});return yield this.getAlgorithm({algorithm:i}).getPublicKey({key:n})})}importKey({key:t}){var n;return wy(this,void 0,void 0,function*(){if(!function Lz(r){if(!r||"object"!=typeof r)return!1;switch(r.kty){case"EC":case"OKP":case"RSA":return"d"in r;case"oct":return"k"in r;default:return!1}}(t))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const i=structuredClone(t);null!==(n=i.kid)&&void 0!==n||(i.kid=yield na({jwk:i}));const o=yield this.getKeyUri({key:i});return yield this._keyStore.set(o,i),o})}sign({keyUri:t,data:n}){return wy(this,void 0,void 0,function*(){const i=yield this.getPrivateKey({keyUri:t}),o=this.getAlgorithmName({key:i});return this.getAlgorithm({algorithm:o}).sign({data:n,key:i})})}verify({key:t,signature:n,data:i}){return wy(this,void 0,void 0,function*(){const o=this.getAlgorithmName({key:t});return this.getAlgorithm({algorithm:o}).verify({key:t,signature:n,data:i})})}getAlgorithm({algorithm:t}){var n;const i=null===(n=ON[t])||void 0===n?void 0:n.implementation;if(!i)throw new Error(`Algorithm not supported: ${t}`);return this._algorithmInstances.has(i)||this._algorithmInstances.set(i,new i),this._algorithmInstances.get(i)}getAlgorithmName({key:t}){const n=t.alg,i=t.crv;for(const o in ON){const c=ON[o];if(n&&c.names.includes(n))return o;if(i&&c.names.includes(i))return o}throw new Error(`Unable to determine algorithm based on provided input: alg=${n}, crv=${i}`)}getPrivateKey({keyUri:t}){return wy(this,void 0,void 0,function*(){const n=yield this._keyStore.get(t);if(!n)throw new Error(`Key not found: ${t}`);return n})}}function $z(r){const t={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(r.alg&&Object.values(t).includes(r.alg))return r.alg;if(r.crv&&Object.keys(t).includes(r.crv))return t[r.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${r.alg}, crv=${r.crv}. Supported 'alg' values: ${Object.values(t).join(", ")}. Supported 'crv' values: ${Object.keys(t).join(", ")}.`)}var kv=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class ex{static bytesToPrivateKey({privateKeyBytes:t}){return kv(this,void 0,void 0,function*(){const n=co.TU.getPublicKey(t),i={kty:"OKP",crv:"X25519",d:mn.uint8Array(t).toBase64Url(),x:mn.uint8Array(n).toBase64Url()};return i.kid=yield na({jwk:i}),i})}static bytesToPublicKey({publicKeyBytes:t}){return kv(this,void 0,void 0,function*(){const n={kty:"OKP",crv:"X25519",x:mn.uint8Array(t).toBase64Url()};return n.kid=yield na({jwk:n}),n})}static computePublicKey({key:t}){return kv(this,void 0,void 0,function*(){const n=yield ex.privateKeyToBytes({privateKey:t}),i=co.TU.getPublicKey(n),o={kty:"OKP",crv:"X25519",x:mn.uint8Array(i).toBase64Url()};return o.kid=yield na({jwk:o}),o})}static generateKey(){return kv(this,void 0,void 0,function*(){const t=co.TU.utils.randomPrivateKey(),n=yield ex.bytesToPrivateKey({privateKeyBytes:t});return n.kid=yield na({jwk:n}),n})}static getPublicKey({key:t}){var n;return kv(this,void 0,void 0,function*(){if(!C_(t)||"X25519"!==t.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let o=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n}(t,["d"]);return null!==(n=o.kid)&&void 0!==n||(o.kid=yield na({jwk:o})),o})}static privateKeyToBytes({privateKey:t}){return kv(this,void 0,void 0,function*(){if(!C_(t))throw new Error("X25519: The provided key is not a valid OKP private key.");return mn.base64Url(t.d).toUint8Array()})}static publicKeyToBytes({publicKey:t}){return kv(this,void 0,void 0,function*(){if(!RN(t))throw new Error("X25519: The provided key is not a valid OKP public key.");return mn.base64Url(t.x).toUint8Array()})}static sharedSecret({privateKeyA:t,publicKeyB:n}){return kv(this,void 0,void 0,function*(){if("x"in t&&"x"in n&&t.x===n.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const i=yield ex.privateKeyToBytes({privateKey:t}),o=yield ex.publicKeyToBytes({publicKey:n});return co.TU.getSharedSecret(i,o)})}}function Pp(r){if("string"==typeof r&&0!==r.length)return r.split("#").pop()}function KN(r){return!(!r||"object"!=typeof r||null===r||!("id"in r&&"type"in r&&"controller"in r)||"string"!=typeof r.id||"string"!=typeof r.type||"string"!=typeof r.controller)}var nI=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class I8{constructor({uri:t,document:n,metadata:i,keyManager:o}){this.uri=t,this.document=n,this.metadata=i,this.keyManager=o}export(){return nI(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let t={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const n=[];for(let i of this.document.verificationMethod){if(!i.publicKeyJwk)throw new Error(`Verification method '${i.id}' does not contain a public key in JWK format`);const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.exportKey({keyUri:o});n.push(Object.assign({},c))}t.privateKeys=n}return t})}getSigner(t){return nI(this,void 0,void 0,function*(){var n;const i=null===(n=this.document.verificationMethod)||void 0===n?void 0:n.find(B=>{var C,b;return Pp(B.id)===(null!==(C=Pp(t?.methodId))&&void 0!==C?C:Pp(null===(b=this.document.assertionMethod)||void 0===b?void 0:b[0]))});if(!i||!i.publicKeyJwk)throw new aa(ta.InternalError,"A verification method intended for signing could not be determined from the DID Document");const o=yield this.keyManager.getKeyUri({key:i.publicKeyJwk}),c=yield this.keyManager.getPublicKey({keyUri:o}),s=this.keyManager;return{algorithm:$z(c),keyId:i.id,sign(B){return nI(this,arguments,void 0,function*({data:C}){return yield s.sign({data:C,keyUri:o})})},verify(B){return nI(this,arguments,void 0,function*({data:C,signature:b}){return yield s.verify({data:C,key:c,signature:b})})}}})}static import(t){return nI(this,arguments,void 0,function*({portableDid:n,keyManager:i=new BN}){var o;const c=function jN({didDocument:r}){var t,n;if(!r)throw new TypeError("Required parameter missing: 'didDocument'");const i=[];return i.push(...null!==(n=null===(t=r.verificationMethod)||void 0===t?void 0:t.filter(KN))&&void 0!==n?n:[]),Object.keys(CN).forEach(o=>{var c,s;i.push(...null!==(s=null===(c=r[o])||void 0===c?void 0:c.filter(KN))&&void 0!==s?s:[])}),i}({didDocument:n.document});if(0===c.length)throw new aa(ta.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let d of null!==(o=n.privateKeys)&&void 0!==o?o:[])yield i.importKey({key:d});for(let d of c){if(!d.publicKeyJwk)throw new Error(`Verification method '${d.id}' does not contain a public key in JWK format`);const B=yield i.getKeyUri({key:d.publicKeyJwk});yield i.getPublicKey({keyUri:B})}return new I8({uri:n.uri,document:n.document,metadata:n.metadata,keyManager:i})})}}var aF=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};class cF{static getSigningMethod(t){return aF(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(t,n){return aF(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Jl=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})},lF=function(r,t){var n={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(r);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(n[i[o]]=r[i[o]])}return n};const dF="https://diddht.tbddev.org",Pv=7200,Cu=",";var uF=function(r){return r[r.Discoverable=0]="Discoverable",r[r.Organization=1]="Organization",r[r.Government=2]="Government",r[r.Corporation=3]="Corporation",r[r.LocalBusiness=4]="LocalBusiness",r[r.SoftwarePackage=5]="SoftwarePackage",r[r.WebApp=6]="WebApp",r[r.FinancialInstitution=7]="FinancialInstitution",r}(uF||{}),cf=function(r){return r[r.Ed25519=0]="Ed25519",r[r.secp256k1=1]="secp256k1",r[r.secp256r1=2]="secp256r1",r[r.X25519=3]="X25519",r}(cf||{}),fF=function(r){return r.authentication="auth",r.assertionMethod="asm",r.capabilityDelegation="del",r.capabilityInvocation="inv",r.keyAgreement="agm",r}(fF||{});const hF={Ed25519:cf.Ed25519,ES256K:cf.secp256k1,ES256:cf.secp256r1,"P-256":cf.secp256r1,secp256k1:cf.secp256k1,secp256r1:cf.secp256r1,X25519:cf.X25519},pF={[cf.Ed25519]:"Ed25519",[cf.secp256k1]:"ES256K",[cf.secp256r1]:"ES256",[cf.X25519]:"ECDH-ES+A256KW"};let $N=(()=>{class r extends cF{static create(){return Jl(this,arguments,void 0,function*({keyManager:n=new BN,options:i={}}={}){var o,c,s,d,B,C,b,K,_e,Ce,Te;if(null!==(o=i.verificationMethods)&&void 0!==o&&o.some(pt=>!(pt.algorithm in hF)))throw new Error("One or more verification method algorithms are not supported");const Pe=null===(c=i.verificationMethods)||void 0===c?void 0:c.filter(pt=>"id"in pt).map(pt=>pt.id);if(Pe&&Pe.length!==new Set(Pe).size)throw new Error("One or more verification method IDs are not unique");if(null!==(s=i.services)&&void 0!==s&&s.some(pt=>!pt.id||!pt.type||!pt.serviceEndpoint))throw new Error("One or more services are missing required properties");const ze=yield n.generateKey({algorithm:"Ed25519"}),rt=yield n.getPublicKey({keyUri:ze}),Xe=yield il.identityKeyToIdentifier({identityKey:rt}),Ze=Object.assign(Object.assign({id:Xe},i.alsoKnownAs&&{alsoKnownAs:i.alsoKnownAs}),i.controllers&&{controller:i.controllers}),lt=[...null!==(d=i.verificationMethods)&&void 0!==d?d:[]];lt?.some(pt=>{var Mt;return"0"===(null===(Mt=pt.id)||void 0===Mt?void 0:Mt.split("#").pop())})||lt.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const pt of lt){const Mt=pt.id&&"0"===pt.id.split("#").pop()?ze:yield n.generateKey({algorithm:pt.algorithm}),Pt=yield n.getPublicKey({keyUri:Mt});let sn=null!==(C=null!==(B=pt.id)&&void 0!==B?B:Pt.kid)&&void 0!==C?C:yield na({jwk:Pt});sn=`${Xe}#${Pp(sn)}`,null!==(b=Ze.verificationMethod)&&void 0!==b||(Ze.verificationMethod=[]),Ze.verificationMethod.push({id:sn,type:"JsonWebKey",controller:null!==(K=pt.controller)&&void 0!==K?K:Xe,publicKeyJwk:Pt});for(const an of null!==(_e=pt.purposes)&&void 0!==_e?_e:[])Ze[an]||(Ze[an]=[]),Ze[an].push(sn)}null===(Ce=i.services)||void 0===Ce||Ce.forEach(pt=>{var Mt;null!==(Mt=Ze.service)&&void 0!==Mt||(Ze.service=[]),pt.id=`${Xe}#${pt.id.split("#").pop()}`,Ze.service.push(pt)});const Et=new I8({uri:Xe,document:Ze,metadata:Object.assign({published:!1},i.types&&{types:i.types}),keyManager:n});if(null===(Te=i.publish)||void 0===Te||Te){const pt=yield r.publish({did:Et,gatewayUri:i.gatewayUri});Et.metadata=pt.didDocumentMetadata}return Et})}static import(n){return Jl(this,arguments,void 0,function*({portableDid:i,keyManager:o=new BN}){var c;const s=Oa.parse(i.uri);if(s?.method!==r.methodName)throw new aa(ta.MethodNotSupported,"Method not supported");const d=yield I8.import({portableDid:i,keyManager:o});if(null===(c=d.document.verificationMethod)||void 0===c||!c.some(B=>{var C;return"0"===(null===(C=B.id)||void 0===C?void 0:C.split("#").pop())}))throw new aa(ta.InvalidDidDocument,"DID document must contain an Identity Key");return d})}static getSigningMethod(n){return Jl(this,arguments,void 0,function*({didDocument:i,methodId:o="#0"}){var c;const s=Oa.parse(i.id);if(s&&s.method!==this.methodName)throw new aa(ta.MethodNotSupported,`Method not supported: ${s.method}`);const d=null===(c=i.verificationMethod)||void 0===c?void 0:c.find(B=>{var C,b;return Pp(B.id)===(null!==(C=Pp(o))&&void 0!==C?C:Pp(null===(b=i.assertionMethod)||void 0===b?void 0:b[0]))});if(!d||!d.publicKeyJwk)throw new aa(ta.InternalError,"A verification method intended for signing could not be determined from the DID Document");return d})}static publish(n){return Jl(this,arguments,void 0,function*({did:i,gatewayUri:o=dF}){return yield _y.put({did:i,gatewayUri:o})})}static resolve(n){return Jl(this,arguments,void 0,function*(i,o={}){var c;const s=null!==(c=o?.gatewayUri)&&void 0!==c?c:dF;try{yield il.identifierToIdentityKey({didUri:i});const{didDocument:d,didDocumentMetadata:B}=yield _y.get({didUri:i,gatewayUri:s});return Object.assign(Object.assign({},Cv),{didDocument:d,didDocumentMetadata:B})}catch(d){if(!(d instanceof aa))throw new Error(d);return Object.assign(Object.assign({},Cv),{didResolutionMetadata:Object.assign({error:d.code},d.message&&{errorMessage:d.message})})}})}}return r.methodName="dht",r})();class _y{static get(t){return Jl(this,arguments,void 0,function*({didUri:n,gatewayUri:i}){const o=il.identifierToIdentityKeyBytes({didUri:n}),c=yield _y.pkarrGet({gatewayUri:i,publicKeyBytes:o}),s=yield il.parseBep44GetMessage({bep44Message:c}),d=yield _y.fromDnsPacket({didUri:n,dnsPacket:s});return d.didDocumentMetadata.versionId=c.seq.toString(),d})}static put(t){return Jl(this,arguments,void 0,function*({did:n,gatewayUri:i}){const o=yield _y.toDnsPacket({didDocument:n.document,didMetadata:n.metadata,authoritativeGatewayUris:[i]}),c=yield il.createBep44PutMessage({dnsPacket:o,publicKeyBytes:il.identifierToIdentityKeyBytes({didUri:n.uri}),signer:yield n.getSigner({methodId:"0"})}),s=yield _y.pkarrPut({gatewayUri:i,bep44Message:c});return{didDocument:n.document,didDocumentMetadata:Object.assign(Object.assign({},n.metadata),{published:s,versionId:c.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(t){return Jl(this,arguments,void 0,function*({gatewayUri:n,publicKeyBytes:i}){const o=mn.uint8Array(i).toBase32Z(),c=new URL(o,n).href;let s;try{if(s=yield fetch(c,{method:"GET"}),!s.ok)throw new aa(ta.NotFound,`Pkarr record not found for: ${o}`)}catch(C){throw C instanceof aa?C:new aa(ta.InternalError,`Failed to fetch Pkarr record: ${C.message}`)}const d=yield s.arrayBuffer();if(!d)throw new aa(ta.NotFound,`Pkarr record not found for: ${o}`);if(d.byteLength<72)throw new aa(ta.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${d.byteLength}`);if(d.byteLength>1072)throw new aa(ta.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${d.byteLength}`);return{k:i,seq:Number(new DataView(d).getBigUint64(64)),sig:new Uint8Array(d,0,64),v:new Uint8Array(d,72)}})}static pkarrPut(t){return Jl(this,arguments,void 0,function*({gatewayUri:n,bep44Message:i}){const o=mn.uint8Array(i.k).toBase32Z(),c=new URL(o,n).href,s=new Uint8Array(i.v.length+72);let d;s.set(i.sig,0),new DataView(s.buffer).setBigUint64(i.sig.length,BigInt(i.seq)),s.set(i.v,i.sig.length+8);try{d=yield fetch(c,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:s})}catch(B){throw new aa(ta.InternalError,`Failed to put Pkarr record for identifier ${o}: ${B.message}`)}return d.ok})}static fromDnsPacket(t){return Jl(this,arguments,void 0,function*({didUri:n,dnsPacket:i}){var o,c,s;const d={id:n},B={published:!0},C=new Map;for(const b of null!==(o=i?.answers)&&void 0!==o?o:[]){if("TXT"!==b.type)continue;const K=b.name.split(".")[0].substring(1);switch(!0){case K.startsWith("aka"):{const _e=il.parseTxtDataToString(b.data);d.alsoKnownAs=_e.split(Cu);break}case K.startsWith("cnt"):{const _e=il.parseTxtDataToString(b.data);d.controller=_e.includes(Cu)?_e.split(Cu):_e;break}case K.startsWith("k"):{const{id:_e,t:Ce,k:Te,c:Pe,a:ze}=il.parseTxtDataToObject(b.data),rt=mn.base64Url(Te).toUint8Array(),Xe=cf[Number(Ce)];let Ze=yield il.keyConverter(Xe).bytesToPublicKey({publicKeyBytes:rt});Ze.alg=ze||pF[Number(Ce)];const lt="k0"===K?"0":void 0!==_e?_e:yield na({jwk:Ze});null!==(c=d.verificationMethod)&&void 0!==c||(d.verificationMethod=[]);const Et=`${n}#${lt}`;d.verificationMethod.push({id:Et,type:"JsonWebKey",controller:Pe??n,publicKeyJwk:Ze}),C.set(K,Et);break}case K.startsWith("s"):{const _e=il.parseTxtDataToObject(b.data),{id:Ce,t:Te,se:Pe}=_e,ze=lF(_e,["id","t","se"]),rt=Pe.includes(Cu)?Pe.split(Cu):[Pe],Xe=Object.fromEntries(Object.entries(ze).map(([Ze,lt])=>[Ze,lt.includes(Cu)?lt.split(Cu):lt]));null!==(s=d.service)&&void 0!==s||(d.service=[]),d.service.push(Object.assign(Object.assign({},Xe),{id:`${n}#${Ce}`,type:Te,serviceEndpoint:rt}));break}case K.startsWith("typ"):{const{id:_e}=il.parseTxtDataToObject(b.data);B.types=_e.split(Cu).map(Ce=>Number(Ce));break}case K.startsWith("did"):{const _e=Xe=>Xe.split(Cu).map(Ze=>C.get(Ze)).filter(Ze=>"string"==typeof Ze),{auth:Ce,asm:Te,del:Pe,inv:ze,agm:rt}=il.parseTxtDataToObject(b.data);Ce&&(d.authentication=_e(Ce)),Te&&(d.assertionMethod=_e(Te)),Pe&&(d.capabilityDelegation=_e(Pe)),ze&&(d.capabilityInvocation=_e(ze)),rt&&(d.keyAgreement=_e(rt));break}}}return{didDocument:d,didDocumentMetadata:B,didResolutionMetadata:{}}})}static toDnsPacket(t){return Jl(this,arguments,void 0,function*({didDocument:n,didMetadata:i,authoritativeGatewayUris:o,previousDidProof:c}){var s,d,B,C,b;const K=[],_e=[],Ce=new Map,Te=[],Pe=[];if(void 0!==c){const{signature:Xe,previousDid:Ze}=c;yield il.validatePreviousDidProof({newDid:n.id,previousDidProof:c}),K.push({type:"TXT",name:"_prv._did.",ttl:Pv,data:`id=${Ze};s=${Xe}`})}if(n.alsoKnownAs&&K.push({type:"TXT",name:"_aka._did.",ttl:Pv,data:n.alsoKnownAs.join(Cu)}),n.controller){const Xe=Array.isArray(n.controller)?n.controller.join(Cu):n.controller;K.push({type:"TXT",name:"_cnt._did.",ttl:Pv,data:Xe})}for(const[Xe,Ze]of null!==(d=null===(s=n.verificationMethod)||void 0===s?void 0:s.entries())&&void 0!==d?d:[]){const lt=`k${Xe}`;Pe.push(lt);let Et=Ze.id.split("#").pop();Ce.set(Et,lt);const pt=Ze.publicKeyJwk;if(!pt?.crv||!(pt.crv in hF))throw new aa(ta.InvalidPublicKeyType,`Verification method '${Ze.id}' contains an unsupported key type: ${null!==(B=pt?.crv)&&void 0!==B?B:"undefined"}`);const Mt=cf[pt.crv],Pt=yield il.keyConverter(pt.crv).publicKeyToBytes({publicKey:pt}),an=[`t=${Mt}`,`k=${mn.uint8Array(Pt).toBase64Url()}`];"0"!==Et&&(yield na({jwk:pt}))!==Et&&an.unshift(`id=${Et}`),pt.alg!==pF[Mt]&&an.push(`a=${pt.alg}`),Ze.controller!==n.id&&an.push(`c=${Ze.controller}`),K.push({type:"TXT",name:`_${lt}._did.`,ttl:Pv,data:an.join(";")})}null===(C=n.service)||void 0===C||C.forEach((Xe,Ze)=>{const lt=`s${Ze}`;Te.push(lt);let{id:Et,type:pt,serviceEndpoint:Mt}=Xe,Pt=lF(Xe,["id","type","serviceEndpoint"]);Et=Pp(Et),Mt=Array.isArray(Mt)?Mt.join(","):Mt;const an=Object.entries(Object.assign({id:Et,t:pt,se:Mt},Pt)).map(([$n,wn])=>`${$n}=${wn}`).join(";"),_n=il.chunkDataIfNeeded(an);K.push({type:"TXT",name:`_${lt}._did.`,ttl:Pv,data:_n})});const ze=["v=0"];if(Pe.length&&ze.push(`vm=${Pe.join(Cu)}`),Object.keys(CN).forEach(Xe=>{var Ze;const lt=null===(Ze=n[Xe])||void 0===Ze?void 0:Ze.map(Et=>Ce.get(Et.split("#").pop()));lt&&ze.push(`${fF[Xe]}=${lt.join(Cu)}`)}),Te.length&&ze.push(`svc=${Te.join(Cu)}`),null!==(b=i.types)&&void 0!==b&&b.length){const Ze=i.types.map(lt=>"string"==typeof lt?uF[lt]:lt);K.push({type:"TXT",name:"_typ._did.",ttl:Pv,data:`id=${Ze.join(Cu)}`})}K.push({type:"TXT",name:"_did."+_y.getUniqueDidSuffix(n.id)+".",ttl:Pv,data:ze.join(";")});for(const Xe of o||[])_e.push({type:"NS",name:"_did."+_y.getUniqueDidSuffix(n.id)+".",ttl:Pv,data:Xe+"."});return{id:0,type:"response",flags:Sh.hB,answers:[...K,..._e]}})}static getUniqueDidSuffix(t){return t.split(":")[2]}}class il{static createBep44PutMessage(t){return Jl(this,arguments,void 0,function*({dnsPacket:n,publicKeyBytes:i,signer:o}){const c=Math.ceil(Date.now()/1e3),s=(0,Sh.lF)(n),d=uv.A.encode({seq:c,v:s}).subarray(1,-1);if(d.length>1e3)throw new aa(ta.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${d.length} bytes`);return{k:i,seq:c,sig:yield o.sign({data:d}),v:s}})}static identifierToIdentityKey(t){return Jl(this,arguments,void 0,function*({didUri:n}){let i=il.identifierToIdentityKeyBytes({didUri:n});return yield xl.bytesToPublicKey({publicKeyBytes:i})})}static identifierToIdentityKeyBytes({didUri:t}){const n=Oa.parse(t);if(!n)throw new aa(ta.InvalidDid,`Invalid DID URI: ${t}`);if(n.method!==$N.methodName)throw new aa(ta.MethodNotSupported,`Method not supported: ${n.method}`);let i;try{i=mn.base32Z(n.id).toUint8Array()}catch{throw new aa(ta.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==i.length)throw new aa(ta.InvalidPublicKeyLength,`Invalid public key length: ${i.length}`);return i}static identityKeyToIdentifier(t){return Jl(this,arguments,void 0,function*({identityKey:n}){const i=yield xl.publicKeyToBytes({publicKey:n}),o=mn.uint8Array(i).toBase32Z();return`did:${$N.methodName}:${o}`})}static keyConverter(t){const i={Ed25519:xl,"P-256":{publicKeyToBytes:o=>Jl(this,[o],void 0,function*({publicKey:c}){const s=yield rl.publicKeyToBytes({publicKey:c});return yield rl.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:rl.bytesToPublicKey,privateKeyToBytes:rl.privateKeyToBytes,bytesToPrivateKey:rl.bytesToPrivateKey},secp256k1:{publicKeyToBytes:o=>Jl(this,[o],void 0,function*({publicKey:c}){const s=yield nl.publicKeyToBytes({publicKey:c});return yield nl.compressPublicKey({publicKeyBytes:s})}),bytesToPublicKey:nl.bytesToPublicKey,privateKeyToBytes:nl.privateKeyToBytes,bytesToPrivateKey:nl.bytesToPrivateKey},X25519:ex}[t];if(!i)throw new aa(ta.InvalidPublicKeyType,`Unsupported curve: ${t}`);return i}static parseBep44GetMessage(t){return Jl(this,arguments,void 0,function*({bep44Message:n}){const i=yield xl.bytesToPublicKey({publicKeyBytes:n.k}),o=uv.A.encode({seq:n.seq,v:n.v}).subarray(1,-1);if(!(yield xl.verify({key:i,signature:n.sig,data:o})))throw new aa(ta.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,Sh.D4)(n.v)})}static parseTxtDataToObject(t){return this.parseTxtDataToString(t).split(";").reduce((n,i)=>{const[o,c]=i.split("=");return n[o]=c,n},{})}static parseTxtDataToString(t){if("string"==typeof t)return t;if(t instanceof Uint8Array)return mn.uint8Array(t).toString();if(Array.isArray(t))return t.map(n=>this.parseTxtDataToString(n)).join("");throw new aa(ta.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(t){return Jl(this,arguments,void 0,function*({newDid:n,previousDidProof:i}){const o=yield il.identifierToIdentityKey({didUri:i.previousDid}),c=il.identifierToIdentityKeyBytes({didUri:n}),s=mn.base64Url(i.signature).toUint8Array();if(!(yield xl.verify({key:o,data:c,signature:s})))throw new aa(ta.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(t){if(t.length<=255)return t;const n=[];for(let i=0;i<t.length;i+=255)n.push(t.slice(i,i+255));return n}}let eH=(()=>{class r extends cF{static resolve(n,i){return function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})}(this,void 0,void 0,function*(){const o=Oa.parse(n);if(!o)return Object.assign(Object.assign({},Cv),{didResolutionMetadata:{error:"invalidDid"}});if(o.method!==r.methodName)return Object.assign(Object.assign({},Cv),{didResolutionMetadata:{error:"methodNotSupported"}});let c=`https://${o.id.replace(/:/g,"/")}`;c=decodeURIComponent(c);const s=o.id.includes(":")?`${c}/did.json`:`${c}/.well-known/did.json`;try{const d=yield fetch(s);if(!d.ok)throw new Error("HTTP error status code returned");const B=yield d.json();return Object.assign(Object.assign({},Cv),{didDocument:B})}catch{return Object.assign(Object.assign({},Cv),{didResolutionMetadata:{error:"notFound"}})}})}}return r.methodName="web",r})();E(44514),E(1424);const nH={get:function(r){return null},set:function(r,t){return null},delete:function(r){return null},clear:function(){return null},close:function(){return null}};var mF=function(r,t,n,i){return new(n||(n=Promise))(function(c,s){function d(b){try{C(i.next(b))}catch(K){s(K)}}function B(b){try{C(i.throw(b))}catch(K){s(K)}}function C(b){b.done?c(b.value):function o(c){return c instanceof n?c:new n(function(s){s(c)})}(b.value).then(d,B)}C((i=i.apply(r,t||[])).next())})};new class rH{constructor({cache:t,didResolvers:n}){this.didResolvers=new Map,this.cache=t||nH;for(const i of n)this.didResolvers.set(i.methodName,i)}resolve(t,n){return mF(this,void 0,void 0,function*(){const i=Oa.parse(t);if(!i)return Object.assign(Object.assign({},Cv),{didResolutionMetadata:{error:ta.InvalidDid,errorMessage:`Invalid DID URI: ${t}`}});const o=this.didResolvers.get(i.method);if(!o)return Object.assign(Object.assign({},Cv),{didResolutionMetadata:{error:ta.MethodNotSupported,errorMessage:`Method not supported: ${i.method}`}});const c=yield this.cache.get(i.uri);if(c)return c;{const s=yield o.resolve(i.uri,n);return s.didResolutionMetadata.error||(yield this.cache.set(i.uri,s)),s}})}dereference(t,n){return mF(this,void 0,void 0,function*(){const i=Oa.parse(t);if(!i)return{dereferencingMetadata:{error:ta.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:o,didResolutionMetadata:c,didDocumentMetadata:s}=yield this.resolve(i.uri);if(!o)return{dereferencingMetadata:{error:c.error},contentStream:null,contentMetadata:{}};if(!i.fragment||i.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:o,contentMetadata:s};const{service:d=[],verificationMethod:B=[]}=o,C=new Set([t,i.fragment,`#${i.fragment}`]);let b;for(let K of B)if(C.has(K.id)){b=K;break}for(let K of d)if(C.has(K.id)){b=K;break}return b?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:b,contentMetadata:c}:{dereferencingMetadata:{error:ta.NotFound},contentStream:null,contentMetadata:{}}})}}({didResolvers:[$N,eH]})},2198:(Le,z,E)=>{"use strict";E.d(z,{A:()=>fe});const m="0123456789abcdef",x=[],R=[];for(let ee=0;ee<256;ee++)x[ee]=m[ee>>4&15]+m[15&ee],ee<16&&(ee<10?R[48+ee]=ee:R[87+ee]=ee);const W=ee=>{const ie=ee.length;let ue="",be=0;for(;be<ie;)ue+=x[ee[be++]];return ue};for(var $=typeof Uint8Array>"u"?[]:new Uint8Array(256),F=0;F<64;F++)$["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(F)]=F;const V=new TextDecoder,Z=(ee,ie)=>ie?new TextDecoder(ie).decode(ee):V.decode(ee),re=new TextEncoder,te=ee=>re.encode(ee);function u(ee){const ie=ee<0?1:0;return ee=Math.abs(Number(ee||1)),Math.floor(Math.log10(ee))+1+ie}function h(ee){return ArrayBuffer.isView(ee)?"arraybufferview":Array.isArray(ee)?"array":ee instanceof Number?"number":ee instanceof Boolean?"boolean":ee instanceof Set?"set":ee instanceof Map?"map":ee instanceof String?"string":ee instanceof ArrayBuffer?"arraybuffer":typeof ee}function y(ee,ie,ue){const be=[];let Ie=null;return y._encode(be,ee),Ie=((ee,ie=0)=>{const ue=ee.length||0;if(!ie){let Be=ue;for(;Be--;)ie+=ee[Be].length}const be=new Uint8Array(ie);let Ie=ie,Ne=ue;for(;Ne--;)Ie-=ee[Ne].length,be.set(ee[Ne],Ie);return be})(be),y.bytes=Ie.length,ArrayBuffer.isView(ie)?(ie.set(Ie,ue),ie):Ie}typeof window<"u"?window:self,y.bytes=-1,y._floatConversionDetected=!1,y._encode=function(ee,ie){if(null!=ie)switch(h(ie)){case"object":y.dict(ee,ie);break;case"map":y.dictMap(ee,ie);break;case"array":y.list(ee,ie);break;case"set":y.listSet(ee,ie);break;case"string":y.string(ee,ie);break;case"number":case"boolean":y.number(ee,ie);break;case"arraybufferview":y.buffer(ee,new Uint8Array(ie.buffer,ie.byteOffset,ie.byteLength));break;case"arraybuffer":y.buffer(ee,new Uint8Array(ie))}};const w=new Uint8Array([101]),T=new Uint8Array([100]),D=new Uint8Array([108]);y.buffer=function(ee,ie){ee.push(te(ie.length+":"),ie)},y.string=function(ee,ie){ee.push(te(te(ie).byteLength+":"+ie))},y.number=function(ee,ie){if(Number.isInteger(ie))return ee.push(te("i"+BigInt(ie)+"e"));const ue=2147483648,Ne=(ie/ue|0)*ue+(ie%ue|0);ee.push(te("i"+Ne+"e")),Ne!==ie&&!y._floatConversionDetected&&(y._floatConversionDetected=!0,console.warn('WARNING: Possible data corruption detected with value "'+ie+'":','Bencoding only defines support for integers, value was converted to "'+Ne+'"'),console.trace())},y.dict=function(ee,ie){ee.push(T);let be,ue=0;const Ie=Object.keys(ie).sort(),Ne=Ie.length;for(;ue<Ne;ue++)be=Ie[ue],null!=ie[be]&&(y.string(ee,be),y._encode(ee,ie[be]));ee.push(w)},y.dictMap=function(ee,ie){ee.push(T);const ue=Array.from(ie.keys()).sort();for(const be of ue)null!=ie.get(be)&&(ArrayBuffer.isView(be)?y._encode(ee,be):y.string(ee,String(be)),y._encode(ee,ie.get(be)));ee.push(w)},y.list=function(ee,ie){let ue=0;const be=ie.length;for(ee.push(D);ue<be;ue++)null!=ie[ue]&&y._encode(ee,ie[ue]);ee.push(w)},y.listSet=function(ee,ie){ee.push(D);for(const ue of ie)null!=ue&&y._encode(ee,ue);ee.push(w)};const j=y;function ne(ee,ie,ue){let be=0,Ie=1;for(let Ne=ie;Ne<ue;Ne++){const Be=ee[Ne];if(Be<58&&Be>=48)be=10*be+(Be-48);else if(Ne!==ie||43!==Be){if(Ne===ie&&45===Be){Ie=-1;continue}if(46===Be)break;throw new Error("not a number: buffer["+Ne+"] = "+Be)}}return be*Ie}function ce(ee,ie,ue,be){return null==ee||0===ee.length?null:("number"!=typeof ie&&null==be&&(be=ie,ie=void 0),"number"!=typeof ue&&null==be&&(be=ue,ue=void 0),ce.position=0,ce.encoding=be||null,ce.data=ArrayBuffer.isView(ee)?new Uint8Array(ee.slice(ie,ue)):te(ee),ce.bytes=ce.data.length,ce.next())}function ye(ee){if(null==ee)return 0;const ue=h(ee);switch(ue){case"arraybufferview":return function Oe(ee){const ie=ee.byteLength-ee.byteOffset;return u(ie)+1+ie}(ee);case"string":return function ge(ee){const ie=te(ee).byteLength;return u(ie)+1+ie}(ee);case"array":case"set":return function ke(ee){let ie=2;for(const ue of ee)ie+=ye(ue);return ie}(ee);case"number":return 1+u(Math.floor(ee))+1;case"bigint":return 1+ee.toString().length+1;case"object":return function Ee(ee){let ie=2;const ue=Object.keys(ee);for(let be=0;be<ue.length;be++){const Ie=te(ue[be]).byteLength;ie+=u(Ie)+1+Ie,ie+=ye(ee[ue[be]])}return ie}(ee);case"map":return function Fe(ee){let ie=2;for(const[ue,be]of ee){const Ie=te(ue).byteLength;ie+=u(Ie)+1+Ie,ie+=ye(be)}return ie}(ee);default:throw new TypeError(`Unsupported value of type "${ue}"`)}}ce.bytes=0,ce.position=0,ce.data=null,ce.encoding=null,ce.next=function(){switch(ce.data[ce.position]){case 100:return ce.dictionary();case 108:return ce.list();case 105:return ce.integer();default:return ce.buffer()}},ce.find=function(ee){let ie=ce.position;const ue=ce.data.length,be=ce.data;for(;ie<ue;){if(be[ie]===ee)return ie;ie++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(ee)+'" [0x'+ee.toString(16)+"]")},ce.dictionary=function(){ce.position++;const ee={};for(;101!==ce.data[ce.position];){const ie=ce.buffer();let ue=Z(ie);ue.includes("\ufffd")&&(ue=W(ie)),ee[ue]=ce.next()}return ce.position++,ee},ce.list=function(){ce.position++;const ee=[];for(;101!==ce.data[ce.position];)ee.push(ce.next());return ce.position++,ee},ce.integer=function(){const ee=ce.find(101),ie=ne(ce.data,ce.position+1,ee);return ce.position+=ee+1-ce.position,ie},ce.buffer=function(){let ee=ce.find(58);const ie=ne(ce.data,ce.position,ee),ue=++ee+ie;return ce.position=ue,ce.encoding?Z(ce.data.slice(ee,ue)):ce.data.slice(ee,ue)};const fe={encode:j,decode:ce,byteLength:ye,encodingLength:ye}},10467:(Le,z,E)=>{"use strict";function m(R,W,S,L,M,N,$){try{var F=R[N]($),I=F.value}catch(X){return void S(X)}F.done?W(I):Promise.resolve(I).then(L,M)}function x(R){return function(){var W=this,S=arguments;return new Promise(function(L,M){var N=R.apply(W,S);function $(I){m(N,L,M,$,F,"next",I)}function F(I){m(N,L,M,$,F,"throw",I)}$(void 0)})}}E.d(z,{A:()=>x})},31635:(Le,z,E)=>{"use strict";function X(l,g,G,H){return new(G||(G=Promise))(function(ce,Ae){function ke(ge){try{Ee(H.next(ge))}catch(Oe){Ae(Oe)}}function Fe(ge){try{Ee(H.throw(ge))}catch(Oe){Ae(Oe)}}function Ee(ge){ge.done?ce(ge.value):function ne(ce){return ce instanceof G?ce:new G(function(Ae){Ae(ce)})}(ge.value).then(ke,Fe)}Ee((H=H.apply(l,g||[])).next())})}function ae(l){return this instanceof ae?(this.v=l,this):new ae(l)}function pe(l,g,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ne,H=G.apply(l,g||[]),ce=[];return ne={},ke("next"),ke("throw"),ke("return",function Ae(Se){return function(he){return Promise.resolve(he).then(Se,Oe)}}),ne[Symbol.asyncIterator]=function(){return this},ne;function ke(Se,he){H[Se]&&(ne[Se]=function(fe){return new Promise(function(ee,ie){ce.push([Se,fe,ee,ie])>1||Fe(Se,fe)})},he&&(ne[Se]=he(ne[Se])))}function Fe(Se,he){try{!function Ee(Se){Se.value instanceof ae?Promise.resolve(Se.value.v).then(ge,Oe):ye(ce[0][2],Se)}(H[Se](he))}catch(fe){ye(ce[0][3],fe)}}function ge(Se){Fe("next",Se)}function Oe(Se){Fe("throw",Se)}function ye(Se,he){Se(he),ce.shift(),ce.length&&Fe(ce[0][0],ce[0][1])}}function ve(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,g=l[Symbol.asyncIterator];return g?g.call(l):(l=function te(l){var g="function"==typeof Symbol&&Symbol.iterator,G=g&&l[g],H=0;if(G)return G.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&H>=l.length&&(l=void 0),{value:l&&l[H++],done:!l}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),G={},H("next"),H("throw"),H("return"),G[Symbol.asyncIterator]=function(){return this},G);function H(ce){G[ce]=l[ce]&&function(Ae){return new Promise(function(ke,Fe){!function ne(ce,Ae,ke,Fe){Promise.resolve(Fe).then(function(Ee){ce({value:Ee,done:ke})},Ae)}(ke,Fe,(Ae=l[ce](Ae)).done,Ae.value)})}}}E.d(z,{AQ:()=>pe,N3:()=>ae,sH:()=>X,xN:()=>ve}),"function"==typeof SuppressedError&&SuppressedError},83813:Le=>{"use strict";Le.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},59608:Le=>{"use strict";Le.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/applicator","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/applicator":true},"$dynamicAnchor":"meta","title":"Applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"prefixItems":{"$ref":"#/$defs/schemaArray"},"items":{"$dynamicRef":"#meta"},"contains":{"$dynamicRef":"#meta"},"additionalProperties":{"$dynamicRef":"#meta"},"properties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"propertyNames":{"format":"regex"},"default":{}},"dependentSchemas":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"},"default":{}},"propertyNames":{"$dynamicRef":"#meta"},"if":{"$dynamicRef":"#meta"},"then":{"$dynamicRef":"#meta"},"else":{"$dynamicRef":"#meta"},"allOf":{"$ref":"#/$defs/schemaArray"},"anyOf":{"$ref":"#/$defs/schemaArray"},"oneOf":{"$ref":"#/$defs/schemaArray"},"not":{"$dynamicRef":"#meta"}},"$defs":{"schemaArray":{"type":"array","minItems":1,"items":{"$dynamicRef":"#meta"}}}}')},11082:Le=>{"use strict";Le.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/content","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Content vocabulary meta-schema","type":["object","boolean"],"properties":{"contentEncoding":{"type":"string"},"contentMediaType":{"type":"string"},"contentSchema":{"$dynamicRef":"#meta"}}}')},93406:Le=>{"use strict";Le.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/core","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true},"$dynamicAnchor":"meta","title":"Core vocabulary meta-schema","type":["object","boolean"],"properties":{"$id":{"$ref":"#/$defs/uriReferenceString","$comment":"Non-empty fragments not allowed.","pattern":"^[^#]*#?$"},"$schema":{"$ref":"#/$defs/uriString"},"$ref":{"$ref":"#/$defs/uriReferenceString"},"$anchor":{"$ref":"#/$defs/anchorString"},"$dynamicRef":{"$ref":"#/$defs/uriReferenceString"},"$dynamicAnchor":{"$ref":"#/$defs/anchorString"},"$vocabulary":{"type":"object","propertyNames":{"$ref":"#/$defs/uriString"},"additionalProperties":{"type":"boolean"}},"$comment":{"type":"string"},"$defs":{"type":"object","additionalProperties":{"$dynamicRef":"#meta"}}},"$defs":{"anchorString":{"type":"string","pattern":"^[A-Za-z_][-A-Za-z0-9._]*$"},"uriString":{"type":"string","format":"uri"},"uriReferenceString":{"type":"string","format":"uri-reference"}}}')},14516:Le=>{"use strict";Le.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/format-annotation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/format-annotation":true},"$dynamicAnchor":"meta","title":"Format vocabulary meta-schema for annotation results","type":["object","boolean"],"properties":{"format":{"type":"string"}}}')},3059:Le=>{"use strict";Le.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/meta-data","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/meta-data":true},"$dynamicAnchor":"meta","title":"Meta-data vocabulary meta-schema","type":["object","boolean"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"default":true,"deprecated":{"type":"boolean","default":false},"readOnly":{"type":"boolean","default":false},"writeOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true}}}')},8307:Le=>{"use strict";Le.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/unevaluated","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/unevaluated":true},"$dynamicAnchor":"meta","title":"Unevaluated applicator vocabulary meta-schema","type":["object","boolean"],"properties":{"unevaluatedItems":{"$dynamicRef":"#meta"},"unevaluatedProperties":{"$dynamicRef":"#meta"}}}')},18738:Le=>{"use strict";Le.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/meta/validation","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/validation":true},"$dynamicAnchor":"meta","title":"Validation vocabulary meta-schema","type":["object","boolean"],"properties":{"type":{"anyOf":[{"$ref":"#/$defs/simpleTypes"},{"type":"array","items":{"$ref":"#/$defs/simpleTypes"},"minItems":1,"uniqueItems":true}]},"const":true,"enum":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/$defs/nonNegativeInteger"},"minLength":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"maxItems":{"$ref":"#/$defs/nonNegativeInteger"},"minItems":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxContains":{"$ref":"#/$defs/nonNegativeInteger"},"minContains":{"$ref":"#/$defs/nonNegativeInteger","default":1},"maxProperties":{"$ref":"#/$defs/nonNegativeInteger"},"minProperties":{"$ref":"#/$defs/nonNegativeIntegerDefault0"},"required":{"$ref":"#/$defs/stringArray"},"dependentRequired":{"type":"object","additionalProperties":{"$ref":"#/$defs/stringArray"}}},"$defs":{"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"$ref":"#/$defs/nonNegativeInteger","default":0},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}}}')},6438:Le=>{"use strict";Le.exports=JSON.parse('{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://json-schema.org/draft/2020-12/schema","$vocabulary":{"https://json-schema.org/draft/2020-12/vocab/core":true,"https://json-schema.org/draft/2020-12/vocab/applicator":true,"https://json-schema.org/draft/2020-12/vocab/unevaluated":true,"https://json-schema.org/draft/2020-12/vocab/validation":true,"https://json-schema.org/draft/2020-12/vocab/meta-data":true,"https://json-schema.org/draft/2020-12/vocab/format-annotation":true,"https://json-schema.org/draft/2020-12/vocab/content":true},"$dynamicAnchor":"meta","title":"Core and Validation specifications meta-schema","allOf":[{"$ref":"meta/core"},{"$ref":"meta/applicator"},{"$ref":"meta/unevaluated"},{"$ref":"meta/validation"},{"$ref":"meta/meta-data"},{"$ref":"meta/format-annotation"},{"$ref":"meta/content"}],"type":["object","boolean"],"$comment":"This meta-schema also defines keywords that have appeared in previous drafts in order to prevent incompatible extensions as they remain in common use.","properties":{"definitions":{"$comment":"\\"definitions\\" has been replaced by \\"$defs\\".","type":"object","additionalProperties":{"$dynamicRef":"#meta"},"deprecated":true,"default":{}},"dependencies":{"$comment":"\\"dependencies\\" has been split and replaced by \\"dependentSchemas\\" and \\"dependentRequired\\" in order to serve their differing semantics.","type":"object","additionalProperties":{"anyOf":[{"$dynamicRef":"#meta"},{"$ref":"meta/validation#/$defs/stringArray"}]},"deprecated":true,"default":{}},"$recursiveAnchor":{"$comment":"\\"$recursiveAnchor\\" has been replaced by \\"$dynamicAnchor\\".","$ref":"meta/core#/$defs/anchorString","deprecated":true},"$recursiveRef":{"$comment":"\\"$recursiveRef\\" has been replaced by \\"$dynamicRef\\".","$ref":"meta/core#/$defs/uriReferenceString","deprecated":true}}}')},3219:Le=>{"use strict";Le.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},62951:Le=>{"use strict";Le.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},64589:Le=>{"use strict";Le.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},23241:Le=>{"use strict";Le.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},1636:Le=>{"use strict";Le.exports={rE:"6.5.5"}},15579:Le=>{"use strict";Le.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},Le=>{var z=m=>Le(Le.s=m);z(94073),z(5312)}]);