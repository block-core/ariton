(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1943],{44273:(Y,f,i)=>{"use strict";var h,v,A,S,E,c,u,n,l,s,a,m,p,d,y,b,g;i.r(f),i.d(f,{JSONPath:()=>Sn}),(v={})[(h={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",v[h.EOF]="<end>",v[h.Identifier]="Identifier",v[h.Keyword]="Keyword",v[h.NullLiteral]="Null",v[h.NumericLiteral]="Numeric",v[h.Punctuator]="Punctuator",v[h.StringLiteral]="String",v[h.RegularExpression]="RegularExpression",A=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="];var x={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};function C(j,H){if(!j)throw new Error("ASSERT: "+H)}function B(j){return j>=48&&j<=57}function F(j){return"0123456789abcdefABCDEF".indexOf(j)>=0}function T(j){return"01234567".indexOf(j)>=0}function z(j){return 32===j||9===j||11===j||12===j||160===j||j>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(j)>=0}function re(j){return 10===j||13===j||8232===j||8233===j}function ie(j){return 64==j||36===j||95===j||j>=65&&j<=90||j>=97&&j<=122||92===j||j>=128&&c.NonAsciiIdentifierStart.test(String.fromCharCode(j))}function O(j){return 36===j||95===j||j>=65&&j<=90||j>=97&&j<=122||j>=48&&j<=57||92===j||j>=128&&c.NonAsciiIdentifierPart.test(String.fromCharCode(j))}function k(j){switch(j){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function Z(j){return"eval"===j||"arguments"===j}function pe(j,H,le,te,se){var ge;C("number"==typeof le,"Comment must have valid position"),!(b.lastCommentStart>=le)&&(b.lastCommentStart=le,ge={type:j,value:H},g.range&&(ge.range=[le,te]),g.loc&&(ge.loc=se),g.comments.push(ge),g.attachComment&&(g.leadingComments.push(ge),g.trailingComments.push(ge)))}function R(j){var H,le,te,se;for(H=s-j,le={start:{line:a,column:s-m-j}};s<p;)if(te=n.charCodeAt(s),++s,re(te))return g.comments&&(se=n.slice(H+j,s-1),le.end={line:a,column:s-m-1},pe("Line",se,H,s-1,le)),13===te&&10===n.charCodeAt(s)&&++s,++a,void(m=s);g.comments&&(se=n.slice(H+j,s),le.end={line:a,column:s-m},pe("Line",se,H,s,le))}function X(){var j,H,le,te;for(g.comments&&(j=s-2,H={start:{line:a,column:s-m-2}});s<p;)if(re(le=n.charCodeAt(s)))13===le&&10===n.charCodeAt(s+1)&&++s,++a,++s,m=s,s>=p&&Re({},E.UnexpectedToken,"ILLEGAL");else if(42===le){if(47===n.charCodeAt(s+1))return++s,++s,void(g.comments&&(te=n.slice(j+2,s-2),H.end={line:a,column:s-m},pe("Block",te,j,s,H)));++s}else++s;Re({},E.UnexpectedToken,"ILLEGAL")}function oe(){var j,H;for(H=0===s;s<p;)if(z(j=n.charCodeAt(s)))++s;else if(re(j))++s,13===j&&10===n.charCodeAt(s)&&++s,++a,m=s,H=!0;else if(47===j)if(47===(j=n.charCodeAt(s+1)))++s,++s,R(2),H=!0;else{if(42!==j)break;++s,++s,X()}else if(H&&45===j){if(45!==n.charCodeAt(s+1)||62!==n.charCodeAt(s+2))break;s+=3,R(3)}else{if(60!==j)break;if("!--"!==n.slice(s+1,s+4))break;++s,++s,++s,++s,R(4)}}function be(j){var H,le,te,se=0;for(le="u"===j?4:2,H=0;H<le;++H){if(!(s<p&&F(n[s])))return"";te=n[s++],se=16*se+"0123456789abcdef".indexOf(te.toLowerCase())}return String.fromCharCode(se)}function Ie(){var j,H;for(j=n.charCodeAt(s++),H=String.fromCharCode(j),92===j&&(117!==n.charCodeAt(s)&&Re({},E.UnexpectedToken,"ILLEGAL"),++s,(!(j=be("u"))||"\\"===j||!ie(j.charCodeAt(0)))&&Re({},E.UnexpectedToken,"ILLEGAL"),H=j);s<p&&O(j=n.charCodeAt(s));)++s,H+=String.fromCharCode(j),92===j&&(H=H.substr(0,H.length-1),117!==n.charCodeAt(s)&&Re({},E.UnexpectedToken,"ILLEGAL"),++s,(!(j=be("u"))||"\\"===j||!O(j.charCodeAt(0)))&&Re({},E.UnexpectedToken,"ILLEGAL"),H+=j);return H}function V(){var le,se,ge,ke,j=s,H=n.charCodeAt(s),te=n[s];switch(H){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++s,g.tokenize&&(40===H?g.openParenToken=g.tokens.length:123===H&&(g.openCurlyToken=g.tokens.length)),{type:h.Punctuator,value:String.fromCharCode(H),lineNumber:a,lineStart:m,start:j,end:s};default:if(61===(le=n.charCodeAt(s+1)))switch(H){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return s+=2,{type:h.Punctuator,value:String.fromCharCode(H)+String.fromCharCode(le),lineNumber:a,lineStart:m,start:j,end:s};case 33:case 61:return 61===n.charCodeAt(s+=2)&&++s,{type:h.Punctuator,value:n.slice(j,s),lineNumber:a,lineStart:m,start:j,end:s}}}return">>>="===(ke=n.substr(s,4))?{type:h.Punctuator,value:ke,lineNumber:a,lineStart:m,start:j,end:s+=4}:">>>"===(ge=ke.substr(0,3))||"<<="===ge||">>="===ge?{type:h.Punctuator,value:ge,lineNumber:a,lineStart:m,start:j,end:s+=3}:te===(se=ge.substr(0,2))[1]&&"+-<>&|".indexOf(te)>=0||"=>"===se?{type:h.Punctuator,value:se,lineNumber:a,lineStart:m,start:j,end:s+=2}:"<>=!+-*%&|^/".indexOf(te)>=0?(++s,{type:h.Punctuator,value:te,lineNumber:a,lineStart:m,start:j,end:s}):void Re({},E.UnexpectedToken,"ILLEGAL")}function ue(){var j,H,le;if(C(B((le=n[s]).charCodeAt(0))||"."===le,"Numeric literal must start with a decimal digit or a decimal point"),H=s,j="","."!==le){if(j=n[s++],le=n[s],"0"===j){if("x"===le||"X"===le)return++s,function M(j){for(var H="";s<p&&F(n[s]);)H+=n[s++];return 0===H.length&&Re({},E.UnexpectedToken,"ILLEGAL"),ie(n.charCodeAt(s))&&Re({},E.UnexpectedToken,"ILLEGAL"),{type:h.NumericLiteral,value:parseInt("0x"+H,16),lineNumber:a,lineStart:m,start:j,end:s}}(H);if(T(le))return function Q(j){for(var H="0"+n[s++];s<p&&T(n[s]);)H+=n[s++];return(ie(n.charCodeAt(s))||B(n.charCodeAt(s)))&&Re({},E.UnexpectedToken,"ILLEGAL"),{type:h.NumericLiteral,value:parseInt(H,8),octal:!0,lineNumber:a,lineStart:m,start:j,end:s}}(H);le&&B(le.charCodeAt(0))&&Re({},E.UnexpectedToken,"ILLEGAL")}for(;B(n.charCodeAt(s));)j+=n[s++];le=n[s]}if("."===le){for(j+=n[s++];B(n.charCodeAt(s));)j+=n[s++];le=n[s]}if("e"===le||"E"===le)if(j+=n[s++],("+"===(le=n[s])||"-"===le)&&(j+=n[s++]),B(n.charCodeAt(s)))for(;B(n.charCodeAt(s));)j+=n[s++];else Re({},E.UnexpectedToken,"ILLEGAL");return ie(n.charCodeAt(s))&&Re({},E.UnexpectedToken,"ILLEGAL"),{type:h.NumericLiteral,value:parseFloat(j),lineNumber:a,lineStart:m,start:H,end:s}}function He(){var j,H,le,se;return y=null,oe(),j=s,H=function fe(){var j,H,le,te;for(C("/"===(j=n[s]),"Regular expression literal must start with a slash"),H=n[s++],le=!1,te=!1;s<p;)if(H+=j=n[s++],"\\"===j)re((j=n[s++]).charCodeAt(0))&&Re({},E.UnterminatedRegExp),H+=j;else if(re(j.charCodeAt(0)))Re({},E.UnterminatedRegExp);else if(le)"]"===j&&(le=!1);else{if("/"===j){te=!0;break}"["===j&&(le=!0)}return te||Re({},E.UnterminatedRegExp),{value:H.substr(1,H.length-2),literal:H}}(),le=function _e(){var j,H,le,te;for(H="",le="";s<p&&O((j=n[s]).charCodeAt(0));)if(++s,"\\"===j&&s<p)if("u"===(j=n[s])){if(te=++s,j=be("u"))for(le+=j,H+="\\u";te<s;++te)H+=n[te];else s=te,le+="u",H+="\\u";Xe({},E.UnexpectedToken,"ILLEGAL")}else H+="\\",Xe({},E.UnexpectedToken,"ILLEGAL");else le+=j,H+=j;return{value:le,literal:H}}(),se=function we(j,H){var le;try{le=new RegExp(j,H)}catch{Re({},E.InvalidRegExp)}return le}(H.value,le.value),g.tokenize?{type:h.RegularExpression,value:se,lineNumber:a,lineStart:m,start:j,end:s}:{literal:H.literal+le.literal,value:se,start:j,end:s}}function Pe(){var j,H,le,te;return oe(),j=s,H={start:{line:a,column:s-m}},le=He(),H.end={line:a,column:s-m},g.tokenize||(g.tokens.length>0&&(te=g.tokens[g.tokens.length-1]).range[0]===j&&"Punctuator"===te.type&&("/"===te.value||"/="===te.value)&&g.tokens.pop(),g.tokens.push({type:"RegularExpression",value:le.literal,range:[j,s],loc:H})),le}function ve(){var j;return oe(),s>=p?{type:h.EOF,lineNumber:a,lineStart:m,start:s,end:s}:ie(j=n.charCodeAt(s))?function I(){var j,H,le;return j=s,H=92===n.charCodeAt(s)?Ie():function w(){var j,H;for(j=s++;s<p;){if(92===(H=n.charCodeAt(s)))return s=j,Ie();if(!O(H))break;++s}return n.slice(j,s)}(),le=1===H.length?h.Identifier:function W(j){if(l&&k(j))return!0;switch(j.length){case 2:return"if"===j||"in"===j||"do"===j;case 3:return"var"===j||"for"===j||"new"===j||"try"===j||"let"===j;case 4:return"this"===j||"else"===j||"case"===j||"void"===j||"with"===j||"enum"===j;case 5:return"while"===j||"break"===j||"catch"===j||"throw"===j||"const"===j||"yield"===j||"class"===j||"super"===j;case 6:return"return"===j||"typeof"===j||"delete"===j||"switch"===j||"export"===j||"import"===j;case 7:return"default"===j||"finally"===j||"extends"===j;case 8:return"function"===j||"continue"===j||"debugger"===j;case 10:return"instanceof"===j;default:return!1}}(H)?h.Keyword:"null"===H?h.NullLiteral:"true"===H||"false"===H?h.BooleanLiteral:h.Identifier,{type:le,value:H,lineNumber:a,lineStart:m,start:j,end:s}}():40===j||41===j||59===j?V():39===j||34===j?function de(){var H,le,te,se,ge,ke,qe,ft,j="",Le=!1;for(qe=a,ft=m,C("'"===(H=n[s])||'"'===H,"String literal must starts with a quote"),le=s,++s;s<p;){if((te=n[s++])===H){H="";break}if("\\"===te)if((te=n[s++])&&re(te.charCodeAt(0)))++a,"\r"===te&&"\n"===n[s]&&++s,m=s;else switch(te){case"u":case"x":ke=s,(ge=be(te))?j+=ge:(s=ke,j+=te);break;case"n":j+="\n";break;case"r":j+="\r";break;case"t":j+="\t";break;case"b":j+="\b";break;case"f":j+="\f";break;case"v":j+="\v";break;default:T(te)?(0!==(se="01234567".indexOf(te))&&(Le=!0),s<p&&T(n[s])&&(Le=!0,se=8*se+"01234567".indexOf(n[s++]),"0123".indexOf(te)>=0&&s<p&&T(n[s])&&(se=8*se+"01234567".indexOf(n[s++]))),j+=String.fromCharCode(se)):j+=te}else{if(re(te.charCodeAt(0)))break;j+=te}}return""!==H&&Re({},E.UnexpectedToken,"ILLEGAL"),{type:h.StringLiteral,value:j,octal:Le,startLineNumber:qe,startLineStart:ft,lineNumber:a,lineStart:m,start:le,end:s}}():46===j?B(n.charCodeAt(s+1))?ue():V():B(j)?ue():g.tokenize&&47===j?function he(){var j,H;if(!(j=g.tokens[g.tokens.length-1]))return Pe();if("Punctuator"===j.type){if("]"===j.value)return V();if(")"===j.value)return!(H=g.tokens[g.openParenToken-1])||"Keyword"!==H.type||"if"!==H.value&&"while"!==H.value&&"for"!==H.value&&"with"!==H.value?V():Pe();if("}"===j.value){if(g.tokens[g.openCurlyToken-3]&&"Keyword"===g.tokens[g.openCurlyToken-3].type){if(!(H=g.tokens[g.openCurlyToken-4]))return V()}else{if(!g.tokens[g.openCurlyToken-4]||"Keyword"!==g.tokens[g.openCurlyToken-4].type)return V();if(!(H=g.tokens[g.openCurlyToken-5]))return Pe()}return A.indexOf(H.value)>=0?V():Pe()}return Pe()}return"Keyword"===j.type?Pe():V()}():V()}function ye(){var j,H,te;return oe(),j={start:{line:a,column:s-m}},H=ve(),j.end={line:a,column:s-m},H.type!==h.EOF&&(te=n.slice(H.start,H.end),g.tokens.push({type:v[H.type],value:te,range:[H.start,H.end],loc:j})),H}function De(){var j;return s=(j=y).end,a=j.lineNumber,m=j.lineStart,y=typeof g.tokens<"u"?ye():ve(),s=j.end,a=j.lineNumber,m=j.lineStart,j}function je(){var j,H,le;j=s,H=a,le=m,y=typeof g.tokens<"u"?ye():ve(),s=j,a=H,m=le}function xe(j,H){this.line=j,this.column=H}function $e(j,H,le,te){this.start=new xe(j,H),this.end=new xe(le,te)}function Ue(){var j,H,le,te;return j=s,H=a,le=m,oe(),te=a!==H,s=j,a=H,m=le,te}function Re(j,H){for(var le=[],te=2;te<arguments.length;te++)le[te-2]=arguments[te];var se,ge=H.replace(/%(\d)/g,function(ke,Le){return C(Le<le.length,"Message reference must be in range"),le[Le]});throw"number"==typeof j.lineNumber?((se=new Error("Line "+j.lineNumber+": "+ge)).index=j.start,se.lineNumber=j.lineNumber,se.column=j.start-m+1):((se=new Error("Line "+a+": "+ge)).index=s,se.lineNumber=a,se.column=s-m+1),se.description=ge,se}function Xe(){for(var j=[],H=0;H<arguments.length;H++)j[H]=arguments[H];try{Re.apply(null,j)}catch(le){if(!g.errors)throw le;g.errors.push(le)}}function ze(j){if(j.type===h.EOF&&Re(j,E.UnexpectedEOS),j.type===h.NumericLiteral&&Re(j,E.UnexpectedNumber),j.type===h.StringLiteral&&Re(j,E.UnexpectedString),j.type===h.Identifier&&Re(j,E.UnexpectedIdentifier),j.type===h.Keyword){if(function J(j){switch(j){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}(j.value))Re(j,E.UnexpectedReserved);else if(l&&k(j.value))return void Xe(j,E.StrictReservedWord);Re(j,E.UnexpectedToken,j.value)}Re(j,E.UnexpectedToken,j.value)}function We(j){var H=De();(H.type!==h.Punctuator||H.value!==j)&&ze(H)}function it(j){var H=De();(H.type!==h.Keyword||H.value!==j)&&ze(H)}function ee(j){return y.type===h.Punctuator&&y.value===j}function N(j){return y.type===h.Keyword&&y.value===j}function G(){var j;59===n.charCodeAt(s)||ee(";")?De():(j=a,oe(),a===j&&y.type!==h.EOF&&!ee("}")&&ze(y))}function Ee(j){return j.type===x.Identifier||j.type===x.MemberExpression}function Te(j,H){var le,te,se;return le=l,se=y,te=vn(),H&&l&&Z(j[0].name)&&Xe(H,E.StrictParamName),l=le,d.markEnd(d.createFunctionExpression(null,j,[],te),se)}function Fe(){var j,H;return H=y,(j=De()).type===h.StringLiteral||j.type===h.NumericLiteral?(l&&j.octal&&Xe(j,E.StrictOctalLiteral),d.markEnd(d.createLiteral(j),H)):d.markEnd(d.createIdentifier(j.value),H)}function Be(){var j,H,le,te,se,ge;return ge=y,(j=y).type===h.Identifier?(le=Fe(),"get"!==j.value||ee(":")?"set"!==j.value||ee(":")?(We(":"),te=Je(),d.markEnd(d.createProperty("init",le,te),ge)):(H=Fe(),We("("),(j=y).type!==h.Identifier?(We(")"),Xe(j,E.UnexpectedToken,j.value),te=Te([])):(se=[Ct()],We(")"),te=Te(se,j)),d.markEnd(d.createProperty("set",H,te),ge)):(H=Fe(),We("("),We(")"),te=Te([]),d.markEnd(d.createProperty("get",H,te),ge))):j.type!==h.EOF&&j.type!==h.Punctuator?(H=Fe(),We(":"),te=Je(),d.markEnd(d.createProperty("init",H,te),ge)):void ze(j)}function et(){var j,H,le,te;if(ee("("))return function dt(){var j;return We("("),j=Ze(),We(")"),j}();if(ee("["))return function Ce(){var H,j=[];for(H=y,We("[");!ee("]");)ee(",")?(De(),j.push(null)):(j.push(Je()),ee("]")||We(","));return De(),d.markEnd(d.createArrayExpression(j),H)}();if(ee("{"))return function st(){var H,le,te,se,Le,j=[],ge={},ke=String;for(Le=y,We("{");!ee("}");)le=(H=Be()).key.type===x.Identifier?H.key.name:ke(H.key.value),se="init"===H.kind?S.Data:"get"===H.kind?S.Get:S.Set,te="$"+le,Object.prototype.hasOwnProperty.call(ge,te)?(ge[te]===S.Data?l&&se===S.Data?Xe({},E.StrictDuplicateProperty):se!==S.Data&&Xe({},E.AccessorDataProperty):se===S.Data?Xe({},E.AccessorDataProperty):ge[te]&se&&Xe({},E.AccessorGetSet),ge[te]|=se):ge[te]=se,j.push(H),ee("}")||We(",");return We("}"),d.markEnd(d.createObjectExpression(j),Le)}();if(te=y,(j=y.type)===h.Identifier)le=d.createIdentifier(De().value);else if(j===h.StringLiteral||j===h.NumericLiteral)l&&y.octal&&Xe(y,E.StrictOctalLiteral),le=d.createLiteral(De());else if(j===h.Keyword){if(N("function"))return function Ui(){var j,le,te,se,ge,Le,qe,ft,ke,H=null;return ft=y,it("function"),ee("(")||(j=y,H=Ct(),l?Z(j.value)&&Xe(j,E.StrictFunctionName):Z(j.value)?(te=j,se=E.StrictFunctionName):k(j.value)&&(te=j,se=E.StrictReservedWord)),ke=(ge=kn(te)).params,le=ge.stricted,te=ge.firstRestricted,ge.message&&(se=ge.message),qe=l,Le=vn(),l&&te&&Re(te,se),l&&le&&Xe(le,se),l=qe,d.markEnd(d.createFunctionExpression(H,ke,[],Le),ft)}();N("this")?(De(),le=d.createThisExpression()):ze(De())}else j===h.BooleanLiteral?((H=De()).value="true"===H.value,le=d.createLiteral(H)):j===h.NullLiteral?((H=De()).value=null,le=d.createLiteral(H)):ee("/")||ee("/=")?(le=d.createLiteral(typeof g.tokens<"u"?Pe():He()),je()):ze(De());return d.markEnd(le,te)}function pt(){var j=[];if(We("("),!ee(")"))for(;s<p&&(j.push(Je()),!ee(")"));)We(",");return We(")"),j}function Bt(){return We("."),function Tt(){var j,H;return H=y,function Oe(j){return j.type===h.Identifier||j.type===h.Keyword||j.type===h.BooleanLiteral||j.type===h.NullLiteral}(j=De())||ze(j),d.markEnd(d.createIdentifier(j.value),H)}()}function wt(){var j;return We("["),j=Ze(),We("]"),j}function It(){var j,H,le;return le=y,it("new"),j=function L(){var j,H,le,te;for(te=y,j=b.allowIn,H=N("new")?It():et(),b.allowIn=j;ee(".")||ee("[");)ee("[")?(le=wt(),H=d.createMemberExpression("[",H,le)):(le=Bt(),H=d.createMemberExpression(".",H,le)),d.markEnd(H,te);return H}(),H=ee("(")?pt():[],d.markEnd(d.createNewExpression(j,H),le)}function ae(){var j,H,le=y;return j=function ar(){var j,H,le,te,se;for(se=y,j=b.allowIn,b.allowIn=!0,H=N("new")?It():et(),b.allowIn=j;;){if(ee("."))te=Bt(),H=d.createMemberExpression(".",H,te);else if(ee("("))le=pt(),H=d.createCallExpression(H,le);else{if(!ee("["))break;te=wt(),H=d.createMemberExpression("[",H,te)}d.markEnd(H,se)}return H}(),y.type===h.Punctuator&&(ee("++")||ee("--"))&&!Ue()&&(l&&j.type===x.Identifier&&Z(j.name)&&Xe({},E.StrictLHSPostfix),Ee(j)||Xe({},E.InvalidLHSInAssignment),H=De(),j=d.markEnd(d.createPostfixExpression(H.value,j),le)),j}function ne(){var j,H,le;return y.type!==h.Punctuator&&y.type!==h.Keyword?H=ae():ee("++")||ee("--")?(le=y,j=De(),H=ne(),l&&H.type===x.Identifier&&Z(H.name)&&Xe({},E.StrictLHSPrefix),Ee(H)||Xe({},E.InvalidLHSInAssignment),H=d.createUnaryExpression(j.value,H),H=d.markEnd(H,le)):ee("+")||ee("-")||ee("~")||ee("!")?(le=y,j=De(),H=ne(),H=d.createUnaryExpression(j.value,H),H=d.markEnd(H,le)):N("delete")||N("void")||N("typeof")?(le=y,j=De(),H=ne(),H=d.createUnaryExpression(j.value,H),H=d.markEnd(H,le),l&&"delete"===H.operator&&H.argument.type===x.Identifier&&Xe({},E.StrictDelete)):H=ae(),H}function ce(j,H){var le=0;if(j.type!==h.Punctuator&&j.type!==h.Keyword)return 0;switch(j.value){case"||":le=1;break;case"&&":le=2;break;case"|":le=3;break;case"^":le=4;break;case"&":le=5;break;case"==":case"!=":case"===":case"!==":le=6;break;case"<":case">":case"<=":case">=":case"instanceof":le=7;break;case"in":le=H?7:0;break;case"<<":case">>":case">>>":le=8;break;case"+":case"-":le=9;break;case"*":case"/":case"%":le=11}return le}function Je(){var j,H,le,te,se;return j=y,se=y,te=H=function Ve(){var j,H,le,te,se;return se=y,j=function Se(){var j,H,le,te,se,ge,ke,Le,qe,ft;if(j=y,qe=ne(),0===(se=ce(te=y,b.allowIn)))return qe;for(te.prec=se,De(),H=[j,y],ge=[qe,te,ke=ne()];(se=ce(y,b.allowIn))>0;){for(;ge.length>2&&se<=ge[ge.length-2].prec;)ke=ge.pop(),Le=ge.pop().value,qe=ge.pop(),le=d.createBinaryExpression(Le,qe,ke),H.pop(),d.markEnd(le,j=H[H.length-1]),ge.push(le);(te=De()).prec=se,ge.push(te),H.push(y),le=ne(),ge.push(le)}for(le=ge[ft=ge.length-1],H.pop();ft>1;)le=d.createBinaryExpression(ge[ft-1].value,ge[ft-2],le),ft-=2,j=H.pop(),d.markEnd(le,j);return le}(),ee("?")&&(De(),H=b.allowIn,b.allowIn=!0,le=Je(),b.allowIn=H,We(":"),te=Je(),j=d.createConditionalExpression(j,le,te),d.markEnd(j,se)),j}(),function P(){var j;return y.type===h.Punctuator&&("="===(j=y.value)||"*="===j||"/="===j||"%="===j||"+="===j||"-="===j||"<<="===j||">>="===j||">>>="===j||"&="===j||"^="===j||"|="===j)}()&&(Ee(H)||Xe({},E.InvalidLHSInAssignment),l&&H.type===x.Identifier&&Z(H.name)&&Xe(j,E.StrictLHSAssignment),j=De(),le=Je(),te=d.markEnd(d.createAssignmentExpression(j.value,H,le),se)),te}function Ze(){var j,H=y;if(j=Je(),ee(",")){for(j=d.createSequenceExpression([j]);s<p&&ee(",");)De(),j.expressions.push(Je());d.markEnd(j,H)}return j}function bt(){var j,H;return H=y,We("{"),j=function ut(){for(var H,j=[];s<p&&!(ee("}")||(H=zr(),typeof H>"u"));)j.push(H);return j}(),We("}"),d.markEnd(d.createBlockStatement(j),H)}function Ct(){var j,H;return H=y,(j=De()).type!==h.Identifier&&ze(j),d.markEnd(d.createIdentifier(j.value),H)}function tr(j){var le,te,H=null;return te=y,le=Ct(),l&&Z(le.name)&&Xe({},E.StrictVarName),"const"===j?(We("="),H=Je()):ee("=")&&(De(),H=Je()),d.markEnd(d.createVariableDeclarator(le,H),te)}function Pt(j){var H=[];do{if(H.push(tr(j)),!ee(","))break;De()}while(s<p);return H}function Lt(){var j,le,te,H=[];for(te=y,N("default")?(De(),j=null):(it("case"),j=Ze()),We(":");s<p&&!(ee("}")||N("default")||N("case"));)le=or(),H.push(le);return d.markEnd(d.createSwitchCase(j,H),te)}function or(){var H,le,te,se,j=y.type;if(j===h.EOF&&ze(y),j===h.Punctuator&&"{"===y.value)return bt();if(se=y,j===h.Punctuator)switch(y.value){case";":return d.markEnd(function Kt(){return We(";"),d.createEmptyStatement()}(),se);case"(":return d.markEnd(function Ur(){var j=Ze();return G(),d.createExpressionStatement(j)}(),se)}if(j===h.Keyword)switch(y.value){case"break":return d.markEnd(function Kr(){var j=null;return it("break"),59===n.charCodeAt(s)?(De(),b.inIteration||b.inSwitch||Re({},E.IllegalBreak),d.createBreakStatement(null)):Ue()?(b.inIteration||b.inSwitch||Re({},E.IllegalBreak),d.createBreakStatement(null)):(y.type===h.Identifier&&(j=Ct(),Object.prototype.hasOwnProperty.call(b.labelSet,"$"+j.name)||Re({},E.UnknownLabel,j.name)),G(),null===j&&!(b.inIteration||b.inSwitch)&&Re({},E.IllegalBreak),d.createBreakStatement(j))}(),se);case"continue":return d.markEnd(function Ir(){var j=null;return it("continue"),59===n.charCodeAt(s)?(De(),b.inIteration||Re({},E.IllegalContinue),d.createContinueStatement(null)):Ue()?(b.inIteration||Re({},E.IllegalContinue),d.createContinueStatement(null)):(y.type===h.Identifier&&(j=Ct(),Object.prototype.hasOwnProperty.call(b.labelSet,"$"+j.name)||Re({},E.UnknownLabel,j.name)),G(),null===j&&!b.inIteration&&Re({},E.IllegalContinue),d.createContinueStatement(j))}(),se);case"debugger":return d.markEnd(function Xn(){return it("debugger"),G(),d.createDebuggerStatement()}(),se);case"do":return d.markEnd(function Jt(){var j,H,le;return it("do"),le=b.inIteration,b.inIteration=!0,j=or(),b.inIteration=le,it("while"),We("("),H=Ze(),We(")"),ee(";")&&De(),d.createDoWhileStatement(j,H)}(),se);case"for":return d.markEnd(function Vr(){var j,H,le,te,se,ge,ke;return j=H=le=null,it("for"),We("("),ee(";")?De():(N("var")||N("let")?(b.allowIn=!1,j=function nr(){var j,H,le;return le=y,j=De(),H=Pt(),d.markEnd(d.createVariableDeclaration(H,j.value),le)}(),b.allowIn=!0,1===j.declarations.length&&N("in")&&(De(),te=j,se=Ze(),j=null)):(b.allowIn=!1,j=Ze(),b.allowIn=!0,N("in")&&(Ee(j)||Xe({},E.InvalidLHSInForIn),De(),te=j,se=Ze(),j=null)),typeof te>"u"&&We(";")),typeof te>"u"&&(ee(";")||(H=Ze()),We(";"),ee(")")||(le=Ze())),We(")"),ke=b.inIteration,b.inIteration=!0,ge=or(),b.inIteration=ke,typeof te>"u"?d.createForStatement(j,H,le,ge):d.createForInStatement(te,se,ge)}(),se);case"function":return d.markEnd(Yn(),se);case"if":return d.markEnd(function rr(){var j,H,le;return it("if"),We("("),j=Ze(),We(")"),H=or(),N("else")?(De(),le=or()):le=null,d.createIfStatement(j,H,le)}(),se);case"return":return d.markEnd(function gn(){var j=null;return it("return"),b.inFunctionBody||Xe({},E.IllegalReturn),32===n.charCodeAt(s)&&ie(n.charCodeAt(s+1))?(j=Ze(),G(),d.createReturnStatement(j)):Ue()?d.createReturnStatement(null):(ee(";")||!ee("}")&&y.type!==h.EOF&&(j=Ze()),G(),d.createReturnStatement(j))}(),se);case"switch":return d.markEnd(function At(){var j,H,le,te,se;if(it("switch"),We("("),j=Ze(),We(")"),We("{"),H=[],ee("}"))return De(),d.createSwitchStatement(j,H);for(te=b.inSwitch,b.inSwitch=!0,se=!1;s<p&&!ee("}");)null===(le=Lt()).test&&(se&&Re({},E.MultipleDefaultsInSwitch),se=!0),H.push(le);return b.inSwitch=te,We("}"),d.createSwitchStatement(j,H)}(),se);case"throw":return d.markEnd(function mt(){var j;return it("throw"),Ue()&&Re({},E.NewlineAfterThrow),j=Ze(),G(),d.createThrowStatement(j)}(),se);case"try":return d.markEnd(function Li(){var j,H=[],le=null;return it("try"),j=bt(),N("catch")&&H.push(function ht(){var j,H,le;return le=y,it("catch"),We("("),ee(")")&&ze(y),j=Ct(),l&&Z(j.name)&&Xe({},E.StrictCatchVariable),We(")"),H=bt(),d.markEnd(d.createCatchClause(j,H),le)}()),N("finally")&&(De(),le=bt()),0===H.length&&!le&&Re({},E.NoCatchOrFinally),d.createTryStatement(j,[],H,le)}(),se);case"var":return d.markEnd(function Br(){var j;return it("var"),j=Pt(),G(),d.createVariableDeclaration(j,"var")}(),se);case"while":return d.markEnd(function Tr(){var j,H,le;return it("while"),We("("),j=Ze(),We(")"),le=b.inIteration,b.inIteration=!0,H=or(),b.inIteration=le,d.createWhileStatement(j,H)}(),se);case"with":return d.markEnd(function an(){var j,H;return l&&(oe(),Xe({},E.StrictModeWith)),it("with"),We("("),j=Ze(),We(")"),H=or(),d.createWithStatement(j,H)}(),se)}return(H=Ze()).type===x.Identifier&&ee(":")?(De(),te="$"+H.name,Object.prototype.hasOwnProperty.call(b.labelSet,te)&&Re({},E.Redeclaration,"Label",H.name),b.labelSet[te]=!0,le=or(),delete b.labelSet[te],d.markEnd(d.createLabeledStatement(H,le),se)):(G(),d.markEnd(d.createExpressionStatement(H),se))}function vn(){var j,le,se,ge,ke,Le,qe,ft,H=[];for(ft=y,We("{");s<p&&y.type===h.StringLiteral&&(le=y,j=zr(),H.push(j),j.expression.type===x.Literal);)"use strict"===n.slice(le.start+1,le.end-1)?(l=!0,se&&Xe(se,E.StrictOctalLiteral)):!se&&le.octal&&(se=le);for(ge=b.labelSet,ke=b.inIteration,Le=b.inSwitch,qe=b.inFunctionBody,b.labelSet={},b.inIteration=!1,b.inSwitch=!1,b.inFunctionBody=!0;s<p&&!(ee("}")||(j=zr(),typeof j>"u"));)H.push(j);return We("}"),b.labelSet=ge,b.inIteration=ke,b.inSwitch=Le,b.inFunctionBody=qe,d.markEnd(d.createBlockStatement(H),ft)}function kn(j){var H,te,se,ge,ke,Le,le=[];if(We("("),!ee(")"))for(ge={};s<p&&(te=y,H=Ct(),ke="$"+te.value,l?(Z(te.value)&&(se=te,Le=E.StrictParamName),Object.prototype.hasOwnProperty.call(ge,ke)&&(se=te,Le=E.StrictParamDupe)):j||(Z(te.value)?(j=te,Le=E.StrictParamName):k(te.value)?(j=te,Le=E.StrictReservedWord):Object.prototype.hasOwnProperty.call(ge,ke)&&(j=te,Le=E.StrictParamDupe)),le.push(H),ge[ke]=!0,!ee(")"));)We(",");return We(")"),{params:le,stricted:se,firstRestricted:j,message:Le}}function Yn(){var j,H,le,te,se,ge,ke,Le,qe,ft;return ft=y,it("function"),te=y,j=Ct(),l?Z(te.value)&&Xe(te,E.StrictFunctionName):Z(te.value)?(ke=te,Le=E.StrictFunctionName):k(te.value)&&(ke=te,Le=E.StrictReservedWord),H=(ge=kn(ke)).params,se=ge.stricted,ke=ge.firstRestricted,ge.message&&(Le=ge.message),qe=l,le=vn(),l&&ke&&Re(ke,Le),l&&se&&Xe(se,Le),l=qe,d.markEnd(d.createFunctionDeclaration(j,H,[],le),ft)}function zr(){if(y.type===h.Keyword)switch(y.value){case"const":case"let":return function $t(j){var H,le;return le=y,it(j),H=Pt(j),G(),d.markEnd(d.createVariableDeclaration(H,j),le)}(y.value);case"function":return Yn();default:return or()}if(y.type!==h.EOF)return or()}function Ut(j,H){var le,te;te=String,"string"!=typeof j&&!(j instanceof String)&&(j=te(j)),d=u,s=0,a=(n=j).length>0?1:0,m=0,p=n.length,y=null,b={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},g={},typeof H<"u"&&(g.range="boolean"==typeof H.range&&H.range,g.loc="boolean"==typeof H.loc&&H.loc,g.attachComment="boolean"==typeof H.attachComment&&H.attachComment,g.loc&&null!=H.source&&(g.source=te(H.source)),"boolean"==typeof H.tokens&&H.tokens&&(g.tokens=[]),"boolean"==typeof H.comment&&H.comment&&(g.comments=[]),"boolean"==typeof H.tolerant&&H.tolerant&&(g.errors=[]),g.attachComment&&(g.range=!0,g.comments=[],g.bottomRightStack=[],g.trailingComments=[],g.leadingComments=[]));try{le=function Vi(){var j,H;return oe(),je(),H=y,l=!1,j=function bn(){for(var j,le,se,H=[];s<p&&(le=y).type===h.StringLiteral&&(j=zr(),H.push(j),j.expression.type===x.Literal);)"use strict"===n.slice(le.start+1,le.end-1)?(l=!0,se&&Xe(se,E.StrictOctalLiteral)):!se&&le.octal&&(se=le);for(;s<p&&!(typeof(j=zr())>"u");)H.push(j);return H}(),d.markEnd(d.createProgram(j),H)}(),typeof g.comments<"u"&&(le.comments=g.comments),typeof g.tokens<"u"&&(function qn(){var j,H,le,te=[];for(j=0;j<g.tokens.length;++j)le={type:(H=g.tokens[j]).type,value:H.value},g.range&&(le.range=H.range),g.loc&&(le.loc=H.loc),te.push(le);g.tokens=te}(),le.tokens=g.tokens),typeof g.errors<"u"&&(le.errors=g.errors)}catch(se){throw se}finally{g={}}return le}function Qn(j,H,le,te){function se(qe){return String(qe).match(/^[0-9]+$/)?parseInt(qe):Number.isFinite(qe)?parseInt(qe,10):0}if("string"==typeof H)throw new Error("start cannot be a string");if("string"==typeof le)throw new Error("end cannot be a string");if("string"==typeof te)throw new Error("step cannot be a string");var ge=j.length;if(0===te)throw new Error("step cannot be zero");if(te=te?se(te):1,le=le<0?ge+le:le,H=se(0===(H=H<0?ge+H:H)?0:H||(te>0?0:ge-1)),le=se(0===le?0:le||(te>0?ge:-1)),H=te>0?Math.max(0,H):Math.min(ge,H),le=te>0?Math.min(le,ge):Math.max(-1,le),te>0&&le<=H)return[];if(te<0&&H<=le)return[];for(var ke=[],Le=H;Le!=le&&!(te<0&&Le<=le||te>0&&Le>=le);Le+=te)ke.push(j[Le]);return ke}S={Data:1,Get:2,Set:4},E={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},c={NonAsciiIdentifierStart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),NonAsciiIdentifierPart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")},u={name:"SyntaxTree",processComment:function(j){var H,le;if(!(j.type===x.Program&&j.body.length>0)){for(g.trailingComments.length>0?g.trailingComments[0].range[0]>=j.range[1]?(le=g.trailingComments,g.trailingComments=[]):g.trailingComments.length=0:g.bottomRightStack.length>0&&g.bottomRightStack[g.bottomRightStack.length-1].trailingComments&&g.bottomRightStack[g.bottomRightStack.length-1].trailingComments[0].range[0]>=j.range[1]&&(le=g.bottomRightStack[g.bottomRightStack.length-1].trailingComments,delete g.bottomRightStack[g.bottomRightStack.length-1].trailingComments);g.bottomRightStack.length>0&&g.bottomRightStack[g.bottomRightStack.length-1].range[0]>=j.range[0];)H=g.bottomRightStack.pop();H?H.leadingComments&&H.leadingComments[H.leadingComments.length-1].range[1]<=j.range[0]&&(j.leadingComments=H.leadingComments,delete H.leadingComments):g.leadingComments.length>0&&g.leadingComments[g.leadingComments.length-1].range[1]<=j.range[0]&&(j.leadingComments=g.leadingComments,g.leadingComments=[]),le&&(j.trailingComments=le),g.bottomRightStack.push(j)}},markEnd:function(j,H){return g.range&&(j.range=[H.start,s]),g.loc&&(j.loc=new $e(void 0===H.startLineNumber?H.lineNumber:H.startLineNumber,H.start-(void 0===H.startLineStart?H.lineStart:H.startLineStart),a,s-m),this.postProcess(j)),g.attachComment&&this.processComment(j),j},postProcess:function(j){return g.source&&(j.loc.source=g.source),j},createArrayExpression:function(j){return{type:x.ArrayExpression,elements:j}},createAssignmentExpression:function(j,H,le){return{type:x.AssignmentExpression,operator:j,left:H,right:le}},createBinaryExpression:function(j,H,le){return{type:"||"===j||"&&"===j?x.LogicalExpression:x.BinaryExpression,operator:j,left:H,right:le}},createBlockStatement:function(j){return{type:x.BlockStatement,body:j}},createBreakStatement:function(j){return{type:x.BreakStatement,label:j}},createCallExpression:function(j,H){return{type:x.CallExpression,callee:j,arguments:H}},createCatchClause:function(j,H){return{type:x.CatchClause,param:j,body:H}},createConditionalExpression:function(j,H,le){return{type:x.ConditionalExpression,test:j,consequent:H,alternate:le}},createContinueStatement:function(j){return{type:x.ContinueStatement,label:j}},createDebuggerStatement:function(){return{type:x.DebuggerStatement}},createDoWhileStatement:function(j,H){return{type:x.DoWhileStatement,body:j,test:H}},createEmptyStatement:function(){return{type:x.EmptyStatement}},createExpressionStatement:function(j){return{type:x.ExpressionStatement,expression:j}},createForStatement:function(j,H,le,te){return{type:x.ForStatement,init:j,test:H,update:le,body:te}},createForInStatement:function(j,H,le){return{type:x.ForInStatement,left:j,right:H,body:le,each:!1}},createFunctionDeclaration:function(j,H,le,te){return{type:x.FunctionDeclaration,id:j,params:H,defaults:le,body:te,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(j,H,le,te){return{type:x.FunctionExpression,id:j,params:H,defaults:le,body:te,rest:null,generator:!1,expression:!1}},createIdentifier:function(j){return{type:x.Identifier,name:j}},createIfStatement:function(j,H,le){return{type:x.IfStatement,test:j,consequent:H,alternate:le}},createLabeledStatement:function(j,H){return{type:x.LabeledStatement,label:j,body:H}},createLiteral:function(j){return{type:x.Literal,value:j.value,raw:n.slice(j.start,j.end)}},createMemberExpression:function(j,H,le){return{type:x.MemberExpression,computed:"["===j,object:H,property:le}},createNewExpression:function(j,H){return{type:x.NewExpression,callee:j,arguments:H}},createObjectExpression:function(j){return{type:x.ObjectExpression,properties:j}},createPostfixExpression:function(j,H){return{type:x.UpdateExpression,operator:j,argument:H,prefix:!1}},createProgram:function(j){return{type:x.Program,body:j}},createProperty:function(j,H,le){return{type:x.Property,key:H,value:le,kind:j}},createReturnStatement:function(j){return{type:x.ReturnStatement,argument:j}},createSequenceExpression:function(j){return{type:x.SequenceExpression,expressions:j}},createSwitchCase:function(j,H){return{type:x.SwitchCase,test:j,consequent:H}},createSwitchStatement:function(j,H){return{type:x.SwitchStatement,discriminant:j,cases:H}},createThisExpression:function(){return{type:x.ThisExpression}},createThrowStatement:function(j){return{type:x.ThrowStatement,argument:j}},createTryStatement:function(j,H,le,te){return{type:x.TryStatement,block:j,guardedHandlers:H,handlers:le,finalizer:te}},createUnaryExpression:function(j,H){return"++"===j||"--"===j?{type:x.UpdateExpression,operator:j,argument:H,prefix:!0}:{type:x.UnaryExpression,operator:j,argument:H,prefix:!0}},createVariableDeclaration:function(j,H){return{type:x.VariableDeclaration,declarations:j,kind:H}},createVariableDeclarator:function(j,H){return{type:x.VariableDeclarator,id:j,init:H}},createWhileStatement:function(j,H){return{type:x.WhileStatement,test:j,body:H}},createWithStatement:function(j,H){return{type:x.WithStatement,object:j,body:H}}};var Rn=i(18911),Wr=i.n(Rn);function wn(j){return function(H,le,te,se){var ge=H.value,ke=H.path,Le=[],qe=function(ft,St){ei(ft)?(ft.forEach(function(Et,at){Le.length>=se||te(at,Et,le)&&Le.push({path:St.concat(at),value:Et})}),ft.forEach(function(Et,at){Le.length>=se||j&&qe(Et,St.concat(at))})):function zi(j){return j&&!(j instanceof Array)&&j instanceof Object}(ft)&&(Object.keys(ft).forEach(function(Et){Le.length>=se||te(Et,ft[Et],le)&&Le.push({path:St.concat(Et),value:ft[Et]})}),Object.keys(ft).forEach(function(Et){Le.length>=se||j&&qe(ft[Et],St.concat(Et))}))}.bind(this);return qe(ge,ke),Le}}function Jr(j,H){try{return Wr()(j,H)}catch{}}function Hr(j){return function(H,le,te){return this.descend(le,H.expression.value,j,te)}}function Cr(j){return function(H,le,te){return this.traverse(le,H.expression.value,j,te)}}function Vt(j){return function ws(j,H){for(var le=[],te=[],se=0,ge=j?.length;se<ge;se++){var ke=j[se],Le=H?H(ke,se):ke;te.includes(Le)||(te.push(Le),le.push(ke))}return le}(j=j.filter(function(H){return H}),function(H){return H.path.map(function(le){return String(le).replace("-","--")}).join("-")})}function on(j){var H=String(j);return H.match(/^-?[0-9]+$/)?parseInt(H):null}function ei(j){return Array.isArray(j)}function En(j,H,le){var se=Jr(Ut(H).body[0].expression,{"@":j.value}),ge=le.replace(/\{\{\s*value\s*\}\}/g,se),ke=Sn.nodes(j.value,ge);return ke.forEach(function(Le){Le.path=j.path.concat(Le.path.slice(1))}),ke}var bs=function(){function j(){this._fns={"member-child-identifier":function(H,le){var te=H.expression.value,se=le.value;if(se instanceof Object&&te in se)return[{value:se[te],path:le.path.concat(te)}]},"member-descendant-identifier":Cr(function(H,le,te){return H==te}),"subscript-child-numeric_literal":Hr(function(H,le,te){return H===te}),"member-child-numeric_literal":Hr(function(H,le,te){return String(H)===String(te)}),"subscript-descendant-numeric_literal":Cr(function(H,le,te){return H===te}),"member-child-wildcard":Hr(function(){return!0}),"member-descendant-wildcard":Cr(function(){return!0}),"subscript-descendant-wildcard":Cr(function(){return!0}),"subscript-child-wildcard":Hr(function(){return!0}),"subscript-child-slice":function(H,le){if(ei(le.value)){var te=H.expression.value.split(":").map(on),se=le.value.map(function(ge,ke){return{value:ge,path:le.path.concat(ke)}});return Qn.apply(null,[se].concat(te))}},"subscript-child-union":function(H,le){var te=[];return H.expression.value.forEach(function(se){var ge={operation:"subscript",scope:"child",expression:se.expression},Le=this.resolve(ge)(ge,le);Le&&(te=te.concat(Le))},this),Vt(te)},"subscript-descendant-union":function(H,le,te){var se=this,ge=[];return Sn.nodes(le,"$..*").slice(1).forEach(function(Le){ge.length>=te||H.expression.value.forEach(function(qe){var ft={operation:"subscript",scope:"child",expression:qe.expression},Et=se.resolve(ft)(ft,Le);ge=ge.concat(Et)})}),Vt(ge)},"subscript-child-filter_expression":function(H,le,te){var ge=Ut(H.expression.value.slice(2,-1)).body[0].expression;return this.descend(le,null,function(Le,qe){return Jr(ge,{"@":qe})},te)},"subscript-descendant-filter_expression":function(H,le,te){var ge=Ut(H.expression.value.slice(2,-1)).body[0].expression;return this.traverse(le,null,function(Le,qe){return Jr(ge,{"@":qe})},te)},"subscript-child-script_expression":function(H,le){return En(le,H.expression.value.slice(1,-1),"$[{{value}}]")},"member-child-script_expression":function(H,le){return En(le,H.expression.value.slice(1,-1),"$.{{value}}")},"member-descendant-script_expression":function(H,le){return En(le,H.expression.value.slice(1,-1),"$..value")}},this.initialize()}return j.prototype.initialize=function(){this.traverse=wn(!0),this.descend=wn(),this._fns["subscript-child-string_literal"]=this._fns["member-child-identifier"],this._fns["member-descendant-numeric_literal"]=this._fns["subscript-descendant-string_literal"]=this._fns["member-descendant-identifier"]},j.prototype.resolve=function(H){var le=[H.operation,H.scope,H.expression.type].join("-"),te=this._fns[le];if(!te)throw new Error("couldn't resolve key: "+le);return te.bind(this)},j.prototype.register=function(H,le){if(!(le instanceof Function))throw new Error("handler must be a function");this._fns[H]=le},j}(),ri=i(15320);function Pr(){var j=new ri.iX,H=j.parseError;return j.yy.parseError=function(){j.yy.ast&&j.yy.ast.initialize(),H.apply(j,arguments)},j}var Ft=function(){function j(){}return j.ok=function(H,le){if(!H)throw new Error(le)},j.equal=function(H,le,te){if(H!==le)throw new Error(te)},j}(),Sn=function(){function j(){}return j.parse=function(H){return Ft.ok("string"==typeof H,"we need a path"),(new Pr).parse(H)},j.parent=function(H,le){Ft.ok(H instanceof Object,"obj needs to be an object"),Ft.ok(le,"we need a path");var te=this.nodes(H,le)[0];return te.path.pop(),this.value(H,te.path)},j.apply=function(H,le,te){Ft.ok(H instanceof Object,"obj needs to be an object"),Ft.ok(le,"we need a path"),Ft.equal(typeof te,"function","fn needs to be function");var se=this.nodes(H,le).sort(function(ge,ke){return ke.path.length-ge.path.length});return se.forEach(function(ge){var ke=ge.path.pop(),Le=this.value(H,this.stringify(ge.path)),qe=ge.value=te.call(H,Le[ke]);Le[ke]=qe},this),se},j.value=function(H,le,te){if(Ft.ok(H instanceof Object,"obj needs to be an object"),Ft.ok(le,"we need a path"),void 0!==te){var se=this.nodes(H,le).shift();if(!se)return this._vivify(H,le,te);var ge=se.path.slice(-1).shift();this.parent(H,this.stringify(se.path))[ge]=te}return this.query(H,this.stringify(le),1).shift()},j._vivify=function(H,le,te){var se=this;Ft.ok(H instanceof Object,"obj needs to be an object"),Ft.ok(le,"we need a path");var ge=(new Pr).parse(le).map(function(Le){return Le.expression.value}),ke=function(Le,qe){var ft=Le.pop(),St=se.value(H,Le);St||(ke(Le.concat(),"string"==typeof ft?{}:[]),St=se.value(H,Le)),St[ft]=qe};return ke(ge,te),this.query(H,le)[0]},j.query=function(H,le,te){return Ft.ok(H instanceof Object,"obj needs to be an object"),Ft.ok("string"==typeof le,"we need a path"),this.nodes(H,le,te).map(function(ge){return ge.value})},j.paths=function(H,le,te){return Ft.ok(H instanceof Object,"obj needs to be an object"),Ft.ok(le,"we need a path"),this.nodes(H,le,te).map(function(ge){return ge.path})},j.nodes=function(H,le,te){if(Ft.ok(H instanceof Object,"obj needs to be an object"),Ft.ok(le,"we need a path"),0===te)return[];var se=(new Pr).parse(le),ge=new bs,ke=[{path:["$"],value:H}],Le=[];return se.length&&"root"==se[0].expression.type&&se.shift(),se.length?(se.forEach(function(qe,ft){if(!(Le.length>=te)){var St=ge.resolve(qe),Et=[];ke.forEach(function(at){if(!(Le.length>=te)){var Zt=St(qe,at,te);ft==se.length-1?Le=Le.concat(Zt||[]):Et=Et.concat(Zt||[])}}),ke=Et}}),te?Le.slice(0,te):Le):ke},j.stringify=function(H){Ft.ok(H,"we need a path");var le="$",te={"descendant-member":"..{{value}}","child-member":".{{value}}","descendant-subscript":"..[{{value}}]","child-subscript":"[{{value}}]"};return(H=this._normalize(H)).forEach(function(se){if("root"!=se.expression.type){var Le,ge=[se.scope,se.operation].join("-"),ke=te[ge];if(Le="string_literal"==se.expression.type?JSON.stringify(se.expression.value):se.expression.value,!ke)throw new Error("couldn't find template "+ge);le+=ke.replace(/{{value}}/,Le)}}),le},j._normalize=function(H){if(Ft.ok(H,"we need a path"),"string"==typeof H)return(new Pr).parse(H);if(Array.isArray(H)&&"string"==typeof H[0]){var le=[{expression:{type:"root",value:"$"}}];return H.forEach(function(te,se){"$"==te&&0===se||("string"==typeof te&&te.match("^[a-zA-Z_]+[a-zA-Z0-9_]*$")?le.push({operation:"member",scope:"child",expression:{value:te,type:"identifier"}}):le.push({operation:"subscript",scope:"child",expression:{value:te,type:"number"==typeof te?"numeric_literal":"string_literal"}}))}),le}if(Array.isArray(H)&&"object"==typeof H[0])return H;throw new Error("couldn't understand path "+H)},j}()},15320:(Y,f)=>{var h=function(){var v=function(re,ie,O,J){for(O=O||{},J=re.length;J--;O[re[J]]=ie);return O},A=[1,5],S=[1,6],E=[1,7],c=[1,8],u=[1,9],n=[1,18],l=[1,19],s=[1,20],a=[1,12,14,22],m=[1,29],p=[1,30],d=[1,33],y=[1,35],b=[1,31],g=[1,36],x=[1,37],C=[24,28],B={trace:function(){},yy:{},symbols_:{error:2,JSON_PATH:3,DOLLAR:4,PATH_COMPONENTS:5,LEADING_CHILD_MEMBER_EXPRESSION:6,PATH_COMPONENT:7,MEMBER_COMPONENT:8,SUBSCRIPT_COMPONENT:9,CHILD_MEMBER_COMPONENT:10,DESCENDANT_MEMBER_COMPONENT:11,DOT:12,MEMBER_EXPRESSION:13,DOT_DOT:14,STAR:15,IDENTIFIER:16,SCRIPT_EXPRESSION:17,INTEGER:18,END:19,CHILD_SUBSCRIPT_COMPONENT:20,DESCENDANT_SUBSCRIPT_COMPONENT:21,"[":22,SUBSCRIPT:23,"]":24,SUBSCRIPT_EXPRESSION:25,SUBSCRIPT_EXPRESSION_LIST:26,SUBSCRIPT_EXPRESSION_LISTABLE:27,",":28,STRING_LITERAL:29,ARRAY_SLICE:30,FILTER_EXPRESSION:31,QQ_STRING:32,Q_STRING:33,$accept:0,$end:1},terminals_:{2:"error",4:"DOLLAR",12:"DOT",14:"DOT_DOT",15:"STAR",16:"IDENTIFIER",17:"SCRIPT_EXPRESSION",18:"INTEGER",19:"END",22:"[",24:"]",28:",",30:"ARRAY_SLICE",31:"FILTER_EXPRESSION",32:"QQ_STRING",33:"Q_STRING"},productions_:[0,[3,1],[3,2],[3,1],[3,2],[5,1],[5,2],[7,1],[7,1],[8,1],[8,1],[10,2],[6,1],[11,2],[13,1],[13,1],[13,1],[13,1],[13,1],[9,1],[9,1],[20,3],[21,4],[23,1],[23,1],[26,1],[26,3],[27,1],[27,1],[27,1],[25,1],[25,1],[25,1],[29,1],[29,1]],performAction:function(ie,O,J,k,Z,W,pe){k.ast||(k.ast=F,F.initialize());var R=W.length-1;switch(Z){case 1:return k.ast.set({expression:{type:"root",value:W[R]}}),k.ast.unshift(),k.ast.yield();case 2:return k.ast.set({expression:{type:"root",value:W[R-1]}}),k.ast.unshift(),k.ast.yield();case 3:return k.ast.unshift(),k.ast.yield();case 4:return k.ast.set({operation:"member",scope:"child",expression:{type:"identifier",value:W[R-1]}}),k.ast.unshift(),k.ast.yield();case 5:case 6:case 11:case 13:case 18:case 21:case 22:case 23:break;case 7:k.ast.set({operation:"member"}),k.ast.push();break;case 8:k.ast.set({operation:"subscript"}),k.ast.push();break;case 9:case 19:k.ast.set({scope:"child"});break;case 10:case 20:k.ast.set({scope:"descendant"});break;case 12:k.ast.set({scope:"child",operation:"member"});break;case 14:k.ast.set({expression:{type:"wildcard",value:W[R]}});break;case 15:k.ast.set({expression:{type:"identifier",value:W[R]}});break;case 16:k.ast.set({expression:{type:"script_expression",value:W[R]}});break;case 17:k.ast.set({expression:{type:"numeric_literal",value:parseInt(W[R])}});break;case 24:W[R].length>1?k.ast.set({expression:{type:"union",value:W[R]}}):this.$=W[R];break;case 25:this.$=[W[R]];break;case 26:this.$=W[R-2].concat(W[R]);break;case 27:this.$={expression:{type:"numeric_literal",value:parseInt(W[R])}},k.ast.set(this.$);break;case 28:this.$={expression:{type:"string_literal",value:W[R]}},k.ast.set(this.$);break;case 29:this.$={expression:{type:"slice",value:W[R]}},k.ast.set(this.$);break;case 30:this.$={expression:{type:"wildcard",value:W[R]}},k.ast.set(this.$);break;case 31:this.$={expression:{type:"script_expression",value:W[R]}},k.ast.set(this.$);break;case 32:this.$={expression:{type:"filter_expression",value:W[R]}},k.ast.set(this.$);break;case 33:case 34:this.$=W[R]}},table:[{3:1,4:[1,2],6:3,13:4,15:A,16:S,17:E,18:c,19:u},{1:[3]},{1:[2,1],5:10,7:11,8:12,9:13,10:14,11:15,12:n,14:l,20:16,21:17,22:s},{1:[2,3],5:21,7:11,8:12,9:13,10:14,11:15,12:n,14:l,20:16,21:17,22:s},v(a,[2,12]),v(a,[2,14]),v(a,[2,15]),v(a,[2,16]),v(a,[2,17]),v(a,[2,18]),{1:[2,2],7:22,8:12,9:13,10:14,11:15,12:n,14:l,20:16,21:17,22:s},v(a,[2,5]),v(a,[2,7]),v(a,[2,8]),v(a,[2,9]),v(a,[2,10]),v(a,[2,19]),v(a,[2,20]),{13:23,15:A,16:S,17:E,18:c,19:u},{13:24,15:A,16:S,17:E,18:c,19:u,22:[1,25]},{15:m,17:p,18:d,23:26,25:27,26:28,27:32,29:34,30:y,31:b,32:g,33:x},{1:[2,4],7:22,8:12,9:13,10:14,11:15,12:n,14:l,20:16,21:17,22:s},v(a,[2,6]),v(a,[2,11]),v(a,[2,13]),{15:m,17:p,18:d,23:38,25:27,26:28,27:32,29:34,30:y,31:b,32:g,33:x},{24:[1,39]},{24:[2,23]},{24:[2,24],28:[1,40]},{24:[2,30]},{24:[2,31]},{24:[2,32]},v(C,[2,25]),v(C,[2,27]),v(C,[2,28]),v(C,[2,29]),v(C,[2,33]),v(C,[2,34]),{24:[1,41]},v(a,[2,21]),{18:d,27:42,29:34,30:y,32:g,33:x},v(a,[2,22]),v(C,[2,26])],defaultActions:{27:[2,23],29:[2,30],30:[2,31],31:[2,32]},parseError:function(ie,O){if(!O.recoverable){var J=new Error(ie);throw J.hash=O,J}this.trace(ie)},parse:function(ie){var J=[0],Z=[null],W=[],pe=this.table,R="",X=0,oe=0,be=0,I=W.slice.call(arguments,1),V=Object.create(this.lexer),M={yy:{}};for(var Q in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Q)&&(M.yy[Q]=this.yy[Q]);V.setInput(ie,M.yy),M.yy.lexer=V,M.yy.parser=this,typeof V.yylloc>"u"&&(V.yylloc={});var ue=V.yylloc;W.push(ue);var Re,de=V.options&&V.options.ranges;this.parseError="function"==typeof M.yy.parseError?M.yy.parseError:Object.getPrototypeOf(this).parseError;for(var _e,He,Pe,Oe,ve,De,je,$e,ye={};;){if(this.defaultActions[Pe=J[J.length-1]]?Oe=this.defaultActions[Pe]:((null===_e||typeof _e>"u")&&(Re=void 0,"number"!=typeof(Re=V.lex()||1)&&(Re=this.symbols_[Re]||Re),_e=Re),Oe=pe[Pe]&&pe[Pe][_e]),typeof Oe>"u"||!Oe.length||!Oe[0]){var Ue;for(De in $e=[],pe[Pe])this.terminals_[De]&&De>2&&$e.push("'"+this.terminals_[De]+"'");Ue=V.showPosition?"Parse error on line "+(X+1)+":\n"+V.showPosition()+"\nExpecting "+$e.join(", ")+", got '"+(this.terminals_[_e]||_e)+"'":"Parse error on line "+(X+1)+": Unexpected "+(1==_e?"end of input":"'"+(this.terminals_[_e]||_e)+"'"),this.parseError(Ue,{text:V.match,token:this.terminals_[_e]||_e,line:V.yylineno,loc:ue,expected:$e})}if(Oe[0]instanceof Array&&Oe.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Pe+", token: "+_e);switch(Oe[0]){case 1:J.push(_e),Z.push(V.yytext),W.push(V.yylloc),J.push(Oe[1]),_e=null,He?(_e=He,He=null):(oe=V.yyleng,R=V.yytext,X=V.yylineno,ue=V.yylloc,be>0&&be--);break;case 2:if(ye.$=Z[Z.length-(je=this.productions_[Oe[1]][1])],ye._$={first_line:W[W.length-(je||1)].first_line,last_line:W[W.length-1].last_line,first_column:W[W.length-(je||1)].first_column,last_column:W[W.length-1].last_column},de&&(ye._$.range=[W[W.length-(je||1)].range[0],W[W.length-1].range[1]]),typeof(ve=this.performAction.apply(ye,[R,oe,X,M.yy,Oe[1],Z,W].concat(I)))<"u")return ve;je&&(J=J.slice(0,-1*je*2),Z=Z.slice(0,-1*je),W=W.slice(0,-1*je)),J.push(this.productions_[Oe[1]][0]),Z.push(ye.$),W.push(ye._$),J.push(pe[J[J.length-2]][J[J.length-1]]);break;case 3:return!0}}return!0}},F={initialize:function(){this._nodes=[],this._node={},this._stash=[]},set:function(re){for(var ie in re)this._node[ie]=re[ie];return this._node},node:function(re){return arguments.length&&(this._node=re),this._node},push:function(){this._nodes.push(this._node),this._node={}},unshift:function(){this._nodes.unshift(this._node),this._node={}},yield:function(){var re=this._nodes;return this.initialize(),re}};function z(){this.yy={}}return B.lexer=function(){return{EOF:1,parseError:function(O,J){if(!this.yy.parser)throw new Error(O);this.yy.parser.parseError(O,J)},setInput:function(ie,O){return this.yy=O||this.yy||{},this._input=ie,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ie=this._input[0];return this.yytext+=ie,this.yyleng++,this.offset++,this.match+=ie,this.matched+=ie,ie.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ie},unput:function(ie){var O=ie.length,J=ie.split(/(?:\r\n?|\n)/g);this._input=ie+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-O),this.offset-=O;var k=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),J.length-1&&(this.yylineno-=J.length-1);var Z=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:J?(J.length===k.length?this.yylloc.first_column:0)+k[k.length-J.length].length-J[0].length:this.yylloc.first_column-O},this.options.ranges&&(this.yylloc.range=[Z[0],Z[0]+this.yyleng-O]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(ie){this.unput(this.match.slice(ie))},pastInput:function(){var ie=this.matched.substr(0,this.matched.length-this.match.length);return(ie.length>20?"...":"")+ie.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ie=this.match;return ie.length<20&&(ie+=this._input.substr(0,20-ie.length)),(ie.substr(0,20)+(ie.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ie=this.pastInput(),O=new Array(ie.length+1).join("-");return ie+this.upcomingInput()+"\n"+O+"^"},test_match:function(ie,O){var J,k,Z;if(this.options.backtrack_lexer&&(Z={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Z.yylloc.range=this.yylloc.range.slice(0))),(k=ie[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=k.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:k?k[k.length-1].length-k[k.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ie[0].length},this.yytext+=ie[0],this.match+=ie[0],this.matches=ie,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ie[0].length),this.matched+=ie[0],J=this.performAction.call(this,this.yy,this,O,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),J)return J;if(this._backtrack){for(var W in Z)this[W]=Z[W];return!1}return!1},next:function(){if(this.done)return this.EOF;var ie,O,J,k;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var Z=this._currentRules(),W=0;W<Z.length;W++)if((J=this._input.match(this.rules[Z[W]]))&&(!O||J[0].length>O[0].length)){if(O=J,k=W,this.options.backtrack_lexer){if(!1!==(ie=this.test_match(J,Z[W])))return ie;if(this._backtrack){O=!1;continue}return!1}if(!this.options.flex)break}return O?!1!==(ie=this.test_match(O,Z[k]))&&ie:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(O){this.conditionStack.push(O)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(O){return(O=this.conditionStack.length-1-Math.abs(O||0))>=0?this.conditionStack[O]:"INITIAL"},pushState:function(O){this.begin(O)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(O,J,k,Z){switch(k){case 0:return 4;case 1:return 14;case 2:return 12;case 3:return 15;case 4:return 16;case 5:return 22;case 6:return 24;case 7:return 28;case 8:return 30;case 9:return 18;case 10:return J.yytext=J.yytext.substr(1,J.yyleng-2),32;case 11:return J.yytext=J.yytext.substr(1,J.yyleng-2),33;case 12:return 17;case 13:return 31}},rules:[/^(?:\$)/,/^(?:\.\.)/,/^(?:\.)/,/^(?:\*)/,/^(?:[a-zA-Z_]+[a-zA-Z0-9_]*)/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?:((-?(?:0|[1-9][0-9]*)))?\:((-?(?:0|[1-9][0-9]*)))?(\:((-?(?:0|[1-9][0-9]*)))?)?)/,/^(?:(-?(?:0|[1-9][0-9]*)))/,/^(?:"(?:\\["bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^"\\])*")/,/^(?:'(?:\\['bfnrt\/\\]|\\u[a-fA-F0-9]{4}|[^'\\])*')/,/^(?:\(.+?\)(?=\]))/,/^(?:\?\(.+?\)(?=\]))/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}(),z.prototype=B,B.Parser=z,new z}();f.iX=h.Parser},15315:(Y,f,i)=>{"use strict";var k,h=Object.defineProperty,v=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,S=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(k,Z)=>{var W={};for(var pe in k)E.call(k,pe)&&Z.indexOf(pe)<0&&(W[pe]=k[pe]);if(null!=k&&S)for(var pe of S(k))Z.indexOf(pe)<0&&c.call(k,pe)&&(W[pe]=k[pe]);return W},a=(k,Z,W)=>new Promise((pe,R)=>{var X=Ie=>{try{be(W.next(Ie))}catch(w){R(w)}},oe=Ie=>{try{be(W.throw(Ie))}catch(w){R(w)}},be=Ie=>Ie.done?pe(Ie.value):Promise.resolve(Ie.value).then(X,oe);be((W=W.apply(k,Z)).next())}),m={};((k,Z)=>{for(var W in Z)h(k,W,{get:Z[W],enumerable:!0})})(m,{createHashMapping:()=>z,createHashMappingSync:()=>re,decodeJwt:()=>y,decodeSdJwt:()=>g,decodeSdJwtSync:()=>x,getClaims:()=>C,getClaimsSync:()=>B,getSDAlgAndPayload:()=>ie,splitSdJwt:()=>b,unpack:()=>O,unpackArray:()=>F,unpackObj:()=>T,unpackSync:()=>J}),Y.exports=(k=m,((k,Z,W,pe)=>{if(Z&&"object"==typeof Z||"function"==typeof Z)for(let R of A(Z))!E.call(k,R)&&undefined!==R&&h(k,R,{get:()=>Z[R],enumerable:!(pe=v(Z,R))||pe.enumerable});return k})(h({},"__esModule",{value:!0}),k));var p=i(47862),d=i(29994),y=k=>{const{0:Z,1:W,2:pe,length:R}=k.split(".");if(3!==R)throw new p.SDJWTException("Invalid JWT as input");return{header:JSON.parse((0,p.base64urlDecode)(Z)),payload:JSON.parse((0,p.base64urlDecode)(W)),signature:pe}},b=k=>{const[Z,...W]=k.split(d.SD_SEPARATOR);if(0===W.length)return{jwt:Z,disclosures:[]};const pe=W.pop();return{jwt:Z,disclosures:W,kbJwt:pe||void 0}},g=(k,Z)=>a(void 0,null,function*(){const[W,...pe]=k.split(d.SD_SEPARATOR),R=y(W);if(0===pe.length)return{jwt:R,disclosures:[]};const X=pe.pop(),oe=X?y(X):void 0,{_sd_alg:be}=ie(R.payload);return{jwt:R,disclosures:yield Promise.all(pe.map(w=>p.Disclosure.fromEncode(w,{alg:be,hasher:Z}))),kbJwt:oe}}),x=(k,Z)=>{const[W,...pe]=k.split(d.SD_SEPARATOR),R=y(W);if(0===pe.length)return{jwt:R,disclosures:[]};const X=pe.pop(),oe=X?y(X):void 0,{_sd_alg:be}=ie(R.payload);return{jwt:R,disclosures:pe.map(w=>p.Disclosure.fromEncodeSync(w,{alg:be,hasher:Z})),kbJwt:oe}},C=(k,Z,W)=>a(void 0,null,function*(){const{unpackedObj:pe}=yield O(k,Z,W);return pe}),B=(k,Z,W)=>{const{unpackedObj:pe}=J(k,Z,W);return pe},F=(k,Z,W="")=>{const pe={},R=[];return k.forEach((X,oe)=>{if("object"==typeof X&&null!==X){const be=X[d.SD_LIST_KEY];if(be){const Ie=Z[be];if(Ie){const w=W?`${W}.${oe}`:`${oe}`;pe[w]=be;const{unpackedObj:I,disclosureKeymap:V}=T(Ie.value,Z,w);R.push(I),Object.assign(pe,V)}}else{const Ie=W?`${W}.${oe}`:`${oe}`,{unpackedObj:w,disclosureKeymap:I}=T(X,Z,Ie);R.push(w),Object.assign(pe,I)}}else R.push(X)}),{unpackedObj:R,disclosureKeymap:pe}},T=(k,Z,W="")=>{const pe={};if("object"==typeof k&&null!==k){if(Array.isArray(k))return F(k,Z,W);for(const w in k)if(w!==d.SD_DIGEST&&w!==d.SD_LIST_KEY&&"object"==typeof k[w]){const I=W?`${W}.${w}`:w,{unpackedObj:V,disclosureKeymap:M}=T(k[w],Z,I);k[w]=V,Object.assign(pe,M)}const R=k,{_sd:X}=R,oe=u(R,["_sd"]),be={};if(X)for(const w of X){const I=Z[w];if(I?.key){const V=W?`${W}.${I.key}`:I.key;pe[V]=w;const{unpackedObj:M,disclosureKeymap:Q}=T(I.value,Z,V);be[I.key]=M,Object.assign(pe,Q)}}return{unpackedObj:Object.assign(oe,be),disclosureKeymap:pe}}return{unpackedObj:k,disclosureKeymap:pe}},z=(k,Z)=>a(void 0,null,function*(){const W={};for(let pe=0;pe<k.length;pe++){const R=k[pe];W[yield R.digest(Z)]=R}return W}),re=(k,Z)=>{const W={};for(let pe=0;pe<k.length;pe++){const R=k[pe];W[R.digestSync(Z)]=R}return W},ie=k=>{const Z=k,{_sd_alg:W}=Z,pe=u(Z,["_sd_alg"]);return"string"!=typeof W?{_sd_alg:"sha-256",payload:pe}:{_sd_alg:W,payload:pe}},O=(k,Z,W)=>a(void 0,null,function*(){const{_sd_alg:pe,payload:R}=ie(k),oe=yield z(Z,{hasher:W,alg:pe});return T(R,oe)}),J=(k,Z,W)=>{const{_sd_alg:pe,payload:R}=ie(k),oe=re(Z,{hasher:W,alg:pe});return T(R,oe)}},22084:(Y,f,i)=>{"use strict";var B,h=Object.defineProperty,v=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,n=(B,F,T)=>new Promise((z,re)=>{var ie=k=>{try{J(T.next(k))}catch(Z){re(Z)}},O=k=>{try{J(T.throw(k))}catch(Z){re(Z)}},J=k=>k.done?z(k.value):Promise.resolve(k.value).then(ie,O);J((T=T.apply(B,F)).next())}),l={};((B,F)=>{for(var T in F)h(B,T,{get:F[T],enumerable:!0})})(l,{createHashMappingForSerializedDisclosure:()=>x,present:()=>y,presentSync:()=>b,presentableKeys:()=>p,presentableKeysSync:()=>d,selectDisclosures:()=>C,transformPresentationFrame:()=>g}),Y.exports=(B=l,((B,F,T,z)=>{if(F&&"object"==typeof F||"function"==typeof F)for(let re of A(F))!S.call(B,re)&&undefined!==re&&h(B,re,{get:()=>F[re],enumerable:!(z=v(F,re))||z.enumerable});return B})(h({},"__esModule",{value:!0}),B));var s=i(29994),a=i(47862),m=i(15315),p=(B,F,T)=>n(void 0,null,function*(){const{disclosureKeymap:z}=yield(0,m.unpack)(B,F,T);return Object.keys(z).sort()}),d=(B,F,T)=>{const{disclosureKeymap:z}=(0,m.unpackSync)(B,F,T);return Object.keys(z).sort()},y=(B,F,T)=>n(void 0,null,function*(){const{jwt:z,kbJwt:re}=(0,m.splitSdJwt)(B),{jwt:{payload:ie},disclosures:O}=yield(0,m.decodeSdJwt)(B,T),{_sd_alg:J}=(0,m.getSDAlgAndPayload)(ie),k={alg:J,hasher:T},Z=g(F),W=yield(0,m.createHashMapping)(O,k),{disclosureKeymap:pe}=yield(0,m.unpack)(ie,O,T);return[z,...Z.map(X=>W[pe[X]]).filter(X=>void 0!==X).map(X=>X.encode()),re??""].join(s.SD_SEPARATOR)}),b=(B,F,T)=>{const{jwt:z,kbJwt:re}=(0,m.splitSdJwt)(B),{jwt:{payload:ie},disclosures:O}=(0,m.decodeSdJwtSync)(B,T),{_sd_alg:J}=(0,m.getSDAlgAndPayload)(ie),k={alg:J,hasher:T},Z=g(F),W=(0,m.createHashMappingSync)(O,k),{disclosureKeymap:pe}=(0,m.unpackSync)(ie,O,T);return[z,...Z.map(X=>W[pe[X]]).filter(X=>void 0!==X).map(X=>X.encode()),re??""].join(s.SD_SEPARATOR)},g=(B,F="")=>Object.entries(B).reduce((T,[z,re])=>{const ie=F?`${F}.${z}`:z;return"boolean"==typeof re?re&&T.push(ie):T.push(ie,...g(re,ie)),T},[]),x=B=>{const F={};for(let T=0;T<B.length;T++){const z=B[T],{digest:re,encoded:ie,key:O,salt:J,value:k}=z;F[re]=a.Disclosure.fromArray(O?[J,O,k]:[J,k],{digest:re,encoded:ie})}return F},C=(B,F,T)=>{if(0===F.length)return[];const z=x(F),{disclosureKeymap:re}=(0,m.unpackObj)(B,z);return g(T).map(k=>z[re[k]]).filter(k=>void 0!==k).map(k=>{const{salt:Z,key:W,value:pe,_digest:R}=k;if(!R)throw new a.SDJWTException("Implementation error: _digest is not defined");return{digest:R,encoded:k.encode(),salt:Z,key:W,value:pe}})}},29994:Y=>{"use strict";var m,f=Object.defineProperty,i=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,c={};((m,p)=>{for(var d in p)f(m,d,{get:p[d],enumerable:!0})})(c,{KB_JWT_TYP:()=>a,SD_DECOY:()=>s,SD_DIGEST:()=>l,SD_LIST_KEY:()=>n,SD_SEPARATOR:()=>u}),Y.exports=(m=c,((m,p,d,y)=>{if(p&&"object"==typeof p||"function"==typeof p)for(let b of h(p))!v.call(m,b)&&undefined!==b&&f(m,b,{get:()=>p[b],enumerable:!(y=i(p,b))||y.enumerable});return m})(f({},"__esModule",{value:!0}),m));var u="~",n="...",l="_sd",s="_sd_decoy",a="kb+jwt"},47862:(Y,f,i)=>{"use strict";var b,h=Object.defineProperty,v=Object.getOwnPropertyDescriptor,A=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,n=(b,g,x)=>new Promise((C,B)=>{var F=re=>{try{z(x.next(re))}catch(ie){B(ie)}},T=re=>{try{z(x.throw(re))}catch(ie){B(ie)}},z=re=>re.done?C(re.value):Promise.resolve(re.value).then(F,T);z((x=x.apply(b,g)).next())}),l={};((b,g)=>{for(var x in g)h(b,x,{get:g[x],enumerable:!0})})(l,{Disclosure:()=>y,SDJWTException:()=>d,base64urlDecode:()=>m,base64urlEncode:()=>a,uint8ArrayToBase64Url:()=>p}),Y.exports=(b=l,((b,g,x,C)=>{if(g&&"object"==typeof g||"function"==typeof g)for(let B of A(g))!S.call(b,B)&&undefined!==B&&h(b,B,{get:()=>g[B],enumerable:!(C=v(g,B))||C.enumerable});return b})(h({},"__esModule",{value:!0}),b));var s=i(12398),a=s.Base64.encodeURI,m=s.Base64.decode,p=b=>s.Base64.fromUint8Array(b,!0),d=class pu extends Error{constructor(g,x){super(g),Object.setPrototypeOf(this,pu.prototype),this.name="SDJWTException",this.details=x}getFullMessage(){return`${this.name}: ${this.message} ${this.details?`- ${JSON.stringify(this.details)}`:""}`}},y=class gs{constructor(g,x){if(this._digest=x?.digest,this._encoded=x?.encoded,2===g.length)return this.salt=g[0],void(this.value=g[1]);if(3===g.length)return this.salt=g[0],this.key=g[1],void(this.value=g[2]);throw new d("Invalid disclosure data")}static fromEncode(g,x){return n(this,null,function*(){const{hasher:C,alg:B}=x,F=yield C(g,B),T=p(F),z=JSON.parse(m(g));return gs.fromArray(z,{digest:T,encoded:g})})}static fromEncodeSync(g,x){const{hasher:C,alg:B}=x,F=C(g,B),T=p(F),z=JSON.parse(m(g));return gs.fromArray(z,{digest:T,encoded:g})}static fromArray(g,x){return new gs(g,x)}encode(){return this._encoded||(this._encoded=a(JSON.stringify(this.decode()))),this._encoded}decode(){return this.key?[this.salt,this.key,this.value]:[this.salt,this.value]}digest(g){return n(this,null,function*(){const{hasher:x,alg:C}=g;if(!this._digest){const B=yield x(this.encode(),C);this._digest=p(B)}return this._digest})}digestSync(g){const{hasher:x,alg:C}=g;if(!this._digest){const B=x(this.encode(),C);this._digest=p(B)}return this._digest}}},47636:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(83858),f)},66091:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},80723:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},25515:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},18414:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},95517:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},37728:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},39762:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.Directives=void 0,f.Directives={Required:"required",Allowed:"allowed",Disallowed:"disallowed"}},891:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ExchangeStatus=void 0,f.ExchangeStatus={Created:"CREATED",Submitted:"SUBMITTED",HolderDeclined:"HOLDER_DECLINED",Expired:"EXPIRED",Accepted:"ACCEPTED",VerifierDeclined:"VERIFIER_DECLINED"}},67847:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},40826:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},56911:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},17954:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},79506:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},23843:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},39711:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},5179:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},68020:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},54078:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},81755:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},83947:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},73725:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},87260:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},75873:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},83858:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(66091),f),v(i(80723),f),v(i(25515),f),v(i(18414),f),v(i(95517),f),v(i(37728),f),v(i(39762),f),v(i(891),f),v(i(67847),f),v(i(40826),f),v(i(56911),f),v(i(17954),f),v(i(79506),f),v(i(23843),f),v(i(39711),f),v(i(5179),f),v(i(68020),f),v(i(54078),f),v(i(81755),f),v(i(83947),f),v(i(73725),f),v(i(87260),f),v(i(75873),f),v(i(99959),f),v(i(41787),f),v(i(25526),f),v(i(8946),f),v(i(62704),f),v(i(13065),f),v(i(42834),f),v(i(32206),f),v(i(35723),f),v(i(31748),f),v(i(80125),f),v(i(9668),f),v(i(57669),f),v(i(56179),f),v(i(79369),f),v(i(6982),f),v(i(46521),f),v(i(28858),f),v(i(78029),f),v(i(3296),f)},99959:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},41787:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},25526:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.Optionality=void 0,f.Optionality={Required:"required",Preferred:"preferred"}},8946:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},62704:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},13065:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},42834:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},32206:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},35723:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},31748:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},80125:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},9668:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},57669:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.Rules=void 0,f.Rules={All:"all",Pick:"pick"}},56179:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},79369:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},6982:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.Status=void 0,f.Status={Success:"SUCCESS",Warn:"WARN",Error:"ERROR"}},46521:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},28858:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},78029:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},3296:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},30720:(Y,f,i)=>{"use strict";f.E8=void 0;const v=i(2700);Object.defineProperty(f,"E8",{enumerable:!0,get:function(){return v.PEX}})},55776:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.hasErrors=f.Checked=f.Status=void 0,f.Status={INFO:"info",WARN:"warn",ERROR:"error"},f.Checked=class{constructor(v,A,S){this.tag=v,this.status=A,this.message=S}},f.hasErrors=v=>v.filter(S=>function A(S){return S.status===f.Status.ERROR}(S)).length>0},97889:function(Y,f,i){"use strict";var h=this&&this.__awaiter||function(s,a,m,p){return new(m||(m=Promise))(function(y,b){function g(B){try{C(p.next(B))}catch(F){b(F)}}function x(B){try{C(p.throw(B))}catch(F){b(F)}}function C(B){B.done?y(B.value):function d(y){return y instanceof m?y:new m(function(b){b(y)})}(B.value).then(g,x)}C((p=p.apply(s,a||[])).next())})};Object.defineProperty(f,"__esModule",{value:!0}),f.PEX=void 0;const v=i(11151),A=i(55776),S=i(70143),E=i(64864),c=i(99938),u=i(13486),n=i(80930);class l{constructor(a){this._evaluationClientWrapper=new S.EvaluationClientWrapper,this.options=a}evaluatePresentation(a,m,p){var d,y,b;const g=void 0!==p?.generatePresentationSubmission?p.generatePresentationSubmission:void 0===p?.presentationSubmission,x=c.SSITypesBuilder.toInternalPresentationDefinition(a),C=JSON.parse(JSON.stringify(m)),B=c.SSITypesBuilder.mapExternalVerifiablePresentationToWrappedVP(C,null===(d=this.options)||void 0===d?void 0:d.hasher),F=null!==(y=p?.presentationSubmission)&&void 0!==y?y:B.decoded.presentation_submission;if(!F&&!g)throw Error("Either a presentation submission as part of the VP or provided separately was expected");const T=v.CredentialMapper.isW3cPresentation(B.presentation)&&B.presentation.holder?[B.presentation.holder]:[],z=Object.assign(Object.assign({},p),{holderDIDs:T,presentationSubmission:F,generatePresentationSubmission:g}),re=this._evaluationClientWrapper.evaluate(x,B.vcs,z);return!(null===(b=re.value)||void 0===b)&&b.descriptor_map.length&&(new S.EvaluationClientWrapper).selectFrom(x,B.vcs,z).areRequiredCredentialsPresent!==A.Status.ERROR&&(re.errors=[]),re}evaluateCredentials(a,m,p){var d;const y=c.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(m,null===(d=this.options)||void 0===d?void 0:d.hasher);this._evaluationClientWrapper=new S.EvaluationClientWrapper;const b=c.SSITypesBuilder.toInternalPresentationDefinition(a),g=this._evaluationClientWrapper.evaluate(b,y,p);if(g.value&&g.value.descriptor_map.length){const C=(new S.EvaluationClientWrapper).selectFrom(b,y,p);g.areRequiredCredentialsPresent=C.areRequiredCredentialsPresent,g.errors=C.errors}else g.areRequiredCredentialsPresent=A.Status.ERROR;return g}selectFrom(a,m,p){var d;const y=JSON.parse(JSON.stringify(m)),b=c.SSITypesBuilder.toInternalPresentationDefinition(a);return this._evaluationClientWrapper=new S.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(b,c.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(y,null===(d=this.options)||void 0===d?void 0:d.hasher),p)}presentationSubmissionFrom(a,m,p){var d;const y=c.SSITypesBuilder.toInternalPresentationDefinition(a);return this._evaluationClientWrapper.submissionFrom(y,c.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(m,null===(d=this.options)||void 0===d?void 0:d.hasher),p)}presentationFrom(a,m,p){var d,y;const b=this.presentationSubmissionFrom(a,m,p),g=m.some(B=>v.CredentialMapper.isSdJwtDecodedCredential(B)||v.CredentialMapper.isSdJwtEncoded(B));if(p?.presentationSubmissionLocation===E.PresentationSubmissionLocation.PRESENTATION&&g)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const x=null!==(d=p?.presentationSubmissionLocation)&&void 0!==d?d:g?E.PresentationSubmissionLocation.EXTERNAL:E.PresentationSubmissionLocation.PRESENTATION;return{presentation:l.constructPresentation(m,Object.assign(Object.assign({},p),{presentationSubmission:x===E.PresentationSubmissionLocation.PRESENTATION?b:void 0,hasher:null===(y=this.options)||void 0===y?void 0:y.hasher})),presentationSubmissionLocation:x,presentationSubmission:b}}static constructPresentation(a,m){var p,d,y,b;const g=Array.isArray(a)?a:[a];if(g.some(x=>v.CredentialMapper.isSdJwtDecodedCredential(x)||v.CredentialMapper.isSdJwtEncoded(x))){if(g.length>1)throw new Error("Only a single credential is supported when creating a presentation with an SD-JWT VC");if(m?.presentationSubmission)throw new Error("Presentation submission cannot be included in the presentation when creating a presentation with an SD-JWT VC");if(m?.basePresentationPayload)throw new Error("Base presentation payload cannot be when creating a presentation from an SD-JWT VC");const x=v.CredentialMapper.isSdJwtEncoded(g[0])?v.CredentialMapper.decodeVerifiableCredential(g[0],m?.hasher):g[0];if(!m?.hasher)throw new Error("Hasher must be provided when creating a presentation with an SD-JWT VC");const C=null!==(p=x.signedPayload._sd_alg)&&void 0!==p?p:"sha-256",B=(0,u.calculateSdHash)(x.compactSdJwtVc,C,m.hasher),F={header:{typ:"kb+jwt"},payload:{iat:(new Date).getTime(),_sd_hash:B}};return Object.assign(Object.assign({},x),{kbJwt:F})}{if(!a)throw Error("At least a verifiable credential needs to be passed in to create a presentation");const x=Array.isArray(a)?a:[a],C=x.map(re=>v.CredentialMapper.toWrappedVerifiableCredential(re)),B=Array.from(new Set(C.flatMap(re=>(0,u.getSubjectIdsAsString)(re.credential))));1!==B.length&&!m?.holderDID&&console.log(`We deduced ${B.length} subject from ${C.length} Verifiable Credentials, and no holder property was given. This might lead to undesired results`);const F=null!==(d=m?.holderDID)&&void 0!==d?d:1===B.length?B[0]:void 0,T=null!==(y=m?.basePresentationPayload)&&void 0!==y&&y.type?Array.isArray(m.basePresentationPayload.type)?m.basePresentationPayload.type:[m.basePresentationPayload.type]:[];T.includes("VerifiablePresentation")||T.push("VerifiablePresentation");const z=null!==(b=m?.basePresentationPayload)&&void 0!==b&&b["@context"]?Array.isArray(m.basePresentationPayload["@context"])?m.basePresentationPayload["@context"]:[m.basePresentationPayload["@context"]]:[];return z.includes("https://www.w3.org/2018/credentials/v1")||z.push("https://www.w3.org/2018/credentials/v1"),m?.presentationSubmission&&(T.includes("PresentationSubmission")||T.push("PresentationSubmission"),z.includes("https://identity.foundation/presentation-exchange/submission/v1")||z.push("https://identity.foundation/presentation-exchange/submission/v1")),Object.assign(Object.assign(Object.assign(Object.assign({},m?.basePresentationPayload),{"@context":z,type:T,holder:F}),!!m?.presentationSubmission&&{presentation_submission:m.presentationSubmission}),{verifiableCredential:x})}}static validateDefinition(a){const m=(0,u.definitionVersionDiscovery)(a);if(m.error)throw new Error(m.error);const p=[];return p.push(m.version===c.PEVersion.v1?{bundler:new n.PresentationDefinitionV1VB("root"),target:c.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(a)}:{bundler:new n.PresentationDefinitionV2VB("root"),target:c.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(a)}),(new n.ValidationEngine).validate(p)}static validateSubmission(a){return(new n.ValidationEngine).validate([{bundler:new n.PresentationSubmissionVB("root"),target:a}])}verifiablePresentationFrom(a,m,p,d){return h(this,void 0,void 0,function*(){var y,b;const{holderDID:g,signatureOptions:x,proofOptions:C}=d,F=g?[g]:[],T=function B(){let W=[];if(C?.typeSupportsSelectiveDisclosure){if(!C?.type)throw Error("Please provide a proof type if you enable selective disclosure");W=[C.type]}return W}(),z=this.evaluateCredentials(a,m,{holderDIDs:F,limitDisclosureSignatureSuites:T}),re=this.presentationFrom(a,z.verifiableCredential,d),ie=this.evaluatePresentation(a,re.presentation,Object.assign({limitDisclosureSignatureSuites:T},re.presentationSubmissionLocation===E.PresentationSubmissionLocation.EXTERNAL&&{presentationSubmission:re.presentationSubmission}));if(!ie.value)throw new Error("Could not get evaluation results from presentationResult");const O={type:C?.type,verificationMethod:x?.verificationMethod,created:C?.created?C.created:(new Date).toISOString(),proofPurpose:C?.proofPurpose,proofValue:x?.proofValue,jws:x?.jws,challenge:C?.challenge,nonce:C?.nonce,domain:C?.domain};let J=re.presentation;if(v.CredentialMapper.isSdJwtDecodedCredential(re.presentation)){if(null===(y=this.options)||void 0===y||!y.hasher)throw new Error("Hasher must be provided when creating a presentation with an SD-JWT VC");const W=null!==(b=re.presentation.signedPayload._sd_alg)&&void 0!==b?b:"sha-256",pe=(0,u.calculateSdHash)(re.presentation.compactSdJwtVc,W,this.options.hasher),R={header:{typ:"kb+jwt"},payload:{iat:(new Date).getTime(),nonce:C?.nonce,_sd_hash:pe}};J=Object.assign(Object.assign({},J),{kbJwt:R})}const k={options:Object.assign(Object.assign({},d),{presentationSubmissionLocation:re.presentationSubmissionLocation}),presentation:J,presentationDefinition:a,selectedCredentials:m,proof:O,presentationSubmission:ie.value,evaluationResults:ie};return{verifiablePresentation:yield p(k),presentationSubmissionLocation:re.presentationSubmissionLocation,presentationSubmission:ie.value}})}static definitionVersionDiscovery(a){return(0,u.definitionVersionDiscovery)(a)}}f.PEX=l},38992:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.PEXv1=void 0;const h=i(11151),v=i(97889),A=i(70143),S=i(64864),E=i(99938),c=i(80930);f.PEXv1=class u extends v.PEX{evaluatePresentation(l,s,a){return E.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(l),super.evaluatePresentation(l,s,a)}evaluateCredentials(l,s,a){return E.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(l),super.evaluateCredentials(l,s,a)}selectFrom(l,s,a){const m=JSON.parse(JSON.stringify(s));return this._evaluationClientWrapper=new A.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(E.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(l),E.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(m),a)}presentationFrom(l,s,a){var m;const p=this._evaluationClientWrapper.submissionFrom(E.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(l),E.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(s),a),d=s.some(g=>h.CredentialMapper.isSdJwtDecodedCredential(g)||h.CredentialMapper.isSdJwtEncoded(g));if(a?.presentationSubmissionLocation===S.PresentationSubmissionLocation.PRESENTATION&&d)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const y=null!==(m=a?.presentationSubmissionLocation)&&void 0!==m?m:d?S.PresentationSubmissionLocation.EXTERNAL:S.PresentationSubmissionLocation.PRESENTATION;return{presentation:v.PEX.constructPresentation(s,Object.assign(Object.assign({},a),{presentationSubmission:y===S.PresentationSubmissionLocation.PRESENTATION?p:void 0})),presentationSubmissionLocation:y,presentationSubmission:p}}static validateDefinition(l){const s=E.SSITypesBuilder.modelEntityToInternalPresentationDefinitionV1(l);return(new c.ValidationEngine).validate([{bundler:new c.PresentationDefinitionV1VB("root"),target:s}])}static validateSubmission(l){return v.PEX.validateSubmission(l)}}},71945:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.PEXv2=void 0;const h=i(11151),v=i(97889),A=i(70143),S=i(64864),E=i(99938),c=i(80930);f.PEXv2=class u extends v.PEX{evaluatePresentation(l,s,a){return E.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(l),super.evaluatePresentation(l,s,a)}evaluateCredentials(l,s,a){return E.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(l),super.evaluateCredentials(l,s,a)}selectFrom(l,s,a){return this._evaluationClientWrapper=new A.EvaluationClientWrapper,this._evaluationClientWrapper.selectFrom(E.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(l),E.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(s),a)}presentationFrom(l,s,a){var m;const p=this._evaluationClientWrapper.submissionFrom(E.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(l),E.SSITypesBuilder.mapExternalVerifiableCredentialsToWrappedVcs(s),a),d=s.some(g=>h.CredentialMapper.isSdJwtDecodedCredential(g)||h.CredentialMapper.isSdJwtEncoded(g));if(a?.presentationSubmissionLocation===S.PresentationSubmissionLocation.PRESENTATION&&d)throw new Error("Presentation submission location cannot be set to presentation when creating a presentation with an SD-JWT VC");const y=null!==(m=a?.presentationSubmissionLocation)&&void 0!==m?m:d?S.PresentationSubmissionLocation.EXTERNAL:S.PresentationSubmissionLocation.PRESENTATION;return{presentation:v.PEX.constructPresentation(s,Object.assign(Object.assign({},a),{presentationSubmission:y===S.PresentationSubmissionLocation.PRESENTATION?p:void 0})),presentationSubmissionLocation:y,presentationSubmission:p}}static validateDefinition(l){const s=E.SSITypesBuilder.modelEntityInternalPresentationDefinitionV2(l);return(new c.ValidationEngine).validate([{bundler:new c.PresentationDefinitionV2VB("root"),target:s}])}static validateSubmission(l){return v.PEX.validateSubmission(l)}}},38947:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},45994:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.HandlerCheckResult=void 0,f.HandlerCheckResult=class{constructor(h,v,A,S,E,c){this.input_descriptor_path=h,this.verifiable_credential_path=v,this.evaluator=A,this.status=S,this.message=E,this.payload=c}}},92127:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(38947),f),v(i(45994),f),v(i(83565),f),v(i(21235),f)},83565:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},21235:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},50950:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(f,"__esModule",{value:!0}),f.EvaluationClient=void 0;const v=i(11151),A=i(55776),S=h(i(24080)),E=i(13486),c=i(71001),u=[v.IProofType.BbsBlsSignatureProof2020,"DataIntegrityProof.anoncreds-2023"];f.EvaluationClient=class n{constructor(){this.failed_catched={tag:"root",status:A.Status.ERROR,message:S.default.UNKNOWN_EXCEPTION,stacktrace:""},this._results=[],this._wrappedVcs=[],this._presentationSubmission={},this._dids=[],this._limitDisclosureSignatureSuites=u,this._restrictToDIDMethods=[],this._generatePresentationSubmission=!0}evaluate(s,a,m){this._restrictToDIDMethods=m?.restrictToDIDMethods?(0,E.uniformDIDMethods)(m?.restrictToDIDMethods):[],this._dids=m?.holderDIDs?(0,E.filterToRestrictedDIDs)(m.holderDIDs,this._restrictToDIDMethods):[],this._limitDisclosureSignatureSuites=m?.limitDisclosureSignatureSuites,this._restrictToFormats=m?.restrictToFormats,this._generatePresentationSubmission=void 0===m?.generatePresentationSubmission||m.generatePresentationSubmission,m?.presentationSubmission&&(this._presentationSubmission=m.presentationSubmission);let p=this.initEvaluationHandlers();for(p?.handle(s,a);p?.hasNext();){p=p.getNext();try{p?.handle(s,a)}catch(d){throw this.failed_catched.message+=d.message,this.failed_catched.stacktrace=d,this.failed_catched}}}get results(){return this._results}get dids(){return this._dids}set dids(s){this._dids=s}assertPresentationSubmission(){if("string"==typeof this._presentationSubmission&&(console.log("Presentation submission present, but as string not object. External calls did not follow contract. Correcting"),this._presentationSubmission=JSON.parse(this._presentationSubmission)),!(this.generatePresentationSubmission||this.presentationSubmission&&0!==Object.keys(this.presentationSubmission).length))throw Error("No presentation submission present, but required option was set")}get generatePresentationSubmission(){return this._generatePresentationSubmission}set generatePresentationSubmission(s){this._generatePresentationSubmission=s}get presentationSubmission(){return this._presentationSubmission}set presentationSubmission(s){this._presentationSubmission=s}get wrappedVcs(){return this._wrappedVcs}set wrappedVcs(s){this._wrappedVcs=s}get limitDisclosureSignatureSuites(){return this._limitDisclosureSignatureSuites||u}set limitDisclosureSignatureSuites(s){this._limitDisclosureSignatureSuites=s}get restrictToDIDMethods(){return this._restrictToDIDMethods}set restrictToDIDMethods(s){this._restrictToDIDMethods=(0,E.uniformDIDMethods)(s)}hasRestrictToDIDMethods(){return this.restrictToDIDMethods&&this.restrictToDIDMethods.length>0}get restrictToFormats(){return this._restrictToFormats}set restrictToFormats(s){this._restrictToFormats=s}initEvaluationHandlers(){const s=new c.UriEvaluationHandler(this);return s.setNext(new c.DIDRestrictionEvaluationHandler(this)).setNext(new c.FormatRestrictionEvaluationHandler(this)).setNext(new c.InputDescriptorFilterEvaluationHandler(this)).setNext(new c.PredicateRelatedFieldEvaluationHandler(this)).setNext(new c.LimitDisclosureEvaluationHandler(this)).setNext(new c.SubjectIsIssuerEvaluationHandler(this)).setNext(new c.SubjectIsHolderEvaluationHandler(this)).setNext(new c.SameSubjectEvaluationHandler(this)).setNext(new c.MarkForSubmissionEvaluationHandler(this)),s}}},78995:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.EvaluationClientWrapper=void 0;const h=i(44273),v=i(47636),A=i(11151),S=i(55776),E=i(64864),c=i(13486),u=i(50950);f.EvaluationClientWrapper=class n{constructor(){this._client=new u.EvaluationClient}getEvaluationClient(){return this._client}selectFrom(s,a,m){var p;let d;this._client.evaluate(s,a,m);const y=[...this.formatNotInfo(S.Status.WARN)],b=[...this.formatNotInfo(S.Status.ERROR)];if(s.submission_requirements){const g=this._client.results.filter(z=>"MarkForSubmissionEvaluation"===z.evaluator&&z.payload.group&&z.status!==S.Status.ERROR),x=Array.from(new Set(g));let C;try{C=this.matchSubmissionRequirements(s,s.submission_requirements,x)}catch(z){const re={status:S.Status.ERROR,message:JSON.stringify(z),tag:"matchSubmissionRequirements"};return{errors:b?[...b,re]:[re],warnings:y,areRequiredCredentialsPresent:S.Status.ERROR}}const F=this.extractMatches(C).map(z=>h.JSONPath.nodes(this._client.wrappedVcs.map(re=>re.original),z)[0].value),T=this.determineAreRequiredCredentialsPresent(s,C);d={errors:T===S.Status.INFO?[]:b,matches:[...C],areRequiredCredentialsPresent:T,verifiableCredential:F,warnings:y}}else{const g=this._client.results.filter(C=>"MarkForSubmissionEvaluation"===C.evaluator&&C.status!==S.Status.ERROR);if(this.checkWithoutSubmissionRequirements(g,s).length)return{errors:b,matches:[],areRequiredCredentialsPresent:S.Status.ERROR,verifiableCredential:a.map(C=>C.original),warnings:y};{const C=this.matchWithoutSubmissionRequirements(g,s),F=this.extractMatches(C).map(T=>h.JSONPath.nodes(this._client.wrappedVcs.map(z=>z.original),T)[0].value);d={errors:[],matches:[...C],areRequiredCredentialsPresent:S.Status.INFO,verifiableCredential:F,warnings:y}}}return this.fillSelectableCredentialsToVerifiableCredentialsMapping(d,a),d.areRequiredCredentialsPresent=this.determineAreRequiredCredentialsPresent(s,d?.matches),this.remapMatches(a.map(g=>g.original),d.matches,d?.verifiableCredential),null===(p=d.matches)||void 0===p||p.forEach(g=>{this.updateSubmissionRequirementMatchPathToAlias(g,"verifiableCredential")}),d.areRequiredCredentialsPresent===S.Status.INFO?d.errors=[]:(d.errors=b,d.warnings=y,d.verifiableCredential=a.map(g=>g.original)),d}remapMatches(s,a,m){a?.forEach(p=>{p.from_nested?this.remapMatches(s,p.from_nested,m):p.vc_path.forEach((d,y,b)=>{const g=h.JSONPath.query(s,d)[0],x=m?.findIndex(C=>JSON.stringify(C)===JSON.stringify(g));if(-1===x)throw new Error(`The index of the VerifiableCredential in your current call can't be found in your previously submitted credentials. Are you trying to send a new Credential?\nverifiableCredential: ${g}`);b[y]=`$[${x}]`})})}extractMatches(s){const a=[];return s.forEach(m=>{a.push(...m.vc_path),m.from_nested&&a.push(...this.extractMatches(m.from_nested))}),Array.from(new Set(a))}checkWithoutSubmissionRequirements(s,a){const m=[];if(!a.input_descriptors)return[];if(!s.length)return[{input_descriptor_path:"",evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:S.Status.ERROR,payload:"Not all the InputDescriptors are addressed"}];const p=a.input_descriptors,d=c.ObjectUtils.getDistinctFieldInObject(s,"input_descriptor_path");if(d.length!==p.length){const y=d.map(b=>c.JsonPathUtils.extractInputField(a,[b])[0].value).map(b=>b.id);for(let b=0;b<a.input_descriptors.length;b++)-1==y.indexOf(a.input_descriptors[b].id)&&m.push({input_descriptor_path:`$.input_descriptors[${b}]`,evaluator:"checkWithoutSubmissionRequirement",verifiable_credential_path:"",status:S.Status.ERROR,payload:"Not all the InputDescriptors are addressed"})}return m}matchSubmissionRequirements(s,a,m){const p=[];for(const d of a){const y={name:s.name||s.id,rule:d.rule,vc_path:[]};if(d.from&&(y.from=d.from),d.min&&(y.min=d.min),d.max&&(y.max=d.max),d.count&&(y.count=d.count),d.from){const b=this.mapMatchingDescriptors(s,d,m);b&&(y.vc_path.push(...b.vc_path),y.name=b.name,p.push(y))}else{if(!d.from_nested)throw new Error("Invalid SubmissionRequirement object: Must contain either 'from' or 'from_nested'");try{y.from_nested=this.matchSubmissionRequirements(s,d.from_nested,m),p.push(y)}catch(b){throw new Error(`Error in handling value of from_nested: ${d.from_nested}: err: ${b}`)}}}return p}matchWithoutSubmissionRequirements(s,a){const m=[],p=this.createIdToVcMap(s);for(const[d,y]of p.entries())if(y&&y.length)for(const b of y){const g=c.JsonPathUtils.extractInputField(a,[d]);g.length&&m.push({name:g[0].value.name||g[0].value.id,rule:v.Rules.All,vc_path:[b]})}return this.removeDuplicateSubmissionRequirementMatches(m)}mapMatchingDescriptors(s,a,m){var p;const d={rule:a.rule,vc_path:[]};if(a?.from){d.from=a.from;for(const y of m){const b=h.JSONPath.query(s,y.input_descriptor_path)[0];b.group&&-1===b.group.indexOf(a.from)||(d.name=b.name||b.id,y.payload.group.includes(a.from)&&-1===(null===(p=d.vc_path)||void 0===p?void 0:p.indexOf(y.verifiable_credential_path))&&d.vc_path.push(y.verifiable_credential_path))}}return d}evaluate(s,a,m){var p,d,y,b;this._client.evaluate(s,a,m);const g={areRequiredCredentialsPresent:S.Status.INFO,verifiableCredential:a.map(x=>x.original)};if(g.warnings=this.formatNotInfo(S.Status.WARN),g.errors=this.formatNotInfo(S.Status.ERROR),this._client.assertPresentationSubmission(),null!==(p=this._client.presentationSubmission)&&void 0!==p&&p.descriptor_map.length){const x=null===(d=this._client.presentationSubmission)||void 0===d?void 0:d.descriptor_map.length;for(let C=0;C<x;C++)this._client.presentationSubmission.descriptor_map[C]&&this._client.presentationSubmission.descriptor_map.push(this._client.presentationSubmission.descriptor_map[C]);this._client.presentationSubmission.descriptor_map.splice(0,x),g.value=JSON.parse(JSON.stringify(this._client.presentationSubmission))}return this._client.generatePresentationSubmission&&this.updatePresentationSubmissionPathToVpPath(g.value),g.verifiableCredential=this._client.wrappedVcs.map(x=>x.original),g.areRequiredCredentialsPresent=null!==(b=null===(y=g.value)||void 0===y?void 0:y.descriptor_map)&&void 0!==b&&b.length?S.Status.INFO:S.Status.ERROR,g}formatNotInfo(s){return this._client.results.filter(a=>a.status===s).map(a=>{const m=a.verifiable_credential_path.substring(1);return{tag:a.evaluator,status:a.status,message:`${a.message}: ${a.input_descriptor_path}: $.verifiableCredential${m}`}})}submissionFrom(s,a,m){if(!this._client.results.length)throw Error("You need to call evaluate() before pex.presentationFrom()");if(!this._client.generatePresentationSubmission)return this._client.presentationSubmission;if(s.submission_requirements){const y=this._client.results.filter(F=>"MarkForSubmissionEvaluation"===F.evaluator&&F.payload.group&&F.status!==S.Status.ERROR),[b,g]=this.matchUserSelectedVcs(y,a),x=new Map;"input_descriptors"in s&&s.input_descriptors.forEach(F=>{F.group&&F.group.forEach(T=>{x.has(T)?x.set(T,x.get(T)+1):x.set(T,1)})});const C=this.evaluateRequirements(s.submission_requirements,b,x,0),B=g.filter(F=>C[1].find(T=>T.verifiable_credential_path===F[1]));return this.updatePresentationSubmission(B),this.updatePresentationSubmissionPathToVpPath(),m?.presentationSubmissionLocation===E.PresentationSubmissionLocation.EXTERNAL&&this.updatePresentationSubmissionToExternal(),this._client.presentationSubmission}const p=this._client.results.filter(y=>"MarkForSubmissionEvaluation"===y.evaluator&&y.status!==S.Status.ERROR),d=this.matchUserSelectedVcs(p,a);return this.updatePresentationSubmission(d[1]),this.updatePresentationSubmissionPathToVpPath(),m?.presentationSubmissionLocation===E.PresentationSubmissionLocation.EXTERNAL&&this.updatePresentationSubmissionToExternal(),this._client.presentationSubmission}updatePresentationSubmission(s){this._client.generatePresentationSubmission&&(this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.filter(a=>s.find(m=>m[0]===a.path)).map(a=>{const m=s.find(p=>p[0]===a.path);return m&&(a.path=m[1]),a}))}updatePresentationSubmissionToExternal(){this._client.presentationSubmission.descriptor_map=this._client.presentationSubmission.descriptor_map.map(a=>{if(a.path_nested)return a;if("vc+sd-jwt"===a.format)return a;const m=a.format,p=Object.assign({},a);return p.path_nested=Object.assign({},a),p.path="$",m.startsWith("ldp_")?p.format="ldp_vp":m.startsWith("di_")?p.format="di_vp":"jwt_vc"===m?(p.format="jwt_vp",p.path_nested.path=p.path_nested.path.replace("$.verifiableCredential[","$.vp.verifiableCredential[")):"jwt_vc_json"===m&&(p.format="jwt_vp_json",p.path_nested.path=p.path_nested.path.replace("$.verifiableCredential[","$.vp.verifiableCredential[")),p})}matchUserSelectedVcs(s,a){const m=a.map((y,b)=>[b,JSON.stringify(y.original)]),p=this._client.wrappedVcs.map((y,b)=>[b,JSON.stringify(y.original)]),d=[];return m.forEach((y,b)=>{p.forEach((g,x)=>{g[1]===y[1]&&d.push([`$[${x}]`,`$[${b}]`])})}),[s=s.filter(y=>d.find(b=>b[0]===y.verifiable_credential_path)).map(y=>{const b=d.find(g=>g[0]===y.verifiable_credential_path);return b&&(y.verifiable_credential_path=b[1]),y}),d]}evaluateRequirements(s,a,m,p){let d=0;const y=[];for(const b of s)if(b.from){if(b.rule===v.Rules.All){const[g,x]=this.countMatchingInputDescriptors(b,a);if(g!==(m.get(b.from)||0))throw Error(`Not all input descriptors are members of group ${b.from}`);d++,y.push(...x)}else if(b.rule===v.Rules.Pick){const[g,x]=this.countMatchingInputDescriptors(b,a);try{this.handleCount(b,g,p),d++}catch(C){if(0===p)throw C}y.push(...x)}}else if(b.from_nested){const[g,x]=this.evaluateRequirements(b.from_nested,a,m,++p);d+=g,y.push(...x),this.handleCount(b,g,p)}return[d,y]}countMatchingInputDescriptors(s,a){let m=0;const p=[];for(const d of a)d.payload.group.includes(s.from)&&(p.push(d),m++);return[m,p]}handleCount(s,a,m){if(s.count&&a!==s.count)throw Error(`Count: expected: ${s.count} actual: ${a} at level: ${m}`);if(s.min&&a<s.min)throw Error(`Min: expected: ${s.min} actual: ${a} at level: ${m}`);if(s.max&&a>s.max)throw Error(`Max: expected: ${s.max} actual: ${a} at level: ${m}`)}removeDuplicateSubmissionRequirementMatches(s){return s.filter((a,m)=>{const p=JSON.stringify(a);return m===s.findIndex(d=>JSON.stringify(d)===p)})}fillSelectableCredentialsToVerifiableCredentialsMapping(s,a){var m;s&&(null===(m=s.verifiableCredential)||void 0===m||m.forEach(p=>{var d;const y=a.findIndex(b=>A.CredentialMapper.areOriginalVerifiableCredentialsEqual(b.original,p));if(-1===y)throw new Error("index is not right");null===(d=s.vcIndexes)||void 0===d||d.push(y)}))}determineAreRequiredCredentialsPresent(s,a,m){if(!a||!a.length)return S.Status.ERROR;const p=a.map(d=>this.determineSubmissionRequirementStatus(s,d));if(!m)return p.includes(S.Status.ERROR)?S.Status.ERROR:p.includes(S.Status.WARN)?S.Status.WARN:S.Status.INFO;{if(m.rule===v.Rules.All&&p.includes(S.Status.ERROR))return S.Status.ERROR;const d=p.filter(y=>y!==S.Status.ERROR).length;if(m.count)return m.count>d?S.Status.ERROR:m.count<d?S.Status.WARN:S.Status.INFO;if(m.min&&m.min>d)return S.Status.ERROR;if(m.max&&m.max<d)return S.Status.WARN}return S.Status.INFO}determineSubmissionRequirementStatus(s,a){if(a.from&&a.from_nested)throw new Error("Invalid submission_requirement object: MUST contain either a from or from_nested property.");if(!a.from&&!a.from_nested&&1!==a.vc_path.length)return S.Status.ERROR;if(a.from){const m=this.countGroupIDs(s.input_descriptors,a.from);switch(a.rule){case v.Rules.All:return a.vc_path.length===m?S.Status.INFO:S.Status.WARN;case v.Rules.Pick:return this.getPickRuleStatus(a);default:return S.Status.ERROR}}else if(a.from_nested)return this.determineAreRequiredCredentialsPresent(s,a.from_nested,a);return S.Status.INFO}getPickRuleStatus(s){return 0===s.vc_path.length?S.Status.ERROR:s.count&&s.vc_path.length!==s.count?s.vc_path.length>s.count?S.Status.WARN:S.Status.ERROR:s.min&&s.vc_path.length<s.min?S.Status.ERROR:s.max&&s.vc_path.length>s.max?S.Status.WARN:S.Status.INFO}updateSubmissionRequirementMatchPathToAlias(s,a){const m=[];s.vc_path.forEach(p=>{m.push(p.replace("$","$."+a))}),s.vc_path=m,s.from_nested&&s.from_nested.forEach(p=>{this.updateSubmissionRequirementMatchPathToAlias(p,a)})}updatePresentationSubmissionPathToVpPath(s){const a=s?s.descriptor_map:this._client.generatePresentationSubmission?this._client.presentationSubmission.descriptor_map:void 0;a?.forEach(m=>{"vc+sd-jwt"===m.format?m.path="$":this.replacePathWithAlias(m,"verifiableCredential")})}replacePathWithAlias(s,a){s.path=s.path.replace("$[",`$.${a}[`),s.path_nested&&this.replacePathWithAlias(s.path_nested,a)}createIdToVcMap(s){const a=new Map,m=new Map;for(let p=0;p<s.length;p++){const d=s[p].input_descriptor_path;if(m.has(d)){const y=m.get(d);y&&y.push(s[p])}else m.set(d,[s[p]])}for(const[p,d]of m.entries()){const y=[];for(let b=0;b<d.length;b++)-1===y.indexOf(d[b].verifiable_credential_path)&&y.push(d[b].verifiable_credential_path);a.set(p,y)}return a}countGroupIDs(s,a){let m=0;for(const p of s)p.group&&p.group.includes(a)&&m++;return m}}},32893:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.AbstractEvaluationHandler=void 0;const h=i(44273),v=i(55776);f.AbstractEvaluationHandler=class A{constructor(E){this._client=E}setNext(E){return this.nextHandler=E,E}getNext(){return this.nextHandler}hasNext(){return null!=this.nextHandler}get client(){return this._client}get wrappedVcs(){return this._client.wrappedVcs}set wrappedVcs(E){this._client.wrappedVcs=E}get presentationSubmission(){return this._client.presentationSubmission}set presentationSubmission(E){this._client.presentationSubmission=E}getResults(){return this._client.results}updatePresentationSubmission(E){this._client.assertPresentationSubmission(),this.presentationSubmission.descriptor_map.forEach((c,u,n)=>{let l;this.getResults().filter(a=>a.status===v.Status.ERROR&&a.evaluator===this.getName()).find(a=>(l=h.JSONPath.query(E,a.input_descriptor_path)[0],a.verifiable_credential_path===c.path&&l?.id===c.id))&&delete n[u]})}removeDuplicate(E){return E.reduce((c,u)=>c.find(l=>l.input_descriptor_path===u.input_descriptor_path&&l.verifiable_credential_path===u.verifiable_credential_path)?c:c.concat([u]),[])}}},4028:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(f,"__esModule",{value:!0}),f.DIDRestrictionEvaluationHandler=void 0;const v=i(11151),A=i(55776),S=h(i(24080)),E=i(13486),c=i(32893);f.DIDRestrictionEvaluationHandler=class u extends c.AbstractEvaluationHandler{constructor(l){super(l)}getName(){return"DIDRestrictionEvaluation"}handle(l,s){l.input_descriptors.forEach((a,m)=>{s.forEach((p,d)=>{const y=this.getIssuerIdFromWrappedVerifiableCredential(p);this.client.hasRestrictToDIDMethods()&&y&&!(0,E.isRestrictedDID)(y,this.client.restrictToDIDMethods)&&y.toLowerCase().startsWith("did:")?this.getResults().push(this.generateErrorResult(m,`$[${d}]`,p)):this.getResults().push(this.generateSuccessResult(m,`$[${d}]`,p,`${y} is allowed`))})}),this.updatePresentationSubmission(l)}getIssuerIdFromWrappedVerifiableCredential(l){if(v.CredentialMapper.isW3cCredential(l.credential))return"object"==typeof l.credential.issuer?l.credential.issuer.id:l.credential.issuer;if(v.CredentialMapper.isSdJwtDecodedCredential(l.credential))return l.credential.decodedPayload.iss;throw new Error("Unsupported credential type")}generateErrorResult(l,s,a){return{input_descriptor_path:`$.input_descriptors[${l}]`,evaluator:this.getName(),status:A.Status.ERROR,message:S.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:s,payload:{format:a.format}}}generateSuccessResult(l,s,a,m){return{input_descriptor_path:`$.input_descriptors[${l}]`,evaluator:this.getName(),status:A.Status.INFO,message:m??S.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:s,payload:{format:a.format}}}}},19819:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},30614:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(f,"__esModule",{value:!0}),f.FormatRestrictionEvaluationHandler=void 0;const v=i(55776),A=h(i(24080)),S=i(32893);f.FormatRestrictionEvaluationHandler=class E extends S.AbstractEvaluationHandler{constructor(u){super(u)}getName(){return"FormatRestrictionEvaluation"}handle(u,n){const l=this.client.restrictToFormats?Object.keys(this.client.restrictToFormats):void 0;u.input_descriptors.forEach((s,a)=>{n.forEach((m,p)=>{const d="format"in s&&s.format?Object.keys(s.format):[m.format];let y=l??d;"format"in s&&s.format&&void 0!==l&&(y=Object.keys(s.format).filter(b=>l.includes(b))),y.includes(m.format)?this.getResults().push(this.generateSuccessResult(a,`$[${p}]`,m,`${m.format} is allowed from ${JSON.stringify(y)}`)):this.getResults().push(this.generateErrorResult(a,`$[${p}]`,m))})}),this.updatePresentationSubmission(u)}generateErrorResult(u,n,l){return{input_descriptor_path:`$.input_descriptors[${u}]`,evaluator:this.getName(),status:v.Status.ERROR,message:A.default.FORMAT_RESTRICTION_DIDNT_PASS,verifiable_credential_path:n,payload:{format:l.format}}}generateSuccessResult(u,n,l,s){return{input_descriptor_path:`$.input_descriptors[${u}]`,evaluator:this.getName(),status:v.Status.INFO,message:s??A.default.FORMAT_RESTRICTION_PASSED,verifiable_credential_path:n,payload:{format:l.format}}}}},71001:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(32893),f),v(i(19819),f),v(i(298),f),v(i(19477),f),v(i(77918),f),v(i(60019),f),v(i(1599),f),v(i(4257),f),v(i(67966),f),v(i(63217),f),v(i(30614),f),v(i(4028),f)},298:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(f,"__esModule",{value:!0}),f.InputDescriptorFilterEvaluationHandler=void 0;const v=i(44273),A=h(i(39208)),S=h(i(21953)),E=i(55776),c=h(i(24080)),u=i(13486),n=i(32893),l=new A.default({verbose:!1,code:{source:!1,lines:!0,esm:!1},allowUnionTypes:!0,allErrors:!0,strict:!1});(0,S.default)(l);class s extends n.AbstractEvaluationHandler{constructor(m){super(m),s.keepCacheSizeInCheck()}getName(){return"FilterEvaluation"}handle(m,p){const d=v.JSONPath.nodes(m,"$..fields[*]");p.forEach((y,b)=>{this.createNoFieldResults(m,b,y),d.forEach(g=>{let x=[];g.value.path&&(x=u.JsonPathUtils.extractInputField(y.decoded,g.value.path));let C=!1;for(const B of x)if(this.evaluateFilter(B,g.value)){C=!0;const F={result:Object.assign({},x[0]),valid:!0,format:y.format};this.getResults().push(Object.assign({},this.createResultObject(v.JSONPath.stringify(g.path.slice(0,3)),b,F)))}if(!C)if(x.length){const B={result:Object.assign({},x[0]),valid:!1,format:y.format};this.createResponse(g,b,B,c.default.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION)}else this.createResponse(g,b,{valid:!1,format:y.format},c.default.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY)})}),this.updatePresentationSubmission(m)}createNoFieldResults(m,p,d){m.input_descriptors.map((b,g)=>({index:g,inDesc:b})).filter(b=>{var g,x,C;return void 0===(null===(g=b.inDesc.constraints)||void 0===g?void 0:g.fields)||0===(null===(C=null===(x=b.inDesc.constraints)||void 0===x?void 0:x.fields)||void 0===C?void 0:C.length)}).forEach(b=>{const g={result:[],valid:!0,format:d.format};this.getResults().push(Object.assign({},this.createResultObject(`$.input_descriptors[${b.index}]`,p,g)))})}createResponse(m,p,d,y){this.getResults().push(Object.assign(Object.assign({},this.createResultObject(v.JSONPath.stringify(m.path.slice(0,3)),p,d)),{status:E.Status.ERROR,message:y}))}createResultObject(m,p,d){return{input_descriptor_path:m,verifiable_credential_path:`$[${p}]`,evaluator:this.getName(),status:E.Status.INFO,message:c.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:d}}evaluateFilter(m,p){var d,y;null!==(d=p.filter)&&void 0!==d&&d.format&&"date"===p.filter.format&&this.transformDateFormat(m);let b=!0;if(p.filter){const g=JSON.stringify({filter:p.filter,value:m.value}),x=Date.now();b=null===(y=s.FILTER_CACHE.get(g))||void 0===y?void 0:y.value,void 0===b&&(s.keepCacheSizeInCheck(),b=l.validate(p.filter,m.value),s.FILTER_CACHE.set(g,{value:b,ts:x+s.DEFAULT_FILTER_CACHE_TTL}))}return b}transformDateFormat(m){const p=new Date(m.value);let d=p.getUTCMonth()+1+"";1===d.length&&(d="0"+d);let y=p.getUTCDate()+"";1===y.length&&(y="0"+y),m.value=p.getUTCFullYear()+"-"+d+"-"+y,m.value=p.toISOString().substring(0,p.toISOString().indexOf("T"))}static keepCacheSizeInCheck(m){var p,d,y;const b=null!==(p=m?.ttl)&&void 0!==p?p:s.DEFAULT_FILTER_CACHE_TTL,g=null!==(d=m?.maxCacheSize)&&void 0!==d?d:s.DEFAULT_MAX_FILTER_CACHE_SIZE,x=null!==(y=m?.resetCacheSize)&&void 0!==y?y:s.DEFAULT_RESET_CACHE_SIZE,C=Date.now();for(const[F,T]of s.FILTER_CACHE)T.ts+b<C&&s.FILTER_CACHE.delete(F);const B=s.FILTER_CACHE.size;if(B>g){const F=s.FILTER_CACHE.keys();for(let T=0;T<B-x;T++)s.FILTER_CACHE.delete(F.next().value)}}}f.InputDescriptorFilterEvaluationHandler=s,s.FILTER_CACHE=new Map,s.DEFAULT_MAX_FILTER_CACHE_SIZE=100,s.DEFAULT_FILTER_CACHE_TTL=3e4,s.DEFAULT_RESET_CACHE_SIZE=s.DEFAULT_MAX_FILTER_CACHE_SIZE/2},77918:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(f,"__esModule",{value:!0}),f.LimitDisclosureEvaluationHandler=void 0;const v=i(47636),A=i(11151),S=i(55776),E=h(i(24080)),c=i(13486),u=i(32893);f.LimitDisclosureEvaluationHandler=class n extends u.AbstractEvaluationHandler{constructor(s){super(s)}getName(){return"LimitDisclosureEvaluation"}handle(s,a){s.input_descriptors.forEach((m,p)=>{var d,y,b;null!==(d=m.constraints)&&void 0!==d&&d.fields&&((null===(y=m.constraints)||void 0===y?void 0:y.limit_disclosure)===v.Optionality.Required||(null===(b=m.constraints)||void 0===b?void 0:b.limit_disclosure)===v.Optionality.Preferred)&&this.evaluateLimitDisclosure(a,m.constraints,p)})}isLimitDisclosureSupported(s,a,m,p){if("vc+sd-jwt"===s.format)return!0;const d=this.client.limitDisclosureSignatureSuites,y=s.decoded.proof;if(!y||Array.isArray(y)||!y.type)return!1;const b=y.cryptosuite?`${y.type}.${y.cryptosuite}`:y.type;return!!d?.includes(b)||(p==v.Optionality.Required&&this.createLimitDisclosureNotSupportedResult(m,a),!1)}evaluateLimitDisclosure(s,a,m){const p=a?.fields,d=a.limit_disclosure;s.forEach((y,b)=>{d&&this.isLimitDisclosureSupported(y,b,m,d)&&this.enforceLimitDisclosure(y,p,m,b,s,d)})}enforceLimitDisclosure(s,a,m,p,d,y){if(A.CredentialMapper.isWrappedSdJwtVerifiableCredential(s)){const b=this.createSdJwtPresentationFrame(s.credential,a,m,p);b&&((0,c.applySdJwtLimitDisclosure)(s.credential,b),s.decoded=s.credential.decodedPayload,s.original=A.CredentialMapper.isSdJwtDecodedCredential(s.original)?s.credential:s.credential.compactSdJwtVc,this.createSuccessResult(m,`$[${p}]`,y))}else{if(!A.CredentialMapper.isW3cCredential(s.credential))throw new Error(`Unsupported format for selective disclosure ${s.format}`);{const b=this.createVcWithRequiredFields(s.credential,a,m,p);b&&(d[p].credential=b,this.createSuccessResult(m,`$[${p}]`,y))}}}createSdJwtPresentationFrame(s,a,m,p){const d={};for(const y of a)if(y.path){const b=c.JsonPathUtils.extractInputField(s.decodedPayload,y.path);if(!(b.length>0))return void this.createMandatoryFieldNotFoundResult(m,p,y.path);c.JsonPathUtils.setValue(d,b[0].path,!0)}return d}createVcWithRequiredFields(s,a,m,p){let d={};d=Object.assign(d,s),d.credentialSubject={};for(const y of a)if(y.path){const b=c.JsonPathUtils.extractInputField(s,y.path);if(!(b.length>0))return void this.createMandatoryFieldNotFoundResult(m,p,y.path);d=this.copyResultPathToDestinationCredential(b[0],s,d)}return d}copyResultPathToDestinationCredential(s,a,m){let p=Object.assign({},a.credentialSubject);return s.path.forEach(d=>{p[d]&&(p={[d]:p[d]})}),m.credentialSubject=Object.assign(Object.assign({},m.credentialSubject),p),m}createSuccessResult(s,a,m){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${s}]`,verifiable_credential_path:`${a}`,evaluator:this.getName(),status:m===v.Optionality.Required?S.Status.INFO:S.Status.WARN,message:E.default.LIMIT_DISCLOSURE_APPLIED,payload:void 0})}createMandatoryFieldNotFoundResult(s,a,m){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${s}]`,verifiable_credential_path:`$[${a}]`,evaluator:this.getName(),status:S.Status.ERROR,message:E.default.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT,payload:m})}createLimitDisclosureNotSupportedResult(s,a){return this.getResults().push({input_descriptor_path:`$.input_descriptors[${s}]`,verifiable_credential_path:`$[${a}]`,evaluator:this.getName(),status:S.Status.ERROR,message:E.default.LIMIT_DISCLOSURE_NOT_SUPPORTED})}}},60019:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(f,"__esModule",{value:!0}),f.MarkForSubmissionEvaluationHandler=void 0;const v=i(44273),A=i(55776),S=h(i(24080)),E=i(32893);f.MarkForSubmissionEvaluationHandler=class c extends E.AbstractEvaluationHandler{constructor(n){super(n)}getName(){return"MarkForSubmissionEvaluation"}handle(n,l){const s=[...this.getResults()],a=s.filter(p=>p.status===A.Status.ERROR),m=this.retrieveNoErrorStatus(s,a);this.client.wrappedVcs=l,this.produceErrorResults(a),this.produceSuccessResults(m,n)}retrieveNoErrorStatus(n,l){return n.filter(a=>a.status!==A.Status.ERROR).filter(a=>!l.find(m=>a.input_descriptor_path===m.input_descriptor_path&&a.verifiable_credential_path===m.verifiable_credential_path))}produceSuccessResults(n,l){this.removeDuplicate(n).forEach(s=>{const m=v.JSONPath.nodes(l,s.input_descriptor_path)[0].value.group;this.getResults().push({input_descriptor_path:s.input_descriptor_path,verifiable_credential_path:s.verifiable_credential_path,evaluator:this.getName(),status:A.Status.INFO,payload:{group:m},message:S.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION})})}produceErrorResults(n){this.removeDuplicate(n).forEach(l=>{const s=Object.assign({},l.payload);s.evaluator=l.evaluator,this.getResults().push(Object.assign(Object.assign({},l),{evaluator:this.getName(),message:S.default.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:s}))})}}},1599:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(f,"__esModule",{value:!0}),f.PredicateRelatedFieldEvaluationHandler=void 0;const v=i(47636),A=i(55776),S=h(i(24080)),E=i(32893);f.PredicateRelatedFieldEvaluationHandler=class c extends E.AbstractEvaluationHandler{constructor(n){super(n)}getName(){return"PredicateRelatedFieldEvaluation"}handle(n){n.input_descriptors.forEach((l,s)=>{l.constraints&&this.examinePredicateRelatedField(s,l.constraints)})}examinePredicateRelatedField(n,l){if(l?.fields)for(let s=0;s<l.fields.length;s++)for(let a=0;a<this.getResults().length;a++)this.examinePredicateForFilterEvaluationResult(this.getResults(),a,n,l,s)}examinePredicateForFilterEvaluationResult(n,l,s,a,m){var p;const d=this.retrieveResultInputDescriptorIdx(n[l].input_descriptor_path);if(n[l].payload&&n[l].payload.result&&n[l].payload.result.path&&"FilterEvaluation"===n[l].evaluator&&s===d&&a&&a.fields&&a.fields[m]&&a.fields[m].predicate&&a.fields[m].path&&null!==(p=a.fields[m].path)&&void 0!==p&&p.includes(this.concatenatePath(n[l].payload.result.path))){const y=Object.assign({},n[l].payload.result),b=this.createResultObject(s,l,y,n);a.fields[m].predicate===v.Optionality.Required||(b.payload.value=!0),n.push(b)}}retrieveResultInputDescriptorIdx(n){const s=n.indexOf("$.input_descriptors["),a=n.substring(s+20),m=a.indexOf("]"),p=a.substring(0,m);return parseInt(p)}concatenatePath(n){let l="";for(let s=0;s<n.length;s++)"number"==typeof n[s]?(l=l.substring(0,l.length-1),l+="[*]."):l+=n[s]+".";return l.substring(0,l.length-1)}createResultObject(n,l,s,a){return{input_descriptor_path:`$.input_descriptors[${n}]`,verifiable_credential_path:a[l].verifiable_credential_path,evaluator:this.getName(),status:A.Status.INFO,message:S.default.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION,payload:s}}}},4257:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.SameSubjectEvaluationHandler=void 0;const h=i(44273),v=i(47636),A=i(55776),S=i(32893);f.SameSubjectEvaluationHandler=class E extends S.AbstractEvaluationHandler{constructor(u){super(u),this.fieldIds=[],this.sameSubject=[],this.messages=new Map,this.messages.set(A.Status.INFO,"The field ids requiring the same subject to belong to same subject"),this.messages.set(A.Status.WARN,"The field ids preferring the same subject to belong to same subject"),this.messages.set(A.Status.ERROR,"The fields ids not belong to the same subject")}getName(){return"SameSubjectEvaluation"}handle(u,n){const l=this.mapSameSubjectFieldIdsToInputDescriptors(u),s=this.mapCredentialsToResultObjecs(n,l),a=this.countSameSubjectOccurrences(l,s);this.generateErrorResults(a,s),this.updatePresentationSubmission(u)}mapSameSubjectFieldIdsToInputDescriptors(u){this.fieldIds.push(...h.JSONPath.nodes(u,"$..fields[*].id")),this.sameSubject.push(...h.JSONPath.nodes(u,"$..same_subject[*]"));const n=[];return this.fieldIds.forEach(l=>{const s=this.sameSubject.find(a=>a.value.field_id.includes(l.value));s&&n.push([l,s])}),n}generateErrorResults(u,n){u.forEach((l,s)=>{const a=n.filter(m=>s===m.payload.fieldIdSet).map(m=>m.payload.credentialSubject.id);(a.length!==l||1!==new Set(a).size)&&n.forEach((m,p,d)=>{m.payload.fieldIdSet===s&&(m.status=A.Status.ERROR,m.message=this.messages.get(A.Status.ERROR),d[p]=m)})}),this.client.results.push(...n)}countSameSubjectOccurrences(u,n){const l=new Map;return u.forEach(s=>{n.filter(m=>s[1].value.field_id===m.payload.fieldIdSet)&&(l.has(s[1].value.field_id)&&l.get(s[1].value.field_id)?l.set(s[1].value.field_id,l.get(s[1].value.field_id)+1):l.set(s[1].value.field_id,1))}),l}mapCredentialsToResultObjecs(u,n){const l=[...h.JSONPath.nodes(u.map(a=>a.credential),"$..credentialSubject")],s=[];return l.forEach(a=>{const m=n.find(p=>0!==h.JSONPath.query(a.value,`$..${p[0].value}`).length);m&&m[1].value.directive===v.Optionality.Required?s.push({input_descriptor_path:h.JSONPath.stringify(m[0].path.slice(0,3)),status:A.Status.INFO,evaluator:this.getName(),payload:{fieldIdSet:m[1].value.field_id,credentialSubject:a.value},message:this.messages.get(A.Status.INFO),verifiable_credential_path:h.JSONPath.stringify(a.path.slice(0,2))}):m&&m[1].value.directive===v.Optionality.Preferred&&s.push({input_descriptor_path:h.JSONPath.stringify(m[0].path.slice(0,3)),status:A.Status.WARN,evaluator:this.getName(),payload:{fieldIdSet:m[1].value.field_id,credentialSubject:a.value},message:this.messages.get(A.Status.WARN),verifiable_credential_path:h.JSONPath.stringify(a.path.slice(0,2))})}),s}}},19477:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.SubjectIsHolderEvaluationHandler=void 0;const h=i(44273),v=i(47636),A=i(55776),S=i(32893);f.SubjectIsHolderEvaluationHandler=class E extends S.AbstractEvaluationHandler{constructor(u){super(u),this.fieldIdzInputDescriptorsSameSubjectRequired=new Map,this.fieldIdzInputDescriptorsSameSubjectPreferred=new Map,this.isHolder=[],this.fieldIds=[],this.credentialsSubjectsByPath=new Map,this.credentialsByPath=new Map,this.messages=new Map,this.messages.set(A.Status.INFO,"The field ids requiring the subject to be the holder"),this.messages.set(A.Status.WARN,"The field ids preferring the subject to be the holder"),this.messages.set(A.Status.ERROR,"The field id missing")}getName(){return"IsHolderEvaluation"}handle(u,n){this.findIsHolderFieldIdsToInputDescriptorsSets(u),this.findAllCredentialSubjects(n),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectRequired,A.Status.INFO,v.Optionality.Required),this.confirmAllFieldSetHasSameSubject(this.fieldIdzInputDescriptorsSameSubjectPreferred,A.Status.WARN,v.Optionality.Preferred),this.updatePresentationSubmission(u)}findIsHolderFieldIdsToInputDescriptorsSets(u){var n;this.fieldIds.push(...h.JSONPath.nodes(u,"$..fields[*].id")),this.isHolder.push(...h.JSONPath.nodes(u,"$..is_holder[*]"));const l=null===(n=this.fieldIds)||void 0===n?void 0:n.map(a=>a.value),s=[];s.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectPreferred,this.isHolder,l,v.Optionality.Preferred)),s.push(...this.evaluateFields(this.fieldIdzInputDescriptorsSameSubjectRequired,this.isHolder,l,v.Optionality.Required)),s.forEach(a=>this.getResults().push(this.createResult(a[1],a[0],["",{}],A.Status.ERROR,void 0)))}evaluateFields(u,n,l,s){const a=[];return n.filter(m=>m.value.directive===s).filter(m=>m.value.field_id.every(p=>l.includes(p))).forEach(m=>u.set(h.JSONPath.stringify(m.path.slice(0,3)),m.value.field_id)),n.filter(m=>m.value.directive===s).filter(m=>!m.value.field_id.every(p=>l.includes(p))).forEach(m=>a.push([h.JSONPath.stringify(m.path.slice(0,3)),m.value.field_id])),a}findAllCredentialSubjects(u){const n=h.JSONPath.nodes(u.map(l=>l.credential),"$..credentialSubject");for(let l=0;l<n.length;l++){const s=n[l],a=h.JSONPath.stringify(s.path.slice(0,2));this.credentialsSubjectsByPath.set(a,s.value),this.credentialsByPath.set(a,u[l])}}confirmAllFieldSetHasSameSubject(u,n,l){const s=Array.from(u).flatMap(d=>Array.from(this.credentialsSubjectsByPath).filter(y=>d[1].find(b=>Object.keys(y[1]).includes(b)))),a=this.mapCredentialPathsToInputDescriptors(l),m=Array.from(s).flatMap(d=>Object.keys(d[1]).filter(y=>"id"!==y)),p=Array.from(u.values()).flatMap(d=>d.every(y=>m.includes(y)))[0];s.forEach(d=>{const y=a.get(d[0]);p&&d[1].id&&this.client.dids.includes(d[1].id)?this.getResults().push(this.createResult(Object.keys(d[1]).filter(b=>"id"!==b),y,d,n,this.credentialsByPath.get(d[0]))):this.getResults().push(this.createResult(Object.keys(d[1]).filter(b=>"id"!==b),y,d,A.Status.ERROR,this.credentialsByPath.get(d[0])))})}mapCredentialPathsToInputDescriptors(u){var n;const l=new Map;return null===(n=this.fieldIds)||void 0===n||n.forEach(s=>{const a=h.JSONPath.stringify(s.path.slice(0,3));this.credentialsSubjectsByPath.forEach((m,p)=>{const d=this.isHolder.find(y=>h.JSONPath.stringify(y.path.slice(0,3))===a);Object.keys(m).includes(s.value)&&d?.value.directive===u&&l.set(p,a)})}),l}createResult(u,n,l,s,a,m){return{input_descriptor_path:n,verifiable_credential_path:l[0],evaluator:this.getName(),status:s,payload:Object.assign({fieldIdSet:u,credentialSubject:l[1]},a?{format:a.format}:{}),message:m??this.messages.get(s)}}}},67966:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(f,"__esModule",{value:!0}),f.SubjectIsIssuerEvaluationHandler=void 0;const v=i(47636),A=i(11151),S=i(55776),E=h(i(24080)),c=i(13486),u=i(32893);f.SubjectIsIssuerEvaluationHandler=class n extends u.AbstractEvaluationHandler{constructor(s){super(s)}getName(){return"SubjectIsIssuerEvaluation"}handle(s,a){s.input_descriptors.forEach((m,p)=>{const d=m.constraints;d?.subject_is_issuer===v.Optionality.Required?this.checkSubjectIsIssuer(m.id,a,p):this.getResults().push(...a.map((y,b)=>this.generateSuccessResult(p,`$[${b}]`,y,"not applicable")))}),this.updatePresentationSubmission(s)}checkSubjectIsIssuer(s,a,m){this.client.presentationSubmission.descriptor_map.forEach(p=>{if(p.id===s){const d=c.JsonPathUtils.extractInputField(a.map(y=>y.credential),[p.path]);for(const y of d){const b=(0,c.getIssuerString)(y.value);y&&y.value&&(0,c.getSubjectIdsAsString)(y.value).every(g=>g===b)?this.getResults().push(this.generateSuccessResult(m,p.path,A.CredentialMapper.toWrappedVerifiableCredential(y.value))):this.getResults().push(this.generateErrorResult(m,p.path,A.CredentialMapper.toWrappedVerifiableCredential(y.value)))}}})}generateErrorResult(s,a,m){return{input_descriptor_path:`$.input_descriptors[${s}]`,evaluator:this.getName(),status:S.Status.ERROR,message:E.default.SUBJECT_IS_NOT_ISSUER,verifiable_credential_path:a,payload:{format:m.format}}}generateSuccessResult(s,a,m,p){return{input_descriptor_path:`$.input_descriptors[${s}]`,evaluator:this.getName(),status:S.Status.INFO,message:p??E.default.SUBJECT_IS_ISSUER,verifiable_credential_path:a,payload:{format:m.format}}}}},63217:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(f,"__esModule",{value:!0}),f.UriEvaluationHandler=void 0;const v=i(44273),A=i(11151),S=i(35975),E=i(55776),c=i(99938),u=h(i(24080)),n=i(32893);class l extends n.AbstractEvaluationHandler{constructor(a){super(a)}getName(){return"UriEvaluation"}handle(a,m){var p,d,y;a.input_descriptors.forEach((x,C)=>{const B=a.getVersion()!==c.PEVersion.v2?x.schema.map(F=>F.uri):[];m.forEach((F,T)=>{const z=l.buildVcContextAndSchemaUris(F.credential,a.getVersion());this.evaluateUris(F,z,B,C,T,a.getVersion())})});const b=(null===(p=a.format)||void 0===p?void 0:p.di)||(null===(d=a.format)||void 0===d?void 0:d.di_vc)||(null===(y=a.format)||void 0===y?void 0:y.di_vp),g=this.getResults().filter(x=>x.status===E.Status.INFO).map(x=>{var C,B,F,T;let z=null===(C=x.payload)||void 0===C?void 0:C.format;if(b&&("ldp_vc"===z||"ldp"===z)){const J=v.JSONPath.nodes(m,x.verifiable_credential_path).map(W=>W.value).map(W=>W.type===A.OriginalType.JSONLD&&W.credential.proof?(Array.isArray(W.credential.proof)?W.credential.proof:[W.credential.proof]).filter(X=>"DataIntegrityProof"===X.type&&void 0!==X.cryptosuite):[]).reduce((W,pe)=>W.filter(R=>pe.includes(R))),k=v.JSONPath.nodes(a,x.input_descriptor_path)[0].value,Z=!k.format||(null===(B=k?.format)||void 0===B?void 0:B.di)||(null===(F=k?.format)||void 0===F?void 0:F.di_vc)||(null===(T=k?.format)||void 0===T?void 0:T.di_vp);J.length>0&&Z&&(z="di_vc")}return{id:v.JSONPath.nodes(a,x.input_descriptor_path)[0].value.id,format:z,path:x.verifiable_credential_path}});this.client.generatePresentationSubmission&&(!this.presentationSubmission||0===Object.keys(this.presentationSubmission).length)&&(this.presentationSubmission={id:(0,S.nanoid)(),definition_id:a.id,descriptor_map:g})}evaluateUris(a,m,p,d,y,b){let g=!1;if(b===c.PEVersion.v1){for(let x=0;x<p.length;x++)l.containsHashlink(p[x])&&this.getResults().push(this.createWarnResultObject(d,y));for(let x=0;x<m.length;x++)null!=p.find(C=>C===m[x])&&(g=!0)}else g=!0;g?this.getResults().push(this.createSuccessResultObject(a,p,d,y)):this.getResults().push(this.createErrorResultObject(a,p,d,y))}static buildVcContextAndSchemaUris(a,m){const p=[];return A.CredentialMapper.isW3cCredential(a)&&(Array.isArray(a["@context"])?a["@context"].forEach(d=>p.push(d)):p.push(a["@context"]),Array.isArray(a.credentialSchema)&&a.credentialSchema.length>0?a.credentialSchema.forEach(d=>p.push(d.id)):a.credentialSchema&&p.push(a.credentialSchema.id),m===c.PEVersion.v1&&(Array.isArray(a.type)?a.type.forEach(d=>p.push(d)):a.type&&p.push(a.type))),A.CredentialMapper.isSdJwtDecodedCredential(a)&&m===c.PEVersion.v1&&p.push(a.decodedPayload.vct),p}createSuccessResultObject(a,m,p,d){const y=this.createResult(p,d);return y.status=E.Status.INFO,y.message=u.default.URI_EVALUATION_PASSED,y.payload={format:a.format,vcContext:A.CredentialMapper.isW3cCredential(a.credential)?a.credential["@context"]:void 0,vcCredentialSchema:A.CredentialMapper.isW3cCredential(a.credential)?a.credential.credentialSchema:void 0,inputDescriptorsUris:m},y}createErrorResultObject(a,m,p,d){const y=this.createResult(p,d);return y.status=E.Status.ERROR,y.message=u.default.URI_EVALUATION_DIDNT_PASS,y.payload={format:a.format,vcContext:A.CredentialMapper.isW3cCredential(a.credential)?a.credential["@context"]:void 0,vcCredentialSchema:A.CredentialMapper.isW3cCredential(a.credential)?a.credential.credentialSchema:void 0,inputDescriptorsUris:m},y}createWarnResultObject(a,m){const p=this.createResult(a,m);return p.status=E.Status.WARN,p.message=u.default.URI_EVALUATION_DIDNT_PASS,p.payload=u.default.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED,p}createResult(a,m){return{input_descriptor_path:`$.input_descriptors[${a}]`,verifiable_credential_path:`$[${m}]`,evaluator:this.getName(),status:E.Status.INFO,message:void 0}}static containsHashlink(a){return!(this.matchAll(a,l.HASHLINK_QUERY_URL_REGEX).next().done&&this.matchAll(a,l.HASHLINK_URL_ENCODED_REGEX).next().done)}}f.UriEvaluationHandler=l,l.matchAll=i(72373),l.HASHLINK_URL_ENCODED_REGEX=/hl:[a-zA-Z0-9]+:[a-zA-Z0-9]+/g,l.HASHLINK_QUERY_URL_REGEX=/https*?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(hl=[a-zA-Z0-9]+)/g},70143:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.HandlerCheckResult=f.EvaluationClientWrapper=f.EvaluationClient=void 0;const h=i(92127);Object.defineProperty(f,"HandlerCheckResult",{enumerable:!0,get:function(){return h.HandlerCheckResult}});const v=i(50950);Object.defineProperty(f,"EvaluationClient",{enumerable:!0,get:function(){return v.EvaluationClient}});var A=i(78995);Object.defineProperty(f,"EvaluationClientWrapper",{enumerable:!0,get:function(){return A.EvaluationClientWrapper}})},2700:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(s,a,m,p){void 0===p&&(p=m);var d=Object.getOwnPropertyDescriptor(a,m);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[m]}}),Object.defineProperty(s,p,d)}:function(s,a,m,p){void 0===p&&(p=m),s[p]=a[m]}),v=this&&this.__exportStar||function(s,a){for(var m in s)"default"!==m&&!Object.prototype.hasOwnProperty.call(a,m)&&h(a,s,m)};Object.defineProperty(f,"__esModule",{value:!0}),f.PEXv2=f.PEXv1=f.PEX=f.Status=f.Checked=f.PEVersion=f.ValidationEngine=f.HandlerCheckResult=void 0;const A=i(55776);Object.defineProperty(f,"Checked",{enumerable:!0,get:function(){return A.Checked}}),Object.defineProperty(f,"Status",{enumerable:!0,get:function(){return A.Status}});const S=i(97889);Object.defineProperty(f,"PEX",{enumerable:!0,get:function(){return S.PEX}});const E=i(38992);Object.defineProperty(f,"PEXv1",{enumerable:!0,get:function(){return E.PEXv1}});const c=i(71945);Object.defineProperty(f,"PEXv2",{enumerable:!0,get:function(){return c.PEXv2}});const u=i(70143);Object.defineProperty(f,"HandlerCheckResult",{enumerable:!0,get:function(){return u.HandlerCheckResult}});const n=i(99938);Object.defineProperty(f,"PEVersion",{enumerable:!0,get:function(){return n.PEVersion}});const l=i(80930);Object.defineProperty(f,"ValidationEngine",{enumerable:!0,get:function(){return l.ValidationEngine}}),v(i(64864),f)},64864:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(34277),f)},34277:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.KeyEncoding=f.PresentationSubmissionLocation=void 0;var i=function(v){return v[v.EXTERNAL=0]="EXTERNAL",v[v.PRESENTATION=1]="PRESENTATION",v}(i||(f.PresentationSubmissionLocation=i={})),h=function(v){return v.Jwk="Jwk",v.Base58="Base58",v.Hex="Hex",v.Multibase="Multibase",v}(h||(f.KeyEncoding=h={}))},99358:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.PEVersion=f.InternalPresentationDefinitionV2=f.InternalPresentationDefinitionV1=void 0,f.InternalPresentationDefinitionV1=class i{constructor(S,E,c,u,n,l){this.id=S,this.input_descriptors=E,this.format=c,this.name=u,this.purpose=n,this.submission_requirements=l}getVersion(){return v.v1}},f.InternalPresentationDefinitionV2=class h{constructor(S,E,c,u,n,l,s){this.format=c,this.frame=u,this.id=S,this.input_descriptors=E,this.name=n,this.purpose=l,this.submission_requirements=s}getVersion(){return v.v2}};var v=function(A){return A.v1="v1",A.v2="v2",A}(v||(f.PEVersion=v={}))},24080:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});var i=function(h){return h.INPUT_CANDIDATE_DOESNT_CONTAIN_PROPERTY="Input candidate does not contain property",h.INPUT_CANDIDATE_FAILED_FILTER_EVALUATION="Input candidate failed filter evaluation",h.INPUT_CANDIDATE_IS_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is eligible for submission",h.INPUT_CANDIDATE_IS_NOT_ELIGIBLE_FOR_PRESENTATION_SUBMISSION="The input candidate is not eligible for submission",h.INPUT_DESCRIPTOR_CONTEXT_CONTAINS_HASHLINK_VERIFICATION_NOT_SUPPORTED="Input descriptor contains hashlink. This version doesn't support hashlink verification.",h.LIMIT_DISCLOSURE_APPLIED="added variable in the limit_disclosure to the verifiableCredential",h.LIMIT_DISCLOSURE_NOT_SUPPORTED="Limit disclosure not supported",h.SUBJECT_IS_NOT_ISSUER="subject is not issuer",h.SUBJECT_IS_ISSUER="subject is issuer",h.FORMAT_RESTRICTION_PASSED="the Credential format of the candidate inputs matches the required formats",h.FORMAT_RESTRICTION_DIDNT_PASS="the Credential format of the candidate inputs didn't match the required formats",h.URI_EVALUATION_PASSED="@context URI(s) for the schema of the candidate input is equal to one of the input_descriptors object uri values.",h.URI_EVALUATION_DIDNT_PASS="@context URI for the of the candidate input MUST be equal to one of the input_descriptors object uri values exactly.",h.UNKNOWN_EXCEPTION="unknown exception occurred: ",h.VERIFIABLE_CREDENTIAL_MANDATORY_FIELD_NOT_PRESENT="mandatory field not present in the verifiableCredential",h}(i||{});f.default=i},88819:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.SSITypesBuilder=void 0;const h=i(11151),v=i(13486),A=i(99358);class S{static modelEntityToInternalPresentationDefinitionV1(c){const u=S.createCopyAndModifyPresentationDefinition(c);return new A.InternalPresentationDefinitionV1(u.id,u.input_descriptors,u.format,u.name,u.purpose,u.submission_requirements)}static modelEntityInternalPresentationDefinitionV2(c){const u=S.createCopyAndModifyPresentationDefinition(c);return new A.InternalPresentationDefinitionV2(u.id,u.input_descriptors,u.format,u.frame,u.name,u.purpose,u.submission_requirements)}static createCopyAndModifyPresentationDefinition(c){const u=JSON.parse(JSON.stringify(c));return v.JsonPathUtils.changePropertyNameRecursively(u,"_const","const"),v.JsonPathUtils.changePropertyNameRecursively(u,"_enum","enum"),v.JsonPathUtils.changeSpecialPathsRecursively(u),u}static mapExternalVerifiablePresentationToWrappedVP(c,u){return h.CredentialMapper.toWrappedVerifiablePresentation(c,{hasher:u})}static mapExternalVerifiableCredentialsToWrappedVcs(c,u){return h.CredentialMapper.toWrappedVerifiableCredentials(Array.isArray(c)?c:[c],{hasher:u})}static toInternalPresentationDefinition(c){const u=JSON.parse(JSON.stringify(c)),n=(0,v.definitionVersionDiscovery)(u);if(n.error)throw n.error;return n.version==A.PEVersion.v1?S.modelEntityToInternalPresentationDefinitionV1(u):S.modelEntityInternalPresentationDefinitionV2(u)}}f.SSITypesBuilder=S},99938:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(24080),f),v(i(99358),f),v(i(88819),f)},27426:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ObjectUtils=void 0;class i{static asArray(v){return Array.isArray(v)?v:[v]}static isObject(v){return"[object Object]"===Object.prototype.toString.call(v)}static isUrlAbsolute(v){i.isString(v)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test(v)}static isString(v){return"string"==typeof v||"[object String]"===Object.prototype.toString.call(v)}static getDistinctFieldInObject(v,A){const S=v.map(E=>E[A]);return Array.from(new Set(S))}static cloneDeep(v){return JSON.parse(JSON.stringify(v))}}f.ObjectUtils=i},18471:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ObjectValidationUtils=void 0,f.ObjectValidationUtils=class i{static optionalNonEmptyString(v){return null==v||v.length>0}static nonEmptyString(v){return null!=v&&v.length>0}static isValidDIDURI(v){return new RegExp("^did:([a-z0-9]+)(:([a-zA-Z0-9\\.\\-_]|%[0-9a-fA-F]{2})+)+(/([a-zA-Z-\\._~]|%[0-9a-fA-F]{2}|[!$&'()*+,;=:@])*)?").test(v)}}},79446:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(f,"__esModule",{value:!0}),f.filterToRestrictedDIDs=f.isRestrictedDID=f.uniformDIDMethods=f.definitionVersionDiscovery=f.getIssuerString=f.getSubjectIdsAsString=void 0;const v=i(99938),A=h(i(86515)),S=h(i(93046)),E=i(27426),c=i(45408);function s(p,d){var y;let b=null!==(y=p?.map(g=>g.toLowerCase()).map(g=>g.startsWith("did:")?g:`did:${g}`))&&void 0!==y?y:[];if(d?.removePrefix){const g=d.removePrefix.endsWith(":")?d.removePrefix.length:d.removePrefix.length+1;b=b.map(x=>x.startsWith(d.removePrefix)?x.substring(g):x)}return b.includes("did")?[]:b}f.getSubjectIdsAsString=function u(p){return(Array.isArray(p.credentialSubject)?p.credentialSubject:[p.credentialSubject]).filter(y=>!!y.id).map(y=>y.id)},f.getIssuerString=function n(p){return E.ObjectUtils.isString(p.issuer)?p.issuer:p.issuer.id},f.definitionVersionDiscovery=function l(p){const d=JSON.parse(JSON.stringify(p));c.JsonPathUtils.changePropertyNameRecursively(d,"_const","const"),c.JsonPathUtils.changePropertyNameRecursively(d,"_enum","enum");const y={presentation_definition:d};let b=(0,S.default)(y);return b?{version:v.PEVersion.v2}:(b=(0,A.default)(y),b?{version:v.PEVersion.v1}:{error:"This is not a valid PresentationDefinition"})},f.uniformDIDMethods=s,f.isRestrictedDID=function a(p,d){const y=s(d);return 0===y.length||y.some(b=>p.toLowerCase().startsWith(b))},f.filterToRestrictedDIDs=function m(p,d){const y=s(d);return 0===y.length?p:y.flatMap(b=>p.filter(g=>g.toLowerCase().startsWith(b)))}},13486:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(45408),f),v(i(27426),f),v(i(18471),f),v(i(79446),f),v(i(58870),f)},45408:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.JsonPathUtils=void 0;const h=i(44273);class v{static extractInputField(S,E){let c=[];if(E)for(const u of E)if(c=h.JSONPath.nodes(S,u),c.length)break;return c}static changePropertyNameRecursively(S,E,c){const u=v.extractInputField(S,["$.."+E]);for(const n of u)this.copyResultPathToDestinationDefinition(n.path,S,c)}static setValue(S,E,c){const u="string"==typeof E?E:h.JSONPath.stringify(E);return h.JSONPath.value(S,u,c),S}static copyResultPathToDestinationDefinition(S,E,c){let u=E;for(let n=1;n<S.length;n++)if(n+1<S.length&&(u=u[S[n]]),S.length==n+1){u[c]=u[S[n]],delete u[S[n]];break}}static changeSpecialPathsRecursively(S){const E=v.extractInputField(S,["$..path"]);for(const c of E)this.modifyPathsWithSpecialCharacter(c.path,S)}static modifyPathsWithSpecialCharacter(S,E){let c=E;for(let u=1;u<S.length;u++)if(u+1<S.length&&(c=c[S[u]]),S.length==u+1){const n=c[S[u]],l=[];for(let s=0;s<n.length;s++)l.push(this.modifyPathWithSpecialCharacter(n[s]));c[S[u]]=l;break}}static modifyPathWithSpecialCharacter(S){const E=this.matchAll(S,this.REGEX_PATH);return this.modifyPathRecursive(E,S)}static modifyPathRecursive(S,E){let c=S.next(),u=!1;for(;c&&!c.done&&!u;){const n=c.value.index;if(n&&1==n)E=E.charAt(0)+"['"+c.value[0]+"']"+E.substring(n+c.value[0].length),u=!0,this.modifyPathRecursive(S,E);else if(n&&n>1&&"['"!==E.substring(n-2,n)&&'["'!==E.substring(n-2,n))if(".."===E.substring(n-2,n)){E=E.substring(0,n-2)+"..['"+c.value[0]+"']"+E.substring(n+c.value[0].length),u=!0;const l=this.matchAll(E,this.REGEX_PATH);this.modifyPathRecursive(l,E)}else"."===E.charAt(n-1)&&(E=E.substring(0,n-1)+"['"+c.value[0]+"']"+E.substring(n+c.value[0].length),u=!0,this.modifyPathRecursive(S,E));c=S.next()}return E}}f.JsonPathUtils=v,v.matchAll=i(72373),v.REGEX_PATH=/@\w+/g},58870:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(s,a,m,p){void 0===p&&(p=m);var d=Object.getOwnPropertyDescriptor(a,m);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[m]}}),Object.defineProperty(s,p,d)}:function(s,a,m,p){void 0===p&&(p=m),s[p]=a[m]}),v=this&&this.__setModuleDefault||(Object.create?function(s,a){Object.defineProperty(s,"default",{enumerable:!0,value:a})}:function(s,a){s.default=a}),A=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var a={};if(null!=s)for(var m in s)"default"!==m&&Object.prototype.hasOwnProperty.call(s,m)&&h(a,s,m);return v(a,s),a};Object.defineProperty(f,"__esModule",{value:!0}),f.applySdJwtLimitDisclosure=f.calculateSdHash=void 0;const S=i(15315),E=i(22084),c=A(i(75324)),u=i(27426);f.calculateSdHash=function n(s,a,m){const p=m(s,a);return c.toString(p,"base64url")},f.applySdJwtLimitDisclosure=function l(s,a){const m=s.disclosures.map(C=>({digest:C.digest,encoded:C.encoded,salt:C.decoded[0],value:3===C.decoded.length?C.decoded[2]:C.decoded[1],key:3===C.decoded.length?C.decoded[1]:void 0})),p=(0,E.selectDisclosures)(u.ObjectUtils.cloneDeep(s.signedPayload),m,a);s.disclosures=p.map(C=>({encoded:C.encoded,decoded:C.key?[C.salt,C.key,C.value]:[C.salt,C.value],digest:C.digest}));const d=s.disclosures.map(C=>C.encoded),y=s.compactSdJwtVc.split("~");s.compactSdJwtVc=y.filter((C,B)=>0===B||B===y.length-1||d.includes(C)).join("~");const{payload:b}=(0,S.getSDAlgAndPayload)(u.ObjectUtils.cloneDeep(s.signedPayload)),g=(0,E.createHashMappingForSerializedDisclosure)(p),{unpackedObj:x}=(0,S.unpackObj)(b,g);s.decodedPayload=x}},38612:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ConstraintsVB=void 0;const h=i(47636),v=i(30387),A=i(10767);class S extends A.ValidationBundler{constructor(c){super(c,"constraints"),this.disclosureLimitShouldHaveKnownValueMsg="limit_disclosure should have known value",this.statusShouldHaveKnownValueMsg="Unknown status property",this.statusDirectiveShouldHaveKnownValueMsg="status directive should have known value",this.subjectIsIssuerShouldBeKnownValueMsg="subject_is_issuer should be known value",this.fieldIdIsMandatoryMsg="field_id property is mandatory",this.fieldIdMustBeArrayOfStringsMsg="field_id property must be an array of strings",this.fieldIdMustCorrespondToFieldIdMsg="field_id must correspond to a present field object id property",this.directivePropertyIsMandatoryMsg="directive property is mandatory",this.oneOfTheKnownDirectivePropertiesMandatoryMsg="directive property must be one of [required, preferred]"}getValidations(c){let u=[];return c&&(u=[{tag:this.getTag(),target:c,predicate:n=>S.disclosureLimitShouldHaveKnownValue(n.limit_disclosure),message:this.disclosureLimitShouldHaveKnownValueMsg},{tag:this.getTag(),target:c,predicate:n=>S.statusShouldHaveKnownValue(n.statuses),message:this.statusShouldHaveKnownValueMsg},{tag:this.getTag(),target:c,predicate:S.statusDirectiveShouldHaveKnownValue(),message:this.statusDirectiveShouldHaveKnownValueMsg},{tag:this.getTag(),target:c,predicate:n=>S.shouldBeKnownOption(n.is_holder),message:this.subjectIsIssuerShouldBeKnownValueMsg},{tag:this.getTag(),target:c,predicate:n=>this.fieldIdInSubjectMustCorrespondToFieldId(n,n.is_holder),message:this.fieldIdMustCorrespondToFieldIdMsg},{tag:this.getTag(),target:c,predicate:n=>this.fieldIdInSubjectMustCorrespondToFieldId(n,n.same_subject),message:this.fieldIdMustCorrespondToFieldIdMsg},...this.getSubjectsValidations(c?.is_holder),...this.getSubjectsValidations(c?.same_subject),...this.getFieldsValidations(c)]),u}getFieldsValidations(c){var u;return null!==(u=c?.fields)&&void 0!==u&&u.length?new v.FieldsVB(this.getTag()).getValidations(c.fields):[]}static disclosureLimitShouldHaveKnownValue(c){return!c||c===h.Optionality.Preferred||c===h.Optionality.Required}static statusShouldHaveKnownValue(c){return null==c||null!=c.active||null!=c.revoked||null!=c.suspended}static statusDirectiveShouldHaveKnownValue(){return c=>{var u,n,l;return this.pdStatusShouldBeKnown(null===(u=c?.statuses)||void 0===u?void 0:u.active)&&this.pdStatusShouldBeKnown(null===(n=c?.statuses)||void 0===n?void 0:n.revoked)&&this.pdStatusShouldBeKnown(null===(l=c?.statuses)||void 0===l?void 0:l.suspended)}}static pdStatusShouldBeKnown(c){return!c||c.directive===h.Directives.Allowed||c.directive===h.Directives.Disallowed||c.directive===h.Directives.Required}static shouldBeKnownOption(c){return!c||0===c.filter(u=>u.directive!==h.Optionality.Preferred&&u.directive!==h.Optionality.Required).length}getSubjectsValidations(c){if(c){let u=[];for(let n=0;n<c.length;n++)u=[{tag:this.getMyTag(n),target:c[n],predicate:l=>Array.isArray(l.field_id),message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(n),target:c[n],predicate:l=>!!l.field_id,message:this.fieldIdIsMandatoryMsg},{tag:this.getMyTag(n),target:c[n],predicate:l=>l.field_id.length===l.field_id.filter(s=>"string"==typeof s).length,message:this.fieldIdMustBeArrayOfStringsMsg},{tag:this.getMyTag(n),target:c[n],predicate:l=>void 0!==l.directive,message:this.directivePropertyIsMandatoryMsg},{tag:this.getMyTag(n),target:c[n],predicate:l=>l.directive===h.Optionality.Preferred||l.directive===h.Optionality.Required,message:this.oneOfTheKnownDirectivePropertiesMandatoryMsg}];return u}return[]}getMyTag(c){return this.parentTag+"."+this.myTag+"["+c+"]"}fieldIdInSubjectMustCorrespondToFieldId(c,u){if(u)for(const n of u)for(const l of n.field_id)if(!S.isValidFieldId(c,l))return!1;return!0}static isValidFieldId(c,u){return!!c?.fields&&c.fields.map(n=>n.id).includes(u)}}f.ConstraintsVB=S},30387:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(f,"__esModule",{value:!0}),f.FieldsVB=void 0;const v=i(44273),A=i(47636),S=h(i(94217)),E=h(i(61264)),c=i(10767);class u extends c.ValidationBundler{constructor(l){super(l,"fields"),this.mustHaveValidJsonPathsMsg='field object "path" property must contain array of valid json paths',this.pathObjMustHaveValidJsonPathMsg='field object "path" property must contain valid json paths.',this.filterMustBeValidJsonSchemaMsg='field object "filter" property must be valid json schema',this.filterIsMustInPresenceOfPredicateMsg='field object must have a "filter" property if "predicate" is present',this.filterIsNotValidJsonSchemaDescriptorMsg='could not parse "filter" object as a valid json schema descriptor.',this.purposeShouldBeANonEmptyStringMsg="purpose should be a non empty string",this.shouldBeKnownOptionMsg="Unknown predicate property"}getValidations(l){let s=[];if(l)for(let a=0;a<l.length;a++)s=[...s,...this.getValidationsFor(l[a],a)];return s}getValidationsFor(l,s){return[{tag:this.getMyTag(s),target:l,predicate:this.mustHaveValidJsonPaths(),message:this.mustHaveValidJsonPathsMsg},{tag:this.getMyTag(s),target:l,predicate:this.filterMustBeValidJsonSchema(),message:this.filterMustBeValidJsonSchemaMsg},{tag:this.getMyTag(s),target:l,predicate:this.filterIsMustInPresenceOfPredicate(),message:this.filterIsMustInPresenceOfPredicateMsg},{tag:this.getMyTag(s),target:l,predicate:a=>u.optionalNonEmptyString(a?.purpose),message:this.purposeShouldBeANonEmptyStringMsg},{tag:this.getMyTag(s),target:l,predicate:a=>u.shouldBeKnownOption(a?.predicate),message:this.shouldBeKnownOptionMsg}]}getMyTag(l){return this.parentTag+"."+this.myTag+"["+l+"]"}mustHaveValidJsonPaths(){return l=>null!=l.path&&l.path.length>0&&this._validateJsonPaths(l.path)}_validateJsonPaths(l){const s=[];if(l.forEach(a=>{try{v.JSONPath.parse(a)}catch{s.push(a)}}),s.length>0)throw this.toChecked(this.pathObjMustHaveValidJsonPathMsg+" Got: "+JSON.stringify(s));return!0}filterMustBeValidJsonSchema(){return l=>this._validateFilter(l.filter)}_validateFilter(l){if(null==l)return!0;let s=!1;try{s=(0,E.default)(l),s||(s=(0,S.default)(l))}catch{throw this.toChecked(this.filterIsNotValidJsonSchemaDescriptorMsg+" Got "+JSON.stringify(l))}return s}filterIsMustInPresenceOfPredicate(){return l=>!(null!=l.predicate&&null==l.filter)}static optionalNonEmptyString(l){return null==l||l.length>0}static shouldBeKnownOption(l){return null==l||l==A.Optionality.Required||l==A.Optionality.Preferred}}f.FieldsVB=u},79241:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.FrameVB=void 0;const h=i(13486),v=i(10767);class A extends v.ValidationBundler{constructor(E){super(E,"frame"),this.frameIsValidMsg="frame value is not valid"}getValidations(E){let c=[];return c=[...c,...this.getMyValidations(E)],c}getMyValidations(E){return[{tag:this.getMyTag(),target:E,predicate:A.frameIsValid,message:this.frameIsValidMsg}]}getMyTag(){return this.parentTag+"."+this.myTag}static frameIsValid(E){if(!E||Array.isArray(E)||"object"!=typeof E)return!1;const c=E;if(c&&c["@id"])for(const u of h.ObjectUtils.asArray(E["@id"]))if(!h.ObjectUtils.isObject(u)&&!h.ObjectUtils.isUrlAbsolute(u)||h.ObjectUtils.isString(u)&&0===u.indexOf("_:"))return!1;if(c["@types"])for(const u of h.ObjectUtils.asArray(E["@types"]))if(!h.ObjectUtils.isObject(u)&&!h.ObjectUtils.isUrlAbsolute(u)||h.ObjectUtils.isString(u)&&0===u.indexOf("_:"))return!1;return!0}}f.FrameVB=A},75056:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(30387),f),v(i(853),f),v(i(74840),f),v(i(27506),f),v(i(12915),f),v(i(3170),f),v(i(97091),f),v(i(10767),f),v(i(38612),f)},853:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.InputDescriptorsV1VB=void 0;const h=i(13486),v=i(38612),A=i(10767);f.InputDescriptorsV1VB=class S extends A.ValidationBundler{constructor(c){super(c,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string",this.shouldHaveValidSchemaURIMsg="schema should have valid URI"}getValidations(c){let u=[];return u.push({tag:this.getTag(),target:c,predicate:n=>this.shouldHaveUniqueIds(n),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:c,predicate:n=>this.shouldHaveUniqueFieldsIds(n),message:"fields id must be unique"}),c.forEach((n,l)=>{u=[...u,...this.getValidationFor(n,l),...this.constraintsValidations(n,l)]}),u}getValidationFor(c,u){return[{tag:this.getMyTag(u),target:c,predicate:n=>h.ObjectValidationUtils.nonEmptyString(n?.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:c,predicate:this.isValidSchema(),message:this.shouldHaveValidSchemaURIMsg},{tag:this.getMyTag(u),target:c,predicate:n=>h.ObjectValidationUtils.optionalNonEmptyString(n?.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:c,predicate:n=>h.ObjectValidationUtils.optionalNonEmptyString(n?.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(c){const u=[],n=new Set,l=[];return c.map(s=>{var a;return null===(a=s.constraints)||void 0===a?void 0:a.fields}).forEach(s=>{s&&l.push(...s)}),l.forEach(s=>{s.id&&u.push(s.id)}),u.forEach(s=>n.add(s)),u.length===n.size}shouldHaveUniqueIds(c){const u=[],n=new Set;return c.forEach(l=>u.push(l.id)),u.forEach(l=>n.add(l)),u.length===n.size}getMyTag(c){return this.parentTag+"."+this.myTag+"["+c+"]"}isValidSchema(){return c=>c.schema.filter(u=>this.isAValidURI(u.uri)&&(null==u.required||"boolean"==typeof u.required)).length>0}isAValidURI(c){if(!c)return!1;if(!h.ObjectValidationUtils.nonEmptyString(c))return!1;if(c.startsWith("http://")||c.startsWith("https://"))try{new URL(c)}catch{return h.ObjectValidationUtils.isValidDIDURI(c)}return!0}constraintsValidations(c,u){return c.constraints?new v.ConstraintsVB(this.getMyTag(u)).getValidations(c.constraints):[]}}},74840:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.InputDescriptorsV2VB=void 0;const h=i(13486),v=i(38612),A=i(10767);f.InputDescriptorsV2VB=class S extends A.ValidationBundler{constructor(c){super(c,"input_descriptor"),this.idMustBeNonEmptyStringMsg="input descriptor id must be non-empty string",this.nameShouldBeNonEmptyStringMsg="input descriptor name should be non-empty string",this.purposeShouldBeNonEmptyStringMsg="input descriptor purpose should be non-empty string"}getValidations(c){let u=[];return u.push({tag:this.getTag(),target:c,predicate:n=>this.shouldNotHaveSchema(n),message:"input descriptor should not have schema property"},{tag:this.getTag(),target:c,predicate:n=>this.shouldHaveUniqueIds(n),message:"input descriptor ids must be unique"},{tag:this.getTag(),target:c,predicate:n=>this.shouldHaveUniqueFieldsIds(n),message:"fields id must be unique"}),c.forEach((n,l)=>{u=[...u,...this.getValidationFor(n,l),...this.constraintsValidations(n,l)]}),u}getValidationFor(c,u){return[{tag:this.getMyTag(u),target:c,predicate:n=>h.ObjectValidationUtils.nonEmptyString(n?.id),message:this.idMustBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:c,predicate:n=>h.ObjectValidationUtils.optionalNonEmptyString(n?.name),message:this.nameShouldBeNonEmptyStringMsg},{tag:this.getMyTag(u),target:c,predicate:n=>h.ObjectValidationUtils.optionalNonEmptyString(n?.purpose),message:this.purposeShouldBeNonEmptyStringMsg}]}shouldHaveUniqueFieldsIds(c){const u=[],n=new Set,l=[];return c.map(s=>{var a;return null===(a=s.constraints)||void 0===a?void 0:a.fields}).forEach(s=>{s&&l.push(...s)}),l.forEach(s=>{s.id&&u.push(s.id)}),u.forEach(s=>n.add(s)),u.length===n.size}shouldHaveUniqueIds(c){const u=[],n=new Set;return c.forEach(l=>u.push(l.id)),u.forEach(l=>n.add(l)),u.length===n.size}getMyTag(c){return this.parentTag+"."+this.myTag+"["+c+"]"}constraintsValidations(c,u){return c.constraints?new v.ConstraintsVB(this.getMyTag(u)).getValidations(c.constraints):[]}shouldNotHaveSchema(c){let u=!1;return c.forEach(n=>{n.schema&&(u=!0)}),!u}}},27506:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(f,"__esModule",{value:!0}),f.PresentationDefinitionV1VB=void 0;const v=i(92209),A=i(83851),S=h(i(86515)),E=i(853),c=i(97091),u=i(10767);class n extends u.ValidationBundler{constructor(s){super(s,"presentation_definition")}getValidations(s){return s.submission_requirements?[...this.myValidations(s),...new E.InputDescriptorsV1VB(this.myTag).getValidations(s.input_descriptors),...new c.SubmissionRequirementVB(this.myTag).getValidations(s.submission_requirements)]:[...this.myValidations(s),...new E.InputDescriptorsV1VB(this.myTag).getValidations(s.input_descriptors)]}myValidations(s){return[{tag:this.getTag(),target:s,predicate:a=>null!=a,message:"presentation_definition should be non null."},{tag:this.getTag(),target:s,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:s,predicate:a=>n.nonEmptyString(a?.id),message:"id should not be empty"},{tag:this.getTag(),target:s,predicate:a=>n.optionalNonEmptyString(a?.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:s,predicate:a=>n.optionalNonEmptyString(a?.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:s,predicate:a=>n.formatValuesShouldNotBeEmpty(a?.format),message:"formats values should not empty"},{tag:this.getTag(),target:s,predicate:a=>n.formatValuesShouldBeAmongKnownValues(a?.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:s,predicate:a=>n.groupShouldMatchSubmissionRequirements(a),message:"input descriptor group should match the from in submission requirements."},{tag:this.getTag(),target:s,predicate:a=>n.shouldNotHaveFrameProperty(a),message:"input descriptor should not have frame property."}]}static optionalNonEmptyString(s){return null==s||s.length>0}static nonEmptyString(s){return null!=s&&s.length>0}static formatValuesShouldNotBeEmpty(s){var a,m,p,d,y,b,g,x,C,B,F;let T=!0;return null!=s?.jwt&&(T=T&&(null===(a=s.jwt.alg)||void 0===a?void 0:a.length)>0),null!=s?.jwt_vc&&(T=T&&(null===(m=s.jwt_vc.alg)||void 0===m?void 0:m.length)>0),null!=s?.jwt_vc_json&&(T=T&&(null===(p=s.jwt_vc_json.alg)||void 0===p?void 0:p.length)>0),null!=s?.jwt_vp&&(T=T&&(null===(d=s.jwt_vp.alg)||void 0===d?void 0:d.length)>0),null!=s?.jwt_vp_json&&(T=T&&(null===(y=s.jwt_vp_json.alg)||void 0===y?void 0:y.length)>0),null!=s?.ldp&&(T=T&&(null===(b=s.ldp.proof_type)||void 0===b?void 0:b.length)>0),null!=s?.ldp_vc&&(T=T&&(null===(g=s.ldp_vc.proof_type)||void 0===g?void 0:g.length)>0),null!=s?.ldp_vp&&(T=T&&(null===(x=s.ldp_vp.proof_type)||void 0===x?void 0:x.length)>0),null!=s?.di&&(T=T&&(null===(C=s.di.proof_type)||void 0===C?void 0:C.length)>0),null!=s?.di_vc&&(T=T&&(null===(B=s.di_vc.proof_type)||void 0===B?void 0:B.length)>0),null!=s?.di_vp&&(T=T&&(null===(F=s.di_vp.proof_type)||void 0===F?void 0:F.length)>0),T}static formatValuesShouldBeAmongKnownValues(s){let a=[];if(s){const m=v.JwtAlgos.getJwtAlgos(),p=A.LdpTypes.getLdpTypes();a=[];for(const[d,y]of Object.entries(s))d.startsWith("jwt")?a.push(...n.isJWTAlgoKnown(y,m)):a.push(...n.isLDPProofKnown(y,p))}return 0===a.length}static isJWTAlgoKnown(s,a){const m=[];if(null!=s&&null!=s.alg)for(const p of s.alg)a.includes(p)||m.push(p);return m}static isLDPProofKnown(s,a){const m=[];if(null!=s&&null!=s.proof_type)for(const p of s.proof_type)a.includes(p)||m.push(p);return m}static groupShouldMatchSubmissionRequirements(s){if(null!=s.submission_requirements&&s.submission_requirements.length>0){const a=[];s.input_descriptors.forEach(b=>{b.group&&a.push(...b.group)});const m=new Set(a),p=[];n.flatten(s.submission_requirements).forEach(b=>{b.from&&(Array.isArray(b.from)?p.push(...b.from):p.push(b.from))});const d=new Set(p);return 0===new Set([...d].filter(b=>null!=b&&b.length>0&&!m.has(b))).size}return!0}static flatten(s){return s?.reduce((a,m)=>a.concat(Array.isArray(m.from_nested)?this.flatten(m.from_nested):m),[])}shouldBeAsPerJsonSchema(){return s=>(0,S.default)({presentation_definition:s})}static shouldNotHaveFrameProperty(s){return!s.frame}}f.PresentationDefinitionV1VB=n},12915:function(Y,f,i){"use strict";var h=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(f,"__esModule",{value:!0}),f.PresentationDefinitionV2VB=void 0;const v=i(92209),A=i(83851),S=h(i(93046)),E=i(79241),c=i(74840),u=i(97091),n=i(10767);class l extends n.ValidationBundler{constructor(a){super(a,"presentation_definition")}getValidations(a){let m=[];return m=a.submission_requirements?[...this.myValidations(a),...new c.InputDescriptorsV2VB(this.myTag).getValidations(a.input_descriptors),...new u.SubmissionRequirementVB(this.myTag).getValidations(a.submission_requirements)]:[...this.myValidations(a),...new c.InputDescriptorsV2VB(this.myTag).getValidations(a.input_descriptors)],a.frame&&m.push(...new E.FrameVB(this.myTag).getValidations(a.frame)),m}myValidations(a){return[{tag:this.getTag(),target:a,predicate:m=>null!=m,message:"presentation_definition should be non null."},{tag:this.getTag(),target:a,predicate:this.shouldBeAsPerJsonSchema(),message:"presentation_definition should be as per json schema."},{tag:this.getTag(),target:a,predicate:m=>l.nonEmptyString(m?.id),message:"id should not be empty"},{tag:this.getTag(),target:a,predicate:m=>l.optionalNonEmptyString(m?.name),message:"name should be a non-empty string"},{tag:this.getTag(),target:a,predicate:m=>l.optionalNonEmptyString(m?.purpose),message:"purpose should be a non-empty string"},{tag:this.getTag(),target:a,predicate:m=>l.formatValuesShouldNotBeEmpty(m?.format),message:"formats values should not empty"},{tag:this.getTag(),target:a,predicate:m=>l.formatValuesShouldBeAmongKnownValues(m?.format),message:"formats should only have known identifiers for alg or proof_type"},{tag:this.getTag(),target:a,predicate:m=>l.groupShouldMatchSubmissionRequirements(m),message:"input descriptor group should match the from in submission requirements."}]}static optionalNonEmptyString(a){return null==a||a.length>0}static nonEmptyString(a){return null!=a&&a.length>0}static formatValuesShouldNotBeEmpty(a){var m,p,d,y,b,g,x,C,B,F,T;let z=!0;return null!=a?.jwt&&(z=z&&(null===(m=a.jwt.alg)||void 0===m?void 0:m.length)>0),null!=a?.jwt_vc&&(z=z&&(null===(p=a.jwt_vc.alg)||void 0===p?void 0:p.length)>0),null!=a?.jwt_vc_json&&(z=z&&(null===(d=a.jwt_vc_json.alg)||void 0===d?void 0:d.length)>0),null!=a?.jwt_vp&&(z=z&&(null===(y=a.jwt_vp.alg)||void 0===y?void 0:y.length)>0),null!=a?.jwt_vp_json&&(z=z&&(null===(b=a.jwt_vp_json.alg)||void 0===b?void 0:b.length)>0),null!=a?.ldp&&(z=z&&(null===(g=a.ldp.proof_type)||void 0===g?void 0:g.length)>0),null!=a?.ldp_vc&&(z=z&&(null===(x=a.ldp_vc.proof_type)||void 0===x?void 0:x.length)>0),null!=a?.ldp_vp&&(z=z&&(null===(C=a.ldp_vp.proof_type)||void 0===C?void 0:C.length)>0),null!=a?.di&&(z=z&&(null===(B=a.di.proof_type)||void 0===B?void 0:B.length)>0),null!=a?.di_vc&&(z=z&&(null===(F=a.di_vc.proof_type)||void 0===F?void 0:F.length)>0),null!=a?.di_vp&&(z=z&&(null===(T=a.di_vp.proof_type)||void 0===T?void 0:T.length)>0),z}static formatValuesShouldBeAmongKnownValues(a){let m=[];if(a){const p=v.JwtAlgos.getJwtAlgos(),d=A.LdpTypes.getLdpTypes();m=[];for(const[y,b]of Object.entries(a))y.startsWith("jwt")?m.push(...l.isJWTAlgoKnown(b,p)):m.push(...l.isLDPProofKnown(b,d))}return 0===m.length}static isJWTAlgoKnown(a,m){const p=[];if(null!=a&&null!=a.alg)for(const d of a.alg)m.includes(d)||p.push(d);return p}static isLDPProofKnown(a,m){const p=[];if(null!=a&&null!=a.proof_type)for(const d of a.proof_type)m.includes(d)||p.push(d);return p}static groupShouldMatchSubmissionRequirements(a){if(null!=a.submission_requirements&&a.submission_requirements.length>0){const m=[];a.input_descriptors.forEach(g=>{g.group&&m.push(...g.group)});const p=new Set(m),d=[];l.flatten(a.submission_requirements).forEach(g=>{g.from&&d.push(g.from)});const y=new Set(d);return 0===new Set([...y].filter(g=>null!=g&&g.length>0&&!p.has(g))).size}return!0}static flatten(a){return a?.reduce((m,p)=>m.concat(Array.isArray(p.from_nested)?this.flatten(p.from_nested):p),[])}shouldBeAsPerJsonSchema(){return a=>(0,S.default)({presentation_definition:a})}}f.PresentationDefinitionV2VB=l},3170:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.PresentationSubmissionVB=void 0;const h=i(44273),v=i(55776),A=i(10767);class S extends A.ValidationBundler{constructor(c){super(c,"presentation_submission")}getValidations(c){return[{tag:this.getTag(),target:c,predicate:u=>null!=u,message:"presentation_submission should be non null."},{tag:this.getTag(),target:c,predicate:u=>S.nonEmptyString(u?.id),message:"id should not be empty"},{tag:this.getTag(),target:c,predicate:u=>S.nonEmptyString(u?.definition_id),message:"presentation_definition_id should not be empty"},{tag:this.getTag(),target:c,predicate:u=>S.descriptorMapMustBePresent(u?.descriptor_map),message:"descriptor_map should be a non-empty list"},{tag:this.getTag(),target:c,predicate:u=>S.idMustBeSameForEachLevelOfNesting(u?.descriptor_map),message:"each descriptor should have a one id in it, on all levels"},{tag:this.getTag(),target:c,predicate:u=>S.formatsShouldBeKnown(u?.descriptor_map),message:"each format should be one of the known format"},{tag:this.getTag(),target:c,predicate:u=>S.pathsShouldBeValidJsonPaths(u?.descriptor_map),message:"each path should be a valid jsonPath"}]}static nonEmptyString(c){return null!=c&&c.length>0}static descriptorMapMustBePresent(c){return null!=c&&c.length>0}static idMustBeSameForEachLevelOfNesting(c){let u=!0;if(null!=c)for(let n=0;n<c.length;n++)u=u&&S.isIdSameForEachLevelOfNesting(c[n],c[n].id);return u}static isIdSameForEachLevelOfNesting(c,u){let n=!0;return null!=c&&null!=c.path_nested&&(n=c.path_nested.id==u&&n&&S.isIdSameForEachLevelOfNesting(c.path_nested,u)),n}static formatsShouldBeKnown(c){let u=!0;if(null!=c){const n=["jwt","jwt_vc","jwt_vc_json","jwt_vp","jwt_vp_json","ldp","ldp_vc","ldp_vp","di","di_vc","di_vp","vc+sd-jwt"];for(let l=0;l<c.length;l++)u=S.formatShouldBeKnown(c[l],n)}return u}static formatShouldBeKnown(c,u){let n=!0;return null!=c&&(n=u.includes(c.format)),null!=c.path_nested&&(n=n&&S.formatShouldBeKnown(c.path_nested,u)),n}static pathsShouldBeValidJsonPaths(c){let u=!0;if(null!=c)for(let n=0;n<c.length;n++)u=S.pathShouldBeValid(c[n],[]);return u}static pathShouldBeValid(c,u){if(null!=c){try{h.JSONPath.parse(c.path)}catch{u.push(c.path)}null!=c.path_nested&&S.pathShouldBeValid(c.path_nested,u)}if(u.length>0)throw new v.Checked("",v.Status.ERROR,"These were not parsable json paths: "+JSON.stringify(u));return!0}}f.PresentationSubmissionVB=S},97091:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.SubmissionRequirementVB=void 0;const h=i(10767);class v extends h.ValidationBundler{constructor(S){super(S,"submission_requirements"),this.ruleIsMandatoryMsg="rule is a mandatory field",this.needsOneFromOrFromNestedMsg="needs exactly one of from or from_nested",this.fromNestedShouldBeArrayMsg="The value of the from_nested property MUST be an array",this.isCountPositiveIntMsg="count must be a practical positive number",this.isMinPositiveIntMsg="min must be a practical positive number",this.isMaxPositiveIntMsg="max must be a practical positive number",this.ruleShouldBePickOrAllMsg="rule should be either pick or all"}getValidations(S){let E=[];if(null!=S&&S.length>0)for(let c=0;c<S.length;c++)E=[...E,...this.getMyValidations(c,S),...this.getSubValidations(c,S)];return E}getMyValidations(S,E){return[{tag:this.getMyTag(S),target:E[S],predicate:v.ruleIsMandatory,message:this.ruleIsMandatoryMsg},{tag:this.getMyTag(S),target:E[S],predicate:v.needsOneFromOrFromNested,message:this.needsOneFromOrFromNestedMsg},{tag:this.getMyTag(S),target:E[S],predicate:v.fromNestedShouldBeArray,message:this.fromNestedShouldBeArrayMsg},{tag:this.getMyTag(S),target:E[S],predicate:this.isCountPositiveInt,message:this.isCountPositiveIntMsg},{tag:this.getMyTag(S),target:E[S],predicate:this.isMinPositiveInt,message:this.isMinPositiveIntMsg},{tag:this.getMyTag(S),target:E[S],predicate:this.isMaxPositiveInt,message:this.isMaxPositiveIntMsg},{tag:this.getMyTag(S),target:E[S],predicate:v.ruleShouldBePickOrAll,message:this.ruleShouldBePickOrAllMsg}]}getMyTag(S){return this.parentTag+"."+this.myTag+"["+S+"]"}getSubValidations(S,E){const c=E[S].from_nested;return null!=c?new v(this.getFromNestedTag(S)).getValidations(c):[]}getFromNestedTag(S){return this.getMyTag(S)+".from_nested"}isCountPositiveInt(S){return"pick"!==S.rule||null==S.count||0<S.count}isMinPositiveInt(S){return"pick"!==S.rule||null==S.min||0<=S.min}isMaxPositiveInt(S){return"pick"!==S.rule||null==S.max||0<S.max}static ruleIsMandatory(S){return null!=S.rule}static needsOneFromOrFromNested(S){return null==S.from!=(null==S.from_nested)}static fromNestedShouldBeArray(S){return null==S.from_nested||Array.isArray(S.from_nested)}static ruleShouldBePickOrAll(S){return"pick"===S.rule||"all"===S.rule}}f.SubmissionRequirementVB=v},10767:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ValidationBundler=void 0;const h=i(55776);f.ValidationBundler=class v{constructor(S,E){this.parentTag=S,this.myTag=E}getTag(){return null!=this.parentTag?this.parentTag+"."+this.myTag:this.myTag}toChecked(S){return new h.Checked(this.getTag(),h.Status.ERROR,S)}}},80320:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(51130),f),v(i(93398),f),v(i(50903),f)},92209:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.JwtAlgos=void 0,f.JwtAlgos=class i{static getJwtAlgos(){return["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","ES512","PS256","PS384","PS512","none","RSA1_5","RSA-OAEP","RSA-OAEP-256","A128KW","A192KW","A256KW","dir","ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"]}}},83851:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.LdpTypes=void 0,f.LdpTypes=class i{static getLdpTypes(){return["Ed25519VerificationKey2018","Ed25519Signature2018","RsaSignature2018","EcdsaSecp256k1Signature2019","EcdsaSecp256k1RecoverySignature2020","JsonWebSignature2020","GpgSignature2020","JcsEd25519Signature2020","BbsBlsSignature2020","Bls12381G2Key2020","DataIntegrityProof"]}}},93398:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},50903:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ValidationEngine=void 0;const h=i(80320);f.ValidationEngine=class v{validate(S){let E=[];for(const c of S)E=E.concat(c.bundler.getValidations(c.target));return(0,h.validate)(E)}}},51130:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.validate=void 0;const h=i(55776);f.validate=A=>{function E(s){return new h.Checked(s.tag,h.Status.ERROR,s.message)}function c(s){return new h.Checked(s,h.Status.INFO,"ok")}const l=A.map(s=>function u(s){let a;try{a=s.predicate(s.target)?c(s.tag):E(s)}catch{a=E(s)}return a}(s)).reduce((s,a)=>(a.status!==h.Status.INFO&&s.push(a),s),[]);return(0,h.hasErrors)(l)?l:[c("root")]}},80930:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(75056),f),v(i(80320),f)},94217:Y=>{"use strict";Y.exports=u,Y.exports.default=u;const i={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberStringBoolean"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},required:["type"],type:"object"},h=Object.prototype.hasOwnProperty,v={type:["number","string","boolean"]};function A(n,{instancePath:l="",rootData:m=n}={}){let p=null,d=0;if("number"!=typeof n&&"string"!=typeof n&&"boolean"!=typeof n){const y={instancePath:l,schemaPath:"#/type",keyword:"type",params:{type:v.type},message:"must be number,string,boolean",schema:v.type,parentSchema:v,data:n};null===p?p=[y]:p.push(y),d++}return A.errors=p,0===d}const S={type:["number","string"]};function E(n,{instancePath:l="",rootData:m=n}={}){let p=null,d=0;if("number"!=typeof n&&"string"!=typeof n){const y={instancePath:l,schemaPath:"#/type",keyword:"type",params:{type:S.type},message:"must be number,string",schema:S.type,parentSchema:S,data:n};null===p?p=[y]:p.push(y),d++}return E.errors=p,0===d}function c(n,{instancePath:l="",rootData:m=n}={}){let p=null,d=0;if(n&&"object"==typeof n&&!Array.isArray(n)){if(void 0===n.type){const y={instancePath:l,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:i.required,parentSchema:i,data:n};null===p?p=[y]:p.push(y),d++}for(const y in n)if(!h.call(i.properties,y)){const b={instancePath:l,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:y},message:"must NOT have additional properties",schema:!1,parentSchema:i,data:n};null===p?p=[b]:p.push(b),d++}if(void 0!==n.const&&(A(n.const,{instancePath:l+"/const",parentData:n,parentDataProperty:"const",rootData:m})||(p=null===p?A.errors:p.concat(A.errors),d=p.length)),void 0!==n.enum){let y=n.enum;if(Array.isArray(y)){const b=y.length;for(let g=0;g<b;g++)E(y[g],{instancePath:l+"/enum/"+g,parentData:y,parentDataProperty:g,rootData:m})||(p=null===p?E.errors:p.concat(E.errors),d=p.length)}else{const b={instancePath:l+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.properties.enum.type,parentSchema:i.properties.enum,data:y};null===p?p=[b]:p.push(b),d++}}if(void 0!==n.exclusiveMaximum&&(E(n.exclusiveMaximum,{instancePath:l+"/exclusiveMaximum",parentData:n,parentDataProperty:"exclusiveMaximum",rootData:m})||(p=null===p?E.errors:p.concat(E.errors),d=p.length)),void 0!==n.exclusiveMinimum&&(E(n.exclusiveMinimum,{instancePath:l+"/exclusiveMinimum",parentData:n,parentDataProperty:"exclusiveMinimum",rootData:m})||(p=null===p?E.errors:p.concat(E.errors),d=p.length)),void 0!==n.format){let y=n.format;if("string"!=typeof y){const b={instancePath:l+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.format.type,parentSchema:i.properties.format,data:y};null===p?p=[b]:p.push(b),d++}}if(void 0!==n.maxLength){let y=n.maxLength;if("number"!=typeof y){const b={instancePath:l+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:i.properties.maxLength.type,parentSchema:i.properties.maxLength,data:y};null===p?p=[b]:p.push(b),d++}}if(void 0!==n.maximum&&(E(n.maximum,{instancePath:l+"/maximum",parentData:n,parentDataProperty:"maximum",rootData:m})||(p=null===p?E.errors:p.concat(E.errors),d=p.length)),void 0!==n.minLength){let y=n.minLength;if("number"!=typeof y){const b={instancePath:l+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:i.properties.minLength.type,parentSchema:i.properties.minLength,data:y};null===p?p=[b]:p.push(b),d++}}if(void 0!==n.minimum&&(E(n.minimum,{instancePath:l+"/minimum",parentData:n,parentDataProperty:"minimum",rootData:m})||(p=null===p?E.errors:p.concat(E.errors),d=p.length)),void 0!==n.not){let y=n.not;if(!y||"object"!=typeof y||Array.isArray(y)){const b={instancePath:l+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.properties.not.type,parentSchema:i.properties.not,data:y};null===p?p=[b]:p.push(b),d++}}if(void 0!==n.pattern){let y=n.pattern;if("string"!=typeof y){const b={instancePath:l+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.pattern.type,parentSchema:i.properties.pattern,data:y};null===p?p=[b]:p.push(b),d++}}if(void 0!==n.type){let y=n.type;if("string"!=typeof y){const b={instancePath:l+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.type.type,parentSchema:i.properties.type,data:y};null===p?p=[b]:p.push(b),d++}}}else{const y={instancePath:l,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.type,parentSchema:i,data:n};null===p?p=[y]:p.push(y),d++}return c.errors=p,0===d}function u(n,{instancePath:l="",parentData:s,parentDataProperty:a,rootData:m=n}={}){let p=null,d=0;return c(n,{instancePath:l,parentData:s,parentDataProperty:a,rootData:m})||(p=null===p?c.errors:p.concat(c.errors),d=p.length),u.errors=p,0===d}},61264:Y=>{"use strict";Y.exports=n,Y.exports.default=n;const i={additionalProperties:!1,properties:{const:{$ref:"#/definitions/OneOfNumberStringBoolean"},contains:{$ref:"#/definitions/FilterV2"},enum:{items:{$ref:"#/definitions/OneOfNumberString"},type:"array"},exclusiveMaximum:{$ref:"#/definitions/OneOfNumberString"},exclusiveMinimum:{$ref:"#/definitions/OneOfNumberString"},format:{type:"string"},formatExclusiveMaximum:{type:"string"},formatExclusiveMinimum:{type:"string"},formatMaximum:{type:"string"},formatMinimum:{type:"string"},items:{anyOf:[{$ref:"#/definitions/FilterV2"},{items:{$ref:"#/definitions/FilterV2"},minItems:1,type:"array"}]},maxLength:{type:"number"},maximum:{$ref:"#/definitions/OneOfNumberString"},minLength:{type:"number"},minimum:{$ref:"#/definitions/OneOfNumberString"},not:{type:"object"},pattern:{type:"string"},type:{type:"string"}},type:"object"},h=Object.prototype.hasOwnProperty,v={type:["number","string","boolean"]};function A(l,{instancePath:s="",rootData:p=l}={}){let d=null,y=0;if("number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l){const b={instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:v.type},message:"must be number,string,boolean",schema:v.type,parentSchema:v,data:l};null===d?d=[b]:d.push(b),y++}return A.errors=d,0===y}const S={type:["number","string"]};function E(l,{instancePath:s="",rootData:p=l}={}){let d=null,y=0;if("number"!=typeof l&&"string"!=typeof l){const b={instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:S.type},message:"must be number,string",schema:S.type,parentSchema:S,data:l};null===d?d=[b]:d.push(b),y++}return E.errors=d,0===y}const c={validate:u};function u(l,{instancePath:s="",rootData:p=l}={}){let d=null,y=0;if(l&&"object"==typeof l&&!Array.isArray(l)){for(const g in l)if(!h.call(i.properties,g)){const x={instancePath:s,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:g},message:"must NOT have additional properties",schema:!1,parentSchema:i,data:l};null===d?d=[x]:d.push(x),y++}if(void 0!==l.const&&(A(l.const,{instancePath:s+"/const",parentData:l,parentDataProperty:"const",rootData:p})||(d=null===d?A.errors:d.concat(A.errors),y=d.length)),void 0!==l.contains&&(c.validate(l.contains,{instancePath:s+"/contains",parentData:l,parentDataProperty:"contains",rootData:p})||(d=null===d?c.validate.errors:d.concat(c.validate.errors),y=d.length)),void 0!==l.enum){let g=l.enum;if(Array.isArray(g)){const x=g.length;for(let C=0;C<x;C++)E(g[C],{instancePath:s+"/enum/"+C,parentData:g,parentDataProperty:C,rootData:p})||(d=null===d?E.errors:d.concat(E.errors),y=d.length)}else{const x={instancePath:s+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.properties.enum.type,parentSchema:i.properties.enum,data:g};null===d?d=[x]:d.push(x),y++}}if(void 0!==l.exclusiveMaximum&&(E(l.exclusiveMaximum,{instancePath:s+"/exclusiveMaximum",parentData:l,parentDataProperty:"exclusiveMaximum",rootData:p})||(d=null===d?E.errors:d.concat(E.errors),y=d.length)),void 0!==l.exclusiveMinimum&&(E(l.exclusiveMinimum,{instancePath:s+"/exclusiveMinimum",parentData:l,parentDataProperty:"exclusiveMinimum",rootData:p})||(d=null===d?E.errors:d.concat(E.errors),y=d.length)),void 0!==l.format){let g=l.format;if("string"!=typeof g){const x={instancePath:s+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.format.type,parentSchema:i.properties.format,data:g};null===d?d=[x]:d.push(x),y++}}if(void 0!==l.formatExclusiveMaximum){let g=l.formatExclusiveMaximum;if("string"!=typeof g){const x={instancePath:s+"/formatExclusiveMaximum",schemaPath:"#/properties/formatExclusiveMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.formatExclusiveMaximum.type,parentSchema:i.properties.formatExclusiveMaximum,data:g};null===d?d=[x]:d.push(x),y++}}if(void 0!==l.formatExclusiveMinimum){let g=l.formatExclusiveMinimum;if("string"!=typeof g){const x={instancePath:s+"/formatExclusiveMinimum",schemaPath:"#/properties/formatExclusiveMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.formatExclusiveMinimum.type,parentSchema:i.properties.formatExclusiveMinimum,data:g};null===d?d=[x]:d.push(x),y++}}if(void 0!==l.formatMaximum){let g=l.formatMaximum;if("string"!=typeof g){const x={instancePath:s+"/formatMaximum",schemaPath:"#/properties/formatMaximum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.formatMaximum.type,parentSchema:i.properties.formatMaximum,data:g};null===d?d=[x]:d.push(x),y++}}if(void 0!==l.formatMinimum){let g=l.formatMinimum;if("string"!=typeof g){const x={instancePath:s+"/formatMinimum",schemaPath:"#/properties/formatMinimum/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.formatMinimum.type,parentSchema:i.properties.formatMinimum,data:g};null===d?d=[x]:d.push(x),y++}}if(void 0!==l.items){let g=l.items;const x=y;let C=!1;const B=y;c.validate(g,{instancePath:s+"/items",parentData:l,parentDataProperty:"items",rootData:p})||(d=null===d?c.validate.errors:d.concat(c.validate.errors),y=d.length);var b=B===y;if(C=C||b,!C){const F=y;if(Array.isArray(g)){if(g.length<1){const re={instancePath:s+"/items",schemaPath:"#/properties/items/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:i.properties.items.anyOf[1],data:g};null===d?d=[re]:d.push(re),y++}const z=g.length;for(let re=0;re<z;re++)c.validate(g[re],{instancePath:s+"/items/"+re,parentData:g,parentDataProperty:re,rootData:p})||(d=null===d?c.validate.errors:d.concat(c.validate.errors),y=d.length)}else{const z={instancePath:s+"/items",schemaPath:"#/properties/items/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.properties.items.anyOf[1].type,parentSchema:i.properties.items.anyOf[1],data:g};null===d?d=[z]:d.push(z),y++}b=F===y,C=C||b}if(C)y=x,null!==d&&(x?d.length=x:d=null);else{const F={instancePath:s+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:i.properties.items.anyOf,parentSchema:i.properties.items,data:g};null===d?d=[F]:d.push(F),y++}}if(void 0!==l.maxLength){let g=l.maxLength;if("number"!=typeof g){const x={instancePath:s+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:i.properties.maxLength.type,parentSchema:i.properties.maxLength,data:g};null===d?d=[x]:d.push(x),y++}}if(void 0!==l.maximum&&(E(l.maximum,{instancePath:s+"/maximum",parentData:l,parentDataProperty:"maximum",rootData:p})||(d=null===d?E.errors:d.concat(E.errors),y=d.length)),void 0!==l.minLength){let g=l.minLength;if("number"!=typeof g){const x={instancePath:s+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"number"},message:"must be number",schema:i.properties.minLength.type,parentSchema:i.properties.minLength,data:g};null===d?d=[x]:d.push(x),y++}}if(void 0!==l.minimum&&(E(l.minimum,{instancePath:s+"/minimum",parentData:l,parentDataProperty:"minimum",rootData:p})||(d=null===d?E.errors:d.concat(E.errors),y=d.length)),void 0!==l.not){let g=l.not;if(!g||"object"!=typeof g||Array.isArray(g)){const x={instancePath:s+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.properties.not.type,parentSchema:i.properties.not,data:g};null===d?d=[x]:d.push(x),y++}}if(void 0!==l.pattern){let g=l.pattern;if("string"!=typeof g){const x={instancePath:s+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.pattern.type,parentSchema:i.properties.pattern,data:g};null===d?d=[x]:d.push(x),y++}}if(void 0!==l.type){let g=l.type;if("string"!=typeof g){const x={instancePath:s+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties.type.type,parentSchema:i.properties.type,data:g};null===d?d=[x]:d.push(x),y++}}}else{const g={instancePath:s,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.type,parentSchema:i,data:l};null===d?d=[g]:d.push(g),y++}return u.errors=d,0===y}function n(l,{instancePath:s="",parentData:a,parentDataProperty:m,rootData:p=l}={}){let d=null,y=0;return u(l,{instancePath:s,parentData:a,parentDataProperty:m,rootData:p})||(d=null===d?u.errors:d.concat(u.errors),y=d.length),n.errors=d,0===y}},86515:Y=>{"use strict";Y.exports=B,Y.exports.default=B;const f={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{schema:{type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1},issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},filter:{type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},format:{type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},i={type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},h=new RegExp("^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$","u"),v=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),A=new RegExp("^di_vc$|^di_vp$|^di$","u"),S=new RegExp("additionalProperties","u");function E(F,{instancePath:T="",rootData:ie=F}={}){let O=null,J=0;if(F&&"object"==typeof F&&!Array.isArray(F)){for(const k in F)if(!("vc+sd-jwt"===k||h.test(k)||v.test(k)||A.test(k)||S.test(k))){const Z={instancePath:T,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties",schema:!1,parentSchema:i,data:F};null===O?O=[Z]:O.push(Z),J++}if(void 0!==F["vc+sd-jwt"]){let k=F["vc+sd-jwt"];if(k&&"object"==typeof k&&!Array.isArray(k)){for(const Z in k)if("sd-jwt_alg_values"!==Z&&"kb-jwt_alg_values"!==Z){const W={instancePath:T+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Z},message:"must NOT have additional properties",schema:!1,parentSchema:i.properties["vc+sd-jwt"],data:k};null===O?O=[W]:O.push(W),J++}if(void 0!==k["sd-jwt_alg_values"]){let Z=k["sd-jwt_alg_values"];if(Array.isArray(Z)){if(Z.length<1){const pe={instancePath:T+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:i.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:Z};null===O?O=[pe]:O.push(pe),J++}const W=Z.length;for(let pe=0;pe<W;pe++){let R=Z[pe];if("string"!=typeof R){const X={instancePath:T+"/vc+sd-jwt/sd-jwt_alg_values/"+pe,schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items.type,parentSchema:i.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items,data:R};null===O?O=[X]:O.push(X),J++}}}else{const W={instancePath:T+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].type,parentSchema:i.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:Z};null===O?O=[W]:O.push(W),J++}}if(void 0!==k["kb-jwt_alg_values"]){let Z=k["kb-jwt_alg_values"];if(Array.isArray(Z)){if(Z.length<1){const pe={instancePath:T+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:i.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:Z};null===O?O=[pe]:O.push(pe),J++}const W=Z.length;for(let pe=0;pe<W;pe++){let R=Z[pe];if("string"!=typeof R){const X={instancePath:T+"/vc+sd-jwt/kb-jwt_alg_values/"+pe,schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items.type,parentSchema:i.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items,data:R};null===O?O=[X]:O.push(X),J++}}}else{const W={instancePath:T+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].type,parentSchema:i.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:Z};null===O?O=[W]:O.push(W),J++}}}else{const Z={instancePath:T+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.properties["vc+sd-jwt"].type,parentSchema:i.properties["vc+sd-jwt"],data:k};null===O?O=[Z]:O.push(Z),J++}}for(const k in F)if(h.test(k)){let Z=F[k];if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0===Z.alg){const W={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:i.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].required,parentSchema:i.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:Z};null===O?O=[W]:O.push(W),J++}for(const W in Z)if("alg"!==W){const pe={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties",schema:!1,parentSchema:i.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:Z};null===O?O=[pe]:O.push(pe),J++}if(void 0!==Z.alg){let W=Z.alg;if(Array.isArray(W)){if(W.length<1){const R={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:i.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg,data:W};null===O?O=[R]:O.push(R),J++}const pe=W.length;for(let R=0;R<pe;R++){let X=W[R];if("string"!=typeof X){const oe={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+R,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.items.type,parentSchema:i.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.items,data:X};null===O?O=[oe]:O.push(oe),J++}}}else{const pe={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg.type,parentSchema:i.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].properties.alg,data:W};null===O?O=[pe]:O.push(pe),J++}}}else{const W={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"].type,parentSchema:i.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$"],data:Z};null===O?O=[W]:O.push(W),J++}}for(const k in F)if(v.test(k)){let Z=F[k];if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0===Z.proof_type){const W={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:i.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:i.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:Z};null===O?O=[W]:O.push(W),J++}for(const W in Z)if("proof_type"!==W){const pe={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties",schema:!1,parentSchema:i.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:Z};null===O?O=[pe]:O.push(pe),J++}if(void 0!==Z.proof_type){let W=Z.proof_type;if(Array.isArray(W)){if(W.length<1){const R={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:i.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:W};null===O?O=[R]:O.push(R),J++}const pe=W.length;for(let R=0;R<pe;R++){let X=W[R];if("string"!=typeof X){const oe={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+R,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:i.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:X};null===O?O=[oe]:O.push(oe),J++}}}else{const pe={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:i.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:W};null===O?O=[pe]:O.push(pe),J++}}}else{const W={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:i.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:Z};null===O?O=[W]:O.push(W),J++}}for(const k in F)if(A.test(k)){let Z=F[k];if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0===Z.proof_type){const W={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:i.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:i.patternProperties["^di_vc$|^di_vp$|^di$"],data:Z};null===O?O=[W]:O.push(W),J++}if(void 0===Z.cryptosuite){const W={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"cryptosuite"},message:"must have required property 'cryptosuite'",schema:i.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:i.patternProperties["^di_vc$|^di_vp$|^di$"],data:Z};null===O?O=[W]:O.push(W),J++}for(const W in Z)if("proof_type"!==W&&"cryptosuite"!==W){const pe={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:W},message:"must NOT have additional properties",schema:!1,parentSchema:i.patternProperties["^di_vc$|^di_vp$|^di$"],data:Z};null===O?O=[pe]:O.push(pe),J++}if(void 0!==Z.proof_type){let W=Z.proof_type;if(Array.isArray(W)){if(W.length<1){const R={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:i.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:W};null===O?O=[R]:O.push(R),J++}const pe=W.length;for(let R=0;R<pe;R++){let X=W[R];if("string"!=typeof X){const oe={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+R,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items.type,parentSchema:i.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items,data:X};null===O?O=[oe]:O.push(oe),J++}}}else{const pe={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.type,parentSchema:i.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:W};null===O?O=[pe]:O.push(pe),J++}}if(void 0!==Z.cryptosuite){let W=Z.cryptosuite;if(Array.isArray(W)){if(W.length<1){const R={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:i.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:W};null===O?O=[R]:O.push(R),J++}const pe=W.length;for(let R=0;R<pe;R++){let X=W[R];if("string"!=typeof X){const oe={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite/"+R,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:i.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items.type,parentSchema:i.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items,data:X};null===O?O=[oe]:O.push(oe),J++}}}else{const pe={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/type",keyword:"type",params:{type:"array"},message:"must be array",schema:i.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.type,parentSchema:i.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:W};null===O?O=[pe]:O.push(pe),J++}}}else{const W={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.patternProperties["^di_vc$|^di_vp$|^di$"].type,parentSchema:i.patternProperties["^di_vc$|^di_vp$|^di$"],data:Z};null===O?O=[W]:O.push(W),J++}}for(const k in F)if(S.test(k)){const Z={instancePath:T+"/"+k.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:i.patternProperties.additionalProperties,data:F[k]};null===O?O=[Z]:O.push(Z),J++}}else{const k={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:i.type,parentSchema:i,data:F};null===O?O=[k]:O.push(k),J++}return E.errors=O,0===J}const c={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},u={validate:n};function n(F,{instancePath:T="",rootData:ie=F}={}){let O=null,J=0;if(!F||"object"!=typeof F||Array.isArray(F)){const oe={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:c.type,parentSchema:c,data:F};null===O?O=[oe]:O.push(oe),J++}const k=J;let Z=!1,W=null;const pe=J;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.rule){const oe={instancePath:T,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:c.oneOf[0].required,parentSchema:c.oneOf[0],data:F};null===O?O=[oe]:O.push(oe),J++}if(void 0===F.from){const oe={instancePath:T,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:c.oneOf[0].required,parentSchema:c.oneOf[0],data:F};null===O?O=[oe]:O.push(oe),J++}for(const oe in F)if("name"!==oe&&"purpose"!==oe&&"rule"!==oe&&"count"!==oe&&"min"!==oe&&"max"!==oe&&"from"!==oe){const be={instancePath:T,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties",schema:!1,parentSchema:c.oneOf[0],data:F};null===O?O=[be]:O.push(be),J++}if(void 0!==F.name){let oe=F.name;if("string"!=typeof oe){const be={instancePath:T+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.name.type,parentSchema:c.oneOf[0].properties.name,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.purpose){let oe=F.purpose;if("string"!=typeof oe){const be={instancePath:T+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.purpose.type,parentSchema:c.oneOf[0].properties.purpose,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.rule){let oe=F.rule;if("string"!=typeof oe){const be={instancePath:T+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.rule.type,parentSchema:c.oneOf[0].properties.rule,data:oe};null===O?O=[be]:O.push(be),J++}if("all"!==oe&&"pick"!==oe){const be={instancePath:T+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:c.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:c.oneOf[0].properties.rule.enum,parentSchema:c.oneOf[0].properties.rule,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.count){let oe=F.count;if("number"!=typeof oe||oe%1||isNaN(oe)){const be={instancePath:T+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[0].properties.count.type,parentSchema:c.oneOf[0].properties.count,data:oe};null===O?O=[be]:O.push(be),J++}if("number"==typeof oe&&(oe<1||isNaN(oe))){const be={instancePath:T+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:c.oneOf[0].properties.count,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.min){let oe=F.min;if("number"!=typeof oe||oe%1||isNaN(oe)){const be={instancePath:T+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[0].properties.min.type,parentSchema:c.oneOf[0].properties.min,data:oe};null===O?O=[be]:O.push(be),J++}if("number"==typeof oe&&(oe<0||isNaN(oe))){const be={instancePath:T+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[0].properties.min,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.max){let oe=F.max;if("number"!=typeof oe||oe%1||isNaN(oe)){const be={instancePath:T+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[0].properties.max.type,parentSchema:c.oneOf[0].properties.max,data:oe};null===O?O=[be]:O.push(be),J++}if("number"==typeof oe&&(oe<0||isNaN(oe))){const be={instancePath:T+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[0].properties.max,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.from){let oe=F.from;if("string"!=typeof oe){const be={instancePath:T+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[0].properties.from.type,parentSchema:c.oneOf[0].properties.from,data:oe};null===O?O=[be]:O.push(be),J++}}}pe===J&&(Z=!0,W=0);const R=J;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.rule){const oe={instancePath:T,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:c.oneOf[1].required,parentSchema:c.oneOf[1],data:F};null===O?O=[oe]:O.push(oe),J++}if(void 0===F.from_nested){const oe={instancePath:T,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:c.oneOf[1].required,parentSchema:c.oneOf[1],data:F};null===O?O=[oe]:O.push(oe),J++}for(const oe in F)if("name"!==oe&&"purpose"!==oe&&"rule"!==oe&&"count"!==oe&&"min"!==oe&&"max"!==oe&&"from_nested"!==oe){const be={instancePath:T,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties",schema:!1,parentSchema:c.oneOf[1],data:F};null===O?O=[be]:O.push(be),J++}if(void 0!==F.name){let oe=F.name;if("string"!=typeof oe){const be={instancePath:T+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[1].properties.name.type,parentSchema:c.oneOf[1].properties.name,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.purpose){let oe=F.purpose;if("string"!=typeof oe){const be={instancePath:T+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[1].properties.purpose.type,parentSchema:c.oneOf[1].properties.purpose,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.rule){let oe=F.rule;if("string"!=typeof oe){const be={instancePath:T+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:c.oneOf[1].properties.rule.type,parentSchema:c.oneOf[1].properties.rule,data:oe};null===O?O=[be]:O.push(be),J++}if("all"!==oe&&"pick"!==oe){const be={instancePath:T+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:c.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:c.oneOf[1].properties.rule.enum,parentSchema:c.oneOf[1].properties.rule,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.count){let oe=F.count;if("number"!=typeof oe||oe%1||isNaN(oe)){const be={instancePath:T+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[1].properties.count.type,parentSchema:c.oneOf[1].properties.count,data:oe};null===O?O=[be]:O.push(be),J++}if("number"==typeof oe&&(oe<1||isNaN(oe))){const be={instancePath:T+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:c.oneOf[1].properties.count,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.min){let oe=F.min;if("number"!=typeof oe||oe%1||isNaN(oe)){const be={instancePath:T+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[1].properties.min.type,parentSchema:c.oneOf[1].properties.min,data:oe};null===O?O=[be]:O.push(be),J++}if("number"==typeof oe&&(oe<0||isNaN(oe))){const be={instancePath:T+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[1].properties.min,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.max){let oe=F.max;if("number"!=typeof oe||oe%1||isNaN(oe)){const be={instancePath:T+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:c.oneOf[1].properties.max.type,parentSchema:c.oneOf[1].properties.max,data:oe};null===O?O=[be]:O.push(be),J++}if("number"==typeof oe&&(oe<0||isNaN(oe))){const be={instancePath:T+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:c.oneOf[1].properties.max,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.from_nested){let oe=F.from_nested;if(Array.isArray(oe)){if(oe.length<1){const Ie={instancePath:T+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:c.oneOf[1].properties.from_nested,data:oe};null===O?O=[Ie]:O.push(Ie),J++}const be=oe.length;for(let Ie=0;Ie<be;Ie++)u.validate(oe[Ie],{instancePath:T+"/from_nested/"+Ie,parentData:oe,parentDataProperty:Ie,rootData:ie})||(O=null===O?u.validate.errors:O.concat(u.validate.errors),J=O.length)}else{const be={instancePath:T+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:c.oneOf[1].properties.from_nested.type,parentSchema:c.oneOf[1].properties.from_nested,data:oe};null===O?O=[be]:O.push(be),J++}}}var X;if((X=R===J)&&Z?(Z=!1,W=[W,1]):X&&(Z=!0,W=1),Z)J=k,null!==O&&(k?O.length=k:O=null);else{const oe={instancePath:T,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:W},message:"must match exactly one schema in oneOf",schema:c.oneOf,parentSchema:c,data:F};null===O?O=[oe]:O.push(oe),J++}return n.errors=O,0===J}const l={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},group:{type:"array",items:{type:"string"}},schema:{type:"array",items:{$ref:"#/definitions/schema"}},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id","schema"],additionalProperties:!1},s={type:"object",properties:{uri:{type:"string"},required:{type:"boolean"}},required:["uri"],additionalProperties:!1};function a(F,{instancePath:T="",rootData:ie=F}={}){let O=null,J=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.uri){const k={instancePath:T,schemaPath:"#/required",keyword:"required",params:{missingProperty:"uri"},message:"must have required property 'uri'",schema:s.required,parentSchema:s,data:F};null===O?O=[k]:O.push(k),J++}for(const k in F)if("uri"!==k&&"required"!==k){const Z={instancePath:T,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties",schema:!1,parentSchema:s,data:F};null===O?O=[Z]:O.push(Z),J++}if(void 0!==F.uri){let k=F.uri;if("string"!=typeof k){const Z={instancePath:T+"/uri",schemaPath:"#/properties/uri/type",keyword:"type",params:{type:"string"},message:"must be string",schema:s.properties.uri.type,parentSchema:s.properties.uri,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.required){let k=F.required;if("boolean"!=typeof k){const Z={instancePath:T+"/required",schemaPath:"#/properties/required/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:s.properties.required.type,parentSchema:s.properties.required,data:k};null===O?O=[Z]:O.push(Z),J++}}}else{const k={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:s.type,parentSchema:s,data:F};null===O?O=[k]:O.push(k),J++}return a.errors=O,0===J}const m={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function p(F,{instancePath:T="",rootData:ie=F}={}){let O=null,J=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0!==F.manifest){let k=F.manifest;if("string"!=typeof k){const Z={instancePath:T+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.properties.manifest.type,parentSchema:m.properties.manifest,data:k};null===O?O=[Z]:O.push(Z),J++}}}else{const k={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:m.type,parentSchema:m,data:F};null===O?O=[k]:O.push(k),J++}return p.errors=O,0===J}const d={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},filter:{$ref:"#/definitions/filter"},predicate:{type:"string",enum:["required","preferred"]}},required:["path","filter","predicate"],additionalProperties:!1}]},y={type:"object",properties:{type:{type:"string"},format:{type:"string"},pattern:{type:"string"},minimum:{type:["number","string"]},minLength:{type:"integer"},maxLength:{type:"integer"},exclusiveMinimum:{type:["number","string"]},exclusiveMaximum:{type:["number","string"]},maximum:{type:["number","string"]},const:{type:["number","string"]},enum:{type:"array",items:{type:["number","string"]}},not:{type:"object",minProperties:1}},required:["type"],additionalProperties:!1},b=Object.prototype.hasOwnProperty;function g(F,{instancePath:T="",rootData:ie=F}={}){let O=null,J=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.type){const k={instancePath:T,schemaPath:"#/required",keyword:"required",params:{missingProperty:"type"},message:"must have required property 'type'",schema:y.required,parentSchema:y,data:F};null===O?O=[k]:O.push(k),J++}for(const k in F)if(!b.call(y.properties,k)){const Z={instancePath:T,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties",schema:!1,parentSchema:y,data:F};null===O?O=[Z]:O.push(Z),J++}if(void 0!==F.type){let k=F.type;if("string"!=typeof k){const Z={instancePath:T+"/type",schemaPath:"#/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.type.type,parentSchema:y.properties.type,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.format){let k=F.format;if("string"!=typeof k){const Z={instancePath:T+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.format.type,parentSchema:y.properties.format,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.pattern){let k=F.pattern;if("string"!=typeof k){const Z={instancePath:T+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.pattern.type,parentSchema:y.properties.pattern,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.minimum){let k=F.minimum;if("number"!=typeof k&&"string"!=typeof k){const Z={instancePath:T+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:y.properties.minimum.type},message:"must be number,string",schema:y.properties.minimum.type,parentSchema:y.properties.minimum,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.minLength){let k=F.minLength;if("number"!=typeof k||k%1||isNaN(k)){const Z={instancePath:T+"/minLength",schemaPath:"#/properties/minLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:y.properties.minLength.type,parentSchema:y.properties.minLength,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.maxLength){let k=F.maxLength;if("number"!=typeof k||k%1||isNaN(k)){const Z={instancePath:T+"/maxLength",schemaPath:"#/properties/maxLength/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:y.properties.maxLength.type,parentSchema:y.properties.maxLength,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.exclusiveMinimum){let k=F.exclusiveMinimum;if("number"!=typeof k&&"string"!=typeof k){const Z={instancePath:T+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:y.properties.exclusiveMinimum.type},message:"must be number,string",schema:y.properties.exclusiveMinimum.type,parentSchema:y.properties.exclusiveMinimum,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.exclusiveMaximum){let k=F.exclusiveMaximum;if("number"!=typeof k&&"string"!=typeof k){const Z={instancePath:T+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:y.properties.exclusiveMaximum.type},message:"must be number,string",schema:y.properties.exclusiveMaximum.type,parentSchema:y.properties.exclusiveMaximum,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.maximum){let k=F.maximum;if("number"!=typeof k&&"string"!=typeof k){const Z={instancePath:T+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:y.properties.maximum.type},message:"must be number,string",schema:y.properties.maximum.type,parentSchema:y.properties.maximum,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.const){let k=F.const;if("number"!=typeof k&&"string"!=typeof k){const Z={instancePath:T+"/const",schemaPath:"#/properties/const/type",keyword:"type",params:{type:y.properties.const.type},message:"must be number,string",schema:y.properties.const.type,parentSchema:y.properties.const,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.enum){let k=F.enum;if(Array.isArray(k)){const Z=k.length;for(let W=0;W<Z;W++){let pe=k[W];if("number"!=typeof pe&&"string"!=typeof pe){const R={instancePath:T+"/enum/"+W,schemaPath:"#/properties/enum/items/type",keyword:"type",params:{type:y.properties.enum.items.type},message:"must be number,string",schema:y.properties.enum.items.type,parentSchema:y.properties.enum.items,data:pe};null===O?O=[R]:O.push(R),J++}}}else{const Z={instancePath:T+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:y.properties.enum.type,parentSchema:y.properties.enum,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.not){let k=F.not;if(k&&"object"==typeof k&&!Array.isArray(k)){if(Object.keys(k).length<1){const Z={instancePath:T+"/not",schemaPath:"#/properties/not/minProperties",keyword:"minProperties",params:{limit:1},message:"must NOT have fewer than 1 properties",schema:1,parentSchema:y.properties.not,data:k};null===O?O=[Z]:O.push(Z),J++}}else{const Z={instancePath:T+"/not",schemaPath:"#/properties/not/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.properties.not.type,parentSchema:y.properties.not,data:k};null===O?O=[Z]:O.push(Z),J++}}}else{const k={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.type,parentSchema:y,data:F};null===O?O=[k]:O.push(k),J++}return g.errors=O,0===J}function x(F,{instancePath:T="",rootData:ie=F}={}){let O=null,J=0;if(!F||"object"!=typeof F||Array.isArray(F)){const oe={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.type,parentSchema:d,data:F};null===O?O=[oe]:O.push(oe),J++}const k=J;let Z=!1,W=null;const pe=J;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.path){const oe={instancePath:T,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:d.oneOf[0].required,parentSchema:d.oneOf[0],data:F};null===O?O=[oe]:O.push(oe),J++}for(const oe in F)if("id"!==oe&&"path"!==oe&&"purpose"!==oe&&"filter"!==oe){const be={instancePath:T,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties",schema:!1,parentSchema:d.oneOf[0],data:F};null===O?O=[be]:O.push(be),J++}if(void 0!==F.id){let oe=F.id;if("string"!=typeof oe){const be={instancePath:T+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[0].properties.id.type,parentSchema:d.oneOf[0].properties.id,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.path){let oe=F.path;if(Array.isArray(oe)){const be=oe.length;for(let Ie=0;Ie<be;Ie++){let w=oe[Ie];if("string"!=typeof w){const I={instancePath:T+"/path/"+Ie,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[0].properties.path.items.type,parentSchema:d.oneOf[0].properties.path.items,data:w};null===O?O=[I]:O.push(I),J++}}}else{const be={instancePath:T+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.oneOf[0].properties.path.type,parentSchema:d.oneOf[0].properties.path,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.purpose){let oe=F.purpose;if("string"!=typeof oe){const be={instancePath:T+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[0].properties.purpose.type,parentSchema:d.oneOf[0].properties.purpose,data:oe};null===O?O=[be]:O.push(be),J++}}void 0!==F.filter&&(g(F.filter,{instancePath:T+"/filter",parentData:F,parentDataProperty:"filter",rootData:ie})||(O=null===O?g.errors:O.concat(g.errors),J=O.length))}pe===J&&(Z=!0,W=0);const R=J;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.path){const oe={instancePath:T,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:d.oneOf[1].required,parentSchema:d.oneOf[1],data:F};null===O?O=[oe]:O.push(oe),J++}if(void 0===F.filter){const oe={instancePath:T,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:d.oneOf[1].required,parentSchema:d.oneOf[1],data:F};null===O?O=[oe]:O.push(oe),J++}if(void 0===F.predicate){const oe={instancePath:T,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:d.oneOf[1].required,parentSchema:d.oneOf[1],data:F};null===O?O=[oe]:O.push(oe),J++}for(const oe in F)if("id"!==oe&&"path"!==oe&&"purpose"!==oe&&"filter"!==oe&&"predicate"!==oe){const be={instancePath:T,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:oe},message:"must NOT have additional properties",schema:!1,parentSchema:d.oneOf[1],data:F};null===O?O=[be]:O.push(be),J++}if(void 0!==F.id){let oe=F.id;if("string"!=typeof oe){const be={instancePath:T+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[1].properties.id.type,parentSchema:d.oneOf[1].properties.id,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.path){let oe=F.path;if(Array.isArray(oe)){const be=oe.length;for(let Ie=0;Ie<be;Ie++){let w=oe[Ie];if("string"!=typeof w){const I={instancePath:T+"/path/"+Ie,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[1].properties.path.items.type,parentSchema:d.oneOf[1].properties.path.items,data:w};null===O?O=[I]:O.push(I),J++}}}else{const be={instancePath:T+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.oneOf[1].properties.path.type,parentSchema:d.oneOf[1].properties.path,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.purpose){let oe=F.purpose;if("string"!=typeof oe){const be={instancePath:T+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[1].properties.purpose.type,parentSchema:d.oneOf[1].properties.purpose,data:oe};null===O?O=[be]:O.push(be),J++}}if(void 0!==F.filter&&(g(F.filter,{instancePath:T+"/filter",parentData:F,parentDataProperty:"filter",rootData:ie})||(O=null===O?g.errors:O.concat(g.errors),J=O.length)),void 0!==F.predicate){let oe=F.predicate;if("string"!=typeof oe){const be={instancePath:T+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[1].properties.predicate.type,parentSchema:d.oneOf[1].properties.predicate,data:oe};null===O?O=[be]:O.push(be),J++}if("required"!==oe&&"preferred"!==oe){const be={instancePath:T+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:d.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:d.oneOf[1].properties.predicate.enum,parentSchema:d.oneOf[1].properties.predicate,data:oe};null===O?O=[be]:O.push(be),J++}}}var X;if((X=R===J)&&Z?(Z=!1,W=[W,1]):X&&(Z=!0,W=1),Z)J=k,null!==O&&(k?O.length=k:O=null);else{const oe={instancePath:T,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:W},message:"must match exactly one schema in oneOf",schema:d.oneOf,parentSchema:d,data:F};null===O?O=[oe]:O.push(oe),J++}return x.errors=O,0===J}function C(F,{instancePath:T="",rootData:ie=F}={}){let O=null,J=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0===F.id){const k={instancePath:T,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:l.required,parentSchema:l,data:F};null===O?O=[k]:O.push(k),J++}if(void 0===F.schema){const k={instancePath:T,schemaPath:"#/required",keyword:"required",params:{missingProperty:"schema"},message:"must have required property 'schema'",schema:l.required,parentSchema:l,data:F};null===O?O=[k]:O.push(k),J++}for(const k in F)if("id"!==k&&"name"!==k&&"purpose"!==k&&"group"!==k&&"schema"!==k&&"issuance"!==k&&"constraints"!==k){const Z={instancePath:T,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:k},message:"must NOT have additional properties",schema:!1,parentSchema:l,data:F};null===O?O=[Z]:O.push(Z),J++}if(void 0!==F.id){let k=F.id;if("string"!=typeof k){const Z={instancePath:T+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.id.type,parentSchema:l.properties.id,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.name){let k=F.name;if("string"!=typeof k){const Z={instancePath:T+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.name.type,parentSchema:l.properties.name,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.purpose){let k=F.purpose;if("string"!=typeof k){const Z={instancePath:T+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.purpose.type,parentSchema:l.properties.purpose,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.group){let k=F.group;if(Array.isArray(k)){const Z=k.length;for(let W=0;W<Z;W++){let pe=k[W];if("string"!=typeof pe){const R={instancePath:T+"/group/"+W,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.group.items.type,parentSchema:l.properties.group.items,data:pe};null===O?O=[R]:O.push(R),J++}}}else{const Z={instancePath:T+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.group.type,parentSchema:l.properties.group,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.schema){let k=F.schema;if(Array.isArray(k)){const Z=k.length;for(let W=0;W<Z;W++)a(k[W],{instancePath:T+"/schema/"+W,parentData:k,parentDataProperty:W,rootData:ie})||(O=null===O?a.errors:O.concat(a.errors),J=O.length)}else{const Z={instancePath:T+"/schema",schemaPath:"#/properties/schema/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.schema.type,parentSchema:l.properties.schema,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.issuance){let k=F.issuance;if(Array.isArray(k)){const Z=k.length;for(let W=0;W<Z;W++)p(k[W],{instancePath:T+"/issuance/"+W,parentData:k,parentDataProperty:W,rootData:ie})||(O=null===O?p.errors:O.concat(p.errors),J=O.length)}else{const Z={instancePath:T+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.issuance.type,parentSchema:l.properties.issuance,data:k};null===O?O=[Z]:O.push(Z),J++}}if(void 0!==F.constraints){let k=F.constraints;if(k&&"object"==typeof k&&!Array.isArray(k)){for(const Z in k)if("limit_disclosure"!==Z&&"statuses"!==Z&&"fields"!==Z&&"subject_is_issuer"!==Z&&"is_holder"!==Z&&"same_subject"!==Z){const W={instancePath:T+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Z},message:"must NOT have additional properties",schema:!1,parentSchema:l.properties.constraints,data:k};null===O?O=[W]:O.push(W),J++}if(void 0!==k.limit_disclosure){let Z=k.limit_disclosure;if("string"!=typeof Z){const W={instancePath:T+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.limit_disclosure.type,parentSchema:l.properties.constraints.properties.limit_disclosure,data:Z};null===O?O=[W]:O.push(W),J++}if("required"!==Z&&"preferred"!==Z){const W={instancePath:T+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.limit_disclosure.enum,parentSchema:l.properties.constraints.properties.limit_disclosure,data:Z};null===O?O=[W]:O.push(W),J++}}if(void 0!==k.statuses){let Z=k.statuses;if(Z&&"object"==typeof Z&&!Array.isArray(Z)){if(void 0!==Z.active){let W=Z.active;if(W&&"object"==typeof W&&!Array.isArray(W)){if(void 0!==W.directive){let pe=W.directive;if("string"!=typeof pe){const R={instancePath:T+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:l.properties.constraints.properties.statuses.properties.active.properties.directive,data:pe};null===O?O=[R]:O.push(R),J++}if("required"!==pe&&"allowed"!==pe&&"disallowed"!==pe){const R={instancePath:T+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:l.properties.constraints.properties.statuses.properties.active.properties.directive,data:pe};null===O?O=[R]:O.push(R),J++}}}else{const pe={instancePath:T+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.properties.active.type,parentSchema:l.properties.constraints.properties.statuses.properties.active,data:W};null===O?O=[pe]:O.push(pe),J++}}if(void 0!==Z.suspended){let W=Z.suspended;if(W&&"object"==typeof W&&!Array.isArray(W)){if(void 0!==W.directive){let pe=W.directive;if("string"!=typeof pe){const R={instancePath:T+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:pe};null===O?O=[R]:O.push(R),J++}if("required"!==pe&&"allowed"!==pe&&"disallowed"!==pe){const R={instancePath:T+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:l.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:pe};null===O?O=[R]:O.push(R),J++}}}else{const pe={instancePath:T+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:l.properties.constraints.properties.statuses.properties.suspended,data:W};null===O?O=[pe]:O.push(pe),J++}}if(void 0!==Z.revoked){let W=Z.revoked;if(W&&"object"==typeof W&&!Array.isArray(W)){if(void 0!==W.directive){let pe=W.directive;if("string"!=typeof pe){const R={instancePath:T+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:pe};null===O?O=[R]:O.push(R),J++}if("required"!==pe&&"allowed"!==pe&&"disallowed"!==pe){const R={instancePath:T+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:l.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:pe};null===O?O=[R]:O.push(R),J++}}}else{const pe={instancePath:T+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:l.properties.constraints.properties.statuses.properties.revoked,data:W};null===O?O=[pe]:O.push(pe),J++}}}else{const W={instancePath:T+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.statuses.type,parentSchema:l.properties.constraints.properties.statuses,data:Z};null===O?O=[W]:O.push(W),J++}}if(void 0!==k.fields){let Z=k.fields;if(Array.isArray(Z)){const W=Z.length;for(let pe=0;pe<W;pe++)x(Z[pe],{instancePath:T+"/constraints/fields/"+pe,parentData:Z,parentDataProperty:pe,rootData:ie})||(O=null===O?x.errors:O.concat(x.errors),J=O.length)}else{const W={instancePath:T+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.fields.type,parentSchema:l.properties.constraints.properties.fields,data:Z};null===O?O=[W]:O.push(W),J++}}if(void 0!==k.subject_is_issuer){let Z=k.subject_is_issuer;if("string"!=typeof Z){const W={instancePath:T+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.subject_is_issuer.type,parentSchema:l.properties.constraints.properties.subject_is_issuer,data:Z};null===O?O=[W]:O.push(W),J++}if("required"!==Z&&"preferred"!==Z){const W={instancePath:T+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.subject_is_issuer.enum,parentSchema:l.properties.constraints.properties.subject_is_issuer,data:Z};null===O?O=[W]:O.push(W),J++}}if(void 0!==k.is_holder){let Z=k.is_holder;if(Array.isArray(Z)){const W=Z.length;for(let pe=0;pe<W;pe++){let R=Z[pe];if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.field_id){const X={instancePath:T+"/constraints/is_holder/"+pe,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:l.properties.constraints.properties.is_holder.items.required,parentSchema:l.properties.constraints.properties.is_holder.items,data:R};null===O?O=[X]:O.push(X),J++}if(void 0===R.directive){const X={instancePath:T+"/constraints/is_holder/"+pe,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:l.properties.constraints.properties.is_holder.items.required,parentSchema:l.properties.constraints.properties.is_holder.items,data:R};null===O?O=[X]:O.push(X),J++}for(const X in R)if("field_id"!==X&&"directive"!==X){const oe={instancePath:T+"/constraints/is_holder/"+pe,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:X},message:"must NOT have additional properties",schema:!1,parentSchema:l.properties.constraints.properties.is_holder.items,data:R};null===O?O=[oe]:O.push(oe),J++}if(void 0!==R.field_id){let X=R.field_id;if(Array.isArray(X)){const oe=X.length;for(let be=0;be<oe;be++){let Ie=X[be];if("string"!=typeof Ie){const w={instancePath:T+"/constraints/is_holder/"+pe+"/field_id/"+be,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:l.properties.constraints.properties.is_holder.items.properties.field_id.items,data:Ie};null===O?O=[w]:O.push(w),J++}}}else{const oe={instancePath:T+"/constraints/is_holder/"+pe+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:l.properties.constraints.properties.is_holder.items.properties.field_id,data:X};null===O?O=[oe]:O.push(oe),J++}}if(void 0!==R.directive){let X=R.directive;if("string"!=typeof X){const oe={instancePath:T+"/constraints/is_holder/"+pe+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:l.properties.constraints.properties.is_holder.items.properties.directive,data:X};null===O?O=[oe]:O.push(oe),J++}if("required"!==X&&"preferred"!==X){const oe={instancePath:T+"/constraints/is_holder/"+pe+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:l.properties.constraints.properties.is_holder.items.properties.directive,data:X};null===O?O=[oe]:O.push(oe),J++}}}else{const X={instancePath:T+"/constraints/is_holder/"+pe,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.is_holder.items.type,parentSchema:l.properties.constraints.properties.is_holder.items,data:R};null===O?O=[X]:O.push(X),J++}}}else{const W={instancePath:T+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.is_holder.type,parentSchema:l.properties.constraints.properties.is_holder,data:Z};null===O?O=[W]:O.push(W),J++}}if(void 0!==k.same_subject){let Z=k.same_subject;if(Array.isArray(Z)){const W=Z.length;for(let pe=0;pe<W;pe++){let R=Z[pe];if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.field_id){const X={instancePath:T+"/constraints/same_subject/"+pe,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:l.properties.constraints.properties.same_subject.items.required,parentSchema:l.properties.constraints.properties.same_subject.items,data:R};null===O?O=[X]:O.push(X),J++}if(void 0===R.directive){const X={instancePath:T+"/constraints/same_subject/"+pe,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:l.properties.constraints.properties.same_subject.items.required,parentSchema:l.properties.constraints.properties.same_subject.items,data:R};null===O?O=[X]:O.push(X),J++}for(const X in R)if("field_id"!==X&&"directive"!==X){const oe={instancePath:T+"/constraints/same_subject/"+pe,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:X},message:"must NOT have additional properties",schema:!1,parentSchema:l.properties.constraints.properties.same_subject.items,data:R};null===O?O=[oe]:O.push(oe),J++}if(void 0!==R.field_id){let X=R.field_id;if(Array.isArray(X)){const oe=X.length;for(let be=0;be<oe;be++){let Ie=X[be];if("string"!=typeof Ie){const w={instancePath:T+"/constraints/same_subject/"+pe+"/field_id/"+be,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:l.properties.constraints.properties.same_subject.items.properties.field_id.items,data:Ie};null===O?O=[w]:O.push(w),J++}}}else{const oe={instancePath:T+"/constraints/same_subject/"+pe+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:l.properties.constraints.properties.same_subject.items.properties.field_id,data:X};null===O?O=[oe]:O.push(oe),J++}}if(void 0!==R.directive){let X=R.directive;if("string"!=typeof X){const oe={instancePath:T+"/constraints/same_subject/"+pe+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:l.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:l.properties.constraints.properties.same_subject.items.properties.directive,data:X};null===O?O=[oe]:O.push(oe),J++}if("required"!==X&&"preferred"!==X){const oe={instancePath:T+"/constraints/same_subject/"+pe+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:l.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:l.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:l.properties.constraints.properties.same_subject.items.properties.directive,data:X};null===O?O=[oe]:O.push(oe),J++}}}else{const X={instancePath:T+"/constraints/same_subject/"+pe,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.properties.same_subject.items.type,parentSchema:l.properties.constraints.properties.same_subject.items,data:R};null===O?O=[X]:O.push(X),J++}}}else{const W={instancePath:T+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:l.properties.constraints.properties.same_subject.type,parentSchema:l.properties.constraints.properties.same_subject,data:Z};null===O?O=[W]:O.push(W),J++}}}else{const Z={instancePath:T+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.properties.constraints.type,parentSchema:l.properties.constraints,data:k};null===O?O=[Z]:O.push(Z),J++}}}else{const k={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:l.type,parentSchema:l,data:F};null===O?O=[k]:O.push(k),J++}return C.errors=O,0===J}function B(F,{instancePath:T="",rootData:ie=F}={}){let O=null,J=0;if(F&&"object"==typeof F&&!Array.isArray(F)){if(void 0!==F.presentation_definition){let k=F.presentation_definition;if(k&&"object"==typeof k&&!Array.isArray(k)){if(void 0===k.id){const Z={instancePath:T+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:f.properties.presentation_definition.required,parentSchema:f.properties.presentation_definition,data:k};null===O?O=[Z]:O.push(Z),J++}if(void 0===k.input_descriptors){const Z={instancePath:T+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:f.properties.presentation_definition.required,parentSchema:f.properties.presentation_definition,data:k};null===O?O=[Z]:O.push(Z),J++}for(const Z in k)if("id"!==Z&&"name"!==Z&&"purpose"!==Z&&"format"!==Z&&"submission_requirements"!==Z&&"input_descriptors"!==Z){const W={instancePath:T+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Z},message:"must NOT have additional properties",schema:!1,parentSchema:f.properties.presentation_definition,data:k};null===O?O=[W]:O.push(W),J++}if(void 0!==k.id){let Z=k.id;if("string"!=typeof Z){const W={instancePath:T+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.properties.presentation_definition.properties.id.type,parentSchema:f.properties.presentation_definition.properties.id,data:Z};null===O?O=[W]:O.push(W),J++}}if(void 0!==k.name){let Z=k.name;if("string"!=typeof Z){const W={instancePath:T+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.properties.presentation_definition.properties.name.type,parentSchema:f.properties.presentation_definition.properties.name,data:Z};null===O?O=[W]:O.push(W),J++}}if(void 0!==k.purpose){let Z=k.purpose;if("string"!=typeof Z){const W={instancePath:T+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:f.properties.presentation_definition.properties.purpose.type,parentSchema:f.properties.presentation_definition.properties.purpose,data:Z};null===O?O=[W]:O.push(W),J++}}if(void 0!==k.format&&(E(k.format,{instancePath:T+"/presentation_definition/format",parentData:k,parentDataProperty:"format",rootData:ie})||(O=null===O?E.errors:O.concat(E.errors),J=O.length)),void 0!==k.submission_requirements){let Z=k.submission_requirements;if(Array.isArray(Z)){const W=Z.length;for(let pe=0;pe<W;pe++)n(Z[pe],{instancePath:T+"/presentation_definition/submission_requirements/"+pe,parentData:Z,parentDataProperty:pe,rootData:ie})||(O=null===O?n.errors:O.concat(n.errors),J=O.length)}else{const W={instancePath:T+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:f.properties.presentation_definition.properties.submission_requirements.type,parentSchema:f.properties.presentation_definition.properties.submission_requirements,data:Z};null===O?O=[W]:O.push(W),J++}}if(void 0!==k.input_descriptors){let Z=k.input_descriptors;if(Array.isArray(Z)){const W=Z.length;for(let pe=0;pe<W;pe++)C(Z[pe],{instancePath:T+"/presentation_definition/input_descriptors/"+pe,parentData:Z,parentDataProperty:pe,rootData:ie})||(O=null===O?C.errors:O.concat(C.errors),J=O.length)}else{const W={instancePath:T+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:f.properties.presentation_definition.properties.input_descriptors.type,parentSchema:f.properties.presentation_definition.properties.input_descriptors,data:Z};null===O?O=[W]:O.push(W),J++}}}else{const Z={instancePath:T+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:f.properties.presentation_definition.type,parentSchema:f.properties.presentation_definition,data:k};null===O?O=[Z]:O.push(Z),J++}}}else{const k={instancePath:T,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:f.type,parentSchema:f,data:F};null===O?O=[k]:O.push(k),J++}return B.errors=O,0===J}},93046:(Y,f,i)=>{"use strict";Y.exports=pe,Y.exports.default=pe;const h={$schema:"http://json-schema.org/draft-07/schema#",title:"Presentation Definition",definitions:{issuance:{type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0},format:{type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},submission_requirements:{type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},input_descriptors:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},field:{type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]}},type:"object",properties:{presentation_definition:{type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},format:{$ref:"#/definitions/format"},frame:{type:"object",additionalProperties:!0},submission_requirements:{type:"array",items:{$ref:"#/definitions/submission_requirements"}},input_descriptors:{type:"array",items:{$ref:"#/definitions/input_descriptors"}}},required:["id","input_descriptors"],additionalProperties:!1}}},v={type:"object",properties:{"vc+sd-jwt":{type:"object",properties:{"sd-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a SD-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented SD-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}},"kb-jwt_alg_values":{type:"array",description:"A JSON array containing identifiers of cryptographic algorithms the verifier supports for protection of a KB-JWT. If present, the alg JOSE header (as defined in [RFC7515]) of the presented KB-JWT MUST match one of the array values.",minItems:1,items:{type:"string"}}},required:[],additionalProperties:!1}},patternProperties:{"^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$":{type:"object",properties:{alg:{type:"array",minItems:1,items:{type:"string"}}},required:["alg"],additionalProperties:!1},"^ldp_vc$|^ldp_vp$|^ldp$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type"],additionalProperties:!1},"^di_vc$|^di_vp$|^di$":{type:"object",properties:{proof_type:{type:"array",minItems:1,items:{type:"string"}},cryptosuite:{type:"array",minItems:1,items:{type:"string"}}},required:["proof_type","cryptosuite"],additionalProperties:!1},additionalProperties:!1},additionalProperties:!1},A=new RegExp("^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$","u"),S=new RegExp("^ldp_vc$|^ldp_vp$|^ldp$","u"),E=new RegExp("^di_vc$|^di_vp$|^di$","u"),c=new RegExp("additionalProperties","u");function u(R,{instancePath:X="",rootData:Ie=R}={}){let w=null,I=0;if(R&&"object"==typeof R&&!Array.isArray(R)){for(const V in R)if(!("vc+sd-jwt"===V||A.test(V)||S.test(V)||E.test(V)||c.test(V))){const M={instancePath:X,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:V},message:"must NOT have additional properties",schema:!1,parentSchema:v,data:R};null===w?w=[M]:w.push(M),I++}if(void 0!==R["vc+sd-jwt"]){let V=R["vc+sd-jwt"];if(V&&"object"==typeof V&&!Array.isArray(V)){for(const M in V)if("sd-jwt_alg_values"!==M&&"kb-jwt_alg_values"!==M){const Q={instancePath:X+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties",schema:!1,parentSchema:v.properties["vc+sd-jwt"],data:V};null===w?w=[Q]:w.push(Q),I++}if(void 0!==V["sd-jwt_alg_values"]){let M=V["sd-jwt_alg_values"];if(Array.isArray(M)){if(M.length<1){const ue={instancePath:X+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:v.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:M};null===w?w=[ue]:w.push(ue),I++}const Q=M.length;for(let ue=0;ue<Q;ue++){let de=M[ue];if("string"!=typeof de){const we={instancePath:X+"/vc+sd-jwt/sd-jwt_alg_values/"+ue,schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items.type,parentSchema:v.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].items,data:de};null===w?w=[we]:w.push(we),I++}}}else{const Q={instancePath:X+"/vc+sd-jwt/sd-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/sd-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"].type,parentSchema:v.properties["vc+sd-jwt"].properties["sd-jwt_alg_values"],data:M};null===w?w=[Q]:w.push(Q),I++}}if(void 0!==V["kb-jwt_alg_values"]){let M=V["kb-jwt_alg_values"];if(Array.isArray(M)){if(M.length<1){const ue={instancePath:X+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:v.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:M};null===w?w=[ue]:w.push(ue),I++}const Q=M.length;for(let ue=0;ue<Q;ue++){let de=M[ue];if("string"!=typeof de){const we={instancePath:X+"/vc+sd-jwt/kb-jwt_alg_values/"+ue,schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items.type,parentSchema:v.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].items,data:de};null===w?w=[we]:w.push(we),I++}}}else{const Q={instancePath:X+"/vc+sd-jwt/kb-jwt_alg_values",schemaPath:"#/properties/vc%2Bsd-jwt/properties/kb-jwt_alg_values/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"].type,parentSchema:v.properties["vc+sd-jwt"].properties["kb-jwt_alg_values"],data:M};null===w?w=[Q]:w.push(Q),I++}}}else{const M={instancePath:X+"/vc+sd-jwt",schemaPath:"#/properties/vc%2Bsd-jwt/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.properties["vc+sd-jwt"].type,parentSchema:v.properties["vc+sd-jwt"],data:V};null===w?w=[M]:w.push(M),I++}}for(const V in R)if(A.test(V)){let M=R[V];if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.alg){const Q={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/required",keyword:"required",params:{missingProperty:"alg"},message:"must have required property 'alg'",schema:v.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].required,parentSchema:v.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:M};null===w?w=[Q]:w.push(Q),I++}for(const Q in M)if("alg"!==Q){const ue={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:v.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:M};null===w?w=[ue]:w.push(ue),I++}if(void 0!==M.alg){let Q=M.alg;if(Array.isArray(Q)){if(Q.length<1){const de={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:v.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg,data:Q};null===w?w=[de]:w.push(de),I++}const ue=Q.length;for(let de=0;de<ue;de++){let we=Q[de];if("string"!=typeof we){const fe={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg/"+de,schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.items.type,parentSchema:v.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.items,data:we};null===w?w=[fe]:w.push(fe),I++}}}else{const ue={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/alg",schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/properties/alg/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg.type,parentSchema:v.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].properties.alg,data:Q};null===w?w=[ue]:w.push(ue),I++}}}else{const Q={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Ejwt%24%7C%5Ejwt_vc%24%7C%5Ejwt_vc_json%24%7C%5Ejwt_vp%24%7C%5Ejwt_vp_json%24%7C%5Emso_mdoc%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"].type,parentSchema:v.patternProperties["^jwt$|^jwt_vc$|^jwt_vc_json$|^jwt_vp$|^jwt_vp_json$|^mso_mdoc$"],data:M};null===w?w=[Q]:w.push(Q),I++}}for(const V in R)if(S.test(V)){let M=R[V];if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.proof_type){const Q={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:v.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].required,parentSchema:v.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:M};null===w?w=[Q]:w.push(Q),I++}for(const Q in M)if("proof_type"!==Q){const ue={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:v.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:M};null===w?w=[ue]:w.push(ue),I++}if(void 0!==M.proof_type){let Q=M.proof_type;if(Array.isArray(Q)){if(Q.length<1){const de={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:v.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:Q};null===w?w=[de]:w.push(de),I++}const ue=Q.length;for(let de=0;de<ue;de++){let we=Q[de];if("string"!=typeof we){const fe={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+de,schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items.type,parentSchema:v.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.items,data:we};null===w?w=[fe]:w.push(fe),I++}}}else{const ue={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type.type,parentSchema:v.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].properties.proof_type,data:Q};null===w?w=[ue]:w.push(ue),I++}}}else{const Q={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Eldp_vc%24%7C%5Eldp_vp%24%7C%5Eldp%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"].type,parentSchema:v.patternProperties["^ldp_vc$|^ldp_vp$|^ldp$"],data:M};null===w?w=[Q]:w.push(Q),I++}}for(const V in R)if(E.test(V)){let M=R[V];if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0===M.proof_type){const Q={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"proof_type"},message:"must have required property 'proof_type'",schema:v.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:v.patternProperties["^di_vc$|^di_vp$|^di$"],data:M};null===w?w=[Q]:w.push(Q),I++}if(void 0===M.cryptosuite){const Q={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/required",keyword:"required",params:{missingProperty:"cryptosuite"},message:"must have required property 'cryptosuite'",schema:v.patternProperties["^di_vc$|^di_vp$|^di$"].required,parentSchema:v.patternProperties["^di_vc$|^di_vp$|^di$"],data:M};null===w?w=[Q]:w.push(Q),I++}for(const Q in M)if("proof_type"!==Q&&"cryptosuite"!==Q){const ue={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:Q},message:"must NOT have additional properties",schema:!1,parentSchema:v.patternProperties["^di_vc$|^di_vp$|^di$"],data:M};null===w?w=[ue]:w.push(ue),I++}if(void 0!==M.proof_type){let Q=M.proof_type;if(Array.isArray(Q)){if(Q.length<1){const de={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:v.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:Q};null===w?w=[de]:w.push(de),I++}const ue=Q.length;for(let de=0;de<ue;de++){let we=Q[de];if("string"!=typeof we){const fe={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type/"+de,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items.type,parentSchema:v.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.items,data:we};null===w?w=[fe]:w.push(fe),I++}}}else{const ue={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/proof_type",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/proof_type/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type.type,parentSchema:v.patternProperties["^di_vc$|^di_vp$|^di$"].properties.proof_type,data:Q};null===w?w=[ue]:w.push(ue),I++}}if(void 0!==M.cryptosuite){let Q=M.cryptosuite;if(Array.isArray(Q)){if(Q.length<1){const de={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:v.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:Q};null===w?w=[de]:w.push(de),I++}const ue=Q.length;for(let de=0;de<ue;de++){let we=Q[de];if("string"!=typeof we){const fe={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite/"+de,schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:v.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items.type,parentSchema:v.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.items,data:we};null===w?w=[fe]:w.push(fe),I++}}}else{const ue={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1")+"/cryptosuite",schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/properties/cryptosuite/type",keyword:"type",params:{type:"array"},message:"must be array",schema:v.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite.type,parentSchema:v.patternProperties["^di_vc$|^di_vp$|^di$"].properties.cryptosuite,data:Q};null===w?w=[ue]:w.push(ue),I++}}}else{const Q={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/%5Edi_vc%24%7C%5Edi_vp%24%7C%5Edi%24/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.patternProperties["^di_vc$|^di_vp$|^di$"].type,parentSchema:v.patternProperties["^di_vc$|^di_vp$|^di$"],data:M};null===w?w=[Q]:w.push(Q),I++}}for(const V in R)if(c.test(V)){const M={instancePath:X+"/"+V.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/patternProperties/additionalProperties/false schema",keyword:"false schema",params:{},message:"boolean schema is false",schema:!1,parentSchema:v.patternProperties.additionalProperties,data:R[V]};null===w?w=[M]:w.push(M),I++}}else{const V={instancePath:X,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:v.type,parentSchema:v,data:R};null===w?w=[V]:w.push(V),I++}return u.errors=w,0===I}const n={type:"object",oneOf:[{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from:{type:"string"}},required:["rule","from"],additionalProperties:!1},{properties:{name:{type:"string"},purpose:{type:"string"},rule:{type:"string",enum:["all","pick"]},count:{type:"integer",minimum:1},min:{type:"integer",minimum:0},max:{type:"integer",minimum:0},from_nested:{type:"array",minItems:1,items:{$ref:"#/definitions/submission_requirements"}}},required:["rule","from_nested"],additionalProperties:!1}]},l={validate:s};function s(R,{instancePath:X="",rootData:Ie=R}={}){let w=null,I=0;if(!R||"object"!=typeof R||Array.isArray(R)){const fe={instancePath:X,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:n.type,parentSchema:n,data:R};null===w?w=[fe]:w.push(fe),I++}const V=I;let M=!1,Q=null;const ue=I;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.rule){const fe={instancePath:X,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:n.oneOf[0].required,parentSchema:n.oneOf[0],data:R};null===w?w=[fe]:w.push(fe),I++}if(void 0===R.from){const fe={instancePath:X,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"from"},message:"must have required property 'from'",schema:n.oneOf[0].required,parentSchema:n.oneOf[0],data:R};null===w?w=[fe]:w.push(fe),I++}for(const fe in R)if("name"!==fe&&"purpose"!==fe&&"rule"!==fe&&"count"!==fe&&"min"!==fe&&"max"!==fe&&"from"!==fe){const _e={instancePath:X,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fe},message:"must NOT have additional properties",schema:!1,parentSchema:n.oneOf[0],data:R};null===w?w=[_e]:w.push(_e),I++}if(void 0!==R.name){let fe=R.name;if("string"!=typeof fe){const _e={instancePath:X+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:n.oneOf[0].properties.name.type,parentSchema:n.oneOf[0].properties.name,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.purpose){let fe=R.purpose;if("string"!=typeof fe){const _e={instancePath:X+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:n.oneOf[0].properties.purpose.type,parentSchema:n.oneOf[0].properties.purpose,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.rule){let fe=R.rule;if("string"!=typeof fe){const _e={instancePath:X+"/rule",schemaPath:"#/oneOf/0/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:n.oneOf[0].properties.rule.type,parentSchema:n.oneOf[0].properties.rule,data:fe};null===w?w=[_e]:w.push(_e),I++}if("all"!==fe&&"pick"!==fe){const _e={instancePath:X+"/rule",schemaPath:"#/oneOf/0/properties/rule/enum",keyword:"enum",params:{allowedValues:n.oneOf[0].properties.rule.enum},message:"must be equal to one of the allowed values",schema:n.oneOf[0].properties.rule.enum,parentSchema:n.oneOf[0].properties.rule,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.count){let fe=R.count;if("number"!=typeof fe||fe%1||isNaN(fe)){const _e={instancePath:X+"/count",schemaPath:"#/oneOf/0/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:n.oneOf[0].properties.count.type,parentSchema:n.oneOf[0].properties.count,data:fe};null===w?w=[_e]:w.push(_e),I++}if("number"==typeof fe&&(fe<1||isNaN(fe))){const _e={instancePath:X+"/count",schemaPath:"#/oneOf/0/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:n.oneOf[0].properties.count,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.min){let fe=R.min;if("number"!=typeof fe||fe%1||isNaN(fe)){const _e={instancePath:X+"/min",schemaPath:"#/oneOf/0/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:n.oneOf[0].properties.min.type,parentSchema:n.oneOf[0].properties.min,data:fe};null===w?w=[_e]:w.push(_e),I++}if("number"==typeof fe&&(fe<0||isNaN(fe))){const _e={instancePath:X+"/min",schemaPath:"#/oneOf/0/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:n.oneOf[0].properties.min,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.max){let fe=R.max;if("number"!=typeof fe||fe%1||isNaN(fe)){const _e={instancePath:X+"/max",schemaPath:"#/oneOf/0/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:n.oneOf[0].properties.max.type,parentSchema:n.oneOf[0].properties.max,data:fe};null===w?w=[_e]:w.push(_e),I++}if("number"==typeof fe&&(fe<0||isNaN(fe))){const _e={instancePath:X+"/max",schemaPath:"#/oneOf/0/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:n.oneOf[0].properties.max,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.from){let fe=R.from;if("string"!=typeof fe){const _e={instancePath:X+"/from",schemaPath:"#/oneOf/0/properties/from/type",keyword:"type",params:{type:"string"},message:"must be string",schema:n.oneOf[0].properties.from.type,parentSchema:n.oneOf[0].properties.from,data:fe};null===w?w=[_e]:w.push(_e),I++}}}ue===I&&(M=!0,Q=0);const de=I;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.rule){const fe={instancePath:X,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"rule"},message:"must have required property 'rule'",schema:n.oneOf[1].required,parentSchema:n.oneOf[1],data:R};null===w?w=[fe]:w.push(fe),I++}if(void 0===R.from_nested){const fe={instancePath:X,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"from_nested"},message:"must have required property 'from_nested'",schema:n.oneOf[1].required,parentSchema:n.oneOf[1],data:R};null===w?w=[fe]:w.push(fe),I++}for(const fe in R)if("name"!==fe&&"purpose"!==fe&&"rule"!==fe&&"count"!==fe&&"min"!==fe&&"max"!==fe&&"from_nested"!==fe){const _e={instancePath:X,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fe},message:"must NOT have additional properties",schema:!1,parentSchema:n.oneOf[1],data:R};null===w?w=[_e]:w.push(_e),I++}if(void 0!==R.name){let fe=R.name;if("string"!=typeof fe){const _e={instancePath:X+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:n.oneOf[1].properties.name.type,parentSchema:n.oneOf[1].properties.name,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.purpose){let fe=R.purpose;if("string"!=typeof fe){const _e={instancePath:X+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:n.oneOf[1].properties.purpose.type,parentSchema:n.oneOf[1].properties.purpose,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.rule){let fe=R.rule;if("string"!=typeof fe){const _e={instancePath:X+"/rule",schemaPath:"#/oneOf/1/properties/rule/type",keyword:"type",params:{type:"string"},message:"must be string",schema:n.oneOf[1].properties.rule.type,parentSchema:n.oneOf[1].properties.rule,data:fe};null===w?w=[_e]:w.push(_e),I++}if("all"!==fe&&"pick"!==fe){const _e={instancePath:X+"/rule",schemaPath:"#/oneOf/1/properties/rule/enum",keyword:"enum",params:{allowedValues:n.oneOf[1].properties.rule.enum},message:"must be equal to one of the allowed values",schema:n.oneOf[1].properties.rule.enum,parentSchema:n.oneOf[1].properties.rule,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.count){let fe=R.count;if("number"!=typeof fe||fe%1||isNaN(fe)){const _e={instancePath:X+"/count",schemaPath:"#/oneOf/1/properties/count/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:n.oneOf[1].properties.count.type,parentSchema:n.oneOf[1].properties.count,data:fe};null===w?w=[_e]:w.push(_e),I++}if("number"==typeof fe&&(fe<1||isNaN(fe))){const _e={instancePath:X+"/count",schemaPath:"#/oneOf/1/properties/count/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1",schema:1,parentSchema:n.oneOf[1].properties.count,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.min){let fe=R.min;if("number"!=typeof fe||fe%1||isNaN(fe)){const _e={instancePath:X+"/min",schemaPath:"#/oneOf/1/properties/min/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:n.oneOf[1].properties.min.type,parentSchema:n.oneOf[1].properties.min,data:fe};null===w?w=[_e]:w.push(_e),I++}if("number"==typeof fe&&(fe<0||isNaN(fe))){const _e={instancePath:X+"/min",schemaPath:"#/oneOf/1/properties/min/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:n.oneOf[1].properties.min,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.max){let fe=R.max;if("number"!=typeof fe||fe%1||isNaN(fe)){const _e={instancePath:X+"/max",schemaPath:"#/oneOf/1/properties/max/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:n.oneOf[1].properties.max.type,parentSchema:n.oneOf[1].properties.max,data:fe};null===w?w=[_e]:w.push(_e),I++}if("number"==typeof fe&&(fe<0||isNaN(fe))){const _e={instancePath:X+"/max",schemaPath:"#/oneOf/1/properties/max/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:n.oneOf[1].properties.max,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.from_nested){let fe=R.from_nested;if(Array.isArray(fe)){if(fe.length<1){const He={instancePath:X+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:n.oneOf[1].properties.from_nested,data:fe};null===w?w=[He]:w.push(He),I++}const _e=fe.length;for(let He=0;He<_e;He++)l.validate(fe[He],{instancePath:X+"/from_nested/"+He,parentData:fe,parentDataProperty:He,rootData:Ie})||(w=null===w?l.validate.errors:w.concat(l.validate.errors),I=w.length)}else{const _e={instancePath:X+"/from_nested",schemaPath:"#/oneOf/1/properties/from_nested/type",keyword:"type",params:{type:"array"},message:"must be array",schema:n.oneOf[1].properties.from_nested.type,parentSchema:n.oneOf[1].properties.from_nested,data:fe};null===w?w=[_e]:w.push(_e),I++}}}var we;if((we=de===I)&&M?(M=!1,Q=[Q,1]):we&&(M=!0,Q=1),M)I=V,null!==w&&(V?w.length=V:w=null);else{const fe={instancePath:X,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:Q},message:"must match exactly one schema in oneOf",schema:n.oneOf,parentSchema:n,data:R};null===w?w=[fe]:w.push(fe),I++}return s.errors=w,0===I}const a={type:"object",properties:{id:{type:"string"},name:{type:"string"},purpose:{type:"string"},issuance:{type:"array",items:{$ref:"#/definitions/issuance"}},group:{type:"array",items:{type:"string"}},format:{$ref:"#/definitions/format"},constraints:{type:"object",properties:{limit_disclosure:{type:"string",enum:["required","preferred"]},statuses:{type:"object",properties:{active:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},suspended:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}},revoked:{type:"object",properties:{directive:{type:"string",enum:["required","allowed","disallowed"]}}}}},fields:{type:"array",items:{$ref:"#/definitions/field"}},subject_is_issuer:{type:"string",enum:["required","preferred"]},is_holder:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}},same_subject:{type:"array",items:{type:"object",properties:{field_id:{type:"array",items:{type:"string"}},directive:{type:"string",enum:["required","preferred"]}},required:["field_id","directive"],additionalProperties:!1}}},additionalProperties:!1}},required:["id"],additionalProperties:!1},m={type:"object",properties:{manifest:{type:"string"}},additionalProperties:!0};function p(R,{instancePath:X="",rootData:Ie=R}={}){let w=null,I=0;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0!==R.manifest){let V=R.manifest;if("string"!=typeof V){const M={instancePath:X+"/manifest",schemaPath:"#/properties/manifest/type",keyword:"type",params:{type:"string"},message:"must be string",schema:m.properties.manifest.type,parentSchema:m.properties.manifest,data:V};null===w?w=[M]:w.push(M),I++}}}else{const V={instancePath:X,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:m.type,parentSchema:m,data:R};null===w?w=[V]:w.push(V),I++}return p.errors=w,0===I}const d={type:"object",oneOf:[{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},name:{type:"string"}},required:["path"],additionalProperties:!1},{properties:{id:{type:"string"},path:{type:"array",items:{type:"string"}},purpose:{type:"string"},intent_to_retain:{type:"boolean"},filter:{$ref:"http://json-schema.org/schema#"},predicate:{type:"string",enum:["required","preferred"]},name:{type:"string"}},required:["path","filter","predicate"],additionalProperties:!1}]},y={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},b={type:"integer",minimum:0};function g(R,{instancePath:X="",rootData:Ie=R}={}){let w=null,I=0;if("number"!=typeof R||R%1||isNaN(R)){const V={instancePath:X,schemaPath:"#/type",keyword:"type",params:{type:"integer"},message:"must be integer",schema:b.type,parentSchema:b,data:R};null===w?w=[V]:w.push(V),I++}if("number"==typeof R&&(R<0||isNaN(R))){const V={instancePath:X,schemaPath:"#/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0",schema:0,parentSchema:b,data:R};null===w?w=[V]:w.push(V),I++}return g.errors=w,0===I}function C(R,{instancePath:X="",parentData:oe,parentDataProperty:be,rootData:Ie=R}={}){let w=null,I=0;return g(R,{instancePath:X,parentData:oe,parentDataProperty:be,rootData:Ie})||(w=null===w?g.errors:w.concat(g.errors),I=w.length),C.errors=w,0===I}const B={type:"array",minItems:1,items:{$ref:"#"}},F={validate:k};function T(R,{instancePath:X="",rootData:Ie=R}={}){let w=null,I=0;if(Array.isArray(R)){if(R.length<1){const M={instancePath:X,schemaPath:"#/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:B,data:R};null===w?w=[M]:w.push(M),I++}const V=R.length;for(let M=0;M<V;M++)F.validate(R[M],{instancePath:X+"/"+M,parentData:R,parentDataProperty:M,rootData:Ie})||(w=null===w?F.validate.errors:w.concat(F.validate.errors),I=w.length)}else{const V={instancePath:X,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:B.type,parentSchema:B,data:R};null===w?w=[V]:w.push(V),I++}return T.errors=w,0===I}const z={type:"array",items:{type:"string"},uniqueItems:!0,default:[]};function re(R,{instancePath:X="",rootData:Ie=R}={}){let w=null,I=0;if(Array.isArray(R)){const V=R.length;for(let ue=0;ue<V;ue++){let de=R[ue];if("string"!=typeof de){const we={instancePath:X+"/"+ue,schemaPath:"#/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:z.items.type,parentSchema:z.items,data:de};null===w?w=[we]:w.push(we),I++}}let Q,M=R.length;if(M>1){const ue={};for(;M--;){let de=R[M];if("string"==typeof de){if("number"==typeof ue[de]){Q=ue[de];const we={instancePath:X,schemaPath:"#/uniqueItems",keyword:"uniqueItems",params:{i:M,j:Q},message:"must NOT have duplicate items (items ## "+Q+" and "+M+" are identical)",schema:!0,parentSchema:z,data:R};null===w?w=[we]:w.push(we),I++;break}ue[de]=M}}}}else{const V={instancePath:X,schemaPath:"#/type",keyword:"type",params:{type:"array"},message:"must be array",schema:z.type,parentSchema:z,data:R};null===w?w=[V]:w.push(V),I++}return re.errors=w,0===I}const ie={enum:["array","boolean","integer","null","number","object","string"]};function O(R,{instancePath:X="",rootData:Ie=R}={}){let w=null,I=0;if("array"!==R&&"boolean"!==R&&"integer"!==R&&"null"!==R&&"number"!==R&&"object"!==R&&"string"!==R){const V={instancePath:X,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:ie.enum},message:"must be equal to one of the allowed values",schema:ie.enum,parentSchema:ie,data:R};null===w?w=[V]:w.push(V),I++}return O.errors=w,0===I}const J=i(54195).default;function k(R,{instancePath:X="",rootData:Ie=R}={}){let w=null,I=0;if((!R||"object"!=typeof R||Array.isArray(R))&&"boolean"!=typeof R){const de={instancePath:X,schemaPath:"#/type",keyword:"type",params:{type:y.type},message:"must be object,boolean",schema:y.type,parentSchema:y,data:R};null===w?w=[de]:w.push(de),I++}if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0!==R.$id){let de=R.$id;if("string"!=typeof de){const we={instancePath:X+"/$id",schemaPath:"#/properties/%24id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.$id.type,parentSchema:y.properties.$id,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.$schema){let de=R.$schema;if("string"!=typeof de){const we={instancePath:X+"/$schema",schemaPath:"#/properties/%24schema/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.$schema.type,parentSchema:y.properties.$schema,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.$ref){let de=R.$ref;if("string"!=typeof de){const we={instancePath:X+"/$ref",schemaPath:"#/properties/%24ref/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.$ref.type,parentSchema:y.properties.$ref,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.$comment){let de=R.$comment;if("string"!=typeof de){const we={instancePath:X+"/$comment",schemaPath:"#/properties/%24comment/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.$comment.type,parentSchema:y.properties.$comment,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.title){let de=R.title;if("string"!=typeof de){const we={instancePath:X+"/title",schemaPath:"#/properties/title/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.title.type,parentSchema:y.properties.title,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.description){let de=R.description;if("string"!=typeof de){const we={instancePath:X+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.description.type,parentSchema:y.properties.description,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.readOnly){let de=R.readOnly;if("boolean"!=typeof de){const we={instancePath:X+"/readOnly",schemaPath:"#/properties/readOnly/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:y.properties.readOnly.type,parentSchema:y.properties.readOnly,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.examples){let de=R.examples;if(!Array.isArray(de)){const we={instancePath:X+"/examples",schemaPath:"#/properties/examples/type",keyword:"type",params:{type:"array"},message:"must be array",schema:y.properties.examples.type,parentSchema:y.properties.examples,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.multipleOf){let de=R.multipleOf;if("number"==typeof de){if(de<=0||isNaN(de)){const we={instancePath:X+"/multipleOf",schemaPath:"#/properties/multipleOf/exclusiveMinimum",keyword:"exclusiveMinimum",params:{comparison:">",limit:0},message:"must be > 0",schema:0,parentSchema:y.properties.multipleOf,data:de};null===w?w=[we]:w.push(we),I++}}else{const we={instancePath:X+"/multipleOf",schemaPath:"#/properties/multipleOf/type",keyword:"type",params:{type:"number"},message:"must be number",schema:y.properties.multipleOf.type,parentSchema:y.properties.multipleOf,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.maximum){let de=R.maximum;if("number"!=typeof de){const we={instancePath:X+"/maximum",schemaPath:"#/properties/maximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:y.properties.maximum.type,parentSchema:y.properties.maximum,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.exclusiveMaximum){let de=R.exclusiveMaximum;if("number"!=typeof de){const we={instancePath:X+"/exclusiveMaximum",schemaPath:"#/properties/exclusiveMaximum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:y.properties.exclusiveMaximum.type,parentSchema:y.properties.exclusiveMaximum,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.minimum){let de=R.minimum;if("number"!=typeof de){const we={instancePath:X+"/minimum",schemaPath:"#/properties/minimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:y.properties.minimum.type,parentSchema:y.properties.minimum,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.exclusiveMinimum){let de=R.exclusiveMinimum;if("number"!=typeof de){const we={instancePath:X+"/exclusiveMinimum",schemaPath:"#/properties/exclusiveMinimum/type",keyword:"type",params:{type:"number"},message:"must be number",schema:y.properties.exclusiveMinimum.type,parentSchema:y.properties.exclusiveMinimum,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.maxLength&&(g(R.maxLength,{instancePath:X+"/maxLength",parentData:R,parentDataProperty:"maxLength",rootData:Ie})||(w=null===w?g.errors:w.concat(g.errors),I=w.length)),void 0!==R.minLength&&(C(R.minLength,{instancePath:X+"/minLength",parentData:R,parentDataProperty:"minLength",rootData:Ie})||(w=null===w?C.errors:w.concat(C.errors),I=w.length)),void 0!==R.pattern){let de=R.pattern;if("string"!=typeof de){const we={instancePath:X+"/pattern",schemaPath:"#/properties/pattern/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.pattern.type,parentSchema:y.properties.pattern,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.additionalItems&&(k(R.additionalItems,{instancePath:X+"/additionalItems",parentData:R,parentDataProperty:"additionalItems",rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length)),void 0!==R.items){let de=R.items;const we=I;let fe=!1;const _e=I;k(de,{instancePath:X+"/items",parentData:R,parentDataProperty:"items",rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length);var V=_e===I;if(fe=fe||V,!fe){const He=I;T(de,{instancePath:X+"/items",parentData:R,parentDataProperty:"items",rootData:Ie})||(w=null===w?T.errors:w.concat(T.errors),I=w.length),V=He===I,fe=fe||V}if(fe)I=we,null!==w&&(we?w.length=we:w=null);else{const He={instancePath:X+"/items",schemaPath:"#/properties/items/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:y.properties.items.anyOf,parentSchema:y.properties.items,data:de};null===w?w=[He]:w.push(He),I++}}if(void 0!==R.maxItems&&(g(R.maxItems,{instancePath:X+"/maxItems",parentData:R,parentDataProperty:"maxItems",rootData:Ie})||(w=null===w?g.errors:w.concat(g.errors),I=w.length)),void 0!==R.minItems&&(C(R.minItems,{instancePath:X+"/minItems",parentData:R,parentDataProperty:"minItems",rootData:Ie})||(w=null===w?C.errors:w.concat(C.errors),I=w.length)),void 0!==R.uniqueItems){let de=R.uniqueItems;if("boolean"!=typeof de){const we={instancePath:X+"/uniqueItems",schemaPath:"#/properties/uniqueItems/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:y.properties.uniqueItems.type,parentSchema:y.properties.uniqueItems,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.contains&&(k(R.contains,{instancePath:X+"/contains",parentData:R,parentDataProperty:"contains",rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length)),void 0!==R.maxProperties&&(g(R.maxProperties,{instancePath:X+"/maxProperties",parentData:R,parentDataProperty:"maxProperties",rootData:Ie})||(w=null===w?g.errors:w.concat(g.errors),I=w.length)),void 0!==R.minProperties&&(C(R.minProperties,{instancePath:X+"/minProperties",parentData:R,parentDataProperty:"minProperties",rootData:Ie})||(w=null===w?C.errors:w.concat(C.errors),I=w.length)),void 0!==R.required&&(re(R.required,{instancePath:X+"/required",parentData:R,parentDataProperty:"required",rootData:Ie})||(w=null===w?re.errors:w.concat(re.errors),I=w.length)),void 0!==R.additionalProperties&&(k(R.additionalProperties,{instancePath:X+"/additionalProperties",parentData:R,parentDataProperty:"additionalProperties",rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length)),void 0!==R.definitions){let de=R.definitions;if(de&&"object"==typeof de&&!Array.isArray(de))for(const we in de)k(de[we],{instancePath:X+"/definitions/"+we.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:de,parentDataProperty:we,rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length);else{const we={instancePath:X+"/definitions",schemaPath:"#/properties/definitions/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.properties.definitions.type,parentSchema:y.properties.definitions,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.properties){let de=R.properties;if(de&&"object"==typeof de&&!Array.isArray(de))for(const we in de)k(de[we],{instancePath:X+"/properties/"+we.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:de,parentDataProperty:we,rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length);else{const we={instancePath:X+"/properties",schemaPath:"#/properties/properties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.properties.properties.type,parentSchema:y.properties.properties,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.patternProperties){let de=R.patternProperties;if(de&&"object"==typeof de&&!Array.isArray(de)){for(const we in de)if(I!=I){const _e={instancePath:X+"/patternProperties",schemaPath:"#/properties/patternProperties/propertyNames",keyword:"propertyNames",params:{propertyName:we},message:"property name must be valid",schema:y.properties.patternProperties.propertyNames,parentSchema:y.properties.patternProperties,data:de};null===w?w=[_e]:w.push(_e),I++}for(const we in de)k(de[we],{instancePath:X+"/patternProperties/"+we.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:de,parentDataProperty:we,rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length)}else{const we={instancePath:X+"/patternProperties",schemaPath:"#/properties/patternProperties/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.properties.patternProperties.type,parentSchema:y.properties.patternProperties,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.dependencies){let de=R.dependencies;if(de&&"object"==typeof de&&!Array.isArray(de))for(const we in de){let fe=de[we];const _e=I;let He=!1;const Pe=I;k(fe,{instancePath:X+"/dependencies/"+we.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:de,parentDataProperty:we,rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length);var Q=Pe===I;if(He=He||Q,!He){const Oe=I;re(fe,{instancePath:X+"/dependencies/"+we.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:de,parentDataProperty:we,rootData:Ie})||(w=null===w?re.errors:w.concat(re.errors),I=w.length),Q=Oe===I,He=He||Q}if(He)I=_e,null!==w&&(_e?w.length=_e:w=null);else{const Oe={instancePath:X+"/dependencies/"+we.replace(/~/g,"~0").replace(/\//g,"~1"),schemaPath:"#/properties/dependencies/additionalProperties/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:y.properties.dependencies.additionalProperties.anyOf,parentSchema:y.properties.dependencies.additionalProperties,data:fe};null===w?w=[Oe]:w.push(Oe),I++}}else{const we={instancePath:X+"/dependencies",schemaPath:"#/properties/dependencies/type",keyword:"type",params:{type:"object"},message:"must be object",schema:y.properties.dependencies.type,parentSchema:y.properties.dependencies,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.propertyNames&&(k(R.propertyNames,{instancePath:X+"/propertyNames",parentData:R,parentDataProperty:"propertyNames",rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length)),void 0!==R.enum){let de=R.enum;if(Array.isArray(de)){if(de.length<1){const _e={instancePath:X+"/enum",schemaPath:"#/properties/enum/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:y.properties.enum,data:de};null===w?w=[_e]:w.push(_e),I++}let fe,we=de.length;if(we>1)e:for(;we--;)for(fe=we;fe--;)if(J(de[we],de[fe])){const _e={instancePath:X+"/enum",schemaPath:"#/properties/enum/uniqueItems",keyword:"uniqueItems",params:{i:we,j:fe},message:"must NOT have duplicate items (items ## "+fe+" and "+we+" are identical)",schema:!0,parentSchema:y.properties.enum,data:de};null===w?w=[_e]:w.push(_e),I++;break e}}else{const we={instancePath:X+"/enum",schemaPath:"#/properties/enum/type",keyword:"type",params:{type:"array"},message:"must be array",schema:y.properties.enum.type,parentSchema:y.properties.enum,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.type){let de=R.type;const we=I;let fe=!1;const _e=I;O(de,{instancePath:X+"/type",parentData:R,parentDataProperty:"type",rootData:Ie})||(w=null===w?O.errors:w.concat(O.errors),I=w.length);var ue=_e===I;if(fe=fe||ue,!fe){const He=I;if(Array.isArray(de)){if(de.length<1){const ye={instancePath:X+"/type",schemaPath:"#/properties/type/anyOf/1/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items",schema:1,parentSchema:y.properties.type.anyOf[1],data:de};null===w?w=[ye]:w.push(ye),I++}const Oe=de.length;for(let ye=0;ye<Oe;ye++)O(de[ye],{instancePath:X+"/type/"+ye,parentData:de,parentDataProperty:ye,rootData:Ie})||(w=null===w?O.errors:w.concat(O.errors),I=w.length);let ve,he=de.length;if(he>1)e:for(;he--;)for(ve=he;ve--;)if(J(de[he],de[ve])){const ye={instancePath:X+"/type",schemaPath:"#/properties/type/anyOf/1/uniqueItems",keyword:"uniqueItems",params:{i:he,j:ve},message:"must NOT have duplicate items (items ## "+ve+" and "+he+" are identical)",schema:!0,parentSchema:y.properties.type.anyOf[1],data:de};null===w?w=[ye]:w.push(ye),I++;break e}}else{const Oe={instancePath:X+"/type",schemaPath:"#/properties/type/anyOf/1/type",keyword:"type",params:{type:"array"},message:"must be array",schema:y.properties.type.anyOf[1].type,parentSchema:y.properties.type.anyOf[1],data:de};null===w?w=[Oe]:w.push(Oe),I++}ue=He===I,fe=fe||ue}if(fe)I=we,null!==w&&(we?w.length=we:w=null);else{const He={instancePath:X+"/type",schemaPath:"#/properties/type/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf",schema:y.properties.type.anyOf,parentSchema:y.properties.type,data:de};null===w?w=[He]:w.push(He),I++}}if(void 0!==R.format){let de=R.format;if("string"!=typeof de){const we={instancePath:X+"/format",schemaPath:"#/properties/format/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.format.type,parentSchema:y.properties.format,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.contentMediaType){let de=R.contentMediaType;if("string"!=typeof de){const we={instancePath:X+"/contentMediaType",schemaPath:"#/properties/contentMediaType/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.contentMediaType.type,parentSchema:y.properties.contentMediaType,data:de};null===w?w=[we]:w.push(we),I++}}if(void 0!==R.contentEncoding){let de=R.contentEncoding;if("string"!=typeof de){const we={instancePath:X+"/contentEncoding",schemaPath:"#/properties/contentEncoding/type",keyword:"type",params:{type:"string"},message:"must be string",schema:y.properties.contentEncoding.type,parentSchema:y.properties.contentEncoding,data:de};null===w?w=[we]:w.push(we),I++}}void 0!==R.if&&(k(R.if,{instancePath:X+"/if",parentData:R,parentDataProperty:"if",rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length)),void 0!==R.then&&(k(R.then,{instancePath:X+"/then",parentData:R,parentDataProperty:"then",rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length)),void 0!==R.else&&(k(R.else,{instancePath:X+"/else",parentData:R,parentDataProperty:"else",rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length)),void 0!==R.allOf&&(T(R.allOf,{instancePath:X+"/allOf",parentData:R,parentDataProperty:"allOf",rootData:Ie})||(w=null===w?T.errors:w.concat(T.errors),I=w.length)),void 0!==R.anyOf&&(T(R.anyOf,{instancePath:X+"/anyOf",parentData:R,parentDataProperty:"anyOf",rootData:Ie})||(w=null===w?T.errors:w.concat(T.errors),I=w.length)),void 0!==R.oneOf&&(T(R.oneOf,{instancePath:X+"/oneOf",parentData:R,parentDataProperty:"oneOf",rootData:Ie})||(w=null===w?T.errors:w.concat(T.errors),I=w.length)),void 0!==R.not&&(k(R.not,{instancePath:X+"/not",parentData:R,parentDataProperty:"not",rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length))}return k.errors=w,0===I}function Z(R,{instancePath:X="",rootData:Ie=R}={}){let w=null,I=0;if(!R||"object"!=typeof R||Array.isArray(R)){const fe={instancePath:X,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:d.type,parentSchema:d,data:R};null===w?w=[fe]:w.push(fe),I++}const V=I;let M=!1,Q=null;const ue=I;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.path){const fe={instancePath:X,schemaPath:"#/oneOf/0/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:d.oneOf[0].required,parentSchema:d.oneOf[0],data:R};null===w?w=[fe]:w.push(fe),I++}for(const fe in R)if("id"!==fe&&"path"!==fe&&"purpose"!==fe&&"intent_to_retain"!==fe&&"filter"!==fe&&"name"!==fe){const _e={instancePath:X,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fe},message:"must NOT have additional properties",schema:!1,parentSchema:d.oneOf[0],data:R};null===w?w=[_e]:w.push(_e),I++}if(void 0!==R.id){let fe=R.id;if("string"!=typeof fe){const _e={instancePath:X+"/id",schemaPath:"#/oneOf/0/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[0].properties.id.type,parentSchema:d.oneOf[0].properties.id,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.path){let fe=R.path;if(Array.isArray(fe)){const _e=fe.length;for(let He=0;He<_e;He++){let Pe=fe[He];if("string"!=typeof Pe){const Oe={instancePath:X+"/path/"+He,schemaPath:"#/oneOf/0/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[0].properties.path.items.type,parentSchema:d.oneOf[0].properties.path.items,data:Pe};null===w?w=[Oe]:w.push(Oe),I++}}}else{const _e={instancePath:X+"/path",schemaPath:"#/oneOf/0/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.oneOf[0].properties.path.type,parentSchema:d.oneOf[0].properties.path,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.purpose){let fe=R.purpose;if("string"!=typeof fe){const _e={instancePath:X+"/purpose",schemaPath:"#/oneOf/0/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[0].properties.purpose.type,parentSchema:d.oneOf[0].properties.purpose,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.intent_to_retain){let fe=R.intent_to_retain;if("boolean"!=typeof fe){const _e={instancePath:X+"/intent_to_retain",schemaPath:"#/oneOf/0/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:d.oneOf[0].properties.intent_to_retain.type,parentSchema:d.oneOf[0].properties.intent_to_retain,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.filter&&(k(R.filter,{instancePath:X+"/filter",parentData:R,parentDataProperty:"filter",rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length)),void 0!==R.name){let fe=R.name;if("string"!=typeof fe){const _e={instancePath:X+"/name",schemaPath:"#/oneOf/0/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[0].properties.name.type,parentSchema:d.oneOf[0].properties.name,data:fe};null===w?w=[_e]:w.push(_e),I++}}}ue===I&&(M=!0,Q=0);const de=I;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.path){const fe={instancePath:X,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"path"},message:"must have required property 'path'",schema:d.oneOf[1].required,parentSchema:d.oneOf[1],data:R};null===w?w=[fe]:w.push(fe),I++}if(void 0===R.filter){const fe={instancePath:X,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"filter"},message:"must have required property 'filter'",schema:d.oneOf[1].required,parentSchema:d.oneOf[1],data:R};null===w?w=[fe]:w.push(fe),I++}if(void 0===R.predicate){const fe={instancePath:X,schemaPath:"#/oneOf/1/required",keyword:"required",params:{missingProperty:"predicate"},message:"must have required property 'predicate'",schema:d.oneOf[1].required,parentSchema:d.oneOf[1],data:R};null===w?w=[fe]:w.push(fe),I++}for(const fe in R)if("id"!==fe&&"path"!==fe&&"purpose"!==fe&&"intent_to_retain"!==fe&&"filter"!==fe&&"predicate"!==fe&&"name"!==fe){const _e={instancePath:X,schemaPath:"#/oneOf/1/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:fe},message:"must NOT have additional properties",schema:!1,parentSchema:d.oneOf[1],data:R};null===w?w=[_e]:w.push(_e),I++}if(void 0!==R.id){let fe=R.id;if("string"!=typeof fe){const _e={instancePath:X+"/id",schemaPath:"#/oneOf/1/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[1].properties.id.type,parentSchema:d.oneOf[1].properties.id,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.path){let fe=R.path;if(Array.isArray(fe)){const _e=fe.length;for(let He=0;He<_e;He++){let Pe=fe[He];if("string"!=typeof Pe){const Oe={instancePath:X+"/path/"+He,schemaPath:"#/oneOf/1/properties/path/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[1].properties.path.items.type,parentSchema:d.oneOf[1].properties.path.items,data:Pe};null===w?w=[Oe]:w.push(Oe),I++}}}else{const _e={instancePath:X+"/path",schemaPath:"#/oneOf/1/properties/path/type",keyword:"type",params:{type:"array"},message:"must be array",schema:d.oneOf[1].properties.path.type,parentSchema:d.oneOf[1].properties.path,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.purpose){let fe=R.purpose;if("string"!=typeof fe){const _e={instancePath:X+"/purpose",schemaPath:"#/oneOf/1/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[1].properties.purpose.type,parentSchema:d.oneOf[1].properties.purpose,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.intent_to_retain){let fe=R.intent_to_retain;if("boolean"!=typeof fe){const _e={instancePath:X+"/intent_to_retain",schemaPath:"#/oneOf/1/properties/intent_to_retain/type",keyword:"type",params:{type:"boolean"},message:"must be boolean",schema:d.oneOf[1].properties.intent_to_retain.type,parentSchema:d.oneOf[1].properties.intent_to_retain,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.filter&&(k(R.filter,{instancePath:X+"/filter",parentData:R,parentDataProperty:"filter",rootData:Ie})||(w=null===w?k.errors:w.concat(k.errors),I=w.length)),void 0!==R.predicate){let fe=R.predicate;if("string"!=typeof fe){const _e={instancePath:X+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[1].properties.predicate.type,parentSchema:d.oneOf[1].properties.predicate,data:fe};null===w?w=[_e]:w.push(_e),I++}if("required"!==fe&&"preferred"!==fe){const _e={instancePath:X+"/predicate",schemaPath:"#/oneOf/1/properties/predicate/enum",keyword:"enum",params:{allowedValues:d.oneOf[1].properties.predicate.enum},message:"must be equal to one of the allowed values",schema:d.oneOf[1].properties.predicate.enum,parentSchema:d.oneOf[1].properties.predicate,data:fe};null===w?w=[_e]:w.push(_e),I++}}if(void 0!==R.name){let fe=R.name;if("string"!=typeof fe){const _e={instancePath:X+"/name",schemaPath:"#/oneOf/1/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:d.oneOf[1].properties.name.type,parentSchema:d.oneOf[1].properties.name,data:fe};null===w?w=[_e]:w.push(_e),I++}}}var we;if((we=de===I)&&M?(M=!1,Q=[Q,1]):we&&(M=!0,Q=1),M)I=V,null!==w&&(V?w.length=V:w=null);else{const fe={instancePath:X,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:Q},message:"must match exactly one schema in oneOf",schema:d.oneOf,parentSchema:d,data:R};null===w?w=[fe]:w.push(fe),I++}return Z.errors=w,0===I}function W(R,{instancePath:X="",rootData:Ie=R}={}){let w=null,I=0;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0===R.id){const V={instancePath:X,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:a.required,parentSchema:a,data:R};null===w?w=[V]:w.push(V),I++}for(const V in R)if("id"!==V&&"name"!==V&&"purpose"!==V&&"issuance"!==V&&"group"!==V&&"format"!==V&&"constraints"!==V){const M={instancePath:X,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:V},message:"must NOT have additional properties",schema:!1,parentSchema:a,data:R};null===w?w=[M]:w.push(M),I++}if(void 0!==R.id){let V=R.id;if("string"!=typeof V){const M={instancePath:X+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.id.type,parentSchema:a.properties.id,data:V};null===w?w=[M]:w.push(M),I++}}if(void 0!==R.name){let V=R.name;if("string"!=typeof V){const M={instancePath:X+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.name.type,parentSchema:a.properties.name,data:V};null===w?w=[M]:w.push(M),I++}}if(void 0!==R.purpose){let V=R.purpose;if("string"!=typeof V){const M={instancePath:X+"/purpose",schemaPath:"#/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.purpose.type,parentSchema:a.properties.purpose,data:V};null===w?w=[M]:w.push(M),I++}}if(void 0!==R.issuance){let V=R.issuance;if(Array.isArray(V)){const M=V.length;for(let Q=0;Q<M;Q++)p(V[Q],{instancePath:X+"/issuance/"+Q,parentData:V,parentDataProperty:Q,rootData:Ie})||(w=null===w?p.errors:w.concat(p.errors),I=w.length)}else{const M={instancePath:X+"/issuance",schemaPath:"#/properties/issuance/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.issuance.type,parentSchema:a.properties.issuance,data:V};null===w?w=[M]:w.push(M),I++}}if(void 0!==R.group){let V=R.group;if(Array.isArray(V)){const M=V.length;for(let Q=0;Q<M;Q++){let ue=V[Q];if("string"!=typeof ue){const de={instancePath:X+"/group/"+Q,schemaPath:"#/properties/group/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.group.items.type,parentSchema:a.properties.group.items,data:ue};null===w?w=[de]:w.push(de),I++}}}else{const M={instancePath:X+"/group",schemaPath:"#/properties/group/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.group.type,parentSchema:a.properties.group,data:V};null===w?w=[M]:w.push(M),I++}}if(void 0!==R.format&&(u(R.format,{instancePath:X+"/format",parentData:R,parentDataProperty:"format",rootData:Ie})||(w=null===w?u.errors:w.concat(u.errors),I=w.length)),void 0!==R.constraints){let V=R.constraints;if(V&&"object"==typeof V&&!Array.isArray(V)){for(const M in V)if("limit_disclosure"!==M&&"statuses"!==M&&"fields"!==M&&"subject_is_issuer"!==M&&"is_holder"!==M&&"same_subject"!==M){const Q={instancePath:X+"/constraints",schemaPath:"#/properties/constraints/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties",schema:!1,parentSchema:a.properties.constraints,data:V};null===w?w=[Q]:w.push(Q),I++}if(void 0!==V.limit_disclosure){let M=V.limit_disclosure;if("string"!=typeof M){const Q={instancePath:X+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.limit_disclosure.type,parentSchema:a.properties.constraints.properties.limit_disclosure,data:M};null===w?w=[Q]:w.push(Q),I++}if("required"!==M&&"preferred"!==M){const Q={instancePath:X+"/constraints/limit_disclosure",schemaPath:"#/properties/constraints/properties/limit_disclosure/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.limit_disclosure.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.limit_disclosure.enum,parentSchema:a.properties.constraints.properties.limit_disclosure,data:M};null===w?w=[Q]:w.push(Q),I++}}if(void 0!==V.statuses){let M=V.statuses;if(M&&"object"==typeof M&&!Array.isArray(M)){if(void 0!==M.active){let Q=M.active;if(Q&&"object"==typeof Q&&!Array.isArray(Q)){if(void 0!==Q.directive){let ue=Q.directive;if("string"!=typeof ue){const de={instancePath:X+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.statuses.properties.active.properties.directive.type,parentSchema:a.properties.constraints.properties.statuses.properties.active.properties.directive,data:ue};null===w?w=[de]:w.push(de),I++}if("required"!==ue&&"allowed"!==ue&&"disallowed"!==ue){const de={instancePath:X+"/constraints/statuses/active/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/active/properties/directive/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.statuses.properties.active.properties.directive.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.statuses.properties.active.properties.directive.enum,parentSchema:a.properties.constraints.properties.statuses.properties.active.properties.directive,data:ue};null===w?w=[de]:w.push(de),I++}}}else{const ue={instancePath:X+"/constraints/statuses/active",schemaPath:"#/properties/constraints/properties/statuses/properties/active/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.statuses.properties.active.type,parentSchema:a.properties.constraints.properties.statuses.properties.active,data:Q};null===w?w=[ue]:w.push(ue),I++}}if(void 0!==M.suspended){let Q=M.suspended;if(Q&&"object"==typeof Q&&!Array.isArray(Q)){if(void 0!==Q.directive){let ue=Q.directive;if("string"!=typeof ue){const de={instancePath:X+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.statuses.properties.suspended.properties.directive.type,parentSchema:a.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:ue};null===w?w=[de]:w.push(de),I++}if("required"!==ue&&"allowed"!==ue&&"disallowed"!==ue){const de={instancePath:X+"/constraints/statuses/suspended/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/properties/directive/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.statuses.properties.suspended.properties.directive.enum,parentSchema:a.properties.constraints.properties.statuses.properties.suspended.properties.directive,data:ue};null===w?w=[de]:w.push(de),I++}}}else{const ue={instancePath:X+"/constraints/statuses/suspended",schemaPath:"#/properties/constraints/properties/statuses/properties/suspended/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.statuses.properties.suspended.type,parentSchema:a.properties.constraints.properties.statuses.properties.suspended,data:Q};null===w?w=[ue]:w.push(ue),I++}}if(void 0!==M.revoked){let Q=M.revoked;if(Q&&"object"==typeof Q&&!Array.isArray(Q)){if(void 0!==Q.directive){let ue=Q.directive;if("string"!=typeof ue){const de={instancePath:X+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.statuses.properties.revoked.properties.directive.type,parentSchema:a.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:ue};null===w?w=[de]:w.push(de),I++}if("required"!==ue&&"allowed"!==ue&&"disallowed"!==ue){const de={instancePath:X+"/constraints/statuses/revoked/directive",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/properties/directive/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.statuses.properties.revoked.properties.directive.enum,parentSchema:a.properties.constraints.properties.statuses.properties.revoked.properties.directive,data:ue};null===w?w=[de]:w.push(de),I++}}}else{const ue={instancePath:X+"/constraints/statuses/revoked",schemaPath:"#/properties/constraints/properties/statuses/properties/revoked/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.statuses.properties.revoked.type,parentSchema:a.properties.constraints.properties.statuses.properties.revoked,data:Q};null===w?w=[ue]:w.push(ue),I++}}}else{const Q={instancePath:X+"/constraints/statuses",schemaPath:"#/properties/constraints/properties/statuses/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.statuses.type,parentSchema:a.properties.constraints.properties.statuses,data:M};null===w?w=[Q]:w.push(Q),I++}}if(void 0!==V.fields){let M=V.fields;if(Array.isArray(M)){const Q=M.length;for(let ue=0;ue<Q;ue++)Z(M[ue],{instancePath:X+"/constraints/fields/"+ue,parentData:M,parentDataProperty:ue,rootData:Ie})||(w=null===w?Z.errors:w.concat(Z.errors),I=w.length)}else{const Q={instancePath:X+"/constraints/fields",schemaPath:"#/properties/constraints/properties/fields/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.constraints.properties.fields.type,parentSchema:a.properties.constraints.properties.fields,data:M};null===w?w=[Q]:w.push(Q),I++}}if(void 0!==V.subject_is_issuer){let M=V.subject_is_issuer;if("string"!=typeof M){const Q={instancePath:X+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.subject_is_issuer.type,parentSchema:a.properties.constraints.properties.subject_is_issuer,data:M};null===w?w=[Q]:w.push(Q),I++}if("required"!==M&&"preferred"!==M){const Q={instancePath:X+"/constraints/subject_is_issuer",schemaPath:"#/properties/constraints/properties/subject_is_issuer/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.subject_is_issuer.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.subject_is_issuer.enum,parentSchema:a.properties.constraints.properties.subject_is_issuer,data:M};null===w?w=[Q]:w.push(Q),I++}}if(void 0!==V.is_holder){let M=V.is_holder;if(Array.isArray(M)){const Q=M.length;for(let ue=0;ue<Q;ue++){let de=M[ue];if(de&&"object"==typeof de&&!Array.isArray(de)){if(void 0===de.field_id){const we={instancePath:X+"/constraints/is_holder/"+ue,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:a.properties.constraints.properties.is_holder.items.required,parentSchema:a.properties.constraints.properties.is_holder.items,data:de};null===w?w=[we]:w.push(we),I++}if(void 0===de.directive){const we={instancePath:X+"/constraints/is_holder/"+ue,schemaPath:"#/properties/constraints/properties/is_holder/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:a.properties.constraints.properties.is_holder.items.required,parentSchema:a.properties.constraints.properties.is_holder.items,data:de};null===w?w=[we]:w.push(we),I++}for(const we in de)if("field_id"!==we&&"directive"!==we){const fe={instancePath:X+"/constraints/is_holder/"+ue,schemaPath:"#/properties/constraints/properties/is_holder/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:we},message:"must NOT have additional properties",schema:!1,parentSchema:a.properties.constraints.properties.is_holder.items,data:de};null===w?w=[fe]:w.push(fe),I++}if(void 0!==de.field_id){let we=de.field_id;if(Array.isArray(we)){const fe=we.length;for(let _e=0;_e<fe;_e++){let He=we[_e];if("string"!=typeof He){const Pe={instancePath:X+"/constraints/is_holder/"+ue+"/field_id/"+_e,schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.is_holder.items.properties.field_id.items.type,parentSchema:a.properties.constraints.properties.is_holder.items.properties.field_id.items,data:He};null===w?w=[Pe]:w.push(Pe),I++}}}else{const fe={instancePath:X+"/constraints/is_holder/"+ue+"/field_id",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.constraints.properties.is_holder.items.properties.field_id.type,parentSchema:a.properties.constraints.properties.is_holder.items.properties.field_id,data:we};null===w?w=[fe]:w.push(fe),I++}}if(void 0!==de.directive){let we=de.directive;if("string"!=typeof we){const fe={instancePath:X+"/constraints/is_holder/"+ue+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.is_holder.items.properties.directive.type,parentSchema:a.properties.constraints.properties.is_holder.items.properties.directive,data:we};null===w?w=[fe]:w.push(fe),I++}if("required"!==we&&"preferred"!==we){const fe={instancePath:X+"/constraints/is_holder/"+ue+"/directive",schemaPath:"#/properties/constraints/properties/is_holder/items/properties/directive/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.is_holder.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.is_holder.items.properties.directive.enum,parentSchema:a.properties.constraints.properties.is_holder.items.properties.directive,data:we};null===w?w=[fe]:w.push(fe),I++}}}else{const we={instancePath:X+"/constraints/is_holder/"+ue,schemaPath:"#/properties/constraints/properties/is_holder/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.is_holder.items.type,parentSchema:a.properties.constraints.properties.is_holder.items,data:de};null===w?w=[we]:w.push(we),I++}}}else{const Q={instancePath:X+"/constraints/is_holder",schemaPath:"#/properties/constraints/properties/is_holder/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.constraints.properties.is_holder.type,parentSchema:a.properties.constraints.properties.is_holder,data:M};null===w?w=[Q]:w.push(Q),I++}}if(void 0!==V.same_subject){let M=V.same_subject;if(Array.isArray(M)){const Q=M.length;for(let ue=0;ue<Q;ue++){let de=M[ue];if(de&&"object"==typeof de&&!Array.isArray(de)){if(void 0===de.field_id){const we={instancePath:X+"/constraints/same_subject/"+ue,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"field_id"},message:"must have required property 'field_id'",schema:a.properties.constraints.properties.same_subject.items.required,parentSchema:a.properties.constraints.properties.same_subject.items,data:de};null===w?w=[we]:w.push(we),I++}if(void 0===de.directive){const we={instancePath:X+"/constraints/same_subject/"+ue,schemaPath:"#/properties/constraints/properties/same_subject/items/required",keyword:"required",params:{missingProperty:"directive"},message:"must have required property 'directive'",schema:a.properties.constraints.properties.same_subject.items.required,parentSchema:a.properties.constraints.properties.same_subject.items,data:de};null===w?w=[we]:w.push(we),I++}for(const we in de)if("field_id"!==we&&"directive"!==we){const fe={instancePath:X+"/constraints/same_subject/"+ue,schemaPath:"#/properties/constraints/properties/same_subject/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:we},message:"must NOT have additional properties",schema:!1,parentSchema:a.properties.constraints.properties.same_subject.items,data:de};null===w?w=[fe]:w.push(fe),I++}if(void 0!==de.field_id){let we=de.field_id;if(Array.isArray(we)){const fe=we.length;for(let _e=0;_e<fe;_e++){let He=we[_e];if("string"!=typeof He){const Pe={instancePath:X+"/constraints/same_subject/"+ue+"/field_id/"+_e,schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/items/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.same_subject.items.properties.field_id.items.type,parentSchema:a.properties.constraints.properties.same_subject.items.properties.field_id.items,data:He};null===w?w=[Pe]:w.push(Pe),I++}}}else{const fe={instancePath:X+"/constraints/same_subject/"+ue+"/field_id",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/field_id/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.constraints.properties.same_subject.items.properties.field_id.type,parentSchema:a.properties.constraints.properties.same_subject.items.properties.field_id,data:we};null===w?w=[fe]:w.push(fe),I++}}if(void 0!==de.directive){let we=de.directive;if("string"!=typeof we){const fe={instancePath:X+"/constraints/same_subject/"+ue+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/type",keyword:"type",params:{type:"string"},message:"must be string",schema:a.properties.constraints.properties.same_subject.items.properties.directive.type,parentSchema:a.properties.constraints.properties.same_subject.items.properties.directive,data:we};null===w?w=[fe]:w.push(fe),I++}if("required"!==we&&"preferred"!==we){const fe={instancePath:X+"/constraints/same_subject/"+ue+"/directive",schemaPath:"#/properties/constraints/properties/same_subject/items/properties/directive/enum",keyword:"enum",params:{allowedValues:a.properties.constraints.properties.same_subject.items.properties.directive.enum},message:"must be equal to one of the allowed values",schema:a.properties.constraints.properties.same_subject.items.properties.directive.enum,parentSchema:a.properties.constraints.properties.same_subject.items.properties.directive,data:we};null===w?w=[fe]:w.push(fe),I++}}}else{const we={instancePath:X+"/constraints/same_subject/"+ue,schemaPath:"#/properties/constraints/properties/same_subject/items/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.properties.same_subject.items.type,parentSchema:a.properties.constraints.properties.same_subject.items,data:de};null===w?w=[we]:w.push(we),I++}}}else{const Q={instancePath:X+"/constraints/same_subject",schemaPath:"#/properties/constraints/properties/same_subject/type",keyword:"type",params:{type:"array"},message:"must be array",schema:a.properties.constraints.properties.same_subject.type,parentSchema:a.properties.constraints.properties.same_subject,data:M};null===w?w=[Q]:w.push(Q),I++}}}else{const M={instancePath:X+"/constraints",schemaPath:"#/properties/constraints/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.properties.constraints.type,parentSchema:a.properties.constraints,data:V};null===w?w=[M]:w.push(M),I++}}}else{const V={instancePath:X,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:a.type,parentSchema:a,data:R};null===w?w=[V]:w.push(V),I++}return W.errors=w,0===I}function pe(R,{instancePath:X="",rootData:Ie=R}={}){let w=null,I=0;if(R&&"object"==typeof R&&!Array.isArray(R)){if(void 0!==R.presentation_definition){let V=R.presentation_definition;if(V&&"object"==typeof V&&!Array.isArray(V)){if(void 0===V.id){const M={instancePath:X+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'",schema:h.properties.presentation_definition.required,parentSchema:h.properties.presentation_definition,data:V};null===w?w=[M]:w.push(M),I++}if(void 0===V.input_descriptors){const M={instancePath:X+"/presentation_definition",schemaPath:"#/properties/presentation_definition/required",keyword:"required",params:{missingProperty:"input_descriptors"},message:"must have required property 'input_descriptors'",schema:h.properties.presentation_definition.required,parentSchema:h.properties.presentation_definition,data:V};null===w?w=[M]:w.push(M),I++}for(const M in V)if("id"!==M&&"name"!==M&&"purpose"!==M&&"format"!==M&&"frame"!==M&&"submission_requirements"!==M&&"input_descriptors"!==M){const Q={instancePath:X+"/presentation_definition",schemaPath:"#/properties/presentation_definition/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:M},message:"must NOT have additional properties",schema:!1,parentSchema:h.properties.presentation_definition,data:V};null===w?w=[Q]:w.push(Q),I++}if(void 0!==V.id){let M=V.id;if("string"!=typeof M){const Q={instancePath:X+"/presentation_definition/id",schemaPath:"#/properties/presentation_definition/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.presentation_definition.properties.id.type,parentSchema:h.properties.presentation_definition.properties.id,data:M};null===w?w=[Q]:w.push(Q),I++}}if(void 0!==V.name){let M=V.name;if("string"!=typeof M){const Q={instancePath:X+"/presentation_definition/name",schemaPath:"#/properties/presentation_definition/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.presentation_definition.properties.name.type,parentSchema:h.properties.presentation_definition.properties.name,data:M};null===w?w=[Q]:w.push(Q),I++}}if(void 0!==V.purpose){let M=V.purpose;if("string"!=typeof M){const Q={instancePath:X+"/presentation_definition/purpose",schemaPath:"#/properties/presentation_definition/properties/purpose/type",keyword:"type",params:{type:"string"},message:"must be string",schema:h.properties.presentation_definition.properties.purpose.type,parentSchema:h.properties.presentation_definition.properties.purpose,data:M};null===w?w=[Q]:w.push(Q),I++}}if(void 0!==V.format&&(u(V.format,{instancePath:X+"/presentation_definition/format",parentData:V,parentDataProperty:"format",rootData:Ie})||(w=null===w?u.errors:w.concat(u.errors),I=w.length)),void 0!==V.frame){let M=V.frame;if(!M||"object"!=typeof M||Array.isArray(M)){const Q={instancePath:X+"/presentation_definition/frame",schemaPath:"#/properties/presentation_definition/properties/frame/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.presentation_definition.properties.frame.type,parentSchema:h.properties.presentation_definition.properties.frame,data:M};null===w?w=[Q]:w.push(Q),I++}}if(void 0!==V.submission_requirements){let M=V.submission_requirements;if(Array.isArray(M)){const Q=M.length;for(let ue=0;ue<Q;ue++)s(M[ue],{instancePath:X+"/presentation_definition/submission_requirements/"+ue,parentData:M,parentDataProperty:ue,rootData:Ie})||(w=null===w?s.errors:w.concat(s.errors),I=w.length)}else{const Q={instancePath:X+"/presentation_definition/submission_requirements",schemaPath:"#/properties/presentation_definition/properties/submission_requirements/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.presentation_definition.properties.submission_requirements.type,parentSchema:h.properties.presentation_definition.properties.submission_requirements,data:M};null===w?w=[Q]:w.push(Q),I++}}if(void 0!==V.input_descriptors){let M=V.input_descriptors;if(Array.isArray(M)){const Q=M.length;for(let ue=0;ue<Q;ue++)W(M[ue],{instancePath:X+"/presentation_definition/input_descriptors/"+ue,parentData:M,parentDataProperty:ue,rootData:Ie})||(w=null===w?W.errors:w.concat(W.errors),I=w.length)}else{const Q={instancePath:X+"/presentation_definition/input_descriptors",schemaPath:"#/properties/presentation_definition/properties/input_descriptors/type",keyword:"type",params:{type:"array"},message:"must be array",schema:h.properties.presentation_definition.properties.input_descriptors.type,parentSchema:h.properties.presentation_definition.properties.input_descriptors,data:M};null===w?w=[Q]:w.push(Q),I++}}}else{const M={instancePath:X+"/presentation_definition",schemaPath:"#/properties/presentation_definition/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.properties.presentation_definition.type,parentSchema:h.properties.presentation_definition,data:V};null===w?w=[M]:w.push(M),I++}}}else{const V={instancePath:X,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object",schema:h.type,parentSchema:h,data:R};null===w?w=[V]:w.push(V),I++}return pe.errors=w,0===I}},3993:(Y,f)=>{"use strict";function i(re,ie){return{validate:re,compare:ie}}Object.defineProperty(f,"__esModule",{value:!0}),f.formatNames=f.fastFormats=f.fullFormats=void 0,f.fullFormats={date:i(S,E),time:i(u,n),"date-time":i(function s(re){const ie=re.split(l);return 2===ie.length&&S(ie[0])&&u(ie[1],!0)},a),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:function d(re){return m.test(re)&&p.test(re)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:function z(re){if(T.test(re))return!1;try{return new RegExp(re),!0}catch{return!1}},uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:function b(re){return y.lastIndex=0,y.test(re)},int32:{type:"number",validate:function C(re){return Number.isInteger(re)&&re<=x&&re>=g}},int64:{type:"number",validate:function B(re){return Number.isInteger(re)}},float:{type:"number",validate:F},double:{type:"number",validate:F},password:!0,binary:!0},f.fastFormats={...f.fullFormats,date:i(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,E),time:i(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,n),"date-time":i(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,a),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},f.formatNames=Object.keys(f.fullFormats);const v=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,A=[0,31,28,31,30,31,30,31,31,30,31,30,31];function S(re){const ie=v.exec(re);if(!ie)return!1;const J=+ie[2],k=+ie[3];return J>=1&&J<=12&&k>=1&&k<=(2===J&&function h(re){return re%4==0&&(re%100!=0||re%400==0)}(+ie[1])?29:A[J])}function E(re,ie){if(re&&ie)return re>ie?1:re<ie?-1:0}const c=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function u(re,ie){const O=c.exec(re);if(!O)return!1;const J=+O[1],k=+O[2],Z=+O[3];return(J<=23&&k<=59&&Z<=59||23===J&&59===k&&60===Z)&&(!ie||""!==O[5])}function n(re,ie){if(!re||!ie)return;const O=c.exec(re),J=c.exec(ie);return O&&J?(re=O[1]+O[2]+O[3]+(O[4]||""))>(ie=J[1]+J[2]+J[3]+(J[4]||""))?1:re<ie?-1:0:void 0}const l=/t|\s/i;function a(re,ie){if(!re||!ie)return;const[O,J]=re.split(l),[k,Z]=ie.split(l),W=E(O,k);return void 0!==W?W||n(J,Z):void 0}const m=/\/|:/,p=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,y=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm,g=-(2**31),x=2**31-1;function F(){return!0}const T=/[^\\]\\Z/},21953:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(3993),v=i(10122),A=i(85432),S=new A.Name("fullFormats"),E=new A.Name("fastFormats"),c=(n,l={keywords:!0})=>{if(Array.isArray(l))return u(n,l,h.fullFormats,S),n;const[s,a]="fast"===l.mode?[h.fastFormats,E]:[h.fullFormats,S];return u(n,l.formats||h.formatNames,s,a),l.keywords&&v.default(n),n};function u(n,l,s,a){var m,p;null!==(m=(p=n.opts.code).formats)&&void 0!==m||(p.formats=A._`require("ajv-formats/dist/formats").${a}`);for(const d of l)n.addFormat(d,s[d])}c.get=(n,l="full")=>{const a=("fast"===l?h.fastFormats:h.fullFormats)[n];if(!a)throw new Error(`Unknown format "${n}"`);return a},Y.exports=f=c,Object.defineProperty(f,"__esModule",{value:!0}),f.default=c},10122:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.formatLimitDefinition=void 0;const h=i(39208),v=i(85432),A=v.operators,S={formatMaximum:{okStr:"<=",ok:A.LTE,fail:A.GT},formatMinimum:{okStr:">=",ok:A.GTE,fail:A.LT},formatExclusiveMaximum:{okStr:"<",ok:A.LT,fail:A.GTE},formatExclusiveMinimum:{okStr:">",ok:A.GT,fail:A.LTE}},E={message:({keyword:u,schemaCode:n})=>v.str`should be ${S[u].okStr} ${n}`,params:({keyword:u,schemaCode:n})=>v._`{comparison: ${S[u].okStr}, limit: ${n}}`};f.formatLimitDefinition={keyword:Object.keys(S),type:"string",schemaType:"string",$data:!0,error:E,code(u){const{gen:n,data:l,schemaCode:s,keyword:a,it:m}=u,{opts:p,self:d}=m;if(!p.validateFormats)return;const y=new h.KeywordCxt(m,d.RULES.all.format.definition,"format");function x(C){return v._`${C}.compare(${l}, ${s}) ${S[a].fail} 0`}y.$data?function b(){const C=n.scopeValue("formats",{ref:d.formats,code:p.code.formats}),B=n.const("fmt",v._`${C}[${y.schemaCode}]`);u.fail$data(v.or(v._`typeof ${B} != "object"`,v._`${B} instanceof RegExp`,v._`typeof ${B}.compare != "function"`,x(B)))}():function g(){const C=y.schema,B=d.formats[C];if(!B||!0===B)return;if("object"!=typeof B||B instanceof RegExp||"function"!=typeof B.compare)throw new Error(`"${a}": format "${C}" does not define "compare" function`);const F=n.scopeValue("formats",{key:C,ref:B,code:p.code.formats?v._`${p.code.formats}${v.getProperty(C)}`:void 0});u.fail$data(x(F))}()},dependencies:["format"]},f.default=u=>(u.addKeyword(f.formatLimitDefinition),u)},11151:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(76533),f),v(i(59433),f),v(i(54065),f)},51236:function(Y,f,i){"use strict";var h=this&&this.__rest||function(u,n){var l={};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&n.indexOf(s)<0&&(l[s]=u[s]);if(null!=u&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(s=Object.getOwnPropertySymbols(u);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(u,s[a])&&(l[s[a]]=u[s[a]])}return l},v=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(f,"__esModule",{value:!0}),f.CredentialMapper=void 0;const A=v(i(38350)),S=i(76533),E=i(59433);class c{static decodeSdJwtVcAsync(n,l){return(0,S.decodeSdJwtVcAsync)(n,l)}static decodeVerifiablePresentation(n,l){var s;if(c.isJwtEncoded(n)){const a=(0,A.default)(n),m=(0,A.default)(n,{header:!0});return a.vp.proof={type:S.IProofType.JwtProof2020,created:a.nbf,proofPurpose:S.IProofPurpose.authentication,verificationMethod:null!==(s=m.kid)&&void 0!==s?s:a.iss,jwt:n},a}if(c.isJwtDecodedPresentation(n))return n;if(c.isSdJwtEncoded(n)){if(!l)throw new Error("Hasher implementation is required to decode SD-JWT");return(0,S.decodeSdJwtVc)(n,l)}return c.isSdJwtDecodedCredential(n)?n:c.isJsonLdAsString(n)?JSON.parse(n):n}static decodeVerifiableCredential(n,l){var s;if(c.isJwtEncoded(n)){const a=(0,A.default)(n),m=(0,A.default)(n,{header:!0});return a.vc.proof={type:S.IProofType.JwtProof2020,created:a.nbf,proofPurpose:S.IProofPurpose.authentication,verificationMethod:null!==(s=m.kid)&&void 0!==s?s:a.iss,jwt:n},a}if(c.isJwtDecodedCredential(n))return n;if(c.isJsonLdAsString(n))return JSON.parse(n);if(c.isSdJwtEncoded(n)){if(!l)throw new Error("Hasher implementation is required to decode SD-JWT");return(0,S.decodeSdJwtVc)(n,l)}return c.isSdJwtDecodedCredential(n),n}static toWrappedVerifiablePresentation(n,l){if(c.isSdJwtDecodedCredential(n)||c.isSdJwtEncoded(n)){let B;if(c.isSdJwtEncoded(n)){if(!l?.hasher)throw new Error("Hasher implementation is required to decode SD-JWT");B=(0,S.decodeSdJwtVc)(n,l.hasher)}else B=n;return{type:c.isSdJwtDecodedCredential(n)?S.OriginalType.SD_JWT_VC_DECODED:S.OriginalType.SD_JWT_VC_ENCODED,format:"vc+sd-jwt",original:n,presentation:B,decoded:B.decodedPayload,vcs:[c.toWrappedVerifiableCredential(n,l)]}}const s=c.getFirstProof(n),a="string"!=typeof n&&c.hasJWTProofType(n)?s?.jwt:n;if(!a)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const m=c.decodeVerifiablePresentation(a),p=c.isJwtEncoded(a),d=c.isJwtDecodedPresentation(a),y=p?S.OriginalType.JWT_ENCODED:d?S.OriginalType.JWT_DECODED:S.OriginalType.JSONLD,b=d||p?"jwt_vp":"ldp_vp";let g;if(g=p||d?c.jwtDecodedPresentationToUniformPresentation(m,!1,l):m,!g||!("verifiableCredential"in g)||!g.verifiableCredential||0===g.verifiableCredential.length)throw Error("VP needs to have at least one verifiable credential at this point");const x=c.toWrappedVerifiableCredentials(g.verifiableCredential,l);return{type:y,format:b,original:a,decoded:m,presentation:Object.assign(Object.assign({},g),{verifiableCredential:x}),vcs:x}}static toWrappedVerifiableCredentials(n,l){return n.map(s=>c.toWrappedVerifiableCredential(s,l))}static toWrappedVerifiableCredential(n,l){var s;if(c.isSdJwtDecodedCredential(n)||c.isSdJwtEncoded(n)){let C;if(c.isSdJwtEncoded(n)){if(!l?.hasher)throw new Error("Hasher implementation is required to decode SD-JWT");C=(0,S.decodeSdJwtVc)(n,l.hasher)}else C=n;return{type:c.isSdJwtDecodedCredential(n)?S.OriginalType.SD_JWT_VC_DECODED:S.OriginalType.SD_JWT_VC_ENCODED,format:"vc+sd-jwt",original:n,credential:C,decoded:C.decodedPayload}}const a=c.getFirstProof(n),m=c.hasJWTProofType(n)&&a&&null!==(s=a.jwt)&&void 0!==s?s:n;if(!m)throw Error("Could not determine original credential, probably it was a converted JWT credential, that is now missing the JWT value in the proof");const p=c.decodeVerifiableCredential(m),d=c.isJwtEncoded(m),y=c.isJwtDecodedCredential(m);return{original:m,decoded:p,format:d||y?"jwt_vc":"ldp_vc",type:d?S.OriginalType.JWT_ENCODED:y?S.OriginalType.JWT_DECODED:S.OriginalType.JSONLD,credential:d||y?c.jwtDecodedCredentialToUniformCredential(p,l):p}}static isJwtEncoded(n){return E.ObjectUtils.isString(n)&&n.startsWith("ey")&&!n.includes("~")}static isSdJwtEncoded(n){return E.ObjectUtils.isString(n)&&n.startsWith("ey")&&n.includes("~")}static isW3cCredential(n){var l;return"@context"in n&&((null===(l=n.type)||void 0===l?void 0:l.includes("VerifiableCredential"))||!1)}static isCredential(n){try{if(c.isJwtEncoded(n)){const l=c.toUniformCredential(n);return c.isW3cCredential(l)}return!!c.isSdJwtEncoded(n)||c.isW3cCredential(n)||c.isSdJwtDecodedCredentialPayload(n)||c.isJwtDecodedCredential(n)||c.isSdJwtDecodedCredential(n)}catch{return!1}}static isPresentation(n){try{if(c.isJwtEncoded(n)){const l=c.toUniformPresentation(n);return c.isW3cPresentation(l)}return!c.isSdJwtEncoded(n)&&(c.isW3cPresentation(n)||c.isSdJwtDecodedCredentialPayload(n)||c.isJwtDecodedPresentation(n)||c.isSdJwtDecodedCredential(n))}catch{return!1}}static hasProof(n){try{return!!(c.isJwtEncoded(n)||c.isJwtDecodedCredential(n)||c.isSdJwtEncoded(n)||c.isSdJwtDecodedCredential(n)||"vc"in n&&n.vc.proof||"vp"in n&&n.vp.proof)||!!n.proof}catch{return!1}}static isW3cPresentation(n){var l;return"@context"in n&&((null===(l=n.type)||void 0===l?void 0:l.includes("VerifiablePresentation"))||!1)}static isSdJwtDecodedCredentialPayload(n){return"vct"in n}static areOriginalVerifiableCredentialsEqual(n,l){return"string"==typeof n||"string"==typeof l?n===l:c.isSdJwtDecodedCredential(n)||c.isSdJwtDecodedCredential(l)?n.compactSdJwtVc===l.compactSdJwtVc:JSON.stringify(l.proof)===JSON.stringify(n.proof)}static isJsonLdAsString(n){return E.ObjectUtils.isString(n)&&n.includes("@context")}static isSdJwtDecodedCredential(n){return void 0!==n.compactSdJwtVc}static isJwtDecodedCredential(n){return void 0!==n.vc&&void 0!==n.iss}static isJwtDecodedPresentation(n){return void 0!==n.vp&&void 0!==n.iss}static jwtEncodedPresentationToUniformPresentation(n,l=!0,s){return c.jwtDecodedPresentationToUniformPresentation((0,A.default)(n),l,s)}static jwtDecodedPresentationToUniformPresentation(n,l=!0,s){const{iss:a,aud:m,jti:p,vp:d}=n,y=h(n,["iss","aud","jti","vp"]),b=Object.assign(Object.assign({},y),d);if(l){if(!d.verifiableCredential)throw Error("Verifiable Presentation should have a verifiable credential at this point");b.verifiableCredential=d.verifiableCredential.map(g=>c.toUniformCredential(g,s))}if(a){const g=b.holder;if(g&&g!==a)throw new Error(`Inconsistent holders between JWT claim (${a}) and VC value (${g})`);b.holder=a}if(m){const g=b.verifier;if(g&&g!==m)throw new Error(`Inconsistent holders between JWT claim (${m}) and VC value (${g})`);b.verifier=m}if(p){const g=b.id;if(g&&g!==p)throw new Error(`Inconsistent VP ids between JWT claim (${p}) and VP value (${g})`);b.id=p}return b}static toUniformCredential(n,l){var s;if(c.isSdJwtDecodedCredential(n))throw new Error("Converting SD-JWT VC to uniform VC is not supported.");const a="string"!=typeof n&&c.hasJWTProofType(n)?null===(s=c.getFirstProof(n))||void 0===s?void 0:s.jwt:n;if(!a)throw Error("Could not determine original credential from passed in credential. Probably because a JWT proof type was present, but now is not available anymore");const m=c.decodeVerifiableCredential(a),p=c.isJwtEncoded(a);return c.isJwtDecodedCredential(a)||p?c.jwtDecodedCredentialToUniformCredential(m,l):m}static toUniformPresentation(n,l){var s;if(c.isSdJwtDecodedCredential(n))throw new Error("Converting SD-JWT VC to uniform VP is not supported.");const a=c.getFirstProof(n),m="string"!=typeof n&&c.hasJWTProofType(n)?a?.jwt:n;if(!m)throw Error("Could not determine original presentation, probably it was a converted JWT presentation, that is now missing the JWT value in the proof");const p=c.decodeVerifiablePresentation(m),d=c.isJwtEncoded(m),y=c.isJwtDecodedPresentation(m),b=d||y?c.jwtDecodedPresentationToUniformPresentation(p,!1):p;return l?.addContextIfMissing&&!b["@context"]&&(b["@context"]=["https://www.w3.org/2018/credentials/v1"]),b.verifiableCredential=null===(s=b.verifiableCredential)||void 0===s?void 0:s.map(g=>c.toUniformCredential(g,l)),b}static jwtEncodedCredentialToUniformCredential(n,l){return c.jwtDecodedCredentialToUniformCredential((0,A.default)(n),l)}static jwtDecodedCredentialToUniformCredential(n,l){var s;const{exp:a,nbf:m,iss:p,vc:d,sub:y,jti:b}=n,g=h(n,["exp","nbf","iss","vc","sub","jti"]),x=Object.assign(Object.assign({},g),d),C=null!==(s=l?.maxTimeSkewInMS)&&void 0!==s?s:1500;if(a){const B=x.expirationDate,F=parseInt(a.toString()),T=F<9999999999?new Date(1e3*F).toISOString().replace(/\.000Z/,"Z"):new Date(F).toISOString();if(B&&B!==T){const z=Math.abs(new Date(T).getTime()-new Date(B).getTime());if(!C||z>C)throw new Error(`Inconsistent expiration dates between JWT claim (${T}) and VC value (${B})`)}x.expirationDate=T}if(m){const B=x.issuanceDate,F=parseInt(m.toString()),T=F<9999999999?new Date(1e3*F).toISOString().replace(/\.000Z/,"Z"):new Date(F).toISOString();if(B&&B!==T){const z=Math.abs(new Date(T).getTime()-new Date(B).getTime());if(!C||z>C)throw new Error(`Inconsistent issuance dates between JWT claim (${T}) and VC value (${B})`)}x.issuanceDate=T}if(p){const B=x.issuer;if(B){if("string"==typeof B){if(B!==p)throw new Error(`Inconsistent issuers between JWT claim (${p}) and VC value (${B})`)}else if(!B.id&&Object.keys(B).length>0&&(B.id=p),B.id!==p)throw new Error(`Inconsistent issuers between JWT claim (${p}) and VC value (${B.id})`)}else x.issuer=p}if(y){const B=Array.isArray(x.credentialSubject)?x.credentialSubject:[x.credentialSubject];for(let F=0;F<B.length;F++){const T=B[F].id;if(T&&T!==y)throw new Error(`Inconsistent credential subject ids between JWT claim (${y}) and VC value (${T})`);Array.isArray(x.credentialSubject)?x.credentialSubject[F].id=y:x.credentialSubject.id=y}}if(b){const B=x.id;if(B&&B!==b)throw new Error(`Inconsistent credential ids between JWT claim (${b}) and VC value (${B})`);x.id=b}return x}static toExternalVerifiableCredential(n){let l;if(n.proof){if(!n.proof.type)throw new Error("Verifiable credential proof is missing a type");if(!n.proof.created)throw new Error("Verifiable credential proof is missing a created date");if(!n.proof.proofPurpose)throw new Error("Verifiable credential proof is missing a proof purpose");if(!n.proof.verificationMethod)throw new Error("Verifiable credential proof is missing a verification method");l=Object.assign(Object.assign({},n.proof),{type:n.proof.type,created:n.proof.created,proofPurpose:n.proof.proofPurpose,verificationMethod:n.proof.verificationMethod})}return Object.assign(Object.assign({},n),{type:n.type?"string"==typeof n.type?[n.type]:n.type:["VerifiableCredential"],proof:l})}static storedCredentialToOriginalFormat(n){const l=c.detectDocumentType(n);if("string"==typeof n){if(0===l)return c.toCompactJWT(n);if(1===l)return JSON.parse(n)}else{if(0===l&&"vc"in n)return c.toCompactJWT(n);if("proof"in n&&"JwtProof2020"===n.proof.type&&n.proof.jwt)return n.proof.jwt}return n}static storedPresentationToOriginalFormat(n){const l=c.detectDocumentType(n);if("string"==typeof n){if(0===l)return c.toCompactJWT(n);if(1===l)return JSON.parse(n)}else{if(0===l&&"vp"in n)return c.toCompactJWT(n);if("proof"in n&&"JwtProof2020"===n.proof.type&&n.proof.jwt)return n.proof.jwt}return n}static toCompactJWT(n){if(!n||0!==c.detectDocumentType(n))throw Error("Cannot convert non JWT credential to JWT");if("string"==typeof n)return n;let l;if(l="vp"in n?"jwt"in n.vp.proof?n.vp.proof.jwt:n.vp.proof:"vc"in n?"jwt"in n.vc.proof?n.vc.proof.jwt:n.vc.proof:Array.isArray(n.proof)?n.proof[0].jwt:n.proof.jwt,!l)throw Error("Could not get JWT from supplied document");return l}static detectDocumentType(n){if(this.isJsonLdAsString(n))return 1;if(this.isJwtEncoded(n))return 0;if(this.isSdJwtEncoded(n)||this.isSdJwtDecodedCredential(n))return 2;const l="vc"in n?n.vc.proof:"vp"in n?n.vp.proof:n.proof,s=Array.isArray(l)?l[0]:l;return s?.jwt?0:"EthereumEip712Signature2021"===s?.type?3:1}static hasJWTProofType(n){var l;return"string"!=typeof n&&!(null===(l=c.getFirstProof(n))||void 0===l||!l.jwt)}static getFirstProof(n){if(!n||"string"==typeof n)return;const l="vc"in n?n.vc.proof:"vp"in n?n.vp.proof:n.proof;return Array.isArray(l)?l[0]:l}}f.CredentialMapper=c,c.isWrappedSdJwtVerifiableCredential=S.isWrappedSdJwtVerifiableCredential,c.isWrappedSdJwtVerifiablePresentation=S.isWrappedSdJwtVerifiablePresentation,c.isWrappedW3CVerifiableCredential=S.isWrappedW3CVerifiableCredential,c.isWrappedW3CVerifiablePresentation=S.isWrappedW3CVerifiablePresentation},54065:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(51236),f),v(i(71561),f)},71561:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.mapLanguageValues=f.mapLanguageValue=f.toLanguageValueObjects=f.toLanguageValueObject=f.isLanguageValueObjects=f.isLanguageValueObject=void 0;const h=i(59433);f.isLanguageValueObject=n=>!(!n||!h.ObjectUtils.isObject(n)||Array.isArray(n)||2!==Object.keys(n).length||!("language"in n)||!n.language||!("value"in n)||!n.value),f.isLanguageValueObjects=n=>!(!n||!Array.isArray(n))&&n.every(l=>(0,f.isLanguageValueObject)(l)),f.toLanguageValueObject=n=>(0,f.isLanguageValueObject)(n)?n:void 0,f.toLanguageValueObjects=n=>(0,f.isLanguageValueObject)(n)?h.ObjectUtils.asArray((0,f.toLanguageValueObject)(n)):(0,f.isLanguageValueObjects)(n)?n:void 0,f.mapLanguageValue=(n,l)=>{const s=(0,f.toLanguageValueObjects)(n);if(Array.isArray(s)){if(0===s.length)return n;const a=s.filter(p=>!l?.language||p.language.toLowerCase().includes(l.language.toLowerCase()));let m;if(a.length>0)m=a[0];else{if(!1===l?.fallbackToFirstObject)return n;m=s[0]}return m.value}return n},f.mapLanguageValues=(n,l)=>{const s=l?.noDeepClone?n:JSON.parse(JSON.stringify(n));return Object.keys(n).forEach(a=>{s[a]=(0,f.mapLanguageValue)(s[a],l),(h.ObjectUtils.isObject(s[a])||Array.isArray(s[a]))&&(s[a]=(0,f.mapLanguageValues)(s[a],Object.assign(Object.assign({},l),{noDeepClone:!0})))}),s}},40528:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.parseDid=f.IProofType=f.IProofPurpose=void 0;var i=function(S){return S.verificationMethod="verificationMethod",S.assertionMethod="assertionMethod",S.authentication="authentication",S.keyAgreement="keyAgreement",S.contractAgreement="contactAgreement",S.capabilityInvocation="capabilityInvocation",S.capabilityDelegation="capabilityDelegation",S}(i||(f.IProofPurpose=i={})),h=function(S){return S.Ed25519Signature2018="Ed25519Signature2018",S.Ed25519Signature2020="Ed25519Signature2020",S.EcdsaSecp256k1Signature2019="EcdsaSecp256k1Signature2019",S.EcdsaSecp256k1RecoverySignature2020="EcdsaSecp256k1RecoverySignature2020",S.JsonWebSignature2020="JsonWebSignature2020",S.RsaSignature2018="RsaSignature2018",S.GpgSignature2020="GpgSignature2020",S.JcsEd25519Signature2020="JcsEd25519Signature2020",S.BbsBlsSignatureProof2020="BbsBlsSignatureProof2020",S.BbsBlsBoundSignatureProof2020="BbsBlsBoundSignatureProof2020",S.JwtProof2020="JwtProof2020",S}(h||(f.IProofType=h={}));f.parseDid=S=>{const E=A(S);if(null===E)throw new Error("invalid did");return E};const A=S=>{const c="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",l="[a-zA-Z0-9_.:%-]",y=new RegExp(`^did:([a-z0-9]+):((?:${c}*:)*(${c}+))((;${l}+=${l}*)*)(/[^#?]*)?([?][^#]*)?(#.*)?$`);if(""===S||!S)return null;const b=S.match(y);if(b){const g={did:`did:${b[1]}:${b[2]}`,method:b[1],id:b[2],didUrl:S};if(b[4]){const x=b[4].slice(1).split(";");g.params={};for(const C of x){const B=C.split("=");g.params[B[0]]=B[1]}}return b[6]&&(g.path=b[6]),b[7]&&(g.query=b[7].slice(1)),b[8]&&(g.fragment=b[8].slice(1)),g}return null}},5940:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},76533:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(40528),f),v(i(30988),f),v(i(69922),f),v(i(5940),f),v(i(86548),f),v(i(66996),f)},30988:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0})},86548:function(Y,f,i){"use strict";var h=this&&this.__awaiter||function(u,n,l,s){return new(l||(l=Promise))(function(m,p){function d(g){try{b(s.next(g))}catch(x){p(x)}}function y(g){try{b(s.throw(g))}catch(x){p(x)}}function b(g){g.done?m(g.value):function a(m){return m instanceof l?m:new l(function(p){p(m)})}(g.value).then(d,y)}b((s=s.apply(u,n||[])).next())})};Object.defineProperty(f,"__esModule",{value:!0}),f.decodeSdJwtVcAsync=f.decodeSdJwtVc=f.isWrappedSdJwtVerifiablePresentation=f.isWrappedSdJwtVerifiableCredential=void 0;const v=i(15315);f.isWrappedSdJwtVerifiableCredential=function A(u){return"vc+sd-jwt"===u.format},f.isWrappedSdJwtVerifiablePresentation=function S(u){return"vc+sd-jwt"===u.format},f.decodeSdJwtVc=function E(u,n){const{jwt:l,disclosures:s}=(0,v.decodeSdJwtSync)(u,n),a=l.payload;return{compactSdJwtVc:u,decodedPayload:(0,v.getClaimsSync)(a,s,n),disclosures:s.map(p=>{const d=p.key?[p.salt,p.key,p.value]:[p.salt,p.value];if(!p._digest)throw new Error("Implementation error: digest not present in disclosure");return{decoded:d,digest:p._digest,encoded:p.encode()}}),signedPayload:a}},f.decodeSdJwtVcAsync=function c(u,n){return h(this,void 0,void 0,function*(){const{jwt:l,disclosures:s}=yield(0,v.decodeSdJwt)(u,n),a=l.payload,m=yield(0,v.getClaims)(a,s,n);return{compactSdJwtVc:u,decodedPayload:m,disclosures:s.map(p=>{const d=p.key?[p.salt,p.key,p.value]:[p.salt,p.value];if(!p._digest)throw new Error("Implementation error: digest not present in disclosure");return{decoded:d,digest:p._digest,encoded:p.encode()}}),signedPayload:a}})}},69922:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.DocumentFormat=f.OriginalType=void 0;var i=function(v){return v.JSONLD="json-ld",v.JWT_ENCODED="jwt-encoded",v.JWT_DECODED="jwt-decoded",v.SD_JWT_VC_ENCODED="sd-jwt-vc-encoded",v.SD_JWT_VC_DECODED="sd-jwt-vc-decoded",v}(i||(f.OriginalType=i={})),h=function(v){return v[v.JWT=0]="JWT",v[v.JSONLD=1]="JSONLD",v[v.SD_JWT_VC=2]="SD_JWT_VC",v[v.EIP712=3]="EIP712",v}(h||(f.DocumentFormat=h={}))},66996:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.isWrappedW3CVerifiablePresentation=f.isWrappedW3CVerifiableCredential=f.StatusListDriverType=f.StatusListCredentialIdMode=f.StatusListType=f.JWT_PROOF_TYPE_2020=void 0,f.JWT_PROOF_TYPE_2020="JwtProof2020";var i=function(E){return E.StatusList2021="StatusList2021",E}(i||(f.StatusListType=i={})),h=function(E){return E.ISSUANCE="ISSUANCE",E.PERSISTENCE="PERSISTENCE",E.NEVER="NEVER",E}(h||(f.StatusListCredentialIdMode=h={})),v=function(E){return E.AGENT_TYPEORM="agent_typeorm",E.AGENT_KV_STORE="agent_kv_store",E.GITHUB="github",E.AGENT_FILESYSTEM="agent_filesystem",E}(v||(f.StatusListDriverType=v={}));f.isWrappedW3CVerifiableCredential=function A(E){return"jwt_vc"===E.format||"ldp_vc"===E.format},f.isWrappedW3CVerifiablePresentation=function S(E){return"jwt_vp"===E.format||"ldp_vp"===E.format}},59433:function(Y,f,i){"use strict";var h=this&&this.__createBinding||(Object.create?function(A,S,E,c){void 0===c&&(c=E);var u=Object.getOwnPropertyDescriptor(S,E);(!u||("get"in u?!S.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return S[E]}}),Object.defineProperty(A,c,u)}:function(A,S,E,c){void 0===c&&(c=E),A[c]=S[E]}),v=this&&this.__exportStar||function(A,S){for(var E in A)"default"!==E&&!Object.prototype.hasOwnProperty.call(S,E)&&h(S,A,E)};Object.defineProperty(f,"__esModule",{value:!0}),v(i(24418),f)},24418:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ObjectUtils=void 0;class i{static asArray(v){return Array.isArray(v)?v:[v]}static isObject(v){return"object"==typeof v||"[object Object]"===Object.prototype.toString.call(v)}static isUrlAbsolute(v){i.isString(v)&&/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/.test(v)}static isString(v){return"string"==typeof v||"[object String]"===Object.prototype.toString.call(v)}}f.ObjectUtils=i},64311:(Y,f,i)=>{i(23963)},86166:(Y,f,i)=>{"use strict";const h=i(13981),v=i(22020),A="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;f.Buffer=u,f.SlowBuffer=function x(ee){return+ee!=ee&&(ee=0),u.alloc(+ee)},f.INSPECT_MAX_BYTES=50;const S=2147483647;function c(ee){if(ee>S)throw new RangeError('The value "'+ee+'" is invalid for option "size"');const N=new Uint8Array(ee);return Object.setPrototypeOf(N,u.prototype),N}function u(ee,N,P){if("number"==typeof ee){if("string"==typeof N)throw new TypeError('The "string" argument must be of type string. Received type number');return a(ee)}return n(ee,N,P)}function n(ee,N,P){if("string"==typeof ee)return function m(ee,N){if(("string"!=typeof N||""===N)&&(N="utf8"),!u.isEncoding(N))throw new TypeError("Unknown encoding: "+N);const P=0|C(ee,N);let G=c(P);const Ee=G.write(ee,N);return Ee!==P&&(G=G.slice(0,Ee)),G}(ee,N);if(ArrayBuffer.isView(ee))return function d(ee){if(Re(ee,Uint8Array)){const N=new Uint8Array(ee);return y(N.buffer,N.byteOffset,N.byteLength)}return p(ee)}(ee);if(null==ee)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(Re(ee,ArrayBuffer)||ee&&Re(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Re(ee,SharedArrayBuffer)||ee&&Re(ee.buffer,SharedArrayBuffer)))return y(ee,N,P);if("number"==typeof ee)throw new TypeError('The "value" argument must not be of type number. Received type number');const G=ee.valueOf&&ee.valueOf();if(null!=G&&G!==ee)return u.from(G,N,P);const Ee=function b(ee){if(u.isBuffer(ee)){const N=0|g(ee.length),P=c(N);return 0===P.length||ee.copy(P,0,0,N),P}return void 0!==ee.length?"number"!=typeof ee.length||Xe(ee.length)?c(0):p(ee):"Buffer"===ee.type&&Array.isArray(ee.data)?p(ee.data):void 0}(ee);if(Ee)return Ee;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ee[Symbol.toPrimitive])return u.from(ee[Symbol.toPrimitive]("string"),N,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}function l(ee){if("number"!=typeof ee)throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function a(ee){return l(ee),c(ee<0?0:0|g(ee))}function p(ee){const N=ee.length<0?0:0|g(ee.length),P=c(N);for(let G=0;G<N;G+=1)P[G]=255&ee[G];return P}function y(ee,N,P){if(N<0||ee.byteLength<N)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<N+(P||0))throw new RangeError('"length" is outside of buffer bounds');let G;return G=void 0===N&&void 0===P?new Uint8Array(ee):void 0===P?new Uint8Array(ee,N):new Uint8Array(ee,N,P),Object.setPrototypeOf(G,u.prototype),G}function g(ee){if(ee>=S)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+S.toString(16)+" bytes");return 0|ee}function C(ee,N){if(u.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||Re(ee,ArrayBuffer))return ee.byteLength;if("string"!=typeof ee)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);const P=ee.length,G=arguments.length>2&&!0===arguments[2];if(!G&&0===P)return 0;let Ee=!1;for(;;)switch(N){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return De(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*P;case"hex":return P>>>1;case"base64":return $e(ee).length;default:if(Ee)return G?-1:De(ee).length;N=(""+N).toLowerCase(),Ee=!0}}function B(ee,N,P){let G=!1;if((void 0===N||N<0)&&(N=0),N>this.length||((void 0===P||P>this.length)&&(P=this.length),P<=0)||(P>>>=0)<=(N>>>=0))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return be(this,N,P);case"utf8":case"utf-8":return W(this,N,P);case"ascii":return X(this,N,P);case"latin1":case"binary":return oe(this,N,P);case"base64":return Z(this,N,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,N,P);default:if(G)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),G=!0}}function F(ee,N,P){const G=ee[N];ee[N]=ee[P],ee[P]=G}function T(ee,N,P,G,Ee){if(0===ee.length)return-1;if("string"==typeof P?(G=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),Xe(P=+P)&&(P=Ee?0:ee.length-1),P<0&&(P=ee.length+P),P>=ee.length){if(Ee)return-1;P=ee.length-1}else if(P<0){if(!Ee)return-1;P=0}if("string"==typeof N&&(N=u.from(N,G)),u.isBuffer(N))return 0===N.length?-1:z(ee,N,P,G,Ee);if("number"==typeof N)return N&=255,"function"==typeof Uint8Array.prototype.indexOf?Ee?Uint8Array.prototype.indexOf.call(ee,N,P):Uint8Array.prototype.lastIndexOf.call(ee,N,P):z(ee,[N],P,G,Ee);throw new TypeError("val must be string, number or Buffer")}function z(ee,N,P,G,Ee){let st,Ce=1,Te=ee.length,Fe=N.length;if(void 0!==G&&("ucs2"===(G=String(G).toLowerCase())||"ucs-2"===G||"utf16le"===G||"utf-16le"===G)){if(ee.length<2||N.length<2)return-1;Ce=2,Te/=2,Fe/=2,P/=2}function Be(dt,et){return 1===Ce?dt[et]:dt.readUInt16BE(et*Ce)}if(Ee){let dt=-1;for(st=P;st<Te;st++)if(Be(ee,st)===Be(N,-1===dt?0:st-dt)){if(-1===dt&&(dt=st),st-dt+1===Fe)return dt*Ce}else-1!==dt&&(st-=st-dt),dt=-1}else for(P+Fe>Te&&(P=Te-Fe),st=P;st>=0;st--){let dt=!0;for(let et=0;et<Fe;et++)if(Be(ee,st+et)!==Be(N,et)){dt=!1;break}if(dt)return st}return-1}function re(ee,N,P,G){P=Number(P)||0;const Ee=ee.length-P;G?(G=Number(G))>Ee&&(G=Ee):G=Ee;const Ce=N.length;let Te;for(G>Ce/2&&(G=Ce/2),Te=0;Te<G;++Te){const Fe=parseInt(N.substr(2*Te,2),16);if(Xe(Fe))return Te;ee[P+Te]=Fe}return Te}function ie(ee,N,P,G){return Ue(De(N,ee.length-P),ee,P,G)}function O(ee,N,P,G){return Ue(function je(ee){const N=[];for(let P=0;P<ee.length;++P)N.push(255&ee.charCodeAt(P));return N}(N),ee,P,G)}function J(ee,N,P,G){return Ue($e(N),ee,P,G)}function k(ee,N,P,G){return Ue(function xe(ee,N){let P,G,Ee;const Ce=[];for(let Te=0;Te<ee.length&&!((N-=2)<0);++Te)P=ee.charCodeAt(Te),G=P>>8,Ee=P%256,Ce.push(Ee),Ce.push(G);return Ce}(N,ee.length-P),ee,P,G)}function Z(ee,N,P){return h.fromByteArray(0===N&&P===ee.length?ee:ee.slice(N,P))}function W(ee,N,P){P=Math.min(ee.length,P);const G=[];let Ee=N;for(;Ee<P;){const Ce=ee[Ee];let Te=null,Fe=Ce>239?4:Ce>223?3:Ce>191?2:1;if(Ee+Fe<=P){let Be,st,dt,et;switch(Fe){case 1:Ce<128&&(Te=Ce);break;case 2:Be=ee[Ee+1],128==(192&Be)&&(et=(31&Ce)<<6|63&Be,et>127&&(Te=et));break;case 3:Be=ee[Ee+1],st=ee[Ee+2],128==(192&Be)&&128==(192&st)&&(et=(15&Ce)<<12|(63&Be)<<6|63&st,et>2047&&(et<55296||et>57343)&&(Te=et));break;case 4:Be=ee[Ee+1],st=ee[Ee+2],dt=ee[Ee+3],128==(192&Be)&&128==(192&st)&&128==(192&dt)&&(et=(15&Ce)<<18|(63&Be)<<12|(63&st)<<6|63&dt,et>65535&&et<1114112&&(Te=et))}}null===Te?(Te=65533,Fe=1):Te>65535&&(Te-=65536,G.push(Te>>>10&1023|55296),Te=56320|1023&Te),G.push(Te),Ee+=Fe}return function R(ee){const N=ee.length;if(N<=pe)return String.fromCharCode.apply(String,ee);let P="",G=0;for(;G<N;)P+=String.fromCharCode.apply(String,ee.slice(G,G+=pe));return P}(G)}f.kMaxLength=S,!(u.TYPED_ARRAY_SUPPORT=function E(){try{const ee=new Uint8Array(1),N={foo:function(){return 42}};return Object.setPrototypeOf(N,Uint8Array.prototype),Object.setPrototypeOf(ee,N),42===ee.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(ee,N,P){return n(ee,N,P)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(ee,N,P){return function s(ee,N,P){return l(ee),ee<=0?c(ee):void 0!==N?"string"==typeof P?c(ee).fill(N,P):c(ee).fill(N):c(ee)}(ee,N,P)},u.allocUnsafe=function(ee){return a(ee)},u.allocUnsafeSlow=function(ee){return a(ee)},u.isBuffer=function(N){return null!=N&&!0===N._isBuffer&&N!==u.prototype},u.compare=function(N,P){if(Re(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),Re(P,Uint8Array)&&(P=u.from(P,P.offset,P.byteLength)),!u.isBuffer(N)||!u.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===P)return 0;let G=N.length,Ee=P.length;for(let Ce=0,Te=Math.min(G,Ee);Ce<Te;++Ce)if(N[Ce]!==P[Ce]){G=N[Ce],Ee=P[Ce];break}return G<Ee?-1:Ee<G?1:0},u.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(N,P){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(0===N.length)return u.alloc(0);let G;if(void 0===P)for(P=0,G=0;G<N.length;++G)P+=N[G].length;const Ee=u.allocUnsafe(P);let Ce=0;for(G=0;G<N.length;++G){let Te=N[G];if(Re(Te,Uint8Array))Ce+Te.length>Ee.length?(u.isBuffer(Te)||(Te=u.from(Te)),Te.copy(Ee,Ce)):Uint8Array.prototype.set.call(Ee,Te,Ce);else{if(!u.isBuffer(Te))throw new TypeError('"list" argument must be an Array of Buffers');Te.copy(Ee,Ce)}Ce+=Te.length}return Ee},u.byteLength=C,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let P=0;P<N;P+=2)F(this,P,P+1);return this},u.prototype.swap32=function(){const N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let P=0;P<N;P+=4)F(this,P,P+3),F(this,P+1,P+2);return this},u.prototype.swap64=function(){const N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let P=0;P<N;P+=8)F(this,P,P+7),F(this,P+1,P+6),F(this,P+2,P+5),F(this,P+3,P+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){const N=this.length;return 0===N?"":0===arguments.length?W(this,0,N):B.apply(this,arguments)},u.prototype.equals=function(N){if(!u.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N||0===u.compare(this,N)},u.prototype.inspect=function(){let N="";const P=f.INSPECT_MAX_BYTES;return N=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(N+=" ... "),"<Buffer "+N+">"},A&&(u.prototype[A]=u.prototype.inspect),u.prototype.compare=function(N,P,G,Ee,Ce){if(Re(N,Uint8Array)&&(N=u.from(N,N.offset,N.byteLength)),!u.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(void 0===P&&(P=0),void 0===G&&(G=N?N.length:0),void 0===Ee&&(Ee=0),void 0===Ce&&(Ce=this.length),P<0||G>N.length||Ee<0||Ce>this.length)throw new RangeError("out of range index");if(Ee>=Ce&&P>=G)return 0;if(Ee>=Ce)return-1;if(P>=G)return 1;if(this===N)return 0;let Te=(Ce>>>=0)-(Ee>>>=0),Fe=(G>>>=0)-(P>>>=0);const Be=Math.min(Te,Fe),st=this.slice(Ee,Ce),dt=N.slice(P,G);for(let et=0;et<Be;++et)if(st[et]!==dt[et]){Te=st[et],Fe=dt[et];break}return Te<Fe?-1:Fe<Te?1:0},u.prototype.includes=function(N,P,G){return-1!==this.indexOf(N,P,G)},u.prototype.indexOf=function(N,P,G){return T(this,N,P,G,!0)},u.prototype.lastIndexOf=function(N,P,G){return T(this,N,P,G,!1)},u.prototype.write=function(N,P,G,Ee){if(void 0===P)Ee="utf8",G=this.length,P=0;else if(void 0===G&&"string"==typeof P)Ee=P,G=this.length,P=0;else{if(!isFinite(P))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");P>>>=0,isFinite(G)?(G>>>=0,void 0===Ee&&(Ee="utf8")):(Ee=G,G=void 0)}const Ce=this.length-P;if((void 0===G||G>Ce)&&(G=Ce),N.length>0&&(G<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let Te=!1;for(;;)switch(Ee){case"hex":return re(this,N,P,G);case"utf8":case"utf-8":return ie(this,N,P,G);case"ascii":case"latin1":case"binary":return O(this,N,P,G);case"base64":return J(this,N,P,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,N,P,G);default:if(Te)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Te=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const pe=4096;function X(ee,N,P){let G="";P=Math.min(ee.length,P);for(let Ee=N;Ee<P;++Ee)G+=String.fromCharCode(127&ee[Ee]);return G}function oe(ee,N,P){let G="";P=Math.min(ee.length,P);for(let Ee=N;Ee<P;++Ee)G+=String.fromCharCode(ee[Ee]);return G}function be(ee,N,P){const G=ee.length;(!N||N<0)&&(N=0),(!P||P<0||P>G)&&(P=G);let Ee="";for(let Ce=N;Ce<P;++Ce)Ee+=ze[ee[Ce]];return Ee}function Ie(ee,N,P){const G=ee.slice(N,P);let Ee="";for(let Ce=0;Ce<G.length-1;Ce+=2)Ee+=String.fromCharCode(G[Ce]+256*G[Ce+1]);return Ee}function w(ee,N,P){if(ee%1!=0||ee<0)throw new RangeError("offset is not uint");if(ee+N>P)throw new RangeError("Trying to access beyond buffer length")}function I(ee,N,P,G,Ee,Ce){if(!u.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>Ee||N<Ce)throw new RangeError('"value" argument is out of bounds');if(P+G>ee.length)throw new RangeError("Index out of range")}function V(ee,N,P,G,Ee){Pe(N,G,Ee,ee,P,7);let Ce=Number(N&BigInt(4294967295));ee[P++]=Ce,Ce>>=8,ee[P++]=Ce,Ce>>=8,ee[P++]=Ce,Ce>>=8,ee[P++]=Ce;let Te=Number(N>>BigInt(32)&BigInt(4294967295));return ee[P++]=Te,Te>>=8,ee[P++]=Te,Te>>=8,ee[P++]=Te,Te>>=8,ee[P++]=Te,P}function M(ee,N,P,G,Ee){Pe(N,G,Ee,ee,P,7);let Ce=Number(N&BigInt(4294967295));ee[P+7]=Ce,Ce>>=8,ee[P+6]=Ce,Ce>>=8,ee[P+5]=Ce,Ce>>=8,ee[P+4]=Ce;let Te=Number(N>>BigInt(32)&BigInt(4294967295));return ee[P+3]=Te,Te>>=8,ee[P+2]=Te,Te>>=8,ee[P+1]=Te,Te>>=8,ee[P]=Te,P+8}function Q(ee,N,P,G,Ee,Ce){if(P+G>ee.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function ue(ee,N,P,G,Ee){return N=+N,P>>>=0,Ee||Q(ee,0,P,4),v.write(ee,N,P,G,23,4),P+4}function de(ee,N,P,G,Ee){return N=+N,P>>>=0,Ee||Q(ee,0,P,8),v.write(ee,N,P,G,52,8),P+8}u.prototype.slice=function(N,P){const G=this.length;(N=~~N)<0?(N+=G)<0&&(N=0):N>G&&(N=G),(P=void 0===P?G:~~P)<0?(P+=G)<0&&(P=0):P>G&&(P=G),P<N&&(P=N);const Ee=this.subarray(N,P);return Object.setPrototypeOf(Ee,u.prototype),Ee},u.prototype.readUintLE=u.prototype.readUIntLE=function(N,P,G){N>>>=0,P>>>=0,G||w(N,P,this.length);let Ee=this[N],Ce=1,Te=0;for(;++Te<P&&(Ce*=256);)Ee+=this[N+Te]*Ce;return Ee},u.prototype.readUintBE=u.prototype.readUIntBE=function(N,P,G){N>>>=0,P>>>=0,G||w(N,P,this.length);let Ee=this[N+--P],Ce=1;for(;P>0&&(Ce*=256);)Ee+=this[N+--P]*Ce;return Ee},u.prototype.readUint8=u.prototype.readUInt8=function(N,P){return N>>>=0,P||w(N,1,this.length),this[N]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(N,P){return N>>>=0,P||w(N,2,this.length),this[N]|this[N+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(N,P){return N>>>=0,P||w(N,2,this.length),this[N]<<8|this[N+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(N,P){return N>>>=0,P||w(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+16777216*this[N+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(N,P){return N>>>=0,P||w(N,4,this.length),16777216*this[N]+(this[N+1]<<16|this[N+2]<<8|this[N+3])},u.prototype.readBigUInt64LE=We(function(N){Oe(N>>>=0,"offset");const P=this[N],G=this[N+7];(void 0===P||void 0===G)&&he(N,this.length-8);const Ee=P+256*this[++N]+65536*this[++N]+this[++N]*2**24,Ce=this[++N]+256*this[++N]+65536*this[++N]+G*2**24;return BigInt(Ee)+(BigInt(Ce)<<BigInt(32))}),u.prototype.readBigUInt64BE=We(function(N){Oe(N>>>=0,"offset");const P=this[N],G=this[N+7];(void 0===P||void 0===G)&&he(N,this.length-8);const Ee=P*2**24+65536*this[++N]+256*this[++N]+this[++N],Ce=this[++N]*2**24+65536*this[++N]+256*this[++N]+G;return(BigInt(Ee)<<BigInt(32))+BigInt(Ce)}),u.prototype.readIntLE=function(N,P,G){N>>>=0,P>>>=0,G||w(N,P,this.length);let Ee=this[N],Ce=1,Te=0;for(;++Te<P&&(Ce*=256);)Ee+=this[N+Te]*Ce;return Ce*=128,Ee>=Ce&&(Ee-=Math.pow(2,8*P)),Ee},u.prototype.readIntBE=function(N,P,G){N>>>=0,P>>>=0,G||w(N,P,this.length);let Ee=P,Ce=1,Te=this[N+--Ee];for(;Ee>0&&(Ce*=256);)Te+=this[N+--Ee]*Ce;return Ce*=128,Te>=Ce&&(Te-=Math.pow(2,8*P)),Te},u.prototype.readInt8=function(N,P){return N>>>=0,P||w(N,1,this.length),128&this[N]?-1*(255-this[N]+1):this[N]},u.prototype.readInt16LE=function(N,P){N>>>=0,P||w(N,2,this.length);const G=this[N]|this[N+1]<<8;return 32768&G?4294901760|G:G},u.prototype.readInt16BE=function(N,P){N>>>=0,P||w(N,2,this.length);const G=this[N+1]|this[N]<<8;return 32768&G?4294901760|G:G},u.prototype.readInt32LE=function(N,P){return N>>>=0,P||w(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},u.prototype.readInt32BE=function(N,P){return N>>>=0,P||w(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},u.prototype.readBigInt64LE=We(function(N){Oe(N>>>=0,"offset");const P=this[N],G=this[N+7];return(void 0===P||void 0===G)&&he(N,this.length-8),(BigInt(this[N+4]+256*this[N+5]+65536*this[N+6]+(G<<24))<<BigInt(32))+BigInt(P+256*this[++N]+65536*this[++N]+this[++N]*2**24)}),u.prototype.readBigInt64BE=We(function(N){Oe(N>>>=0,"offset");const P=this[N],G=this[N+7];(void 0===P||void 0===G)&&he(N,this.length-8);const Ee=(P<<24)+65536*this[++N]+256*this[++N]+this[++N];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++N]*2**24+65536*this[++N]+256*this[++N]+G)}),u.prototype.readFloatLE=function(N,P){return N>>>=0,P||w(N,4,this.length),v.read(this,N,!0,23,4)},u.prototype.readFloatBE=function(N,P){return N>>>=0,P||w(N,4,this.length),v.read(this,N,!1,23,4)},u.prototype.readDoubleLE=function(N,P){return N>>>=0,P||w(N,8,this.length),v.read(this,N,!0,52,8)},u.prototype.readDoubleBE=function(N,P){return N>>>=0,P||w(N,8,this.length),v.read(this,N,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(N,P,G,Ee){N=+N,P>>>=0,G>>>=0,Ee||I(this,N,P,G,Math.pow(2,8*G)-1,0);let Ce=1,Te=0;for(this[P]=255&N;++Te<G&&(Ce*=256);)this[P+Te]=N/Ce&255;return P+G},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(N,P,G,Ee){N=+N,P>>>=0,G>>>=0,Ee||I(this,N,P,G,Math.pow(2,8*G)-1,0);let Ce=G-1,Te=1;for(this[P+Ce]=255&N;--Ce>=0&&(Te*=256);)this[P+Ce]=N/Te&255;return P+G},u.prototype.writeUint8=u.prototype.writeUInt8=function(N,P,G){return N=+N,P>>>=0,G||I(this,N,P,1,255,0),this[P]=255&N,P+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(N,P,G){return N=+N,P>>>=0,G||I(this,N,P,2,65535,0),this[P]=255&N,this[P+1]=N>>>8,P+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(N,P,G){return N=+N,P>>>=0,G||I(this,N,P,2,65535,0),this[P]=N>>>8,this[P+1]=255&N,P+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(N,P,G){return N=+N,P>>>=0,G||I(this,N,P,4,4294967295,0),this[P+3]=N>>>24,this[P+2]=N>>>16,this[P+1]=N>>>8,this[P]=255&N,P+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(N,P,G){return N=+N,P>>>=0,G||I(this,N,P,4,4294967295,0),this[P]=N>>>24,this[P+1]=N>>>16,this[P+2]=N>>>8,this[P+3]=255&N,P+4},u.prototype.writeBigUInt64LE=We(function(N,P=0){return V(this,N,P,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=We(function(N,P=0){return M(this,N,P,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(N,P,G,Ee){if(N=+N,P>>>=0,!Ee){const Be=Math.pow(2,8*G-1);I(this,N,P,G,Be-1,-Be)}let Ce=0,Te=1,Fe=0;for(this[P]=255&N;++Ce<G&&(Te*=256);)N<0&&0===Fe&&0!==this[P+Ce-1]&&(Fe=1),this[P+Ce]=(N/Te|0)-Fe&255;return P+G},u.prototype.writeIntBE=function(N,P,G,Ee){if(N=+N,P>>>=0,!Ee){const Be=Math.pow(2,8*G-1);I(this,N,P,G,Be-1,-Be)}let Ce=G-1,Te=1,Fe=0;for(this[P+Ce]=255&N;--Ce>=0&&(Te*=256);)N<0&&0===Fe&&0!==this[P+Ce+1]&&(Fe=1),this[P+Ce]=(N/Te|0)-Fe&255;return P+G},u.prototype.writeInt8=function(N,P,G){return N=+N,P>>>=0,G||I(this,N,P,1,127,-128),N<0&&(N=255+N+1),this[P]=255&N,P+1},u.prototype.writeInt16LE=function(N,P,G){return N=+N,P>>>=0,G||I(this,N,P,2,32767,-32768),this[P]=255&N,this[P+1]=N>>>8,P+2},u.prototype.writeInt16BE=function(N,P,G){return N=+N,P>>>=0,G||I(this,N,P,2,32767,-32768),this[P]=N>>>8,this[P+1]=255&N,P+2},u.prototype.writeInt32LE=function(N,P,G){return N=+N,P>>>=0,G||I(this,N,P,4,2147483647,-2147483648),this[P]=255&N,this[P+1]=N>>>8,this[P+2]=N>>>16,this[P+3]=N>>>24,P+4},u.prototype.writeInt32BE=function(N,P,G){return N=+N,P>>>=0,G||I(this,N,P,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[P]=N>>>24,this[P+1]=N>>>16,this[P+2]=N>>>8,this[P+3]=255&N,P+4},u.prototype.writeBigInt64LE=We(function(N,P=0){return V(this,N,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=We(function(N,P=0){return M(this,N,P,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(N,P,G){return ue(this,N,P,!0,G)},u.prototype.writeFloatBE=function(N,P,G){return ue(this,N,P,!1,G)},u.prototype.writeDoubleLE=function(N,P,G){return de(this,N,P,!0,G)},u.prototype.writeDoubleBE=function(N,P,G){return de(this,N,P,!1,G)},u.prototype.copy=function(N,P,G,Ee){if(!u.isBuffer(N))throw new TypeError("argument should be a Buffer");if(G||(G=0),!Ee&&0!==Ee&&(Ee=this.length),P>=N.length&&(P=N.length),P||(P=0),Ee>0&&Ee<G&&(Ee=G),Ee===G||0===N.length||0===this.length)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),N.length-P<Ee-G&&(Ee=N.length-P+G);const Ce=Ee-G;return this===N&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(P,G,Ee):Uint8Array.prototype.set.call(N,this.subarray(G,Ee),P),Ce},u.prototype.fill=function(N,P,G,Ee){if("string"==typeof N){if("string"==typeof P?(Ee=P,P=0,G=this.length):"string"==typeof G&&(Ee=G,G=this.length),void 0!==Ee&&"string"!=typeof Ee)throw new TypeError("encoding must be a string");if("string"==typeof Ee&&!u.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(1===N.length){const Te=N.charCodeAt(0);("utf8"===Ee&&Te<128||"latin1"===Ee)&&(N=Te)}}else"number"==typeof N?N&=255:"boolean"==typeof N&&(N=Number(N));if(P<0||this.length<P||this.length<G)throw new RangeError("Out of range index");if(G<=P)return this;let Ce;if(P>>>=0,G=void 0===G?this.length:G>>>0,N||(N=0),"number"==typeof N)for(Ce=P;Ce<G;++Ce)this[Ce]=N;else{const Te=u.isBuffer(N)?N:u.from(N,Ee),Fe=Te.length;if(0===Fe)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(Ce=0;Ce<G-P;++Ce)this[Ce+P]=Te[Ce%Fe]}return this};const we={};function fe(ee,N,P){we[ee]=class extends P{constructor(){super(),Object.defineProperty(this,"message",{value:N.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ee}]`,delete this.name}get code(){return ee}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${ee}]: ${this.message}`}}}function _e(ee){let N="",P=ee.length;const G="-"===ee[0]?1:0;for(;P>=G+4;P-=3)N=`_${ee.slice(P-3,P)}${N}`;return`${ee.slice(0,P)}${N}`}function Pe(ee,N,P,G,Ee,Ce){if(ee>P||ee<N){const Te="bigint"==typeof N?"n":"";let Fe;throw Fe=Ce>3?0===N||N===BigInt(0)?`>= 0${Te} and < 2${Te} ** ${8*(Ce+1)}${Te}`:`>= -(2${Te} ** ${8*(Ce+1)-1}${Te}) and < 2 ** ${8*(Ce+1)-1}${Te}`:`>= ${N}${Te} and <= ${P}${Te}`,new we.ERR_OUT_OF_RANGE("value",Fe,ee)}!function He(ee,N,P){Oe(N,"offset"),(void 0===ee[N]||void 0===ee[N+P])&&he(N,ee.length-(P+1))}(G,Ee,Ce)}function Oe(ee,N){if("number"!=typeof ee)throw new we.ERR_INVALID_ARG_TYPE(N,"number",ee)}function he(ee,N,P){throw Math.floor(ee)!==ee?(Oe(ee,P),new we.ERR_OUT_OF_RANGE(P||"offset","an integer",ee)):N<0?new we.ERR_BUFFER_OUT_OF_BOUNDS:new we.ERR_OUT_OF_RANGE(P||"offset",`>= ${P?1:0} and <= ${N}`,ee)}fe("ERR_BUFFER_OUT_OF_BOUNDS",function(ee){return ee?`${ee} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),fe("ERR_INVALID_ARG_TYPE",function(ee,N){return`The "${ee}" argument must be of type number. Received type ${typeof N}`},TypeError),fe("ERR_OUT_OF_RANGE",function(ee,N,P){let G=`The value of "${ee}" is out of range.`,Ee=P;return Number.isInteger(P)&&Math.abs(P)>2**32?Ee=_e(String(P)):"bigint"==typeof P&&(Ee=String(P),(P>BigInt(2)**BigInt(32)||P<-(BigInt(2)**BigInt(32)))&&(Ee=_e(Ee)),Ee+="n"),G+=` It must be ${N}. Received ${Ee}`,G},RangeError);const ve=/[^+/0-9A-Za-z-_]/g;function De(ee,N){let P;N=N||1/0;const G=ee.length;let Ee=null;const Ce=[];for(let Te=0;Te<G;++Te){if(P=ee.charCodeAt(Te),P>55295&&P<57344){if(!Ee){if(P>56319){(N-=3)>-1&&Ce.push(239,191,189);continue}if(Te+1===G){(N-=3)>-1&&Ce.push(239,191,189);continue}Ee=P;continue}if(P<56320){(N-=3)>-1&&Ce.push(239,191,189),Ee=P;continue}P=65536+(Ee-55296<<10|P-56320)}else Ee&&(N-=3)>-1&&Ce.push(239,191,189);if(Ee=null,P<128){if((N-=1)<0)break;Ce.push(P)}else if(P<2048){if((N-=2)<0)break;Ce.push(P>>6|192,63&P|128)}else if(P<65536){if((N-=3)<0)break;Ce.push(P>>12|224,P>>6&63|128,63&P|128)}else{if(!(P<1114112))throw new Error("Invalid code point");if((N-=4)<0)break;Ce.push(P>>18|240,P>>12&63|128,P>>6&63|128,63&P|128)}}return Ce}function $e(ee){return h.toByteArray(function ye(ee){if((ee=(ee=ee.split("=")[0]).trim().replace(ve,"")).length<2)return"";for(;ee.length%4!=0;)ee+="=";return ee}(ee))}function Ue(ee,N,P,G){let Ee;for(Ee=0;Ee<G&&!(Ee+P>=N.length||Ee>=ee.length);++Ee)N[Ee+P]=ee[Ee];return Ee}function Re(ee,N){return ee instanceof N||null!=ee&&null!=ee.constructor&&null!=ee.constructor.name&&ee.constructor.name===N.name}function Xe(ee){return ee!=ee}const ze=function(){const ee="0123456789abcdef",N=new Array(256);for(let P=0;P<16;++P){const G=16*P;for(let Ee=0;Ee<16;++Ee)N[G+Ee]=ee[P]+ee[Ee]}return N}();function We(ee){return typeof BigInt>"u"?it:ee}function it(){throw new Error("BigInt not supported")}},51818:(Y,f,i)=>{i(23963)},9236:Y=>{var f=1e3,i=60*f,h=60*i,v=24*h,A=7*v;function n(l,s,a,m){var p=s>=1.5*a;return Math.round(l/a)+" "+m+(p?"s":"")}Y.exports=function(l,s){s=s||{};var a=typeof l;if("string"===a&&l.length>0)return function E(l){if(!((l=String(l)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*A;case"days":case"day":case"d":return a*v;case"hours":case"hour":case"hrs":case"hr":case"h":return a*h;case"minutes":case"minute":case"mins":case"min":case"m":return a*i;case"seconds":case"second":case"secs":case"sec":case"s":return a*f;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(l);if("number"===a&&isFinite(l))return s.long?function u(l){var s=Math.abs(l);return s>=v?n(l,s,v,"day"):s>=h?n(l,s,h,"hour"):s>=i?n(l,s,i,"minute"):s>=f?n(l,s,f,"second"):l+" ms"}(l):function c(l){var s=Math.abs(l);return s>=v?Math.round(l/v)+"d":s>=h?Math.round(l/h)+"h":s>=i?Math.round(l/i)+"m":s>=f?Math.round(l/f)+"s":l+"ms"}(l);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l))}},28664:(Y,f,i)=>{"use strict";const{AbortError:h,codes:v}=i(43600),{isNodeStream:A,isWebStream:S,kControllerErrorFunction:E}=i(48886),c=i(37595),{ERR_INVALID_ARG_TYPE:u}=v;Y.exports.addAbortSignal=function(s,a){if((l=>{if("object"!=typeof l||!("aborted"in l))throw new u("signal","AbortSignal",l)})(s),!A(a)&&!S(a))throw new u("stream",["ReadableStream","WritableStream","Stream"],a);return Y.exports.addAbortSignalNoValidate(s,a)},Y.exports.addAbortSignalNoValidate=function(l,s){if("object"!=typeof l||!("aborted"in l))return s;const a=A(s)?()=>{s.destroy(new h(void 0,{cause:l.reason}))}:()=>{s[E](new h(void 0,{cause:l.reason}))};return l.aborted?a():(l.addEventListener("abort",a),c(s,()=>l.removeEventListener("abort",a))),s}},76447:(Y,f,i)=>{"use strict";const{StringPrototypeSlice:h,SymbolIterator:v,TypedArrayPrototypeSet:A,Uint8Array:S}=i(85035),{Buffer:E}=i(86166),{inspect:c}=i(31895);Y.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(n){const l={data:n,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(n){const l={data:n,next:this.head};0===this.length&&(this.tail=l),this.head=l,++this.length}shift(){if(0===this.length)return;const n=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,n}clear(){this.head=this.tail=null,this.length=0}join(n){if(0===this.length)return"";let l=this.head,s=""+l.data;for(;null!==(l=l.next);)s+=n+l.data;return s}concat(n){if(0===this.length)return E.alloc(0);const l=E.allocUnsafe(n>>>0);let s=this.head,a=0;for(;s;)A(l,s.data,a),a+=s.data.length,s=s.next;return l}consume(n,l){const s=this.head.data;if(n<s.length){const a=s.slice(0,n);return this.head.data=s.slice(n),a}return n===s.length?this.shift():l?this._getString(n):this._getBuffer(n)}first(){return this.head.data}*[v](){for(let n=this.head;n;n=n.next)yield n.data}_getString(n){let l="",s=this.head,a=0;do{const m=s.data;if(!(n>m.length)){n===m.length?(l+=m,++a,this.head=s.next?s.next:this.tail=null):(l+=h(m,0,n),this.head=s,s.data=h(m,n));break}l+=m,n-=m.length,++a}while(null!==(s=s.next));return this.length-=a,l}_getBuffer(n){const l=E.allocUnsafe(n),s=n;let a=this.head,m=0;do{const p=a.data;if(!(n>p.length)){n===p.length?(A(l,p,s-n),++m,this.head=a.next?a.next:this.tail=null):(A(l,new S(p.buffer,p.byteOffset,n),s-n),this.head=a,a.data=p.slice(n));break}A(l,p,s-n),n-=p.length,++m}while(null!==(a=a.next));return this.length-=m,l}[Symbol.for("nodejs.util.inspect.custom")](n,l){return c(this,{...l,depth:0,customInspect:!1})}}},83763:(Y,f,i)=>{"use strict";var h=i(29293).default;const{pipeline:v}=i(62305),A=i(91669),{destroyer:S}=i(13725),{isNodeStream:E,isReadable:c,isWritable:u,isWebStream:n,isTransformStream:l,isWritableStream:s,isReadableStream:a}=i(48886),{AbortError:m,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:d}}=i(43600),y=i(37595);Y.exports=function(...g){if(0===g.length)throw new d("streams");if(1===g.length)return A.from(g[0]);const x=[...g];if("function"==typeof g[0]&&(g[0]=A.from(g[0])),"function"==typeof g[g.length-1]){const Z=g.length-1;g[Z]=A.from(g[Z])}for(let Z=0;Z<g.length;++Z)if(E(g[Z])||n(g[Z])){if(Z<g.length-1&&!(c(g[Z])||a(g[Z])||l(g[Z])))throw new p(`streams[${Z}]`,x[Z],"must be readable");if(Z>0&&!(u(g[Z])||s(g[Z])||l(g[Z])))throw new p(`streams[${Z}]`,x[Z],"must be writable")}let C,B,F,T,z;const ie=g[0],O=v(g,function re(Z){const W=T;T=null,W?W(Z):Z?z.destroy(Z):!k&&!J&&z.destroy()}),J=!!(u(ie)||s(ie)||l(ie)),k=!!(c(O)||a(O)||l(O));if(z=new A({writableObjectMode:!(null==ie||!ie.writableObjectMode),readableObjectMode:!(null==O||!O.writableObjectMode),writable:J,readable:k}),J){if(E(ie))z._write=function(W,pe,R){ie.write(W,pe)?R():C=R},z._final=function(W){ie.end(),B=W},ie.on("drain",function(){if(C){const W=C;C=null,W()}});else if(n(ie)){const pe=(l(ie)?ie.writable:ie).getWriter();z._write=function(){var R=h(function*(X,oe,be){try{yield pe.ready,pe.write(X).catch(()=>{}),be()}catch(Ie){be(Ie)}});return function(X,oe,be){return R.apply(this,arguments)}}(),z._final=function(){var R=h(function*(X){try{yield pe.ready,pe.close().catch(()=>{}),B=X}catch(oe){X(oe)}});return function(X){return R.apply(this,arguments)}}()}const Z=l(O)?O.readable:O;y(Z,()=>{if(B){const W=B;B=null,W()}})}if(k)if(E(O))O.on("readable",function(){if(F){const Z=F;F=null,Z()}}),O.on("end",function(){z.push(null)}),z._read=function(){for(;;){const Z=O.read();if(null===Z)return void(F=z._read);if(!z.push(Z))return}};else if(n(O)){const W=(l(O)?O.readable:O).getReader();z._read=h(function*(){for(;;)try{const{value:pe,done:R}=yield W.read();if(!z.push(pe))return;if(R)return void z.push(null)}catch{return}})}return z._destroy=function(Z,W){!Z&&null!==T&&(Z=new m),F=null,C=null,B=null,null===T?W(Z):(T=W,E(O)&&S(O,Z))},z}},13725:(Y,f,i)=>{"use strict";const h=i(40573),{aggregateTwoErrors:v,codes:{ERR_MULTIPLE_CALLBACK:A},AbortError:S}=i(43600),{Symbol:E}=i(85035),{kDestroyed:c,isDestroyed:u,isFinished:n,isServerRequest:l}=i(48886),s=E("kDestroy"),a=E("kConstruct");function m(J,k,Z){J&&(k&&!k.errored&&(k.errored=J),Z&&!Z.errored&&(Z.errored=J))}function d(J,k,Z){let W=!1;function pe(R){if(W)return;W=!0;const X=J._readableState,oe=J._writableState;m(R,oe,X),oe&&(oe.closed=!0),X&&(X.closed=!0),"function"==typeof Z&&Z(R),R?h.nextTick(y,J,R):h.nextTick(b,J)}try{J._destroy(k||null,pe)}catch(R){pe(R)}}function y(J,k){g(J,k),b(J)}function b(J){const k=J._readableState,Z=J._writableState;Z&&(Z.closeEmitted=!0),k&&(k.closeEmitted=!0),(null!=Z&&Z.emitClose||null!=k&&k.emitClose)&&J.emit("close")}function g(J,k){const Z=J._readableState,W=J._writableState;null!=W&&W.errorEmitted||null!=Z&&Z.errorEmitted||(W&&(W.errorEmitted=!0),Z&&(Z.errorEmitted=!0),J.emit("error",k))}function C(J,k,Z){const W=J._readableState,pe=J._writableState;if(null!=pe&&pe.destroyed||null!=W&&W.destroyed)return this;null!=W&&W.autoDestroy||null!=pe&&pe.autoDestroy?J.destroy(k):k&&(pe&&!pe.errored&&(pe.errored=k),W&&!W.errored&&(W.errored=k),Z?h.nextTick(g,J,k):g(J,k))}function F(J){let k=!1;function Z(W){if(k)return void C(J,W??new A);k=!0;const pe=J._readableState,R=J._writableState,X=R||pe;pe&&(pe.constructed=!0),R&&(R.constructed=!0),X.destroyed?J.emit(s,W):W?C(J,W,!0):h.nextTick(T,J)}try{J._construct(W=>{h.nextTick(Z,W)})}catch(W){h.nextTick(Z,W)}}function T(J){J.emit(a)}function z(J){return J?.setHeader&&"function"==typeof J.abort}function re(J){J.emit("close")}function ie(J,k){J.emit("error",k),h.nextTick(re,J)}Y.exports={construct:function B(J,k){if("function"!=typeof J._construct)return;const Z=J._readableState,W=J._writableState;Z&&(Z.constructed=!1),W&&(W.constructed=!1),J.once(a,k),!(J.listenerCount(a)>1)&&h.nextTick(F,J)},destroyer:function O(J,k){!J||u(J)||(!k&&!n(J)&&(k=new S),l(J)?(J.socket=null,J.destroy(k)):z(J)?J.abort():z(J.req)?J.req.abort():"function"==typeof J.destroy?J.destroy(k):"function"==typeof J.close?J.close():k?h.nextTick(ie,J,k):h.nextTick(re,J),J.destroyed||(J[c]=!0))},destroy:function p(J,k){const Z=this._readableState,W=this._writableState,pe=W||Z;return null!=W&&W.destroyed||null!=Z&&Z.destroyed?("function"==typeof k&&k(),this):(m(J,W,Z),W&&(W.destroyed=!0),Z&&(Z.destroyed=!0),pe.constructed?d(this,J,k):this.once(s,function(R){d(this,v(R,J),k)}),this)},undestroy:function x(){const J=this._readableState,k=this._writableState;J&&(J.constructed=!0,J.closed=!1,J.closeEmitted=!1,J.destroyed=!1,J.errored=null,J.errorEmitted=!1,J.reading=!1,J.ended=!1===J.readable,J.endEmitted=!1===J.readable),k&&(k.constructed=!0,k.destroyed=!1,k.closed=!1,k.closeEmitted=!1,k.errored=null,k.errorEmitted=!1,k.finalCalled=!1,k.prefinished=!1,k.ended=!1===k.writable,k.ending=!1===k.writable,k.finished=!1===k.writable)},errorOrDestroy:C}},91669:(Y,f,i)=>{"use strict";const{ObjectDefineProperties:h,ObjectGetOwnPropertyDescriptor:v,ObjectKeys:A,ObjectSetPrototypeOf:S}=i(85035);Y.exports=u;const E=i(96155),c=i(37663);S(u.prototype,E.prototype),S(u,E);{const a=A(c.prototype);for(let m=0;m<a.length;m++){const p=a[m];u.prototype[p]||(u.prototype[p]=c.prototype[p])}}function u(a){if(!(this instanceof u))return new u(a);E.call(this,a),c.call(this,a),a?(this.allowHalfOpen=!1!==a.allowHalfOpen,!1===a.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===a.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let n,s;function l(){return void 0===n&&(n={}),n}h(u.prototype,{writable:{__proto__:null,...v(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...v(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...v(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...v(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...v(c.prototype,"writableLength")},writableFinished:{__proto__:null,...v(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...v(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...v(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...v(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(a){this._readableState&&this._writableState&&(this._readableState.destroyed=a,this._writableState.destroyed=a)}}}),u.fromWeb=function(a,m){return l().newStreamDuplexFromReadableWritablePair(a,m)},u.toWeb=function(a){return l().newReadableWritablePairFromDuplex(a)},u.from=function(a){return s||(s=i(31051)),s(a,"body")}},31051:(Y,f,i)=>{var h=i(29293).default,v=i(53344).default,A=i(42958).default;const S=i(40573),E=i(86166),{isReadable:c,isWritable:u,isIterable:n,isNodeStream:l,isReadableNodeStream:s,isWritableNodeStream:a,isDuplexNodeStream:m}=i(48886),p=i(37595),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:b}}=i(43600),{destroyer:g}=i(13725),x=i(91669),C=i(96155),{createDeferredPromise:B}=i(31895),F=i(41647),T=globalThis.Blob||E.Blob,z=typeof T<"u"?function(W){return W instanceof T}:function(W){return!1},re=globalThis.AbortController||i(9465).AbortController,{FunctionPrototypeCall:ie}=i(85035);class O extends x{constructor(W){super(W),!1===W?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===W?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function k(Z){const W=Z.readable&&"function"!=typeof Z.readable.read?C.wrap(Z.readable):Z.readable,pe=Z.writable;let oe,be,Ie,w,I,R=!!c(W),X=!!u(pe);function V(M){const Q=w;w=null,Q?Q(M):M&&I.destroy(M)}return I=new O({readableObjectMode:!(null==W||!W.readableObjectMode),writableObjectMode:!(null==pe||!pe.writableObjectMode),readable:R,writable:X}),X&&(p(pe,M=>{X=!1,M&&g(W,M),V(M)}),I._write=function(M,Q,ue){pe.write(M,Q)?ue():oe=ue},I._final=function(M){pe.end(),be=M},pe.on("drain",function(){if(oe){const M=oe;oe=null,M()}}),pe.on("finish",function(){if(be){const M=be;be=null,M()}})),R&&(p(W,M=>{R=!1,M&&g(W,M),V(M)}),W.on("readable",function(){if(Ie){const M=Ie;Ie=null,M()}}),W.on("end",function(){I.push(null)}),I._read=function(){for(;;){const M=W.read();if(null===M)return void(Ie=I._read);if(!I.push(M))return}}),I._destroy=function(M,Q){!M&&null!==w&&(M=new d),Ie=null,oe=null,be=null,null===w?Q(M):(w=Q,g(pe,M),g(W,M))},I}Y.exports=function Z(W,pe){if(m(W))return W;if(s(W))return k({readable:W});if(a(W))return k({writable:W});if(l(W))return k({writable:!1,readable:!1});if("function"==typeof W){const{value:X,write:oe,final:be,destroy:Ie}=function J(Z){let{promise:W,resolve:pe}=B();const R=new re,X=R.signal;return{value:Z(A(function*(){for(;;){const be=W;W=null;const{chunk:Ie,done:w,cb:I}=yield v(be);if(S.nextTick(I),w)return;if(X.aborted)throw new d(void 0,{cause:X.reason});({promise:W,resolve:pe}=B()),yield Ie}})(),{signal:X}),write(be,Ie,w){const I=pe;pe=null,I({chunk:be,done:!1,cb:w})},final(be){const Ie=pe;pe=null,Ie({done:!0,cb:be})},destroy(be,Ie){R.abort(),Ie(be)}}}(W);if(n(X))return F(O,X,{objectMode:!0,write:oe,final:be,destroy:Ie});const w=X?.then;if("function"==typeof w){let I;const V=ie(w,X,M=>{if(null!=M)throw new b("nully","body",M)},M=>{g(I,M)});return I=new O({objectMode:!0,readable:!1,write:oe,final(M){be(h(function*(){try{yield V,S.nextTick(M,null)}catch(Q){S.nextTick(M,Q)}}))},destroy:Ie})}throw new b("Iterable, AsyncIterable or AsyncFunction",pe,X)}if(z(W))return Z(W.arrayBuffer());if(n(W))return F(O,W,{objectMode:!0,writable:!1});if("object"==typeof W?.writable||"object"==typeof W?.readable)return k({readable:null!=W&&W.readable?s(W?.readable)?W?.readable:Z(W.readable):void 0,writable:null!=W&&W.writable?a(W?.writable)?W?.writable:Z(W.writable):void 0});const R=W?.then;if("function"==typeof R){let X;return ie(R,W,oe=>{null!=oe&&X.push(oe),X.push(null)},oe=>{g(X,oe)}),X=new O({objectMode:!0,writable:!1,read(){}})}throw new y(pe,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],W)}},37595:(Y,f,i)=>{const h=i(40573),{AbortError:v,codes:A}=i(43600),{ERR_INVALID_ARG_TYPE:S,ERR_STREAM_PREMATURE_CLOSE:E}=A,{kEmptyObject:c,once:u}=i(31895),{validateAbortSignal:n,validateFunction:l,validateObject:s,validateBoolean:a}=i(63918),{Promise:m,PromisePrototypeThen:p}=i(85035),{isClosed:d,isReadable:y,isReadableNodeStream:b,isReadableStream:g,isReadableFinished:x,isReadableErrored:C,isWritable:B,isWritableNodeStream:F,isWritableStream:T,isWritableFinished:z,isWritableErrored:re,isNodeStream:ie,willEmitClose:O,kIsClosedPromise:J}=i(48886),Z=()=>{};function W(X,oe,be){var Ie,w;if(2===arguments.length?(be=oe,oe=c):null==oe?oe=c:s(oe,"options"),l(be,"callback"),n(oe.signal,"options.signal"),be=u(be),g(X)||T(X))return function pe(X,oe,be){let Ie=!1,w=Z;if(oe.signal)if(w=()=>{Ie=!0,be.call(X,new v(void 0,{cause:oe.signal.reason}))},oe.signal.aborted)h.nextTick(w);else{const V=be;be=u((...M)=>{oe.signal.removeEventListener("abort",w),V.apply(X,M)}),oe.signal.addEventListener("abort",w)}const I=(...V)=>{Ie||h.nextTick(()=>be.apply(X,V))};return p(X[J].promise,I,I),Z}(X,oe,be);if(!ie(X))throw new S("stream",["ReadableStream","WritableStream","Stream"],X);const I=null!==(Ie=oe.readable)&&void 0!==Ie?Ie:b(X),V=null!==(w=oe.writable)&&void 0!==w?w:F(X),M=X._writableState,Q=X._readableState,ue=()=>{X.writable||fe()};let de=O(X)&&b(X)===I&&F(X)===V,we=z(X,!1);const fe=()=>{we=!0,X.destroyed&&(de=!1),(!de||X.readable&&!I)&&(!I||_e)&&be.call(X)};let _e=x(X,!1);const He=()=>{_e=!0,X.destroyed&&(de=!1),(!de||X.writable&&!V)&&(!V||we)&&be.call(X)},Pe=je=>{be.call(X,je)};let Oe=d(X);const he=()=>{Oe=!0;const je=re(X)||C(X);return je&&"boolean"!=typeof je?be.call(X,je):I&&!_e&&b(X,!0)&&!x(X,!1)?be.call(X,new E):!V||we||z(X,!1)?void be.call(X):be.call(X,new E)},ve=()=>{Oe=!0;const je=re(X)||C(X);if(je&&"boolean"!=typeof je)return be.call(X,je);be.call(X)},ye=()=>{X.req.on("finish",fe)};!function k(X){return X.setHeader&&"function"==typeof X.abort}(X)?V&&!M&&(X.on("end",ue),X.on("close",ue)):(X.on("complete",fe),de||X.on("abort",he),X.req?ye():X.on("request",ye)),!de&&"boolean"==typeof X.aborted&&X.on("aborted",he),X.on("end",He),X.on("finish",fe),!1!==oe.error&&X.on("error",Pe),X.on("close",he),Oe?h.nextTick(he):null!=M&&M.errorEmitted||null!=Q&&Q.errorEmitted?de||h.nextTick(ve):(!I&&(!de||y(X))&&(we||!1===B(X))||!V&&(!de||B(X))&&(_e||!1===y(X))||Q&&X.req&&X.aborted)&&h.nextTick(ve);const De=()=>{be=Z,X.removeListener("aborted",he),X.removeListener("complete",fe),X.removeListener("abort",he),X.removeListener("request",ye),X.req&&X.req.removeListener("finish",fe),X.removeListener("end",ue),X.removeListener("close",ue),X.removeListener("finish",fe),X.removeListener("end",He),X.removeListener("error",Pe),X.removeListener("close",he)};if(oe.signal&&!Oe){const je=()=>{const xe=be;De(),xe.call(X,new v(void 0,{cause:oe.signal.reason}))};if(oe.signal.aborted)h.nextTick(je);else{const xe=be;be=u((...$e)=>{oe.signal.removeEventListener("abort",je),xe.apply(X,$e)}),oe.signal.addEventListener("abort",je)}}return De}Y.exports=W,Y.exports.finished=function R(X,oe){var be;let Ie=!1;return null===oe&&(oe=c),null!==(be=oe)&&void 0!==be&&be.cleanup&&(a(oe.cleanup,"cleanup"),Ie=oe.cleanup),new m((w,I)=>{const V=W(X,oe,M=>{Ie&&V(),M?I(M):w()})})}},41647:(Y,f,i)=>{"use strict";var h=i(29293).default;const v=i(40573),{PromisePrototypeThen:A,SymbolAsyncIterator:S,SymbolIterator:E}=i(85035),{Buffer:c}=i(86166),{ERR_INVALID_ARG_TYPE:u,ERR_STREAM_NULL_VALUES:n}=i(43600).codes;Y.exports=function l(s,a,m){let p,d;if("string"==typeof a||a instanceof c)return new s({objectMode:!0,...m,read(){this.push(a),this.push(null)}});if(a&&a[S])d=!0,p=a[S]();else{if(!a||!a[E])throw new u("iterable",["Iterable"],a);d=!1,p=a[E]()}const y=new s({objectMode:!0,highWaterMark:1,...m});let b=!1;function x(){return(x=h(function*(F){if(null!=F&&"function"==typeof p.throw){const{value:re,done:ie}=yield p.throw(F);if(yield re,ie)return}if("function"==typeof p.return){const{value:re}=yield p.return();yield re}})).apply(this,arguments)}function B(){return(B=h(function*(){for(;;){try{const{value:F,done:T}=d?yield p.next():p.next();if(T)y.push(null);else{const z=F&&"function"==typeof F.then?yield F:F;if(null===z)throw b=!1,new n;if(y.push(z))continue;b=!1}}catch(F){y.destroy(F)}break}})).apply(this,arguments)}return y._read=function(){b||(b=!0,function C(){B.apply(this,arguments)}())},y._destroy=function(F,T){A(function g(F){return x.apply(this,arguments)}(F),()=>v.nextTick(T,F),z=>v.nextTick(T,z||F))},y}},91356:(Y,f,i)=>{"use strict";const{ArrayIsArray:h,ObjectSetPrototypeOf:v}=i(85035),{EventEmitter:A}=i(44356);function S(c){A.call(this,c)}function E(c,u,n){if("function"==typeof c.prependListener)return c.prependListener(u,n);c._events&&c._events[u]?h(c._events[u])?c._events[u].unshift(n):c._events[u]=[n,c._events[u]]:c.on(u,n)}v(S.prototype,A.prototype),v(S,A),S.prototype.pipe=function(c,u){const n=this;function l(b){c.writable&&!1===c.write(b)&&n.pause&&n.pause()}function s(){n.readable&&n.resume&&n.resume()}n.on("data",l),c.on("drain",s),!c._isStdio&&(!u||!1!==u.end)&&(n.on("end",m),n.on("close",p));let a=!1;function m(){a||(a=!0,c.end())}function p(){a||(a=!0,"function"==typeof c.destroy&&c.destroy())}function d(b){y(),0===A.listenerCount(this,"error")&&this.emit("error",b)}function y(){n.removeListener("data",l),c.removeListener("drain",s),n.removeListener("end",m),n.removeListener("close",p),n.removeListener("error",d),c.removeListener("error",d),n.removeListener("end",y),n.removeListener("close",y),c.removeListener("close",y)}return E(n,"error",d),E(c,"error",d),n.on("end",y),n.on("close",y),c.on("close",y),c.emit("pipe",n),c},Y.exports={Stream:S,prependListener:E}},71234:(Y,f,i)=>{"use strict";var h=i(29293).default,v=i(93513).default,A=i(82881).default,S=i(53344).default,E=i(42958).default;const c=globalThis.AbortController||i(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:u,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:l,ERR_OUT_OF_RANGE:s},AbortError:a}=i(43600),{validateAbortSignal:m,validateInteger:p,validateObject:d}=i(63918),y=i(85035).Symbol("kWeak"),{finished:b}=i(37595),g=i(83763),{addAbortSignalNoValidate:x}=i(28664),{isWritable:C,isNodeStream:B}=i(48886),{ArrayPrototypePush:F,MathFloor:T,Number:z,NumberIsNaN:re,Promise:ie,PromiseReject:O,PromisePrototypeThen:J,Symbol:k}=i(85035),Z=k("kEmpty"),W=k("kEof");function R(ye,De){if("function"!=typeof ye)throw new n("fn",["Function","AsyncFunction"],ye);null!=De&&d(De,"options"),null!=De?.signal&&m(De.signal,"options.signal");let je=1;return null!=De?.concurrency&&(je=T(De.concurrency)),p(je,"concurrency",1),function(){var xe=E(function*(){var Ue,Re;const Xe=new c,ze=this,We=[],it=Xe.signal,ee={signal:it},N=()=>Xe.abort();null!=De&&null!==(Ue=De.signal)&&void 0!==Ue&&Ue.aborted&&N(),null==De||null===(Re=De.signal)||void 0===Re||Re.addEventListener("abort",N);let P,G,Ee=!1;function Ce(){Ee=!0}function Fe(){return(Fe=h(function*(){try{var dt,Be=!1,st=!1;try{for(var pt,et=A(ze);Be=!(pt=yield et.next()).done;Be=!1){let wt=pt.value;var Tt;if(Ee)return;if(it.aborted)throw new a;try{wt=ye(wt,ee)}catch(It){wt=O(It)}wt!==Z&&("function"==typeof(null===(Tt=wt)||void 0===Tt?void 0:Tt.catch)&&wt.catch(Ce),We.push(wt),P&&(P(),P=null),!Ee&&We.length&&We.length>=je&&(yield new ie(It=>{G=It})))}}catch(wt){st=!0,dt=wt}finally{try{Be&&null!=et.return&&(yield et.return())}finally{if(st)throw dt}}We.push(W)}catch(wt){const It=O(wt);J(It,void 0,Ce),We.push(It)}finally{var Bt;Ee=!0,P&&(P(),P=null),null==De||null===(Bt=De.signal)||void 0===Bt||Bt.removeEventListener("abort",N)}})).apply(this,arguments)}!function Te(){Fe.apply(this,arguments)}();try{for(;;){for(;We.length>0;){const Be=yield S(We[0]);if(Be===W)return;if(it.aborted)throw new a;Be!==Z&&(yield Be),We.shift(),G&&(G(),G=null)}yield S(new ie(Be=>{P=Be}))}}finally{Xe.abort(),Ee=!0,G&&(G(),G=null)}});return function $e(){return xe.apply(this,arguments)}}().call(this)}function oe(ye){return be.apply(this,arguments)}function be(){return(be=h(function*(ye,De=void 0){var $e,je=!1,xe=!1;try{for(var Ue=A(ue.call(this,ye,De));je=!(yield Ue.next()).done;je=!1)return!0}catch(Xe){xe=!0,$e=Xe}finally{try{je&&null!=Ue.return&&(yield Ue.return())}finally{if(xe)throw $e}}return!1})).apply(this,arguments)}function w(){return(w=h(function*(ye,De=void 0){if("function"!=typeof ye)throw new n("fn",["Function","AsyncFunction"],ye);return!(yield oe.call(this,h(function*(...je){return!(yield ye(...je))}),De))})).apply(this,arguments)}function V(){return(V=h(function*(ye,De){var $e,je=!1,xe=!1;try{for(var Re,Ue=A(ue.call(this,ye,De));je=!(Re=yield Ue.next()).done;je=!1)return Re.value}catch(Xe){xe=!0,$e=Xe}finally{try{je&&null!=Ue.return&&(yield Ue.return())}finally{if(xe)throw $e}}})).apply(this,arguments)}function Q(){return Q=h(function*(ye,De){if("function"!=typeof ye)throw new n("fn",["Function","AsyncFunction"],ye);function xe(){return(xe=h(function*(We,it){return yield ye(We,it),Z})).apply(this,arguments)}var Re,$e=!1,Ue=!1;try{for(var Xe=A(R.call(this,function je(We,it){return xe.apply(this,arguments)},De));$e=!(yield Xe.next()).done;$e=!1);}catch(We){Ue=!0,Re=We}finally{try{$e&&null!=Xe.return&&(yield Xe.return())}finally{if(Ue)throw Re}}}),Q.apply(this,arguments)}function ue(ye,De){if("function"!=typeof ye)throw new n("fn",["Function","AsyncFunction"],ye);function xe(){return(xe=h(function*($e,Ue){return(yield ye($e,Ue))?$e:Z})).apply(this,arguments)}return R.call(this,function je($e,Ue){return xe.apply(this,arguments)},De)}class de extends l{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function fe(){return fe=h(function*(ye,De,je){var xe;if("function"!=typeof ye)throw new n("reducer",["Function","AsyncFunction"],ye);null!=je&&d(je,"options"),null!=je?.signal&&m(je.signal,"options.signal");let $e=arguments.length>1;if(null!=je&&null!==(xe=je.signal)&&void 0!==xe&&xe.aborted){const G=new a(void 0,{cause:je.signal.reason});throw this.once("error",()=>{}),yield b(this.destroy(G)),G}const Ue=new c,Re=Ue.signal;null!=je&&je.signal&&je.signal.addEventListener("abort",()=>Ue.abort(),{once:!0,[y]:this});let Xe=!1;try{var it,ze=!1,We=!1;try{for(var N,ee=A(this);ze=!(N=yield ee.next()).done;ze=!1){const G=N.value;var P;if(Xe=!0,null!=je&&null!==(P=je.signal)&&void 0!==P&&P.aborted)throw new a;$e?De=yield ye(De,G,{signal:Re}):(De=G,$e=!0)}}catch(G){We=!0,it=G}finally{try{ze&&null!=ee.return&&(yield ee.return())}finally{if(We)throw it}}if(!Xe&&!$e)throw new de}finally{Ue.abort()}return De}),fe.apply(this,arguments)}function He(){return(He=h(function*(ye){null!=ye&&d(ye,"options"),null!=ye?.signal&&m(ye.signal,"options.signal");const De=[];var $e,je=!1,xe=!1;try{for(var Re,Ue=A(this);je=!(Re=yield Ue.next()).done;je=!1){const ze=Re.value;var Xe;if(null!=ye&&null!==(Xe=ye.signal)&&void 0!==Xe&&Xe.aborted)throw new a(void 0,{cause:ye.signal.reason});F(De,ze)}}catch(ze){xe=!0,$e=ze}finally{try{je&&null!=Ue.return&&(yield Ue.return())}finally{if(xe)throw $e}}return De})).apply(this,arguments)}function Oe(ye){if(ye=z(ye),re(ye))return 0;if(ye<0)throw new s("number",">= 0",ye);return ye}Y.exports.streamReturningOperators={asIndexedPairs:function X(ye=void 0){return null!=ye&&d(ye,"options"),null!=ye?.signal&&m(ye.signal,"options.signal"),function(){var De=E(function*(){let xe=0;var Re,$e=!1,Ue=!1;try{for(var ze,Xe=A(this);$e=!(ze=yield S(Xe.next())).done;$e=!1){const it=ze.value;var We;if(null!=ye&&null!==(We=ye.signal)&&void 0!==We&&We.aborted)throw new a({cause:ye.signal.reason});yield[xe++,it]}}catch(it){Ue=!0,Re=it}finally{try{$e&&null!=Xe.return&&(yield S(Xe.return()))}finally{if(Ue)throw Re}}});return function je(){return De.apply(this,arguments)}}().call(this)},drop:function he(ye,De=void 0){return null!=De&&d(De,"options"),null!=De?.signal&&m(De.signal,"options.signal"),ye=Oe(ye),function(){var je=E(function*(){var $e;if(null!=De&&null!==($e=De.signal)&&void 0!==$e&&$e.aborted)throw new a;var Xe,Ue=!1,Re=!1;try{for(var We,ze=A(this);Ue=!(We=yield S(ze.next())).done;Ue=!1){const ee=We.value;var it;if(null!=De&&null!==(it=De.signal)&&void 0!==it&&it.aborted)throw new a;ye--<=0&&(yield ee)}}catch(ee){Re=!0,Xe=ee}finally{try{Ue&&null!=ze.return&&(yield S(ze.return()))}finally{if(Re)throw Xe}}});return function xe(){return je.apply(this,arguments)}}().call(this)},filter:ue,flatMap:function Pe(ye,De){const je=R.call(this,ye,De);return function(){var xe=E(function*(){var Xe,Ue=!1,Re=!1;try{for(var We,ze=A(je);Ue=!(We=yield S(ze.next())).done;Ue=!1){const it=We.value;yield*v(A(it),S)}}catch(it){Re=!0,Xe=it}finally{try{Ue&&null!=ze.return&&(yield S(ze.return()))}finally{if(Re)throw Xe}}});return function $e(){return xe.apply(this,arguments)}}().call(this)},map:R,take:function ve(ye,De=void 0){return null!=De&&d(De,"options"),null!=De?.signal&&m(De.signal,"options.signal"),ye=Oe(ye),function(){var je=E(function*(){var $e;if(null!=De&&null!==($e=De.signal)&&void 0!==$e&&$e.aborted)throw new a;var Xe,Ue=!1,Re=!1;try{for(var We,ze=A(this);Ue=!(We=yield S(ze.next())).done;Ue=!1){const ee=We.value;var it;if(null!=De&&null!==(it=De.signal)&&void 0!==it&&it.aborted)throw new a;if(!(ye-- >0))return;yield ee}}catch(ee){Re=!0,Xe=ee}finally{try{Ue&&null!=ze.return&&(yield S(ze.return()))}finally{if(Re)throw Xe}}});return function xe(){return je.apply(this,arguments)}}().call(this)},compose:function pe(ye,De){if(null!=De&&d(De,"options"),null!=De?.signal&&m(De.signal,"options.signal"),B(ye)&&!C(ye))throw new u("stream",ye,"must be writable");const je=g(this,ye);return null!=De&&De.signal&&x(De.signal,je),je}},Y.exports.promiseReturningOperators={every:function Ie(ye){return w.apply(this,arguments)},forEach:function M(ye,De){return Q.apply(this,arguments)},reduce:function we(ye,De,je){return fe.apply(this,arguments)},toArray:function _e(ye){return He.apply(this,arguments)},some:oe,find:function I(ye,De){return V.apply(this,arguments)}}},6513:(Y,f,i)=>{"use strict";const{ObjectSetPrototypeOf:h}=i(85035);Y.exports=A;const v=i(12475);function A(S){if(!(this instanceof A))return new A(S);v.call(this,S)}h(A.prototype,v.prototype),h(A,v),A.prototype._transform=function(S,E,c){c(null,S)}},62305:(Y,f,i)=>{var h=i(29293).default,v=i(42958).default,A=i(53344).default,S=i(93513).default,E=i(82881).default;const c=i(40573),{ArrayIsArray:u,Promise:n,SymbolAsyncIterator:l}=i(85035),s=i(37595),{once:a}=i(31895),m=i(13725),p=i(91669),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:x,ERR_STREAM_PREMATURE_CLOSE:C},AbortError:B}=i(43600),{validateFunction:F,validateAbortSignal:T}=i(63918),{isIterable:z,isReadable:re,isReadableNodeStream:ie,isNodeStream:O,isTransformStream:J,isWebStream:k,isReadableStream:Z,isReadableEnded:W}=i(48886),pe=globalThis.AbortController||i(9465).AbortController;let R,X;function oe(_e,He,Pe){let Oe=!1;return _e.on("close",()=>{Oe=!0}),{destroy:ve=>{Oe||(Oe=!0,m.destroyer(_e,ve||new x("pipe")))},cleanup:s(_e,{readable:He,writable:Pe},ve=>{Oe=!ve})}}function Ie(_e){if(z(_e))return _e;if(ie(_e))return function w(_e){return I.apply(this,arguments)}(_e);throw new y("val",["Readable","Iterable","AsyncIterable"],_e)}function I(){return(I=v(function*(_e){X||(X=i(96155)),yield*S(E(X.prototype[l].call(_e)),A)})).apply(this,arguments)}function V(_e,He,Pe,Oe){return M.apply(this,arguments)}function M(){return(M=h(function*(_e,He,Pe,{end:Oe}){let he,ve=null;const ye=ze=>{if(ze&&(he=ze),ve){const We=ve;ve=null,We()}},De=()=>new n((ze,We)=>{he?We(he):ve=()=>{he?We(he):ze()}});He.on("drain",ye);const je=s(He,{readable:!1},ye);try{He.writableNeedDrain&&(yield De());var Ue,xe=!1,$e=!1;try{for(var Xe,Re=E(_e);xe=!(Xe=yield Re.next()).done;xe=!1)He.write(Xe.value)||(yield De())}catch(ze){$e=!0,Ue=ze}finally{try{xe&&null!=Re.return&&(yield Re.return())}finally{if($e)throw Ue}}Oe&&He.end(),yield De(),Pe()}catch(ze){Pe(he!==ze?d(he,ze):ze)}finally{je(),He.off("drain",ye)}})).apply(this,arguments)}function Q(_e,He,Pe,Oe){return ue.apply(this,arguments)}function ue(){return(ue=h(function*(_e,He,Pe,{end:Oe}){J(He)&&(He=He.writable);const he=He.getWriter();try{var De,ve=!1,ye=!1;try{for(var xe,je=E(_e);ve=!(xe=yield je.next()).done;ve=!1){const $e=xe.value;yield he.ready,he.write($e).catch(()=>{})}}catch($e){ye=!0,De=$e}finally{try{ve&&null!=je.return&&(yield je.return())}finally{if(ye)throw De}}yield he.ready,Oe&&(yield he.close()),Pe()}catch($e){try{yield he.abort($e),Pe($e)}catch(Ue){Pe(Ue)}}})).apply(this,arguments)}function we(_e,He,Pe){if(1===_e.length&&u(_e[0])&&(_e=_e[0]),_e.length<2)throw new g("streams");const Oe=new pe,he=Oe.signal,ve=Pe?.signal,ye=[];function De(){Xe(new B)}let je,xe;T(ve,"options.signal"),ve?.addEventListener("abort",De);const $e=[];let ze,Ue=0;function Re(N){Xe(N,0==--Ue)}function Xe(N,P){if(N&&(!je||"ERR_STREAM_PREMATURE_CLOSE"===je.code)&&(je=N),je||P){for(;$e.length;)$e.shift()(je);ve?.removeEventListener("abort",De),Oe.abort(),P&&(je||ye.forEach(G=>G()),c.nextTick(He,je,xe))}}for(let N=0;N<_e.length;N++){const P=_e[N],G=N<_e.length-1,Ee=N>0,Ce=G||!1!==Pe?.end,Te=N===_e.length-1;if(O(P)){let Fe=function(Be){Be&&"AbortError"!==Be.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Be.code&&Re(Be)};if(Ce){const{destroy:Be,cleanup:st}=oe(P,G,Ee);$e.push(Be),re(P)&&Te&&ye.push(st)}P.on("error",Fe),re(P)&&Te&&ye.push(()=>{P.removeListener("error",Fe)})}if(0===N)if("function"==typeof P){if(ze=P({signal:he}),!z(ze))throw new b("Iterable, AsyncIterable or Stream","source",ze)}else ze=z(P)||ie(P)||J(P)?P:p.from(P);else if("function"==typeof P){var We;if(ze=J(ze)?Ie(null===(We=ze)||void 0===We?void 0:We.readable):Ie(ze),ze=P(ze,{signal:he}),G){if(!z(ze,!0))throw new b("AsyncIterable",`transform[${N-1}]`,ze)}else{var it;R||(R=i(6513));const Fe=new R({objectMode:!0}),Be=null===(it=ze)||void 0===it?void 0:it.then;if("function"==typeof Be)Ue++,Be.call(ze,et=>{xe=et,null!=et&&Fe.write(et),Ce&&Fe.end(),c.nextTick(Re)},et=>{Fe.destroy(et),c.nextTick(Re,et)});else if(z(ze,!0))Ue++,V(ze,Fe,Re,{end:Ce});else{if(!Z(ze)&&!J(ze))throw new b("AsyncIterable or Promise","destination",ze);Ue++,V(ze.readable||ze,Fe,Re,{end:Ce})}ze=Fe;const{destroy:st,cleanup:dt}=oe(ze,!1,!0);$e.push(st),Te&&ye.push(dt)}}else if(O(P)){if(ie(ze)){Ue+=2;const Fe=fe(ze,P,Re,{end:Ce});re(P)&&Te&&ye.push(Fe)}else if(J(ze)||Z(ze))Ue++,V(ze.readable||ze,P,Re,{end:Ce});else{if(!z(ze))throw new y("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ze);Ue++,V(ze,P,Re,{end:Ce})}ze=P}else if(k(P)){if(ie(ze))Ue++,Q(Ie(ze),P,Re,{end:Ce});else if(Z(ze)||z(ze))Ue++,Q(ze,P,Re,{end:Ce});else{if(!J(ze))throw new y("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ze);Ue++,Q(ze.readable,P,Re,{end:Ce})}ze=P}else ze=p.from(P)}return(null!=he&&he.aborted||null!=ve&&ve.aborted)&&c.nextTick(De),ze}function fe(_e,He,Pe,{end:Oe}){let he=!1;if(He.on("close",()=>{he||Pe(new C)}),_e.pipe(He,{end:!1}),Oe){let ye=function(){he=!0,He.end()};W(_e)?c.nextTick(ye):_e.once("end",ye)}else Pe();return s(_e,{readable:!0,writable:!1},ye=>{const De=_e._readableState;ye&&"ERR_STREAM_PREMATURE_CLOSE"===ye.code&&De&&De.ended&&!De.errored&&!De.errorEmitted?_e.once("end",Pe).once("error",Pe):Pe(ye)}),s(He,{readable:!1,writable:!0},Pe)}Y.exports={pipelineImpl:we,pipeline:function de(..._e){return we(_e,a(function be(_e){return F(_e[_e.length-1],"streams[stream.length - 1]"),_e.pop()}(_e)))}}},96155:(Y,f,i)=>{var h=i(53344).default,v=i(42958).default;const A=i(40573),{ArrayPrototypeIndexOf:S,NumberIsInteger:E,NumberIsNaN:c,NumberParseInt:u,ObjectDefineProperties:n,ObjectKeys:l,ObjectSetPrototypeOf:s,Promise:a,SafeSet:m,SymbolAsyncIterator:p,Symbol:d}=i(85035);Y.exports=V,V.ReadableState=I;const{EventEmitter:y}=i(44356),{Stream:b,prependListener:g}=i(91356),{Buffer:x}=i(86166),{addAbortSignal:C}=i(28664),B=i(37595);let F=i(31895).debuglog("stream",P=>{F=P});const T=i(76447),z=i(13725),{getHighWaterMark:re,getDefaultHighWaterMark:ie}=i(28942),{aggregateTwoErrors:O,codes:{ERR_INVALID_ARG_TYPE:J,ERR_METHOD_NOT_IMPLEMENTED:k,ERR_OUT_OF_RANGE:Z,ERR_STREAM_PUSH_AFTER_EOF:W,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:pe}}=i(43600),{validateObject:R}=i(63918),X=d("kPaused"),{StringDecoder:oe}=i(78454),be=i(41647);s(V.prototype,b.prototype),s(V,b);const Ie=()=>{},{errorOrDestroy:w}=z;function I(P,G,Ee){"boolean"!=typeof Ee&&(Ee=G instanceof i(91669)),this.objectMode=!(!P||!P.objectMode),Ee&&(this.objectMode=this.objectMode||!(!P||!P.readableObjectMode)),this.highWaterMark=P?re(this,P,"readableHighWaterMark",Ee):ie(!1),this.buffer=new T,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[X]=null,this.errorEmitted=!1,this.emitClose=!P||!1!==P.emitClose,this.autoDestroy=!P||!1!==P.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=P&&P.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,P&&P.encoding&&(this.decoder=new oe(P.encoding),this.encoding=P.encoding)}function V(P){if(!(this instanceof V))return new V(P);const G=this instanceof i(91669);this._readableState=new I(P,this,G),P&&("function"==typeof P.read&&(this._read=P.read),"function"==typeof P.destroy&&(this._destroy=P.destroy),"function"==typeof P.construct&&(this._construct=P.construct),P.signal&&!G&&C(P.signal,this)),b.call(this,P),z.construct(this,()=>{this._readableState.needReadable&&Pe(this,this._readableState)})}function M(P,G,Ee,Ce){F("readableAddChunk",G);const Te=P._readableState;let Fe;if(Te.objectMode||("string"==typeof G?Te.encoding!==(Ee=Ee||Te.defaultEncoding)&&(Ce&&Te.encoding?G=x.from(G,Ee).toString(Te.encoding):(G=x.from(G,Ee),Ee="")):G instanceof x?Ee="":b._isUint8Array(G)?(G=b._uint8ArrayToBuffer(G),Ee=""):null!=G&&(Fe=new J("chunk",["string","Buffer","Uint8Array"],G))),Fe)w(P,Fe);else if(null===G)Te.reading=!1,function fe(P,G){if(F("onEofChunk"),!G.ended){if(G.decoder){const Ee=G.decoder.end();Ee&&Ee.length&&(G.buffer.push(Ee),G.length+=G.objectMode?1:Ee.length)}G.ended=!0,G.sync?_e(P):(G.needReadable=!1,G.emittedReadable=!0,He(P))}}(P,Te);else if(Te.objectMode||G&&G.length>0)if(Ce)if(Te.endEmitted)w(P,new pe);else{if(Te.destroyed||Te.errored)return!1;Q(P,Te,G,!0)}else if(Te.ended)w(P,new W);else{if(Te.destroyed||Te.errored)return!1;Te.reading=!1,Te.decoder&&!Ee?(G=Te.decoder.write(G),Te.objectMode||0!==G.length?Q(P,Te,G,!1):Pe(P,Te)):Q(P,Te,G,!1)}else Ce||(Te.reading=!1,Pe(P,Te));return!Te.ended&&(Te.length<Te.highWaterMark||0===Te.length)}function Q(P,G,Ee,Ce){G.flowing&&0===G.length&&!G.sync&&P.listenerCount("data")>0?(G.multiAwaitDrain?G.awaitDrainWriters.clear():G.awaitDrainWriters=null,G.dataEmitted=!0,P.emit("data",Ee)):(G.length+=G.objectMode?1:Ee.length,Ce?G.buffer.unshift(Ee):G.buffer.push(Ee),G.needReadable&&_e(P)),Pe(P,G)}function we(P,G){return P<=0||0===G.length&&G.ended?0:G.objectMode?1:c(P)?G.flowing&&G.length?G.buffer.first().length:G.length:P<=G.length?P:G.ended?G.length:0}function _e(P){const G=P._readableState;F("emitReadable",G.needReadable,G.emittedReadable),G.needReadable=!1,G.emittedReadable||(F("emitReadable",G.flowing),G.emittedReadable=!0,A.nextTick(He,P))}function He(P){const G=P._readableState;F("emitReadable_",G.destroyed,G.length,G.ended),!G.destroyed&&!G.errored&&(G.length||G.ended)&&(P.emit("readable"),G.emittedReadable=!1),G.needReadable=!G.flowing&&!G.ended&&G.length<=G.highWaterMark,xe(P)}function Pe(P,G){!G.readingMore&&G.constructed&&(G.readingMore=!0,A.nextTick(Oe,P,G))}function Oe(P,G){for(;!G.reading&&!G.ended&&(G.length<G.highWaterMark||G.flowing&&0===G.length);){const Ee=G.length;if(F("maybeReadMore read 0"),P.read(0),Ee===G.length)break}G.readingMore=!1}function ve(P){const G=P._readableState;G.readableListening=P.listenerCount("readable")>0,G.resumeScheduled&&!1===G[X]?G.flowing=!0:P.listenerCount("data")>0?P.resume():G.readableListening||(G.flowing=null)}function ye(P){F("readable nexttick read 0"),P.read(0)}function je(P,G){F("resume",G.reading),G.reading||P.read(0),G.resumeScheduled=!1,P.emit("resume"),xe(P),G.flowing&&!G.reading&&P.read(0)}function xe(P){const G=P._readableState;for(F("flow",G.flowing);G.flowing&&null!==P.read(););}function $e(P,G){"function"!=typeof P.read&&(P=V.wrap(P,{objectMode:!0}));const Ee=function Ue(P,G){return Re.apply(this,arguments)}(P,G);return Ee.stream=P,Ee}function Re(){return(Re=v(function*(P,G){let Te,Ee=Ie;function Ce(Be){this===P?(Ee(),Ee=Ie):Ee=Be}P.on("readable",Ce);const Fe=B(P,{writable:!1},Be=>{Te=Be?O(Te,Be):null,Ee(),Ee=Ie});try{for(;;){const Be=P.destroyed?null:P.read();if(null!==Be)yield Be;else{if(Te)throw Te;if(null===Te)return;yield h(new a(Ce))}}}catch(Be){throw Te=O(Te,Be),Te}finally{!Te&&!1===G?.destroyOnReturn||void 0!==Te&&!P._readableState.autoDestroy?(P.off("readable",Ce),Fe()):z.destroyer(P,null)}})).apply(this,arguments)}function Xe(P,G){if(0===G.length)return null;let Ee;return G.objectMode?Ee=G.buffer.shift():!P||P>=G.length?(Ee=G.decoder?G.buffer.join(""):1===G.buffer.length?G.buffer.first():G.buffer.concat(G.length),G.buffer.clear()):Ee=G.buffer.consume(P,G.decoder),Ee}function ze(P){const G=P._readableState;F("endReadable",G.endEmitted),G.endEmitted||(G.ended=!0,A.nextTick(We,G,P))}function We(P,G){if(F("endReadableNT",P.endEmitted,P.length),!P.errored&&!P.closeEmitted&&!P.endEmitted&&0===P.length)if(P.endEmitted=!0,G.emit("end"),G.writable&&!1===G.allowHalfOpen)A.nextTick(it,G);else if(P.autoDestroy){const Ee=G._writableState;(!Ee||Ee.autoDestroy&&(Ee.finished||!1===Ee.writable))&&G.destroy()}}function it(P){P.writable&&!P.writableEnded&&!P.destroyed&&P.end()}let ee;function N(){return void 0===ee&&(ee={}),ee}V.prototype.destroy=z.destroy,V.prototype._undestroy=z.undestroy,V.prototype._destroy=function(P,G){G(P)},V.prototype[y.captureRejectionSymbol]=function(P){this.destroy(P)},V.prototype.push=function(P,G){return M(this,P,G,!1)},V.prototype.unshift=function(P,G){return M(this,P,G,!0)},V.prototype.isPaused=function(){const P=this._readableState;return!0===P[X]||!1===P.flowing},V.prototype.setEncoding=function(P){const G=new oe(P);this._readableState.decoder=G,this._readableState.encoding=this._readableState.decoder.encoding;const Ee=this._readableState.buffer;let Ce="";for(const Te of Ee)Ce+=G.write(Te);return Ee.clear(),""!==Ce&&Ee.push(Ce),this._readableState.length=Ce.length,this},V.prototype.read=function(P){F("read",P),void 0===P?P=NaN:E(P)||(P=u(P,10));const G=this._readableState,Ee=P;if(P>G.highWaterMark&&(G.highWaterMark=function de(P){if(P>1073741824)throw new Z("size","<= 1GiB",P);return P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,++P}(P)),0!==P&&(G.emittedReadable=!1),0===P&&G.needReadable&&((0!==G.highWaterMark?G.length>=G.highWaterMark:G.length>0)||G.ended))return F("read: emitReadable",G.length,G.ended),0===G.length&&G.ended?ze(this):_e(this),null;if(0===(P=we(P,G))&&G.ended)return 0===G.length&&ze(this),null;let Te,Ce=G.needReadable;if(F("need readable",Ce),(0===G.length||G.length-P<G.highWaterMark)&&(Ce=!0,F("length less than watermark",Ce)),G.ended||G.reading||G.destroyed||G.errored||!G.constructed)Ce=!1,F("reading, ended or constructing",Ce);else if(Ce){F("do read"),G.reading=!0,G.sync=!0,0===G.length&&(G.needReadable=!0);try{this._read(G.highWaterMark)}catch(Fe){w(this,Fe)}G.sync=!1,G.reading||(P=we(Ee,G))}return Te=P>0?Xe(P,G):null,null===Te?(G.needReadable=G.length<=G.highWaterMark,P=0):(G.length-=P,G.multiAwaitDrain?G.awaitDrainWriters.clear():G.awaitDrainWriters=null),0===G.length&&(G.ended||(G.needReadable=!0),Ee!==P&&G.ended&&ze(this)),null!==Te&&!G.errorEmitted&&!G.closeEmitted&&(G.dataEmitted=!0,this.emit("data",Te)),Te},V.prototype._read=function(P){throw new k("_read()")},V.prototype.pipe=function(P,G){const Ee=this,Ce=this._readableState;1===Ce.pipes.length&&(Ce.multiAwaitDrain||(Ce.multiAwaitDrain=!0,Ce.awaitDrainWriters=new m(Ce.awaitDrainWriters?[Ce.awaitDrainWriters]:[]))),Ce.pipes.push(P),F("pipe count=%d opts=%j",Ce.pipes.length,G);const Fe=G&&!1===G.end||P===A.stdout||P===A.stderr?L:st;function st(){F("onend"),P.end()}Ce.endEmitted?A.nextTick(Fe):Ee.once("end",Fe),P.on("unpipe",function Be(ae,ne){F("onunpipe"),ae===Ee&&ne&&!1===ne.hasUnpiped&&(ne.hasUnpiped=!0,function pt(){F("cleanup"),P.removeListener("close",It),P.removeListener("finish",ar),dt&&P.removeListener("drain",dt),P.removeListener("error",wt),P.removeListener("unpipe",Be),Ee.removeListener("end",st),Ee.removeListener("end",L),Ee.removeListener("data",Bt),et=!0,dt&&Ce.awaitDrainWriters&&(!P._writableState||P._writableState.needDrain)&&dt()}())});let dt,et=!1;function Tt(){et||(1===Ce.pipes.length&&Ce.pipes[0]===P?(F("false write response, pause",0),Ce.awaitDrainWriters=P,Ce.multiAwaitDrain=!1):Ce.pipes.length>1&&Ce.pipes.includes(P)&&(F("false write response, pause",Ce.awaitDrainWriters.size),Ce.awaitDrainWriters.add(P)),Ee.pause()),dt||(dt=function he(P,G){return function(){const Ce=P._readableState;Ce.awaitDrainWriters===G?(F("pipeOnDrain",1),Ce.awaitDrainWriters=null):Ce.multiAwaitDrain&&(F("pipeOnDrain",Ce.awaitDrainWriters.size),Ce.awaitDrainWriters.delete(G)),(!Ce.awaitDrainWriters||0===Ce.awaitDrainWriters.size)&&P.listenerCount("data")&&P.resume()}}(Ee,P),P.on("drain",dt))}function Bt(ae){F("ondata");const ne=P.write(ae);F("dest.write",ne),!1===ne&&Tt()}function wt(ae){if(F("onerror",ae),L(),P.removeListener("error",wt),0===P.listenerCount("error")){const ne=P._writableState||P._readableState;ne&&!ne.errorEmitted?w(P,ae):P.emit("error",ae)}}function It(){P.removeListener("finish",ar),L()}function ar(){F("onfinish"),P.removeListener("close",It),L()}function L(){F("unpipe"),Ee.unpipe(P)}return Ee.on("data",Bt),g(P,"error",wt),P.once("close",It),P.once("finish",ar),P.emit("pipe",Ee),!0===P.writableNeedDrain?Ce.flowing&&Tt():Ce.flowing||(F("pipe resume"),Ee.resume()),P},V.prototype.unpipe=function(P){const G=this._readableState;if(0===G.pipes.length)return this;if(!P){const Te=G.pipes;G.pipes=[],this.pause();for(let Fe=0;Fe<Te.length;Fe++)Te[Fe].emit("unpipe",this,{hasUnpiped:!1});return this}const Ce=S(G.pipes,P);return-1===Ce||(G.pipes.splice(Ce,1),0===G.pipes.length&&this.pause(),P.emit("unpipe",this,{hasUnpiped:!1})),this},V.prototype.addListener=V.prototype.on=function(P,G){const Ee=b.prototype.on.call(this,P,G),Ce=this._readableState;return"data"===P?(Ce.readableListening=this.listenerCount("readable")>0,!1!==Ce.flowing&&this.resume()):"readable"===P&&!Ce.endEmitted&&!Ce.readableListening&&(Ce.readableListening=Ce.needReadable=!0,Ce.flowing=!1,Ce.emittedReadable=!1,F("on readable",Ce.length,Ce.reading),Ce.length?_e(this):Ce.reading||A.nextTick(ye,this)),Ee},V.prototype.off=V.prototype.removeListener=function(P,G){const Ee=b.prototype.removeListener.call(this,P,G);return"readable"===P&&A.nextTick(ve,this),Ee},V.prototype.removeAllListeners=function(P){const G=b.prototype.removeAllListeners.apply(this,arguments);return("readable"===P||void 0===P)&&A.nextTick(ve,this),G},V.prototype.resume=function(){const P=this._readableState;return P.flowing||(F("resume"),P.flowing=!P.readableListening,function De(P,G){G.resumeScheduled||(G.resumeScheduled=!0,A.nextTick(je,P,G))}(this,P)),P[X]=!1,this},V.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[X]=!0,this},V.prototype.wrap=function(P){let G=!1;P.on("data",Ce=>{!this.push(Ce)&&P.pause&&(G=!0,P.pause())}),P.on("end",()=>{this.push(null)}),P.on("error",Ce=>{w(this,Ce)}),P.on("close",()=>{this.destroy()}),P.on("destroy",()=>{this.destroy()}),this._read=()=>{G&&P.resume&&(G=!1,P.resume())};const Ee=l(P);for(let Ce=1;Ce<Ee.length;Ce++){const Te=Ee[Ce];void 0===this[Te]&&"function"==typeof P[Te]&&(this[Te]=P[Te].bind(P))}return this},V.prototype[p]=function(){return $e(this)},V.prototype.iterator=function(P){return void 0!==P&&R(P,"options"),$e(this,P)},n(V.prototype,{readable:{__proto__:null,get(){const P=this._readableState;return!(!P||!1===P.readable||P.destroyed||P.errorEmitted||P.endEmitted)},set(P){this._readableState&&(this._readableState.readable=!!P)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(P){this._readableState&&(this._readableState.destroyed=P)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),n(I.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[X]},set(P){this[X]=!!P}}}),V._fromList=Xe,V.from=function(P,G){return be(V,P,G)},V.fromWeb=function(P,G){return N().newStreamReadableFromReadableStream(P,G)},V.toWeb=function(P,G){return N().newReadableStreamFromStreamReadable(P,G)},V.wrap=function(P,G){var Ee,Ce;return new V({objectMode:null===(Ee=null!==(Ce=P.readableObjectMode)&&void 0!==Ce?Ce:P.objectMode)||void 0===Ee||Ee,...G,destroy(Te,Fe){z.destroyer(P,Te),Fe(Te)}}).wrap(P)}},28942:(Y,f,i)=>{"use strict";const{MathFloor:h,NumberIsInteger:v}=i(85035),{ERR_INVALID_ARG_VALUE:A}=i(43600).codes;function E(u){return u?16:16384}Y.exports={getHighWaterMark:function c(u,n,l,s){const a=function S(u,n,l){return null!=u.highWaterMark?u.highWaterMark:n?u[l]:null}(n,s,l);if(null!=a){if(!v(a)||a<0)throw new A(s?`options.${l}`:"options.highWaterMark",a);return h(a)}return E(u.objectMode)},getDefaultHighWaterMark:E}},12475:(Y,f,i)=>{"use strict";const{ObjectSetPrototypeOf:h,Symbol:v}=i(85035);Y.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:A}=i(43600).codes,S=i(91669),{getHighWaterMark:E}=i(28942);h(u.prototype,S.prototype),h(u,S);const c=v("kCallback");function u(s){if(!(this instanceof u))return new u(s);const a=s?E(this,s,"readableHighWaterMark",!0):null;0===a&&(s={...s,highWaterMark:null,readableHighWaterMark:a,writableHighWaterMark:s.writableHighWaterMark||0}),S.call(this,s),this._readableState.sync=!1,this[c]=null,s&&("function"==typeof s.transform&&(this._transform=s.transform),"function"==typeof s.flush&&(this._flush=s.flush)),this.on("prefinish",l)}function n(s){"function"!=typeof this._flush||this.destroyed?(this.push(null),s&&s()):this._flush((a,m)=>{a?s?s(a):this.destroy(a):(null!=m&&this.push(m),this.push(null),s&&s())})}function l(){this._final!==n&&n.call(this)}u.prototype._final=n,u.prototype._transform=function(s,a,m){throw new A("_transform()")},u.prototype._write=function(s,a,m){const p=this._readableState,d=this._writableState,y=p.length;this._transform(s,a,(b,g)=>{b?m(b):(null!=g&&this.push(g),d.ended||y===p.length||p.length<p.highWaterMark?m():this[c]=m)})},u.prototype._read=function(){if(this[c]){const s=this[c];this[c]=null,s()}}},48886:(Y,f,i)=>{"use strict";const{Symbol:h,SymbolAsyncIterator:v,SymbolIterator:A,SymbolFor:S}=i(85035),E=h("kDestroyed"),c=h("kIsErrored"),u=h("kIsReadable"),n=h("kIsDisturbed"),l=S("nodejs.webstream.isClosedPromise"),s=S("nodejs.webstream.controllerErrorFunction");function a(w,I=!1){var V;return!(!w||"function"!=typeof w.pipe||"function"!=typeof w.on||I&&("function"!=typeof w.pause||"function"!=typeof w.resume)||w._writableState&&!1===(null===(V=w._readableState)||void 0===V?void 0:V.readable)||w._writableState&&!w._readableState)}function m(w){var I;return!(!w||"function"!=typeof w.write||"function"!=typeof w.on||w._readableState&&!1===(null===(I=w._writableState)||void 0===I?void 0:I.writable))}function d(w){return w&&(w._readableState||w._writableState||"function"==typeof w.write&&"function"==typeof w.on||"function"==typeof w.pipe&&"function"==typeof w.on)}function y(w){return!(!w||d(w)||"function"!=typeof w.pipeThrough||"function"!=typeof w.getReader||"function"!=typeof w.cancel)}function b(w){return!(!w||d(w)||"function"!=typeof w.getWriter||"function"!=typeof w.abort)}function g(w){return!(!w||d(w)||"object"!=typeof w.readable||"object"!=typeof w.writable)}function B(w){if(!d(w))return null;const M=w._writableState||w._readableState;return!!(w.destroyed||w[E]||null!=M&&M.destroyed)}function F(w){if(!m(w))return null;if(!0===w.writableEnded)return!0;const I=w._writableState;return(null==I||!I.errored)&&("boolean"!=typeof I?.ended?null:I.ended)}function re(w,I){if(!a(w))return null;const V=w._readableState;return(null==V||!V.errored)&&("boolean"!=typeof V?.endEmitted?null:!!(V.endEmitted||!1===I&&!0===V.ended&&0===V.length))}function ie(w){return w&&null!=w[u]?w[u]:"boolean"!=typeof w?.readable?null:!B(w)&&a(w)&&w.readable&&!re(w)}function O(w){return"boolean"!=typeof w?.writable?null:!B(w)&&m(w)&&w.writable&&!F(w)}function pe(w){return"boolean"==typeof w._closed&&"boolean"==typeof w._defaultKeepAlive&&"boolean"==typeof w._removedConnection&&"boolean"==typeof w._removedContLen}function R(w){return"boolean"==typeof w._sent100&&pe(w)}Y.exports={kDestroyed:E,isDisturbed:function be(w){var I;return!(!w||!(null!==(I=w[n])&&void 0!==I?I:w.readableDidRead||w.readableAborted))},kIsDisturbed:n,isErrored:function Ie(w){var I,V,M,Q,ue,de,we,fe,_e,He;return!(!w||!(null!==(I=null!==(V=null!==(M=null!==(Q=null!==(ue=null!==(de=w[c])&&void 0!==de?de:w.readableErrored)&&void 0!==ue?ue:w.writableErrored)&&void 0!==Q?Q:null===(we=w._readableState)||void 0===we?void 0:we.errorEmitted)&&void 0!==M?M:null===(fe=w._writableState)||void 0===fe?void 0:fe.errorEmitted)&&void 0!==V?V:null===(_e=w._readableState)||void 0===_e?void 0:_e.errored)&&void 0!==I?I:null!==(He=w._writableState)&&void 0!==He&&He.errored))},kIsErrored:c,isReadable:ie,kIsReadable:u,kIsClosedPromise:l,kControllerErrorFunction:s,isClosed:function W(w){if(!d(w))return null;if("boolean"==typeof w.closed)return w.closed;const I=w._writableState,V=w._readableState;return"boolean"==typeof I?.closed||"boolean"==typeof V?.closed?I?.closed||V?.closed:"boolean"==typeof w._closed&&pe(w)?w._closed:null},isDestroyed:B,isDuplexNodeStream:function p(w){return!(!w||"function"!=typeof w.pipe||!w._readableState||"function"!=typeof w.on||"function"!=typeof w.write)},isFinished:function J(w,I){return d(w)?!!B(w)||!(!1!==I?.readable&&ie(w)||!1!==I?.writable&&O(w)):null},isIterable:function C(w,I){return null!=w&&(!0===I?"function"==typeof w[v]:!1===I?"function"==typeof w[A]:"function"==typeof w[v]||"function"==typeof w[A])},isReadableNodeStream:a,isReadableStream:y,isReadableEnded:function z(w){if(!a(w))return null;if(!0===w.readableEnded)return!0;const I=w._readableState;return!(!I||I.errored)&&("boolean"!=typeof I?.ended?null:I.ended)},isReadableFinished:re,isReadableErrored:function Z(w){var I,V;return d(w)?w.readableErrored?w.readableErrored:null!==(I=null===(V=w._readableState)||void 0===V?void 0:V.errored)&&void 0!==I?I:null:null},isNodeStream:d,isWebStream:function x(w){return y(w)||b(w)||g(w)},isWritable:O,isWritableNodeStream:m,isWritableStream:b,isWritableEnded:F,isWritableFinished:function T(w,I){if(!m(w))return null;if(!0===w.writableFinished)return!0;const V=w._writableState;return(null==V||!V.errored)&&("boolean"!=typeof V?.finished?null:!!(V.finished||!1===I&&!0===V.ended&&0===V.length))},isWritableErrored:function k(w){var I,V;return d(w)?w.writableErrored?w.writableErrored:null!==(I=null===(V=w._writableState)||void 0===V?void 0:V.errored)&&void 0!==I?I:null:null},isServerRequest:function X(w){var I;return"boolean"==typeof w._consuming&&"boolean"==typeof w._dumped&&void 0===(null===(I=w.req)||void 0===I?void 0:I.upgradeOrConnect)},isServerResponse:R,willEmitClose:function oe(w){if(!d(w))return null;const M=w._writableState||w._readableState;return!M&&R(w)||!!(M&&M.autoDestroy&&M.emitClose&&!1===M.closed)},isTransformStream:g}},37663:(Y,f,i)=>{const h=i(40573),{ArrayPrototypeSlice:v,Error:A,FunctionPrototypeSymbolHasInstance:S,ObjectDefineProperty:E,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:n,Symbol:l,SymbolHasInstance:s}=i(85035);Y.exports=R,R.WritableState=W;const{EventEmitter:a}=i(44356),m=i(91356).Stream,{Buffer:p}=i(86166),d=i(13725),{addAbortSignal:y}=i(28664),{getHighWaterMark:b,getDefaultHighWaterMark:g}=i(28942),{ERR_INVALID_ARG_TYPE:x,ERR_METHOD_NOT_IMPLEMENTED:C,ERR_MULTIPLE_CALLBACK:B,ERR_STREAM_CANNOT_PIPE:F,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:z,ERR_STREAM_NULL_VALUES:re,ERR_STREAM_WRITE_AFTER_END:ie,ERR_UNKNOWN_ENCODING:O}=i(43600).codes,{errorOrDestroy:J}=d;function k(){}u(R.prototype,m.prototype),u(R,m);const Z=l("kOnFinished");function W(he,ve,ye){"boolean"!=typeof ye&&(ye=ve instanceof i(91669)),this.objectMode=!(!he||!he.objectMode),ye&&(this.objectMode=this.objectMode||!(!he||!he.writableObjectMode)),this.highWaterMark=he?b(this,he,"writableHighWaterMark",ye):g(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(he&&!1===he.decodeStrings),this.defaultEncoding=he&&he.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=w.bind(void 0,ve),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,pe(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!he||!1!==he.emitClose,this.autoDestroy=!he||!1!==he.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Z]=[]}function pe(he){he.buffered=[],he.bufferedIndex=0,he.allBuffers=!0,he.allNoop=!0}function R(he){const ve=this instanceof i(91669);if(!ve&&!S(R,this))return new R(he);this._writableState=new W(he,this,ve),he&&("function"==typeof he.write&&(this._write=he.write),"function"==typeof he.writev&&(this._writev=he.writev),"function"==typeof he.destroy&&(this._destroy=he.destroy),"function"==typeof he.final&&(this._final=he.final),"function"==typeof he.construct&&(this._construct=he.construct),he.signal&&y(he.signal,this)),m.call(this,he),d.construct(this,()=>{const ye=this._writableState;ye.writing||Q(this,ye),fe(this,ye)})}function X(he,ve,ye,De){const je=he._writableState;if("function"==typeof ye)De=ye,ye=je.defaultEncoding;else{if(ye){if("buffer"!==ye&&!p.isEncoding(ye))throw new O(ye)}else ye=je.defaultEncoding;"function"!=typeof De&&(De=k)}if(null===ve)throw new re;if(!je.objectMode)if("string"==typeof ve)!1!==je.decodeStrings&&(ve=p.from(ve,ye),ye="buffer");else if(ve instanceof p)ye="buffer";else{if(!m._isUint8Array(ve))throw new x("chunk",["string","Buffer","Uint8Array"],ve);ve=m._uint8ArrayToBuffer(ve),ye="buffer"}let xe;return je.ending?xe=new ie:je.destroyed&&(xe=new T("write")),xe?(h.nextTick(De,xe),J(he,xe,!0),xe):(je.pendingcb++,function oe(he,ve,ye,De,je){const xe=ve.objectMode?1:ye.length;ve.length+=xe;const $e=ve.length<ve.highWaterMark;return $e||(ve.needDrain=!0),ve.writing||ve.corked||ve.errored||!ve.constructed?(ve.buffered.push({chunk:ye,encoding:De,callback:je}),ve.allBuffers&&"buffer"!==De&&(ve.allBuffers=!1),ve.allNoop&&je!==k&&(ve.allNoop=!1)):(ve.writelen=xe,ve.writecb=je,ve.writing=!0,ve.sync=!0,he._write(ye,De,ve.onwrite),ve.sync=!1),$e&&!ve.errored&&!ve.destroyed}(he,je,ve,ye,De))}function be(he,ve,ye,De,je,xe,$e){ve.writelen=De,ve.writecb=$e,ve.writing=!0,ve.sync=!0,ve.destroyed?ve.onwrite(new T("write")):ye?he._writev(je,ve.onwrite):he._write(je,xe,ve.onwrite),ve.sync=!1}function Ie(he,ve,ye,De){--ve.pendingcb,De(ye),M(ve),J(he,ye)}function w(he,ve){const ye=he._writableState,De=ye.sync,je=ye.writecb;"function"==typeof je?(ye.writing=!1,ye.writecb=null,ye.length-=ye.writelen,ye.writelen=0,ve?(ye.errored||(ye.errored=ve),he._readableState&&!he._readableState.errored&&(he._readableState.errored=ve),De?h.nextTick(Ie,he,ye,ve,je):Ie(he,ye,ve,je)):(ye.buffered.length>ye.bufferedIndex&&Q(he,ye),De?null!==ye.afterWriteTickInfo&&ye.afterWriteTickInfo.cb===je?ye.afterWriteTickInfo.count++:(ye.afterWriteTickInfo={count:1,cb:je,stream:he,state:ye},h.nextTick(I,ye.afterWriteTickInfo)):V(he,ye,1,je))):J(he,new B)}function I({stream:he,state:ve,count:ye,cb:De}){return ve.afterWriteTickInfo=null,V(he,ve,ye,De)}function V(he,ve,ye,De){for(!ve.ending&&!he.destroyed&&0===ve.length&&ve.needDrain&&(ve.needDrain=!1,he.emit("drain"));ye-- >0;)ve.pendingcb--,De();ve.destroyed&&M(ve),fe(he,ve)}function M(he){if(he.writing)return;for(let je=he.bufferedIndex;je<he.buffered.length;++je){var ve;const{chunk:xe,callback:$e}=he.buffered[je];he.length-=he.objectMode?1:xe.length,$e(null!==(ve=he.errored)&&void 0!==ve?ve:new T("write"))}const ye=he[Z].splice(0);for(let je=0;je<ye.length;je++){var De;ye[je](null!==(De=he.errored)&&void 0!==De?De:new T("end"))}pe(he)}function Q(he,ve){if(ve.corked||ve.bufferProcessing||ve.destroyed||!ve.constructed)return;const{buffered:ye,bufferedIndex:De,objectMode:je}=ve,xe=ye.length-De;if(!xe)return;let $e=De;if(ve.bufferProcessing=!0,xe>1&&he._writev){ve.pendingcb-=xe-1;const Ue=ve.allNoop?k:Xe=>{for(let ze=$e;ze<ye.length;++ze)ye[ze].callback(Xe)},Re=ve.allNoop&&0===$e?ye:v(ye,$e);Re.allBuffers=ve.allBuffers,be(he,ve,!0,ve.length,Re,"",Ue),pe(ve)}else{do{const{chunk:Ue,encoding:Re,callback:Xe}=ye[$e];ye[$e++]=null,be(he,ve,!1,je?1:Ue.length,Ue,Re,Xe)}while($e<ye.length&&!ve.writing);$e===ye.length?pe(ve):$e>256?(ye.splice(0,$e),ve.bufferedIndex=0):ve.bufferedIndex=$e}ve.bufferProcessing=!1}function ue(he){return he.ending&&!he.destroyed&&he.constructed&&0===he.length&&!he.errored&&0===he.buffered.length&&!he.finished&&!he.writing&&!he.errorEmitted&&!he.closeEmitted}function fe(he,ve,ye){ue(ve)&&(function we(he,ve){!ve.prefinished&&!ve.finalCalled&&("function"!=typeof he._final||ve.destroyed?(ve.prefinished=!0,he.emit("prefinish")):(ve.finalCalled=!0,function de(he,ve){let ye=!1;function De(je){if(ye)J(he,je??B());else if(ye=!0,ve.pendingcb--,je){const xe=ve[Z].splice(0);for(let $e=0;$e<xe.length;$e++)xe[$e](je);J(he,je,ve.sync)}else ue(ve)&&(ve.prefinished=!0,he.emit("prefinish"),ve.pendingcb++,h.nextTick(_e,he,ve))}ve.sync=!0,ve.pendingcb++;try{he._final(De)}catch(je){De(je)}ve.sync=!1}(he,ve)))}(he,ve),0===ve.pendingcb&&(ye?(ve.pendingcb++,h.nextTick((De,je)=>{ue(je)?_e(De,je):je.pendingcb--},he,ve)):ue(ve)&&(ve.pendingcb++,_e(he,ve))))}function _e(he,ve){ve.pendingcb--,ve.finished=!0;const ye=ve[Z].splice(0);for(let De=0;De<ye.length;De++)ye[De]();if(he.emit("finish"),ve.autoDestroy){const De=he._readableState;(!De||De.autoDestroy&&(De.endEmitted||!1===De.readable))&&he.destroy()}}W.prototype.getBuffer=function(){return v(this.buffered,this.bufferedIndex)},E(W.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),E(R,s,{__proto__:null,value:function(he){return!!S(this,he)||this===R&&he&&he._writableState instanceof W}}),R.prototype.pipe=function(){J(this,new F)},R.prototype.write=function(he,ve,ye){return!0===X(this,he,ve,ye)},R.prototype.cork=function(){this._writableState.corked++},R.prototype.uncork=function(){const he=this._writableState;he.corked&&(he.corked--,he.writing||Q(this,he))},R.prototype.setDefaultEncoding=function(ve){if("string"==typeof ve&&(ve=n(ve)),!p.isEncoding(ve))throw new O(ve);return this._writableState.defaultEncoding=ve,this},R.prototype._write=function(he,ve,ye){if(!this._writev)throw new C("_write()");this._writev([{chunk:he,encoding:ve}],ye)},R.prototype._writev=null,R.prototype.end=function(he,ve,ye){const De=this._writableState;let je;if("function"==typeof he?(ye=he,he=null,ve=null):"function"==typeof ve&&(ye=ve,ve=null),null!=he){const xe=X(this,he,ve);xe instanceof A&&(je=xe)}return De.corked&&(De.corked=1,this.uncork()),je||(De.errored||De.ending?De.finished?je=new z("end"):De.destroyed&&(je=new T("end")):(De.ending=!0,fe(this,De,!0),De.ended=!0)),"function"==typeof ye&&(je||De.finished?h.nextTick(ye,je):De[Z].push(ye)),this},c(R.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(he){this._writableState&&(this._writableState.destroyed=he)}},writable:{__proto__:null,get(){const he=this._writableState;return!(!he||!1===he.writable||he.destroyed||he.errored||he.ending||he.ended)},set(he){this._writableState&&(this._writableState.writable=!!he)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const he=this._writableState;return!!he&&!he.destroyed&&!he.ending&&he.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const He=d.destroy;let Pe;function Oe(){return void 0===Pe&&(Pe={}),Pe}R.prototype.destroy=function(he,ve){const ye=this._writableState;return!ye.destroyed&&(ye.bufferedIndex<ye.buffered.length||ye[Z].length)&&h.nextTick(M,ye),He.call(this,he,ve),this},R.prototype._undestroy=d.undestroy,R.prototype._destroy=function(he,ve){ve(he)},R.prototype[a.captureRejectionSymbol]=function(he){this.destroy(he)},R.fromWeb=function(he,ve){return Oe().newStreamWritableFromWritableStream(he,ve)},R.toWeb=function(he){return Oe().newWritableStreamFromStreamWritable(he)}},63918:(Y,f,i)=>{"use strict";const{ArrayIsArray:h,ArrayPrototypeIncludes:v,ArrayPrototypeJoin:A,ArrayPrototypeMap:S,NumberIsInteger:E,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:n,NumberParseInt:l,ObjectPrototypeHasOwnProperty:s,RegExpPrototypeExec:a,String:m,StringPrototypeToUpperCase:p,StringPrototypeTrim:d}=i(85035),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:g,ERR_INVALID_ARG_VALUE:x,ERR_OUT_OF_RANGE:C,ERR_UNKNOWN_SIGNAL:B}}=i(43600),{normalizeEncoding:F}=i(31895),{isAsyncFunction:T,isArrayBufferView:z}=i(31895).types,re={},J=/^[0-7]+$/,W=y((xe,$e,Ue=n,Re=u)=>{if("number"!=typeof xe)throw new g($e,"number",xe);if(!E(xe))throw new C($e,"an integer",xe);if(xe<Ue||xe>Re)throw new C($e,`>= ${Ue} && <= ${Re}`,xe)}),pe=y((xe,$e,Ue=-2147483648,Re=2147483647)=>{if("number"!=typeof xe)throw new g($e,"number",xe);if(!E(xe))throw new C($e,"an integer",xe);if(xe<Ue||xe>Re)throw new C($e,`>= ${Ue} && <= ${Re}`,xe)}),R=y((xe,$e,Ue=!1)=>{if("number"!=typeof xe)throw new g($e,"number",xe);if(!E(xe))throw new C($e,"an integer",xe);const Re=Ue?1:0,Xe=4294967295;if(xe<Re||xe>Xe)throw new C($e,`>= ${Re} && <= ${Xe}`,xe)});function X(xe,$e){if("string"!=typeof xe)throw new g($e,"string",xe)}const be=y((xe,$e,Ue)=>{if(!v(Ue,xe)){const Xe="must be one of: "+A(S(Ue,ze=>"string"==typeof ze?`'${ze}'`:m(ze)),", ");throw new x($e,xe,Xe)}});function Ie(xe,$e){if("boolean"!=typeof xe)throw new g($e,"boolean",xe)}function w(xe,$e,Ue){return null!=xe&&s(xe,$e)?xe[$e]:Ue}const I=y((xe,$e,Ue=null)=>{const Re=w(Ue,"allowArray",!1),Xe=w(Ue,"allowFunction",!1);if(!w(Ue,"nullable",!1)&&null===xe||!Re&&h(xe)||"object"!=typeof xe&&(!Xe||"function"!=typeof xe))throw new g($e,"Object",xe)}),V=y((xe,$e)=>{if(null!=xe&&"object"!=typeof xe&&"function"!=typeof xe)throw new g($e,"a dictionary",xe)}),M=y((xe,$e,Ue=0)=>{if(!h(xe))throw new g($e,"Array",xe);if(xe.length<Ue)throw new x($e,xe,`must be longer than ${Ue}`)}),we=y((xe,$e="buffer")=>{if(!z(xe))throw new g($e,["Buffer","TypedArray","DataView"],xe)}),He=y((xe,$e)=>{if(void 0!==xe&&(null===xe||"object"!=typeof xe||!("aborted"in xe)))throw new g($e,"AbortSignal",xe)}),Pe=y((xe,$e)=>{if("function"!=typeof xe)throw new g($e,"Function",xe)}),Oe=y((xe,$e)=>{if("function"!=typeof xe||T(xe))throw new g($e,"Function",xe)}),he=y((xe,$e)=>{if(void 0!==xe)throw new g($e,"undefined",xe)}),ye=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function De(xe,$e){if(typeof xe>"u"||!a(ye,xe))throw new x($e,xe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Y.exports={isInt32:function ie(xe){return xe===(0|xe)},isUint32:function O(xe){return xe===xe>>>0},parseFileMode:function Z(xe,$e,Ue){if(typeof xe>"u"&&(xe=Ue),"string"==typeof xe){if(null===a(J,xe))throw new x($e,xe,"must be a 32-bit unsigned integer or an octal string");xe=l(xe,8)}return R(xe,$e),xe},validateArray:M,validateStringArray:function Q(xe,$e){M(xe,$e);for(let Ue=0;Ue<xe.length;Ue++)X(xe[Ue],`${$e}[${Ue}]`)},validateBooleanArray:function ue(xe,$e){M(xe,$e);for(let Ue=0;Ue<xe.length;Ue++)Ie(xe[Ue],`${$e}[${Ue}]`)},validateBoolean:Ie,validateBuffer:we,validateDictionary:V,validateEncoding:function fe(xe,$e){const Ue=F($e),Re=xe.length;if("hex"===Ue&&Re%2!=0)throw new x("encoding",$e,`is invalid for data of length ${Re}`)},validateFunction:Pe,validateInt32:pe,validateInteger:W,validateNumber:function oe(xe,$e,Ue=void 0,Re){if("number"!=typeof xe)throw new g($e,"number",xe);if(null!=Ue&&xe<Ue||null!=Re&&xe>Re||(null!=Ue||null!=Re)&&c(xe))throw new C($e,`${null!=Ue?`>= ${Ue}`:""}${null!=Ue&&null!=Re?" && ":""}${null!=Re?`<= ${Re}`:""}`,xe)},validateObject:I,validateOneOf:be,validatePlainFunction:Oe,validatePort:function _e(xe,$e="Port",Ue=!0){if("number"!=typeof xe&&"string"!=typeof xe||"string"==typeof xe&&0===d(xe).length||+xe!=+xe>>>0||xe>65535||0===xe&&!Ue)throw new b($e,xe,Ue);return 0|xe},validateSignalName:function de(xe,$e="signal"){if(X(xe,$e),void 0===re[xe])throw void 0!==re[p(xe)]?new B(xe+" (signals must use all capital letters)"):new B(xe)},validateString:X,validateUint32:R,validateUndefined:he,validateUnion:function ve(xe,$e,Ue){if(!v(Ue,xe))throw new g($e,`('${A(Ue,"|")}')`,xe)},validateAbortSignal:He,validateLinkHeaderValue:function je(xe){if("string"==typeof xe)return De(xe,"hints"),xe;if(h(xe)){const $e=xe.length;let Ue="";if(0===$e)return Ue;for(let Re=0;Re<$e;Re++){const Xe=xe[Re];De(Xe,"hints"),Ue+=Xe,Re!==$e-1&&(Ue+=", ")}return Ue}throw new x("hints",xe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},57963:(Y,f,i)=>{"use strict";const h=i(71995),v=i(86124),A=h.Readable.destroy;Y.exports=h.Readable,Y.exports._uint8ArrayToBuffer=h._uint8ArrayToBuffer,Y.exports._isUint8Array=h._isUint8Array,Y.exports.isDisturbed=h.isDisturbed,Y.exports.isErrored=h.isErrored,Y.exports.isReadable=h.isReadable,Y.exports.Readable=h.Readable,Y.exports.Writable=h.Writable,Y.exports.Duplex=h.Duplex,Y.exports.Transform=h.Transform,Y.exports.PassThrough=h.PassThrough,Y.exports.addAbortSignal=h.addAbortSignal,Y.exports.finished=h.finished,Y.exports.destroy=h.destroy,Y.exports.destroy=A,Y.exports.pipeline=h.pipeline,Y.exports.compose=h.compose,Object.defineProperty(h,"promises",{configurable:!0,enumerable:!0,get:()=>v}),Y.exports.Stream=h.Stream,Y.exports.default=Y.exports},43600:(Y,f,i)=>{"use strict";const{format:h,inspect:v,AggregateError:A}=i(31895),S=globalThis.AggregateError||A,E=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,l={};function s(g,x){if(!g)throw new l.ERR_INTERNAL_ASSERTION(x)}function a(g){let x="",C=g.length;const B="-"===g[0]?1:0;for(;C>=B+4;C-=3)x=`_${g.slice(C-3,C)}${x}`;return`${g.slice(0,C)}${x}`}function p(g,x,C){C||(C=Error);class B extends C{constructor(...T){super(function m(g,x,C){if("function"==typeof x)return s(x.length<=C.length,`Code: ${g}; The provided arguments length (${C.length}) does not match the required ones (${x.length}).`),x(...C);const B=(x.match(/%[dfijoOs]/g)||[]).length;return s(B===C.length,`Code: ${g}; The provided arguments length (${C.length}) does not match the required ones (${B}).`),0===C.length?x:h(x,...C)}(g,x,T))}toString(){return`${this.name} [${g}]: ${this.message}`}}Object.defineProperties(B.prototype,{name:{value:C.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${g}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),B.prototype.code=g,B.prototype[E]=!0,l[g]=B}function d(g){return Object.defineProperty(g,"name",{value:"__node_internal_"+g.name}),g}class b extends Error{constructor(x="The operation was aborted",C=void 0){if(void 0!==C&&"object"!=typeof C)throw new l.ERR_INVALID_ARG_TYPE("options","Object",C);super(x,C),this.code="ABORT_ERR",this.name="AbortError"}}p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(g,x,C)=>{s("string"==typeof g,"'name' must be a string"),Array.isArray(x)||(x=[x]);let B="The ";g.endsWith(" argument")?B+=`${g} `:B+=`"${g}" ${g.includes(".")?"property":"argument"} `,B+="must be ";const F=[],T=[],z=[];for(const ie of x)s("string"==typeof ie,"All expected entries have to be of type string"),c.includes(ie)?F.push(ie.toLowerCase()):u.test(ie)?T.push(ie):(s("object"!==ie,'The value "object" should be written as "Object"'),z.push(ie));if(T.length>0){const ie=F.indexOf("object");-1!==ie&&(F.splice(F,ie,1),T.push("Object"))}if(F.length>0){switch(F.length){case 1:B+=`of type ${F[0]}`;break;case 2:B+=`one of type ${F[0]} or ${F[1]}`;break;default:{const ie=F.pop();B+=`one of type ${F.join(", ")}, or ${ie}`}}(T.length>0||z.length>0)&&(B+=" or ")}if(T.length>0){switch(T.length){case 1:B+=`an instance of ${T[0]}`;break;case 2:B+=`an instance of ${T[0]} or ${T[1]}`;break;default:{const ie=T.pop();B+=`an instance of ${T.join(", ")}, or ${ie}`}}z.length>0&&(B+=" or ")}switch(z.length){case 0:break;case 1:z[0].toLowerCase()!==z[0]&&(B+="an "),B+=`${z[0]}`;break;case 2:B+=`one of ${z[0]} or ${z[1]}`;break;default:{const ie=z.pop();B+=`one of ${z.join(", ")}, or ${ie}`}}if(null==C)B+=`. Received ${C}`;else if("function"==typeof C&&C.name)B+=`. Received function ${C.name}`;else if("object"==typeof C){var re;null!==(re=C.constructor)&&void 0!==re&&re.name?B+=`. Received an instance of ${C.constructor.name}`:B+=`. Received ${v(C,{depth:-1})}`}else{let ie=v(C,{colors:!1});ie.length>25&&(ie=`${ie.slice(0,25)}...`),B+=`. Received type ${typeof C} (${ie})`}return B},TypeError),p("ERR_INVALID_ARG_VALUE",(g,x,C="is invalid")=>{let B=v(x);return B.length>128&&(B=B.slice(0,128)+"..."),`The ${g.includes(".")?"property":"argument"} '${g}' ${C}. Received ${B}`},TypeError),p("ERR_INVALID_RETURN_VALUE",(g,x,C)=>{var B;return`Expected ${g} to be returned from the "${x}" function but got ${null!=C&&null!==(B=C.constructor)&&void 0!==B&&B.name?`instance of ${C.constructor.name}`:"type "+typeof C}.`},TypeError),p("ERR_MISSING_ARGS",(...g)=>{let x;s(g.length>0,"At least one arg needs to be specified");const C=g.length;switch(g=(Array.isArray(g)?g:[g]).map(B=>`"${B}"`).join(" or "),C){case 1:x+=`The ${g[0]} argument`;break;case 2:x+=`The ${g[0]} and ${g[1]} arguments`;break;default:{const B=g.pop();x+=`The ${g.join(", ")}, and ${B} arguments`}}return`${x} must be specified`},TypeError),p("ERR_OUT_OF_RANGE",(g,x,C)=>{let B;return s(x,'Missing "range" argument'),Number.isInteger(C)&&Math.abs(C)>2**32?B=a(String(C)):"bigint"==typeof C?(B=String(C),(C>2n**32n||C<-(2n**32n))&&(B=a(B)),B+="n"):B=v(C),`The value of "${g}" is out of range. It must be ${x}. Received ${B}`},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Y.exports={AbortError:b,aggregateTwoErrors:d(function y(g,x){if(g&&x&&g!==x){if(Array.isArray(x.errors))return x.errors.push(g),x;const C=new S([x,g],x.message);return C.code=x.code,C}return g||x}),hideStackFrames:d,codes:l}},85035:Y=>{"use strict";Y.exports={ArrayIsArray:f=>Array.isArray(f),ArrayPrototypeIncludes:(f,i)=>f.includes(i),ArrayPrototypeIndexOf:(f,i)=>f.indexOf(i),ArrayPrototypeJoin:(f,i)=>f.join(i),ArrayPrototypeMap:(f,i)=>f.map(i),ArrayPrototypePop:(f,i)=>f.pop(i),ArrayPrototypePush:(f,i)=>f.push(i),ArrayPrototypeSlice:(f,i,h)=>f.slice(i,h),Error,FunctionPrototypeCall:(f,i,...h)=>f.call(i,...h),FunctionPrototypeSymbolHasInstance:(f,i)=>Function.prototype[Symbol.hasInstance].call(f,i),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(f,i)=>Object.defineProperties(f,i),ObjectDefineProperty:(f,i,h)=>Object.defineProperty(f,i,h),ObjectGetOwnPropertyDescriptor:(f,i)=>Object.getOwnPropertyDescriptor(f,i),ObjectKeys:f=>Object.keys(f),ObjectSetPrototypeOf:(f,i)=>Object.setPrototypeOf(f,i),Promise,PromisePrototypeCatch:(f,i)=>f.catch(i),PromisePrototypeThen:(f,i,h)=>f.then(i,h),PromiseReject:f=>Promise.reject(f),ReflectApply:Reflect.apply,RegExpPrototypeTest:(f,i)=>f.test(i),SafeSet:Set,String,StringPrototypeSlice:(f,i,h)=>f.slice(i,h),StringPrototypeToLowerCase:f=>f.toLowerCase(),StringPrototypeToUpperCase:f=>f.toUpperCase(),StringPrototypeTrim:f=>f.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:(f,i,h)=>f.set(i,h),Uint8Array}},31895:(Y,f,i)=>{"use strict";var h=i(29293).default;const v=i(86166),A=Object.getPrototypeOf(h(function*(){})).constructor,S=globalThis.Blob||v.Blob,E=typeof S<"u"?function(n){return n instanceof S}:function(n){return!1};class c extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError("Expected input to be an Array, got "+typeof n);let l="";for(let s=0;s<n.length;s++)l+=`    ${n[s].stack}\n`;super(l),this.name="AggregateError",this.errors=n}}Y.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(u){let n=!1;return function(...l){n||(n=!0,u.apply(this,l))}},createDeferredPromise:function(){let u,n;return{promise:new Promise((s,a)=>{u=s,n=a}),resolve:u,reject:n}},promisify:u=>new Promise((n,l)=>{u((s,...a)=>s?l(s):n(...a))}),debuglog:()=>function(){},format:(u,...n)=>u.replace(/%([sdifj])/g,function(...[l,s]){const a=n.shift();return"f"===s?a.toFixed(6):"j"===s?JSON.stringify(a):"s"===s&&"object"==typeof a?`${a.constructor!==Object?a.constructor.name:""} {}`.trim():a.toString()}),inspect(u){switch(typeof u){case"string":if(u.includes("'")){if(!u.includes('"'))return`"${u}"`;if(!u.includes("`")&&!u.includes("${"))return`\`${u}\``}return`'${u}'`;case"number":return isNaN(u)?"NaN":Object.is(u,-0)?String(u):u;case"bigint":return`${String(u)}n`;case"boolean":case"undefined":return String(u);case"object":return"{}"}},types:{isAsyncFunction:u=>u instanceof A,isArrayBufferView:u=>ArrayBuffer.isView(u)},isBlob:E},Y.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},71995:(Y,f,i)=>{const{Buffer:h}=i(86166),{ObjectDefineProperty:v,ObjectKeys:A,ReflectApply:S}=i(85035),{promisify:{custom:E}}=i(31895),{streamReturningOperators:c,promiseReturningOperators:u}=i(71234),{codes:{ERR_ILLEGAL_CONSTRUCTOR:n}}=i(43600),l=i(83763),{pipeline:s}=i(62305),{destroyer:a}=i(13725),m=i(37595),d=i(86124),y=i(48886),b=Y.exports=i(91356).Stream;b.isDisturbed=y.isDisturbed,b.isErrored=y.isErrored,b.isReadable=y.isReadable,b.Readable=i(96155);for(const C of A(c)){let F=function(...T){if(new.target)throw n();return b.Readable.from(S(B,this,T))};const B=c[C];v(F,"name",{__proto__:null,value:B.name}),v(F,"length",{__proto__:null,value:B.length}),v(b.Readable.prototype,C,{__proto__:null,value:F,enumerable:!1,configurable:!0,writable:!0})}for(const C of A(u)){let F=function(...z){if(new.target)throw n();return S(B,this,z)};const B=u[C];v(F,"name",{__proto__:null,value:B.name}),v(F,"length",{__proto__:null,value:B.length}),v(b.Readable.prototype,C,{__proto__:null,value:F,enumerable:!1,configurable:!0,writable:!0})}b.Writable=i(37663),b.Duplex=i(91669),b.Transform=i(12475),b.PassThrough=i(6513),b.pipeline=s;const{addAbortSignal:g}=i(28664);b.addAbortSignal=g,b.finished=m,b.destroy=a,b.compose=l,v(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>d}),v(s,E,{__proto__:null,enumerable:!0,get:()=>d.pipeline}),v(m,E,{__proto__:null,enumerable:!0,get:()=>d.finished}),b.Stream=b,b._isUint8Array=function(B){return B instanceof Uint8Array},b._uint8ArrayToBuffer=function(B){return h.from(B.buffer,B.byteOffset,B.byteLength)}},86124:(Y,f,i)=>{"use strict";const{ArrayPrototypePop:h,Promise:v}=i(85035),{isIterable:A,isNodeStream:S,isWebStream:E}=i(48886),{pipelineImpl:c}=i(62305),{finished:u}=i(37595);i(71995),Y.exports={finished:u,pipeline:function n(...l){return new v((s,a)=>{let m,p;const d=l[l.length-1];if(d&&"object"==typeof d&&!S(d)&&!A(d)&&!E(d)){const y=h(l);m=y.signal,p=y.end}c(l,(y,b)=>{y?a(y):s(b)},{signal:m,end:p})})}}},39208:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.MissingRefError=f.ValidationError=f.CodeGen=f.Name=f.nil=f.stringify=f.str=f._=f.KeywordCxt=f.Ajv=void 0;const h=i(2113),v=i(70457),A=i(78058),S=i(72079),E=["/properties"],c="http://json-schema.org/draft-07/schema";class u extends h.default{_addVocabularies(){super._addVocabularies(),v.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(A.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(S,E):S;this.addMetaSchema(p,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}f.Ajv=u,Y.exports=f=u,Y.exports.Ajv=u,Object.defineProperty(f,"__esModule",{value:!0}),f.default=u;var n=i(87157);Object.defineProperty(f,"KeywordCxt",{enumerable:!0,get:function(){return n.KeywordCxt}});var l=i(85432);Object.defineProperty(f,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(f,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(f,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(f,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(f,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(f,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var s=i(9857);Object.defineProperty(f,"ValidationError",{enumerable:!0,get:function(){return s.default}});var a=i(66606);Object.defineProperty(f,"MissingRefError",{enumerable:!0,get:function(){return a.default}})},43467:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.regexpCode=f.getEsmExportName=f.getProperty=f.safeStringify=f.stringify=f.strConcat=f.addCodeArg=f.str=f._=f.nil=f._Code=f.Name=f.IDENTIFIER=f._CodeOrName=void 0;class i{}f._CodeOrName=i,f.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class h extends i{constructor(g){if(super(),!f.IDENTIFIER.test(g))throw new Error("CodeGen: name must be a valid identifier");this.str=g}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}f.Name=h;class v extends i{constructor(g){super(),this._items="string"==typeof g?[g]:g}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const g=this._items[0];return""===g||'""'===g}get str(){var g;return null!==(g=this._str)&&void 0!==g?g:this._str=this._items.reduce((x,C)=>`${x}${C}`,"")}get names(){var g;return null!==(g=this._names)&&void 0!==g?g:this._names=this._items.reduce((x,C)=>(C instanceof h&&(x[C.str]=(x[C.str]||0)+1),x),{})}}function A(b,...g){const x=[b[0]];let C=0;for(;C<g.length;)c(x,g[C]),x.push(b[++C]);return new v(x)}f._Code=v,f.nil=new v(""),f._=A;const S=new v("+");function E(b,...g){const x=[m(b[0])];let C=0;for(;C<g.length;)x.push(S),c(x,g[C]),x.push(S,m(b[++C]));return function u(b){let g=1;for(;g<b.length-1;){if(b[g]===S){const x=n(b[g-1],b[g+1]);if(void 0!==x){b.splice(g-1,3,x);continue}b[g++]="+"}g++}}(x),new v(x)}function c(b,g){g instanceof v?b.push(...g._items):b.push(g instanceof h?g:function s(b){return"number"==typeof b||"boolean"==typeof b||null===b?b:m(Array.isArray(b)?b.join(","):b)}(g))}function n(b,g){return'""'===g?b:'""'===b?g:"string"==typeof b?g instanceof h||'"'!==b[b.length-1]?void 0:"string"!=typeof g?`${b.slice(0,-1)}${g}"`:'"'===g[0]?b.slice(0,-1)+g.slice(1):void 0:"string"!=typeof g||'"'!==g[0]||b instanceof h?void 0:`"${b}${g.slice(1)}`}function m(b){return JSON.stringify(b).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}f.str=E,f.addCodeArg=c,f.strConcat=function l(b,g){return g.emptyStr()?b:b.emptyStr()?g:E`${b}${g}`},f.stringify=function a(b){return new v(m(b))},f.safeStringify=m,f.getProperty=function p(b){return"string"==typeof b&&f.IDENTIFIER.test(b)?new v(`.${b}`):A`[${b}]`},f.getEsmExportName=function d(b){if("string"==typeof b&&f.IDENTIFIER.test(b))return new v(`${b}`);throw new Error(`CodeGen: invalid export name: ${b}, use explicit $id name mapping`)},f.regexpCode=function y(b){return new v(b.toString())}},85432:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.or=f.and=f.not=f.CodeGen=f.operators=f.varKinds=f.ValueScopeName=f.ValueScope=f.Scope=f.Name=f.regexpCode=f.stringify=f.getProperty=f.nil=f.strConcat=f.str=f._=void 0;const h=i(43467),v=i(60240);var A=i(43467);Object.defineProperty(f,"_",{enumerable:!0,get:function(){return A._}}),Object.defineProperty(f,"str",{enumerable:!0,get:function(){return A.str}}),Object.defineProperty(f,"strConcat",{enumerable:!0,get:function(){return A.strConcat}}),Object.defineProperty(f,"nil",{enumerable:!0,get:function(){return A.nil}}),Object.defineProperty(f,"getProperty",{enumerable:!0,get:function(){return A.getProperty}}),Object.defineProperty(f,"stringify",{enumerable:!0,get:function(){return A.stringify}}),Object.defineProperty(f,"regexpCode",{enumerable:!0,get:function(){return A.regexpCode}}),Object.defineProperty(f,"Name",{enumerable:!0,get:function(){return A.Name}});var S=i(60240);Object.defineProperty(f,"Scope",{enumerable:!0,get:function(){return S.Scope}}),Object.defineProperty(f,"ValueScope",{enumerable:!0,get:function(){return S.ValueScope}}),Object.defineProperty(f,"ValueScopeName",{enumerable:!0,get:function(){return S.ValueScopeName}}),Object.defineProperty(f,"varKinds",{enumerable:!0,get:function(){return S.varKinds}}),f.operators={GT:new h._Code(">"),GTE:new h._Code(">="),LT:new h._Code("<"),LTE:new h._Code("<="),EQ:new h._Code("==="),NEQ:new h._Code("!=="),NOT:new h._Code("!"),OR:new h._Code("||"),AND:new h._Code("&&"),ADD:new h._Code("+")};class E{optimizeNodes(){return this}optimizeNames(M,Q){return this}}class c extends E{constructor(M,Q,ue){super(),this.varKind=M,this.name=Q,this.rhs=ue}render({es5:M,_n:Q}){return`${M?v.varKinds.var:this.varKind} ${this.name}${void 0===this.rhs?"":` = ${this.rhs}`};`+Q}optimizeNames(M,Q){if(M[this.name.str])return this.rhs&&(this.rhs=W(this.rhs,M,Q)),this}get names(){return this.rhs instanceof h._CodeOrName?this.rhs.names:{}}}class u extends E{constructor(M,Q,ue){super(),this.lhs=M,this.rhs=Q,this.sideEffects=ue}render({_n:M}){return`${this.lhs} = ${this.rhs};`+M}optimizeNames(M,Q){if(!(this.lhs instanceof h.Name)||M[this.lhs.str]||this.sideEffects)return this.rhs=W(this.rhs,M,Q),this}get names(){return Z(this.lhs instanceof h.Name?{}:{...this.lhs.names},this.rhs)}}class n extends u{constructor(M,Q,ue,de){super(M,ue,de),this.op=Q}render({_n:M}){return`${this.lhs} ${this.op}= ${this.rhs};`+M}}class l extends E{constructor(M){super(),this.label=M,this.names={}}render({_n:M}){return`${this.label}:`+M}}class s extends E{constructor(M){super(),this.label=M,this.names={}}render({_n:M}){return`break${this.label?` ${this.label}`:""};`+M}}class a extends E{constructor(M){super(),this.error=M}render({_n:M}){return`throw ${this.error};`+M}get names(){return this.error.names}}class m extends E{constructor(M){super(),this.code=M}render({_n:M}){return`${this.code};`+M}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(M,Q){return this.code=W(this.code,M,Q),this}get names(){return this.code instanceof h._CodeOrName?this.code.names:{}}}class p extends E{constructor(M=[]){super(),this.nodes=M}render(M){return this.nodes.reduce((Q,ue)=>Q+ue.render(M),"")}optimizeNodes(){const{nodes:M}=this;let Q=M.length;for(;Q--;){const ue=M[Q].optimizeNodes();Array.isArray(ue)?M.splice(Q,1,...ue):ue?M[Q]=ue:M.splice(Q,1)}return M.length>0?this:void 0}optimizeNames(M,Q){const{nodes:ue}=this;let de=ue.length;for(;de--;){const we=ue[de];we.optimizeNames(M,Q)||(pe(M,we.names),ue.splice(de,1))}return ue.length>0?this:void 0}get names(){return this.nodes.reduce((M,Q)=>k(M,Q.names),{})}}class d extends p{render(M){return"{"+M._n+super.render(M)+"}"+M._n}}class y extends p{}let b=(()=>{class V extends d{}return V.kind="else",V})(),g=(()=>{class V extends d{constructor(Q,ue){super(ue),this.condition=Q}render(Q){let ue=`if(${this.condition})`+super.render(Q);return this.else&&(ue+="else "+this.else.render(Q)),ue}optimizeNodes(){super.optimizeNodes();const Q=this.condition;if(!0===Q)return this.nodes;let ue=this.else;if(ue){const de=ue.optimizeNodes();ue=this.else=Array.isArray(de)?new b(de):de}return ue?!1===Q?ue instanceof V?ue:ue.nodes:this.nodes.length?this:new V(R(Q),ue instanceof V?[ue]:ue.nodes):!1!==Q&&this.nodes.length?this:void 0}optimizeNames(Q,ue){var de;if(this.else=null===(de=this.else)||void 0===de?void 0:de.optimizeNames(Q,ue),super.optimizeNames(Q,ue)||this.else)return this.condition=W(this.condition,Q,ue),this}get names(){const Q=super.names;return Z(Q,this.condition),this.else&&k(Q,this.else.names),Q}}return V.kind="if",V})(),x=(()=>{class V extends d{}return V.kind="for",V})();class C extends x{constructor(M){super(),this.iteration=M}render(M){return`for(${this.iteration})`+super.render(M)}optimizeNames(M,Q){if(super.optimizeNames(M,Q))return this.iteration=W(this.iteration,M,Q),this}get names(){return k(super.names,this.iteration.names)}}class B extends x{constructor(M,Q,ue,de){super(),this.varKind=M,this.name=Q,this.from=ue,this.to=de}render(M){const Q=M.es5?v.varKinds.var:this.varKind,{name:ue,from:de,to:we}=this;return`for(${Q} ${ue}=${de}; ${ue}<${we}; ${ue}++)`+super.render(M)}get names(){const M=Z(super.names,this.from);return Z(M,this.to)}}class F extends x{constructor(M,Q,ue,de){super(),this.loop=M,this.varKind=Q,this.name=ue,this.iterable=de}render(M){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(M)}optimizeNames(M,Q){if(super.optimizeNames(M,Q))return this.iterable=W(this.iterable,M,Q),this}get names(){return k(super.names,this.iterable.names)}}let T=(()=>{class V extends d{constructor(Q,ue,de){super(),this.name=Q,this.args=ue,this.async=de}render(Q){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(Q)}}return V.kind="func",V})(),z=(()=>{class V extends p{render(Q){return"return "+super.render(Q)}}return V.kind="return",V})();class re extends d{render(M){let Q="try"+super.render(M);return this.catch&&(Q+=this.catch.render(M)),this.finally&&(Q+=this.finally.render(M)),Q}optimizeNodes(){var M,Q;return super.optimizeNodes(),null===(M=this.catch)||void 0===M||M.optimizeNodes(),null===(Q=this.finally)||void 0===Q||Q.optimizeNodes(),this}optimizeNames(M,Q){var ue,de;return super.optimizeNames(M,Q),null===(ue=this.catch)||void 0===ue||ue.optimizeNames(M,Q),null===(de=this.finally)||void 0===de||de.optimizeNames(M,Q),this}get names(){const M=super.names;return this.catch&&k(M,this.catch.names),this.finally&&k(M,this.finally.names),M}}let ie=(()=>{class V extends d{constructor(Q){super(),this.error=Q}render(Q){return`catch(${this.error})`+super.render(Q)}}return V.kind="catch",V})(),O=(()=>{class V extends d{render(Q){return"finally"+super.render(Q)}}return V.kind="finally",V})();function k(V,M){for(const Q in M)V[Q]=(V[Q]||0)+(M[Q]||0);return V}function Z(V,M){return M instanceof h._CodeOrName?k(V,M.names):V}function W(V,M,Q){return V instanceof h.Name?ue(V):function de(we){return we instanceof h._Code&&we._items.some(fe=>fe instanceof h.Name&&1===M[fe.str]&&void 0!==Q[fe.str])}(V)?new h._Code(V._items.reduce((we,fe)=>(fe instanceof h.Name&&(fe=ue(fe)),fe instanceof h._Code?we.push(...fe._items):we.push(fe),we),[])):V;function ue(we){const fe=Q[we.str];return void 0===fe||1!==M[we.str]?we:(delete M[we.str],fe)}}function pe(V,M){for(const Q in M)V[Q]=(V[Q]||0)-(M[Q]||0)}function R(V){return"boolean"==typeof V||"number"==typeof V||null===V?!V:h._`!${I(V)}`}f.CodeGen=class J{constructor(M,Q={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...Q,_n:Q.lines?"\n":""},this._extScope=M,this._scope=new v.Scope({parent:M}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(M){return this._scope.name(M)}scopeName(M){return this._extScope.name(M)}scopeValue(M,Q){const ue=this._extScope.value(M,Q);return(this._values[ue.prefix]||(this._values[ue.prefix]=new Set)).add(ue),ue}getScopeValue(M,Q){return this._extScope.getValue(M,Q)}scopeRefs(M){return this._extScope.scopeRefs(M,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(M,Q,ue,de){const we=this._scope.toName(Q);return void 0!==ue&&de&&(this._constants[we.str]=ue),this._leafNode(new c(M,we,ue)),we}const(M,Q,ue){return this._def(v.varKinds.const,M,Q,ue)}let(M,Q,ue){return this._def(v.varKinds.let,M,Q,ue)}var(M,Q,ue){return this._def(v.varKinds.var,M,Q,ue)}assign(M,Q,ue){return this._leafNode(new u(M,Q,ue))}add(M,Q){return this._leafNode(new n(M,f.operators.ADD,Q))}code(M){return"function"==typeof M?M():M!==h.nil&&this._leafNode(new m(M)),this}object(...M){const Q=["{"];for(const[ue,de]of M)Q.length>1&&Q.push(","),Q.push(ue),(ue!==de||this.opts.es5)&&(Q.push(":"),(0,h.addCodeArg)(Q,de));return Q.push("}"),new h._Code(Q)}if(M,Q,ue){if(this._blockNode(new g(M)),Q&&ue)this.code(Q).else().code(ue).endIf();else if(Q)this.code(Q).endIf();else if(ue)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(M){return this._elseNode(new g(M))}else(){return this._elseNode(new b)}endIf(){return this._endBlockNode(g,b)}_for(M,Q){return this._blockNode(M),Q&&this.code(Q).endFor(),this}for(M,Q){return this._for(new C(M),Q)}forRange(M,Q,ue,de,we=(this.opts.es5?v.varKinds.var:v.varKinds.let)){const fe=this._scope.toName(M);return this._for(new B(we,fe,Q,ue),()=>de(fe))}forOf(M,Q,ue,de=v.varKinds.const){const we=this._scope.toName(M);if(this.opts.es5){const fe=Q instanceof h.Name?Q:this.var("_arr",Q);return this.forRange("_i",0,h._`${fe}.length`,_e=>{this.var(we,h._`${fe}[${_e}]`),ue(we)})}return this._for(new F("of",de,we,Q),()=>ue(we))}forIn(M,Q,ue,de=(this.opts.es5?v.varKinds.var:v.varKinds.const)){if(this.opts.ownProperties)return this.forOf(M,h._`Object.keys(${Q})`,ue);const we=this._scope.toName(M);return this._for(new F("in",de,we,Q),()=>ue(we))}endFor(){return this._endBlockNode(x)}label(M){return this._leafNode(new l(M))}break(M){return this._leafNode(new s(M))}return(M){const Q=new z;if(this._blockNode(Q),this.code(M),1!==Q.nodes.length)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(z)}try(M,Q,ue){if(!Q&&!ue)throw new Error('CodeGen: "try" without "catch" and "finally"');const de=new re;if(this._blockNode(de),this.code(M),Q){const we=this.name("e");this._currNode=de.catch=new ie(we),Q(we)}return ue&&(this._currNode=de.finally=new O,this.code(ue)),this._endBlockNode(ie,O)}throw(M){return this._leafNode(new a(M))}block(M,Q){return this._blockStarts.push(this._nodes.length),M&&this.code(M).endBlock(Q),this}endBlock(M){const Q=this._blockStarts.pop();if(void 0===Q)throw new Error("CodeGen: not in self-balancing block");const ue=this._nodes.length-Q;if(ue<0||void 0!==M&&ue!==M)throw new Error(`CodeGen: wrong number of nodes: ${ue} vs ${M} expected`);return this._nodes.length=Q,this}func(M,Q=h.nil,ue,de){return this._blockNode(new T(M,Q,ue)),de&&this.code(de).endFunc(),this}endFunc(){return this._endBlockNode(T)}optimize(M=1){for(;M-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(M){return this._currNode.nodes.push(M),this}_blockNode(M){this._currNode.nodes.push(M),this._nodes.push(M)}_endBlockNode(M,Q){const ue=this._currNode;if(ue instanceof M||Q&&ue instanceof Q)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${Q?`${M.kind}/${Q.kind}`:M.kind}"`)}_elseNode(M){const Q=this._currNode;if(!(Q instanceof g))throw new Error('CodeGen: "else" without "if"');return this._currNode=Q.else=M,this}get _root(){return this._nodes[0]}get _currNode(){const M=this._nodes;return M[M.length-1]}set _currNode(M){const Q=this._nodes;Q[Q.length-1]=M}},f.not=R;const X=w(f.operators.AND);f.and=function oe(...V){return V.reduce(X)};const be=w(f.operators.OR);function w(V){return(M,Q)=>M===h.nil?Q:Q===h.nil?M:h._`${I(M)} ${V} ${I(Q)}`}function I(V){return V instanceof h.Name?V:h._`(${V})`}f.or=function Ie(...V){return V.reduce(be)}},60240:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.ValueScope=f.ValueScopeName=f.Scope=f.varKinds=f.UsedValueState=void 0;const h=i(43467);class v extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var A=function(n){return n[n.Started=0]="Started",n[n.Completed=1]="Completed",n}(A||(f.UsedValueState=A={}));f.varKinds={const:new h.Name("const"),let:new h.Name("let"),var:new h.Name("var")};class S{constructor({prefixes:l,parent:s}={}){this._names={},this._prefixes=l,this._parent=s}toName(l){return l instanceof h.Name?l:this.name(l)}name(l){return new h.Name(this._newName(l))}_newName(l){return`${l}${(this._names[l]||this._nameGroup(l)).index++}`}_nameGroup(l){var s,a;if(null!==(a=null===(s=this._parent)||void 0===s?void 0:s._prefixes)&&void 0!==a&&a.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}f.Scope=S;class E extends h.Name{constructor(l,s){super(s),this.prefix=l}setValue(l,{property:s,itemIndex:a}){this.value=l,this.scopePath=h._`.${new h.Name(s)}[${a}]`}}f.ValueScopeName=E;const c=h._`\n`;f.ValueScope=class u extends S{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?c:h.nil}}get(){return this._scope}name(l){return new E(l,this._newName(l))}value(l,s){var a;if(void 0===s.ref)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(l),{prefix:p}=m,d=null!==(a=s.key)&&void 0!==a?a:s.ref;let y=this._values[p];if(y){const x=y.get(d);if(x)return x}else y=this._values[p]=new Map;y.set(d,m);const b=this._scope[p]||(this._scope[p]=[]),g=b.length;return b[g]=s.ref,m.setValue(s,{property:p,itemIndex:g}),m}getValue(l,s){const a=this._values[l];if(a)return a.get(s)}scopeRefs(l,s=this._values){return this._reduceValues(s,a=>{if(void 0===a.scopePath)throw new Error(`CodeGen: name "${a}" has no value`);return h._`${l}${a.scopePath}`})}scopeCode(l=this._values,s,a){return this._reduceValues(l,m=>{if(void 0===m.value)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},s,a)}_reduceValues(l,s,a={},m){let p=h.nil;for(const d in l){const y=l[d];if(!y)continue;const b=a[d]=a[d]||new Map;y.forEach(g=>{if(b.has(g))return;b.set(g,A.Started);let x=s(g);if(x)p=h._`${p}${this.opts.es5?f.varKinds.var:f.varKinds.const} ${g} = ${x};${this.opts._n}`;else{if(!(x=m?.(g)))throw new v(g);p=h._`${p}${x}${this.opts._n}`}b.set(g,A.Completed)})}return p}}},37511:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.extendErrors=f.resetErrorsCount=f.reportExtraError=f.reportError=f.keyword$DataError=f.keywordError=void 0;const h=i(85432),v=i(87868),A=i(12682);function n(b,g){const x=b.const("err",g);b.if(h._`${A.default.vErrors} === null`,()=>b.assign(A.default.vErrors,h._`[${x}]`),h._`${A.default.vErrors}.push(${x})`),b.code(h._`${A.default.errors}++`)}function l(b,g){const{gen:x,validateName:C,schemaEnv:B}=b;B.$async?x.throw(h._`new ${b.ValidationError}(${g})`):(x.assign(h._`${C}.errors`,g),x.return(!1))}f.keywordError={message:({keyword:b})=>h.str`must pass "${b}" keyword validation`},f.keyword$DataError={message:({keyword:b,schemaType:g})=>g?h.str`"${b}" keyword must be ${g} ($data)`:h.str`"${b}" keyword is invalid ($data)`},f.reportError=function S(b,g=f.keywordError,x,C){const{it:B}=b,{gen:F,compositeRule:T,allErrors:z}=B,re=a(b,g,x);C??(T||z)?n(F,re):l(B,h._`[${re}]`)},f.reportExtraError=function E(b,g=f.keywordError,x){const{it:C}=b,{gen:B,compositeRule:F,allErrors:T}=C;n(B,a(b,g,x)),F||T||l(C,A.default.vErrors)},f.resetErrorsCount=function c(b,g){b.assign(A.default.errors,g),b.if(h._`${A.default.vErrors} !== null`,()=>b.if(g,()=>b.assign(h._`${A.default.vErrors}.length`,g),()=>b.assign(A.default.vErrors,null)))},f.extendErrors=function u({gen:b,keyword:g,schemaValue:x,data:C,errsCount:B,it:F}){if(void 0===B)throw new Error("ajv implementation error");const T=b.name("err");b.forRange("i",B,A.default.errors,z=>{b.const(T,h._`${A.default.vErrors}[${z}]`),b.if(h._`${T}.instancePath === undefined`,()=>b.assign(h._`${T}.instancePath`,(0,h.strConcat)(A.default.instancePath,F.errorPath))),b.assign(h._`${T}.schemaPath`,h.str`${F.errSchemaPath}/${g}`),F.opts.verbose&&(b.assign(h._`${T}.schema`,x),b.assign(h._`${T}.data`,C))})};const s={keyword:new h.Name("keyword"),schemaPath:new h.Name("schemaPath"),params:new h.Name("params"),propertyName:new h.Name("propertyName"),message:new h.Name("message"),schema:new h.Name("schema"),parentSchema:new h.Name("parentSchema")};function a(b,g,x){const{createErrors:C}=b.it;return!1===C?h._`{}`:function m(b,g,x={}){const{gen:C,it:B}=b,F=[p(B,x),d(b,x)];return function y(b,{params:g,message:x},C){const{keyword:B,data:F,schemaValue:T,it:z}=b,{opts:re,propertyName:ie,topSchemaRef:O,schemaPath:J}=z;C.push([s.keyword,B],[s.params,"function"==typeof g?g(b):g||h._`{}`]),re.messages&&C.push([s.message,"function"==typeof x?x(b):x]),re.verbose&&C.push([s.schema,T],[s.parentSchema,h._`${O}${J}`],[A.default.data,F]),ie&&C.push([s.propertyName,ie])}(b,g,F),C.object(...F)}(b,g,x)}function p({errorPath:b},{instancePath:g}){const x=g?h.str`${b}${(0,v.getErrorPath)(g,v.Type.Str)}`:b;return[A.default.instancePath,(0,h.strConcat)(A.default.instancePath,x)]}function d({keyword:b,it:{errSchemaPath:g}},{schemaPath:x,parentSchema:C}){let B=C?g:h.str`${g}/${b}`;return x&&(B=h.str`${B}${(0,v.getErrorPath)(x,v.Type.Str)}`),[s.schemaPath,B]}},7762:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.resolveSchema=f.getCompilingSchema=f.resolveRef=f.compileSchema=f.SchemaEnv=void 0;const h=i(85432),v=i(9857),A=i(12682),S=i(28222),E=i(87868),c=i(87157);class u{constructor(x){var C;let B;this.refs={},this.dynamicAnchors={},"object"==typeof x.schema&&(B=x.schema),this.schema=x.schema,this.schemaId=x.schemaId,this.root=x.root||this,this.baseId=null!==(C=x.baseId)&&void 0!==C?C:(0,S.normalizeId)(B?.[x.schemaId||"$id"]),this.schemaPath=x.schemaPath,this.localRefs=x.localRefs,this.meta=x.meta,this.$async=B?.$async,this.refs={}}}function n(g){const x=a.call(this,g);if(x)return x;const C=(0,S.getFullPath)(this.opts.uriResolver,g.root.baseId),{es5:B,lines:F}=this.opts.code,{ownProperties:T}=this.opts,z=new h.CodeGen(this.scope,{es5:B,lines:F,ownProperties:T});let re;g.$async&&(re=z.scopeValue("Error",{ref:v.default,code:h._`require("ajv/dist/runtime/validation_error").default`}));const ie=z.scopeName("validate");g.validateName=ie;const O={gen:z,allErrors:this.opts.allErrors,data:A.default.data,parentData:A.default.parentData,parentDataProperty:A.default.parentDataProperty,dataNames:[A.default.data],dataPathArr:[h.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:z.scopeValue("schema",!0===this.opts.code.source?{ref:g.schema,code:(0,h.stringify)(g.schema)}:{ref:g.schema}),validateName:ie,ValidationError:re,schema:g.schema,schemaEnv:g,rootId:C,baseId:g.baseId||C,schemaPath:h.nil,errSchemaPath:g.schemaPath||(this.opts.jtd?"":"#"),errorPath:h._`""`,opts:this.opts,self:this};let J;try{this._compilations.add(g),(0,c.validateFunctionCode)(O),z.optimize(this.opts.code.optimize);const k=z.toString();J=`${z.scopeRefs(A.default.scope)}return ${k}`,this.opts.code.process&&(J=this.opts.code.process(J,g));const W=new Function(`${A.default.self}`,`${A.default.scope}`,J)(this,this.scope.get());if(this.scope.value(ie,{ref:W}),W.errors=null,W.schema=g.schema,W.schemaEnv=g,g.$async&&(W.$async=!0),!0===this.opts.code.source&&(W.source={validateName:ie,validateCode:k,scopeValues:z._values}),this.opts.unevaluated){const{props:pe,items:R}=O;W.evaluated={props:pe instanceof h.Name?void 0:pe,items:R instanceof h.Name?void 0:R,dynamicProps:pe instanceof h.Name,dynamicItems:R instanceof h.Name},W.source&&(W.source.evaluated=(0,h.stringify)(W.evaluated))}return g.validate=W,g}catch(k){throw delete g.validate,delete g.validateName,J&&this.logger.error("Error compiling schema, function code:",J),k}finally{this._compilations.delete(g)}}function s(g){return(0,S.inlineRef)(g.schema,this.opts.inlineRefs)?g.schema:g.validate?g:n.call(this,g)}function a(g){for(const x of this._compilations)if(m(x,g))return x}function m(g,x){return g.schema===x.schema&&g.root===x.root&&g.baseId===x.baseId}function p(g,x){let C;for(;"string"==typeof(C=this.refs[x]);)x=C;return C||this.schemas[x]||d.call(this,g,x)}function d(g,x){const C=this.opts.uriResolver.parse(x),B=(0,S._getFullPath)(this.opts.uriResolver,C);let F=(0,S.getFullPath)(this.opts.uriResolver,g.baseId,void 0);if(Object.keys(g.schema).length>0&&B===F)return b.call(this,C,g);const T=(0,S.normalizeId)(B),z=this.refs[T]||this.schemas[T];if("string"==typeof z){const re=d.call(this,g,z);return"object"!=typeof re?.schema?void 0:b.call(this,C,re)}if("object"==typeof z?.schema){if(z.validate||n.call(this,z),T===(0,S.normalizeId)(x)){const{schema:re}=z,{schemaId:ie}=this.opts,O=re[ie];return O&&(F=(0,S.resolveUrl)(this.opts.uriResolver,F,O)),new u({schema:re,schemaId:ie,root:g,baseId:F})}return b.call(this,C,z)}}f.SchemaEnv=u,f.compileSchema=n,f.resolveRef=function l(g,x,C){var B;C=(0,S.resolveUrl)(this.opts.uriResolver,x,C);const F=g.refs[C];if(F)return F;let T=p.call(this,g,C);if(void 0===T){const z=null===(B=g.localRefs)||void 0===B?void 0:B[C],{schemaId:re}=this.opts;z&&(T=new u({schema:z,schemaId:re,root:g,baseId:x}))}return void 0!==T?g.refs[C]=s.call(this,T):void 0},f.getCompilingSchema=a,f.resolveSchema=d;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function b(g,{baseId:x,schema:C,root:B}){var F;if("/"!==(null===(F=g.fragment)||void 0===F?void 0:F[0]))return;for(const re of g.fragment.slice(1).split("/")){if("boolean"==typeof C)return;const ie=C[(0,E.unescapeFragment)(re)];if(void 0===ie)return;const O="object"==typeof(C=ie)&&C[this.opts.schemaId];!y.has(re)&&O&&(x=(0,S.resolveUrl)(this.opts.uriResolver,x,O))}let T;if("boolean"!=typeof C&&C.$ref&&!(0,E.schemaHasRulesButRef)(C,this.RULES)){const re=(0,S.resolveUrl)(this.opts.uriResolver,x,C.$ref);T=d.call(this,B,re)}const{schemaId:z}=this.opts;return T=T||new u({schema:C,schemaId:z,root:B,baseId:x}),T.schema!==T.root.schema?T:void 0}},12682:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432),v={data:new h.Name("data"),valCxt:new h.Name("valCxt"),instancePath:new h.Name("instancePath"),parentData:new h.Name("parentData"),parentDataProperty:new h.Name("parentDataProperty"),rootData:new h.Name("rootData"),dynamicAnchors:new h.Name("dynamicAnchors"),vErrors:new h.Name("vErrors"),errors:new h.Name("errors"),this:new h.Name("this"),self:new h.Name("self"),scope:new h.Name("scope"),json:new h.Name("json"),jsonPos:new h.Name("jsonPos"),jsonLen:new h.Name("jsonLen"),jsonPart:new h.Name("jsonPart")};f.default=v},66606:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(28222);class v extends Error{constructor(S,E,c,u){super(u||`can't resolve reference ${c} from id ${E}`),this.missingRef=(0,h.resolveUrl)(S,E,c),this.missingSchema=(0,h.normalizeId)((0,h.getFullPath)(S,this.missingRef))}}f.default=v},28222:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.getSchemaRefs=f.resolveUrl=f.normalizeId=f._getFullPath=f.getFullPath=f.inlineRef=void 0;const h=i(87868),v=i(40362),A=i(44331),S=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);f.inlineRef=function E(b,g=!0){return"boolean"==typeof b||(!0===g?!u(b):!!g&&n(b)<=g)};const c=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(b){for(const g in b){if(c.has(g))return!0;const x=b[g];if(Array.isArray(x)&&x.some(u)||"object"==typeof x&&u(x))return!0}return!1}function n(b){let g=0;for(const x in b){if("$ref"===x)return 1/0;if(g++,!S.has(x)&&("object"==typeof b[x]&&(0,h.eachItem)(b[x],C=>g+=n(C)),g===1/0))return 1/0}return g}function l(b,g="",x){!1!==x&&(g=m(g));const C=b.parse(g);return s(b,C)}function s(b,g){return b.serialize(g).split("#")[0]+"#"}f.getFullPath=l,f._getFullPath=s;const a=/#\/?$/;function m(b){return b?b.replace(a,""):""}f.normalizeId=m,f.resolveUrl=function p(b,g,x){return x=m(x),b.resolve(g,x)};const d=/^[a-z_][-a-z0-9._]*$/i;f.getSchemaRefs=function y(b,g){if("boolean"==typeof b)return{};const{schemaId:x,uriResolver:C}=this.opts,B=m(b[x]||g),F={"":B},T=l(C,B,!1),z={},re=new Set;return A(b,{allKeys:!0},(J,k,Z,W)=>{if(void 0===W)return;const pe=T+k;let R=F[W];function X(be){if(be=m(R?(0,this.opts.uriResolver.resolve)(R,be):be),re.has(be))throw O(be);re.add(be);let w=this.refs[be];return"string"==typeof w&&(w=this.refs[w]),"object"==typeof w?ie(J,w.schema,be):be!==m(pe)&&("#"===be[0]?(ie(J,z[be],be),z[be]=J):this.refs[be]=pe),be}function oe(be){if("string"==typeof be){if(!d.test(be))throw new Error(`invalid anchor "${be}"`);X.call(this,`#${be}`)}}"string"==typeof J[x]&&(R=X.call(this,J[x])),oe.call(this,J.$anchor),oe.call(this,J.$dynamicAnchor),F[k]=R}),z;function ie(J,k,Z){if(void 0!==k&&!v(J,k))throw O(Z)}function O(J){return new Error(`reference "${J}" resolves to more than one schema`)}}},66093:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.getRules=f.isJSONType=void 0;const h=new Set(["string","number","integer","boolean","null","object","array"]);f.isJSONType=function v(S){return"string"==typeof S&&h.has(S)},f.getRules=function A(){const S={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...S,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},S.number,S.string,S.array,S.object],post:{rules:[]},all:{},keywords:{}}}},87868:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.checkStrictMode=f.getErrorPath=f.Type=f.useFunc=f.setEvaluated=f.evaluatedPropsToName=f.mergeEvaluated=f.eachItem=f.unescapeJsonPointer=f.escapeJsonPointer=f.escapeFragment=f.unescapeFragment=f.schemaRefOrVal=f.schemaHasRulesButRef=f.schemaHasRules=f.checkUnknownRules=f.alwaysValidSchema=f.toHash=void 0;const h=i(85432),v=i(43467);function E(T,z=T.schema){const{opts:re,self:ie}=T;if(!re.strictSchema||"boolean"==typeof z)return;const O=ie.RULES.keywords;for(const J in z)O[J]||F(T,`unknown keyword: "${J}"`)}function c(T,z){if("boolean"==typeof T)return!T;for(const re in T)if(z[re])return!0;return!1}function a(T){return"number"==typeof T?`${T}`:T.replace(/~/g,"~0").replace(/\//g,"~1")}function m(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}function d({mergeNames:T,mergeToName:z,mergeValues:re,resultToName:ie}){return(O,J,k,Z)=>{const W=void 0===k?J:k instanceof h.Name?(J instanceof h.Name?T(O,J,k):z(O,J,k),k):J instanceof h.Name?(z(O,k,J),J):re(J,k);return Z!==h.Name||W instanceof h.Name?W:ie(O,W)}}function y(T,z){if(!0===z)return T.var("props",!0);const re=T.var("props",h._`{}`);return void 0!==z&&b(T,re,z),re}function b(T,z,re){Object.keys(re).forEach(ie=>T.assign(h._`${z}${(0,h.getProperty)(ie)}`,!0))}f.toHash=function A(T){const z={};for(const re of T)z[re]=!0;return z},f.alwaysValidSchema=function S(T,z){return"boolean"==typeof z?z:0===Object.keys(z).length||(E(T,z),!c(z,T.self.RULES.all))},f.checkUnknownRules=E,f.schemaHasRules=c,f.schemaHasRulesButRef=function u(T,z){if("boolean"==typeof T)return!T;for(const re in T)if("$ref"!==re&&z.all[re])return!0;return!1},f.schemaRefOrVal=function n({topSchemaRef:T,schemaPath:z},re,ie,O){if(!O){if("number"==typeof re||"boolean"==typeof re)return re;if("string"==typeof re)return h._`${re}`}return h._`${T}${z}${(0,h.getProperty)(ie)}`},f.unescapeFragment=function l(T){return m(decodeURIComponent(T))},f.escapeFragment=function s(T){return encodeURIComponent(a(T))},f.escapeJsonPointer=a,f.unescapeJsonPointer=m,f.eachItem=function p(T,z){if(Array.isArray(T))for(const re of T)z(re);else z(T)},f.mergeEvaluated={props:d({mergeNames:(T,z,re)=>T.if(h._`${re} !== true && ${z} !== undefined`,()=>{T.if(h._`${z} === true`,()=>T.assign(re,!0),()=>T.assign(re,h._`${re} || {}`).code(h._`Object.assign(${re}, ${z})`))}),mergeToName:(T,z,re)=>T.if(h._`${re} !== true`,()=>{!0===z?T.assign(re,!0):(T.assign(re,h._`${re} || {}`),b(T,re,z))}),mergeValues:(T,z)=>!0===T||{...T,...z},resultToName:y}),items:d({mergeNames:(T,z,re)=>T.if(h._`${re} !== true && ${z} !== undefined`,()=>T.assign(re,h._`${z} === true ? true : ${re} > ${z} ? ${re} : ${z}`)),mergeToName:(T,z,re)=>T.if(h._`${re} !== true`,()=>T.assign(re,!0===z||h._`${re} > ${z} ? ${re} : ${z}`)),mergeValues:(T,z)=>!0===T||Math.max(T,z),resultToName:(T,z)=>T.var("items",z)})},f.evaluatedPropsToName=y,f.setEvaluated=b;const g={};f.useFunc=function x(T,z){return T.scopeValue("func",{ref:z,code:g[z.code]||(g[z.code]=new v._Code(z.code))})};var C=function(T){return T[T.Num=0]="Num",T[T.Str=1]="Str",T}(C||(f.Type=C={}));function F(T,z,re=T.opts.strictSchema){if(re){if(z=`strict mode: ${z}`,!0===re)throw new Error(z);T.self.logger.warn(z)}}f.getErrorPath=function B(T,z,re){if(T instanceof h.Name){const ie=z===C.Num;return re?ie?h._`"[" + ${T} + "]"`:h._`"['" + ${T} + "']"`:ie?h._`"/" + ${T}`:h._`"/" + ${T}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return re?(0,h.getProperty)(T).toString():"/"+a(T)},f.checkStrictMode=F},61064:(Y,f)=>{"use strict";function h(A,S){return S.rules.some(E=>v(A,E))}function v(A,S){var E;return void 0!==A[S.keyword]||(null===(E=S.definition.implements)||void 0===E?void 0:E.some(c=>void 0!==A[c]))}Object.defineProperty(f,"__esModule",{value:!0}),f.shouldUseRule=f.shouldUseGroup=f.schemaHasRulesForType=void 0,f.schemaHasRulesForType=function i({schema:A,self:S},E){const c=S.RULES.types[E];return c&&!0!==c&&h(A,c)},f.shouldUseGroup=h,f.shouldUseRule=v},89318:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.boolOrEmptySchema=f.topBoolOrEmptySchema=void 0;const h=i(37511),v=i(85432),A=i(12682),S={message:"boolean schema is false"};function u(n,l){const{gen:s,data:a}=n;(0,h.reportError)({gen:s,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:n},S,void 0,l)}f.topBoolOrEmptySchema=function E(n){const{gen:l,schema:s,validateName:a}=n;!1===s?u(n,!1):"object"==typeof s&&!0===s.$async?l.return(A.default.data):(l.assign(v._`${a}.errors`,null),l.return(!0))},f.boolOrEmptySchema=function c(n,l){const{gen:s,schema:a}=n;!1===a?(s.var(l,!1),u(n)):s.var(l,!0)}},15894:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.reportTypeError=f.checkDataTypes=f.checkDataType=f.coerceAndCheckDataType=f.getJSONTypes=f.getSchemaTypes=f.DataType=void 0;const h=i(66093),v=i(61064),A=i(37511),S=i(85432),E=i(87868);var c=function(C){return C[C.Correct=0]="Correct",C[C.Wrong=1]="Wrong",C}(c||(f.DataType=c={}));function n(C){const B=Array.isArray(C)?C:C?[C]:[];if(B.every(h.isJSONType))return B;throw new Error("type must be JSONType or JSONType[]: "+B.join(","))}f.getSchemaTypes=function u(C){const B=n(C.type);if(B.includes("null")){if(!1===C.nullable)throw new Error("type: null contradicts nullable: false")}else{if(!B.length&&void 0!==C.nullable)throw new Error('"nullable" cannot be used without "type"');!0===C.nullable&&B.push("null")}return B},f.getJSONTypes=n,f.coerceAndCheckDataType=function l(C,B){const{gen:F,data:T,opts:z}=C,re=function a(C,B){return B?C.filter(F=>s.has(F)||"array"===B&&"array"===F):[]}(B,z.coerceTypes),ie=B.length>0&&!(0===re.length&&1===B.length&&(0,v.schemaHasRulesForType)(C,B[0]));if(ie){const O=y(B,T,z.strictNumbers,c.Wrong);F.if(O,()=>{re.length?function m(C,B,F){const{gen:T,data:z,opts:re}=C,ie=T.let("dataType",S._`typeof ${z}`),O=T.let("coerced",S._`undefined`);"array"===re.coerceTypes&&T.if(S._`${ie} == 'object' && Array.isArray(${z}) && ${z}.length == 1`,()=>T.assign(z,S._`${z}[0]`).assign(ie,S._`typeof ${z}`).if(y(B,z,re.strictNumbers),()=>T.assign(O,z))),T.if(S._`${O} !== undefined`);for(const k of F)(s.has(k)||"array"===k&&"array"===re.coerceTypes)&&J(k);function J(k){switch(k){case"string":return void T.elseIf(S._`${ie} == "number" || ${ie} == "boolean"`).assign(O,S._`"" + ${z}`).elseIf(S._`${z} === null`).assign(O,S._`""`);case"number":return void T.elseIf(S._`${ie} == "boolean" || ${z} === null
              || (${ie} == "string" && ${z} && ${z} == +${z})`).assign(O,S._`+${z}`);case"integer":return void T.elseIf(S._`${ie} === "boolean" || ${z} === null
              || (${ie} === "string" && ${z} && ${z} == +${z} && !(${z} % 1))`).assign(O,S._`+${z}`);case"boolean":return void T.elseIf(S._`${z} === "false" || ${z} === 0 || ${z} === null`).assign(O,!1).elseIf(S._`${z} === "true" || ${z} === 1`).assign(O,!0);case"null":return T.elseIf(S._`${z} === "" || ${z} === 0 || ${z} === false`),void T.assign(O,null);case"array":T.elseIf(S._`${ie} === "string" || ${ie} === "number"
              || ${ie} === "boolean" || ${z} === null`).assign(O,S._`[${z}]`)}}T.else(),g(C),T.endIf(),T.if(S._`${O} !== undefined`,()=>{T.assign(z,O),function p({gen:C,parentData:B,parentDataProperty:F},T){C.if(S._`${B} !== undefined`,()=>C.assign(S._`${B}[${F}]`,T))}(C,O)})}(C,B,re):g(C)})}return ie};const s=new Set(["string","number","integer","boolean","null"]);function d(C,B,F,T=c.Correct){const z=T===c.Correct?S.operators.EQ:S.operators.NEQ;let re;switch(C){case"null":return S._`${B} ${z} null`;case"array":re=S._`Array.isArray(${B})`;break;case"object":re=S._`${B} && typeof ${B} == "object" && !Array.isArray(${B})`;break;case"integer":re=ie(S._`!(${B} % 1) && !isNaN(${B})`);break;case"number":re=ie();break;default:return S._`typeof ${B} ${z} ${C}`}return T===c.Correct?re:(0,S.not)(re);function ie(O=S.nil){return(0,S.and)(S._`typeof ${B} == "number"`,O,F?S._`isFinite(${B})`:S.nil)}}function y(C,B,F,T){if(1===C.length)return d(C[0],B,F,T);let z;const re=(0,E.toHash)(C);if(re.array&&re.object){const ie=S._`typeof ${B} != "object"`;z=re.null?ie:S._`!${B} || ${ie}`,delete re.null,delete re.array,delete re.object}else z=S.nil;re.number&&delete re.integer;for(const ie in re)z=(0,S.and)(z,d(ie,B,F,T));return z}f.checkDataType=d,f.checkDataTypes=y;const b={message:({schema:C})=>`must be ${C}`,params:({schema:C,schemaValue:B})=>"string"==typeof C?S._`{type: ${C}}`:S._`{type: ${B}}`};function g(C){const B=function x(C){const{gen:B,data:F,schema:T}=C,z=(0,E.schemaRefOrVal)(C,T,"type");return{gen:B,keyword:"type",data:F,schema:T.type,schemaCode:z,schemaValue:z,parentSchema:T,params:{},it:C}}(C);(0,A.reportError)(B,b)}f.reportTypeError=g},13599:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.assignDefaults=void 0;const h=i(85432),v=i(87868);function S(E,c,u){const{gen:n,compositeRule:l,data:s,opts:a}=E;if(void 0===u)return;const m=h._`${s}${(0,h.getProperty)(c)}`;if(l)return void(0,v.checkStrictMode)(E,`default is ignored for: ${m}`);let p=h._`${m} === undefined`;"empty"===a.useDefaults&&(p=h._`${p} || ${m} === null || ${m} === ""`),n.if(p,h._`${m} = ${(0,h.stringify)(u)}`)}f.assignDefaults=function A(E,c){const{properties:u,items:n}=E.schema;if("object"===c&&u)for(const l in u)S(E,l,u[l].default);else"array"===c&&Array.isArray(n)&&n.forEach((l,s)=>S(E,s,l.default))}},87157:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.getData=f.KeywordCxt=f.validateFunctionCode=void 0;const h=i(89318),v=i(15894),A=i(61064),S=i(15894),E=i(13599),c=i(40742),u=i(35924),n=i(85432),l=i(12682),s=i(28222),a=i(87868),m=i(37511);function d({gen:Pe,validateName:Oe,schema:he,schemaEnv:ve,opts:ye},De){ye.code.es5?Pe.func(Oe,n._`${l.default.data}, ${l.default.valCxt}`,ve.$async,()=>{Pe.code(n._`"use strict"; ${C(he,ye)}`),function b(Pe,Oe){Pe.if(l.default.valCxt,()=>{Pe.var(l.default.instancePath,n._`${l.default.valCxt}.${l.default.instancePath}`),Pe.var(l.default.parentData,n._`${l.default.valCxt}.${l.default.parentData}`),Pe.var(l.default.parentDataProperty,n._`${l.default.valCxt}.${l.default.parentDataProperty}`),Pe.var(l.default.rootData,n._`${l.default.valCxt}.${l.default.rootData}`),Oe.dynamicRef&&Pe.var(l.default.dynamicAnchors,n._`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{Pe.var(l.default.instancePath,n._`""`),Pe.var(l.default.parentData,n._`undefined`),Pe.var(l.default.parentDataProperty,n._`undefined`),Pe.var(l.default.rootData,l.default.data),Oe.dynamicRef&&Pe.var(l.default.dynamicAnchors,n._`{}`)})}(Pe,ye),Pe.code(De)}):Pe.func(Oe,n._`${l.default.data}, ${function y(Pe){return n._`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${Pe.dynamicRef?n._`, ${l.default.dynamicAnchors}={}`:n.nil}}={}`}(ye)}`,ve.$async,()=>Pe.code(C(he,ye)).code(De))}function C(Pe,Oe){const he="object"==typeof Pe&&Pe[Oe.schemaId];return he&&(Oe.code.source||Oe.code.process)?n._`/*# sourceURL=${he} */`:n.nil}function F({schema:Pe,self:Oe}){if("boolean"==typeof Pe)return!Pe;for(const he in Pe)if(Oe.RULES.all[he])return!0;return!1}function T(Pe){return"boolean"!=typeof Pe.schema}function re(Pe){(0,a.checkUnknownRules)(Pe),function O(Pe){const{schema:Oe,errSchemaPath:he,opts:ve,self:ye}=Pe;Oe.$ref&&ve.ignoreKeywordsWithRef&&(0,a.schemaHasRulesButRef)(Oe,ye.RULES)&&ye.logger.warn(`$ref: keywords ignored in schema at path "${he}"`)}(Pe)}function ie(Pe,Oe){if(Pe.opts.jtd)return X(Pe,[],!1,Oe);const he=(0,v.getSchemaTypes)(Pe.schema);X(Pe,he,!(0,v.coerceAndCheckDataType)(Pe,he),Oe)}function W({gen:Pe,schemaEnv:Oe,schema:he,errSchemaPath:ve,opts:ye}){const De=he.$comment;if(!0===ye.$comment)Pe.code(n._`${l.default.self}.logger.log(${De})`);else if("function"==typeof ye.$comment){const je=n.str`${ve}/$comment`,xe=Pe.scopeValue("root",{ref:Oe.root});Pe.code(n._`${l.default.self}.opts.$comment(${De}, ${je}, ${xe}.schema)`)}}function X(Pe,Oe,he,ve){const{gen:ye,schema:De,data:je,allErrors:xe,opts:$e,self:Ue}=Pe,{RULES:Re}=Ue;function Xe(ze){(0,A.shouldUseGroup)(De,ze)&&(ze.type?(ye.if((0,S.checkDataType)(ze.type,je,$e.strictNumbers)),oe(Pe,ze),1===Oe.length&&Oe[0]===ze.type&&he&&(ye.else(),(0,S.reportTypeError)(Pe)),ye.endIf()):oe(Pe,ze),xe||ye.if(n._`${l.default.errors} === ${ve||0}`))}!De.$ref||!$e.ignoreKeywordsWithRef&&(0,a.schemaHasRulesButRef)(De,Re)?($e.jtd||function be(Pe,Oe){Pe.schemaEnv.meta||!Pe.opts.strictTypes||(function Ie(Pe,Oe){if(Oe.length){if(!Pe.dataTypes.length)return void(Pe.dataTypes=Oe);Oe.forEach(he=>{M(Pe.dataTypes,he)||ue(Pe,`type "${he}" not allowed by context "${Pe.dataTypes.join(",")}"`)}),function Q(Pe,Oe){const he=[];for(const ve of Pe.dataTypes)M(Oe,ve)?he.push(ve):Oe.includes("integer")&&"number"===ve&&he.push("integer");Pe.dataTypes=he}(Pe,Oe)}}(Pe,Oe),Pe.opts.allowUnionTypes||function w(Pe,Oe){Oe.length>1&&(2!==Oe.length||!Oe.includes("null"))&&ue(Pe,"use allowUnionTypes to allow union type keyword")}(Pe,Oe),function I(Pe,Oe){const he=Pe.self.RULES.all;for(const ve in he){const ye=he[ve];if("object"==typeof ye&&(0,A.shouldUseRule)(Pe.schema,ye)){const{type:De}=ye.definition;De.length&&!De.some(je=>V(Oe,je))&&ue(Pe,`missing type "${De.join(",")}" for keyword "${ve}"`)}}}(Pe,Pe.dataTypes))}(Pe,Oe),ye.block(()=>{for(const ze of Re.rules)Xe(ze);Xe(Re.post)})):ye.block(()=>we(Pe,"$ref",Re.all.$ref.definition))}function oe(Pe,Oe){const{gen:he,schema:ve,opts:{useDefaults:ye}}=Pe;ye&&(0,E.assignDefaults)(Pe,Oe.type),he.block(()=>{for(const De of Oe.rules)(0,A.shouldUseRule)(ve,De)&&we(Pe,De.keyword,De.definition,Oe.type)})}function V(Pe,Oe){return Pe.includes(Oe)||"number"===Oe&&Pe.includes("integer")}function M(Pe,Oe){return Pe.includes(Oe)||"integer"===Oe&&Pe.includes("number")}function ue(Pe,Oe){(0,a.checkStrictMode)(Pe,Oe+=` at "${Pe.schemaEnv.baseId+Pe.errSchemaPath}" (strictTypes)`,Pe.opts.strictTypes)}f.validateFunctionCode=function p(Pe){T(Pe)&&(re(Pe),F(Pe))?function g(Pe){const{schema:Oe,opts:he,gen:ve}=Pe;d(Pe,()=>{he.$comment&&Oe.$comment&&W(Pe),function J(Pe){const{schema:Oe,opts:he}=Pe;void 0!==Oe.default&&he.useDefaults&&he.strictSchema&&(0,a.checkStrictMode)(Pe,"default is ignored in the schema root")}(Pe),ve.let(l.default.vErrors,null),ve.let(l.default.errors,0),he.unevaluated&&function x(Pe){const{gen:Oe,validateName:he}=Pe;Pe.evaluated=Oe.const("evaluated",n._`${he}.evaluated`),Oe.if(n._`${Pe.evaluated}.dynamicProps`,()=>Oe.assign(n._`${Pe.evaluated}.props`,n._`undefined`)),Oe.if(n._`${Pe.evaluated}.dynamicItems`,()=>Oe.assign(n._`${Pe.evaluated}.items`,n._`undefined`))}(Pe),ie(Pe),function pe(Pe){const{gen:Oe,schemaEnv:he,validateName:ve,ValidationError:ye,opts:De}=Pe;he.$async?Oe.if(n._`${l.default.errors} === 0`,()=>Oe.return(l.default.data),()=>Oe.throw(n._`new ${ye}(${l.default.vErrors})`)):(Oe.assign(n._`${ve}.errors`,l.default.vErrors),De.unevaluated&&function R({gen:Pe,evaluated:Oe,props:he,items:ve}){he instanceof n.Name&&Pe.assign(n._`${Oe}.props`,he),ve instanceof n.Name&&Pe.assign(n._`${Oe}.items`,ve)}(Pe),Oe.return(n._`${l.default.errors} === 0`))}(Pe)})}(Pe):d(Pe,()=>(0,h.topBoolOrEmptySchema)(Pe))};class de{constructor(Oe,he,ve){if((0,c.validateKeywordUsage)(Oe,he,ve),this.gen=Oe.gen,this.allErrors=Oe.allErrors,this.keyword=ve,this.data=Oe.data,this.schema=Oe.schema[ve],this.$data=he.$data&&Oe.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,a.schemaRefOrVal)(Oe,this.schema,ve,this.$data),this.schemaType=he.schemaType,this.parentSchema=Oe.schema,this.params={},this.it=Oe,this.def=he,this.$data)this.schemaCode=Oe.gen.const("vSchema",He(this.$data,Oe));else if(this.schemaCode=this.schemaValue,!(0,c.validSchemaType)(this.schema,he.schemaType,he.allowUndefined))throw new Error(`${ve} value must be ${JSON.stringify(he.schemaType)}`);("code"in he?he.trackErrors:!1!==he.errors)&&(this.errsCount=Oe.gen.const("_errs",l.default.errors))}result(Oe,he,ve){this.failResult((0,n.not)(Oe),he,ve)}failResult(Oe,he,ve){this.gen.if(Oe),ve?ve():this.error(),he?(this.gen.else(),he(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(Oe,he){this.failResult((0,n.not)(Oe),void 0,he)}fail(Oe){if(void 0===Oe)return this.error(),void(this.allErrors||this.gen.if(!1));this.gen.if(Oe),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(Oe){if(!this.$data)return this.fail(Oe);const{schemaCode:he}=this;this.fail(n._`${he} !== undefined && (${(0,n.or)(this.invalid$data(),Oe)})`)}error(Oe,he,ve){if(he)return this.setParams(he),this._error(Oe,ve),void this.setParams({});this._error(Oe,ve)}_error(Oe,he){(Oe?m.reportExtraError:m.reportError)(this,this.def.error,he)}$dataError(){(0,m.reportError)(this,this.def.$dataError||m.keyword$DataError)}reset(){if(void 0===this.errsCount)throw new Error('add "trackErrors" to keyword definition');(0,m.resetErrorsCount)(this.gen,this.errsCount)}ok(Oe){this.allErrors||this.gen.if(Oe)}setParams(Oe,he){he?Object.assign(this.params,Oe):this.params=Oe}block$data(Oe,he,ve=n.nil){this.gen.block(()=>{this.check$data(Oe,ve),he()})}check$data(Oe=n.nil,he=n.nil){if(!this.$data)return;const{gen:ve,schemaCode:ye,schemaType:De,def:je}=this;ve.if((0,n.or)(n._`${ye} === undefined`,he)),Oe!==n.nil&&ve.assign(Oe,!0),(De.length||je.validateSchema)&&(ve.elseIf(this.invalid$data()),this.$dataError(),Oe!==n.nil&&ve.assign(Oe,!1)),ve.else()}invalid$data(){const{gen:Oe,schemaCode:he,schemaType:ve,def:ye,it:De}=this;return(0,n.or)(function je(){if(ve.length){if(!(he instanceof n.Name))throw new Error("ajv implementation error");const $e=Array.isArray(ve)?ve:[ve];return n._`${(0,S.checkDataTypes)($e,he,De.opts.strictNumbers,S.DataType.Wrong)}`}return n.nil}(),function xe(){if(ye.validateSchema){const $e=Oe.scopeValue("validate$data",{ref:ye.validateSchema});return n._`!${$e}(${he})`}return n.nil}())}subschema(Oe,he){const ve=(0,u.getSubschema)(this.it,Oe);(0,u.extendSubschemaData)(ve,this.it,Oe),(0,u.extendSubschemaMode)(ve,Oe);const ye={...this.it,...ve,items:void 0,props:void 0};return function B(Pe,Oe){T(Pe)&&(re(Pe),F(Pe))?function z(Pe,Oe){const{schema:he,gen:ve,opts:ye}=Pe;ye.$comment&&he.$comment&&W(Pe),function k(Pe){const Oe=Pe.schema[Pe.opts.schemaId];Oe&&(Pe.baseId=(0,s.resolveUrl)(Pe.opts.uriResolver,Pe.baseId,Oe))}(Pe),function Z(Pe){if(Pe.schema.$async&&!Pe.schemaEnv.$async)throw new Error("async schema in sync schema")}(Pe);const De=ve.const("_errs",l.default.errors);ie(Pe,De),ve.var(Oe,n._`${De} === ${l.default.errors}`)}(Pe,Oe):(0,h.boolOrEmptySchema)(Pe,Oe)}(ye,he),ye}mergeEvaluated(Oe,he){const{it:ve,gen:ye}=this;ve.opts.unevaluated&&(!0!==ve.props&&void 0!==Oe.props&&(ve.props=a.mergeEvaluated.props(ye,Oe.props,ve.props,he)),!0!==ve.items&&void 0!==Oe.items&&(ve.items=a.mergeEvaluated.items(ye,Oe.items,ve.items,he)))}mergeValidEvaluated(Oe,he){const{it:ve,gen:ye}=this;if(ve.opts.unevaluated&&(!0!==ve.props||!0!==ve.items))return ye.if(he,()=>this.mergeEvaluated(Oe,n.Name)),!0}}function we(Pe,Oe,he,ve){const ye=new de(Pe,he,Oe);"code"in he?he.code(ye,ve):ye.$data&&he.validate?(0,c.funcKeywordCode)(ye,he):"macro"in he?(0,c.macroKeywordCode)(ye,he):(he.compile||he.validate)&&(0,c.funcKeywordCode)(ye,he)}f.KeywordCxt=de;const fe=/^\/(?:[^~]|~0|~1)*$/,_e=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function He(Pe,{dataLevel:Oe,dataNames:he,dataPathArr:ve}){let ye,De;if(""===Pe)return l.default.rootData;if("/"===Pe[0]){if(!fe.test(Pe))throw new Error(`Invalid JSON-pointer: ${Pe}`);ye=Pe,De=l.default.rootData}else{const Ue=_e.exec(Pe);if(!Ue)throw new Error(`Invalid JSON-pointer: ${Pe}`);const Re=+Ue[1];if(ye=Ue[2],"#"===ye){if(Re>=Oe)throw new Error($e("property/index",Re));return ve[Oe-Re]}if(Re>Oe)throw new Error($e("data",Re));if(De=he[Oe-Re],!ye)return De}let je=De;const xe=ye.split("/");for(const Ue of xe)Ue&&(De=n._`${De}${(0,n.getProperty)((0,a.unescapeJsonPointer)(Ue))}`,je=n._`${je} && ${De}`);return je;function $e(Ue,Re){return`Cannot access ${Ue} ${Re} levels up, current level is ${Oe}`}}f.getData=He},40742:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.validateKeywordUsage=f.validSchemaType=f.funcKeywordCode=f.macroKeywordCode=void 0;const h=i(85432),v=i(12682),A=i(12240),S=i(37511);function u(p){const{gen:d,data:y,it:b}=p;d.if(b.parentData,()=>d.assign(y,h._`${b.parentData}[${b.parentDataProperty}]`))}function s(p,d,y){if(void 0===y)throw new Error(`keyword "${d}" failed to compile`);return p.scopeValue("keyword","function"==typeof y?{ref:y}:{ref:y,code:(0,h.stringify)(y)})}f.macroKeywordCode=function E(p,d){const{gen:y,keyword:b,schema:g,parentSchema:x,it:C}=p,B=d.macro.call(C.self,g,x,C),F=s(y,b,B);!1!==C.opts.validateSchema&&C.self.validateSchema(B,!0);const T=y.name("valid");p.subschema({schema:B,schemaPath:h.nil,errSchemaPath:`${C.errSchemaPath}/${b}`,topSchemaRef:F,compositeRule:!0},T),p.pass(T,()=>p.error(!0))},f.funcKeywordCode=function c(p,d){var y;const{gen:b,keyword:g,schema:x,parentSchema:C,$data:B,it:F}=p;!function l({schemaEnv:p},d){if(d.async&&!p.$async)throw new Error("async keyword in sync schema")}(F,d);const T=!B&&d.compile?d.compile.call(F.self,x,C,F):d.validate,z=s(b,g,T),re=b.let("valid");function k(W=(d.async?h._`await `:h.nil)){b.assign(re,h._`${W}${(0,A.callValidateCode)(p,z,F.opts.passContext?v.default.this:v.default.self,!("compile"in d&&!B||!1===d.schema))}`,d.modifying)}function Z(W){var pe;b.if((0,h.not)(null!==(pe=d.valid)&&void 0!==pe?pe:re),W)}p.block$data(re,function ie(){if(!1===d.errors)k(),d.modifying&&u(p),Z(()=>p.error());else{const W=d.async?function O(){const W=b.let("ruleErrs",null);return b.try(()=>k(h._`await `),pe=>b.assign(re,!1).if(h._`${pe} instanceof ${F.ValidationError}`,()=>b.assign(W,h._`${pe}.errors`),()=>b.throw(pe))),W}():function J(){const W=h._`${z}.errors`;return b.assign(W,null),k(h.nil),W}();d.modifying&&u(p),Z(()=>function n(p,d){const{gen:y}=p;y.if(h._`Array.isArray(${d})`,()=>{y.assign(v.default.vErrors,h._`${v.default.vErrors} === null ? ${d} : ${v.default.vErrors}.concat(${d})`).assign(v.default.errors,h._`${v.default.vErrors}.length`),(0,S.extendErrors)(p)},()=>p.error())}(p,W))}}),p.ok(null!==(y=d.valid)&&void 0!==y?y:re)},f.validSchemaType=function a(p,d,y=!1){return!d.length||d.some(b=>"array"===b?Array.isArray(p):"object"===b?p&&"object"==typeof p&&!Array.isArray(p):typeof p==b||y&&typeof p>"u")},f.validateKeywordUsage=function m({schema:p,opts:d,self:y,errSchemaPath:b},g,x){if(Array.isArray(g.keyword)?!g.keyword.includes(x):g.keyword!==x)throw new Error("ajv implementation error");const C=g.dependencies;if(C?.some(B=>!Object.prototype.hasOwnProperty.call(p,B)))throw new Error(`parent schema must have dependencies of ${x}: ${C.join(",")}`);if(g.validateSchema&&!g.validateSchema(p[x])){const F=`keyword "${x}" value is invalid at path "${b}": `+y.errorsText(g.validateSchema.errors);if("log"!==d.validateSchema)throw new Error(F);y.logger.error(F)}}},35924:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.extendSubschemaMode=f.extendSubschemaData=f.getSubschema=void 0;const h=i(85432),v=i(87868);f.getSubschema=function A(c,{keyword:u,schemaProp:n,schema:l,schemaPath:s,errSchemaPath:a,topSchemaRef:m}){if(void 0!==u&&void 0!==l)throw new Error('both "keyword" and "schema" passed, only one allowed');if(void 0!==u){const p=c.schema[u];return void 0===n?{schema:p,schemaPath:h._`${c.schemaPath}${(0,h.getProperty)(u)}`,errSchemaPath:`${c.errSchemaPath}/${u}`}:{schema:p[n],schemaPath:h._`${c.schemaPath}${(0,h.getProperty)(u)}${(0,h.getProperty)(n)}`,errSchemaPath:`${c.errSchemaPath}/${u}/${(0,v.escapeFragment)(n)}`}}if(void 0!==l){if(void 0===s||void 0===a||void 0===m)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:s,topSchemaRef:m,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')},f.extendSubschemaData=function S(c,u,{dataProp:n,dataPropType:l,data:s,dataTypes:a,propertyName:m}){if(void 0!==s&&void 0!==n)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:p}=u;if(void 0!==n){const{errorPath:y,dataPathArr:b,opts:g}=u;d(p.let("data",h._`${u.data}${(0,h.getProperty)(n)}`,!0)),c.errorPath=h.str`${y}${(0,v.getErrorPath)(n,l,g.jsPropertySyntax)}`,c.parentDataProperty=h._`${n}`,c.dataPathArr=[...b,c.parentDataProperty]}function d(y){c.data=y,c.dataLevel=u.dataLevel+1,c.dataTypes=[],u.definedProperties=new Set,c.parentData=u.data,c.dataNames=[...u.dataNames,y]}void 0!==s&&(d(s instanceof h.Name?s:p.let("data",s,!0)),void 0!==m&&(c.propertyName=m)),a&&(c.dataTypes=a)},f.extendSubschemaMode=function E(c,{jtdDiscriminator:u,jtdMetadata:n,compositeRule:l,createErrors:s,allErrors:a}){void 0!==l&&(c.compositeRule=l),void 0!==s&&(c.createErrors=s),void 0!==a&&(c.allErrors=a),c.jtdDiscriminator=u,c.jtdMetadata=n}},2113:(Y,f,i)=>{"use strict";var h=i(29293).default;Object.defineProperty(f,"__esModule",{value:!0}),f.CodeGen=f.Name=f.nil=f.stringify=f.str=f._=f.KeywordCxt=void 0;var v=i(87157);Object.defineProperty(f,"KeywordCxt",{enumerable:!0,get:function(){return v.KeywordCxt}});var A=i(85432);Object.defineProperty(f,"_",{enumerable:!0,get:function(){return A._}}),Object.defineProperty(f,"str",{enumerable:!0,get:function(){return A.str}}),Object.defineProperty(f,"stringify",{enumerable:!0,get:function(){return A.stringify}}),Object.defineProperty(f,"nil",{enumerable:!0,get:function(){return A.nil}}),Object.defineProperty(f,"Name",{enumerable:!0,get:function(){return A.Name}}),Object.defineProperty(f,"CodeGen",{enumerable:!0,get:function(){return A.CodeGen}});const S=i(9857),E=i(66606),c=i(66093),u=i(7762),n=i(85432),l=i(28222),s=i(15894),a=i(87868),m=i(63837),p=i(12857),d=(w,I)=>new RegExp(w,I);d.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),g={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},x={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};function B(w){var I,V,M,Q,ue,de,we,fe,_e,He,Pe,Oe,he,ve,ye,De,je,xe,$e,Ue,Re,Xe,ze,We,it;const ee=w.strict,N=null===(I=w.code)||void 0===I?void 0:I.optimize,P=!0===N||void 0===N?1:N||0,G=null!==(M=null===(V=w.code)||void 0===V?void 0:V.regExp)&&void 0!==M?M:d,Ee=null!==(Q=w.uriResolver)&&void 0!==Q?Q:p.default;return{strictSchema:null===(de=null!==(ue=w.strictSchema)&&void 0!==ue?ue:ee)||void 0===de||de,strictNumbers:null===(fe=null!==(we=w.strictNumbers)&&void 0!==we?we:ee)||void 0===fe||fe,strictTypes:null!==(He=null!==(_e=w.strictTypes)&&void 0!==_e?_e:ee)&&void 0!==He?He:"log",strictTuples:null!==(Oe=null!==(Pe=w.strictTuples)&&void 0!==Pe?Pe:ee)&&void 0!==Oe?Oe:"log",strictRequired:null!==(ve=null!==(he=w.strictRequired)&&void 0!==he?he:ee)&&void 0!==ve&&ve,code:w.code?{...w.code,optimize:P,regExp:G}:{optimize:P,regExp:G},loopRequired:null!==(ye=w.loopRequired)&&void 0!==ye?ye:200,loopEnum:null!==(De=w.loopEnum)&&void 0!==De?De:200,meta:null===(je=w.meta)||void 0===je||je,messages:null===(xe=w.messages)||void 0===xe||xe,inlineRefs:null===($e=w.inlineRefs)||void 0===$e||$e,schemaId:null!==(Ue=w.schemaId)&&void 0!==Ue?Ue:"$id",addUsedSchema:null===(Re=w.addUsedSchema)||void 0===Re||Re,validateSchema:null===(Xe=w.validateSchema)||void 0===Xe||Xe,validateFormats:null===(ze=w.validateFormats)||void 0===ze||ze,unicodeRegExp:null===(We=w.unicodeRegExp)||void 0===We||We,int32range:null===(it=w.int32range)||void 0===it||it,uriResolver:Ee}}class F{constructor(I={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,I=this.opts={...I,...B(I)};const{es5:V,lines:M}=this.opts.code;this.scope=new n.ValueScope({scope:{},prefixes:b,es5:V,lines:M}),this.logger=function Z(w){if(!1===w)return k;if(void 0===w)return console;if(w.log&&w.warn&&w.error)return w;throw new Error("logger must implement log, warn and error methods")}(I.logger);const Q=I.validateFormats;I.validateFormats=!1,this.RULES=(0,c.getRules)(),T.call(this,g,I,"NOT SUPPORTED"),T.call(this,x,I,"DEPRECATED","warn"),this._metaOpts=J.call(this),I.formats&&ie.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),I.keywords&&O.call(this,I.keywords),"object"==typeof I.meta&&this.addMetaSchema(I.meta),re.call(this),I.validateFormats=Q}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:I,meta:V,schemaId:M}=this.opts;let Q=m;"id"===M&&(Q={...m},Q.id=Q.$id,delete Q.$id),V&&I&&this.addMetaSchema(Q,Q[M],!1)}defaultMeta(){const{meta:I,schemaId:V}=this.opts;return this.opts.defaultMeta="object"==typeof I?I[V]||I:void 0}validate(I,V){let M;if("string"==typeof I){if(M=this.getSchema(I),!M)throw new Error(`no schema with key or ref "${I}"`)}else M=this.compile(I);const Q=M(V);return"$async"in M||(this.errors=M.errors),Q}compile(I,V){const M=this._addSchema(I,V);return M.validate||this._compileSchemaEnv(M)}compileAsync(I,V){if("function"!=typeof this.opts.loadSchema)throw new Error("options.loadSchema should be a function");const{loadSchema:M}=this.opts;return Q.call(this,I,V);function Q(ye,De){return ue.apply(this,arguments)}function ue(){return(ue=h(function*(ye,De){yield de.call(this,ye.$schema);const je=this._addSchema(ye,De);return je.validate||fe.call(this,je)})).apply(this,arguments)}function de(ye){return we.apply(this,arguments)}function we(){return(we=h(function*(ye){ye&&!this.getSchema(ye)&&(yield Q.call(this,{$ref:ye},!0))})).apply(this,arguments)}function fe(ye){return _e.apply(this,arguments)}function _e(){return(_e=h(function*(ye){try{return this._compileSchemaEnv(ye)}catch(De){if(!(De instanceof E.default))throw De;return He.call(this,De),yield Pe.call(this,De.missingSchema),fe.call(this,ye)}})).apply(this,arguments)}function He({missingSchema:ye,missingRef:De}){if(this.refs[ye])throw new Error(`AnySchema ${ye} is loaded but ${De} cannot be resolved`)}function Pe(ye){return Oe.apply(this,arguments)}function Oe(){return(Oe=h(function*(ye){const De=yield he.call(this,ye);this.refs[ye]||(yield de.call(this,De.$schema)),this.refs[ye]||this.addSchema(De,ye,V)})).apply(this,arguments)}function he(ye){return ve.apply(this,arguments)}function ve(){return(ve=h(function*(ye){const De=this._loading[ye];if(De)return De;try{return yield this._loading[ye]=M(ye)}finally{delete this._loading[ye]}})).apply(this,arguments)}}addSchema(I,V,M,Q=this.opts.validateSchema){if(Array.isArray(I)){for(const de of I)this.addSchema(de,void 0,M,Q);return this}let ue;if("object"==typeof I){const{schemaId:de}=this.opts;if(ue=I[de],void 0!==ue&&"string"!=typeof ue)throw new Error(`schema ${de} must be string`)}return V=(0,l.normalizeId)(V||ue),this._checkUnique(V),this.schemas[V]=this._addSchema(I,M,V,Q,!0),this}addMetaSchema(I,V,M=this.opts.validateSchema){return this.addSchema(I,V,!0,M),this}validateSchema(I,V){if("boolean"==typeof I)return!0;let M;if(M=I.$schema,void 0!==M&&"string"!=typeof M)throw new Error("$schema must be a string");if(M=M||this.opts.defaultMeta||this.defaultMeta(),!M)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const Q=this.validate(M,I);if(!Q&&V){const ue="schema is invalid: "+this.errorsText();if("log"!==this.opts.validateSchema)throw new Error(ue);this.logger.error(ue)}return Q}getSchema(I){let V;for(;"string"==typeof(V=z.call(this,I));)I=V;if(void 0===V){const{schemaId:M}=this.opts,Q=new u.SchemaEnv({schema:{},schemaId:M});if(V=u.resolveSchema.call(this,Q,I),!V)return;this.refs[I]=V}return V.validate||this._compileSchemaEnv(V)}removeSchema(I){if(I instanceof RegExp)return this._removeAllSchemas(this.schemas,I),this._removeAllSchemas(this.refs,I),this;switch(typeof I){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const V=z.call(this,I);return"object"==typeof V&&this._cache.delete(V.schema),delete this.schemas[I],delete this.refs[I],this}case"object":{this._cache.delete(I);let M=I[this.opts.schemaId];return M&&(M=(0,l.normalizeId)(M),delete this.schemas[M],delete this.refs[M]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(I){for(const V of I)this.addKeyword(V);return this}addKeyword(I,V){let M;if("string"==typeof I)M=I,"object"==typeof V&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),V.keyword=M);else{if("object"!=typeof I||void 0!==V)throw new Error("invalid addKeywords parameters");if(M=(V=I).keyword,Array.isArray(M)&&!M.length)throw new Error("addKeywords: keyword must be string or non-empty array")}if(pe.call(this,M,V),!V)return(0,a.eachItem)(M,ue=>R.call(this,ue)),this;oe.call(this,V);const Q={...V,type:(0,s.getJSONTypes)(V.type),schemaType:(0,s.getJSONTypes)(V.schemaType)};return(0,a.eachItem)(M,0===Q.type.length?ue=>R.call(this,ue,Q):ue=>Q.type.forEach(de=>R.call(this,ue,Q,de))),this}getKeyword(I){const V=this.RULES.all[I];return"object"==typeof V?V.definition:!!V}removeKeyword(I){const{RULES:V}=this;delete V.keywords[I],delete V.all[I];for(const M of V.rules){const Q=M.rules.findIndex(ue=>ue.keyword===I);Q>=0&&M.rules.splice(Q,1)}return this}addFormat(I,V){return"string"==typeof V&&(V=new RegExp(V)),this.formats[I]=V,this}errorsText(I=this.errors,{separator:V=", ",dataVar:M="data"}={}){return I&&0!==I.length?I.map(Q=>`${M}${Q.instancePath} ${Q.message}`).reduce((Q,ue)=>Q+V+ue):"No errors"}$dataMetaSchema(I,V){const M=this.RULES.all;I=JSON.parse(JSON.stringify(I));for(const Q of V){const ue=Q.split("/").slice(1);let de=I;for(const we of ue)de=de[we];for(const we in M){const fe=M[we];if("object"!=typeof fe)continue;const{$data:_e}=fe.definition,He=de[we];_e&&He&&(de[we]=Ie(He))}}return I}_removeAllSchemas(I,V){for(const M in I){const Q=I[M];(!V||V.test(M))&&("string"==typeof Q?delete I[M]:Q&&!Q.meta&&(this._cache.delete(Q.schema),delete I[M]))}}_addSchema(I,V,M,Q=this.opts.validateSchema,ue=this.opts.addUsedSchema){let de;const{schemaId:we}=this.opts;if("object"==typeof I)de=I[we];else{if(this.opts.jtd)throw new Error("schema must be object");if("boolean"!=typeof I)throw new Error("schema must be object or boolean")}let fe=this._cache.get(I);if(void 0!==fe)return fe;M=(0,l.normalizeId)(de||M);const _e=l.getSchemaRefs.call(this,I,M);return fe=new u.SchemaEnv({schema:I,schemaId:we,meta:V,baseId:M,localRefs:_e}),this._cache.set(fe.schema,fe),ue&&!M.startsWith("#")&&(M&&this._checkUnique(M),this.refs[M]=fe),Q&&this.validateSchema(I,!0),fe}_checkUnique(I){if(this.schemas[I]||this.refs[I])throw new Error(`schema with key or id "${I}" already exists`)}_compileSchemaEnv(I){if(I.meta?this._compileMetaSchema(I):u.compileSchema.call(this,I),!I.validate)throw new Error("ajv implementation error");return I.validate}_compileMetaSchema(I){const V=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,I)}finally{this.opts=V}}}function T(w,I,V,M="error"){for(const Q in w)Q in I&&this.logger[M](`${V}: option ${Q}. ${w[Q]}`)}function z(w){return w=(0,l.normalizeId)(w),this.schemas[w]||this.refs[w]}function re(){const w=this.opts.schemas;if(w)if(Array.isArray(w))this.addSchema(w);else for(const I in w)this.addSchema(w[I],I)}function ie(){for(const w in this.opts.formats){const I=this.opts.formats[w];I&&this.addFormat(w,I)}}function O(w){if(Array.isArray(w))this.addVocabulary(w);else{this.logger.warn("keywords option as map is deprecated, pass array");for(const I in w){const V=w[I];V.keyword||(V.keyword=I),this.addKeyword(V)}}}function J(){const w={...this.opts};for(const I of y)delete w[I];return w}F.ValidationError=S.default,F.MissingRefError=E.default,f.default=F;const k={log(){},warn(){},error(){}},W=/^[a-z_$][a-z0-9_$:-]*$/i;function pe(w,I){const{RULES:V}=this;if((0,a.eachItem)(w,M=>{if(V.keywords[M])throw new Error(`Keyword ${M} is already defined`);if(!W.test(M))throw new Error(`Keyword ${M} has invalid name`)}),I&&I.$data&&!("code"in I)&&!("validate"in I))throw new Error('$data keyword must have "code" or "validate" function')}function R(w,I,V){var M;const Q=I?.post;if(V&&Q)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:ue}=this;let de=Q?ue.post:ue.rules.find(({type:fe})=>fe===V);if(de||(de={type:V,rules:[]},ue.rules.push(de)),ue.keywords[w]=!0,!I)return;const we={keyword:w,definition:{...I,type:(0,s.getJSONTypes)(I.type),schemaType:(0,s.getJSONTypes)(I.schemaType)}};I.before?X.call(this,de,we,I.before):de.rules.push(we),ue.all[w]=we,null===(M=I.implements)||void 0===M||M.forEach(fe=>this.addKeyword(fe))}function X(w,I,V){const M=w.rules.findIndex(Q=>Q.keyword===V);M>=0?w.rules.splice(M,0,I):(w.rules.push(I),this.logger.warn(`rule ${V} is not defined`))}function oe(w){let{metaSchema:I}=w;void 0!==I&&(w.$data&&this.opts.$data&&(I=Ie(I)),w.validateSchema=this.compile(I,!0))}const be={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ie(w){return{anyOf:[w,be]}}},54195:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(40362);h.code='require("ajv/dist/runtime/equal").default',f.default=h},41506:(Y,f)=>{"use strict";function i(h){const v=h.length;let E,A=0,S=0;for(;S<v;)A++,E=h.charCodeAt(S++),E>=55296&&E<=56319&&S<v&&(E=h.charCodeAt(S),56320==(64512&E)&&S++);return A}Object.defineProperty(f,"__esModule",{value:!0}),f.default=i,i.code='require("ajv/dist/runtime/ucs2length").default'},12857:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(95568);h.code='require("ajv/dist/runtime/uri").default',f.default=h},9857:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});class i extends Error{constructor(v){super("validation failed"),this.errors=v,this.ajv=this.validation=!0}}f.default=i},12676:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.validateAdditionalItems=void 0;const h=i(85432),v=i(87868),S={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:c}})=>h.str`must NOT have more than ${c} items`,params:({params:{len:c}})=>h._`{limit: ${c}}`},code(c){const{parentSchema:u,it:n}=c,{items:l}=u;Array.isArray(l)?E(c,l):(0,v.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas')}};function E(c,u){const{gen:n,schema:l,data:s,keyword:a,it:m}=c;m.items=!0;const p=n.const("len",h._`${s}.length`);if(!1===l)c.setParams({len:u.length}),c.pass(h._`${p} <= ${u.length}`);else if("object"==typeof l&&!(0,v.alwaysValidSchema)(m,l)){const y=n.var("valid",h._`${p} <= ${u.length}`);n.if((0,h.not)(y),()=>function d(y){n.forRange("i",u.length,p,b=>{c.subschema({keyword:a,dataProp:b,dataPropType:v.Type.Num},y),m.allErrors||n.if((0,h.not)(y),()=>n.break())})}(y)),c.ok(y)}}f.validateAdditionalItems=E,f.default=S},84491:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(12240),v=i(85432),A=i(12682),S=i(87868);f.default={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:u})=>v._`{additionalProperty: ${u.additionalProperty}}`},code(u){const{gen:n,schema:l,parentSchema:s,data:a,errsCount:m,it:p}=u;if(!m)throw new Error("ajv implementation error");const{allErrors:d,opts:y}=p;if(p.props=!0,"all"!==y.removeAdditional&&(0,S.alwaysValidSchema)(p,l))return;const b=(0,h.allSchemaProperties)(s.properties),g=(0,h.allSchemaProperties)(s.patternProperties);function B(z){n.code(v._`delete ${a}[${z}]`)}function F(z){if("all"===y.removeAdditional||y.removeAdditional&&!1===l)B(z);else{if(!1===l)return u.setParams({additionalProperty:z}),u.error(),void(d||n.break());if("object"==typeof l&&!(0,S.alwaysValidSchema)(p,l)){const re=n.name("valid");"failing"===y.removeAdditional?(T(z,re,!1),n.if((0,v.not)(re),()=>{u.reset(),B(z)})):(T(z,re),d||n.if((0,v.not)(re),()=>n.break()))}}}function T(z,re,ie){const O={keyword:"additionalProperties",dataProp:z,dataPropType:S.Type.Str};!1===ie&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),u.subschema(O,re)}(function x(){n.forIn("key",a,z=>{b.length||g.length?n.if(function C(z){let re;if(b.length>8){const ie=(0,S.schemaRefOrVal)(p,s.properties,"properties");re=(0,h.isOwnProperty)(n,ie,z)}else re=b.length?(0,v.or)(...b.map(ie=>v._`${z} === ${ie}`)):v.nil;return g.length&&(re=(0,v.or)(re,...g.map(ie=>v._`${(0,h.usePattern)(u,ie)}.test(${z})`))),(0,v.not)(re)}(z),()=>F(z)):F(z)})})(),u.ok(v._`${m} === ${A.default.errors}`)}}},2937:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(87868);f.default={keyword:"allOf",schemaType:"array",code(A){const{gen:S,schema:E,it:c}=A;if(!Array.isArray(E))throw new Error("ajv implementation error");const u=S.name("valid");E.forEach((n,l)=>{if((0,h.alwaysValidSchema)(c,n))return;const s=A.subschema({keyword:"allOf",schemaProp:l},u);A.ok(u),A.mergeEvaluated(s)})}}},83968:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const v={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:i(12240).validateUnion,error:{message:"must match a schema in anyOf"}};f.default=v},66066:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432),v=i(87868);f.default={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:E,max:c}})=>void 0===c?h.str`must contain at least ${E} valid item(s)`:h.str`must contain at least ${E} and no more than ${c} valid item(s)`,params:({params:{min:E,max:c}})=>void 0===c?h._`{minContains: ${E}}`:h._`{minContains: ${E}, maxContains: ${c}}`},code(E){const{gen:c,schema:u,parentSchema:n,data:l,it:s}=E;let a,m;const{minContains:p,maxContains:d}=n;s.opts.next?(a=void 0===p?1:p,m=d):a=1;const y=c.const("len",h._`${l}.length`);if(E.setParams({min:a,max:m}),void 0===m&&0===a)return void(0,v.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');if(void 0!==m&&a>m)return(0,v.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),void E.fail();if((0,v.alwaysValidSchema)(s,u)){let B=h._`${y} >= ${a}`;return void 0!==m&&(B=h._`${B} && ${y} <= ${m}`),void E.pass(B)}s.items=!0;const b=c.name("valid");function g(){const B=c.name("_valid"),F=c.let("count",0);x(B,()=>c.if(B,()=>function C(B){c.code(h._`${B}++`),void 0===m?c.if(h._`${B} >= ${a}`,()=>c.assign(b,!0).break()):(c.if(h._`${B} > ${m}`,()=>c.assign(b,!1).break()),1===a?c.assign(b,!0):c.if(h._`${B} >= ${a}`,()=>c.assign(b,!0)))}(F)))}function x(B,F){c.forRange("i",0,y,T=>{E.subschema({keyword:"contains",dataProp:T,dataPropType:v.Type.Num,compositeRule:!0},B),F()})}void 0===m&&1===a?x(b,()=>c.if(b,()=>c.break())):0===a?(c.let(b,!0),void 0!==m&&c.if(h._`${l}.length > 0`,g)):(c.let(b,!1),g()),E.result(b,()=>E.reset())}}},99310:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.validateSchemaDeps=f.validatePropertyDeps=f.error=void 0;const h=i(85432),v=i(87868),A=i(12240);f.error={message:({params:{property:n,depsCount:l,deps:s}})=>h.str`must have ${1===l?"property":"properties"} ${s} when property ${n} is present`,params:({params:{property:n,depsCount:l,deps:s,missingProperty:a}})=>h._`{property: ${n},
    missingProperty: ${a},
    depsCount: ${l},
    deps: ${s}}`};const S={keyword:"dependencies",type:"object",schemaType:"object",error:f.error,code(n){const[l,s]=function E({schema:n}){const l={},s={};for(const a in n)"__proto__"!==a&&((Array.isArray(n[a])?l:s)[a]=n[a]);return[l,s]}(n);c(n,l),u(n,s)}};function c(n,l=n.schema){const{gen:s,data:a,it:m}=n;if(0===Object.keys(l).length)return;const p=s.let("missing");for(const d in l){const y=l[d];if(0===y.length)continue;const b=(0,A.propertyInData)(s,a,d,m.opts.ownProperties);n.setParams({property:d,depsCount:y.length,deps:y.join(", ")}),m.allErrors?s.if(b,()=>{for(const g of y)(0,A.checkReportMissingProp)(n,g)}):(s.if(h._`${b} && (${(0,A.checkMissingProp)(n,y,p)})`),(0,A.reportMissingProp)(n,p),s.else())}}function u(n,l=n.schema){const{gen:s,data:a,keyword:m,it:p}=n,d=s.name("valid");for(const y in l)(0,v.alwaysValidSchema)(p,l[y])||(s.if((0,A.propertyInData)(s,a,y,p.opts.ownProperties),()=>{const b=n.subschema({keyword:m,schemaProp:y},d);n.mergeValidEvaluated(b,d)},()=>s.var(d,!0)),n.ok(d))}f.validatePropertyDeps=c,f.validateSchemaDeps=u,f.default=S},13884:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432),v=i(87868);function E(c,u){const n=c.schema[u];return void 0!==n&&!(0,v.alwaysValidSchema)(c,n)}f.default={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:c})=>h.str`must match "${c.ifClause}" schema`,params:({params:c})=>h._`{failingKeyword: ${c.ifClause}}`},code(c){const{gen:u,parentSchema:n,it:l}=c;void 0===n.then&&void 0===n.else&&(0,v.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const s=E(l,"then"),a=E(l,"else");if(!s&&!a)return;const m=u.let("valid",!0),p=u.name("_valid");if(function d(){const b=c.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},p);c.mergeEvaluated(b)}(),c.reset(),s&&a){const b=u.let("ifClause");c.setParams({ifClause:b}),u.if(p,y("then",b),y("else",b))}else s?u.if(p,y("then")):u.if((0,h.not)(p),y("else"));function y(b,g){return()=>{const x=c.subschema({keyword:b},p);u.assign(m,p),c.mergeValidEvaluated(x,m),g?u.assign(g,h._`${b}`):c.setParams({ifClause:b})}}c.pass(m,()=>c.error(!0))}}},69795:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(12676),v=i(90207),A=i(23403),S=i(18555),E=i(66066),c=i(99310),u=i(62944),n=i(84491),l=i(48758),s=i(55852),a=i(6970),m=i(83968),p=i(2646),d=i(2937),y=i(13884),b=i(73337);f.default=function g(x=!1){const C=[a.default,m.default,p.default,d.default,y.default,b.default,u.default,n.default,c.default,l.default,s.default];return x?C.push(v.default,S.default):C.push(h.default,A.default),C.push(E.default),C}},23403:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.validateTuple=void 0;const h=i(85432),v=i(87868),A=i(12240),S={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(c){const{schema:u,it:n}=c;if(Array.isArray(u))return E(c,"additionalItems",u);n.items=!0,!(0,v.alwaysValidSchema)(n,u)&&c.ok((0,A.validateArray)(c))}};function E(c,u,n=c.schema){const{gen:l,parentSchema:s,data:a,keyword:m,it:p}=c;(function b(g){const{opts:x,errSchemaPath:C}=p,B=n.length;x.strictTuples&&!(B===g.minItems&&(B===g.maxItems||!1===g[u]))&&(0,v.checkStrictMode)(p,`"${m}" is ${B}-tuple, but minItems or maxItems/${u} are not specified or different at path "${C}"`,x.strictTuples)})(s),p.opts.unevaluated&&n.length&&!0!==p.items&&(p.items=v.mergeEvaluated.items(l,n.length,p.items));const d=l.name("valid"),y=l.const("len",h._`${a}.length`);n.forEach((g,x)=>{(0,v.alwaysValidSchema)(p,g)||(l.if(h._`${y} > ${x}`,()=>c.subschema({keyword:m,schemaProp:x,dataProp:x},d)),c.ok(d))})}f.validateTuple=E,f.default=S},18555:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432),v=i(87868),A=i(12240),S=i(12676);f.default={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:u}})=>h.str`must NOT have more than ${u} items`,params:({params:{len:u}})=>h._`{limit: ${u}}`},code(u){const{schema:n,parentSchema:l,it:s}=u,{prefixItems:a}=l;s.items=!0,!(0,v.alwaysValidSchema)(s,n)&&(a?(0,S.validateAdditionalItems)(u,a):u.ok((0,A.validateArray)(u)))}}},6970:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(87868);f.default={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(A){const{gen:S,schema:E,it:c}=A;if((0,h.alwaysValidSchema)(c,E))return void A.fail();const u=S.name("valid");A.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),A.failResult(u,()=>A.reset(),()=>A.error())},error:{message:"must NOT be valid"}}},2646:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432),v=i(87868);f.default={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:E})=>h._`{passingSchemas: ${E.passing}}`},code(E){const{gen:c,schema:u,parentSchema:n,it:l}=E;if(!Array.isArray(u))throw new Error("ajv implementation error");if(l.opts.discriminator&&n.discriminator)return;const s=u,a=c.let("valid",!1),m=c.let("passing",null),p=c.name("_valid");E.setParams({passing:m}),c.block(function d(){s.forEach((y,b)=>{let g;(0,v.alwaysValidSchema)(l,y)?c.var(p,!0):g=E.subschema({keyword:"oneOf",schemaProp:b,compositeRule:!0},p),b>0&&c.if(h._`${p} && ${a}`).assign(a,!1).assign(m,h._`[${m}, ${b}]`).else(),c.if(p,()=>{c.assign(a,!0),c.assign(m,b),g&&E.mergeEvaluated(g,h.Name)})})}),E.result(a,()=>E.reset(),()=>E.error(!0))}}},55852:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(12240),v=i(85432),A=i(87868),S=i(87868);f.default={keyword:"patternProperties",type:"object",schemaType:"object",code(c){const{gen:u,schema:n,data:l,parentSchema:s,it:a}=c,{opts:m}=a,p=(0,h.allSchemaProperties)(n),d=p.filter(F=>(0,A.alwaysValidSchema)(a,n[F]));if(0===p.length||d.length===p.length&&(!a.opts.unevaluated||!0===a.props))return;const y=m.strictSchema&&!m.allowMatchingProperties&&s.properties,b=u.name("valid");!0!==a.props&&!(a.props instanceof v.Name)&&(a.props=(0,S.evaluatedPropsToName)(u,a.props));const{props:g}=a;function C(F){for(const T in y)new RegExp(F).test(T)&&(0,A.checkStrictMode)(a,`property ${T} matches pattern ${F} (use allowMatchingProperties)`)}function B(F){u.forIn("key",l,T=>{u.if(v._`${(0,h.usePattern)(c,F)}.test(${T})`,()=>{const z=d.includes(F);z||c.subschema({keyword:"patternProperties",schemaProp:F,dataProp:T,dataPropType:S.Type.Str},b),a.opts.unevaluated&&!0!==g?u.assign(v._`${g}[${T}]`,!0):!z&&!a.allErrors&&u.if((0,v.not)(b),()=>u.break())})})}!function x(){for(const F of p)y&&C(F),a.allErrors?B(F):(u.var(b,!0),B(F),u.if(b))}()}}},90207:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(23403);f.default={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:A=>(0,h.validateTuple)(A,"items")}},48758:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(87157),v=i(12240),A=i(87868),S=i(84491);f.default={keyword:"properties",type:"object",schemaType:"object",code(c){const{gen:u,schema:n,parentSchema:l,data:s,it:a}=c;"all"===a.opts.removeAdditional&&void 0===l.additionalProperties&&S.default.code(new h.KeywordCxt(a,S.default,"additionalProperties"));const m=(0,v.allSchemaProperties)(n);for(const g of m)a.definedProperties.add(g);a.opts.unevaluated&&m.length&&!0!==a.props&&(a.props=A.mergeEvaluated.props(u,(0,A.toHash)(m),a.props));const p=m.filter(g=>!(0,A.alwaysValidSchema)(a,n[g]));if(0===p.length)return;const d=u.name("valid");for(const g of p)y(g)?b(g):(u.if((0,v.propertyInData)(u,s,g,a.opts.ownProperties)),b(g),a.allErrors||u.else().var(d,!0),u.endIf()),c.it.definedProperties.add(g),c.ok(d);function y(g){return a.opts.useDefaults&&!a.compositeRule&&void 0!==n[g].default}function b(g){c.subschema({keyword:"properties",schemaProp:g,dataProp:g},d)}}}},62944:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432),v=i(87868);f.default={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:E})=>h._`{propertyName: ${E.propertyName}}`},code(E){const{gen:c,schema:u,data:n,it:l}=E;if((0,v.alwaysValidSchema)(l,u))return;const s=c.name("valid");c.forIn("key",n,a=>{E.setParams({propertyName:a}),E.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},s),c.if((0,h.not)(s),()=>{E.error(!0),l.allErrors||c.break()})}),E.ok(s)}}},73337:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(87868);f.default={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:A,parentSchema:S,it:E}){void 0===S.if&&(0,h.checkStrictMode)(E,`"${A}" without "if" is ignored`)}}},12240:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.validateUnion=f.validateArray=f.usePattern=f.callValidateCode=f.schemaProperties=f.allSchemaProperties=f.noPropertyInData=f.propertyInData=f.isOwnProperty=f.hasPropFunc=f.reportMissingProp=f.checkMissingProp=f.checkReportMissingProp=void 0;const h=i(85432),v=i(87868),A=i(12682),S=i(87868);function n(C){return C.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:h._`Object.prototype.hasOwnProperty`})}function l(C,B,F){return h._`${n(C)}.call(${B}, ${F})`}function a(C,B,F,T){const z=h._`${B}${(0,h.getProperty)(F)} === undefined`;return T?(0,h.or)(z,(0,h.not)(l(C,B,F))):z}function m(C){return C?Object.keys(C).filter(B=>"__proto__"!==B):[]}f.checkReportMissingProp=function E(C,B){const{gen:F,data:T,it:z}=C;F.if(a(F,T,B,z.opts.ownProperties),()=>{C.setParams({missingProperty:h._`${B}`},!0),C.error()})},f.checkMissingProp=function c({gen:C,data:B,it:{opts:F}},T,z){return(0,h.or)(...T.map(re=>(0,h.and)(a(C,B,re,F.ownProperties),h._`${z} = ${re}`)))},f.reportMissingProp=function u(C,B){C.setParams({missingProperty:B},!0),C.error()},f.hasPropFunc=n,f.isOwnProperty=l,f.propertyInData=function s(C,B,F,T){const z=h._`${B}${(0,h.getProperty)(F)} !== undefined`;return T?h._`${z} && ${l(C,B,F)}`:z},f.noPropertyInData=a,f.allSchemaProperties=m,f.schemaProperties=function p(C,B){return m(B).filter(F=>!(0,v.alwaysValidSchema)(C,B[F]))},f.callValidateCode=function d({schemaCode:C,data:B,it:{gen:F,topSchemaRef:T,schemaPath:z,errorPath:re},it:ie},O,J,k){const Z=k?h._`${C}, ${B}, ${T}${z}`:B,W=[[A.default.instancePath,(0,h.strConcat)(A.default.instancePath,re)],[A.default.parentData,ie.parentData],[A.default.parentDataProperty,ie.parentDataProperty],[A.default.rootData,A.default.rootData]];ie.opts.dynamicRef&&W.push([A.default.dynamicAnchors,A.default.dynamicAnchors]);const pe=h._`${Z}, ${F.object(...W)}`;return J!==h.nil?h._`${O}.call(${J}, ${pe})`:h._`${O}(${pe})`};const y=h._`new RegExp`;f.usePattern=function b({gen:C,it:{opts:B}},F){const T=B.unicodeRegExp?"u":"",{regExp:z}=B.code,re=z(F,T);return C.scopeValue("pattern",{key:re.toString(),ref:re,code:h._`${"new RegExp"===z.code?y:(0,S.useFunc)(C,z)}(${F}, ${T})`})},f.validateArray=function g(C){const{gen:B,data:F,keyword:T,it:z}=C,re=B.name("valid");if(z.allErrors){const O=B.let("valid",!0);return ie(()=>B.assign(O,!1)),O}return B.var(re,!0),ie(()=>B.break()),re;function ie(O){const J=B.const("len",h._`${F}.length`);B.forRange("i",0,J,k=>{C.subschema({keyword:T,dataProp:k,dataPropType:v.Type.Num},re),B.if((0,h.not)(re),O)})}},f.validateUnion=function x(C){const{gen:B,schema:F,keyword:T,it:z}=C;if(!Array.isArray(F))throw new Error("ajv implementation error");if(F.some(J=>(0,v.alwaysValidSchema)(z,J))&&!z.opts.unevaluated)return;const ie=B.let("valid",!1),O=B.name("_valid");B.block(()=>F.forEach((J,k)=>{const Z=C.subschema({keyword:T,schemaProp:k,compositeRule:!0},O);B.assign(ie,h._`${ie} || ${O}`),C.mergeValidEvaluated(Z,O)||B.if((0,h.not)(ie))})),C.result(ie,()=>C.reset(),()=>C.error(!0))}},83260:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.default={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}}},16281:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(83260),v=i(81680);f.default=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",h.default,v.default]},81680:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.callRef=f.getValidate=void 0;const h=i(66606),v=i(12240),A=i(85432),S=i(12682),E=i(7762),c=i(87868),u={keyword:"$ref",schemaType:"string",code(s){const{gen:a,schema:m,it:p}=s,{baseId:d,schemaEnv:y,validateName:b,opts:g,self:x}=p,{root:C}=y;if(("#"===m||"#/"===m)&&d===C.baseId)return function F(){if(y===C)return l(s,b,y,y.$async);const re=a.scopeValue("root",{ref:C});return l(s,A._`${re}.validate`,C,C.$async)}();const B=E.resolveRef.call(x,C,d,m);if(void 0===B)throw new h.default(p.opts.uriResolver,d,m);return B instanceof E.SchemaEnv?function T(re){const ie=n(s,re);l(s,ie,re,re.$async)}(B):function z(re){const ie=a.scopeValue("schema",!0===g.code.source?{ref:re,code:(0,A.stringify)(re)}:{ref:re}),O=a.name("valid"),J=s.subschema({schema:re,dataTypes:[],schemaPath:A.nil,topSchemaRef:ie,errSchemaPath:m},O);s.mergeEvaluated(J),s.ok(O)}(B)}};function n(s,a){const{gen:m}=s;return a.validate?m.scopeValue("validate",{ref:a.validate}):A._`${m.scopeValue("wrapper",{ref:a})}.validate`}function l(s,a,m,p){const{gen:d,it:y}=s,{allErrors:b,schemaEnv:g,opts:x}=y,C=x.passContext?S.default.this:A.nil;function T(re){const ie=A._`${re}.errors`;d.assign(S.default.vErrors,A._`${S.default.vErrors} === null ? ${ie} : ${S.default.vErrors}.concat(${ie})`),d.assign(S.default.errors,A._`${S.default.vErrors}.length`)}function z(re){var ie;if(!y.opts.unevaluated)return;const O=null===(ie=m?.validate)||void 0===ie?void 0:ie.evaluated;if(!0!==y.props)if(O&&!O.dynamicProps)void 0!==O.props&&(y.props=c.mergeEvaluated.props(d,O.props,y.props));else{const J=d.var("props",A._`${re}.evaluated.props`);y.props=c.mergeEvaluated.props(d,J,y.props,A.Name)}if(!0!==y.items)if(O&&!O.dynamicItems)void 0!==O.items&&(y.items=c.mergeEvaluated.items(d,O.items,y.items));else{const J=d.var("items",A._`${re}.evaluated.items`);y.items=c.mergeEvaluated.items(d,J,y.items,A.Name)}}p?function B(){if(!g.$async)throw new Error("async schema referenced by sync schema");const re=d.let("valid");d.try(()=>{d.code(A._`await ${(0,v.callValidateCode)(s,a,C)}`),z(a),b||d.assign(re,!0)},ie=>{d.if(A._`!(${ie} instanceof ${y.ValidationError})`,()=>d.throw(ie)),T(ie),b||d.assign(re,!1)}),s.ok(re)}():function F(){s.result((0,v.callValidateCode)(s,a,C),()=>z(a),()=>T(a))}()}f.getValidate=n,f.callRef=l,f.default=u},78058:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432),v=i(97543),A=i(7762),S=i(87868);f.default={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:u,tagName:n}})=>u===v.DiscrError.Tag?`tag "${n}" must be string`:`value of tag "${n}" must be in oneOf`,params:({params:{discrError:u,tag:n,tagName:l}})=>h._`{error: ${u}, tag: ${l}, tagValue: ${n}}`},code(u){const{gen:n,data:l,schema:s,parentSchema:a,it:m}=u,{oneOf:p}=a;if(!m.opts.discriminator)throw new Error("discriminator: requires discriminator option");const d=s.propertyName;if("string"!=typeof d)throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!p)throw new Error("discriminator: requires oneOf keyword");const y=n.let("valid",!1),b=n.const("tag",h._`${l}${(0,h.getProperty)(d)}`);function x(B){const F=n.name("valid"),T=u.subschema({keyword:"oneOf",schemaProp:B},F);return u.mergeEvaluated(T,h.Name),F}n.if(h._`typeof ${b} == "string"`,()=>function g(){const B=function C(){var B;const F={},T=re(a);let z=!0;for(let J=0;J<p.length;J++){let k=p[J];k?.$ref&&!(0,S.schemaHasRulesButRef)(k,m.self.RULES)&&(k=A.resolveRef.call(m.self,m.schemaEnv.root,m.baseId,k?.$ref),k instanceof A.SchemaEnv&&(k=k.schema));const Z=null===(B=k?.properties)||void 0===B?void 0:B[d];if("object"!=typeof Z)throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);z=z&&(T||re(k)),ie(Z,J)}if(!z)throw new Error(`discriminator: "${d}" must be required`);return F;function re({required:J}){return Array.isArray(J)&&J.includes(d)}function ie(J,k){if(J.const)O(J.const,k);else{if(!J.enum)throw new Error(`discriminator: "properties/${d}" must have "const" or "enum"`);for(const Z of J.enum)O(Z,k)}}function O(J,k){if("string"!=typeof J||J in F)throw new Error(`discriminator: "${d}" values must be unique strings`);F[J]=k}}();n.if(!1);for(const F in B)n.elseIf(h._`${b} === ${F}`),n.assign(y,x(B[F]));n.else(),u.error(!1,{discrError:v.DiscrError.Mapping,tag:b,tagName:d}),n.endIf()}(),()=>u.error(!1,{discrError:v.DiscrError.Tag,tag:b,tagName:d})),u.ok(y)}}},97543:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.DiscrError=void 0;var i=function(h){return h.Tag="tag",h.Mapping="mapping",h}(i||(f.DiscrError=i={}))},70457:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(16281),v=i(57085),A=i(69795),S=i(25309),E=i(33880),c=[h.default,v.default,(0,A.default)(),S.default,E.metadataVocabulary,E.contentVocabulary];f.default=c},30742:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432);f.default={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:S})=>h.str`must match format "${S}"`,params:({schemaCode:S})=>h._`{format: ${S}}`},code(S,E){const{gen:c,data:u,$data:n,schema:l,schemaCode:s,it:a}=S,{opts:m,errSchemaPath:p,schemaEnv:d,self:y}=a;m.validateFormats&&(n?function b(){const x=c.scopeValue("formats",{ref:y.formats,code:m.code.formats}),C=c.const("fDef",h._`${x}[${s}]`),B=c.let("fType"),F=c.let("format");c.if(h._`typeof ${C} == "object" && !(${C} instanceof RegExp)`,()=>c.assign(B,h._`${C}.type || "string"`).assign(F,h._`${C}.validate`),()=>c.assign(B,h._`"string"`).assign(F,C)),S.fail$data((0,h.or)(function T(){return!1===m.strictSchema?h.nil:h._`${s} && !${F}`}(),function z(){const re=d.$async?h._`(${C}.async ? await ${F}(${u}) : ${F}(${u}))`:h._`${F}(${u})`,ie=h._`(typeof ${F} == "function" ? ${re} : ${F}.test(${u}))`;return h._`${F} && ${F} !== true && ${B} === ${E} && !${ie}`}()))}():function g(){const x=y.formats[l];if(!x)return void function T(){if(!1!==m.strictSchema)throw new Error(ie());function ie(){return`unknown format "${l}" ignored in schema at path "${p}"`}y.logger.warn(ie())}();if(!0===x)return;const[C,B,F]=function z(ie){const O=ie instanceof RegExp?(0,h.regexpCode)(ie):m.code.formats?h._`${m.code.formats}${(0,h.getProperty)(l)}`:void 0,J=c.scopeValue("formats",{key:l,ref:ie,code:O});return"object"!=typeof ie||ie instanceof RegExp?["string",ie,J]:[ie.type||"string",ie.validate,h._`${J}.validate`]}(x);C===E&&S.pass(function re(){if("object"==typeof x&&!(x instanceof RegExp)&&x.async){if(!d.$async)throw new Error("async format in sync schema");return h._`await ${F}(${u})`}return"function"==typeof B?h._`${F}(${u})`:h._`${F}.test(${u})`}())}())}}},25309:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const v=[i(30742).default];f.default=v},33880:(Y,f)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.contentVocabulary=f.metadataVocabulary=void 0,f.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],f.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},37438:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432),v=i(87868),A=i(54195);f.default={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:c})=>h._`{allowedValue: ${c}}`},code(c){const{gen:u,data:n,$data:l,schemaCode:s,schema:a}=c;l||a&&"object"==typeof a?c.fail$data(h._`!${(0,v.useFunc)(u,A.default)}(${n}, ${s})`):c.fail(h._`${a} !== ${n}`)}}},37956:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432),v=i(87868),A=i(54195);f.default={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:c})=>h._`{allowedValues: ${c}}`},code(c){const{gen:u,data:n,$data:l,schema:s,schemaCode:a,it:m}=c;if(!l&&0===s.length)throw new Error("enum must have non-empty array");let d;const y=()=>d??(d=(0,v.useFunc)(u,A.default));let b;if(s.length>=m.opts.loopEnum||l)b=u.let("valid"),c.block$data(b,function g(){u.assign(b,!1),u.forOf("v",a,C=>u.if(h._`${y()}(${n}, ${C})`,()=>u.assign(b,!0).break()))});else{if(!Array.isArray(s))throw new Error("ajv implementation error");const C=u.const("vSchema",a);b=(0,h.or)(...s.map((B,F)=>function x(C,B){const F=s[B];return"object"==typeof F&&null!==F?h._`${y()}(${n}, ${C}[${B}])`:h._`${n} === ${F}`}(C,F)))}c.pass(b)}}},57085:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(89807),v=i(60776),A=i(55854),S=i(98675),E=i(11379),c=i(64620),u=i(34812),n=i(13632),l=i(37438),s=i(37956);f.default=[h.default,v.default,A.default,S.default,E.default,c.default,u.default,n.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,s.default]},34812:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432);f.default={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message:({keyword:S,schemaCode:E})=>h.str`must NOT have ${"maxItems"===S?"more":"fewer"} than ${E} items`,params:({schemaCode:S})=>h._`{limit: ${S}}`},code(S){const{keyword:E,data:c,schemaCode:u}=S;S.fail$data(h._`${c}.length ${"maxItems"===E?h.operators.GT:h.operators.LT} ${u}`)}}},55854:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432),v=i(87868),A=i(41506);f.default={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message:({keyword:c,schemaCode:u})=>h.str`must NOT have ${"maxLength"===c?"more":"fewer"} than ${u} characters`,params:({schemaCode:c})=>h._`{limit: ${c}}`},code(c){const{keyword:u,data:n,schemaCode:l,it:s}=c,a="maxLength"===u?h.operators.GT:h.operators.LT,m=!1===s.opts.unicode?h._`${n}.length`:h._`${(0,v.useFunc)(c.gen,A.default)}(${n})`;c.fail$data(h._`${m} ${a} ${l}`)}}},89807:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432),v=h.operators,A={maximum:{okStr:"<=",ok:v.LTE,fail:v.GT},minimum:{okStr:">=",ok:v.GTE,fail:v.LT},exclusiveMaximum:{okStr:"<",ok:v.LT,fail:v.GTE},exclusiveMinimum:{okStr:">",ok:v.GT,fail:v.LTE}},S={message:({keyword:c,schemaCode:u})=>h.str`must be ${A[c].okStr} ${u}`,params:({keyword:c,schemaCode:u})=>h._`{comparison: ${A[c].okStr}, limit: ${u}}`},E={keyword:Object.keys(A),type:"number",schemaType:"number",$data:!0,error:S,code(c){const{keyword:u,data:n,schemaCode:l}=c;c.fail$data(h._`${n} ${A[u].fail} ${l} || isNaN(${n})`)}};f.default=E},11379:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432);f.default={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message:({keyword:S,schemaCode:E})=>h.str`must NOT have ${"maxProperties"===S?"more":"fewer"} than ${E} properties`,params:({schemaCode:S})=>h._`{limit: ${S}}`},code(S){const{keyword:E,data:c,schemaCode:u}=S;S.fail$data(h._`Object.keys(${c}).length ${"maxProperties"===E?h.operators.GT:h.operators.LT} ${u}`)}}},60776:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(85432);f.default={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:S})=>h.str`must be multiple of ${S}`,params:({schemaCode:S})=>h._`{multipleOf: ${S}}`},code(S){const{gen:E,data:c,schemaCode:u,it:n}=S,l=n.opts.multipleOfPrecision,s=E.let("res"),a=l?h._`Math.abs(Math.round(${s}) - ${s}) > 1e-${l}`:h._`${s} !== parseInt(${s})`;S.fail$data(h._`(${u} === 0 || (${s} = ${c}/${u}, ${a}))`)}}},98675:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(12240),v=i(85432);f.default={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:E})=>v.str`must match pattern "${E}"`,params:({schemaCode:E})=>v._`{pattern: ${E}}`},code(E){const{data:c,$data:u,schema:n,schemaCode:l,it:s}=E,m=u?v._`(new RegExp(${l}, ${s.opts.unicodeRegExp?"u":""}))`:(0,h.usePattern)(E,n);E.fail$data(v._`!${m}.test(${c})`)}}},64620:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(12240),v=i(85432),A=i(87868);f.default={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:c}})=>v.str`must have required property '${c}'`,params:({params:{missingProperty:c}})=>v._`{missingProperty: ${c}}`},code(c){const{gen:u,schema:n,schemaCode:l,data:s,$data:a,it:m}=c,{opts:p}=m;if(!a&&0===n.length)return;const d=n.length>=p.loopRequired;if(m.allErrors?function y(){if(d||a)c.block$data(v.nil,g);else for(const C of n)(0,h.checkReportMissingProp)(c,C)}():function b(){const C=u.let("missing");if(d||a){const B=u.let("valid",!0);c.block$data(B,()=>function x(C,B){c.setParams({missingProperty:C}),u.forOf(C,l,()=>{u.assign(B,(0,h.propertyInData)(u,s,C,p.ownProperties)),u.if((0,v.not)(B),()=>{c.error(),u.break()})},v.nil)}(C,B)),c.ok(B)}else u.if((0,h.checkMissingProp)(c,n,C)),(0,h.reportMissingProp)(c,C),u.else()}(),p.strictRequired){const C=c.parentSchema.properties,{definedProperties:B}=c.it;for(const F of n)void 0!==C?.[F]||B.has(F)||(0,A.checkStrictMode)(m,`required property "${F}" is not defined at "${m.schemaEnv.baseId+m.errSchemaPath}" (strictRequired)`,m.opts.strictRequired)}function g(){u.forOf("prop",l,C=>{c.setParams({missingProperty:C}),u.if((0,h.noPropertyInData)(u,s,C,p.ownProperties),()=>c.error())})}}}},13632:(Y,f,i)=>{"use strict";Object.defineProperty(f,"__esModule",{value:!0});const h=i(15894),v=i(85432),A=i(87868),S=i(54195);f.default={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:u,j:n}})=>v.str`must NOT have duplicate items (items ## ${n} and ${u} are identical)`,params:({params:{i:u,j:n}})=>v._`{i: ${u}, j: ${n}}`},code(u){const{gen:n,data:l,$data:s,schema:a,parentSchema:m,schemaCode:p,it:d}=u;if(!s&&!a)return;const y=n.let("valid"),b=m.items?(0,h.getSchemaTypes)(m.items):[];function C(F,T){const z=n.name("item"),re=(0,h.checkDataTypes)(b,z,d.opts.strictNumbers,h.DataType.Wrong),ie=n.const("indices",v._`{}`);n.for(v._`;${F}--;`,()=>{n.let(z,v._`${l}[${F}]`),n.if(re,v._`continue`),b.length>1&&n.if(v._`typeof ${z} == "string"`,v._`${z} += "_"`),n.if(v._`typeof ${ie}[${z}] == "number"`,()=>{n.assign(T,v._`${ie}[${z}]`),u.error(),n.assign(y,!1).break()}).code(v._`${ie}[${z}] = ${F}`)})}function B(F,T){const z=(0,A.useFunc)(n,S.default),re=n.name("outer");n.label(re).for(v._`;${F}--;`,()=>n.for(v._`${T} = ${F}; ${T}--;`,()=>n.if(v._`${z}(${l}[${F}], ${l}[${T}])`,()=>{u.error(),n.assign(y,!1).break(re)})))}u.block$data(y,function g(){const F=n.let("i",v._`${l}.length`),T=n.let("j");u.setParams({i:F,j:T}),n.assign(y,!0),n.if(v._`${F} > 1`,()=>(function x(){return b.length>0&&!b.some(F=>"object"===F||"array"===F)}()?C:B)(F,T))},v._`${p} === false`),u.ok(y)}}},23020:(Y,f,i)=>{"use strict";var h=i(90258),v=i(48128),A=v(h("String.prototype.indexOf"));Y.exports=function(E,c){var u=h(E,!!c);return"function"==typeof u&&A(E,".prototype.")>-1?v(u):u}},48128:(Y,f,i)=>{"use strict";var h=i(65992),v=i(90258),A=i(31358),S=i(46758),E=v("%Function.prototype.apply%"),c=v("%Function.prototype.call%"),u=v("%Reflect.apply%",!0)||h.call(c,E),n=i(4570),l=v("%Math.max%");Y.exports=function(m){if("function"!=typeof m)throw new S("a function is required");var p=u(h,c,arguments);return A(p,1+l(0,m.length-(arguments.length-1)),!0)};var s=function(){return u(h,E,arguments)};n?n(Y.exports,"apply",{value:s}):Y.exports.apply=s},92736:(Y,f,i)=>{"use strict";var h=i(4570),v=i(58413),A=i(46758),S=i(83798);Y.exports=function(c,u,n){if(!c||"object"!=typeof c&&"function"!=typeof c)throw new A("`obj` must be an object or a function`");if("string"!=typeof u&&"symbol"!=typeof u)throw new A("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new A("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new A("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new A("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new A("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,m=arguments.length>6&&arguments[6],p=!!S&&S(c,u);if(h)h(c,u,{configurable:null===a&&p?p.configurable:!a,enumerable:null===l&&p?p.enumerable:!l,value:n,writable:null===s&&p?p.writable:!s});else{if(!m&&(l||s||a))throw new v("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");c[u]=n}}},947:(Y,f,i)=>{"use strict";var h=i(44934),v="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),A=Object.prototype.toString,S=Array.prototype.concat,E=i(92736),u=i(35861)(),n=function(s,a,m,p){if(a in s)if(!0===p){if(s[a]===m)return}else if(!function(s){return"function"==typeof s&&"[object Function]"===A.call(s)}(p)||!p())return;u?E(s,a,m,!0):E(s,a,m)},l=function(s,a){var m=arguments.length>2?arguments[2]:{},p=h(a);v&&(p=S.call(p,Object.getOwnPropertySymbols(a)));for(var d=0;d<p.length;d+=1)n(s,p[d],a[p[d]],m[p[d]])};l.supportsDescriptors=!!u,Y.exports=l},4570:(Y,f,i)=>{"use strict";var v=i(90258)("%Object.defineProperty%",!0)||!1;if(v)try{v({},"a",{value:1})}catch{v=!1}Y.exports=v},1756:Y=>{"use strict";Y.exports=EvalError},37640:Y=>{"use strict";Y.exports=Error},77933:Y=>{"use strict";Y.exports=RangeError},6613:Y=>{"use strict";Y.exports=ReferenceError},58413:Y=>{"use strict";Y.exports=SyntaxError},46758:Y=>{"use strict";Y.exports=TypeError},5286:Y=>{"use strict";Y.exports=URIError},34813:(Y,f,i)=>{"use strict";var h=i(46758);Y.exports=function(A){if(null==A)throw new h(arguments.length>0&&arguments[1]||"Cannot call method on "+A);return A}},65240:(Y,f,i)=>{"use strict";var v=i(90258)("%Object.defineProperty%",!0),A=i(88779)(),S=i(78368),E=A?Symbol.toStringTag:null;Y.exports=function(u,n){E&&(arguments.length>2&&arguments[2]&&arguments[2].force||!S(u,E))&&(v?v(u,E,{configurable:!0,enumerable:!1,value:n,writable:!1}):u[E]=n)}},31232:(Y,f,i)=>{"use strict";var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,v=i(20561),A=i(58239),S=i(94665),E=i(16827);Y.exports=function(l){if(v(l))return l;var a,s="default";if(arguments.length>1&&(arguments[1]===String?s="string":arguments[1]===Number&&(s="number")),h&&(Symbol.toPrimitive?a=function(l,s){var a=l[s];if(null!==a&&typeof a<"u"){if(!A(a))throw new TypeError(a+" returned for property "+s+" of object "+l+" is not a function");return a}}(l,Symbol.toPrimitive):E(l)&&(a=Symbol.prototype.valueOf)),typeof a<"u"){var m=a.call(l,s);if(v(m))return m;throw new TypeError("unable to convert exotic object to primitive")}return"default"===s&&(S(l)||E(l))&&(s="string"),function(l,s){if(typeof l>"u"||null===l)throw new TypeError("Cannot call method on "+l);if("string"!=typeof s||"number"!==s&&"string"!==s)throw new TypeError('hint must be "string" or "number"');var m,p,d,a="string"===s?["toString","valueOf"]:["valueOf","toString"];for(d=0;d<a.length;++d)if(A(m=l[a[d]])&&(p=m.call(l),v(p)))return p;throw new TypeError("No default value")}(l,"default"===s?"number":s)}},20561:Y=>{"use strict";Y.exports=function(i){return null===i||"function"!=typeof i&&"object"!=typeof i}},46096:(Y,f,i)=>{!function(){"use strict";var v,A,S,E,c,u,n,l,s,a,m,p,d,y,b,g,x,C,B,F,T,z,re,ie;function Z(L){return et.Statement.hasOwnProperty(L.type)}c=i(48038),u=i(3516),v=c.Syntax,S={"||":(A={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponentiation:13,Await:14,Unary:14,Postfix:15,Call:16,New:17,TaggedTemplate:18,Member:19,Primary:20}).LogicalOR,"&&":A.LogicalAND,"|":A.BitwiseOR,"^":A.BitwiseXOR,"&":A.BitwiseAND,"==":A.Equality,"!=":A.Equality,"===":A.Equality,"!==":A.Equality,is:A.Equality,isnt:A.Equality,"<":A.Relational,">":A.Relational,"<=":A.Relational,">=":A.Relational,in:A.Relational,instanceof:A.Relational,"<<":A.BitwiseSHIFT,">>":A.BitwiseSHIFT,">>>":A.BitwiseSHIFT,"+":A.Additive,"-":A.Additive,"*":A.Multiplicative,"%":A.Multiplicative,"/":A.Multiplicative,"**":A.Exponentiation};function Pe(L,ae){var ne="";for(ae|=0;ae>0;ae>>>=1,L+=L)1&ae&&(ne+=L);return ne}function he(L){var ae=L.length;return ae&&u.code.isLineTerminator(L.charCodeAt(ae-1))}function ve(L,ae){var ne;for(ne in ae)ae.hasOwnProperty(ne)&&(L[ne]=ae[ne]);return L}function ye(L,ae){var ne,ce;function Se(Ve){return"object"==typeof Ve&&Ve instanceof Object&&!(Ve instanceof RegExp)}for(ne in ae)ae.hasOwnProperty(ne)&&(Se(ce=ae[ne])?Se(L[ne])?ye(L[ne],ce):L[ne]=ye({},ce):L[ne]=ce);return L}function je(L,ae){return 8232==(-2&L)?(ae?"u":"\\u")+(8232===L?"2028":"2029"):10===L||13===L?(ae?"":"\\")+(10===L?"n":"r"):String.fromCharCode(L)}function $e(L,ae){var ne;return 8===L?"\\b":12===L?"\\f":9===L?"\\t":(ne=L.toString(16).toUpperCase(),s||L>255?"\\u"+"0000".slice(ne.length)+ne:0!==L||u.code.isDecimalDigit(ae)?11===L?"\\x0B":"\\x"+"00".slice(ne.length)+ne:"\\0")}function Ue(L){if(92===L)return"\\\\";if(10===L)return"\\n";if(13===L)return"\\r";if(8232===L)return"\\u2028";if(8233===L)return"\\u2029";throw new Error("Incorrectly classified character")}function ze(L){var ae,ne,ce,Se="";for(ae=0,ne=L.length;ae<ne;++ae)ce=L[ae],Se+=Array.isArray(ce)?ze(ce):ce;return Se}function We(L,ae){if(!z)return Array.isArray(L)?ze(L):L;if(null==ae){if(L instanceof E)return L;ae={}}return null==ae.loc?new E(null,null,z,L,ae.name||null):new E(ae.loc.start.line,ae.loc.start.column,!0===z?ae.loc.source||null:z,L,ae.name||null)}function it(){return b||" "}function ee(L,ae){var ne,ce,Se,Ve;return 0===(ne=We(L).toString()).length?[ae]:0===(ce=We(ae).toString()).length?[L]:(Se=ne.charCodeAt(ne.length-1),Ve=ce.charCodeAt(0),(43===Se||45===Se)&&Se===Ve||u.code.isIdentifierPartES5(Se)&&u.code.isIdentifierPartES5(Ve)||47===Se&&105===Ve?[L,it(),ae]:u.code.isWhiteSpace(Se)||u.code.isLineTerminator(Se)||u.code.isWhiteSpace(Ve)||u.code.isLineTerminator(Ve)?[L,ae]:[L,b,ae])}function N(L){return[n,L]}function P(L){var ae;ae=n,L(n+=l),n=ae}function Ce(L,ae){if("Line"===L.type){if(he(L.value))return"//"+L.value;var ne="//"+L.value;return ie||(ne+="\n"),ne}return F.format.indent.adjustMultilineComment&&/[\n\r]/.test(L.value)?function Ee(L,ae){var ne,ce,Se,Ve,Je,Ze,ut,bt;for(ne=L.split(/\r\n|[\r\n]/),Ze=Number.MAX_VALUE,ce=1,Se=ne.length;ce<Se;++ce){for(Ve=ne[ce],Je=0;Je<Ve.length&&u.code.isWhiteSpace(Ve.charCodeAt(Je));)++Je;Ze>Je&&(Ze=Je)}for(typeof ae<"u"?(ut=n,"*"===ne[1][Ze]&&(ae+=" "),n=ae):(1&Ze&&--Ze,ut=n),ce=1,Se=ne.length;ce<Se;++ce)bt=We(N(ne[ce].slice(Ze))),ne[ce]=z?bt.join(""):bt;return n=ut,ne.join("\n")}("/*"+L.value+"*/",ae):"/*"+L.value+"*/"}function Te(L,ae){var ne,ce,Se,Ve,Je,Ze,ut,bt,Ct,tr,Pt,Kt;if(L.leadingComments&&L.leadingComments.length>0){if(Ve=ae,ie){for(ae=[],(Kt=((Pt=re.substring((bt=(Se=L.leadingComments[0]).extendedRange)[0],(Ct=Se.range)[0])).match(/\n/g)||[]).length)>0?(ae.push(Pe("\n",Kt)),ae.push(N(Ce(Se)))):(ae.push(Pt),ae.push(Ce(Se))),tr=Ct,ne=1,ce=L.leadingComments.length;ne<ce;ne++)Kt=(re.substring(tr[1],(Ct=(Se=L.leadingComments[ne]).range)[0]).match(/\n/g)||[]).length,ae.push(Pe("\n",Kt)),ae.push(N(Ce(Se))),tr=Ct;Kt=(re.substring(Ct[1],bt[1]).match(/\n/g)||[]).length,ae.push(Pe("\n",Kt))}else for(Se=L.leadingComments[0],ae=[],C&&L.type===v.Program&&0===L.body.length&&ae.push("\n"),ae.push(Ce(Se)),he(We(ae).toString())||ae.push("\n"),ne=1,ce=L.leadingComments.length;ne<ce;++ne)he(We(ut=[Ce(Se=L.leadingComments[ne])]).toString())||ut.push("\n"),ae.push(N(ut));ae.push(N(Ve))}if(L.trailingComments)if(ie)(Kt=((Pt=re.substring((bt=(Se=L.trailingComments[0]).extendedRange)[0],(Ct=Se.range)[0])).match(/\n/g)||[]).length)>0?(ae.push(Pe("\n",Kt)),ae.push(N(Ce(Se)))):(ae.push(Pt),ae.push(Ce(Se)));else for(Je=!he(We(ae).toString()),Ze=Pe(" ",function G(L){var ae;for(ae=L.length-1;ae>=0&&!u.code.isLineTerminator(L.charCodeAt(ae));--ae);return L.length-1-ae}(We([n,ae,l]).toString())),ne=0,ce=L.trailingComments.length;ne<ce;++ne)Se=L.trailingComments[ne],Je?(ae=0===ne?[ae,l]:[ae,Ze]).push(Ce(Se,Ze)):ae=[ae,N(Ce(Se))],ne!==ce-1&&!he(We(ae).toString())&&(ae=[ae,"\n"]);return ae}function Fe(L,ae,ne){var ce,Se=0;for(ce=L;ce<ae;ce++)"\n"===re[ce]&&Se++;for(ce=1;ce<Se;ce++)ne.push(y)}function Be(L,ae,ne){return ae<ne?["(",L,")"]:L}function st(L){var ae,ne,ce;for(ae=1,ne=(ce=L.split(/\r\n|\n/)).length;ae<ne;ae++)ce[ae]=y+n+ce[ae];return ce}function et(){}function pt(L){return We(L.name,L)}function Tt(L,ae){return L.async?"async"+(ae?it():b):""}function Bt(L){return L.generator&&!F.moz.starlessGenerator?"*"+b:""}function wt(L){var ae=L.value,ne="";return ae.async&&(ne+=Tt(ae,!L.computed)),ae.generator&&(ne+=Bt(ae)?"*":""),ne}et.prototype.maybeBlock=function(L,ae){var ne,ce,Se=this;return ce=!F.comment||!L.leadingComments,L.type===v.BlockStatement&&ce?[b,this.generateStatement(L,ae)]:L.type===v.EmptyStatement&&ce?";":(P(function(){ne=[y,N(Se.generateStatement(L,ae))]}),ne)},et.prototype.maybeBlockSuffix=function(L,ae){var ne=he(We(ae).toString());return L.type!==v.BlockStatement||F.comment&&L.leadingComments||ne?ne?[ae,n]:[ae,y,n]:[ae,b]},et.prototype.generatePattern=function(L,ae,ne){return L.type===v.Identifier?pt(L):this.generateExpression(L,ae,ne)},et.prototype.generateFunctionParams=function(L){var ae,ne,ce,Se;if(Se=!1,L.type!==v.ArrowFunctionExpression||L.rest||L.defaults&&0!==L.defaults.length||1!==L.params.length||L.params[0].type!==v.Identifier){for((ce=L.type===v.ArrowFunctionExpression?[Tt(L,!1)]:[]).push("("),L.defaults&&(Se=!0),ae=0,ne=L.params.length;ae<ne;++ae)ce.push(Se&&L.defaults[ae]?this.generateAssignment(L.params[ae],L.defaults[ae],"=",A.Assignment,7):this.generatePattern(L.params[ae],A.Assignment,7)),ae+1<ne&&ce.push(","+b);L.rest&&(L.params.length&&ce.push(","+b),ce.push("..."),ce.push(pt(L.rest))),ce.push(")")}else ce=[Tt(L,!0),pt(L.params[0])];return ce},et.prototype.generateFunctionBody=function(L){var ae,ne;return ae=this.generateFunctionParams(L),L.type===v.ArrowFunctionExpression&&(ae.push(b),ae.push("=>")),L.expression?(ae.push(b),"{"===(ne=this.generateExpression(L.body,A.Assignment,7)).toString().charAt(0)&&(ne=["(",ne,")"]),ae.push(ne)):ae.push(this.maybeBlock(L.body,9)),ae},et.prototype.generateIterationForStatement=function(L,ae,ne){var ce=["for"+(ae.await?it()+"await":"")+b+"("],Se=this;return P(function(){ae.left.type===v.VariableDeclaration?P(function(){ce.push(ae.left.kind+it()),ce.push(Se.generateStatement(ae.left.declarations[0],0))}):ce.push(Se.generateExpression(ae.left,A.Call,7)),ce=ee(ce,L),ce=[ee(ce,Se.generateExpression(ae.right,A.Assignment,7)),")"]}),ce.push(this.maybeBlock(ae.body,ne)),ce},et.prototype.generatePropertyKey=function(L,ae){var ne=[];return ae&&ne.push("["),ne.push(this.generateExpression(L,A.Assignment,7)),ae&&ne.push("]"),ne},et.prototype.generateAssignment=function(L,ae,ne,ce,Se){return A.Assignment<ce&&(Se|=1),Be([this.generateExpression(L,A.Call,Se),b+ne+b,this.generateExpression(ae,A.Assignment,Se)],A.Assignment,ce)},et.prototype.semicolon=function(L){return!x&&32&L?"":";"},ve(et.prototype,et.Statement={BlockStatement:function(L,ae){var ne,ce,Se=["{",y],Ve=this;return P(function(){var Je,Ze,ut,bt;for(0===L.body.length&&ie&&(ne=L.range)[1]-ne[0]>2&&("\n"===(ce=re.substring(ne[0]+1,ne[1]-1))[0]&&(Se=["{"]),Se.push(ce)),bt=1,8&ae&&(bt|=16),Je=0,Ze=L.body.length;Je<Ze;++Je)ie&&(0===Je&&(L.body[0].leadingComments&&"\n"===(ce=re.substring((ne=L.body[0].leadingComments[0].extendedRange)[0],ne[1]))[0]&&(Se=["{"]),L.body[0].leadingComments||Fe(L.range[0],L.body[0].range[0],Se)),Je>0&&!L.body[Je-1].trailingComments&&!L.body[Je].leadingComments&&Fe(L.body[Je-1].range[1],L.body[Je].range[0],Se)),Je===Ze-1&&(bt|=32),ut=L.body[Je].leadingComments&&ie?Ve.generateStatement(L.body[Je],bt):N(Ve.generateStatement(L.body[Je],bt)),Se.push(ut),he(We(ut).toString())||ie&&Je<Ze-1&&L.body[Je+1].leadingComments||Se.push(y),ie&&Je===Ze-1&&(L.body[Je].trailingComments||Fe(L.body[Je].range[1],L.range[1],Se))}),Se.push(N("}")),Se},BreakStatement:function(L,ae){return L.label?"break "+L.label.name+this.semicolon(ae):"break"+this.semicolon(ae)},ContinueStatement:function(L,ae){return L.label?"continue "+L.label.name+this.semicolon(ae):"continue"+this.semicolon(ae)},ClassBody:function(L,ae){var ne=["{",y],ce=this;return P(function(Se){var Ve,Je;for(Ve=0,Je=L.body.length;Ve<Je;++Ve)ne.push(Se),ne.push(ce.generateExpression(L.body[Ve],A.Sequence,7)),Ve+1<Je&&ne.push(y)}),he(We(ne).toString())||ne.push(y),ne.push(n),ne.push("}"),ne},ClassDeclaration:function(L,ae){var ne,ce;return ne=["class"],L.id&&(ne=ee(ne,this.generateExpression(L.id,A.Sequence,7))),L.superClass&&(ce=ee("extends",this.generateExpression(L.superClass,A.Unary,7)),ne=ee(ne,ce)),ne.push(b),ne.push(this.generateStatement(L.body,33)),ne},DirectiveStatement:function(L,ae){return F.raw&&L.raw?L.raw+this.semicolon(ae):function Re(L){var ae,ne,ce,Se;for(Se="double"===p?'"':"'",ae=0,ne=L.length;ae<ne;++ae){if(39===(ce=L.charCodeAt(ae))){Se='"';break}if(34===ce){Se="'";break}92===ce&&++ae}return Se+L+Se}(L.directive)+this.semicolon(ae)},DoWhileStatement:function(L,ae){var ne=ee("do",this.maybeBlock(L.body,1));return ee(ne=this.maybeBlockSuffix(L.body,ne),["while"+b+"(",this.generateExpression(L.test,A.Sequence,7),")"+this.semicolon(ae)])},CatchClause:function(L,ae){var ne,ce=this;return P(function(){var Se;L.param?(ne=["catch"+b+"(",ce.generateExpression(L.param,A.Sequence,7),")"],L.guard&&(Se=ce.generateExpression(L.guard,A.Sequence,7),ne.splice(2,0," if ",Se))):ne=["catch"]}),ne.push(this.maybeBlock(L.body,1)),ne},DebuggerStatement:function(L,ae){return"debugger"+this.semicolon(ae)},EmptyStatement:function(L,ae){return";"},ExportDefaultDeclaration:function(L,ae){var ce,ne=["export"];return ce=32&ae?33:1,ne=ee(ne,"default"),Z(L.declaration)?ee(ne,this.generateStatement(L.declaration,ce)):ee(ne,this.generateExpression(L.declaration,A.Assignment,7)+this.semicolon(ae))},ExportNamedDeclaration:function(L,ae){var ne=["export"],Se=this;return L.declaration?ee(ne,this.generateStatement(L.declaration,32&ae?33:1)):(L.specifiers&&(0===L.specifiers.length?ne=ee(ne,"{"+b+"}"):L.specifiers[0].type===v.ExportBatchSpecifier?ne=ee(ne,this.generateExpression(L.specifiers[0],A.Sequence,7)):(ne=ee(ne,"{"),P(function(Ve){var Je,Ze;for(ne.push(y),Je=0,Ze=L.specifiers.length;Je<Ze;++Je)ne.push(Ve),ne.push(Se.generateExpression(L.specifiers[Je],A.Sequence,7)),Je+1<Ze&&ne.push(","+y)}),he(We(ne).toString())||ne.push(y),ne.push(n+"}")),L.source?ne=ee(ne,["from"+b,this.generateExpression(L.source,A.Sequence,7),this.semicolon(ae)]):ne.push(this.semicolon(ae))),ne)},ExportAllDeclaration:function(L,ae){return["export"+b,"*"+b,"from"+b,this.generateExpression(L.source,A.Sequence,7),this.semicolon(ae)]},ExpressionStatement:function(L,ae){var ne,ce;return 123===(ce=We(ne=[this.generateExpression(L.expression,A.Sequence,7)]).toString()).charCodeAt(0)||function Se(Ze){var ut;return"class"===Ze.slice(0,5)&&(123===(ut=Ze.charCodeAt(5))||u.code.isWhiteSpace(ut)||u.code.isLineTerminator(ut))}(ce)||function Ve(Ze){var ut;return"function"===Ze.slice(0,8)&&(40===(ut=Ze.charCodeAt(8))||u.code.isWhiteSpace(ut)||42===ut||u.code.isLineTerminator(ut))}(ce)||function Je(Ze){var ut,bt,Ct;if("async"!==Ze.slice(0,5)||!u.code.isWhiteSpace(Ze.charCodeAt(5)))return!1;for(bt=6,Ct=Ze.length;bt<Ct&&u.code.isWhiteSpace(Ze.charCodeAt(bt));++bt);return bt!==Ct&&"function"===Ze.slice(bt,bt+8)&&(40===(ut=Ze.charCodeAt(bt+8))||u.code.isWhiteSpace(ut)||42===ut||u.code.isLineTerminator(ut))}(ce)||B&&16&ae&&L.expression.type===v.Literal&&"string"==typeof L.expression.value?ne=["(",ne,")"+this.semicolon(ae)]:ne.push(this.semicolon(ae)),ne},ImportDeclaration:function(L,ae){var ne,ce,Se=this;return 0===L.specifiers.length?["import",b,this.generateExpression(L.source,A.Sequence,7),this.semicolon(ae)]:(ne=["import"],L.specifiers[ce=0].type===v.ImportDefaultSpecifier&&(ne=ee(ne,[this.generateExpression(L.specifiers[ce],A.Sequence,7)]),++ce),L.specifiers[ce]&&(0!==ce&&ne.push(","),L.specifiers[ce].type===v.ImportNamespaceSpecifier?ne=ee(ne,[b,this.generateExpression(L.specifiers[ce],A.Sequence,7)]):(ne.push(b+"{"),L.specifiers.length-ce==1?(ne.push(b),ne.push(this.generateExpression(L.specifiers[ce],A.Sequence,7)),ne.push(b+"}"+b)):(P(function(Ve){var Je,Ze;for(ne.push(y),Je=ce,Ze=L.specifiers.length;Je<Ze;++Je)ne.push(Ve),ne.push(Se.generateExpression(L.specifiers[Je],A.Sequence,7)),Je+1<Ze&&ne.push(","+y)}),he(We(ne).toString())||ne.push(y),ne.push(n+"}"+b)))),ne=ee(ne,["from"+b,this.generateExpression(L.source,A.Sequence,7),this.semicolon(ae)]))},VariableDeclarator:function(L,ae){var ne=1&ae?7:6;return L.init?[this.generateExpression(L.id,A.Assignment,ne),b,"=",b,this.generateExpression(L.init,A.Assignment,ne)]:this.generatePattern(L.id,A.Assignment,ne)},VariableDeclaration:function(L,ae){var ne,ce,Se,Ve,Je,Ze=this;function ut(){for(Ve=L.declarations[0],F.comment&&Ve.leadingComments?(ne.push("\n"),ne.push(N(Ze.generateStatement(Ve,Je)))):(ne.push(it()),ne.push(Ze.generateStatement(Ve,Je))),ce=1,Se=L.declarations.length;ce<Se;++ce)Ve=L.declarations[ce],F.comment&&Ve.leadingComments?(ne.push(","+y),ne.push(N(Ze.generateStatement(Ve,Je)))):(ne.push(","+b),ne.push(Ze.generateStatement(Ve,Je)))}return ne=[L.kind],Je=1&ae?1:0,L.declarations.length>1?P(ut):ut(),ne.push(this.semicolon(ae)),ne},ThrowStatement:function(L,ae){return[ee("throw",this.generateExpression(L.argument,A.Sequence,7)),this.semicolon(ae)]},TryStatement:function(L,ae){var ne,ce,Se,Ve;if(ne=["try",this.maybeBlock(L.block,1)],ne=this.maybeBlockSuffix(L.block,ne),L.handlers)for(ce=0,Se=L.handlers.length;ce<Se;++ce)ne=ee(ne,this.generateStatement(L.handlers[ce],1)),(L.finalizer||ce+1!==Se)&&(ne=this.maybeBlockSuffix(L.handlers[ce].body,ne));else{for(ce=0,Se=(Ve=L.guardedHandlers||[]).length;ce<Se;++ce)ne=ee(ne,this.generateStatement(Ve[ce],1)),(L.finalizer||ce+1!==Se)&&(ne=this.maybeBlockSuffix(Ve[ce].body,ne));if(L.handler)if(Array.isArray(L.handler))for(ce=0,Se=L.handler.length;ce<Se;++ce)ne=ee(ne,this.generateStatement(L.handler[ce],1)),(L.finalizer||ce+1!==Se)&&(ne=this.maybeBlockSuffix(L.handler[ce].body,ne));else ne=ee(ne,this.generateStatement(L.handler,1)),L.finalizer&&(ne=this.maybeBlockSuffix(L.handler.body,ne))}return L.finalizer&&(ne=ee(ne,["finally",this.maybeBlock(L.finalizer,1)])),ne},SwitchStatement:function(L,ae){var ne,ce,Se,Ve,Je,Ze=this;if(P(function(){ne=["switch"+b+"(",Ze.generateExpression(L.discriminant,A.Sequence,7),")"+b+"{"+y]}),L.cases)for(Je=1,Se=0,Ve=L.cases.length;Se<Ve;++Se)Se===Ve-1&&(Je|=32),ce=N(this.generateStatement(L.cases[Se],Je)),ne.push(ce),he(We(ce).toString())||ne.push(y);return ne.push(N("}")),ne},SwitchCase:function(L,ae){var ne,ce,Se,Ve,Je,Ze=this;return P(function(){for(ne=L.test?[ee("case",Ze.generateExpression(L.test,A.Sequence,7)),":"]:["default:"],Se=0,(Ve=L.consequent.length)&&L.consequent[0].type===v.BlockStatement&&(ce=Ze.maybeBlock(L.consequent[0],1),ne.push(ce),Se=1),Se!==Ve&&!he(We(ne).toString())&&ne.push(y),Je=1;Se<Ve;++Se)Se===Ve-1&&32&ae&&(Je|=32),ce=N(Ze.generateStatement(L.consequent[Se],Je)),ne.push(ce),Se+1!==Ve&&!he(We(ce).toString())&&ne.push(y)}),ne},IfStatement:function(L,ae){var ne,ce,Ve=this;return P(function(){ne=["if"+b+"(",Ve.generateExpression(L.test,A.Sequence,7),")"]}),ce=1,32&ae&&(ce|=32),L.alternate?(ne.push(this.maybeBlock(L.consequent,1)),ne=ee(ne=this.maybeBlockSuffix(L.consequent,ne),L.alternate.type===v.IfStatement?["else ",this.generateStatement(L.alternate,ce)]:ee("else",this.maybeBlock(L.alternate,ce)))):ne.push(this.maybeBlock(L.consequent,ce)),ne},ForStatement:function(L,ae){var ne,ce=this;return P(function(){ne=["for"+b+"("],L.init?L.init.type===v.VariableDeclaration?ne.push(ce.generateStatement(L.init,0)):(ne.push(ce.generateExpression(L.init,A.Sequence,6)),ne.push(";")):ne.push(";"),L.test&&(ne.push(b),ne.push(ce.generateExpression(L.test,A.Sequence,7))),ne.push(";"),L.update&&(ne.push(b),ne.push(ce.generateExpression(L.update,A.Sequence,7))),ne.push(")")}),ne.push(this.maybeBlock(L.body,32&ae?33:1)),ne},ForInStatement:function(L,ae){return this.generateIterationForStatement("in",L,32&ae?33:1)},ForOfStatement:function(L,ae){return this.generateIterationForStatement("of",L,32&ae?33:1)},LabeledStatement:function(L,ae){return[L.label.name+":",this.maybeBlock(L.body,32&ae?33:1)]},Program:function(L,ae){var ne,ce,Se,Ve,Je;for(Ve=L.body.length,ne=[C&&Ve>0?"\n":""],Je=17,Se=0;Se<Ve;++Se)!C&&Se===Ve-1&&(Je|=32),ie&&(0===Se&&(L.body[0].leadingComments||Fe(L.range[0],L.body[Se].range[0],ne)),Se>0&&!L.body[Se-1].trailingComments&&!L.body[Se].leadingComments&&Fe(L.body[Se-1].range[1],L.body[Se].range[0],ne)),ce=N(this.generateStatement(L.body[Se],Je)),ne.push(ce),Se+1<Ve&&!he(We(ce).toString())&&(ie&&L.body[Se+1].leadingComments||ne.push(y)),ie&&Se===Ve-1&&(L.body[Se].trailingComments||Fe(L.body[Se].range[1],L.range[1],ne));return ne},FunctionDeclaration:function(L,ae){return[Tt(L,!0),"function",Bt(L)||it(),L.id?pt(L.id):"",this.generateFunctionBody(L)]},ReturnStatement:function(L,ae){return L.argument?[ee("return",this.generateExpression(L.argument,A.Sequence,7)),this.semicolon(ae)]:["return"+this.semicolon(ae)]},WhileStatement:function(L,ae){var ne,ce=this;return P(function(){ne=["while"+b+"(",ce.generateExpression(L.test,A.Sequence,7),")"]}),ne.push(this.maybeBlock(L.body,32&ae?33:1)),ne},WithStatement:function(L,ae){var ne,ce=this;return P(function(){ne=["with"+b+"(",ce.generateExpression(L.object,A.Sequence,7),")"]}),ne.push(this.maybeBlock(L.body,32&ae?33:1)),ne}}),ve(et.prototype,et.Expression={SequenceExpression:function(L,ae,ne){var ce,Se,Ve;for(A.Sequence<ae&&(ne|=1),ce=[],Se=0,Ve=L.expressions.length;Se<Ve;++Se)ce.push(this.generateExpression(L.expressions[Se],A.Assignment,ne)),Se+1<Ve&&ce.push(","+b);return Be(ce,A.Sequence,ae)},AssignmentExpression:function(L,ae,ne){return this.generateAssignment(L.left,L.right,L.operator,ae,ne)},ArrowFunctionExpression:function(L,ae,ne){return Be(this.generateFunctionBody(L),A.ArrowFunction,ae)},ConditionalExpression:function(L,ae,ne){return A.Conditional<ae&&(ne|=1),Be([this.generateExpression(L.test,A.LogicalOR,ne),b+"?"+b,this.generateExpression(L.consequent,A.Assignment,ne),b+":"+b,this.generateExpression(L.alternate,A.Assignment,ne)],A.Conditional,ae)},LogicalExpression:function(L,ae,ne){return this.BinaryExpression(L,ae,ne)},BinaryExpression:function(L,ae,ne){var ce,Ve,Je,Ze,ut;return Je=S[L.operator],Ve="**"===L.operator?Je:Je+1,Je<ae&&(ne|=1),ce=47===(ut=(Ze=this.generateExpression(L.left,"**"===L.operator?A.Postfix:Je,ne)).toString()).charCodeAt(ut.length-1)&&u.code.isIdentifierPartES5(L.operator.charCodeAt(0))?[Ze,it(),L.operator]:ee(Ze,L.operator),Ze=this.generateExpression(L.right,Ve,ne),"/"===L.operator&&"/"===Ze.toString().charAt(0)||"<"===L.operator.slice(-1)&&"!--"===Ze.toString().slice(0,3)?(ce.push(it()),ce.push(Ze)):ce=ee(ce,Ze),"in"!==L.operator||1&ne?Be(ce,Je,ae):["(",ce,")"]},CallExpression:function(L,ae,ne){var ce,Se,Ve;for((ce=[this.generateExpression(L.callee,A.Call,3)]).push("("),Se=0,Ve=L.arguments.length;Se<Ve;++Se)ce.push(this.generateExpression(L.arguments[Se],A.Assignment,7)),Se+1<Ve&&ce.push(","+b);return ce.push(")"),2&ne?Be(ce,A.Call,ae):["(",ce,")"]},NewExpression:function(L,ae,ne){var ce,Se,Ve,Je;if(Se=L.arguments.length,ce=ee("new",this.generateExpression(L.callee,A.New,4&ne&&!g&&0===Se?5:1)),!(4&ne)||g||Se>0){for(ce.push("("),Ve=0,Je=Se;Ve<Je;++Ve)ce.push(this.generateExpression(L.arguments[Ve],A.Assignment,7)),Ve+1<Je&&ce.push(","+b);ce.push(")")}return Be(ce,A.New,ae)},MemberExpression:function(L,ae,ne){var ce,Se;return ce=[this.generateExpression(L.object,A.Call,2&ne?3:1)],L.computed?(ce.push("["),ce.push(this.generateExpression(L.property,A.Sequence,2&ne?7:5)),ce.push("]")):(L.object.type===v.Literal&&"number"==typeof L.object.value&&(Se=We(ce).toString()).indexOf(".")<0&&!/[eExX]/.test(Se)&&u.code.isDecimalDigit(Se.charCodeAt(Se.length-1))&&!(Se.length>=2&&48===Se.charCodeAt(0))&&ce.push(" "),ce.push("."),ce.push(pt(L.property))),Be(ce,A.Member,ae)},MetaProperty:function(L,ae,ne){var ce;return(ce=[]).push("string"==typeof L.meta?L.meta:pt(L.meta)),ce.push("."),ce.push("string"==typeof L.property?L.property:pt(L.property)),Be(ce,A.Member,ae)},UnaryExpression:function(L,ae,ne){var ce,Se,Ve,Je,Ze;return Se=this.generateExpression(L.argument,A.Unary,7),""===b?ce=ee(L.operator,Se):(ce=[L.operator],L.operator.length>2?ce=ee(ce,Se):(Ze=(Je=We(ce).toString()).charCodeAt(Je.length-1),Ve=Se.toString().charCodeAt(0),((43===Ze||45===Ze)&&Ze===Ve||u.code.isIdentifierPartES5(Ze)&&u.code.isIdentifierPartES5(Ve))&&ce.push(it()),ce.push(Se))),Be(ce,A.Unary,ae)},YieldExpression:function(L,ae,ne){var ce;return ce=L.delegate?"yield*":"yield",L.argument&&(ce=ee(ce,this.generateExpression(L.argument,A.Yield,7))),Be(ce,A.Yield,ae)},AwaitExpression:function(L,ae,ne){return Be(ee(L.all?"await*":"await",this.generateExpression(L.argument,A.Await,7)),A.Await,ae)},UpdateExpression:function(L,ae,ne){return L.prefix?Be([L.operator,this.generateExpression(L.argument,A.Unary,7)],A.Unary,ae):Be([this.generateExpression(L.argument,A.Postfix,7),L.operator],A.Postfix,ae)},FunctionExpression:function(L,ae,ne){var ce=[Tt(L,!0),"function"];return L.id?(ce.push(Bt(L)||it()),ce.push(pt(L.id))):ce.push(Bt(L)||b),ce.push(this.generateFunctionBody(L)),ce},ArrayPattern:function(L,ae,ne){return this.ArrayExpression(L,ae,ne,!0)},ArrayExpression:function(L,ae,ne,ce){var Se,Ve,Je=this;return L.elements.length?(Se=["[",(Ve=!ce&&L.elements.length>1)?y:""],P(function(Ze){var ut,bt;for(ut=0,bt=L.elements.length;ut<bt;++ut)L.elements[ut]?(Se.push(Ve?Ze:""),Se.push(Je.generateExpression(L.elements[ut],A.Assignment,7))):(Ve&&Se.push(Ze),ut+1===bt&&Se.push(",")),ut+1<bt&&Se.push(","+(Ve?y:b))}),Ve&&!he(We(Se).toString())&&Se.push(y),Se.push(Ve?n:""),Se.push("]"),Se):"[]"},RestElement:function(L,ae,ne){return"..."+this.generatePattern(L.argument)},ClassExpression:function(L,ae,ne){var ce,Se;return ce=["class"],L.id&&(ce=ee(ce,this.generateExpression(L.id,A.Sequence,7))),L.superClass&&(Se=ee("extends",this.generateExpression(L.superClass,A.Unary,7)),ce=ee(ce,Se)),ce.push(b),ce.push(this.generateStatement(L.body,33)),ce},MethodDefinition:function(L,ae,ne){var ce,Se;return ce=L.static?["static"+b]:[],Se="get"===L.kind||"set"===L.kind?[ee(L.kind,this.generatePropertyKey(L.key,L.computed)),this.generateFunctionBody(L.value)]:[wt(L),this.generatePropertyKey(L.key,L.computed),this.generateFunctionBody(L.value)],ee(ce,Se)},Property:function(L,ae,ne){return"get"===L.kind||"set"===L.kind?[L.kind,it(),this.generatePropertyKey(L.key,L.computed),this.generateFunctionBody(L.value)]:L.shorthand?"AssignmentPattern"===L.value.type?this.AssignmentPattern(L.value,A.Sequence,7):this.generatePropertyKey(L.key,L.computed):L.method?[wt(L),this.generatePropertyKey(L.key,L.computed),this.generateFunctionBody(L.value)]:[this.generatePropertyKey(L.key,L.computed),":"+b,this.generateExpression(L.value,A.Assignment,7)]},ObjectExpression:function(L,ae,ne){var ce,Se,Ve,Je=this;return L.properties.length?(ce=L.properties.length>1,P(function(){Ve=Je.generateExpression(L.properties[0],A.Sequence,7)}),ce||function Oe(L){return/[\r\n]/g.test(L)}(We(Ve).toString())?(P(function(Ze){var ut,bt;if(Se=["{",y,Ze,Ve],ce)for(Se.push(","+y),ut=1,bt=L.properties.length;ut<bt;++ut)Se.push(Ze),Se.push(Je.generateExpression(L.properties[ut],A.Sequence,7)),ut+1<bt&&Se.push(","+y)}),he(We(Se).toString())||Se.push(y),Se.push(n),Se.push("}"),Se):["{",b,Ve,b,"}"]):"{}"},AssignmentPattern:function(L,ae,ne){return this.generateAssignment(L.left,L.right,"=",ae,ne)},ObjectPattern:function(L,ae,ne){var ce,Se,Ve,Je,Ze,ut=this;if(!L.properties.length)return"{}";if(Je=!1,1===L.properties.length)(Ze=L.properties[0]).type===v.Property&&Ze.value.type!==v.Identifier&&(Je=!0);else for(Se=0,Ve=L.properties.length;Se<Ve;++Se)if((Ze=L.properties[Se]).type===v.Property&&!Ze.shorthand){Je=!0;break}return ce=["{",Je?y:""],P(function(bt){var Ct,tr;for(Ct=0,tr=L.properties.length;Ct<tr;++Ct)ce.push(Je?bt:""),ce.push(ut.generateExpression(L.properties[Ct],A.Sequence,7)),Ct+1<tr&&ce.push(","+(Je?y:b))}),Je&&!he(We(ce).toString())&&ce.push(y),ce.push(Je?n:""),ce.push("}"),ce},ThisExpression:function(L,ae,ne){return"this"},Super:function(L,ae,ne){return"super"},Identifier:function(L,ae,ne){return pt(L)},ImportDefaultSpecifier:function(L,ae,ne){return pt(L.id||L.local)},ImportNamespaceSpecifier:function(L,ae,ne){var ce=["*"],Se=L.id||L.local;return Se&&ce.push(b+"as"+it()+pt(Se)),ce},ImportSpecifier:function(L,ae,ne){var ce=L.imported,Se=[ce.name],Ve=L.local;return Ve&&Ve.name!==ce.name&&Se.push(it()+"as"+it()+pt(Ve)),Se},ExportSpecifier:function(L,ae,ne){var ce=L.local,Se=[ce.name],Ve=L.exported;return Ve&&Ve.name!==ce.name&&Se.push(it()+"as"+it()+pt(Ve)),Se},Literal:function(L,ae,ne){var ce;if(L.hasOwnProperty("raw")&&T&&F.raw)try{if((ce=T(L.raw).body[0].expression).type===v.Literal&&ce.value===L.value)return L.raw}catch{}return L.regex?"/"+L.regex.pattern+"/"+L.regex.flags:null===L.value?"null":"string"==typeof L.value?function Xe(L){var ne,ce,Se,Ze,ut,ae="",Ve=0,Je=0;for(ne=0,ce=L.length;ne<ce;++ne){if(39===(Se=L.charCodeAt(ne)))++Ve;else if(34===Se)++Je;else if(47===Se&&s)ae+="\\";else{if(u.code.isLineTerminator(Se)||92===Se){ae+=Ue(Se);continue}if(!u.code.isIdentifierPartES5(Se)&&(s&&Se<32||!s&&!d&&(Se<32||Se>126))){ae+=$e(Se,L.charCodeAt(ne+1));continue}}ae+=String.fromCharCode(Se)}if(ut=(Ze=!("double"===p||"auto"===p&&Je<Ve))?"'":'"',!(Ze?Ve:Je))return ut+ae+ut;for(L=ae,ae=ut,ne=0,ce=L.length;ne<ce;++ne)(39===(Se=L.charCodeAt(ne))&&Ze||34===Se&&!Ze)&&(ae+="\\"),ae+=String.fromCharCode(Se);return ae+ut}(L.value):"number"==typeof L.value?function De(L){var ae,ne,ce,Se,Ve;if(L!=L)throw new Error("Numeric literal whose value is NaN");if(L<0||0===L&&1/L<0)throw new Error("Numeric literal whose value is negative");if(L===1/0)return s?"null":a?"1e400":"1e+400";if(ae=""+L,!a||ae.length<3)return ae;for(ne=ae.indexOf("."),!s&&48===ae.charCodeAt(0)&&1===ne&&(ne=0,ae=ae.slice(1)),ce=ae,ae=ae.replace("e+","e"),Se=0,(Ve=ce.indexOf("e"))>0&&(Se=+ce.slice(Ve+1),ce=ce.slice(0,Ve)),ne>=0&&(Se-=ce.length-ne-1,ce=+(ce.slice(0,ne)+ce.slice(ne+1))+""),Ve=0;48===ce.charCodeAt(ce.length+Ve-1);)--Ve;return 0!==Ve&&(Se-=Ve,ce=ce.slice(0,Ve)),0!==Se&&(ce+="e"+Se),(ce.length<ae.length||m&&L>1e12&&Math.floor(L)===L&&(ce="0x"+L.toString(16)).length<ae.length)&&+ce===L&&(ae=ce),ae}(L.value):"boolean"==typeof L.value?L.value?"true":"false":function xe(L){var ae,ne,ce,Se,Ve,Je,Ze,ut;if(ne=L.toString(),L.source){if(!(ae=ne.match(/\/([^/]*)$/)))return ne;for(ce=ae[1],ne="",Ze=!1,ut=!1,Se=0,Ve=L.source.length;Se<Ve;++Se)Je=L.source.charCodeAt(Se),ut?(ne+=je(Je,ut),ut=!1):(Ze?93===Je&&(Ze=!1):47===Je?ne+="\\":91===Je&&(Ze=!0),ne+=je(Je,ut),ut=92===Je);return"/"+ne+"/"+ce}return ne}(L.value)},GeneratorExpression:function(L,ae,ne){return this.ComprehensionExpression(L,ae,ne)},ComprehensionExpression:function(L,ae,ne){var ce,Se,Ve,Je,Ze=this;return ce=L.type===v.GeneratorExpression?["("]:["["],F.moz.comprehensionExpressionStartsWithAssignment&&(Je=this.generateExpression(L.body,A.Assignment,7),ce.push(Je)),L.blocks&&P(function(){for(Se=0,Ve=L.blocks.length;Se<Ve;++Se)Je=Ze.generateExpression(L.blocks[Se],A.Sequence,7),Se>0||F.moz.comprehensionExpressionStartsWithAssignment?ce=ee(ce,Je):ce.push(Je)}),L.filter&&(ce=ee(ce,"if"+b),Je=this.generateExpression(L.filter,A.Sequence,7),ce=ee(ce,["(",Je,")"])),F.moz.comprehensionExpressionStartsWithAssignment||(Je=this.generateExpression(L.body,A.Assignment,7),ce=ee(ce,Je)),ce.push(L.type===v.GeneratorExpression?")":"]"),ce},ComprehensionBlock:function(L,ae,ne){var ce;return ce=ee(ce=L.left.type===v.VariableDeclaration?[L.left.kind,it(),this.generateStatement(L.left.declarations[0],0)]:this.generateExpression(L.left,A.Call,7),L.of?"of":"in"),ce=ee(ce,this.generateExpression(L.right,A.Sequence,7)),["for"+b+"(",ce,")"]},SpreadElement:function(L,ae,ne){return["...",this.generateExpression(L.argument,A.Assignment,7)]},TaggedTemplateExpression:function(L,ae,ne){var ce=3;return 2&ne||(ce=1),Be([this.generateExpression(L.tag,A.Call,ce),this.generateExpression(L.quasi,A.Primary,4)],A.TaggedTemplate,ae)},TemplateElement:function(L,ae,ne){return L.value.raw},TemplateLiteral:function(L,ae,ne){var ce,Se,Ve;for(ce=["`"],Se=0,Ve=L.quasis.length;Se<Ve;++Se)ce.push(this.generateExpression(L.quasis[Se],A.Primary,7)),Se+1<Ve&&(ce.push("${"+b),ce.push(this.generateExpression(L.expressions[Se],A.Sequence,7)),ce.push(b+"}"));return ce.push("`"),ce},ModuleSpecifier:function(L,ae,ne){return this.Literal(L,ae,ne)},ImportExpression:function(L,ae,ne){return Be(["import(",this.generateExpression(L.source,A.Assignment,7),")"],A.Call,ae)}}),et.prototype.generateExpression=function(L,ae,ne){var ce,Se;return Se=L.type||v.Property,F.verbatim&&L.hasOwnProperty(F.verbatim)?function dt(L,ae){var ne;return We("string"==typeof(ne=L[F.verbatim])?Be(st(ne),A.Sequence,ae):Be(st(ne.content),null!=ne.precedence?ne.precedence:A.Sequence,ae),L)}(L,ae):(ce=this[Se](L,ae,ne),F.comment&&(ce=Te(L,ce)),We(ce,L))},et.prototype.generateStatement=function(L,ae){var ne,ce;return ne=this[L.type](L,ae),F.comment&&(ne=Te(L,ne)),ce=We(ne).toString(),L.type===v.Program&&!C&&""===y&&"\n"===ce.charAt(ce.length-1)&&(ne=z?We(ne).replaceRight(/\s+$/,""):ce.replace(/\s+$/,"")),We(ne,L)},i(84777),f.cM=function ar(L,ae){var ce,Se,ne={indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null};return null!=ae?("string"==typeof ae.indent&&(ne.format.indent.style=ae.indent),"number"==typeof ae.base&&(ne.format.indent.base=ae.base),ae=ye(ne,ae),l=ae.format.indent.style,n="string"==typeof ae.base?ae.base:Pe(l,ae.format.indent.base)):n=Pe(l=(ae=ne).format.indent.style,ae.format.indent.base),a=ae.format.renumber,m=!(s=ae.format.json)&&ae.format.hexadecimal,p=s?"double":ae.format.quotes,d=ae.format.escapeless,y=ae.format.newline,b=ae.format.space,ae.format.compact&&(y=b=l=n=""),g=ae.format.parentheses,x=ae.format.semicolons,C=ae.format.safeConcatenation,B=ae.directive,T=s?null:ae.parse,re=ae.sourceCode,ie=ae.format.preserveBlankLines&&null!==re,F=ae,(z=ae.sourceMap)&&(E=f.T?globalThis.sourceMap.SourceNode:i(89877).SourceNode),ce=function It(L){var ae;if(ae=new et,Z(L))return ae.generateStatement(L,1);if(function k(L){return et.Expression.hasOwnProperty(L.type)}(L))return ae.generateExpression(L,A.Sequence,7);throw new Error("Unknown node type: "+L.type)}(L),z?(Se=ce.toStringWithSourceMap({file:ae.file,sourceRoot:ae.sourceMapRoot}),ae.sourceContent&&Se.map.setSourceContent(ae.sourceMap,ae.sourceContent),ae.sourceMapWithCode?Se:Se.map.toString()):(Se={code:ce.toString(),map:null},ae.sourceMapWithCode?Se:Se.code)},ye({},A),f.T=!1}()},24683:(Y,f,i)=>{var h=i(75775),v=Object.prototype.hasOwnProperty,A=typeof Map<"u";function S(){this._array=[],this._set=A?new Map:Object.create(null)}S.fromArray=function(c,u){for(var n=new S,l=0,s=c.length;l<s;l++)n.add(c[l],u);return n},S.prototype.size=function(){return A?this._set.size:Object.getOwnPropertyNames(this._set).length},S.prototype.add=function(c,u){var n=A?c:h.toSetString(c),l=A?this.has(c):v.call(this._set,n),s=this._array.length;(!l||u)&&this._array.push(c),l||(A?this._set.set(c,s):this._set[n]=s)},S.prototype.has=function(c){if(A)return this._set.has(c);var u=h.toSetString(c);return v.call(this._set,u)},S.prototype.indexOf=function(c){if(A){var u=this._set.get(c);if(u>=0)return u}else{var n=h.toSetString(c);if(v.call(this._set,n))return this._set[n]}throw new Error('"'+c+'" is not in the set.')},S.prototype.at=function(c){if(c>=0&&c<this._array.length)return this._array[c];throw new Error("No element indexed by "+c)},S.prototype.toArray=function(){return this._array.slice()},f.C=S},59344:(Y,f,i)=>{var h=i(57312);f.encode=function(l){var a,s="",m=function c(n){return n<0?1+(-n<<1):0+(n<<1)}(l);do{a=31&m,(m>>>=5)>0&&(a|=32),s+=h.encode(a)}while(m>0);return s},f.decode=function(l,s,a){var y,b,m=l.length,p=0,d=0;do{if(s>=m)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(b=h.decode(l.charCodeAt(s++))))throw new Error("Invalid base64 digit: "+l.charAt(s-1));y=!!(32&b),p+=(b&=31)<<d,d+=5}while(y);a.value=function u(n){var s=n>>1;return 1&~n?s:-s}(p),a.rest=s}},57312:(Y,f)=>{var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");f.encode=function(h){if(0<=h&&h<i.length)return i[h];throw new TypeError("Must be between 0 and 63: "+h)},f.decode=function(h){return 65<=h&&h<=90?h-65:97<=h&&h<=122?h-97+26:48<=h&&h<=57?h-48+52:43==h?62:47==h?63:-1}},36295:(Y,f)=>{function i(h,v,A,S,E,c){var u=Math.floor((v-h)/2)+h,n=E(A,S[u],!0);return 0===n?u:n>0?v-u>1?i(u,v,A,S,E,c):c==f.LEAST_UPPER_BOUND?v<S.length?v:-1:u:u-h>1?i(h,u,A,S,E,c):c==f.LEAST_UPPER_BOUND?u:h<0?-1:h}f.GREATEST_LOWER_BOUND=1,f.LEAST_UPPER_BOUND=2,f.search=function(v,A,S,E){if(0===A.length)return-1;var c=i(-1,A.length,v,A,S,E||f.GREATEST_LOWER_BOUND);if(c<0)return-1;for(;c-1>=0&&0===S(A[c],A[c-1],!0);)--c;return c}},94242:(Y,f,i)=>{var h=i(75775);function A(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}A.prototype.unsortedForEach=function(E,c){this._array.forEach(E,c)},A.prototype.add=function(E){!function v(S,E){var c=S.generatedLine,u=E.generatedLine;return u>c||u==c&&E.generatedColumn>=S.generatedColumn||h.compareByGeneratedPositionsInflated(S,E)<=0}(this._last,E)?(this._sorted=!1,this._array.push(E)):(this._last=E,this._array.push(E))},A.prototype.toArray=function(){return this._sorted||(this._array.sort(h.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},f.P=A},14421:(Y,f)=>{function i(A,S,E){var c=A[S];A[S]=A[E],A[E]=c}function v(A,S,E,c){if(E<c){var u=function h(A,S){return Math.round(A+Math.random()*(S-A))}(E,c),n=E-1;i(A,u,c);for(var l=A[c],s=E;s<c;s++)S(A[s],l)<=0&&i(A,n+=1,s);i(A,n+1,s);var a=n+1;v(A,S,E,a-1),v(A,S,a+1,c)}}f.g=function(A,S){v(A,S,0,A.length-1)}},2818:(Y,f,i)=>{var v=i(75775),A=i(36295),S=i(24683).C,E=i(59344),c=i(14421).g;function u(a,m){var p=a;return"string"==typeof a&&(p=v.parseSourceMapInput(a)),null!=p.sections?new s(p,m):new n(p,m)}function n(a,m){var p=a;"string"==typeof a&&(p=v.parseSourceMapInput(a));var d=v.getArg(p,"version"),y=v.getArg(p,"sources"),b=v.getArg(p,"names",[]),g=v.getArg(p,"sourceRoot",null),x=v.getArg(p,"sourcesContent",null),C=v.getArg(p,"mappings"),B=v.getArg(p,"file",null);if(d!=this._version)throw new Error("Unsupported version: "+d);g&&(g=v.normalize(g)),y=y.map(String).map(v.normalize).map(function(F){return g&&v.isAbsolute(g)&&v.isAbsolute(F)?v.relative(g,F):F}),this._names=S.fromArray(b.map(String),!0),this._sources=S.fromArray(y,!0),this._absoluteSources=this._sources.toArray().map(function(F){return v.computeSourceURL(g,F,m)}),this.sourceRoot=g,this.sourcesContent=x,this._mappings=C,this._sourceMapURL=m,this.file=B}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function s(a,m){var p=a;"string"==typeof a&&(p=v.parseSourceMapInput(a));var d=v.getArg(p,"version"),y=v.getArg(p,"sections");if(d!=this._version)throw new Error("Unsupported version: "+d);this._sources=new S,this._names=new S;var b={line:-1,column:0};this._sections=y.map(function(g){if(g.url)throw new Error("Support for url field in sections not implemented.");var x=v.getArg(g,"offset"),C=v.getArg(x,"line"),B=v.getArg(x,"column");if(C<b.line||C===b.line&&B<b.column)throw new Error("Section offsets must be ordered and non-overlapping.");return b=x,{generatedOffset:{generatedLine:C+1,generatedColumn:B+1},consumer:new u(v.getArg(g,"map"),m)}})}u.fromSourceMap=function(a,m){return n.fromSourceMap(a,m)},u.prototype._version=3,u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),u.prototype._charIsMappingSeparator=function(m,p){var d=m.charAt(p);return";"===d||","===d},u.prototype._parseMappings=function(m,p){throw new Error("Subclasses must implement _parseMappings")},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,u.prototype.eachMapping=function(m,p,d){var g,y=p||null;switch(d||u.GENERATED_ORDER){case u.GENERATED_ORDER:g=this._generatedMappings;break;case u.ORIGINAL_ORDER:g=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var x=this.sourceRoot;g.map(function(C){var B=null===C.source?null:this._sources.at(C.source);return{source:B=v.computeSourceURL(x,B,this._sourceMapURL),generatedLine:C.generatedLine,generatedColumn:C.generatedColumn,originalLine:C.originalLine,originalColumn:C.originalColumn,name:null===C.name?null:this._names.at(C.name)}},this).forEach(m,y)},u.prototype.allGeneratedPositionsFor=function(m){var p=v.getArg(m,"line"),d={source:v.getArg(m,"source"),originalLine:p,originalColumn:v.getArg(m,"column",0)};if(d.source=this._findSourceIndex(d.source),d.source<0)return[];var y=[],b=this._findMapping(d,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,A.LEAST_UPPER_BOUND);if(b>=0){var g=this._originalMappings[b];if(void 0===m.column)for(var x=g.originalLine;g&&g.originalLine===x;)y.push({line:v.getArg(g,"generatedLine",null),column:v.getArg(g,"generatedColumn",null),lastColumn:v.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++b];else for(var C=g.originalColumn;g&&g.originalLine===p&&g.originalColumn==C;)y.push({line:v.getArg(g,"generatedLine",null),column:v.getArg(g,"generatedColumn",null),lastColumn:v.getArg(g,"lastGeneratedColumn",null)}),g=this._originalMappings[++b]}return y},(n.prototype=Object.create(u.prototype)).consumer=u,n.prototype._findSourceIndex=function(a){var p,m=a;if(null!=this.sourceRoot&&(m=v.relative(this.sourceRoot,m)),this._sources.has(m))return this._sources.indexOf(m);for(p=0;p<this._absoluteSources.length;++p)if(this._absoluteSources[p]==a)return p;return-1},n.fromSourceMap=function(m,p){var d=Object.create(n.prototype),y=d._names=S.fromArray(m._names.toArray(),!0),b=d._sources=S.fromArray(m._sources.toArray(),!0);d.sourceRoot=m._sourceRoot,d.sourcesContent=m._generateSourcesContent(d._sources.toArray(),d.sourceRoot),d.file=m._file,d._sourceMapURL=p,d._absoluteSources=d._sources.toArray().map(function(re){return v.computeSourceURL(d.sourceRoot,re,p)});for(var g=m._mappings.toArray().slice(),x=d.__generatedMappings=[],C=d.__originalMappings=[],B=0,F=g.length;B<F;B++){var T=g[B],z=new l;z.generatedLine=T.generatedLine,z.generatedColumn=T.generatedColumn,T.source&&(z.source=b.indexOf(T.source),z.originalLine=T.originalLine,z.originalColumn=T.originalColumn,T.name&&(z.name=y.indexOf(T.name)),C.push(z)),x.push(z)}return c(d.__originalMappings,v.compareByOriginalPositions),d},n.prototype._version=3,Object.defineProperty(n.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),n.prototype._parseMappings=function(m,p){for(var O,J,k,Z,d=1,y=0,b=0,g=0,x=0,C=0,B=m.length,F=0,T={},z={},re=[],ie=[];F<B;)if(";"===m.charAt(F))d++,F++,y=0;else if(","===m.charAt(F))F++;else{for((O=new l).generatedLine=d,Z=F;Z<B&&!this._charIsMappingSeparator(m,Z);Z++);if(k=T[J=m.slice(F,Z)])F+=J.length;else{for(k=[];F<Z;)E.decode(m,F,z),F=z.rest,k.push(z.value);if(2===k.length)throw new Error("Found a source, but no line and column");if(3===k.length)throw new Error("Found a source and line, but no column");T[J]=k}O.generatedColumn=y+k[0],y=O.generatedColumn,k.length>1&&(O.source=x+k[1],x+=k[1],O.originalLine=b+k[2],b=O.originalLine,O.originalLine+=1,O.originalColumn=g+k[3],g=O.originalColumn,k.length>4&&(O.name=C+k[4],C+=k[4])),ie.push(O),"number"==typeof O.originalLine&&re.push(O)}c(ie,v.compareByGeneratedPositionsDeflated),this.__generatedMappings=ie,c(re,v.compareByOriginalPositions),this.__originalMappings=re},n.prototype._findMapping=function(m,p,d,y,b,g){if(m[d]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+m[d]);if(m[y]<0)throw new TypeError("Column must be greater than or equal to 0, got "+m[y]);return A.search(m,p,b,g)},n.prototype.computeColumnSpans=function(){for(var m=0;m<this._generatedMappings.length;++m){var p=this._generatedMappings[m];if(m+1<this._generatedMappings.length){var d=this._generatedMappings[m+1];if(p.generatedLine===d.generatedLine){p.lastGeneratedColumn=d.generatedColumn-1;continue}}p.lastGeneratedColumn=1/0}},n.prototype.originalPositionFor=function(m){var p={generatedLine:v.getArg(m,"line"),generatedColumn:v.getArg(m,"column")},d=this._findMapping(p,this._generatedMappings,"generatedLine","generatedColumn",v.compareByGeneratedPositionsDeflated,v.getArg(m,"bias",u.GREATEST_LOWER_BOUND));if(d>=0){var y=this._generatedMappings[d];if(y.generatedLine===p.generatedLine){var b=v.getArg(y,"source",null);null!==b&&(b=this._sources.at(b),b=v.computeSourceURL(this.sourceRoot,b,this._sourceMapURL));var g=v.getArg(y,"name",null);return null!==g&&(g=this._names.at(g)),{source:b,line:v.getArg(y,"originalLine",null),column:v.getArg(y,"originalColumn",null),name:g}}}return{source:null,line:null,column:null,name:null}},n.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(m){return null==m})},n.prototype.sourceContentFor=function(m,p){if(!this.sourcesContent)return null;var d=this._findSourceIndex(m);if(d>=0)return this.sourcesContent[d];var b,y=m;if(null!=this.sourceRoot&&(y=v.relative(this.sourceRoot,y)),null!=this.sourceRoot&&(b=v.urlParse(this.sourceRoot))){var g=y.replace(/^file:\/\//,"");if("file"==b.scheme&&this._sources.has(g))return this.sourcesContent[this._sources.indexOf(g)];if((!b.path||"/"==b.path)&&this._sources.has("/"+y))return this.sourcesContent[this._sources.indexOf("/"+y)]}if(p)return null;throw new Error('"'+y+'" is not in the SourceMap.')},n.prototype.generatedPositionFor=function(m){var p=v.getArg(m,"source");if((p=this._findSourceIndex(p))<0)return{line:null,column:null,lastColumn:null};var d={source:p,originalLine:v.getArg(m,"line"),originalColumn:v.getArg(m,"column")},y=this._findMapping(d,this._originalMappings,"originalLine","originalColumn",v.compareByOriginalPositions,v.getArg(m,"bias",u.GREATEST_LOWER_BOUND));if(y>=0){var b=this._originalMappings[y];if(b.source===d.source)return{line:v.getArg(b,"generatedLine",null),column:v.getArg(b,"generatedColumn",null),lastColumn:v.getArg(b,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},(s.prototype=Object.create(u.prototype)).constructor=u,s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){for(var a=[],m=0;m<this._sections.length;m++)for(var p=0;p<this._sections[m].consumer.sources.length;p++)a.push(this._sections[m].consumer.sources[p]);return a}}),s.prototype.originalPositionFor=function(m){var p={generatedLine:v.getArg(m,"line"),generatedColumn:v.getArg(m,"column")},d=A.search(p,this._sections,function(b,g){return b.generatedLine-g.generatedOffset.generatedLine||b.generatedColumn-g.generatedOffset.generatedColumn}),y=this._sections[d];return y?y.consumer.originalPositionFor({line:p.generatedLine-(y.generatedOffset.generatedLine-1),column:p.generatedColumn-(y.generatedOffset.generatedLine===p.generatedLine?y.generatedOffset.generatedColumn-1:0),bias:m.bias}):{source:null,line:null,column:null,name:null}},s.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(m){return m.consumer.hasContentsOfAllSources()})},s.prototype.sourceContentFor=function(m,p){for(var d=0;d<this._sections.length;d++){var b=this._sections[d].consumer.sourceContentFor(m,!0);if(b)return b}if(p)return null;throw new Error('"'+m+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(m){for(var p=0;p<this._sections.length;p++){var d=this._sections[p];if(-1!==d.consumer._findSourceIndex(v.getArg(m,"source"))){var y=d.consumer.generatedPositionFor(m);if(y)return{line:y.line+(d.generatedOffset.generatedLine-1),column:y.column+(d.generatedOffset.generatedLine===y.line?d.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},s.prototype._parseMappings=function(m,p){this.__generatedMappings=[],this.__originalMappings=[];for(var d=0;d<this._sections.length;d++)for(var y=this._sections[d],b=y.consumer._generatedMappings,g=0;g<b.length;g++){var x=b[g],C=y.consumer._sources.at(x.source);C=v.computeSourceURL(y.consumer.sourceRoot,C,this._sourceMapURL),this._sources.add(C),C=this._sources.indexOf(C);var B=null;x.name&&(B=y.consumer._names.at(x.name),this._names.add(B),B=this._names.indexOf(B));var F={source:C,generatedLine:x.generatedLine+(y.generatedOffset.generatedLine-1),generatedColumn:x.generatedColumn+(y.generatedOffset.generatedLine===x.generatedLine?y.generatedOffset.generatedColumn-1:0),originalLine:x.originalLine,originalColumn:x.originalColumn,name:B};this.__generatedMappings.push(F),"number"==typeof F.originalLine&&this.__originalMappings.push(F)}c(this.__generatedMappings,v.compareByGeneratedPositionsDeflated),c(this.__originalMappings,v.compareByOriginalPositions)}},63429:(Y,f,i)=>{var h=i(59344),v=i(75775),A=i(24683).C,S=i(94242).P;function E(c){c||(c={}),this._file=v.getArg(c,"file",null),this._sourceRoot=v.getArg(c,"sourceRoot",null),this._skipValidation=v.getArg(c,"skipValidation",!1),this._sources=new A,this._names=new A,this._mappings=new S,this._sourcesContents=null}E.prototype._version=3,E.fromSourceMap=function(u){var n=u.sourceRoot,l=new E({file:u.file,sourceRoot:n});return u.eachMapping(function(s){var a={generated:{line:s.generatedLine,column:s.generatedColumn}};null!=s.source&&(a.source=s.source,null!=n&&(a.source=v.relative(n,a.source)),a.original={line:s.originalLine,column:s.originalColumn},null!=s.name&&(a.name=s.name)),l.addMapping(a)}),u.sources.forEach(function(s){var a=s;null!==n&&(a=v.relative(n,s)),l._sources.has(a)||l._sources.add(a);var m=u.sourceContentFor(s);null!=m&&l.setSourceContent(s,m)}),l},E.prototype.addMapping=function(u){var n=v.getArg(u,"generated"),l=v.getArg(u,"original",null),s=v.getArg(u,"source",null),a=v.getArg(u,"name",null);this._skipValidation||this._validateMapping(n,l,s,a),null!=s&&(s=String(s),this._sources.has(s)||this._sources.add(s)),null!=a&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:null!=l&&l.line,originalColumn:null!=l&&l.column,source:s,name:a})},E.prototype.setSourceContent=function(u,n){var l=u;null!=this._sourceRoot&&(l=v.relative(this._sourceRoot,l)),null!=n?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[v.toSetString(l)]=n):this._sourcesContents&&(delete this._sourcesContents[v.toSetString(l)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},E.prototype.applySourceMap=function(u,n,l){var s=n;if(null==n){if(null==u.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');s=u.file}var a=this._sourceRoot;null!=a&&(s=v.relative(a,s));var m=new A,p=new A;this._mappings.unsortedForEach(function(d){if(d.source===s&&null!=d.originalLine){var y=u.originalPositionFor({line:d.originalLine,column:d.originalColumn});null!=y.source&&(d.source=y.source,null!=l&&(d.source=v.join(l,d.source)),null!=a&&(d.source=v.relative(a,d.source)),d.originalLine=y.line,d.originalColumn=y.column,null!=y.name&&(d.name=y.name))}var b=d.source;null!=b&&!m.has(b)&&m.add(b);var g=d.name;null!=g&&!p.has(g)&&p.add(g)},this),this._sources=m,this._names=p,u.sources.forEach(function(d){var y=u.sourceContentFor(d);null!=y&&(null!=l&&(d=v.join(l,d)),null!=a&&(d=v.relative(a,d)),this.setSourceContent(d,y))},this)},E.prototype._validateMapping=function(u,n,l,s){if(n&&"number"!=typeof n.line&&"number"!=typeof n.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(u&&"line"in u&&"column"in u&&u.line>0&&u.column>=0)||n||l||s){if(u&&"line"in u&&"column"in u&&n&&"line"in n&&"column"in n&&u.line>0&&u.column>=0&&n.line>0&&n.column>=0&&l)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:u,source:l,original:n,name:s}))}},E.prototype._serializeMappings=function(){for(var d,y,b,g,u=0,n=1,l=0,s=0,a=0,m=0,p="",x=this._mappings.toArray(),C=0,B=x.length;C<B;C++){if(d="",(y=x[C]).generatedLine!==n)for(u=0;y.generatedLine!==n;)d+=";",n++;else if(C>0){if(!v.compareByGeneratedPositionsInflated(y,x[C-1]))continue;d+=","}d+=h.encode(y.generatedColumn-u),u=y.generatedColumn,null!=y.source&&(g=this._sources.indexOf(y.source),d+=h.encode(g-m),m=g,d+=h.encode(y.originalLine-1-s),s=y.originalLine-1,d+=h.encode(y.originalColumn-l),l=y.originalColumn,null!=y.name&&(b=this._names.indexOf(y.name),d+=h.encode(b-a),a=b)),p+=d}return p},E.prototype._generateSourcesContent=function(u,n){return u.map(function(l){if(!this._sourcesContents)return null;null!=n&&(l=v.relative(n,l));var s=v.toSetString(l);return Object.prototype.hasOwnProperty.call(this._sourcesContents,s)?this._sourcesContents[s]:null},this)},E.prototype.toJSON=function(){var u={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(u.file=this._file),null!=this._sourceRoot&&(u.sourceRoot=this._sourceRoot),this._sourcesContents&&(u.sourcesContent=this._generateSourcesContent(u.sources,u.sourceRoot)),u},E.prototype.toString=function(){return JSON.stringify(this.toJSON())},f.x=E},72071:(Y,f,i)=>{var h=i(63429).x,v=i(75775),A=/(\r?\n)/,E="$$$isSourceNode$$$";function c(u,n,l,s,a){this.children=[],this.sourceContents={},this.line=u??null,this.column=n??null,this.source=l??null,this.name=a??null,this[E]=!0,null!=s&&this.add(s)}c.fromStringWithSourceMap=function(n,l,s){var a=new c,m=n.split(A),p=0,d=function(){return F()+(F()||"");function F(){return p<m.length?m[p++]:void 0}},y=1,b=0,g=null;return l.eachMapping(function(C){if(null!==g){if(!(y<C.generatedLine)){var F=(B=m[p]||"").substr(0,C.generatedColumn-b);return m[p]=B.substr(C.generatedColumn-b),b=C.generatedColumn,x(g,F),void(g=C)}x(g,d()),y++,b=0}for(;y<C.generatedLine;)a.add(d()),y++;var B;b<C.generatedColumn&&(a.add((B=m[p]||"").substr(0,C.generatedColumn)),m[p]=B.substr(C.generatedColumn),b=C.generatedColumn),g=C},this),p<m.length&&(g&&x(g,d()),a.add(m.splice(p).join(""))),l.sources.forEach(function(C){var B=l.sourceContentFor(C);null!=B&&(null!=s&&(C=v.join(s,C)),a.setSourceContent(C,B))}),a;function x(C,B){if(null===C||void 0===C.source)a.add(B);else{var F=s?v.join(s,C.source):C.source;a.add(new c(C.originalLine,C.originalColumn,F,B,C.name))}}},c.prototype.add=function(n){if(Array.isArray(n))n.forEach(function(l){this.add(l)},this);else{if(!n[E]&&"string"!=typeof n)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+n);n&&this.children.push(n)}return this},c.prototype.prepend=function(n){if(Array.isArray(n))for(var l=n.length-1;l>=0;l--)this.prepend(n[l]);else{if(!n[E]&&"string"!=typeof n)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+n);this.children.unshift(n)}return this},c.prototype.walk=function(n){for(var l,s=0,a=this.children.length;s<a;s++)(l=this.children[s])[E]?l.walk(n):""!==l&&n(l,{source:this.source,line:this.line,column:this.column,name:this.name})},c.prototype.join=function(n){var l,s,a=this.children.length;if(a>0){for(l=[],s=0;s<a-1;s++)l.push(this.children[s]),l.push(n);l.push(this.children[s]),this.children=l}return this},c.prototype.replaceRight=function(n,l){var s=this.children[this.children.length-1];return s[E]?s.replaceRight(n,l):"string"==typeof s?this.children[this.children.length-1]=s.replace(n,l):this.children.push("".replace(n,l)),this},c.prototype.setSourceContent=function(n,l){this.sourceContents[v.toSetString(n)]=l},c.prototype.walkSourceContents=function(n){for(var l=0,s=this.children.length;l<s;l++)this.children[l][E]&&this.children[l].walkSourceContents(n);var a=Object.keys(this.sourceContents);for(l=0,s=a.length;l<s;l++)n(v.fromSetString(a[l]),this.sourceContents[a[l]])},c.prototype.toString=function(){var n="";return this.walk(function(l){n+=l}),n},c.prototype.toStringWithSourceMap=function(n){var l={code:"",line:1,column:0},s=new h(n),a=!1,m=null,p=null,d=null,y=null;return this.walk(function(b,g){l.code+=b,null!==g.source&&null!==g.line&&null!==g.column?((m!==g.source||p!==g.line||d!==g.column||y!==g.name)&&s.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:l.line,column:l.column},name:g.name}),m=g.source,p=g.line,d=g.column,y=g.name,a=!0):a&&(s.addMapping({generated:{line:l.line,column:l.column}}),m=null,a=!1);for(var x=0,C=b.length;x<C;x++)10===b.charCodeAt(x)?(l.line++,l.column=0,x+1===C?(m=null,a=!1):a&&s.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:l.line,column:l.column},name:g.name})):l.column++}),this.walkSourceContents(function(b,g){s.setSourceContent(b,g)}),{code:l.code,map:s}},f.SourceNode=c},75775:(Y,f)=>{f.getArg=function i(C,B,F){if(B in C)return C[B];if(3===arguments.length)return F;throw new Error('"'+B+'" is a required argument.')};var h=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,v=/^data:.+\,.+$/;function A(C){var B=C.match(h);return B?{scheme:B[1],auth:B[2],host:B[3],port:B[4],path:B[5]}:null}function S(C){var B="";return C.scheme&&(B+=C.scheme+":"),B+="//",C.auth&&(B+=C.auth+"@"),C.host&&(B+=C.host),C.port&&(B+=":"+C.port),C.path&&(B+=C.path),B}function E(C){var B=C,F=A(C);if(F){if(!F.path)return C;B=F.path}for(var re,T=f.isAbsolute(B),z=B.split(/\/+/),ie=0,O=z.length-1;O>=0;O--)"."===(re=z[O])?z.splice(O,1):".."===re?ie++:ie>0&&(""===re?(z.splice(O+1,ie),ie=0):(z.splice(O,2),ie--));return""===(B=z.join("/"))&&(B=T?"/":"."),F?(F.path=B,S(F)):B}function c(C,B){""===C&&(C="."),""===B&&(B=".");var F=A(B),T=A(C);if(T&&(C=T.path||"/"),F&&!F.scheme)return T&&(F.scheme=T.scheme),S(F);if(F||B.match(v))return B;if(T&&!T.host&&!T.path)return T.host=B,S(T);var z="/"===B.charAt(0)?B:E(C.replace(/\/+$/,"")+"/"+B);return T?(T.path=z,S(T)):z}f.urlParse=A,f.urlGenerate=S,f.normalize=E,f.join=c,f.isAbsolute=function(C){return"/"===C.charAt(0)||h.test(C)},f.relative=function u(C,B){""===C&&(C="."),C=C.replace(/\/$/,"");for(var F=0;0!==B.indexOf(C+"/");){var T=C.lastIndexOf("/");if(T<0||(C=C.slice(0,T)).match(/^([^\/]+:\/)?\/*$/))return B;++F}return Array(F+1).join("../")+B.substr(C.length+1)};var n=!("__proto__"in Object.create(null));function l(C){return C}function m(C){if(!C)return!1;var B=C.length;if(B<9||95!==C.charCodeAt(B-1)||95!==C.charCodeAt(B-2)||111!==C.charCodeAt(B-3)||116!==C.charCodeAt(B-4)||111!==C.charCodeAt(B-5)||114!==C.charCodeAt(B-6)||112!==C.charCodeAt(B-7)||95!==C.charCodeAt(B-8)||95!==C.charCodeAt(B-9))return!1;for(var F=B-10;F>=0;F--)if(36!==C.charCodeAt(F))return!1;return!0}function y(C,B){return C===B?0:null===C?1:null===B?-1:C>B?1:-1}f.toSetString=n?l:function s(C){return m(C)?"$"+C:C},f.fromSetString=n?l:function a(C){return m(C)?C.slice(1):C},f.compareByOriginalPositions=function p(C,B,F){var T=y(C.source,B.source);return 0!==T||0!=(T=C.originalLine-B.originalLine)||0!=(T=C.originalColumn-B.originalColumn)||F||0!=(T=C.generatedColumn-B.generatedColumn)||0!=(T=C.generatedLine-B.generatedLine)?T:y(C.name,B.name)},f.compareByGeneratedPositionsDeflated=function d(C,B,F){var T=C.generatedLine-B.generatedLine;return 0!==T||0!=(T=C.generatedColumn-B.generatedColumn)||F||0!==(T=y(C.source,B.source))||0!=(T=C.originalLine-B.originalLine)||0!=(T=C.originalColumn-B.originalColumn)?T:y(C.name,B.name)},f.compareByGeneratedPositionsInflated=function b(C,B){var F=C.generatedLine-B.generatedLine;return 0!==F||0!=(F=C.generatedColumn-B.generatedColumn)||0!==(F=y(C.source,B.source))||0!=(F=C.originalLine-B.originalLine)||0!=(F=C.originalColumn-B.originalColumn)?F:y(C.name,B.name)},f.parseSourceMapInput=function g(C){return JSON.parse(C.replace(/^\)]}'[^\n]*\n/,""))},f.computeSourceURL=function x(C,B,F){if(B=B||"",C&&("/"!==C[C.length-1]&&"/"!==B[0]&&(C+="/"),B=C+B),F){var T=A(F);if(!T)throw new Error("sourceMapURL could not be parsed");if(T.path){var z=T.path.lastIndexOf("/");z>=0&&(T.path=T.path.substring(0,z+1))}B=c(S(T),B)}return E(B)}},89877:(Y,f,i)=>{i(63429),i(2818),f.SourceNode=i(72071).SourceNode},48038:(Y,f,i)=>{!function h(v){"use strict";var A,S,E,c,u,n;function l(B){var T,z,F={};for(T in B)B.hasOwnProperty(T)&&(F[T]="object"==typeof(z=B[T])&&null!==z?l(z):z);return F}function a(B,F){this.parent=B,this.key=F}function m(B,F,T,z){this.node=B,this.path=F,this.wrap=T,this.ref=z}function p(){}function d(B){return null!=B&&"object"==typeof B&&"string"==typeof B.type}function y(B,F){return(B===A.ObjectExpression||B===A.ObjectPattern)&&"properties"===F}function b(B,F){return(new p).traverse(B,F)}function x(B,F){var T;return T=function s(B,F){var T,z,re,ie;for(z=B.length,re=0;z;)F(B[ie=re+(T=z>>>1)])?z=T:(re=ie+1,z-=T+1);return re}(F,function(re){return re.range[0]>B.range[0]}),B.extendedRange=[B.range[0],B.range[1]],T!==F.length&&(B.extendedRange[1]=F[T].range[0]),(T-=1)>=0&&(B.extendedRange[0]=F[T].range[1]),B}return A={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},E={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},S={Break:c={},Skip:u={},Remove:n={}},a.prototype.replace=function(F){this.parent[this.key]=F},a.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},p.prototype.path=function(){var F,T,z,re,ie;function J(k,Z){if(Array.isArray(Z))for(z=0,re=Z.length;z<re;++z)k.push(Z[z]);else k.push(Z)}if(!this.__current.path)return null;for(ie=[],F=2,T=this.__leavelist.length;F<T;++F)J(ie,this.__leavelist[F].path);return J(ie,this.__current.path),ie},p.prototype.type=function(){return this.current().type||this.__current.wrap},p.prototype.parents=function(){var F,T,z;for(z=[],F=1,T=this.__leavelist.length;F<T;++F)z.push(this.__leavelist[F].node);return z},p.prototype.current=function(){return this.__current.node},p.prototype.__execute=function(F,T){var z,re;return re=void 0,z=this.__current,this.__current=T,this.__state=null,F&&(re=F.call(this,T.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=z,re},p.prototype.notify=function(F){this.__state=F},p.prototype.skip=function(){this.notify(u)},p.prototype.break=function(){this.notify(c)},p.prototype.remove=function(){this.notify(n)},p.prototype.__initialize=function(B,F){this.visitor=F,this.root=B,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,"iteration"===F.fallback?this.__fallback=Object.keys:"function"==typeof F.fallback&&(this.__fallback=F.fallback),this.__keys=E,F.keys&&(this.__keys=Object.assign(Object.create(this.__keys),F.keys))},p.prototype.traverse=function(F,T){var z,re,ie,O,J,k,Z,W,pe,R,X,oe;for(this.__initialize(F,T),oe={},re=this.__leavelist,(z=this.__worklist).push(new m(F,null,null,null)),re.push(new m(null,null,null,null));z.length;)if((ie=z.pop())!==oe){if(ie.node){if(k=this.__execute(T.enter,ie),this.__state===c||k===c)return;if(z.push(oe),re.push(ie),this.__state===u||k===u)continue;if(!(R=this.__keys[J=(O=ie.node).type||ie.wrap])){if(!this.__fallback)throw new Error("Unknown node type "+J+".");R=this.__fallback(O)}for(W=R.length;(W-=1)>=0;)if(X=O[Z=R[W]])if(Array.isArray(X)){for(pe=X.length;(pe-=1)>=0;)if(X[pe]){if(y(J,R[W]))ie=new m(X[pe],[Z,pe],"Property",null);else{if(!d(X[pe]))continue;ie=new m(X[pe],[Z,pe],null,null)}z.push(ie)}}else d(X)&&z.push(new m(X,Z,null,null))}}else if(ie=re.pop(),k=this.__execute(T.leave,ie),this.__state===c||k===c)return},p.prototype.replace=function(F,T){var z,re,ie,O,J,k,Z,W,pe,R,X,oe,be;function Ie(w){var I,V,M,Q;if(w.ref.remove())for(V=w.ref.key,Q=w.ref.parent,I=z.length;I--;)if((M=z[I]).ref&&M.ref.parent===Q){if(M.ref.key<V)break;--M.ref.key}}for(this.__initialize(F,T),X={},z=this.__worklist,re=this.__leavelist,k=new m(F,null,null,new a(oe={root:F},"root")),z.push(k),re.push(k);z.length;)if((k=z.pop())!==X){if(void 0!==(J=this.__execute(T.enter,k))&&J!==c&&J!==u&&J!==n&&(k.ref.replace(J),k.node=J),(this.__state===n||J===n)&&(Ie(k),k.node=null),this.__state===c||J===c)return oe.root;if((ie=k.node)&&(z.push(X),re.push(k),this.__state!==u&&J!==u)){if(!(pe=this.__keys[O=ie.type||k.wrap])){if(!this.__fallback)throw new Error("Unknown node type "+O+".");pe=this.__fallback(ie)}for(Z=pe.length;(Z-=1)>=0;)if(R=ie[be=pe[Z]])if(Array.isArray(R)){for(W=R.length;(W-=1)>=0;)if(R[W]){if(y(O,pe[Z]))k=new m(R[W],[be,W],"Property",new a(R,W));else{if(!d(R[W]))continue;k=new m(R[W],[be,W],null,new a(R,W))}z.push(k)}}else d(R)&&z.push(new m(R,be,null,new a(ie,be)))}}else if(k=re.pop(),void 0!==(J=this.__execute(T.leave,k))&&J!==c&&J!==u&&J!==n&&k.ref.replace(J),(this.__state===n||J===n)&&Ie(k),this.__state===c||J===c)return oe.root;return oe.root},v.version=i(99600).rE,v.Syntax=A,v.traverse=b,v.replace=function g(B,F){return(new p).replace(B,F)},v.attachComments=function C(B,F,T){var re,ie,O,J,z=[];if(!B.range)throw new Error("attachComments needs range information");if(!T.length){if(F.length){for(O=0,ie=F.length;O<ie;O+=1)(re=l(F[O])).extendedRange=[0,B.range[0]],z.push(re);B.leadingComments=z}return B}for(O=0,ie=F.length;O<ie;O+=1)z.push(x(l(F[O]),T));return J=0,b(B,{enter:function(k){for(var Z;J<z.length&&!((Z=z[J]).extendedRange[1]>k.range[0]);)Z.extendedRange[1]===k.range[0]?(k.leadingComments||(k.leadingComments=[]),k.leadingComments.push(Z),z.splice(J,1)):J+=1;return J===z.length?S.Break:z[J].extendedRange[0]>k.range[1]?S.Skip:void 0}}),J=0,b(B,{leave:function(k){for(var Z;J<z.length&&!(k.range[1]<(Z=z[J]).extendedRange[0]);)k.range[1]===Z.extendedRange[0]?(k.trailingComments||(k.trailingComments=[]),k.trailingComments.push(Z),z.splice(J,1)):J+=1;return J===z.length?S.Break:z[J].extendedRange[0]>k.range[1]?S.Skip:void 0}}),B},v.VisitorKeys=E,v.VisitorOption=S,v.Controller=p,v.cloneEnvironment=function(){return h({})},v}(f)},40569:Y=>{!function(){"use strict";function h(E){if(null==E)return!1;switch(E.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function A(E){switch(E.type){case"IfStatement":return null!=E.alternate?E.alternate:E.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return E.body}return null}Y.exports={isExpression:function f(E){if(null==E)return!1;switch(E.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1},isStatement:h,isIterationStatement:function i(E){if(null==E)return!1;switch(E.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1},isSourceElement:function v(E){return h(E)||null!=E&&"FunctionDeclaration"===E.type},isProblematicIfStatement:function S(E){var c;if("IfStatement"!==E.type||null==E.alternate)return!1;c=E.consequent;do{if("IfStatement"===c.type&&null==c.alternate)return!0;c=A(c)}while(c);return!1},trailingStatement:A}}()},45444:Y=>{!function(){"use strict";var f,i,h,v,A,S;function s(y){return y<=65535?String.fromCharCode(y):String.fromCharCode(Math.floor((y-65536)/1024)+55296)+String.fromCharCode((y-65536)%1024+56320)}for(i={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},f={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},h=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],v=new Array(128),S=0;S<128;++S)v[S]=S>=97&&S<=122||S>=65&&S<=90||36===S||95===S;for(A=new Array(128),S=0;S<128;++S)A[S]=S>=97&&S<=122||S>=65&&S<=90||S>=48&&S<=57||36===S||95===S;Y.exports={isDecimalDigit:function E(y){return 48<=y&&y<=57},isHexDigit:function c(y){return 48<=y&&y<=57||97<=y&&y<=102||65<=y&&y<=70},isOctalDigit:function u(y){return y>=48&&y<=55},isWhiteSpace:function n(y){return 32===y||9===y||11===y||12===y||160===y||y>=5760&&h.indexOf(y)>=0},isLineTerminator:function l(y){return 10===y||13===y||8232===y||8233===y},isIdentifierStartES5:function a(y){return y<128?v[y]:i.NonAsciiIdentifierStart.test(s(y))},isIdentifierPartES5:function m(y){return y<128?A[y]:i.NonAsciiIdentifierPart.test(s(y))},isIdentifierStartES6:function p(y){return y<128?v[y]:f.NonAsciiIdentifierStart.test(s(y))},isIdentifierPartES6:function d(y){return y<128?A[y]:f.NonAsciiIdentifierPart.test(s(y))}}}()},99050:(Y,f,i)=>{!function(){"use strict";var h=i(45444);function A(p,d){return!(!d&&"yield"===p)&&S(p,d)}function S(p,d){if(d&&function v(p){switch(p){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}(p))return!0;switch(p.length){case 2:return"if"===p||"in"===p||"do"===p;case 3:return"var"===p||"for"===p||"new"===p||"try"===p;case 4:return"this"===p||"else"===p||"case"===p||"void"===p||"with"===p||"enum"===p;case 5:return"while"===p||"break"===p||"catch"===p||"throw"===p||"const"===p||"yield"===p||"class"===p||"super"===p;case 6:return"return"===p||"typeof"===p||"delete"===p||"switch"===p||"export"===p||"import"===p;case 7:return"default"===p||"finally"===p||"extends"===p;case 8:return"function"===p||"continue"===p||"debugger"===p;case 10:return"instanceof"===p;default:return!1}}function E(p,d){return"null"===p||"true"===p||"false"===p||A(p,d)}function c(p,d){return"null"===p||"true"===p||"false"===p||S(p,d)}function n(p){var d,y,b;if(0===p.length||(b=p.charCodeAt(0),!h.isIdentifierStartES5(b)))return!1;for(d=1,y=p.length;d<y;++d)if(b=p.charCodeAt(d),!h.isIdentifierPartES5(b))return!1;return!0}function l(p,d){return 1024*(p-55296)+(d-56320)+65536}function s(p){var d,y,b,g,x;if(0===p.length)return!1;for(x=h.isIdentifierStartES6,d=0,y=p.length;d<y;++d){if(55296<=(b=p.charCodeAt(d))&&b<=56319){if(++d>=y||!(56320<=(g=p.charCodeAt(d))&&g<=57343))return!1;b=l(b,g)}if(!x(b))return!1;x=h.isIdentifierPartES6}return!0}Y.exports={isKeywordES5:A,isKeywordES6:S,isReservedWordES5:E,isReservedWordES6:c,isRestrictedWord:function u(p){return"eval"===p||"arguments"===p},isIdentifierNameES5:n,isIdentifierNameES6:s,isIdentifierES5:function a(p,d){return n(p)&&!E(p,d)},isIdentifierES6:function m(p,d){return s(p)&&!c(p,d)}}}()},3516:(Y,f,i)=>{!function(){"use strict";f.ast=i(40569),f.code=i(45444),f.keyword=i(99050)}()},49132:Y=>{"use strict";var i=Object.prototype.toString,h=Math.max,A=function(u,n){for(var l=[],s=0;s<u.length;s+=1)l[s]=u[s];for(var a=0;a<n.length;a+=1)l[a+u.length]=n[a];return l};Y.exports=function(u){var n=this;if("function"!=typeof n||"[object Function]"!==i.apply(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var s,l=function(u){for(var l=[],s=1,a=0;s<u.length;s+=1,a+=1)l[a]=u[s];return l}(arguments),m=h(0,n.length-l.length),p=[],d=0;d<m;d++)p[d]="$"+d;if(s=Function("binder","return function ("+function(c){for(var n="",l=0;l<c.length;l+=1)n+=c[l],l+1<c.length&&(n+=",");return n}(p)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof s){var b=n.apply(this,A(l,arguments));return Object(b)===b?b:this}return n.apply(u,A(l,arguments))}),n.prototype){var y=function(){};y.prototype=n.prototype,s.prototype=new y,y.prototype=null}return s}},65992:(Y,f,i)=>{"use strict";var h=i(49132);Y.exports=Function.prototype.bind||h},64003:Y=>{"use strict";var f=function(){return"string"==typeof function(){}.name},i=Object.getOwnPropertyDescriptor;if(i)try{i([],"length")}catch{i=null}f.functionsHaveConfigurableNames=function(){if(!f()||!i)return!1;var A=i(function(){},"name");return!!A&&!!A.configurable};var h=Function.prototype.bind;f.boundFunctionsHaveNames=function(){return f()&&"function"==typeof h&&""!==function(){}.bind().name},Y.exports=f},90258:(Y,f,i)=>{"use strict";var h,v=i(37640),A=i(1756),S=i(77933),E=i(6613),c=i(58413),u=i(46758),n=i(5286),l=Function,s=function(oe){try{return l('"use strict"; return ('+oe+").constructor;")()}catch{}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch{a=null}var m=function(){throw new u},p=a?function(){try{return m}catch{try{return a(arguments,"callee").get}catch{return m}}}():m,d=i(19900)(),y=i(62119)(),b=Object.getPrototypeOf||(y?function(oe){return oe.__proto__}:null),g={},x=typeof Uint8Array>"u"||!b?h:b(Uint8Array),C={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?h:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?h:ArrayBuffer,"%ArrayIteratorPrototype%":d&&b?b([][Symbol.iterator]()):h,"%AsyncFromSyncIteratorPrototype%":h,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":typeof Atomics>"u"?h:Atomics,"%BigInt%":typeof BigInt>"u"?h:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?h:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?h:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?h:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":v,"%eval%":eval,"%EvalError%":A,"%Float32Array%":typeof Float32Array>"u"?h:Float32Array,"%Float64Array%":typeof Float64Array>"u"?h:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?h:FinalizationRegistry,"%Function%":l,"%GeneratorFunction%":g,"%Int8Array%":typeof Int8Array>"u"?h:Int8Array,"%Int16Array%":typeof Int16Array>"u"?h:Int16Array,"%Int32Array%":typeof Int32Array>"u"?h:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&b?b(b([][Symbol.iterator]())):h,"%JSON%":"object"==typeof JSON?JSON:h,"%Map%":typeof Map>"u"?h:Map,"%MapIteratorPrototype%":typeof Map>"u"||!d||!b?h:b((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?h:Promise,"%Proxy%":typeof Proxy>"u"?h:Proxy,"%RangeError%":S,"%ReferenceError%":E,"%Reflect%":typeof Reflect>"u"?h:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?h:Set,"%SetIteratorPrototype%":typeof Set>"u"||!d||!b?h:b((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?h:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&b?b(""[Symbol.iterator]()):h,"%Symbol%":d?Symbol:h,"%SyntaxError%":c,"%ThrowTypeError%":p,"%TypedArray%":x,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?h:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?h:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?h:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?h:Uint32Array,"%URIError%":n,"%WeakMap%":typeof WeakMap>"u"?h:WeakMap,"%WeakRef%":typeof WeakRef>"u"?h:WeakRef,"%WeakSet%":typeof WeakSet>"u"?h:WeakSet};if(b)try{null.error}catch(oe){var B=b(b(oe));C["%Error.prototype%"]=B}var F=function oe(be){var Ie;if("%AsyncFunction%"===be)Ie=s("async function () {}");else if("%GeneratorFunction%"===be)Ie=s("function* () {}");else if("%AsyncGeneratorFunction%"===be)Ie=s("async function* () {}");else if("%AsyncGenerator%"===be){var w=oe("%AsyncGeneratorFunction%");w&&(Ie=w.prototype)}else if("%AsyncIteratorPrototype%"===be){var I=oe("%AsyncGenerator%");I&&b&&(Ie=b(I.prototype))}return C[be]=Ie,Ie},T={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},z=i(65992),re=i(78368),ie=z.call(Function.call,Array.prototype.concat),O=z.call(Function.apply,Array.prototype.splice),J=z.call(Function.call,String.prototype.replace),k=z.call(Function.call,String.prototype.slice),Z=z.call(Function.call,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pe=/\\(\\)?/g,X=function(be,Ie){var I,w=be;if(re(T,w)&&(w="%"+(I=T[w])[0]+"%"),re(C,w)){var V=C[w];if(V===g&&(V=F(w)),typeof V>"u"&&!Ie)throw new u("intrinsic "+be+" exists, but is not available. Please file an issue!");return{alias:I,name:w,value:V}}throw new c("intrinsic "+be+" does not exist!")};Y.exports=function(be,Ie){if("string"!=typeof be||0===be.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Ie)throw new u('"allowMissing" argument must be a boolean');if(null===Z(/^%?[^%]*%?$/,be))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var w=function(be){var Ie=k(be,0,1),w=k(be,-1);if("%"===Ie&&"%"!==w)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===w&&"%"!==Ie)throw new c("invalid intrinsic syntax, expected opening `%`");var I=[];return J(be,W,function(V,M,Q,ue){I[I.length]=Q?J(ue,pe,"$1"):M||V}),I}(be),I=w.length>0?w[0]:"",V=X("%"+I+"%",Ie),M=V.name,Q=V.value,ue=!1,de=V.alias;de&&(I=de[0],O(w,ie([0,1],de)));for(var we=1,fe=!0;we<w.length;we+=1){var _e=w[we],He=k(_e,0,1),Pe=k(_e,-1);if(('"'===He||"'"===He||"`"===He||'"'===Pe||"'"===Pe||"`"===Pe)&&He!==Pe)throw new c("property names with quotes must have matching quotes");if(("constructor"===_e||!fe)&&(ue=!0),re(C,M="%"+(I+="."+_e)+"%"))Q=C[M];else if(null!=Q){if(!(_e in Q)){if(!Ie)throw new u("base intrinsic for "+be+" exists, but the property is not available.");return}if(a&&we+1>=w.length){var Oe=a(Q,_e);Q=(fe=!!Oe)&&"get"in Oe&&!("originalValue"in Oe.get)?Oe.get:Q[_e]}else fe=re(Q,_e),Q=Q[_e];fe&&!ue&&(C[M]=Q)}}return Q}},83798:(Y,f,i)=>{"use strict";var v=i(90258)("%Object.getOwnPropertyDescriptor%",!0);if(v)try{v([],"length")}catch{v=null}Y.exports=v},35861:(Y,f,i)=>{"use strict";var h=i(4570),v=function(){return!!h};v.hasArrayLengthDefineBug=function(){if(!h)return null;try{return 1!==h([],"length",{value:1}).length}catch{return!0}},Y.exports=v},62119:Y=>{"use strict";var f={__proto__:null,foo:{}},i=Object;Y.exports=function(){return{__proto__:f}.foo===f.foo&&!(f instanceof i)}},19900:(Y,f,i)=>{"use strict";var h=typeof Symbol<"u"&&Symbol,v=i(45310);Y.exports=function(){return"function"==typeof h&&"function"==typeof Symbol&&"symbol"==typeof h("foo")&&"symbol"==typeof Symbol("bar")&&v()}},45310:Y=>{"use strict";Y.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var i={},h=Symbol("test"),v=Object(h);if("string"==typeof h||"[object Symbol]"!==Object.prototype.toString.call(h)||"[object Symbol]"!==Object.prototype.toString.call(v))return!1;for(h in i[h]=42,i)return!1;if("function"==typeof Object.keys&&0!==Object.keys(i).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(i).length)return!1;var S=Object.getOwnPropertySymbols(i);if(1!==S.length||S[0]!==h||!Object.prototype.propertyIsEnumerable.call(i,h))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var E=Object.getOwnPropertyDescriptor(i,h);if(42!==E.value||!0!==E.enumerable)return!1}return!0}},88779:(Y,f,i)=>{"use strict";var h=i(45310);Y.exports=function(){return h()&&!!Symbol.toStringTag}},78368:(Y,f,i)=>{"use strict";var h=Function.prototype.call,v=Object.prototype.hasOwnProperty,A=i(65992);Y.exports=A.call(h,v)},53720:(Y,f,i)=>{"use strict";var h=i(78368),v=i(3541)(),A=i(46758),S={assert:function(E,c){if(!E||"object"!=typeof E&&"function"!=typeof E)throw new A("`O` is not an object");if("string"!=typeof c)throw new A("`slot` must be a string");if(v.assert(E),!S.has(E,c))throw new A("`"+c+"` is not present on `O`")},get:function(E,c){if(!E||"object"!=typeof E&&"function"!=typeof E)throw new A("`O` is not an object");if("string"!=typeof c)throw new A("`slot` must be a string");var u=v.get(E);return u&&u["$"+c]},has:function(E,c){if(!E||"object"!=typeof E&&"function"!=typeof E)throw new A("`O` is not an object");if("string"!=typeof c)throw new A("`slot` must be a string");var u=v.get(E);return!!u&&h(u,"$"+c)},set:function(E,c,u){if(!E||"object"!=typeof E&&"function"!=typeof E)throw new A("`O` is not an object");if("string"!=typeof c)throw new A("`slot` must be a string");var n=v.get(E);n||v.set(E,n={}),n["$"+c]=u}};Object.freeze&&Object.freeze(S),Y.exports=S},58239:Y=>{"use strict";var h,v,f=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{h=Object.defineProperty({},"length",{get:function(){throw v}}),v={},i(function(){throw 42},null,h)}catch(g){g!==v&&(i=null)}else i=null;var A=/^\s*class\b/,S=function(x){try{var C=f.call(x);return A.test(C)}catch{return!1}},E=function(x){try{return!S(x)&&(f.call(x),!0)}catch{return!1}},c=Object.prototype.toString,p="function"==typeof Symbol&&!!Symbol.toStringTag,d=!(0 in[,]),y=function(){return!1};if("object"==typeof document){var b=document.all;c.call(b)===c.call(document.all)&&(y=function(x){if((d||!x)&&(typeof x>"u"||"object"==typeof x))try{var C=c.call(x);return("[object HTMLAllCollection]"===C||"[object HTML document.all class]"===C||"[object HTMLCollection]"===C||"[object Object]"===C)&&null==x("")}catch{}return!1})}Y.exports=i?function(x){if(y(x))return!0;if(!x||"function"!=typeof x&&"object"!=typeof x)return!1;try{i(x,null,h)}catch(C){if(C!==v)return!1}return!S(x)&&E(x)}:function(x){if(y(x))return!0;if(!x||"function"!=typeof x&&"object"!=typeof x)return!1;if(p)return E(x);if(S(x))return!1;var C=c.call(x);return!("[object Function]"!==C&&"[object GeneratorFunction]"!==C&&!/^\[object HTML/.test(C))&&E(x)}},94665:(Y,f,i)=>{"use strict";var h=Date.prototype.getDay,A=Object.prototype.toString,E=i(88779)();Y.exports=function(u){return"object"==typeof u&&null!==u&&(E?function(u){try{return h.call(u),!0}catch{return!1}}(u):"[object Date]"===A.call(u))}},53290:(Y,f,i)=>{"use strict";var A,S,E,c,h=i(23020),v=i(88779)();if(v){A=h("Object.prototype.hasOwnProperty"),S=h("RegExp.prototype.exec"),E={};var u=function(){throw E};c={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(c[Symbol.toPrimitive]=u)}var n=h("Object.prototype.toString"),l=Object.getOwnPropertyDescriptor;Y.exports=v?function(m){if(!m||"object"!=typeof m)return!1;var p=l(m,"lastIndex");if(!p||!A(p,"value"))return!1;try{S(m,c)}catch(y){return y===E}}:function(m){return!(!m||"object"!=typeof m&&"function"!=typeof m)&&"[object RegExp]"===n(m)}},16827:(Y,f,i)=>{"use strict";var h=Object.prototype.toString;if(i(19900)()){var A=Symbol.prototype.toString,S=/^Symbol\(.*\)$/;Y.exports=function(u){if("symbol"==typeof u)return!0;if("[object Symbol]"!==h.call(u))return!1;try{return function(u){return"symbol"==typeof u.valueOf()&&S.test(A.call(u))}(u)}catch{return!1}}}else Y.exports=function(u){return!1}},12398:function(Y){typeof self<"u"?self:typeof window<"u"?window:typeof globalThis<"u"&&globalThis,Y.exports=function(){"use strict";var V,f="3.7.7",i=f,h="function"==typeof Buffer,v="function"==typeof TextDecoder?new TextDecoder:void 0,A="function"==typeof TextEncoder?new TextEncoder:void 0,E=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),c=(V={},E.forEach(function(M,Q){return V[M]=Q}),V),u=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,n=String.fromCharCode.bind(String),l="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(I){return new Uint8Array(Array.prototype.slice.call(I,0))},s=function(I){return I.replace(/=/g,"").replace(/[+\/]/g,function(V){return"+"==V?"-":"_"})},a=function(I){return I.replace(/[^A-Za-z0-9\+\/]/g,"")},m=function(I){for(var V,M,Q,ue,de="",we=I.length%3,fe=0;fe<I.length;){if((M=I.charCodeAt(fe++))>255||(Q=I.charCodeAt(fe++))>255||(ue=I.charCodeAt(fe++))>255)throw new TypeError("invalid character found");de+=E[(V=M<<16|Q<<8|ue)>>18&63]+E[V>>12&63]+E[V>>6&63]+E[63&V]}return we?de.slice(0,we-3)+"===".substring(we):de},p="function"==typeof btoa?function(I){return btoa(I)}:h?function(I){return Buffer.from(I,"binary").toString("base64")}:m,d=h?function(I){return Buffer.from(I).toString("base64")}:function(I){for(var M=[],Q=0,ue=I.length;Q<ue;Q+=4096)M.push(n.apply(null,I.subarray(Q,Q+4096)));return p(M.join(""))},y=function(I,V){return void 0===V&&(V=!1),V?s(d(I)):d(I)},b=function(I){if(I.length<2)return(V=I.charCodeAt(0))<128?I:V<2048?n(192|V>>>6)+n(128|63&V):n(224|V>>>12&15)+n(128|V>>>6&63)+n(128|63&V);var V=65536+1024*(I.charCodeAt(0)-55296)+(I.charCodeAt(1)-56320);return n(240|V>>>18&7)+n(128|V>>>12&63)+n(128|V>>>6&63)+n(128|63&V)},g=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,x=function(I){return I.replace(g,b)},C=h?function(I){return Buffer.from(I,"utf8").toString("base64")}:A?function(I){return d(A.encode(I))}:function(I){return p(x(I))},B=function(I,V){return void 0===V&&(V=!1),V?s(C(I)):C(I)},F=function(I){return B(I,!0)},T=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,z=function(I){switch(I.length){case 4:var M=((7&I.charCodeAt(0))<<18|(63&I.charCodeAt(1))<<12|(63&I.charCodeAt(2))<<6|63&I.charCodeAt(3))-65536;return n(55296+(M>>>10))+n(56320+(1023&M));case 3:return n((15&I.charCodeAt(0))<<12|(63&I.charCodeAt(1))<<6|63&I.charCodeAt(2));default:return n((31&I.charCodeAt(0))<<6|63&I.charCodeAt(1))}},re=function(I){return I.replace(T,z)},ie=function(I){if(I=I.replace(/\s+/g,""),!u.test(I))throw new TypeError("malformed base64.");I+="==".slice(2-(3&I.length));for(var V,Q,ue,M="",de=0;de<I.length;)V=c[I.charAt(de++)]<<18|c[I.charAt(de++)]<<12|(Q=c[I.charAt(de++)])<<6|(ue=c[I.charAt(de++)]),M+=64===Q?n(V>>16&255):64===ue?n(V>>16&255,V>>8&255):n(V>>16&255,V>>8&255,255&V);return M},O="function"==typeof atob?function(I){return atob(a(I))}:h?function(I){return Buffer.from(I,"base64").toString("binary")}:ie,J=h?function(I){return l(Buffer.from(I,"base64"))}:function(I){return l(O(I).split("").map(function(V){return V.charCodeAt(0)}))},k=function(I){return J(W(I))},Z=h?function(I){return Buffer.from(I,"base64").toString("utf8")}:v?function(I){return v.decode(J(I))}:function(I){return re(O(I))},W=function(I){return a(I.replace(/[-_]/g,function(V){return"-"==V?"+":"/"}))},pe=function(I){return Z(W(I))},X=function(I){return{value:I,enumerable:!1,writable:!0,configurable:!0}},oe=function(){var I=function(V,M){return Object.defineProperty(String.prototype,V,X(M))};I("fromBase64",function(){return pe(this)}),I("toBase64",function(V){return B(this,V)}),I("toBase64URI",function(){return B(this,!0)}),I("toBase64URL",function(){return B(this,!0)}),I("toUint8Array",function(){return k(this)})},be=function(){var I=function(V,M){return Object.defineProperty(Uint8Array.prototype,V,X(M))};I("toBase64",function(V){return y(this,V)}),I("toBase64URI",function(){return y(this,!0)}),I("toBase64URL",function(){return y(this,!0)})},w={version:f,VERSION:i,atob:O,atobPolyfill:ie,btoa:p,btoaPolyfill:m,fromBase64:pe,toBase64:B,encode:B,encodeURI:F,encodeURL:F,utob:x,btou:re,decode:pe,isValid:function(I){if("string"!=typeof I)return!1;var V=I.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(V)||!/[^\s0-9a-zA-Z\-_]/.test(V)},fromUint8Array:y,toUint8Array:k,extendString:oe,extendUint8Array:be,extendBuiltins:function(){oe(),be()},Base64:{}};return Object.keys(w).forEach(function(I){return w.Base64[I]=w[I]}),w}()},88437:(Y,f,i)=>{"use strict";var h=i(58584),v=h.ValidatorResult,A=h.SchemaError,S={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},E=S.validators={};function c(a,m,p,d,y){var b=m.throwError,g=m.throwAll;m.throwError=!1,m.throwAll=!1;var x=this.validateSchema(a,y,m,p);return m.throwError=b,m.throwAll=g,!x.valid&&d instanceof Function&&d(x),x.valid}function u(a,m){if(Object.hasOwnProperty.call(a,m))return a[m];if(m in a)for(;a=Object.getPrototypeOf(a);)if(Object.propertyIsEnumerable.call(a,m))return a[m]}function n(a,m,p,d,y,b){if(this.types.object(a)&&(!m.properties||void 0===m.properties[y]))if(!1===m.additionalProperties)b.addError({name:"additionalProperties",argument:y,message:"is not allowed to have the additional property "+JSON.stringify(y)});else{var g=m.additionalProperties||{};"function"==typeof p.preValidateProperty&&p.preValidateProperty(a,y,g,p,d);var x=this.validateSchema(a[y],g,p,d.makeChild(g,y));x.instance!==b.instance[y]&&(b.instance[y]=x.instance),b.importErrors(x)}}E.type=function(m,p,d,y){if(void 0===m)return null;var b=new v(m,p,d,y),g=Array.isArray(p.type)?p.type:[p.type];if(!g.some(this.testType.bind(this,m,p,d,y))){var x=g.map(function(C){if(C){var B=C.$id||C.id;return B?"<"+B+">":C+""}});b.addError({name:"type",argument:x,message:"is not of a type(s) "+x})}return b},E.anyOf=function(m,p,d,y){if(void 0===m)return null;var b=new v(m,p,d,y),g=new v(m,p,d,y);if(!Array.isArray(p.anyOf))throw new A("anyOf must be an array");if(!p.anyOf.some(c.bind(this,m,d,y,function(C){g.importErrors(C)}))){var x=p.anyOf.map(function(C,B){var F=C.$id||C.id;return F?"<"+F+">":C.title&&JSON.stringify(C.title)||C.$ref&&"<"+C.$ref+">"||"[subschema "+B+"]"});d.nestedErrors&&b.importErrors(g),b.addError({name:"anyOf",argument:x,message:"is not any of "+x.join(",")})}return b},E.allOf=function(m,p,d,y){if(void 0===m)return null;if(!Array.isArray(p.allOf))throw new A("allOf must be an array");var b=new v(m,p,d,y),g=this;return p.allOf.forEach(function(x,C){var B=g.validateSchema(m,x,d,y);if(!B.valid){var T=x.$id||x.id||x.title&&JSON.stringify(x.title)||x.$ref&&"<"+x.$ref+">"||"[subschema "+C+"]";b.addError({name:"allOf",argument:{id:T,length:B.errors.length,valid:B},message:"does not match allOf schema "+T+" with "+B.errors.length+" error[s]:"}),b.importErrors(B)}}),b},E.oneOf=function(m,p,d,y){if(void 0===m)return null;if(!Array.isArray(p.oneOf))throw new A("oneOf must be an array");var b=new v(m,p,d,y),g=new v(m,p,d,y),x=p.oneOf.filter(c.bind(this,m,d,y,function(B){g.importErrors(B)})).length,C=p.oneOf.map(function(B,F){return B.$id||B.id||B.title&&JSON.stringify(B.title)||B.$ref&&"<"+B.$ref+">"||"[subschema "+F+"]"});return 1!==x&&(d.nestedErrors&&b.importErrors(g),b.addError({name:"oneOf",argument:C,message:"is not exactly one from "+C.join(",")})),b},E.if=function(m,p,d,y){if(void 0===m)return null;if(!h.isSchema(p.if))throw new Error('Expected "if" keyword to be a schema');var x,b=c.call(this,m,d,y,null,p.if),g=new v(m,p,d,y);if(b){if(void 0===p.then)return;if(!h.isSchema(p.then))throw new Error('Expected "then" keyword to be a schema');x=this.validateSchema(m,p.then,d,y.makeChild(p.then)),g.importErrors(x)}else{if(void 0===p.else)return;if(!h.isSchema(p.else))throw new Error('Expected "else" keyword to be a schema');x=this.validateSchema(m,p.else,d,y.makeChild(p.else)),g.importErrors(x)}return g},E.propertyNames=function(m,p,d,y){if(this.types.object(m)){var b=new v(m,p,d,y),g=void 0!==p.propertyNames?p.propertyNames:{};if(!h.isSchema(g))throw new A('Expected "propertyNames" to be a schema (object or boolean)');for(var x in m)if(void 0!==u(m,x)){var C=this.validateSchema(x,g,d,y.makeChild(g));b.importErrors(C)}return b}},E.properties=function(m,p,d,y){if(this.types.object(m)){var b=new v(m,p,d,y),g=p.properties||{};for(var x in g){var C=g[x];if(void 0!==C){if(null===C)throw new A('Unexpected null, expected schema in "properties"');"function"==typeof d.preValidateProperty&&d.preValidateProperty(m,x,C,d,y);var B=u(m,x),F=this.validateSchema(B,C,d,y.makeChild(C,x));F.instance!==b.instance[x]&&(b.instance[x]=F.instance),b.importErrors(F)}}return b}},E.patternProperties=function(m,p,d,y){if(this.types.object(m)){var b=new v(m,p,d,y),g=p.patternProperties||{};for(var x in m){var C=!0;for(var B in g){var F=g[B];if(void 0!==F){if(null===F)throw new A('Unexpected null, expected schema in "patternProperties"');try{var T=new RegExp(B,"u")}catch{T=new RegExp(B)}if(T.test(x)){C=!1,"function"==typeof d.preValidateProperty&&d.preValidateProperty(m,x,F,d,y);var z=this.validateSchema(m[x],F,d,y.makeChild(F,x));z.instance!==b.instance[x]&&(b.instance[x]=z.instance),b.importErrors(z)}}}C&&n.call(this,m,p,d,y,x,b)}return b}},E.additionalProperties=function(m,p,d,y){if(this.types.object(m)){if(p.patternProperties)return null;var b=new v(m,p,d,y);for(var g in m)n.call(this,m,p,d,y,g,b);return b}},E.minProperties=function(m,p,d,y){if(this.types.object(m)){var b=new v(m,p,d,y);return Object.keys(m).length>=p.minProperties||b.addError({name:"minProperties",argument:p.minProperties,message:"does not meet minimum property length of "+p.minProperties}),b}},E.maxProperties=function(m,p,d,y){if(this.types.object(m)){var b=new v(m,p,d,y);return Object.keys(m).length<=p.maxProperties||b.addError({name:"maxProperties",argument:p.maxProperties,message:"does not meet maximum property length of "+p.maxProperties}),b}},E.items=function(m,p,d,y){var b=this;if(this.types.array(m)&&void 0!==p.items){var g=new v(m,p,d,y);return m.every(function(x,C){if(Array.isArray(p.items))var B=void 0===p.items[C]?p.additionalItems:p.items[C];else B=p.items;if(void 0===B)return!0;if(!1===B)return g.addError({name:"items",message:"additionalItems not permitted"}),!1;var F=b.validateSchema(x,B,d,y.makeChild(B,C));return F.instance!==g.instance[C]&&(g.instance[C]=F.instance),g.importErrors(F),!0}),g}},E.contains=function(m,p,d,y){var b=this;if(this.types.array(m)&&void 0!==p.contains){if(!h.isSchema(p.contains))throw new Error('Expected "contains" keyword to be a schema');var g=new v(m,p,d,y);return!1===m.some(function(C,B){return 0===b.validateSchema(C,p.contains,d,y.makeChild(p.contains,B)).errors.length})&&g.addError({name:"contains",argument:p.contains,message:"must contain an item matching given schema"}),g}},E.minimum=function(m,p,d,y){if(this.types.number(m)){var b=new v(m,p,d,y);return p.exclusiveMinimum&&!0===p.exclusiveMinimum?m>p.minimum||b.addError({name:"minimum",argument:p.minimum,message:"must be greater than "+p.minimum}):m>=p.minimum||b.addError({name:"minimum",argument:p.minimum,message:"must be greater than or equal to "+p.minimum}),b}},E.maximum=function(m,p,d,y){if(this.types.number(m)){var b=new v(m,p,d,y);return p.exclusiveMaximum&&!0===p.exclusiveMaximum?m<p.maximum||b.addError({name:"maximum",argument:p.maximum,message:"must be less than "+p.maximum}):m<=p.maximum||b.addError({name:"maximum",argument:p.maximum,message:"must be less than or equal to "+p.maximum}),b}},E.exclusiveMinimum=function(m,p,d,y){if("boolean"!=typeof p.exclusiveMinimum&&this.types.number(m)){var b=new v(m,p,d,y);return m>p.exclusiveMinimum||b.addError({name:"exclusiveMinimum",argument:p.exclusiveMinimum,message:"must be strictly greater than "+p.exclusiveMinimum}),b}},E.exclusiveMaximum=function(m,p,d,y){if("boolean"!=typeof p.exclusiveMaximum&&this.types.number(m)){var b=new v(m,p,d,y);return m<p.exclusiveMaximum||b.addError({name:"exclusiveMaximum",argument:p.exclusiveMaximum,message:"must be strictly less than "+p.exclusiveMaximum}),b}};var l=function(m,p,d,y,b,g){if(this.types.number(m)){var x=p[b];if(0==x)throw new A(b+" cannot be zero");var C=new v(m,p,d,y),B=h.getDecimalPlaces(m),F=h.getDecimalPlaces(x),T=Math.max(B,F),z=Math.pow(10,T);return Math.round(m*z)%Math.round(x*z)!=0&&C.addError({name:b,argument:x,message:g+JSON.stringify(x)}),C}};function s(a,m,p){var d,y=p.length;for(d=m+1;d<y;d++)if(h.deepCompareStrict(a,p[d]))return!1;return!0}E.multipleOf=function(m,p,d,y){return l.call(this,m,p,d,y,"multipleOf","is not a multiple of (divisible by) ")},E.divisibleBy=function(m,p,d,y){return l.call(this,m,p,d,y,"divisibleBy","is not divisible by (multiple of) ")},E.required=function(m,p,d,y){var b=new v(m,p,d,y);return void 0===m&&!0===p.required?b.addError({name:"required",message:"is required"}):this.types.object(m)&&Array.isArray(p.required)&&p.required.forEach(function(g){void 0===u(m,g)&&b.addError({name:"required",argument:g,message:"requires property "+JSON.stringify(g)})}),b},E.pattern=function(m,p,d,y){if(this.types.string(m)){var b=new v(m,p,d,y),g=p.pattern;try{var x=new RegExp(g,"u")}catch{x=new RegExp(g)}return m.match(x)||b.addError({name:"pattern",argument:p.pattern,message:"does not match pattern "+JSON.stringify(p.pattern.toString())}),b}},E.format=function(m,p,d,y){if(void 0!==m){var b=new v(m,p,d,y);return!b.disableFormat&&!h.isFormat(m,p.format,this)&&b.addError({name:"format",argument:p.format,message:"does not conform to the "+JSON.stringify(p.format)+" format"}),b}},E.minLength=function(m,p,d,y){if(this.types.string(m)){var b=new v(m,p,d,y),g=m.match(/[\uDC00-\uDFFF]/g);return m.length-(g?g.length:0)>=p.minLength||b.addError({name:"minLength",argument:p.minLength,message:"does not meet minimum length of "+p.minLength}),b}},E.maxLength=function(m,p,d,y){if(this.types.string(m)){var b=new v(m,p,d,y),g=m.match(/[\uDC00-\uDFFF]/g);return m.length-(g?g.length:0)<=p.maxLength||b.addError({name:"maxLength",argument:p.maxLength,message:"does not meet maximum length of "+p.maxLength}),b}},E.minItems=function(m,p,d,y){if(this.types.array(m)){var b=new v(m,p,d,y);return m.length>=p.minItems||b.addError({name:"minItems",argument:p.minItems,message:"does not meet minimum length of "+p.minItems}),b}},E.maxItems=function(m,p,d,y){if(this.types.array(m)){var b=new v(m,p,d,y);return m.length<=p.maxItems||b.addError({name:"maxItems",argument:p.maxItems,message:"does not meet maximum length of "+p.maxItems}),b}},E.uniqueItems=function(m,p,d,y){if(!0===p.uniqueItems&&this.types.array(m)){var b=new v(m,p,d,y);return m.every(s)||b.addError({name:"uniqueItems",message:"contains duplicate item"}),b}},E.dependencies=function(m,p,d,y){if(this.types.object(m)){var b=new v(m,p,d,y);for(var g in p.dependencies)if(void 0!==m[g]){var x=p.dependencies[g],C=y.makeChild(x,g);if("string"==typeof x&&(x=[x]),Array.isArray(x))x.forEach(function(F){void 0===m[F]&&b.addError({name:"dependencies",argument:C.propertyPath,message:"property "+F+" not found, required by "+C.propertyPath})});else{var B=this.validateSchema(m,x,d,C);b.instance!==B.instance&&(b.instance=B.instance),B&&B.errors.length&&(b.addError({name:"dependencies",argument:C.propertyPath,message:"does not meet dependency required by "+C.propertyPath}),b.importErrors(B))}}return b}},E.enum=function(m,p,d,y){if(void 0===m)return null;if(!Array.isArray(p.enum))throw new A("enum expects an array",p);var b=new v(m,p,d,y);return p.enum.some(h.deepCompareStrict.bind(null,m))||b.addError({name:"enum",argument:p.enum,message:"is not one of enum values: "+p.enum.map(String).join(",")}),b},E.const=function(m,p,d,y){if(void 0===m)return null;var b=new v(m,p,d,y);return h.deepCompareStrict(p.const,m)||b.addError({name:"const",argument:p.const,message:"does not exactly match expected constant: "+p.const}),b},E.not=E.disallow=function(m,p,d,y){var b=this;if(void 0===m)return null;var g=new v(m,p,d,y),x=p.not||p.disallow;return x?(Array.isArray(x)||(x=[x]),x.forEach(function(C){if(b.testType(m,p,d,y,C)){var F=C&&(C.$id||C.id)||C;g.addError({name:"not",argument:F,message:"is of prohibited type "+F})}}),g):null},Y.exports=S},58584:(Y,f,i)=>{"use strict";var h=i(52797),v=f.ValidationError=function(b,g,x,C,B,F){Array.isArray(C)?(this.path=C,this.property=C.reduce(function(z,re){return z+l(re)},"instance")):void 0!==C&&(this.property=C),b&&(this.message=b),x&&(this.schema=x.$id||x.id||x),void 0!==g&&(this.instance=g),this.name=B,this.argument=F,this.stack=this.toString()};v.prototype.toString=function(){return this.property+" "+this.message};var A=f.ValidatorResult=function(b,g,x,C){this.instance=b,this.schema=g,this.options=x,this.path=C.path,this.propertyPath=C.propertyPath,this.errors=[],this.throwError=x&&x.throwError,this.throwFirst=x&&x.throwFirst,this.throwAll=x&&x.throwAll,this.disableFormat=x&&!0===x.disableFormat};function S(y,b){return b+": "+y.toString()+"\n"}function E(y){Error.captureStackTrace&&Error.captureStackTrace(this,E),this.instance=y.instance,this.schema=y.schema,this.options=y.options,this.errors=y.errors}A.prototype.addError=function(b){var g;if("string"==typeof b)g=new v(b,this.instance,this.schema,this.path);else{if(!b)throw new Error("Missing error detail");if(!b.message)throw new Error("Missing error message");if(!b.name)throw new Error("Missing validator type");g=new v(b.message,this.instance,this.schema,this.path,b.name,b.argument)}if(this.errors.push(g),this.throwFirst)throw new E(this);if(this.throwError)throw g;return g},A.prototype.importErrors=function(b){"string"==typeof b||b&&b.validatorType?this.addError(b):b&&b.errors&&(this.errors=this.errors.concat(b.errors))},A.prototype.toString=function(b){return this.errors.map(S).join("")},Object.defineProperty(A.prototype,"valid",{get:function(){return!this.errors.length}}),Y.exports.ValidatorResultError=E,(E.prototype=new Error).constructor=E,E.prototype.name="Validation Error";var c=f.SchemaError=function y(b,g){this.message=b,this.schema=g,Error.call(this,b),Error.captureStackTrace(this,y)};c.prototype=Object.create(Error.prototype,{constructor:{value:c,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var u=f.SchemaContext=function(b,g,x,C,B){this.schema=b,this.options=g,Array.isArray(x)?(this.path=x,this.propertyPath=x.reduce(function(F,T){return F+l(T)},"instance")):this.propertyPath=x,this.base=C,this.schemas=B};u.prototype.resolve=function(b){return h.resolve(this.base,b)},u.prototype.makeChild=function(b,g){var x=void 0===g?this.path:this.path.concat([g]),C=b.$id||b.id,B=h.resolve(this.base,C||""),F=new u(b,this.options,x,B,Object.create(this.schemas));return C&&!F.schemas[B]&&(F.schemas[B]=b),F};var n=f.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(y){return"string"==typeof y&&parseFloat(y)===parseInt(y,10)&&!isNaN(y)},regex:function(y){var b=!0;try{new RegExp(y)}catch{b=!1}return b},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};n.regexp=n.regex,n.pattern=n.regex,n.ipv4=n["ip-address"],f.isFormat=function(b,g,x){if("string"==typeof b&&void 0!==n[g]){if(n[g]instanceof RegExp)return n[g].test(b);if("function"==typeof n[g])return n[g](b)}else if(x&&x.customFormats&&"function"==typeof x.customFormats[g])return x.customFormats[g](b);return!0};var l=f.makeSuffix=function(b){return(b=b.toString()).match(/[.\s\[\]]/)||b.match(/^[\d]/)?b.match(/^\d+$/)?"["+b+"]":"["+JSON.stringify(b)+"]":"."+b};function s(y,b,g,x){"object"==typeof g?b[x]=p(y[x],g):-1===y.indexOf(g)&&b.push(g)}function a(y,b,g){b[g]=y[g]}function m(y,b,g,x){g[x]="object"==typeof b[x]&&b[x]&&y[x]?p(y[x],b[x]):b[x]}function p(y,b){var g=Array.isArray(b),x=g&&[]||{};return g?(x=x.concat(y=y||[]),b.forEach(s.bind(null,y,x))):(y&&"object"==typeof y&&Object.keys(y).forEach(a.bind(null,y,x)),Object.keys(b).forEach(m.bind(null,y,b,x))),x}function d(y){return"/"+encodeURIComponent(y).replace(/~/g,"%7E")}f.deepCompareStrict=function y(b,g){if(typeof b!=typeof g)return!1;if(Array.isArray(b))return!(!Array.isArray(g)||b.length!==g.length)&&b.every(function(B,F){return y(b[F],g[F])});if("object"==typeof b){if(!b||!g)return b===g;var x=Object.keys(b),C=Object.keys(g);return x.length===C.length&&x.every(function(B){return y(b[B],g[B])})}return b===g},Y.exports.deepMerge=p,f.objectGetPath=function(b,g){for(var C,x=g.split("/").slice(1);"string"==typeof(C=x.shift());){var B=decodeURIComponent(C.replace(/~0/,"~").replace(/~1/g,"/"));if(!(B in b))return;b=b[B]}return b},f.encodePath=function(b){return b.map(d).join("")},f.getDecimalPlaces=function(b){var g=0;if(isNaN(b))return g;"number"!=typeof b&&(b=Number(b));var x=b.toString().split("e");if(2===x.length){if("-"!==x[1][0])return g;g=Number(x[1].slice(1))}var C=x[0].split(".");return 2===C.length&&(g+=C[1].length),g},f.isSchema=function(b){return"object"==typeof b&&b||"boolean"==typeof b}},18813:(Y,f,i)=>{"use strict";Y.exports.Validator=i(36099);i(58584),i(58584),i(58584),i(58584),i(74176),i(74176)},74176:(Y,f,i)=>{"use strict";var v=i(52797),A=i(58584);function S(E,c){this.id=E,this.ref=c}Y.exports.S=function(c,u){function n(p,d){if(d&&"object"==typeof d){if(d.$ref){var y=v.resolve(p,d.$ref);return void(m[y]=m[y]?m[y]+1:0)}var b=d.$id||d.id,g=b?v.resolve(p,b):p;if(g){if(g.indexOf("#")<0&&(g+="#"),a[g]){if(!A.deepCompareStrict(a[g],d))throw new Error("Schema <"+g+"> already exists with different definition");return a[g]}a[g]=d,"#"==g[g.length-1]&&(a[g.substring(0,g.length-1)]=d)}l(g+"/items",Array.isArray(d.items)?d.items:[d.items]),l(g+"/extends",Array.isArray(d.extends)?d.extends:[d.extends]),n(g+"/additionalItems",d.additionalItems),s(g+"/properties",d.properties),n(g+"/additionalProperties",d.additionalProperties),s(g+"/definitions",d.definitions),s(g+"/patternProperties",d.patternProperties),s(g+"/dependencies",d.dependencies),l(g+"/disallow",d.disallow),l(g+"/allOf",d.allOf),l(g+"/anyOf",d.anyOf),l(g+"/oneOf",d.oneOf),n(g+"/not",d.not)}}function l(p,d){if(Array.isArray(d))for(var y=0;y<d.length;y++)n(p+"/"+y,d[y])}function s(p,d){if(d&&"object"==typeof d)for(var y in d)n(p+"/"+y,d[y])}var a={},m={};return n(c,u),new S(a,m)}},36099:(Y,f,i)=>{"use strict";var h=i(52797),v=i(88437),A=i(58584),S=i(74176).S,E=A.ValidatorResult,c=A.ValidatorResultError,u=A.SchemaError,n=A.SchemaContext,s=function p(){this.customFormats=Object.create(p.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(m),this.attributes=Object.create(v.validators)};function a(p){var d="string"==typeof p?p:p.$ref;return"string"==typeof d&&d}s.prototype.customFormats={},s.prototype.schemas=null,s.prototype.types=null,s.prototype.attributes=null,s.prototype.unresolvedRefs=null,s.prototype.addSchema=function(d,y){var b=this;if(!d)return null;var g=S(y||"/",d),x=y||d.$id||d.id;for(var C in g.id)this.schemas[C]=g.id[C];for(var C in g.ref)this.unresolvedRefs.push(C);return this.unresolvedRefs=this.unresolvedRefs.filter(function(B){return typeof b.schemas[B]>"u"}),this.schemas[x]},s.prototype.addSubSchemaArray=function(d,y){if(Array.isArray(y))for(var b=0;b<y.length;b++)this.addSubSchema(d,y[b])},s.prototype.addSubSchemaObject=function(d,y){if(y&&"object"==typeof y)for(var b in y)this.addSubSchema(d,y[b])},s.prototype.setSchemas=function(d){this.schemas=d},s.prototype.getSchema=function(d){return this.schemas[d]},s.prototype.validate=function(d,y,b,g){if("boolean"!=typeof y&&"object"!=typeof y||null===y)throw new u("Expected `schema` to be an object or boolean");b||(b={});var z,C=h.resolve(b.base||"/",y.$id||y.id||"");if(!g){(g=new n(y,b,[],C,Object.create(this.schemas))).schemas[C]||(g.schemas[C]=y);var B=S(C,y);for(var F in B.id)g.schemas[F]=B.id[F]}if(b.required&&void 0===d)return(z=new E(d,y,b,g)).addError("is required, but is undefined"),z;if(!(z=this.validateSchema(d,y,b,g)))throw new Error("Result undefined");if(b.throwAll&&z.errors.length)throw new c(z);return z},s.prototype.validateSchema=function(d,y,b,g){var x=new E(d,y,b,g);if("boolean"==typeof y)!0===y?y={}:!1===y&&(y={type:[]});else if(!y)throw new Error("schema is undefined");if(y.extends)if(Array.isArray(y.extends)){var C={schema:y,ctx:g};y.extends.forEach(this.schemaTraverser.bind(this,C)),y=C.schema,C.schema=null,C.ctx=null,C=null}else y=A.deepMerge(y,this.superResolve(y.extends,g));var B=a(y);if(B){var F=this.resolve(y,B,g),T=new n(F.subschema,b,g.path,F.switchSchema,g.schemas);return this.validateSchema(d,F.subschema,b,T)}var z=b&&b.skipAttributes||[];for(var re in y)if(!v.ignoreProperties[re]&&z.indexOf(re)<0){var ie=null,O=this.attributes[re];if(O)ie=O.call(this,d,y,b,g);else if(!1===b.allowUnknownAttributes)throw new u("Unsupported attribute: "+re,y);ie&&x.importErrors(ie)}if("function"==typeof b.rewrite){var J=b.rewrite.call(this,d,y,b,g);x.instance=J}return x},s.prototype.schemaTraverser=function(d,y){d.schema=A.deepMerge(d.schema,this.superResolve(y,d.ctx))},s.prototype.superResolve=function(d,y){var b=a(d);return b?this.resolve(d,b,y).subschema:d},s.prototype.resolve=function(d,y,b){if(y=b.resolve(y),b.schemas[y])return{subschema:b.schemas[y],switchSchema:y};var g=h.parse(y),x=g&&g.hash,C=x&&x.length&&y.substr(0,y.length-x.length);if(!C||!b.schemas[C])throw new u("no such schema <"+y+">",d);var B=A.objectGetPath(b.schemas[C],x.substr(1));if(void 0===B)throw new u("no such schema "+x+" located in <"+C+">",d);return{subschema:B,switchSchema:y}},s.prototype.testType=function(d,y,b,g,x){if(void 0!==x){if(null===x)throw new u('Unexpected null in "type" keyword');if("function"==typeof this.types[x])return this.types[x].call(this,d);if(x&&"object"==typeof x){var C=this.validateSchema(d,x,b,g);return void 0===C||!(C&&C.errors.length)}return!0}};var m=s.prototype.types={};m.string=function(d){return"string"==typeof d},m.number=function(d){return"number"==typeof d&&isFinite(d)},m.integer=function(d){return"number"==typeof d&&d%1==0},m.boolean=function(d){return"boolean"==typeof d},m.array=function(d){return Array.isArray(d)},m.null=function(d){return null===d},m.date=function(d){return d instanceof Date},m.any=function(d){return!0},m.object=function(d){return d&&"object"==typeof d&&!Array.isArray(d)&&!(d instanceof Date)},Y.exports=s},38350:(Y,f,i)=>{"use strict";function h(u){this.message=u}i.r(f),i.d(f,{InvalidTokenError:()=>S,default:()=>c}),(h.prototype=new Error).name="InvalidCharacterError";var v=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(u){var n=String(u).replace(/=+$/,"");if(n.length%4==1)throw new h("'atob' failed: The string to be decoded is not correctly encoded.");for(var l,s,a=0,m=0,p="";s=n.charAt(m++);~s&&(l=a%4?64*l+s:s,a++%4)?p+=String.fromCharCode(255&l>>(-2*a&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return p};function S(u){this.message=u}(S.prototype=new Error).name="InvalidTokenError";const c=function E(u,n){if("string"!=typeof u)throw new S("Invalid token specified");var l=!0===(n=n||{}).header?0:1;try{return JSON.parse(function A(u){var n=u.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(v(n).replace(/(.)/g,function(s,a){var m=a.charCodeAt(0).toString(16).toUpperCase();return m.length<2&&(m="0"+m),"%"+m}))}catch{return v(n)}}(u.split(".")[l]))}catch(s){throw new S("Invalid token specified: "+s.message)}}},89150:(Y,f,i)=>{var h="function"==typeof Map&&Map.prototype,v=Object.getOwnPropertyDescriptor&&h?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,A=h&&v&&"function"==typeof v.get?v.get:null,S=h&&Map.prototype.forEach,E="function"==typeof Set&&Set.prototype,c=Object.getOwnPropertyDescriptor&&E?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=E&&c&&"function"==typeof c.get?c.get:null,n=E&&Set.prototype.forEach,s="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,m="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,y=Boolean.prototype.valueOf,b=Object.prototype.toString,g=Function.prototype.toString,x=String.prototype.match,C=String.prototype.slice,B=String.prototype.replace,F=String.prototype.toUpperCase,T=String.prototype.toLowerCase,z=RegExp.prototype.test,re=Array.prototype.concat,ie=Array.prototype.join,O=Array.prototype.slice,J=Math.floor,k="function"==typeof BigInt?BigInt.prototype.valueOf:null,Z=Object.getOwnPropertySymbols,W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,pe="function"==typeof Symbol&&"object"==typeof Symbol.iterator,R="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,X=Object.prototype.propertyIsEnumerable,oe=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Fe){return Fe.__proto__}:null);function be(Fe,Be){if(Fe===1/0||Fe===-1/0||Fe!=Fe||Fe&&Fe>-1e3&&Fe<1e3||z.call(/e/,Be))return Be;var st=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof Fe){var dt=Fe<0?-J(-Fe):J(Fe);if(dt!==Fe){var et=String(dt),pt=C.call(Be,et.length+1);return B.call(et,st,"$&_")+"."+B.call(B.call(pt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return B.call(Be,st,"$&_")}var Ie=i(42634),w=Ie.custom,I=Pe(w)?w:null;function V(Fe,Be,st){var dt="double"===(st.quoteStyle||Be)?'"':"'";return dt+Fe+dt}function M(Fe){return B.call(String(Fe),/"/g,"&quot;")}function Q(Fe){return!("[object Array]"!==ye(Fe)||R&&"object"==typeof Fe&&R in Fe)}function de(Fe){return!("[object RegExp]"!==ye(Fe)||R&&"object"==typeof Fe&&R in Fe)}function Pe(Fe){if(pe)return Fe&&"object"==typeof Fe&&Fe instanceof Symbol;if("symbol"==typeof Fe)return!0;if(!Fe||"object"!=typeof Fe||!W)return!1;try{return W.call(Fe),!0}catch{}return!1}Y.exports=function Fe(Be,st,dt,et){var pt=st||{};if(ve(pt,"quoteStyle")&&"single"!==pt.quoteStyle&&"double"!==pt.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ve(pt,"maxStringLength")&&("number"==typeof pt.maxStringLength?pt.maxStringLength<0&&pt.maxStringLength!==1/0:null!==pt.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Tt=!ve(pt,"customInspect")||pt.customInspect;if("boolean"!=typeof Tt&&"symbol"!==Tt)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ve(pt,"indent")&&null!==pt.indent&&"\t"!==pt.indent&&!(parseInt(pt.indent,10)===pt.indent&&pt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ve(pt,"numericSeparator")&&"boolean"!=typeof pt.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Bt=pt.numericSeparator;if(typeof Be>"u")return"undefined";if(null===Be)return"null";if("boolean"==typeof Be)return Be?"true":"false";if("string"==typeof Be)return We(Be,pt);if("number"==typeof Be){if(0===Be)return 1/0/Be>0?"0":"-0";var wt=String(Be);return Bt?be(Be,wt):wt}if("bigint"==typeof Be){var It=String(Be)+"n";return Bt?be(Be,It):It}var ar=typeof pt.depth>"u"?5:pt.depth;if(typeof dt>"u"&&(dt=0),dt>=ar&&ar>0&&"object"==typeof Be)return Q(Be)?"[Array]":"[Object]";var L=function Ee(Fe,Be){var st;if("\t"===Fe.indent)st="\t";else{if(!("number"==typeof Fe.indent&&Fe.indent>0))return null;st=ie.call(Array(Fe.indent+1)," ")}return{base:st,prev:ie.call(Array(Be+1),st)}}(pt,dt);if(typeof et>"u")et=[];else if(je(et,Be)>=0)return"[Circular]";function ae(Jt,Tr,nr){if(Tr&&(et=O.call(et)).push(Tr),nr){var Vr={depth:pt.depth};return ve(pt,"quoteStyle")&&(Vr.quoteStyle=pt.quoteStyle),Fe(Jt,Vr,dt+1,et)}return Fe(Jt,pt,dt+1,et)}if("function"==typeof Be&&!de(Be)){var ne=function De(Fe){if(Fe.name)return Fe.name;var Be=x.call(g.call(Fe),/^function\s*([\w$]+)/);return Be?Be[1]:null}(Be),ce=Te(Be,ae);return"[Function"+(ne?": "+ne:" (anonymous)")+"]"+(ce.length>0?" { "+ie.call(ce,", ")+" }":"")}if(Pe(Be)){var Se=pe?B.call(String(Be),/^(Symbol\(.*\))_[^)]*$/,"$1"):W.call(Be);return"object"!=typeof Be||pe?Se:ee(Se)}if(function ze(Fe){return!(!Fe||"object"!=typeof Fe)&&(typeof HTMLElement<"u"&&Fe instanceof HTMLElement||"string"==typeof Fe.nodeName&&"function"==typeof Fe.getAttribute)}(Be)){for(var Ve="<"+T.call(String(Be.nodeName)),Je=Be.attributes||[],Ze=0;Ze<Je.length;Ze++)Ve+=" "+Je[Ze].name+"="+V(M(Je[Ze].value),"double",pt);return Ve+=">",Be.childNodes&&Be.childNodes.length&&(Ve+="..."),Ve+"</"+T.call(String(Be.nodeName))+">"}if(Q(Be)){if(0===Be.length)return"[]";var ut=Te(Be,ae);return L&&!function G(Fe){for(var Be=0;Be<Fe.length;Be++)if(je(Fe[Be],"\n")>=0)return!1;return!0}(ut)?"["+Ce(ut,L)+"]":"[ "+ie.call(ut,", ")+" ]"}if(function we(Fe){return!("[object Error]"!==ye(Fe)||R&&"object"==typeof Fe&&R in Fe)}(Be)){var bt=Te(Be,ae);return"cause"in Error.prototype||!("cause"in Be)||X.call(Be,"cause")?0===bt.length?"["+String(Be)+"]":"{ ["+String(Be)+"] "+ie.call(bt,", ")+" }":"{ ["+String(Be)+"] "+ie.call(re.call("[cause]: "+ae(Be.cause),bt),", ")+" }"}if("object"==typeof Be&&Tt){if(I&&"function"==typeof Be[I]&&Ie)return Ie(Be,{depth:ar-dt});if("symbol"!==Tt&&"function"==typeof Be.inspect)return Be.inspect()}if(function xe(Fe){if(!A||!Fe||"object"!=typeof Fe)return!1;try{A.call(Fe);try{u.call(Fe)}catch{return!0}return Fe instanceof Map}catch{}return!1}(Be)){var Ct=[];return S&&S.call(Be,function(Jt,Tr){Ct.push(ae(Tr,Be,!0)+" => "+ae(Jt,Be))}),P("Map",A.call(Be),Ct,L)}if(function Re(Fe){if(!u||!Fe||"object"!=typeof Fe)return!1;try{u.call(Fe);try{A.call(Fe)}catch{return!0}return Fe instanceof Set}catch{}return!1}(Be)){var tr=[];return n&&n.call(Be,function(Jt){tr.push(ae(Jt,Be))}),P("Set",u.call(Be),tr,L)}if(function $e(Fe){if(!s||!Fe||"object"!=typeof Fe)return!1;try{s.call(Fe,s);try{m.call(Fe,m)}catch{return!0}return Fe instanceof WeakMap}catch{}return!1}(Be))return N("WeakMap");if(function Xe(Fe){if(!m||!Fe||"object"!=typeof Fe)return!1;try{m.call(Fe,m);try{s.call(Fe,s)}catch{return!0}return Fe instanceof WeakSet}catch{}return!1}(Be))return N("WeakSet");if(function Ue(Fe){if(!d||!Fe||"object"!=typeof Fe)return!1;try{return d.call(Fe),!0}catch{}return!1}(Be))return N("WeakRef");if(function _e(Fe){return!("[object Number]"!==ye(Fe)||R&&"object"==typeof Fe&&R in Fe)}(Be))return ee(ae(Number(Be)));if(function Oe(Fe){if(!Fe||"object"!=typeof Fe||!k)return!1;try{return k.call(Fe),!0}catch{}return!1}(Be))return ee(ae(k.call(Be)));if(function He(Fe){return!("[object Boolean]"!==ye(Fe)||R&&"object"==typeof Fe&&R in Fe)}(Be))return ee(y.call(Be));if(function fe(Fe){return!("[object String]"!==ye(Fe)||R&&"object"==typeof Fe&&R in Fe)}(Be))return ee(ae(String(Be)));if(typeof window<"u"&&Be===window)return"{ [object Window] }";if(Be===globalThis)return"{ [object globalThis] }";if(!function ue(Fe){return!("[object Date]"!==ye(Fe)||R&&"object"==typeof Fe&&R in Fe)}(Be)&&!de(Be)){var Pt=Te(Be,ae),Br=oe?oe(Be)===Object.prototype:Be instanceof Object||Be.constructor===Object,$t=Be instanceof Object?"":"null prototype",Kt=!Br&&R&&Object(Be)===Be&&R in Be?C.call(ye(Be),8,-1):$t?"Object":"",rr=(Br||"function"!=typeof Be.constructor?"":Be.constructor.name?Be.constructor.name+" ":"")+(Kt||$t?"["+ie.call(re.call([],Kt||[],$t||[]),": ")+"] ":"");return 0===Pt.length?rr+"{}":L?rr+"{"+Ce(Pt,L)+"}":rr+"{ "+ie.call(Pt,", ")+" }"}return String(Be)};var he=Object.prototype.hasOwnProperty||function(Fe){return Fe in this};function ve(Fe,Be){return he.call(Fe,Be)}function ye(Fe){return b.call(Fe)}function je(Fe,Be){if(Fe.indexOf)return Fe.indexOf(Be);for(var st=0,dt=Fe.length;st<dt;st++)if(Fe[st]===Be)return st;return-1}function We(Fe,Be){if(Fe.length>Be.maxStringLength){var st=Fe.length-Be.maxStringLength,dt="... "+st+" more character"+(st>1?"s":"");return We(C.call(Fe,0,Be.maxStringLength),Be)+dt}return V(B.call(B.call(Fe,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,it),"single",Be)}function it(Fe){var Be=Fe.charCodeAt(0),st={8:"b",9:"t",10:"n",12:"f",13:"r"}[Be];return st?"\\"+st:"\\x"+(Be<16?"0":"")+F.call(Be.toString(16))}function ee(Fe){return"Object("+Fe+")"}function N(Fe){return Fe+" { ? }"}function P(Fe,Be,st,dt){return Fe+" ("+Be+") {"+(dt?Ce(st,dt):ie.call(st,", "))+"}"}function Ce(Fe,Be){if(0===Fe.length)return"";var st="\n"+Be.prev+Be.base;return st+ie.call(Fe,","+st)+"\n"+Be.prev}function Te(Fe,Be){var st=Q(Fe),dt=[];if(st){dt.length=Fe.length;for(var et=0;et<Fe.length;et++)dt[et]=ve(Fe,et)?Be(Fe[et],Fe):""}var Tt,pt="function"==typeof Z?Z(Fe):[];if(pe){Tt={};for(var Bt=0;Bt<pt.length;Bt++)Tt["$"+pt[Bt]]=pt[Bt]}for(var wt in Fe)ve(Fe,wt)&&(st&&String(Number(wt))===wt&&wt<Fe.length||pe&&Tt["$"+wt]instanceof Symbol||(z.call(/[^\w$]/,wt)?dt.push(Be(wt,Fe)+": "+Be(Fe[wt],Fe)):dt.push(wt+": "+Be(Fe[wt],Fe))));if("function"==typeof Z)for(var It=0;It<pt.length;It++)X.call(Fe,pt[It])&&dt.push("["+Be(pt[It])+"]: "+Be(Fe[pt[It]],Fe));return dt}},50366:(Y,f,i)=>{"use strict";var h;if(!Object.keys){var v=Object.prototype.hasOwnProperty,A=Object.prototype.toString,S=i(21050),E=Object.prototype.propertyIsEnumerable,c=!E.call({toString:null},"toString"),u=E.call(function(){},"prototype"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(p){var d=p.constructor;return d&&d.prototype===p},s={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if(typeof window>"u")return!1;for(var p in window)try{if(!s["$"+p]&&v.call(window,p)&&null!==window[p]&&"object"==typeof window[p])try{l(window[p])}catch{return!0}}catch{return!0}return!1}();h=function(d){var y=null!==d&&"object"==typeof d,b="[object Function]"===A.call(d),g=S(d),x=y&&"[object String]"===A.call(d),C=[];if(!y&&!b&&!g)throw new TypeError("Object.keys called on a non-object");var B=u&&b;if(x&&d.length>0&&!v.call(d,0))for(var F=0;F<d.length;++F)C.push(String(F));if(g&&d.length>0)for(var T=0;T<d.length;++T)C.push(String(T));else for(var z in d)(!B||"prototype"!==z)&&v.call(d,z)&&C.push(String(z));if(c)for(var re=function(p){if(typeof window>"u"||!a)return l(p);try{return l(p)}catch{return!1}}(d),ie=0;ie<n.length;++ie)(!re||"constructor"!==n[ie])&&v.call(d,n[ie])&&C.push(n[ie]);return C}}Y.exports=h},44934:(Y,f,i)=>{"use strict";var h=Array.prototype.slice,v=i(21050),A=Object.keys,S=A?function(u){return A(u)}:i(50366),E=Object.keys;S.shim=function(){if(Object.keys){var u=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);u||(Object.keys=function(l){return v(l)?E(h.call(l)):E(l)})}else Object.keys=S;return Object.keys||S},Y.exports=S},21050:Y=>{"use strict";var f=Object.prototype.toString;Y.exports=function(h){var v=f.call(h),A="[object Arguments]"===v;return A||(A="[object Array]"!==v&&null!==h&&"object"==typeof h&&"number"==typeof h.length&&h.length>=0&&"[object Function]"===f.call(h.callee)),A}},62364:(Y,f,i)=>{"use strict";var h=i(56469),v=i(46758),A=Object;Y.exports=h(function(){if(null==this||this!==A(this))throw new v("RegExp.prototype.flags getter called on non-object");var E="";return this.hasIndices&&(E+="d"),this.global&&(E+="g"),this.ignoreCase&&(E+="i"),this.multiline&&(E+="m"),this.dotAll&&(E+="s"),this.unicode&&(E+="u"),this.unicodeSets&&(E+="v"),this.sticky&&(E+="y"),E},"get flags",!0)},55864:(Y,f,i)=>{"use strict";var h=i(947),v=i(48128),A=i(62364),S=i(35209),E=i(88871),c=v(S());h(c,{getPolyfill:S,implementation:A,shim:E}),Y.exports=c},35209:(Y,f,i)=>{"use strict";var h=i(62364),v=i(947).supportsDescriptors,A=Object.getOwnPropertyDescriptor;Y.exports=function(){if(v&&"gim"===/a/gim.flags){var E=A(RegExp.prototype,"flags");if(E&&"function"==typeof E.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var c="",u={};if(Object.defineProperty(u,"hasIndices",{get:function(){c+="d"}}),Object.defineProperty(u,"sticky",{get:function(){c+="y"}}),"dy"===c)return E.get}}return h}},88871:(Y,f,i)=>{"use strict";var h=i(947).supportsDescriptors,v=i(35209),A=Object.getOwnPropertyDescriptor,S=Object.defineProperty,E=TypeError,c=Object.getPrototypeOf,u=/a/;Y.exports=function(){if(!h||!c)throw new E("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var l=v(),s=c(u),a=A(s,"flags");return(!a||a.get!==l)&&S(s,"flags",{configurable:!0,enumerable:!1,get:l}),l}},5202:(Y,f,i)=>{"use strict";var h=i(23020),v=i(53290),A=h("RegExp.prototype.exec"),S=i(46758);Y.exports=function(c){if(!v(c))throw new S("`regex` must be a RegExp");return function(n){return null!==A(c,n)}}},31358:(Y,f,i)=>{"use strict";var h=i(90258),v=i(92736),A=i(35861)(),S=i(83798),E=i(46758),c=h("%Math.floor%");Y.exports=function(n,l){if("function"!=typeof n)throw new E("`fn` is not a function");if("number"!=typeof l||l<0||l>4294967295||c(l)!==l)throw new E("`length` must be a positive 32-bit integer");var s=arguments.length>2&&!!arguments[2],a=!0,m=!0;if("length"in n&&S){var p=S(n,"length");p&&!p.configurable&&(a=!1),p&&!p.writable&&(m=!1)}return(a||m||!s)&&(A?v(n,"length",l,!0,!0):v(n,"length",l)),n}},56469:(Y,f,i)=>{"use strict";var h=i(92736),v=i(35861)(),A=i(64003).functionsHaveConfigurableNames(),S=i(46758);Y.exports=function(c,u){if("function"!=typeof c)throw new S("`fn` is not a function");return(!(arguments.length>2&&arguments[2])||A)&&(v?h(c,"name",u,!0,!0):h(c,"name",u)),c}},3541:(Y,f,i)=>{"use strict";var h=i(90258),v=i(23020),A=i(89150),S=i(46758),E=h("%WeakMap%",!0),c=h("%Map%",!0),u=v("WeakMap.prototype.get",!0),n=v("WeakMap.prototype.set",!0),l=v("WeakMap.prototype.has",!0),s=v("Map.prototype.get",!0),a=v("Map.prototype.set",!0),m=v("Map.prototype.has",!0),p=function(g,x){for(var B,C=g;null!==(B=C.next);C=B)if(B.key===x)return C.next=B.next,B.next=g.next,g.next=B,B};Y.exports=function(){var x,C,B,F={assert:function(T){if(!F.has(T))throw new S("Side channel does not contain "+A(T))},get:function(T){if(E&&T&&("object"==typeof T||"function"==typeof T)){if(x)return u(x,T)}else if(c){if(C)return s(C,T)}else if(B)return function(g,x){var C=p(g,x);return C&&C.value}(B,T)},has:function(T){if(E&&T&&("object"==typeof T||"function"==typeof T)){if(x)return l(x,T)}else if(c){if(C)return m(C,T)}else if(B)return function(g,x){return!!p(g,x)}(B,T);return!1},set:function(T,z){E&&T&&("object"==typeof T||"function"==typeof T)?(x||(x=new E),n(x,T,z)):c?(C||(C=new c),a(C,T,z)):(B||(B={key:{},next:null}),function(g,x,C){var B=p(g,x);B?B.value=C:g.next={key:x,next:g.next,value:C}}(B,T,z))}};return F}},18911:(Y,f,i)=>{var h=i(46096).cM;Y.exports=function(v,A){A||(A={});var S={},E=function c(u,n){if("Literal"===u.type)return u.value;if("UnaryExpression"===u.type){var l=c(u.argument);return"+"===u.operator?+l:"-"===u.operator?-l:"~"===u.operator?~l:"!"===u.operator?!l:S}if("ArrayExpression"===u.type){for(var s=[],a=0,m=u.elements.length;a<m;a++){if((p=c(u.elements[a]))===S)return S;s.push(p)}return s}if("ObjectExpression"===u.type){var d={};for(a=0;a<u.properties.length;a++){var b=null===(y=u.properties[a]).value?y.value:c(y.value);if(b===S)return S;d[y.key.value||y.key.name]=b}return d}if("BinaryExpression"===u.type||"LogicalExpression"===u.type){if((m=c(u.left))===S)return S;var g=c(u.right);if(g===S)return S;var x=u.operator;return"=="===x?m==g:"==="===x?m===g:"!="===x?m!=g:"!=="===x?m!==g:"+"===x?m+g:"-"===x?m-g:"*"===x?m*g:"/"===x?m/g:"%"===x?m%g:"<"===x?m<g:"<="===x?m<=g:">"===x?m>g:">="===x?m>=g:"|"===x?m|g:"&"===x?m&g:"^"===x?m^g:"&&"===x?m&&g:"||"===x?m||g:S}if("Identifier"===u.type)return{}.hasOwnProperty.call(A,u.name)?A[u.name]:S;if("ThisExpression"===u.type)return{}.hasOwnProperty.call(A,"this")?A.this:S;if("CallExpression"===u.type){var C=c(u.callee);if(C===S||"function"!=typeof C)return S;var B=u.callee.object?c(u.callee.object):S;B===S&&(B=null);var F=[];for(a=0,m=u.arguments.length;a<m;a++){var p;if((p=c(u.arguments[a]))===S)return S;F.push(p)}return C.apply(B,F)}var y;if("MemberExpression"===u.type)return(d=c(u.object))===S||"function"==typeof d?S:"Identifier"===u.property.type?d[u.property.name]:(y=c(u.property))===S?S:d[y];if("ConditionalExpression"===u.type)return(l=c(u.test))===S?S:c(l?u.consequent:u.alternate);if("ExpressionStatement"===u.type)return(l=c(u.expression))===S?S:l;if("ReturnStatement"===u.type)return c(u.argument);if("FunctionExpression"===u.type){var T=u.body.body,z={};for(Object.keys(A).forEach(function(R){z[R]=A[R]}),a=0;a<u.params.length;a++){var re=u.params[a];if("Identifier"!=re.type)return S;A[re.name]=null}for(var a in T)if(c(T[a])===S)return S;A=z;var ie=Object.keys(A),O=ie.map(function(R){return A[R]});return Function(ie.join(", "),"return "+h(u)).apply(null,O)}if("TemplateLiteral"===u.type){var J="";for(a=0;a<u.expressions.length;a++)J+=c(u.quasis[a]),J+=c(u.expressions[a]);return J+c(u.quasis[a])}if("TaggedTemplateExpression"===u.type){var k=c(u.tag),Z=u.quasi,W=Z.quasis.map(c),pe=Z.expressions.map(c);return k.apply(null,[W].concat(pe))}return"TemplateElement"===u.type?u.value.cooked:S}(v);return E===S?void 0:E}},20571:(Y,f,i)=>{"use strict";var h=i(98683),v=i(48527),A=i(33602),S=i(84706),E=i(88535),c=i(34813),u=i(23020),n=i(19900)(),l=i(55864),s=i(90258),a=i(46758),m=s("%RegExp%"),p=u("String.prototype.indexOf"),d=i(73995),y=function(g){var x=d();if(n&&"symbol"==typeof Symbol.matchAll){var C=A(g,Symbol.matchAll);return C===m.prototype[Symbol.matchAll]&&C!==x?x:C}if(S(g))return x};Y.exports=function(g){var x=c(this);if(typeof g<"u"&&null!==g){if(S(g)){var B="flags"in g?v(g,"flags"):l(g);if(c(B),p(E(B),"g")<0)throw new a("matchAll requires a global regular expression")}var F=y(g);if(typeof F<"u")return h(F,g,[x])}var T=E(x),z=new m(g,"g");return h(y(z),z,[T])}},72373:(Y,f,i)=>{"use strict";var h=i(48128),v=i(947),A=i(20571),S=i(40082),E=i(928),c=h(A);v(c,{getPolyfill:S,implementation:A,shim:E}),Y.exports=c},73995:(Y,f,i)=>{"use strict";var h=i(19900)(),v=i(88153);Y.exports=function(){return h&&"symbol"==typeof Symbol.matchAll&&"function"==typeof RegExp.prototype[Symbol.matchAll]?RegExp.prototype[Symbol.matchAll]:v}},40082:(Y,f,i)=>{"use strict";var h=i(20571);Y.exports=function(){if(String.prototype.matchAll)try{"".matchAll(RegExp.prototype)}catch{return String.prototype.matchAll}return h}},88153:(Y,f,i)=>{"use strict";var h=i(87045),v=i(48527),A=i(72459),S=i(50149),E=i(51382),c=i(88535),u=i(80035),n=i(55864),l=i(56469),s=i(23020),a=i(90258),m=i(46758),p=s("String.prototype.indexOf"),d=a("%RegExp%"),y="flags"in d.prototype,g=l(function(C){var B=this;if("Object"!==u(B))throw new m('"this" value must be an Object');var F=c(C),z=function(C,B){var T="flags"in B?v(B,"flags"):c(n(B));return{flags:T,matcher:new C(y&&"string"==typeof T?B:C===d?B.source:B,T)}}(S(B,d),B),re=z.flags,ie=z.matcher,O=E(v(B,"lastIndex"));A(ie,"lastIndex",O,!0);var J=p(re,"g")>-1,k=p(re,"u")>-1;return h(ie,F,J,k)},"[Symbol.matchAll]",!0);Y.exports=g},928:(Y,f,i)=>{"use strict";var h=i(947),v=i(19900)(),A=i(83798),S=i(40082),E=i(73995),c=Object.defineProperty;Y.exports=function(){var n=S();if(h(String.prototype,{matchAll:n},{matchAll:function(){return String.prototype.matchAll!==n}}),v){var l=Symbol.matchAll||(Symbol.for?Symbol.for("Symbol.matchAll"):Symbol("Symbol.matchAll"));if(h(Symbol,{matchAll:l},{matchAll:function(){return Symbol.matchAll!==l}}),c&&A){var s=A(Symbol,l);(!s||s.configurable)&&c(Symbol,l,{configurable:!1,enumerable:!1,value:l,writable:!1})}var a=E(),m={};m[l]=a;var p={};p[l]=function(){return RegExp.prototype[l]!==a},h(RegExp.prototype,m,p)}return n}},90343:(Y,f,i)=>{"use strict";var h=i(34813),v=i(88535),S=i(23020)("String.prototype.replace"),E=/^\s$/.test("\u180e"),c=E?/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/:/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,u=E?/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/:/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;Y.exports=function(){var l=v(h(this));return S(S(l,c,""),u,"")}},36913:(Y,f,i)=>{"use strict";var h=i(48128),v=i(947),A=i(34813),S=i(90343),E=i(12054),c=i(98452),u=h(E()),n=function(s){return A(s),u(s)};v(n,{getPolyfill:E,implementation:S,shim:c}),Y.exports=n},12054:(Y,f,i)=>{"use strict";var h=i(90343);Y.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()&&"\u180e"==="\u180e".trim()&&"_\u180e"==="_\u180e".trim()&&"\u180e_"==="\u180e_".trim()?String.prototype.trim:h}},98452:(Y,f,i)=>{"use strict";var h=i(947),v=i(12054);Y.exports=function(){var S=v();return h(String.prototype,{trim:S},{trim:function(){return String.prototype.trim!==S}}),S}},52797:()=>{},42634:()=>{},99014:(Y,f,i)=>{"use strict";var h=i(32431),v=i(34174),A=i(74985),S=i(46758);Y.exports=function(c,u,n){if("string"!=typeof c)throw new S("Assertion failed: `S` must be a String");if(!v(u)||u<0||u>A)throw new S("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if("boolean"!=typeof n)throw new S("Assertion failed: `unicode` must be a Boolean");return n?u+1>=c.length?u+1:u+h(c,u)["[[CodeUnitCount]]"]:u+1}},98683:(Y,f,i)=>{"use strict";var h=i(90258),v=i(23020),A=i(46758),S=i(22802),E=h("%Reflect.apply%",!0)||v("Function.prototype.apply");Y.exports=function(u,n){var l=arguments.length>2?arguments[2]:[];if(!S(l))throw new A("Assertion failed: optional `argumentsList`, if provided, must be a List");return E(u,n,l)}},32431:(Y,f,i)=>{"use strict";var h=i(46758),v=i(23020),A=i(32270),S=i(24034),E=i(15225),c=v("String.prototype.charAt"),u=v("String.prototype.charCodeAt");Y.exports=function(l,s){if("string"!=typeof l)throw new h("Assertion failed: `string` must be a String");var a=l.length;if(s<0||s>=a)throw new h("Assertion failed: `position` must be >= 0, and < the length of `string`");var m=u(l,s),p=c(l,s),d=A(m),y=S(m);if(!d&&!y)return{"[[CodePoint]]":p,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(y||s+1===a)return{"[[CodePoint]]":p,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var b=u(l,s+1);return S(b)?{"[[CodePoint]]":E(m,b),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":p,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}},50363:(Y,f,i)=>{"use strict";var h=i(46758);Y.exports=function(A,S){if("boolean"!=typeof S)throw new h("Assertion failed: Type(done) is not Boolean");return{value:A,done:S}}},87045:(Y,f,i)=>{"use strict";var h=i(90258),v=i(19900)(),A=i(46758),S=h("%IteratorPrototype%",!0),E=i(99014),c=i(50363),u=i(29624),n=i(48527),l=i(56042),s=i(59127),a=i(72459),m=i(51382),p=i(88535),d=i(80035),y=i(53720),b=i(65240),g=function(F,T,z,re){if("string"!=typeof T)throw new A("`S` must be a string");if("boolean"!=typeof z)throw new A("`global` must be a boolean");if("boolean"!=typeof re)throw new A("`fullUnicode` must be a boolean");y.set(this,"[[IteratingRegExp]]",F),y.set(this,"[[IteratedString]]",T),y.set(this,"[[Global]]",z),y.set(this,"[[Unicode]]",re),y.set(this,"[[Done]]",!1)};S&&(g.prototype=l(S)),u(g.prototype,"next",function(){var F=this;if("Object"!==d(F))throw new A("receiver must be an object");if(!(F instanceof g&&y.has(F,"[[IteratingRegExp]]")&&y.has(F,"[[IteratedString]]")&&y.has(F,"[[Global]]")&&y.has(F,"[[Unicode]]")&&y.has(F,"[[Done]]")))throw new A('"this" value must be a RegExpStringIterator instance');if(y.get(F,"[[Done]]"))return c(void 0,!0);var T=y.get(F,"[[IteratingRegExp]]"),z=y.get(F,"[[IteratedString]]"),re=y.get(F,"[[Global]]"),ie=y.get(F,"[[Unicode]]"),O=s(T,z);if(null===O)return y.set(F,"[[Done]]",!0),c(void 0,!0);if(re){if(""===p(n(O,"0"))){var k=m(n(T,"lastIndex")),Z=E(z,k,ie);a(T,"lastIndex",Z,!0)}return c(O,!1)}return y.set(F,"[[Done]]",!0),c(O,!1)},!1),v&&(b(g.prototype,"RegExp String Iterator"),Symbol.iterator&&"function"!=typeof g.prototype[Symbol.iterator])&&u(g.prototype,Symbol.iterator,function(){return this},!1),Y.exports=function(F,T,z,re){return new g(F,T,z,re)}},29624:(Y,f,i)=>{"use strict";var h=i(46758),v=i(90662),A=i(42626),S=i(1203),E=i(80035);Y.exports=function(u,n,l,s){if("Object"!==E(u))throw new h("Assertion failed: `homeObject` is not an Object");if(!S(n))throw new h("Assertion failed: `key` is not a Property Key or a Private Name");if("function"!=typeof l)throw new h("Assertion failed: `closure` is not a function");if("boolean"!=typeof s)throw new h("Assertion failed: `enumerable` is not a Boolean");if(!A(u))throw new h("Assertion failed: `homeObject` is not an ordinary, extensible object, with no non-configurable properties");v(u,n,{"[[Value]]":l,"[[Writable]]":!0,"[[Enumerable]]":s,"[[Configurable]]":!0})}},90662:(Y,f,i)=>{"use strict";var h=i(46758),v=i(70492),A=i(81396),S=i(72183),E=i(11414),c=i(1203),u=i(86440),n=i(46018),l=i(80035);Y.exports=function(a,m,p){if("Object"!==l(a))throw new h("Assertion failed: Type(O) is not Object");if(!c(m))throw new h("Assertion failed: IsPropertyKey(P) is not true");var d=v(p)?p:n(p);if(!v(d))throw new h("Assertion failed: Desc is not a valid Property Descriptor");return A(E,u,S,a,m,d)}},72183:(Y,f,i)=>{"use strict";var h=i(46758),v=i(70492),A=i(4938);Y.exports=function(E){if(typeof E<"u"&&!v(E))throw new h("Assertion failed: `Desc` must be a Property Descriptor");return A(E)}},48527:(Y,f,i)=>{"use strict";var h=i(46758),v=i(89150),A=i(1203),S=i(80035);Y.exports=function(c,u){if("Object"!==S(c))throw new h("Assertion failed: Type(O) is not Object");if(!A(u))throw new h("Assertion failed: IsPropertyKey(P) is not true, got "+v(u));return c[u]}},33602:(Y,f,i)=>{"use strict";var h=i(46758),v=i(80213),A=i(35867),S=i(1203),E=i(89150);Y.exports=function(u,n){if(!S(n))throw new h("Assertion failed: IsPropertyKey(P) is not true");var l=v(u,n);if(null!=l){if(!A(l))throw new h(E(n)+" is not a function: "+E(l));return l}}},80213:(Y,f,i)=>{"use strict";var h=i(46758),v=i(89150),A=i(1203);Y.exports=function(E,c){if(!A(c))throw new h("Assertion failed: IsPropertyKey(P) is not true, got "+v(c));return E[c]}},22802:(Y,f,i)=>{"use strict";Y.exports=i(31153)},35867:(Y,f,i)=>{"use strict";Y.exports=i(58239)},13711:(Y,f,i)=>{"use strict";var v=i(29539)("%Reflect.construct%",!0),A=i(90662);try{A({},"",{"[[Get]]":function(){}})}catch{A=null}if(A&&v){var S={},E={};A(E,"length",{"[[Get]]":function(){throw S},"[[Enumerable]]":!0}),Y.exports=function(u){try{v(u,E)}catch(n){return n===S}}}else Y.exports=function(u){return"function"==typeof u&&!!u.prototype}},11414:(Y,f,i)=>{"use strict";var h=i(46758),v=i(78368),A=i(70492);Y.exports=function(E){if(typeof E>"u")return!1;if(!A(E))throw new h("Assertion failed: `Desc` must be a Property Descriptor");return!(!v(E,"[[Value]]")&&!v(E,"[[Writable]]"))}},42626:(Y,f,i)=>{"use strict";var h=i(90258),v=h("%Object.preventExtensions%",!0),A=h("%Object.isExtensible%",!0),S=i(32081);Y.exports=v?function(c){return!S(c)&&A(c)}:function(c){return!S(c)}},1203:Y=>{"use strict";Y.exports=function(i){return"string"==typeof i||"symbol"==typeof i}},84706:(Y,f,i)=>{"use strict";var v=i(90258)("%Symbol.match%",!0),A=i(53290),S=i(12788);Y.exports=function(c){if(!c||"object"!=typeof c)return!1;if(v){var u=c[v];if(typeof u<"u")return S(u)}return A(c)}},56042:(Y,f,i)=>{"use strict";var v=i(90258)("%Object.create%",!0),A=i(46758),S=i(58413),E=i(22802),c=i(80035),u=i(54810),n=i(53720),l=i(62119)();Y.exports=function(a){if(null!==a&&"Object"!==c(a))throw new A("Assertion failed: `proto` must be null or an object");var p,m=arguments.length<2?[]:arguments[1];if(!E(m))throw new A("Assertion failed: `additionalInternalSlotsList` must be an Array");if(v)p=v(a);else if(l)p={__proto__:a};else{if(null===a)throw new S("native Object.create support is required to create null objects");var d=function(){};d.prototype=a,p=new d}return m.length>0&&u(m,function(y){n.set(p,y,void 0)}),p}},59127:(Y,f,i)=>{"use strict";var h=i(46758),v=i(23020)("RegExp.prototype.exec"),A=i(98683),S=i(48527),E=i(35867),c=i(80035);Y.exports=function(n,l){if("Object"!==c(n))throw new h("Assertion failed: `R` must be an Object");if("string"!=typeof l)throw new h("Assertion failed: `S` must be a String");var s=S(n,"exec");if(E(s)){var a=A(s,n,[l]);if("object"==typeof a)return a;throw new h('"exec" method must return `null` or an Object')}return v(n,l)}},86440:(Y,f,i)=>{"use strict";var h=i(91661);Y.exports=function(A,S){return A===S?0!==A||1/A==1/S:h(A)&&h(S)}},72459:(Y,f,i)=>{"use strict";var h=i(46758),v=i(1203),A=i(86440),S=i(80035),E=function(){try{return delete[].length,!0}catch{return!1}}();Y.exports=function(u,n,l,s){if("Object"!==S(u))throw new h("Assertion failed: `O` must be an Object");if(!v(n))throw new h("Assertion failed: `P` must be a Property Key");if("boolean"!=typeof s)throw new h("Assertion failed: `Throw` must be a Boolean");if(s){if(u[n]=l,E&&!A(u[n],l))throw new h("Attempted to assign to readonly property.");return!0}try{return u[n]=l,!E||A(u[n],l)}catch{return!1}}},50149:(Y,f,i)=>{"use strict";var v=i(90258)("%Symbol.species%",!0),A=i(46758),S=i(13711),E=i(80035);Y.exports=function(u,n){if("Object"!==E(u))throw new A("Assertion failed: Type(O) is not Object");var l=u.constructor;if(typeof l>"u")return n;if("Object"!==E(l))throw new A("O.constructor is not an Object");var s=v?l[v]:void 0;if(null==s)return n;if(S(s))return s;throw new A("no constructor found")}},6465:(Y,f,i)=>{"use strict";var h=i(90258),v=h("%Number%"),A=h("%RegExp%"),S=i(46758),E=h("%parseInt%"),c=i(23020),u=i(5202),n=c("String.prototype.slice"),l=u(/^0b[01]+$/i),s=u(/^0o[0-7]+$/i),a=u(/^[-+]0x[0-9a-f]+$/i),d=u(new A("["+["\x85","\u200b","\ufffe"].join("")+"]","g")),y=i(36913);Y.exports=function b(g){if("string"!=typeof g)throw new S("Assertion failed: `argument` is not a String");if(l(g))return v(E(n(g,2),2));if(s(g))return v(E(n(g,2),8));if(d(g)||a(g))return NaN;var x=y(g);return x!==g?b(x):v(g)}},12788:Y=>{"use strict";Y.exports=function(i){return!!i}},39463:(Y,f,i)=>{"use strict";var h=i(81255),v=i(39737),A=i(91661),S=i(84217);Y.exports=function(c){var u=h(c);return A(u)||0===u?0:S(u)?v(u):u}},51382:(Y,f,i)=>{"use strict";var h=i(74985),v=i(39463);Y.exports=function(S){var E=v(S);return E<=0?0:E>h?h:E}},81255:(Y,f,i)=>{"use strict";var h=i(90258),v=i(46758),A=h("%Number%"),S=i(32081),E=i(56801),c=i(6465);Y.exports=function(n){var l=S(n)?n:E(n,A);if("symbol"==typeof l)throw new v("Cannot convert a Symbol value to a number");if("bigint"==typeof l)throw new v("Conversion from 'BigInt' to 'number' is not allowed.");return"string"==typeof l?c(l):A(l)}},56801:(Y,f,i)=>{"use strict";var h=i(31232);Y.exports=function(A){return arguments.length>1?h(A,arguments[1]):h(A)}},46018:(Y,f,i)=>{"use strict";var h=i(78368),v=i(46758),A=i(80035),S=i(12788),E=i(35867);Y.exports=function(u){if("Object"!==A(u))throw new v("ToPropertyDescriptor requires an object");var n={};if(h(u,"enumerable")&&(n["[[Enumerable]]"]=S(u.enumerable)),h(u,"configurable")&&(n["[[Configurable]]"]=S(u.configurable)),h(u,"value")&&(n["[[Value]]"]=u.value),h(u,"writable")&&(n["[[Writable]]"]=S(u.writable)),h(u,"get")){var l=u.get;if(typeof l<"u"&&!E(l))throw new v("getter must be a function");n["[[Get]]"]=l}if(h(u,"set")){var s=u.set;if(typeof s<"u"&&!E(s))throw new v("setter must be a function");n["[[Set]]"]=s}if((h(n,"[[Get]]")||h(n,"[[Set]]"))&&(h(n,"[[Value]]")||h(n,"[[Writable]]")))throw new v("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return n}},88535:(Y,f,i)=>{"use strict";var v=i(90258)("%String%"),A=i(46758);Y.exports=function(E){if("symbol"==typeof E)throw new A("Cannot convert a Symbol value to a string");return v(E)}},80035:(Y,f,i)=>{"use strict";var h=i(72408);Y.exports=function(A){return"symbol"==typeof A?"Symbol":"bigint"==typeof A?"BigInt":h(A)}},15225:(Y,f,i)=>{"use strict";var h=i(90258),v=i(46758),A=h("%String.fromCharCode%"),S=i(32270),E=i(24034);Y.exports=function(u,n){if(!S(u)||!E(n))throw new v("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return A(u)+A(n)}},12045:Y=>{"use strict";var f=Math.floor;Y.exports=function(h){return"bigint"==typeof h?h:f(h)}},39737:(Y,f,i)=>{"use strict";var h=i(12045),v=i(46758);Y.exports=function(S){if("number"!=typeof S&&"bigint"!=typeof S)throw new v("argument must be a Number or a BigInt");var E=S<0?-h(-S):h(S);return 0===E?0:E}},72408:Y=>{"use strict";Y.exports=function(i){return null===i?"Null":typeof i>"u"?"Undefined":"function"==typeof i||"object"==typeof i?"Object":"number"==typeof i?"Number":"boolean"==typeof i?"Boolean":"string"==typeof i?"String":void 0}},29539:(Y,f,i)=>{"use strict";Y.exports=i(90258)},81396:(Y,f,i)=>{"use strict";var h=i(35861),v=i(4570),A=h.hasArrayLengthDefineBug(),S=A&&i(31153),c=i(23020)("Object.prototype.propertyIsEnumerable");Y.exports=function(n,l,s,a,m,p){if(!v){if(!n(p)||!p["[[Configurable]]"]||!p["[[Writable]]"]||m in a&&c(a,m)!==!!p["[[Enumerable]]"])return!1;var d=p["[[Value]]"];return a[m]=d,l(a[m],d)}return A&&"length"===m&&"[[Value]]"in p&&S(a)&&a.length!==p["[[Value]]"]?(a.length=p["[[Value]]"],a.length===p["[[Value]]"]):(v(a,m,s(p)),!0)}},31153:(Y,f,i)=>{"use strict";var v=i(90258)("%Array%"),A=!v.isArray&&i(23020)("Object.prototype.toString");Y.exports=v.isArray||function(E){return"[object Array]"===A(E)}},54810:Y=>{"use strict";Y.exports=function(i,h){for(var v=0;v<i.length;v+=1)h(i[v],v,i)}},4938:Y=>{"use strict";Y.exports=function(i){if(typeof i>"u")return i;var h={};return"[[Value]]"in i&&(h.value=i["[[Value]]"]),"[[Writable]]"in i&&(h.writable=!!i["[[Writable]]"]),"[[Get]]"in i&&(h.get=i["[[Get]]"]),"[[Set]]"in i&&(h.set=i["[[Set]]"]),"[[Enumerable]]"in i&&(h.enumerable=!!i["[[Enumerable]]"]),"[[Configurable]]"in i&&(h.configurable=!!i["[[Configurable]]"]),h}},84217:(Y,f,i)=>{"use strict";var h=i(91661);Y.exports=function(v){return("number"==typeof v||"bigint"==typeof v)&&!h(v)&&v!==1/0&&v!==-1/0}},34174:(Y,f,i)=>{"use strict";var h=i(90258),v=h("%Math.abs%"),A=h("%Math.floor%"),S=i(91661),E=i(84217);Y.exports=function(u){if("number"!=typeof u||S(u)||!E(u))return!1;var n=v(u);return A(n)===n}},32270:Y=>{"use strict";Y.exports=function(i){return"number"==typeof i&&i>=55296&&i<=56319}},91661:Y=>{"use strict";Y.exports=Number.isNaN||function(i){return i!=i}},32081:Y=>{"use strict";Y.exports=function(i){return null===i||"function"!=typeof i&&"object"!=typeof i}},24034:Y=>{"use strict";Y.exports=function(i){return"number"==typeof i&&i>=56320&&i<=57343}},74985:Y=>{"use strict";Y.exports=Number.MAX_SAFE_INTEGER||9007199254740991},70492:(Y,f,i)=>{"use strict";var h=i(46758),v=i(78368),A={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};Y.exports=function(E){if(!E||"object"!=typeof E)return!1;for(var c in E)if(v(E,c)&&!A[c])return!1;var u=v(E,"[[Value]]")||v(E,"[[Writable]]"),n=v(E,"[[Get]]")||v(E,"[[Set]]");if(u&&n)throw new h("Property Descriptors may not be both accessor and data descriptors");return!0}},75324:(Y,f,i)=>{"use strict";i.r(f),i.d(f,{compare:()=>y,concat:()=>C,equals:()=>B,fromString:()=>j,toString:()=>H,xor:()=>le});var h={};i.r(h),i.d(h,{identity:()=>de});var v={};i.r(v),i.d(v,{base2:()=>we});var A={};i.r(A),i.d(A,{base8:()=>fe});var S={};i.r(S),i.d(S,{base10:()=>_e});var E={};i.r(E),i.d(E,{base16:()=>He,base16upper:()=>Pe});var c={};i.r(c),i.d(c,{base32:()=>Oe,base32hex:()=>De,base32hexpad:()=>xe,base32hexpadupper:()=>$e,base32hexupper:()=>je,base32pad:()=>ve,base32padupper:()=>ye,base32upper:()=>he,base32z:()=>Ue});var u={};i.r(u),i.d(u,{base36:()=>Re,base36upper:()=>Xe});var n={};i.r(n),i.d(n,{base58btc:()=>ze,base58flickr:()=>We});var l={};i.r(l),i.d(l,{base64:()=>it,base64pad:()=>ee,base64url:()=>N,base64urlpad:()=>P});var s={};i.r(s),i.d(s,{base256emoji:()=>Be});var a={};i.r(a),i.d(a,{sha256:()=>an,sha512:()=>Lt});var m={};i.r(m),i.d(m,{identity:()=>Xn});var p={};i.r(p),i.d(p,{code:()=>vn,decode:()=>Yn,encode:()=>kn,name:()=>or});var d={};function y(te,se){for(let ge=0;ge<te.byteLength;ge++){if(te[ge]<se[ge])return-1;if(te[ge]>se[ge])return 1}return te.byteLength>se.byteLength?1:te.byteLength<se.byteLength?-1:0}function b(te){return null!=globalThis.Buffer?new Uint8Array(te.buffer,te.byteOffset,te.byteLength):te}function x(te=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?b(globalThis.Buffer.allocUnsafe(te)):new Uint8Array(te)}function C(te,se){se||(se=te.reduce((Le,qe)=>Le+qe.length,0));const ge=x(se);let ke=0;for(const Le of te)ge.set(Le,ke),ke+=Le.length;return b(ge)}function B(te,se){if(te===se)return!0;if(te.byteLength!==se.byteLength)return!1;for(let ge=0;ge<te.byteLength;ge++)if(te[ge]!==se[ge])return!1;return!0}i.r(d),i.d(d,{code:()=>Vi,decode:()=>vs,encode:()=>qn,name:()=>bn});const Z=(new Uint8Array(0),te=>{if(te instanceof Uint8Array&&"Uint8Array"===te.constructor.name)return te;if(te instanceof ArrayBuffer)return new Uint8Array(te);if(ArrayBuffer.isView(te))return new Uint8Array(te.buffer,te.byteOffset,te.byteLength);throw new Error("Unknown type, must be binary type")});class X{constructor(se,ge,ke){this.name=se,this.prefix=ge,this.baseEncode=ke}encode(se){if(se instanceof Uint8Array)return`${this.prefix}${this.baseEncode(se)}`;throw Error("Unknown type, must be binary type")}}class oe{constructor(se,ge,ke){if(this.name=se,this.prefix=ge,void 0===ge.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=ge.codePointAt(0),this.baseDecode=ke}decode(se){if("string"==typeof se){if(se.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(se)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(se.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(se){return Ie(this,se)}}class be{constructor(se){this.decoders=se}or(se){return Ie(this,se)}decode(se){const ke=this.decoders[se[0]];if(ke)return ke.decode(se);throw RangeError(`Unable to decode multibase string ${JSON.stringify(se)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ie=(te,se)=>new be({...te.decoders||{[te.prefix]:te},...se.decoders||{[se.prefix]:se}});class w{constructor(se,ge,ke,Le){this.name=se,this.prefix=ge,this.baseEncode=ke,this.baseDecode=Le,this.encoder=new X(se,ge,ke),this.decoder=new oe(se,ge,Le)}encode(se){return this.encoder.encode(se)}decode(se){return this.decoder.decode(se)}}const I=({name:te,prefix:se,encode:ge,decode:ke})=>new w(te,se,ge,ke),V=({prefix:te,name:se,alphabet:ge})=>{const{encode:ke,decode:Le}=function F(te,se){if(te.length>=255)throw new TypeError("Alphabet too long");for(var ge=new Uint8Array(256),ke=0;ke<ge.length;ke++)ge[ke]=255;for(var Le=0;Le<te.length;Le++){var qe=te.charAt(Le),ft=qe.charCodeAt(0);if(255!==ge[ft])throw new TypeError(qe+" is ambiguous");ge[ft]=Le}var St=te.length,Et=te.charAt(0),at=Math.log(St)/Math.log(256),Zt=Math.log(256)/Math.log(St);function Nn(jt){if("string"!=typeof jt)throw new TypeError("Expected String");if(0===jt.length)return new Uint8Array;var Xt=0;if(" "!==jt[Xt]){for(var Zr=0,fr=0;jt[Xt]===Et;)Zr++,Xt++;for(var pr=(jt.length-Xt)*at+1>>>0,ur=new Uint8Array(pr);jt[Xt];){var lr=ge[jt.charCodeAt(Xt)];if(255===lr)return;for(var vr=0,jr=pr-1;(0!==lr||vr<fr)&&-1!==jr;jr--,vr++)ur[jr]=(lr+=St*ur[jr]>>>0)%256>>>0,lr=lr/256>>>0;if(0!==lr)throw new Error("Non-zero carry");fr=vr,Xt++}if(" "!==jt[Xt]){for(var hr=pr-fr;hr!==pr&&0===ur[hr];)hr++;for(var Fr=new Uint8Array(Zr+(pr-hr)),Mn=Zr;hr!==pr;)Fr[Mn++]=ur[hr++];return Fr}}}return{encode:function Gr(jt){if(jt instanceof Uint8Array||(ArrayBuffer.isView(jt)?jt=new Uint8Array(jt.buffer,jt.byteOffset,jt.byteLength):Array.isArray(jt)&&(jt=Uint8Array.from(jt))),!(jt instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===jt.length)return"";for(var Xt=0,Zr=0,fr=0,pr=jt.length;fr!==pr&&0===jt[fr];)fr++,Xt++;for(var ur=(pr-fr)*Zt+1>>>0,lr=new Uint8Array(ur);fr!==pr;){for(var vr=jt[fr],jr=0,hr=ur-1;(0!==vr||jr<Zr)&&-1!==hr;hr--,jr++)lr[hr]=(vr+=256*lr[hr]>>>0)%St>>>0,vr=vr/St>>>0;if(0!==vr)throw new Error("Non-zero carry");Zr=jr,fr++}for(var Fr=ur-Zr;Fr!==ur&&0===lr[Fr];)Fr++;for(var Mn=Et.repeat(Xt);Fr<ur;++Fr)Mn+=te.charAt(lr[Fr]);return Mn},decodeUnsafe:Nn,decode:function Es(jt){var Xt=Nn(jt);if(Xt)return Xt;throw new Error(`Non-${se} character`)}}}(ge,se);return I({prefix:te,name:se,encode:ke,decode:qe=>Z(Le(qe))})},ue=({name:te,prefix:se,bitsPerChar:ge,alphabet:ke})=>I({prefix:se,name:te,encode:Le=>((te,se,ge)=>{const ke="="===se[se.length-1],Le=(1<<ge)-1;let qe="",ft=0,St=0;for(let Et=0;Et<te.length;++Et)for(St=St<<8|te[Et],ft+=8;ft>ge;)ft-=ge,qe+=se[Le&St>>ft];if(ft&&(qe+=se[Le&St<<ge-ft]),ke)for(;qe.length*ge&7;)qe+="=";return qe})(Le,ke,ge),decode:Le=>((te,se,ge,ke)=>{const Le={};for(let Zt=0;Zt<se.length;++Zt)Le[se[Zt]]=Zt;let qe=te.length;for(;"="===te[qe-1];)--qe;const ft=new Uint8Array(qe*ge/8|0);let St=0,Et=0,at=0;for(let Zt=0;Zt<qe;++Zt){const Gr=Le[te[Zt]];if(void 0===Gr)throw new SyntaxError(`Non-${ke} character`);Et=Et<<ge|Gr,St+=ge,St>=8&&(St-=8,ft[at++]=255&Et>>St)}if(St>=ge||255&Et<<8-St)throw new SyntaxError("Unexpected end of data");return ft})(Le,ke,ge,te)}),de=I({prefix:"\0",name:"identity",encode:te=>(te=>(new TextDecoder).decode(te))(te),decode:te=>(te=>(new TextEncoder).encode(te))(te)}),we=ue({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),fe=ue({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),_e=V({prefix:"9",name:"base10",alphabet:"0123456789"}),He=ue({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Pe=ue({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Oe=ue({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),he=ue({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ve=ue({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ye=ue({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),De=ue({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),je=ue({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),xe=ue({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$e=ue({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ue=ue({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Re=V({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Xe=V({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),ze=V({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),We=V({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),it=ue({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ee=ue({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),N=ue({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),P=ue({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),G=Array.from("\u{1f680}\u{1fa90}\u2604\u{1f6f0}\u{1f30c}\u{1f311}\u{1f312}\u{1f313}\u{1f314}\u{1f315}\u{1f316}\u{1f317}\u{1f318}\u{1f30d}\u{1f30f}\u{1f30e}\u{1f409}\u2600\u{1f4bb}\u{1f5a5}\u{1f4be}\u{1f4bf}\u{1f602}\u2764\u{1f60d}\u{1f923}\u{1f60a}\u{1f64f}\u{1f495}\u{1f62d}\u{1f618}\u{1f44d}\u{1f605}\u{1f44f}\u{1f601}\u{1f525}\u{1f970}\u{1f494}\u{1f496}\u{1f499}\u{1f622}\u{1f914}\u{1f606}\u{1f644}\u{1f4aa}\u{1f609}\u263a\u{1f44c}\u{1f917}\u{1f49c}\u{1f614}\u{1f60e}\u{1f607}\u{1f339}\u{1f926}\u{1f389}\u{1f49e}\u270c\u2728\u{1f937}\u{1f631}\u{1f60c}\u{1f338}\u{1f64c}\u{1f60b}\u{1f497}\u{1f49a}\u{1f60f}\u{1f49b}\u{1f642}\u{1f493}\u{1f929}\u{1f604}\u{1f600}\u{1f5a4}\u{1f603}\u{1f4af}\u{1f648}\u{1f447}\u{1f3b6}\u{1f612}\u{1f92d}\u2763\u{1f61c}\u{1f48b}\u{1f440}\u{1f62a}\u{1f611}\u{1f4a5}\u{1f64b}\u{1f61e}\u{1f629}\u{1f621}\u{1f92a}\u{1f44a}\u{1f973}\u{1f625}\u{1f924}\u{1f449}\u{1f483}\u{1f633}\u270b\u{1f61a}\u{1f61d}\u{1f634}\u{1f31f}\u{1f62c}\u{1f643}\u{1f340}\u{1f337}\u{1f63b}\u{1f613}\u2b50\u2705\u{1f97a}\u{1f308}\u{1f608}\u{1f918}\u{1f4a6}\u2714\u{1f623}\u{1f3c3}\u{1f490}\u2639\u{1f38a}\u{1f498}\u{1f620}\u261d\u{1f615}\u{1f33a}\u{1f382}\u{1f33b}\u{1f610}\u{1f595}\u{1f49d}\u{1f64a}\u{1f639}\u{1f5e3}\u{1f4ab}\u{1f480}\u{1f451}\u{1f3b5}\u{1f91e}\u{1f61b}\u{1f534}\u{1f624}\u{1f33c}\u{1f62b}\u26bd\u{1f919}\u2615\u{1f3c6}\u{1f92b}\u{1f448}\u{1f62e}\u{1f646}\u{1f37b}\u{1f343}\u{1f436}\u{1f481}\u{1f632}\u{1f33f}\u{1f9e1}\u{1f381}\u26a1\u{1f31e}\u{1f388}\u274c\u270a\u{1f44b}\u{1f630}\u{1f928}\u{1f636}\u{1f91d}\u{1f6b6}\u{1f4b0}\u{1f353}\u{1f4a2}\u{1f91f}\u{1f641}\u{1f6a8}\u{1f4a8}\u{1f92c}\u2708\u{1f380}\u{1f37a}\u{1f913}\u{1f619}\u{1f49f}\u{1f331}\u{1f616}\u{1f476}\u{1f974}\u25b6\u27a1\u2753\u{1f48e}\u{1f4b8}\u2b07\u{1f628}\u{1f31a}\u{1f98b}\u{1f637}\u{1f57a}\u26a0\u{1f645}\u{1f61f}\u{1f635}\u{1f44e}\u{1f932}\u{1f920}\u{1f927}\u{1f4cc}\u{1f535}\u{1f485}\u{1f9d0}\u{1f43e}\u{1f352}\u{1f617}\u{1f911}\u{1f30a}\u{1f92f}\u{1f437}\u260e\u{1f4a7}\u{1f62f}\u{1f486}\u{1f446}\u{1f3a4}\u{1f647}\u{1f351}\u2744\u{1f334}\u{1f4a3}\u{1f438}\u{1f48c}\u{1f4cd}\u{1f940}\u{1f922}\u{1f445}\u{1f4a1}\u{1f4a9}\u{1f450}\u{1f4f8}\u{1f47b}\u{1f910}\u{1f92e}\u{1f3bc}\u{1f975}\u{1f6a9}\u{1f34e}\u{1f34a}\u{1f47c}\u{1f48d}\u{1f4e3}\u{1f942}"),Ee=G.reduce((te,se,ge)=>(te[ge]=se,te),[]),Ce=G.reduce((te,se,ge)=>(te[se.codePointAt(0)]=ge,te),[]),Be=I({prefix:"\u{1f680}",name:"base256emoji",encode:function Te(te){return te.reduce((se,ge)=>se+Ee[ge],"")},decode:function Fe(te){const se=[];for(const ge of te){const ke=Ce[ge.codePointAt(0)];if(void 0===ke)throw new Error(`Non-base256emoji character: ${ge}`);se.push(ke)}return new Uint8Array(se)}});var st=i(10467),et=128,Tt=-128,Bt=Math.pow(2,31),ne=Math.pow(2,7),ce=Math.pow(2,14),Se=Math.pow(2,21),Ve=Math.pow(2,28),Je=Math.pow(2,35),Ze=Math.pow(2,42),ut=Math.pow(2,49),bt=Math.pow(2,56),Ct=Math.pow(2,63);const $t_encode=function wt(te,se,ge){se=se||[];for(var ke=ge=ge||0;te>=Bt;)se[ge++]=255&te|et,te/=128;for(;te&Tt;)se[ge++]=255&te|et,te>>>=7;return se[ge]=0|te,wt.bytes=ge-ke+1,se},$t_encodingLength=function(te){return te<ne?1:te<ce?2:te<Se?3:te<Ve?4:te<Je?5:te<Ze?6:te<ut?7:te<bt?8:te<Ct?9:10},Ur=(te,se,ge=0)=>($t_encode(te,se,ge),se),rr=te=>$t_encodingLength(te),Jt=(te,se)=>{const ge=se.byteLength,ke=rr(te),Le=ke+rr(ge),qe=new Uint8Array(Le+ge);return Ur(te,qe,0),Ur(ge,qe,ke),qe.set(se,Le),new Vr(te,ge,se,qe)};class Vr{constructor(se,ge,ke,Le){this.code=se,this.size=ge,this.digest=ke,this.bytes=Le}}const Ir=({name:te,code:se,encode:ge})=>new Kr(te,se,ge);class Kr{constructor(se,ge,ke){this.name=se,this.code=ge,this.encode=ke}digest(se){if(se instanceof Uint8Array){const ge=this.encode(se);return ge instanceof Uint8Array?Jt(this.code,ge):ge.then(ke=>Jt(this.code,ke))}throw Error("Unknown type, must be binary type")}}const gn=te=>function(){var se=(0,st.A)(function*(ge){return new Uint8Array(yield crypto.subtle.digest(te,ge))});return function(ge){return se.apply(this,arguments)}}(),an=Ir({name:"sha2-256",code:18,encode:gn("SHA-256")}),Lt=Ir({name:"sha2-512",code:19,encode:gn("SHA-512")}),ht=Z,Xn={code:0,name:"identity",encode:ht,digest:te=>Jt(0,ht(te))},or="raw",vn=85,kn=te=>Z(te),Yn=te=>Z(te),Ui=new TextEncoder,zr=new TextDecoder,bn="json",Vi=512,qn=te=>Ui.encode(JSON.stringify(te)),vs=te=>JSON.parse(zr.decode(te));Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");const En={...h,...v,...A,...S,...E,...c,...u,...n,...l,...s};function ti(te,se,ge,ke){return{name:te,prefix:se,encoder:{name:te,prefix:se,encode:ge},decoder:{decode:ke}}}const ri=ti("utf8","u",te=>"u"+new TextDecoder("utf8").decode(te),te=>(new TextEncoder).encode(te.substring(1))),Pr=ti("ascii","a",te=>{let se="a";for(let ge=0;ge<te.length;ge++)se+=String.fromCharCode(te[ge]);return se},te=>{const se=x((te=te.substring(1)).length);for(let ge=0;ge<te.length;ge++)se[ge]=te.charCodeAt(ge);return se}),Sn={utf8:ri,"utf-8":ri,hex:En.base16,latin1:Pr,ascii:Pr,binary:Pr,...En};function j(te,se="utf8"){const ge=Sn[se];if(!ge)throw new Error(`Unsupported encoding "${se}"`);return"utf8"!==se&&"utf-8"!==se||null==globalThis.Buffer||null==globalThis.Buffer.from?ge.decoder.decode(`${ge.prefix}${te}`):b(globalThis.Buffer.from(te,"utf-8"))}function H(te,se="utf8"){const ge=Sn[se];if(!ge)throw new Error(`Unsupported encoding "${se}"`);return"utf8"!==se&&"utf-8"!==se||null==globalThis.Buffer||null==globalThis.Buffer.from?ge.encoder.encode(te).substring(1):globalThis.Buffer.from(te.buffer,te.byteOffset,te.byteLength).toString("utf8")}function le(te,se){if(te.length!==se.length)throw new Error("Inputs should have the same length");const ge=x(te.length);for(let ke=0;ke<te.length;ke++)ge[ke]=te[ke]^se[ke];return b(ge)}},71943:(Y,f,i)=>{"use strict";i.d(f,{l6:()=>fs}),i(52191),new Uint8Array(0);class d{name;prefix;baseEncode;constructor(r,e,o){this.name=r,this.prefix=e,this.baseEncode=o}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class y{name;prefix;baseDecode;prefixCodePoint;constructor(r,e,o){if(this.name=r,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=o}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return g(this,r)}}class b{decoders;constructor(r){this.decoders=r}or(r){return g(this,r)}decode(r){const o=this.decoders[r[0]];if(null!=o)return o.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function g(t,r){return new b({...t.decoders??{[t.prefix]:t},...r.decoders??{[r.prefix]:r}})}class x{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(r,e,o,_){this.name=r,this.prefix=e,this.baseEncode=o,this.baseDecode=_,this.encoder=new d(r,e,o),this.decoder=new y(r,e,_)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}function C({name:t,prefix:r,encode:e,decode:o}){return new x(t,r,e,o)}function B({name:t,prefix:r,alphabet:e}){const{encode:o,decode:_}=function s(t,r){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),o=0;o<e.length;o++)e[o]=255;for(var _=0;_<t.length;_++){var D=t.charAt(_),$=D.charCodeAt(0);if(255!==e[$])throw new TypeError(D+" is ambiguous");e[$]=_}var K=t.length,me=t.charAt(0),q=Math.log(K)/Math.log(256),U=Math.log(256)/Math.log(K);function Ne(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var rt=0;if(" "!==Ke[rt]){for(var lt=0,ot=0;Ke[rt]===me;)lt++,rt++;for(var nt=(Ke.length-rt)*q+1>>>0,Ye=new Uint8Array(nt);Ke[rt];){var Ge=e[Ke.charCodeAt(rt)];if(255===Ge)return;for(var ct=0,tt=nt-1;(0!==Ge||ct<ot)&&-1!==tt;tt--,ct++)Ye[tt]=(Ge+=K*Ye[tt]>>>0)%256>>>0,Ge=Ge/256>>>0;if(0!==Ge)throw new Error("Non-zero carry");ot=ct,rt++}if(" "!==Ke[rt]){for(var Qe=nt-ot;Qe!==nt&&0===Ye[Qe];)Qe++;for(var yt=new Uint8Array(lt+(nt-Qe)),vt=lt;Qe!==nt;)yt[vt++]=Ye[Qe++];return yt}}}return{encode:function Ae(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var rt=0,lt=0,ot=0,nt=Ke.length;ot!==nt&&0===Ke[ot];)ot++,rt++;for(var Ye=(nt-ot)*U+1>>>0,Ge=new Uint8Array(Ye);ot!==nt;){for(var ct=Ke[ot],tt=0,Qe=Ye-1;(0!==ct||tt<lt)&&-1!==Qe;Qe--,tt++)Ge[Qe]=(ct+=256*Ge[Qe]>>>0)%K>>>0,ct=ct/K>>>0;if(0!==ct)throw new Error("Non-zero carry");lt=tt,ot++}for(var yt=Ye-lt;yt!==Ye&&0===Ge[yt];)yt++;for(var vt=me.repeat(rt);yt<Ye;++yt)vt+=t.charAt(Ge[yt]);return vt},decodeUnsafe:Ne,decode:function Me(Ke){var rt=Ne(Ke);if(rt)return rt;throw new Error(`Non-${r} character`)}}}(e,t);return C({prefix:r,name:t,encode:o,decode:D=>function c(t){if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}(_(D))})}function z({name:t,prefix:r,bitsPerChar:e,alphabet:o}){return C({prefix:r,name:t,encode:_=>function T(t,r,e){const o="="===r[r.length-1],_=(1<<e)-1;let D="",$=0,K=0;for(let me=0;me<t.length;++me)for(K=K<<8|t[me],$+=8;$>e;)$-=e,D+=r[_&K>>$];if(0!==$&&(D+=r[_&K<<e-$]),o)for(;D.length*e&7;)D+="=";return D}(_,o,e),decode:_=>function F(t,r,e,o){const _={};for(let U=0;U<r.length;++U)_[r[U]]=U;let D=t.length;for(;"="===t[D-1];)--D;const $=new Uint8Array(D*e/8|0);let K=0,me=0,q=0;for(let U=0;U<D;++U){const Ae=_[t[U]];if(void 0===Ae)throw new SyntaxError(`Non-${o} character`);me=me<<e|Ae,K+=e,K>=8&&(K-=8,$[q++]=255&me>>K)}if(K>=e||255&me<<8-K)throw new SyntaxError("Unexpected end of data");return $}(_,o,e,t)})}z({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),z({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),z({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),z({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),z({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),z({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),z({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),z({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});const R=z({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),X=B({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),w=(B({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),z({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),z({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),z({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));function ue(t){const e=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[o,_]=e;return _}z({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var de=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})},we=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(D){e[D]=t[D]&&function($){return new Promise(function(K,me){!function _(D,$,K,me){Promise.resolve(me).then(function(q){D({value:q,done:K})},$)}(K,me,($=t[D]($)).done,$.value)})}}};const fe=new TextEncoder,_e=new TextDecoder;class He{constructor(r,e){this.data=r,this.format=e}static arrayBuffer(r){return new He(r,"ArrayBuffer")}static asyncIterable(r){if(!function M(t){return"object"==typeof t&&null!==t&&"function"==typeof t[Symbol.asyncIterator]}(r))throw new TypeError("Input must be of type AsyncIterable.");return new He(r,"AsyncIterable")}static base32Z(r){return new He(r,"Base32Z")}static base58Btc(r){return new He(r,"Base58Btc")}static base64Url(r){return new He(r,"Base64Url")}static bufferSource(r){return new He(r,"BufferSource")}static hex(r){if("string"!=typeof r)throw new TypeError("Hex input must be a string.");if(r.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new He(r,"Hex")}static multibase(r){return new He(r,"Multibase")}static object(r){return new He(r,"Object")}static string(r){return new He(r,"String")}static uint8Array(r){return new He(r,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return X.baseDecode(this.data).buffer;case"Base64Url":return w.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===ue(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function V(t){return 0!==t.byteOffset||t.byteLength!==t.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return de(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return R.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return X.baseEncode(r)}case"Multibase":return this.data.substring(1);case"Uint8Array":return X.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return w.baseEncode(r)}case"BufferSource":{const r=this.toUint8Array();return w.baseEncode(r)}case"Object":{const r=JSON.stringify(this.data),e=fe.encode(r);return w.baseEncode(e)}case"String":{const r=fe.encode(this.data);return w.baseEncode(r)}case"Uint8Array":return w.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){return de(this,void 0,void 0,function*(){var r,e,o;if("AsyncIterable"===this.format){const me=[];try{for(var K,D=!0,$=we(this.data);!(r=(K=yield $.next()).done);D=!0)D=!1,me.push(K.value)}catch(U){e={error:U}}finally{try{!D&&!r&&(o=$.return)&&(yield o.call($))}finally{if(e)throw e.error}}return new Blob(me)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const r=Array.from({length:256},(e,o)=>o.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const e=this.toUint8Array();return He.uint8Array(e).toHex()}case"Base64Url":{const e=this.toUint8Array();return He.uint8Array(e).toHex()}case"Uint8Array":{let e="";for(let o=0;o<this.data.length;o++)e+=r[this.data[o]];return e}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const r=w.baseDecode(this.data),e=_e.decode(r);return JSON.parse(e)}case"String":return JSON.parse(this.data);case"Uint8Array":{const r=_e.decode(this.data);return JSON.parse(r)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return de(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toStringAsync();return JSON.parse(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return _e.decode(this.data);case"Base64Url":{const r=w.baseDecode(this.data);return _e.decode(r)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){return de(this,void 0,void 0,function*(){var r,e,o,_;if("AsyncIterable"===this.format){let me="";try{for(var K,D=!0,$=we(this.data);!(r=(K=yield $.next()).done);D=!0)D=!1,me+="string"==typeof(_=K.value)?_:_e.decode(_,{stream:!0})}catch(q){e={error:q}}finally{try{!D&&!r&&(o=$.return)&&(yield o.call($))}finally{if(e)throw e.error}}return me+=_e.decode(void 0,{stream:!1}),me}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return R.baseDecode(this.data);case"Base58Btc":return X.baseDecode(this.data);case"Base64Url":return w.baseDecode(this.data);case"BufferSource":{const r=ue(this.data);if("Uint8Array"===r)return this.data;if("ArrayBuffer"===r)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const r=new Uint8Array(this.data.length/2);for(let e=0;e<this.data.length;e+=2){const o=parseInt(this.data.substring(e,e+2),16);if(isNaN(o))throw new TypeError("Input is not a valid hexadecimal string.");r[e/2]=o}return r}case"Object":{const r=JSON.stringify(this.data);return fe.encode(r)}case"String":return fe.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return de(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toArrayBufferAsync();return new Uint8Array(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var Oe=128,ve=-128,ye=Math.pow(2,31),xe=128,$e=127,Re=Math.pow(2,7),Xe=Math.pow(2,14),ze=Math.pow(2,21),We=Math.pow(2,28),it=Math.pow(2,35),ee=Math.pow(2,42),N=Math.pow(2,49),P=Math.pow(2,56),G=Math.pow(2,63);const Fe={encode:function De(t,r,e){r=r||[];for(var o=e=e||0;t>=ye;)r[e++]=255&t|Oe,t/=128;for(;t&ve;)r[e++]=255&t|Oe,t>>>=7;return r[e]=0|t,De.bytes=e-o+1,r},decode:function Ue(t,o){var $,e=0,_=0,D=o=o||0,K=t.length;do{if(D>=K)throw Ue.bytes=0,new RangeError("Could not decode varint");$=t[D++],e+=_<28?($&$e)<<_:($&$e)*Math.pow(2,_),_+=7}while($>=xe);return Ue.bytes=D-o,e},encodingLength:function(t){return t<Re?1:t<Xe?2:t<ze?3:t<We?4:t<it?5:t<ee?6:t<N?7:t<P?8:t<G?9:10}};function Be(t,r=0){return[Fe.decode(t,r),Fe.decode.bytes]}Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class Pt{static addPrefix(r){var e;let{code:o,data:_,name:D}=r;if(!(D?!o:o))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(o=Pt.codeToName.has(o)?o:Pt.nameToCode.get(D),void 0===o)throw new Error(`Unsupported multicodec: ${null!==(e=r.name)&&void 0!==e?e:r.code}`);const $=function dt(t){return Fe.encodingLength(t)}(o),K=new Uint8Array($+_.byteLength);return K.set(_,$),function st(t,r,e=0){return Fe.encode(t,r,e),r}(o,K),K}static getCodeFromData(r){const{prefixedData:e}=r,[o,_]=Be(e);return o}static getCodeFromName(r){const{name:e}=r,o=Pt.nameToCode.get(e);if(void 0===o)throw new Error(`Unsupported multicodec: ${e}`);return o}static getNameFromCode(r){const{code:e}=r,o=Pt.codeToName.get(e);if(void 0===o)throw new Error(`Unsupported multicodec: ${e}`);return o}static registerCodec(r){Pt.codeToName.set(r.code,r.name),Pt.nameToCode.set(r.name,r.code)}static removePrefix(r){const{prefixedData:e}=r,[o,_]=Be(e),D=Pt.codeToName.get(o);if(void 0===D)throw new Error(`Unsupported multicodec: ${o}`);return{code:o,data:e.slice(_),name:D}}}Pt.codeToName=new Map,Pt.nameToCode=new Map,Pt.registerCodec({code:237,name:"ed25519-pub"}),Pt.registerCodec({code:4864,name:"ed25519-priv"}),Pt.registerCodec({code:236,name:"x25519-pub"}),Pt.registerCodec({code:4866,name:"x25519-priv"}),Pt.registerCodec({code:231,name:"secp256k1-pub"}),Pt.registerCodec({code:4865,name:"secp256k1-priv"}),i(51818),i(57963);var gn=i(34902),an=function(t){return t.authentication="authentication",t.assertionMethod="assertionMethod",t.keyAgreement="keyAgreement",t.capabilityInvocation="capabilityInvocation",t.capabilityDelegation="capabilityDelegation",t}(an||{});const Lt={"@context":"https://w3id.org/did-resolution/v1",didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class At{constructor({method:r,id:e,path:o,query:_,fragment:D,params:$}){this.uri=`did:${r}:${e}`,this.method=r,this.id=e,this.path=o,this.query=_,this.fragment=D,this.params=$}static parse(r){if(!r)return null;const e=At.DID_URI_PATTERN.exec(r);if(!e||!e.groups)return null;const{method:o,id:_,path:D,query:$,fragment:K}=e.groups,me={uri:`did:${o}:${_}`,method:o,id:_};if(D&&(me.path=D),$&&(me.query=$.slice(1)),K&&(me.fragment=K.slice(1)),$){const q={},U=$.slice(1).split("&");for(const Ae of U){const[Ne,Me]=Ae.split("=");q[Ne]=Me}me.params=q}return me}}At.METHOD_PATTERN="([a-z0-9]+)",At.PCT_ENCODED_PATTERN="(?:%[0-9a-fA-F]{2})",At.ID_CHAR_PATTERN=`(?:[a-zA-Z0-9._-]|${At.PCT_ENCODED_PATTERN})`,At.METHOD_ID_PATTERN=`((?:${At.ID_CHAR_PATTERN}*:)*(${At.ID_CHAR_PATTERN}+))`,At.PATH_PATTERN="(/[^#?]*)?",At.QUERY_PATTERN="([?][^#]*)?",At.FRAGMENT_PATTERN="(#.*)?",At.DID_URI_PATTERN=new RegExp(`^did:(?<method>${At.METHOD_PATTERN}):(?<id>${At.METHOD_ID_PATTERN})(?<path>${At.PATH_PATTERN})(?<query>${At.QUERY_PATTERN})(?<fragment>${At.FRAGMENT_PATTERN})$`);class mt extends Error{constructor(r,e){super(`${r}: ${e}`),this.code=r,this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mt)}}var ht=function(t){return t.InvalidDid="invalidDid",t.MethodNotSupported="methodNotSupported",t.InternalError="internalError",t.InvalidDidDocument="invalidDidDocument",t.InvalidDidDocumentLength="invalidDidDocumentLength",t.InvalidDidUrl="invalidDidUrl",t.InvalidPreviousDidProof="invalidPreviousDidProof",t.InvalidPublicKey="invalidPublicKey",t.InvalidPublicKeyLength="invalidPublicKeyLength",t.InvalidPublicKeyType="invalidPublicKeyType",t.InvalidSignature="invalidSignature",t.NotFound="notFound",t.RepresentationNotSupported="representationNotSupported",t.UnsupportedPublicKeyType="unsupportedPublicKeyType",t}(ht||{});const bn=(new Uint8Array(0),t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")});class Ut{constructor(r,e,o){this.name=r,this.prefix=e,this.baseEncode=o}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}}class Ki{constructor(r,e,o){if(this.name=r,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=o}decode(r){if("string"==typeof r){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(r){return Rn(this,r)}}class Qn{constructor(r){this.decoders=r}or(r){return Rn(this,r)}decode(r){const o=this.decoders[r[0]];if(o)return o.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Rn=(t,r)=>new Qn({...t.decoders||{[t.prefix]:t},...r.decoders||{[r.prefix]:r}});class Wr{constructor(r,e,o,_){this.name=r,this.prefix=e,this.baseEncode=o,this.baseDecode=_,this.encoder=new Ut(r,e,o),this.decoder=new Ki(r,e,_)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}}const wn=({name:t,prefix:r,encode:e,decode:o})=>new Wr(t,r,e,o),Jr=({prefix:t,name:r,alphabet:e})=>{const{encode:o,decode:_}=function Li(t,r){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),o=0;o<e.length;o++)e[o]=255;for(var _=0;_<t.length;_++){var D=t.charAt(_),$=D.charCodeAt(0);if(255!==e[$])throw new TypeError(D+" is ambiguous");e[$]=_}var K=t.length,me=t.charAt(0),q=Math.log(K)/Math.log(256),U=Math.log(256)/Math.log(K);function Ne(Ke){if("string"!=typeof Ke)throw new TypeError("Expected String");if(0===Ke.length)return new Uint8Array;var rt=0;if(" "!==Ke[rt]){for(var lt=0,ot=0;Ke[rt]===me;)lt++,rt++;for(var nt=(Ke.length-rt)*q+1>>>0,Ye=new Uint8Array(nt);Ke[rt];){var Ge=e[Ke.charCodeAt(rt)];if(255===Ge)return;for(var ct=0,tt=nt-1;(0!==Ge||ct<ot)&&-1!==tt;tt--,ct++)Ye[tt]=(Ge+=K*Ye[tt]>>>0)%256>>>0,Ge=Ge/256>>>0;if(0!==Ge)throw new Error("Non-zero carry");ot=ct,rt++}if(" "!==Ke[rt]){for(var Qe=nt-ot;Qe!==nt&&0===Ye[Qe];)Qe++;for(var yt=new Uint8Array(lt+(nt-Qe)),vt=lt;Qe!==nt;)yt[vt++]=Ye[Qe++];return yt}}}return{encode:function Ae(Ke){if(Ke instanceof Uint8Array||(ArrayBuffer.isView(Ke)?Ke=new Uint8Array(Ke.buffer,Ke.byteOffset,Ke.byteLength):Array.isArray(Ke)&&(Ke=Uint8Array.from(Ke))),!(Ke instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===Ke.length)return"";for(var rt=0,lt=0,ot=0,nt=Ke.length;ot!==nt&&0===Ke[ot];)ot++,rt++;for(var Ye=(nt-ot)*U+1>>>0,Ge=new Uint8Array(Ye);ot!==nt;){for(var ct=Ke[ot],tt=0,Qe=Ye-1;(0!==ct||tt<lt)&&-1!==Qe;Qe--,tt++)Ge[Qe]=(ct+=256*Ge[Qe]>>>0)%K>>>0,ct=ct/K>>>0;if(0!==ct)throw new Error("Non-zero carry");lt=tt,ot++}for(var yt=Ye-lt;yt!==Ye&&0===Ge[yt];)yt++;for(var vt=me.repeat(rt);yt<Ye;++yt)vt+=t.charAt(Ge[yt]);return vt},decodeUnsafe:Ne,decode:function Me(Ke){var rt=Ne(Ke);if(rt)return rt;throw new Error(`Non-${r} character`)}}}(e,r);return wn({prefix:t,name:r,encode:o,decode:D=>bn(_(D))})},Vt=({name:t,prefix:r,bitsPerChar:e,alphabet:o})=>wn({prefix:r,name:t,encode:_=>((t,r,e)=>{const o="="===r[r.length-1],_=(1<<e)-1;let D="",$=0,K=0;for(let me=0;me<t.length;++me)for(K=K<<8|t[me],$+=8;$>e;)$-=e,D+=r[_&K>>$];if($&&(D+=r[_&K<<e-$]),o)for(;D.length*e&7;)D+="=";return D})(_,o,e),decode:_=>((t,r,e,o)=>{const _={};for(let U=0;U<r.length;++U)_[r[U]]=U;let D=t.length;for(;"="===t[D-1];)--D;const $=new Uint8Array(D*e/8|0);let K=0,me=0,q=0;for(let U=0;U<D;++U){const Ae=_[t[U]];if(void 0===Ae)throw new SyntaxError(`Non-${o} character`);me=me<<e|Ae,K+=e,K>=8&&(K-=8,$[q++]=255&me>>K)}if(K>=e||255&me<<8-K)throw new SyntaxError("Unexpected end of data");return $})(_,o,e,t)}),Pr=(Vt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Vt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Vt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Vt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Vt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Vt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Vt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Vt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Vt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})),Ft=Jr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),le=(Jr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Vt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Vt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Vt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}));function Le(t){const e=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[o,_]=e;return _}Vt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var qe=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})},ft=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(D){e[D]=t[D]&&function($){return new Promise(function(K,me){!function _(D,$,K,me){Promise.resolve(me).then(function(q){D({value:q,done:K})},$)}(K,me,($=t[D]($)).done,$.value)})}}};const St=new TextEncoder,Et=new TextDecoder;class at{constructor(r,e){this.data=r,this.format=e}static arrayBuffer(r){return new at(r,"ArrayBuffer")}static asyncIterable(r){if(!function ge(t){return"object"==typeof t&&null!==t&&"function"==typeof t[Symbol.asyncIterator]}(r))throw new TypeError("Input must be of type AsyncIterable.");return new at(r,"AsyncIterable")}static base32Z(r){return new at(r,"Base32Z")}static base58Btc(r){return new at(r,"Base58Btc")}static base64Url(r){return new at(r,"Base64Url")}static bufferSource(r){return new at(r,"BufferSource")}static hex(r){if("string"!=typeof r)throw new TypeError("Hex input must be a string.");if(r.length%2!=0)throw new TypeError("Hex input must have an even number of characters.");return new at(r,"Hex")}static multibase(r){return new at(r,"Multibase")}static object(r){return new at(r,"Object")}static string(r){return new at(r,"String")}static uint8Array(r){return new at(r,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return Ft.baseDecode(this.data).buffer;case"Base64Url":return le.baseDecode(this.data).buffer;case"BufferSource":if("ArrayBuffer"===Le(this.data))return this.data;if(ArrayBuffer.isView(this.data))return function se(t){return 0!==t.byteOffset||t.byteLength!==t.buffer.byteLength}(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`);case"Hex":case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return qe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format)return yield(yield this.toBlobAsync()).arrayBuffer();throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)})}toBase32Z(){if("Uint8Array"===this.format)return Pr.baseEncode(this.data);throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}toBase58Btc(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return Ft.baseEncode(r)}case"Multibase":return this.data.substring(1);case"Uint8Array":return Ft.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{const r=new Uint8Array(this.data);return le.baseEncode(r)}case"BufferSource":{const r=this.toUint8Array();return le.baseEncode(r)}case"Object":{const r=JSON.stringify(this.data),e=St.encode(r);return le.baseEncode(e)}case"String":{const r=St.encode(this.data);return le.baseEncode(r)}case"Uint8Array":return le.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var r,e,o;return qe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const me=[];try{for(var K,D=!0,$=ft(this.data);K=yield $.next(),!(r=K.done);D=!0)D=!1,me.push(K.value)}catch(U){e={error:U}}finally{try{!D&&!r&&(o=$.return)&&(yield o.call($))}finally{if(e)throw e.error}}return new Blob(me)}throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)})}toHex(){const r=Array.from({length:256},(e,o)=>o.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{const e=this.toUint8Array();return at.uint8Array(e).toHex()}case"Base64Url":{const e=this.toUint8Array();return at.uint8Array(e).toHex()}case"Uint8Array":{let e="";for(let o=0;o<this.data.length;o++)e+=r[this.data[o]];return e}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){if("Base58Btc"===this.format)return`z${this.data}`;throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}toObject(){switch(this.format){case"Base64Url":{const r=le.baseDecode(this.data),e=Et.decode(r);return JSON.parse(e)}case"String":return JSON.parse(this.data);case"Uint8Array":{const r=Et.decode(this.data);return JSON.parse(r)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return qe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toStringAsync();return JSON.parse(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)})}toString(){switch(this.format){case"ArrayBuffer":case"Uint8Array":return Et.decode(this.data);case"Base64Url":{const r=le.baseDecode(this.data);return Et.decode(r)}case"Object":return JSON.stringify(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var r,e,o,_;return qe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){let me="";try{for(var K,D=!0,$=ft(this.data);K=yield $.next(),!(r=K.done);D=!0)D=!1,me+="string"==typeof(_=K.value)?_:Et.decode(_,{stream:!0})}catch(q){e={error:q}}finally{try{!D&&!r&&(o=$.return)&&(yield o.call($))}finally{if(e)throw e.error}}return me+=Et.decode(void 0,{stream:!1}),me}throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return Pr.baseDecode(this.data);case"Base58Btc":return Ft.baseDecode(this.data);case"Base64Url":return le.baseDecode(this.data);case"BufferSource":{const r=Le(this.data);if("Uint8Array"===r)return this.data;if("ArrayBuffer"===r)return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{const r=new Uint8Array(this.data.length/2);for(let e=0;e<this.data.length;e+=2){const o=parseInt(this.data.substring(e,e+2),16);if(isNaN(o))throw new TypeError("Input is not a valid hexadecimal string.");r[e/2]=o}return r}case"Object":{const r=JSON.stringify(this.data);return St.encode(r)}case"String":return St.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return qe(this,void 0,void 0,function*(){if("AsyncIterable"===this.format){const r=yield this.toArrayBufferAsync();return new Uint8Array(r)}throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)})}}var Gr=128,Es=-128,jt=Math.pow(2,31),fr=128,pr=127,lr=Math.pow(2,7),vr=Math.pow(2,14),jr=Math.pow(2,21),hr=Math.pow(2,28),Fr=Math.pow(2,35),Mn=Math.pow(2,42),hu=Math.pow(2,49),mu=Math.pow(2,56),yu=Math.pow(2,63);const Wi={encode:function Xt(t,r,e){r=r||[];for(var o=e=e||0;t>=jt;)r[e++]=255&t|Gr,t/=128;for(;t&Es;)r[e++]=255&t|Gr,t>>>=7;return r[e]=0|t,Xt.bytes=e-o+1,r},decode:function ur(t,o){var $,e=0,_=0,D=o=o||0,K=t.length;do{if(D>=K)throw ur.bytes=0,new RangeError("Could not decode varint");$=t[D++],e+=_<28?($&pr)<<_:($&pr)*Math.pow(2,_),_+=7}while($>=fr);return ur.bytes=D-o,e},encodingLength:function(t){return t<lr?1:t<vr?2:t<jr?3:t<hr?4:t<Fr?5:t<Mn?6:t<hu?7:t<mu?8:t<yu?9:10}},ni=(t,r=0)=>[Wi.decode(t,r),Wi.decode.bytes];Symbol,Symbol.for("nodejs.util.inspect.custom"),Symbol.for("@ipld/js-cid/CID");class zt{static addPrefix(r){var e;let{code:o,data:_,name:D}=r;if(!(D?!o:o))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(o=zt.codeToName.has(o)?o:zt.nameToCode.get(D),void 0===o)throw new Error(`Unsupported multicodec: ${null!==(e=r.name)&&void 0!==e?e:r.code}`);const $=Wi.encodingLength(o),K=new Uint8Array($+_.byteLength);return K.set(_,$),((t,r,e=0)=>{Wi.encode(t,r,e)})(o,K),K}static getCodeFromData(r){const{prefixedData:e}=r,[o,_]=ni(e);return o}static getCodeFromName(r){const{name:e}=r,o=zt.nameToCode.get(e);if(void 0===o)throw new Error(`Unsupported multicodec: ${e}`);return o}static getNameFromCode(r){const{code:e}=r,o=zt.codeToName.get(e);if(void 0===o)throw new Error(`Unsupported multicodec: ${e}`);return o}static registerCodec(r){zt.codeToName.set(r.code,r.name),zt.nameToCode.set(r.name,r.code)}static removePrefix(r){const{prefixedData:e}=r,[o,_]=ni(e),D=zt.codeToName.get(o);if(void 0===D)throw new Error(`Unsupported multicodec: ${o}`);return{code:o,data:e.slice(_),name:D}}}function wa(t){Object.keys(t).forEach(r=>{void 0===t[r]?delete t[r]:"object"==typeof t[r]&&wa(t[r])})}zt.codeToName=new Map,zt.nameToCode=new Map,zt.registerCodec({code:237,name:"ed25519-pub"}),zt.registerCodec({code:4864,name:"ed25519-priv"}),zt.registerCodec({code:236,name:"x25519-pub"}),zt.registerCodec({code:4866,name:"x25519-priv"}),zt.registerCodec({code:231,name:"secp256k1-pub"}),zt.registerCodec({code:4865,name:"secp256k1-priv"}),i(64311);var br=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};class Bu{constructor(){this.store=new Map}clear(){return br(this,void 0,void 0,function*(){this.store.clear()})}close(){return br(this,void 0,void 0,function*(){})}delete(r){return br(this,void 0,void 0,function*(){return this.store.delete(r)})}get(r){return br(this,void 0,void 0,function*(){return this.store.get(r)})}has(r){return br(this,void 0,void 0,function*(){return this.store.has(r)})}list(){return br(this,void 0,void 0,function*(){return Array.from(this.store.values())})}set(r,e){return br(this,void 0,void 0,function*(){this.store.set(r,e)})}}var di=i(47565);class Ea{static digest({data:r}){return function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})}(this,void 0,void 0,function*(){return(0,di.s)(r)})}}class _s{}var wr=i(94256),Ji=i(91006);const Sa="urn:jwk:";function xt({jwk:t}){return function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})}(this,void 0,void 0,function*(){const r=t.kty;let e;if("EC"===r)e={crv:t.crv,kty:t.kty,x:t.x,y:t.y};else if("oct"===r)e={k:t.k,kty:t.kty};else if("OKP"===r)e={crv:t.crv,kty:t.kty,x:t.x};else{if("RSA"!==r)throw new Error(`Unsupported key type: ${r}`);e={e:t.e,kty:t.kty,n:t.n}}wa(e);const o=function ku(t){const r=o=>{if(null!==o&&"object"==typeof o&&!Array.isArray(o)){const _=Object.keys(o).sort(),D={};for(const $ of _)D[$]=r(o[$]);return D}return o},e=r(t);return JSON.stringify(e)}(e),_=at.string(o).toUint8Array(),D=yield Ea.digest({data:_});return at.uint8Array(D).toBase64Url()})}function An(t){return!(!t||"object"!=typeof t||!("kty"in t&&"crv"in t&&"x"in t&&"d"in t)||"EC"!==t.kty||"string"!=typeof t.d||"string"!=typeof t.x)}function Cs(t){return!(!t||"object"!=typeof t||!("kty"in t&&"crv"in t&&"x"in t)||"d"in t||"EC"!==t.kty||"string"!=typeof t.x)}function Dn(t){return!(!t||"object"!=typeof t||!("kty"in t&&"crv"in t&&"x"in t&&"d"in t)||"OKP"!==t.kty||"string"!=typeof t.d||"string"!=typeof t.x)}function Ps(t){return!(!t||"object"!=typeof t||"d"in t||!("kty"in t&&"crv"in t&&"x"in t)||"OKP"!==t.kty||"string"!=typeof t.x)}var qt=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};class Rt{static adjustSignatureToLowS({signature:r}){return qt(this,void 0,void 0,function*(){const e=wr.bI.Signature.fromCompact(r);return e.hasHighS()?e.normalizeS().toCompactRawBytes():r})}static bytesToPrivateKey({privateKeyBytes:r}){return qt(this,void 0,void 0,function*(){const e=yield Rt.getCurvePoint({keyBytes:r}),o={kty:"EC",crv:"secp256k1",d:at.uint8Array(r).toBase64Url(),x:at.uint8Array(e.x).toBase64Url(),y:at.uint8Array(e.y).toBase64Url()};return o.kid=yield xt({jwk:o}),o})}static bytesToPublicKey({publicKeyBytes:r}){return qt(this,void 0,void 0,function*(){const e=yield Rt.getCurvePoint({keyBytes:r}),o={kty:"EC",crv:"secp256k1",x:at.uint8Array(e.x).toBase64Url(),y:at.uint8Array(e.y).toBase64Url()};return o.kid=yield xt({jwk:o}),o})}static compressPublicKey({publicKeyBytes:r}){return qt(this,void 0,void 0,function*(){return wr.bI.ProjectivePoint.fromHex(r).toRawBytes(!0)})}static computePublicKey({key:r}){return qt(this,void 0,void 0,function*(){const e=yield Rt.privateKeyToBytes({privateKey:r}),o=yield Rt.getCurvePoint({keyBytes:e}),_={kty:"EC",crv:"secp256k1",x:at.uint8Array(o.x).toBase64Url(),y:at.uint8Array(o.y).toBase64Url()};return _.kid=yield xt({jwk:_}),_})}static convertDerToCompactSignature({derSignature:r}){return qt(this,void 0,void 0,function*(){return wr.bI.Signature.fromDER(r).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:r}){return qt(this,void 0,void 0,function*(){return wr.bI.ProjectivePoint.fromHex(r).toRawBytes(!1)})}static generateKey(){return qt(this,void 0,void 0,function*(){const r=wr.bI.utils.randomPrivateKey(),e=yield Rt.bytesToPrivateKey({privateKeyBytes:r});return e.kid=yield xt({jwk:e}),e})}static getPublicKey({key:r}){var e;return qt(this,void 0,void 0,function*(){if(!An(r)||"secp256k1"!==r.crv)throw new Error("Secp256k1: The provided key is not a secp256k1 private JWK.");let _=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(o=Object.getOwnPropertySymbols(t);_<o.length;_++)r.indexOf(o[_])<0&&Object.prototype.propertyIsEnumerable.call(t,o[_])&&(e[o[_]]=t[o[_]])}return e}(r,["d"]);return null!==(e=_.kid)&&void 0!==e||(_.kid=yield xt({jwk:_})),_})}static privateKeyToBytes({privateKey:r}){return qt(this,void 0,void 0,function*(){if(!An(r))throw new Error("Secp256k1: The provided key is not a valid EC private key.");return at.base64Url(r.d).toUint8Array()})}static publicKeyToBytes({publicKey:r}){return qt(this,void 0,void 0,function*(){if(!Cs(r)||!r.y)throw new Error("Secp256k1: The provided key is not a valid EC public key.");const e=new Uint8Array([4]),o=at.base64Url(r.x).toUint8Array(),_=at.base64Url(r.y).toUint8Array();return new Uint8Array([...e,...o,..._])})}static sharedSecret({privateKeyA:r,publicKeyB:e}){return qt(this,void 0,void 0,function*(){if("x"in r&&"x"in e&&r.x===e.x)throw new Error("Secp256k1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const o=yield Rt.privateKeyToBytes({privateKey:r}),_=yield Rt.publicKeyToBytes({publicKey:e});return wr.bI.getSharedSecret(o,_,!0).slice(1)})}static sign({data:r,key:e}){return qt(this,void 0,void 0,function*(){const o=yield Rt.privateKeyToBytes({privateKey:e}),_=(0,di.s)(r);return wr.bI.sign(_,o).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:r}){return qt(this,void 0,void 0,function*(){return wr.bI.utils.isValidPrivateKey(r)})}static validatePublicKey({publicKeyBytes:r}){return qt(this,void 0,void 0,function*(){try{wr.bI.ProjectivePoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify({key:r,signature:e,data:o}){return qt(this,void 0,void 0,function*(){const _=yield Rt.publicKeyToBytes({publicKey:r}),D=(0,di.s)(o);return wr.bI.verify(e,D,_,{lowS:!1})})}static getCurvePoint({keyBytes:r}){return qt(this,void 0,void 0,function*(){32===r.byteLength&&(r=wr.bI.getPublicKey(r));const e=wr.bI.ProjectivePoint.fromHex(r);return{x:(0,Ji.lq)(e.x,32),y:(0,Ji.lq)(e.y,32)}})}}var Er=i(40499),Qt=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};class Nt{static adjustSignatureToLowS({signature:r}){return Qt(this,void 0,void 0,function*(){const e=Er.Ag.Signature.fromCompact(r);return e.hasHighS()?e.normalizeS().toCompactRawBytes():r})}static bytesToPrivateKey({privateKeyBytes:r}){return Qt(this,void 0,void 0,function*(){const e=yield Nt.getCurvePoint({keyBytes:r}),o={kty:"EC",crv:"P-256",d:at.uint8Array(r).toBase64Url(),x:at.uint8Array(e.x).toBase64Url(),y:at.uint8Array(e.y).toBase64Url()};return o.kid=yield xt({jwk:o}),o})}static bytesToPublicKey({publicKeyBytes:r}){return Qt(this,void 0,void 0,function*(){const e=yield Nt.getCurvePoint({keyBytes:r}),o={kty:"EC",crv:"P-256",x:at.uint8Array(e.x).toBase64Url(),y:at.uint8Array(e.y).toBase64Url()};return o.kid=yield xt({jwk:o}),o})}static compressPublicKey({publicKeyBytes:r}){return Qt(this,void 0,void 0,function*(){return Er.Ag.ProjectivePoint.fromHex(r).toRawBytes(!0)})}static computePublicKey({key:r}){return Qt(this,void 0,void 0,function*(){const e=yield Nt.privateKeyToBytes({privateKey:r}),o=yield Nt.getCurvePoint({keyBytes:e}),_={kty:"EC",crv:"P-256",x:at.uint8Array(o.x).toBase64Url(),y:at.uint8Array(o.y).toBase64Url()};return _.kid=yield xt({jwk:_}),_})}static convertDerToCompactSignature({derSignature:r}){return Qt(this,void 0,void 0,function*(){return Er.Ag.Signature.fromDER(r).toCompactRawBytes()})}static decompressPublicKey({publicKeyBytes:r}){return Qt(this,void 0,void 0,function*(){return Er.Ag.ProjectivePoint.fromHex(r).toRawBytes(!1)})}static generateKey(){return Qt(this,void 0,void 0,function*(){const r=Er.Ag.utils.randomPrivateKey(),e=yield Nt.bytesToPrivateKey({privateKeyBytes:r});return e.kid=yield xt({jwk:e}),e})}static getPublicKey({key:r}){var e;return Qt(this,void 0,void 0,function*(){if(!An(r)||"P-256"!==r.crv)throw new Error("Secp256r1: The provided key is not a 'P-256' private JWK.");let _=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(o=Object.getOwnPropertySymbols(t);_<o.length;_++)r.indexOf(o[_])<0&&Object.prototype.propertyIsEnumerable.call(t,o[_])&&(e[o[_]]=t[o[_]])}return e}(r,["d"]);return null!==(e=_.kid)&&void 0!==e||(_.kid=yield xt({jwk:_})),_})}static privateKeyToBytes({privateKey:r}){return Qt(this,void 0,void 0,function*(){if(!An(r))throw new Error("Secp256r1: The provided key is not a valid EC private key.");return at.base64Url(r.d).toUint8Array()})}static publicKeyToBytes({publicKey:r}){return Qt(this,void 0,void 0,function*(){if(!Cs(r)||!r.y)throw new Error("Secp256r1: The provided key is not a valid EC public key.");const e=new Uint8Array([4]),o=at.base64Url(r.x).toUint8Array(),_=at.base64Url(r.y).toUint8Array();return new Uint8Array([...e,...o,..._])})}static sharedSecret({privateKeyA:r,publicKeyB:e}){return Qt(this,void 0,void 0,function*(){if("x"in r&&"x"in e&&r.x===e.x)throw new Error("Secp256r1: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const o=yield Nt.privateKeyToBytes({privateKey:r}),_=yield Nt.publicKeyToBytes({publicKey:e});return Er.Ag.getSharedSecret(o,_,!0).slice(1)})}static sign({data:r,key:e}){return Qt(this,void 0,void 0,function*(){const o=yield Nt.privateKeyToBytes({privateKey:e}),_=(0,di.s)(r);return Er.Ag.sign(_,o).toCompactRawBytes()})}static validatePrivateKey({privateKeyBytes:r}){return Qt(this,void 0,void 0,function*(){return Er.Ag.utils.isValidPrivateKey(r)})}static validatePublicKey({publicKeyBytes:r}){return Qt(this,void 0,void 0,function*(){try{Er.Ag.ProjectivePoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify({key:r,signature:e,data:o}){return Qt(this,void 0,void 0,function*(){const _=yield Nt.publicKeyToBytes({publicKey:r}),D=(0,di.s)(o);return Er.Ag.verify(e,D,_,{lowS:!1})})}static getCurvePoint({keyBytes:r}){return Qt(this,void 0,void 0,function*(){32===r.byteLength&&(r=Er.Ag.getPublicKey(r));const e=Er.Ag.ProjectivePoint.fromHex(r);return{x:(0,Ji.lq)(e.x,32),y:(0,Ji.lq)(e.y,32)}})}}var fi=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};class Aa extends _s{computePublicKey({key:r}){return fi(this,void 0,void 0,function*(){if(!An(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(r.crv){case"secp256k1":{const e=yield Rt.computePublicKey({key:r});return e.alg="ES256K",e}case"P-256":{const e=yield Nt.computePublicKey({key:r});return e.alg="ES256",e}default:throw new Error(`Unsupported curve: ${r.crv}`)}})}generateKey({algorithm:r}){return fi(this,void 0,void 0,function*(){switch(r){case"ES256K":case"secp256k1":{const e=yield Rt.generateKey();return e.alg="ES256K",e}case"ES256":case"secp256r1":{const e=yield Nt.generateKey();return e.alg="ES256",e}}})}getPublicKey({key:r}){return fi(this,void 0,void 0,function*(){if(!An(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(r.crv){case"secp256k1":{const e=yield Rt.getPublicKey({key:r});return e.alg="ES256K",e}case"P-256":{const e=yield Nt.getPublicKey({key:r});return e.alg="ES256",e}default:throw new Error(`Unsupported curve: ${r.crv}`)}})}sign({key:r,data:e}){return fi(this,void 0,void 0,function*(){if(!An(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) private key.");switch(r.crv){case"secp256k1":return yield Rt.sign({key:r,data:e});case"P-256":return yield Nt.sign({key:r,data:e});default:throw new Error(`Unsupported curve: ${r.crv}`)}})}verify({key:r,signature:e,data:o}){return fi(this,void 0,void 0,function*(){if(!Cs(r))throw new TypeError("Invalid key provided. Must be an elliptic curve (EC) public key.");switch(r.crv){case"secp256k1":return yield Rt.verify({key:r,signature:e,data:o});case"P-256":return yield Nt.verify({key:r,signature:e,data:o});default:throw new Error(`Unsupported curve: ${r.crv}`)}})}}var mr=i(86295),Sr=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};class Mt{static bytesToPrivateKey({privateKeyBytes:r}){return Sr(this,void 0,void 0,function*(){const e=mr.ev.getPublicKey(r),o={crv:"Ed25519",d:at.uint8Array(r).toBase64Url(),kty:"OKP",x:at.uint8Array(e).toBase64Url()};return o.kid=yield xt({jwk:o}),o})}static bytesToPublicKey({publicKeyBytes:r}){return Sr(this,void 0,void 0,function*(){const e={kty:"OKP",crv:"Ed25519",x:at.uint8Array(r).toBase64Url()};return e.kid=yield xt({jwk:e}),e})}static computePublicKey({key:r}){return Sr(this,void 0,void 0,function*(){const e=yield Mt.privateKeyToBytes({privateKey:r}),o=mr.ev.getPublicKey(e),_={kty:"OKP",crv:"Ed25519",x:at.uint8Array(o).toBase64Url()};return _.kid=yield xt({jwk:_}),_})}static convertPrivateKeyToX25519({privateKey:r}){return Sr(this,void 0,void 0,function*(){const e=yield Mt.privateKeyToBytes({privateKey:r}),o=(0,mr.OA)(e),_=mr.TU.getPublicKey(o),D={kty:"OKP",crv:"X25519",d:at.uint8Array(o).toBase64Url(),x:at.uint8Array(_).toBase64Url()};return D.kid=yield xt({jwk:D}),D})}static convertPublicKeyToX25519({publicKey:r}){return Sr(this,void 0,void 0,function*(){const e=yield Mt.publicKeyToBytes({publicKey:r});if(!(yield Mt.validatePublicKey({publicKeyBytes:e})))throw new Error("Ed25519: Invalid public key.");const _=(0,mr.GU)(e),D={kty:"OKP",crv:"X25519",x:at.uint8Array(_).toBase64Url()};return D.kid=yield xt({jwk:D}),D})}static generateKey(){return Sr(this,void 0,void 0,function*(){const r=mr.ev.utils.randomPrivateKey(),e=yield Mt.bytesToPrivateKey({privateKeyBytes:r});return e.kid=yield xt({jwk:e}),e})}static getPublicKey({key:r}){var e;return Sr(this,void 0,void 0,function*(){if(!Dn(r)||"Ed25519"!==r.crv)throw new Error("Ed25519: The provided key is not an Ed25519 private JWK.");let _=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(o=Object.getOwnPropertySymbols(t);_<o.length;_++)r.indexOf(o[_])<0&&Object.prototype.propertyIsEnumerable.call(t,o[_])&&(e[o[_]]=t[o[_]])}return e}(r,["d"]);return null!==(e=_.kid)&&void 0!==e||(_.kid=yield xt({jwk:_})),_})}static privateKeyToBytes({privateKey:r}){return Sr(this,void 0,void 0,function*(){if(!Dn(r))throw new Error("Ed25519: The provided key is not a valid OKP private key.");return at.base64Url(r.d).toUint8Array()})}static publicKeyToBytes({publicKey:r}){return Sr(this,void 0,void 0,function*(){if(!Ps(r))throw new Error("Ed25519: The provided key is not a valid OKP public key.");return at.base64Url(r.x).toUint8Array()})}static sign({key:r,data:e}){return Sr(this,void 0,void 0,function*(){const o=yield Mt.privateKeyToBytes({privateKey:r});return mr.ev.sign(e,o)})}static validatePublicKey({publicKeyBytes:r}){return Sr(this,void 0,void 0,function*(){try{mr.ev.ExtendedPoint.fromHex(r).assertValidity()}catch{return!1}return!0})}static verify({key:r,signature:e,data:o}){return Sr(this,void 0,void 0,function*(){const _=yield Mt.publicKeyToBytes({publicKey:r});return mr.ev.verify(e,o,_)})}}var pi=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})},Xr=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};const Fs={Ed25519:{implementation:class Vu extends _s{computePublicKey({key:r}){return pi(this,void 0,void 0,function*(){if(!Dn(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===r.crv){const e=yield Mt.computePublicKey({key:r});return e.alg="EdDSA",e}throw new Error(`Unsupported curve: ${r.crv}`)})}generateKey({algorithm:r}){return pi(this,void 0,void 0,function*(){if("Ed25519"===r){const e=yield Mt.generateKey();return e.alg="EdDSA",e}})}getPublicKey({key:r}){return pi(this,void 0,void 0,function*(){if(!Dn(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===r.crv){const e=yield Mt.getPublicKey({key:r});return e.alg="EdDSA",e}throw new Error(`Unsupported curve: ${r.crv}`)})}sign({key:r,data:e}){return pi(this,void 0,void 0,function*(){if(!Dn(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) private key.");if("Ed25519"===r.crv)return yield Mt.sign({key:r,data:e});throw new Error(`Unsupported curve: ${r.crv}`)})}verify({key:r,signature:e,data:o}){return pi(this,void 0,void 0,function*(){if(!Ps(r))throw new TypeError("Invalid key provided. Must be an octet key pair (OKP) public key.");if("Ed25519"===r.crv)return yield Mt.verify({key:r,signature:e,data:o});throw new Error(`Unsupported curve: ${r.crv}`)})}},names:["Ed25519"]},secp256k1:{implementation:Aa,names:["ES256K","secp256k1"]},secp256r1:{implementation:Aa,names:["ES256","secp256r1"]},"SHA-256":{implementation:class $u extends _s{digest({algorithm:r,data:e}){return function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})}(this,void 0,void 0,function*(){if("SHA-256"===r)return yield Ea.digest({data:e})})}},names:["SHA-256"]}};class Yr{constructor(r){var e;this._algorithmInstances=new Map,this._keyStore=null!==(e=r?.keyStore)&&void 0!==e?e:new Bu}digest({algorithm:r,data:e}){return Xr(this,void 0,void 0,function*(){return yield this.getAlgorithm({algorithm:r}).digest({algorithm:r,data:e})})}exportKey({keyUri:r}){return Xr(this,void 0,void 0,function*(){return yield this.getPrivateKey({keyUri:r})})}generateKey({algorithm:r}){return Xr(this,void 0,void 0,function*(){const o=yield this.getAlgorithm({algorithm:r}).generateKey({algorithm:r});if(void 0===o?.kid)throw new Error("Generated key is missing a required property: kid");const _=`${Sa}${o.kid}`;return yield this._keyStore.set(_,o),_})}getKeyUri({key:r}){return Xr(this,void 0,void 0,function*(){const e=yield xt({jwk:r});return`${Sa}${e}`})}getPublicKey({keyUri:r}){return Xr(this,void 0,void 0,function*(){const e=yield this.getPrivateKey({keyUri:r}),o=this.getAlgorithmName({key:e});return yield this.getAlgorithm({algorithm:o}).getPublicKey({key:e})})}importKey({key:r}){var e;return Xr(this,void 0,void 0,function*(){if(!function Nu(t){if(!t||"object"!=typeof t)return!1;switch(t.kty){case"EC":case"OKP":case"RSA":return"d"in t;case"oct":return"k"in t;default:return!1}}(r))throw new TypeError("Invalid key provided. Must be a private key in JWK format.");const o=structuredClone(r);null!==(e=o.kid)&&void 0!==e||(o.kid=yield xt({jwk:o}));const _=yield this.getKeyUri({key:o});return yield this._keyStore.set(_,o),_})}sign({keyUri:r,data:e}){return Xr(this,void 0,void 0,function*(){const o=yield this.getPrivateKey({keyUri:r}),_=this.getAlgorithmName({key:o});return this.getAlgorithm({algorithm:_}).sign({data:e,key:o})})}verify({key:r,signature:e,data:o}){return Xr(this,void 0,void 0,function*(){const _=this.getAlgorithmName({key:r});return this.getAlgorithm({algorithm:_}).verify({key:r,signature:e,data:o})})}getAlgorithm({algorithm:r}){var e;const o=null===(e=Fs[r])||void 0===e?void 0:e.implementation;if(!o)throw new Error(`Algorithm not supported: ${r}`);return this._algorithmInstances.has(o)||this._algorithmInstances.set(o,new o),this._algorithmInstances.get(o)}getAlgorithmName({key:r}){const e=r.alg,o=r.crv;for(const _ in Fs){const D=Fs[_];if(e&&D.names.includes(e))return _;if(o&&D.names.includes(o))return _}throw new Error(`Unable to determine algorithm based on provided input: alg=${e}, crv=${o}`)}getPrivateKey({keyUri:r}){return Xr(this,void 0,void 0,function*(){const e=yield this._keyStore.get(r);if(!e)throw new Error(`Key not found: ${r}`);return e})}}function Wu(t){const r={Ed25519:"EdDSA","P-256":"ES256","P-384":"ES384","P-521":"ES512",secp256k1:"ES256K"};if(t.alg&&Object.values(r).includes(t.alg))return t.alg;if(t.crv&&Object.keys(r).includes(t.crv))return r[t.crv];throw new Error(`Unable to determine algorithm based on provided input: alg=${t.alg}, crv=${t.crv}. Supported 'alg' values: ${Object.values(r).join(", ")}. Supported 'crv' values: ${Object.keys(r).join(", ")}.`)}i(86703),i(62953),i(91879);var un=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};class Cn{static bytesToPrivateKey({privateKeyBytes:r}){return un(this,void 0,void 0,function*(){const e=mr.TU.getPublicKey(r),o={kty:"OKP",crv:"X25519",d:at.uint8Array(r).toBase64Url(),x:at.uint8Array(e).toBase64Url()};return o.kid=yield xt({jwk:o}),o})}static bytesToPublicKey({publicKeyBytes:r}){return un(this,void 0,void 0,function*(){const e={kty:"OKP",crv:"X25519",x:at.uint8Array(r).toBase64Url()};return e.kid=yield xt({jwk:e}),e})}static computePublicKey({key:r}){return un(this,void 0,void 0,function*(){const e=yield Cn.privateKeyToBytes({privateKey:r}),o=mr.TU.getPublicKey(e),_={kty:"OKP",crv:"X25519",x:at.uint8Array(o).toBase64Url()};return _.kid=yield xt({jwk:_}),_})}static generateKey(){return un(this,void 0,void 0,function*(){const r=mr.TU.utils.randomPrivateKey(),e=yield Cn.bytesToPrivateKey({privateKeyBytes:r});return e.kid=yield xt({jwk:e}),e})}static getPublicKey({key:r}){var e;return un(this,void 0,void 0,function*(){if(!Dn(r)||"X25519"!==r.crv)throw new Error("X25519: The provided key is not an X25519 private JWK.");let _=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(o=Object.getOwnPropertySymbols(t);_<o.length;_++)r.indexOf(o[_])<0&&Object.prototype.propertyIsEnumerable.call(t,o[_])&&(e[o[_]]=t[o[_]])}return e}(r,["d"]);return null!==(e=_.kid)&&void 0!==e||(_.kid=yield xt({jwk:_})),_})}static privateKeyToBytes({privateKey:r}){return un(this,void 0,void 0,function*(){if(!Dn(r))throw new Error("X25519: The provided key is not a valid OKP private key.");return at.base64Url(r.d).toUint8Array()})}static publicKeyToBytes({publicKey:r}){return un(this,void 0,void 0,function*(){if(!Ps(r))throw new Error("X25519: The provided key is not a valid OKP public key.");return at.base64Url(r.x).toUint8Array()})}static sharedSecret({privateKeyA:r,publicKeyB:e}){return un(this,void 0,void 0,function*(){if("x"in r&&"x"in e&&r.x===e.x)throw new Error("X25519: ECDH shared secret cannot be computed from a single key pair's public and private keys.");const o=yield Cn.privateKeyToBytes({privateKey:r}),_=yield Cn.publicKeyToBytes({publicKey:e});return mr.TU.getSharedSecret(o,_)})}}function Or(t){if("string"==typeof t&&0!==t.length)return t.split("#").pop()}function Is({didDocument:t}){var r,e;if(!t)throw new TypeError("Required parameter missing: 'didDocument'");const o=[];return o.push(...null!==(e=null===(r=t.verificationMethod)||void 0===r?void 0:r.filter(Yi))&&void 0!==e?e:[]),Object.keys(an).forEach(_=>{var D,$;o.push(...null!==($=null===(D=t[_])||void 0===D?void 0:D.filter(Yi))&&void 0!==$?$:[])}),o}function tl({didDocument:t,methodId:r}){const e=[];return Object.keys(an).forEach(o=>{if(Array.isArray(t[o])){const _=t[o],D=Or(r);_.some(K=>{const me=Or(K)===D,q=Yi(K)&&Or(K.id)===D;return me||q})&&e.push(o)}}),e}function Yi(t){return!(!t||"object"!=typeof t||null===t||!("id"in t&&"type"in t&&"controller"in t)||"string"!=typeof t.id||"string"!=typeof t.type||"string"!=typeof t.controller)}function Ca({keyBytes:t,multicodecCode:r,multicodecName:e}){const o=zt.addPrefix({code:r,data:t,name:e}),_=at.uint8Array(o).toBase58Btc();return at.base58Btc(_).toMultibase()}function Pa({multibaseKeyId:t}){try{const r=at.multibase(t).toBase58Btc(),e=at.base58Btc(r).toUint8Array(),{code:o,data:_,name:D}=zt.removePrefix({prefixedData:e});return{keyBytes:_,multicodecCode:o,multicodecName:D}}catch{throw new mt(ht.InvalidDid,`Invalid multibase identifier: ${t}`)}}i(94730);var vi=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};class kr{constructor({uri:r,document:e,metadata:o,keyManager:_}){this.uri=r,this.document=e,this.metadata=o,this.keyManager=_}export(){return vi(this,void 0,void 0,function*(){if(!(Array.isArray(this.document.verificationMethod)&&this.document.verificationMethod.length>0))throw new Error(`DID document for '${this.uri}' is missing verification methods`);let r={uri:this.uri,document:this.document,metadata:this.metadata};if("exportKey"in this.keyManager&&"function"==typeof this.keyManager.exportKey){const e=[];for(let o of this.document.verificationMethod){if(!o.publicKeyJwk)throw new Error(`Verification method '${o.id}' does not contain a public key in JWK format`);const _=yield this.keyManager.getKeyUri({key:o.publicKeyJwk}),D=yield this.keyManager.exportKey({keyUri:_});e.push(Object.assign({},D))}r.privateKeys=e}return r})}getSigner(r){return vi(this,void 0,void 0,function*(){var e;const o=null===(e=this.document.verificationMethod)||void 0===e?void 0:e.find(me=>{var q,U;return Or(me.id)===(null!==(q=Or(r?.methodId))&&void 0!==q?q:Or(null===(U=this.document.assertionMethod)||void 0===U?void 0:U[0]))});if(!o||!o.publicKeyJwk)throw new mt(ht.InternalError,"A verification method intended for signing could not be determined from the DID Document");const _=yield this.keyManager.getKeyUri({key:o.publicKeyJwk}),D=yield this.keyManager.getPublicKey({keyUri:_}),$=this.keyManager;return{algorithm:Wu(D),keyId:o.id,sign(me){return vi(this,arguments,void 0,function*({data:q}){return yield $.sign({data:q,keyUri:_})})},verify(me){return vi(this,arguments,void 0,function*({data:q,signature:U}){return yield $.verify({data:q,key:D,signature:U})})}}})}static import(r){return vi(this,arguments,void 0,function*({portableDid:e,keyManager:o=new Yr}){var _;const D=Is({didDocument:e.document});if(0===D.length)throw new mt(ht.InvalidDidDocument,"At least one verification method is required but 0 were given");for(let K of null!==(_=e.privateKeys)&&void 0!==_?_:[])yield o.importKey({key:K});for(let K of D){if(!K.publicKeyJwk)throw new Error(`Verification method '${K.id}' does not contain a public key in JWK format`);const me=yield o.getKeyUri({key:K.publicKeyJwk});yield o.getPublicKey({keyUri:me})}return new kr({uri:e.uri,document:e.document,metadata:e.metadata,keyManager:o})})}}var Fa=i(2198),js=i(49402),Oa=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};class bi{static getSigningMethod(r){return Oa(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement getSigningMethod()")})}static resolve(r,e){return Oa(this,void 0,void 0,function*(){throw new Error("Not implemented: Classes extending DidMethod must implement resolve()")})}}var Ht=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})},xa=function(t,r){var e={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(e[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var _=0;for(o=Object.getOwnPropertySymbols(t);_<o.length;_++)r.indexOf(o[_])<0&&Object.prototype.propertyIsEnumerable.call(t,o[_])&&(e[o[_]]=t[o[_]])}return e};const Ba="https://diddht.tbddev.org",ln=7200,ir=",";var Ta=function(t){return t[t.Discoverable=0]="Discoverable",t[t.Organization=1]="Organization",t[t.Government=2]="Government",t[t.Corporation=3]="Corporation",t[t.LocalBusiness=4]="LocalBusiness",t[t.SoftwarePackage=5]="SoftwarePackage",t[t.WebApp=6]="WebApp",t[t.FinancialInstitution=7]="FinancialInstitution",t}(Ta||{}),cr=function(t){return t[t.Ed25519=0]="Ed25519",t[t.secp256k1=1]="secp256k1",t[t.secp256r1=2]="secp256r1",t[t.X25519=3]="X25519",t}(cr||{}),Ia=function(t){return t.authentication="auth",t.assertionMethod="asm",t.capabilityDelegation="del",t.capabilityInvocation="inv",t.keyAgreement="agm",t}(Ia||{});const ja={Ed25519:cr.Ed25519,ES256K:cr.secp256k1,ES256:cr.secp256r1,"P-256":cr.secp256r1,secp256k1:cr.secp256k1,secp256r1:cr.secp256r1,X25519:cr.X25519},$a={[cr.Ed25519]:"EdDSA",[cr.secp256k1]:"ES256K",[cr.secp256r1]:"ES256",[cr.X25519]:"ECDH-ES+A256KW"};let $s=(()=>{class t extends bi{static create(){return Ht(this,arguments,void 0,function*({keyManager:e=new Yr,options:o={}}={}){var _,D,$,K,me,q,U,Ae,Ne,Me,Ke;if(null!==(_=o.verificationMethods)&&void 0!==_&&_.some(tt=>!(tt.algorithm in ja)))throw new Error("One or more verification method algorithms are not supported");const rt=null===(D=o.verificationMethods)||void 0===D?void 0:D.filter(tt=>"id"in tt).map(tt=>tt.id);if(rt&&rt.length!==new Set(rt).size)throw new Error("One or more verification method IDs are not unique");if(null!==($=o.services)&&void 0!==$&&$.some(tt=>!tt.id||!tt.type||!tt.serviceEndpoint))throw new Error("One or more services are missing required properties");const lt=yield e.generateKey({algorithm:"Ed25519"}),ot=yield e.getPublicKey({keyUri:lt}),nt=yield Wt.identityKeyToIdentifier({identityKey:ot}),Ye=Object.assign(Object.assign({id:nt},o.alsoKnownAs&&{alsoKnownAs:o.alsoKnownAs}),o.controllers&&{controller:o.controllers}),Ge=[...null!==(K=o.verificationMethods)&&void 0!==K?K:[]];Ge?.some(tt=>{var Qe;return"0"===(null===(Qe=tt.id)||void 0===Qe?void 0:Qe.split("#").pop())})||Ge.unshift({algorithm:"Ed25519",id:"0",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]});for(const tt of Ge){const Qe=tt.id&&"0"===tt.id.split("#").pop()?lt:yield e.generateKey({algorithm:tt.algorithm}),yt=yield e.getPublicKey({keyUri:Qe});let vt=null!==(q=null!==(me=tt.id)&&void 0!==me?me:yt.kid)&&void 0!==q?q:yield xt({jwk:yt});vt=`${nt}#${Or(vt)}`,null!==(U=Ye.verificationMethod)&&void 0!==U||(Ye.verificationMethod=[]),Ye.verificationMethod.push({id:vt,type:"JsonWebKey",controller:null!==(Ae=tt.controller)&&void 0!==Ae?Ae:nt,publicKeyJwk:yt});for(const gt of null!==(Ne=tt.purposes)&&void 0!==Ne?Ne:[])Ye[gt]||(Ye[gt]=[]),Ye[gt].push(vt)}null===(Me=o.services)||void 0===Me||Me.forEach(tt=>{var Qe;null!==(Qe=Ye.service)&&void 0!==Qe||(Ye.service=[]),tt.id=`${nt}#${tt.id.split("#").pop()}`,Ye.service.push(tt)});const ct=new kr({uri:nt,document:Ye,metadata:Object.assign({published:!1},o.types&&{types:o.types}),keyManager:e});if(null===(Ke=o.publish)||void 0===Ke||Ke){const tt=yield t.publish({did:ct,gatewayUri:o.gatewayUri});ct.metadata=tt.didDocumentMetadata}return ct})}static import(e){return Ht(this,arguments,void 0,function*({portableDid:o,keyManager:_=new Yr}){var D;const $=At.parse(o.uri);if($?.method!==t.methodName)throw new mt(ht.MethodNotSupported,"Method not supported");const K=yield kr.import({portableDid:o,keyManager:_});if(null===(D=K.document.verificationMethod)||void 0===D||!D.some(me=>{var q;return"0"===(null===(q=me.id)||void 0===q?void 0:q.split("#").pop())}))throw new mt(ht.InvalidDidDocument,"DID document must contain an Identity Key");return K})}static getSigningMethod(e){return Ht(this,arguments,void 0,function*({didDocument:o,methodId:_="#0"}){var D;const $=At.parse(o.id);if($&&$.method!==this.methodName)throw new mt(ht.MethodNotSupported,`Method not supported: ${$.method}`);const K=null===(D=o.verificationMethod)||void 0===D?void 0:D.find(me=>{var q,U;return Or(me.id)===(null!==(q=Or(_))&&void 0!==q?q:Or(null===(U=o.assertionMethod)||void 0===U?void 0:U[0]))});if(!K||!K.publicKeyJwk)throw new mt(ht.InternalError,"A verification method intended for signing could not be determined from the DID Document");return K})}static publish(e){return Ht(this,arguments,void 0,function*({did:o,gatewayUri:_=Ba}){return yield qr.put({did:o,gatewayUri:_})})}static resolve(e){return Ht(this,arguments,void 0,function*(o,_={}){var D;const $=null!==(D=_?.gatewayUri)&&void 0!==D?D:Ba;try{yield Wt.identifierToIdentityKey({didUri:o});const{didDocument:K,didDocumentMetadata:me}=yield qr.get({didUri:o,gatewayUri:$});return Object.assign(Object.assign({},Lt),{didDocument:K,didDocumentMetadata:me})}catch(K){if(!(K instanceof mt))throw new Error(K);return Object.assign(Object.assign({},Lt),{didResolutionMetadata:Object.assign({error:K.code},K.message&&{errorMessage:K.message})})}})}}return t.methodName="dht",t})();class qr{static get(r){return Ht(this,arguments,void 0,function*({didUri:e,gatewayUri:o}){const _=Wt.identifierToIdentityKeyBytes({didUri:e}),D=yield qr.pkarrGet({gatewayUri:o,publicKeyBytes:_}),$=yield Wt.parseBep44GetMessage({bep44Message:D}),K=yield qr.fromDnsPacket({didUri:e,dnsPacket:$});return K.didDocumentMetadata.versionId=D.seq.toString(),K})}static put(r){return Ht(this,arguments,void 0,function*({did:e,gatewayUri:o}){const _=yield qr.toDnsPacket({didDocument:e.document,didMetadata:e.metadata,authoritativeGatewayUris:[o]}),D=yield Wt.createBep44PutMessage({dnsPacket:_,publicKeyBytes:Wt.identifierToIdentityKeyBytes({didUri:e.uri}),signer:yield e.getSigner({methodId:"0"})}),$=yield qr.pkarrPut({gatewayUri:o,bep44Message:D});return{didDocument:e.document,didDocumentMetadata:Object.assign(Object.assign({},e.metadata),{published:$,versionId:D.seq.toString()}),didRegistrationMetadata:{}}})}static pkarrGet(r){return Ht(this,arguments,void 0,function*({gatewayUri:e,publicKeyBytes:o}){const _=at.uint8Array(o).toBase32Z(),D=new URL(_,e).href;let $;try{if($=yield fetch(D,{method:"GET"}),!$.ok)throw new mt(ht.NotFound,`Pkarr record not found for: ${_}`)}catch(q){throw q instanceof mt?q:new mt(ht.InternalError,`Failed to fetch Pkarr record: ${q.message}`)}const K=yield $.arrayBuffer();if(!K)throw new mt(ht.NotFound,`Pkarr record not found for: ${_}`);if(K.byteLength<72)throw new mt(ht.InvalidDidDocumentLength,`Pkarr response must be at least 72 bytes but got: ${K.byteLength}`);if(K.byteLength>1072)throw new mt(ht.InvalidDidDocumentLength,`Pkarr response exceeds 1000 byte limit: ${K.byteLength}`);return{k:o,seq:Number(new DataView(K).getBigUint64(64)),sig:new Uint8Array(K,0,64),v:new Uint8Array(K,72)}})}static pkarrPut(r){return Ht(this,arguments,void 0,function*({gatewayUri:e,bep44Message:o}){const _=at.uint8Array(o.k).toBase32Z(),D=new URL(_,e).href,$=new Uint8Array(o.v.length+72);let K;$.set(o.sig,0),new DataView($.buffer).setBigUint64(o.sig.length,BigInt(o.seq)),$.set(o.v,o.sig.length+8);try{K=yield fetch(D,{method:"PUT",headers:{"Content-Type":"application/octet-stream"},body:$})}catch(me){throw new mt(ht.InternalError,`Failed to put Pkarr record for identifier ${_}: ${me.message}`)}return K.ok})}static fromDnsPacket(r){return Ht(this,arguments,void 0,function*({didUri:e,dnsPacket:o}){var _,D,$;const K={id:e},me={published:!0},q=new Map;for(const U of null!==(_=o?.answers)&&void 0!==_?_:[]){if("TXT"!==U.type)continue;const Ae=U.name.split(".")[0].substring(1);switch(!0){case Ae.startsWith("aka"):{const Ne=Wt.parseTxtDataToString(U.data);K.alsoKnownAs=Ne.split(ir);break}case Ae.startsWith("cnt"):{const Ne=Wt.parseTxtDataToString(U.data);K.controller=Ne.includes(ir)?Ne.split(ir):Ne;break}case Ae.startsWith("k"):{const{id:Ne,t:Me,k:Ke,c:rt,a:lt}=Wt.parseTxtDataToObject(U.data),ot=at.base64Url(Ke).toUint8Array(),nt=cr[Number(Me)];let Ye=yield Wt.keyConverter(nt).bytesToPublicKey({publicKeyBytes:ot});Ye.alg=lt||$a[Number(Me)];const Ge="k0"===Ae?"0":void 0!==Ne?Ne:yield xt({jwk:Ye});null!==(D=K.verificationMethod)&&void 0!==D||(K.verificationMethod=[]);const ct=`${e}#${Ge}`;K.verificationMethod.push({id:ct,type:"JsonWebKey",controller:rt??e,publicKeyJwk:Ye}),q.set(Ae,ct);break}case Ae.startsWith("s"):{const Ne=Wt.parseTxtDataToObject(U.data),{id:Me,t:Ke,se:rt}=Ne,lt=xa(Ne,["id","t","se"]),ot=rt.includes(ir)?rt.split(ir):[rt],nt=Object.fromEntries(Object.entries(lt).map(([Ye,Ge])=>[Ye,Ge.includes(ir)?Ge.split(ir):Ge]));null!==($=K.service)&&void 0!==$||(K.service=[]),K.service.push(Object.assign(Object.assign({},nt),{id:`${e}#${Me}`,type:Ke,serviceEndpoint:ot}));break}case Ae.startsWith("typ"):{const{id:Ne}=Wt.parseTxtDataToObject(U.data);me.types=Ne.split(ir).map(Me=>Number(Me));break}case Ae.startsWith("did"):{const Ne=nt=>nt.split(ir).map(Ye=>q.get(Ye)).filter(Ye=>"string"==typeof Ye),{auth:Me,asm:Ke,del:rt,inv:lt,agm:ot}=Wt.parseTxtDataToObject(U.data);Me&&(K.authentication=Ne(Me)),Ke&&(K.assertionMethod=Ne(Ke)),rt&&(K.capabilityDelegation=Ne(rt)),lt&&(K.capabilityInvocation=Ne(lt)),ot&&(K.keyAgreement=Ne(ot));break}}}return{didDocument:K,didDocumentMetadata:me,didResolutionMetadata:{}}})}static toDnsPacket(r){return Ht(this,arguments,void 0,function*({didDocument:e,didMetadata:o,authoritativeGatewayUris:_,previousDidProof:D}){var $,K,me,q,U;const Ae=[],Ne=[],Me=new Map,Ke=[],rt=[];if(void 0!==D){const{signature:nt,previousDid:Ye}=D;yield Wt.validatePreviousDidProof({newDid:e.id,previousDidProof:D}),Ae.push({type:"TXT",name:"_prv._did.",ttl:ln,data:`id=${Ye};s=${nt}`})}if(e.alsoKnownAs&&Ae.push({type:"TXT",name:"_aka._did.",ttl:ln,data:e.alsoKnownAs.join(ir)}),e.controller){const nt=Array.isArray(e.controller)?e.controller.join(ir):e.controller;Ae.push({type:"TXT",name:"_cnt._did.",ttl:ln,data:nt})}for(const[nt,Ye]of null!==(K=null===($=e.verificationMethod)||void 0===$?void 0:$.entries())&&void 0!==K?K:[]){const Ge=`k${nt}`;rt.push(Ge);let ct=Ye.id.split("#").pop();Me.set(ct,Ge);const tt=Ye.publicKeyJwk;if(!tt?.crv||!(tt.crv in ja))throw new mt(ht.InvalidPublicKeyType,`Verification method '${Ye.id}' contains an unsupported key type: ${null!==(me=tt?.crv)&&void 0!==me?me:"undefined"}`);const Qe=cr[tt.crv],yt=yield Wt.keyConverter(tt.crv).publicKeyToBytes({publicKey:tt}),gt=[`t=${Qe}`,`k=${at.uint8Array(yt).toBase64Url()}`];"0"!==ct&&(yield xt({jwk:tt}))!==ct&&gt.unshift(`id=${ct}`),tt.alg!==$a[Qe]&&gt.push(`a=${tt.alg}`),Ye.controller!==e.id&&gt.push(`c=${Ye.controller}`),Ae.push({type:"TXT",name:`_${Ge}._did.`,ttl:ln,data:gt.join(";")})}null===(q=e.service)||void 0===q||q.forEach((nt,Ye)=>{const Ge=`s${Ye}`;Ke.push(Ge);let{id:ct,type:tt,serviceEndpoint:Qe}=nt,yt=xa(nt,["id","type","serviceEndpoint"]);ct=Or(ct),Qe=Array.isArray(Qe)?Qe.join(","):Qe;const gt=Object.entries(Object.assign({id:ct,t:tt,se:Qe},yt)).map(([sn,ps])=>`${sn}=${ps}`).join(";"),Dt=Wt.chunkDataIfNeeded(gt);Ae.push({type:"TXT",name:`_${Ge}._did.`,ttl:ln,data:Dt})});const lt=["v=0"];if(rt.length&&lt.push(`vm=${rt.join(ir)}`),Object.keys(an).forEach(nt=>{var Ye;const Ge=null===(Ye=e[nt])||void 0===Ye?void 0:Ye.map(ct=>Me.get(ct.split("#").pop()));Ge&&lt.push(`${Ia[nt]}=${Ge.join(ir)}`)}),Ke.length&&lt.push(`svc=${Ke.join(ir)}`),null!==(U=o.types)&&void 0!==U&&U.length){const Ye=o.types.map(Ge=>"string"==typeof Ge?Ta[Ge]:Ge);Ae.push({type:"TXT",name:"_typ._did.",ttl:ln,data:`id=${Ye.join(ir)}`})}Ae.push({type:"TXT",name:"_did."+qr.getUniqueDidSuffix(e.id)+".",ttl:ln,data:lt.join(";")});for(const nt of _||[])Ne.push({type:"NS",name:"_did."+qr.getUniqueDidSuffix(e.id)+".",ttl:ln,data:nt+"."});return{id:0,type:"response",flags:js.hB,answers:[...Ae,...Ne]}})}static getUniqueDidSuffix(r){return r.split(":")[2]}}class Wt{static createBep44PutMessage(r){return Ht(this,arguments,void 0,function*({dnsPacket:e,publicKeyBytes:o,signer:_}){const D=Math.ceil(Date.now()/1e3),$=(0,js.lF)(e),K=Fa.A.encode({seq:D,v:$}).subarray(1,-1);if(K.length>1e3)throw new mt(ht.InvalidDidDocumentLength,`DNS packet exceeds the 1000 byte maximum size: ${K.length} bytes`);return{k:o,seq:D,sig:yield _.sign({data:K}),v:$}})}static identifierToIdentityKey(r){return Ht(this,arguments,void 0,function*({didUri:e}){let o=Wt.identifierToIdentityKeyBytes({didUri:e});return yield Mt.bytesToPublicKey({publicKeyBytes:o})})}static identifierToIdentityKeyBytes({didUri:r}){const e=At.parse(r);if(!e)throw new mt(ht.InvalidDid,`Invalid DID URI: ${r}`);if(e.method!==$s.methodName)throw new mt(ht.MethodNotSupported,`Method not supported: ${e.method}`);let o;try{o=at.base32Z(e.id).toUint8Array()}catch{throw new mt(ht.InvalidPublicKey,"Failed to decode method-specific identifier")}if(32!==o.length)throw new mt(ht.InvalidPublicKeyLength,`Invalid public key length: ${o.length}`);return o}static identityKeyToIdentifier(r){return Ht(this,arguments,void 0,function*({identityKey:e}){const o=yield Mt.publicKeyToBytes({publicKey:e}),_=at.uint8Array(o).toBase32Z();return`did:${$s.methodName}:${_}`})}static keyConverter(r){const o={Ed25519:Mt,"P-256":{publicKeyToBytes:_=>Ht(this,[_],void 0,function*({publicKey:D}){const $=yield Nt.publicKeyToBytes({publicKey:D});return yield Nt.compressPublicKey({publicKeyBytes:$})}),bytesToPublicKey:Nt.bytesToPublicKey,privateKeyToBytes:Nt.privateKeyToBytes,bytesToPrivateKey:Nt.bytesToPrivateKey},secp256k1:{publicKeyToBytes:_=>Ht(this,[_],void 0,function*({publicKey:D}){const $=yield Rt.publicKeyToBytes({publicKey:D});return yield Rt.compressPublicKey({publicKeyBytes:$})}),bytesToPublicKey:Rt.bytesToPublicKey,privateKeyToBytes:Rt.privateKeyToBytes,bytesToPrivateKey:Rt.bytesToPrivateKey},X25519:Cn}[r];if(!o)throw new mt(ht.InvalidPublicKeyType,`Unsupported curve: ${r}`);return o}static parseBep44GetMessage(r){return Ht(this,arguments,void 0,function*({bep44Message:e}){const o=yield Mt.bytesToPublicKey({publicKeyBytes:e.k}),_=Fa.A.encode({seq:e.seq,v:e.v}).subarray(1,-1);if(!(yield Mt.verify({key:o,signature:e.sig,data:_})))throw new mt(ht.InvalidSignature,"Invalid signature for DHT BEP44 message");return(0,js.D4)(e.v)})}static parseTxtDataToObject(r){return this.parseTxtDataToString(r).split(";").reduce((e,o)=>{const[_,D]=o.split("=");return e[_]=D,e},{})}static parseTxtDataToString(r){if("string"==typeof r)return r;if(r instanceof Uint8Array)return at.uint8Array(r).toString();if(Array.isArray(r))return r.map(e=>this.parseTxtDataToString(e)).join("");throw new mt(ht.InternalError,"Pkarr returned DNS TXT record with invalid data type")}static validatePreviousDidProof(r){return Ht(this,arguments,void 0,function*({newDid:e,previousDidProof:o}){const _=yield Wt.identifierToIdentityKey({didUri:o.previousDid}),D=Wt.identifierToIdentityKeyBytes({didUri:e}),$=at.base64Url(o.signature).toUint8Array();if(!(yield Mt.verify({key:_,data:D,signature:$})))throw new mt(ht.InvalidPreviousDidProof,"The previous DID proof is invalid.")})}static chunkDataIfNeeded(r){if(r.length<=255)return r;const e=[];for(let o=0;o<r.length;o+=255)e.push(r.slice(o,o+255));return e}}var ka=i(52039),cn=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})},Qr=function(t){return t.Ed25519="Ed25519",t.secp256k1="secp256k1",t.secp256r1="secp256r1",t.X25519="X25519",t}(Qr||{});const il={Ed25519:Qr.Ed25519,ES256K:Qr.secp256k1,ES256:Qr.secp256r1,"P-256":Qr.secp256r1,secp256k1:Qr.secp256k1,secp256r1:Qr.secp256r1},Ra="https://ion.tbd.engineering";let sl=(()=>{class t extends bi{static create(){return cn(this,arguments,void 0,function*({keyManager:e=new Yr,options:o={}}={}){var _,D,$,K,me,q,U;if(null!==(_=o.verificationMethods)&&void 0!==_&&_.some(tt=>!(tt.algorithm in il)))throw new Error("One or more verification method algorithms are not supported");const Ae=null===(D=o.verificationMethods)||void 0===D?void 0:D.filter(tt=>"id"in tt).map(tt=>tt.id);if(Ae&&Ae.length!==new Set(Ae).size)throw new Error("One or more verification method IDs are not unique");if(null!==($=o.services)&&void 0!==$&&$.some(tt=>!tt.id||!tt.type||!tt.serviceEndpoint))throw new Error("One or more services are missing required properties");const Ne={algorithm:"Ed25519",purposes:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]},Me=[];for(const tt of null!==(K=o.verificationMethods)&&void 0!==K?K:[Ne]){const Qe=yield e.generateKey({algorithm:tt.algorithm}),yt=yield e.getPublicKey({keyUri:Qe});Me.push({id:tt.id,publicKeyJwk:yt,purposes:null!==(me=tt.purposes)&&void 0!==me?me:["authentication","assertionMethod","capabilityDelegation","capabilityInvocation"]})}const Ke=yield e.generateKey({algorithm:Qr.secp256k1}),rt=yield e.getPublicKey({keyUri:Ke}),lt=yield e.generateKey({algorithm:Qr.secp256k1}),ot=yield e.getPublicKey({keyUri:lt}),nt=yield Ar.computeLongFormDidUri({recoveryKey:rt,updateKey:ot,services:null!==(q=o.services)&&void 0!==q?q:[],verificationMethods:Me}),{didDocument:Ye,didResolutionMetadata:Ge}=yield t.resolve(nt,{gatewayUri:o.gatewayUri});if(null===Ye)throw new Error(`Unable to resolve DID during creation: ${Ge?.error}`);const ct=new kr({uri:nt,document:Ye,metadata:{published:!1,canonicalId:nt.split(":",3).join(":"),recoveryKey:rt,updateKey:ot},keyManager:e});if(null===(U=o.publish)||void 0===U||U){const tt=yield t.publish({did:ct,gatewayUri:o.gatewayUri});ct.metadata=tt.didDocumentMetadata}return ct})}static getSigningMethod(e){return cn(this,arguments,void 0,function*({didDocument:o,methodId:_}){var D;const $=At.parse(o.id);if($&&$.method!==this.methodName)throw new mt(ht.MethodNotSupported,`Method not supported: ${$.method}`);const K=null===(D=o.verificationMethod)||void 0===D?void 0:D.find(me=>{var q;return me.id===(_??(null===(q=o.assertionMethod)||void 0===q?void 0:q[0]))});if(!K||!K.publicKeyJwk)throw new mt(ht.InternalError,"A verification method intended for signing could not be determined from the DID Document");return K})}static import(e){return cn(this,arguments,void 0,function*({portableDid:o,keyManager:_=new Yr}){const D=At.parse(o.uri);if(D?.method!==t.methodName)throw new mt(ht.MethodNotSupported,"Method not supported");return yield kr.import({portableDid:o,keyManager:_})})}static publish(e){return cn(this,arguments,void 0,function*({did:o,gatewayUri:_=Ra}){var D,$,K;const me=null!==($=null===(D=o.document.verificationMethod)||void 0===D?void 0:D.map(Ae=>({id:Ae.id,publicKeyJwk:Ae.publicKeyJwk,purposes:tl({didDocument:o.document,methodId:Ae.id})})))&&void 0!==$?$:[],q=yield Ar.createIonDocument({services:null!==(K=o.document.service)&&void 0!==K?K:[],verificationMethods:me}),U=yield Ar.constructCreateRequest({ionDocument:q,recoveryKey:o.metadata.recoveryKey,updateKey:o.metadata.updateKey});try{const Ae=Ar.appendPathToUrl({baseUrl:_,path:"/operations"}),Ne=yield fetch(Ae,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});return{didDocument:o.document,didDocumentMetadata:Object.assign(Object.assign({},o.metadata),{published:Ne.ok}),didRegistrationMetadata:{}}}catch{return{didDocument:null,didDocumentMetadata:{published:!1},didRegistrationMetadata:{error:ht.InternalError,errorMessage:`Failed to publish DID document for: ${o.uri}`}}}})}static resolve(e){return cn(this,arguments,void 0,function*(o,_={}){var D,$;const K=At.parse(o);if(!K)return Object.assign(Object.assign({},Lt),{didResolutionMetadata:{error:"invalidDid"}});if(K.method!==t.methodName)return Object.assign(Object.assign({},Lt),{didResolutionMetadata:{error:"methodNotSupported"}});const me=null!==(D=_?.gatewayUri)&&void 0!==D?D:Ra;try{const q=Ar.appendPathToUrl({baseUrl:me,path:`/identifiers/${o}`}),U=yield fetch(q);if(!U.ok)throw new mt(ht.NotFound,`Unable to find DID document for: ${o}`);const{didDocument:Ae,didDocumentMetadata:Ne}=yield U.json();return Object.assign(Object.assign(Object.assign({},Lt),Ae&&{didDocument:Ae}),{didDocumentMetadata:Object.assign({published:null===($=Ne?.method)||void 0===$?void 0:$.published},Ne)})}catch(q){if(!(q instanceof mt))throw new Error(q);return Object.assign(Object.assign({},Lt),{didResolutionMetadata:Object.assign({error:q.code},q.message&&{errorMessage:q.message})})}})}}return t.methodName="ion",t})();class Ar{static appendPathToUrl({baseUrl:r,path:e}){const o=new URL(r);return o.pathname=o.pathname.endsWith("/")?o.pathname:o.pathname+"/",o.pathname+=e.startsWith("/")?e.substring(1):e,o.toString()}static computeLongFormDidUri(r){return cn(this,arguments,void 0,function*({recoveryKey:e,updateKey:o,services:_,verificationMethods:D}){const $=yield Ar.createIonDocument({services:_,verificationMethods:D}),K=Ar.normalizeJwk(e),me=Ar.normalizeJwk(o);return yield ka.oU.createLongFormDid({document:$,recoveryKey:K,updateKey:me})})}static constructCreateRequest(r){return cn(this,arguments,void 0,function*({ionDocument:e,recoveryKey:o,updateKey:_}){return yield ka.Q2.createCreateRequest({document:e,recoveryKey:Ar.normalizeJwk(o),updateKey:Ar.normalizeJwk(_)})})}static createIonDocument(r){return cn(this,arguments,void 0,function*({services:e,verificationMethods:o}){var _,D;const $=[];for(const q of o){let U=null!==(D=null!==(_=q.id)&&void 0!==_?_:q.publicKeyJwk.kid)&&void 0!==D?D:yield xt({jwk:q.publicKeyJwk});U=`${U.split("#").pop()}`;const Ae={id:U,publicKeyJwk:Ar.normalizeJwk(q.publicKeyJwk),purposes:q.purposes,type:"JsonWebKey2020"};$.push(Ae)}return{publicKeys:$,services:e.map(q=>Object.assign(Object.assign({},q),{id:`${q.id.split("#").pop()}`}))}})}static normalizeJwk(r){const e=r.kty;let o;if("EC"===e)o={crv:r.crv,kty:r.kty,x:r.x,y:r.y};else if("oct"===e)o={k:r.k,kty:r.kty};else if("OKP"===e)o={crv:r.crv,kty:r.kty,x:r.x};else{if("RSA"!==e)throw new Error(`Unsupported key type: ${e}`);o={e:r.e,kty:r.kty,n:r.n}}return o}}var Qi=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};let al=(()=>{class t extends bi{static create(){return Qi(this,arguments,void 0,function*({keyManager:e=new Yr,options:o={}}={}){var _,D,$,K;if(o.algorithm&&o.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(o.verificationMethods&&1!==o.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const me=null!==(K=null!==(_=o.algorithm)&&void 0!==_?_:null===($=null===(D=o.verificationMethods)||void 0===D?void 0:D[0])||void 0===$?void 0:$.algorithm)&&void 0!==K?K:"Ed25519",q=yield e.generateKey({algorithm:me}),U=yield e.getPublicKey({keyUri:q}),Ae=at.object(U).toBase64Url(),Ne=`did:${t.methodName}:${Ae}`,Ke=(yield t.resolve(Ne)).didDocument;return new kr({uri:Ne,document:Ke,metadata:{},keyManager:e})})}static getSigningMethod(e){return Qi(this,arguments,void 0,function*({didDocument:o}){var _;const D=At.parse(o.id);if(D&&D.method!==this.methodName)throw new mt(ht.MethodNotSupported,`Method not supported: ${D.method}`);const[$]=null!==(_=o.verificationMethod)&&void 0!==_?_:[];if(!$||!$.publicKeyJwk)throw new mt(ht.InternalError,"A verification method intended for signing could not be determined from the DID Document");return $})}static import(e){return Qi(this,arguments,void 0,function*({portableDid:o,keyManager:_=new Yr}){const D=At.parse(o.uri);if(D?.method!==t.methodName)throw new mt(ht.MethodNotSupported,"Method not supported");const $=yield kr.import({portableDid:o,keyManager:_});if(1!==$.document.verificationMethod.length)throw new mt(ht.InvalidDidDocument,"DID document must contain exactly one verification method");return $})}static resolve(e,o){return Qi(this,void 0,void 0,function*(){const _=At.parse(e);let D;try{D=at.base64Url(_.id).toObject()}catch{}if(!_||!D)return Object.assign(Object.assign({},Lt),{didResolutionMetadata:{error:"invalidDid"}});if(_.method!==t.methodName)return Object.assign(Object.assign({},Lt),{didResolutionMetadata:{error:"methodNotSupported"}});const $={"@context":["https://www.w3.org/ns/did/v1"],id:_.uri},K=`${$.id}#0`;switch($.verificationMethod=[{id:K,type:"JsonWebKey",controller:$.id,publicKeyJwk:D}],$.authentication=[K],$.assertionMethod=[K],$.capabilityInvocation=[K],$.capabilityDelegation=[K],$.keyAgreement=[K],D.use){case"sig":delete $.keyAgreement;break;case"enc":delete $.authentication,delete $.assertionMethod,delete $.capabilityInvocation,delete $.capabilityDelegation}return Object.assign(Object.assign({},Lt),{didDocument:$})})}}return t.methodName="jwk",t})();var xr=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})},dn=function(t){return t.Ed25519="Ed25519",t.secp256k1="secp256k1",t.secp256r1="secp256r1",t.X25519="X25519",t}(dn||{});const ks={Ed25519VerificationKey2020:"https://w3id.org/security/suites/ed25519-2020/v1",JsonWebKey2020:"https://w3id.org/security/suites/jws-2020/v1",X25519KeyAgreementKey2020:"https://w3id.org/security/suites/x25519-2020/v1"},ol={Ed25519:dn.Ed25519,ES256K:dn.secp256k1,ES256:dn.secp256r1,"P-256":dn.secp256r1,secp256k1:dn.secp256k1,secp256r1:dn.secp256r1,X25519:dn.X25519};let ul=(()=>{class t extends bi{static create(){return xr(this,arguments,void 0,function*({keyManager:e=new Yr,options:o={}}={}){var _,D,$,K;if(o.algorithm&&o.verificationMethods)throw new Error("The 'algorithm' and 'verificationMethods' options are mutually exclusive");if(o.verificationMethods&&1!==o.verificationMethods.length)throw new Error("The 'verificationMethods' option must contain exactly one entry");const me=null!==(K=null!==(_=o.algorithm)&&void 0!==_?_:null===($=null===(D=o.verificationMethods)||void 0===D?void 0:D[0])||void 0===$?void 0:$.algorithm)&&void 0!==K?K:"Ed25519",q=yield e.generateKey({algorithm:me}),U=yield e.getPublicKey({keyUri:q}),Ae=yield en.publicKeyToMultibaseId({publicKey:U}),Ne=`did:${t.methodName}:${Ae}`,Ke=(yield t.resolve(Ne,o)).didDocument;return new kr({uri:Ne,document:Ke,metadata:{},keyManager:e})})}static getSigningMethod(e){return xr(this,arguments,void 0,function*({didDocument:o}){var _;const D=At.parse(o.id);if(D&&D.method!==this.methodName)throw new mt(ht.MethodNotSupported,`Method not supported: ${D.method}`);const[$]=o.assertionMethod||[],K=null===(_=o.verificationMethod)||void 0===_?void 0:_.find(me=>me.id===$);if(!K||!K.publicKeyJwk)throw new mt(ht.InternalError,"A verification method intended for signing could not be determined from the DID Document");return K})}static import(e){return xr(this,arguments,void 0,function*({portableDid:o,keyManager:_=new Yr}){const D=At.parse(o.uri);if(D?.method!==t.methodName)throw new mt(ht.MethodNotSupported,"Method not supported");const $=yield kr.import({portableDid:o,keyManager:_});if(1!==$.document.verificationMethod.length)throw new mt(ht.InvalidDidDocument,"DID document must contain exactly one verification method");return $})}static resolve(e,o){return xr(this,void 0,void 0,function*(){try{const _=yield t.createDocument({didUri:e,options:o});return Object.assign(Object.assign({},Lt),{didDocument:_})}catch(_){if(!(_ instanceof mt))throw new Error(_);return Object.assign(Object.assign({},Lt),{didResolutionMetadata:Object.assign({error:_.code},_.message&&{errorMessage:_.message})})}})}static createDocument(e){return xr(this,arguments,void 0,function*({didUri:o,options:_={}}){const{defaultContext:D="https://www.w3.org/ns/did/v1",enableEncryptionKeyDerivation:$=!1,enableExperimentalPublicKeyTypes:K=!1,publicKeyFormat:me="JsonWebKey2020"}=_,q={id:""},U=At.parse(o);if(!U)throw new mt(ht.InvalidDid,`Invalid DID URI: ${o}`);const Ae=U.id;if(U.method!==t.methodName)throw new mt(ht.MethodNotSupported,`Method not supported: ${U.method}`);if(!t.validateIdentifier(U))throw new mt(ht.InvalidDid,`Invalid DID URI: ${o}`);const Ne=yield t.createSignatureMethod({didUri:o,multibaseValue:Ae,options:{enableExperimentalPublicKeyTypes:K,publicKeyFormat:me}});if(q.id=U.uri,q.verificationMethod=[Ne],q.authentication=[Ne.id],q.assertionMethod=[Ne.id],q.capabilityInvocation=[Ne.id],q.capabilityDelegation=[Ne.id],!0===$){const rt="Ed25519VerificationKey2020"===me?"X25519KeyAgreementKey2020":"JsonWebKey2020",lt=yield this.createEncryptionMethod({didUri:o,multibaseValue:Ae,options:{enableExperimentalPublicKeyTypes:K,publicKeyFormat:rt}});q.verificationMethod.push(lt),q.keyAgreement=[lt.id]}const Me=[D];return function el({didDocument:t}){const e=Is({didDocument:t}).map(o=>o.type);return[...new Set(e)]}({didDocument:q}).forEach(rt=>{Me.push(ks[rt])}),q["@context"]=Me,q})}static createEncryptionMethod(e){return xr(this,arguments,void 0,function*({didUri:o,multibaseValue:_,options:D}){const{enableExperimentalPublicKeyTypes:$,publicKeyFormat:K}=D,me={id:"",type:"",controller:""},{keyBytes:q,multicodecCode:U}=yield t.deriveEncryptionKey({multibaseValue:_}),Ae=q.byteLength,Ne=en.MULTICODEC_PUBLIC_KEY_LENGTH[U];if(Ae!==Ne)throw new mt(ht.InvalidPublicKeyLength,`Expected ${Ae} bytes. Actual: ${Ne}`);const Me=Ca({keyBytes:q,multicodecCode:U});me.id=`${o}#${Me}`;try{new URL(me.id)}catch{throw new mt(ht.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(K in ks))throw new mt(ht.UnsupportedPublicKeyType,`Unsupported format: ${K}`);if(!1===$&&!["Multikey","JsonWebKey2020","X25519KeyAgreementKey2020"].includes(K))throw new mt(ht.InvalidPublicKeyType,`Specified '${K}' without setting enableExperimentalPublicKeyTypes to true.`);if(me.type=K,me.controller=o,"X25519KeyAgreementKey2020"===K&&(me.publicKeyMultibase=Me),"JsonWebKey2020"===K){const{crv:rt}=yield en.multicodecToJwk({code:U});me.publicKeyJwk=yield en.keyConverter(rt).bytesToPublicKey({publicKeyBytes:q})}return me})}static createSignatureMethod(e){return xr(this,arguments,void 0,function*({didUri:o,multibaseValue:_,options:D}){const{enableExperimentalPublicKeyTypes:$,publicKeyFormat:K}=D,me={id:"",type:"",controller:""},{keyBytes:q,multicodecCode:U,multicodecName:Ae}=Pa({multibaseKeyId:_}),Ne=q.byteLength,Me=en.MULTICODEC_PUBLIC_KEY_LENGTH[U];if(Ne!==Me)throw new mt(ht.InvalidPublicKeyLength,`Expected ${Ne} bytes. Actual: ${Me}`);let Ke=!1;switch(Ae){case"secp256k1-pub":Ke=yield Rt.validatePublicKey({publicKeyBytes:q});break;case"ed25519-pub":Ke=yield Mt.validatePublicKey({publicKeyBytes:q});break;case"x25519-pub":Ke=!0}if(!Ke)throw new mt(ht.InvalidPublicKey,"Invalid public key detected.");me.id=`${o}#${_}`;try{new URL(me.id)}catch{throw new mt(ht.InvalidDidUrl,"Verification Method ID is not a valid DID URL.")}if(!(K in ks))throw new mt(ht.UnsupportedPublicKeyType,`Unsupported format: ${K}`);if(!1===$&&!["Multikey","JsonWebKey2020","Ed25519VerificationKey2020"].includes(K))throw new mt(ht.InvalidPublicKeyType,`Specified '${K}' without setting enableExperimentalPublicKeyTypes to true.`);if(me.type=K,me.controller=o,"Ed25519VerificationKey2020"===K&&(me.publicKeyMultibase=_),"JsonWebKey2020"===K){const{crv:lt}=yield en.multicodecToJwk({code:U});me.publicKeyJwk=yield en.keyConverter(lt).bytesToPublicKey({publicKeyBytes:q})}return me})}static deriveEncryptionKey(e){return xr(this,arguments,void 0,function*({multibaseValue:o}){let _={keyBytes:new Uint8Array,multicodecCode:0};const{keyBytes:D,multicodecCode:$}=Pa({multibaseKeyId:o});if(237===$){const K=yield en.keyConverter("Ed25519").bytesToPublicKey({publicKeyBytes:D}),me=yield Mt.convertPublicKeyToX25519({publicKey:K});_={keyBytes:yield en.keyConverter("Ed25519").publicKeyToBytes({publicKey:me}),multicodecCode:236}}return _})}static validateIdentifier(e){const{method:o,id:_}=e,[D]=e.uri.split(":",1);return"did"===D&&"key"===o&&Number("1")>0&&"String"===Le(_)&&_.startsWith("z")}}return t.methodName="key",t})(),en=(()=>{class t{static jwkToMulticodec(e){return xr(this,arguments,void 0,function*({jwk:o}){const _=[];o.crv&&(_.push(o.crv),_.push(o.d?"private":"public"));const D=_.join(":"),$=t.JWK_TO_MULTICODEC[D];if(void 0===$)throw new Error(`Unsupported JWK to Multicodec conversion: '${D}'`);return{code:zt.getCodeFromName({name:$}),name:$}})}static keyCompressor(e){const _={"P-256":Nt.compressPublicKey,secp256k1:Rt.compressPublicKey}[e];if(!_)throw new mt(ht.InvalidPublicKeyType,`Unsupported curve: ${e}`);return _}static keyConverter(e){const _={Ed25519:Mt,"P-256":Nt,secp256k1:Rt,X25519:Cn}[e];if(!_)throw new mt(ht.InvalidPublicKeyType,`Unsupported curve: ${e}`);return _}static multicodecToJwk(e){return xr(this,arguments,void 0,function*({code:o,name:_}){if(!(_?!o:o))throw new Error("Either 'name' or 'code' must be defined, but not both.");_=void 0===_?zt.getNameFromCode({code:o}):_;const $=t.MULTICODEC_TO_JWK[_];if(void 0===$)throw new Error("Unsupported Multicodec to JWK conversion");return Object.assign({},$)})}static publicKeyToMultibaseId(e){return xr(this,arguments,void 0,function*({publicKey:o}){var _;if(!o?.crv||!(o.crv in ol))throw new mt(ht.InvalidPublicKeyType,`Public key contains an unsupported key type: ${null!==(_=o?.crv)&&void 0!==_?_:"undefined"}`);let D=yield t.keyConverter(o.crv).publicKeyToBytes({publicKey:o});/^(secp256k1|P-256|P-384|P-521)$/.test(o.crv)&&(D=yield t.keyCompressor(o.crv)({publicKeyBytes:D}));const{name:$}=yield t.jwkToMulticodec({jwk:o});return Ca({keyBytes:D,multicodecName:$})})}}return t.JWK_TO_MULTICODEC={"Ed25519:public":"ed25519-pub","Ed25519:private":"ed25519-priv","secp256k1:public":"secp256k1-pub","secp256k1:private":"secp256k1-priv","X25519:public":"x25519-pub","X25519:private":"x25519-priv"},t.MULTICODEC_PUBLIC_KEY_LENGTH={231:33,236:32,237:32},t.MULTICODEC_TO_JWK={"ed25519-pub":{crv:"Ed25519",kty:"OKP",x:""},"ed25519-priv":{crv:"Ed25519",kty:"OKP",x:"",d:""},"secp256k1-pub":{crv:"secp256k1",kty:"EC",x:"",y:""},"secp256k1-priv":{crv:"secp256k1",kty:"EC",x:"",y:"",d:""},"x25519-pub":{crv:"X25519",kty:"OKP",x:""},"x25519-priv":{crv:"X25519",kty:"OKP",x:"",d:""}},t})();let cl=(()=>{class t extends bi{static resolve(e,o){return function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})}(this,void 0,void 0,function*(){const _=At.parse(e);if(!_)return Object.assign(Object.assign({},Lt),{didResolutionMetadata:{error:"invalidDid"}});if(_.method!==t.methodName)return Object.assign(Object.assign({},Lt),{didResolutionMetadata:{error:"methodNotSupported"}});let D=`https://${_.id.replace(/:/g,"/")}`;D=decodeURIComponent(D);const $=_.id.includes(":")?`${D}/did.json`:`${D}/.well-known/did.json`;try{const K=yield fetch($);if(!K.ok)throw new Error("HTTP error status code returned");const me=yield K.json();return Object.assign(Object.assign({},Lt),{didDocument:me})}catch{return Object.assign(Object.assign({},Lt),{didResolutionMetadata:{error:"notFound"}})}})}}return t.methodName="web",t})();i(9236);const fl={get:function(t){return null},set:function(t,r){return null},delete:function(t){return null},clear:function(){return null},close:function(){return null}};var Na=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})},Ma=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};const hl=new gn.eP;class Pn{static sign(r){return Ma(this,void 0,void 0,function*(){const{signerDid:e,payload:o}=r,_=yield e.getSigner();let D=_.keyId;"#"===D.charAt(0)&&(D=`${e.uri}${D}`);const $=Object.assign({alg:_.algorithm,kid:D},r.header),q=`${He.object($).toBase64Url()}.${He.object(o).toBase64Url()}`,U=He.string(q).toUint8Array(),Ae=yield _.sign({data:U});return`${q}.${He.uint8Array(Ae).toBase64Url()}`})}static verify(r){return Ma(this,void 0,void 0,function*(){const{decoded:e,encoded:o}=Pn.parse({jwt:r.jwt});if(e.payload.exp&&Math.floor(Date.now()/1e3)>e.payload.exp)throw new Error("Verification failed: JWT is expired");const _=yield Pn.didResolver.dereference(e.header.kid);if(_.dereferencingMetadata.error)throw new Error(`Failed to resolve ${e.header.kid}`);const D=_.contentStream;if(!D||!Yi(D))throw new Error("Verification failed: Expected kid in JWT header to dereference a DID Document Verification Method");const $=D.publicKeyJwk;if(!$)throw new Error("Verification failed: Expected kid in JWT header to dereference to a DID Document Verification Method with publicKeyJwk");if($.alg&&$.alg!==e.header.alg)throw new Error("Verification failed: Expected alg in JWT header to match DID Document Verification Method alg");const me=He.string(`${o.header}.${o.payload}`).toUint8Array(),q=He.base64Url(o.signature).toUint8Array();if(!(yield hl.verify({key:$,signature:q,data:me})))throw new Error("Signature verification failed: Integrity mismatch");return e})}static parse(r){const e=r.jwt.split(".");if(3!==e.length)throw new Error(`Verification failed: Malformed JWT. expected 3 parts. got ${e.length}`);const[o,_,D]=e;let $,K;try{$=He.base64Url(o).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT header")}if(!$.alg||!$.kid)throw new Error("Verification failed: Expected JWT header to contain alg and kid");try{K=He.base64Url(_).toObject()}catch{throw new Error("Verification failed: Malformed JWT. Invalid base64url encoding for JWT payload")}return{decoded:{header:$,payload:K},encoded:{header:o,payload:_,signature:D}}}}function Un(t){let r=t.length;for(;--r>=0;)t[r]=0}Pn.didResolver=new class pl{constructor({cache:r,didResolvers:e}){this.didResolvers=new Map,this.cache=r||fl;for(const o of e)this.didResolvers.set(o.methodName,o)}resolve(r,e){return Na(this,void 0,void 0,function*(){const o=At.parse(r);if(!o)return Object.assign(Object.assign({},Lt),{didResolutionMetadata:{error:ht.InvalidDid,errorMessage:`Invalid DID URI: ${r}`}});const _=this.didResolvers.get(o.method);if(!_)return Object.assign(Object.assign({},Lt),{didResolutionMetadata:{error:ht.MethodNotSupported,errorMessage:`Method not supported: ${o.method}`}});const D=yield this.cache.get(o.uri);if(D)return D;{const $=yield _.resolve(o.uri,e);return $.didResolutionMetadata.error||(yield this.cache.set(o.uri,$)),$}})}dereference(r,e){return Na(this,void 0,void 0,function*(){const o=At.parse(r);if(!o)return{dereferencingMetadata:{error:ht.InvalidDidUrl},contentStream:null,contentMetadata:{}};const{didDocument:_,didResolutionMetadata:D,didDocumentMetadata:$}=yield this.resolve(o.uri);if(!_)return{dereferencingMetadata:{error:D.error},contentStream:null,contentMetadata:{}};if(!o.fragment||o.query)return{dereferencingMetadata:{contentType:"application/did+json"},contentStream:_,contentMetadata:$};const{service:K=[],verificationMethod:me=[]}=_,q=new Set([r,o.fragment,`#${o.fragment}`]);let U;for(let Ae of me)if(q.has(Ae.id)){U=Ae;break}for(let Ae of K)if(q.has(Ae.id)){U=Ae;break}return U?{dereferencingMetadata:{contentType:"application/did+json"},contentStream:U,contentMetadata:D}:{dereferencingMetadata:{error:ht.NotFound},contentStream:null,contentMetadata:{}}})}}({didResolvers:[$s,sl,ul,al,cl]}),new(i(30720).E8);const Us=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),es=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Al=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ga=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tn=new Array(576);Un(tn);const Si=new Array(60);Un(Si);const Ai=new Array(512);Un(Ai);const Di=new Array(256);Un(Di);const Vs=new Array(29);Un(Vs);const ts=new Array(30);function Ks(t,r,e,o,_){this.static_tree=t,this.extra_bits=r,this.extra_base=e,this.elems=o,this.max_length=_,this.has_stree=t&&t.length}let Za,Xa,Ya;function zs(t,r){this.dyn_tree=t,this.max_code=0,this.stat_desc=r}Un(ts);const qa=t=>t<256?Ai[t]:Ai[256+(t>>>7)],_i=(t,r)=>{t.pending_buf[t.pending++]=255&r,t.pending_buf[t.pending++]=r>>>8&255},dr=(t,r,e)=>{t.bi_valid>16-e?(t.bi_buf|=r<<t.bi_valid&65535,_i(t,t.bi_buf),t.bi_buf=r>>16-t.bi_valid,t.bi_valid+=e-16):(t.bi_buf|=r<<t.bi_valid&65535,t.bi_valid+=e)},Rr=(t,r,e)=>{dr(t,e[2*r],e[2*r+1])},Qa=(t,r)=>{let e=0;do{e|=1&t,t>>>=1,e<<=1}while(--r>0);return e>>>1},eo=(t,r,e)=>{const o=new Array(16);let D,$,_=0;for(D=1;D<=15;D++)_=_+e[D-1]<<1,o[D]=_;for($=0;$<=r;$++){let K=t[2*$+1];0!==K&&(t[2*$]=Qa(o[K]++,K))}},to=t=>{let r;for(r=0;r<286;r++)t.dyn_ltree[2*r]=0;for(r=0;r<30;r++)t.dyn_dtree[2*r]=0;for(r=0;r<19;r++)t.bl_tree[2*r]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},ro=t=>{t.bi_valid>8?_i(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},no=(t,r,e,o)=>{const _=2*r,D=2*e;return t[_]<t[D]||t[_]===t[D]&&o[r]<=o[e]},Ws=(t,r,e)=>{const o=t.heap[e];let _=e<<1;for(;_<=t.heap_len&&(_<t.heap_len&&no(r,t.heap[_+1],t.heap[_],t.depth)&&_++,!no(r,o,t.heap[_],t.depth));)t.heap[e]=t.heap[_],e=_,_<<=1;t.heap[e]=o},io=(t,r,e)=>{let o,_,$,K,D=0;if(0!==t.sym_next)do{o=255&t.pending_buf[t.sym_buf+D++],o+=(255&t.pending_buf[t.sym_buf+D++])<<8,_=t.pending_buf[t.sym_buf+D++],0===o?Rr(t,_,r):($=Di[_],Rr(t,$+256+1,r),K=Us[$],0!==K&&(_-=Vs[$],dr(t,_,K)),o--,$=qa(o),Rr(t,$,e),K=es[$],0!==K&&(o-=ts[$],dr(t,o,K)))}while(D<t.sym_next);Rr(t,256,r)},Js=(t,r)=>{const e=r.dyn_tree,o=r.stat_desc.static_tree,_=r.stat_desc.has_stree,D=r.stat_desc.elems;let $,K,q,me=-1;for(t.heap_len=0,t.heap_max=573,$=0;$<D;$++)0!==e[2*$]?(t.heap[++t.heap_len]=me=$,t.depth[$]=0):e[2*$+1]=0;for(;t.heap_len<2;)q=t.heap[++t.heap_len]=me<2?++me:0,e[2*q]=1,t.depth[q]=0,t.opt_len--,_&&(t.static_len-=o[2*q+1]);for(r.max_code=me,$=t.heap_len>>1;$>=1;$--)Ws(t,e,$);q=D;do{$=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Ws(t,e,1),K=t.heap[1],t.heap[--t.heap_max]=$,t.heap[--t.heap_max]=K,e[2*q]=e[2*$]+e[2*K],t.depth[q]=(t.depth[$]>=t.depth[K]?t.depth[$]:t.depth[K])+1,e[2*$+1]=e[2*K+1]=q,t.heap[1]=q++,Ws(t,e,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,r)=>{const e=r.dyn_tree,o=r.max_code,_=r.stat_desc.static_tree,D=r.stat_desc.has_stree,$=r.stat_desc.extra_bits,K=r.stat_desc.extra_base,me=r.stat_desc.max_length;let q,U,Ae,Ne,Me,Ke,rt=0;for(Ne=0;Ne<=15;Ne++)t.bl_count[Ne]=0;for(e[2*t.heap[t.heap_max]+1]=0,q=t.heap_max+1;q<573;q++)U=t.heap[q],Ne=e[2*e[2*U+1]+1]+1,Ne>me&&(Ne=me,rt++),e[2*U+1]=Ne,!(U>o)&&(t.bl_count[Ne]++,Me=0,U>=K&&(Me=$[U-K]),Ke=e[2*U],t.opt_len+=Ke*(Ne+Me),D&&(t.static_len+=Ke*(_[2*U+1]+Me)));if(0!==rt){do{for(Ne=me-1;0===t.bl_count[Ne];)Ne--;t.bl_count[Ne]--,t.bl_count[Ne+1]+=2,t.bl_count[me]--,rt-=2}while(rt>0);for(Ne=me;0!==Ne;Ne--)for(U=t.bl_count[Ne];0!==U;)Ae=t.heap[--q],!(Ae>o)&&(e[2*Ae+1]!==Ne&&(t.opt_len+=(Ne-e[2*Ae+1])*e[2*Ae],e[2*Ae+1]=Ne),U--)}})(t,r),eo(e,me,t.bl_count)},so=(t,r,e)=>{let o,D,_=-1,$=r[1],K=0,me=7,q=4;for(0===$&&(me=138,q=3),r[2*(e+1)+1]=65535,o=0;o<=e;o++)D=$,$=r[2*(o+1)+1],!(++K<me&&D===$)&&(K<q?t.bl_tree[2*D]+=K:0!==D?(D!==_&&t.bl_tree[2*D]++,t.bl_tree[32]++):K<=10?t.bl_tree[34]++:t.bl_tree[36]++,K=0,_=D,0===$?(me=138,q=3):D===$?(me=6,q=3):(me=7,q=4))},ao=(t,r,e)=>{let o,D,_=-1,$=r[1],K=0,me=7,q=4;for(0===$&&(me=138,q=3),o=0;o<=e;o++)if(D=$,$=r[2*(o+1)+1],!(++K<me&&D===$)){if(K<q)do{Rr(t,D,t.bl_tree)}while(0!=--K);else 0!==D?(D!==_&&(Rr(t,D,t.bl_tree),K--),Rr(t,16,t.bl_tree),dr(t,K-3,2)):K<=10?(Rr(t,17,t.bl_tree),dr(t,K-3,3)):(Rr(t,18,t.bl_tree),dr(t,K-11,7));K=0,_=D,0===$?(me=138,q=3):D===$?(me=6,q=3):(me=7,q=4)}};let oo=!1;const uo=(t,r,e,o)=>{dr(t,0+(o?1:0),3),ro(t),_i(t,e),_i(t,~e),e&&t.pending_buf.set(t.window.subarray(r,r+e),t.pending),t.pending+=e};var Ll={_tr_init:t=>{oo||((()=>{let t,r,e,o,_;const D=new Array(16);for(e=0,o=0;o<28;o++)for(Vs[o]=e,t=0;t<1<<Us[o];t++)Di[e++]=o;for(Di[e-1]=o,_=0,o=0;o<16;o++)for(ts[o]=_,t=0;t<1<<es[o];t++)Ai[_++]=o;for(_>>=7;o<30;o++)for(ts[o]=_<<7,t=0;t<1<<es[o]-7;t++)Ai[256+_++]=o;for(r=0;r<=15;r++)D[r]=0;for(t=0;t<=143;)tn[2*t+1]=8,t++,D[8]++;for(;t<=255;)tn[2*t+1]=9,t++,D[9]++;for(;t<=279;)tn[2*t+1]=7,t++,D[7]++;for(;t<=287;)tn[2*t+1]=8,t++,D[8]++;for(eo(tn,287,D),t=0;t<30;t++)Si[2*t+1]=5,Si[2*t]=Qa(t,5);Za=new Ks(tn,Us,257,286,15),Xa=new Ks(Si,es,0,30,15),Ya=new Ks(new Array(0),Al,0,19,7)})(),oo=!0),t.l_desc=new zs(t.dyn_ltree,Za),t.d_desc=new zs(t.dyn_dtree,Xa),t.bl_desc=new zs(t.bl_tree,Ya),t.bi_buf=0,t.bi_valid=0,to(t)},_tr_stored_block:uo,_tr_flush_block:(t,r,e,o)=>{let _,D,$=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),Js(t,t.l_desc),Js(t,t.d_desc),$=(t=>{let r;for(so(t,t.dyn_ltree,t.l_desc.max_code),so(t,t.dyn_dtree,t.d_desc.max_code),Js(t,t.bl_desc),r=18;r>=3&&0===t.bl_tree[2*Ga[r]+1];r--);return t.opt_len+=3*(r+1)+5+5+4,r})(t),_=t.opt_len+3+7>>>3,D=t.static_len+3+7>>>3,D<=_&&(_=D)):_=D=e+5,e+4<=_&&-1!==r?uo(t,r,e,o):4===t.strategy||D===_?(dr(t,2+(o?1:0),3),io(t,tn,Si)):(dr(t,4+(o?1:0),3),((t,r,e,o)=>{let _;for(dr(t,r-257,5),dr(t,e-1,5),dr(t,o-4,4),_=0;_<o;_++)dr(t,t.bl_tree[2*Ga[_]+1],3);ao(t,t.dyn_ltree,r-1),ao(t,t.dyn_dtree,e-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,$+1),io(t,t.dyn_ltree,t.dyn_dtree)),to(t),o&&ro(t)},_tr_tally:(t,r,e)=>(t.pending_buf[t.sym_buf+t.sym_next++]=r,t.pending_buf[t.sym_buf+t.sym_next++]=r>>8,t.pending_buf[t.sym_buf+t.sym_next++]=e,0===r?t.dyn_ltree[2*e]++:(t.matches++,r--,t.dyn_ltree[2*(Di[e]+256+1)]++,t.dyn_dtree[2*qa(r)]++),t.sym_next===t.sym_end),_tr_align:t=>{dr(t,2,3),Rr(t,256,tn),(t=>{16===t.bi_valid?(_i(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}},Ci=(t,r,e,o)=>{let _=65535&t,D=t>>>16&65535,$=0;for(;0!==e;){$=e>2e3?2e3:e,e-=$;do{_=_+r[o++]|0,D=D+_|0}while(--$);_%=65521,D%=65521}return _|D<<16};const Vl=new Uint32Array((()=>{let t,r=[];for(var e=0;e<256;e++){t=e;for(var o=0;o<8;o++)t=1&t?3988292384^t>>>1:t>>>1;r[e]=t}return r})());var Gt=(t,r,e,o)=>{const _=Vl,D=o+e;t^=-1;for(let $=o;$<D;$++)t=t>>>8^_[255&(t^r[$])];return~t},On={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},xn={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Kl,_tr_stored_block:Hs,_tr_flush_block:zl,_tr_tally:fn,_tr_align:Wl}=Ll,{Z_NO_FLUSH:pn,Z_PARTIAL_FLUSH:Jl,Z_FULL_FLUSH:Hl,Z_FINISH:Dr,Z_BLOCK:lo,Z_OK:er,Z_STREAM_END:co,Z_STREAM_ERROR:Nr,Z_DATA_ERROR:Gl,Z_BUF_ERROR:Gs,Z_DEFAULT_COMPRESSION:Zl,Z_FILTERED:Xl,Z_HUFFMAN_ONLY:rs,Z_RLE:Yl,Z_FIXED:ql,Z_DEFAULT_STRATEGY:Ql,Z_UNKNOWN:ec,Z_DEFLATED:ns}=xn,Mr=262,In=(t,r)=>(t.msg=On[r],r),fo=t=>2*t-(t>4?9:0),mn=t=>{let r=t.length;for(;--r>=0;)t[r]=0},cc=t=>{let r,e,o,_=t.w_size;r=t.hash_size,o=r;do{e=t.head[--o],t.head[o]=e>=_?e-_:0}while(--r);r=_,o=r;do{e=t.prev[--o],t.prev[o]=e>=_?e-_:0}while(--r)};let yn=(t,r,e)=>(r<<t.hash_shift^e)&t.hash_mask;const yr=t=>{const r=t.state;let e=r.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+e),t.next_out),t.next_out+=e,r.pending_out+=e,t.total_out+=e,t.avail_out-=e,r.pending-=e,0===r.pending&&(r.pending_out=0))},gr=(t,r)=>{zl(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,r),t.block_start=t.strstart,yr(t.strm)},Ot=(t,r)=>{t.pending_buf[t.pending++]=r},Fi=(t,r)=>{t.pending_buf[t.pending++]=r>>>8&255,t.pending_buf[t.pending++]=255&r},ta=(t,r,e,o)=>{let _=t.avail_in;return _>o&&(_=o),0===_?0:(t.avail_in-=_,r.set(t.input.subarray(t.next_in,t.next_in+_),e),1===t.state.wrap?t.adler=Ci(t.adler,r,_,e):2===t.state.wrap&&(t.adler=Gt(t.adler,r,_,e)),t.next_in+=_,t.total_in+=_,_)},po=(t,r)=>{let _,D,e=t.max_chain_length,o=t.strstart,$=t.prev_length,K=t.nice_match;const me=t.strstart>t.w_size-Mr?t.strstart-(t.w_size-Mr):0,q=t.window,U=t.w_mask,Ae=t.prev,Ne=t.strstart+258;let Me=q[o+$-1],Ke=q[o+$];t.prev_length>=t.good_match&&(e>>=2),K>t.lookahead&&(K=t.lookahead);do{if(_=r,q[_+$]===Ke&&q[_+$-1]===Me&&q[_]===q[o]&&q[++_]===q[o+1]){o+=2,_++;do{}while(q[++o]===q[++_]&&q[++o]===q[++_]&&q[++o]===q[++_]&&q[++o]===q[++_]&&q[++o]===q[++_]&&q[++o]===q[++_]&&q[++o]===q[++_]&&q[++o]===q[++_]&&o<Ne);if(D=258-(Ne-o),o=Ne-258,D>$){if(t.match_start=r,$=D,D>=K)break;Me=q[o+$-1],Ke=q[o+$]}}}while((r=Ae[r&U])>me&&0!=--e);return $<=t.lookahead?$:t.lookahead},Jn=t=>{const r=t.w_size;let e,o,_;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-Mr)&&(t.window.set(t.window.subarray(r,r+r-o),0),t.match_start-=r,t.strstart-=r,t.block_start-=r,t.insert>t.strstart&&(t.insert=t.strstart),cc(t),o+=r),0===t.strm.avail_in)break;if(e=ta(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=e,t.lookahead+t.insert>=3)for(_=t.strstart-t.insert,t.ins_h=t.window[_],t.ins_h=yn(t,t.ins_h,t.window[_+1]);t.insert&&(t.ins_h=yn(t,t.ins_h,t.window[_+3-1]),t.prev[_&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=_,_++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Mr&&0!==t.strm.avail_in)},ho=(t,r)=>{let o,_,D,e=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,$=0,K=t.strm.avail_in;do{if(o=65535,D=t.bi_valid+42>>3,t.strm.avail_out<D||(D=t.strm.avail_out-D,_=t.strstart-t.block_start,o>_+t.strm.avail_in&&(o=_+t.strm.avail_in),o>D&&(o=D),o<e&&(0===o&&r!==Dr||r===pn||o!==_+t.strm.avail_in)))break;$=r===Dr&&o===_+t.strm.avail_in?1:0,Hs(t,0,0,$),t.pending_buf[t.pending-4]=o,t.pending_buf[t.pending-3]=o>>8,t.pending_buf[t.pending-2]=~o,t.pending_buf[t.pending-1]=~o>>8,yr(t.strm),_&&(_>o&&(_=o),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+_),t.strm.next_out),t.strm.next_out+=_,t.strm.avail_out-=_,t.strm.total_out+=_,t.block_start+=_,o-=_),o&&(ta(t.strm,t.strm.output,t.strm.next_out,o),t.strm.next_out+=o,t.strm.avail_out-=o,t.strm.total_out+=o)}while(0===$);return K-=t.strm.avail_in,K&&(K>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=K&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-K,t.strm.next_in),t.strstart),t.strstart+=K,t.insert+=K>t.w_size-t.insert?t.w_size-t.insert:K),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),$?4:r!==pn&&r!==Dr&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(D=t.window_size-t.strstart,t.strm.avail_in>D&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,D+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),D>t.strm.avail_in&&(D=t.strm.avail_in),D&&(ta(t.strm,t.window,t.strstart,D),t.strstart+=D,t.insert+=D>t.w_size-t.insert?t.w_size-t.insert:D),t.high_water<t.strstart&&(t.high_water=t.strstart),D=t.bi_valid+42>>3,D=t.pending_buf_size-D>65535?65535:t.pending_buf_size-D,e=D>t.w_size?t.w_size:D,_=t.strstart-t.block_start,(_>=e||(_||r===Dr)&&r!==pn&&0===t.strm.avail_in&&_<=D)&&(o=_>D?D:_,$=r===Dr&&0===t.strm.avail_in&&o===_?1:0,Hs(t,t.block_start,o,$),t.block_start+=o,yr(t.strm)),$?3:1)},ra=(t,r)=>{let e,o;for(;;){if(t.lookahead<Mr){if(Jn(t),t.lookahead<Mr&&r===pn)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=yn(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==e&&t.strstart-e<=t.w_size-Mr&&(t.match_length=po(t,e)),t.match_length>=3)if(o=fn(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=yn(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=yn(t,t.ins_h,t.window[t.strstart+1]);else o=fn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(o&&(gr(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,r===Dr?(gr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(gr(t,!1),0===t.strm.avail_out)?1:2},Hn=(t,r)=>{let e,o,_;for(;;){if(t.lookahead<Mr){if(Jn(t),t.lookahead<Mr&&r===pn)return 1;if(0===t.lookahead)break}if(e=0,t.lookahead>=3&&(t.ins_h=yn(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==e&&t.prev_length<t.max_lazy_match&&t.strstart-e<=t.w_size-Mr&&(t.match_length=po(t,e),t.match_length<=5&&(t.strategy===Xl||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){_=t.strstart+t.lookahead-3,o=fn(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=_&&(t.ins_h=yn(t,t.ins_h,t.window[t.strstart+3-1]),e=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,o&&(gr(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(o=fn(t,0,t.window[t.strstart-1]),o&&gr(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(o=fn(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,r===Dr?(gr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(gr(t,!1),0===t.strm.avail_out)?1:2};function Lr(t,r,e,o,_){this.good_length=t,this.max_lazy=r,this.nice_length=e,this.max_chain=o,this.func=_}const Oi=[new Lr(0,0,0,0,ho),new Lr(4,4,8,4,ra),new Lr(4,5,16,8,ra),new Lr(4,6,32,32,ra),new Lr(4,4,16,16,Hn),new Lr(8,16,32,32,Hn),new Lr(8,16,128,128,Hn),new Lr(8,32,128,256,Hn),new Lr(32,128,258,1024,Hn),new Lr(32,258,258,4096,Hn)];function hc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ns,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),mn(this.dyn_ltree),mn(this.dyn_dtree),mn(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),mn(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),mn(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const xi=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||42!==r.status&&57!==r.status&&69!==r.status&&73!==r.status&&91!==r.status&&103!==r.status&&113!==r.status&&666!==r.status?1:0},mo=t=>{if(xi(t))return In(t,Nr);t.total_in=t.total_out=0,t.data_type=ec;const r=t.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=2===r.wrap?57:r.wrap?42:113,t.adler=2===r.wrap?0:1,r.last_flush=-2,Kl(r),er},yo=t=>{const r=mo(t);return r===er&&(t=>{t.window_size=2*t.w_size,mn(t.head),t.max_lazy_match=Oi[t.level].max_lazy,t.good_match=Oi[t.level].good_length,t.nice_match=Oi[t.level].nice_length,t.max_chain_length=Oi[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0})(t.state),r},go=(t,r,e,o,_,D)=>{if(!t)return Nr;let $=1;if(r===Zl&&(r=6),o<0?($=0,o=-o):o>15&&($=2,o-=16),_<1||_>9||e!==ns||o<8||o>15||r<0||r>9||D<0||D>ql||8===o&&1!==$)return In(t,Nr);8===o&&(o=9);const K=new hc;return t.state=K,K.strm=t,K.status=42,K.wrap=$,K.gzhead=null,K.w_bits=o,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=_+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+3-1)/3),K.window=new Uint8Array(2*K.w_size),K.head=new Uint16Array(K.hash_size),K.prev=new Uint16Array(K.w_size),K.lit_bufsize=1<<_+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new Uint8Array(K.pending_buf_size),K.sym_buf=K.lit_bufsize,K.sym_end=3*(K.lit_bufsize-1),K.level=r,K.strategy=D,K.method=e,yo(t)};var Bi={deflateInit:(t,r)=>go(t,r,ns,15,8,Ql),deflateInit2:go,deflateReset:yo,deflateResetKeep:mo,deflateSetHeader:(t,r)=>xi(t)||2!==t.state.wrap?Nr:(t.state.gzhead=r,er),deflate:(t,r)=>{if(xi(t)||r>lo||r<0)return t?In(t,Nr):Nr;const e=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===e.status&&r!==Dr)return In(t,0===t.avail_out?Gs:Nr);const o=e.last_flush;if(e.last_flush=r,0!==e.pending){if(yr(t),0===t.avail_out)return e.last_flush=-1,er}else if(0===t.avail_in&&fo(r)<=fo(o)&&r!==Dr)return In(t,Gs);if(666===e.status&&0!==t.avail_in)return In(t,Gs);if(42===e.status&&0===e.wrap&&(e.status=113),42===e.status){let _=ns+(e.w_bits-8<<4)<<8,D=-1;if(D=e.strategy>=rs||e.level<2?0:e.level<6?1:6===e.level?2:3,_|=D<<6,0!==e.strstart&&(_|=32),_+=31-_%31,Fi(e,_),0!==e.strstart&&(Fi(e,t.adler>>>16),Fi(e,65535&t.adler)),t.adler=1,e.status=113,yr(t),0!==e.pending)return e.last_flush=-1,er}if(57===e.status)if(t.adler=0,Ot(e,31),Ot(e,139),Ot(e,8),e.gzhead)Ot(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),Ot(e,255&e.gzhead.time),Ot(e,e.gzhead.time>>8&255),Ot(e,e.gzhead.time>>16&255),Ot(e,e.gzhead.time>>24&255),Ot(e,9===e.level?2:e.strategy>=rs||e.level<2?4:0),Ot(e,255&e.gzhead.os),e.gzhead.extra&&e.gzhead.extra.length&&(Ot(e,255&e.gzhead.extra.length),Ot(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(t.adler=Gt(t.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=69;else if(Ot(e,0),Ot(e,0),Ot(e,0),Ot(e,0),Ot(e,0),Ot(e,9===e.level?2:e.strategy>=rs||e.level<2?4:0),Ot(e,3),e.status=113,yr(t),0!==e.pending)return e.last_flush=-1,er;if(69===e.status){if(e.gzhead.extra){let _=e.pending,D=(65535&e.gzhead.extra.length)-e.gzindex;for(;e.pending+D>e.pending_buf_size;){let K=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+K),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>_&&(t.adler=Gt(t.adler,e.pending_buf,e.pending-_,_)),e.gzindex+=K,yr(t),0!==e.pending)return e.last_flush=-1,er;_=0,D-=K}let $=new Uint8Array(e.gzhead.extra);e.pending_buf.set($.subarray(e.gzindex,e.gzindex+D),e.pending),e.pending+=D,e.gzhead.hcrc&&e.pending>_&&(t.adler=Gt(t.adler,e.pending_buf,e.pending-_,_)),e.gzindex=0}e.status=73}if(73===e.status){if(e.gzhead.name){let D,_=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>_&&(t.adler=Gt(t.adler,e.pending_buf,e.pending-_,_)),yr(t),0!==e.pending)return e.last_flush=-1,er;_=0}D=e.gzindex<e.gzhead.name.length?255&e.gzhead.name.charCodeAt(e.gzindex++):0,Ot(e,D)}while(0!==D);e.gzhead.hcrc&&e.pending>_&&(t.adler=Gt(t.adler,e.pending_buf,e.pending-_,_)),e.gzindex=0}e.status=91}if(91===e.status){if(e.gzhead.comment){let D,_=e.pending;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>_&&(t.adler=Gt(t.adler,e.pending_buf,e.pending-_,_)),yr(t),0!==e.pending)return e.last_flush=-1,er;_=0}D=e.gzindex<e.gzhead.comment.length?255&e.gzhead.comment.charCodeAt(e.gzindex++):0,Ot(e,D)}while(0!==D);e.gzhead.hcrc&&e.pending>_&&(t.adler=Gt(t.adler,e.pending_buf,e.pending-_,_))}e.status=103}if(103===e.status){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(yr(t),0!==e.pending))return e.last_flush=-1,er;Ot(e,255&t.adler),Ot(e,t.adler>>8&255),t.adler=0}if(e.status=113,yr(t),0!==e.pending)return e.last_flush=-1,er}if(0!==t.avail_in||0!==e.lookahead||r!==pn&&666!==e.status){let _=0===e.level?ho(e,r):e.strategy===rs?((t,r)=>{let e;for(;;){if(0===t.lookahead&&(Jn(t),0===t.lookahead)){if(r===pn)return 1;break}if(t.match_length=0,e=fn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,e&&(gr(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,r===Dr?(gr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(gr(t,!1),0===t.strm.avail_out)?1:2})(e,r):e.strategy===Yl?((t,r)=>{let e,o,_,D;const $=t.window;for(;;){if(t.lookahead<=258){if(Jn(t),t.lookahead<=258&&r===pn)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(_=t.strstart-1,o=$[_],o===$[++_]&&o===$[++_]&&o===$[++_])){D=t.strstart+258;do{}while(o===$[++_]&&o===$[++_]&&o===$[++_]&&o===$[++_]&&o===$[++_]&&o===$[++_]&&o===$[++_]&&o===$[++_]&&_<D);t.match_length=258-(D-_),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(e=fn(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(e=fn(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),e&&(gr(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,r===Dr?(gr(t,!0),0===t.strm.avail_out?3:4):t.sym_next&&(gr(t,!1),0===t.strm.avail_out)?1:2})(e,r):Oi[e.level].func(e,r);if((3===_||4===_)&&(e.status=666),1===_||3===_)return 0===t.avail_out&&(e.last_flush=-1),er;if(2===_&&(r===Jl?Wl(e):r!==lo&&(Hs(e,0,0,!1),r===Hl&&(mn(e.head),0===e.lookahead&&(e.strstart=0,e.block_start=0,e.insert=0))),yr(t),0===t.avail_out))return e.last_flush=-1,er}return r!==Dr?er:e.wrap<=0?co:(2===e.wrap?(Ot(e,255&t.adler),Ot(e,t.adler>>8&255),Ot(e,t.adler>>16&255),Ot(e,t.adler>>24&255),Ot(e,255&t.total_in),Ot(e,t.total_in>>8&255),Ot(e,t.total_in>>16&255),Ot(e,t.total_in>>24&255)):(Fi(e,t.adler>>>16),Fi(e,65535&t.adler)),yr(t),e.wrap>0&&(e.wrap=-e.wrap),0!==e.pending?er:co)},deflateEnd:t=>{if(xi(t))return Nr;const r=t.state.status;return t.state=null,113===r?In(t,Gl):er},deflateSetDictionary:(t,r)=>{let e=r.length;if(xi(t))return Nr;const o=t.state,_=o.wrap;if(2===_||1===_&&42!==o.status||o.lookahead)return Nr;if(1===_&&(t.adler=Ci(t.adler,r,e,0)),o.wrap=0,e>=o.w_size){0===_&&(mn(o.head),o.strstart=0,o.block_start=0,o.insert=0);let me=new Uint8Array(o.w_size);me.set(r.subarray(e-o.w_size,e),0),r=me,e=o.w_size}const D=t.avail_in,$=t.next_in,K=t.input;for(t.avail_in=e,t.next_in=0,t.input=r,Jn(o);o.lookahead>=3;){let me=o.strstart,q=o.lookahead-2;do{o.ins_h=yn(o,o.ins_h,o.window[me+3-1]),o.prev[me&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=me,me++}while(--q);o.strstart=me,o.lookahead=2,Jn(o)}return o.strstart+=o.lookahead,o.block_start=o.strstart,o.insert=o.lookahead,o.lookahead=0,o.match_length=o.prev_length=2,o.match_available=0,t.next_in=$,t.input=K,t.avail_in=D,o.wrap=_,er},deflateInfo:"pako deflate (from Nodeca project)"};const Oc=(t,r)=>Object.prototype.hasOwnProperty.call(t,r);var is={assign:function(t){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const e=r.shift();if(e){if("object"!=typeof e)throw new TypeError(e+"must be non-object");for(const o in e)Oc(e,o)&&(t[o]=e[o])}}return t},flattenChunks:t=>{let r=0;for(let o=0,_=t.length;o<_;o++)r+=t[o].length;const e=new Uint8Array(r);for(let o=0,_=0,D=t.length;o<D;o++){let $=t[o];e.set($,_),_+=$.length}return e}};let vo=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{vo=!1}const Ti=new Uint8Array(256);for(let t=0;t<256;t++)Ti[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Ti[254]=Ti[254]=1;var Ii={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let r,e,o,_,D,$=t.length,K=0;for(_=0;_<$;_++)e=t.charCodeAt(_),55296==(64512&e)&&_+1<$&&(o=t.charCodeAt(_+1),56320==(64512&o)&&(e=65536+(e-55296<<10)+(o-56320),_++)),K+=e<128?1:e<2048?2:e<65536?3:4;for(r=new Uint8Array(K),D=0,_=0;D<K;_++)e=t.charCodeAt(_),55296==(64512&e)&&_+1<$&&(o=t.charCodeAt(_+1),56320==(64512&o)&&(e=65536+(e-55296<<10)+(o-56320),_++)),e<128?r[D++]=e:e<2048?(r[D++]=192|e>>>6,r[D++]=128|63&e):e<65536?(r[D++]=224|e>>>12,r[D++]=128|e>>>6&63,r[D++]=128|63&e):(r[D++]=240|e>>>18,r[D++]=128|e>>>12&63,r[D++]=128|e>>>6&63,r[D++]=128|63&e);return r},buf2string:(t,r)=>{const e=r||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,r));let o,_;const D=new Array(2*e);for(_=0,o=0;o<e;){let $=t[o++];if($<128){D[_++]=$;continue}let K=Ti[$];if(K>4)D[_++]=65533,o+=K-1;else{for($&=2===K?31:3===K?15:7;K>1&&o<e;)$=$<<6|63&t[o++],K--;K>1?D[_++]=65533:$<65536?D[_++]=$:($-=65536,D[_++]=55296|$>>10&1023,D[_++]=56320|1023&$)}}return((t,r)=>{if(r<65534&&t.subarray&&vo)return String.fromCharCode.apply(null,t.length===r?t:t.subarray(0,r));let e="";for(let o=0;o<r;o++)e+=String.fromCharCode(t[o]);return e})(D,_)},utf8border:(t,r)=>{(r=r||t.length)>t.length&&(r=t.length);let e=r-1;for(;e>=0&&128==(192&t[e]);)e--;return e<0||0===e?r:e+Ti[t[e]]>r?e:r}},bo=function kc(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const wo=Object.prototype.toString,{Z_NO_FLUSH:Rc,Z_SYNC_FLUSH:Nc,Z_FULL_FLUSH:Mc,Z_FINISH:Lc,Z_OK:ss,Z_STREAM_END:Uc,Z_DEFAULT_COMPRESSION:Vc,Z_DEFAULT_STRATEGY:Kc,Z_DEFLATED:zc}=xn;function ji(t){this.options=is.assign({level:Vc,method:zc,chunkSize:16384,windowBits:15,memLevel:8,strategy:Kc},t||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bo,this.strm.avail_out=0;let e=Bi.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(e!==ss)throw new Error(On[e]);if(r.header&&Bi.deflateSetHeader(this.strm,r.header),r.dictionary){let o;if(o="string"==typeof r.dictionary?Ii.string2buf(r.dictionary):"[object ArrayBuffer]"===wo.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,e=Bi.deflateSetDictionary(this.strm,o),e!==ss)throw new Error(On[e]);this._dict_set=!0}}function na(t,r){const e=new ji(r);if(e.push(t,!0),e.err)throw e.msg||On[e.err];return e.result}ji.prototype.push=function(t,r){const e=this.strm,o=this.options.chunkSize;let _,D;if(this.ended)return!1;for(D=r===~~r?r:!0===r?Lc:Rc,e.input="string"==typeof t?Ii.string2buf(t):"[object ArrayBuffer]"===wo.call(t)?new Uint8Array(t):t,e.next_in=0,e.avail_in=e.input.length;;)if(0===e.avail_out&&(e.output=new Uint8Array(o),e.next_out=0,e.avail_out=o),(D===Nc||D===Mc)&&e.avail_out<=6)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else{if(_=Bi.deflate(e,D),_===Uc)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),_=Bi.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===ss;if(0!==e.avail_out){if(D>0&&e.next_out>0)this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;else if(0===e.avail_in)break}else this.onData(e.output)}return!0},ji.prototype.onData=function(t){this.chunks.push(t)},ji.prototype.onEnd=function(t){t===ss&&(this.result=is.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var qc={Deflate:ji,deflate:na,deflateRaw:function Wc(t,r){return(r=r||{}).raw=!0,na(t,r)},gzip:function Jc(t,r){return(r=r||{}).gzip=!0,na(t,r)},constants:xn};const as=16209;var ed=function(r,e){let o,_,D,$,K,me,q,U,Ae,Ne,Me,Ke,rt,lt,ot,nt,Ye,Ge,ct,tt,Qe,yt,vt,gt;const Dt=r.state;o=r.next_in,vt=r.input,_=o+(r.avail_in-5),D=r.next_out,gt=r.output,$=D-(e-r.avail_out),K=D+(r.avail_out-257),me=Dt.dmax,q=Dt.wsize,U=Dt.whave,Ae=Dt.wnext,Ne=Dt.window,Me=Dt.hold,Ke=Dt.bits,rt=Dt.lencode,lt=Dt.distcode,ot=(1<<Dt.lenbits)-1,nt=(1<<Dt.distbits)-1;e:do{Ke<15&&(Me+=vt[o++]<<Ke,Ke+=8,Me+=vt[o++]<<Ke,Ke+=8),Ye=rt[Me&ot];t:for(;;){if(Ge=Ye>>>24,Me>>>=Ge,Ke-=Ge,Ge=Ye>>>16&255,0===Ge)gt[D++]=65535&Ye;else{if(!(16&Ge)){if(64&Ge){if(32&Ge){Dt.mode=16191;break e}r.msg="invalid literal/length code",Dt.mode=as;break e}Ye=rt[(65535&Ye)+(Me&(1<<Ge)-1)];continue t}for(ct=65535&Ye,Ge&=15,Ge&&(Ke<Ge&&(Me+=vt[o++]<<Ke,Ke+=8),ct+=Me&(1<<Ge)-1,Me>>>=Ge,Ke-=Ge),Ke<15&&(Me+=vt[o++]<<Ke,Ke+=8,Me+=vt[o++]<<Ke,Ke+=8),Ye=lt[Me&nt];;){if(Ge=Ye>>>24,Me>>>=Ge,Ke-=Ge,Ge=Ye>>>16&255,16&Ge){if(tt=65535&Ye,Ge&=15,Ke<Ge&&(Me+=vt[o++]<<Ke,Ke+=8,Ke<Ge&&(Me+=vt[o++]<<Ke,Ke+=8)),tt+=Me&(1<<Ge)-1,tt>me){r.msg="invalid distance too far back",Dt.mode=as;break e}if(Me>>>=Ge,Ke-=Ge,Ge=D-$,tt>Ge){if(Ge=tt-Ge,Ge>U&&Dt.sane){r.msg="invalid distance too far back",Dt.mode=as;break e}if(Qe=0,yt=Ne,0===Ae){if(Qe+=q-Ge,Ge<ct){ct-=Ge;do{gt[D++]=Ne[Qe++]}while(--Ge);Qe=D-tt,yt=gt}}else if(Ae<Ge){if(Qe+=q+Ae-Ge,Ge-=Ae,Ge<ct){ct-=Ge;do{gt[D++]=Ne[Qe++]}while(--Ge);if(Qe=0,Ae<ct){Ge=Ae,ct-=Ge;do{gt[D++]=Ne[Qe++]}while(--Ge);Qe=D-tt,yt=gt}}}else if(Qe+=Ae-Ge,Ge<ct){ct-=Ge;do{gt[D++]=Ne[Qe++]}while(--Ge);Qe=D-tt,yt=gt}for(;ct>2;)gt[D++]=yt[Qe++],gt[D++]=yt[Qe++],gt[D++]=yt[Qe++],ct-=3;ct&&(gt[D++]=yt[Qe++],ct>1&&(gt[D++]=yt[Qe++]))}else{Qe=D-tt;do{gt[D++]=gt[Qe++],gt[D++]=gt[Qe++],gt[D++]=gt[Qe++],ct-=3}while(ct>2);ct&&(gt[D++]=gt[Qe++],ct>1&&(gt[D++]=gt[Qe++]))}break}if(64&Ge){r.msg="invalid distance code",Dt.mode=as;break e}Ye=lt[(65535&Ye)+(Me&(1<<Ge)-1)]}}break}}while(o<_&&D<K);ct=Ke>>3,o-=ct,Ke-=ct<<3,Me&=(1<<Ke)-1,r.next_in=o,r.next_out=D,r.avail_in=o<_?_-o+5:5-(o-_),r.avail_out=D<K?K-D+257:257-(D-K),Dt.hold=Me,Dt.bits=Ke};const td=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rd=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nd=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),id=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var $i=(t,r,e,o,_,D,$,K)=>{const me=K.bits;let Ye,Ge,ct,tt,Qe,vt,q=0,U=0,Ae=0,Ne=0,Me=0,Ke=0,rt=0,lt=0,ot=0,nt=0,yt=null;const gt=new Uint16Array(16),Dt=new Uint16Array(16);let ps,hs,ys,sn=null;for(q=0;q<=15;q++)gt[q]=0;for(U=0;U<o;U++)gt[r[e+U]]++;for(Me=me,Ne=15;Ne>=1&&0===gt[Ne];Ne--);if(Me>Ne&&(Me=Ne),0===Ne)return _[D++]=20971520,_[D++]=20971520,K.bits=1,0;for(Ae=1;Ae<Ne&&0===gt[Ae];Ae++);for(Me<Ae&&(Me=Ae),lt=1,q=1;q<=15;q++)if(lt<<=1,lt-=gt[q],lt<0)return-1;if(lt>0&&(0===t||1!==Ne))return-1;for(Dt[1]=0,q=1;q<15;q++)Dt[q+1]=Dt[q]+gt[q];for(U=0;U<o;U++)0!==r[e+U]&&($[Dt[r[e+U]]++]=U);if(0===t?(yt=sn=$,vt=20):1===t?(yt=td,sn=rd,vt=257):(yt=nd,sn=id,vt=0),nt=0,U=0,q=Ae,Qe=D,Ke=Me,rt=0,ct=-1,ot=1<<Me,tt=ot-1,1===t&&ot>852||2===t&&ot>592)return 1;for(;;){ps=q-rt,$[U]+1<vt?(hs=0,ys=$[U]):$[U]>=vt?(hs=sn[$[U]-vt],ys=yt[$[U]-vt]):(hs=96,ys=0),Ye=1<<q-rt,Ge=1<<Ke,Ae=Ge;do{Ge-=Ye,_[Qe+(nt>>rt)+Ge]=ps<<24|hs<<16|ys}while(0!==Ge);for(Ye=1<<q-1;nt&Ye;)Ye>>=1;if(0!==Ye?(nt&=Ye-1,nt+=Ye):nt=0,U++,0==--gt[q]){if(q===Ne)break;q=r[e+$[U]]}if(q>Me&&(nt&tt)!==ct){for(0===rt&&(rt=Me),Qe+=Ae,Ke=q-rt,lt=1<<Ke;Ke+rt<Ne&&(lt-=gt[Ke+rt],!(lt<=0));)Ke++,lt<<=1;if(ot+=1<<Ke,1===t&&ot>852||2===t&&ot>592)return 1;ct=nt&tt,_[ct]=Me<<24|Ke<<16|Qe-D}}return 0!==nt&&(_[Qe+nt]=q-rt<<24|64<<16),K.bits=Me,0};const{Z_FINISH:Po,Z_BLOCK:ad,Z_TREES:os,Z_OK:jn,Z_STREAM_END:od,Z_NEED_DICT:ud,Z_STREAM_ERROR:_r,Z_DATA_ERROR:Fo,Z_MEM_ERROR:Oo,Z_BUF_ERROR:ld,Z_DEFLATED:xo}=xn,us=16180,ls=16190,rn=16191,cs=16199,ds=16200,kt=16209,eu=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function pd(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const $n=t=>{if(!t)return 1;const r=t.state;return!r||r.strm!==t||r.mode<us||r.mode>16211?1:0},tu=t=>{if($n(t))return _r;const r=t.state;return t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=1&r.wrap),r.mode=us,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(852),r.distcode=r.distdyn=new Int32Array(592),r.sane=1,r.back=-1,jn},ru=t=>{if($n(t))return _r;const r=t.state;return r.wsize=0,r.whave=0,r.wnext=0,tu(t)},nu=(t,r)=>{let e;if($n(t))return _r;const o=t.state;return r<0?(e=0,r=-r):(e=5+(r>>4),r<48&&(r&=15)),r&&(r<8||r>15)?_r:(null!==o.window&&o.wbits!==r&&(o.window=null),o.wrap=e,o.wbits=r,ru(t))},iu=(t,r)=>{if(!t)return _r;const e=new pd;t.state=e,e.strm=t,e.window=null,e.mode=us;const o=nu(t,r);return o!==jn&&(t.state=null),o};let ua,la,su=!0;const md=t=>{if(su){ua=new Int32Array(512),la=new Int32Array(32);let r=0;for(;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for($i(1,t.lens,0,288,ua,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;$i(2,t.lens,0,32,la,0,t.work,{bits:5}),su=!1}t.lencode=ua,t.lenbits=9,t.distcode=la,t.distbits=5},au=(t,r,e,o)=>{let _;const D=t.state;return null===D.window&&(D.wsize=1<<D.wbits,D.wnext=0,D.whave=0,D.window=new Uint8Array(D.wsize)),o>=D.wsize?(D.window.set(r.subarray(e-D.wsize,e),0),D.wnext=0,D.whave=D.wsize):(_=D.wsize-D.wnext,_>o&&(_=o),D.window.set(r.subarray(e-o,e-o+_),D.wnext),(o-=_)?(D.window.set(r.subarray(e-o,e),0),D.wnext=o,D.whave=D.wsize):(D.wnext+=_,D.wnext===D.wsize&&(D.wnext=0),D.whave<D.wsize&&(D.whave+=_))),0};var nn={inflateReset:ru,inflateReset2:nu,inflateResetKeep:tu,inflateInit:t=>iu(t,15),inflateInit2:iu,inflate:(t,r)=>{let e,o,_,D,$,K,me,q,U,Ae,Ne,Me,Ke,rt,ot,nt,Ye,Ge,ct,tt,Qe,yt,lt=0;const vt=new Uint8Array(4);let gt,Dt;const sn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if($n(t)||!t.output||!t.input&&0!==t.avail_in)return _r;e=t.state,e.mode===rn&&(e.mode=16192),$=t.next_out,_=t.output,me=t.avail_out,D=t.next_in,o=t.input,K=t.avail_in,q=e.hold,U=e.bits,Ae=K,Ne=me,yt=jn;e:for(;;)switch(e.mode){case us:if(0===e.wrap){e.mode=16192;break}for(;U<16;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}if(2&e.wrap&&35615===q){0===e.wbits&&(e.wbits=15),e.check=0,vt[0]=255&q,vt[1]=q>>>8&255,e.check=Gt(e.check,vt,2,0),q=0,U=0,e.mode=16181;break}if(e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&q)<<8)+(q>>8))%31){t.msg="incorrect header check",e.mode=kt;break}if((15&q)!==xo){t.msg="unknown compression method",e.mode=kt;break}if(q>>>=4,U-=4,Qe=8+(15&q),0===e.wbits&&(e.wbits=Qe),Qe>15||Qe>e.wbits){t.msg="invalid window size",e.mode=kt;break}e.dmax=1<<e.wbits,e.flags=0,t.adler=e.check=1,e.mode=512&q?16189:rn,q=0,U=0;break;case 16181:for(;U<16;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}if(e.flags=q,(255&e.flags)!==xo){t.msg="unknown compression method",e.mode=kt;break}if(57344&e.flags){t.msg="unknown header flags set",e.mode=kt;break}e.head&&(e.head.text=q>>8&1),512&e.flags&&4&e.wrap&&(vt[0]=255&q,vt[1]=q>>>8&255,e.check=Gt(e.check,vt,2,0)),q=0,U=0,e.mode=16182;case 16182:for(;U<32;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}e.head&&(e.head.time=q),512&e.flags&&4&e.wrap&&(vt[0]=255&q,vt[1]=q>>>8&255,vt[2]=q>>>16&255,vt[3]=q>>>24&255,e.check=Gt(e.check,vt,4,0)),q=0,U=0,e.mode=16183;case 16183:for(;U<16;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}e.head&&(e.head.xflags=255&q,e.head.os=q>>8),512&e.flags&&4&e.wrap&&(vt[0]=255&q,vt[1]=q>>>8&255,e.check=Gt(e.check,vt,2,0)),q=0,U=0,e.mode=16184;case 16184:if(1024&e.flags){for(;U<16;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}e.length=q,e.head&&(e.head.extra_len=q),512&e.flags&&4&e.wrap&&(vt[0]=255&q,vt[1]=q>>>8&255,e.check=Gt(e.check,vt,2,0)),q=0,U=0}else e.head&&(e.head.extra=null);e.mode=16185;case 16185:if(1024&e.flags&&(Me=e.length,Me>K&&(Me=K),Me&&(e.head&&(Qe=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(o.subarray(D,D+Me),Qe)),512&e.flags&&4&e.wrap&&(e.check=Gt(e.check,o,Me,D)),K-=Me,D+=Me,e.length-=Me),e.length))break e;e.length=0,e.mode=16186;case 16186:if(2048&e.flags){if(0===K)break e;Me=0;do{Qe=o[D+Me++],e.head&&Qe&&e.length<65536&&(e.head.name+=String.fromCharCode(Qe))}while(Qe&&Me<K);if(512&e.flags&&4&e.wrap&&(e.check=Gt(e.check,o,Me,D)),K-=Me,D+=Me,Qe)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=16187;case 16187:if(4096&e.flags){if(0===K)break e;Me=0;do{Qe=o[D+Me++],e.head&&Qe&&e.length<65536&&(e.head.comment+=String.fromCharCode(Qe))}while(Qe&&Me<K);if(512&e.flags&&4&e.wrap&&(e.check=Gt(e.check,o,Me,D)),K-=Me,D+=Me,Qe)break e}else e.head&&(e.head.comment=null);e.mode=16188;case 16188:if(512&e.flags){for(;U<16;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}if(4&e.wrap&&q!==(65535&e.check)){t.msg="header crc mismatch",e.mode=kt;break}q=0,U=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=rn;break;case 16189:for(;U<32;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}t.adler=e.check=eu(q),q=0,U=0,e.mode=ls;case ls:if(0===e.havedict)return t.next_out=$,t.avail_out=me,t.next_in=D,t.avail_in=K,e.hold=q,e.bits=U,ud;t.adler=e.check=1,e.mode=rn;case rn:if(r===ad||r===os)break e;case 16192:if(e.last){q>>>=7&U,U-=7&U,e.mode=16206;break}for(;U<3;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}switch(e.last=1&q,q>>>=1,U-=1,3&q){case 0:e.mode=16193;break;case 1:if(md(e),e.mode=cs,r===os){q>>>=2,U-=2;break e}break;case 2:e.mode=16196;break;case 3:t.msg="invalid block type",e.mode=kt}q>>>=2,U-=2;break;case 16193:for(q>>>=7&U,U-=7&U;U<32;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}if((65535&q)!=(q>>>16^65535)){t.msg="invalid stored block lengths",e.mode=kt;break}if(e.length=65535&q,q=0,U=0,e.mode=16194,r===os)break e;case 16194:e.mode=16195;case 16195:if(Me=e.length,Me){if(Me>K&&(Me=K),Me>me&&(Me=me),0===Me)break e;_.set(o.subarray(D,D+Me),$),K-=Me,D+=Me,me-=Me,$+=Me,e.length-=Me;break}e.mode=rn;break;case 16196:for(;U<14;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}if(e.nlen=257+(31&q),q>>>=5,U-=5,e.ndist=1+(31&q),q>>>=5,U-=5,e.ncode=4+(15&q),q>>>=4,U-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=kt;break}e.have=0,e.mode=16197;case 16197:for(;e.have<e.ncode;){for(;U<3;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}e.lens[sn[e.have++]]=7&q,q>>>=3,U-=3}for(;e.have<19;)e.lens[sn[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,gt={bits:e.lenbits},yt=$i(0,e.lens,0,19,e.lencode,0,e.work,gt),e.lenbits=gt.bits,yt){t.msg="invalid code lengths set",e.mode=kt;break}e.have=0,e.mode=16198;case 16198:for(;e.have<e.nlen+e.ndist;){for(;lt=e.lencode[q&(1<<e.lenbits)-1],ot=lt>>>24,nt=lt>>>16&255,Ye=65535&lt,!(ot<=U);){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}if(Ye<16)q>>>=ot,U-=ot,e.lens[e.have++]=Ye;else{if(16===Ye){for(Dt=ot+2;U<Dt;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}if(q>>>=ot,U-=ot,0===e.have){t.msg="invalid bit length repeat",e.mode=kt;break}Qe=e.lens[e.have-1],Me=3+(3&q),q>>>=2,U-=2}else if(17===Ye){for(Dt=ot+3;U<Dt;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}q>>>=ot,U-=ot,Qe=0,Me=3+(7&q),q>>>=3,U-=3}else{for(Dt=ot+7;U<Dt;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}q>>>=ot,U-=ot,Qe=0,Me=11+(127&q),q>>>=7,U-=7}if(e.have+Me>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=kt;break}for(;Me--;)e.lens[e.have++]=Qe}}if(e.mode===kt)break;if(0===e.lens[256]){t.msg="invalid code -- missing end-of-block",e.mode=kt;break}if(e.lenbits=9,gt={bits:e.lenbits},yt=$i(1,e.lens,0,e.nlen,e.lencode,0,e.work,gt),e.lenbits=gt.bits,yt){t.msg="invalid literal/lengths set",e.mode=kt;break}if(e.distbits=6,e.distcode=e.distdyn,gt={bits:e.distbits},yt=$i(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,gt),e.distbits=gt.bits,yt){t.msg="invalid distances set",e.mode=kt;break}if(e.mode=cs,r===os)break e;case cs:e.mode=ds;case ds:if(K>=6&&me>=258){t.next_out=$,t.avail_out=me,t.next_in=D,t.avail_in=K,e.hold=q,e.bits=U,ed(t,Ne),$=t.next_out,_=t.output,me=t.avail_out,D=t.next_in,o=t.input,K=t.avail_in,q=e.hold,U=e.bits,e.mode===rn&&(e.back=-1);break}for(e.back=0;lt=e.lencode[q&(1<<e.lenbits)-1],ot=lt>>>24,nt=lt>>>16&255,Ye=65535&lt,!(ot<=U);){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}if(nt&&!(240&nt)){for(Ge=ot,ct=nt,tt=Ye;lt=e.lencode[tt+((q&(1<<Ge+ct)-1)>>Ge)],ot=lt>>>24,nt=lt>>>16&255,Ye=65535&lt,!(Ge+ot<=U);){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}q>>>=Ge,U-=Ge,e.back+=Ge}if(q>>>=ot,U-=ot,e.back+=ot,e.length=Ye,0===nt){e.mode=16205;break}if(32&nt){e.back=-1,e.mode=rn;break}if(64&nt){t.msg="invalid literal/length code",e.mode=kt;break}e.extra=15&nt,e.mode=16201;case 16201:if(e.extra){for(Dt=e.extra;U<Dt;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}e.length+=q&(1<<e.extra)-1,q>>>=e.extra,U-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=16202;case 16202:for(;lt=e.distcode[q&(1<<e.distbits)-1],ot=lt>>>24,nt=lt>>>16&255,Ye=65535&lt,!(ot<=U);){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}if(!(240&nt)){for(Ge=ot,ct=nt,tt=Ye;lt=e.distcode[tt+((q&(1<<Ge+ct)-1)>>Ge)],ot=lt>>>24,nt=lt>>>16&255,Ye=65535&lt,!(Ge+ot<=U);){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}q>>>=Ge,U-=Ge,e.back+=Ge}if(q>>>=ot,U-=ot,e.back+=ot,64&nt){t.msg="invalid distance code",e.mode=kt;break}e.offset=Ye,e.extra=15&nt,e.mode=16203;case 16203:if(e.extra){for(Dt=e.extra;U<Dt;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}e.offset+=q&(1<<e.extra)-1,q>>>=e.extra,U-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=kt;break}e.mode=16204;case 16204:if(0===me)break e;if(Me=Ne-me,e.offset>Me){if(Me=e.offset-Me,Me>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=kt;break}Me>e.wnext?(Me-=e.wnext,Ke=e.wsize-Me):Ke=e.wnext-Me,Me>e.length&&(Me=e.length),rt=e.window}else rt=_,Ke=$-e.offset,Me=e.length;Me>me&&(Me=me),me-=Me,e.length-=Me;do{_[$++]=rt[Ke++]}while(--Me);0===e.length&&(e.mode=ds);break;case 16205:if(0===me)break e;_[$++]=e.length,me--,e.mode=ds;break;case 16206:if(e.wrap){for(;U<32;){if(0===K)break e;K--,q|=o[D++]<<U,U+=8}if(Ne-=me,t.total_out+=Ne,e.total+=Ne,4&e.wrap&&Ne&&(t.adler=e.check=e.flags?Gt(e.check,_,Ne,$-Ne):Ci(e.check,_,Ne,$-Ne)),Ne=me,4&e.wrap&&(e.flags?q:eu(q))!==e.check){t.msg="incorrect data check",e.mode=kt;break}q=0,U=0}e.mode=16207;case 16207:if(e.wrap&&e.flags){for(;U<32;){if(0===K)break e;K--,q+=o[D++]<<U,U+=8}if(4&e.wrap&&q!==(4294967295&e.total)){t.msg="incorrect length check",e.mode=kt;break}q=0,U=0}e.mode=16208;case 16208:yt=od;break e;case kt:yt=Fo;break e;case 16210:return Oo;default:return _r}return t.next_out=$,t.avail_out=me,t.next_in=D,t.avail_in=K,e.hold=q,e.bits=U,(e.wsize||Ne!==t.avail_out&&e.mode<kt&&(e.mode<16206||r!==Po))&&au(t,t.output,t.next_out,Ne-t.avail_out),Ae-=t.avail_in,Ne-=t.avail_out,t.total_in+=Ae,t.total_out+=Ne,e.total+=Ne,4&e.wrap&&Ne&&(t.adler=e.check=e.flags?Gt(e.check,_,Ne,t.next_out-Ne):Ci(e.check,_,Ne,t.next_out-Ne)),t.data_type=e.bits+(e.last?64:0)+(e.mode===rn?128:0)+(e.mode===cs||16194===e.mode?256:0),(0===Ae&&0===Ne||r===Po)&&yt===jn&&(yt=ld),yt},inflateEnd:t=>{if($n(t))return _r;let r=t.state;return r.window&&(r.window=null),t.state=null,jn},inflateGetHeader:(t,r)=>{if($n(t))return _r;const e=t.state;return 2&e.wrap?(e.head=r,r.done=!1,jn):_r},inflateSetDictionary:(t,r)=>{const e=r.length;let o,_,D;return $n(t)||(o=t.state,0!==o.wrap&&o.mode!==ls)?_r:o.mode===ls&&(_=1,_=Ci(_,r,e,0),_!==o.check)?Fo:(D=au(t,r,e,e),D?(o.mode=16210,Oo):(o.havedict=1,jn))},inflateInfo:"pako inflate (from Nodeca project)"},Bd=function xd(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ou=Object.prototype.toString,{Z_NO_FLUSH:Td,Z_FINISH:Id,Z_OK:ki,Z_STREAM_END:ca,Z_NEED_DICT:da,Z_STREAM_ERROR:jd,Z_DATA_ERROR:uu,Z_MEM_ERROR:$d}=xn;function Ri(t){this.options=is.assign({chunkSize:65536,windowBits:15,to:""},t||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,0===r.windowBits&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(t&&t.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&(15&r.windowBits||(r.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bo,this.strm.avail_out=0;let e=nn.inflateInit2(this.strm,r.windowBits);if(e!==ki)throw new Error(On[e]);if(this.header=new Bd,nn.inflateGetHeader(this.strm,this.header),r.dictionary&&("string"==typeof r.dictionary?r.dictionary=Ii.string2buf(r.dictionary):"[object ArrayBuffer]"===ou.call(r.dictionary)&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(e=nn.inflateSetDictionary(this.strm,r.dictionary),e!==ki)))throw new Error(On[e])}function fa(t,r){const e=new Ri(r);if(e.push(t),e.err)throw e.msg||On[e.err];return e.result}Ri.prototype.push=function(t,r){const e=this.strm,o=this.options.chunkSize,_=this.options.dictionary;let D,$,K;if(this.ended)return!1;for($=r===~~r?r:!0===r?Id:Td,e.input="[object ArrayBuffer]"===ou.call(t)?new Uint8Array(t):t,e.next_in=0,e.avail_in=e.input.length;;){for(0===e.avail_out&&(e.output=new Uint8Array(o),e.next_out=0,e.avail_out=o),D=nn.inflate(e,$),D===da&&_&&(D=nn.inflateSetDictionary(e,_),D===ki?D=nn.inflate(e,$):D===uu&&(D=da));e.avail_in>0&&D===ca&&e.state.wrap>0&&0!==t[e.next_in];)nn.inflateReset(e),D=nn.inflate(e,$);switch(D){case jd:case uu:case da:case $d:return this.onEnd(D),this.ended=!0,!1}if(K=e.avail_out,e.next_out&&(0===e.avail_out||D===ca))if("string"===this.options.to){let me=Ii.utf8border(e.output,e.next_out),q=e.next_out-me,U=Ii.buf2string(e.output,me);e.next_out=q,e.avail_out=o-q,q&&e.output.set(e.output.subarray(me,me+q),0),this.onData(U)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(D!==ki||0!==K){if(D===ca)return D=nn.inflateEnd(this.strm),this.onEnd(D),this.ended=!0,!0;if(0===e.avail_in)break}}return!0},Ri.prototype.onData=function(t){this.chunks.push(t)},Ri.prototype.onEnd=function(t){t===ki&&(this.result="string"===this.options.to?this.chunks.join(""):is.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Vd={Inflate:Ri,inflate:fa,inflateRaw:function kd(t,r){return(r=r||{}).raw=!0,fa(t,r)},ungzip:fa,constants:xn};var of=i(18813);function lu(t){return new Date(1e3*t).toISOString().replace(/\.\d{3}/,"")}const Ni="VerifiablePresentation";const ff=new of.Validator;class Zn{static validateCredentialPayload(r){this.validateContext(r.vcDataModel["@context"]),this.validateVcType(r.type),this.validateCredentialSubject(r.vcDataModel.credentialSubject),r.vcDataModel.issuanceDate&&this.validateTimestamp(r.vcDataModel.issuanceDate),r.vcDataModel.expirationDate&&this.validateTimestamp(r.vcDataModel.expirationDate)}static validateContext(r){const e=this.asArray(r);if(e.length<1||-1===e.indexOf(ya))throw new Error(`@context is missing default context "${ya}"`)}static validateVcType(r){const e=this.asArray(r);if(e.length<1||-1===e.indexOf(Mi))throw new Error(`type is missing default "${Mi}"`)}static validateVpType(r){const e=this.asArray(r);if(e.length<1||-1===e.indexOf(Ni))throw new Error(`type is missing default "${Ni}"`)}static validateCredentialSubject(r){if(0===Object.keys(r).length)throw new Error("credentialSubject must not be empty")}static validateTimestamp(r){if(!function lf(t){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}Z$/.test(t))return!1;const e=new Date(t);return!isNaN(e.getTime())}(r)&&!function cf(t){if(!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[+-]\d{2}:\d{2})$/.test(t))return!1;const e=new Date(t);return!isNaN(e.getTime())}(r))throw new Error("timestamp is not valid xml schema 112 timestamp")}static validateCredentialSchema(r){return function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})}(this,void 0,void 0,function*(){const e=r.credentialSchema;if(!e||Array.isArray(e)&&0===e.length)throw new Error("Credential schema is missing or empty");const o=Array.isArray(e)?e[0].id:e.id;let _;try{const $=yield fetch(o);if(!$.ok)throw new Error(`HTTP error! status: ${$.status}`);_=yield $.json()}catch($){throw new Error(`Failed to fetch schema from ${o}: ${$.message}`)}const D=ff.validate(r,_);if(!D.valid)throw new Error(`Schema Validation Errors: ${JSON.stringify(D.errors)}`)})}static asArray(r){return Array.isArray(r)?r:[r]}}var ma=function(t,r,e,o){return new(e||(e=Promise))(function(D,$){function K(U){try{q(o.next(U))}catch(Ae){$(Ae)}}function me(U){try{q(o.throw(U))}catch(Ae){$(Ae)}}function q(U){U.done?D(U.value):function _(D){return D instanceof e?D:new e(function($){$(D)})}(U.value).then(K,me)}q((o=o.apply(t,r||[])).next())})};const ya="https://www.w3.org/2018/credentials/v1",Mi="VerifiableCredential";class fs{constructor(r){this.vcDataModel=r}get type(){return this.vcDataModel.type[this.vcDataModel.type.length-1]}get issuer(){return this.vcDataModel.issuer.toString()}get subject(){return Array.isArray(this.vcDataModel.credentialSubject)?this.vcDataModel.credentialSubject[0].id:this.vcDataModel.credentialSubject.id}sign(r){return ma(this,void 0,void 0,function*(){return yield Pn.sign({signerDid:r.did,payload:Object.assign({vc:this.vcDataModel,nbf:Math.floor(new Date(this.vcDataModel.issuanceDate).getTime()/1e3),jti:this.vcDataModel.id,iss:r.did.uri,sub:this.subject,iat:Math.floor(Date.now()/1e3)},this.vcDataModel.expirationDate&&{exp:Math.floor(new Date(this.vcDataModel.expirationDate).getTime()/1e3)})})})}toString(){return JSON.stringify(this.vcDataModel)}static create(r){return ma(this,void 0,void 0,function*(){const{type:e,issuer:o,subject:_,data:D,issuanceDate:$,expirationDate:K,credentialStatus:me,credentialSchema:q,evidence:U}=r,Ae=JSON.parse(JSON.stringify(D));if("object"!=typeof Ae)throw new Error("Expected data to be parseable into a JSON object");if(!o||!_)throw new Error("Issuer and subject must be defined");if("string"!=typeof o||"string"!=typeof _)throw new Error("Issuer and subject must be of type string");const Ne=Object.assign({id:_},Ae),Me=[ya];null!==me&&Me.push(du);const Ke=Object.assign(Object.assign(Object.assign(Object.assign({"@context":Me,type:Array.isArray(e)?[Mi,...e]:e?[Mi,e]:[Mi],id:`urn:uuid:${gn.Wp.randomUuid()}`,issuer:o,issuanceDate:$||(new Date).toISOString().replace(/\.\d+Z$/,"Z"),credentialSubject:Ne},K&&{expirationDate:K}),me&&{credentialStatus:me}),q&&{credentialSchema:q}),U&&{evidence:U});return ga(Ke),new fs(Ke)})}static verify(r){return ma(this,arguments,void 0,function*({vcJwt:e}){const{payload:o}=yield Pn.verify({jwt:e}),{exp:_,iss:D,nbf:$,jti:K,sub:me,vc:q}=o;if(!q)throw new Error("vc property missing.");const U=o.vc;if(_&&U.expirationDate&&_!==Math.floor(new Date(U.expirationDate).getTime()/1e3))throw new Error("Verification failed: exp claim does not match expirationDate");if(_&&(U.expirationDate=lu(_)),!D)throw new Error("Verification failed: iss claim is required");if(D!==U.issuer)throw new Error("Verification failed: iss claim does not match expected issuer");if($&&$>Math.floor(Date.now()/1e3))throw new Error("Verification failed: nbf claim is in the future");if($&&U.issuanceDate&&$!==Math.floor(new Date(U.issuanceDate).getTime()/1e3))throw new Error("Verification failed: nbf claim does not match issuanceDate");if($&&(U.issuanceDate=lu($)),me&&!Array.isArray(U.credentialSubject)&&me!==U.credentialSubject.id)throw new Error("Verification failed: sub claim does not match credentialSubject.id");if(me&&!Array.isArray(U.credentialSubject)&&(U.credentialSubject.id=me),K&&K!==U.id)throw new Error("Verification failed: jti claim does not match id");return K&&(U.id=K),ga(U),U.credentialSchema&&(yield Zn.validateCredentialSchema(U)),{issuer:o.iss,subject:o.sub,vc:U}})}static parseJwt({vcJwt:r}){const o=Pn.parse({jwt:r}).decoded.payload.vc;if(!o)throw Error("Jwt payload missing vc property");return ga(o),new fs(o)}}function ga(t){Zn.validateContext(t["@context"]),Zn.validateVcType(t.type),Zn.validateCredentialSubject(t.credentialSubject),t.issuanceDate&&Zn.validateTimestamp(t.issuanceDate),t.expirationDate&&Zn.validateTimestamp(t.expirationDate)}const du="https://w3id.org/vc/status-list/2021/v1"},35975:(Y,f,i)=>{"use strict";i.r(f),i.d(f,{customAlphabet:()=>S,customRandom:()=>A,nanoid:()=>E,random:()=>v,urlAlphabet:()=>h});let h="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",v=c=>crypto.getRandomValues(new Uint8Array(c)),A=(c,u,n)=>{let l=(2<<Math.log(c.length-1)/Math.LN2)-1,s=-~(1.6*l*u/c.length);return(a=u)=>{let m="";for(;;){let p=n(s),d=s;for(;d--;)if(m+=c[p[d]&l]||"",m.length===a)return m}}},S=(c,u=21)=>A(c,u,v),E=(c=21)=>crypto.getRandomValues(new Uint8Array(c)).reduce((u,n)=>u+((n&=63)<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n>62?"-":"_"),"")},63837:Y=>{"use strict";Y.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},72079:Y=>{"use strict";Y.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},84777:Y=>{"use strict";Y.exports={}},99600:Y=>{"use strict";Y.exports={rE:"4.3.0"}}}]);